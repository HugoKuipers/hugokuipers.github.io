(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))e(x);new MutationObserver(x=>{for(const v of x)if(v.type==="childList")for(const f of v.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&e(f)}).observe(document,{childList:!0,subtree:!0});function C(x){const v={};return x.integrity&&(v.integrity=x.integrity),x.referrerpolicy&&(v.referrerPolicy=x.referrerpolicy),x.crossorigin==="use-credentials"?v.credentials="include":x.crossorigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function e(x){if(x.ep)return;x.ep=!0;const v=C(x);fetch(x.href,v)}})();const kr=[255,0,0],$s=[200,0,0],fn=[247,52,43],Js=[153,117,112],ei=[217,33,33],os=[0,255,0],ss=[200,200,0],ti=[144,238,144],ri=[41,110,1],io=[152,208,35],ni=[65,245,25],oi=[70,125,93],si=[150,221,126],Cn=[0,0,255],Zn=[50,148,235],Rn=[163,214,251],is=[14,135,204],ii=[0,90,156],ai=[192,192,195],ao=[152,118,82],Pn=[64,224,208],Pr=[255,255,255],rr=[0,0,0],li=[15],On=[10],as=[20],ls=[55],ui=[100],ci=[120],di=[255,255,0],hi=[255,191,0],An=[255,223,0],us=[255,217,61],Qo=[255,179,0],zr=[255,150,45],fi=[255,69,0],Jn=[251,139,35],cs=[197,177,160],pi=[101,67,33],Ln=[200,0,200],mi=[100,0,100],yi=[60,0,60],ds=[177,156,217],gi=[177,156,217,155];var wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vi(N){return N&&N.__esModule&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N}function xn(N){throw new Error('Could not dynamically require "'+N+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hs={exports:{}};/*! p5.js v1.4.2 July 21, 2022 */(function(N,y){(function(C){N.exports=C()})(function(){var C;return function e(x,v,f){function o(d,u){if(!v[d]){if(!x[d]){var n=typeof xn=="function"&&xn;if(!u&&n)return n(d,!0);if(h)return h(d,!0);var t=new Error("Cannot find module '"+d+"'");throw t.code="MODULE_NOT_FOUND",t}var r=v[d]={exports:{}};x[d][0].call(r.exports,function(s){return o(x[d][1][s]||s)},r,r.exports,e,x,v,f)}return v[d].exports}for(var h=typeof xn=="function"&&xn,l=0;l<f.length;l++)o(f[l]);return o}({1:[function(e,x,v){v.byteLength=function(r){var s=n(r),i=s[0],c=s[1];return 3*(i+c)/4-c},v.toByteArray=function(r){var s,i,c=n(r),m=c[0],g=c[1],w=new h(function(T,L){return 3*(T+L)/4-L}(m,g)),S=0,j=0<g?m-4:m;for(i=0;i<j;i+=4)s=o[r.charCodeAt(i)]<<18|o[r.charCodeAt(i+1)]<<12|o[r.charCodeAt(i+2)]<<6|o[r.charCodeAt(i+3)],w[S++]=s>>16&255,w[S++]=s>>8&255,w[S++]=255&s;return g===2&&(s=o[r.charCodeAt(i)]<<2|o[r.charCodeAt(i+1)]>>4,w[S++]=255&s),g===1&&(s=o[r.charCodeAt(i)]<<10|o[r.charCodeAt(i+1)]<<4|o[r.charCodeAt(i+2)]>>2,w[S++]=s>>8&255,w[S++]=255&s),w},v.fromByteArray=function(r){for(var s,i=r.length,c=i%3,m=[],g=0,w=i-c;g<w;g+=16383)m.push(t(r,g,w<g+16383?w:g+16383));return c==1?(s=r[i-1],m.push(f[s>>2]+f[s<<4&63]+"==")):c==2&&(s=(r[i-2]<<8)+r[i-1],m.push(f[s>>10]+f[s>>4&63]+f[s<<2&63]+"=")),m.join("")};for(var f=[],o=[],h=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,u=l.length;d<u;++d)f[d]=l[d],o[l.charCodeAt(d)]=d;function n(r){var s=r.length;if(0<s%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=r.indexOf("=");return i===-1&&(i=s),[i,i===s?0:4-i%4]}function t(r,s,i){for(var c,m,g=[],w=s;w<i;w+=3)c=(r[w]<<16&16711680)+(r[w+1]<<8&65280)+(255&r[w+2]),g.push(f[(m=c)>>18&63]+f[m>>12&63]+f[m>>6&63]+f[63&m]);return g.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(e,x,v){},{}],3:[function(e,x,v){arguments[4][2][0].apply(v,arguments)},{dup:2}],4:[function(e,x,v){(function(n){var o=e("base64-js"),h=e("ieee754"),l=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;v.Buffer=n,v.SlowBuffer=function(k){return+k!=k&&(k=0),n.alloc(+k)},v.INSPECT_MAX_BYTES=50;var d=2147483647;function u(k){if(d<k)throw new RangeError('The value "'+k+'" is invalid for option "size"');var F=new Uint8Array(k);return Object.setPrototypeOf(F,n.prototype),F}function n(k,F,H){if(typeof k!="number")return t(k,F,H);if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return s(k)}function t(k,F,H){if(typeof k=="string")return function($,xe){if(typeof xe=="string"&&xe!==""||(xe="utf8"),!n.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);var ee=0|m($,xe),ge=u(ee),fe=ge.write($,xe);return fe!==ee&&(ge=ge.slice(0,fe)),ge}(k,F);if(ArrayBuffer.isView(k))return i(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(Re(k,ArrayBuffer)||k&&Re(k.buffer,ArrayBuffer))return function($,xe,ee){if(xe<0||$.byteLength<xe)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<xe+(ee||0))throw new RangeError('"length" is outside of buffer bounds');var ge;return ge=xe===void 0&&ee===void 0?new Uint8Array($):ee===void 0?new Uint8Array($,xe):new Uint8Array($,xe,ee),Object.setPrototypeOf(ge,n.prototype),ge}(k,F,H);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=k.valueOf&&k.valueOf();if(Z!=null&&Z!==k)return n.from(Z,F,H);var oe=function($){if(n.isBuffer($)){var xe=0|c($.length),ee=u(xe);return ee.length===0||$.copy(ee,0,0,xe),ee}if($.length!==void 0)return typeof $.length!="number"||ve($.length)?u(0):i($);if($.type==="Buffer"&&Array.isArray($.data))return i($.data)}(k);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return n.from(k[Symbol.toPrimitive]("string"),F,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}function r(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function s(k){return r(k),u(k<0?0:0|c(k))}function i(k){for(var F=k.length<0?0:0|c(k.length),H=u(F),Z=0;Z<F;Z+=1)H[Z]=255&k[Z];return H}function c(k){if(d<=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|k}function m(k,F){if(n.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||Re(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);var H=k.length,Z=2<arguments.length&&arguments[2]===!0;if(!Z&&H===0)return 0;for(var oe=!1;;)switch(F){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return me(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return _e(k).length;default:if(oe)return Z?-1:me(k).length;F=(""+F).toLowerCase(),oe=!0}}function g(k,F,H){var Z=k[F];k[F]=k[H],k[H]=Z}function w(k,F,H,Z,oe){if(k.length===0)return-1;if(typeof H=="string"?(Z=H,H=0):2147483647<H?H=2147483647:H<-2147483648&&(H=-2147483648),ve(H=+H)&&(H=oe?0:k.length-1),H<0&&(H=k.length+H),H>=k.length){if(oe)return-1;H=k.length-1}else if(H<0){if(!oe)return-1;H=0}if(typeof F=="string"&&(F=n.from(F,Z)),n.isBuffer(F))return F.length===0?-1:S(k,F,H,Z,oe);if(typeof F=="number")return F&=255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(k,F,H):Uint8Array.prototype.lastIndexOf.call(k,F,H):S(k,[F],H,Z,oe);throw new TypeError("val must be string, number or Buffer")}function S(k,F,H,Z,oe){var $,xe=1,ee=k.length,ge=F.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(k.length<2||F.length<2)return-1;ee/=xe=2,ge/=2,H/=2}function fe(je,Ge){return xe===1?je[Ge]:je.readUInt16BE(Ge*xe)}if(oe){var le=-1;for($=H;$<ee;$++)if(fe(k,$)===fe(F,le===-1?0:$-le)){if(le===-1&&(le=$),$-le+1===ge)return le*xe}else le!==-1&&($-=$-le),le=-1}else for(ee<H+ge&&(H=ee-ge),$=H;0<=$;$--){for(var Me=!0,Ce=0;Ce<ge;Ce++)if(fe(k,$+Ce)!==fe(F,Ce)){Me=!1;break}if(Me)return $}return-1}function j(k,F,H,Z){H=Number(H)||0;var oe=k.length-H;Z?oe<(Z=Number(Z))&&(Z=oe):Z=oe;var $=F.length;$/2<Z&&(Z=$/2);for(var xe=0;xe<Z;++xe){var ee=parseInt(F.substr(2*xe,2),16);if(ve(ee))return xe;k[H+xe]=ee}return xe}function T(k,F,H,Z){return he(function(oe){for(var $=[],xe=0;xe<oe.length;++xe)$.push(255&oe.charCodeAt(xe));return $}(F),k,H,Z)}function L(k,F,H,Z){return he(function(oe,$){for(var xe,ee,ge,fe=[],le=0;le<oe.length&&!(($-=2)<0);++le)xe=oe.charCodeAt(le),ee=xe>>8,ge=xe%256,fe.push(ge),fe.push(ee);return fe}(F,k.length-H),k,H,Z)}function D(k,F,H){return F===0&&H===k.length?o.fromByteArray(k):o.fromByteArray(k.slice(F,H))}function R(k,F,H){H=Math.min(k.length,H);for(var Z=[],oe=F;oe<H;){var $,xe,ee,ge,fe=k[oe],le=null,Me=239<fe?4:223<fe?3:191<fe?2:1;if(oe+Me<=H)switch(Me){case 1:fe<128&&(le=fe);break;case 2:(192&($=k[oe+1]))==128&&127<(ge=(31&fe)<<6|63&$)&&(le=ge);break;case 3:$=k[oe+1],xe=k[oe+2],(192&$)==128&&(192&xe)==128&&2047<(ge=(15&fe)<<12|(63&$)<<6|63&xe)&&(ge<55296||57343<ge)&&(le=ge);break;case 4:$=k[oe+1],xe=k[oe+2],ee=k[oe+3],(192&$)==128&&(192&xe)==128&&(192&ee)==128&&65535<(ge=(15&fe)<<18|(63&$)<<12|(63&xe)<<6|63&ee)&&ge<1114112&&(le=ge)}le===null?(le=65533,Me=1):65535<le&&(le-=65536,Z.push(le>>>10&1023|55296),le=56320|1023&le),Z.push(le),oe+=Me}return function(Ce){var je=Ce.length;if(je<=O)return String.fromCharCode.apply(String,Ce);for(var Ge="",Qe=0;Qe<je;)Ge+=String.fromCharCode.apply(String,Ce.slice(Qe,Qe+=O));return Ge}(Z)}v.kMaxLength=d,(n.TYPED_ARRAY_SUPPORT=function(){try{var k=new Uint8Array(1),F={foo:function(){return 42}};return Object.setPrototypeOf(F,Uint8Array.prototype),Object.setPrototypeOf(k,F),k.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=function(k,F,H){return t(k,F,H)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(k,F,H){return oe=F,$=H,r(Z=k),Z<=0?u(Z):oe!==void 0?typeof $=="string"?u(Z).fill(oe,$):u(Z).fill(oe):u(Z);var Z,oe,$},n.allocUnsafe=function(k){return s(k)},n.allocUnsafeSlow=function(k){return s(k)},n.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==n.prototype},n.compare=function(k,F){if(Re(k,Uint8Array)&&(k=n.from(k,k.offset,k.byteLength)),Re(F,Uint8Array)&&(F=n.from(F,F.offset,F.byteLength)),!n.isBuffer(k)||!n.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===F)return 0;for(var H=k.length,Z=F.length,oe=0,$=Math.min(H,Z);oe<$;++oe)if(k[oe]!==F[oe]){H=k[oe],Z=F[oe];break}return H<Z?-1:Z<H?1:0},n.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(k,F){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return n.alloc(0);var H;if(F===void 0)for(H=F=0;H<k.length;++H)F+=k[H].length;var Z=n.allocUnsafe(F),oe=0;for(H=0;H<k.length;++H){var $=k[H];if(Re($,Uint8Array)&&($=n.from($)),!n.isBuffer($))throw new TypeError('"list" argument must be an Array of Buffers');$.copy(Z,oe),oe+=$.length}return Z},n.byteLength=m,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<k;F+=2)g(this,F,F+1);return this},n.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<k;F+=4)g(this,F,F+3),g(this,F+1,F+2);return this},n.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<k;F+=8)g(this,F,F+7),g(this,F+1,F+6),g(this,F+2,F+5),g(this,F+3,F+4);return this},n.prototype.toLocaleString=n.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?R(this,0,k):function(F,H,Z){var oe=!1;if((H===void 0||H<0)&&(H=0),H>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(H>>>=0))return"";for(F=F||"utf8";;)switch(F){case"hex":return G(this,H,Z);case"utf8":case"utf-8":return R(this,H,Z);case"ascii":return U(this,H,Z);case"latin1":case"binary":return P(this,H,Z);case"base64":return D(this,H,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,H,Z);default:if(oe)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),oe=!0}}.apply(this,arguments)},n.prototype.equals=function(k){if(!n.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||n.compare(this,k)===0},n.prototype.inspect=function(){var k="",F=v.INSPECT_MAX_BYTES;return k=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(k+=" ... "),"<Buffer "+k+">"},l&&(n.prototype[l]=n.prototype.inspect),n.prototype.compare=function(k,F,H,Z,oe){if(Re(k,Uint8Array)&&(k=n.from(k,k.offset,k.byteLength)),!n.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(F===void 0&&(F=0),H===void 0&&(H=k?k.length:0),Z===void 0&&(Z=0),oe===void 0&&(oe=this.length),F<0||H>k.length||Z<0||oe>this.length)throw new RangeError("out of range index");if(oe<=Z&&H<=F)return 0;if(oe<=Z)return-1;if(H<=F)return 1;if(this===k)return 0;for(var $=(oe>>>=0)-(Z>>>=0),xe=(H>>>=0)-(F>>>=0),ee=Math.min($,xe),ge=this.slice(Z,oe),fe=k.slice(F,H),le=0;le<ee;++le)if(ge[le]!==fe[le]){$=ge[le],xe=fe[le];break}return $<xe?-1:xe<$?1:0},n.prototype.includes=function(k,F,H){return this.indexOf(k,F,H)!==-1},n.prototype.indexOf=function(k,F,H){return w(this,k,F,H,!0)},n.prototype.lastIndexOf=function(k,F,H){return w(this,k,F,H,!1)},n.prototype.write=function(k,F,H,Z){if(F===void 0)Z="utf8",H=this.length,F=0;else if(H===void 0&&typeof F=="string")Z=F,H=this.length,F=0;else{if(!isFinite(F))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");F>>>=0,isFinite(H)?(H>>>=0,Z===void 0&&(Z="utf8")):(Z=H,H=void 0)}var oe=this.length-F;if((H===void 0||oe<H)&&(H=oe),0<k.length&&(H<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z=Z||"utf8";for(var $,xe,ee,ge,fe,le,Me=!1;;)switch(Z){case"hex":return j(this,k,F,H);case"utf8":case"utf-8":return fe=F,le=H,he(me(k,(ge=this).length-fe),ge,fe,le);case"ascii":return T(this,k,F,H);case"latin1":case"binary":return T(this,k,F,H);case"base64":return $=this,xe=F,ee=H,he(_e(k),$,xe,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,k,F,H);default:if(Me)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),Me=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function U(k,F,H){var Z="";H=Math.min(k.length,H);for(var oe=F;oe<H;++oe)Z+=String.fromCharCode(127&k[oe]);return Z}function P(k,F,H){var Z="";H=Math.min(k.length,H);for(var oe=F;oe<H;++oe)Z+=String.fromCharCode(k[oe]);return Z}function G(k,F,H){var Z=k.length;(!F||F<0)&&(F=0),(!H||H<0||Z<H)&&(H=Z);for(var oe="",$=F;$<H;++$)oe+=ye[k[$]];return oe}function V(k,F,H){for(var Z=k.slice(F,H),oe="",$=0;$<Z.length;$+=2)oe+=String.fromCharCode(Z[$]+256*Z[$+1]);return oe}function te(k,F,H){if(k%1!=0||k<0)throw new RangeError("offset is not uint");if(H<k+F)throw new RangeError("Trying to access beyond buffer length")}function ne(k,F,H,Z,oe,$){if(!n.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe<F||F<$)throw new RangeError('"value" argument is out of bounds');if(H+Z>k.length)throw new RangeError("Index out of range")}function K(k,F,H,Z){if(H+Z>k.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function se(k,F,H,Z,oe){return F=+F,H>>>=0,oe||K(k,0,H,4),h.write(k,F,H,Z,23,4),H+4}function J(k,F,H,Z,oe){return F=+F,H>>>=0,oe||K(k,0,H,8),h.write(k,F,H,Z,52,8),H+8}n.prototype.slice=function(k,F){var H=this.length;(k=~~k)<0?(k+=H)<0&&(k=0):H<k&&(k=H),(F=F===void 0?H:~~F)<0?(F+=H)<0&&(F=0):H<F&&(F=H),F<k&&(F=k);var Z=this.subarray(k,F);return Object.setPrototypeOf(Z,n.prototype),Z},n.prototype.readUIntLE=function(k,F,H){k>>>=0,F>>>=0,H||te(k,F,this.length);for(var Z=this[k],oe=1,$=0;++$<F&&(oe*=256);)Z+=this[k+$]*oe;return Z},n.prototype.readUIntBE=function(k,F,H){k>>>=0,F>>>=0,H||te(k,F,this.length);for(var Z=this[k+--F],oe=1;0<F&&(oe*=256);)Z+=this[k+--F]*oe;return Z},n.prototype.readUInt8=function(k,F){return k>>>=0,F||te(k,1,this.length),this[k]},n.prototype.readUInt16LE=function(k,F){return k>>>=0,F||te(k,2,this.length),this[k]|this[k+1]<<8},n.prototype.readUInt16BE=function(k,F){return k>>>=0,F||te(k,2,this.length),this[k]<<8|this[k+1]},n.prototype.readUInt32LE=function(k,F){return k>>>=0,F||te(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},n.prototype.readUInt32BE=function(k,F){return k>>>=0,F||te(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},n.prototype.readIntLE=function(k,F,H){k>>>=0,F>>>=0,H||te(k,F,this.length);for(var Z=this[k],oe=1,$=0;++$<F&&(oe*=256);)Z+=this[k+$]*oe;return(oe*=128)<=Z&&(Z-=Math.pow(2,8*F)),Z},n.prototype.readIntBE=function(k,F,H){k>>>=0,F>>>=0,H||te(k,F,this.length);for(var Z=F,oe=1,$=this[k+--Z];0<Z&&(oe*=256);)$+=this[k+--Z]*oe;return(oe*=128)<=$&&($-=Math.pow(2,8*F)),$},n.prototype.readInt8=function(k,F){return k>>>=0,F||te(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},n.prototype.readInt16LE=function(k,F){k>>>=0,F||te(k,2,this.length);var H=this[k]|this[k+1]<<8;return 32768&H?4294901760|H:H},n.prototype.readInt16BE=function(k,F){k>>>=0,F||te(k,2,this.length);var H=this[k+1]|this[k]<<8;return 32768&H?4294901760|H:H},n.prototype.readInt32LE=function(k,F){return k>>>=0,F||te(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},n.prototype.readInt32BE=function(k,F){return k>>>=0,F||te(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},n.prototype.readFloatLE=function(k,F){return k>>>=0,F||te(k,4,this.length),h.read(this,k,!0,23,4)},n.prototype.readFloatBE=function(k,F){return k>>>=0,F||te(k,4,this.length),h.read(this,k,!1,23,4)},n.prototype.readDoubleLE=function(k,F){return k>>>=0,F||te(k,8,this.length),h.read(this,k,!0,52,8)},n.prototype.readDoubleBE=function(k,F){return k>>>=0,F||te(k,8,this.length),h.read(this,k,!1,52,8)},n.prototype.writeUIntLE=function(k,F,H,Z){k=+k,F>>>=0,H>>>=0,Z||ne(this,k,F,H,Math.pow(2,8*H)-1,0);var oe=1,$=0;for(this[F]=255&k;++$<H&&(oe*=256);)this[F+$]=k/oe&255;return F+H},n.prototype.writeUIntBE=function(k,F,H,Z){k=+k,F>>>=0,H>>>=0,Z||ne(this,k,F,H,Math.pow(2,8*H)-1,0);var oe=H-1,$=1;for(this[F+oe]=255&k;0<=--oe&&($*=256);)this[F+oe]=k/$&255;return F+H},n.prototype.writeUInt8=function(k,F,H){return k=+k,F>>>=0,H||ne(this,k,F,1,255,0),this[F]=255&k,F+1},n.prototype.writeUInt16LE=function(k,F,H){return k=+k,F>>>=0,H||ne(this,k,F,2,65535,0),this[F]=255&k,this[F+1]=k>>>8,F+2},n.prototype.writeUInt16BE=function(k,F,H){return k=+k,F>>>=0,H||ne(this,k,F,2,65535,0),this[F]=k>>>8,this[F+1]=255&k,F+2},n.prototype.writeUInt32LE=function(k,F,H){return k=+k,F>>>=0,H||ne(this,k,F,4,4294967295,0),this[F+3]=k>>>24,this[F+2]=k>>>16,this[F+1]=k>>>8,this[F]=255&k,F+4},n.prototype.writeUInt32BE=function(k,F,H){return k=+k,F>>>=0,H||ne(this,k,F,4,4294967295,0),this[F]=k>>>24,this[F+1]=k>>>16,this[F+2]=k>>>8,this[F+3]=255&k,F+4},n.prototype.writeIntLE=function(k,F,H,Z){if(k=+k,F>>>=0,!Z){var oe=Math.pow(2,8*H-1);ne(this,k,F,H,oe-1,-oe)}var $=0,xe=1,ee=0;for(this[F]=255&k;++$<H&&(xe*=256);)k<0&&ee===0&&this[F+$-1]!==0&&(ee=1),this[F+$]=(k/xe>>0)-ee&255;return F+H},n.prototype.writeIntBE=function(k,F,H,Z){if(k=+k,F>>>=0,!Z){var oe=Math.pow(2,8*H-1);ne(this,k,F,H,oe-1,-oe)}var $=H-1,xe=1,ee=0;for(this[F+$]=255&k;0<=--$&&(xe*=256);)k<0&&ee===0&&this[F+$+1]!==0&&(ee=1),this[F+$]=(k/xe>>0)-ee&255;return F+H},n.prototype.writeInt8=function(k,F,H){return k=+k,F>>>=0,H||ne(this,k,F,1,127,-128),k<0&&(k=255+k+1),this[F]=255&k,F+1},n.prototype.writeInt16LE=function(k,F,H){return k=+k,F>>>=0,H||ne(this,k,F,2,32767,-32768),this[F]=255&k,this[F+1]=k>>>8,F+2},n.prototype.writeInt16BE=function(k,F,H){return k=+k,F>>>=0,H||ne(this,k,F,2,32767,-32768),this[F]=k>>>8,this[F+1]=255&k,F+2},n.prototype.writeInt32LE=function(k,F,H){return k=+k,F>>>=0,H||ne(this,k,F,4,2147483647,-2147483648),this[F]=255&k,this[F+1]=k>>>8,this[F+2]=k>>>16,this[F+3]=k>>>24,F+4},n.prototype.writeInt32BE=function(k,F,H){return k=+k,F>>>=0,H||ne(this,k,F,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[F]=k>>>24,this[F+1]=k>>>16,this[F+2]=k>>>8,this[F+3]=255&k,F+4},n.prototype.writeFloatLE=function(k,F,H){return se(this,k,F,!0,H)},n.prototype.writeFloatBE=function(k,F,H){return se(this,k,F,!1,H)},n.prototype.writeDoubleLE=function(k,F,H){return J(this,k,F,!0,H)},n.prototype.writeDoubleBE=function(k,F,H){return J(this,k,F,!1,H)},n.prototype.copy=function(k,F,H,Z){if(!n.isBuffer(k))throw new TypeError("argument should be a Buffer");if(H=H||0,Z||Z===0||(Z=this.length),F>=k.length&&(F=k.length),F=F||0,0<Z&&Z<H&&(Z=H),Z===H||k.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),k.length-F<Z-H&&(Z=k.length-F+H);var oe=Z-H;if(this===k&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(F,H,Z);else if(this===k&&H<F&&F<Z)for(var $=oe-1;0<=$;--$)k[$+F]=this[$+H];else Uint8Array.prototype.set.call(k,this.subarray(H,Z),F);return oe},n.prototype.fill=function(k,F,H,Z){if(typeof k=="string"){if(typeof F=="string"?(Z=F,F=0,H=this.length):typeof H=="string"&&(Z=H,H=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!n.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(k.length===1){var oe=k.charCodeAt(0);(Z==="utf8"&&oe<128||Z==="latin1")&&(k=oe)}}else typeof k=="number"?k&=255:typeof k=="boolean"&&(k=Number(k));if(F<0||this.length<F||this.length<H)throw new RangeError("Out of range index");if(H<=F)return this;var $;if(F>>>=0,H=H===void 0?this.length:H>>>0,typeof(k=k||0)=="number")for($=F;$<H;++$)this[$]=k;else{var xe=n.isBuffer(k)?k:n.from(k,Z),ee=xe.length;if(ee===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for($=0;$<H-F;++$)this[$+F]=xe[$%ee]}return this};var ue=/[^+/0-9A-Za-z-_]/g;function me(k,F){var H;F=F||1/0;for(var Z=k.length,oe=null,$=[],xe=0;xe<Z;++xe){if(55295<(H=k.charCodeAt(xe))&&H<57344){if(!oe){if(56319<H){-1<(F-=3)&&$.push(239,191,189);continue}if(xe+1===Z){-1<(F-=3)&&$.push(239,191,189);continue}oe=H;continue}if(H<56320){-1<(F-=3)&&$.push(239,191,189),oe=H;continue}H=65536+(oe-55296<<10|H-56320)}else oe&&-1<(F-=3)&&$.push(239,191,189);if(oe=null,H<128){if(--F<0)break;$.push(H)}else if(H<2048){if((F-=2)<0)break;$.push(H>>6|192,63&H|128)}else if(H<65536){if((F-=3)<0)break;$.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((F-=4)<0)break;$.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return $}function _e(k){return o.toByteArray(function(F){if((F=(F=F.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(k))}function he(k,F,H,Z){for(var oe=0;oe<Z&&!(oe+H>=F.length||oe>=k.length);++oe)F[oe+H]=k[oe];return oe}function Re(k,F){return k instanceof F||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===F.name}function ve(k){return k!=k}var ye=function(){for(var k="0123456789abcdef",F=new Array(256),H=0;H<16;++H)for(var Z=16*H,oe=0;oe<16;++oe)F[Z+oe]=k[H]+k[oe];return F}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:236}],5:[function(e,x,v){x.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}},{}],6:[function(e,x,v){var f=e("../internals/is-object");x.exports=function(o){if(!f(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype");return o}},{"../internals/is-object":74}],7:[function(e,x,v){var f=e("../internals/well-known-symbol"),o=e("../internals/object-create"),h=e("../internals/object-define-property"),l=f("unscopables"),d=Array.prototype;d[l]==null&&h.f(d,l,{configurable:!0,value:o(null)}),x.exports=function(u){d[l][u]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(e,x,v){var f=e("../internals/string-multibyte").charAt;x.exports=function(o,h,l){return h+(l?f(o,h).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,x,v){x.exports=function(f,o,h){if(!(f instanceof o))throw TypeError("Incorrect "+(h?h+" ":"")+"invocation");return f}},{}],10:[function(e,x,v){var f=e("../internals/is-object");x.exports=function(o){if(!f(o))throw TypeError(String(o)+" is not an object");return o}},{"../internals/is-object":74}],11:[function(e,x,v){x.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(e,x,v){function f(K){return u(K)&&n(ne,t(K))}var o,h=e("../internals/array-buffer-native"),l=e("../internals/descriptors"),d=e("../internals/global"),u=e("../internals/is-object"),n=e("../internals/has"),t=e("../internals/classof"),r=e("../internals/create-non-enumerable-property"),s=e("../internals/redefine"),i=e("../internals/object-define-property").f,c=e("../internals/object-get-prototype-of"),m=e("../internals/object-set-prototype-of"),g=e("../internals/well-known-symbol"),w=e("../internals/uid"),S=d.Int8Array,j=S&&S.prototype,T=d.Uint8ClampedArray,L=T&&T.prototype,D=S&&c(S),R=j&&c(j),O=Object.prototype,U=O.isPrototypeOf,P=g("toStringTag"),G=w("TYPED_ARRAY_TAG"),V=h&&!!m&&t(d.opera)!=="Opera",te=!1,ne={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(o in ne)d[o]||(V=!1);if((!V||typeof D!="function"||D===Function.prototype)&&(D=function(){throw TypeError("Incorrect invocation")},V))for(o in ne)d[o]&&m(d[o],D);if((!V||!R||R===O)&&(R=D.prototype,V))for(o in ne)d[o]&&m(d[o].prototype,R);if(V&&c(L)!==R&&m(L,R),l&&!n(R,P))for(o in te=!0,i(R,P,{get:function(){return u(this)?this[G]:void 0}}),ne)d[o]&&r(d[o],G,o);x.exports={NATIVE_ARRAY_BUFFER_VIEWS:V,TYPED_ARRAY_TAG:te&&G,aTypedArray:function(K){if(f(K))return K;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(K){if(m){if(U.call(D,K))return K}else for(var se in ne)if(n(ne,o)){var J=d[se];if(J&&(K===J||U.call(J,K)))return K}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(K,se,J){if(l){if(J)for(var ue in ne){var me=d[ue];me&&n(me.prototype,K)&&delete me.prototype[K]}R[K]&&!J||s(R,K,J?se:V&&j[K]||se)}},exportTypedArrayStaticMethod:function(K,se,J){var ue,me;if(l){if(m){if(J)for(ue in ne)(me=d[ue])&&n(me,K)&&delete me[K];if(D[K]&&!J)return;try{return s(D,K,J?se:V&&S[K]||se)}catch{}}for(ue in ne)!(me=d[ue])||me[K]&&!J||s(me,K,se)}},isView:function(K){var se=t(K);return se==="DataView"||n(ne,se)},isTypedArray:f,TypedArray:D,TypedArrayPrototype:R}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(e,x,v){function f(fe){return[255&fe]}function o(fe){return[255&fe,fe>>8&255]}function h(fe){return[255&fe,fe>>8&255,fe>>16&255,fe>>24&255]}function l(fe){return fe[3]<<24|fe[2]<<16|fe[1]<<8|fe[0]}function d(fe){return F(fe,23,4)}function u(fe){return F(fe,52,8)}function n(fe,le){P(fe[ue],le,{get:function(){return ne(this)[le]}})}function t(fe,le,Me,Ce){var je=L(Me),Ge=ne(fe);if(je+le>Ge.byteLength)throw k(me);var Qe=ne(Ge.buffer).bytes,Ye=je+Ge.byteOffset,Be=Qe.slice(Ye,Ye+le);return Ce?Be:Be.reverse()}function r(fe,le,Me,Ce,je,Ge){var Qe=L(Me),Ye=ne(fe);if(Qe+le>Ye.byteLength)throw k(me);for(var Be=ne(Ye.buffer).bytes,ut=Qe+Ye.byteOffset,Oe=Ce(+je),Pe=0;Pe<le;Pe++)Be[ut+Pe]=Oe[Ge?Pe:le-Pe-1]}var s=e("../internals/global"),i=e("../internals/descriptors"),c=e("../internals/array-buffer-native"),m=e("../internals/create-non-enumerable-property"),g=e("../internals/redefine-all"),w=e("../internals/fails"),S=e("../internals/an-instance"),j=e("../internals/to-integer"),T=e("../internals/to-length"),L=e("../internals/to-index"),D=e("../internals/ieee754"),R=e("../internals/object-get-prototype-of"),O=e("../internals/object-set-prototype-of"),U=e("../internals/object-get-own-property-names").f,P=e("../internals/object-define-property").f,G=e("../internals/array-fill"),V=e("../internals/set-to-string-tag"),te=e("../internals/internal-state"),ne=te.get,K=te.set,se="ArrayBuffer",J="DataView",ue="prototype",me="Wrong index",_e=s[se],he=_e,Re=s[J],ve=Re&&Re[ue],ye=Object.prototype,k=s.RangeError,F=D.pack,H=D.unpack;if(c){if(!w(function(){_e(1)})||!w(function(){new _e(-1)})||w(function(){return new _e,new _e(1.5),new _e(NaN),_e.name!=se})){for(var Z,oe=(he=function(fe){return S(this,he),new _e(L(fe))})[ue]=_e[ue],$=U(_e),xe=0;$.length>xe;)(Z=$[xe++])in he||m(he,Z,_e[Z]);oe.constructor=he}O&&R(ve)!==ye&&O(ve,ye);var ee=new Re(new he(2)),ge=ve.setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||g(ve,{setInt8:function(fe,le){ge.call(this,fe,le<<24>>24)},setUint8:function(fe,le){ge.call(this,fe,le<<24>>24)}},{unsafe:!0})}else he=function(fe){S(this,he,se);var le=L(fe);K(this,{bytes:G.call(new Array(le),0),byteLength:le}),i||(this.byteLength=le)},Re=function(fe,le,Me){S(this,Re,J),S(fe,he,J);var Ce=ne(fe).byteLength,je=j(le);if(je<0||Ce<je)throw k("Wrong offset");if(Ce<je+(Me=Me===void 0?Ce-je:T(Me)))throw k("Wrong length");K(this,{buffer:fe,byteLength:Me,byteOffset:je}),i||(this.buffer=fe,this.byteLength=Me,this.byteOffset=je)},i&&(n(he,"byteLength"),n(Re,"buffer"),n(Re,"byteLength"),n(Re,"byteOffset")),g(Re[ue],{getInt8:function(fe){return t(this,1,fe)[0]<<24>>24},getUint8:function(fe){return t(this,1,fe)[0]},getInt16:function(fe,le){var Me=t(this,2,fe,1<arguments.length?le:void 0);return(Me[1]<<8|Me[0])<<16>>16},getUint16:function(fe,le){var Me=t(this,2,fe,1<arguments.length?le:void 0);return Me[1]<<8|Me[0]},getInt32:function(fe,le){return l(t(this,4,fe,1<arguments.length?le:void 0))},getUint32:function(fe,le){return l(t(this,4,fe,1<arguments.length?le:void 0))>>>0},getFloat32:function(fe,le){return H(t(this,4,fe,1<arguments.length?le:void 0),23)},getFloat64:function(fe,le){return H(t(this,8,fe,1<arguments.length?le:void 0),52)},setInt8:function(fe,le){r(this,1,fe,f,le)},setUint8:function(fe,le){r(this,1,fe,f,le)},setInt16:function(fe,le,Me){r(this,2,fe,o,le,2<arguments.length?Me:void 0)},setUint16:function(fe,le,Me){r(this,2,fe,o,le,2<arguments.length?Me:void 0)},setInt32:function(fe,le,Me){r(this,4,fe,h,le,2<arguments.length?Me:void 0)},setUint32:function(fe,le,Me){r(this,4,fe,h,le,2<arguments.length?Me:void 0)},setFloat32:function(fe,le,Me){r(this,4,fe,d,le,2<arguments.length?Me:void 0)},setFloat64:function(fe,le,Me){r(this,8,fe,u,le,2<arguments.length?Me:void 0)}});V(he,se),V(Re,J),x.exports={ArrayBuffer:he,DataView:Re}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(e,x,v){var f=e("../internals/to-object"),o=e("../internals/to-absolute-index"),h=e("../internals/to-length"),l=Math.min;x.exports=[].copyWithin||function(d,u,n){var t=f(this),r=h(t.length),s=o(d,r),i=o(u,r),c=2<arguments.length?n:void 0,m=l((c===void 0?r:o(c,r))-i,r-s),g=1;for(i<s&&s<i+m&&(g=-1,i+=m-1,s+=m-1);0<m--;)i in t?t[s]=t[i]:delete t[s],s+=g,i+=g;return t}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(e,x,v){var f=e("../internals/to-object"),o=e("../internals/to-absolute-index"),h=e("../internals/to-length");x.exports=function(l,d,u){for(var n=f(this),t=h(n.length),r=arguments.length,s=o(1<r?d:void 0,t),i=2<r?u:void 0,c=i===void 0?t:o(i,t);s<c;)n[s++]=l;return n}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(e,x,v){var f=e("../internals/array-iteration").forEach,o=e("../internals/array-method-is-strict"),h=e("../internals/array-method-uses-to-length"),l=o("forEach"),d=h("forEach");x.exports=l&&d?[].forEach:function(u,n){return f(this,u,1<arguments.length?n:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,x,v){var f=e("../internals/function-bind-context"),o=e("../internals/to-object"),h=e("../internals/call-with-safe-iteration-closing"),l=e("../internals/is-array-iterator-method"),d=e("../internals/to-length"),u=e("../internals/create-property"),n=e("../internals/get-iterator-method");x.exports=function(t,r,s){var i,c,m,g,w,S,j=o(t),T=typeof this=="function"?this:Array,L=arguments.length,D=1<L?r:void 0,R=D!==void 0,O=n(j),U=0;if(R&&(D=f(D,2<L?s:void 0,2)),O==null||T==Array&&l(O))for(c=new T(i=d(j.length));U<i;U++)S=R?D(j[U],U):j[U],u(c,U,S);else for(w=(g=O.call(j)).next,c=new T;!(m=w.call(g)).done;U++)S=R?h(g,D,[m.value,U],!0):m.value,u(c,U,S);return c.length=U,c}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(e,x,v){function f(d){return function(u,n,t){var r,s=o(u),i=h(s.length),c=l(t,i);if(d&&n!=n){for(;c<i;)if((r=s[c++])!=r)return!0}else for(;c<i;c++)if((d||c in s)&&s[c]===n)return d||c||0;return!d&&-1}}var o=e("../internals/to-indexed-object"),h=e("../internals/to-length"),l=e("../internals/to-absolute-index");x.exports={includes:f(!0),indexOf:f(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(e,x,v){function f(t){var r=t==1,s=t==2,i=t==3,c=t==4,m=t==6,g=t==5||m;return function(w,S,j,T){for(var L,D,R=l(w),O=h(R),U=o(S,j,3),P=d(O.length),G=0,V=T||u,te=r?V(w,P):s?V(w,0):void 0;G<P;G++)if((g||G in O)&&(D=U(L=O[G],G,R),t)){if(r)te[G]=D;else if(D)switch(t){case 3:return!0;case 5:return L;case 6:return G;case 2:n.call(te,L)}else if(c)return!1}return m?-1:i||c?c:te}}var o=e("../internals/function-bind-context"),h=e("../internals/indexed-object"),l=e("../internals/to-object"),d=e("../internals/to-length"),u=e("../internals/array-species-create"),n=[].push;x.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(e,x,v){var f=e("../internals/to-indexed-object"),o=e("../internals/to-integer"),h=e("../internals/to-length"),l=e("../internals/array-method-is-strict"),d=e("../internals/array-method-uses-to-length"),u=Math.min,n=[].lastIndexOf,t=!!n&&1/[1].lastIndexOf(1,-0)<0,r=l("lastIndexOf"),s=d("indexOf",{ACCESSORS:!0,1:0}),i=t||!r||!s;x.exports=i?function(c,m){if(t)return n.apply(this,arguments)||0;var g=f(this),w=h(g.length),S=w-1;for(1<arguments.length&&(S=u(S,o(m))),S<0&&(S=w+S);0<=S;S--)if(S in g&&g[S]===c)return S||0;return-1}:n},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(e,x,v){var f=e("../internals/fails"),o=e("../internals/well-known-symbol"),h=e("../internals/engine-v8-version"),l=o("species");x.exports=function(d){return 51<=h||!f(function(){var u=[];return(u.constructor={})[l]=function(){return{foo:1}},u[d](Boolean).foo!==1})}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":146}],22:[function(e,x,v){var f=e("../internals/fails");x.exports=function(o,h){var l=[][o];return!!l&&f(function(){l.call(null,h||function(){throw 1},1)})}},{"../internals/fails":50}],23:[function(e,x,v){function f(n){throw n}var o=e("../internals/descriptors"),h=e("../internals/fails"),l=e("../internals/has"),d=Object.defineProperty,u={};x.exports=function(n,t){if(l(u,n))return u[n];var r=[][n],s=!!l(t=t||{},"ACCESSORS")&&t.ACCESSORS,i=l(t,0)?t[0]:f,c=l(t,1)?t[1]:void 0;return u[n]=!!r&&!h(function(){if(s&&!o)return!0;var m={length:-1};s?d(m,1,{enumerable:!0,get:f}):m[1]=1,r.call(m,i,c)})}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":60}],24:[function(e,x,v){function f(u){return function(n,t,r,s){o(t);var i=h(n),c=l(i),m=d(i.length),g=u?m-1:0,w=u?-1:1;if(r<2)for(;;){if(g in c){s=c[g],g+=w;break}if(g+=w,u?g<0:m<=g)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=g:g<m;g+=w)g in c&&(s=t(s,c[g],g,i));return s}}var o=e("../internals/a-function"),h=e("../internals/to-object"),l=e("../internals/indexed-object"),d=e("../internals/to-length");x.exports={left:f(!1),right:f(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(e,x,v){var f=e("../internals/is-object"),o=e("../internals/is-array"),h=e("../internals/well-known-symbol")("species");x.exports=function(l,d){var u;return o(l)&&(typeof(u=l.constructor)!="function"||u!==Array&&!o(u.prototype)?f(u)&&(u=u[h])===null&&(u=void 0):u=void 0),new(u===void 0?Array:u)(d===0?0:d)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(e,x,v){var f=e("../internals/an-object");x.exports=function(o,h,l,d){try{return d?h(f(l)[0],l[1]):h(l)}catch(n){var u=o.return;throw u!==void 0&&f(u.call(o)),n}}},{"../internals/an-object":10}],27:[function(e,x,v){var f=e("../internals/well-known-symbol")("iterator"),o=!1;try{var h=0,l={next:function(){return{done:!!h++}},return:function(){o=!0}};l[f]=function(){return this},Array.from(l,function(){throw 2})}catch{}x.exports=function(d,u){if(!u&&!o)return!1;var n=!1;try{var t={};t[f]=function(){return{next:function(){return{done:n=!0}}}},d(t)}catch{}return n}},{"../internals/well-known-symbol":146}],28:[function(e,x,v){var f={}.toString;x.exports=function(o){return f.call(o).slice(8,-1)}},{}],29:[function(e,x,v){var f=e("../internals/to-string-tag-support"),o=e("../internals/classof-raw"),h=e("../internals/well-known-symbol")("toStringTag"),l=o(function(){return arguments}())=="Arguments";x.exports=f?o:function(d){var u,n,t;return d===void 0?"Undefined":d===null?"Null":typeof(n=function(r,s){try{return r[s]}catch{}}(u=Object(d),h))=="string"?n:l?o(u):(t=o(u))=="Object"&&typeof u.callee=="function"?"Arguments":t}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(e,x,v){var f=e("../internals/object-define-property").f,o=e("../internals/object-create"),h=e("../internals/redefine-all"),l=e("../internals/function-bind-context"),d=e("../internals/an-instance"),u=e("../internals/iterate"),n=e("../internals/define-iterator"),t=e("../internals/set-species"),r=e("../internals/descriptors"),s=e("../internals/internal-metadata").fastKey,i=e("../internals/internal-state"),c=i.set,m=i.getterFor;x.exports={getConstructor:function(g,w,S,j){function T(O,U,P){var G,V,te=D(O),ne=R(O,U);return ne?ne.value=P:(te.last=ne={index:V=s(U,!0),key:U,value:P,previous:G=te.last,next:void 0,removed:!1},te.first||(te.first=ne),G&&(G.next=ne),r?te.size++:O.size++,V!=="F"&&(te.index[V]=ne)),O}var L=g(function(O,U){d(O,L,w),c(O,{type:w,index:o(null),first:void 0,last:void 0,size:0}),r||(O.size=0),U!=null&&u(U,O[j],O,S)}),D=m(w),R=function(O,U){var P,G=D(O),V=s(U);if(V!=="F")return G.index[V];for(P=G.first;P;P=P.next)if(P.key==U)return P};return h(L.prototype,{clear:function(){for(var O=D(this),U=O.index,P=O.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=void 0),delete U[P.index],P=P.next;O.first=O.last=void 0,r?O.size=0:this.size=0},delete:function(O){var U=D(this),P=R(this,O);if(P){var G=P.next,V=P.previous;delete U.index[P.index],P.removed=!0,V&&(V.next=G),G&&(G.previous=V),U.first==P&&(U.first=G),U.last==P&&(U.last=V),r?U.size--:this.size--}return!!P},forEach:function(O,U){for(var P,G=D(this),V=l(O,1<arguments.length?U:void 0,3);P=P?P.next:G.first;)for(V(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(O){return!!R(this,O)}}),h(L.prototype,S?{get:function(O){var U=R(this,O);return U&&U.value},set:function(O,U){return T(this,O===0?0:O,U)}}:{add:function(O){return T(this,O=O===0?0:O,O)}}),r&&f(L.prototype,"size",{get:function(){return D(this).size}}),L},setStrong:function(g,w,S){var j=w+" Iterator",T=m(w),L=m(j);n(g,w,function(D,R){c(this,{type:j,target:D,state:T(D),kind:R,last:void 0})},function(){for(var D=L(this),R=D.kind,O=D.last;O&&O.removed;)O=O.previous;return D.target&&(D.last=O=O?O.next:D.state.first)?R=="keys"?{value:O.key,done:!1}:R=="values"?{value:O.value,done:!1}:{value:[O.key,O.value],done:!1}:{value:D.target=void 0,done:!0}},S?"entries":"values",!S,!0),t(w)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/global"),h=e("../internals/is-forced"),l=e("../internals/redefine"),d=e("../internals/internal-metadata"),u=e("../internals/iterate"),n=e("../internals/an-instance"),t=e("../internals/is-object"),r=e("../internals/fails"),s=e("../internals/check-correctness-of-iteration"),i=e("../internals/set-to-string-tag"),c=e("../internals/inherit-if-required");x.exports=function(m,g,w){function S(K){var se=R[K];l(R,K,K=="add"?function(J){return se.call(this,J===0?0:J),this}:K=="delete"?function(J){return!(T&&!t(J))&&se.call(this,J===0?0:J)}:K=="get"?function(J){return T&&!t(J)?void 0:se.call(this,J===0?0:J)}:K=="has"?function(J){return!(T&&!t(J))&&se.call(this,J===0?0:J)}:function(J,ue){return se.call(this,J===0?0:J,ue),this})}var j=m.indexOf("Map")!==-1,T=m.indexOf("Weak")!==-1,L=j?"set":"add",D=o[m],R=D&&D.prototype,O=D,U={};if(h(m,typeof D!="function"||!(T||R.forEach&&!r(function(){new D().entries().next()}))))O=w.getConstructor(g,m,j,L),d.REQUIRED=!0;else if(h(m,!0)){var P=new O,G=P[L](T?{}:-0,1)!=P,V=r(function(){P.has(1)}),te=s(function(K){new D(K)}),ne=!T&&r(function(){for(var K=new D,se=5;se--;)K[L](se,se);return!K.has(-0)});te||(((O=g(function(K,se){n(K,O,m);var J=c(new D,K,O);return se!=null&&u(se,J[L],J,j),J})).prototype=R).constructor=O),(V||ne)&&(S("delete"),S("has"),j&&S("get")),(ne||G)&&S(L),T&&R.clear&&delete R.clear}return U[m]=O,f({global:!0,forced:O!=D},U),i(O,m),T||w.setStrong(O,m,j),O}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],32:[function(e,x,v){var f=e("../internals/has"),o=e("../internals/own-keys"),h=e("../internals/object-get-own-property-descriptor"),l=e("../internals/object-define-property");x.exports=function(d,u){for(var n=o(u),t=l.f,r=h.f,s=0;s<n.length;s++){var i=n[s];f(d,i)||t(d,i,r(u,i))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],33:[function(e,x,v){var f=e("../internals/well-known-symbol")("match");x.exports=function(o){var h=/./;try{"/./"[o](h)}catch{try{return h[f]=!1,"/./"[o](h)}catch{}}return!1}},{"../internals/well-known-symbol":146}],34:[function(e,x,v){var f=e("../internals/fails");x.exports=!f(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":50}],35:[function(e,x,v){var f=e("../internals/require-object-coercible"),o=/"/g;x.exports=function(h,l,d,u){var n=String(f(h)),t="<"+l;return d!==""&&(t+=" "+d+'="'+String(u).replace(o,"&quot;")+'"'),t+">"+n+"</"+l+">"}},{"../internals/require-object-coercible":113}],36:[function(e,x,v){function f(){return this}var o=e("../internals/iterators-core").IteratorPrototype,h=e("../internals/object-create"),l=e("../internals/create-property-descriptor"),d=e("../internals/set-to-string-tag"),u=e("../internals/iterators");x.exports=function(n,t,r){var s=t+" Iterator";return n.prototype=h(o,{next:l(1,r)}),d(n,s,!1,!0),u[s]=f,n}},{"../internals/create-property-descriptor":38,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],37:[function(e,x,v){var f=e("../internals/descriptors"),o=e("../internals/object-define-property"),h=e("../internals/create-property-descriptor");x.exports=f?function(l,d,u){return o.f(l,d,h(1,u))}:function(l,d,u){return l[d]=u,l}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":92}],38:[function(e,x,v){x.exports=function(f,o){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:o}}},{}],39:[function(e,x,v){var f=e("../internals/to-primitive"),o=e("../internals/object-define-property"),h=e("../internals/create-property-descriptor");x.exports=function(l,d,u){var n=f(d);n in l?o.f(l,n,h(0,u)):l[n]=u}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":92,"../internals/to-primitive":138}],40:[function(e,x,v){function f(){return this}var o=e("../internals/export"),h=e("../internals/create-iterator-constructor"),l=e("../internals/object-get-prototype-of"),d=e("../internals/object-set-prototype-of"),u=e("../internals/set-to-string-tag"),n=e("../internals/create-non-enumerable-property"),t=e("../internals/redefine"),r=e("../internals/well-known-symbol"),s=e("../internals/is-pure"),i=e("../internals/iterators"),c=e("../internals/iterators-core"),m=c.IteratorPrototype,g=c.BUGGY_SAFARI_ITERATORS,w=r("iterator"),S="values",j="entries";x.exports=function(T,L,D,R,O,U,P){h(D,L,R);function G(he){if(he===O&&me)return me;if(!g&&he in J)return J[he];switch(he){case"keys":case S:case j:return function(){return new D(this,he)}}return function(){return new D(this)}}var V,te,ne,K=L+" Iterator",se=!1,J=T.prototype,ue=J[w]||J["@@iterator"]||O&&J[O],me=!g&&ue||G(O),_e=L=="Array"&&J.entries||ue;if(_e&&(V=l(_e.call(new T)),m!==Object.prototype&&V.next&&(s||l(V)===m||(d?d(V,m):typeof V[w]!="function"&&n(V,w,f)),u(V,K,!0,!0),s&&(i[K]=f))),O==S&&ue&&ue.name!==S&&(se=!0,me=function(){return ue.call(this)}),s&&!P||J[w]===me||n(J,w,me),i[L]=me,O)if(te={values:G(S),keys:U?me:G("keys"),entries:G(j)},P)for(ne in te)!g&&!se&&ne in J||t(J,ne,te[ne]);else o({target:L,proto:!0,forced:g||se},te);return te}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],41:[function(e,x,v){var f=e("../internals/path"),o=e("../internals/has"),h=e("../internals/well-known-symbol-wrapped"),l=e("../internals/object-define-property").f;x.exports=function(d){var u=f.Symbol||(f.Symbol={});o(u,d)||l(u,d,{value:h.f(d)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],42:[function(e,x,v){var f=e("../internals/fails");x.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":50}],43:[function(e,x,v){var f=e("../internals/global"),o=e("../internals/is-object"),h=f.document,l=o(h)&&o(h.createElement);x.exports=function(d){return l?h.createElement(d):{}}},{"../internals/global":59,"../internals/is-object":74}],44:[function(e,x,v){x.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(e,x,v){var f=e("../internals/engine-user-agent");x.exports=/(iphone|ipod|ipad).*applewebkit/i.test(f)},{"../internals/engine-user-agent":46}],46:[function(e,x,v){var f=e("../internals/get-built-in");x.exports=f("navigator","userAgent")||""},{"../internals/get-built-in":56}],47:[function(e,x,v){var f,o,h=e("../internals/global"),l=e("../internals/engine-user-agent"),d=h.process,u=d&&d.versions,n=u&&u.v8;n?o=(f=n.split("."))[0]+f[1]:l&&(!(f=l.match(/Edge\/(\d+)/))||74<=f[1])&&(f=l.match(/Chrome\/(\d+)/))&&(o=f[1]),x.exports=o&&+o},{"../internals/engine-user-agent":46,"../internals/global":59}],48:[function(e,x,v){x.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(e,x,v){var f=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/create-non-enumerable-property"),l=e("../internals/redefine"),d=e("../internals/set-global"),u=e("../internals/copy-constructor-properties"),n=e("../internals/is-forced");x.exports=function(t,r){var s,i,c,m,g,w=t.target,S=t.global,j=t.stat;if(s=S?f:j?f[w]||d(w,{}):(f[w]||{}).prototype)for(i in r){if(m=r[i],c=t.noTargetGet?(g=o(s,i))&&g.value:s[i],!n(S?i:w+(j?".":"#")+i,t.forced)&&c!==void 0){if(typeof m==typeof c)continue;u(m,c)}(t.sham||c&&c.sham)&&h(m,"sham",!0),l(s,i,m,t)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],50:[function(e,x,v){x.exports=function(f){try{return!!f()}catch{return!0}}},{}],51:[function(e,x,v){e("../modules/es.regexp.exec");var f=e("../internals/redefine"),o=e("../internals/fails"),h=e("../internals/well-known-symbol"),l=e("../internals/regexp-exec"),d=e("../internals/create-non-enumerable-property"),u=h("species"),n=!o(function(){var c=/./;return c.exec=function(){var m=[];return m.groups={a:"7"},m},"".replace(c,"$<a>")!=="7"}),t="a".replace(/./,"$0")==="$0",r=h("replace"),s=!!/./[r]&&/./[r]("a","$0")==="",i=!o(function(){var c=/(?:)/,m=c.exec;c.exec=function(){return m.apply(this,arguments)};var g="ab".split(c);return g.length!==2||g[0]!=="a"||g[1]!=="b"});x.exports=function(c,m,g,w){var S=h(c),j=!o(function(){var U={};return U[S]=function(){return 7},""[c](U)!=7}),T=j&&!o(function(){var U=!1,P=/a/;return c==="split"&&((P={constructor:{}}).constructor[u]=function(){return P},P.flags="",P[S]=/./[S]),P.exec=function(){return U=!0,null},P[S](""),!U});if(!j||!T||c==="replace"&&(!n||!t||s)||c==="split"&&!i){var L=/./[S],D=g(S,""[c],function(U,P,G,V,te){return P.exec===l?j&&!te?{done:!0,value:L.call(P,G,V)}:{done:!0,value:U.call(G,P,V)}:{done:!1}},{REPLACE_KEEPS_$0:t,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:s}),R=D[0],O=D[1];f(String.prototype,c,R),f(RegExp.prototype,S,m==2?function(U,P){return O.call(U,this,P)}:function(U){return O.call(U,this)})}w&&d(RegExp.prototype[S],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],52:[function(e,x,v){var f=e("../internals/is-array"),o=e("../internals/to-length"),h=e("../internals/function-bind-context"),l=function(d,u,n,t,r,s,i,c){for(var m,g=r,w=0,S=!!i&&h(i,c,3);w<t;){if(w in n){if(m=S?S(n[w],w,u):n[w],0<s&&f(m))g=l(d,u,m,o(m.length),g,s-1)-1;else{if(9007199254740991<=g)throw TypeError("Exceed the acceptable array length");d[g]=m}g++}w++}return g};x.exports=l},{"../internals/function-bind-context":54,"../internals/is-array":72,"../internals/to-length":134}],53:[function(e,x,v){var f=e("../internals/fails");x.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":50}],54:[function(e,x,v){var f=e("../internals/a-function");x.exports=function(o,h,l){if(f(o),h===void 0)return o;switch(l){case 0:return function(){return o.call(h)};case 1:return function(d){return o.call(h,d)};case 2:return function(d,u){return o.call(h,d,u)};case 3:return function(d,u,n){return o.call(h,d,u,n)}}return function(){return o.apply(h,arguments)}}},{"../internals/a-function":5}],55:[function(e,x,v){var f=e("../internals/a-function"),o=e("../internals/is-object"),h=[].slice,l={};x.exports=Function.bind||function(d){var u=f(this),n=h.call(arguments,1),t=function(){var r=n.concat(h.call(arguments));return this instanceof t?function(s,i,c){if(!(i in l)){for(var m=[],g=0;g<i;g++)m[g]="a["+g+"]";l[i]=Function("C,a","return new C("+m.join(",")+")")}return l[i](s,c)}(u,r.length,r):u.apply(d,r)};return o(u.prototype)&&(t.prototype=u.prototype),t}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,x,v){function f(l){return typeof l=="function"?l:void 0}var o=e("../internals/path"),h=e("../internals/global");x.exports=function(l,d){return arguments.length<2?f(o[l])||f(h[l]):o[l]&&o[l][d]||h[l]&&h[l][d]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,x,v){var f=e("../internals/classof"),o=e("../internals/iterators"),h=e("../internals/well-known-symbol")("iterator");x.exports=function(l){if(l!=null)return l[h]||l["@@iterator"]||o[f(l)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(e,x,v){var f=e("../internals/an-object"),o=e("../internals/get-iterator-method");x.exports=function(h){var l=o(h);if(typeof l!="function")throw TypeError(String(h)+" is not iterable");return f(l.call(h))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,x,v){(function(f){function o(h){return h&&h.Math==Math&&h}x.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof f=="object"&&f)||Function("return this")()}).call(this,typeof wn<"u"?wn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(e,x,v){var f={}.hasOwnProperty;x.exports=function(o,h){return f.call(o,h)}},{}],61:[function(e,x,v){x.exports={}},{}],62:[function(e,x,v){var f=e("../internals/global");x.exports=function(o,h){var l=f.console;l&&l.error&&(arguments.length===1?l.error(o):l.error(o,h))}},{"../internals/global":59}],63:[function(e,x,v){var f=e("../internals/get-built-in");x.exports=f("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,x,v){var f=e("../internals/descriptors"),o=e("../internals/fails"),h=e("../internals/document-create-element");x.exports=!f&&!o(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],65:[function(e,x,v){var f=Math.abs,o=Math.pow,h=Math.floor,l=Math.log,d=Math.LN2;x.exports={pack:function(u,n,t){var r,s,i,c=new Array(t),m=8*t-n-1,g=(1<<m)-1,w=g>>1,S=n===23?o(2,-24)-o(2,-77):0,j=u<0||u===0&&1/u<0?1:0,T=0;for((u=f(u))!=u||u===1/0?(s=u!=u?1:0,r=g):(r=h(l(u)/d),u*(i=o(2,-r))<1&&(r--,i*=2),2<=(u+=1<=r+w?S/i:S*o(2,1-w))*i&&(r++,i/=2),g<=r+w?(s=0,r=g):1<=r+w?(s=(u*i-1)*o(2,n),r+=w):(s=u*o(2,w-1)*o(2,n),r=0));8<=n;c[T++]=255&s,s/=256,n-=8);for(r=r<<n|s,m+=n;0<m;c[T++]=255&r,r/=256,m-=8);return c[--T]|=128*j,c},unpack:function(u,n){var t,r=u.length,s=8*r-n-1,i=(1<<s)-1,c=i>>1,m=s-7,g=r-1,w=u[g--],S=127&w;for(w>>=7;0<m;S=256*S+u[g],g--,m-=8);for(t=S&(1<<-m)-1,S>>=-m,m+=n;0<m;t=256*t+u[g],g--,m-=8);if(S===0)S=1-c;else{if(S===i)return t?NaN:w?-1/0:1/0;t+=o(2,n),S-=c}return(w?-1:1)*t*o(2,S-n)}}},{}],66:[function(e,x,v){var f=e("../internals/fails"),o=e("../internals/classof-raw"),h="".split;x.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(l){return o(l)=="String"?h.call(l,""):Object(l)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],67:[function(e,x,v){var f=e("../internals/is-object"),o=e("../internals/object-set-prototype-of");x.exports=function(h,l,d){var u,n;return o&&typeof(u=l.constructor)=="function"&&u!==d&&f(n=u.prototype)&&n!==d.prototype&&o(h,n),h}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(e,x,v){var f=e("../internals/shared-store"),o=Function.toString;typeof f.inspectSource!="function"&&(f.inspectSource=function(h){return o.call(h)}),x.exports=f.inspectSource},{"../internals/shared-store":119}],69:[function(e,x,v){function f(c){d(c,t,{value:{objectID:"O"+ ++r,weakData:{}}})}var o=e("../internals/hidden-keys"),h=e("../internals/is-object"),l=e("../internals/has"),d=e("../internals/object-define-property").f,u=e("../internals/uid"),n=e("../internals/freezing"),t=u("meta"),r=0,s=Object.isExtensible||function(){return!0},i=x.exports={REQUIRED:!1,fastKey:function(c,m){if(!h(c))return typeof c=="symbol"?c:(typeof c=="string"?"S":"P")+c;if(!l(c,t)){if(!s(c))return"F";if(!m)return"E";f(c)}return c[t].objectID},getWeakData:function(c,m){if(!l(c,t)){if(!s(c))return!0;if(!m)return!1;f(c)}return c[t].weakData},onFreeze:function(c){return n&&i.REQUIRED&&s(c)&&!l(c,t)&&f(c),c}};o[t]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(e,x,v){var f,o,h,l=e("../internals/native-weak-map"),d=e("../internals/global"),u=e("../internals/is-object"),n=e("../internals/create-non-enumerable-property"),t=e("../internals/has"),r=e("../internals/shared-key"),s=e("../internals/hidden-keys"),i=d.WeakMap;if(l){var c=new i,m=c.get,g=c.has,w=c.set;f=function(j,T){return w.call(c,j,T),T},o=function(j){return m.call(c,j)||{}},h=function(j){return g.call(c,j)}}else{var S=r("state");s[S]=!0,f=function(j,T){return n(j,S,T),T},o=function(j){return t(j,S)?j[S]:{}},h=function(j){return t(j,S)}}x.exports={set:f,get:o,has:h,enforce:function(j){return h(j)?o(j):f(j,{})},getterFor:function(j){return function(T){var L;if(!u(T)||(L=o(T)).type!==j)throw TypeError("Incompatible receiver, "+j+" required");return L}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,x,v){var f=e("../internals/well-known-symbol"),o=e("../internals/iterators"),h=f("iterator"),l=Array.prototype;x.exports=function(d){return d!==void 0&&(o.Array===d||l[h]===d)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(e,x,v){var f=e("../internals/classof-raw");x.exports=Array.isArray||function(o){return f(o)=="Array"}},{"../internals/classof-raw":28}],73:[function(e,x,v){function f(t,r){var s=d[l(t)];return s==n||s!=u&&(typeof r=="function"?o(r):!!r)}var o=e("../internals/fails"),h=/#|\.prototype\./,l=f.normalize=function(t){return String(t).replace(h,".").toLowerCase()},d=f.data={},u=f.NATIVE="N",n=f.POLYFILL="P";x.exports=f},{"../internals/fails":50}],74:[function(e,x,v){x.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}},{}],75:[function(e,x,v){x.exports=!1},{}],76:[function(e,x,v){var f=e("../internals/is-object"),o=e("../internals/classof-raw"),h=e("../internals/well-known-symbol")("match");x.exports=function(l){var d;return f(l)&&((d=l[h])!==void 0?!!d:o(l)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(e,x,v){function f(t,r){this.stopped=t,this.result=r}var o=e("../internals/an-object"),h=e("../internals/is-array-iterator-method"),l=e("../internals/to-length"),d=e("../internals/function-bind-context"),u=e("../internals/get-iterator-method"),n=e("../internals/call-with-safe-iteration-closing");(x.exports=function(t,r,s,i,c){var m,g,w,S,j,T,L,D=d(r,s,i?2:1);if(c)m=t;else{if(typeof(g=u(t))!="function")throw TypeError("Target is not iterable");if(h(g)){for(w=0,S=l(t.length);w<S;w++)if((j=i?D(o(L=t[w])[0],L[1]):D(t[w]))&&j instanceof f)return j;return new f(!1)}m=g.call(t)}for(T=m.next;!(L=T.call(m)).done;)if(typeof(j=n(m,D,L.value,i))=="object"&&j&&j instanceof f)return j;return new f(!1)}).stop=function(t){return new f(!0,t)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(e,x,v){var f,o,h,l=e("../internals/object-get-prototype-of"),d=e("../internals/create-non-enumerable-property"),u=e("../internals/has"),n=e("../internals/well-known-symbol"),t=e("../internals/is-pure"),r=n("iterator"),s=!1;[].keys&&("next"in(h=[].keys())?(o=l(l(h)))!==Object.prototype&&(f=o):s=!0),f==null&&(f={}),t||u(f,r)||d(f,r,function(){return this}),x.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:s}},{"../internals/create-non-enumerable-property":37,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(e,x,v){arguments[4][61][0].apply(v,arguments)},{dup:61}],80:[function(e,x,v){x.exports=Math.sign||function(f){return(f=+f)==0||f!=f?f:f<0?-1:1}},{}],81:[function(e,x,v){var f,o,h,l,d,u,n,t,r=e("../internals/global"),s=e("../internals/object-get-own-property-descriptor").f,i=e("../internals/classof-raw"),c=e("../internals/task").set,m=e("../internals/engine-is-ios"),g=r.MutationObserver||r.WebKitMutationObserver,w=r.process,S=r.Promise,j=i(w)=="process",T=s(r,"queueMicrotask"),L=T&&T.value;L||(f=function(){var D,R;for(j&&(D=w.domain)&&D.exit();o;){R=o.fn,o=o.next;try{R()}catch(O){throw o?l():h=void 0,O}}h=void 0,D&&D.enter()},l=j?function(){w.nextTick(f)}:g&&!m?(d=!0,u=document.createTextNode(""),new g(f).observe(u,{characterData:!0}),function(){u.data=d=!d}):S&&S.resolve?(n=S.resolve(void 0),t=n.then,function(){t.call(n,f)}):function(){c.call(r,f)}),x.exports=L||function(D){var R={fn:D,next:void 0};h&&(h.next=R),o||(o=R,l()),h=R}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(e,x,v){var f=e("../internals/global");x.exports=f.Promise},{"../internals/global":59}],83:[function(e,x,v){var f=e("../internals/fails");x.exports=!!Object.getOwnPropertySymbols&&!f(function(){return!String(Symbol())})},{"../internals/fails":50}],84:[function(e,x,v){var f=e("../internals/fails"),o=e("../internals/well-known-symbol"),h=e("../internals/is-pure"),l=o("iterator");x.exports=!f(function(){var d=new URL("b?a=1&b=2&c=3","http://a"),u=d.searchParams,n="";return d.pathname="c%20d",u.forEach(function(t,r){u.delete("b"),n+=r+t}),h&&!d.toJSON||!u.sort||d.href!=="http://a/c%20d?a=1&c=3"||u.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!u[l]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":50,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(e,x,v){var f=e("../internals/global"),o=e("../internals/inspect-source"),h=f.WeakMap;x.exports=typeof h=="function"&&/native code/.test(o(h))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,x,v){function f(h){var l,d;this.promise=new h(function(u,n){if(l!==void 0||d!==void 0)throw TypeError("Bad Promise constructor");l=u,d=n}),this.resolve=o(l),this.reject=o(d)}var o=e("../internals/a-function");x.exports.f=function(h){return new f(h)}},{"../internals/a-function":5}],87:[function(e,x,v){var f=e("../internals/is-regexp");x.exports=function(o){if(f(o))throw TypeError("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":76}],88:[function(e,x,v){var f=e("../internals/global").isFinite;x.exports=Number.isFinite||function(o){return typeof o=="number"&&f(o)}},{"../internals/global":59}],89:[function(e,x,v){var f=e("../internals/descriptors"),o=e("../internals/fails"),h=e("../internals/object-keys"),l=e("../internals/object-get-own-property-symbols"),d=e("../internals/object-property-is-enumerable"),u=e("../internals/to-object"),n=e("../internals/indexed-object"),t=Object.assign,r=Object.defineProperty;x.exports=!t||o(function(){if(f&&t({b:1},t(r({},"a",{enumerable:!0,get:function(){r(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var s={},i={},c=Symbol(),m="abcdefghijklmnopqrst";return s[c]=7,m.split("").forEach(function(g){i[g]=g}),t({},s)[c]!=7||h(t({},i)).join("")!=m})?function(s,i){for(var c=u(s),m=arguments.length,g=1,w=l.f,S=d.f;g<m;)for(var j,T=n(arguments[g++]),L=w?h(T).concat(w(T)):h(T),D=L.length,R=0;R<D;)j=L[R++],f&&!S.call(T,j)||(c[j]=T[j]);return c}:t},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(e,x,v){function f(){}function o(w){return"<script>"+w+"</"+c+">"}var h,l=e("../internals/an-object"),d=e("../internals/object-define-properties"),u=e("../internals/enum-bug-keys"),n=e("../internals/hidden-keys"),t=e("../internals/html"),r=e("../internals/document-create-element"),s=e("../internals/shared-key"),i="prototype",c="script",m=s("IE_PROTO"),g=function(){try{h=document.domain&&new ActiveXObject("htmlfile")}catch{}var w,S;g=h?function(T){T.write(o("")),T.close();var L=T.parentWindow.Object;return T=null,L}(h):((S=r("iframe")).style.display="none",t.appendChild(S),S.src=String("javascript:"),(w=S.contentWindow.document).open(),w.write(o("document.F=Object")),w.close(),w.F);for(var j=u.length;j--;)delete g[i][u[j]];return g()};n[m]=!0,x.exports=Object.create||function(w,S){var j;return w!==null?(f[i]=l(w),j=new f,f[i]=null,j[m]=w):j=g(),S===void 0?j:d(j,S)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,x,v){var f=e("../internals/descriptors"),o=e("../internals/object-define-property"),h=e("../internals/an-object"),l=e("../internals/object-keys");x.exports=f?Object.defineProperties:function(d,u){h(d);for(var n,t=l(u),r=t.length,s=0;s<r;)o.f(d,n=t[s++],u[n]);return d}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,x,v){var f=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),h=e("../internals/an-object"),l=e("../internals/to-primitive"),d=Object.defineProperty;v.f=f?d:function(u,n,t){if(h(u),n=l(n,!0),h(t),o)try{return d(u,n,t)}catch{}if("get"in t||"set"in t)throw TypeError("Accessors not supported");return"value"in t&&(u[n]=t.value),u}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(e,x,v){var f=e("../internals/descriptors"),o=e("../internals/object-property-is-enumerable"),h=e("../internals/create-property-descriptor"),l=e("../internals/to-indexed-object"),d=e("../internals/to-primitive"),u=e("../internals/has"),n=e("../internals/ie8-dom-define"),t=Object.getOwnPropertyDescriptor;v.f=f?t:function(r,s){if(r=l(r),s=d(s,!0),n)try{return t(r,s)}catch{}if(u(r,s))return h(!o.f.call(r,s),r[s])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(e,x,v){var f=e("../internals/to-indexed-object"),o=e("../internals/object-get-own-property-names").f,h={}.toString,l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];x.exports.f=function(d){return l&&h.call(d)=="[object Window]"?function(u){try{return o(u)}catch{return l.slice()}}(d):o(f(d))}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(e,x,v){var f=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");v.f=Object.getOwnPropertyNames||function(h){return f(h,o)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],96:[function(e,x,v){v.f=Object.getOwnPropertySymbols},{}],97:[function(e,x,v){var f=e("../internals/has"),o=e("../internals/to-object"),h=e("../internals/shared-key"),l=e("../internals/correct-prototype-getter"),d=h("IE_PROTO"),u=Object.prototype;x.exports=l?Object.getPrototypeOf:function(n){return n=o(n),f(n,d)?n[d]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?u:null}},{"../internals/correct-prototype-getter":34,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(e,x,v){var f=e("../internals/has"),o=e("../internals/to-indexed-object"),h=e("../internals/array-includes").indexOf,l=e("../internals/hidden-keys");x.exports=function(d,u){var n,t=o(d),r=0,s=[];for(n in t)!f(l,n)&&f(t,n)&&s.push(n);for(;u.length>r;)f(t,n=u[r++])&&(~h(s,n)||s.push(n));return s}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(e,x,v){var f=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");x.exports=Object.keys||function(h){return f(h,o)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],100:[function(e,x,v){var f={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,h=o&&!f.call({1:2},1);v.f=h?function(l){var d=o(this,l);return!!d&&d.enumerable}:f},{}],101:[function(e,x,v){var f=e("../internals/an-object"),o=e("../internals/a-possible-prototype");x.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,l=!1,d={};try{(h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(d,[]),l=d instanceof Array}catch{}return function(u,n){return f(u),o(n),l?h.call(u,n):u.__proto__=n,u}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,x,v){var f=e("../internals/to-string-tag-support"),o=e("../internals/classof");x.exports=f?{}.toString:function(){return"[object "+o(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(e,x,v){var f=e("../internals/get-built-in"),o=e("../internals/object-get-own-property-names"),h=e("../internals/object-get-own-property-symbols"),l=e("../internals/an-object");x.exports=f("Reflect","ownKeys")||function(d){var u=o.f(l(d)),n=h.f;return n?u.concat(n(d)):u}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,x,v){var f=e("../internals/global");x.exports=f},{"../internals/global":59}],105:[function(e,x,v){x.exports=function(f){try{return{error:!1,value:f()}}catch(o){return{error:!0,value:o}}}},{}],106:[function(e,x,v){var f=e("../internals/an-object"),o=e("../internals/is-object"),h=e("../internals/new-promise-capability");x.exports=function(l,d){if(f(l),o(d)&&d.constructor===l)return d;var u=h.f(l);return(0,u.resolve)(d),u.promise}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,x,v){var f=e("../internals/redefine");x.exports=function(o,h,l){for(var d in h)f(o,d,h[d],l);return o}},{"../internals/redefine":108}],108:[function(e,x,v){var f=e("../internals/global"),o=e("../internals/create-non-enumerable-property"),h=e("../internals/has"),l=e("../internals/set-global"),d=e("../internals/inspect-source"),u=e("../internals/internal-state"),n=u.get,t=u.enforce,r=String(String).split("String");(x.exports=function(s,i,c,m){var g=!!m&&!!m.unsafe,w=!!m&&!!m.enumerable,S=!!m&&!!m.noTargetGet;typeof c=="function"&&(typeof i!="string"||h(c,"name")||o(c,"name",i),t(c).source=r.join(typeof i=="string"?i:"")),s!==f?(g?!S&&s[i]&&(w=!0):delete s[i],w?s[i]=c:o(s,i,c)):w?s[i]=c:l(i,c)})(Function.prototype,"toString",function(){return typeof this=="function"&&n(this).source||d(this)})},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,x,v){var f=e("./classof-raw"),o=e("./regexp-exec");x.exports=function(h,l){var d=h.exec;if(typeof d=="function"){var u=d.call(h,l);if(typeof u!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return u}if(f(h)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return o.call(h,l)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(e,x,v){var f,o,h=e("./regexp-flags"),l=e("./regexp-sticky-helpers"),d=RegExp.prototype.exec,u=String.prototype.replace,n=d,t=(f=/a/,o=/b*/g,d.call(f,"a"),d.call(o,"a"),f.lastIndex!==0||o.lastIndex!==0),r=l.UNSUPPORTED_Y||l.BROKEN_CARET,s=/()??/.exec("")[1]!==void 0;(t||s||r)&&(n=function(i){var c,m,g,w,S=this,j=r&&S.sticky,T=h.call(S),L=S.source,D=0,R=i;return j&&((T=T.replace("y","")).indexOf("g")===-1&&(T+="g"),R=String(i).slice(S.lastIndex),0<S.lastIndex&&(!S.multiline||S.multiline&&i[S.lastIndex-1]!==`
`)&&(L="(?: "+L+")",R=" "+R,D++),m=new RegExp("^(?:"+L+")",T)),s&&(m=new RegExp("^"+L+"$(?!\\s)",T)),t&&(c=S.lastIndex),g=d.call(j?m:S,R),j?g?(g.input=g.input.slice(D),g[0]=g[0].slice(D),g.index=S.lastIndex,S.lastIndex+=g[0].length):S.lastIndex=0:t&&g&&(S.lastIndex=S.global?g.index+g[0].length:c),s&&g&&1<g.length&&u.call(g[0],m,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(g[w]=void 0)}),g}),x.exports=n},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,x,v){var f=e("../internals/an-object");x.exports=function(){var o=f(this),h="";return o.global&&(h+="g"),o.ignoreCase&&(h+="i"),o.multiline&&(h+="m"),o.dotAll&&(h+="s"),o.unicode&&(h+="u"),o.sticky&&(h+="y"),h}},{"../internals/an-object":10}],112:[function(e,x,v){var f=e("./fails");function o(h,l){return RegExp(h,l)}v.UNSUPPORTED_Y=f(function(){var h=o("a","y");return h.lastIndex=2,h.exec("abcd")!=null}),v.BROKEN_CARET=f(function(){var h=o("^r","gy");return h.lastIndex=2,h.exec("str")!=null})},{"./fails":50}],113:[function(e,x,v){x.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}},{}],114:[function(e,x,v){x.exports=Object.is||function(f,o){return f===o?f!==0||1/f==1/o:f!=f&&o!=o}},{}],115:[function(e,x,v){var f=e("../internals/global"),o=e("../internals/create-non-enumerable-property");x.exports=function(h,l){try{o(f,h,l)}catch{f[h]=l}return l}},{"../internals/create-non-enumerable-property":37,"../internals/global":59}],116:[function(e,x,v){var f=e("../internals/get-built-in"),o=e("../internals/object-define-property"),h=e("../internals/well-known-symbol"),l=e("../internals/descriptors"),d=h("species");x.exports=function(u){var n=f(u),t=o.f;l&&n&&!n[d]&&t(n,d,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(e,x,v){var f=e("../internals/object-define-property").f,o=e("../internals/has"),h=e("../internals/well-known-symbol")("toStringTag");x.exports=function(l,d,u){l&&!o(l=u?l:l.prototype,h)&&f(l,h,{configurable:!0,value:d})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(e,x,v){var f=e("../internals/shared"),o=e("../internals/uid"),h=f("keys");x.exports=function(l){return h[l]||(h[l]=o(l))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(e,x,v){var f=e("../internals/global"),o=e("../internals/set-global"),h="__core-js_shared__",l=f[h]||o(h,{});x.exports=l},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,x,v){var f=e("../internals/is-pure"),o=e("../internals/shared-store");(x.exports=function(h,l){return o[h]||(o[h]=l!==void 0?l:{})})("versions",[]).push({version:"3.6.5",mode:f?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,x,v){var f=e("../internals/an-object"),o=e("../internals/a-function"),h=e("../internals/well-known-symbol")("species");x.exports=function(l,d){var u,n=f(l).constructor;return n===void 0||(u=f(n)[h])==null?d:o(u)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(e,x,v){var f=e("../internals/fails");x.exports=function(o){return f(function(){var h=""[o]('"');return h!==h.toLowerCase()||3<h.split('"').length})}},{"../internals/fails":50}],123:[function(e,x,v){function f(l){return function(d,u){var n,t,r=String(h(d)),s=o(u),i=r.length;return s<0||i<=s?l?"":void 0:(n=r.charCodeAt(s))<55296||56319<n||s+1===i||(t=r.charCodeAt(s+1))<56320||57343<t?l?r.charAt(s):n:l?r.slice(s,s+2):t-56320+(n-55296<<10)+65536}}var o=e("../internals/to-integer"),h=e("../internals/require-object-coercible");x.exports={codeAt:f(!1),charAt:f(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(e,x,v){function f(s){return s+22+75*(s<26)}function o(s,i,c){var m=0;for(s=c?t(s/700):s>>1,s+=t(s/i);455<s;m+=36)s=t(s/35);return t(m+36*s/(s+38))}function h(s){var i,c,m=[],g=(s=function(te){for(var ne=[],K=0,se=te.length;K<se;){var J=te.charCodeAt(K++);if(55296<=J&&J<=56319&&K<se){var ue=te.charCodeAt(K++);(64512&ue)==56320?ne.push(((1023&J)<<10)+(1023&ue)+65536):(ne.push(J),K--)}else ne.push(J)}return ne}(s)).length,w=128,S=0,j=72;for(i=0;i<s.length;i++)(c=s[i])<128&&m.push(r(c));var T=m.length,L=T;for(T&&m.push("-");L<g;){var D=l;for(i=0;i<s.length;i++)w<=(c=s[i])&&c<D&&(D=c);var R=L+1;if(D-w>t((l-S)/R))throw RangeError(n);for(S+=(D-w)*R,w=D,i=0;i<s.length;i++){if((c=s[i])<w&&++S>l)throw RangeError(n);if(c==w){for(var O=S,U=36;;U+=36){var P=U<=j?1:j+26<=U?26:U-j;if(O<P)break;var G=O-P,V=36-P;m.push(r(f(P+G%V))),O=t(G/V)}m.push(r(f(O))),j=o(S,R,L==T),S=0,++L}}++S,++w}return m.join("")}var l=2147483647,d=/[^\0-\u007E]/,u=/[.\u3002\uFF0E\uFF61]/g,n="Overflow: input needs wider integers to process",t=Math.floor,r=String.fromCharCode;x.exports=function(s){var i,c,m=[],g=s.toLowerCase().replace(u,".").split(".");for(i=0;i<g.length;i++)c=g[i],m.push(d.test(c)?"xn--"+h(c):c);return m.join(".")}},{}],125:[function(e,x,v){var f=e("../internals/to-integer"),o=e("../internals/require-object-coercible");x.exports="".repeat||function(h){var l=String(o(this)),d="",u=f(h);if(u<0||u==1/0)throw RangeError("Wrong number of repetitions");for(;0<u;(u>>>=1)&&(l+=l))1&u&&(d+=l);return d}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(e,x,v){var f=e("../internals/fails"),o=e("../internals/whitespaces");x.exports=function(h){return f(function(){return!!o[h]()||"\u200B\x85\u180E"[h]()!="\u200B\x85\u180E"||o[h].name!==h})}},{"../internals/fails":50,"../internals/whitespaces":147}],127:[function(e,x,v){function f(u){return function(n){var t=String(o(n));return 1&u&&(t=t.replace(l,"")),2&u&&(t=t.replace(d,"")),t}}var o=e("../internals/require-object-coercible"),h="["+e("../internals/whitespaces")+"]",l=RegExp("^"+h+h+"*"),d=RegExp(h+h+"*$");x.exports={start:f(1),end:f(2),trim:f(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(e,x,v){function f(P){if(O.hasOwnProperty(P)){var G=O[P];delete O[P],G()}}function o(P){return function(){f(P)}}function h(P){f(P.data)}function l(P){t.postMessage(P+"",w.protocol+"//"+w.host)}var d,u,n,t=e("../internals/global"),r=e("../internals/fails"),s=e("../internals/classof-raw"),i=e("../internals/function-bind-context"),c=e("../internals/html"),m=e("../internals/document-create-element"),g=e("../internals/engine-is-ios"),w=t.location,S=t.setImmediate,j=t.clearImmediate,T=t.process,L=t.MessageChannel,D=t.Dispatch,R=0,O={},U="onreadystatechange";S&&j||(S=function(P){for(var G=[],V=1;V<arguments.length;)G.push(arguments[V++]);return O[++R]=function(){(typeof P=="function"?P:Function(P)).apply(void 0,G)},d(R),R},j=function(P){delete O[P]},s(T)=="process"?d=function(P){T.nextTick(o(P))}:D&&D.now?d=function(P){D.now(o(P))}:L&&!g?(n=(u=new L).port2,u.port1.onmessage=h,d=i(n.postMessage,n,1)):!t.addEventListener||typeof postMessage!="function"||t.importScripts||r(l)||w.protocol==="file:"?d=U in m("script")?function(P){c.appendChild(m("script"))[U]=function(){c.removeChild(this),f(P)}}:function(P){setTimeout(o(P),0)}:(d=l,t.addEventListener("message",h,!1))),x.exports={set:S,clear:j}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(e,x,v){var f=e("../internals/classof-raw");x.exports=function(o){if(typeof o!="number"&&f(o)!="Number")throw TypeError("Incorrect invocation");return+o}},{"../internals/classof-raw":28}],130:[function(e,x,v){var f=e("../internals/to-integer"),o=Math.max,h=Math.min;x.exports=function(l,d){var u=f(l);return u<0?o(u+d,0):h(u,d)}},{"../internals/to-integer":133}],131:[function(e,x,v){var f=e("../internals/to-integer"),o=e("../internals/to-length");x.exports=function(h){if(h===void 0)return 0;var l=f(h),d=o(l);if(l!==d)throw RangeError("Wrong length or index");return d}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(e,x,v){var f=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");x.exports=function(h){return f(o(h))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(e,x,v){var f=Math.ceil,o=Math.floor;x.exports=function(h){return isNaN(h=+h)?0:(0<h?o:f)(h)}},{}],134:[function(e,x,v){var f=e("../internals/to-integer"),o=Math.min;x.exports=function(h){return 0<h?o(f(h),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(e,x,v){var f=e("../internals/require-object-coercible");x.exports=function(o){return Object(f(o))}},{"../internals/require-object-coercible":113}],136:[function(e,x,v){var f=e("../internals/to-positive-integer");x.exports=function(o,h){var l=f(o);if(l%h)throw RangeError("Wrong offset");return l}},{"../internals/to-positive-integer":137}],137:[function(e,x,v){var f=e("../internals/to-integer");x.exports=function(o){var h=f(o);if(h<0)throw RangeError("The argument can't be less than 0");return h}},{"../internals/to-integer":133}],138:[function(e,x,v){var f=e("../internals/is-object");x.exports=function(o,h){if(!f(o))return o;var l,d;if(h&&typeof(l=o.toString)=="function"&&!f(d=l.call(o))||typeof(l=o.valueOf)=="function"&&!f(d=l.call(o))||!h&&typeof(l=o.toString)=="function"&&!f(d=l.call(o)))return d;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(e,x,v){var f={};f[e("../internals/well-known-symbol")("toStringTag")]="z",x.exports=String(f)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(e,x,v){function f(le,Me){for(var Ce=0,je=Me.length,Ge=new(xe(le))(je);Ce<je;)Ge[Ce]=Me[Ce++];return Ge}function o(le,Me){he(le,Me,{get:function(){return me(this)[Me]}})}function h(le){var Me;return le instanceof k||(Me=R(le))=="ArrayBuffer"||Me=="SharedArrayBuffer"}function l(le,Me){return ee(le)&&typeof Me!="symbol"&&Me in le&&String(+Me)==String(Me)}function d(le,Me){return l(le,Me=L(Me,!0))?g(2,le[Me]):Re(le,Me)}function u(le,Me,Ce){return!(l(le,Me=L(Me,!0))&&O(Ce)&&D(Ce,"value"))||D(Ce,"get")||D(Ce,"set")||Ce.configurable||D(Ce,"writable")&&!Ce.writable||D(Ce,"enumerable")&&!Ce.enumerable?he(le,Me,Ce):(le[Me]=Ce.value,le)}var n=e("../internals/export"),t=e("../internals/global"),r=e("../internals/descriptors"),s=e("../internals/typed-array-constructors-require-wrappers"),i=e("../internals/array-buffer-view-core"),c=e("../internals/array-buffer"),m=e("../internals/an-instance"),g=e("../internals/create-property-descriptor"),w=e("../internals/create-non-enumerable-property"),S=e("../internals/to-length"),j=e("../internals/to-index"),T=e("../internals/to-offset"),L=e("../internals/to-primitive"),D=e("../internals/has"),R=e("../internals/classof"),O=e("../internals/is-object"),U=e("../internals/object-create"),P=e("../internals/object-set-prototype-of"),G=e("../internals/object-get-own-property-names").f,V=e("../internals/typed-array-from"),te=e("../internals/array-iteration").forEach,ne=e("../internals/set-species"),K=e("../internals/object-define-property"),se=e("../internals/object-get-own-property-descriptor"),J=e("../internals/internal-state"),ue=e("../internals/inherit-if-required"),me=J.get,_e=J.set,he=K.f,Re=se.f,ve=Math.round,ye=t.RangeError,k=c.ArrayBuffer,F=c.DataView,H=i.NATIVE_ARRAY_BUFFER_VIEWS,Z=i.TYPED_ARRAY_TAG,oe=i.TypedArray,$=i.TypedArrayPrototype,xe=i.aTypedArrayConstructor,ee=i.isTypedArray,ge="BYTES_PER_ELEMENT",fe="Wrong length";r?(H||(se.f=d,K.f=u,o($,"buffer"),o($,"byteOffset"),o($,"byteLength"),o($,"length")),n({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:d,defineProperty:u}),x.exports=function(le,Me,Ce){function je(Xe,pe){he(Xe,pe,{get:function(){return et=pe,(B=me(this)).view[Ye](et*Ge+B.byteOffset,!0);var et,B},set:function(et){return B=pe,q=et,W=me(this),Ce&&(q=(q=ve(q))<0?0:255<q?255:255&q),void W.view[Be](B*Ge+W.byteOffset,q,!0);var B,q,W},enumerable:!0})}var Ge=le.match(/\d+$/)[0]/8,Qe=le+(Ce?"Clamped":"")+"Array",Ye="get"+le,Be="set"+le,ut=t[Qe],Oe=ut,Pe=Oe&&Oe.prototype,qe={};H?s&&(Oe=Me(function(Xe,pe,et,B){return m(Xe,Oe,Qe),ue(O(pe)?h(pe)?B!==void 0?new ut(pe,T(et,Ge),B):et!==void 0?new ut(pe,T(et,Ge)):new ut(pe):ee(pe)?f(Oe,pe):V.call(Oe,pe):new ut(j(pe)),Xe,Oe)}),P&&P(Oe,oe),te(G(ut),function(Xe){Xe in Oe||w(Oe,Xe,ut[Xe])}),Oe.prototype=Pe):(Oe=Me(function(Xe,pe,et,B){m(Xe,Oe,Qe);var q,W,X,ie=0,we=0;if(O(pe)){if(!h(pe))return ee(pe)?f(Oe,pe):V.call(Oe,pe);q=pe,we=T(et,Ge);var Te=pe.byteLength;if(B===void 0){if(Te%Ge||(W=Te-we)<0)throw ye(fe)}else if(Te<(W=S(B)*Ge)+we)throw ye(fe);X=W/Ge}else X=j(pe),q=new k(W=X*Ge);for(_e(Xe,{buffer:q,byteOffset:we,byteLength:W,length:X,view:new F(q)});ie<X;)je(Xe,ie++)}),P&&P(Oe,oe),Pe=Oe.prototype=U($)),Pe.constructor!==Oe&&w(Pe,"constructor",Oe),Z&&w(Pe,Z,Qe),qe[Qe]=Oe,n({global:!0,forced:Oe!=ut,sham:!H},qe),ge in Oe||w(Oe,ge,Ge),ge in Pe||w(Pe,ge,Ge),ne(Qe)}):x.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(e,x,v){var f=e("../internals/global"),o=e("../internals/fails"),h=e("../internals/check-correctness-of-iteration"),l=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,d=f.ArrayBuffer,u=f.Int8Array;x.exports=!l||!o(function(){u(1)})||!o(function(){new u(-1)})||!h(function(n){new u,new u(null),new u(1.5),new u(n)},!0)||o(function(){return new u(new d(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":59}],142:[function(e,x,v){var f=e("../internals/to-object"),o=e("../internals/to-length"),h=e("../internals/get-iterator-method"),l=e("../internals/is-array-iterator-method"),d=e("../internals/function-bind-context"),u=e("../internals/array-buffer-view-core").aTypedArrayConstructor;x.exports=function(n,t,r){var s,i,c,m,g,w,S=f(n),j=arguments.length,T=1<j?t:void 0,L=T!==void 0,D=h(S);if(D!=null&&!l(D))for(w=(g=D.call(S)).next,S=[];!(m=w.call(g)).done;)S.push(m.value);for(L&&2<j&&(T=d(T,r,2)),i=o(S.length),c=new(u(this))(i),s=0;s<i;s++)c[s]=L?T(S[s],s):S[s];return c}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(e,x,v){var f=0,o=Math.random();x.exports=function(h){return"Symbol("+String(h===void 0?"":h)+")_"+(++f+o).toString(36)}},{}],144:[function(e,x,v){var f=e("../internals/native-symbol");x.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(e,x,v){var f=e("../internals/well-known-symbol");v.f=f},{"../internals/well-known-symbol":146}],146:[function(e,x,v){var f=e("../internals/global"),o=e("../internals/shared"),h=e("../internals/has"),l=e("../internals/uid"),d=e("../internals/native-symbol"),u=e("../internals/use-symbol-as-uid"),n=o("wks"),t=f.Symbol,r=u?t:t&&t.withoutSetter||l;x.exports=function(s){return h(n,s)||(d&&h(t,s)?n[s]=t[s]:n[s]=r("Symbol."+s)),n[s]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(e,x,v){x.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],148:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/global"),h=e("../internals/array-buffer"),l=e("../internals/set-species"),d="ArrayBuffer",u=h[d];f({global:!0,forced:o[d]!==u},{ArrayBuffer:u}),l(d)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":59,"../internals/set-species":116}],149:[function(e,x,v){function f(T){if(!d(T))return!1;var L=T[m];return L!==void 0?!!L:l(T)}var o=e("../internals/export"),h=e("../internals/fails"),l=e("../internals/is-array"),d=e("../internals/is-object"),u=e("../internals/to-object"),n=e("../internals/to-length"),t=e("../internals/create-property"),r=e("../internals/array-species-create"),s=e("../internals/array-method-has-species-support"),i=e("../internals/well-known-symbol"),c=e("../internals/engine-v8-version"),m=i("isConcatSpreadable"),g=9007199254740991,w="Maximum allowed index exceeded",S=51<=c||!h(function(){var T=[];return T[m]=!1,T.concat()[0]!==T}),j=s("concat");o({target:"Array",proto:!0,forced:!S||!j},{concat:function(T){var L,D,R,O,U,P=u(this),G=r(P,0),V=0;for(L=-1,R=arguments.length;L<R;L++)if(f(U=L===-1?P:arguments[L])){if(O=n(U.length),g<V+O)throw TypeError(w);for(D=0;D<O;D++,V++)D in U&&t(G,V,U[D])}else{if(g<=V)throw TypeError(w);t(G,V++,U)}return G.length=V,G}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/array-iteration").every,h=e("../internals/array-method-is-strict"),l=e("../internals/array-method-uses-to-length"),d=h("every"),u=l("every");f({target:"Array",proto:!0,forced:!d||!u},{every:function(n,t){return o(this,n,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],151:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/array-fill"),h=e("../internals/add-to-unscopables");f({target:"Array",proto:!0},{fill:o}),h("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],152:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/array-iteration").filter,h=e("../internals/array-method-has-species-support"),l=e("../internals/array-method-uses-to-length"),d=h("filter"),u=l("filter");f({target:"Array",proto:!0,forced:!d||!u},{filter:function(n,t){return o(this,n,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],153:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/flatten-into-array"),h=e("../internals/to-object"),l=e("../internals/to-length"),d=e("../internals/a-function"),u=e("../internals/array-species-create");f({target:"Array",proto:!0},{flatMap:function(n,t){var r,s=h(this),i=l(s.length);return d(n),(r=u(s,0)).length=o(r,s,s,i,0,1,n,1<arguments.length?t:void 0),r}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":49,"../internals/flatten-into-array":52,"../internals/to-length":134,"../internals/to-object":135}],154:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/array-for-each");f({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},{"../internals/array-for-each":16,"../internals/export":49}],155:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/array-from");f({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(h){Array.from(h)})},{from:o})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],156:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/array-includes").includes,h=e("../internals/add-to-unscopables");f({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(l,d){return o(this,l,1<arguments.length?d:void 0)}}),h("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],157:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/array-includes").indexOf,h=e("../internals/array-method-is-strict"),l=e("../internals/array-method-uses-to-length"),d=[].indexOf,u=!!d&&1/[1].indexOf(1,-0)<0,n=h("indexOf"),t=l("indexOf",{ACCESSORS:!0,1:0});f({target:"Array",proto:!0,forced:u||!n||!t},{indexOf:function(r,s){return u?d.apply(this,arguments)||0:o(this,r,1<arguments.length?s:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],158:[function(e,x,v){var f=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),h=e("../internals/iterators"),l=e("../internals/internal-state"),d=e("../internals/define-iterator"),u="Array Iterator",n=l.set,t=l.getterFor(u);x.exports=d(Array,"Array",function(r,s){n(this,{type:u,target:f(r),index:0,kind:s})},function(){var r=t(this),s=r.target,i=r.kind,c=r.index++;return!s||c>=s.length?{value:r.target=void 0,done:!0}:i=="keys"?{value:c,done:!1}:i=="values"?{value:s[c],done:!1}:{value:[c,s[c]],done:!1}},"values"),h.Arguments=h.Array,o("keys"),o("values"),o("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/indexed-object"),h=e("../internals/to-indexed-object"),l=e("../internals/array-method-is-strict"),d=[].join,u=o!=Object,n=l("join",",");f({target:"Array",proto:!0,forced:u||!n},{join:function(t){return d.call(h(this),t===void 0?",":t)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/array-last-index-of");f({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},{"../internals/array-last-index-of":20,"../internals/export":49}],161:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/array-iteration").map,h=e("../internals/array-method-has-species-support"),l=e("../internals/array-method-uses-to-length"),d=h("map"),u=l("map");f({target:"Array",proto:!0,forced:!d||!u},{map:function(n,t){return o(this,n,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/is-object"),h=e("../internals/is-array"),l=e("../internals/to-absolute-index"),d=e("../internals/to-length"),u=e("../internals/to-indexed-object"),n=e("../internals/create-property"),t=e("../internals/well-known-symbol"),r=e("../internals/array-method-has-species-support"),s=e("../internals/array-method-uses-to-length"),i=r("slice"),c=s("slice",{ACCESSORS:!0,0:0,1:2}),m=t("species"),g=[].slice,w=Math.max;f({target:"Array",proto:!0,forced:!i||!c},{slice:function(S,j){var T,L,D,R=u(this),O=d(R.length),U=l(S,O),P=l(j===void 0?O:j,O);if(h(R)&&(typeof(T=R.constructor)!="function"||T!==Array&&!h(T.prototype)?o(T)&&(T=T[m])===null&&(T=void 0):T=void 0,T===Array||T===void 0))return g.call(R,U,P);for(L=new(T===void 0?Array:T)(w(P-U,0)),D=0;U<P;U++,D++)U in R&&n(L,D,R[U]);return L.length=D,L}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/array-iteration").some,h=e("../internals/array-method-is-strict"),l=e("../internals/array-method-uses-to-length"),d=h("some"),u=l("some");f({target:"Array",proto:!0,forced:!d||!u},{some:function(n,t){return o(this,n,1<arguments.length?t:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],164:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/to-absolute-index"),h=e("../internals/to-integer"),l=e("../internals/to-length"),d=e("../internals/to-object"),u=e("../internals/array-species-create"),n=e("../internals/create-property"),t=e("../internals/array-method-has-species-support"),r=e("../internals/array-method-uses-to-length"),s=t("splice"),i=r("splice",{ACCESSORS:!0,0:0,1:2}),c=Math.max,m=Math.min;f({target:"Array",proto:!0,forced:!s||!i},{splice:function(g,w){var S,j,T,L,D,R,O=d(this),U=l(O.length),P=o(g,U),G=arguments.length;if(G===0?S=j=0:j=G===1?(S=0,U-P):(S=G-2,m(c(h(w),0),U-P)),9007199254740991<U+S-j)throw TypeError("Maximum allowed length exceeded");for(T=u(O,j),L=0;L<j;L++)(D=P+L)in O&&n(T,L,O[D]);if(S<(T.length=j)){for(L=P;L<U-j;L++)R=L+S,(D=L+j)in O?O[R]=O[D]:delete O[R];for(L=U;U-j+S<L;L--)delete O[L-1]}else if(j<S)for(L=U-j;P<L;L--)R=L+S-1,(D=L+j-1)in O?O[R]=O[D]:delete O[R];for(L=0;L<S;L++)O[L+P]=arguments[L+2];return O.length=U-j+S,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(e,x,v){e("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],166:[function(e,x,v){var f=e("../internals/descriptors"),o=e("../internals/object-define-property").f,h=Function.prototype,l=h.toString,d=/^\s*function ([^ (]*)/;!f||"name"in h||o(h,"name",{configurable:!0,get:function(){try{return l.call(this).match(d)[1]}catch{return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":92}],167:[function(e,x,v){var f=e("../internals/collection"),o=e("../internals/collection-strong");x.exports=f("Map",function(h){return function(l){return h(this,arguments.length?l:void 0)}},o)},{"../internals/collection":31,"../internals/collection-strong":30}],168:[function(e,x,v){var f=e("../internals/export"),o=Math.hypot,h=Math.abs,l=Math.sqrt;f({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(d,u){for(var n,t,r=0,s=0,i=arguments.length,c=0;s<i;)c<(n=h(arguments[s++]))?(r=r*(t=c/n)*t+1,c=n):r+=0<n?(t=n/c)*t:n;return c===1/0?1/0:c*l(r)}})},{"../internals/export":49}],169:[function(e,x,v){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":80}],170:[function(e,x,v){function f(P){var G,V,te,ne,K,se,J,ue,me=r(P,!1);if(typeof me=="string"&&2<me.length){if((G=(me=w(me)).charCodeAt(0))===43||G===45){if((V=me.charCodeAt(2))===88||V===120)return NaN}else if(G===48){switch(me.charCodeAt(1)){case 66:case 98:te=2,ne=49;break;case 79:case 111:te=8,ne=55;break;default:return+me}for(se=(K=me.slice(2)).length,J=0;J<se;J++)if((ue=K.charCodeAt(J))<48||ne<ue)return NaN;return parseInt(K,te)}}return+me}var o=e("../internals/descriptors"),h=e("../internals/global"),l=e("../internals/is-forced"),d=e("../internals/redefine"),u=e("../internals/has"),n=e("../internals/classof-raw"),t=e("../internals/inherit-if-required"),r=e("../internals/to-primitive"),s=e("../internals/fails"),i=e("../internals/object-create"),c=e("../internals/object-get-own-property-names").f,m=e("../internals/object-get-own-property-descriptor").f,g=e("../internals/object-define-property").f,w=e("../internals/string-trim").trim,S="Number",j=h[S],T=j.prototype,L=n(i(T))==S;if(l(S,!j(" 0o1")||!j("0b1")||j("+0x1"))){for(var D,R=function(P){var G=arguments.length<1?0:P,V=this;return V instanceof R&&(L?s(function(){T.valueOf.call(V)}):n(V)!=S)?t(new j(f(G)),V,R):f(G)},O=o?c(j):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),U=0;O.length>U;U++)u(j,D=O[U])&&!u(R,D)&&g(R,D,m(j,D));(R.prototype=T).constructor=R,d(h,S,R)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],171:[function(e,x,v){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":88}],172:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/to-integer"),h=e("../internals/this-number-value"),l=e("../internals/string-repeat"),d=e("../internals/fails"),u=1 .toFixed,n=Math.floor,t=function(r,s,i){return s===0?i:s%2==1?t(r,s-1,i*r):t(r*r,s/2,i)};f({target:"Number",proto:!0,forced:u&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!d(function(){u.call({})})},{toFixed:function(r){function s(O,U){for(var P=-1,G=U;++P<6;)G+=O*L[P],L[P]=G%1e7,G=n(G/1e7)}function i(O){for(var U=6,P=0;0<=--U;)P+=L[U],L[U]=n(P/O),P=P%O*1e7}function c(){for(var O=6,U="";0<=--O;)if(U!==""||O===0||L[O]!==0){var P=String(L[O]);U=U===""?P:U+l.call("0",7-P.length)+P}return U}var m,g,w,S,j=h(this),T=o(r),L=[0,0,0,0,0,0],D="",R="0";if(T<0||20<T)throw RangeError("Incorrect fraction digits");if(j!=j)return"NaN";if(j<=-1e21||1e21<=j)return String(j);if(j<0&&(D="-",j=-j),1e-21<j)if(g=(m=function(O){for(var U=0,P=O;4096<=P;)U+=12,P/=4096;for(;2<=P;)U+=1,P/=2;return U}(j*t(2,69,1))-69)<0?j*t(2,-m,1):j/t(2,m,1),g*=4503599627370496,0<(m=52-m)){for(s(0,g),w=T;7<=w;)s(1e7,0),w-=7;for(s(t(10,w,1),0),w=m-1;23<=w;)i(1<<23),w-=23;i(1<<w),s(1,1),i(2),R=c()}else s(0,g),s(1<<-m,0),R=c()+l.call("0",T);return R=0<T?D+((S=R.length)<=T?"0."+l.call("0",T-S)+R:R.slice(0,S-T)+"."+R.slice(S-T)):D+R}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],173:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/object-assign");f({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},{"../internals/export":49,"../internals/object-assign":89}],174:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/fails"),h=e("../internals/object-get-own-property-names-external").f;f({target:"Object",stat:!0,forced:o(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":94}],175:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/fails"),h=e("../internals/to-object"),l=e("../internals/object-get-prototype-of"),d=e("../internals/correct-prototype-getter");f({target:"Object",stat:!0,forced:o(function(){l(1)}),sham:!d},{getPrototypeOf:function(u){return l(h(u))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/to-object"),h=e("../internals/object-keys");f({target:"Object",stat:!0,forced:e("../internals/fails")(function(){h(1)})},{keys:function(l){return h(o(l))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(e,x,v){var f=e("../internals/to-string-tag-support"),o=e("../internals/redefine"),h=e("../internals/object-to-string");f||o(Object.prototype,"toString",h,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(e,x,v){function f(Oe){var Pe;return!(!L(Oe)||typeof(Pe=Oe.then)!="function")&&Pe}function o(Oe,Pe,qe){if(!Pe.notified){Pe.notified=!0;var Xe=Pe.reactions;ne(function(){for(var pe=Pe.value,et=Pe.state==1,B=0;Xe.length>B;){var q,W,X,ie=Xe[B++],we=et?ie.ok:ie.fail,Te=ie.resolve,Ie=ie.reject,de=ie.domain;try{we?(et||(Pe.rejection===2&&Be(Oe,Pe),Pe.rejection=1),we===!0?q=pe:(de&&de.enter(),q=we(pe),de&&(de.exit(),X=!0)),q===ie.promise?Ie(oe("Promise-chain cycle")):(W=f(q))?W.call(q,Te,Ie):Te(q)):Ie(pe)}catch(ze){de&&!X&&de.exit(),Ie(ze)}}Pe.reactions=[],Pe.notified=!1,qe&&!Pe.rejection&&Qe(Oe,Pe)})}}function h(Oe,Pe,qe){var Xe,pe;Me?((Xe=$.createEvent("Event")).promise=Pe,Xe.reason=qe,Xe.initEvent(Oe,!1,!0),c.dispatchEvent(Xe)):Xe={promise:Pe,reason:qe},(pe=c["on"+Oe])?pe(Xe):Oe===Ce&&se("Unhandled promise rejection",qe)}function l(Oe,Pe,qe,Xe){return function(pe){Oe(Pe,qe,pe,Xe)}}function d(Oe,Pe,qe,Xe){Pe.done||(Pe.done=!0,Xe&&(Pe=Xe),Pe.value=qe,Pe.state=2,o(Oe,Pe,!0))}var u,n,t,r,s=e("../internals/export"),i=e("../internals/is-pure"),c=e("../internals/global"),m=e("../internals/get-built-in"),g=e("../internals/native-promise-constructor"),w=e("../internals/redefine"),S=e("../internals/redefine-all"),j=e("../internals/set-to-string-tag"),T=e("../internals/set-species"),L=e("../internals/is-object"),D=e("../internals/a-function"),R=e("../internals/an-instance"),O=e("../internals/classof-raw"),U=e("../internals/inspect-source"),P=e("../internals/iterate"),G=e("../internals/check-correctness-of-iteration"),V=e("../internals/species-constructor"),te=e("../internals/task").set,ne=e("../internals/microtask"),K=e("../internals/promise-resolve"),se=e("../internals/host-report-errors"),J=e("../internals/new-promise-capability"),ue=e("../internals/perform"),me=e("../internals/internal-state"),_e=e("../internals/is-forced"),he=e("../internals/well-known-symbol"),Re=e("../internals/engine-v8-version"),ve=he("species"),ye="Promise",k=me.get,F=me.set,H=me.getterFor(ye),Z=g,oe=c.TypeError,$=c.document,xe=c.process,ee=m("fetch"),ge=J.f,fe=ge,le=O(xe)=="process",Me=!!($&&$.createEvent&&c.dispatchEvent),Ce="unhandledrejection",je=_e(ye,function(){if(U(Z)===String(Z)&&(Re===66||!le&&typeof PromiseRejectionEvent!="function")||i&&!Z.prototype.finally)return!0;if(51<=Re&&/native code/.test(Z))return!1;function Oe(qe){qe(function(){},function(){})}var Pe=Z.resolve(1);return(Pe.constructor={})[ve]=Oe,!(Pe.then(function(){})instanceof Oe)}),Ge=je||!G(function(Oe){Z.all(Oe).catch(function(){})}),Qe=function(Oe,Pe){te.call(c,function(){var qe,Xe=Pe.value;if(Ye(Pe)&&(qe=ue(function(){le?xe.emit("unhandledRejection",Xe,Oe):h(Ce,Oe,Xe)}),Pe.rejection=le||Ye(Pe)?2:1,qe.error))throw qe.value})},Ye=function(Oe){return Oe.rejection!==1&&!Oe.parent},Be=function(Oe,Pe){te.call(c,function(){le?xe.emit("rejectionHandled",Oe):h("rejectionhandled",Oe,Pe.value)})},ut=function(Oe,Pe,qe,Xe){if(!Pe.done){Pe.done=!0,Xe&&(Pe=Xe);try{if(Oe===qe)throw oe("Promise can't be resolved itself");var pe=f(qe);pe?ne(function(){var et={done:!1};try{pe.call(qe,l(ut,Oe,et,Pe),l(d,Oe,et,Pe))}catch(B){d(Oe,et,B,Pe)}}):(Pe.value=qe,Pe.state=1,o(Oe,Pe,!1))}catch(et){d(Oe,{done:!1},et,Pe)}}};je&&(Z=function(Oe){R(this,Z,ye),D(Oe),u.call(this);var Pe=k(this);try{Oe(l(ut,this,Pe),l(d,this,Pe))}catch(qe){d(this,Pe,qe)}},(u=function(){F(this,{type:ye,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=S(Z.prototype,{then:function(Oe,Pe){var qe=H(this),Xe=ge(V(this,Z));return Xe.ok=typeof Oe!="function"||Oe,Xe.fail=typeof Pe=="function"&&Pe,Xe.domain=le?xe.domain:void 0,qe.parent=!0,qe.reactions.push(Xe),qe.state!=0&&o(this,qe,!1),Xe.promise},catch:function(Oe){return this.then(void 0,Oe)}}),n=function(){var Oe=new u,Pe=k(Oe);this.promise=Oe,this.resolve=l(ut,Oe,Pe),this.reject=l(d,Oe,Pe)},J.f=ge=function(Oe){return Oe===Z||Oe===t?new n(Oe):fe(Oe)},i||typeof g!="function"||(r=g.prototype.then,w(g.prototype,"then",function(Oe,Pe){var qe=this;return new Z(function(Xe,pe){r.call(qe,Xe,pe)}).then(Oe,Pe)},{unsafe:!0}),typeof ee=="function"&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(Oe){return K(Z,ee.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:je},{Promise:Z}),j(Z,ye,!1,!0),T(ye),t=m(ye),s({target:ye,stat:!0,forced:je},{reject:function(Oe){var Pe=ge(this);return Pe.reject.call(void 0,Oe),Pe.promise}}),s({target:ye,stat:!0,forced:i||je},{resolve:function(Oe){return K(i&&this===t?Z:this,Oe)}}),s({target:ye,stat:!0,forced:Ge},{all:function(Oe){var Pe=this,qe=ge(Pe),Xe=qe.resolve,pe=qe.reject,et=ue(function(){var B=D(Pe.resolve),q=[],W=0,X=1;P(Oe,function(ie){var we=W++,Te=!1;q.push(void 0),X++,B.call(Pe,ie).then(function(Ie){Te||(Te=!0,q[we]=Ie,--X||Xe(q))},pe)}),--X||Xe(q)});return et.error&&pe(et.value),qe.promise},race:function(Oe){var Pe=this,qe=ge(Pe),Xe=qe.reject,pe=ue(function(){var et=D(Pe.resolve);P(Oe,function(B){et.call(Pe,B).then(qe.resolve,Xe)})});return pe.error&&Xe(pe.value),qe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/get-built-in"),h=e("../internals/a-function"),l=e("../internals/an-object"),d=e("../internals/is-object"),u=e("../internals/object-create"),n=e("../internals/function-bind"),t=e("../internals/fails"),r=o("Reflect","construct"),s=t(function(){function m(){}return!(r(function(){},[],m)instanceof m)}),i=!t(function(){r(function(){})}),c=s||i;f({target:"Reflect",stat:!0,forced:c,sham:c},{construct:function(m,g,w){h(m),l(g);var S=arguments.length<3?m:h(w);if(i&&!s)return r(m,g,S);if(m==S){switch(g.length){case 0:return new m;case 1:return new m(g[0]);case 2:return new m(g[0],g[1]);case 3:return new m(g[0],g[1],g[2]);case 4:return new m(g[0],g[1],g[2],g[3])}var j=[null];return j.push.apply(j,g),new(n.apply(m,j))}var T=S.prototype,L=u(d(T)?T:Object.prototype),D=Function.apply.call(m,L,g);return d(D)?D:L}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(e,x,v){var f=e("../internals/descriptors"),o=e("../internals/global"),h=e("../internals/is-forced"),l=e("../internals/inherit-if-required"),d=e("../internals/object-define-property").f,u=e("../internals/object-get-own-property-names").f,n=e("../internals/is-regexp"),t=e("../internals/regexp-flags"),r=e("../internals/regexp-sticky-helpers"),s=e("../internals/redefine"),i=e("../internals/fails"),c=e("../internals/internal-state").set,m=e("../internals/set-species"),g=e("../internals/well-known-symbol")("match"),w=o.RegExp,S=w.prototype,j=/a/g,T=/a/g,L=new w(j)!==j,D=r.UNSUPPORTED_Y;if(f&&h("RegExp",!L||D||i(function(){return T[g]=!1,w(j)!=j||w(T)==T||w(j,"i")!="/a/i"}))){let G=function(V){V in R||d(R,V,{configurable:!0,get:function(){return w[V]},set:function(te){w[V]=te}})};for(var P=G,R=function(V,te){var ne,K=this instanceof R,se=n(V),J=te===void 0;if(!K&&se&&V.constructor===R&&J)return V;L?se&&!J&&(V=V.source):V instanceof R&&(J&&(te=t.call(V)),V=V.source),D&&(ne=!!te&&-1<te.indexOf("y"))&&(te=te.replace(/y/g,""));var ue=l(L?new w(V,te):w(V,te),K?this:S,R);return D&&ne&&c(ue,{sticky:ne}),ue},O=u(w),U=0;O.length>U;)G(O[U++]);(S.constructor=R).prototype=S,s(o,"RegExp",R)}m("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/regexp-exec");f({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},{"../internals/export":49,"../internals/regexp-exec":110}],182:[function(e,x,v){var f=e("../internals/redefine"),o=e("../internals/an-object"),h=e("../internals/fails"),l=e("../internals/regexp-flags"),d="toString",u=RegExp.prototype,n=u[d],t=h(function(){return n.call({source:"a",flags:"b"})!="/a/b"}),r=n.name!=d;(t||r)&&f(RegExp.prototype,d,function(){var s=o(this),i=String(s.source),c=s.flags;return"/"+i+"/"+String(c===void 0&&s instanceof RegExp&&!("flags"in u)?l.call(s):c)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(e,x,v){var f=e("../internals/collection"),o=e("../internals/collection-strong");x.exports=f("Set",function(h){return function(l){return h(this,arguments.length?l:void 0)}},o)},{"../internals/collection":31,"../internals/collection-strong":30}],184:[function(e,x,v){var f,o=e("../internals/export"),h=e("../internals/object-get-own-property-descriptor").f,l=e("../internals/to-length"),d=e("../internals/not-a-regexp"),u=e("../internals/require-object-coercible"),n=e("../internals/correct-is-regexp-logic"),t=e("../internals/is-pure"),r="".endsWith,s=Math.min,i=n("endsWith");o({target:"String",proto:!0,forced:!!(t||i||!(f=h(String.prototype,"endsWith"))||f.writable)&&!i},{endsWith:function(c,m){var g=String(u(this));d(c);var w=1<arguments.length?m:void 0,S=l(g.length),j=w===void 0?S:s(l(w),S),T=String(c);return r?r.call(g,T,j):g.slice(j-T.length,j)===T}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/not-a-regexp"),h=e("../internals/require-object-coercible");f({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(l,d){return!!~String(h(this)).indexOf(o(l),1<arguments.length?d:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(e,x,v){var f=e("../internals/string-multibyte").charAt,o=e("../internals/internal-state"),h=e("../internals/define-iterator"),l="String Iterator",d=o.set,u=o.getterFor(l);h(String,"String",function(n){d(this,{type:l,string:String(n),index:0})},function(){var n,t=u(this),r=t.string,s=t.index;return s>=r.length?{value:void 0,done:!0}:(n=f(r,s),t.index+=n.length,{value:n,done:!1})})},{"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(e,x,v){var f=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),h=e("../internals/to-length"),l=e("../internals/require-object-coercible"),d=e("../internals/advance-string-index"),u=e("../internals/regexp-exec-abstract");f("match",1,function(n,t,r){return[function(s){var i=l(this),c=s==null?void 0:s[n];return c!==void 0?c.call(s,i):new RegExp(s)[n](String(i))},function(s){var i=r(t,s,this);if(i.done)return i.value;var c=o(s),m=String(this);if(!c.global)return u(c,m);for(var g,w=c.unicode,S=[],j=c.lastIndex=0;(g=u(c,m))!==null;){var T=String(g[0]);(S[j]=T)===""&&(c.lastIndex=d(m,h(c.lastIndex),w)),j++}return j===0?null:S}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(e,x,v){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":125}],189:[function(e,x,v){var f=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),h=e("../internals/to-object"),l=e("../internals/to-length"),d=e("../internals/to-integer"),u=e("../internals/require-object-coercible"),n=e("../internals/advance-string-index"),t=e("../internals/regexp-exec-abstract"),r=Math.max,s=Math.min,i=Math.floor,c=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;f("replace",2,function(g,w,S,j){var T=j.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,L=j.REPLACE_KEEPS_$0,D=T?"$":"$0";return[function(O,U){var P=u(this),G=O==null?void 0:O[g];return G!==void 0?G.call(O,P,U):w.call(String(P),O,U)},function(O,U){if(!T&&L||typeof U=="string"&&U.indexOf(D)===-1){var P=S(w,O,this,U);if(P.done)return P.value}var G=o(O),V=String(this),te=typeof U=="function";te||(U=String(U));var ne=G.global;if(ne){var K=G.unicode;G.lastIndex=0}for(var se=[];;){var J=t(G,V);if(J===null||(se.push(J),!ne))break;String(J[0])===""&&(G.lastIndex=n(V,l(G.lastIndex),K))}for(var ue,me="",_e=0,he=0;he<se.length;he++){J=se[he];for(var Re=String(J[0]),ve=r(s(d(J.index),V.length),0),ye=[],k=1;k<J.length;k++)ye.push((ue=J[k])===void 0?ue:String(ue));var F=J.groups;if(te){var H=[Re].concat(ye,ve,V);F!==void 0&&H.push(F);var Z=String(U.apply(void 0,H))}else Z=R(Re,V,ve,ye,F,U);_e<=ve&&(me+=V.slice(_e,ve)+Z,_e=ve+Re.length)}return me+V.slice(_e)}];function R(O,U,P,G,V,te){var ne=P+O.length,K=G.length,se=m;return V!==void 0&&(V=h(V),se=c),w.call(te,se,function(J,ue){var me;switch(ue.charAt(0)){case"$":return"$";case"&":return O;case"`":return U.slice(0,P);case"'":return U.slice(ne);case"<":me=V[ue.slice(1,-1)];break;default:var _e=+ue;if(_e==0)return J;if(K<_e){var he=i(_e/10);return he===0?J:he<=K?G[he-1]===void 0?ue.charAt(1):G[he-1]+ue.charAt(1):J}me=G[_e-1]}return me===void 0?"":me})}})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(e,x,v){var f=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),h=e("../internals/require-object-coercible"),l=e("../internals/same-value"),d=e("../internals/regexp-exec-abstract");f("search",1,function(u,n,t){return[function(r){var s=h(this),i=r==null?void 0:r[u];return i!==void 0?i.call(r,s):new RegExp(r)[u](String(s))},function(r){var s=t(n,r,this);if(s.done)return s.value;var i=o(r),c=String(this),m=i.lastIndex;l(m,0)||(i.lastIndex=0);var g=d(i,c);return l(i.lastIndex,m)||(i.lastIndex=m),g===null?-1:g.index}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(e,x,v){var f=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/is-regexp"),h=e("../internals/an-object"),l=e("../internals/require-object-coercible"),d=e("../internals/species-constructor"),u=e("../internals/advance-string-index"),n=e("../internals/to-length"),t=e("../internals/regexp-exec-abstract"),r=e("../internals/regexp-exec"),s=e("../internals/fails"),i=[].push,c=Math.min,m=4294967295,g=!s(function(){return!RegExp(m,"y")});f("split",2,function(w,S,j){var T;return T="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(L,D){var R=String(l(this)),O=D===void 0?m:D>>>0;if(O==0)return[];if(L===void 0)return[R];if(!o(L))return S.call(R,L,O);for(var U,P,G,V=[],te=(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(L.sticky?"y":""),ne=0,K=new RegExp(L.source,te+"g");(U=r.call(K,R))&&!(ne<(P=K.lastIndex)&&(V.push(R.slice(ne,U.index)),1<U.length&&U.index<R.length&&i.apply(V,U.slice(1)),G=U[0].length,ne=P,V.length>=O));)K.lastIndex===U.index&&K.lastIndex++;return ne===R.length?!G&&K.test("")||V.push(""):V.push(R.slice(ne)),V.length>O?V.slice(0,O):V}:"0".split(void 0,0).length?function(L,D){return L===void 0&&D===0?[]:S.call(this,L,D)}:S,[function(L,D){var R=l(this),O=L==null?void 0:L[w];return O!==void 0?O.call(L,R,D):T.call(String(R),L,D)},function(L,D){var R=j(T,L,this,D,T!==S);if(R.done)return R.value;var O=h(L),U=String(this),P=d(O,RegExp),G=O.unicode,V=(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.unicode?"u":"")+(g?"y":"g"),te=new P(g?O:"^(?:"+O.source+")",V),ne=D===void 0?m:D>>>0;if(ne==0)return[];if(U.length===0)return t(te,U)===null?[U]:[];for(var K=0,se=0,J=[];se<U.length;){te.lastIndex=g?se:0;var ue,me=t(te,g?U:U.slice(se));if(me===null||(ue=c(n(te.lastIndex+(g?0:se)),U.length))===K)se=u(U,se,G);else{if(J.push(U.slice(K,se)),J.length===ne)return J;for(var _e=1;_e<=me.length-1;_e++)if(J.push(me[_e]),J.length===ne)return J;se=K=ue}}return J.push(U.slice(K)),J}]},!g)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/create-html");f({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return o(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":122}],193:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/string-trim").trim;f({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return o(this)}})},{"../internals/export":49,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(e,x,v){var f=e("../internals/export"),o=e("../internals/descriptors"),h=e("../internals/global"),l=e("../internals/has"),d=e("../internals/is-object"),u=e("../internals/object-define-property").f,n=e("../internals/copy-constructor-properties"),t=h.Symbol;if(o&&typeof t=="function"&&(!("description"in t.prototype)||t().description!==void 0)){var r={},s=function(w){var S=arguments.length<1||w===void 0?void 0:String(w),j=this instanceof s?new t(S):S===void 0?t():t(S);return S===""&&(r[j]=!0),j};n(s,t);var i=s.prototype=t.prototype;i.constructor=s;var c=i.toString,m=String(t("test"))=="Symbol(test)",g=/^Symbol\((.*)\)[^)]+$/;u(i,"description",{configurable:!0,get:function(){var w=d(this)?this.valueOf():this,S=c.call(w);if(l(r,w))return"";var j=m?S.slice(7,-1):S.replace(g,"$1");return j===""?void 0:j}}),f({global:!0,forced:!0},{Symbol:s})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(e,x,v){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],196:[function(e,x,v){function f(W,X){var ie=Qe[W]=R(fe[oe]);return xe(ie,{type:Z,tag:W,description:X}),r||(ie.description=X),ie}function o(W,X){S(W);var ie=T(X),we=O(ie).concat(q(ie));return F(we,function(Te){r&&!B.call(ie,Te)||et(W,Te,ie[Te])}),W}function h(W,X){var ie=T(W),we=L(X,!0);if(ie!==ge||!m(Qe,we)||m(Ye,we)){var Te=Me(ie,we);return!Te||!m(Qe,we)||m(ie,H)&&ie[H][we]||(Te.enumerable=!0),Te}}function l(W){var X=je(T(W)),ie=[];return F(X,function(we){m(Qe,we)||m(me,we)||ie.push(we)}),ie}var d=e("../internals/export"),u=e("../internals/global"),n=e("../internals/get-built-in"),t=e("../internals/is-pure"),r=e("../internals/descriptors"),s=e("../internals/native-symbol"),i=e("../internals/use-symbol-as-uid"),c=e("../internals/fails"),m=e("../internals/has"),g=e("../internals/is-array"),w=e("../internals/is-object"),S=e("../internals/an-object"),j=e("../internals/to-object"),T=e("../internals/to-indexed-object"),L=e("../internals/to-primitive"),D=e("../internals/create-property-descriptor"),R=e("../internals/object-create"),O=e("../internals/object-keys"),U=e("../internals/object-get-own-property-names"),P=e("../internals/object-get-own-property-names-external"),G=e("../internals/object-get-own-property-symbols"),V=e("../internals/object-get-own-property-descriptor"),te=e("../internals/object-define-property"),ne=e("../internals/object-property-is-enumerable"),K=e("../internals/create-non-enumerable-property"),se=e("../internals/redefine"),J=e("../internals/shared"),ue=e("../internals/shared-key"),me=e("../internals/hidden-keys"),_e=e("../internals/uid"),he=e("../internals/well-known-symbol"),Re=e("../internals/well-known-symbol-wrapped"),ve=e("../internals/define-well-known-symbol"),ye=e("../internals/set-to-string-tag"),k=e("../internals/internal-state"),F=e("../internals/array-iteration").forEach,H=ue("hidden"),Z="Symbol",oe="prototype",$=he("toPrimitive"),xe=k.set,ee=k.getterFor(Z),ge=Object[oe],fe=u.Symbol,le=n("JSON","stringify"),Me=V.f,Ce=te.f,je=P.f,Ge=ne.f,Qe=J("symbols"),Ye=J("op-symbols"),Be=J("string-to-symbol-registry"),ut=J("symbol-to-string-registry"),Oe=J("wks"),Pe=u.QObject,qe=!Pe||!Pe[oe]||!Pe[oe].findChild,Xe=r&&c(function(){return R(Ce({},"a",{get:function(){return Ce(this,"a",{value:7}).a}})).a!=7})?function(W,X,ie){var we=Me(ge,X);we&&delete ge[X],Ce(W,X,ie),we&&W!==ge&&Ce(ge,X,we)}:Ce,pe=i?function(W){return typeof W=="symbol"}:function(W){return Object(W)instanceof fe},et=function(W,X,ie){W===ge&&et(Ye,X,ie),S(W);var we=L(X,!0);return S(ie),m(Qe,we)?(ie.enumerable?(m(W,H)&&W[H][we]&&(W[H][we]=!1),ie=R(ie,{enumerable:D(0,!1)})):(m(W,H)||Ce(W,H,D(1,{})),W[H][we]=!0),Xe(W,we,ie)):Ce(W,we,ie)},B=function(W){var X=L(W,!0),ie=Ge.call(this,X);return!(this===ge&&m(Qe,X)&&!m(Ye,X))&&(!(ie||!m(this,X)||!m(Qe,X)||m(this,H)&&this[H][X])||ie)},q=function(W){var X=W===ge,ie=je(X?Ye:T(W)),we=[];return F(ie,function(Te){!m(Qe,Te)||X&&!m(ge,Te)||we.push(Qe[Te])}),we};s||(se((fe=function(W){if(this instanceof fe)throw TypeError("Symbol is not a constructor");var X=arguments.length&&W!==void 0?String(W):void 0,ie=_e(X),we=function(Te){this===ge&&we.call(Ye,Te),m(this,H)&&m(this[H],ie)&&(this[H][ie]=!1),Xe(this,ie,D(1,Te))};return r&&qe&&Xe(ge,ie,{configurable:!0,set:we}),f(ie,X)})[oe],"toString",function(){return ee(this).tag}),se(fe,"withoutSetter",function(W){return f(_e(W),W)}),ne.f=B,te.f=et,V.f=h,U.f=P.f=l,G.f=q,Re.f=function(W){return f(he(W),W)},r&&(Ce(fe[oe],"description",{configurable:!0,get:function(){return ee(this).description}}),t||se(ge,"propertyIsEnumerable",B,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:fe}),F(O(Oe),function(W){ve(W)}),d({target:Z,stat:!0,forced:!s},{for:function(W){var X=String(W);if(m(Be,X))return Be[X];var ie=fe(X);return Be[X]=ie,ut[ie]=X,ie},keyFor:function(W){if(!pe(W))throw TypeError(W+" is not a symbol");if(m(ut,W))return ut[W]},useSetter:function(){qe=!0},useSimple:function(){qe=!1}}),d({target:"Object",stat:!0,forced:!s,sham:!r},{create:function(W,X){return X===void 0?R(W):o(R(W),X)},defineProperty:et,defineProperties:o,getOwnPropertyDescriptor:h}),d({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:l,getOwnPropertySymbols:q}),d({target:"Object",stat:!0,forced:c(function(){G.f(1)})},{getOwnPropertySymbols:function(W){return G.f(j(W))}}),le&&d({target:"JSON",stat:!0,forced:!s||c(function(){var W=fe();return le([W])!="[null]"||le({a:W})!="{}"||le(Object(W))!="{}"})},{stringify:function(W,X,ie){for(var we,Te=[W],Ie=1;Ie<arguments.length;)Te.push(arguments[Ie++]);if((w(we=X)||W!==void 0)&&!pe(W))return g(X)||(X=function(de,ze){if(typeof we=="function"&&(ze=we.call(this,de,ze)),!pe(ze))return ze}),Te[1]=X,le.apply(null,Te)}}),fe[oe][$]||K(fe[oe],$,fe[oe].valueOf),ye(fe,Z),me[H]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-copy-within"),h=f.aTypedArray;(0,f.exportTypedArrayMethod)("copyWithin",function(l,d,u){return o.call(h(this),l,d,2<arguments.length?u:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").every,h=f.aTypedArray;(0,f.exportTypedArrayMethod)("every",function(l,d){return o(h(this),l,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-fill"),h=f.aTypedArray;(0,f.exportTypedArrayMethod)("fill",function(l){return o.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").filter,h=e("../internals/species-constructor"),l=f.aTypedArray,d=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("filter",function(u,n){for(var t=o(l(this),u,1<arguments.length?n:void 0),r=h(this,this.constructor),s=0,i=t.length,c=new(d(r))(i);s<i;)c[s]=t[s++];return c})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").findIndex,h=f.aTypedArray;(0,f.exportTypedArrayMethod)("findIndex",function(l,d){return o(h(this),l,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").find,h=f.aTypedArray;(0,f.exportTypedArrayMethod)("find",function(l,d){return o(h(this),l,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,x,v){e("../internals/typed-array-constructor")("Float32",function(f){return function(o,h,l){return f(this,o,h,l)}})},{"../internals/typed-array-constructor":140}],204:[function(e,x,v){e("../internals/typed-array-constructor")("Float64",function(f){return function(o,h,l){return f(this,o,h,l)}})},{"../internals/typed-array-constructor":140}],205:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").forEach,h=f.aTypedArray;(0,f.exportTypedArrayMethod)("forEach",function(l,d){o(h(this),l,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-includes").includes,h=f.aTypedArray;(0,f.exportTypedArrayMethod)("includes",function(l,d){return o(h(this),l,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-includes").indexOf,h=f.aTypedArray;(0,f.exportTypedArrayMethod)("indexOf",function(l,d){return o(h(this),l,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(e,x,v){e("../internals/typed-array-constructor")("Int16",function(f){return function(o,h,l){return f(this,o,h,l)}})},{"../internals/typed-array-constructor":140}],209:[function(e,x,v){e("../internals/typed-array-constructor")("Int32",function(f){return function(o,h,l){return f(this,o,h,l)}})},{"../internals/typed-array-constructor":140}],210:[function(e,x,v){function f(){return n.call(s(this))}var o=e("../internals/global"),h=e("../internals/array-buffer-view-core"),l=e("../modules/es.array.iterator"),d=e("../internals/well-known-symbol")("iterator"),u=o.Uint8Array,n=l.values,t=l.keys,r=l.entries,s=h.aTypedArray,i=h.exportTypedArrayMethod,c=u&&u.prototype[d],m=!!c&&(c.name=="values"||c.name==null);i("entries",function(){return r.call(s(this))}),i("keys",function(){return t.call(s(this))}),i("values",f,!m),i(d,f,!m)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=f.aTypedArray,h=f.exportTypedArrayMethod,l=[].join;h("join",function(d){return l.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-last-index-of"),h=f.aTypedArray;(0,f.exportTypedArrayMethod)("lastIndexOf",function(l){return o.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").map,h=e("../internals/species-constructor"),l=f.aTypedArray,d=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("map",function(u,n){return o(l(this),u,1<arguments.length?n:void 0,function(t,r){return new(d(h(t,t.constructor)))(r)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-reduce").right,h=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduceRight",function(l,d){return o(h(this),l,arguments.length,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-reduce").left,h=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduce",function(l,d){return o(h(this),l,arguments.length,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=f.aTypedArray,h=f.exportTypedArrayMethod,l=Math.floor;h("reverse",function(){for(var d,u=o(this).length,n=l(u/2),t=0;t<n;)d=this[t],this[t++]=this[--u],this[u]=d;return this})},{"../internals/array-buffer-view-core":12}],217:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/to-length"),h=e("../internals/to-offset"),l=e("../internals/to-object"),d=e("../internals/fails"),u=f.aTypedArray;(0,f.exportTypedArrayMethod)("set",function(n,t){u(this);var r=h(1<arguments.length?t:void 0,1),s=this.length,i=l(n),c=o(i.length),m=0;if(s<c+r)throw RangeError("Wrong length");for(;m<c;)this[r+m]=i[m++]},d(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/species-constructor"),h=e("../internals/fails"),l=f.aTypedArray,d=f.aTypedArrayConstructor,u=f.exportTypedArrayMethod,n=[].slice;u("slice",function(t,r){for(var s=n.call(l(this),t,r),i=o(this,this.constructor),c=0,m=s.length,g=new(d(i))(m);c<m;)g[c]=s[c++];return g},h(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":121}],219:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").some,h=f.aTypedArray;(0,f.exportTypedArrayMethod)("some",function(l,d){return o(h(this),l,1<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=f.aTypedArray,h=f.exportTypedArrayMethod,l=[].sort;h("sort",function(d){return l.call(o(this),d)})},{"../internals/array-buffer-view-core":12}],221:[function(e,x,v){var f=e("../internals/array-buffer-view-core"),o=e("../internals/to-length"),h=e("../internals/to-absolute-index"),l=e("../internals/species-constructor"),d=f.aTypedArray;(0,f.exportTypedArrayMethod)("subarray",function(u,n){var t=d(this),r=t.length,s=h(u,r);return new(l(t,t.constructor))(t.buffer,t.byteOffset+s*t.BYTES_PER_ELEMENT,o((n===void 0?r:h(n,r))-s))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(e,x,v){var f=e("../internals/global"),o=e("../internals/array-buffer-view-core"),h=e("../internals/fails"),l=f.Int8Array,d=o.aTypedArray,u=o.exportTypedArrayMethod,n=[].toLocaleString,t=[].slice,r=!!l&&h(function(){n.call(new l(1))});u("toLocaleString",function(){return n.apply(r?t.call(d(this)):d(this),arguments)},h(function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()})||!h(function(){l.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],223:[function(e,x,v){var f=e("../internals/array-buffer-view-core").exportTypedArrayMethod,o=e("../internals/fails"),h=e("../internals/global").Uint8Array,l=h&&h.prototype||{},d=[].toString,u=[].join;o(function(){d.call({})})&&(d=function(){return u.call(this)}),f("toString",d,l.toString!=d)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],224:[function(e,x,v){e("../internals/typed-array-constructor")("Uint16",function(f){return function(o,h,l){return f(this,o,h,l)}})},{"../internals/typed-array-constructor":140}],225:[function(e,x,v){e("../internals/typed-array-constructor")("Uint32",function(f){return function(o,h,l){return f(this,o,h,l)}})},{"../internals/typed-array-constructor":140}],226:[function(e,x,v){e("../internals/typed-array-constructor")("Uint8",function(f){return function(o,h,l){return f(this,o,h,l)}})},{"../internals/typed-array-constructor":140}],227:[function(e,x,v){e("../internals/typed-array-constructor")("Uint8",function(f){return function(o,h,l){return f(this,o,h,l)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(e,x,v){var f=e("../internals/global"),o=e("../internals/dom-iterables"),h=e("../internals/array-for-each"),l=e("../internals/create-non-enumerable-property");for(var d in o){var u=f[d],n=u&&u.prototype;if(n&&n.forEach!==h)try{l(n,"forEach",h)}catch{n.forEach=h}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59}],229:[function(e,x,v){var f=e("../internals/global"),o=e("../internals/dom-iterables"),h=e("../modules/es.array.iterator"),l=e("../internals/create-non-enumerable-property"),d=e("../internals/well-known-symbol"),u=d("iterator"),n=d("toStringTag"),t=h.values;for(var r in o){var s=f[r],i=s&&s.prototype;if(i){if(i[u]!==t)try{l(i,u,t)}catch{i[u]=t}if(i[n]||l(i,n,r),o[r]){for(var c in h)if(i[c]!==h[c])try{l(i,c,h[c])}catch{i[c]=h[c]}}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],230:[function(e,x,v){e("../modules/es.array.iterator");function f(Z){try{return decodeURIComponent(Z)}catch{return Z}}function o(Z){var oe,$=Z.replace(he," "),xe=4;try{return decodeURIComponent($)}catch{for(;xe;)$=$.replace((oe=xe--,Re[oe-1]||(Re[oe-1]=RegExp("((?:%[\\da-f]{2}){"+oe+"})","gi"))),f);return $}}function h(Z){return ye[Z]}function l(Z){return encodeURIComponent(Z).replace(ve,h)}function d(Z,oe){if(oe)for(var $,xe,ee=oe.split("&"),ge=0;ge<ee.length;)($=ee[ge++]).length&&(xe=$.split("="),Z.push({key:o(xe.shift()),value:o(xe.join("="))}))}function u(Z){this.entries.length=0,d(this.entries,Z)}function n(Z,oe){if(Z<oe)throw TypeError("Not enough arguments")}var t=e("../internals/export"),r=e("../internals/get-built-in"),s=e("../internals/native-url"),i=e("../internals/redefine"),c=e("../internals/redefine-all"),m=e("../internals/set-to-string-tag"),g=e("../internals/create-iterator-constructor"),w=e("../internals/internal-state"),S=e("../internals/an-instance"),j=e("../internals/has"),T=e("../internals/function-bind-context"),L=e("../internals/classof"),D=e("../internals/an-object"),R=e("../internals/is-object"),O=e("../internals/object-create"),U=e("../internals/create-property-descriptor"),P=e("../internals/get-iterator"),G=e("../internals/get-iterator-method"),V=e("../internals/well-known-symbol"),te=r("fetch"),ne=r("Headers"),K=V("iterator"),se="URLSearchParams",J=se+"Iterator",ue=w.set,me=w.getterFor(se),_e=w.getterFor(J),he=/\+/g,Re=Array(4),ve=/[!'()~]|%20/g,ye={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},k=g(function(Z,oe){ue(this,{type:J,iterator:P(me(Z).entries),kind:oe})},"Iterator",function(){var Z=_e(this),oe=Z.kind,$=Z.iterator.next(),xe=$.value;return $.done||($.value=oe==="keys"?xe.key:oe==="values"?xe.value:[xe.key,xe.value]),$}),F=function(Z){S(this,F,se);var oe,$,xe,ee,ge,fe,le,Me,Ce,je=0<arguments.length?Z:void 0,Ge=[];if(ue(this,{type:se,entries:Ge,updateURL:function(){},updateSearchParams:u}),je!==void 0)if(R(je))if(typeof(oe=G(je))=="function")for(xe=($=oe.call(je)).next;!(ee=xe.call($)).done;){if((le=(fe=(ge=P(D(ee.value))).next).call(ge)).done||(Me=fe.call(ge)).done||!fe.call(ge).done)throw TypeError("Expected sequence with length 2");Ge.push({key:le.value+"",value:Me.value+""})}else for(Ce in je)j(je,Ce)&&Ge.push({key:Ce,value:je[Ce]+""});else d(Ge,typeof je=="string"?je.charAt(0)==="?"?je.slice(1):je:je+"")},H=F.prototype;c(H,{append:function(Z,oe){n(arguments.length,2);var $=me(this);$.entries.push({key:Z+"",value:oe+""}),$.updateURL()},delete:function(Z){n(arguments.length,1);for(var oe=me(this),$=oe.entries,xe=Z+"",ee=0;ee<$.length;)$[ee].key===xe?$.splice(ee,1):ee++;oe.updateURL()},get:function(Z){n(arguments.length,1);for(var oe=me(this).entries,$=Z+"",xe=0;xe<oe.length;xe++)if(oe[xe].key===$)return oe[xe].value;return null},getAll:function(Z){n(arguments.length,1);for(var oe=me(this).entries,$=Z+"",xe=[],ee=0;ee<oe.length;ee++)oe[ee].key===$&&xe.push(oe[ee].value);return xe},has:function(Z){n(arguments.length,1);for(var oe=me(this).entries,$=Z+"",xe=0;xe<oe.length;)if(oe[xe++].key===$)return!0;return!1},set:function(Z,oe){n(arguments.length,1);for(var $,xe=me(this),ee=xe.entries,ge=!1,fe=Z+"",le=oe+"",Me=0;Me<ee.length;Me++)($=ee[Me]).key===fe&&(ge?ee.splice(Me--,1):(ge=!0,$.value=le));ge||ee.push({key:fe,value:le}),xe.updateURL()},sort:function(){var Z,oe,$,xe=me(this),ee=xe.entries,ge=ee.slice();for($=ee.length=0;$<ge.length;$++){for(Z=ge[$],oe=0;oe<$;oe++)if(ee[oe].key>Z.key){ee.splice(oe,0,Z);break}oe===$&&ee.push(Z)}xe.updateURL()},forEach:function(Z,oe){for(var $,xe=me(this).entries,ee=T(Z,1<arguments.length?oe:void 0,3),ge=0;ge<xe.length;)ee(($=xe[ge++]).value,$.key,this)},keys:function(){return new k(this,"keys")},values:function(){return new k(this,"values")},entries:function(){return new k(this,"entries")}},{enumerable:!0}),i(H,K,H.entries),i(H,"toString",function(){for(var Z,oe=me(this).entries,$=[],xe=0;xe<oe.length;)Z=oe[xe++],$.push(l(Z.key)+"="+l(Z.value));return $.join("&")},{enumerable:!0}),m(F,se),t({global:!0,forced:!s},{URLSearchParams:F}),s||typeof te!="function"||typeof ne!="function"||t({global:!0,enumerable:!0,forced:!0},{fetch:function(Z,oe){var $,xe,ee,ge=[Z];return 1<arguments.length&&(R($=oe)&&(xe=$.body,L(xe)===se&&((ee=$.headers?new ne($.headers):new ne).has("content-type")||ee.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),$=O($,{body:U(0,String(xe)),headers:U(0,ee)}))),ge.push($)),te.apply(this,ge)}}),x.exports={URLSearchParams:F,getState:me}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(e,x,v){e("../modules/es.string.iterator");function f(ae,De){var He,Ue,Ke;if(De.charAt(0)=="["){if(De.charAt(De.length-1)!="]"||!(He=fe(De.slice(1,-1))))return _e;ae.host=He}else if(Ye(ae)){if(De=O(De),oe.test(De)||(He=ge(De))===null)return _e;ae.host=He}else{if($.test(De))return _e;for(He="",Ue=D(De),Ke=0;Ke<Ue.length;Ke++)He+=Ge(Ue[Ke],le);ae.host=He}}function o(ae){var De,He,Ue,Ke;if(typeof ae=="number"){for(De=[],He=0;He<4;He++)De.unshift(ae%256),ae=J(ae/256);return De.join(".")}if(typeof ae!="object")return ae;for(De="",Ue=function(Le){for(var yt=null,_t=1,Et=null,ht=0,Ze=0;Ze<8;Ze++)Le[Ze]!==0?(_t<ht&&(yt=Et,_t=ht),Et=null,ht=0):(Et===null&&(Et=Ze),++ht);return _t<ht&&(yt=Et,_t=ht),yt}(ae),He=0;He<8;He++)Ke&&ae[He]===0||(Ke=Ke&&!1,Ue===He?(De+=He?":":"::",Ke=!0):(De+=ae[He].toString(16),He<7&&(De+=":")));return"["+De+"]"}function h(ae){return ae.username!=""||ae.password!=""}function l(ae){return!ae.host||ae.cannotBeABaseURL||ae.scheme=="file"}function d(ae,De){var He;return ae.length==2&&Re.test(ae.charAt(0))&&((He=ae.charAt(1))==":"||!De&&He=="|")}function u(ae){var De;return 1<ae.length&&d(ae.slice(0,2))&&(ae.length==2||(De=ae.charAt(2))==="/"||De==="\\"||De==="?"||De==="#")}function n(ae){var De=ae.path,He=De.length;!He||ae.scheme=="file"&&He==1&&d(De[0],!0)||De.pop()}function t(ae,De,He,Ue){var Ke,Le,yt,_t,Et,ht,Ze=He||Be,Pt=0,st="",nn=!1,Nr=!1,on=!1;for(He||(ae.scheme="",ae.username="",ae.password="",ae.host=null,ae.port=null,ae.path=[],ae.query=null,ae.fragment=null,ae.cannotBeABaseURL=!1,De=De.replace(xe,"")),De=De.replace(ee,""),Ke=D(De);Pt<=Ke.length;){switch(Le=Ke[Pt],Ze){case Be:if(!Le||!Re.test(Le)){if(He)return me;Ze=Oe;continue}st+=Le.toLowerCase(),Ze=ut;break;case ut:if(Le&&(ve.test(Le)||Le=="+"||Le=="-"||Le=="."))st+=Le.toLowerCase();else{if(Le!=":"){if(He)return me;st="",Ze=Oe,Pt=0;continue}if(He&&(Ye(ae)!=T(Qe,st)||st=="file"&&(h(ae)||ae.port!==null)||ae.scheme=="file"&&!ae.host))return;if(ae.scheme=st,He)return void(Ye(ae)&&Qe[ae.scheme]==ae.port&&(ae.port=null));st="",ae.scheme=="file"?Ze=we:Ye(ae)&&Ue&&Ue.scheme==ae.scheme?Ze=Pe:Ye(ae)?Ze=et:Ke[Pt+1]=="/"?(Ze=qe,Pt++):(ae.cannotBeABaseURL=!0,ae.path.push(""),Ze=nt)}break;case Oe:if(!Ue||Ue.cannotBeABaseURL&&Le!="#")return me;if(Ue.cannotBeABaseURL&&Le=="#"){ae.scheme=Ue.scheme,ae.path=Ue.path.slice(),ae.query=Ue.query,ae.fragment="",ae.cannotBeABaseURL=!0,Ze=dt;break}Ze=Ue.scheme=="file"?we:Xe;continue;case Pe:if(Le!="/"||Ke[Pt+1]!="/"){Ze=Xe;continue}Ze=B,Pt++;break;case qe:if(Le=="/"){Ze=q;break}Ze=ze;continue;case Xe:if(ae.scheme=Ue.scheme,Le==s)ae.username=Ue.username,ae.password=Ue.password,ae.host=Ue.host,ae.port=Ue.port,ae.path=Ue.path.slice(),ae.query=Ue.query;else if(Le=="/"||Le=="\\"&&Ye(ae))Ze=pe;else if(Le=="?")ae.username=Ue.username,ae.password=Ue.password,ae.host=Ue.host,ae.port=Ue.port,ae.path=Ue.path.slice(),ae.query="",Ze=at;else{if(Le!="#"){ae.username=Ue.username,ae.password=Ue.password,ae.host=Ue.host,ae.port=Ue.port,ae.path=Ue.path.slice(),ae.path.pop(),Ze=ze;continue}ae.username=Ue.username,ae.password=Ue.password,ae.host=Ue.host,ae.port=Ue.port,ae.path=Ue.path.slice(),ae.query=Ue.query,ae.fragment="",Ze=dt}break;case pe:if(!Ye(ae)||Le!="/"&&Le!="\\"){if(Le!="/"){ae.username=Ue.username,ae.password=Ue.password,ae.host=Ue.host,ae.port=Ue.port,Ze=ze;continue}Ze=q}else Ze=B;break;case et:if(Ze=B,Le!="/"||st.charAt(Pt+1)!="/")continue;Pt++;break;case B:if(Le=="/"||Le=="\\")break;Ze=q;continue;case q:if(Le=="@"){nn&&(st="%40"+st),nn=!0,yt=D(st);for(var sn=0;sn<yt.length;sn++){var an=yt[sn];if(an!=":"||on){var Xr=Ge(an,je);on?ae.password+=Xr:ae.username+=Xr}else on=!0}st=""}else if(Le==s||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Ye(ae)){if(nn&&st=="")return"Invalid authority";Pt-=D(st).length+1,st="",Ze=W}else st+=Le;break;case W:case X:if(He&&ae.scheme=="file"){Ze=Ie;continue}if(Le!=":"||Nr){if(Le==s||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Ye(ae)){if(Ye(ae)&&st=="")return _e;if(He&&st==""&&(h(ae)||ae.port!==null))return;if(_t=f(ae,st))return _t;if(st="",Ze=de,He)return;continue}Le=="["?Nr=!0:Le=="]"&&(Nr=!1),st+=Le}else{if(st=="")return _e;if(_t=f(ae,st))return _t;if(st="",Ze=ie,He==X)return}break;case ie:if(!ye.test(Le)){if(Le==s||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Ye(ae)||He){if(st!=""){var Yr=parseInt(st,10);if(65535<Yr)return he;ae.port=Ye(ae)&&Yr===Qe[ae.scheme]?null:Yr,st=""}if(He)return;Ze=de;continue}return he}st+=Le;break;case we:if(ae.scheme="file",Le=="/"||Le=="\\")Ze=Te;else{if(!Ue||Ue.scheme!="file"){Ze=ze;continue}if(Le==s)ae.host=Ue.host,ae.path=Ue.path.slice(),ae.query=Ue.query;else if(Le=="?")ae.host=Ue.host,ae.path=Ue.path.slice(),ae.query="",Ze=at;else{if(Le!="#"){u(Ke.slice(Pt).join(""))||(ae.host=Ue.host,ae.path=Ue.path.slice(),n(ae)),Ze=ze;continue}ae.host=Ue.host,ae.path=Ue.path.slice(),ae.query=Ue.query,ae.fragment="",Ze=dt}}break;case Te:if(Le=="/"||Le=="\\"){Ze=Ie;break}Ue&&Ue.scheme=="file"&&!u(Ke.slice(Pt).join(""))&&(d(Ue.path[0],!0)?ae.path.push(Ue.path[0]):ae.host=Ue.host),Ze=ze;continue;case Ie:if(Le==s||Le=="/"||Le=="\\"||Le=="?"||Le=="#"){if(!He&&d(st))Ze=ze;else if(st==""){if(ae.host="",He)return;Ze=de}else{if(_t=f(ae,st))return _t;if(ae.host=="localhost"&&(ae.host=""),He)return;st="",Ze=de}continue}st+=Le;break;case de:if(Ye(ae)){if(Ze=ze,Le!="/"&&Le!="\\")continue}else if(He||Le!="?")if(He||Le!="#"){if(Le!=s&&(Ze=ze,Le!="/"))continue}else ae.fragment="",Ze=dt;else ae.query="",Ze=at;break;case ze:if(Le==s||Le=="/"||Le=="\\"&&Ye(ae)||!He&&(Le=="?"||Le=="#")){if((ht=(ht=st).toLowerCase())===".."||ht==="%2e."||ht===".%2e"||ht==="%2e%2e"?(n(ae),Le=="/"||Le=="\\"&&Ye(ae)||ae.path.push("")):(Et=st)==="."||Et.toLowerCase()==="%2e"?Le=="/"||Le=="\\"&&Ye(ae)||ae.path.push(""):(ae.scheme=="file"&&!ae.path.length&&d(st)&&(ae.host&&(ae.host=""),st=st.charAt(0)+":"),ae.path.push(st)),st="",ae.scheme=="file"&&(Le==s||Le=="?"||Le=="#"))for(;1<ae.path.length&&ae.path[0]==="";)ae.path.shift();Le=="?"?(ae.query="",Ze=at):Le=="#"&&(ae.fragment="",Ze=dt)}else st+=Ge(Le,Ce);break;case nt:Le=="?"?(ae.query="",Ze=at):Le=="#"?(ae.fragment="",Ze=dt):Le!=s&&(ae.path[0]+=Ge(Le,le));break;case at:He||Le!="#"?Le!=s&&(Le=="'"&&Ye(ae)?ae.query+="%27":ae.query+=Le=="#"?"%23":Ge(Le,le)):(ae.fragment="",Ze=dt);break;case dt:Le!=s&&(ae.fragment+=Ge(Le,Me))}Pt++}}function r(ae,De){return{get:ae,set:De,configurable:!0,enumerable:!0}}var s,i=e("../internals/export"),c=e("../internals/descriptors"),m=e("../internals/native-url"),g=e("../internals/global"),w=e("../internals/object-define-properties"),S=e("../internals/redefine"),j=e("../internals/an-instance"),T=e("../internals/has"),L=e("../internals/object-assign"),D=e("../internals/array-from"),R=e("../internals/string-multibyte").codeAt,O=e("../internals/string-punycode-to-ascii"),U=e("../internals/set-to-string-tag"),P=e("../modules/web.url-search-params"),G=e("../internals/internal-state"),V=g.URL,te=P.URLSearchParams,ne=P.getState,K=G.set,se=G.getterFor("URL"),J=Math.floor,ue=Math.pow,me="Invalid scheme",_e="Invalid host",he="Invalid port",Re=/[A-Za-z]/,ve=/[\d+-.A-Za-z]/,ye=/\d/,k=/^(0x|0X)/,F=/^[0-7]+$/,H=/^\d+$/,Z=/^[\dA-Fa-f]+$/,oe=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,$=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,xe=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ee=/[\u0009\u000A\u000D]/g,ge=function(ae){var De,He,Ue,Ke,Le,yt,_t,Et=ae.split(".");if(Et.length&&Et[Et.length-1]==""&&Et.pop(),4<(De=Et.length))return ae;for(He=[],Ue=0;Ue<De;Ue++){if((Ke=Et[Ue])=="")return ae;if(Le=10,1<Ke.length&&Ke.charAt(0)=="0"&&(Le=k.test(Ke)?16:8,Ke=Ke.slice(Le==8?1:2)),Ke==="")yt=0;else{if(!(Le==10?H:Le==8?F:Z).test(Ke))return ae;yt=parseInt(Ke,Le)}He.push(yt)}for(Ue=0;Ue<De;Ue++)if(yt=He[Ue],Ue==De-1){if(yt>=ue(256,5-De))return null}else if(255<yt)return null;for(_t=He.pop(),Ue=0;Ue<He.length;Ue++)_t+=He[Ue]*ue(256,3-Ue);return _t},fe=function(ae){function De(){return ae.charAt(st)}var He,Ue,Ke,Le,yt,_t,Et,ht=[0,0,0,0,0,0,0,0],Ze=0,Pt=null,st=0;if(De()==":"){if(ae.charAt(1)!=":")return;st+=2,Pt=++Ze}for(;De();){if(Ze==8)return;if(De()!=":"){for(He=Ue=0;Ue<4&&Z.test(De());)He=16*He+parseInt(De(),16),st++,Ue++;if(De()=="."){if(Ue==0||(st-=Ue,6<Ze))return;for(Ke=0;De();){if(Le=null,0<Ke){if(!(De()=="."&&Ke<4))return;st++}if(!ye.test(De()))return;for(;ye.test(De());){if(yt=parseInt(De(),10),Le===null)Le=yt;else{if(Le==0)return;Le=10*Le+yt}if(255<Le)return;st++}ht[Ze]=256*ht[Ze]+Le,++Ke!=2&&Ke!=4||Ze++}if(Ke!=4)return;break}if(De()==":"){if(st++,!De())return}else if(De())return;ht[Ze++]=He}else{if(Pt!==null)return;st++,Pt=++Ze}}if(Pt!==null)for(_t=Ze-Pt,Ze=7;Ze!=0&&0<_t;)Et=ht[Ze],ht[Ze--]=ht[Pt+_t-1],ht[Pt+--_t]=Et;else if(Ze!=8)return;return ht},le={},Me=L({},le,{" ":1,'"':1,"<":1,">":1,"`":1}),Ce=L({},Me,{"#":1,"?":1,"{":1,"}":1}),je=L({},Ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ge=function(ae,De){var He=R(ae,0);return 32<He&&He<127&&!T(De,ae)?ae:encodeURIComponent(ae)},Qe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ye=function(ae){return T(Qe,ae.scheme)},Be={},ut={},Oe={},Pe={},qe={},Xe={},pe={},et={},B={},q={},W={},X={},ie={},we={},Te={},Ie={},de={},ze={},nt={},at={},dt={},lt=function(ae,De){var He,Ue,Ke=j(this,lt,"URL"),Le=1<arguments.length?De:void 0,yt=String(ae),_t=K(Ke,{type:"URL"});if(Le!==void 0){if(Le instanceof lt)He=se(Le);else if(Ue=t(He={},String(Le)))throw TypeError(Ue)}if(Ue=t(_t,yt,null,He))throw TypeError(Ue);var Et=_t.searchParams=new te,ht=ne(Et);ht.updateSearchParams(_t.query),ht.updateURL=function(){_t.query=String(Et)||null},c||(Ke.href=bt.call(Ke),Ke.origin=nr.call(Ke),Ke.protocol=zt.call(Ke),Ke.username=Or.call(Ke),Ke.password=hr.call(Ke),Ke.host=or.call(Ke),Ke.hostname=Lr.call(Ke),Ke.port=Dr.call(Ke),Ke.pathname=Ir.call(Ke),Ke.search=Ur.call(Ke),Ke.searchParams=Fr.call(Ke),Ke.hash=qr.call(Ke))},ct=lt.prototype,bt=function(){var ae=se(this),De=ae.scheme,He=ae.username,Ue=ae.password,Ke=ae.host,Le=ae.port,yt=ae.path,_t=ae.query,Et=ae.fragment,ht=De+":";return Ke!==null?(ht+="//",h(ae)&&(ht+=He+(Ue?":"+Ue:"")+"@"),ht+=o(Ke),Le!==null&&(ht+=":"+Le)):De=="file"&&(ht+="//"),ht+=ae.cannotBeABaseURL?yt[0]:yt.length?"/"+yt.join("/"):"",_t!==null&&(ht+="?"+_t),Et!==null&&(ht+="#"+Et),ht},nr=function(){var ae=se(this),De=ae.scheme,He=ae.port;if(De=="blob")try{return new URL(De.path[0]).origin}catch{return"null"}return De!="file"&&Ye(ae)?De+"://"+o(ae.host)+(He!==null?":"+He:""):"null"},zt=function(){return se(this).scheme+":"},Or=function(){return se(this).username},hr=function(){return se(this).password},or=function(){var ae=se(this),De=ae.host,He=ae.port;return De===null?"":He===null?o(De):o(De)+":"+He},Lr=function(){var ae=se(this).host;return ae===null?"":o(ae)},Dr=function(){var ae=se(this).port;return ae===null?"":String(ae)},Ir=function(){var ae=se(this),De=ae.path;return ae.cannotBeABaseURL?De[0]:De.length?"/"+De.join("/"):""},Ur=function(){var ae=se(this).query;return ae?"?"+ae:""},Fr=function(){return se(this).searchParams},qr=function(){var ae=se(this).fragment;return ae?"#"+ae:""};if(c&&w(ct,{href:r(bt,function(ae){var De=se(this),He=String(ae),Ue=t(De,He);if(Ue)throw TypeError(Ue);ne(De.searchParams).updateSearchParams(De.query)}),origin:r(nr),protocol:r(zt,function(ae){var De=se(this);t(De,String(ae)+":",Be)}),username:r(Or,function(ae){var De=se(this),He=D(String(ae));if(!l(De)){De.username="";for(var Ue=0;Ue<He.length;Ue++)De.username+=Ge(He[Ue],je)}}),password:r(hr,function(ae){var De=se(this),He=D(String(ae));if(!l(De)){De.password="";for(var Ue=0;Ue<He.length;Ue++)De.password+=Ge(He[Ue],je)}}),host:r(or,function(ae){var De=se(this);De.cannotBeABaseURL||t(De,String(ae),W)}),hostname:r(Lr,function(ae){var De=se(this);De.cannotBeABaseURL||t(De,String(ae),X)}),port:r(Dr,function(ae){var De=se(this);l(De)||((ae=String(ae))==""?De.port=null:t(De,ae,ie))}),pathname:r(Ir,function(ae){var De=se(this);De.cannotBeABaseURL||(De.path=[],t(De,ae+"",de))}),search:r(Ur,function(ae){var De=se(this);(ae=String(ae))==""?De.query=null:(ae.charAt(0)=="?"&&(ae=ae.slice(1)),De.query="",t(De,ae,at)),ne(De.searchParams).updateSearchParams(De.query)}),searchParams:r(Fr),hash:r(qr,function(ae){var De=se(this);(ae=String(ae))!=""?(ae.charAt(0)=="#"&&(ae=ae.slice(1)),De.fragment="",t(De,ae,dt)):De.fragment=null})}),S(ct,"toJSON",function(){return bt.call(this)},{enumerable:!0}),S(ct,"toString",function(){return bt.call(this)},{enumerable:!0}),V){var br=V.createObjectURL,wr=V.revokeObjectURL;br&&S(lt,"createObjectURL",function(ae){return br.apply(V,arguments)}),wr&&S(lt,"revokeObjectURL",function(ae){return wr.apply(V,arguments)})}U(lt,"URL"),i({global:!0,forced:!m,sham:!c},{URL:lt})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":230}],232:[function(e,x,v){x.exports=e("./").polyfill()},{"./":233}],233:[function(e,x,v){(function(f,o){var h,l;h=this,l=function(){function d(ee){return typeof ee=="function"}var u=Array.isArray?Array.isArray:function(ee){return Object.prototype.toString.call(ee)==="[object Array]"},n=0,t=void 0,r=void 0,s=function(ee,ge){j[n]=ee,j[n+1]=ge,(n+=2)===2&&(r?r(T):U())},i=typeof window<"u"?window:void 0,c=i||{},m=c.MutationObserver||c.WebKitMutationObserver,g=typeof self>"u"&&f!==void 0&&{}.toString.call(f)==="[object process]",w=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){var ee=setTimeout;return function(){return ee(T,1)}}var j=new Array(1e3);function T(){for(var ee=0;ee<n;ee+=2)(0,j[ee])(j[ee+1]),j[ee]=void 0,j[ee+1]=void 0;n=0}var L,D,R,O,U=void 0;function P(ee,ge){var fe=this,le=new this.constructor(te);le[V]===void 0&&H(le);var Me=fe._state;if(Me){var Ce=arguments[Me-1];s(function(){return k(Me,le,Ce,fe._result)})}else ve(fe,le,ee,ge);return le}function G(ee){if(ee&&typeof ee=="object"&&ee.constructor===this)return ee;var ge=new this(te);return me(ge,ee),ge}U=g?function(){return f.nextTick(T)}:m?(D=0,R=new m(T),O=document.createTextNode(""),R.observe(O,{characterData:!0}),function(){O.data=D=++D%2}):w?((L=new MessageChannel).port1.onmessage=T,function(){return L.port2.postMessage(0)}):i===void 0&&typeof e=="function"?function(){try{var ee=Function("return this")().require("vertx");return(t=ee.runOnLoop||ee.runOnContext)!==void 0?function(){t(T)}:S()}catch{return S()}}():S();var V=Math.random().toString(36).substring(2);function te(){}var ne=void 0,K=1,se=2;function J(ee,ge,fe){s(function(le){var Me=!1,Ce=function(je,Ge,Qe,Ye){try{je.call(Ge,Qe,Ye)}catch(Be){return Be}}(fe,ge,function(je){Me||(Me=!0,ge!==je?me(le,je):he(le,je))},function(je){Me||(Me=!0,Re(le,je))},le._label);!Me&&Ce&&(Me=!0,Re(le,Ce))},ee)}function ue(ee,ge,fe){var le,Me;ge.constructor===ee.constructor&&fe===P&&ge.constructor.resolve===G?(le=ee,(Me=ge)._state===K?he(le,Me._result):Me._state===se?Re(le,Me._result):ve(Me,void 0,function(Ce){return me(le,Ce)},function(Ce){return Re(le,Ce)})):fe===void 0?he(ee,ge):d(fe)?J(ee,ge,fe):he(ee,ge)}function me(ee,ge){if(ee===ge)Re(ee,new TypeError("You cannot resolve a promise with itself"));else if(Me=typeof(le=ge),le===null||Me!="object"&&Me!="function")he(ee,ge);else{var fe=void 0;try{fe=ge.then}catch(Ce){return void Re(ee,Ce)}ue(ee,ge,fe)}var le,Me}function _e(ee){ee._onerror&&ee._onerror(ee._result),ye(ee)}function he(ee,ge){ee._state===ne&&(ee._result=ge,ee._state=K,ee._subscribers.length!==0&&s(ye,ee))}function Re(ee,ge){ee._state===ne&&(ee._state=se,ee._result=ge,s(_e,ee))}function ve(ee,ge,fe,le){var Me=ee._subscribers,Ce=Me.length;ee._onerror=null,Me[Ce]=ge,Me[Ce+K]=fe,Me[Ce+se]=le,Ce===0&&ee._state&&s(ye,ee)}function ye(ee){var ge=ee._subscribers,fe=ee._state;if(ge.length!==0){for(var le=void 0,Me=void 0,Ce=ee._result,je=0;je<ge.length;je+=3)le=ge[je],Me=ge[je+fe],le?k(fe,le,Me,Ce):Me(Ce);ee._subscribers.length=0}}function k(ee,ge,fe,le){var Me=d(fe),Ce=void 0,je=void 0,Ge=!0;if(Me){try{Ce=fe(le)}catch(Qe){Ge=!1,je=Qe}if(ge===Ce)return void Re(ge,new TypeError("A promises callback cannot return that same promise."))}else Ce=le;ge._state!==ne||(Me&&Ge?me(ge,Ce):Ge===!1?Re(ge,je):ee===K?he(ge,Ce):ee===se&&Re(ge,Ce))}var F=0;function H(ee){ee[V]=F++,ee._state=void 0,ee._result=void 0,ee._subscribers=[]}var Z=(oe.prototype._enumerate=function(ee){for(var ge=0;this._state===ne&&ge<ee.length;ge++)this._eachEntry(ee[ge],ge)},oe.prototype._eachEntry=function(ee,ge){var fe=this._instanceConstructor,le=fe.resolve;if(le===G){var Me=void 0,Ce=void 0,je=!1;try{Me=ee.then}catch(Qe){je=!0,Ce=Qe}if(Me===P&&ee._state!==ne)this._settledAt(ee._state,ge,ee._result);else if(typeof Me!="function")this._remaining--,this._result[ge]=ee;else if(fe===$){var Ge=new fe(te);je?Re(Ge,Ce):ue(Ge,ee,Me),this._willSettleAt(Ge,ge)}else this._willSettleAt(new fe(function(Qe){return Qe(ee)}),ge)}else this._willSettleAt(le(ee),ge)},oe.prototype._settledAt=function(ee,ge,fe){var le=this.promise;le._state===ne&&(this._remaining--,ee===se?Re(le,fe):this._result[ge]=fe),this._remaining===0&&he(le,this._result)},oe.prototype._willSettleAt=function(ee,ge){var fe=this;ve(ee,void 0,function(le){return fe._settledAt(K,ge,le)},function(le){return fe._settledAt(se,ge,le)})},oe);function oe(ee,ge){this._instanceConstructor=ee,this.promise=new ee(te),this.promise[V]||H(this.promise),u(ge)?(this.length=ge.length,this._remaining=ge.length,this._result=new Array(this.length),this.length===0?he(this.promise,this._result):(this.length=this.length||0,this._enumerate(ge),this._remaining===0&&he(this.promise,this._result))):Re(this.promise,new Error("Array Methods must be provided an Array"))}var $=(xe.prototype.catch=function(ee){return this.then(null,ee)},xe.prototype.finally=function(ee){var ge=this.constructor;return d(ee)?this.then(function(fe){return ge.resolve(ee()).then(function(){return fe})},function(fe){return ge.resolve(ee()).then(function(){throw fe})}):this.then(ee,ee)},xe);function xe(ee){this[V]=F++,this._result=this._state=void 0,this._subscribers=[],te!==ee&&(typeof ee!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof xe?function(ge,fe){try{fe(function(le){me(ge,le)},function(le){Re(ge,le)})}catch(le){Re(ge,le)}}(this,ee):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return $.prototype.then=P,$.all=function(ee){return new Z(this,ee).promise},$.race=function(ee){var ge=this;return u(ee)?new ge(function(fe,le){for(var Me=ee.length,Ce=0;Ce<Me;Ce++)ge.resolve(ee[Ce]).then(fe,le)}):new ge(function(fe,le){return le(new TypeError("You must pass an array to race."))})},$.resolve=G,$.reject=function(ee){var ge=new this(te);return Re(ge,ee),ge},$._setScheduler=function(ee){r=ee},$._setAsap=function(ee){s=ee},$._asap=s,$.polyfill=function(){var ee=void 0;if(o!==void 0)ee=o;else if(typeof self<"u")ee=self;else try{ee=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ge=ee.Promise;if(ge){var fe=null;try{fe=Object.prototype.toString.call(ge.resolve())}catch{}if(fe==="[object Promise]"&&!ge.cast)return}ee.Promise=$},$.Promise=$},typeof v=="object"&&x!==void 0?x.exports=l():h.ES6Promise=l()}).call(this,e("_process"),typeof wn<"u"?wn:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:241}],234:[function(e,x,v){(function(f,o){if(v!==void 0&&x!==void 0)o(v,x);else{var h={exports:{}};o(h.exports,h),f.fetchJsonp=h.exports}})(this,function(f,o){var h=5e3,l="callback";function d(n){try{delete window[n]}catch{window[n]=void 0}}function u(n){var t=document.getElementById(n);t&&document.getElementsByTagName("head")[0].removeChild(t)}o.exports=function(n){var t=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],r=n,s=t.timeout||h,i=t.jsonpCallback||l,c=void 0;return new Promise(function(m,g){var w=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),S=i+"_"+w;window[w]=function(T){m({ok:!0,json:function(){return Promise.resolve(T)}}),c&&clearTimeout(c),u(S),d(w)},r+=r.indexOf("?")===-1?"?":"&";var j=document.createElement("script");j.setAttribute("src",""+r+i+"="+w),t.charset&&j.setAttribute("charset",t.charset),j.id=S,document.getElementsByTagName("head")[0].appendChild(j),c=setTimeout(function(){g(new Error("JSONP request to "+n+" timed out")),d(w),u(S),window[w]=function(){d(w)}},s),j.onerror=function(){g(new Error("JSONP request to "+n+" failed")),d(w),u(S),c&&clearTimeout(c)}})}})},{}],235:[function(e,x,v){var f=f||function(o){if(!(o===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var h=o.document,l=function(){return o.URL||o.webkitURL||o},d=h.createElementNS("http://www.w3.org/1999/xhtml","a"),u="download"in d,n=/constructor/i.test(o.HTMLElement)||o.safari,t=/CriOS\/[\d]+/.test(navigator.userAgent),r=function(g){(o.setImmediate||o.setTimeout)(function(){throw g},0)},s=function(g){setTimeout(function(){typeof g=="string"?l().revokeObjectURL(g):g.remove()},4e4)},i=function(g){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob([String.fromCharCode(65279),g],{type:g.type}):g},c=function(g,w,S){S||(g=i(g));function j(){(function(R,O,U){for(var P=(O=[].concat(O)).length;P--;){var G=R["on"+O[P]];if(typeof G=="function")try{G.call(R,U||R)}catch(V){r(V)}}})(L,"writestart progress write writeend".split(" "))}var T,L=this,D=g.type==="application/octet-stream";if(L.readyState=L.INIT,u)return T=l().createObjectURL(g),void setTimeout(function(){var R,O;d.href=T,d.download=w,R=d,O=new MouseEvent("click"),R.dispatchEvent(O),j(),s(T),L.readyState=L.DONE});(function(){if((t||D&&n)&&o.FileReader){var R=new FileReader;return R.onloadend=function(){var O=t?R.result:R.result.replace(/^data:[^;]*;/,"data:attachment/file;");o.open(O,"_blank")||(o.location.href=O),O=void 0,L.readyState=L.DONE,j()},R.readAsDataURL(g),L.readyState=L.INIT}T=T||l().createObjectURL(g),D?o.location.href=T:o.open(T,"_blank")||(o.location.href=T),L.readyState=L.DONE,j(),s(T)})()},m=c.prototype;return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(g,w,S){return w=w||g.name||"download",S||(g=i(g)),navigator.msSaveOrOpenBlob(g,w)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,function(g,w,S){return new c(g,w||g.name||"download",S)})}}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);x!==void 0&&x.exports?x.exports.saveAs=f:C!=null},{}],236:[function(e,x,v){v.read=function(f,o,h,l,d){var u,n,t=8*d-l-1,r=(1<<t)-1,s=r>>1,i=-7,c=h?d-1:0,m=h?-1:1,g=f[o+c];for(c+=m,u=g&(1<<-i)-1,g>>=-i,i+=t;0<i;u=256*u+f[o+c],c+=m,i-=8);for(n=u&(1<<-i)-1,u>>=-i,i+=l;0<i;n=256*n+f[o+c],c+=m,i-=8);if(u===0)u=1-s;else{if(u===r)return n?NaN:1/0*(g?-1:1);n+=Math.pow(2,l),u-=s}return(g?-1:1)*n*Math.pow(2,u-l)},v.write=function(f,o,h,l,d,u){var n,t,r,s=8*u-d-1,i=(1<<s)-1,c=i>>1,m=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=l?0:u-1,w=l?1:-1,S=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(t=isNaN(o)?1:0,n=i):(n=Math.floor(Math.log(o)/Math.LN2),o*(r=Math.pow(2,-n))<1&&(n--,r*=2),2<=(o+=1<=n+c?m/r:m*Math.pow(2,1-c))*r&&(n++,r/=2),i<=n+c?(t=0,n=i):1<=n+c?(t=(o*r-1)*Math.pow(2,d),n+=c):(t=o*Math.pow(2,c-1)*Math.pow(2,d),n=0));8<=d;f[h+g]=255&t,g+=w,t/=256,d-=8);for(n=n<<d|t,s+=d;0<s;f[h+g]=255&n,g+=w,n/=256,s-=8);f[h+g-w]|=128*S}},{}],237:[function(e,x,v){var f;function o(B,q){return B.b===q.b&&B.a===q.a}function h(B,q){return B.b<q.b||B.b===q.b&&B.a<=q.a}function l(B,q,W){var X=q.b-B.b,ie=W.b-q.b;return 0<X+ie?X<ie?q.a-B.a+X/(X+ie)*(B.a-W.a):q.a-W.a+ie/(X+ie)*(W.a-B.a):0}function d(B,q,W){var X=q.b-B.b,ie=W.b-q.b;return 0<X+ie?(q.a-W.a)*X+(q.a-B.a)*ie:0}function u(B,q){return B.a<q.a||B.a===q.a&&B.b<=q.b}function n(B,q,W){var X=q.a-B.a,ie=W.a-q.a;return 0<X+ie?X<ie?q.b-B.b+X/(X+ie)*(B.b-W.b):q.b-W.b+ie/(X+ie)*(W.b-B.b):0}function t(B,q,W){var X=q.a-B.a,ie=W.a-q.a;return 0<X+ie?(q.b-W.b)*X+(q.b-B.b)*ie:0}function r(B,q,W,X){return(B=B<0?0:B)<=(W=W<0?0:W)?W===0?(q+X)/2:q+B/(B+W)*(X-q):X+W/(B+W)*(q-X)}function s(B){var q=w(B.b);return j(q,B.c),j(q.b,B.c),T(q,B.a),q}function i(B,q){var W=!1,X=!1;B!==q&&(q.a!==B.a&&(X=!0,D(q.a,B.a)),q.d!==B.d&&(W=!0,R(q.d,B.d)),S(q,B),X||(j(q,B.a),B.a.c=B),W||(T(q,B.d),B.d.a=B))}function c(B){var q=B.b,W=!1;B.d!==B.b.d&&(W=!0,R(B.d,B.b.d)),B.c===B?D(B.a,null):(B.b.d.a=le(B),B.a.c=B.c,S(B,le(B)),W||T(B,B.d)),q.c===q?(D(q.a,null),R(q.d,null)):(B.d.a=le(q),q.a.c=q.c,S(q,le(q))),L(B)}function m(B){var q=w(B),W=q.b;return S(q,B.e),q.a=B.b.a,j(W,q.a),q.d=W.d=B.d,q=q.b,S(B.b,le(B.b)),S(B.b,q),B.b.a=q.a,q.b.a.c=q.b,q.b.d=B.b.d,q.f=B.f,q.b.f=B.b.f,q}function g(B,q){var W=!1,X=w(B),ie=X.b;return q.d!==B.d&&(W=!0,R(q.d,B.d)),S(X,B.e),S(ie,q),X.a=B.b.a,ie.a=q.a,X.d=ie.d=B.d,B.d.a=ie,W||T(X,B.d),X}function w(B){var q=new fe,W=new fe,X=B.b.h;return(((W.h=X).b.h=q).h=B).b.h=W,q.b=W,((q.c=q).e=W).b=q,(W.c=W).e=q}function S(B,q){var W=B.c,X=q.c;W.b.e=q,(X.b.e=B).c=X,q.c=W}function j(B,q){var W=q.f,X=new Ce(q,W);for(W.e=X,W=(q.f=X).c=B;W.a=X,(W=W.c)!==B;);}function T(B,q){var W=q.d,X=new ge(q,W);for(W.b=X,(q.d=X).a=B,X.c=q.c,W=B;W.d=X,(W=W.e)!==B;);}function L(B){var q=B.h;B=B.b.h,(q.b.h=B).b.h=q}function D(B,q){for(var W=B.c,X=W;X.a=q,(X=X.c)!==W;);W=B.f,((X=B.e).f=W).e=X}function R(B,q){for(var W=B.a,X=W;X.d=q,(X=X.e)!==W;);W=B.d,((X=B.b).d=W).b=X}function O(B){var q=0;return Math.abs(B[1])>Math.abs(B[0])&&(q=1),Math.abs(B[2])>Math.abs(B[q])&&(q=2),q}function U(B,q){B.f+=q.f,B.b.f+=q.b.f}function P(B,q,W){return B=B.a,q=q.a,W=W.a,q.b.a===B?W.b.a===B?h(q.a,W.a)?d(W.b.a,q.a,W.a)<=0:0<=d(q.b.a,W.a,q.a):d(W.b.a,B,W.a)<=0:W.b.a===B?0<=d(q.b.a,B,q.a):(q=l(q.b.a,B,q.a),(B=l(W.b.a,B,W.a))<=q)}function G(B){B.a.i=null;var q=B.e;q.a.c=q.c,q.c.a=q.a,B.e=null}function V(B,q){c(B.a),B.c=!1,(B.a=q).i=B}function te(B){for(var q=B.a.a;(B=et(B)).a.a===q;);return B.c&&(V(B,q=g(pe(B).a.b,B.a.e)),B=et(B)),B}function ne(B,q,W){var X=new Xe;return X.a=W,X.e=Z(B.f,q.e,X),W.i=X}function K(B,q){switch(B.s){case 100130:return(1&q)!=0;case 100131:return q!==0;case 100132:return 0<q;case 100133:return q<0;case 100134:return 2<=q||q<=-2}return!1}function se(B){var q=B.a,W=q.d;W.c=B.d,W.a=q,G(B)}function J(B,q,W){for(q=(B=q).a;B!==W;){B.c=!1;var X=pe(B),ie=X.a;if(ie.a!==q.a){if(!X.c){se(B);break}V(X,ie=g(q.c.b,ie.b))}q.c!==ie&&(i(le(ie),ie),i(q,ie)),se(B),q=X.a,B=X}return q}function ue(B,q,W,X,ie,we){for(var Te=!0;ne(B,q,W.b),(W=W.c)!==X;);for(ie===null&&(ie=pe(q).a.b.c);(W=(X=pe(q)).a.b).a===ie.a;)W.c!==ie&&(i(le(W),W),i(le(ie),W)),X.f=q.f-W.f,X.d=K(B,X.f),q.b=!0,!Te&&Re(B,q)&&(U(W,ie),G(q),c(ie)),Te=!1,q=X,ie=W;q.b=!0,we&&ye(B,q)}function me(B,q,W,X,ie){var we=[q.g[0],q.g[1],q.g[2]];q.d=null,q.d=B.o&&B.o(we,W,X,B.c)||null,q.d===null&&(ie?B.n||(ee(B,100156),B.n=!0):q.d=W[0])}function _e(B,q,W){var X=[null,null,null,null];X[0]=q.a.d,X[1]=W.a.d,me(B,q.a,X,[.5,.5,0,0],!1),i(q,W)}function he(B,q,W,X,ie){var we=Math.abs(q.b-B.b)+Math.abs(q.a-B.a),Te=Math.abs(W.b-B.b)+Math.abs(W.a-B.a),Ie=ie+1;X[ie]=.5*Te/(we+Te),X[Ie]=.5*we/(we+Te),B.g[0]+=X[ie]*q.g[0]+X[Ie]*W.g[0],B.g[1]+=X[ie]*q.g[1]+X[Ie]*W.g[1],B.g[2]+=X[ie]*q.g[2]+X[Ie]*W.g[2]}function Re(B,q){var W=pe(q),X=q.a,ie=W.a;if(h(X.a,ie.a)){if(0<d(ie.b.a,X.a,ie.a))return!1;if(o(X.a,ie.a)){if(X.a!==ie.a){W=B.e;var we=X.a.h;if(0<=we){var Te=(W=W.b).d,Ie=W.e,de=W.c,ze=de[we];Te[ze]=Te[W.a],(de[Te[ze]]=ze)<=--W.a&&(ze<=1||h(Ie[Te[ze>>1]],Ie[Te[ze]])?Pe(W,ze):qe(W,ze)),Ie[we]=null,de[we]=W.b,W.b=we}else for(W.c[-(we+1)]=null;0<W.a&&W.c[W.d[W.a-1]]===null;)--W.a;_e(B,le(ie),X)}}else m(ie.b),i(X,le(ie)),q.b=W.b=!0}else{if(d(X.b.a,ie.a,X.a)<0)return!1;et(q).b=q.b=!0,m(X.b),i(le(ie),X)}return!0}function ve(B,q){var W=pe(q),X=q.a,ie=W.a,we=X.a,Te=ie.a,Ie=X.b.a,de=ie.b.a,ze=new Ce;if(d(Ie,B.a,we),d(de,B.a,Te),we===Te||Math.min(we.a,Ie.a)>Math.max(Te.a,de.a))return!1;if(h(we,Te)){if(0<d(de,we,Te))return!1}else if(d(Ie,Te,we)<0)return!1;var nt,at,dt=Ie,lt=we,ct=de,bt=Te;if(h(dt,lt)||(nt=dt,dt=lt,lt=nt),h(ct,bt)||(nt=ct,ct=bt,bt=nt),h(dt,ct)||(nt=dt,dt=ct,ct=nt,nt=lt,lt=bt,bt=nt),h(ct,lt)?h(lt,bt)?((nt=l(dt,ct,lt))+(at=l(ct,lt,bt))<0&&(nt=-nt,at=-at),ze.b=r(nt,ct.b,at,lt.b)):((nt=d(dt,ct,lt))+(at=-d(dt,bt,lt))<0&&(nt=-nt,at=-at),ze.b=r(nt,ct.b,at,bt.b)):ze.b=(ct.b+lt.b)/2,u(dt,lt)||(nt=dt,dt=lt,lt=nt),u(ct,bt)||(nt=ct,ct=bt,bt=nt),u(dt,ct)||(nt=dt,dt=ct,ct=nt,nt=lt,lt=bt,bt=nt),u(ct,lt)?u(lt,bt)?((nt=n(dt,ct,lt))+(at=n(ct,lt,bt))<0&&(nt=-nt,at=-at),ze.a=r(nt,ct.a,at,lt.a)):((nt=t(dt,ct,lt))+(at=-t(dt,bt,lt))<0&&(nt=-nt,at=-at),ze.a=r(nt,ct.a,at,bt.a)):ze.a=(ct.a+lt.a)/2,h(ze,B.a)&&(ze.b=B.a.b,ze.a=B.a.a),dt=h(we,Te)?we:Te,h(dt,ze)&&(ze.b=dt.b,ze.a=dt.a),o(ze,we)||o(ze,Te))return Re(B,q),!1;if(!o(Ie,B.a)&&0<=d(Ie,B.a,ze)||!o(de,B.a)&&d(de,B.a,ze)<=0){if(de===B.a)return m(X.b),i(ie.b,X),X=pe(q=te(q)).a,J(B,pe(q),W),ue(B,q,le(X),X,X,!0),!0;if(Ie!==B.a)return 0<=d(Ie,B.a,ze)&&(et(q).b=q.b=!0,m(X.b),X.a.b=B.a.b,X.a.a=B.a.a),d(de,B.a,ze)<=0&&(q.b=W.b=!0,m(ie.b),ie.a.b=B.a.b,ie.a.a=B.a.a),!1;for(m(ie.b),i(X.e,le(ie)),Te=(we=W=q).a.b.a;(we=et(we)).a.b.a===Te;);return we=pe(q=we).a.b.c,W.a=le(ie),ue(B,q,(ie=J(B,W,null)).c,X.b.c,we,!0),!0}return m(X.b),m(ie.b),i(le(ie),X),X.a.b=ze.b,X.a.a=ze.a,X.a.h=Ge(B.e,X.a),X=X.a,ie=[0,0,0,0],ze=[we.d,Ie.d,Te.d,de.d],X.g[0]=X.g[1]=X.g[2]=0,he(X,we,Ie,ie,0),he(X,Te,de,ie,2),me(B,X,ze,ie,!0),et(q).b=q.b=W.b=!0,!1}function ye(B,q){for(var W=pe(q);;){for(;W.b;)W=pe(q=W);if(!q.b&&((q=et(W=q))===null||!q.b))break;q.b=!1;var X,ie=q.a,we=W.a;if(X=ie.b.a!==we.b.a)e:{var Te=pe(X=q),Ie=X.a,de=Te.a,ze=void 0;if(h(Ie.b.a,de.b.a)){if(d(Ie.b.a,de.b.a,Ie.a)<0){X=!1;break e}et(X).b=X.b=!0,ze=m(Ie),i(de.b,ze),ze.d.c=X.d}else{if(0<d(de.b.a,Ie.b.a,de.a)){X=!1;break e}X.b=Te.b=!0,ze=m(de),i(Ie.e,de.b),ze.b.d.c=X.d}X=!0}if(X&&(W.c?(G(W),c(we),we=(W=pe(q)).a):q.c&&(G(q),c(ie),ie=(q=et(W)).a)),ie.a!==we.a){if(ie.b.a===we.b.a||q.c||W.c||ie.b.a!==B.a&&we.b.a!==B.a)Re(B,q);else if(ve(B,q))break}ie.a===we.a&&ie.b.a===we.b.a&&(U(we,ie),G(q),c(ie),q=et(W))}}function k(B,q){for(var W=(B.a=q).c;W.i===null;)if((W=W.c)===q.c){W=B;var X=q;(Te=new Xe).a=X.c.b;for(var ie=(de=W.f).a;(ie=ie.a).b!==null&&!de.c(de.b,Te,ie.b););var we=pe(de=ie.b),Te=de.a;if(ie=we.a,d(Te.b.a,X,Te.a)===0)o((Te=de.a).a,X)||o(Te.b.a,X)||(m(Te.b),de.c&&(c(Te.c),de.c=!1),i(X.c,Te),k(W,X));else{var Ie=h(ie.b.a,Te.b.a)?de:we;we=void 0,de.d||Ie.c?(we=Ie===de?g(X.c.b,Te.e):g(ie.b.c.b,X.c).b,Ie.c?V(Ie,we):((de=ne(Te=W,de,we)).f=et(de).f+de.a.f,de.d=K(Te,de.f)),k(W,X)):ue(W,de,X.c,X.c,null,!0)}return}if(de=(Te=pe(W=te(W.i))).a,(Te=J(B,Te,null)).c===de){Te=(de=Te).c,ie=pe(W),we=W.a,Ie=ie.a;var de,ze=!1;we.b.a!==Ie.b.a&&ve(B,W),o(we.a,B.a)&&(i(le(Te),we),Te=pe(W=te(W)).a,J(B,pe(W),ie),ze=!0),o(Ie.a,B.a)&&(i(de,le(Ie)),de=J(B,ie,null),ze=!0),ze?ue(B,W,de.c,Te,Te,!0):(X=h(Ie.a,we.a)?le(Ie):we,ue(B,W,X=g(de.c.b,X),X.c,X.c,!1),X.b.i.c=!0,ye(B,W))}else ue(B,W,Te.c,de,de,!0)}function F(B,q){var W=new Xe,X=s(B.b);X.a.b=4e150,X.a.a=q,X.b.a.b=-4e150,X.b.a.a=q,B.a=X.b.a,W.a=X,W.f=0,W.d=!1,W.c=!1,W.h=!0,W.b=!1,X=Z(X=B.f,X.a,W),W.e=X}function H(B){this.a=new oe,this.b=B,this.c=P}function Z(B,q,W){for(;(q=q.c).b!==null&&!B.c(B.b,q.b,W););return B=new oe(W,q.a,q),q.a.c=B,q.a=B}function oe(B,q,W){this.b=B||null,this.a=q||this,this.c=W||this}function $(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function xe(B,q){if(B.d!==q)for(;B.d!==q;)if(B.d<q)switch(B.d){case 0:ee(B,100151),B.u(null);break;case 1:ee(B,100152),B.t()}else switch(B.d){case 2:ee(B,100154),B.v();break;case 1:ee(B,100153),B.w()}}function ee(B,q){B.p&&B.p(q,B.c)}function ge(B,q){this.b=B||this,this.d=q||this,this.a=null,this.c=!1}function fe(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function le(B){return B.b.e}function Me(){this.c=new Ce,this.a=new ge,this.b=new fe,this.d=new fe,this.b.b=this.d,this.d.b=this.b}function Ce(B,q){this.e=B||this,this.f=q||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function je(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ye}function Ge(B,q){if(B.e){var W,X=B.b,ie=++X.a;return 2*ie>X.f&&(X.f*=2,X.c=Be(X.c,X.f+1)),X.b===0?W=ie:(W=X.b,X.b=X.c[X.b]),X.e[W]=q,X.c[W]=ie,X.d[ie]=W,X.h&&qe(X,ie),W}return X=B.a++,B.c[X]=q,-(X+1)}function Qe(B){if(B.a===0)return Oe(B.b);var q=B.c[B.d[B.a-1]];if(B.b.a!==0&&h(ut(B.b),q))return Oe(B.b);for(;--B.a,0<B.a&&B.c[B.d[B.a-1]]===null;);return q}function Ye(){this.d=Be([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Be(B,q){for(var W=Array(q),X=0;X<B.length;X++)W[X]=B[X];for(;X<q;X++)W[X]=0;return W}function ut(B){return B.e[B.d[1]]}function Oe(B){var q=B.d,W=B.e,X=B.c,ie=q[1],we=W[ie];return 0<B.a&&(q[1]=q[B.a],X[q[1]]=1,W[ie]=null,X[ie]=B.b,B.b=ie,0<--B.a&&Pe(B,1)),we}function Pe(B,q){for(var W=B.d,X=B.e,ie=B.c,we=q,Te=W[we];;){var Ie=we<<1;Ie<B.a&&h(X[W[Ie+1]],X[W[Ie]])&&(Ie+=1);var de=W[Ie];if(Ie>B.a||h(X[Te],X[de])){ie[W[we]=Te]=we;break}ie[W[we]=de]=we,we=Ie}}function qe(B,q){for(var W=B.d,X=B.e,ie=B.c,we=q,Te=W[we];;){var Ie=we>>1,de=W[Ie];if(Ie==0||h(X[de],X[Te])){ie[W[we]=Te]=we;break}ie[W[we]=de]=we,we=Ie}}function Xe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function pe(B){return B.e.c.b}function et(B){return B.e.a.b}(f=$.prototype).x=function(){xe(this,0)},f.B=function(B,q){switch(B){case 100142:return;case 100140:switch(q){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=q)}break;case 100141:return void(this.m=!!q);default:return void ee(this,100900)}ee(this,100901)},f.y=function(B){switch(B){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ee(this,100900)}return!1},f.A=function(B,q,W){this.j[0]=B,this.j[1]=q,this.j[2]=W},f.z=function(B,q){var W=q||null;switch(B){case 100100:case 100106:this.h=W;break;case 100104:case 100110:this.l=W;break;case 100101:case 100107:this.k=W;break;case 100102:case 100108:this.i=W;break;case 100103:case 100109:this.p=W;break;case 100105:case 100111:this.o=W;break;case 100112:this.r=W;break;default:ee(this,100900)}},f.C=function(B,q){var W=!1,X=[0,0,0];xe(this,2);for(var ie=0;ie<3;++ie){var we=B[ie];we<-1e150&&(we=-1e150,W=!0),1e150<we&&(we=1e150,W=!0),X[ie]=we}W&&ee(this,100155),(W=this.q)===null?i(W=s(this.b),W.b):(m(W),W=W.e),W.a.d=q,W.a.g[0]=X[0],W.a.g[1]=X[1],W.a.g[2]=X[2],W.f=1,W.b.f=-1,this.q=W},f.u=function(B){xe(this,0),this.d=1,this.b=new Me,this.c=B},f.t=function(){xe(this,1),this.d=2,this.q=null},f.v=function(){xe(this,2),this.d=1},f.w=function(){xe(this,1),this.d=0;var B,q,W=!1,X=[de=this.j[0],ie=this.j[1],Te=this.j[2]];if(de===0&&ie===0&&Te===0){for(var ie=[-2e150,-2e150,-2e150],we=[2e150,2e150,2e150],Te=[],Ie=[],de=(W=this.b.c).e;de!==W;de=de.e)for(var ze=0;ze<3;++ze){var nt=de.g[ze];nt<we[ze]&&(we[ze]=nt,Ie[ze]=de),nt>ie[ze]&&(ie[ze]=nt,Te[ze]=de)}if(de=0,ie[1]-we[1]>ie[0]-we[0]&&(de=1),ie[2]-we[2]>ie[de]-we[de]&&(de=2),we[de]>=ie[de])X[0]=0,X[1]=0,X[2]=1;else{for(ie=0,we=Ie[de],Te=Te[de],Ie=[0,0,0],we=[we.g[0]-Te.g[0],we.g[1]-Te.g[1],we.g[2]-Te.g[2]],ze=[0,0,0],de=W.e;de!==W;de=de.e)ze[0]=de.g[0]-Te.g[0],ze[1]=de.g[1]-Te.g[1],ze[2]=de.g[2]-Te.g[2],Ie[0]=we[1]*ze[2]-we[2]*ze[1],Ie[1]=we[2]*ze[0]-we[0]*ze[2],Ie[2]=we[0]*ze[1]-we[1]*ze[0],ie<(nt=Ie[0]*Ie[0]+Ie[1]*Ie[1]+Ie[2]*Ie[2])&&(ie=nt,X[0]=Ie[0],X[1]=Ie[1],X[2]=Ie[2]);ie<=0&&(X[0]=X[1]=X[2]=0,X[O(we)]=1)}W=!0}for(Ie=O(X),de=this.b.c,ie=(Ie+1)%3,Te=(Ie+2)%3,Ie=0<X[Ie]?1:-1,X=de.e;X!==de;X=X.e)X.b=X.g[ie],X.a=Ie*X.g[Te];if(W){for(X=0,de=(W=this.b.a).b;de!==W;de=de.b)if(!((ie=de.a).f<=0))for(;X+=(ie.a.b-ie.b.a.b)*(ie.a.a+ie.b.a.a),(ie=ie.e)!==de.a;);if(X<0)for(W=(X=this.b.c).e;W!==X;W=W.e)W.a=-W.a}for(this.n=!1,de=(X=this.b.b).h;de!==X;de=W)W=de.h,ie=de.e,o(de.a,de.b.a)&&de.e.e!==de&&(_e(this,ie,de),c(de),ie=(de=ie).e),ie.e===de&&(ie!==de&&(ie!==W&&ie!==W.b||(W=W.h),c(ie)),de!==W&&de!==W.b||(W=W.h),c(de));for(this.e=X=new je,de=(W=this.b.c).e;de!==W;de=de.e)de.h=Ge(X,de);for(function(at){at.d=[];for(var dt=0;dt<at.a;dt++)at.d[dt]=dt;at.d.sort(function(lt){return function(ct,bt){return h(lt[ct],lt[bt])?1:-1}}(at.c)),at.e=!0,function(lt){for(var ct=lt.a;1<=ct;--ct)Pe(lt,ct);lt.h=!0}(at.b)}(X),this.f=new H(this),F(this,-4e150),F(this,4e150);(X=Qe(this.e))!==null;){for(;;){e:if(de=this.e,de.a===0)W=ut(de.b);else if(W=de.c[de.d[de.a-1]],de.b.a!==0&&(de=ut(de.b),h(de,W))){W=de;break e}if(W===null||!o(W,X))break;W=Qe(this.e),_e(this,X.c,W.c)}k(this,X)}for(this.a=this.f.a.a.b.a.a,X=0;(W=this.f.a.a.b)!==null;)W.h||++X,G(W);for(this.f=null,(X=this.e).b=null,X.d=null,this.e=X.c=null,de=(X=this.b).a.b;de!==X.a;de=W)W=de.b,(de=de.a).e.e===de&&(U(de.c,de),c(de));if(!this.n){if(X=this.b,this.m)for(de=X.b.h;de!==X.b;de=W)W=de.h,de.b.d.c!==de.d.c?de.f=de.d.c?1:-1:c(de);else for(de=X.a.b;de!==X.a;de=W)if(W=de.b,de.c){for(de=de.a;h(de.b.a,de.a);de=de.c.b);for(;h(de.a,de.b.a);de=de.e);for(ie=de.c.b,Te=void 0;de.e!==ie;)if(h(de.b.a,ie.a)){for(;ie.e!==de&&(h((q=ie.e).b.a,q.a)||d(ie.a,ie.b.a,ie.e.b.a)<=0);)ie=(Te=g(ie.e,ie)).b;ie=ie.c.b}else{for(;ie.e!==de&&(h((B=de.c.b).a,B.b.a)||0<=d(de.b.a,de.a,de.c.b.a));)de=(Te=g(de,de.c.b)).b;de=de.e}for(;ie.e.e!==de;)ie=(Te=g(ie.e,ie)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(W=(X=this.b).a.b;W!==X.a;W=W.b)if(W.c){for(this.h&&this.h(2,this.c),de=W.a;this.k&&this.k(de.a.d,this.c),(de=de.e)!==W.a;);this.i&&this.i(this.c)}}else{for(X=this.b,W=!!this.l,de=!1,ie=-1,Te=X.a.d;Te!==X.a;Te=Te.d)if(Te.c)for(de||(this.h&&this.h(4,this.c),de=!0),Ie=Te.a;W&&ie!==(we=Ie.b.d.c?0:1)&&(ie=we,this.l&&this.l(!!ie,this.c)),this.k&&this.k(Ie.a.d,this.c),(Ie=Ie.e)!==Te.a;);de&&this.i&&this.i(this.c)}if(this.r){for(de=(X=this.b).a.b;de!==X.a;de=W)if(W=de.b,!de.c){for(Te=(ie=de.a).e,Ie=void 0;Te=(Ie=Te).e,(Ie.d=null)===Ie.b.d&&(Ie.c===Ie?D(Ie.a,null):(Ie.a.c=Ie.c,S(Ie,le(Ie))),(we=Ie.b).c===we?D(we.a,null):(we.a.c=we.c,S(we,le(we))),L(Ie)),Ie!==ie;);ie=de.d,((de=de.b).d=ie).b=de}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:$,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},$.prototype.gluDeleteTess=$.prototype.x,$.prototype.gluTessProperty=$.prototype.B,$.prototype.gluGetTessProperty=$.prototype.y,$.prototype.gluTessNormal=$.prototype.A,$.prototype.gluTessCallback=$.prototype.z,$.prototype.gluTessVertex=$.prototype.C,$.prototype.gluTessBeginPolygon=$.prototype.u,$.prototype.gluTessBeginContour=$.prototype.t,$.prototype.gluTessEndContour=$.prototype.v,$.prototype.gluTessEndPolygon=$.prototype.w,x!==void 0&&(x.exports=this.libtess)},{}],238:[function(e,x,v){function f(o,h,l,d){for(var u=o[h++],n=1<<u,t=1+n,r=1+t,s=u+1,i=(1<<s)-1,c=0,m=0,g=0,w=o[h++],S=new Int32Array(4096),j=null;;){for(;c<16&&w!==0;)m|=o[h++]<<c,c+=8,w===1?w=o[h++]:--w;if(c<s)break;var T=m&i;if(m>>=s,c-=s,T!=n){if(T==t)break;for(var L=T<r?T:j,D=0,R=L;n<R;)R=S[R]>>8,++D;var O=R;if(d<g+D+(L!==T?1:0))return void console.log("Warning, gif stream longer than expected.");l[g++]=O;var U=g+=D;for(L!==T&&(l[g++]=O),R=L;D--;)R=S[R],l[--U]=255&R,R>>=8;j!==null&&r<4096&&(S[r++]=j<<8|O,i+1<=r&&s<12&&(++s,i=i<<1|1)),j=T}else r=1+t,i=(1<<(s=u+1))-1,j=null}return g!==d&&console.log("Warning, gif stream shorter than expected."),l}try{v.GifWriter=function(o,h,l,d){var u=0,n=(d=d===void 0?{}:d).loop===void 0?null:d.loop,t=d.palette===void 0?null:d.palette;if(h<=0||l<=0||65535<h||65535<l)throw new Error("Width/Height invalid.");function r(j){var T=j.length;if(T<2||256<T||T&T-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return T}o[u++]=71,o[u++]=73,o[u++]=70,o[u++]=56,o[u++]=57,o[u++]=97;var s=0,i=0;if(t!==null){for(var c=r(t);c>>=1;)++s;if(c=1<<s,--s,d.background!==void 0){if(c<=(i=d.background))throw new Error("Background index out of range.");if(i===0)throw new Error("Background index explicitly passed as 0.")}}if(o[u++]=255&h,o[u++]=h>>8&255,o[u++]=255&l,o[u++]=l>>8&255,o[u++]=(t!==null?128:0)|s,o[u++]=i,o[u++]=0,t!==null)for(var m=0,g=t.length;m<g;++m){var w=t[m];o[u++]=w>>16&255,o[u++]=w>>8&255,o[u++]=255&w}if(n!==null){if(n<0||65535<n)throw new Error("Loop count invalid.");o[u++]=33,o[u++]=255,o[u++]=11,o[u++]=78,o[u++]=69,o[u++]=84,o[u++]=83,o[u++]=67,o[u++]=65,o[u++]=80,o[u++]=69,o[u++]=50,o[u++]=46,o[u++]=48,o[u++]=3,o[u++]=1,o[u++]=255&n,o[u++]=n>>8&255,o[u++]=0}var S=!1;this.addFrame=function(j,T,L,D,R,O){if(S===!0&&(--u,S=!1),O=O===void 0?{}:O,j<0||T<0||65535<j||65535<T)throw new Error("x/y invalid.");if(L<=0||D<=0||65535<L||65535<D)throw new Error("Width/Height invalid.");if(R.length<L*D)throw new Error("Not enough pixels for the frame size.");var U=!0,P=O.palette;if(P==null&&(U=!1,P=t),P==null)throw new Error("Must supply either a local or global palette.");for(var G=r(P),V=0;G>>=1;)++V;G=1<<V;var te=O.delay===void 0?0:O.delay,ne=O.disposal===void 0?0:O.disposal;if(ne<0||3<ne)throw new Error("Disposal out of range.");var K=!1,se=0;if(O.transparent!==void 0&&O.transparent!==null&&(K=!0,(se=O.transparent)<0||G<=se))throw new Error("Transparent color index.");if(ne===0&&!K&&te===0||(o[u++]=33,o[u++]=249,o[u++]=4,o[u++]=ne<<2|(K===!0?1:0),o[u++]=255&te,o[u++]=te>>8&255,o[u++]=se,o[u++]=0),o[u++]=44,o[u++]=255&j,o[u++]=j>>8&255,o[u++]=255&T,o[u++]=T>>8&255,o[u++]=255&L,o[u++]=L>>8&255,o[u++]=255&D,o[u++]=D>>8&255,o[u++]=U===!0?128|V-1:0,U===!0)for(var J=0,ue=P.length;J<ue;++J){var me=P[J];o[u++]=me>>16&255,o[u++]=me>>8&255,o[u++]=255&me}return u=function(_e,he,Re,ve){_e[he++]=Re;var ye=he++,k=1<<Re,F=k-1,H=1+k,Z=1+H,oe=Re+1,$=0,xe=0;function ee(Ye){for(;Ye<=$;)_e[he++]=255&xe,xe>>=8,$-=8,he===ye+256&&(_e[ye]=255,ye=he++)}function ge(Ye){xe|=Ye<<$,$+=oe,ee(8)}var fe=ve[0]&F,le={};ge(k);for(var Me=1,Ce=ve.length;Me<Ce;++Me){var je=ve[Me]&F,Ge=fe<<8|je,Qe=le[Ge];if(Qe===void 0){for(xe|=fe<<$,$+=oe;8<=$;)_e[he++]=255&xe,xe>>=8,$-=8,he===ye+256&&(_e[ye]=255,ye=he++);Z===4096?(ge(k),Z=1+H,oe=Re+1,le={}):(1<<oe<=Z&&++oe,le[Ge]=Z++),fe=je}else fe=Qe}return ge(fe),ge(H),ee(1),ye+1===he?_e[ye]=0:(_e[ye]=he-ye-1,_e[he++]=0),he}(o,u,V<2?2:V,R)},this.end=function(){return S===!1&&(o[u++]=59,S=!0),u},this.getOutputBuffer=function(){return o},this.setOutputBuffer=function(j){o=j},this.getOutputBufferPosition=function(){return u},this.setOutputBufferPosition=function(j){u=j}},v.GifReader=function(o){var h=0;if(o[h++]!==71||o[h++]!==73||o[h++]!==70||o[h++]!==56||(o[h++]+1&253)!=56||o[h++]!==97)throw new Error("Invalid GIF 87a/89a header.");var l=o[h++]|o[h++]<<8,d=o[h++]|o[h++]<<8,u=o[h++],n=u>>7,t=1<<1+(7&u);o[h++],o[h++];var r=null,s=null;n&&(r=h,h+=3*(s=t));var i=!0,c=[],m=0,g=null,w=0,S=null;for(this.width=l,this.height=d;i&&h<o.length;)switch(o[h++]){case 33:switch(o[h++]){case 255:if(o[h]!==11||o[h+1]==78&&o[h+2]==69&&o[h+3]==84&&o[h+4]==83&&o[h+5]==67&&o[h+6]==65&&o[h+7]==80&&o[h+8]==69&&o[h+9]==50&&o[h+10]==46&&o[h+11]==48&&o[h+12]==3&&o[h+13]==1&&o[h+16]==0)h+=14,S=o[h++]|o[h++]<<8,h++;else for(h+=12;;){if(!(0<=(K=o[h++])))throw Error("Invalid block size");if(K===0)break;h+=K}break;case 249:if(o[h++]!==4||o[h+4]!==0)throw new Error("Invalid graphics extension block.");var j=o[h++];m=o[h++]|o[h++]<<8,g=o[h++],(1&j)==0&&(g=null),w=j>>2&7,h++;break;case 254:for(;;){if(!(0<=(K=o[h++])))throw Error("Invalid block size");if(K===0)break;h+=K}break;default:throw new Error("Unknown graphic control label: 0x"+o[h-1].toString(16))}break;case 44:var T=o[h++]|o[h++]<<8,L=o[h++]|o[h++]<<8,D=o[h++]|o[h++]<<8,R=o[h++]|o[h++]<<8,O=o[h++],U=O>>6&1,P=1<<1+(7&O),G=r,V=s,te=!1;O>>7&&(te=!0,G=h,h+=3*(V=P));var ne=h;for(h++;;){var K;if(!(0<=(K=o[h++])))throw Error("Invalid block size");if(K===0)break;h+=K}c.push({x:T,y:L,width:D,height:R,has_local_palette:te,palette_offset:G,palette_size:V,data_offset:ne,data_length:h-ne,transparent_index:g,interlaced:!!U,delay:m,disposal:w});break;case 59:i=!1;break;default:throw new Error("Unknown gif block: 0x"+o[h-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return S},this.frameInfo=function(se){if(se<0||se>=c.length)throw new Error("Frame index out of range.");return c[se]},this.decodeAndBlitFrameBGRA=function(se,J){var ue=this.frameInfo(se),me=ue.width*ue.height,_e=new Uint8Array(me);f(o,ue.data_offset,_e,me);var he=ue.palette_offset,Re=ue.transparent_index;Re===null&&(Re=256);var ve=ue.width,ye=l-ve,k=ve,F=4*(ue.y*l+ue.x),H=4*((ue.y+ue.height)*l+ue.x),Z=F,oe=4*ye;ue.interlaced===!0&&(oe+=4*l*7);for(var $=8,xe=0,ee=_e.length;xe<ee;++xe){var ge=_e[xe];if(k===0&&(k=ve,H<=(Z+=oe)&&(oe=4*ye+4*l*($-1),Z=F+(ve+ye)*($<<1),$>>=1)),ge===Re)Z+=4;else{var fe=o[he+3*ge],le=o[he+3*ge+1],Me=o[he+3*ge+2];J[Z++]=Me,J[Z++]=le,J[Z++]=fe,J[Z++]=255}--k}},this.decodeAndBlitFrameRGBA=function(se,J){var ue=this.frameInfo(se),me=ue.width*ue.height,_e=new Uint8Array(me);f(o,ue.data_offset,_e,me);var he=ue.palette_offset,Re=ue.transparent_index;Re===null&&(Re=256);var ve=ue.width,ye=l-ve,k=ve,F=4*(ue.y*l+ue.x),H=4*((ue.y+ue.height)*l+ue.x),Z=F,oe=4*ye;ue.interlaced===!0&&(oe+=4*l*7);for(var $=8,xe=0,ee=_e.length;xe<ee;++xe){var ge=_e[xe];if(k===0&&(k=ve,H<=(Z+=oe)&&(oe=4*ye+4*l*($-1),Z=F+(ve+ye)*($<<1),$>>=1)),ge===Re)Z+=4;else{var fe=o[he+3*ge],le=o[he+3*ge+1],Me=o[he+3*ge+2];J[Z++]=fe,J[Z++]=le,J[Z++]=Me,J[Z++]=255}--k}}}}catch{}},{}],239:[function(e,x,v){(function(f){var o,h;o=this,h=function(l){function d(a){if(this==null)throw TypeError();var p=String(this),b=p.length,_=a?Number(a):0;if(_!=_&&(_=0),!(_<0||b<=_)){var E,A=p.charCodeAt(_);return 55296<=A&&A<=56319&&_+1<b&&56320<=(E=p.charCodeAt(_+1))&&E<=57343?1024*(A-55296)+E-56320+65536:A}}var u;String.prototype.codePointAt||((u=function(){try{var a={},p=Object.defineProperty,b=p(a,a,a)&&p}catch{}return b}())?u(String.prototype,"codePointAt",{value:d,configurable:!0,writable:!0}):String.prototype.codePointAt=d);var n=0,t=-3;function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function s(a,p){this.source=a,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=p,this.destLen=0,this.ltree=new r,this.dtree=new r}var i=new r,c=new r,m=new Uint8Array(30),g=new Uint16Array(30),w=new Uint8Array(30),S=new Uint16Array(30),j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T=new r,L=new Uint8Array(320);function D(a,p,b,_){var E,A;for(E=0;E<b;++E)a[E]=0;for(E=0;E<30-b;++E)a[E+b]=E/b|0;for(A=_,E=0;E<30;++E)p[E]=A,A+=1<<a[E]}var R=new Uint16Array(16);function O(a,p,b,_){var E,A;for(E=0;E<16;++E)a.table[E]=0;for(E=0;E<_;++E)a.table[p[b+E]]++;for(E=A=a.table[0]=0;E<16;++E)R[E]=A,A+=a.table[E];for(E=0;E<_;++E)p[b+E]&&(a.trans[R[p[b+E]]++]=E)}function U(a){a.bitcount--||(a.tag=a.source[a.sourceIndex++],a.bitcount=7);var p=1&a.tag;return a.tag>>>=1,p}function P(a,p,b){if(!p)return b;for(;a.bitcount<24;)a.tag|=a.source[a.sourceIndex++]<<a.bitcount,a.bitcount+=8;var _=a.tag&65535>>>16-p;return a.tag>>>=p,a.bitcount-=p,_+b}function G(a,p){for(;a.bitcount<24;)a.tag|=a.source[a.sourceIndex++]<<a.bitcount,a.bitcount+=8;for(var b=0,_=0,E=0,A=a.tag;_=2*_+(1&A),A>>>=1,++E,b+=p.table[E],0<=(_-=p.table[E]););return a.tag=A,a.bitcount-=E,p.trans[b+_]}function V(a,p,b){var _,E,A,I,z,Y;for(_=P(a,5,257),E=P(a,5,1),A=P(a,4,4),I=0;I<19;++I)L[I]=0;for(I=0;I<A;++I){var re=P(a,3,0);L[j[I]]=re}for(O(T,L,0,19),z=0;z<_+E;){var ce=G(a,T);switch(ce){case 16:var be=L[z-1];for(Y=P(a,2,3);Y;--Y)L[z++]=be;break;case 17:for(Y=P(a,3,3);Y;--Y)L[z++]=0;break;case 18:for(Y=P(a,7,11);Y;--Y)L[z++]=0;break;default:L[z++]=ce}}O(p,L,0,_),O(b,L,_,E)}function te(a,p,b){for(;;){var _,E,A,I,z=G(a,p);if(z===256)return n;if(z<256)a.dest[a.destLen++]=z;else for(_=P(a,m[z-=257],g[z]),E=G(a,b),I=A=a.destLen-P(a,w[E],S[E]);I<A+_;++I)a.dest[a.destLen++]=a.dest[I]}}function ne(a){for(var p,b;8<a.bitcount;)a.sourceIndex--,a.bitcount-=8;if((p=256*(p=a.source[a.sourceIndex+1])+a.source[a.sourceIndex])!==(65535&~(256*a.source[a.sourceIndex+3]+a.source[a.sourceIndex+2])))return t;for(a.sourceIndex+=4,b=p;b;--b)a.dest[a.destLen++]=a.source[a.sourceIndex++];return a.bitcount=0,n}(function(a,p){var b;for(b=0;b<7;++b)a.table[b]=0;for(a.table[7]=24,a.table[8]=152,a.table[9]=112,b=0;b<24;++b)a.trans[b]=256+b;for(b=0;b<144;++b)a.trans[24+b]=b;for(b=0;b<8;++b)a.trans[168+b]=280+b;for(b=0;b<112;++b)a.trans[176+b]=144+b;for(b=0;b<5;++b)p.table[b]=0;for(p.table[5]=32,b=0;b<32;++b)p.trans[b]=b})(i,c),D(m,g,4,3),D(w,S,2,1),m[28]=0,g[28]=258;var K=function(a,p){var b,_,E=new s(a,p);do{switch(b=U(E),P(E,2,0)){case 0:_=ne(E);break;case 1:_=te(E,i,c);break;case 2:V(E,E.ltree,E.dtree),_=te(E,E.ltree,E.dtree);break;default:_=t}if(_!==n)throw new Error("Data error")}while(!b);return E.destLen<E.dest.length?typeof E.dest.slice=="function"?E.dest.slice(0,E.destLen):E.dest.subarray(0,E.destLen):E.dest};function se(a,p,b,_,E){return Math.pow(1-E,3)*a+3*Math.pow(1-E,2)*E*p+3*(1-E)*Math.pow(E,2)*b+Math.pow(E,3)*_}function J(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ue(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function me(a){throw new Error(a)}function _e(a,p){a||me(p)}J.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},J.prototype.addPoint=function(a,p){typeof a=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a)),typeof p=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=p,this.y2=p),p<this.y1&&(this.y1=p),p>this.y2&&(this.y2=p))},J.prototype.addX=function(a){this.addPoint(a,null)},J.prototype.addY=function(a){this.addPoint(null,a)},J.prototype.addBezier=function(a,p,b,_,E,A,I,z){var Y=[a,p],re=[b,_],ce=[E,A],be=[I,z];this.addPoint(a,p),this.addPoint(I,z);for(var Q=0;Q<=1;Q++){var We=6*Y[Q]-12*re[Q]+6*ce[Q],Fe=-3*Y[Q]+9*re[Q]-9*ce[Q]+3*be[Q],ke=3*re[Q]-3*Y[Q];if(Fe!=0){var Se=Math.pow(We,2)-4*ke*Fe;if(!(Se<0)){var Ae=(-We+Math.sqrt(Se))/(2*Fe);0<Ae&&Ae<1&&(Q===0&&this.addX(se(Y[Q],re[Q],ce[Q],be[Q],Ae)),Q===1&&this.addY(se(Y[Q],re[Q],ce[Q],be[Q],Ae)));var Je=(-We-Math.sqrt(Se))/(2*Fe);0<Je&&Je<1&&(Q===0&&this.addX(se(Y[Q],re[Q],ce[Q],be[Q],Je)),Q===1&&this.addY(se(Y[Q],re[Q],ce[Q],be[Q],Je)))}}else{if(We==0)continue;var $e=-ke/We;0<$e&&$e<1&&(Q===0&&this.addX(se(Y[Q],re[Q],ce[Q],be[Q],$e)),Q===1&&this.addY(se(Y[Q],re[Q],ce[Q],be[Q],$e)))}}},J.prototype.addQuad=function(a,p,b,_,E,A){var I=a+.6666666666666666*(b-a),z=p+2/3*(_-p),Y=I+1/3*(E-a),re=z+1/3*(A-p);this.addBezier(a,p,I,z,Y,re,E,A)},ue.prototype.moveTo=function(a,p){this.commands.push({type:"M",x:a,y:p})},ue.prototype.lineTo=function(a,p){this.commands.push({type:"L",x:a,y:p})},ue.prototype.curveTo=ue.prototype.bezierCurveTo=function(a,p,b,_,E,A){this.commands.push({type:"C",x1:a,y1:p,x2:b,y2:_,x:E,y:A})},ue.prototype.quadTo=ue.prototype.quadraticCurveTo=function(a,p,b,_){this.commands.push({type:"Q",x1:a,y1:p,x:b,y:_})},ue.prototype.close=ue.prototype.closePath=function(){this.commands.push({type:"Z"})},ue.prototype.extend=function(a){if(a.commands)a=a.commands;else if(a instanceof J){var p=a;return this.moveTo(p.x1,p.y1),this.lineTo(p.x2,p.y1),this.lineTo(p.x2,p.y2),this.lineTo(p.x1,p.y2),void this.close()}Array.prototype.push.apply(this.commands,a)},ue.prototype.getBoundingBox=function(){for(var a=new J,p=0,b=0,_=0,E=0,A=0;A<this.commands.length;A++){var I=this.commands[A];switch(I.type){case"M":a.addPoint(I.x,I.y),p=_=I.x,b=E=I.y;break;case"L":a.addPoint(I.x,I.y),_=I.x,E=I.y;break;case"Q":a.addQuad(_,E,I.x1,I.y1,I.x,I.y),_=I.x,E=I.y;break;case"C":a.addBezier(_,E,I.x1,I.y1,I.x2,I.y2,I.x,I.y),_=I.x,E=I.y;break;case"Z":_=p,E=b;break;default:throw new Error("Unexpected path command "+I.type)}}return a.isEmpty()&&a.addPoint(0,0),a},ue.prototype.draw=function(a){a.beginPath();for(var p=0;p<this.commands.length;p+=1){var b=this.commands[p];b.type==="M"?a.moveTo(b.x,b.y):b.type==="L"?a.lineTo(b.x,b.y):b.type==="C"?a.bezierCurveTo(b.x1,b.y1,b.x2,b.y2,b.x,b.y):b.type==="Q"?a.quadraticCurveTo(b.x1,b.y1,b.x,b.y):b.type==="Z"&&a.closePath()}this.fill&&(a.fillStyle=this.fill,a.fill()),this.stroke&&(a.strokeStyle=this.stroke,a.lineWidth=this.strokeWidth,a.stroke())},ue.prototype.toPathData=function(a){function p(){for(var A,I=arguments,z="",Y=0;Y<arguments.length;Y+=1){var re=I[Y];0<=re&&0<Y&&(z+=" "),z+=(A=re,Math.round(A)===A?""+Math.round(A):A.toFixed(a))}return z}a=a!==void 0?a:2;for(var b="",_=0;_<this.commands.length;_+=1){var E=this.commands[_];E.type==="M"?b+="M"+p(E.x,E.y):E.type==="L"?b+="L"+p(E.x,E.y):E.type==="C"?b+="C"+p(E.x1,E.y1,E.x2,E.y2,E.x,E.y):E.type==="Q"?b+="Q"+p(E.x1,E.y1,E.x,E.y):E.type==="Z"&&(b+="Z")}return b},ue.prototype.toSVG=function(a){var p='<path d="';return p+=this.toPathData(a),p+='"',this.fill&&this.fill!=="black"&&(this.fill===null?p+=' fill="none"':p+=' fill="'+this.fill+'"'),this.stroke&&(p+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),p+="/>"},ue.prototype.toDOMElement=function(a){var p=this.toPathData(a),b=document.createElementNS("http://www.w3.org/2000/svg","path");return b.setAttribute("d",p),b};var he={fail:me,argument:_e,assert:_e},Re={},ve={},ye={};function k(a){return function(){return a}}ve.BYTE=function(a){return he.argument(0<=a&&a<=255,"Byte value should be between 0 and 255."),[a]},ye.BYTE=k(1),ve.CHAR=function(a){return[a.charCodeAt(0)]},ye.CHAR=k(1),ve.CHARARRAY=function(a){for(var p=[],b=0;b<a.length;b+=1)p[b]=a.charCodeAt(b);return p},ye.CHARARRAY=function(a){return a.length},ve.USHORT=function(a){return[a>>8&255,255&a]},ye.USHORT=k(2),ve.SHORT=function(a){return 32768<=a&&(a=-(65536-a)),[a>>8&255,255&a]},ye.SHORT=k(2),ve.UINT24=function(a){return[a>>16&255,a>>8&255,255&a]},ye.UINT24=k(3),ve.ULONG=function(a){return[a>>24&255,a>>16&255,a>>8&255,255&a]},ye.ULONG=k(4),ve.LONG=function(a){return 2147483648<=a&&(a=-(4294967296-a)),[a>>24&255,a>>16&255,a>>8&255,255&a]},ye.LONG=k(4),ve.FIXED=ve.ULONG,ye.FIXED=ye.ULONG,ve.FWORD=ve.SHORT,ye.FWORD=ye.SHORT,ve.UFWORD=ve.USHORT,ye.UFWORD=ye.USHORT,ve.LONGDATETIME=function(a){return[0,0,0,0,a>>24&255,a>>16&255,a>>8&255,255&a]},ye.LONGDATETIME=k(8),ve.TAG=function(a){return he.argument(a.length===4,"Tag should be exactly 4 ASCII characters."),[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]},ye.TAG=k(4),ve.Card8=ve.BYTE,ye.Card8=ye.BYTE,ve.Card16=ve.USHORT,ye.Card16=ye.USHORT,ve.OffSize=ve.BYTE,ye.OffSize=ye.BYTE,ve.SID=ve.USHORT,ye.SID=ye.USHORT,ve.NUMBER=function(a){return-107<=a&&a<=107?[a+139]:108<=a&&a<=1131?[247+((a-=108)>>8),255&a]:-1131<=a&&a<=-108?[251+((a=-a-108)>>8),255&a]:-32768<=a&&a<=32767?ve.NUMBER16(a):ve.NUMBER32(a)},ye.NUMBER=function(a){return ve.NUMBER(a).length},ve.NUMBER16=function(a){return[28,a>>8&255,255&a]},ye.NUMBER16=k(3),ve.NUMBER32=function(a){return[29,a>>24&255,a>>16&255,a>>8&255,255&a]},ye.NUMBER32=k(5),ve.REAL=function(a){var p=a.toString(),b=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(p);if(b){var _=parseFloat("1e"+((b[2]?+b[2]:0)+b[1].length));p=(Math.round(a*_)/_).toString()}for(var E="",A=0,I=p.length;A<I;A+=1){var z=p[A];E+=z==="e"?p[++A]==="-"?"c":"b":z==="."?"a":z==="-"?"e":z}for(var Y=[30],re=0,ce=(E+=1&E.length?"f":"ff").length;re<ce;re+=2)Y.push(parseInt(E.substr(re,2),16));return Y},ye.REAL=function(a){return ve.REAL(a).length},ve.NAME=ve.CHARARRAY,ye.NAME=ye.CHARARRAY,ve.STRING=ve.CHARARRAY,ye.STRING=ye.CHARARRAY,Re.UTF8=function(a,p,b){for(var _=[],E=b,A=0;A<E;A++,p+=1)_[A]=a.getUint8(p);return String.fromCharCode.apply(null,_)},Re.UTF16=function(a,p,b){for(var _=[],E=b/2,A=0;A<E;A++,p+=2)_[A]=a.getUint16(p);return String.fromCharCode.apply(null,_)},ve.UTF16=function(a){for(var p=[],b=0;b<a.length;b+=1){var _=a.charCodeAt(b);p[p.length]=_>>8&255,p[p.length]=255&_}return p},ye.UTF16=function(a){return 2*a.length};var F={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};Re.MACSTRING=function(a,p,b,_){var E=F[_];if(E!==void 0){for(var A="",I=0;I<b;I++){var z=a.getUint8(p+I);A+=z<=127?String.fromCharCode(z):E[127&z]}return A}};var H,Z=typeof WeakMap=="function"&&new WeakMap;function oe(a){return-128<=a&&a<=127}function $(a,p,b){for(var _=0,E=a.length;p<E&&_<64&&a[p]===0;)++p,++_;return b.push(128|_-1),p}function xe(a,p,b){for(var _=0,E=a.length,A=p;A<E&&_<64;){var I=a[A];if(!oe(I)||I===0&&A+1<E&&a[A+1]===0)break;++A,++_}b.push(_-1);for(var z=p;z<A;++z)b.push(a[z]+256&255);return A}function ee(a,p,b){for(var _=0,E=a.length,A=p;A<E&&_<64;){var I=a[A];if(I===0||oe(I)&&A+1<E&&oe(a[A+1]))break;++A,++_}b.push(64|_-1);for(var z=p;z<A;++z){var Y=a[z];b.push(Y+65536>>8&255,Y+256&255)}return A}ve.MACSTRING=function(a,p){var b=function(I){if(!H)for(var z in H={},F)H[z]=new String(z);var Y=H[I];if(Y!==void 0){if(Z){var re=Z.get(Y);if(re!==void 0)return re}var ce=F[I];if(ce!==void 0){for(var be={},Q=0;Q<ce.length;Q++)be[ce.charCodeAt(Q)]=Q+128;return Z&&Z.set(Y,be),be}}}(p);if(b!==void 0){for(var _=[],E=0;E<a.length;E++){var A=a.charCodeAt(E);if(128<=A&&(A=b[A])===void 0)return;_[E]=A}return _}},ye.MACSTRING=function(a,p){var b=ve.MACSTRING(a,p);return b!==void 0?b.length:0},ve.VARDELTAS=function(a){for(var p=0,b=[];p<a.length;){var _=a[p];p=_===0?$(a,p,b):-128<=_&&_<=127?xe(a,p,b):ee(a,p,b)}return b},ve.INDEX=function(a){for(var p=1,b=[p],_=[],E=0;E<a.length;E+=1){var A=ve.OBJECT(a[E]);Array.prototype.push.apply(_,A),p+=A.length,b.push(p)}if(_.length===0)return[0,0];for(var I=[],z=1+Math.floor(Math.log(p)/Math.log(2))/8|0,Y=[void 0,ve.BYTE,ve.USHORT,ve.UINT24,ve.ULONG][z],re=0;re<b.length;re+=1){var ce=Y(b[re]);Array.prototype.push.apply(I,ce)}return Array.prototype.concat(ve.Card16(a.length),ve.OffSize(z),I,_)},ye.INDEX=function(a){return ve.INDEX(a).length},ve.DICT=function(a){for(var p=[],b=Object.keys(a),_=b.length,E=0;E<_;E+=1){var A=parseInt(b[E],0),I=a[A];p=(p=p.concat(ve.OPERAND(I.value,I.type))).concat(ve.OPERATOR(A))}return p},ye.DICT=function(a){return ve.DICT(a).length},ve.OPERATOR=function(a){return a<1200?[a]:[12,a-1200]},ve.OPERAND=function(a,p){var b=[];if(Array.isArray(p))for(var _=0;_<p.length;_+=1)he.argument(a.length===p.length,"Not enough arguments given for type"+p),b=b.concat(ve.OPERAND(a[_],p[_]));else if(p==="SID")b=b.concat(ve.NUMBER(a));else if(p==="offset")b=b.concat(ve.NUMBER32(a));else if(p==="number")b=b.concat(ve.NUMBER(a));else{if(p!=="real")throw new Error("Unknown operand type "+p);b=b.concat(ve.REAL(a))}return b},ve.OP=ve.BYTE,ye.OP=ye.BYTE;var ge=typeof WeakMap=="function"&&new WeakMap;function fe(a,p,b){for(var _=0;_<p.length;_+=1){var E=p[_];this[E.name]=E.value}if(this.tableName=a,this.fields=p,b)for(var A=Object.keys(b),I=0;I<A.length;I+=1){var z=A[I],Y=b[z];this[z]!==void 0&&(this[z]=Y)}}function le(a,p,b){b===void 0&&(b=p.length);var _=new Array(p.length+1);_[0]={name:a+"Count",type:"USHORT",value:b};for(var E=0;E<p.length;E++)_[E+1]={name:a+E,type:"USHORT",value:p[E]};return _}function Me(a,p,b){var _=p.length,E=new Array(_+1);E[0]={name:a+"Count",type:"USHORT",value:_};for(var A=0;A<_;A++)E[A+1]={name:a+A,type:"TABLE",value:b(p[A],A)};return E}function Ce(a,p,b){var _=p.length,E=[];E[0]={name:a+"Count",type:"USHORT",value:_};for(var A=0;A<_;A++)E=E.concat(b(p[A],A));return E}function je(a){a.format===1?fe.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(le("glyph",a.glyphs))):he.assert(!1,"Can't create coverage table format 2 yet.")}function Ge(a){fe.call(this,"scriptListTable",Ce("scriptRecord",a,function(p,b){var _=p.script,E=_.defaultLangSys;return he.assert(!!E,"Unable to write GSUB: script "+p.tag+" has no default language system."),[{name:"scriptTag"+b,type:"TAG",value:p.tag},{name:"script"+b,type:"TABLE",value:new fe("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new fe("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:E.reqFeatureIndex}].concat(le("featureIndex",E.featureIndexes)))}].concat(Ce("langSys",_.langSysRecords,function(A,I){var z=A.langSys;return[{name:"langSysTag"+I,type:"TAG",value:A.tag},{name:"langSys"+I,type:"TABLE",value:new fe("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:z.reqFeatureIndex}].concat(le("featureIndex",z.featureIndexes)))}]})))}]}))}function Qe(a){fe.call(this,"featureListTable",Ce("featureRecord",a,function(p,b){var _=p.feature;return[{name:"featureTag"+b,type:"TAG",value:p.tag},{name:"feature"+b,type:"TABLE",value:new fe("featureTable",[{name:"featureParams",type:"USHORT",value:_.featureParams}].concat(le("lookupListIndex",_.lookupListIndexes)))}]}))}function Ye(a,p){fe.call(this,"lookupListTable",Me("lookup",a,function(b){var _=p[b.lookupType];return he.assert(!!_,"Unable to write GSUB lookup type "+b.lookupType+" tables."),new fe("lookupTable",[{name:"lookupType",type:"USHORT",value:b.lookupType},{name:"lookupFlag",type:"USHORT",value:b.lookupFlag}].concat(Me("subtable",b.subtables,_)))}))}ve.CHARSTRING=function(a){if(ge){var p=ge.get(a);if(p!==void 0)return p}for(var b=[],_=a.length,E=0;E<_;E+=1){var A=a[E];b=b.concat(ve[A.type](A.value))}return ge&&ge.set(a,b),b},ye.CHARSTRING=function(a){return ve.CHARSTRING(a).length},ve.OBJECT=function(a){var p=ve[a.type];return he.argument(p!==void 0,"No encoding function for type "+a.type),p(a.value)},ye.OBJECT=function(a){var p=ye[a.type];return he.argument(p!==void 0,"No sizeOf function for type "+a.type),p(a.value)},ve.TABLE=function(a){for(var p=[],b=a.fields.length,_=[],E=[],A=0;A<b;A+=1){var I=a.fields[A],z=ve[I.type];he.argument(z!==void 0,"No encoding function for field type "+I.type+" ("+I.name+")");var Y=a[I.name];Y===void 0&&(Y=I.value);var re=z(Y);I.type==="TABLE"?(E.push(p.length),p=p.concat([0,0]),_.push(re)):p=p.concat(re)}for(var ce=0;ce<_.length;ce+=1){var be=E[ce],Q=p.length;he.argument(Q<65536,"Table "+a.tableName+" too big."),p[be]=Q>>8,p[be+1]=255&Q,p=p.concat(_[ce])}return p},ye.TABLE=function(a){for(var p=0,b=a.fields.length,_=0;_<b;_+=1){var E=a.fields[_],A=ye[E.type];he.argument(A!==void 0,"No sizeOf function for field type "+E.type+" ("+E.name+")");var I=a[E.name];I===void 0&&(I=E.value),p+=A(I),E.type==="TABLE"&&(p+=2)}return p},ve.RECORD=ve.TABLE,ye.RECORD=ye.TABLE,ve.LITERAL=function(a){return a},ye.LITERAL=function(a){return a.length},fe.prototype.encode=function(){return ve.TABLE(this)},fe.prototype.sizeOf=function(){return ye.TABLE(this)};var Be={Table:fe,Record:fe,Coverage:(je.prototype=Object.create(fe.prototype)).constructor=je,ScriptList:(Ge.prototype=Object.create(fe.prototype)).constructor=Ge,FeatureList:(Qe.prototype=Object.create(fe.prototype)).constructor=Qe,LookupList:(Ye.prototype=Object.create(fe.prototype)).constructor=Ye,ushortList:le,tableList:Me,recordList:Ce};function ut(a,p){return a.getUint8(p)}function Oe(a,p){return a.getUint16(p,!1)}function Pe(a,p){return a.getUint32(p,!1)}function qe(a,p){return a.getInt16(p,!1)+a.getUint16(p+2,!1)/65535}var Xe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function pe(a,p){this.data=a,this.offset=p,this.relativeOffset=0}pe.prototype.parseByte=function(){var a=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,a},pe.prototype.parseChar=function(){var a=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,a},pe.prototype.parseCard8=pe.prototype.parseByte,pe.prototype.parseCard16=pe.prototype.parseUShort=function(){var a=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,a},pe.prototype.parseSID=pe.prototype.parseUShort,pe.prototype.parseOffset16=pe.prototype.parseUShort,pe.prototype.parseShort=function(){var a=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,a},pe.prototype.parseF2Dot14=function(){var a=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,a},pe.prototype.parseOffset32=pe.prototype.parseULong=function(){var a=Pe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,a},pe.prototype.parseFixed=function(){var a=qe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,a},pe.prototype.parseString=function(a){var p=this.data,b=this.offset+this.relativeOffset,_="";this.relativeOffset+=a;for(var E=0;E<a;E++)_+=String.fromCharCode(p.getUint8(b+E));return _},pe.prototype.parseTag=function(){return this.parseString(4)},pe.prototype.parseLongDateTime=function(){var a=Pe(this.data,this.offset+this.relativeOffset+4);return a-=2082844800,this.relativeOffset+=8,a},pe.prototype.parseVersion=function(a){var p=Oe(this.data,this.offset+this.relativeOffset),b=Oe(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,a===void 0&&(a=4096),p+b/a/10},pe.prototype.skip=function(a,p){p===void 0&&(p=1),this.relativeOffset+=Xe[a]*p},pe.prototype.parseULongList=function(a){a===void 0&&(a=this.parseULong());for(var p=new Array(a),b=this.data,_=this.offset+this.relativeOffset,E=0;E<a;E++)p[E]=b.getUint32(_),_+=4;return this.relativeOffset+=4*a,p},pe.prototype.parseOffset16List=pe.prototype.parseUShortList=function(a){a===void 0&&(a=this.parseUShort());for(var p=new Array(a),b=this.data,_=this.offset+this.relativeOffset,E=0;E<a;E++)p[E]=b.getUint16(_),_+=2;return this.relativeOffset+=2*a,p},pe.prototype.parseShortList=function(a){for(var p=new Array(a),b=this.data,_=this.offset+this.relativeOffset,E=0;E<a;E++)p[E]=b.getInt16(_),_+=2;return this.relativeOffset+=2*a,p},pe.prototype.parseByteList=function(a){for(var p=new Array(a),b=this.data,_=this.offset+this.relativeOffset,E=0;E<a;E++)p[E]=b.getUint8(_++);return this.relativeOffset+=a,p},pe.prototype.parseList=function(a,p){p||(p=a,a=this.parseUShort());for(var b=new Array(a),_=0;_<a;_++)b[_]=p.call(this);return b},pe.prototype.parseList32=function(a,p){p||(p=a,a=this.parseULong());for(var b=new Array(a),_=0;_<a;_++)b[_]=p.call(this);return b},pe.prototype.parseRecordList=function(a,p){p||(p=a,a=this.parseUShort());for(var b=new Array(a),_=Object.keys(p),E=0;E<a;E++){for(var A={},I=0;I<_.length;I++){var z=_[I],Y=p[z];A[z]=Y.call(this)}b[E]=A}return b},pe.prototype.parseRecordList32=function(a,p){p||(p=a,a=this.parseULong());for(var b=new Array(a),_=Object.keys(p),E=0;E<a;E++){for(var A={},I=0;I<_.length;I++){var z=_[I],Y=p[z];A[z]=Y.call(this)}b[E]=A}return b},pe.prototype.parseStruct=function(a){if(typeof a=="function")return a.call(this);for(var p=Object.keys(a),b={},_=0;_<p.length;_++){var E=p[_],A=a[E];b[E]=A.call(this)}return b},pe.prototype.parseValueRecord=function(a){if(a===void 0&&(a=this.parseUShort()),a!==0){var p={};return 1&a&&(p.xPlacement=this.parseShort()),2&a&&(p.yPlacement=this.parseShort()),4&a&&(p.xAdvance=this.parseShort()),8&a&&(p.yAdvance=this.parseShort()),16&a&&(p.xPlaDevice=void 0,this.parseShort()),32&a&&(p.yPlaDevice=void 0,this.parseShort()),64&a&&(p.xAdvDevice=void 0,this.parseShort()),128&a&&(p.yAdvDevice=void 0,this.parseShort()),p}},pe.prototype.parseValueRecordList=function(){for(var a=this.parseUShort(),p=this.parseUShort(),b=new Array(p),_=0;_<p;_++)b[_]=this.parseValueRecord(a);return b},pe.prototype.parsePointer=function(a){var p=this.parseOffset16();if(0<p)return new pe(this.data,this.offset+p).parseStruct(a)},pe.prototype.parsePointer32=function(a){var p=this.parseOffset32();if(0<p)return new pe(this.data,this.offset+p).parseStruct(a)},pe.prototype.parseListOfLists=function(a){for(var p=this.parseOffset16List(),b=p.length,_=this.relativeOffset,E=new Array(b),A=0;A<b;A++){var I=p[A];if(I!==0)if(this.relativeOffset=I,a){for(var z=this.parseOffset16List(),Y=new Array(z.length),re=0;re<z.length;re++)this.relativeOffset=I+z[re],Y[re]=a.call(this);E[A]=Y}else E[A]=this.parseUShortList();else E[A]=void 0}return this.relativeOffset=_,E},pe.prototype.parseCoverage=function(){var a=this.offset+this.relativeOffset,p=this.parseUShort(),b=this.parseUShort();if(p===1)return{format:1,glyphs:this.parseUShortList(b)};if(p!==2)throw new Error("0x"+a.toString(16)+": Coverage format must be 1 or 2.");for(var _=new Array(b),E=0;E<b;E++)_[E]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:_}},pe.prototype.parseClassDef=function(){var a=this.offset+this.relativeOffset,p=this.parseUShort();if(p===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(p===2)return{format:2,ranges:this.parseRecordList({start:pe.uShort,end:pe.uShort,classId:pe.uShort})};throw new Error("0x"+a.toString(16)+": ClassDef format must be 1 or 2.")},pe.list=function(a,p){return function(){return this.parseList(a,p)}},pe.list32=function(a,p){return function(){return this.parseList32(a,p)}},pe.recordList=function(a,p){return function(){return this.parseRecordList(a,p)}},pe.recordList32=function(a,p){return function(){return this.parseRecordList32(a,p)}},pe.pointer=function(a){return function(){return this.parsePointer(a)}},pe.pointer32=function(a){return function(){return this.parsePointer32(a)}},pe.tag=pe.prototype.parseTag,pe.byte=pe.prototype.parseByte,pe.uShort=pe.offset16=pe.prototype.parseUShort,pe.uShortList=pe.prototype.parseUShortList,pe.uLong=pe.offset32=pe.prototype.parseULong,pe.uLongList=pe.prototype.parseULongList,pe.struct=pe.prototype.parseStruct,pe.coverage=pe.prototype.parseCoverage,pe.classDef=pe.prototype.parseClassDef;var et={reserved:pe.uShort,reqFeatureIndex:pe.uShort,featureIndexes:pe.uShortList};pe.prototype.parseScriptList=function(){return this.parsePointer(pe.recordList({tag:pe.tag,script:pe.pointer({defaultLangSys:pe.pointer(et),langSysRecords:pe.recordList({tag:pe.tag,langSys:pe.pointer(et)})})}))||[]},pe.prototype.parseFeatureList=function(){return this.parsePointer(pe.recordList({tag:pe.tag,feature:pe.pointer({featureParams:pe.offset16,lookupListIndexes:pe.uShortList})}))||[]},pe.prototype.parseLookupList=function(a){return this.parsePointer(pe.list(pe.pointer(function(){var p=this.parseUShort();he.argument(1<=p&&p<=9,"GPOS/GSUB lookup type "+p+" unknown.");var b=this.parseUShort(),_=16&b;return{lookupType:p,lookupFlag:b,subtables:this.parseList(pe.pointer(a[p])),markFilteringSet:_?this.parseUShort():void 0}})))||[]},pe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var a=this.parseUShort(),p=this.parseUShort();return he.argument(a===1&&p<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:pe.offset32,featureTableSubstitutionOffset:pe.offset32})})||[]};var B={getByte:ut,getCard8:ut,getUShort:Oe,getCard16:Oe,getShort:function(a,p){return a.getInt16(p,!1)},getULong:Pe,getFixed:qe,getTag:function(a,p){for(var b="",_=p;_<p+4;_+=1)b+=String.fromCharCode(a.getInt8(_));return b},getOffset:function(a,p,b){for(var _=0,E=0;E<b;E+=1)_<<=8,_+=a.getUint8(p+E);return _},getBytes:function(a,p,b){for(var _=[],E=p;E<b;E+=1)_.push(a.getUint8(E));return _},bytesToString:function(a){for(var p="",b=0;b<a.length;b+=1)p+=String.fromCharCode(a[b]);return p},Parser:pe},q={parse:function(a,p){var b={};b.version=B.getUShort(a,p),he.argument(b.version===0,"cmap table version should be 0."),b.numTables=B.getUShort(a,p+2);for(var _=-1,E=b.numTables-1;0<=E;--E){var A=B.getUShort(a,p+4+8*E),I=B.getUShort(a,p+4+8*E+2);if(A===3&&(I===0||I===1||I===10)||A===0&&(I===0||I===1||I===2||I===3||I===4)){_=B.getULong(a,p+4+8*E+4);break}}if(_===-1)throw new Error("No valid cmap sub-tables found.");var z=new B.Parser(a,p+_);if(b.format=z.parseUShort(),b.format===12)(function(Y,re){var ce;re.parseUShort(),Y.length=re.parseULong(),Y.language=re.parseULong(),Y.groupCount=ce=re.parseULong(),Y.glyphIndexMap={};for(var be=0;be<ce;be+=1)for(var Q=re.parseULong(),We=re.parseULong(),Fe=re.parseULong(),ke=Q;ke<=We;ke+=1)Y.glyphIndexMap[ke]=Fe,Fe++})(b,z);else{if(b.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+b.format+").");(function(Y,re,ce,be,Q){var We;Y.length=re.parseUShort(),Y.language=re.parseUShort(),Y.segCount=We=re.parseUShort()>>1,re.skip("uShort",3),Y.glyphIndexMap={};for(var Fe=new B.Parser(ce,be+Q+14),ke=new B.Parser(ce,be+Q+16+2*We),Se=new B.Parser(ce,be+Q+16+4*We),Ae=new B.Parser(ce,be+Q+16+6*We),Je=be+Q+16+8*We,$e=0;$e<We-1;$e+=1)for(var pt=void 0,ot=Fe.parseUShort(),it=ke.parseUShort(),Dt=Se.parseShort(),gt=Ae.parseUShort(),mt=it;mt<=ot;mt+=1)gt!==0?(Je=Ae.offset+Ae.relativeOffset-2,Je+=gt,Je+=2*(mt-it),(pt=B.getUShort(ce,Je))!==0&&(pt=pt+Dt&65535)):pt=mt+Dt&65535,Y.glyphIndexMap[mt]=pt})(b,z,a,p,_)}return b},make:function(a){var p,b=!0;for(p=a.length-1;0<p;--p)if(65535<a.get(p).unicode){console.log("Adding CMAP format 12 (needed!)"),b=!1;break}var _=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:b?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:b?12:20}];b||(_=_.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),_=_.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var E,A,I,z=new Be.Table("cmap",_);for(z.segments=[],p=0;p<a.length;p+=1){for(var Y=a.get(p),re=0;re<Y.unicodes.length;re+=1)E=z,A=Y.unicodes[re],I=p,E.segments.push({end:A,start:A,delta:-(A-I),offset:0,glyphIndex:I});z.segments=z.segments.sort(function(pt,ot){return pt.start-ot.start})}z.segments.push({end:65535,start:65535,delta:1,offset:0});var ce=z.segments.length,be=0,Q=[],We=[],Fe=[],ke=[],Se=[],Ae=[];for(p=0;p<ce;p+=1){var Je=z.segments[p];Je.end<=65535&&Je.start<=65535?(Q=Q.concat({name:"end_"+p,type:"USHORT",value:Je.end}),We=We.concat({name:"start_"+p,type:"USHORT",value:Je.start}),Fe=Fe.concat({name:"idDelta_"+p,type:"SHORT",value:Je.delta}),ke=ke.concat({name:"idRangeOffset_"+p,type:"USHORT",value:Je.offset}),Je.glyphId!==void 0&&(Se=Se.concat({name:"glyph_"+p,type:"USHORT",value:Je.glyphId}))):be+=1,b||Je.glyphIndex===void 0||(Ae=(Ae=(Ae=Ae.concat({name:"cmap12Start_"+p,type:"ULONG",value:Je.start})).concat({name:"cmap12End_"+p,type:"ULONG",value:Je.end})).concat({name:"cmap12Glyph_"+p,type:"ULONG",value:Je.glyphIndex}))}if(z.segCountX2=2*(ce-be),z.searchRange=2*Math.pow(2,Math.floor(Math.log(ce-be)/Math.log(2))),z.entrySelector=Math.log(z.searchRange/2)/Math.log(2),z.rangeShift=z.segCountX2-z.searchRange,z.fields=z.fields.concat(Q),z.fields.push({name:"reservedPad",type:"USHORT",value:0}),z.fields=z.fields.concat(We),z.fields=z.fields.concat(Fe),z.fields=z.fields.concat(ke),z.fields=z.fields.concat(Se),z.cmap4Length=14+2*Q.length+2+2*We.length+2*Fe.length+2*ke.length+2*Se.length,!b){var $e=16+4*Ae.length;z.cmap12Offset=20+z.cmap4Length,z.fields=z.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:$e},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ae.length/3}]),z.fields=z.fields.concat(Ae)}return z}},W=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],X=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ie=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],we=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Te(a){this.font=a}function Ie(a){this.cmap=a}function de(a,p){this.encoding=a,this.charset=p}function ze(a){switch(a.version){case 1:this.names=we.slice();break;case 2:this.names=new Array(a.numberOfGlyphs);for(var p=0;p<a.numberOfGlyphs;p++)a.glyphNameIndex[p]<we.length?this.names[p]=we[a.glyphNameIndex[p]]:this.names[p]=a.names[a.glyphNameIndex[p]-we.length];break;case 2.5:this.names=new Array(a.numberOfGlyphs);for(var b=0;b<a.numberOfGlyphs;b++)this.names[b]=we[b+a.glyphNameIndex[b]];break;case 3:default:this.names=[]}}Te.prototype.charToGlyphIndex=function(a){var p=a.codePointAt(0),b=this.font.glyphs;if(b){for(var _=0;_<b.length;_+=1)for(var E=b.get(_),A=0;A<E.unicodes.length;A+=1)if(E.unicodes[A]===p)return _}return null},Ie.prototype.charToGlyphIndex=function(a){return this.cmap.glyphIndexMap[a.codePointAt(0)]||0},de.prototype.charToGlyphIndex=function(a){var p=a.codePointAt(0),b=this.encoding[p];return this.charset.indexOf(b)},ze.prototype.nameToGlyphIndex=function(a){return this.names.indexOf(a)},ze.prototype.glyphIndexToName=function(a){return this.names[a]};var nt={line:function(a,p,b,_,E){a.beginPath(),a.moveTo(p,b),a.lineTo(_,E),a.stroke()}};function at(a){this.bindConstructorValues(a)}function dt(a,p,b){Object.defineProperty(a,p,{get:function(){return a.path,a[b]},set:function(_){a[b]=_},enumerable:!0,configurable:!0})}function lt(a,p){if(this.font=a,this.glyphs={},Array.isArray(p))for(var b=0;b<p.length;b++)this.glyphs[b]=p[b];this.length=p&&p.length||0}at.prototype.bindConstructorValues=function(a){var p,b;this.index=a.index||0,this.name=a.name||null,this.unicode=a.unicode||void 0,this.unicodes=a.unicodes||a.unicode!==void 0?[a.unicode]:[],a.xMin&&(this.xMin=a.xMin),a.yMin&&(this.yMin=a.yMin),a.xMax&&(this.xMax=a.xMax),a.yMax&&(this.yMax=a.yMax),a.advanceWidth&&(this.advanceWidth=a.advanceWidth),Object.defineProperty(this,"path",(p=a.path,b=p||new ue,{configurable:!0,get:function(){return typeof b=="function"&&(b=b()),b},set:function(_){b=_}}))},at.prototype.addUnicode=function(a){this.unicodes.length===0&&(this.unicode=a),this.unicodes.push(a)},at.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},at.prototype.getPath=function(a,p,b,_,E){var A,I;a=a!==void 0?a:0,p=p!==void 0?p:0,b=b!==void 0?b:72;var z=(_=_||{}).xScale,Y=_.yScale;if(_.hinting&&E&&E.hinting&&(I=this.path&&E.hinting.exec(this,b)),I)A=E.hinting.getCommands(I),a=Math.round(a),p=Math.round(p),z=Y=1;else{A=this.path.commands;var re=1/this.path.unitsPerEm*b;z===void 0&&(z=re),Y===void 0&&(Y=re)}for(var ce=new ue,be=0;be<A.length;be+=1){var Q=A[be];Q.type==="M"?ce.moveTo(a+Q.x*z,p+-Q.y*Y):Q.type==="L"?ce.lineTo(a+Q.x*z,p+-Q.y*Y):Q.type==="Q"?ce.quadraticCurveTo(a+Q.x1*z,p+-Q.y1*Y,a+Q.x*z,p+-Q.y*Y):Q.type==="C"?ce.curveTo(a+Q.x1*z,p+-Q.y1*Y,a+Q.x2*z,p+-Q.y2*Y,a+Q.x*z,p+-Q.y*Y):Q.type==="Z"&&ce.closePath()}return ce},at.prototype.getContours=function(){if(this.points===void 0)return[];for(var a=[],p=[],b=0;b<this.points.length;b+=1){var _=this.points[b];p.push(_),_.lastPointOfContour&&(a.push(p),p=[])}return he.argument(p.length===0,"There are still points left in the current contour."),a},at.prototype.getMetrics=function(){for(var a=this.path.commands,p=[],b=[],_=0;_<a.length;_+=1){var E=a[_];E.type!=="Z"&&(p.push(E.x),b.push(E.y)),E.type!=="Q"&&E.type!=="C"||(p.push(E.x1),b.push(E.y1)),E.type==="C"&&(p.push(E.x2),b.push(E.y2))}var A={xMin:Math.min.apply(null,p),yMin:Math.min.apply(null,b),xMax:Math.max.apply(null,p),yMax:Math.max.apply(null,b),leftSideBearing:this.leftSideBearing};return isFinite(A.xMin)||(A.xMin=0),isFinite(A.xMax)||(A.xMax=this.advanceWidth),isFinite(A.yMin)||(A.yMin=0),isFinite(A.yMax)||(A.yMax=0),A.rightSideBearing=this.advanceWidth-A.leftSideBearing-(A.xMax-A.xMin),A},at.prototype.draw=function(a,p,b,_,E){this.getPath(p,b,_,E).draw(a)},at.prototype.drawPoints=function(a,p,b,_){function E(be,Q,We,Fe){var ke=2*Math.PI;a.beginPath();for(var Se=0;Se<be.length;Se+=1)a.moveTo(Q+be[Se].x*Fe,We+be[Se].y*Fe),a.arc(Q+be[Se].x*Fe,We+be[Se].y*Fe,2,0,ke,!1);a.closePath(),a.fill()}p=p!==void 0?p:0,b=b!==void 0?b:0,_=_!==void 0?_:24;for(var A=1/this.path.unitsPerEm*_,I=[],z=[],Y=this.path,re=0;re<Y.commands.length;re+=1){var ce=Y.commands[re];ce.x!==void 0&&I.push({x:ce.x,y:-ce.y}),ce.x1!==void 0&&z.push({x:ce.x1,y:-ce.y1}),ce.x2!==void 0&&z.push({x:ce.x2,y:-ce.y2})}a.fillStyle="blue",E(I,p,b,A),a.fillStyle="red",E(z,p,b,A)},at.prototype.drawMetrics=function(a,p,b,_){var E;p=p!==void 0?p:0,b=b!==void 0?b:0,_=_!==void 0?_:24,E=1/this.path.unitsPerEm*_,a.lineWidth=1,a.strokeStyle="black",nt.line(a,p,-1e4,p,1e4),nt.line(a,-1e4,b,1e4,b);var A=this.xMin||0,I=this.yMin||0,z=this.xMax||0,Y=this.yMax||0,re=this.advanceWidth||0;a.strokeStyle="blue",nt.line(a,p+A*E,-1e4,p+A*E,1e4),nt.line(a,p+z*E,-1e4,p+z*E,1e4),nt.line(a,-1e4,b+-I*E,1e4,b+-I*E),nt.line(a,-1e4,b+-Y*E,1e4,b+-Y*E),a.strokeStyle="green",nt.line(a,p+re*E,-1e4,p+re*E,1e4)},lt.prototype.get=function(a){return typeof this.glyphs[a]=="function"&&(this.glyphs[a]=this.glyphs[a]()),this.glyphs[a]},lt.prototype.push=function(a,p){this.glyphs[a]=p,this.length++};var ct={GlyphSet:lt,glyphLoader:function(a,p){return new at({index:p,font:a})},ttfGlyphLoader:function(a,p,b,_,E,A){return function(){var I=new at({index:p,font:a});return I.path=function(){b(I,_,E);var z=A(a.glyphs,I);return z.unitsPerEm=a.unitsPerEm,z},dt(I,"xMin","_xMin"),dt(I,"xMax","_xMax"),dt(I,"yMin","_yMin"),dt(I,"yMax","_yMax"),I}},cffGlyphLoader:function(a,p,b,_){return function(){var E=new at({index:p,font:a});return E.path=function(){var A=b(a,E,_);return A.unitsPerEm=a.unitsPerEm,A},E}}};function bt(a,p){if(a===p)return!0;if(Array.isArray(a)&&Array.isArray(p)){if(a.length!==p.length)return!1;for(var b=0;b<a.length;b+=1)if(!bt(a[b],p[b]))return!1;return!0}return!1}function nr(a){return a.length<1240?107:a.length<33900?1131:32768}function zt(a,p,b){var _,E,A=[],I=[],z=B.getCard16(a,p);if(z!==0){var Y=B.getByte(a,p+2);_=p+(z+1)*Y+2;for(var re=p+3,ce=0;ce<z+1;ce+=1)A.push(B.getOffset(a,re,Y)),re+=Y;E=_+A[z]}else E=p+2;for(var be=0;be<A.length-1;be+=1){var Q=B.getBytes(a,_+A[be],_+A[be+1]);b&&(Q=b(Q)),I.push(Q)}return{objects:I,startOffset:p,endOffset:E}}function Or(a,p){if(p===28)return a.parseByte()<<8|a.parseByte();if(p===29)return a.parseByte()<<24|a.parseByte()<<16|a.parseByte()<<8|a.parseByte();if(p===30)return function(b){for(var _="",E=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var A=b.parseByte(),I=A>>4,z=15&A;if(I==15||(_+=E[I],z==15))break;_+=E[z]}return parseFloat(_)}(a);if(32<=p&&p<=246)return p-139;if(247<=p&&p<=250)return 256*(p-247)+a.parseByte()+108;if(251<=p&&p<=254)return 256*-(p-251)-a.parseByte()-108;throw new Error("Invalid b0 "+p)}function hr(a,p,b){p=p!==void 0?p:0;var _=new B.Parser(a,p),E=[],A=[];for(b=b!==void 0?b:a.length;_.relativeOffset<b;){var I=_.parseByte();I<=21?(I===12&&(I=1200+_.parseByte()),E.push([I,A]),A=[]):A.push(Or(_,I))}return function(z){for(var Y={},re=0;re<z.length;re+=1){var ce=z[re][0],be=z[re][1],Q=void 0;if(Q=be.length===1?be[0]:be,Y.hasOwnProperty(ce)&&!isNaN(Y[ce]))throw new Error("Object "+Y+" already has key "+ce);Y[ce]=Q}return Y}(E)}function or(a,p){return p=p<=390?W[p]:a[p-391]}function Lr(a,p,b){for(var _,E={},A=0;A<p.length;A+=1){var I=p[A];if(Array.isArray(I.type)){var z=[];z.length=I.type.length;for(var Y=0;Y<I.type.length;Y++)(_=a[I.op]!==void 0?a[I.op][Y]:void 0)===void 0&&(_=I.value!==void 0&&I.value[Y]!==void 0?I.value[Y]:null),I.type[Y]==="SID"&&(_=or(b,_)),z[Y]=_;E[I.name]=z}else(_=a[I.op])===void 0&&(_=I.value!==void 0?I.value:null),I.type==="SID"&&(_=or(b,_)),E[I.name]=_}return E}var Dr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ir=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ur(a,p,b,_){return Lr(hr(a,p,b),Ir,_)}function Fr(a,p,b,_){for(var E,A,I=[],z=0;z<b.length;z+=1){var Y=new DataView(new Uint8Array(b[z]).buffer),re=(A=_,Lr(hr(E=Y,0,E.byteLength),Dr,A));re._subrs=[],re._subrsBias=0;var ce=re.private[0],be=re.private[1];if(ce!==0&&be!==0){var Q=Ur(a,be+p,ce,_);if(re._defaultWidthX=Q.defaultWidthX,re._nominalWidthX=Q.nominalWidthX,Q.subrs!==0){var We=zt(a,be+Q.subrs+p);re._subrs=We.objects,re._subrsBias=nr(re._subrs)}re._privateDict=Q}I.push(re)}return I}function qr(a,p,b){var _,E,A,I,z,Y,re,ce,be=new ue,Q=[],We=0,Fe=!1,ke=!1,Se=0,Ae=0;if(a.isCIDFont){var Je=a.tables.cff.topDict._fdSelect[p.index],$e=a.tables.cff.topDict._fdArray[Je];z=$e._subrs,Y=$e._subrsBias,re=$e._defaultWidthX,ce=$e._nominalWidthX}else z=a.tables.cff.topDict._subrs,Y=a.tables.cff.topDict._subrsBias,re=a.tables.cff.topDict._defaultWidthX,ce=a.tables.cff.topDict._nominalWidthX;var pt=re;function ot(Dt,gt){ke&&be.closePath(),be.moveTo(Dt,gt),ke=!0}function it(){Q.length%2==0||Fe||(pt=Q.shift()+ce),We+=Q.length>>1,Q.length=0,Fe=!0}return function Dt(gt){for(var mt,vt,Mt,St,Ot,Tt,jt,Lt,Ct,Ut,wt,Ft,At=0;At<gt.length;){var kt=gt[At];switch(At+=1,kt){case 1:case 3:it();break;case 4:1<Q.length&&!Fe&&(pt=Q.shift()+ce,Fe=!0),Ae+=Q.pop(),ot(Se,Ae);break;case 5:for(;0<Q.length;)Se+=Q.shift(),Ae+=Q.shift(),be.lineTo(Se,Ae);break;case 6:for(;0<Q.length&&(Se+=Q.shift(),be.lineTo(Se,Ae),Q.length!==0);)Ae+=Q.shift(),be.lineTo(Se,Ae);break;case 7:for(;0<Q.length&&(Ae+=Q.shift(),be.lineTo(Se,Ae),Q.length!==0);)Se+=Q.shift(),be.lineTo(Se,Ae);break;case 8:for(;0<Q.length;)_=Se+Q.shift(),E=Ae+Q.shift(),A=_+Q.shift(),I=E+Q.shift(),Se=A+Q.shift(),Ae=I+Q.shift(),be.curveTo(_,E,A,I,Se,Ae);break;case 10:Ot=Q.pop()+Y,(Tt=z[Ot])&&Dt(Tt);break;case 11:return;case 12:switch(kt=gt[At],At+=1,kt){case 35:_=Se+Q.shift(),E=Ae+Q.shift(),A=_+Q.shift(),I=E+Q.shift(),jt=A+Q.shift(),Lt=I+Q.shift(),Ct=jt+Q.shift(),Ut=Lt+Q.shift(),wt=Ct+Q.shift(),Ft=Ut+Q.shift(),Se=wt+Q.shift(),Ae=Ft+Q.shift(),Q.shift(),be.curveTo(_,E,A,I,jt,Lt),be.curveTo(Ct,Ut,wt,Ft,Se,Ae);break;case 34:_=Se+Q.shift(),E=Ae,A=_+Q.shift(),I=E+Q.shift(),jt=A+Q.shift(),Lt=I,Ct=jt+Q.shift(),Ut=I,wt=Ct+Q.shift(),Ft=Ae,Se=wt+Q.shift(),be.curveTo(_,E,A,I,jt,Lt),be.curveTo(Ct,Ut,wt,Ft,Se,Ae);break;case 36:_=Se+Q.shift(),E=Ae+Q.shift(),A=_+Q.shift(),I=E+Q.shift(),jt=A+Q.shift(),Lt=I,Ct=jt+Q.shift(),Ut=I,wt=Ct+Q.shift(),Ft=Ut+Q.shift(),Se=wt+Q.shift(),be.curveTo(_,E,A,I,jt,Lt),be.curveTo(Ct,Ut,wt,Ft,Se,Ae);break;case 37:_=Se+Q.shift(),E=Ae+Q.shift(),A=_+Q.shift(),I=E+Q.shift(),jt=A+Q.shift(),Lt=I+Q.shift(),Ct=jt+Q.shift(),Ut=Lt+Q.shift(),wt=Ct+Q.shift(),Ft=Ut+Q.shift(),Math.abs(wt-Se)>Math.abs(Ft-Ae)?Se=wt+Q.shift():Ae=Ft+Q.shift(),be.curveTo(_,E,A,I,jt,Lt),be.curveTo(Ct,Ut,wt,Ft,Se,Ae);break;default:console.log("Glyph "+p.index+": unknown operator 1200"+kt),Q.length=0}break;case 14:0<Q.length&&!Fe&&(pt=Q.shift()+ce,Fe=!0),ke&&(be.closePath(),ke=!1);break;case 18:it();break;case 19:case 20:it(),At+=We+7>>3;break;case 21:2<Q.length&&!Fe&&(pt=Q.shift()+ce,Fe=!0),Ae+=Q.pop(),ot(Se+=Q.pop(),Ae);break;case 22:1<Q.length&&!Fe&&(pt=Q.shift()+ce,Fe=!0),ot(Se+=Q.pop(),Ae);break;case 23:it();break;case 24:for(;2<Q.length;)_=Se+Q.shift(),E=Ae+Q.shift(),A=_+Q.shift(),I=E+Q.shift(),Se=A+Q.shift(),Ae=I+Q.shift(),be.curveTo(_,E,A,I,Se,Ae);Se+=Q.shift(),Ae+=Q.shift(),be.lineTo(Se,Ae);break;case 25:for(;6<Q.length;)Se+=Q.shift(),Ae+=Q.shift(),be.lineTo(Se,Ae);_=Se+Q.shift(),E=Ae+Q.shift(),A=_+Q.shift(),I=E+Q.shift(),Se=A+Q.shift(),Ae=I+Q.shift(),be.curveTo(_,E,A,I,Se,Ae);break;case 26:for(Q.length%2&&(Se+=Q.shift());0<Q.length;)_=Se,E=Ae+Q.shift(),A=_+Q.shift(),I=E+Q.shift(),Se=A,Ae=I+Q.shift(),be.curveTo(_,E,A,I,Se,Ae);break;case 27:for(Q.length%2&&(Ae+=Q.shift());0<Q.length;)_=Se+Q.shift(),E=Ae,A=_+Q.shift(),I=E+Q.shift(),Se=A+Q.shift(),Ae=I,be.curveTo(_,E,A,I,Se,Ae);break;case 28:mt=gt[At],vt=gt[At+1],Q.push((mt<<24|vt<<16)>>16),At+=2;break;case 29:Ot=Q.pop()+a.gsubrsBias,(Tt=a.gsubrs[Ot])&&Dt(Tt);break;case 30:for(;0<Q.length&&(_=Se,E=Ae+Q.shift(),A=_+Q.shift(),I=E+Q.shift(),Se=A+Q.shift(),Ae=I+(Q.length===1?Q.shift():0),be.curveTo(_,E,A,I,Se,Ae),Q.length!==0);)_=Se+Q.shift(),E=Ae,A=_+Q.shift(),I=E+Q.shift(),Ae=I+Q.shift(),Se=A+(Q.length===1?Q.shift():0),be.curveTo(_,E,A,I,Se,Ae);break;case 31:for(;0<Q.length&&(_=Se+Q.shift(),E=Ae,A=_+Q.shift(),I=E+Q.shift(),Ae=I+Q.shift(),Se=A+(Q.length===1?Q.shift():0),be.curveTo(_,E,A,I,Se,Ae),Q.length!==0);)_=Se,E=Ae+Q.shift(),A=_+Q.shift(),I=E+Q.shift(),Se=A+Q.shift(),Ae=I+(Q.length===1?Q.shift():0),be.curveTo(_,E,A,I,Se,Ae);break;default:kt<32?console.log("Glyph "+p.index+": unknown operator "+kt):kt<247?Q.push(kt-139):kt<251?(mt=gt[At],At+=1,Q.push(256*(kt-247)+mt+108)):kt<255?(mt=gt[At],At+=1,Q.push(256*-(kt-251)-mt-108)):(mt=gt[At],vt=gt[At+1],Mt=gt[At+2],St=gt[At+3],At+=4,Q.push((mt<<24|vt<<16|Mt<<8|St)/65536))}}}(b),p.advanceWidth=pt,be}function br(a,p){var b,_=W.indexOf(a);return 0<=_&&(b=_),0<=(_=p.indexOf(a))?b=_+W.length:(b=W.length+p.length,p.push(a)),b}function wr(a,p,b){for(var _={},E=0;E<a.length;E+=1){var A=a[E],I=p[A.name];I===void 0||bt(I,A.value)||(A.type==="SID"&&(I=br(I,b)),_[A.op]={name:A.name,type:A.type,value:I})}return _}function ae(a,p){var b=new Be.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return b.dict=wr(Dr,a,p),b}function De(a){var p=new Be.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return p.topDicts=[{name:"topDict_0",type:"TABLE",value:a}],p}function He(a){var p=[],b=a.path;p.push({name:"width",type:"NUMBER",value:a.advanceWidth});for(var _=0,E=0,A=0;A<b.commands.length;A+=1){var I=void 0,z=void 0,Y=b.commands[A];if(Y.type==="Q"&&(Y={type:"C",x:Y.x,y:Y.y,x1:1/3*_+2/3*Y.x1,y1:1/3*E+2/3*Y.y1,x2:1/3*Y.x+2/3*Y.x1,y2:1/3*Y.y+2/3*Y.y1}),Y.type==="M")I=Math.round(Y.x-_),z=Math.round(Y.y-E),p.push({name:"dx",type:"NUMBER",value:I}),p.push({name:"dy",type:"NUMBER",value:z}),p.push({name:"rmoveto",type:"OP",value:21}),_=Math.round(Y.x),E=Math.round(Y.y);else if(Y.type==="L")I=Math.round(Y.x-_),z=Math.round(Y.y-E),p.push({name:"dx",type:"NUMBER",value:I}),p.push({name:"dy",type:"NUMBER",value:z}),p.push({name:"rlineto",type:"OP",value:5}),_=Math.round(Y.x),E=Math.round(Y.y);else if(Y.type==="C"){var re=Math.round(Y.x1-_),ce=Math.round(Y.y1-E),be=Math.round(Y.x2-Y.x1),Q=Math.round(Y.y2-Y.y1);I=Math.round(Y.x-Y.x2),z=Math.round(Y.y-Y.y2),p.push({name:"dx1",type:"NUMBER",value:re}),p.push({name:"dy1",type:"NUMBER",value:ce}),p.push({name:"dx2",type:"NUMBER",value:be}),p.push({name:"dy2",type:"NUMBER",value:Q}),p.push({name:"dx",type:"NUMBER",value:I}),p.push({name:"dy",type:"NUMBER",value:z}),p.push({name:"rrcurveto",type:"OP",value:8}),_=Math.round(Y.x),E=Math.round(Y.y)}}return p.push({name:"endchar",type:"OP",value:14}),p}var Ue={parse:function(a,p,b){b.tables.cff={};var _,E,A,I=zt(a,(_=a,E=p,(A={}).formatMajor=B.getCard8(_,E),A.formatMinor=B.getCard8(_,E+1),A.size=B.getCard8(_,E+2),A.offsetSize=B.getCard8(_,E+3),A.startOffset=E,A.endOffset=E+4,A).endOffset,B.bytesToString),z=zt(a,I.endOffset),Y=zt(a,z.endOffset,B.bytesToString),re=zt(a,Y.endOffset);b.gsubrs=re.objects,b.gsubrsBias=nr(b.gsubrs);var ce=Fr(a,p,z.objects,Y.objects);if(ce.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ce.length);var be=ce[0];if((b.tables.cff.topDict=be)._privateDict&&(b.defaultWidthX=be._privateDict.defaultWidthX,b.nominalWidthX=be._privateDict.nominalWidthX),be.ros[0]!==void 0&&be.ros[1]!==void 0&&(b.isCIDFont=!0),b.isCIDFont){var Q=be.fdArray,We=be.fdSelect;if(Q===0||We===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var Fe=Fr(a,p,zt(a,Q+=p).objects,Y.objects);be._fdArray=Fe,We+=p,be._fdSelect=function(it,Dt,gt,mt){var vt,Mt=[],St=new B.Parser(it,Dt),Ot=St.parseCard8();if(Ot===0)for(var Tt=0;Tt<gt;Tt++){if(mt<=(vt=St.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+vt+" (FD count "+mt+")");Mt.push(vt)}else{if(Ot!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ot);var jt,Lt=St.parseCard16(),Ct=St.parseCard16();if(Ct!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Ct);for(var Ut=0;Ut<Lt;Ut++){if(vt=St.parseCard8(),jt=St.parseCard16(),mt<=vt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+vt+" (FD count "+mt+")");if(gt<jt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+jt);for(;Ct<jt;Ct++)Mt.push(vt);Ct=jt}if(jt!==gt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+jt)}return Mt}(a,We,b.numGlyphs,Fe.length)}var ke=p+be.private[1],Se=Ur(a,ke,be.private[0],Y.objects);if(b.defaultWidthX=Se.defaultWidthX,b.nominalWidthX=Se.nominalWidthX,Se.subrs!==0){var Ae=zt(a,ke+Se.subrs);b.subrs=Ae.objects,b.subrsBias=nr(b.subrs)}else b.subrs=[],b.subrsBias=0;var Je=zt(a,p+be.charStrings);b.nGlyphs=Je.objects.length;var $e=function(it,Dt,gt,mt){var vt,Mt,St=new B.Parser(it,Dt);--gt;var Ot=[".notdef"],Tt=St.parseCard8();if(Tt===0)for(var jt=0;jt<gt;jt+=1)vt=St.parseSID(),Ot.push(or(mt,vt));else if(Tt===1)for(;Ot.length<=gt;){vt=St.parseSID(),Mt=St.parseCard8();for(var Lt=0;Lt<=Mt;Lt+=1)Ot.push(or(mt,vt)),vt+=1}else{if(Tt!==2)throw new Error("Unknown charset format "+Tt);for(;Ot.length<=gt;){vt=St.parseSID(),Mt=St.parseCard16();for(var Ct=0;Ct<=Mt;Ct+=1)Ot.push(or(mt,vt)),vt+=1}}return Ot}(a,p+be.charset,b.nGlyphs,Y.objects);be.encoding===0?b.cffEncoding=new de(X,$e):be.encoding===1?b.cffEncoding=new de(ie,$e):b.cffEncoding=function(it,Dt,gt){var mt,vt={},Mt=new B.Parser(it,Dt),St=Mt.parseCard8();if(St===0)for(var Ot=Mt.parseCard8(),Tt=0;Tt<Ot;Tt+=1)vt[mt=Mt.parseCard8()]=Tt;else{if(St!==1)throw new Error("Unknown encoding format "+St);var jt=Mt.parseCard8();mt=1;for(var Lt=0;Lt<jt;Lt+=1)for(var Ct=Mt.parseCard8(),Ut=Mt.parseCard8(),wt=Ct;wt<=Ct+Ut;wt+=1)vt[wt]=mt,mt+=1}return new de(vt,gt)}(a,p+be.encoding,$e),b.encoding=b.encoding||b.cffEncoding,b.glyphs=new ct.GlyphSet(b);for(var pt=0;pt<b.nGlyphs;pt+=1){var ot=Je.objects[pt];b.glyphs.push(pt,ct.cffGlyphLoader(b,pt,qr,ot))}},make:function(a,p){for(var b,_=new Be.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),E=1/p.unitsPerEm,A={version:p.version,fullName:p.fullName,familyName:p.familyName,weight:p.weightName,fontBBox:p.fontBBox||[0,0,0,0],fontMatrix:[E,0,0,E,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},I=[],z=1;z<a.length;z+=1)b=a.get(z),I.push(b.name);var Y=[];_.header=new Be.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),_.nameIndex=function(Fe){var ke=new Be.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);ke.names=[];for(var Se=0;Se<Fe.length;Se+=1)ke.names.push({name:"name_"+Se,type:"NAME",value:Fe[Se]});return ke}([p.postScriptName]);var re,ce,be,Q=ae(A,Y);_.topDictIndex=De(Q),_.globalSubrIndex=new Be.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),_.charsets=function(Fe,ke){for(var Se=new Be.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ae=0;Ae<Fe.length;Ae+=1){var Je=br(Fe[Ae],ke);Se.fields.push({name:"glyph_"+Ae,type:"SID",value:Je})}return Se}(I,Y),_.charStringsIndex=function(Fe){for(var ke=new Be.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Se=0;Se<Fe.length;Se+=1){var Ae=Fe.get(Se),Je=He(Ae);ke.charStrings.push({name:Ae.name,type:"CHARSTRING",value:Je})}return ke}(a),_.privateDict=(re={},ce=Y,(be=new Be.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=wr(Ir,re,ce),be),_.stringIndex=function(Fe){var ke=new Be.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);ke.strings=[];for(var Se=0;Se<Fe.length;Se+=1)ke.strings.push({name:"string_"+Se,type:"STRING",value:Fe[Se]});return ke}(Y);var We=_.header.sizeOf()+_.nameIndex.sizeOf()+_.topDictIndex.sizeOf()+_.stringIndex.sizeOf()+_.globalSubrIndex.sizeOf();return A.charset=We,A.encoding=0,A.charStrings=A.charset+_.charsets.sizeOf(),A.private[1]=A.charStrings+_.charStringsIndex.sizeOf(),Q=ae(A,Y),_.topDictIndex=De(Q),_}},Ke={parse:function(a,p){var b={},_=new B.Parser(a,p);return b.version=_.parseVersion(),b.fontRevision=Math.round(1e3*_.parseFixed())/1e3,b.checkSumAdjustment=_.parseULong(),b.magicNumber=_.parseULong(),he.argument(b.magicNumber===1594834165,"Font header has wrong magic number."),b.flags=_.parseUShort(),b.unitsPerEm=_.parseUShort(),b.created=_.parseLongDateTime(),b.modified=_.parseLongDateTime(),b.xMin=_.parseShort(),b.yMin=_.parseShort(),b.xMax=_.parseShort(),b.yMax=_.parseShort(),b.macStyle=_.parseUShort(),b.lowestRecPPEM=_.parseUShort(),b.fontDirectionHint=_.parseShort(),b.indexToLocFormat=_.parseShort(),b.glyphDataFormat=_.parseShort(),b},make:function(a){var p=Math.round(new Date().getTime()/1e3)+2082844800,b=p;return a.createdTimestamp&&(b=a.createdTimestamp+2082844800),new Be.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:b},{name:"modified",type:"LONGDATETIME",value:p},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],a)}},Le={parse:function(a,p){var b={},_=new B.Parser(a,p);return b.version=_.parseVersion(),b.ascender=_.parseShort(),b.descender=_.parseShort(),b.lineGap=_.parseShort(),b.advanceWidthMax=_.parseUShort(),b.minLeftSideBearing=_.parseShort(),b.minRightSideBearing=_.parseShort(),b.xMaxExtent=_.parseShort(),b.caretSlopeRise=_.parseShort(),b.caretSlopeRun=_.parseShort(),b.caretOffset=_.parseShort(),_.relativeOffset+=8,b.metricDataFormat=_.parseShort(),b.numberOfHMetrics=_.parseUShort(),b},make:function(a){return new Be.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],a)}},yt={parse:function(a,p,b,_,E){for(var A,I,z=new B.Parser(a,p),Y=0;Y<_;Y+=1){Y<b&&(A=z.parseUShort(),I=z.parseShort());var re=E.get(Y);re.advanceWidth=A,re.leftSideBearing=I}},make:function(a){for(var p=new Be.Table("hmtx",[]),b=0;b<a.length;b+=1){var _=a.get(b),E=_.advanceWidth||0,A=_.leftSideBearing||0;p.fields.push({name:"advanceWidth_"+b,type:"USHORT",value:E}),p.fields.push({name:"leftSideBearing_"+b,type:"SHORT",value:A})}return p}},_t={make:function(a){for(var p=new Be.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:a.length}]),b="",_=12+4*a.length,E=0;E<a.length;++E){var A=b.indexOf(a[E]);A<0&&(A=b.length,b+=a[E]),p.fields.push({name:"offset "+E,type:"USHORT",value:_+A}),p.fields.push({name:"length "+E,type:"USHORT",value:a[E].length})}return p.fields.push({name:"stringPool",type:"CHARARRAY",value:b}),p},parse:function(a,p){var b=new B.Parser(a,p),_=b.parseULong();he.argument(_===1,"Unsupported ltag table version."),b.skip("uLong",1);for(var E=b.parseULong(),A=[],I=0;I<E;I++){for(var z="",Y=p+b.parseUShort(),re=b.parseUShort(),ce=Y;ce<Y+re;++ce)z+=String.fromCharCode(a.getInt8(ce));A.push(z)}return A}},Et={parse:function(a,p){var b={},_=new B.Parser(a,p);return b.version=_.parseVersion(),b.numGlyphs=_.parseUShort(),b.version===1&&(b.maxPoints=_.parseUShort(),b.maxContours=_.parseUShort(),b.maxCompositePoints=_.parseUShort(),b.maxCompositeContours=_.parseUShort(),b.maxZones=_.parseUShort(),b.maxTwilightPoints=_.parseUShort(),b.maxStorage=_.parseUShort(),b.maxFunctionDefs=_.parseUShort(),b.maxInstructionDefs=_.parseUShort(),b.maxStackElements=_.parseUShort(),b.maxSizeOfInstructions=_.parseUShort(),b.maxComponentElements=_.parseUShort(),b.maxComponentDepth=_.parseUShort()),b},make:function(a){return new Be.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:a}])}},ht=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ze={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Pt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},st={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function nn(a,p,b){switch(a){case 0:if(p===65535)return"und";if(b)return b[p];break;case 1:return Ze[p];case 3:return st[p]}}var Nr="utf-16",on={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},sn={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function an(a,p,b){switch(a){case 0:return Nr;case 1:return sn[b]||on[p];case 3:if(p===1||p===10)return Nr}}function Xr(a){var p={};for(var b in a)p[a[b]]=parseInt(b);return p}function Yr(a,p,b,_,E,A){return new Be.Record("NameRecord",[{name:"platformID",type:"USHORT",value:a},{name:"encodingID",type:"USHORT",value:p},{name:"languageID",type:"USHORT",value:b},{name:"nameID",type:"USHORT",value:_},{name:"length",type:"USHORT",value:E},{name:"offset",type:"USHORT",value:A}])}function uo(a,p){var b=function(A,I){var z=A.length,Y=I.length-z+1;e:for(var re=0;re<Y;re++)for(;re<Y;re++){for(var ce=0;ce<z;ce++)if(I[re+ce]!==A[ce])continue e;return re}return-1}(a,p);if(b<0){b=p.length;for(var _=0,E=a.length;_<E;++_)p.push(a[_])}return b}var co={parse:function(a,p,b){for(var _={},E=new B.Parser(a,p),A=E.parseUShort(),I=E.parseUShort(),z=E.offset+E.parseUShort(),Y=0;Y<I;Y++){var re=E.parseUShort(),ce=E.parseUShort(),be=E.parseUShort(),Q=E.parseUShort(),We=ht[Q]||Q,Fe=E.parseUShort(),ke=E.parseUShort(),Se=nn(re,be,b),Ae=an(re,ce,be);if(Ae!==void 0&&Se!==void 0){var Je=void 0;if(Je=Ae===Nr?Re.UTF16(a,z+ke,Fe):Re.MACSTRING(a,z+ke,Fe,Ae)){var $e=_[We];$e===void 0&&($e=_[We]={}),$e[Se]=Je}}}return A===1&&E.parseUShort(),_},make:function(a,p){var b,_=[],E={},A=Xr(ht);for(var I in a){var z=A[I];if(z===void 0&&(z=I),b=parseInt(z),isNaN(b))throw new Error('Name table entry "'+I+'" does not exist, see nameTableNames for complete list.');E[b]=a[I],_.push(b)}for(var Y=Xr(Ze),re=Xr(st),ce=[],be=[],Q=0;Q<_.length;Q++){var We=E[b=_[Q]];for(var Fe in We){var ke=We[Fe],Se=1,Ae=Y[Fe],Je=Pt[Ae],$e=an(Se,Je,Ae),pt=ve.MACSTRING(ke,$e);pt===void 0&&(Se=0,(Ae=p.indexOf(Fe))<0&&(Ae=p.length,p.push(Fe)),Je=4,pt=ve.UTF16(ke));var ot=uo(pt,be);ce.push(Yr(Se,Je,Ae,b,pt.length,ot));var it=re[Fe];if(it!==void 0){var Dt=ve.UTF16(ke),gt=uo(Dt,be);ce.push(Yr(3,1,it,b,Dt.length,gt))}}}ce.sort(function(Mt,St){return Mt.platformID-St.platformID||Mt.encodingID-St.encodingID||Mt.languageID-St.languageID||Mt.nameID-St.nameID});for(var mt=new Be.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ce.length},{name:"stringOffset",type:"USHORT",value:6+12*ce.length}]),vt=0;vt<ce.length;vt++)mt.fields.push({name:"record_"+vt,type:"RECORD",value:ce[vt]});return mt.fields.push({name:"strings",type:"LITERAL",value:be}),mt}},Fn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Nn={parse:function(a,p){var b={},_=new B.Parser(a,p);b.version=_.parseUShort(),b.xAvgCharWidth=_.parseShort(),b.usWeightClass=_.parseUShort(),b.usWidthClass=_.parseUShort(),b.fsType=_.parseUShort(),b.ySubscriptXSize=_.parseShort(),b.ySubscriptYSize=_.parseShort(),b.ySubscriptXOffset=_.parseShort(),b.ySubscriptYOffset=_.parseShort(),b.ySuperscriptXSize=_.parseShort(),b.ySuperscriptYSize=_.parseShort(),b.ySuperscriptXOffset=_.parseShort(),b.ySuperscriptYOffset=_.parseShort(),b.yStrikeoutSize=_.parseShort(),b.yStrikeoutPosition=_.parseShort(),b.sFamilyClass=_.parseShort(),b.panose=[];for(var E=0;E<10;E++)b.panose[E]=_.parseByte();return b.ulUnicodeRange1=_.parseULong(),b.ulUnicodeRange2=_.parseULong(),b.ulUnicodeRange3=_.parseULong(),b.ulUnicodeRange4=_.parseULong(),b.achVendID=String.fromCharCode(_.parseByte(),_.parseByte(),_.parseByte(),_.parseByte()),b.fsSelection=_.parseUShort(),b.usFirstCharIndex=_.parseUShort(),b.usLastCharIndex=_.parseUShort(),b.sTypoAscender=_.parseShort(),b.sTypoDescender=_.parseShort(),b.sTypoLineGap=_.parseShort(),b.usWinAscent=_.parseUShort(),b.usWinDescent=_.parseUShort(),1<=b.version&&(b.ulCodePageRange1=_.parseULong(),b.ulCodePageRange2=_.parseULong()),2<=b.version&&(b.sxHeight=_.parseShort(),b.sCapHeight=_.parseShort(),b.usDefaultChar=_.parseUShort(),b.usBreakChar=_.parseUShort(),b.usMaxContent=_.parseUShort()),b},make:function(a){return new Be.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],a)},unicodeRanges:Fn,getUnicodeRange:function(a){for(var p=0;p<Fn.length;p+=1){var b=Fn[p];if(a>=b.begin&&a<b.end)return p}return-1}},ho={parse:function(a,p){var b={},_=new B.Parser(a,p);switch(b.version=_.parseVersion(),b.italicAngle=_.parseFixed(),b.underlinePosition=_.parseShort(),b.underlineThickness=_.parseShort(),b.isFixedPitch=_.parseULong(),b.minMemType42=_.parseULong(),b.maxMemType42=_.parseULong(),b.minMemType1=_.parseULong(),b.maxMemType1=_.parseULong(),b.version){case 1:b.names=we.slice();break;case 2:b.numberOfGlyphs=_.parseUShort(),b.glyphNameIndex=new Array(b.numberOfGlyphs);for(var E=0;E<b.numberOfGlyphs;E++)b.glyphNameIndex[E]=_.parseUShort();b.names=[];for(var A=0;A<b.numberOfGlyphs;A++)if(b.glyphNameIndex[A]>=we.length){var I=_.parseChar();b.names.push(_.parseString(I))}break;case 2.5:b.numberOfGlyphs=_.parseUShort(),b.offset=new Array(b.numberOfGlyphs);for(var z=0;z<b.numberOfGlyphs;z++)b.offset[z]=_.parseChar()}return b},make:function(){return new Be.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Kt=new Array(9);Kt[1]=function(){var a=this.offset+this.relativeOffset,p=this.parseUShort();return p===1?{substFormat:1,coverage:this.parsePointer(pe.coverage),deltaGlyphId:this.parseUShort()}:p===2?{substFormat:2,coverage:this.parsePointer(pe.coverage),substitute:this.parseOffset16List()}:void he.assert(!1,"0x"+a.toString(16)+": lookup type 1 format must be 1 or 2.")},Kt[2]=function(){var a=this.parseUShort();return he.argument(a===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(pe.coverage),sequences:this.parseListOfLists()}},Kt[3]=function(){var a=this.parseUShort();return he.argument(a===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(pe.coverage),alternateSets:this.parseListOfLists()}},Kt[4]=function(){var a=this.parseUShort();return he.argument(a===1,"GSUB ligature table identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(pe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Zr={sequenceIndex:pe.uShort,lookupListIndex:pe.uShort};Kt[5]=function(){var a=this.offset+this.relativeOffset,p=this.parseUShort();if(p===1)return{substFormat:p,coverage:this.parsePointer(pe.coverage),ruleSets:this.parseListOfLists(function(){var E=this.parseUShort(),A=this.parseUShort();return{input:this.parseUShortList(E-1),lookupRecords:this.parseRecordList(A,Zr)}})};if(p===2)return{substFormat:p,coverage:this.parsePointer(pe.coverage),classDef:this.parsePointer(pe.classDef),classSets:this.parseListOfLists(function(){var E=this.parseUShort(),A=this.parseUShort();return{classes:this.parseUShortList(E-1),lookupRecords:this.parseRecordList(A,Zr)}})};if(p===3){var b=this.parseUShort(),_=this.parseUShort();return{substFormat:p,coverages:this.parseList(b,pe.pointer(pe.coverage)),lookupRecords:this.parseRecordList(_,Zr)}}he.assert(!1,"0x"+a.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Kt[6]=function(){var a=this.offset+this.relativeOffset,p=this.parseUShort();return p===1?{substFormat:1,coverage:this.parsePointer(pe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Zr)}})}:p===2?{substFormat:2,coverage:this.parsePointer(pe.coverage),backtrackClassDef:this.parsePointer(pe.classDef),inputClassDef:this.parsePointer(pe.classDef),lookaheadClassDef:this.parsePointer(pe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Zr)}})}:p===3?{substFormat:3,backtrackCoverage:this.parseList(pe.pointer(pe.coverage)),inputCoverage:this.parseList(pe.pointer(pe.coverage)),lookaheadCoverage:this.parseList(pe.pointer(pe.coverage)),lookupRecords:this.parseRecordList(Zr)}:void he.assert(!1,"0x"+a.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Kt[7]=function(){var a=this.parseUShort();he.argument(a===1,"GSUB Extension Substitution subtable identifier-format must be 1");var p=this.parseUShort(),b=new pe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:p,extension:Kt[p].call(b)}},Kt[8]=function(){var a=this.parseUShort();return he.argument(a===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(pe.coverage),backtrackCoverage:this.parseList(pe.pointer(pe.coverage)),lookaheadCoverage:this.parseList(pe.pointer(pe.coverage)),substitutes:this.parseUShortList()}};var mn=new Array(9);mn[1]=function(a){return a.substFormat===1?new Be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Be.Coverage(a.coverage)},{name:"deltaGlyphID",type:"USHORT",value:a.deltaGlyphId}]):new Be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Be.Coverage(a.coverage)}].concat(Be.ushortList("substitute",a.substitute)))},mn[3]=function(a){return he.assert(a.substFormat===1,"Lookup type 3 substFormat must be 1."),new Be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Be.Coverage(a.coverage)}].concat(Be.tableList("altSet",a.alternateSets,function(p){return new Be.Table("alternateSetTable",Be.ushortList("alternate",p))})))},mn[4]=function(a){return he.assert(a.substFormat===1,"Lookup type 4 substFormat must be 1."),new Be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Be.Coverage(a.coverage)}].concat(Be.tableList("ligSet",a.ligatureSets,function(p){return new Be.Table("ligatureSetTable",Be.tableList("ligature",p,function(b){return new Be.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:b.ligGlyph}].concat(Be.ushortList("component",b.components,b.components.length+1)))}))})))};var fo={parse:function(a,p){var b=new pe(a,p=p||0),_=b.parseVersion(1);return he.argument(_===1||_===1.1,"Unsupported GSUB table version."),_===1?{version:_,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList(Kt)}:{version:_,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList(Kt),variations:b.parseFeatureVariationsList()}},make:function(a){return new Be.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Be.ScriptList(a.scripts)},{name:"features",type:"TABLE",value:new Be.FeatureList(a.features)},{name:"lookups",type:"TABLE",value:new Be.LookupList(a.lookups,mn)}])}},po={parse:function(a,p){var b=new B.Parser(a,p),_=b.parseULong();he.argument(_===1,"Unsupported META table version."),b.parseULong(),b.parseULong();for(var E=b.parseULong(),A={},I=0;I<E;I++){var z=b.parseTag(),Y=b.parseULong(),re=b.parseULong(),ce=Re.UTF8(a,p+Y,re);A[z]=ce}return A},make:function(a){var p=Object.keys(a).length,b="",_=16+12*p,E=new Be.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:_},{name:"numTags",type:"ULONG",value:p}]);for(var A in a){var I=b.length;b+=a[A],E.fields.push({name:"tag "+A,type:"TAG",value:A}),E.fields.push({name:"offset "+A,type:"ULONG",value:_+I}),E.fields.push({name:"length "+A,type:"ULONG",value:a[A].length})}return E.fields.push({name:"stringPool",type:"CHARARRAY",value:b}),E}};function mo(a){return Math.log(a)/Math.log(2)|0}function Bn(a){for(;a.length%4!=0;)a.push(0);for(var p=0,b=0;b<a.length;b+=4)p+=(a[b]<<24)+(a[b+1]<<16)+(a[b+2]<<8)+a[b+3];return p%=Math.pow(2,32)}function yo(a,p,b,_){return new Be.Record("Table Record",[{name:"tag",type:"TAG",value:a!==void 0?a:""},{name:"checkSum",type:"ULONG",value:p!==void 0?p:0},{name:"offset",type:"ULONG",value:b!==void 0?b:0},{name:"length",type:"ULONG",value:_!==void 0?_:0}])}function go(a){var p=new Be.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);p.tables=a,p.numTables=a.length;var b=Math.pow(2,mo(p.numTables));p.searchRange=16*b,p.entrySelector=mo(b),p.rangeShift=16*p.numTables-p.searchRange;for(var _=[],E=[],A=p.sizeOf()+yo().sizeOf()*p.numTables;A%4!=0;)A+=1,E.push({name:"padding",type:"BYTE",value:0});for(var I=0;I<a.length;I+=1){var z=a[I];he.argument(z.tableName.length===4,"Table name"+z.tableName+" is invalid.");var Y=z.sizeOf(),re=yo(z.tableName,Bn(z.encode()),A,Y);for(_.push({name:re.tag+" Table Record",type:"RECORD",value:re}),E.push({name:z.tableName+" table",type:"RECORD",value:z}),A+=Y,he.argument(!isNaN(A),"Something went wrong calculating the offset.");A%4!=0;)A+=1,E.push({name:"padding",type:"BYTE",value:0})}return _.sort(function(ce,be){return ce.value.tag>be.value.tag?1:-1}),p.fields=p.fields.concat(_),p.fields=p.fields.concat(E),p}function vo(a,p,b){for(var _=0;_<p.length;_+=1){var E=a.charToGlyphIndex(p[_]);if(0<E)return a.glyphs.get(E).getMetrics()}return b}var Ps={make:go,fontToTable:function(a){for(var p,b=[],_=[],E=[],A=[],I=[],z=[],Y=[],re=0,ce=0,be=0,Q=0,We=0,Fe=0;Fe<a.glyphs.length;Fe+=1){var ke=a.glyphs.get(Fe),Se=0|ke.unicode;if(isNaN(ke.advanceWidth))throw new Error("Glyph "+ke.name+" ("+Fe+"): advanceWidth is not a number.");(Se<p||p===void 0)&&0<Se&&(p=Se),re<Se&&(re=Se);var Ae=Nn.getUnicodeRange(Se);if(Ae<32)ce|=1<<Ae;else if(Ae<64)be|=1<<Ae-32;else if(Ae<96)Q|=1<<Ae-64;else{if(!(Ae<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");We|=1<<Ae-96}if(ke.name!==".notdef"){var Je=ke.getMetrics();b.push(Je.xMin),_.push(Je.yMin),E.push(Je.xMax),A.push(Je.yMax),z.push(Je.leftSideBearing),Y.push(Je.rightSideBearing),I.push(ke.advanceWidth)}}var $e={xMin:Math.min.apply(null,b),yMin:Math.min.apply(null,_),xMax:Math.max.apply(null,E),yMax:Math.max.apply(null,A),advanceWidthMax:Math.max.apply(null,I),advanceWidthAvg:function($r){for(var Zo=0,Yn=0;Yn<$r.length;Yn+=1)Zo+=$r[Yn];return Zo/$r.length}(I),minLeftSideBearing:Math.min.apply(null,z),maxLeftSideBearing:Math.max.apply(null,z),minRightSideBearing:Math.min.apply(null,Y)};$e.ascender=a.ascender,$e.descender=a.descender;var pt=Ke.make({flags:3,unitsPerEm:a.unitsPerEm,xMin:$e.xMin,yMin:$e.yMin,xMax:$e.xMax,yMax:$e.yMax,lowestRecPPEM:3,createdTimestamp:a.createdTimestamp}),ot=Le.make({ascender:$e.ascender,descender:$e.descender,advanceWidthMax:$e.advanceWidthMax,minLeftSideBearing:$e.minLeftSideBearing,minRightSideBearing:$e.minRightSideBearing,xMaxExtent:$e.maxLeftSideBearing+($e.xMax-$e.xMin),numberOfHMetrics:a.glyphs.length}),it=Et.make(a.glyphs.length),Dt=Nn.make({xAvgCharWidth:Math.round($e.advanceWidthAvg),usWeightClass:a.tables.os2.usWeightClass,usWidthClass:a.tables.os2.usWidthClass,usFirstCharIndex:p,usLastCharIndex:re,ulUnicodeRange1:ce,ulUnicodeRange2:be,ulUnicodeRange3:Q,ulUnicodeRange4:We,fsSelection:a.tables.os2.fsSelection,sTypoAscender:$e.ascender,sTypoDescender:$e.descender,sTypoLineGap:0,usWinAscent:$e.yMax,usWinDescent:Math.abs($e.yMin),ulCodePageRange1:1,sxHeight:vo(a,"xyvw",{yMax:Math.round($e.ascender/2)}).yMax,sCapHeight:vo(a,"HIKLEFJMNTZBDPRAGOQSUVWXY",$e).yMax,usDefaultChar:a.hasChar(" ")?32:0,usBreakChar:a.hasChar(" ")?32:0}),gt=yt.make(a.glyphs),mt=q.make(a.glyphs),vt=a.getEnglishName("fontFamily"),Mt=a.getEnglishName("fontSubfamily"),St=vt+" "+Mt,Ot=a.getEnglishName("postScriptName");Ot=Ot||vt.replace(/\s/g,"")+"-"+Mt;var Tt={};for(var jt in a.names)Tt[jt]=a.names[jt];Tt.uniqueID||(Tt.uniqueID={en:a.getEnglishName("manufacturer")+":"+St}),Tt.postScriptName||(Tt.postScriptName={en:Ot}),Tt.preferredFamily||(Tt.preferredFamily=a.names.fontFamily),Tt.preferredSubfamily||(Tt.preferredSubfamily=a.names.fontSubfamily);var Lt=[],Ct=co.make(Tt,Lt),Ut=0<Lt.length?_t.make(Lt):void 0,wt=ho.make(),Ft=Ue.make(a.glyphs,{version:a.getEnglishName("version"),fullName:St,familyName:vt,weightName:Mt,postScriptName:Ot,unitsPerEm:a.unitsPerEm,fontBBox:[0,$e.yMin,$e.ascender,$e.advanceWidthMax]}),At=a.metas&&0<Object.keys(a.metas).length?po.make(a.metas):void 0,kt=[pt,ot,it,Dt,Ct,mt,wt,Ft,gt];Ut&&kt.push(Ut),a.tables.gsub&&kt.push(fo.make(a.tables.gsub)),At&&kt.push(At);for(var ar=go(kt),Kr=Bn(ar.encode()),Gr=ar.fields,Xt=!1,Vr=0;Vr<Gr.length;Vr+=1)if(Gr[Vr].name==="head table"){Gr[Vr].value.checkSumAdjustment=2981146554-Kr,Xt=!0;break}if(!Xt)throw new Error("Could not find head table with checkSum to adjust.");return ar},computeCheckSum:Bn};function Gn(a,p){for(var b=0,_=a.length-1;b<=_;){var E=b+_>>>1,A=a[E].tag;if(A===p)return E;A<p?b=1+E:_=E-1}return-b-1}function bo(a,p){for(var b=0,_=a.length-1;b<=_;){var E=b+_>>>1,A=a[E];if(A===p)return E;A<p?b=1+E:_=E-1}return-b-1}function wo(a,p){for(var b,_=0,E=a.length-1;_<=E;){var A=_+E>>>1,I=(b=a[A]).start;if(I===p)return b;I<p?_=1+A:E=A-1}if(0<_)return p>(b=a[_-1]).end?0:b}function yn(a,p){this.font=a,this.tableName=p}function gn(a){yn.call(this,a,"gpos")}function sr(a){yn.call(this,a,"gsub")}function Os(a,p){var b=a.length;if(b!==p.length)return!1;for(var _=0;_<b;_++)if(a[_]!==p[_])return!1;return!0}function xo(a,p,b){for(var _=a.subtables,E=0;E<_.length;E++){var A=_[E];if(A.substFormat===p)return A}if(b)return _.push(b),b}function _o(a){for(var p=new ArrayBuffer(a.length),b=new Uint8Array(p),_=0;_<a.length;++_)b[_]=a[_];return p}function Qr(a,p){if(!a)throw p}function So(a,p,b,_,E){var A;return A=0<(p&_)?(A=a.parseByte(),(p&E)==0&&(A=-A),b+A):0<(p&E)?b:b+a.parseShort()}function Ls(a,p,b){var _,E,A=new B.Parser(p,b);if(a.numberOfContours=A.parseShort(),a._xMin=A.parseShort(),a._yMin=A.parseShort(),a._xMax=A.parseShort(),a._yMax=A.parseShort(),0<a.numberOfContours){for(var I=a.endPointIndices=[],z=0;z<a.numberOfContours;z+=1)I.push(A.parseUShort());a.instructionLength=A.parseUShort(),a.instructions=[];for(var Y=0;Y<a.instructionLength;Y+=1)a.instructions.push(A.parseByte());var re=I[I.length-1]+1;_=[];for(var ce=0;ce<re;ce+=1)if(E=A.parseByte(),_.push(E),0<(8&E))for(var be=A.parseByte(),Q=0;Q<be;Q+=1)_.push(E),ce+=1;if(he.argument(_.length===re,"Bad flags."),0<I.length){var We,Fe=[];if(0<re){for(var ke=0;ke<re;ke+=1)E=_[ke],(We={}).onCurve=!!(1&E),We.lastPointOfContour=0<=I.indexOf(ke),Fe.push(We);for(var Se=0,Ae=0;Ae<re;Ae+=1)E=_[Ae],(We=Fe[Ae]).x=So(A,E,Se,2,16),Se=We.x;for(var Je=0,$e=0;$e<re;$e+=1)E=_[$e],(We=Fe[$e]).y=So(A,E,Je,4,32),Je=We.y}a.points=Fe}else a.points=[]}else if(a.numberOfContours===0)a.points=[];else{a.isComposite=!0,a.points=[],a.components=[];for(var pt=!0;pt;){_=A.parseUShort();var ot={glyphIndex:A.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&_)?0<(2&_)?(ot.dx=A.parseShort(),ot.dy=A.parseShort()):ot.matchedPoints=[A.parseUShort(),A.parseUShort()]:0<(2&_)?(ot.dx=A.parseChar(),ot.dy=A.parseChar()):ot.matchedPoints=[A.parseByte(),A.parseByte()],0<(8&_)?ot.xScale=ot.yScale=A.parseF2Dot14():0<(64&_)?(ot.xScale=A.parseF2Dot14(),ot.yScale=A.parseF2Dot14()):0<(128&_)&&(ot.xScale=A.parseF2Dot14(),ot.scale01=A.parseF2Dot14(),ot.scale10=A.parseF2Dot14(),ot.yScale=A.parseF2Dot14()),a.components.push(ot),pt=!!(32&_)}if(256&_){a.instructionLength=A.parseUShort(),a.instructions=[];for(var it=0;it<a.instructionLength;it+=1)a.instructions.push(A.parseByte())}}}function Vn(a,p){for(var b=[],_=0;_<a.length;_+=1){var E=a[_],A={x:p.xScale*E.x+p.scale01*E.y+p.dx,y:p.scale10*E.x+p.yScale*E.y+p.dy,onCurve:E.onCurve,lastPointOfContour:E.lastPointOfContour};b.push(A)}return b}function jo(a){var p=new ue;if(!a)return p;for(var b=function(be){for(var Q=[],We=[],Fe=0;Fe<be.length;Fe+=1){var ke=be[Fe];We.push(ke),ke.lastPointOfContour&&(Q.push(We),We=[])}return he.argument(We.length===0,"There are still points left in the current contour."),Q}(a),_=0;_<b.length;++_){var E=b[_],A=null,I=E[E.length-1],z=E[0];if(I.onCurve)p.moveTo(I.x,I.y);else if(z.onCurve)p.moveTo(z.x,z.y);else{var Y={x:.5*(I.x+z.x),y:.5*(I.y+z.y)};p.moveTo(Y.x,Y.y)}for(var re=0;re<E.length;++re)if(A=I,I=z,z=E[(re+1)%E.length],I.onCurve)p.lineTo(I.x,I.y);else{var ce=z;A.onCurve||(.5*(I.x+A.x),.5*(I.y+A.y)),z.onCurve||(ce={x:.5*(I.x+z.x),y:.5*(I.y+z.y)}),p.quadraticCurveTo(I.x,I.y,ce.x,ce.y)}p.closePath()}return p}function Ds(a,p){if(p.isComposite)for(var b=0;b<p.components.length;b+=1){var _=p.components[b],E=a.get(_.glyphIndex);if(E.getPath(),E.points){var A=void 0;if(_.matchedPoints===void 0)A=Vn(E.points,_);else{if(_.matchedPoints[0]>p.points.length-1||_.matchedPoints[1]>E.points.length-1)throw Error("Matched points out of range in "+p.name);var I=p.points[_.matchedPoints[0]],z=E.points[_.matchedPoints[1]],Y={xScale:_.xScale,scale01:_.scale01,scale10:_.scale10,yScale:_.yScale,dx:0,dy:0};z=Vn([z],Y)[0],Y.dx=I.x-z.x,Y.dy=I.y-z.y,A=Vn(E.points,Y)}p.points=p.points.concat(A)}}return jo(p.points)}(gn.prototype=yn.prototype={searchTag:Gn,binSearch:bo,getTable:function(a){var p=this.font.tables[this.tableName];return!p&&a&&(p=this.font.tables[this.tableName]=this.createDefaultTable()),p},getScriptNames:function(){var a=this.getTable();return a?a.scripts.map(function(p){return p.tag}):[]},getDefaultScriptName:function(){var a=this.getTable();if(a){for(var p=!1,b=0;b<a.scripts.length;b++){var _=a.scripts[b].tag;if(_==="DFLT")return _;_==="latn"&&(p=!0)}return p?"latn":void 0}},getScriptTable:function(a,p){var b=this.getTable(p);if(b){a=a||"DFLT";var _=b.scripts,E=Gn(b.scripts,a);if(0<=E)return _[E].script;if(p){var A={tag:a,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return _.splice(-1-E,0,A),A.script}}},getLangSysTable:function(a,p,b){var _=this.getScriptTable(a,b);if(_){if(!p||p==="dflt"||p==="DFLT")return _.defaultLangSys;var E=Gn(_.langSysRecords,p);if(0<=E)return _.langSysRecords[E].langSys;if(b){var A={tag:p,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return _.langSysRecords.splice(-1-E,0,A),A.langSys}}},getFeatureTable:function(a,p,b,_){var E=this.getLangSysTable(a,p,_);if(E){for(var A,I=E.featureIndexes,z=this.font.tables[this.tableName].features,Y=0;Y<I.length;Y++)if((A=z[I[Y]]).tag===b)return A.feature;if(_){var re=z.length;return he.assert(re===0||b>=z[re-1].tag,"Features must be added in alphabetical order."),A={tag:b,feature:{params:0,lookupListIndexes:[]}},z.push(A),I.push(re),A.feature}}},getLookupTables:function(a,p,b,_,E){var A=this.getFeatureTable(a,p,b,E),I=[];if(A){for(var z,Y=A.lookupListIndexes,re=this.font.tables[this.tableName].lookups,ce=0;ce<Y.length;ce++)(z=re[Y[ce]]).lookupType===_&&I.push(z);if(I.length===0&&E){z={lookupType:_,lookupFlag:0,subtables:[],markFilteringSet:void 0};var be=re.length;return re.push(z),Y.push(be),[z]}}return I},getGlyphClass:function(a,p){switch(a.format){case 1:return a.startGlyph<=p&&p<a.startGlyph+a.classes.length?a.classes[p-a.startGlyph]:0;case 2:var b=wo(a.ranges,p);return b?b.classId:0}},getCoverageIndex:function(a,p){switch(a.format){case 1:var b=bo(a.glyphs,p);return 0<=b?b:-1;case 2:var _=wo(a.ranges,p);return _?_.index+p-_.start:-1}},expandCoverage:function(a){if(a.format===1)return a.glyphs;for(var p=[],b=a.ranges,_=0;_<b.length;_++)for(var E=b[_],A=E.start,I=E.end,z=A;z<=I;z++)p.push(z);return p}}).init=function(){var a=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(a)},gn.prototype.getKerningValue=function(a,p,b){for(var _=0;_<a.length;_++)for(var E=a[_].subtables,A=0;A<E.length;A++){var I=E[A],z=this.getCoverageIndex(I.coverage,p);if(!(z<0))switch(I.posFormat){case 1:for(var Y=I.pairSets[z],re=0;re<Y.length;re++){var ce=Y[re];if(ce.secondGlyph===b)return ce.value1&&ce.value1.xAdvance||0}break;case 2:var be=this.getGlyphClass(I.classDef1,p),Q=this.getGlyphClass(I.classDef2,b),We=I.classRecords[be][Q];return We.value1&&We.value1.xAdvance||0}}return 0},gn.prototype.getKerningTables=function(a,p){if(this.font.tables.gpos)return this.getLookupTables(a,p,"kern",2)},(sr.prototype=yn.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},sr.prototype.getSingle=function(a,p,b){for(var _=[],E=this.getLookupTables(p,b,a,1),A=0;A<E.length;A++)for(var I=E[A].subtables,z=0;z<I.length;z++){var Y=I[z],re=this.expandCoverage(Y.coverage),ce=void 0;if(Y.substFormat===1){var be=Y.deltaGlyphId;for(ce=0;ce<re.length;ce++){var Q=re[ce];_.push({sub:Q,by:Q+be})}}else{var We=Y.substitute;for(ce=0;ce<re.length;ce++)_.push({sub:re[ce],by:We[ce]})}}return _},sr.prototype.getAlternates=function(a,p,b){for(var _=[],E=this.getLookupTables(p,b,a,3),A=0;A<E.length;A++)for(var I=E[A].subtables,z=0;z<I.length;z++)for(var Y=I[z],re=this.expandCoverage(Y.coverage),ce=Y.alternateSets,be=0;be<re.length;be++)_.push({sub:re[be],by:ce[be]});return _},sr.prototype.getLigatures=function(a,p,b){for(var _=[],E=this.getLookupTables(p,b,a,4),A=0;A<E.length;A++)for(var I=E[A].subtables,z=0;z<I.length;z++)for(var Y=I[z],re=this.expandCoverage(Y.coverage),ce=Y.ligatureSets,be=0;be<re.length;be++)for(var Q=re[be],We=ce[be],Fe=0;Fe<We.length;Fe++){var ke=We[Fe];_.push({sub:[Q].concat(ke.components),by:ke.ligGlyph})}return _},sr.prototype.addSingle=function(a,p,b,_){var E=xo(this.getLookupTables(b,_,a,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});he.assert(E.coverage.format===1,"Ligature: unable to modify coverage table format "+E.coverage.format);var A=p.sub,I=this.binSearch(E.coverage.glyphs,A);I<0&&(I=-1-I,E.coverage.glyphs.splice(I,0,A),E.substitute.splice(I,0,0)),E.substitute[I]=p.by},sr.prototype.addAlternate=function(a,p,b,_){var E=xo(this.getLookupTables(b,_,a,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});he.assert(E.coverage.format===1,"Ligature: unable to modify coverage table format "+E.coverage.format);var A=p.sub,I=this.binSearch(E.coverage.glyphs,A);I<0&&(I=-1-I,E.coverage.glyphs.splice(I,0,A),E.alternateSets.splice(I,0,0)),E.alternateSets[I]=p.by},sr.prototype.addLigature=function(a,p,b,_){var E=this.getLookupTables(b,_,a,4,!0)[0],A=E.subtables[0];A||(A={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},E.subtables[0]=A),he.assert(A.coverage.format===1,"Ligature: unable to modify coverage table format "+A.coverage.format);var I=p.sub[0],z=p.sub.slice(1),Y={ligGlyph:p.by,components:z},re=this.binSearch(A.coverage.glyphs,I);if(0<=re){for(var ce=A.ligatureSets[re],be=0;be<ce.length;be++)if(Os(ce[be].components,z))return;ce.push(Y)}else re=-1-re,A.coverage.glyphs.splice(re,0,I),A.ligatureSets.splice(re,0,[Y])},sr.prototype.getFeature=function(a,p,b){if(/ss\d\d/.test(a))return this.getSingle(a,p,b);switch(a){case"aalt":case"salt":return this.getSingle(a,p,b).concat(this.getAlternates(a,p,b));case"dlig":case"liga":case"rlig":return this.getLigatures(a,p,b)}},sr.prototype.add=function(a,p,b,_){if(/ss\d\d/.test(a))return this.addSingle(a,p,b,_);switch(a){case"aalt":case"salt":return typeof p.by=="number"?this.addSingle(a,p,b,_):this.addAlternate(a,p,b,_);case"dlig":case"liga":case"rlig":return this.addLigature(a,p,b,_)}};var Eo,Br,Mo,Wn,To={getPath:jo,parse:function(a,p,b,_){for(var E=new ct.GlyphSet(_),A=0;A<b.length-1;A+=1){var I=b[A];I!==b[A+1]?E.push(A,ct.ttfGlyphLoader(_,A,Ls,a,p+I,Ds)):E.push(A,ct.glyphLoader(_,A))}return E}};function Co(a){this.font=a,this.getCommands=function(p){return To.getPath(p).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Is(a){return a}function Ro(a){return Math.sign(a)*Math.round(Math.abs(a))}function Us(a){return Math.sign(a)*Math.round(Math.abs(2*a))/2}function Fs(a){return Math.sign(a)*(Math.round(Math.abs(a)+.5)-.5)}function Ns(a){return Math.sign(a)*Math.ceil(Math.abs(a))}function Bs(a){return Math.sign(a)*Math.floor(Math.abs(a))}function Ao(a){var p=this.srPeriod,b=this.srPhase,_=1;return a<0&&(a=-a,_=-1),a+=this.srThreshold-b,a=Math.trunc(a/p)*p,(a+=b)<0?b*_:a*_}var ir={x:1,y:0,axis:"x",distance:function(a,p,b,_){return(b?a.xo:a.x)-(_?p.xo:p.x)},interpolate:function(a,p,b,_){var E,A,I,z,Y,re,ce;if(!_||_===this)return E=a.xo-p.xo,A=a.xo-b.xo,Y=p.x-p.xo,re=b.x-b.xo,(ce=(I=Math.abs(E))+(z=Math.abs(A)))===0?void(a.x=a.xo+(Y+re)/2):void(a.x=a.xo+(Y*z+re*I)/ce);E=_.distance(a,p,!0,!0),A=_.distance(a,b,!0,!0),Y=_.distance(p,p,!1,!0),re=_.distance(b,b,!1,!0),(ce=(I=Math.abs(E))+(z=Math.abs(A)))!==0?ir.setRelative(a,a,(Y*z+re*I)/ce,_,!0):ir.setRelative(a,a,(Y+re)/2,_,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(a,p,b,_,E){if(_&&_!==this){var A=E?p.xo:p.x,I=E?p.yo:p.y,z=A+b*_.x,Y=I+b*_.y;a.x=z+(a.y-Y)/_.normalSlope}else a.x=(E?p.xo:p.x)+b},slope:0,touch:function(a){a.xTouched=!0},touched:function(a){return a.xTouched},untouch:function(a){a.xTouched=!1}},fr={x:0,y:1,axis:"y",distance:function(a,p,b,_){return(b?a.yo:a.y)-(_?p.yo:p.y)},interpolate:function(a,p,b,_){var E,A,I,z,Y,re,ce;if(!_||_===this)return E=a.yo-p.yo,A=a.yo-b.yo,Y=p.y-p.yo,re=b.y-b.yo,(ce=(I=Math.abs(E))+(z=Math.abs(A)))===0?void(a.y=a.yo+(Y+re)/2):void(a.y=a.yo+(Y*z+re*I)/ce);E=_.distance(a,p,!0,!0),A=_.distance(a,b,!0,!0),Y=_.distance(p,p,!1,!0),re=_.distance(b,b,!1,!0),(ce=(I=Math.abs(E))+(z=Math.abs(A)))!==0?fr.setRelative(a,a,(Y*z+re*I)/ce,_,!0):fr.setRelative(a,a,(Y+re)/2,_,!0)},normalSlope:0,setRelative:function(a,p,b,_,E){if(_&&_!==this){var A=E?p.xo:p.x,I=E?p.yo:p.y,z=A+b*_.x,Y=I+b*_.y;a.y=Y+_.normalSlope*(a.x-z)}else a.y=(E?p.yo:p.y)+b},slope:Number.POSITIVE_INFINITY,touch:function(a){a.yTouched=!0},touched:function(a){return a.yTouched},untouch:function(a){a.yTouched=!1}};function ln(a,p){this.x=a,this.y=p,this.axis=void 0,this.slope=p/a,this.normalSlope=-a/p,Object.freeze(this)}function un(a,p){var b=Math.sqrt(a*a+p*p);return p/=b,(a/=b)===1&&p===0?ir:a===0&&p===1?fr:new ln(a,p)}function pr(a,p,b,_){this.x=this.xo=Math.round(64*a)/64,this.y=this.yo=Math.round(64*p)/64,this.lastPointOfContour=b,this.onCurve=_,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(ir),Object.freeze(fr),ln.prototype.distance=function(a,p,b,_){return this.x*ir.distance(a,p,b,_)+this.y*fr.distance(a,p,b,_)},ln.prototype.interpolate=function(a,p,b,_){var E,A,I,z,Y,re,ce;I=_.distance(a,p,!0,!0),z=_.distance(a,b,!0,!0),E=_.distance(p,p,!1,!0),A=_.distance(b,b,!1,!0),(ce=(Y=Math.abs(I))+(re=Math.abs(z)))!==0?this.setRelative(a,a,(E*re+A*Y)/ce,_,!0):this.setRelative(a,a,(E+A)/2,_,!0)},ln.prototype.setRelative=function(a,p,b,_,E){_=_||this;var A=E?p.xo:p.x,I=E?p.yo:p.y,z=A+b*_.x,Y=I+b*_.y,re=_.normalSlope,ce=this.slope,be=a.x,Q=a.y;a.x=(ce*be-re*z+Y-Q)/(ce-re),a.y=ce*(a.x-be)+Q},ln.prototype.touch=function(a){a.xTouched=!0,a.yTouched=!0},pr.prototype.nextTouched=function(a){for(var p=this.nextPointOnContour;!a.touched(p)&&p!==this;)p=p.nextPointOnContour;return p},pr.prototype.prevTouched=function(a){for(var p=this.prevPointOnContour;!a.touched(p)&&p!==this;)p=p.prevPointOnContour;return p};var cn=Object.freeze(new pr(0,0)),Gs={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function xr(a,p){switch(this.env=a,this.stack=[],this.prog=p,a){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=ir,this.round=Ro}}function vn(a){for(var p=a.tZone=new Array(a.gZone.length),b=0;b<p.length;b++)p[b]=new pr(0,0)}function ko(a,p){var b,_=a.prog,E=a.ip,A=1;do if((b=_[++E])===88)A++;else if(b===89)A--;else if(b===64)E+=_[E+1]+1;else if(b===65)E+=2*_[E+1]+1;else if(176<=b&&b<=183)E+=b-176+1;else if(184<=b&&b<=191)E+=2*(b-184+1);else if(p&&A===1&&b===27)break;while(0<A);a.ip=E}function Po(a,p){l.DEBUG&&console.log(p.step,"SVTCA["+a.axis+"]"),p.fv=p.pv=p.dpv=a}function Oo(a,p){l.DEBUG&&console.log(p.step,"SPVTCA["+a.axis+"]"),p.pv=p.dpv=a}function Lo(a,p){l.DEBUG&&console.log(p.step,"SFVTCA["+a.axis+"]"),p.fv=a}function Do(a,p){var b,_,E=p.stack,A=E.pop(),I=E.pop(),z=p.z2[A],Y=p.z1[I];l.DEBUG&&console.log("SPVTL["+a+"]",A,I),_=a?(b=z.y-Y.y,Y.x-z.x):(b=Y.x-z.x,Y.y-z.y),p.pv=p.dpv=un(b,_)}function Io(a,p){var b,_,E=p.stack,A=E.pop(),I=E.pop(),z=p.z2[A],Y=p.z1[I];l.DEBUG&&console.log("SFVTL["+a+"]",A,I),_=a?(b=z.y-Y.y,Y.x-z.x):(b=Y.x-z.x,Y.y-z.y),p.fv=un(b,_)}function zn(a){l.DEBUG&&console.log(a.step,"POP[]"),a.stack.pop()}function Uo(a,p){var b=p.stack.pop(),_=p.z0[b],E=p.fv,A=p.pv;l.DEBUG&&console.log(p.step,"MDAP["+a+"]",b);var I=A.distance(_,cn);a&&(I=p.round(I)),E.setRelative(_,cn,I,A),E.touch(_),p.rp0=p.rp1=b}function Fo(a,p){var b,_,E,A=p.z2,I=A.length-2;l.DEBUG&&console.log(p.step,"IUP["+a.axis+"]");for(var z=0;z<I;z++)b=A[z],a.touched(b)||(_=b.prevTouched(a))!==b&&(_===(E=b.nextTouched(a))&&a.setRelative(b,b,a.distance(_,_,!1,!0),a,!0),a.interpolate(b,_,E,a))}function No(a,p){for(var b=p.stack,_=a?p.rp1:p.rp2,E=(a?p.z0:p.z1)[_],A=p.fv,I=p.pv,z=p.loop,Y=p.z2;z--;){var re=b.pop(),ce=Y[re],be=I.distance(E,E,!1,!0);A.setRelative(ce,ce,be,I),A.touch(ce),l.DEBUG&&console.log(p.step,(1<p.loop?"loop "+(p.loop-z)+": ":"")+"SHP["+(a?"rp1":"rp2")+"]",re)}p.loop=1}function Bo(a,p){var b=p.stack,_=a?p.rp1:p.rp2,E=(a?p.z0:p.z1)[_],A=p.fv,I=p.pv,z=b.pop(),Y=p.z2[p.contours[z]],re=Y;l.DEBUG&&console.log(p.step,"SHC["+a+"]",z);for(var ce=I.distance(E,E,!1,!0);re!==E&&A.setRelative(re,re,ce,I),(re=re.nextPointOnContour)!==Y;);}function Go(a,p){var b,_,E=p.stack,A=a?p.rp1:p.rp2,I=(a?p.z0:p.z1)[A],z=p.fv,Y=p.pv,re=E.pop();switch(l.DEBUG&&console.log(p.step,"SHZ["+a+"]",re),re){case 0:b=p.tZone;break;case 1:b=p.gZone;break;default:throw new Error("Invalid zone")}for(var ce=Y.distance(I,I,!1,!0),be=b.length-2,Q=0;Q<be;Q++)_=b[Q],z.setRelative(_,_,ce,Y)}function Vo(a,p){var b=p.stack,_=b.pop()/64,E=b.pop(),A=p.z1[E],I=p.z0[p.rp0],z=p.fv,Y=p.pv;z.setRelative(A,I,_,Y),z.touch(A),l.DEBUG&&console.log(p.step,"MSIRP["+a+"]",_,E),p.rp1=p.rp0,p.rp2=E,a&&(p.rp0=E)}function Wo(a,p){var b=p.stack,_=b.pop(),E=b.pop(),A=p.z0[E],I=p.fv,z=p.pv,Y=p.cvt[_];l.DEBUG&&console.log(p.step,"MIAP["+a+"]",_,"(",Y,")",E);var re=z.distance(A,cn);a&&(Math.abs(re-Y)<p.cvCutIn&&(re=Y),re=p.round(re)),I.setRelative(A,cn,re,z),p.zp0===0&&(A.xo=A.x,A.yo=A.y),I.touch(A),p.rp0=p.rp1=E}function zo(a,p){var b=p.stack,_=b.pop(),E=p.z2[_];l.DEBUG&&console.log(p.step,"GC["+a+"]",_),b.push(64*p.dpv.distance(E,cn,a,!1))}function Ho(a,p){var b=p.stack,_=b.pop(),E=b.pop(),A=p.z1[_],I=p.z0[E],z=p.dpv.distance(I,A,a,a);l.DEBUG&&console.log(p.step,"MD["+a+"]",_,E,"->",z),p.stack.push(Math.round(64*z))}function Hn(a,p){var b=p.stack,_=b.pop(),E=p.fv,A=p.pv,I=p.ppem,z=p.deltaBase+16*(a-1),Y=p.deltaShift,re=p.z0;l.DEBUG&&console.log(p.step,"DELTAP["+a+"]",_,b);for(var ce=0;ce<_;ce++){var be=b.pop(),Q=b.pop();if(z+((240&Q)>>4)===I){var We=(15&Q)-8;0<=We&&We++,l.DEBUG&&console.log(p.step,"DELTAPFIX",be,"by",We*Y);var Fe=re[be];E.setRelative(Fe,Fe,We*Y,A)}}}function bn(a,p){var b=p.stack,_=b.pop();l.DEBUG&&console.log(p.step,"ROUND[]"),b.push(64*p.round(_/64))}function qn(a,p){var b=p.stack,_=b.pop(),E=p.ppem,A=p.deltaBase+16*(a-1),I=p.deltaShift;l.DEBUG&&console.log(p.step,"DELTAC["+a+"]",_,b);for(var z=0;z<_;z++){var Y=b.pop(),re=b.pop();if(A+((240&re)>>4)===E){var ce=(15&re)-8;0<=ce&&ce++;var be=ce*I;l.DEBUG&&console.log(p.step,"DELTACFIX",Y,"by",be),p.cvt[Y]+=be}}}function qo(a,p){var b,_,E=p.stack,A=E.pop(),I=E.pop(),z=p.z2[A],Y=p.z1[I];l.DEBUG&&console.log(p.step,"SDPVTL["+a+"]",A,I),_=a?(b=z.y-Y.y,Y.x-z.x):(b=Y.x-z.x,Y.y-z.y),p.dpv=un(b,_)}function _r(a,p){var b=p.stack,_=p.prog,E=p.ip;l.DEBUG&&console.log(p.step,"PUSHB["+a+"]");for(var A=0;A<a;A++)b.push(_[++E]);p.ip=E}function Sr(a,p){var b=p.ip,_=p.prog,E=p.stack;l.DEBUG&&console.log(p.ip,"PUSHW["+a+"]");for(var A=0;A<a;A++){var I=_[++b]<<8|_[++b];32768&I&&(I=-(1+(65535^I))),E.push(I)}p.ip=b}function tt(a,p,b,_,E,A){var I,z,Y,re,ce=A.stack,be=a&&ce.pop(),Q=ce.pop(),We=A.rp0,Fe=A.z0[We],ke=A.z1[Q],Se=A.minDis,Ae=A.fv,Je=A.dpv;Y=0<=(z=I=Je.distance(ke,Fe,!0,!0))?1:-1,z=Math.abs(z),a&&(re=A.cvt[be],_&&Math.abs(z-re)<A.cvCutIn&&(z=re)),b&&z<Se&&(z=Se),_&&(z=A.round(z)),Ae.setRelative(ke,Fe,Y*z,Je),Ae.touch(ke),l.DEBUG&&console.log(A.step,(a?"MIRP[":"MDRP[")+(p?"M":"m")+(b?">":"_")+(_?"R":"_")+(E===0?"Gr":E===1?"Bl":E===2?"Wh":"")+"]",a?be+"("+A.cvt[be]+","+re+")":"",Q,"(d =",I,"->",Y*z,")"),A.rp1=A.rp0,A.rp2=Q,p&&(A.rp0=Q)}Co.prototype.exec=function(a,p){if(typeof p!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var b=this.font,_=this._prepState;if(!_||_.ppem!==p){var E=this._fpgmState;if(!E){xr.prototype=Gs,(E=this._fpgmState=new xr("fpgm",b.tables.fpgm)).funcs=[],E.font=b,l.DEBUG&&(console.log("---EXEC FPGM---"),E.step=-1);try{Br(E)}catch(re){return console.log("Hinting error in FPGM:"+re),void(this._errorState=3)}}xr.prototype=E,(_=this._prepState=new xr("prep",b.tables.prep)).ppem=p;var A=b.tables.cvt;if(A)for(var I=_.cvt=new Array(A.length),z=p/b.unitsPerEm,Y=0;Y<A.length;Y++)I[Y]=A[Y]*z;else _.cvt=[];l.DEBUG&&(console.log("---EXEC PREP---"),_.step=-1);try{Br(_)}catch(re){this._errorState<2&&console.log("Hinting error in PREP:"+re),this._errorState=2}}if(!(1<this._errorState))try{return Mo(a,_)}catch(re){return this._errorState<1&&(console.log("Hinting error:"+re),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},Mo=function(a,p){var b,_,E,A=p.ppem/p.font.unitsPerEm,I=A,z=a.components;if(xr.prototype=p,z){var Y=p.font;_=[],b=[];for(var re=0;re<z.length;re++){var ce=z[re],be=Y.glyphs.get(ce.glyphIndex);E=new xr("glyf",be.instructions),l.DEBUG&&(console.log("---EXEC COMP "+re+"---"),E.step=-1),Wn(be,E,A,I);for(var Q=Math.round(ce.dx*A),We=Math.round(ce.dy*I),Fe=E.gZone,ke=E.contours,Se=0;Se<Fe.length;Se++){var Ae=Fe[Se];Ae.xTouched=Ae.yTouched=!1,Ae.xo=Ae.x=Ae.x+Q,Ae.yo=Ae.y=Ae.y+We}var Je=_.length;_.push.apply(_,Fe);for(var $e=0;$e<ke.length;$e++)b.push(ke[$e]+Je)}a.instructions&&!E.inhibitGridFit&&((E=new xr("glyf",a.instructions)).gZone=E.z0=E.z1=E.z2=_,E.contours=b,_.push(new pr(0,0),new pr(Math.round(a.advanceWidth*A),0)),l.DEBUG&&(console.log("---EXEC COMPOSITE---"),E.step=-1),Br(E),_.length-=2)}else E=new xr("glyf",a.instructions),l.DEBUG&&(console.log("---EXEC GLYPH---"),E.step=-1),Wn(a,E,A,I),_=E.gZone;return _},Wn=function(a,p,b,_){for(var E,A,I,z=a.points||[],Y=z.length,re=p.gZone=p.z0=p.z1=p.z2=[],ce=p.contours=[],be=0;be<Y;be++)E=z[be],re[be]=new pr(E.x*b,E.y*_,E.lastPointOfContour,E.onCurve);for(var Q=0;Q<Y;Q++)E=re[Q],A||(A=E,ce.push(Q)),E.lastPointOfContour?((E.nextPointOnContour=A).prevPointOnContour=E,A=void 0):(I=re[Q+1],(E.nextPointOnContour=I).prevPointOnContour=E);if(!p.inhibitGridFit){if(l.DEBUG){console.log("PROCESSING GLYPH",p.stack);for(var We=0;We<Y;We++)console.log(We,re[We].x,re[We].y)}if(re.push(new pr(0,0),new pr(Math.round(a.advanceWidth*b),0)),Br(p),re.length-=2,l.DEBUG){console.log("FINISHED GLYPH",p.stack);for(var Fe=0;Fe<Y;Fe++)console.log(Fe,re[Fe].x,re[Fe].y)}}},Br=function(a){var p=a.prog;if(p){var b,_=p.length;for(a.ip=0;a.ip<_;a.ip++){if(l.DEBUG&&a.step++,!(b=Eo[p[a.ip]]))throw new Error("unknown instruction: 0x"+Number(p[a.ip]).toString(16));b(a)}}},Eo=[Po.bind(void 0,fr),Po.bind(void 0,ir),Oo.bind(void 0,fr),Oo.bind(void 0,ir),Lo.bind(void 0,fr),Lo.bind(void 0,ir),Do.bind(void 0,0),Do.bind(void 0,1),Io.bind(void 0,0),Io.bind(void 0,1),function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"SPVFS[]",b,_),a.pv=a.dpv=un(_,b)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"SPVFS[]",b,_),a.fv=un(_,b)},function(a){var p=a.stack,b=a.pv;l.DEBUG&&console.log(a.step,"GPV[]"),p.push(16384*b.x),p.push(16384*b.y)},function(a){var p=a.stack,b=a.fv;l.DEBUG&&console.log(a.step,"GFV[]"),p.push(16384*b.x),p.push(16384*b.y)},function(a){a.fv=a.pv,l.DEBUG&&console.log(a.step,"SFVTPV[]")},function(a){var p=a.stack,b=p.pop(),_=p.pop(),E=p.pop(),A=p.pop(),I=p.pop(),z=a.z0,Y=a.z1,re=z[b],ce=z[_],be=Y[E],Q=Y[A],We=a.z2[I];l.DEBUG&&console.log("ISECT[], ",b,_,E,A,I);var Fe=re.x,ke=re.y,Se=ce.x,Ae=ce.y,Je=be.x,$e=be.y,pt=Q.x,ot=Q.y,it=(Fe-Se)*($e-ot)-(ke-Ae)*(Je-pt),Dt=Fe*Ae-ke*Se,gt=Je*ot-$e*pt;We.x=(Dt*(Je-pt)-gt*(Fe-Se))/it,We.y=(Dt*($e-ot)-gt*(ke-Ae))/it},function(a){a.rp0=a.stack.pop(),l.DEBUG&&console.log(a.step,"SRP0[]",a.rp0)},function(a){a.rp1=a.stack.pop(),l.DEBUG&&console.log(a.step,"SRP1[]",a.rp1)},function(a){a.rp2=a.stack.pop(),l.DEBUG&&console.log(a.step,"SRP2[]",a.rp2)},function(a){var p=a.stack.pop();switch(l.DEBUG&&console.log(a.step,"SZP0[]",p),a.zp0=p){case 0:a.tZone||vn(a),a.z0=a.tZone;break;case 1:a.z0=a.gZone;break;default:throw new Error("Invalid zone pointer")}},function(a){var p=a.stack.pop();switch(l.DEBUG&&console.log(a.step,"SZP1[]",p),a.zp1=p){case 0:a.tZone||vn(a),a.z1=a.tZone;break;case 1:a.z1=a.gZone;break;default:throw new Error("Invalid zone pointer")}},function(a){var p=a.stack.pop();switch(l.DEBUG&&console.log(a.step,"SZP2[]",p),a.zp2=p){case 0:a.tZone||vn(a),a.z2=a.tZone;break;case 1:a.z2=a.gZone;break;default:throw new Error("Invalid zone pointer")}},function(a){var p=a.stack.pop();switch(l.DEBUG&&console.log(a.step,"SZPS[]",p),a.zp0=a.zp1=a.zp2=p,p){case 0:a.tZone||vn(a),a.z0=a.z1=a.z2=a.tZone;break;case 1:a.z0=a.z1=a.z2=a.gZone;break;default:throw new Error("Invalid zone pointer")}},function(a){a.loop=a.stack.pop(),l.DEBUG&&console.log(a.step,"SLOOP[]",a.loop)},function(a){l.DEBUG&&console.log(a.step,"RTG[]"),a.round=Ro},function(a){l.DEBUG&&console.log(a.step,"RTHG[]"),a.round=Fs},function(a){var p=a.stack.pop();l.DEBUG&&console.log(a.step,"SMD[]",p),a.minDis=p/64},function(a){l.DEBUG&&console.log(a.step,"ELSE[]"),ko(a,!1)},function(a){var p=a.stack.pop();l.DEBUG&&console.log(a.step,"JMPR[]",p),a.ip+=p-1},function(a){var p=a.stack.pop();l.DEBUG&&console.log(a.step,"SCVTCI[]",p),a.cvCutIn=p/64},void 0,void 0,function(a){var p=a.stack;l.DEBUG&&console.log(a.step,"DUP[]"),p.push(p[p.length-1])},zn,function(a){l.DEBUG&&console.log(a.step,"CLEAR[]"),a.stack.length=0},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"SWAP[]"),p.push(b),p.push(_)},function(a){var p=a.stack;l.DEBUG&&console.log(a.step,"DEPTH[]"),p.push(p.length)},function(a){var p=a.stack,b=p.pop();l.DEBUG&&console.log(a.step,"CINDEX[]",b),p.push(p[p.length-b])},function(a){var p=a.stack,b=p.pop();l.DEBUG&&console.log(a.step,"MINDEX[]",b),p.push(p.splice(p.length-b,1)[0])},void 0,void 0,void 0,function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"LOOPCALL[]",b,_);var E=a.ip,A=a.prog;a.prog=a.funcs[b];for(var I=0;I<_;I++)Br(a),l.DEBUG&&console.log(++a.step,I+1<_?"next loopcall":"done loopcall",I);a.ip=E,a.prog=A},function(a){var p=a.stack.pop();l.DEBUG&&console.log(a.step,"CALL[]",p);var b=a.ip,_=a.prog;a.prog=a.funcs[p],Br(a),a.ip=b,a.prog=_,l.DEBUG&&console.log(++a.step,"returning from",p)},function(a){if(a.env!=="fpgm")throw new Error("FDEF not allowed here");var p=a.stack,b=a.prog,_=a.ip,E=p.pop(),A=_;for(l.DEBUG&&console.log(a.step,"FDEF[]",E);b[++_]!==45;);a.ip=_,a.funcs[E]=b.slice(A+1,_)},void 0,Uo.bind(void 0,0),Uo.bind(void 0,1),Fo.bind(void 0,fr),Fo.bind(void 0,ir),No.bind(void 0,0),No.bind(void 0,1),Bo.bind(void 0,0),Bo.bind(void 0,1),Go.bind(void 0,0),Go.bind(void 0,1),function(a){for(var p=a.stack,b=a.loop,_=a.fv,E=p.pop()/64,A=a.z2;b--;){var I=p.pop(),z=A[I];l.DEBUG&&console.log(a.step,(1<a.loop?"loop "+(a.loop-b)+": ":"")+"SHPIX[]",I,E),_.setRelative(z,z,E),_.touch(z)}a.loop=1},function(a){for(var p=a.stack,b=a.rp1,_=a.rp2,E=a.loop,A=a.z0[b],I=a.z1[_],z=a.fv,Y=a.dpv,re=a.z2;E--;){var ce=p.pop(),be=re[ce];l.DEBUG&&console.log(a.step,(1<a.loop?"loop "+(a.loop-E)+": ":"")+"IP[]",ce,b,"<->",_),z.interpolate(be,A,I,Y),z.touch(be)}a.loop=1},Vo.bind(void 0,0),Vo.bind(void 0,1),function(a){for(var p=a.stack,b=a.rp0,_=a.z0[b],E=a.loop,A=a.fv,I=a.pv,z=a.z1;E--;){var Y=p.pop(),re=z[Y];l.DEBUG&&console.log(a.step,(1<a.loop?"loop "+(a.loop-E)+": ":"")+"ALIGNRP[]",Y),A.setRelative(re,_,0,I),A.touch(re)}a.loop=1},function(a){l.DEBUG&&console.log(a.step,"RTDG[]"),a.round=Us},Wo.bind(void 0,0),Wo.bind(void 0,1),function(a){var p=a.prog,b=a.ip,_=a.stack,E=p[++b];l.DEBUG&&console.log(a.step,"NPUSHB[]",E);for(var A=0;A<E;A++)_.push(p[++b]);a.ip=b},function(a){var p=a.ip,b=a.prog,_=a.stack,E=b[++p];l.DEBUG&&console.log(a.step,"NPUSHW[]",E);for(var A=0;A<E;A++){var I=b[++p]<<8|b[++p];32768&I&&(I=-(1+(65535^I))),_.push(I)}a.ip=p},function(a){var p=a.stack,b=a.store;b=b||(a.store=[]);var _=p.pop(),E=p.pop();l.DEBUG&&console.log(a.step,"WS",_,E),b[E]=_},function(a){var p=a.stack,b=a.store,_=p.pop();l.DEBUG&&console.log(a.step,"RS",_);var E=b&&b[_]||0;p.push(E)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"WCVTP",b,_),a.cvt[_]=b/64},function(a){var p=a.stack,b=p.pop();l.DEBUG&&console.log(a.step,"RCVT",b),p.push(64*a.cvt[b])},zo.bind(void 0,0),zo.bind(void 0,1),void 0,Ho.bind(void 0,0),Ho.bind(void 0,1),function(a){l.DEBUG&&console.log(a.step,"MPPEM[]"),a.stack.push(a.ppem)},void 0,function(a){l.DEBUG&&console.log(a.step,"FLIPON[]"),a.autoFlip=!0},void 0,void 0,function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"LT[]",b,_),p.push(_<b?1:0)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"LTEQ[]",b,_),p.push(_<=b?1:0)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"GT[]",b,_),p.push(b<_?1:0)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"GTEQ[]",b,_),p.push(b<=_?1:0)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"EQ[]",b,_),p.push(b===_?1:0)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"NEQ[]",b,_),p.push(b!==_?1:0)},function(a){var p=a.stack,b=p.pop();l.DEBUG&&console.log(a.step,"ODD[]",b),p.push(Math.trunc(b)%2?1:0)},function(a){var p=a.stack,b=p.pop();l.DEBUG&&console.log(a.step,"EVEN[]",b),p.push(Math.trunc(b)%2?0:1)},function(a){var p=a.stack.pop();l.DEBUG&&console.log(a.step,"IF[]",p),p||(ko(a,!0),l.DEBUG&&console.log(a.step,"EIF[]"))},function(a){l.DEBUG&&console.log(a.step,"EIF[]")},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"AND[]",b,_),p.push(b&&_?1:0)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"OR[]",b,_),p.push(b||_?1:0)},function(a){var p=a.stack,b=p.pop();l.DEBUG&&console.log(a.step,"NOT[]",b),p.push(b?0:1)},Hn.bind(void 0,1),function(a){var p=a.stack.pop();l.DEBUG&&console.log(a.step,"SDB[]",p),a.deltaBase=p},function(a){var p=a.stack.pop();l.DEBUG&&console.log(a.step,"SDS[]",p),a.deltaShift=Math.pow(.5,p)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"ADD[]",b,_),p.push(_+b)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"SUB[]",b,_),p.push(_-b)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"DIV[]",b,_),p.push(64*_/b)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"MUL[]",b,_),p.push(_*b/64)},function(a){var p=a.stack,b=p.pop();l.DEBUG&&console.log(a.step,"ABS[]",b),p.push(Math.abs(b))},function(a){var p=a.stack,b=p.pop();l.DEBUG&&console.log(a.step,"NEG[]",b),p.push(-b)},function(a){var p=a.stack,b=p.pop();l.DEBUG&&console.log(a.step,"FLOOR[]",b),p.push(64*Math.floor(b/64))},function(a){var p=a.stack,b=p.pop();l.DEBUG&&console.log(a.step,"CEILING[]",b),p.push(64*Math.ceil(b/64))},bn.bind(void 0,0),bn.bind(void 0,1),bn.bind(void 0,2),bn.bind(void 0,3),void 0,void 0,void 0,void 0,function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"WCVTF[]",b,_),a.cvt[_]=b*a.ppem/a.font.unitsPerEm},Hn.bind(void 0,2),Hn.bind(void 0,3),qn.bind(void 0,1),qn.bind(void 0,2),qn.bind(void 0,3),function(a){var p,b=a.stack.pop();switch(l.DEBUG&&console.log(a.step,"SROUND[]",b),a.round=Ao,192&b){case 0:p=.5;break;case 64:p=1;break;case 128:p=2;break;default:throw new Error("invalid SROUND value")}switch(a.srPeriod=p,48&b){case 0:a.srPhase=0;break;case 16:a.srPhase=.25*p;break;case 32:a.srPhase=.5*p;break;case 48:a.srPhase=.75*p;break;default:throw new Error("invalid SROUND value")}b&=15,a.srThreshold=b===0?0:(b/8-.5)*p},function(a){var p,b=a.stack.pop();switch(l.DEBUG&&console.log(a.step,"S45ROUND[]",b),a.round=Ao,192&b){case 0:p=Math.sqrt(2)/2;break;case 64:p=Math.sqrt(2);break;case 128:p=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(a.srPeriod=p,48&b){case 0:a.srPhase=0;break;case 16:a.srPhase=.25*p;break;case 32:a.srPhase=.5*p;break;case 48:a.srPhase=.75*p;break;default:throw new Error("invalid S45ROUND value")}b&=15,a.srThreshold=b===0?0:(b/8-.5)*p},void 0,void 0,function(a){l.DEBUG&&console.log(a.step,"ROFF[]"),a.round=Is},void 0,function(a){l.DEBUG&&console.log(a.step,"RUTG[]"),a.round=Ns},function(a){l.DEBUG&&console.log(a.step,"RDTG[]"),a.round=Bs},zn,zn,void 0,void 0,void 0,void 0,void 0,function(a){var p=a.stack.pop();l.DEBUG&&console.log(a.step,"SCANCTRL[]",p)},qo.bind(void 0,0),qo.bind(void 0,1),function(a){var p=a.stack,b=p.pop(),_=0;l.DEBUG&&console.log(a.step,"GETINFO[]",b),1&b&&(_=35),32&b&&(_|=4096),p.push(_)},void 0,function(a){var p=a.stack,b=p.pop(),_=p.pop(),E=p.pop();l.DEBUG&&console.log(a.step,"ROLL[]"),p.push(_),p.push(b),p.push(E)},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"MAX[]",b,_),p.push(Math.max(_,b))},function(a){var p=a.stack,b=p.pop(),_=p.pop();l.DEBUG&&console.log(a.step,"MIN[]",b,_),p.push(Math.min(_,b))},function(a){var p=a.stack.pop();l.DEBUG&&console.log(a.step,"SCANTYPE[]",p)},function(a){var p=a.stack.pop(),b=a.stack.pop();switch(l.DEBUG&&console.log(a.step,"INSTCTRL[]",p,b),p){case 1:return void(a.inhibitGridFit=!!b);case 2:return void(a.ignoreCvt=!!b);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,_r.bind(void 0,1),_r.bind(void 0,2),_r.bind(void 0,3),_r.bind(void 0,4),_r.bind(void 0,5),_r.bind(void 0,6),_r.bind(void 0,7),_r.bind(void 0,8),Sr.bind(void 0,1),Sr.bind(void 0,2),Sr.bind(void 0,3),Sr.bind(void 0,4),Sr.bind(void 0,5),Sr.bind(void 0,6),Sr.bind(void 0,7),Sr.bind(void 0,8),tt.bind(void 0,0,0,0,0,0),tt.bind(void 0,0,0,0,0,1),tt.bind(void 0,0,0,0,0,2),tt.bind(void 0,0,0,0,0,3),tt.bind(void 0,0,0,0,1,0),tt.bind(void 0,0,0,0,1,1),tt.bind(void 0,0,0,0,1,2),tt.bind(void 0,0,0,0,1,3),tt.bind(void 0,0,0,1,0,0),tt.bind(void 0,0,0,1,0,1),tt.bind(void 0,0,0,1,0,2),tt.bind(void 0,0,0,1,0,3),tt.bind(void 0,0,0,1,1,0),tt.bind(void 0,0,0,1,1,1),tt.bind(void 0,0,0,1,1,2),tt.bind(void 0,0,0,1,1,3),tt.bind(void 0,0,1,0,0,0),tt.bind(void 0,0,1,0,0,1),tt.bind(void 0,0,1,0,0,2),tt.bind(void 0,0,1,0,0,3),tt.bind(void 0,0,1,0,1,0),tt.bind(void 0,0,1,0,1,1),tt.bind(void 0,0,1,0,1,2),tt.bind(void 0,0,1,0,1,3),tt.bind(void 0,0,1,1,0,0),tt.bind(void 0,0,1,1,0,1),tt.bind(void 0,0,1,1,0,2),tt.bind(void 0,0,1,1,0,3),tt.bind(void 0,0,1,1,1,0),tt.bind(void 0,0,1,1,1,1),tt.bind(void 0,0,1,1,1,2),tt.bind(void 0,0,1,1,1,3),tt.bind(void 0,1,0,0,0,0),tt.bind(void 0,1,0,0,0,1),tt.bind(void 0,1,0,0,0,2),tt.bind(void 0,1,0,0,0,3),tt.bind(void 0,1,0,0,1,0),tt.bind(void 0,1,0,0,1,1),tt.bind(void 0,1,0,0,1,2),tt.bind(void 0,1,0,0,1,3),tt.bind(void 0,1,0,1,0,0),tt.bind(void 0,1,0,1,0,1),tt.bind(void 0,1,0,1,0,2),tt.bind(void 0,1,0,1,0,3),tt.bind(void 0,1,0,1,1,0),tt.bind(void 0,1,0,1,1,1),tt.bind(void 0,1,0,1,1,2),tt.bind(void 0,1,0,1,1,3),tt.bind(void 0,1,1,0,0,0),tt.bind(void 0,1,1,0,0,1),tt.bind(void 0,1,1,0,0,2),tt.bind(void 0,1,1,0,0,3),tt.bind(void 0,1,1,0,1,0),tt.bind(void 0,1,1,0,1,1),tt.bind(void 0,1,1,0,1,2),tt.bind(void 0,1,1,0,1,3),tt.bind(void 0,1,1,1,0,0),tt.bind(void 0,1,1,1,0,1),tt.bind(void 0,1,1,1,0,2),tt.bind(void 0,1,1,1,0,3),tt.bind(void 0,1,1,1,1,0),tt.bind(void 0,1,1,1,1,1),tt.bind(void 0,1,1,1,1,2),tt.bind(void 0,1,1,1,1,3)];var Vs=Array.from||function(a){return a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Rt(a){(a=a||{}).empty||(Qr(a.familyName,"When creating a new Font object, familyName is required."),Qr(a.styleName,"When creating a new Font object, styleName is required."),Qr(a.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Qr(a.ascender,"When creating a new Font object, ascender is required."),Qr(a.descender,"When creating a new Font object, descender is required."),Qr(a.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:a.familyName||" "},fontSubfamily:{en:a.styleName||" "},fullName:{en:a.fullName||a.familyName+" "+a.styleName},postScriptName:{en:a.postScriptName||(a.familyName+a.styleName).replace(/\s/g,"")},designer:{en:a.designer||" "},designerURL:{en:a.designerURL||" "},manufacturer:{en:a.manufacturer||" "},manufacturerURL:{en:a.manufacturerURL||" "},license:{en:a.license||" "},licenseURL:{en:a.licenseURL||" "},version:{en:a.version||"Version 0.1"},description:{en:a.description||" "},copyright:{en:a.copyright||" "},trademark:{en:a.trademark||" "}},this.unitsPerEm=a.unitsPerEm||1e3,this.ascender=a.ascender,this.descender=a.descender,this.createdTimestamp=a.createdTimestamp,this.tables={os2:{usWeightClass:a.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:a.widthClass||this.usWidthClasses.MEDIUM,fsSelection:a.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ct.GlyphSet(this,a.glyphs||[]),this.encoding=new Te(this),this.position=new gn(this),this.substitution=new sr(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:this.outlinesFormat==="truetype"?this._hinting=new Co(this):void 0}})}function Xo(a,p){var b=JSON.stringify(a),_=256;for(var E in p){var A=parseInt(E);if(A&&!(A<256)){if(JSON.stringify(p[E])===b)return A;_<=A&&(_=A+1)}}return p[_]=a,_}function Ws(a,p,b,_){for(var E=[{name:"nameID_"+a,type:"USHORT",value:Xo(p.name,_)},{name:"flags_"+a,type:"USHORT",value:0}],A=0;A<b.length;++A){var I=b[A].tag;E.push({name:"axis_"+a+" "+I,type:"FIXED",value:p.coordinates[I]<<16})}return E}function zs(a,p,b,_){var E={},A=new B.Parser(a,p);E.name=_[A.parseUShort()]||{},A.skip("uShort",1),E.coordinates={};for(var I=0;I<b.length;++I)E.coordinates[b[I].tag]=A.parseFixed();return E}Rt.prototype.hasChar=function(a){return this.encoding.charToGlyphIndex(a)!==null},Rt.prototype.charToGlyphIndex=function(a){return this.encoding.charToGlyphIndex(a)},Rt.prototype.charToGlyph=function(a){var p=this.charToGlyphIndex(a),b=this.glyphs.get(p);return b=b||this.glyphs.get(0)},Rt.prototype.stringToGlyphs=function(a,p){p=p||this.defaultRenderOptions;for(var b=Vs(a),_=[],E=0;E<b.length;E+=1){var A=b[E];_.push(this.charToGlyphIndex(A))}var I=_.length;if(p.features){var z=p.script||this.substitution.getDefaultScriptName(),Y=[];p.features.liga&&(Y=Y.concat(this.substitution.getFeature("liga",z,p.language))),p.features.rlig&&(Y=Y.concat(this.substitution.getFeature("rlig",z,p.language)));for(var re=0;re<I;re+=1)for(var ce=0;ce<Y.length;ce++){for(var be=Y[ce],Q=be.sub,We=Q.length,Fe=0;Fe<We&&Q[Fe]===_[re+Fe];)Fe++;Fe===We&&(_.splice(re,We,be.by),I=I-We+1)}}for(var ke=new Array(I),Se=this.glyphs.get(0),Ae=0;Ae<I;Ae+=1)ke[Ae]=this.glyphs.get(_[Ae])||Se;return ke},Rt.prototype.nameToGlyphIndex=function(a){return this.glyphNames.nameToGlyphIndex(a)},Rt.prototype.nameToGlyph=function(a){var p=this.nameToGlyphIndex(a),b=this.glyphs.get(p);return b=b||this.glyphs.get(0)},Rt.prototype.glyphIndexToName=function(a){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(a):""},Rt.prototype.getKerningValue=function(a,p){a=a.index||a,p=p.index||p;var b=this.position.defaultKerningTables;return b?this.position.getKerningValue(b,a,p):this.kerningPairs[a+","+p]||0},Rt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Rt.prototype.forEachGlyph=function(a,p,b,_,E,A){p=p!==void 0?p:0,b=b!==void 0?b:0,_=_!==void 0?_:72,E=E||this.defaultRenderOptions;var I,z=1/this.unitsPerEm*_,Y=this.stringToGlyphs(a,E);if(E.kerning){var re=E.script||this.position.getDefaultScriptName();I=this.position.getKerningTables(re,E.language)}for(var ce=0;ce<Y.length;ce+=1){var be=Y[ce];A.call(this,be,p,b,_,E),be.advanceWidth&&(p+=be.advanceWidth*z),E.kerning&&ce<Y.length-1&&(p+=(I?this.position.getKerningValue(I,be.index,Y[ce+1].index):this.getKerningValue(be,Y[ce+1]))*z),E.letterSpacing?p+=E.letterSpacing*_:E.tracking&&(p+=E.tracking/1e3*_)}return p},Rt.prototype.getPath=function(a,p,b,_,E){var A=new ue;return this.forEachGlyph(a,p,b,_,E,function(I,z,Y,re){var ce=I.getPath(z,Y,re,E,this);A.extend(ce)}),A},Rt.prototype.getPaths=function(a,p,b,_,E){var A=[];return this.forEachGlyph(a,p,b,_,E,function(I,z,Y,re){var ce=I.getPath(z,Y,re,E,this);A.push(ce)}),A},Rt.prototype.getAdvanceWidth=function(a,p,b){return this.forEachGlyph(a,0,0,p,b,function(){})},Rt.prototype.draw=function(a,p,b,_,E,A){this.getPath(p,b,_,E,A).draw(a)},Rt.prototype.drawPoints=function(a,p,b,_,E,A){this.forEachGlyph(p,b,_,E,A,function(I,z,Y,re){I.drawPoints(a,z,Y,re)})},Rt.prototype.drawMetrics=function(a,p,b,_,E,A){this.forEachGlyph(p,b,_,E,A,function(I,z,Y,re){I.drawMetrics(a,z,Y,re)})},Rt.prototype.getEnglishName=function(a){var p=this.names[a];if(p)return p.en},Rt.prototype.validate=function(){var a=this;function p(b){var _=a.getEnglishName(b);_&&_.trim().length}p("fontFamily"),p("weightName"),p("manufacturer"),p("copyright"),p("version"),this.unitsPerEm},Rt.prototype.toTables=function(){return Ps.fontToTable(this)},Rt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Rt.prototype.toArrayBuffer=function(){for(var a=this.toTables().encode(),p=new ArrayBuffer(a.length),b=new Uint8Array(p),_=0;_<a.length;_++)b[_]=a[_];return p},Rt.prototype.download=function(a){var p=this.getEnglishName("fontFamily"),b=this.getEnglishName("fontSubfamily");a=a||p.replace(/\s/g,"")+"-"+b+".otf";var _=this.toArrayBuffer();if(typeof window<"u")window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,_.byteLength,function(I){I.root.getFile(a,{create:!0},function(z){z.createWriter(function(Y){var re=new DataView(_),ce=new Blob([re],{type:"font/opentype"});Y.write(ce),Y.addEventListener("writeend",function(){location.href=z.toURL()},!1)})})},function(I){throw new Error(I.name+": "+I.message)});else{var E=e("fs"),A=function(I){for(var z=new f(I.byteLength),Y=new Uint8Array(I),re=0;re<z.length;++re)z[re]=Y[re];return z}(_);E.writeFileSync(a,A)}},Rt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Rt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Rt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Hs={make:function(a,p){var b,_,E,A,I=new Be.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:a.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:a.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*a.axes.length}]);I.offsetToData=I.sizeOf();for(var z=0;z<a.axes.length;z++)I.fields=I.fields.concat((b=z,_=a.axes[z],E=p,A=Xo(_.name,E),[{name:"tag_"+b,type:"TAG",value:_.tag},{name:"minValue_"+b,type:"FIXED",value:_.minValue<<16},{name:"defaultValue_"+b,type:"FIXED",value:_.defaultValue<<16},{name:"maxValue_"+b,type:"FIXED",value:_.maxValue<<16},{name:"flags_"+b,type:"USHORT",value:0},{name:"nameID_"+b,type:"USHORT",value:A}]));for(var Y=0;Y<a.instances.length;Y++)I.fields=I.fields.concat(Ws(Y,a.instances[Y],a.axes,p));return I},parse:function(a,p,b){var _=new B.Parser(a,p),E=_.parseULong();he.argument(E===65536,"Unsupported fvar table version.");var A=_.parseOffset16();_.skip("uShort",1);for(var I,z,Y,re,ce,be=_.parseUShort(),Q=_.parseUShort(),We=_.parseUShort(),Fe=_.parseUShort(),ke=[],Se=0;Se<be;Se++)ke.push((I=a,z=p+A+Se*Q,Y=b,ce=re=void 0,re={},ce=new B.Parser(I,z),re.tag=ce.parseTag(),re.minValue=ce.parseFixed(),re.defaultValue=ce.parseFixed(),re.maxValue=ce.parseFixed(),ce.skip("uShort",1),re.name=Y[ce.parseUShort()]||{},re));for(var Ae=[],Je=p+A+be*Q,$e=0;$e<We;$e++)Ae.push(zs(a,Je+$e*Fe,ke,b));return{axes:ke,instances:Ae}}},$t=new Array(10);$t[1]=function(){var a=this.offset+this.relativeOffset,p=this.parseUShort();return p===1?{posFormat:1,coverage:this.parsePointer(pe.coverage),value:this.parseValueRecord()}:p===2?{posFormat:2,coverage:this.parsePointer(pe.coverage),values:this.parseValueRecordList()}:void he.assert(!1,"0x"+a.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},$t[2]=function(){var a=this.offset+this.relativeOffset,p=this.parseUShort();he.assert(p===1||p===2,"0x"+a.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var b=this.parsePointer(pe.coverage),_=this.parseUShort(),E=this.parseUShort();if(p===1)return{posFormat:p,coverage:b,valueFormat1:_,valueFormat2:E,pairSets:this.parseList(pe.pointer(pe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(_),value2:this.parseValueRecord(E)}})))};if(p===2){var A=this.parsePointer(pe.classDef),I=this.parsePointer(pe.classDef),z=this.parseUShort(),Y=this.parseUShort();return{posFormat:p,coverage:b,valueFormat1:_,valueFormat2:E,classDef1:A,classDef2:I,class1Count:z,class2Count:Y,classRecords:this.parseList(z,pe.list(Y,function(){return{value1:this.parseValueRecord(_),value2:this.parseValueRecord(E)}}))}}},$t[3]=function(){return{error:"GPOS Lookup 3 not supported"}},$t[4]=function(){return{error:"GPOS Lookup 4 not supported"}},$t[5]=function(){return{error:"GPOS Lookup 5 not supported"}},$t[6]=function(){return{error:"GPOS Lookup 6 not supported"}},$t[7]=function(){return{error:"GPOS Lookup 7 not supported"}},$t[8]=function(){return{error:"GPOS Lookup 8 not supported"}},$t[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var qs=new Array(10),Xs={parse:function(a,p){var b=new pe(a,p=p||0),_=b.parseVersion(1);return he.argument(_===1||_===1.1,"Unsupported GPOS table version "+_),_===1?{version:_,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList($t)}:{version:_,scripts:b.parseScriptList(),features:b.parseFeatureList(),lookups:b.parseLookupList($t),variations:b.parseFeatureVariationsList()}},make:function(a){return new Be.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Be.ScriptList(a.scripts)},{name:"features",type:"TABLE",value:new Be.FeatureList(a.features)},{name:"lookups",type:"TABLE",value:new Be.LookupList(a.lookups,qs)}])}},Ys={parse:function(a,p){var b=new B.Parser(a,p),_=b.parseUShort();if(_===0)return function(E){var A={};E.skip("uShort");var I=E.parseUShort();he.argument(I===0,"Unsupported kern sub-table version."),E.skip("uShort",2);var z=E.parseUShort();E.skip("uShort",3);for(var Y=0;Y<z;Y+=1){var re=E.parseUShort(),ce=E.parseUShort(),be=E.parseShort();A[re+","+ce]=be}return A}(b);if(_===1)return function(E){var A={};E.skip("uShort"),1<E.parseULong()&&console.warn("Only the first kern subtable is supported."),E.skip("uLong");var I=255&E.parseUShort();if(E.skip("uShort"),I==0){var z=E.parseUShort();E.skip("uShort",3);for(var Y=0;Y<z;Y+=1){var re=E.parseUShort(),ce=E.parseUShort(),be=E.parseShort();A[re+","+ce]=be}}return A}(b);throw new Error("Unsupported kern table version ("+_+").")}},Zs={parse:function(a,p,b,_){for(var E=new B.Parser(a,p),A=_?E.parseUShort:E.parseULong,I=[],z=0;z<b+1;z+=1){var Y=A.call(E);_&&(Y*=2),I.push(Y)}return I}};function Qs(a,p){e("fs").readFile(a,function(b,_){if(b)return p(b.message);p(null,_o(_))})}function Ks(a,p){var b=new XMLHttpRequest;b.open("get",a,!0),b.responseType="arraybuffer",b.onload=function(){return b.response?p(null,b.response):p("Font could not be loaded: "+b.statusText)},b.onerror=function(){p("Font could not be loaded")},b.send()}function Yo(a,p){for(var b=[],_=12,E=0;E<p;E+=1){var A=B.getTag(a,_),I=B.getULong(a,_+4),z=B.getULong(a,_+8),Y=B.getULong(a,_+12);b.push({tag:A,checksum:I,offset:z,length:Y,compression:!1}),_+=16}return b}function Bt(a,p){if(p.compression!=="WOFF")return{data:a,offset:p.offset};var b=new Uint8Array(a.buffer,p.offset+2,p.compressedLength-2),_=new Uint8Array(p.length);if(K(b,_),_.byteLength!==p.length)throw new Error("Decompression error: "+p.tag+" decompressed length doesn't match recorded length");return{data:new DataView(_.buffer,0),offset:0}}function Xn(a){var p,b,_,E,A,I,z,Y,re,ce,be,Q,We,Fe,ke=new Rt({empty:!0}),Se=new DataView(a,0),Ae=[],Je=B.getTag(Se,0);if(Je===String.fromCharCode(0,1,0,0)||Je==="true"||Je==="typ1")ke.outlinesFormat="truetype",Ae=Yo(Se,_=B.getUShort(Se,4));else if(Je==="OTTO")ke.outlinesFormat="cff",Ae=Yo(Se,_=B.getUShort(Se,4));else{if(Je!=="wOFF")throw new Error("Unsupported OpenType signature "+Je);var $e=B.getTag(Se,4);if($e===String.fromCharCode(0,1,0,0))ke.outlinesFormat="truetype";else{if($e!=="OTTO")throw new Error("Unsupported OpenType flavor "+Je);ke.outlinesFormat="cff"}Ae=function(wt,Ft){for(var At=[],kt=44,ar=0;ar<Ft;ar+=1){var Kr=B.getTag(wt,kt),Gr=B.getULong(wt,kt+4),Xt=B.getULong(wt,kt+8),Vr=B.getULong(wt,kt+12),$r=void 0;$r=Xt<Vr&&"WOFF",At.push({tag:Kr,offset:Gr,compression:$r,compressedLength:Xt,length:Vr}),kt+=20}return At}(Se,_=B.getUShort(Se,12))}for(var pt=0;pt<_;pt+=1){var ot=Ae[pt],it=void 0;switch(ot.tag){case"cmap":it=Bt(Se,ot),ke.tables.cmap=q.parse(it.data,it.offset),ke.encoding=new Ie(ke.tables.cmap);break;case"cvt ":it=Bt(Se,ot),Fe=new B.Parser(it.data,it.offset),ke.tables.cvt=Fe.parseShortList(ot.length/2);break;case"fvar":A=ot;break;case"fpgm":it=Bt(Se,ot),Fe=new B.Parser(it.data,it.offset),ke.tables.fpgm=Fe.parseByteList(ot.length);break;case"head":it=Bt(Se,ot),ke.tables.head=Ke.parse(it.data,it.offset),ke.unitsPerEm=ke.tables.head.unitsPerEm,p=ke.tables.head.indexToLocFormat;break;case"hhea":it=Bt(Se,ot),ke.tables.hhea=Le.parse(it.data,it.offset),ke.ascender=ke.tables.hhea.ascender,ke.descender=ke.tables.hhea.descender,ke.numberOfHMetrics=ke.tables.hhea.numberOfHMetrics;break;case"hmtx":re=ot;break;case"ltag":it=Bt(Se,ot),b=_t.parse(it.data,it.offset);break;case"maxp":it=Bt(Se,ot),ke.tables.maxp=Et.parse(it.data,it.offset),ke.numGlyphs=ke.tables.maxp.numGlyphs;break;case"name":Q=ot;break;case"OS/2":it=Bt(Se,ot),ke.tables.os2=Nn.parse(it.data,it.offset);break;case"post":it=Bt(Se,ot),ke.tables.post=ho.parse(it.data,it.offset),ke.glyphNames=new ze(ke.tables.post);break;case"prep":it=Bt(Se,ot),Fe=new B.Parser(it.data,it.offset),ke.tables.prep=Fe.parseByteList(ot.length);break;case"glyf":I=ot;break;case"loca":be=ot;break;case"CFF ":E=ot;break;case"kern":ce=ot;break;case"GPOS":z=ot;break;case"GSUB":Y=ot;break;case"meta":We=ot}}var Dt=Bt(Se,Q);if(ke.tables.name=co.parse(Dt.data,Dt.offset,b),ke.names=ke.tables.name,I&&be){var gt=p===0,mt=Bt(Se,be),vt=Zs.parse(mt.data,mt.offset,ke.numGlyphs,gt),Mt=Bt(Se,I);ke.glyphs=To.parse(Mt.data,Mt.offset,vt,ke)}else{if(!E)throw new Error("Font doesn't contain TrueType or CFF outlines.");var St=Bt(Se,E);Ue.parse(St.data,St.offset,ke)}var Ot=Bt(Se,re);if(yt.parse(Ot.data,Ot.offset,ke.numberOfHMetrics,ke.numGlyphs,ke.glyphs),function(wt){for(var Ft,At=wt.tables.cmap.glyphIndexMap,kt=Object.keys(At),ar=0;ar<kt.length;ar+=1){var Kr=kt[ar],Gr=At[Kr];(Ft=wt.glyphs.get(Gr)).addUnicode(parseInt(Kr))}for(var Xt=0;Xt<wt.glyphs.length;Xt+=1)Ft=wt.glyphs.get(Xt),wt.cffEncoding?wt.isCIDFont?Ft.name="gid"+Xt:Ft.name=wt.cffEncoding.charset[Xt]:wt.glyphNames.names&&(Ft.name=wt.glyphNames.glyphIndexToName(Xt))}(ke),ce){var Tt=Bt(Se,ce);ke.kerningPairs=Ys.parse(Tt.data,Tt.offset)}else ke.kerningPairs={};if(z){var jt=Bt(Se,z);ke.tables.gpos=Xs.parse(jt.data,jt.offset),ke.position.init()}if(Y){var Lt=Bt(Se,Y);ke.tables.gsub=fo.parse(Lt.data,Lt.offset)}if(A){var Ct=Bt(Se,A);ke.tables.fvar=Hs.parse(Ct.data,Ct.offset,ke.names)}if(We){var Ut=Bt(Se,We);ke.tables.meta=po.parse(Ut.data,Ut.offset),ke.metas=ke.tables.meta}return ke}l.Font=Rt,l.Glyph=at,l.Path=ue,l.BoundingBox=J,l._parse=B,l.parse=Xn,l.load=function(a,p){(typeof window>"u"?Qs:Ks)(a,function(b,_){if(b)return p(b);var E;try{E=Xn(_)}catch(A){return p(A,null)}return p(null,E)})},l.loadSync=function(a){return Xn(_o(e("fs").readFileSync(a)))},Object.defineProperty(l,"__esModule",{value:!0})},h(typeof v=="object"&&x!==void 0?v:o.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],240:[function(e,x,v){(function(f){function o(d,u){for(var n=0,t=d.length-1;0<=t;t--){var r=d[t];r==="."?d.splice(t,1):r===".."?(d.splice(t,1),n++):n&&(d.splice(t,1),n--)}if(u)for(;n--;)d.unshift("..");return d}function h(d,u){if(d.filter)return d.filter(u);for(var n=[],t=0;t<d.length;t++)u(d[t],t,d)&&n.push(d[t]);return n}v.resolve=function(){for(var d="",u=!1,n=arguments.length-1;-1<=n&&!u;n--){var t=0<=n?arguments[n]:f.cwd();if(typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");t&&(d=t+"/"+d,u=t.charAt(0)==="/")}return(u?"/":"")+(d=o(h(d.split("/"),function(r){return!!r}),!u).join("/"))||"."},v.normalize=function(d){var u=v.isAbsolute(d),n=l(d,-1)==="/";return(d=o(h(d.split("/"),function(t){return!!t}),!u).join("/"))||u||(d="."),d&&n&&(d+="/"),(u?"/":"")+d},v.isAbsolute=function(d){return d.charAt(0)==="/"},v.join=function(){var d=Array.prototype.slice.call(arguments,0);return v.normalize(h(d,function(u,n){if(typeof u!="string")throw new TypeError("Arguments to path.join must be strings");return u}).join("/"))},v.relative=function(d,u){function n(g){for(var w=0;w<g.length&&g[w]==="";w++);for(var S=g.length-1;0<=S&&g[S]==="";S--);return S<w?[]:g.slice(w,S-w+1)}d=v.resolve(d).substr(1),u=v.resolve(u).substr(1);for(var t=n(d.split("/")),r=n(u.split("/")),s=Math.min(t.length,r.length),i=s,c=0;c<s;c++)if(t[c]!==r[c]){i=c;break}var m=[];for(c=i;c<t.length;c++)m.push("..");return(m=m.concat(r.slice(i))).join("/")},v.sep="/",v.delimiter=":",v.dirname=function(d){if(typeof d!="string"&&(d+=""),d.length===0)return".";for(var u=d.charCodeAt(0),n=u===47,t=-1,r=!0,s=d.length-1;1<=s;--s)if((u=d.charCodeAt(s))===47){if(!r){t=s;break}}else r=!1;return t===-1?n?"/":".":n&&t===1?"/":d.slice(0,t)},v.basename=function(d,u){var n=function(t){typeof t!="string"&&(t+="");var r,s=0,i=-1,c=!0;for(r=t.length-1;0<=r;--r)if(t.charCodeAt(r)===47){if(!c){s=r+1;break}}else i===-1&&(c=!1,i=r+1);return i===-1?"":t.slice(s,i)}(d);return u&&n.substr(-1*u.length)===u&&(n=n.substr(0,n.length-u.length)),n},v.extname=function(d){typeof d!="string"&&(d+="");for(var u=-1,n=0,t=-1,r=!0,s=0,i=d.length-1;0<=i;--i){var c=d.charCodeAt(i);if(c===47){if(r)continue;n=i+1;break}t===-1&&(r=!1,t=i+1),c===46?u===-1?u=i:s!==1&&(s=1):u!==-1&&(s=-1)}return u===-1||t===-1||s===0||s===1&&u===t-1&&u===n+1?"":d.slice(u,t)};var l="ab".substr(-1)==="b"?function(d,u,n){return d.substr(u,n)}:function(d,u,n){return u<0&&(u=d.length+u),d.substr(u,n)}}).call(this,e("_process"))},{_process:241}],241:[function(e,x,v){var f,o,h=x.exports={};function l(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function u(w){if(f===setTimeout)return setTimeout(w,0);if((f===l||!f)&&setTimeout)return f=setTimeout,setTimeout(w,0);try{return f(w,0)}catch{try{return f.call(null,w,0)}catch{return f.call(this,w,0)}}}(function(){try{f=typeof setTimeout=="function"?setTimeout:l}catch{f=l}try{o=typeof clearTimeout=="function"?clearTimeout:d}catch{o=d}})();var n,t=[],r=!1,s=-1;function i(){r&&n&&(r=!1,n.length?t=n.concat(t):s=-1,t.length&&c())}function c(){if(!r){var w=u(i);r=!0;for(var S=t.length;S;){for(n=t,t=[];++s<S;)n&&n[s].run();s=-1,S=t.length}n=null,r=!1,function(j){if(o===clearTimeout)return clearTimeout(j);if((o===d||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(j);try{o(j)}catch{try{return o.call(null,j)}catch{return o.call(this,j)}}}(w)}}function m(w,S){this.fun=w,this.array=S}function g(){}h.nextTick=function(w){var S=new Array(arguments.length-1);if(1<arguments.length)for(var j=1;j<arguments.length;j++)S[j-1]=arguments[j];t.push(new m(w,S)),t.length!==1||r||u(c)},m.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=g,h.addListener=g,h.once=g,h.off=g,h.removeListener=g,h.removeAllListeners=g,h.emit=g,h.prependListener=g,h.prependOnceListener=g,h.listeners=function(w){return[]},h.binding=function(w){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(w){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],242:[function(e,x,v){(function(f){if(!f.fetch){var o="URLSearchParams"in f,h="Symbol"in f&&"iterator"in Symbol,l="FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch{return!1}}(),d="FormData"in f,u="ArrayBuffer"in f;if(u)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],t=function(P){return P&&DataView.prototype.isPrototypeOf(P)},r=ArrayBuffer.isView||function(P){return P&&-1<n.indexOf(Object.prototype.toString.call(P))};w.prototype.append=function(P,G){P=c(P),G=m(G);var V=this.map[P];this.map[P]=V?V+","+G:G},w.prototype.delete=function(P){delete this.map[c(P)]},w.prototype.get=function(P){return P=c(P),this.has(P)?this.map[P]:null},w.prototype.has=function(P){return this.map.hasOwnProperty(c(P))},w.prototype.set=function(P,G){this.map[c(P)]=m(G)},w.prototype.forEach=function(P,G){for(var V in this.map)this.map.hasOwnProperty(V)&&P.call(G,this.map[V],V,this)},w.prototype.keys=function(){var P=[];return this.forEach(function(G,V){P.push(V)}),g(P)},w.prototype.values=function(){var P=[];return this.forEach(function(G){P.push(G)}),g(P)},w.prototype.entries=function(){var P=[];return this.forEach(function(G,V){P.push([V,G])}),g(P)},h&&(w.prototype[Symbol.iterator]=w.prototype.entries);var s=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];R.prototype.clone=function(){return new R(this,{body:this._bodyInit})},D.call(R.prototype),D.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},U.error=function(){var P=new U(null,{status:0,statusText:""});return P.type="error",P};var i=[301,302,303,307,308];U.redirect=function(P,G){if(i.indexOf(G)===-1)throw new RangeError("Invalid status code");return new U(null,{status:G,headers:{location:P}})},f.Headers=w,f.Request=R,f.Response=U,f.fetch=function(P,G){return new Promise(function(V,te){var ne=new R(P,G),K=new XMLHttpRequest;K.onload=function(){var se,J,ue={status:K.status,statusText:K.statusText,headers:(se=K.getAllResponseHeaders()||"",J=new w,se.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(_e){var he=_e.split(":"),Re=he.shift().trim();if(Re){var ve=he.join(":").trim();J.append(Re,ve)}}),J)};ue.url="responseURL"in K?K.responseURL:ue.headers.get("X-Request-URL");var me="response"in K?K.response:K.responseText;V(new U(me,ue))},K.onerror=function(){te(new TypeError("Network request failed"))},K.ontimeout=function(){te(new TypeError("Network request failed"))},K.open(ne.method,ne.url,!0),ne.credentials==="include"?K.withCredentials=!0:ne.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&l&&(K.responseType="blob"),ne.headers.forEach(function(se,J){K.setRequestHeader(J,se)}),K.send(ne._bodyInit===void 0?null:ne._bodyInit)})},f.fetch.polyfill=!0}function c(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function m(P){return typeof P!="string"&&(P=String(P)),P}function g(P){var G={next:function(){var V=P.shift();return{done:V===void 0,value:V}}};return h&&(G[Symbol.iterator]=function(){return G}),G}function w(P){this.map={},P instanceof w?P.forEach(function(G,V){this.append(V,G)},this):Array.isArray(P)?P.forEach(function(G){this.append(G[0],G[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(G){this.append(G,P[G])},this)}function S(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function j(P){return new Promise(function(G,V){P.onload=function(){G(P.result)},P.onerror=function(){V(P.error)}})}function T(P){var G=new FileReader,V=j(G);return G.readAsArrayBuffer(P),V}function L(P){if(P.slice)return P.slice(0);var G=new Uint8Array(P.byteLength);return G.set(new Uint8Array(P)),G.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(P){if(this._bodyInit=P)if(typeof P=="string")this._bodyText=P;else if(l&&Blob.prototype.isPrototypeOf(P))this._bodyBlob=P;else if(d&&FormData.prototype.isPrototypeOf(P))this._bodyFormData=P;else if(o&&URLSearchParams.prototype.isPrototypeOf(P))this._bodyText=P.toString();else if(u&&l&&t(P))this._bodyArrayBuffer=L(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!u||!ArrayBuffer.prototype.isPrototypeOf(P)&&!r(P))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=L(P)}else this._bodyText="";this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var P=S(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(T)}),this.text=function(){var P,G,V,te=S(this);if(te)return te;if(this._bodyBlob)return P=this._bodyBlob,G=new FileReader,V=j(G),G.readAsText(P),V;if(this._bodyArrayBuffer)return Promise.resolve(function(ne){for(var K=new Uint8Array(ne),se=new Array(K.length),J=0;J<K.length;J++)se[J]=String.fromCharCode(K[J]);return se.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}function R(P,G){var V,te,ne=(G=G||{}).body;if(P instanceof R){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,G.headers||(this.headers=new w(P.headers)),this.method=P.method,this.mode=P.mode,ne||P._bodyInit==null||(ne=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=G.credentials||this.credentials||"omit",!G.headers&&this.headers||(this.headers=new w(G.headers)),this.method=(V=G.method||this.method||"GET",te=V.toUpperCase(),-1<s.indexOf(te)?te:V),this.mode=G.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ne)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(ne)}function O(P){var G=new FormData;return P.trim().split("&").forEach(function(V){if(V){var te=V.split("="),ne=te.shift().replace(/\+/g," "),K=te.join("=").replace(/\+/g," ");G.append(decodeURIComponent(ne),decodeURIComponent(K))}}),G}function U(P,G){G=G||{},this.type="default",this.status=G.status===void 0?200:G.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in G?G.statusText:"OK",this.headers=new w(G.headers),this.url=G.url||"",this._initBody(P)}})(typeof self<"u"?self:this)},{}],243:[function(e,x,v){e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=l(e("../core/main")),h=l(e("../color/color_conversion"));function l(t){return t&&t.__esModule?t:{default:t}}var d=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],u=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];o.default.prototype._rgbColorName=function(t){var r=h.default._rgbaToHSBA(t);return function(s){var i;if(s[0]!==0){s[0]=Math.round(100*s[0]);var c=s[0].toString().split(""),m=c.length-1;c[m]=parseInt(c[m]),c[m]<2.5?c[m]=0:2.5<=c[m]&&c[m]<7.5&&(c[m]=5),c.length===2?(c[0]=parseInt(c[0]),7.5<=c[m]&&(c[m]=0,c[0]=c[0]+1),s[0]=10*c[0]+c[1]):7.5<=c[m]?s[0]=10:s[0]=c[m]}s[2]=s[2]/255;for(var g=s.length-1;1<=g;g--)s[g]<=.25?s[g]=0:.25<s[g]&&s[g]<.75?s[g]=.5:s[g]=1;if(s[0]===0&&s[1]===0&&s[2]===1){for(var w=2;0<=w;w--)f[w]=Math.round(1e4*f[w])/1e4;for(var S=0;S<d.length;S++){if(d[S].h===f[0]&&d[S].s===f[1]&&d[S].b===f[2]){i=d[S].name;break}i="white"}}else for(var j=0;j<u.length;j++)if(u[j].h===s[0]&&u[j].s===s[1]&&u[j].b===s[2]){i=u[j].name;break}return i}([(f=r)[0],r[1],r[2]])};var n=o.default;v.default=n},{"../color/color_conversion":249,"../core/main":264,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],244:[function(e,x,v){e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f},h="_Description",l="_fallbackDesc",d="_fallbackTable",u="_Label",n="_labelDesc",t="_labelTable";function r(i){if(i==="label"||i==="fallback")throw new Error("description should not be LABEL or FALLBACK");return i.endsWith(".")||i.endsWith(";")||i.endsWith(",")||i.endsWith("?")||i.endsWith("!")||(i+="."),i}o.default.prototype.describe=function(i,c){if(o.default._validateParameters("describe",arguments),typeof i=="string"){var m=this.canvas.id;i=r(i),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==i&&(this.descriptions.fallback.innerHTML=i):this._describeHTML("fallback",i),c===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==i&&(this.descriptions.label.innerHTML=i):this._describeHTML("label",i))}},o.default.prototype.describeElement=function(i,c,m){if(o.default._validateParameters("describeElement",arguments),typeof c=="string"&&typeof i=="string"){var g=this.canvas.id;c=r(c);var w=function(j){if(j==="label"||j==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return j.endsWith(".")||j.endsWith(";")||j.endsWith(",")?j=j.replace(/.$/,":"):j.endsWith(":")||(j+=":"),j}(i);i=i.replace(/[^a-zA-Z0-9]/g,"");var S='<th scope="row">'.concat(w,"</th><td>").concat(c,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[i]?this.descriptions.fallbackElements[i].innerHTML!==S&&(this.descriptions.fallbackElements[i].innerHTML=S):this._describeElementHTML("fallback",i,S),m===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[i]?this.descriptions.labelElements[i].innerHTML!==S&&(this.descriptions.labelElements[i].innerHTML=S):this._describeElementHTML("label",i,S))}},o.default.prototype._describeHTML=function(i,c){var m=this.canvas.id;if(i==="fallback"){if(this.dummyDOM.querySelector("#".concat(m+h)))this.dummyDOM.querySelector("#"+m+d).insertAdjacentHTML("beforebegin",'<p id="'.concat(m+l,'"></p>'));else{var g='<div id="'.concat(m).concat(h,'" role="region" aria-label="Canvas Description"><p id="').concat(m).concat(l,'"></p></div>');this.dummyDOM.querySelector("#".concat(m,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#".concat(m)).innerHTML=g}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(m).concat(l)),void(this.descriptions.fallback.innerHTML=c)}if(i==="label"){if(this.dummyDOM.querySelector("#".concat(m+u)))this.dummyDOM.querySelector("#".concat(m+t))&&this.dummyDOM.querySelector("#".concat(m+t)).insertAdjacentHTML("beforebegin",'<p id="'.concat(m).concat(n,'"></p>'));else{var w='<div id="'.concat(m).concat(u,'" class="p5Label"><p id="').concat(m).concat(n,'"></p></div>');this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",w):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",w)}return this.descriptions.label=this.dummyDOM.querySelector("#"+m+n),void(this.descriptions.label.innerHTML=c)}},o.default.prototype._describeElementHTML=function(i,c,m){var g=this.canvas.id;if(i==="fallback"){if(this.dummyDOM.querySelector("#".concat(g+h)))this.dummyDOM.querySelector("#"+g+d)||this.dummyDOM.querySelector("#"+g+l).insertAdjacentHTML("afterend",'<table id="'.concat(g).concat(d,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var w='<div id="'.concat(g).concat(h,'" role="region" aria-label="Canvas Description"><table id="').concat(g).concat(d,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(g,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutput")).insertAdjacentHTML("beforebegin",w):this.dummyDOM.querySelector("#"+g).innerHTML=w}var S=document.createElement("tr");return S.id=g+"_fte_"+c,this.dummyDOM.querySelector("#"+g+d).appendChild(S),this.descriptions.fallbackElements[c]=this.dummyDOM.querySelector("#".concat(g).concat("_fte_").concat(c)),void(this.descriptions.fallbackElements[c].innerHTML=m)}if(i==="label"){if(this.dummyDOM.querySelector("#".concat(g+u)))this.dummyDOM.querySelector("#".concat(g+t))||this.dummyDOM.querySelector("#"+g+n).insertAdjacentHTML("afterend",'<table id="'.concat(g+t,'"></table>'));else{var j='<div id="'.concat(g).concat(u,'" class="p5Label"><table id="').concat(g).concat(t,'"></table></div>');this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",j):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",j)}var T=document.createElement("tr");T.id=g+"_lte_"+c,this.dummyDOM.querySelector("#"+g+t).appendChild(T),this.descriptions.labelElements[c]=this.dummyDOM.querySelector("#".concat(g).concat("_lte_").concat(c)),this.descriptions.labelElements[c].innerHTML=m}};var s=o.default;v.default=s},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],245:[function(e,x,v){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.prototype._updateGridOutput=function(l){if(this.dummyDOM.querySelector("#".concat(l,"_summary"))){var d=this._accessibleOutputs[l],u=function(r,s){var i="",c="",m=0;for(var g in s){var w=0;for(var S in s[g]){var j='<li id="'.concat(r,"shape").concat(m,'">').concat(s[g][S].color," ").concat(g,",");g==="line"?j+=" location = ".concat(s[g][S].pos,", length = ").concat(s[g][S].length," pixels"):(j+=" location = ".concat(s[g][S].pos),g!=="point"&&(j+=", area = ".concat(s[g][S].area," %")),j+="</li>"),i+=j,w++,m++}c=1<w?"".concat(c," ").concat(w," ").concat(g,"s"):"".concat(c," ").concat(w," ").concat(g)}return{numShapes:[m,c],details:i}}(l,this.ingredients.shapes),n=function(r,s,i,c){var m="".concat(s," canvas, ").concat(i," by ").concat(c," pixels, contains ").concat(r[0]);return m=r[0]===1?"".concat(m," shape: ").concat(r[1]):"".concat(m," shapes: ").concat(r[1]),m}(u.numShapes,this.ingredients.colors.background,this.width,this.height),t=function(r,s){var i=0,c="",m=Array.apply(null,Array(10)).map(function(){});for(var g in m)m[g]=Array.apply(null,Array(10)).map(function(){});for(var w in s)for(var S in s[w]){var j=void 0;j=w!=="line"?'<a href="#'.concat(r,"shape").concat(i,'">').concat(s[w][S].color," ").concat(w,"</a>"):'<a href="#'.concat(r,"shape").concat(i,'">').concat(s[w][S].color," ").concat(w," midpoint</a>"),m[s[w][S].loc.locY][s[w][S].loc.locX]?m[s[w][S].loc.locY][s[w][S].loc.locX]=m[s[w][S].loc.locY][s[w][S].loc.locX]+"  "+j:m[s[w][S].loc.locY][s[w][S].loc.locX]=j,i++}for(var T in m){var L="<tr>";for(var D in m[T])L+="<td>",m[T][D]!==void 0&&(L+=m[T][D]),L+="</td>";c=c+L+"</tr>"}return c}(l,this.ingredients.shapes);n!==d.summary.innerHTML&&(d.summary.innerHTML=n),t!==d.map.innerHTML&&(d.map.innerHTML=t),u.details!==d.shapeDetails.innerHTML&&(d.shapeDetails.innerHTML=u.details),this._accessibleOutputs[l]=d}};var h=o.default;v.default=h},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],246:[function(e,x,v){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};function h(u,n,t){return u[0]<.4*n?u[1]<.4*t?"top left":u[1]>.6*t?"bottom left":"mid left":u[0]>.6*n?u[1]<.4*t?"top right":u[1]>.6*t?"bottom right":"mid right":u[1]<.4*t?"top middle":u[1]>.6*t?"bottom middle":"middle"}function l(u,n,t){var r=Math.floor(u[0]/n*10),s=Math.floor(u[1]/t*10);return r===10&&--r,s===10&&--s,{locX:r,locY:s}}o.default.prototype.textOutput=function(u){o.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},o.default.prototype.gridOutput=function(u){o.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},o.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},o.default.prototype._createOutput=function(u,n){var t,r,s,i=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode);var c="";n==="Fallback"?(t=i+u,r=i+"accessibleOutput",this.dummyDOM.querySelector("#".concat(r))||(this.dummyDOM.querySelector("#".concat(i,"_Description"))?this.dummyDOM.querySelector("#".concat(i,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(i)).innerHTML='<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>'))):n==="Label"&&(t=i+u+(c=n),r=i+"accessibleOutput"+n,this.dummyDOM.querySelector("#".concat(r))||(this.dummyDOM.querySelector("#".concat(i,"_Label"))?this.dummyDOM.querySelector("#".concat(i,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(r,'"></div>')):this.dummyDOM.querySelector("#".concat(i)).insertAdjacentHTML("afterend",'<div id="'.concat(r,'"></div>')))),this._accessibleOutputs[t]={},u==="textOutput"?(c="#".concat(i,"gridOutput").concat(c),s='<div id="'.concat(t,'">Text Output<div id="').concat(t,'Summary" aria-label="text output summary"><p id="').concat(t,'_summary"></p><ul id="').concat(t,'_list"></ul></div><table id="').concat(t,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#".concat(r)).innerHTML=s,this._accessibleOutputs[t].list=this.dummyDOM.querySelector("#".concat(t,"_list"))):u==="gridOutput"&&(c="#".concat(i,"textOutput").concat(c),s='<div id="'.concat(t,'">Grid Output<p id="').concat(t,'_summary" aria-label="grid output summary"><table id="').concat(t,'_map" summary="grid output content"></table><ul id="').concat(t,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("afterend",s):this.dummyDOM.querySelector("#".concat(r)).innerHTML=s,this._accessibleOutputs[t].map=this.dummyDOM.querySelector("#".concat(t,"_map"))),this._accessibleOutputs[t].shapeDetails=this.dummyDOM.querySelector("#".concat(t,"_shapeDetails")),this._accessibleOutputs[t].summary=this.dummyDOM.querySelector("#".concat(t,"_summary"))},o.default.prototype._updateAccsOutput=function(){var u=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(u+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(u+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(u+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(u+"gridOutputLabel"))},o.default.prototype._accsBackground=function(u){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==u&&(this.ingredients.colors.backgroundRGBA=u,this.ingredients.colors.background=this._rgbColorName(u))},o.default.prototype._accsCanvasColors=function(u,n){u==="fill"?this.ingredients.colors.fillRGBA!==n&&(this.ingredients.colors.fillRGBA=n,this.ingredients.colors.fill=this._rgbColorName(n)):u==="stroke"&&this.ingredients.colors.strokeRGBA!==n&&(this.ingredients.colors.strokeRGBA=n,this.ingredients.colors.stroke=this._rgbColorName(n))},o.default.prototype._accsOutput=function(u,n){u==="ellipse"&&n[2]===n[3]?u="circle":u==="rectangle"&&n[2]===n[3]&&(u="square");var t={},r=!0,s=function(g,w){var S,j;return j=g==="rectangle"||g==="ellipse"||g==="arc"||g==="circle"||g==="square"?(S=Math.round(w[0]+w[2]/2),Math.round(w[1]+w[3]/2)):g==="triangle"?(S=(w[0]+w[2]+w[4])/3,(w[1]+w[3]+w[5])/3):g==="quadrilateral"?(S=(w[0]+w[2]+w[4]+w[6])/4,(w[1]+w[3]+w[5]+w[7])/4):g==="line"?(S=(w[0]+w[2])/2,(w[1]+w[3])/2):(S=w[0],w[1]),[S,j]}(u,n);if(u==="line"){t.color=this.ingredients.colors.stroke,t.length=Math.round(this.dist(n[0],n[1],n[2],n[3]));var i=h([n[0],[1]],this.width,this.height),c=h([n[2],[3]],this.width,this.height);t.loc=l(s,this.width,this.height),t.pos=i===c?"at ".concat(i):"from ".concat(i," to ").concat(c)}else u==="point"?t.color=this.ingredients.colors.stroke:(t.color=this.ingredients.colors.fill,t.area=function(g,w,S,j){var T=0;if(g==="arc"){var L=((w[5]-w[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(T=L*w[2]*w[3]/8,w[6]==="open"||w[6]==="chord"){var D=w[0],R=w[1],O=w[0]+w[2]/2*Math.cos(w[4]).toFixed(2),U=w[1]+w[3]/2*Math.sin(w[4]).toFixed(2),P=w[0]+w[2]/2*Math.cos(w[5]).toFixed(2),G=w[1]+w[3]/2*Math.sin(w[5]).toFixed(2),V=Math.abs(D*(U-G)+O*(G-R)+P*(R-U))/2;L>Math.PI?T+=V:T-=V}}else g==="ellipse"||g==="circle"?T=3.14*w[2]/2*w[3]/2:g==="line"||g==="point"?T=0:g==="quadrilateral"?T=Math.abs((w[6]+w[0])*(w[7]-w[1])+(w[0]+w[2])*(w[1]-w[3])+(w[2]+w[4])*(w[3]-w[5])+(w[4]+w[6])*(w[5]-w[7]))/2:g==="rectangle"||g==="square"?T=w[2]*w[3]:g==="triangle"&&(T=Math.abs(w[0]*(w[3]-w[5])+w[2]*(w[5]-w[1])+w[4]*(w[1]-w[3]))/2);return Math.round(100*T/(S*j))}(u,n,this.width,this.height)),t.pos=h(s,this.width,this.height),t.loc=l(s,this.width,this.height);if(this.ingredients.shapes[u]){if(this.ingredients.shapes[u]!==[t]){for(var m in this.ingredients.shapes[u])JSON.stringify(this.ingredients.shapes[u][m])===JSON.stringify(t)&&(r=!1);r===!0&&this.ingredients.shapes[u].push(t)}}else this.ingredients.shapes[u]=[t]};var d=o.default;v.default=d},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":172}],247:[function(e,x,v){e("core-js/modules/es.array.concat"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.prototype._updateTextOutput=function(l){if(this.dummyDOM.querySelector("#".concat(l,"_summary"))){var d=this._accessibleOutputs[l],u=function(r,s){var i="",c=0;for(var m in s)for(var g in s[m]){var w='<li><a href="#'.concat(r,"shape").concat(c,'">').concat(s[m][g].color," ").concat(m,"</a>");m==="line"?w+=", ".concat(s[m][g].pos,", ").concat(s[m][g].length," pixels long.</li>"):(w+=", at ".concat(s[m][g].pos),m!=="point"&&(w+=", covering ".concat(s[m][g].area,"% of the canvas")),w+=".</li>"),i+=w,c++}return{numShapes:c,listShapes:i}}(l,this.ingredients.shapes),n=function(r,s,i,c){var m="Your output is a, ".concat(i," by ").concat(c," pixels, ").concat(s," canvas containing the following");return m=r===1?"".concat(m," shape:"):"".concat(m," ").concat(r," shapes:"),m}(u.numShapes,this.ingredients.colors.background,this.width,this.height),t=function(r,s){var i="",c=0;for(var m in s)for(var g in s[m]){var w='<tr id="'.concat(r,"shape").concat(c,'"><th>').concat(s[m][g].color," ").concat(m,"</th>");m==="line"?w+="<td>location = ".concat(s[m][g].pos,"</td><td>length = ").concat(s[m][g].length," pixels</td></tr>"):(w+="<td>location = ".concat(s[m][g].pos,"</td>"),m!=="point"&&(w+="<td> area = ".concat(s[m][g].area,"%</td>")),w+="</tr>"),i+=w,c++}return i}(l,this.ingredients.shapes);n!==d.summary.innerHTML&&(d.summary.innerHTML=n),u.listShapes!==d.list.innerHTML&&(d.list.innerHTML=u.listShapes),t!==d.shapeDetails.innerHTML&&(d.shapeDetails.innerHTML=t),this._accessibleOutputs[l]=d}};var h=o.default;v.default=h},{"../core/main":264,"core-js/modules/es.array.concat":149}],248:[function(e,x,v){var f,o=(f=e("./core/main"))&&f.__esModule?f:{default:f};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),x.exports=o.default},{"./accessibility/color_namer":243,"./accessibility/describe":244,"./accessibility/gridOutput":245,"./accessibility/outputs":246,"./accessibility/textOutput":247,"./color/color_conversion":249,"./color/creating_reading":250,"./color/p5.Color":251,"./color/setting":252,"./core/constants":253,"./core/environment":254,"./core/friendly_errors/fes_core":255,"./core/friendly_errors/file_errors":256,"./core/friendly_errors/sketch_reader":257,"./core/friendly_errors/stacktrace":258,"./core/friendly_errors/validate_params":259,"./core/helpers":260,"./core/init":261,"./core/legacy":263,"./core/main":264,"./core/p5.Element":265,"./core/p5.Graphics":266,"./core/p5.Renderer":267,"./core/p5.Renderer2D":268,"./core/preload":269,"./core/rendering":270,"./core/shape/2d_primitives":271,"./core/shape/attributes":272,"./core/shape/curves":273,"./core/shape/vertex":274,"./core/shim":275,"./core/structure":276,"./core/transform":277,"./data/local_storage.js":278,"./data/p5.TypedDict":279,"./dom/dom":280,"./events/acceleration":281,"./events/keyboard":282,"./events/mouse":283,"./events/touch":284,"./image/filters":285,"./image/image":286,"./image/loading_displaying":287,"./image/p5.Image":288,"./image/pixels":289,"./io/files":290,"./io/p5.Table":291,"./io/p5.TableRow":292,"./io/p5.XML":293,"./math/calculation":294,"./math/math":295,"./math/noise":296,"./math/p5.Vector":297,"./math/random":298,"./math/trigonometry":299,"./typography/attributes":300,"./typography/loading_displaying":301,"./typography/p5.Font":302,"./utilities/array_functions":303,"./utilities/conversion":304,"./utilities/string_functions":305,"./utilities/time_date":306,"./webgl/3d_primitives":307,"./webgl/interaction":308,"./webgl/light":309,"./webgl/loading":310,"./webgl/material":311,"./webgl/p5.Camera":312,"./webgl/p5.Geometry":313,"./webgl/p5.Matrix":314,"./webgl/p5.RenderBuffer":315,"./webgl/p5.RendererGL":318,"./webgl/p5.RendererGL.Immediate":316,"./webgl/p5.RendererGL.Retained":317,"./webgl/p5.Shader":319,"./webgl/p5.Texture":320,"./webgl/text":321}],249:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.ColorConversion={},o.default.ColorConversion._hsbaToHSLA=function(l){var d=l[0],u=l[1],n=l[2],t=(2-u)*n/2;return t!=0&&(t==1?u=0:t<.5?u/=2-u:u=u*n/(2-2*t)),[d,u,t,l[3]]},o.default.ColorConversion._hsbaToRGBA=function(l){var d=6*l[0],u=l[1],n=l[2],t=[];if(u===0)t=[n,n,n,l[3]];else{var r,s,i,c=Math.floor(d),m=n*(1-u),g=n*(1-u*(d-c)),w=n*(1-u*(1+c-d));i=c===1?(r=g,s=n,m):c===2?(r=m,s=n,w):c===3?(r=m,s=g,n):c===4?(r=w,s=m,n):c===5?(r=n,s=m,g):(r=n,s=w,m),t=[r,s,i,l[3]]}return t},o.default.ColorConversion._hslaToHSBA=function(l){var d,u=l[0],n=l[1],t=l[2];return[u,n=2*((d=t<.5?(1+n)*t:t+n-t*n)-t)/d,d,l[3]]},o.default.ColorConversion._hslaToRGBA=function(l){var d=6*l[0],u=l[1],n=l[2],t=[];if(u===0)t=[n,n,n,l[3]];else{var r,s=2*n-(r=n<.5?(1+u)*n:n+u-n*u),i=function(c,m,g){return c<0?c+=6:6<=c&&(c-=6),c<1?m+(g-m)*c:c<3?g:c<4?m+(g-m)*(4-c):m};t=[i(2+d,s,r),i(d,s,r),i(d-2,s,r),l[3]]}return t},o.default.ColorConversion._rgbaToHSBA=function(l){var d,u,n=l[0],t=l[1],r=l[2],s=Math.max(n,t,r),i=s-Math.min(n,t,r);return i==0?u=d=0:(u=i/s,n===s?d=(t-r)/i:t===s?d=2+(r-n)/i:r===s&&(d=4+(n-t)/i),d<0?d+=6:6<=d&&(d-=6)),[d/6,u,s,l[3]]},o.default.ColorConversion._rgbaToHSLA=function(l){var d,u,n=l[0],t=l[1],r=l[2],s=Math.max(n,t,r),i=Math.min(n,t,r),c=s+i,m=s-i;return m==0?u=d=0:(u=c<1?m/c:m/(2-c),n===s?d=(t-r)/m:t===s?d=2+(r-n)/m:r===s&&(d=4+(n-t)/m),d<0?d+=6:6<=d&&(d-=6)),[d/6,u,c/2,l[3]]};var h=o.default.ColorConversion;v.default=h},{"../core/main":264}],250:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}e("core-js/modules/es.array.map"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=d();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),h.default.prototype.alpha=function(n){return h.default._validateParameters("alpha",arguments),this.color(n)._getAlpha()},h.default.prototype.blue=function(n){return h.default._validateParameters("blue",arguments),this.color(n)._getBlue()},h.default.prototype.brightness=function(n){return h.default._validateParameters("brightness",arguments),this.color(n)._getBrightness()},h.default.prototype.color=function(){if(h.default._validateParameters("color",arguments),arguments[0]instanceof h.default.Color)return arguments[0];var n=arguments[0]instanceof Array?arguments[0]:arguments;return new h.default.Color(this,n)},h.default.prototype.green=function(n){return h.default._validateParameters("green",arguments),this.color(n)._getGreen()},h.default.prototype.hue=function(n){return h.default._validateParameters("hue",arguments),this.color(n)._getHue()},h.default.prototype.lerpColor=function(n,t,r){h.default._validateParameters("lerpColor",arguments);var s,i,c,m,g,w,S=this._colorMode,j=this._colorMaxes;if(S===l.RGB)g=n.levels.map(function(T){return T/255}),w=t.levels.map(function(T){return T/255});else if(S===l.HSB)n._getBrightness(),t._getBrightness(),g=n.hsba,w=t.hsba;else{if(S!==l.HSL)throw new Error("".concat(S,"cannot be used for interpolation."));n._getLightness(),t._getLightness(),g=n.hsla,w=t.hsla}return r=Math.max(Math.min(r,1),0),this.lerp===void 0&&(this.lerp=function(T,L,D){return D*(L-T)+T}),s=this.lerp(g[0],w[0],r),i=this.lerp(g[1],w[1],r),c=this.lerp(g[2],w[2],r),m=this.lerp(g[3],w[3],r),s*=j[S][0],i*=j[S][1],c*=j[S][2],m*=j[S][3],this.color(s,i,c,m)},h.default.prototype.lightness=function(n){return h.default._validateParameters("lightness",arguments),this.color(n)._getLightness()},h.default.prototype.red=function(n){return h.default._validateParameters("red",arguments),this.color(n)._getRed()},h.default.prototype.saturation=function(n){return h.default._validateParameters("saturation",arguments),this.color(n)._getSaturation()};var u=h.default;v.default=u},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.map":161}],251:[function(e,x,v){function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(g)}e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.trim"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o=u(e("../core/main")),h=function(g){if(g&&g.__esModule)return g;if(g===null||f(g)!=="object"&&typeof g!="function")return{default:g};var w=d();if(w&&w.has(g))return w.get(g);var S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in g)if(Object.prototype.hasOwnProperty.call(g,T)){var L=j?Object.getOwnPropertyDescriptor(g,T):null;L&&(L.get||L.set)?Object.defineProperty(S,T,L):S[T]=g[T]}return S.default=g,w&&w.set(g,S),S}(e("../core/constants")),l=u(e("./color_conversion"));function d(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return d=function(){return g},g}function u(g){return g&&g.__esModule?g:{default:g}}o.default.Color=function(g,w){if(this._storeModeAndMaxes(g._colorMode,g._colorMaxes),this.mode!==h.RGB&&this.mode!==h.HSL&&this.mode!==h.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=o.default.Color._parseInputs.apply(this,w),this._calculateLevels(),this},o.default.Color.prototype.toString=function(g){var w=this.levels,S=this._array,j=S[3];switch(g){case"#rrggbb":return"#".concat(w[0]<16?"0".concat(w[0].toString(16)):w[0].toString(16),w[1]<16?"0".concat(w[1].toString(16)):w[1].toString(16),w[2]<16?"0".concat(w[2].toString(16)):w[2].toString(16));case"#rrggbbaa":return"#".concat(w[0]<16?"0".concat(w[0].toString(16)):w[0].toString(16),w[1]<16?"0".concat(w[1].toString(16)):w[1].toString(16),w[2]<16?"0".concat(w[2].toString(16)):w[2].toString(16),w[3]<16?"0".concat(w[3].toString(16)):w[3].toString(16));case"#rgb":return"#".concat(Math.round(15*S[0]).toString(16),Math.round(15*S[1]).toString(16),Math.round(15*S[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*S[0]).toString(16),Math.round(15*S[1]).toString(16),Math.round(15*S[2]).toString(16),Math.round(15*S[3]).toString(16));case"rgb":return"rgb(".concat(w[0],", ",w[1],", ",w[2],")");case"rgb%":return"rgb(".concat((100*S[0]).toPrecision(3),"%, ",(100*S[1]).toPrecision(3),"%, ",(100*S[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*S[0]).toPrecision(3),"%, ",(100*S[1]).toPrecision(3),"%, ",(100*S[2]).toPrecision(3),"%, ",(100*S[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=l.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=l.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=l.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],", ",j,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=l.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=l.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=l.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=l.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],", ",j,")");case"hsla%":return this.hsla||(this.hsla=l.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(w[0],",",w[1],",",w[2],",",j,")")}},o.default.Color.prototype.setRed=function(g){this._array[0]=g/this.maxes[h.RGB][0],this._calculateLevels()},o.default.Color.prototype.setGreen=function(g){this._array[1]=g/this.maxes[h.RGB][1],this._calculateLevels()},o.default.Color.prototype.setBlue=function(g){this._array[2]=g/this.maxes[h.RGB][2],this._calculateLevels()},o.default.Color.prototype.setAlpha=function(g){this._array[3]=g/this.maxes[this.mode][3],this._calculateLevels()},o.default.Color.prototype._calculateLevels=function(){for(var g=this._array,w=this.levels=new Array(g.length),S=g.length-1;0<=S;--S)w[S]=Math.round(255*g[S]);this.hsla=null,this.hsba=null},o.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},o.default.Color.prototype._storeModeAndMaxes=function(g,w){this.mode=g,this.maxes=w},o.default.Color.prototype._getMode=function(){return this.mode},o.default.Color.prototype._getMaxes=function(){return this.maxes},o.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[h.RGB][2]},o.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=l.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[h.HSB][2]},o.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[h.RGB][1]},o.default.Color.prototype._getHue=function(){return this.mode===h.HSB?(this.hsba||(this.hsba=l.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[h.HSB][0]):(this.hsla||(this.hsla=l.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[h.HSL][0])},o.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=l.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[h.HSL][2]},o.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[h.RGB][0]},o.default.Color.prototype._getSaturation=function(){return this.mode===h.HSB?(this.hsba||(this.hsba=l.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[h.HSB][1]):(this.hsla||(this.hsla=l.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[h.HSL][1])};var n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},t=/\s*/,r=/(\d{1,3})/,s=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,i=new RegExp("".concat(s.source,"%")),c={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",r.source,",",r.source,",",r.source,"\\)$"].join(t.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",i.source,",",i.source,",",i.source,"\\)$"].join(t.source),"i"),RGBA:new RegExp(["^rgba\\(",r.source,",",r.source,",",r.source,",",s.source,"\\)$"].join(t.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",i.source,",",i.source,",",i.source,",",s.source,"\\)$"].join(t.source),"i"),HSL:new RegExp(["^hsl\\(",r.source,",",i.source,",",i.source,"\\)$"].join(t.source),"i"),HSLA:new RegExp(["^hsla\\(",r.source,",",i.source,",",i.source,",",s.source,"\\)$"].join(t.source),"i"),HSB:new RegExp(["^hsb\\(",r.source,",",i.source,",",i.source,"\\)$"].join(t.source),"i"),HSBA:new RegExp(["^hsba\\(",r.source,",",i.source,",",i.source,",",s.source,"\\)$"].join(t.source),"i")};o.default.Color._parseInputs=function(g,w,S,j){var T,L=arguments.length,D=this.mode,R=this.maxes[D],O=[];if(3<=L){for(O[0]=g/R[0],O[1]=w/R[1],O[2]=S/R[2],O[3]=typeof j=="number"?j/R[3]:1,T=O.length-1;0<=T;--T){var U=O[T];U<0?O[T]=0:1<U&&(O[T]=1)}return D===h.HSL?l.default._hslaToRGBA(O):D===h.HSB?l.default._hsbaToRGBA(O):O}if(L===1&&typeof g=="string"){var P=g.trim().toLowerCase();if(n[P])return o.default.Color._parseInputs.call(this,n[P]);if(c.HEX3.test(P))return(O=c.HEX3.exec(P).slice(1).map(function(G){return parseInt(G+G,16)/255}))[3]=1,O;if(c.HEX6.test(P))return(O=c.HEX6.exec(P).slice(1).map(function(G){return parseInt(G,16)/255}))[3]=1,O;if(c.HEX4.test(P))return O=c.HEX4.exec(P).slice(1).map(function(G){return parseInt(G+G,16)/255});if(c.HEX8.test(P))return O=c.HEX8.exec(P).slice(1).map(function(G){return parseInt(G,16)/255});if(c.RGB.test(P))return(O=c.RGB.exec(P).slice(1).map(function(G){return G/255}))[3]=1,O;if(c.RGB_PERCENT.test(P))return(O=c.RGB_PERCENT.exec(P).slice(1).map(function(G){return parseFloat(G)/100}))[3]=1,O;if(c.RGBA.test(P))return O=c.RGBA.exec(P).slice(1).map(function(G,V){return V===3?parseFloat(G):G/255});if(c.RGBA_PERCENT.test(P))return O=c.RGBA_PERCENT.exec(P).slice(1).map(function(G,V){return V===3?parseFloat(G):parseFloat(G)/100});if(c.HSL.test(P)?(O=c.HSL.exec(P).slice(1).map(function(G,V){return V===0?parseInt(G,10)/360:parseInt(G,10)/100}))[3]=1:c.HSLA.test(P)&&(O=c.HSLA.exec(P).slice(1).map(function(G,V){return V===0?parseInt(G,10)/360:V===3?parseFloat(G):parseInt(G,10)/100})),(O=O.map(function(G){return Math.max(Math.min(G,1),0)})).length)return l.default._hslaToRGBA(O);if(c.HSB.test(P)?(O=c.HSB.exec(P).slice(1).map(function(G,V){return V===0?parseInt(G,10)/360:parseInt(G,10)/100}))[3]=1:c.HSBA.test(P)&&(O=c.HSBA.exec(P).slice(1).map(function(G,V){return V===0?parseInt(G,10)/360:V===3?parseFloat(G):parseInt(G,10)/100})),O.length){for(T=O.length-1;0<=T;--T)O[T]=Math.max(Math.min(O[T],1),0);return l.default._hsbaToRGBA(O)}O=[1,1,1,1]}else{if(L!==1&&L!==2||typeof g!="number")throw new Error("".concat(arguments,"is not a valid color representation."));O[0]=g/R[2],O[1]=g/R[2],O[2]=g/R[2],O[3]=typeof w=="number"?w/R[3]:1,O=O.map(function(G){return Math.max(Math.min(G,1),0)})}return O};var m=o.default.Color;v.default=m},{"../core/constants":253,"../core/main":264,"./color_conversion":249,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.trim":193}],252:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}e("core-js/modules/es.array.fill"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=d();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}e("./p5.Color"),h.default.prototype.background=function(){var n;return(n=this._renderer).background.apply(n,arguments),this},h.default.prototype.clear=function(){var n=(arguments.length<=0?void 0:arguments[0])||0,t=(arguments.length<=1?void 0:arguments[1])||0,r=(arguments.length<=2?void 0:arguments[2])||0,s=(arguments.length<=3?void 0:arguments[3])||0;return this._renderer.clear(n,t,r,s),this},h.default.prototype.colorMode=function(n,t,r,s,i){if(h.default._validateParameters("colorMode",arguments),n===l.RGB||n===l.HSB||n===l.HSL){this._colorMode=n;var c=this._colorMaxes[n];arguments.length===2?(c[0]=t,c[1]=t,c[2]=t,c[3]=t):arguments.length===4?(c[0]=t,c[1]=r,c[2]=s):arguments.length===5&&(c[0]=t,c[1]=r,c[2]=s,c[3]=i)}return this},h.default.prototype.fill=function(){var n;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(n=this._renderer).fill.apply(n,arguments),this},h.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},h.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},h.default.prototype.stroke=function(){var n;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(n=this._renderer).stroke.apply(n,arguments),this},h.default.prototype.erase=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255;return this._renderer.erase(n,t),this},h.default.prototype.noErase=function(){return this._renderer.noErase(),this};var u=h.default;v.default=u},{"../core/constants":253,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.fill":151}],253:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.BEZIER=v.QUADRATIC=v.LINEAR=v._CTX_MIDDLE=v._DEFAULT_LEADMULT=v._DEFAULT_TEXT_FILL=v.WORD=v.CHAR=v.BOLDITALIC=v.BOLD=v.ITALIC=v.NORMAL=v.BLUR=v.ERODE=v.DILATE=v.POSTERIZE=v.INVERT=v.OPAQUE=v.GRAY=v.THRESHOLD=v.BURN=v.DODGE=v.SOFT_LIGHT=v.HARD_LIGHT=v.OVERLAY=v.REPLACE=v.SCREEN=v.MULTIPLY=v.EXCLUSION=v.SUBTRACT=v.DIFFERENCE=v.LIGHTEST=v.DARKEST=v.ADD=v.REMOVE=v.BLEND=v.UP_ARROW=v.TAB=v.SHIFT=v.RIGHT_ARROW=v.RETURN=v.OPTION=v.LEFT_ARROW=v.ESCAPE=v.ENTER=v.DOWN_ARROW=v.DELETE=v.CONTROL=v.BACKSPACE=v.ALT=v.AUTO=v.HSL=v.HSB=v.RGB=v.MITER=v.BEVEL=v.ROUND=v.SQUARE=v.PROJECT=v.PIE=v.CHORD=v.OPEN=v.CLOSE=v.TESS=v.QUAD_STRIP=v.QUADS=v.TRIANGLE_STRIP=v.TRIANGLE_FAN=v.TRIANGLES=v.LINE_LOOP=v.LINE_STRIP=v.LINES=v.POINTS=v.BASELINE=v.BOTTOM=v.TOP=v.CENTER=v.LEFT=v.RIGHT=v.RADIUS=v.CORNERS=v.CORNER=v.RAD_TO_DEG=v.DEG_TO_RAD=v.RADIANS=v.DEGREES=v.TWO_PI=v.TAU=v.QUARTER_PI=v.PI=v.HALF_PI=v.WAIT=v.TEXT=v.MOVE=v.HAND=v.CROSS=v.ARROW=v.WEBGL=v.P2D=v.VERSION=void 0,v.FALLBACK=v.LABEL=v.AXES=v.GRID=v._DEFAULT_FILL=v._DEFAULT_STROKE=v.PORTRAIT=v.LANDSCAPE=v.MIRROR=v.CLAMP=v.REPEAT=v.NEAREST=v.IMAGE=v.IMMEDIATE=v.TEXTURE=v.FILL=v.STROKE=v.CURVE=void 0;var f=Math.PI;v.VERSION="1.4.2",v.P2D="p2d",v.WEBGL="webgl",v.ARROW="default",v.CROSS="crosshair",v.HAND="pointer",v.MOVE="move",v.TEXT="text",v.WAIT="wait";var o=f/2;v.HALF_PI=o;var h=f;v.PI=h;var l=f/4;v.QUARTER_PI=l;var d=2*f;v.TAU=d;var u=2*f;v.TWO_PI=u,v.DEGREES="degrees",v.RADIANS="radians";var n=f/180;v.DEG_TO_RAD=n;var t=180/f;v.RAD_TO_DEG=t,v.CORNER="corner",v.CORNERS="corners",v.RADIUS="radius",v.RIGHT="right",v.LEFT="left",v.CENTER="center",v.TOP="top",v.BOTTOM="bottom",v.BASELINE="alphabetic",v.POINTS=0,v.LINES=1,v.LINE_STRIP=3,v.LINE_LOOP=2,v.TRIANGLES=4,v.TRIANGLE_FAN=6,v.TRIANGLE_STRIP=5,v.QUADS="quads",v.QUAD_STRIP="quad_strip",v.TESS="tess",v.CLOSE="close",v.OPEN="open",v.CHORD="chord",v.PIE="pie",v.PROJECT="square",v.SQUARE="butt",v.ROUND="round",v.BEVEL="bevel",v.MITER="miter",v.RGB="rgb",v.HSB="hsb",v.HSL="hsl",v.AUTO="auto",v.ALT=18,v.BACKSPACE=8,v.CONTROL=17,v.DELETE=46,v.DOWN_ARROW=40,v.ENTER=13,v.ESCAPE=27,v.LEFT_ARROW=37,v.OPTION=18,v.RETURN=13,v.RIGHT_ARROW=39,v.SHIFT=16,v.TAB=9,v.UP_ARROW=38,v.BLEND="source-over",v.REMOVE="destination-out",v.ADD="lighter",v.DARKEST="darken",v.LIGHTEST="lighten",v.DIFFERENCE="difference",v.SUBTRACT="subtract",v.EXCLUSION="exclusion",v.MULTIPLY="multiply",v.SCREEN="screen",v.REPLACE="copy",v.OVERLAY="overlay",v.HARD_LIGHT="hard-light",v.SOFT_LIGHT="soft-light",v.DODGE="color-dodge",v.BURN="color-burn",v.THRESHOLD="threshold",v.GRAY="gray",v.OPAQUE="opaque",v.INVERT="invert",v.POSTERIZE="posterize",v.DILATE="dilate",v.ERODE="erode",v.BLUR="blur",v.NORMAL="normal",v.ITALIC="italic",v.BOLD="bold",v.BOLDITALIC="bold italic",v.CHAR="CHAR",v.WORD="WORD",v._DEFAULT_TEXT_FILL="#000000",v._DEFAULT_LEADMULT=1.25,v._CTX_MIDDLE="middle",v.LINEAR="linear",v.QUADRATIC="quadratic",v.BEZIER="bezier",v.CURVE="curve",v.STROKE="stroke",v.FILL="fill",v.TEXTURE="texture",v.IMMEDIATE="immediate",v.IMAGE="image",v.NEAREST="nearest",v.REPEAT="repeat",v.CLAMP="clamp",v.MIRROR="mirror",v.LANDSCAPE="landscape",v.PORTRAIT="portrait",v._DEFAULT_STROKE="#000000",v._DEFAULT_FILL="#FFFFFF",v.GRID="grid",v.AXES="axes",v.LABEL="label",v.FALLBACK="fallback"},{}],254:[function(e,x,v){function f(i){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("./main"))&&o.__esModule?o:{default:o},l=function(i){if(i&&i.__esModule)return i;if(i===null||f(i)!=="object"&&typeof i!="function")return{default:i};var c=d();if(c&&c.has(i))return c.get(i);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in i)if(Object.prototype.hasOwnProperty.call(i,w)){var S=g?Object.getOwnPropertyDescriptor(i,w):null;S&&(S.get||S.set)?Object.defineProperty(m,w,S):m[w]=i[w]}return m.default=i,c&&c.set(i,m),m}(e("./constants"));function d(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return d=function(){return i},i}var u=[l.ARROW,l.CROSS,l.HAND,l.MOVE,l.TEXT,l.WAIT];h.default.prototype._frameRate=0,h.default.prototype._lastFrameTime=window.performance.now(),h.default.prototype._targetFrameRate=60;var n=window.print;function t(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function r(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}h.default.prototype.print=function(){var i;arguments.length?(i=console).log.apply(i,arguments):n()},h.default.prototype.frameCount=0,h.default.prototype.deltaTime=0,h.default.prototype.focused=document.hasFocus(),h.default.prototype.cursor=function(i,c,m){var g="auto",w=this._curElement.elt;if(u.includes(i))g=i;else if(typeof i=="string"){var S="";c&&m&&typeof c=="number"&&typeof m=="number"&&(S="".concat(c," ").concat(m)),g=i.substring(0,7)==="http://"||i.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(i)?"url(".concat(i,") ").concat(S,", auto"):i}w.style.cursor=g},h.default.prototype.frameRate=function(i){return h.default._validateParameters("frameRate",arguments),typeof i!="number"||i<0?this._frameRate:(this._setProperty("_targetFrameRate",i),i===0&&this._setProperty("_frameRate",i),this)},h.default.prototype.getFrameRate=function(){return this.frameRate()},h.default.prototype.setFrameRate=function(i){return this.frameRate(i)},h.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},h.default.prototype.displayWidth=screen.width,h.default.prototype.displayHeight=screen.height,h.default.prototype.windowWidth=t(),h.default.prototype.windowHeight=r(),h.default.prototype._onresize=function(i){this._setProperty("windowWidth",t()),this._setProperty("windowHeight",r());var c,m=this._isGlobal?window:this;typeof m.windowResized=="function"&&((c=m.windowResized(i))===void 0||c||i.preventDefault())},h.default.prototype.width=0,h.default.prototype.height=0,h.default.prototype.fullscreen=function(i){if(h.default._validateParameters("fullscreen",arguments),i===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;i?function(c){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},h.default.prototype.pixelDensity=function(i){var c;return h.default._validateParameters("pixelDensity",arguments),typeof i=="number"?(i!==this._pixelDensity&&(this._pixelDensity=i),(c=this).resizeCanvas(this.width,this.height,!0)):c=this._pixelDensity,c},h.default.prototype.displayDensity=function(){return window.devicePixelRatio},h.default.prototype.getURL=function(){return location.href},h.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(i){return i!==""})},h.default.prototype.getURLParams=function(){for(var i,c=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,m={};(i=c.exec(location.search))!=null;)i.index===c.lastIndex&&c.lastIndex++,m[i[1]]=i[2];return m};var s=h.default;v.default=s},{"./constants":253,"./main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.includes":156,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191}],255:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../main"))&&f.__esModule?f:{default:f};e("../internationalization");var h=null,l=null;o.default._friendlyError=o.default._checkForUserDefinedFunctions=o.default._fesErrorMonitor=function(){},h=null;var d="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";l=function(){function t(s){return Object.getOwnPropertyNames(s).filter(function(i){return i[0]!=="_"&&!(i in r)&&(r[i]=!0)}).map(function(i){var c;return c=typeof s[i]=="function"?"function":i===i.toUpperCase()?"constant":"variable",{name:i,type:c}})}var r={};(h=[].concat(t(o.default.prototype),t(e("../constants")))).sort(function(s,i){return i.name.length-s.name.length})};function u(t,r){r=r||console.log.bind(console),h||l(),h.some(function(s){if(t.message&&t.message.match("\\W?".concat(s.name,"\\W"))!==null){var i=s.type==="function"?"".concat(s.name,"()"):s.name;return r("Did you just try to use p5.js's ".concat(i," ").concat(s.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(d)),!0}})}o.default.prototype._helpForMisusedAtTopLevelCode=u,document.readyState!=="complete"&&(window.addEventListener("error",u,!1),window.addEventListener("load",function(){window.removeEventListener("error",u,!1)}));var n=o.default;v.default=n},{"../constants":253,"../internationalization":262,"../main":264,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":166,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],256:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../main"))&&f.__esModule?f:{default:f};e("../internationalization"),o.default._friendlyFileLoadError=function(){};var h=o.default;v.default=h},{"../internationalization":262,"../main":264}],257:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.flat-map"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.unscopables.flat-map"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o=d(e("../main"));e("../internationalization"),l(e("../constants"));function h(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return h=function(){return n},n}function l(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=h();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}function d(n){return n&&n.__esModule?n:{default:n}}o.default._fesCodeReader=function(){};var u=o.default;v.default=u},{"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.flat-map":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.unscopables.flat-map":165,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],258:[function(e,x,v){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../main"))&&f.__esModule?f:{default:f};function h(){var d=/(^|@)\S+:\d+/,u=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(t){return t.stacktrace!==void 0||t["opera#sourceloc"]!==void 0?this.parseOpera(t):t.stack&&t.stack.match(u)?this.parseV8OrIE(t):t.stack?this.parseFFOrSafari(t):void 0},extractLocation:function(t){if(t.indexOf(":")===-1)return[t];var r=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return[r[1],r[2]||void 0,r[3]||void 0]},parseV8OrIE:function(t){return t.stack.split(`
`).filter(function(r){return!!r.match(u)},this).map(function(r){-1<r.indexOf("(eval ")&&(r=r.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var s=r.replace(/^\s+/,"").replace(/\(eval code/g,"("),i=s.match(/ (\((.+):(\d+):(\d+)\)$)/),c=(s=i?s.replace(i[0],""):s).split(/\s+/).slice(1),m=this.extractLocation(i?i[1]:c.pop());return{functionName:c.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(m[0])?void 0:m[0],lineNumber:m[1],columnNumber:m[2],source:r}},this)},parseFFOrSafari:function(t){return t.stack.split(`
`).filter(function(r){return!r.match(n)},this).map(function(r){if(-1<r.indexOf(" > eval")&&(r=r.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),r.indexOf("@")===-1&&r.indexOf(":")===-1)return{functionName:r};var s=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=r.match(s),c=i&&i[1]?i[1]:void 0,m=this.extractLocation(r.replace(s,""));return{functionName:c,fileName:m[0],lineNumber:m[1],columnNumber:m[2],source:r}},this)},parseOpera:function(t){return!t.stacktrace||-1<t.message.indexOf(`
`)&&t.message.split(`
`).length>t.stacktrace.split(`
`).length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,s=t.message.split(`
`),i=[],c=2,m=s.length;c<m;c+=2){var g=r.exec(s[c]);g&&i.push({fileName:g[2],lineNumber:g[1],source:s[c]})}return i},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=t.stacktrace.split(`
`),i=[],c=0,m=s.length;c<m;c+=2){var g=r.exec(s[c]);g&&i.push({functionName:g[3]||void 0,fileName:g[2],lineNumber:g[1],source:s[c]})}return i},parseOpera11:function(t){return t.stack.split(`
`).filter(function(r){return!!r.match(d)&&!r.match(/^Error created at/)},this).map(function(r){var s,i=r.split("@"),c=this.extractLocation(i.pop()),m=i.shift()||"",g=m.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return m.match(/\(([^)]*)\)/)&&(s=m.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:g,args:s===void 0||s==="[arguments not available]"?void 0:s.split(","),fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:r}},this)}}}o.default._getErrorStackParser=function(){return new h};var l=o.default;v.default=l},{"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],259:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../main"))&&f.__esModule?f:{default:f};(function(u){if(!(u&&u.__esModule)&&!(u===null||l(u)!=="object"&&typeof u!="function")){var n=h();if(n&&n.has(u))return n.get(u);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in u)if(Object.prototype.hasOwnProperty.call(u,s)){var i=r?Object.getOwnPropertyDescriptor(u,s):null;i&&(i.get||i.set)?Object.defineProperty(t,s,i):t[s]=u[s]}t.default=u,n&&n.set(u,t)}})(e("../constants")),e("../internationalization");function h(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return h=function(){return u},u}function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(u)}o.default._validateParameters=o.default._clearValidateParamsCache=function(){};var d=o.default;v.default=d},{"../../../docs/parameterData.json":void 0,"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.map":167,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],260:[function(e,x,v){function f(d){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o=function(d){if(d&&d.__esModule)return d;if(d===null||f(d)!=="object"&&typeof d!="function")return{default:d};var u=h();if(u&&u.has(d))return u.get(d);var n={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in d)if(Object.prototype.hasOwnProperty.call(d,r)){var s=t?Object.getOwnPropertyDescriptor(d,r):null;s&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=d[r]}return n.default=d,u&&u.set(d,n),n}(e("./constants"));function h(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return h=function(){return d},d}var l={modeAdjust:function(d,u,n,t,r){return r===o.CORNER?{x:d,y:u,w:n,h:t}:r===o.CORNERS?{x:d,y:u,w:n-d,h:t-u}:r===o.RADIUS?{x:d-n,y:u-t,w:2*n,h:2*t}:r===o.CENTER?{x:d-.5*n,y:u-.5*t,w:n,h:t}:void 0}};v.default=l},{"./constants":253}],261:[function(e,x,v){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};e("./internationalization");var h=Promise.resolve();Promise.all([new Promise(function(l,d){document.readyState==="complete"?l():window.addEventListener("load",l,!1)}),h]).then(function(){window._setupDone===void 0?window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!o.default.instance&&new o.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":264,"./internationalization":262,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":229}],262:[function(e,x,v){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.setTranslatorLanguage=v.currentTranslatorLanguage=v.availableTranslatorLanguages=v.initialize=v.translator=void 0;var f,o,h=d(e("i18next")),l=d(e("i18next-browser-languagedetector"));function d(r){return r&&r.__esModule?r:{default:r}}function u(r,s){for(var i=0;i<s.length;i++){var c=s[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(r,c.key,c)}}var n=function(){function r(c,m){(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,r),this.init(c,m)}var s,i;return s=r,(i=[{key:"fetchWithTimeout",value:function(c,m,g){var w=2<arguments.length&&g!==void 0?g:2e3;return Promise.race([fetch(c,m),new Promise(function(S,j){return setTimeout(function(){return j(new Error("timeout"))},w)})])}},{key:"init",value:function(c,m){var g=1<arguments.length&&m!==void 0?m:{};this.services=c,this.options=g}},{key:"read",value:function(c,m,g){var w=this.options.loadPath;if(c===this.options.fallback)g(null,f[c][m]);else if(o.includes(c)){var S=this.services.interpolator.interpolate(w,{lng:c,ns:m});this.loadUrl(S,g)}else g("Not found",!1)}},{key:"loadUrl",value:function(c,m){this.fetchWithTimeout(c).then(function(g){if(!g.ok)throw new Error("failed loading ".concat(c));return g.json()},function(){throw new Error("failed loading ".concat(c))}).then(function(g){return m(null,g)}).catch(m)}}])&&u(s.prototype,i),r}();n.type="backend";var t=function(r,s){console.debug("p5.js translator called before translations were loaded"),h.default.t(r,s)};v.translator=t,v.initialize=function(){return h.default.use(l.default).use(n).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:f}).then(function(r){v.translator=t=r},function(r){return console.debug("Translations failed to load (".concat(r,")"))})},v.availableTranslatorLanguages=function(){return h.default.languages},v.currentTranslatorLanguage=function(){return h.default.language},v.setTranslatorLanguage=function(r){return h.default.changeLanguage(r||void 0,function(s){return console.debug("Translations failed to load (".concat(s,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":229,i18next:3,"i18next-browser-languagedetector":3}],263:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("./main"))&&f.__esModule?f:{default:f};o.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var h=o.default;v.default=h},{"./main":264}],264:[function(e,x,v){function f(t){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0,e("./shim");var o=function(t){if(t&&t.__esModule)return t;if(t===null||f(t)!=="object"&&typeof t!="function")return{default:t};var r=h();if(r&&r.has(t))return r.get(t);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var m=i?Object.getOwnPropertyDescriptor(t,c):null;m&&(m.get||m.set)?Object.defineProperty(s,c,m):s[c]=t[c]}return s.default=t,r&&r.set(t,s),s}(e("./constants"));function h(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return h=function(){return t},t}function l(t,r){for(var s=0;s<r.length;s++){var i=r[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=function(){function t(i,c,m){var g=this;(function(J,ue){if(!(J instanceof ue))throw new TypeError("Cannot call a class as a function")})(this,t),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=c,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var w=Object.getOwnPropertyNames(t.prototype._registeredMethods),S=!0,j=!1,T=void 0;try{for(var L,D=w[Symbol.iterator]();!(S=(L=D.next()).done);S=!0){var R=L.value;this._registeredMethods[R]=t.prototype._registeredMethods[R].slice()}}catch(J){j=!0,T=J}finally{try{S||D.return==null||D.return()}finally{if(j)throw T}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){g._userNode&&typeof g._userNode=="string"&&(g._userNode=document.getElementById(g._userNode));var J=g._isGlobal?window:g;if(J.preload){var ue=document.getElementById(g._loadingScreenId);ue||((ue=document.createElement("div")).innerHTML="Loading...",ue.style.position="absolute",ue.id=g._loadingScreenId,(g._userNode||document.body).appendChild(ue));var me=g._preloadMethods;for(var _e in me){me[_e]=me[_e]||t;var he=me[_e];he!==t.prototype&&he!==t||(g._isGlobal&&(window[_e]=g._wrapPreload(g,_e)),he=g),g._registeredPreloadMethods[_e]=he[_e],he[_e]=g._wrapPreload(he,_e)}J.preload(),g._runIfPreloadsAreDone()}else g._setup(),g._draw()},this._runIfPreloadsAreDone=function(){var J=this._isGlobal?window:this;if(J._preloadCount===0){var ue=document.getElementById(J._loadingScreenId);ue&&ue.parentNode.removeChild(ue),this._setupDone||(this._lastFrameTime=window.performance.now(),J._setup(),J._draw())}},this._decrementPreload=function(){var J=this._isGlobal?window:this;typeof J.preload=="function"&&(J._setProperty("_preloadCount",J._preloadCount-1),J._runIfPreloadsAreDone())},this._wrapPreload=function(J,ue){var me=this;return function(){me._incrementPreload();for(var _e=arguments.length,he=new Array(_e),Re=0;Re<_e;Re++)he[Re]=arguments[Re];return me._registeredPreloadMethods[ue].apply(J,he)}},this._incrementPreload=function(){var J=this._isGlobal?window:this;J._setProperty("_preloadCount",J._preloadCount+1)},this._setup=function(){g.createCanvas(g._defaultCanvasSize.width,g._defaultCanvasSize.height,"p2d");var J=g._isGlobal?window:g;if(typeof J.preload=="function")for(var ue in g._preloadMethods)J[ue]=g._preloadMethods[ue][ue],J[ue]&&g&&(J[ue]=J[ue].bind(g));g._millisStart=window.performance.now(),typeof J.setup=="function"&&J.setup();var me=document.getElementsByTagName("canvas"),_e=!0,he=!1,Re=void 0;try{for(var ve,ye=me[Symbol.iterator]();!(_e=(ve=ye.next()).done);_e=!0){var k=ve.value;k.dataset.hidden==="true"&&(k.style.visibility="",delete k.dataset.hidden)}}catch(F){he=!0,Re=F}finally{try{_e||ye.return==null||ye.return()}finally{if(he)throw Re}}g._lastFrameTime=window.performance.now(),g._setupDone=!0,(g._accessibleOutputs.grid||g._accessibleOutputs.text)&&g._updateAccsOutput()},this._draw=function(){var J=window.performance.now(),ue=J-g._lastFrameTime,me=1e3/g._targetFrameRate;(!g._loop||me-5<=ue)&&(g.redraw(),g._frameRate=1e3/(J-g._lastFrameTime),g.deltaTime=J-g._lastFrameTime,g._setProperty("deltaTime",g.deltaTime),g._lastFrameTime=J,g._updateMouseCoords!==void 0&&(g._updateMouseCoords(),g._setProperty("movedX",0),g._setProperty("movedY",0))),g._loop&&(g._requestAnimId=window.requestAnimationFrame(g._draw))},this._setProperty=function(J,ue){g[J]=ue,g._isGlobal&&(window[J]=ue)},this.remove=function(){var J=document.getElementById(g._loadingScreenId);if(J&&(J.parentNode.removeChild(J),g._incrementPreload()),g._curElement){for(var ue in g._loop=!1,g._requestAnimId&&window.cancelAnimationFrame(g._requestAnimId),g._events)window.removeEventListener(ue,g._events[ue]);var me=!0,_e=!1,he=void 0;try{for(var Re,ve=g._elements[Symbol.iterator]();!(me=(Re=ve.next()).done);me=!0){var ye=Re.value;for(var k in ye.elt&&ye.elt.parentNode&&ye.elt.parentNode.removeChild(ye.elt),ye._events)ye.elt.removeEventListener(k,ye._events[k])}}catch(oe){_e=!0,he=oe}finally{try{me||ve.return==null||ve.return()}finally{if(_e)throw he}}var F=g;g._registeredMethods.remove.forEach(function(oe){oe!==void 0&&oe.call(F)})}if(g._isGlobal){for(var H in t.prototype)try{delete window[H]}catch{window[H]=void 0}for(var Z in g)if(g.hasOwnProperty(Z))try{delete window[Z]}catch{window[Z]=void 0}t.instance=null}},this._registeredMethods.init.forEach(function(J){J!==void 0&&J.call(this)},this),this._setupPromisePreloads();var O=this._createFriendlyGlobalFunctionBinder();if(i)i(this),t._checkForUserDefinedFunctions(this);else{for(var U in this._isGlobal=!0,t.instance=this,t.prototype)if(typeof t.prototype[U]=="function"){var P=U.substring(2);this._events.hasOwnProperty(P)||(Math.hasOwnProperty(U)&&Math[U]===t.prototype[U]?O(U,t.prototype[U]):O(U,t.prototype[U].bind(this)))}else O(U,t.prototype[U]);for(var G in this)this.hasOwnProperty(G)&&O(G,this[G])}for(var V in this._events){var te=this["_on".concat(V)];if(te){var ne=te.bind(this);window.addEventListener(V,ne,{passive:!1}),this._events[V]=ne}}function K(){g._setProperty("focused",!0)}function se(){g._setProperty("focused",!1)}window.addEventListener("focus",K),window.addEventListener("blur",se),this.registerMethod("remove",function(){window.removeEventListener("focus",K),window.removeEventListener("blur",se)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var r,s;return r=t,(s=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=o.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(i,c){t.prototype._preloadMethods.hasOwnProperty(i)||(t.prototype._preloadMethods[i]=c)}},{key:"registerMethod",value:function(i,c){var m=this||t.prototype;m._registeredMethods.hasOwnProperty(i)||(m._registeredMethods[i]=[]),m._registeredMethods[i].push(c)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(i){var c=0<arguments.length&&i!==void 0?i:{},m=c.globalObject||window;return c.log||console.log.bind(console),function(g,w){m[g]=w}}}])&&l(r.prototype,s),t}();for(var u in d.instance=null,d.disableFriendlyErrors=!1,o)d.prototype[u]=o[u];d.VERSION=o.VERSION,d.prototype._preloadMethods={loadJSON:d.prototype,loadImage:d.prototype,loadStrings:d.prototype,loadXML:d.prototype,loadBytes:d.prototype,loadTable:d.prototype,loadFont:d.prototype,loadModel:d.prototype,loadShader:d.prototype},d.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},d.prototype._registeredPreloadMethods={};var n=d;v.default=n},{"./constants":253,"./shim":275,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],265:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("./main"))&&f.__esModule?f:{default:f};o.default.Element=function(l,d){this.elt=l,this._pInst=this._pixelsState=d,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},o.default.Element.prototype.parent=function(l){return l===void 0?this.elt.parentNode:(typeof l=="string"?(l[0]==="#"&&(l=l.substring(1)),l=document.getElementById(l)):l instanceof o.default.Element&&(l=l.elt),l.appendChild(this.elt),this)},o.default.Element.prototype.id=function(l){return l===void 0?this.elt.id:(this.elt.id=l,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},o.default.Element.prototype.class=function(l){return l===void 0?this.elt.className:(this.elt.className=l,this)},o.default.Element.prototype.mousePressed=function(l){return o.default.Element._adjustListener("mousedown",function(d){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(d),l.call(this,d)},this),this},o.default.Element.prototype.doubleClicked=function(l){return o.default.Element._adjustListener("dblclick",l,this),this},o.default.Element.prototype.mouseWheel=function(l){return o.default.Element._adjustListener("wheel",l,this),this},o.default.Element.prototype.mouseReleased=function(l){return o.default.Element._adjustListener("mouseup",l,this),this},o.default.Element.prototype.mouseClicked=function(l){return o.default.Element._adjustListener("click",l,this),this},o.default.Element.prototype.mouseMoved=function(l){return o.default.Element._adjustListener("mousemove",l,this),this},o.default.Element.prototype.mouseOver=function(l){return o.default.Element._adjustListener("mouseover",l,this),this},o.default.Element.prototype.mouseOut=function(l){return o.default.Element._adjustListener("mouseout",l,this),this},o.default.Element.prototype.touchStarted=function(l){return o.default.Element._adjustListener("touchstart",l,this),this},o.default.Element.prototype.touchMoved=function(l){return o.default.Element._adjustListener("touchmove",l,this),this},o.default.Element.prototype.touchEnded=function(l){return o.default.Element._adjustListener("touchend",l,this),this},o.default.Element.prototype.dragOver=function(l){return o.default.Element._adjustListener("dragover",l,this),this},o.default.Element.prototype.dragLeave=function(l){return o.default.Element._adjustListener("dragleave",l,this),this},o.default.Element._adjustListener=function(l,d,u){return d===!1?o.default.Element._detachListener(l,u):o.default.Element._attachListener(l,d,u),this},o.default.Element._attachListener=function(l,d,u){u._events[l]&&o.default.Element._detachListener(l,u);var n=d.bind(u);u.elt.addEventListener(l,n,!1),u._events[l]=n},o.default.Element._detachListener=function(l,d){var u=d._events[l];d.elt.removeEventListener(l,u,!1),d._events[l]=null},o.default.Element.prototype._setProperty=function(l,d){this[l]=d};var h=o.default.Element;v.default=h},{"./main":264}],266:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("./main"))&&o.__esModule?o:{default:o},l=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=d();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}(e("./constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}h.default.Graphics=function(n,t,r,s){var i=r||l.P2D;this.canvas=document.createElement("canvas");var c=s._userNode||document.body;for(var m in c.appendChild(this.canvas),h.default.Element.call(this,this.canvas,s),h.default.prototype)this[m]||(typeof h.default.prototype[m]=="function"?this[m]=h.default.prototype[m].bind(this):this[m]=h.default.prototype[m]);return h.default.prototype._initializeInstanceVariables.apply(this),this.width=n,this.height=t,this._pixelDensity=s._pixelDensity,i===l.WEBGL?this._renderer=new h.default.RendererGL(this.canvas,this,!1):this._renderer=new h.default.Renderer2D(this.canvas,this,!1),s._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(n,t),this._renderer._applyDefaults(),this},h.default.Graphics.prototype=Object.create(h.default.Element.prototype),h.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},h.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var n=this._pInst._elements.indexOf(this);for(var t in n!==-1&&this._pInst._elements.splice(n,1),this._events)this.elt.removeEventListener(t,this._events[t])};var u=h.default.Graphics;v.default=u},{"./constants":253,"./main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.splice":164}],267:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("./main"))&&f.__esModule?f:{default:f},h=function(t){if(t&&t.__esModule)return t;if(t===null||d(t)!=="object"&&typeof t!="function")return{default:t};var r=l();if(r&&r.has(t))return r.get(t);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var m=i?Object.getOwnPropertyDescriptor(t,c):null;m&&(m.get||m.set)?Object.defineProperty(s,c,m):s[c]=t[c]}return s.default=t,r&&r.set(t,s),s}(e("../core/constants"));function l(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return l=function(){return t},t}function d(t){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function u(t){var r=0,s=0;if(t.offsetParent)for(;r+=t.offsetLeft,s+=t.offsetTop,t=t.offsetParent;);else r+=t.offsetLeft,s+=t.offsetTop;return[r,s]}o.default.Renderer=function(t,r,s){o.default.Element.call(this,t,r),this.canvas=t,this._pixelsState=r,s?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=h.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=h.LEFT,this._textBaseline=h.BASELINE,this._textWrap=h.WORD,this._rectMode=h.CORNER,this._ellipseMode=h.CENTER,this._curveTightness=0,this._imageMode=h.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},o.default.Renderer.prototype=Object.create(o.default.Element.prototype),o.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},o.default.Renderer.prototype.pop=function(t){t.properties&&Object.assign(this,t.properties)},o.default.Renderer.prototype.resize=function(t,r){this.width=t,this.height=r,this.elt.width=t*this._pInst._pixelDensity,this.elt.height=r*this._pInst._pixelDensity,this.elt.style.width="".concat(t,"px"),this.elt.style.height="".concat(r,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},o.default.Renderer.prototype.get=function(t,r,s,i){var c=this._pixelsState,m=c._pixelDensity,g=this.canvas;if(t===void 0&&r===void 0)t=r=0,s=c.width,i=c.height;else if(t*=m,r*=m,s===void 0&&i===void 0)return t<0||r<0||t>=g.width||r>=g.height?[0,0,0,0]:this._getPixel(t,r);var w=new o.default.Image(s,i);return w.canvas.getContext("2d").drawImage(g,t,r,s*m,i*m,0,0,s,i),w},o.default.Renderer.prototype.textLeading=function(t){return typeof t=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",t),this._pInst):this._textLeading},o.default.Renderer.prototype.textSize=function(t){return typeof t=="number"?(this._setProperty("_textSize",t),this._leadingSet||this._setProperty("_textLeading",t*h._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},o.default.Renderer.prototype.textStyle=function(t){return t?(t!==h.NORMAL&&t!==h.ITALIC&&t!==h.BOLD&&t!==h.BOLDITALIC||this._setProperty("_textStyle",t),this._applyTextProperties()):this._textStyle},o.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},o.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},o.default.Renderer.prototype.textAlign=function(t,r){return t!==void 0?(this._setProperty("_textAlign",t),r!==void 0&&this._setProperty("_textBaseline",r),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},o.default.Renderer.prototype.textWrap=function(t){return this._setProperty("_textWrap",t),this._textWrap},o.default.Renderer.prototype.text=function(t,r,s,i,c){var m,g,w,S,j,T,L,D=this._pInst,R=this._textWrap,O=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&t!==void 0){if(typeof t!="string"&&(t=t.toString()),m=(t=t.replace(/(\t)/g,"  ")).split(`
`),i!==void 0){switch(this._rectMode===h.CENTER&&(r-=i/2),this._textAlign){case h.CENTER:r+=i/2;break;case h.RIGHT:r+=i}var U=!1;if(c!==void 0){switch(this._rectMode===h.CENTER&&(s-=c/2),this._textBaseline){case h.BOTTOM:L=s+c,s=Math.max(L,s);break;case h.CENTER:L=s+c/2,s=Math.max(L,s);break;case h.BASELINE:U=!0,this._textBaseline=h.TOP}O=s+c-D.textAscent()}if(R===h.WORD){for(var P=[],G=0;G<m.length;G++){g="",j=m[G].split(" ");for(var V=0;V<j.length;V++)w="".concat(g+j[V])+" ",g=i<(S=this.textWidth(w))&&0<g.length?(P.push(g),"".concat(j[V])+" "):w;P.push(g)}var te=0,ne=D.textAlign().vertical;ne===h.CENTER?te=(P.length-1)*D.textLeading()/2:ne===h.BOTTOM&&(te=(P.length-1)*D.textLeading());for(var K=0;K<m.length;K++){g="",j=m[K].split(" ");for(var se=0;se<j.length;se++)w="".concat(g+j[se])+" ",i<(S=this.textWidth(w))&&0<g.length?(this._renderText(D,g.trim(),r,s-te,O),g="".concat(j[se])+" ",s+=D.textLeading()):g=w;this._renderText(D,g.trim(),r,s-te,O),s+=D.textLeading(),U&&(this._textBaseline=h.BASELINE)}}else{for(var J=[],ue=0;ue<m.length;ue++){g="",T=m[ue].split("");for(var me=0;me<T.length;me++)w="".concat(g+T[me]),(S=this.textWidth(w))<=i?g+=T[me]:i<S&&0<g.length&&(J.push(g),g="".concat(T[me]))}J.push(g);var _e=0,he=D.textAlign().vertical;he===h.CENTER?_e=(J.length-1)*D.textLeading()/2:he===h.BOTTOM&&(_e=(J.length-1)*D.textLeading());for(var Re=0;Re<m.length;Re++){g="",T=m[Re].split("");for(var ve=0;ve<T.length;ve++)w="".concat(g+T[ve]),(S=this.textWidth(w))<=i?g+=T[ve]:i<S&&0<g.length&&(this._renderText(D,g.trim(),r,s-_e,O),s+=D.textLeading(),g="".concat(T[ve]))}this._renderText(D,g.trim(),r,s-_e,O),s+=D.textLeading(),U&&(this._textBaseline=h.BASELINE)}}else{var ye=0,k=D.textAlign().vertical;k===h.CENTER?ye=(m.length-1)*D.textLeading()/2:k===h.BOTTOM&&(ye=(m.length-1)*D.textLeading());for(var F=0;F<m.length;F++)this._renderText(D,m[F],r,s-ye,O),s+=D.textLeading()}return D}},o.default.Renderer.prototype._applyDefaults=function(){return this},o.default.Renderer.prototype._isOpenType=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return d(t)==="object"&&t.font&&t.font.supported},o.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var t=document.createElement("span");t.style.fontFamily=this._textFont,t.style.fontSize="".concat(this._textSize,"px"),t.innerHTML="ABCjgq|";var r=document.createElement("div");r.style.display="inline-block",r.style.width="1px",r.style.height="0px";var s=document.createElement("div");s.appendChild(t),s.appendChild(r),s.style.height="0px",s.style.overflow="hidden",document.body.appendChild(s),r.style.verticalAlign="baseline";var i=u(r),c=u(t),m=i[1]-c[1];r.style.verticalAlign="bottom",i=u(r),c=u(t);var g=i[1]-c[1]-m;return document.body.removeChild(s),this._setProperty("_textAscent",m),this._setProperty("_textDescent",g),this};var n=o.default.Renderer;v.default=n},{"../core/constants":253,"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],268:[function(e,x,v){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o=u(e("./main")),h=function(r){if(r&&r.__esModule)return r;if(r===null||f(r)!=="object"&&typeof r!="function")return{default:r};var s=d();if(s&&s.has(r))return s.get(r);var i={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in r)if(Object.prototype.hasOwnProperty.call(r,m)){var g=c?Object.getOwnPropertyDescriptor(r,m):null;g&&(g.get||g.set)?Object.defineProperty(i,m,g):i[m]=r[m]}return i.default=r,s&&s.set(r,i),i}(e("./constants")),l=u(e("../image/filters"));function d(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return d=function(){return r},r}function u(r){return r&&r.__esModule?r:{default:r}}e("./p5.Renderer");var n="rgba(0,0,0,0)";o.default.Renderer2D=function(r,s,i){return o.default.Renderer.call(this,r,s,i),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},o.default.Renderer2D.prototype=Object.create(o.default.Renderer.prototype),o.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=h.BLEND,this._setFill(h._DEFAULT_FILL),this._setStroke(h._DEFAULT_STROKE),this.drawingContext.lineCap=h.ROUND,this.drawingContext.font="normal 12px sans-serif"},o.default.Renderer2D.prototype.resize=function(r,s){o.default.Renderer.prototype.resize.call(this,r,s),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},o.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof o.default.Image)if(0<=(arguments.length<=1?void 0:arguments[1])){var r=arguments.length<=0?void 0:arguments[0];this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(r,0,0,this.width,this.height)}else this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var s,i=this._getFill(),c=(s=this._pInst).color.apply(s,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(c.levels);var m=c.toString();this._setFill(m),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(i),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},o.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},o.default.Renderer2D.prototype.fill=function(){var r,s=(r=this._pInst).color.apply(r,arguments);this._setFill(s.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",s.levels)},o.default.Renderer2D.prototype.stroke=function(){var r,s=(r=this._pInst).color.apply(r,arguments);this._setStroke(s.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",s.levels)},o.default.Renderer2D.prototype.erase=function(r,s){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var i=this._pInst.color(255,r).toString();this.drawingContext.fillStyle=i,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var c=this._pInst.color(255,s).toString();this.drawingContext.strokeStyle=c;var m=this._cachedBlendMode;this.blendMode(h.REMOVE),this._cachedBlendMode=m,this._isErasing=!0}},o.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},o.default.Renderer2D.prototype.image=function(r,s,i,c,m,g,w,S,j){var T;r.gifProperties&&r._animateGif(this._pInst);try{this._tint&&(o.default.MediaElement&&r instanceof o.default.MediaElement&&r.loadPixels(),r.canvas&&(T=this._getTintedImageCanvas(r))),T=T||r.canvas||r.elt;var L=1;r.width&&0<r.width&&(L=T.width/r.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(T,L*s,L*i,L*c,L*m,g,w,S,j),this._isErasing&&this._pInst.erase()}catch(D){if(D.name!=="NS_ERROR_NOT_AVAILABLE")throw D}},o.default.Renderer2D.prototype._getTintedImageCanvas=function(r){if(!r.canvas)return r;var s=l.default._toPixels(r.canvas),i=document.createElement("canvas");i.width=r.canvas.width,i.height=r.canvas.height;for(var c=i.getContext("2d"),m=c.createImageData(r.canvas.width,r.canvas.height),g=m.data,w=0;w<s.length;w+=4){var S=s[w],j=s[w+1],T=s[w+2],L=s[w+3];g[w]=S*this._tint[0]/255,g[w+1]=j*this._tint[1]/255,g[w+2]=T*this._tint[2]/255,g[w+3]=L*this._tint[3]/255}return c.putImageData(m,0,0),i},o.default.Renderer2D.prototype.blendMode=function(r){if(r===h.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(r!==h.BLEND&&r!==h.REMOVE&&r!==h.DARKEST&&r!==h.LIGHTEST&&r!==h.DIFFERENCE&&r!==h.MULTIPLY&&r!==h.EXCLUSION&&r!==h.SCREEN&&r!==h.REPLACE&&r!==h.OVERLAY&&r!==h.HARD_LIGHT&&r!==h.SOFT_LIGHT&&r!==h.DODGE&&r!==h.BURN&&r!==h.ADD)throw new Error("Mode ".concat(r," not recognized."));this._cachedBlendMode=r,this.drawingContext.globalCompositeOperation=r}},o.default.Renderer2D.prototype.blend=function(){for(var r=this.drawingContext.globalCompositeOperation,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];var m=i[i.length-1],g=Array.prototype.slice.call(i,0,i.length-1);this.drawingContext.globalCompositeOperation=m,o.default.prototype.copy.apply(this,g),this.drawingContext.globalCompositeOperation=r},o.default.Renderer2D.prototype._getPixel=function(r,s){var i;return[(i=this.drawingContext.getImageData(r,s,1,1).data)[0],i[1],i[2],i[3]]},o.default.Renderer2D.prototype.loadPixels=function(){var r=this._pixelsState,s=r._pixelDensity,i=this.width*s,c=this.height*s,m=this.drawingContext.getImageData(0,0,i,c);r._setProperty("imageData",m),r._setProperty("pixels",m.data)},o.default.Renderer2D.prototype.set=function(r,s,i){r=Math.floor(r),s=Math.floor(s);var c=this._pixelsState;if(i instanceof o.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(c._pixelDensity,c._pixelDensity),this.drawingContext.clearRect(r,s,i.width,i.height),this.drawingContext.drawImage(i.canvas,r,s),this.drawingContext.restore();else{var m=0,g=0,w=0,S=0,j=4*(s*c._pixelDensity*(this.width*c._pixelDensity)+r*c._pixelDensity);if(c.imageData||c.loadPixels.call(c),typeof i=="number")j<c.pixels.length&&(w=g=m=i,S=255);else if(i instanceof Array){if(i.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");j<c.pixels.length&&(m=i[0],g=i[1],w=i[2],S=i[3])}else i instanceof o.default.Color&&j<c.pixels.length&&(m=i.levels[0],g=i.levels[1],w=i.levels[2],S=i.levels[3]);for(var T=0;T<c._pixelDensity;T++)for(var L=0;L<c._pixelDensity;L++)j=4*((s*c._pixelDensity+L)*this.width*c._pixelDensity+(r*c._pixelDensity+T)),c.pixels[j]=m,c.pixels[j+1]=g,c.pixels[j+2]=w,c.pixels[j+3]=S}},o.default.Renderer2D.prototype.updatePixels=function(r,s,i,c){var m=this._pixelsState,g=m._pixelDensity;r===void 0&&s===void 0&&i===void 0&&c===void 0&&(s=r=0,i=this.width,c=this.height),r*=g,s*=g,i*=g,c*=g,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=m.imageData),this.drawingContext.putImageData(m.imageData,r,s,0,0,i,c)},o.default.Renderer2D.prototype._acuteArcToBezier=function(r,s){var i=s/2,c=Math.cos(i),m=Math.sin(i),g=1/Math.tan(i),w=r+i,S=Math.cos(w),j=Math.sin(w),T=(4-c)/3,L=m+(c-T)*g;return{ax:Math.cos(r).toFixed(7),ay:Math.sin(r).toFixed(7),bx:(T*S+L*j).toFixed(7),by:(T*j-L*S).toFixed(7),cx:(T*S-L*j).toFixed(7),cy:(T*j+L*S).toFixed(7),dx:Math.cos(r+s).toFixed(7),dy:Math.sin(r+s).toFixed(7)}},o.default.Renderer2D.prototype.arc=function(r,s,i,c,m,g,w){var S=this.drawingContext,j=i/2,T=c/2,L=0,D=[];for(r+=j,s+=T;1e-5<=g-m;)L=Math.min(g-m,h.HALF_PI),D.push(this._acuteArcToBezier(m,L)),m+=L;return this._doFill&&(S.beginPath(),D.forEach(function(R,O){O===0&&S.moveTo(r+R.ax*j,s+R.ay*T),S.bezierCurveTo(r+R.bx*j,s+R.by*T,r+R.cx*j,s+R.cy*T,r+R.dx*j,s+R.dy*T)}),w!==h.PIE&&w!=null||S.lineTo(r,s),S.closePath(),S.fill()),this._doStroke&&(S.beginPath(),D.forEach(function(R,O){O===0&&S.moveTo(r+R.ax*j,s+R.ay*T),S.bezierCurveTo(r+R.bx*j,s+R.by*T,r+R.cx*j,s+R.cy*T,r+R.dx*j,s+R.dy*T)}),w===h.PIE?(S.lineTo(r,s),S.closePath()):w===h.CHORD&&S.closePath(),S.stroke()),this},o.default.Renderer2D.prototype.ellipse=function(r){var s=this.drawingContext,i=this._doFill,c=this._doStroke,m=parseFloat(r[0]),g=parseFloat(r[1]),w=parseFloat(r[2]),S=parseFloat(r[3]);if(i&&!c){if(this._getFill()===n)return this}else if(!i&&c&&this._getStroke()===n)return this;var j=w/2*.5522847498,T=S/2*.5522847498,L=m+w,D=g+S,R=m+w/2,O=g+S/2;s.beginPath(),s.moveTo(m,O),s.bezierCurveTo(m,O-T,R-j,g,R,g),s.bezierCurveTo(R+j,g,L,O-T,L,O),s.bezierCurveTo(L,O+T,R+j,D,R,D),s.bezierCurveTo(R-j,D,m,O+T,m,O),i&&s.fill(),c&&s.stroke()},o.default.Renderer2D.prototype.line=function(r,s,i,c){var m=this.drawingContext;return this._doStroke&&(this._getStroke()===n||(m.beginPath(),m.moveTo(r,s),m.lineTo(i,c),m.stroke())),this},o.default.Renderer2D.prototype.point=function(r,s){var i=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===n)return this;var c=this._getStroke(),m=this._getFill();this._setFill(c),i.beginPath(),i.arc(r,s,i.lineWidth/2,0,h.TWO_PI,!1),i.fill(),this._setFill(m)},o.default.Renderer2D.prototype.quad=function(r,s,i,c,m,g,w,S){var j=this.drawingContext,T=this._doFill,L=this._doStroke;if(T&&!L){if(this._getFill()===n)return this}else if(!T&&L&&this._getStroke()===n)return this;return j.beginPath(),j.moveTo(r,s),j.lineTo(i,c),j.lineTo(m,g),j.lineTo(w,S),j.closePath(),T&&j.fill(),L&&j.stroke(),this},o.default.Renderer2D.prototype.rect=function(r){var s=r[0],i=r[1],c=r[2],m=r[3],g=r[4],w=r[5],S=r[6],j=r[7],T=this.drawingContext,L=this._doFill,D=this._doStroke;if(L&&!D){if(this._getFill()===n)return this}else if(!L&&D&&this._getStroke()===n)return this;if(T.beginPath(),g===void 0)T.rect(s,i,c,m);else{w===void 0&&(w=g),S===void 0&&(S=w),j===void 0&&(j=S);var R=Math.abs(c),O=Math.abs(m),U=R/2,P=O/2;R<2*g&&(g=U),O<2*g&&(g=P),R<2*w&&(w=U),O<2*w&&(w=P),R<2*S&&(S=U),O<2*S&&(S=P),R<2*j&&(j=U),O<2*j&&(j=P),T.beginPath(),T.moveTo(s+g,i),T.arcTo(s+c,i,s+c,i+m,w),T.arcTo(s+c,i+m,s,i+m,S),T.arcTo(s,i+m,s,i,j),T.arcTo(s,i,s+c,i,g),T.closePath()}return this._doFill&&T.fill(),this._doStroke&&T.stroke(),this},o.default.Renderer2D.prototype.triangle=function(r){var s=this.drawingContext,i=this._doFill,c=this._doStroke,m=r[0],g=r[1],w=r[2],S=r[3],j=r[4],T=r[5];if(i&&!c){if(this._getFill()===n)return this}else if(!i&&c&&this._getStroke()===n)return this;s.beginPath(),s.moveTo(m,g),s.lineTo(w,S),s.lineTo(j,T),s.closePath(),i&&s.fill(),c&&s.stroke()},o.default.Renderer2D.prototype.endShape=function(r,s,i,c,m,g,w){if(s.length===0)return this;if(!this._doStroke&&!this._doFill)return this;var S,j,T,L=r===h.CLOSE;L&&!g&&s.push(s[0]);var D=s.length;if(!i||w!==h.POLYGON&&w!==null)if(!c||w!==h.POLYGON&&w!==null)if(!m||w!==h.POLYGON&&w!==null)if(w===h.POINTS)for(j=0;j<D;j++)S=s[j],this._doStroke&&this._pInst.stroke(S[6]),this._pInst.point(S[0],S[1]);else if(w===h.LINES)for(j=0;j+1<D;j+=2)S=s[j],this._doStroke&&this._pInst.stroke(s[j+1][6]),this._pInst.line(S[0],S[1],s[j+1][0],s[j+1][1]);else if(w===h.TRIANGLES)for(j=0;j+2<D;j+=3)S=s[j],this.drawingContext.beginPath(),this.drawingContext.moveTo(S[0],S[1]),this.drawingContext.lineTo(s[j+1][0],s[j+1][1]),this.drawingContext.lineTo(s[j+2][0],s[j+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(s[j+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(s[j+2][6]),this.drawingContext.stroke());else if(w===h.TRIANGLE_STRIP)for(j=0;j+1<D;j++)S=s[j],this.drawingContext.beginPath(),this.drawingContext.moveTo(s[j+1][0],s[j+1][1]),this.drawingContext.lineTo(S[0],S[1]),this._doStroke&&this._pInst.stroke(s[j+1][6]),this._doFill&&this._pInst.fill(s[j+1][5]),j+2<D&&(this.drawingContext.lineTo(s[j+2][0],s[j+2][1]),this._doStroke&&this._pInst.stroke(s[j+2][6]),this._doFill&&this._pInst.fill(s[j+2][5])),this._doFillStrokeClose(L);else if(w===h.TRIANGLE_FAN){if(2<D){for(this.drawingContext.beginPath(),j=2;j<D;j++)S=s[j],this.drawingContext.moveTo(s[0][0],s[0][1]),this.drawingContext.lineTo(s[j-1][0],s[j-1][1]),this.drawingContext.lineTo(S[0],S[1]),this.drawingContext.lineTo(s[0][0],s[0][1]),j<D-1&&(this._doFill&&S[5]!==s[j+1][5]||this._doStroke&&S[6]!==s[j+1][6])&&(this._doFill&&(this._pInst.fill(S[5]),this.drawingContext.fill(),this._pInst.fill(s[j+1][5])),this._doStroke&&(this._pInst.stroke(S[6]),this.drawingContext.stroke(),this._pInst.stroke(s[j+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(L)}}else if(w===h.QUADS)for(j=0;j+3<D;j+=4){for(S=s[j],this.drawingContext.beginPath(),this.drawingContext.moveTo(S[0],S[1]),T=1;T<4;T++)this.drawingContext.lineTo(s[j+T][0],s[j+T][1]);this.drawingContext.lineTo(S[0],S[1]),this._doFill&&this._pInst.fill(s[j+3][5]),this._doStroke&&this._pInst.stroke(s[j+3][6]),this._doFillStrokeClose(L)}else if(w===h.QUAD_STRIP){if(3<D)for(j=0;j+1<D;j+=2)S=s[j],this.drawingContext.beginPath(),j+3<D?(this.drawingContext.moveTo(s[j+2][0],s[j+2][1]),this.drawingContext.lineTo(S[0],S[1]),this.drawingContext.lineTo(s[j+1][0],s[j+1][1]),this.drawingContext.lineTo(s[j+3][0],s[j+3][1]),this._doFill&&this._pInst.fill(s[j+3][5]),this._doStroke&&this._pInst.stroke(s[j+3][6])):(this.drawingContext.moveTo(S[0],S[1]),this.drawingContext.lineTo(s[j+1][0],s[j+1][1])),this._doFillStrokeClose(L)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(s[0][0],s[0][1]),j=1;j<D;j++)(S=s[j]).isVert&&(S.moveTo?this.drawingContext.moveTo(S[0],S[1]):this.drawingContext.lineTo(S[0],S[1]));this._doFillStrokeClose(L)}else{for(this.drawingContext.beginPath(),j=0;j<D;j++)s[j].isVert?s[j].moveTo?this.drawingContext.moveTo(s[j][0],s[j][1]):this.drawingContext.lineTo(s[j][0],s[j][1]):this.drawingContext.quadraticCurveTo(s[j][0],s[j][1],s[j][2],s[j][3]);this._doFillStrokeClose(L)}else{for(this.drawingContext.beginPath(),j=0;j<D;j++)s[j].isVert?s[j].moveTo?this.drawingContext.moveTo(s[j][0],s[j][1]):this.drawingContext.lineTo(s[j][0],s[j][1]):this.drawingContext.bezierCurveTo(s[j][0],s[j][1],s[j][2],s[j][3],s[j][4],s[j][5]);this._doFillStrokeClose(L)}else if(3<D){var R=[],O=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(s[1][0],s[1][1]),j=1;j+2<D;j++)S=s[j],R[0]=[S[0],S[1]],R[1]=[S[0]+(O*s[j+1][0]-O*s[j-1][0])/6,S[1]+(O*s[j+1][1]-O*s[j-1][1])/6],R[2]=[s[j+1][0]+(O*s[j][0]-O*s[j+2][0])/6,s[j+1][1]+(O*s[j][1]-O*s[j+2][1])/6],R[3]=[s[j+1][0],s[j+1][1]],this.drawingContext.bezierCurveTo(R[1][0],R[1][1],R[2][0],R[2][1],R[3][0],R[3][1]);L&&this.drawingContext.lineTo(s[j+1][0],s[j+1][1]),this._doFillStrokeClose(L)}return g=m=c=i=!1,L&&s.pop(),this},o.default.Renderer2D.prototype.strokeCap=function(r){return r!==h.ROUND&&r!==h.SQUARE&&r!==h.PROJECT||(this.drawingContext.lineCap=r),this},o.default.Renderer2D.prototype.strokeJoin=function(r){return r!==h.ROUND&&r!==h.BEVEL&&r!==h.MITER||(this.drawingContext.lineJoin=r),this},o.default.Renderer2D.prototype.strokeWeight=function(r){return this.drawingContext.lineWidth=r===void 0||r===0?1e-4:r,this},o.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},o.default.Renderer2D.prototype._setFill=function(r){r!==this._cachedFillStyle&&(this.drawingContext.fillStyle=r,this._cachedFillStyle=r)},o.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},o.default.Renderer2D.prototype._setStroke=function(r){r!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=r,this._cachedStrokeStyle=r)},o.default.Renderer2D.prototype.bezier=function(r,s,i,c,m,g,w,S){return this._pInst.beginShape(),this._pInst.vertex(r,s),this._pInst.bezierVertex(i,c,m,g,w,S),this._pInst.endShape(),this},o.default.Renderer2D.prototype.curve=function(r,s,i,c,m,g,w,S){return this._pInst.beginShape(),this._pInst.curveVertex(r,s),this._pInst.curveVertex(i,c),this._pInst.curveVertex(m,g),this._pInst.curveVertex(w,S),this._pInst.endShape(),this},o.default.Renderer2D.prototype._doFillStrokeClose=function(r){r&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},o.default.Renderer2D.prototype.applyMatrix=function(r,s,i,c,m,g){this.drawingContext.transform(r,s,i,c,m,g)},o.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},o.default.Renderer2D.prototype.rotate=function(r){this.drawingContext.rotate(r)},o.default.Renderer2D.prototype.scale=function(r,s){return this.drawingContext.scale(r,s),this},o.default.Renderer2D.prototype.translate=function(r,s){return r instanceof o.default.Vector&&(s=r.y,r=r.x),this.drawingContext.translate(r,s),this},o.default.Renderer2D.prototype.text=function(r,s,i,c,m){var g;c!==void 0&&this.drawingContext.textBaseline===h.BASELINE&&(g=!0,this.drawingContext.textBaseline=h.TOP);var w=o.default.Renderer.prototype.text.apply(this,arguments);return g&&(this.drawingContext.textBaseline=h.BASELINE),w},o.default.Renderer2D.prototype._renderText=function(r,s,i,c,m){if(!(m<=c))return r.push(),this._isOpenType()?this._textFont._renderPath(s,i,c,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(s,i,c),this._doFill&&(this._fillSet||this._setFill(h._DEFAULT_TEXT_FILL),this.drawingContext.fillText(s,i,c))),r.pop(),r},o.default.Renderer2D.prototype.textWidth=function(r){return this._isOpenType()?this._textFont._textWidth(r,this._textSize):this.drawingContext.measureText(r).width},o.default.Renderer2D.prototype._applyTextProperties=function(){var r,s=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),r=this._textFont,this._isOpenType()&&(r=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(r||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===h.CENTER?this.drawingContext.textBaseline=h._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,s},o.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),o.default.Renderer.prototype.push.apply(this)},o.default.Renderer2D.prototype.pop=function(r){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,o.default.Renderer.prototype.pop.call(this,r)};var t=o.default.Renderer2D;v.default=t},{"../image/filters":285,"./constants":253,"./main":264,"./p5.Renderer":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],269:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var f,o=(f=e("./main"))&&f.__esModule?f:{default:f};o.default.prototype._promisePreloads=[];var h=!(o.default.prototype.registerPromisePreload=function(d){o.default.prototype._promisePreloads.push(d)});o.default.prototype._setupPromisePreloads=function(){var d=!0,u=!1,n=void 0;try{for(var t,r=this._promisePreloads[Symbol.iterator]();!(d=(t=r.next()).done);d=!0){var s=t.value,i=this,c=s.method,m=s.addCallbacks,g=s.legacyPreloadSetup,w=s.target||this,S=w[c].bind(w);if(w===o.default.prototype){if(h)continue;i=null,S=w[c]}w[c]=this._wrapPromisePreload(i,S,m),g&&(w[g.method]=this._legacyPreloadGenerator(i,g,w[c]))}}catch(j){u=!0,n=j}finally{try{d||r.return==null||r.return()}finally{if(u)throw n}}h=!0},o.default.prototype._wrapPromisePreload=function(d,u,n){var t=function(){var r=this;this._incrementPreload();for(var s=null,i=null,c=arguments.length,m=new Array(c),g=0;g<c;g++)m[g]=arguments[g];if(n)for(var w=m.length-1;0<=w&&!i&&typeof m[w]=="function";w--)i=s,s=m.pop();var S=Promise.resolve(u.apply(this,m));return s&&S.then(s),i&&S.catch(i),S.then(function(){return r._decrementPreload()}),S};return d&&(t=t.bind(d)),t};function l(){return{}}o.default.prototype._legacyPreloadGenerator=function(d,u,n){var t=u.createBaseObject||l,r=function(){var s=this;this._incrementPreload();var i=t.apply(this,arguments);return n.apply(this,arguments).then(function(c){Object.assign(i,c),s._decrementPreload()}),i};return d&&(r=r.bind(d)),r}},{"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],270:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("./main"))&&f.__esModule?f:{default:f},h=function(t){if(t&&t.__esModule)return t;if(t===null||d(t)!=="object"&&typeof t!="function")return{default:t};var r=l();if(r&&r.has(t))return r.get(t);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var m=i?Object.getOwnPropertyDescriptor(t,c):null;m&&(m.get||m.set)?Object.defineProperty(s,c,m):s[c]=t[c]}return s.default=t,r&&r.set(t,s),s}(e("./constants"));function l(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return l=function(){return t},t}function d(t){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var u="defaultCanvas0";o.default.prototype.createCanvas=function(t,r,s){o.default._validateParameters("createCanvas",arguments);var i,c=s||h.P2D;if(c===h.WEBGL){if(i=document.getElementById(u)){i.parentNode.removeChild(i);var m=this._renderer;this._elements=this._elements.filter(function(S){return S!==m})}(i=document.createElement("canvas")).id=u,i.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)i=this.canvas;else{i=document.createElement("canvas");for(var g=0;document.getElementById("defaultCanvas".concat(g));)g++;u="defaultCanvas".concat(g),i.id=u,i.classList.add("p5Canvas")}if(this._setupDone||(i.dataset.hidden=!0,i.style.visibility="hidden"),this._userNode)this._userNode.appendChild(i);else{if(document.getElementsByTagName("main").length===0){var w=document.createElement("main");document.body.appendChild(w)}document.getElementsByTagName("main")[0].appendChild(i)}return c===h.WEBGL?(this._setProperty("_renderer",new o.default.RendererGL(i,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new o.default.Renderer2D(i,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(t,r),this._renderer._applyDefaults(),this._renderer},o.default.prototype.resizeCanvas=function(t,r,s){if(o.default._validateParameters("resizeCanvas",arguments),this._renderer){var i={};for(var c in this.drawingContext){var m=this.drawingContext[c];d(m)!=="object"&&typeof m!="function"&&(i[c]=m)}for(var g in this._renderer.resize(t,r),this.width=t,this.height=r,i)try{this.drawingContext[g]=i[g]}catch{}s||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},o.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},o.default.prototype.createGraphics=function(t,r,s){return o.default._validateParameters("createGraphics",arguments),new o.default.Graphics(t,r,s,this)},o.default.prototype.blendMode=function(t){o.default._validateParameters("blendMode",arguments),t===h.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),t=h.BLEND),this._renderer.blendMode(t)};var n=o.default;v.default=n},{"../webgl/p5.RendererGL":318,"./constants":253,"./main":264,"./p5.Graphics":266,"./p5.Renderer2D":268,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],271:[function(e,x,v){function f(t){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}e("core-js/modules/es.array.slice"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o=u(e("../main")),h=function(t){if(t&&t.__esModule)return t;if(t===null||f(t)!=="object"&&typeof t!="function")return{default:t};var r=d();if(r&&r.has(t))return r.get(t);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var m=i?Object.getOwnPropertyDescriptor(t,c):null;m&&(m.get||m.set)?Object.defineProperty(s,c,m):s[c]=t[c]}return s.default=t,r&&r.set(t,s),s}(e("../constants")),l=u(e("../helpers"));function d(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return d=function(){return t},t}function u(t){return t&&t.__esModule?t:{default:t}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),o.default.prototype._normalizeArcAngles=function(t,r,s,i,c){var m;return t-=h.TWO_PI*Math.floor(t/h.TWO_PI),r-=h.TWO_PI*Math.floor(r/h.TWO_PI),m=Math.min(Math.abs(t-r),h.TWO_PI-Math.abs(t-r)),c&&(t=t<=h.HALF_PI?Math.atan(s/i*Math.tan(t)):t>h.HALF_PI&&t<=3*h.HALF_PI?Math.atan(s/i*Math.tan(t))+h.PI:Math.atan(s/i*Math.tan(t))+h.TWO_PI,r=r<=h.HALF_PI?Math.atan(s/i*Math.tan(r)):r>h.HALF_PI&&r<=3*h.HALF_PI?Math.atan(s/i*Math.tan(r))+h.PI:Math.atan(s/i*Math.tan(r))+h.TWO_PI),r<t&&(r+=h.TWO_PI),{start:t,stop:r,correspondToSamePoint:m<1e-5}},o.default.prototype.arc=function(t,r,s,i,c,m,g,w){if(o.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(c===m)return this;c=this._toRadians(c),m=this._toRadians(m),s=Math.abs(s),i=Math.abs(i);var S=l.default.modeAdjust(t,r,s,i,this._renderer._ellipseMode),j=this._normalizeArcAngles(c,m,S.w,S.h,!0);return j.correspondToSamePoint?this._renderer.ellipse([S.x,S.y,S.w,S.h,w]):(this._renderer.arc(S.x,S.y,S.w,S.h,j.start,j.stop,g,w),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[S.x,S.y,S.w,S.h,j.start,j.stop,g])),this},o.default.prototype.ellipse=function(t,r,s,i,c){return o.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},o.default.prototype.circle=function(){o.default._validateParameters("circle",arguments);var t=Array.prototype.slice.call(arguments,0,2);return t.push(arguments[2]),t.push(arguments[2]),this._renderEllipse.apply(this,t)},o.default.prototype._renderEllipse=function(t,r,s,i,c){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;s<0&&(s=Math.abs(s)),i===void 0?i=s:i<0&&(i=Math.abs(i));var m=l.default.modeAdjust(t,r,s,i,this._renderer._ellipseMode);return this._renderer.ellipse([m.x,m.y,m.w,m.h,c]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[m.x,m.y,m.w,m.h]),this},o.default.prototype.line=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var i;return o.default._validateParameters("line",r),this._renderer._doStroke&&(i=this._renderer).line.apply(i,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",r),this},o.default.prototype.point=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var i;return o.default._validateParameters("point",r),this._renderer._doStroke&&(r.length===1&&r[0]instanceof o.default.Vector?this._renderer.point.call(this._renderer,r[0].x,r[0].y,r[0].z):((i=this._renderer).point.apply(i,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",r))),this},o.default.prototype.quad=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var i;return o.default._validateParameters("quad",r),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&r.length<=12?this._renderer.quad.call(this._renderer,r[0],r[1],0,r[2],r[3],0,r[4],r[5],0,r[6],r[7],0,r[8],r[9]):((i=this._renderer).quad.apply(i,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",r))),this},o.default.prototype.rect=function(){return o.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},o.default.prototype.square=function(t,r,s,i,c,m,g){return o.default._validateParameters("square",arguments),this._renderRect.call(this,t,r,s,s,i,c,m,g)},o.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var t=l.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),r=[t.x,t.y,t.w,t.h],s=4;s<arguments.length;s++)r[s]=arguments[s];this._renderer.rect(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[t.x,t.y,t.w,t.h])}return this},o.default.prototype.triangle=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return o.default._validateParameters("triangle",r),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",r),this};var n=o.default;v.default=n},{"../constants":253,"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../helpers":260,"../main":264,"core-js/modules/es.array.slice":162}],272:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../main"))&&o.__esModule?o:{default:o},l=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=d();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}(e("../constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}h.default.prototype.ellipseMode=function(n){return h.default._validateParameters("ellipseMode",arguments),n!==l.CORNER&&n!==l.CORNERS&&n!==l.RADIUS&&n!==l.CENTER||(this._renderer._ellipseMode=n),this},h.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},h.default.prototype.rectMode=function(n){return h.default._validateParameters("rectMode",arguments),n!==l.CORNER&&n!==l.CORNERS&&n!==l.RADIUS&&n!==l.CENTER||(this._renderer._rectMode=n),this},h.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},h.default.prototype.strokeCap=function(n){return h.default._validateParameters("strokeCap",arguments),n!==l.ROUND&&n!==l.SQUARE&&n!==l.PROJECT||this._renderer.strokeCap(n),this},h.default.prototype.strokeJoin=function(n){return h.default._validateParameters("strokeJoin",arguments),n!==l.ROUND&&n!==l.BEVEL&&n!==l.MITER||this._renderer.strokeJoin(n),this},h.default.prototype.strokeWeight=function(n){return h.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(n),this};var u=h.default;v.default=u},{"../constants":253,"../main":264}],273:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../main"))&&f.__esModule?f:{default:f};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),o.default.prototype.bezier=function(){for(var l,d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];return o.default._validateParameters("bezier",u),(this._renderer._doStroke||this._renderer._doFill)&&(l=this._renderer).bezier.apply(l,u),this},o.default.prototype.bezierDetail=function(l){return o.default._validateParameters("bezierDetail",arguments),this._bezierDetail=l,this},o.default.prototype.bezierPoint=function(l,d,u,n,t){o.default._validateParameters("bezierPoint",arguments);var r=1-t;return Math.pow(r,3)*l+3*Math.pow(r,2)*t*d+3*r*Math.pow(t,2)*u+Math.pow(t,3)*n},o.default.prototype.bezierTangent=function(l,d,u,n,t){o.default._validateParameters("bezierTangent",arguments);var r=1-t;return 3*n*Math.pow(t,2)-3*u*Math.pow(t,2)+6*u*r*t-6*d*r*t+3*d*Math.pow(r,2)-3*l*Math.pow(r,2)},o.default.prototype.curve=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];var n;return o.default._validateParameters("curve",d),this._renderer._doStroke&&(n=this._renderer).curve.apply(n,d),this},o.default.prototype.curveDetail=function(l){return o.default._validateParameters("curveDetail",arguments),this._curveDetail=l<3?3:l,this},o.default.prototype.curveTightness=function(l){return o.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=l,this},o.default.prototype.curvePoint=function(l,d,u,n,t){o.default._validateParameters("curvePoint",arguments);var r=t*t*t,s=t*t;return l*(-.5*r+s-.5*t)+d*(1.5*r-2.5*s+1)+u*(-1.5*r+2*s+.5*t)+n*(.5*r-.5*s)},o.default.prototype.curveTangent=function(l,d,u,n,t){o.default._validateParameters("curveTangent",arguments);var r=t*t;return l*(-3*r/2+2*t-.5)+d*(9*r/2-5*t)+u*(-9*r/2+4*t+.5)+n*(3*r/2-t)};var h=o.default;v.default=h},{"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../main":264}],274:[function(e,x,v){function f(w){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}e("core-js/modules/es.array.slice"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../main"))&&o.__esModule?o:{default:o},l=function(w){if(w&&w.__esModule)return w;if(w===null||f(w)!=="object"&&typeof w!="function")return{default:w};var S=d();if(S&&S.has(w))return S.get(w);var j={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in w)if(Object.prototype.hasOwnProperty.call(w,L)){var D=T?Object.getOwnPropertyDescriptor(w,L):null;D&&(D.get||D.set)?Object.defineProperty(j,L,D):j[L]=w[L]}return j.default=w,S&&S.set(w,j),j}(e("../constants"));function d(){if(typeof WeakMap!="function")return null;var w=new WeakMap;return d=function(){return w},w}var u=null,n=[],t=[],r=!1,s=!1,i=!1,c=!1,m=!0;h.default.prototype.beginContour=function(){return t=[],c=!0,this},h.default.prototype.beginShape=function(w){var S;return h.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(S=this._renderer).beginShape.apply(S,arguments):(u=w===l.POINTS||w===l.LINES||w===l.TRIANGLES||w===l.TRIANGLE_FAN||w===l.TRIANGLE_STRIP||w===l.QUADS||w===l.QUAD_STRIP?w:null,n=[],t=[]),this},h.default.prototype.bezierVertex=function(){for(var w=arguments.length,S=new Array(w),j=0;j<w;j++)S[j]=arguments[j];var T;if(h.default._validateParameters("bezierVertex",S),this._renderer.isP3D)(T=this._renderer).bezierVertex.apply(T,S);else if(n.length===0)h.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{r=!0;for(var L=[],D=0;D<S.length;D++)L[D]=S[D];L.isVert=!1,c?t.push(L):n.push(L)}return this},h.default.prototype.curveVertex=function(){for(var w=arguments.length,S=new Array(w),j=0;j<w;j++)S[j]=arguments[j];var T;return h.default._validateParameters("curveVertex",S),this._renderer.isP3D?(T=this._renderer).curveVertex.apply(T,S):(s=!0,this.vertex(S[0],S[1])),this},h.default.prototype.endContour=function(){var w=t[0].slice();w.isVert=t[0].isVert,w.moveTo=!1,t.push(w),m&&(n.push(n[0]),m=!1);for(var S=0;S<t.length;S++)n.push(t[S]);return this},h.default.prototype.endShape=function(w){if(h.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(w,s,r,i,c,u);else{if(n.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var S=w===l.CLOSE;S&&!c&&n.push(n[0]),this._renderer.endShape(w,n,s,r,i,c,u),m=!(c=i=r=s=!1),S&&n.pop()}return this},h.default.prototype.quadraticVertex=function(){for(var w=arguments.length,S=new Array(w),j=0;j<w;j++)S[j]=arguments[j];if(h.default._validateParameters("quadraticVertex",S),this._renderer.isP3D){var T;(T=this._renderer).quadraticVertex.apply(T,S)}else{if(this._contourInited){var L={};return L.x=S[0],L.y=S[1],L.x3=S[2],L.y3=S[3],L.type=l.QUADRATIC,this._contourVertices.push(L),this}if(0<n.length){i=!0;for(var D=[],R=0;R<S.length;R++)D[R]=S[R];D.isVert=!1,c?t.push(D):n.push(D)}else h.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},h.default.prototype.vertex=function(w,S,j,T,L){if(this._renderer.isP3D){var D;(D=this._renderer).vertex.apply(D,arguments)}else{var R=[];R.isVert=!0,R[0]=w,R[1]=S,R[2]=0,R[3]=0,R[4]=0,R[5]=this._renderer._getFill(),R[6]=this._renderer._getStroke(),j&&(R.moveTo=j),c?(t.length===0&&(R.moveTo=!0),t.push(R)):n.push(R)}return this},h.default.prototype.normal=function(w,S,j){var T;return this._assert3d("normal"),h.default._validateParameters("normal",arguments),(T=this._renderer).normal.apply(T,arguments),this};var g=h.default;v.default=g},{"../constants":253,"../main":264,"core-js/modules/es.array.slice":162}],275:[function(e,x,v){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o,h){window.setTimeout(o,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var o=Object.keys,h=Object.defineProperty,l=typeof Symbol=="function"&&f(Symbol())==="symbol",d=Object.prototype.propertyIsEnumerable,u=function(n){return function(t){return d.call(n,t)}};h(Object,"assign",{value:function(n,t){if(n==null)throw new TypeError("target must be an object");var r,s,i,c,m=Object(n);for(r=1;r<arguments.length;++r)for(s=Object(arguments[r]),c=o(s),l&&Object.getOwnPropertySymbols&&c.push.apply(c,Object.getOwnPropertySymbols(s).filter(u(s))),i=0;i<c.length;++i)m[c[i]]=s[c[i]];return m},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":229}],276:[function(e,x,v){e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("./main"))&&f.__esModule?f:{default:f};o.default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var l=this._styles.pop();l?(this._renderer.pop(l.renderer),Object.assign(this,l.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(l){if(!this._inUserDraw&&this._setupDone){var d=parseInt(l);(isNaN(d)||d<1)&&(d=1);var u=this._isGlobal?window:this;if(typeof u.draw=="function"){u.setup===void 0&&u.scale(u._pixelDensity,u._pixelDensity);for(var n=function(r){r.call(u)},t=0;t<d;t++){u.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),u._renderer.isP3D&&u._renderer._update(),u._setProperty("frameCount",u.frameCount+1),u._registeredMethods.pre.forEach(n),this._inUserDraw=!0;try{u.draw()}finally{this._inUserDraw=!1}u._registeredMethods.post.forEach(n)}}}};var h=o.default;v.default=h},{"./main":264,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":173,"core-js/modules/web.dom-collections.for-each":228}],277:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("./main"))&&f.__esModule?f:{default:f};function h(d){return function(u){if(Array.isArray(u)){for(var n=0,t=new Array(u.length);n<u.length;n++)t[n]=u[n];return t}}(d)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.applyMatrix=function(){var d,u,n=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||n?(d=this._renderer).applyMatrix.apply(d,h(arguments[0])):(u=this._renderer).applyMatrix.apply(u,arguments),this},o.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},o.default.prototype.rotate=function(d,u){return o.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(d),u),this},o.default.prototype.rotateX=function(d){return this._assert3d("rotateX"),o.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(d)),this},o.default.prototype.rotateY=function(d){return this._assert3d("rotateY"),o.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(d)),this},o.default.prototype.rotateZ=function(d){return this._assert3d("rotateZ"),o.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(d)),this},o.default.prototype.scale=function(d,u,n){if(o.default._validateParameters("scale",arguments),d instanceof o.default.Vector){var t=d;d=t.x,u=t.y,n=t.z}else if(d instanceof Array){var r=d;d=r[0],u=r[1],n=r[2]||1}return isNaN(u)?u=n=d:isNaN(n)&&(n=1),this._renderer.scale.call(this._renderer,d,u,n),this},o.default.prototype.shearX=function(d){o.default._validateParameters("shearX",arguments);var u=this._toRadians(d);return this._renderer.applyMatrix(1,0,Math.tan(u),1,0,0),this},o.default.prototype.shearY=function(d){o.default._validateParameters("shearY",arguments);var u=this._toRadians(d);return this._renderer.applyMatrix(1,Math.tan(u),0,1,0,0),this},o.default.prototype.translate=function(d,u,n){return o.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(d,u,n):this._renderer.translate(d,u),this};var l=o.default;v.default=l},{"./main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229}],278:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};function h(d){return function(u){if(Array.isArray(u)){for(var n=0,t=new Array(u.length);n<u.length;n++)t[n]=u[n];return t}}(d)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(d){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}o.default.prototype.storeItem=function(d,u){typeof d!="string"&&console.log("The argument that you passed to storeItem() - ".concat(d," is not a string.")),d.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(d," must not end with 'p5TypeID'.")),u===void 0&&console.log("You cannot store undefined variables using storeItem().");var n=l(u);switch(n){case"number":case"boolean":u=u.toString();break;case"object":u instanceof o.default.Color?n="p5.Color":u instanceof o.default.Vector&&(n="p5.Vector",u=[u.x,u.y,u.z]),u=JSON.stringify(u)}localStorage.setItem(d,u);var t="".concat(d,"p5TypeID");localStorage.setItem(t,n)},o.default.prototype.getItem=function(d){var u=localStorage.getItem(d),n=localStorage.getItem("".concat(d,"p5TypeID"));if(n===void 0)console.log("Unable to determine type of item stored under ".concat(d,"in local storage. Did you save the item with something other than setItem()?"));else if(u!==null)switch(n){case"number":u=parseFloat(u);break;case"boolean":u=u==="true";break;case"object":u=JSON.parse(u);break;case"p5.Color":u=JSON.parse(u),u=this.color.apply(this,h(u.levels));break;case"p5.Vector":u=JSON.parse(u),u=this.createVector.apply(this,h(u))}return u},o.default.prototype.clearStorage=function(){localStorage.clear()},o.default.prototype.removeItem=function(d){typeof d!="string"&&console.log("The argument that you passed to removeItem() - ".concat(d," is not a string.")),localStorage.removeItem(d),localStorage.removeItem("".concat(d,"p5TypeID"))}},{"../core/main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],279:[function(e,x,v){e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.prototype.createStringDict=function(l,d){return o.default._validateParameters("createStringDict",arguments),new o.default.StringDict(l,d)},o.default.prototype.createNumberDict=function(l,d){return o.default._validateParameters("createNumberDict",arguments),new o.default.NumberDict(l,d)},o.default.TypedDict=function(l,d){return l instanceof Object?this.data=l:(this.data={},this.data[l]=d),this},o.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},o.default.TypedDict.prototype.hasKey=function(l){return this.data.hasOwnProperty(l)},o.default.TypedDict.prototype.get=function(l){if(this.data.hasOwnProperty(l))return this.data[l];console.log("".concat(l," does not exist in this Dictionary"))},o.default.TypedDict.prototype.set=function(l,d){this._validate(d)?this.data[l]=d:console.log("Those values dont work for this dictionary type.")},o.default.TypedDict.prototype._addObj=function(l){for(var d in l)this.set(d,l[d])},o.default.TypedDict.prototype.create=function(l,d){l instanceof Object&&d===void 0?this._addObj(l):l!==void 0?this.set(l,d):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},o.default.TypedDict.prototype.clear=function(){this.data={}},o.default.TypedDict.prototype.remove=function(l){if(!this.data.hasOwnProperty(l))throw new Error("".concat(l," does not exist in this Dictionary"));delete this.data[l]},o.default.TypedDict.prototype.print=function(){for(var l in this.data)console.log("key:".concat(l," value:").concat(this.data[l]))},o.default.TypedDict.prototype.saveTable=function(l){var d="";for(var u in this.data)d+="".concat(u,",").concat(this.data[u],`
`);var n=new Blob([d],{type:"text/csv"});o.default.prototype.downloadFile(n,l||"mycsv","csv")},o.default.TypedDict.prototype.saveJSON=function(l,d){o.default.prototype.saveJSON(this.data,l,d)},o.default.TypedDict.prototype._validate=function(l){return!0},o.default.StringDict=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];o.default.TypedDict.apply(this,d)},o.default.StringDict.prototype=Object.create(o.default.TypedDict.prototype),o.default.StringDict.prototype._validate=function(l){return typeof l=="string"},o.default.NumberDict=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];o.default.TypedDict.apply(this,d)},o.default.NumberDict.prototype=Object.create(o.default.TypedDict.prototype),o.default.NumberDict.prototype._validate=function(l){return typeof l=="number"},o.default.NumberDict.prototype.add=function(l,d){this.data.hasOwnProperty(l)?this.data[l]+=d:console.log("The key - ".concat(l," does not exist in this dictionary."))},o.default.NumberDict.prototype.sub=function(l,d){this.add(l,-d)},o.default.NumberDict.prototype.mult=function(l,d){this.data.hasOwnProperty(l)?this.data[l]*=d:console.log("The key - ".concat(l," does not exist in this dictionary."))},o.default.NumberDict.prototype.div=function(l,d){this.data.hasOwnProperty(l)?this.data[l]/=d:console.log("The key - ".concat(l," does not exist in this dictionary."))},o.default.NumberDict.prototype._valueTest=function(l){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var d=this.data[Object.keys(this.data)[0]];for(var u in this.data)this.data[u]*l<d*l&&(d=this.data[u]);return d},o.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},o.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},o.default.NumberDict.prototype._keyTest=function(l){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var d=Object.keys(this.data)[0],u=1;u<Object.keys(this.data).length;u++)Object.keys(this.data)[u]*l<d*l&&(d=Object.keys(this.data)[u]);return d},o.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},o.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)};var h=o.default.TypedDict;v.default=h},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],280:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};function h(t){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function l(t,r,s){(r._userNode?r._userNode:document.body).appendChild(t);var i=s?new o.default.MediaElement(t,r):new o.default.Element(t,r);return r._elements.push(i),i}function d(t,r,s,i){var c=document.createElement(r);typeof(s=s||"")=="string"&&(s=[s]);var m=!0,g=!1,w=void 0;try{for(var S,j=s[Symbol.iterator]();!(m=(S=j.next()).done);m=!0){var T=S.value,L=document.createElement("source");L.setAttribute("src",T),c.appendChild(L)}}catch(R){g=!0,w=R}finally{try{m||j.return==null||j.return()}finally{if(g)throw w}}typeof i=="function"&&c.addEventListener("canplaythrough",function R(){i(),c.removeEventListener("canplaythrough",R)});var D=l(c,t,!0);return D.loadedmetadata=!1,c.addEventListener("loadedmetadata",function(){D.width=c.videoWidth,D.height=c.videoHeight,D.elt.width===0&&(D.elt.width=c.videoWidth),D.elt.height===0&&(D.elt.height=c.videoHeight),D.presetPlaybackRate&&(D.elt.playbackRate=D.presetPlaybackRate,delete D.presetPlaybackRate),D.loadedmetadata=!0}),D}o.default.prototype.select=function(t,r){o.default._validateParameters("select",arguments);var s=this._getContainer(r).querySelector(t);return s?this._wrapElement(s):null},o.default.prototype.selectAll=function(t,r){o.default._validateParameters("selectAll",arguments);var s=[],i=this._getContainer(r).querySelectorAll(t);if(i)for(var c=0;c<i.length;c++){var m=this._wrapElement(i[c]);s.push(m)}return s},o.default.prototype._getContainer=function(t){var r=document;return typeof t=="string"?r=document.querySelector(t)||document:t instanceof o.default.Element?r=t.elt:t instanceof HTMLElement&&(r=t),r},o.default.prototype._wrapElement=function(t){var r=Array.prototype.slice.call(t.children);if(t.tagName!=="INPUT"||t.type!=="checkbox")return t.tagName==="VIDEO"||t.tagName==="AUDIO"?new o.default.MediaElement(t,this):t.tagName==="SELECT"?this.createSelect(new o.default.Element(t,this)):0<r.length&&r.every(function(i){return i.tagName==="INPUT"||i.tagName==="LABEL"})?this.createRadio(new o.default.Element(t,this)):new o.default.Element(t,this);var s=new o.default.Element(t,this);return s.checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},s},o.default.prototype.removeElements=function(t){o.default._validateParameters("removeElements",arguments),this._elements.filter(function(r){return!(r.elt instanceof HTMLCanvasElement)}).map(function(r){return r.remove()})},o.default.Element.prototype.changed=function(t){return o.default.Element._adjustListener("change",t,this),this},o.default.Element.prototype.input=function(t){return o.default.Element._adjustListener("input",t,this),this},o.default.prototype.createDiv=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",r=document.createElement("div");return r.innerHTML=t,l(r,this)},o.default.prototype.createP=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",r=document.createElement("p");return r.innerHTML=t,l(r,this)},o.default.prototype.createSpan=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",r=document.createElement("span");return r.innerHTML=t,l(r,this)},o.default.prototype.createImg=function(){o.default._validateParameters("createImg",arguments);var t,r=document.createElement("img"),s=arguments;return 1<s.length&&typeof s[1]=="string"&&(r.alt=s[1]),2<s.length&&typeof s[2]=="string"&&(r.crossOrigin=s[2]),r.src=s[0],t=l(r,this),r.addEventListener("load",function(){t.width=r.offsetWidth||r.width,t.height=r.offsetHeight||r.height;var i=s[s.length-1];typeof i=="function"&&i(t)}),t},o.default.prototype.createA=function(t,r,s){o.default._validateParameters("createA",arguments);var i=document.createElement("a");return i.href=t,i.innerHTML=r,s&&(i.target=s),l(i,this)},o.default.prototype.createSlider=function(t,r,s,i){o.default._validateParameters("createSlider",arguments);var c=document.createElement("input");return c.type="range",c.min=t,c.max=r,i===0?c.step=1e-18:i&&(c.step=i),typeof s=="number"&&(c.value=s),l(c,this)},o.default.prototype.createButton=function(t,r){o.default._validateParameters("createButton",arguments);var s=document.createElement("button");return s.innerHTML=t,r&&(s.value=r),l(s,this)},o.default.prototype.createCheckbox=function(){o.default._validateParameters("createCheckbox",arguments);var t=document.createElement("div"),r=document.createElement("input");r.type="checkbox";var s=document.createElement("label");s.appendChild(r),t.appendChild(s);var i=l(t,this);if(i.checked=function(){var m=i.elt.firstElementChild.getElementsByTagName("input")[0];if(m){if(arguments.length===0)return m.checked;m.checked=!!arguments[0]}return i},this.value=function(m){return i.value=m,this},arguments[0]){i.value(arguments[0]);var c=document.createElement("span");c.innerHTML=arguments[0],s.appendChild(c)}return arguments[1]&&(r.checked=!0),i},o.default.prototype.createSelect=function(){var t;o.default._validateParameters("createSelect",arguments);var r=arguments[0];if(r instanceof o.default.Element&&r.elt instanceof HTMLSelectElement)t=r,this.elt=r.elt;else if(r instanceof HTMLSelectElement)t=l(r,this),this.elt=r;else{var s=document.createElement("select");r&&typeof r=="boolean"&&s.setAttribute("multiple","true"),t=l(s,this),this.elt=s}return t.option=function(i,c){var m;if(i!==void 0){for(var g=0;g<this.elt.length;g+=1)if(this.elt[g].innerHTML===i){m=g;break}if(m!==void 0)c===!1?this.elt.remove(m):this.elt[m].value=c;else{var w=document.createElement("option");w.innerHTML=i,w.value=c===void 0?i:c,this.elt.appendChild(w),this._pInst._elements.push(w)}}},t.selected=function(i){if(i!==void 0){for(var c=0;c<this.elt.length;c+=1)this.elt[c].value.toString()===i.toString()&&(this.elt.selectedIndex=c);return this}if(this.elt.getAttribute("multiple")){var m=[],g=!0,w=!1,S=void 0;try{for(var j,T=this.elt.selectedOptions[Symbol.iterator]();!(g=(j=T.next()).done);g=!0){var L=j.value;m.push(L.value)}}catch(D){w=!0,S=D}finally{try{g||T.return==null||T.return()}finally{if(w)throw S}}return m}return this.elt.value},t.disable=function(i){if(typeof i=="string")for(var c=0;c<this.elt.length;c++)this.elt[c].value.toString()===i&&(this.elt[c].disabled=!0,this.elt[c].selected=!1);else this.elt.disabled=!0;return this},t},o.default.prototype.createRadio=function(){var t,r,s=arguments[0];s instanceof HTMLDivElement||s instanceof HTMLSpanElement?(t=s,typeof arguments[1]=="string"&&(r=arguments[1])):(typeof s=="string"&&(r=s),t=document.createElement("div"));var i=l(this.elt=t,this);i._name=r||"radioOption";function c(g){return g instanceof HTMLInputElement&&g.type==="radio"}function m(g){return g instanceof HTMLLabelElement}return i._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(g){return c(g)||m(g)&&c(g.firstElementChild)}).map(function(g){return c(g)?g:g.firstElementChild})},i.option=function(g,w){var S,j,T,L=!0,D=!1,R=void 0;try{for(var O,U=i._getOptionsArray()[Symbol.iterator]();!(L=(O=U.next()).done);L=!0){var P=O.value;if(P.value===g){S=P;break}}}catch(G){D=!0,R=G}finally{try{L||U.return==null||U.return()}finally{if(D)throw R}}return S===void 0&&((S=document.createElement("input")).setAttribute("type","radio"),S.setAttribute("value",g)),S.setAttribute("name",i._name),m(S.parentElement)?j=S.parentElement:(j=document.createElement("label")).insertAdjacentElement("afterbegin",S),j.lastElementChild instanceof HTMLSpanElement?T=j.lastElementChild:(T=document.createElement("span"),S.insertAdjacentElement("afterend",T)),T.innerHTML=w===void 0?g:w,this.elt.appendChild(j),S},i.remove=function(g){var w=!0,S=!1,j=void 0;try{for(var T,L=i._getOptionsArray()[Symbol.iterator]();!(w=(T=L.next()).done);w=!0){var D=T.value;if(D.value===g)return void(m(D.parentElement)?D.parentElement.remove():D.remove())}}catch(R){S=!0,j=R}finally{try{w||L.return==null||L.return()}finally{if(S)throw j}}},i.value=function(){var g="",w=!0,S=!1,j=void 0;try{for(var T,L=i._getOptionsArray()[Symbol.iterator]();!(w=(T=L.next()).done);w=!0){var D=T.value;if(D.checked){g=D.value;break}}}catch(R){S=!0,j=R}finally{try{w||L.return==null||L.return()}finally{if(S)throw j}}return g},i.selected=function(g){var w=null;if(g===void 0){var S=!0,j=!1,T=void 0;try{for(var L,D=i._getOptionsArray()[Symbol.iterator]();!(S=(L=D.next()).done);S=!0){var R=L.value;if(R.checked){w=R;break}}}catch(ne){j=!0,T=ne}finally{try{S||D.return==null||D.return()}finally{if(j)throw T}}}else{i._getOptionsArray().forEach(function(ne){ne.checked=!1,ne.removeAttribute("checked")});var O=!0,U=!1,P=void 0;try{for(var G,V=i._getOptionsArray()[Symbol.iterator]();!(O=(G=V.next()).done);O=!0){var te=G.value;te.value===g&&(te.setAttribute("checked",!0),te.checked=!0,w=te)}}catch(ne){U=!0,P=ne}finally{try{O||V.return==null||V.return()}finally{if(U)throw P}}}return w},i.disable=function(){var g=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],w=!0,S=!1,j=void 0;try{for(var T,L=i._getOptionsArray()[Symbol.iterator]();!(w=(T=L.next()).done);w=!0)T.value.setAttribute("disabled",g)}catch(D){S=!0,j=D}finally{try{w||L.return==null||L.return()}finally{if(S)throw j}}},i},o.default.prototype.createColorPicker=function(t){o.default._validateParameters("createColorPicker",arguments);var r,s=document.createElement("input");return s.type="color",t?t instanceof o.default.Color?s.value=t.toString("#rrggbb"):(o.default.prototype._colorMode="rgb",o.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},s.value=o.default.prototype.color(t).toString("#rrggbb")):s.value="#000000",(r=l(s,this)).color=function(){return t&&(t.mode&&(o.default.prototype._colorMode=t.mode),t.maxes&&(o.default.prototype._colorMaxes=t.maxes)),o.default.prototype.color(this.elt.value)},r},o.default.prototype.createInput=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text";o.default._validateParameters("createInput",arguments);var s=document.createElement("input");return s.setAttribute("value",t),s.setAttribute("type",r),l(s,this)},o.default.prototype.createFileInput=function(t){var r=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(o.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var s=document.createElement("input");return s.setAttribute("type","file"),r&&s.setAttribute("multiple",!0),s.addEventListener("change",function(i){var c=!0,m=!1,g=void 0;try{for(var w,S=i.target.files[Symbol.iterator]();!(c=(w=S.next()).done);c=!0){var j=w.value;o.default.File._load(j,t)}}catch(T){m=!0,g=T}finally{try{c||S.return==null||S.return()}finally{if(m)throw g}}},!1),l(s,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},o.default.prototype.createVideo=function(t,r){return o.default._validateParameters("createVideo",arguments),d(this,"video",t,r)},o.default.prototype.createAudio=function(t,r){return o.default._validateParameters("createAudio",arguments),d(this,"audio",t,r)},o.default.prototype.VIDEO="video",o.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(t){var r=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return r?new Promise(function(s,i){r.call(navigator,t,s,i)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),o.default.prototype.createCapture=function(){if(o.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var t,r,s=!0,i=!0,c=!0,m=!1,g=void 0;try{for(var w,S=arguments[Symbol.iterator]();!(c=(w=S.next()).done);c=!0){var j=w.value;j===o.default.prototype.VIDEO?i=!1:j===o.default.prototype.AUDIO?s=!1:h(j)==="object"?t=j:typeof j=="function"&&(r=j)}}catch(D){m=!0,g=D}finally{try{c||S.return==null||S.return()}finally{if(m)throw g}}t=t||{video:s,audio:i};var T=document.createElement("video");T.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(t).then(function(D){try{"srcObject"in T?T.srcObject=D:T.src=window.URL.createObjectURL(D)}catch{T.src=D}},console.log);var L=l(T,this,!0);return L.loadedmetadata=!1,T.addEventListener("loadedmetadata",function(){T.play(),T.width?(L.width=T.width,L.height=T.height):(L.width=L.elt.width=T.videoWidth,L.height=L.elt.height=T.videoHeight),L.loadedmetadata=!0,r&&r(T.srcObject)}),L},o.default.prototype.createElement=function(t,r){o.default._validateParameters("createElement",arguments);var s=document.createElement(t);return r!==void 0&&(s.innerHTML=r),l(s,this)},o.default.Element.prototype.addClass=function(t){return this.elt.className?this.hasClass(t)||(this.elt.className=this.elt.className+" "+t):this.elt.className=t,this},o.default.Element.prototype.removeClass=function(t){return this.elt.classList.remove(t),this},o.default.Element.prototype.hasClass=function(t){return this.elt.classList.contains(t)},o.default.Element.prototype.toggleClass=function(t){return this.elt.classList.contains(t)?this.elt.classList.remove(t):this.elt.classList.add(t),this},o.default.Element.prototype.child=function(t){return t===void 0?this.elt.childNodes:(typeof t=="string"?(t[0]==="#"&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof o.default.Element&&(t=t.elt),t instanceof HTMLElement&&this.elt.appendChild(t),this)},o.default.Element.prototype.center=function(t){var r=this.elt.style.display,s=this.elt.style.display==="none",i=this.parent().style.display==="none",c={x:this.elt.offsetLeft,y:this.elt.offsetTop};s&&this.show(),i&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var m=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),g=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return t==="both"||t===void 0?this.position(m/2+this.parent().offsetLeft,g/2+this.parent().offsetTop):t==="horizontal"?this.position(m/2+this.parent().offsetLeft,c.y):t==="vertical"&&this.position(c.x,g/2+this.parent().offsetTop),this.style("display",r),s&&this.hide(),i&&this.parent().hide(),this},o.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},o.default.Element.prototype.position=function(){if(arguments.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var t="absolute";return arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"||(t=arguments[2]),this.elt.style.position=t,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},o.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var t="";return this.elt.style.transform&&(t=(t=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=t,this},o.default.Element.prototype._rotate=function(){var t="";return this.elt.style.transform&&(t=(t=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=t,this},o.default.Element.prototype.style=function(t,r){if(r instanceof o.default.Color&&(r="rgba("+r.levels[0]+","+r.levels[1]+","+r.levels[2]+","+r.levels[3]/255+")"),r===void 0){if(t.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(t);for(var s=t.split(";"),i=0;i<s.length;i++){var c=s[i].split(":");c[0]&&c[1]&&(this.elt.style[c[0].trim()]=c[1].trim())}}else if(this.elt.style[t]=r,t==="width"||t==="height"||t==="left"||t==="top"){var m=window.getComputedStyle(this.elt).getPropertyValue(t).replace(/\D+/g,"");this[t]=parseInt(m,10)}return this},o.default.Element.prototype.attribute=function(t,r){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return r===void 0?this.elt.getAttribute(t):(this.elt.setAttribute(t,r),this);if(r===void 0)return this.elt.firstChild.getAttribute(t);for(var s=0;s<this.elt.childNodes.length;s++)this.elt.childNodes[s].setAttribute(t,r)},o.default.Element.prototype.removeAttribute=function(t){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].removeAttribute(t);return this.elt.removeAttribute(t),this},o.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},o.default.Element.prototype.show=function(){return this.elt.style.display="block",this},o.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},o.default.Element.prototype.size=function(t,r){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var s=t,i=r,c=o.default.prototype.AUTO;if(s!==c||i!==c){if(s===c?s=r*this.width/this.height:i===c&&(i=t*this.height/this.width),this.elt instanceof HTMLCanvasElement){var m,g={},w=this.elt.getContext("2d");for(m in w)g[m]=w[m];for(m in this.elt.setAttribute("width",s*this._pInst._pixelDensity),this.elt.setAttribute("height",i*this._pInst._pixelDensity),this.elt.style.width=s+"px",this.elt.style.height=i+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),g)this.elt.getContext("2d")[m]=g[m]}else this.elt.style.width=s+"px",this.elt.style.height=i+"px",this.elt.width=s,this.elt.height=i;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},o.default.Element.prototype.remove=function(){if(this instanceof o.default.MediaElement){this.stop();var t=this.elt.srcObject;t!==null&&t.getTracks().forEach(function(i){i.stop()})}var r=this._pInst._elements.indexOf(this);for(var s in r!==-1&&this._pInst._elements.splice(r,1),this._events)this.elt.removeEventListener(s,this._events[s]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},o.default.Element.prototype.drop=function(t,r){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var s=function(i){i.preventDefault()};this.elt.addEventListener("dragover",s),this.elt.addEventListener("dragleave",s)}o.default.Element._attachListener("drop",function(i){i.preventDefault(),typeof r=="function"&&r.call(this,i);for(var c=i.dataTransfer.files,m=0;m<c.length;m++){var g=c[m];o.default.File._load(g,t)}},this)}else console.log("The File APIs are not fully supported in this browser.");return this},o.default.MediaElement=function(t,r){o.default.Element.call(this,t,r);var s=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(s,"src",{get:function(){var i=s.elt.children[0].src,c=s.elt.src===window.location.href?"":s.elt.src;return i===window.location.href?c:i},set:function(i){for(var c=0;c<s.elt.children.length;c++)s.elt.removeChild(s.elt.children[c]);var m=document.createElement("source");m.src=i,t.appendChild(m),s.elt.src=i,s.modified=!0}}),s._onended=function(){},s.elt.onended=function(){s._onended(s)}},o.default.MediaElement.prototype=Object.create(o.default.Element.prototype),o.default.MediaElement.prototype.play=function(){var t,r=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),(t=(1<this.elt.readyState||this.elt.load(),this.elt.play()))&&t.catch&&t.catch(function(s){s.name==="NotAllowedError"?o.default._friendlyAutoplayError(r.src):console.error("Media play method encountered an unexpected error",s)}),this},o.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},o.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},o.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},o.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},o.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var t=this,r=setTimeout(function(){return o.default._friendlyAutoplayError(t.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(r)},{passive:!0,once:!0})},o.default.MediaElement.prototype.autoplay=function(t){var r=this,s=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",t),t&&!s){var i=function(){return r._setupAutoplayFailDetection()};this.elt.readyState===4?i():this.elt.addEventListener("canplay",i,{passive:!0,once:!0})}return this},o.default.MediaElement.prototype.volume=function(t){if(t===void 0)return this.elt.volume;this.elt.volume=t},o.default.MediaElement.prototype.speed=function(t){if(t===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=t:this.presetPlaybackRate=t},o.default.MediaElement.prototype.time=function(t){return t===void 0?this.elt.currentTime:(this.elt.currentTime=t,this)},o.default.MediaElement.prototype.duration=function(){return this.elt.duration},o.default.MediaElement.prototype.pixels=[],o.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},o.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),o.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},o.default.MediaElement.prototype.updatePixels=function(t,r,s,i){return this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.updatePixels.call(this,t,r,s,i)),this.setModified(!0),this},o.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),o.default.Renderer2D.prototype.get.apply(this,arguments)},o.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),o.default.Renderer2D.prototype._getPixel.apply(this,arguments)},o.default.MediaElement.prototype.set=function(t,r,s){this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.set.call(this,t,r,s),this.setModified(!0))},o.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),o.default.prototype.copy.apply(this,arguments)},o.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),o.default.Image.prototype.mask.apply(this,arguments)},o.default.MediaElement.prototype.isModified=function(){return this._modified},o.default.MediaElement.prototype.setModified=function(t){this._modified=t},o.default.MediaElement.prototype.onended=function(t){return this._onended=t,this},o.default.MediaElement.prototype.connect=function(t){var r,s;if(typeof o.default.prototype.getAudioContext=="function")r=o.default.prototype.getAudioContext(),s=o.default.soundOut.input;else try{s=(r=t.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=r.createMediaElementSource(this.elt),this.audioSourceNode.connect(s)),t?t.input?this.audioSourceNode.connect(t.input):this.audioSourceNode.connect(t):this.audioSourceNode.connect(s)},o.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},o.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},o.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function u(t,r,s,i){this.callback=t,this.time=r,this.id=s,this.val=i}o.default.MediaElement.prototype.addCue=function(t,r,s){var i=this._cueIDCounter++,c=new u(r,t,i,s);return this._cues.push(c),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),i},o.default.MediaElement.prototype.removeCue=function(t){for(var r=0;r<this._cues.length;r++)this._cues[r].id===t&&(console.log(t),this._cues.splice(r,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},o.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},o.default.MediaElement.prototype._onTimeUpdate=function(){for(var t=this.time(),r=0;r<this._cues.length;r++){var s=this._cues[r].time,i=this._cues[r].val;this._prevTime<s&&s<=t&&this._cues[r].callback(i)}this._prevTime=t},o.default.File=function(t,r){this.file=t,this._pInst=r;var s=t.type.split("/");this.type=s[0],this.subtype=s[1],this.name=t.name,this.size=t.size,this.data=void 0},o.default.File._createLoader=function(t,r){var s=new FileReader;return s.onload=function(i){var c=new o.default.File(t);if(c.file.type==="application/json")c.data=JSON.parse(i.target.result);else if(c.file.type==="text/xml"){var m=new DOMParser().parseFromString(i.target.result,"text/xml");c.data=new o.default.XML(m.documentElement)}else c.data=i.target.result;r(c)},s},o.default.File._load=function(t,r){if(/^text\//.test(t.type)||t.type==="application/json")o.default.File._createLoader(t,r).readAsText(t);else if(/^(video|audio)\//.test(t.type)){var s=new o.default.File(t);s.data=URL.createObjectURL(t),r(s)}else o.default.File._createLoader(t,r).readAsDataURL(t)};var n=o.default;v.default=n},{"../core/main":264,"core-js/modules/es.array.every":150,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231}],281:[function(e,x,v){function f(w){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(w){if(w&&w.__esModule)return w;if(w===null||f(w)!=="object"&&typeof w!="function")return{default:w};var S=d();if(S&&S.has(w))return S.get(w);var j={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in w)if(Object.prototype.hasOwnProperty.call(w,L)){var D=T?Object.getOwnPropertyDescriptor(w,L):null;D&&(D.get||D.set)?Object.defineProperty(j,L,D):j[L]=w[L]}return j.default=w,S&&S.set(w,j),j}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var w=new WeakMap;return d=function(){return w},w}h.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",h.default.prototype.accelerationX=0,h.default.prototype.accelerationY=0,h.default.prototype.accelerationZ=0,h.default.prototype.pAccelerationX=0,h.default.prototype.pAccelerationY=0,h.default.prototype.pAccelerationZ=0,h.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},h.default.prototype.rotationX=0,h.default.prototype.rotationY=0,h.default.prototype.rotationZ=0,h.default.prototype.pRotationX=0,h.default.prototype.pRotationY=0;var u=h.default.prototype.pRotationZ=0,n=0,t=0,r="clockwise",s="clockwise",i="clockwise";h.default.prototype.pRotateDirectionX=void 0,h.default.prototype.pRotateDirectionY=void 0,h.default.prototype.pRotateDirectionZ=void 0,h.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},h.default.prototype.turnAxis=void 0;var c=.5,m=30;h.default.prototype.setMoveThreshold=function(w){h.default._validateParameters("setMoveThreshold",arguments),c=w},h.default.prototype.setShakeThreshold=function(w){h.default._validateParameters("setShakeThreshold",arguments),m=w},h.default.prototype._ondeviceorientation=function(w){this._updatePRotations(),this._angleMode===l.radians&&(w.beta=w.beta*(_PI/180),w.gamma=w.gamma*(_PI/180),w.alpha=w.alpha*(_PI/180)),this._setProperty("rotationX",w.beta),this._setProperty("rotationY",w.gamma),this._setProperty("rotationZ",w.alpha),this._handleMotion()},h.default.prototype._ondevicemotion=function(w){this._updatePAccelerations(),this._setProperty("accelerationX",2*w.acceleration.x),this._setProperty("accelerationY",2*w.acceleration.y),this._setProperty("accelerationZ",2*w.acceleration.z),this._handleMotion()},h.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var w,S,j=this._isGlobal?window:this;if(typeof j.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>c||Math.abs(this.accelerationY-this.pAccelerationY)>c||Math.abs(this.accelerationZ-this.pAccelerationZ)>c)&&j.deviceMoved(),typeof j.deviceTurned=="function"){var T=this.rotationX+180,L=this.pRotationX+180,D=u+180;0<T-L&&T-L<270||T-L<-270?r="clockwise":(T-L<0||270<T-L)&&(r="counter-clockwise"),r!==this.pRotateDirectionX&&(D=T),90<Math.abs(T-D)&&Math.abs(T-D)<270&&(D=T,this._setProperty("turnAxis","X"),j.deviceTurned()),this.pRotateDirectionX=r,u=D-180;var R=this.rotationY+180,O=this.pRotationY+180,U=n+180;0<R-O&&R-O<270||R-O<-270?s="clockwise":(R-O<0||270<R-this.pRotationY)&&(s="counter-clockwise"),s!==this.pRotateDirectionY&&(U=R),90<Math.abs(R-U)&&Math.abs(R-U)<270&&(U=R,this._setProperty("turnAxis","Y"),j.deviceTurned()),this.pRotateDirectionY=s,n=U-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?i="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(i="counter-clockwise"),i!==this.pRotateDirectionZ&&(t=this.rotationZ),90<Math.abs(this.rotationZ-t)&&Math.abs(this.rotationZ-t)<270&&(t=this.rotationZ,this._setProperty("turnAxis","Z"),j.deviceTurned()),this.pRotateDirectionZ=i,this._setProperty("turnAxis",void 0)}typeof j.deviceShaken=="function"&&(this.pAccelerationX!==null&&(w=Math.abs(this.accelerationX-this.pAccelerationX),S=Math.abs(this.accelerationY-this.pAccelerationY)),m<w+S&&j.deviceShaken())};var g=h.default;v.default=g},{"../core/constants":253,"../core/main":264}],282:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.prototype.isKeyPressed=!1,o.default.prototype.keyIsPressed=!1,o.default.prototype.key="",o.default.prototype.keyCode=0,o.default.prototype._onkeydown=function(l){if(!this._downKeys[l.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",l.which),this._downKeys[l.which]=!0,this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which);var d=this._isGlobal?window:this;typeof d.keyPressed=="function"&&!l.charCode&&d.keyPressed(l)===!1&&l.preventDefault()}},o.default.prototype._onkeyup=function(l){this._downKeys[l.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which),this._setProperty("keyCode",l.which);var d=this._isGlobal?window:this;typeof d.keyReleased=="function"&&d.keyReleased(l)===!1&&l.preventDefault()},o.default.prototype._onkeypress=function(l){if(l.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",l.which),this._setProperty("key",l.key||String.fromCharCode(l.which)||l.which);var d=this._isGlobal?window:this;typeof d.keyTyped=="function"&&d.keyTyped(l)===!1&&l.preventDefault()}},o.default.prototype._onblur=function(l){this._downKeys={}},o.default.prototype.keyIsDown=function(l){return o.default._validateParameters("keyIsDown",arguments),this._downKeys[l]||!1},o.default.prototype._areDownKeys=function(){for(var l in this._downKeys)if(this._downKeys.hasOwnProperty(l)&&this._downKeys[l]===!0)return!0;return!1};var h=o.default;v.default=h},{"../core/main":264}],283:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=d();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}h.default.prototype.movedX=0,h.default.prototype.movedY=0,h.default.prototype._hasMouseInteracted=!1,h.default.prototype.mouseX=0,h.default.prototype.mouseY=0,h.default.prototype.pmouseX=0,h.default.prototype.pmouseY=0,h.default.prototype.winMouseX=0,h.default.prototype.winMouseY=0,h.default.prototype.pwinMouseX=0,h.default.prototype.pwinMouseY=0,h.default.prototype.mouseButton=0,h.default.prototype.mouseIsPressed=!1,h.default.prototype._updateNextMouseCoords=function(n){if(this._curElement!==null&&(!n.touches||0<n.touches.length)){var t=function(r,s,i,c){c&&!c.clientX&&(c.touches?c=c.touches[0]:c.changedTouches&&(c=c.changedTouches[0]));var m=r.getBoundingClientRect(),g=r.scrollWidth/s||1,w=r.scrollHeight/i||1;return{x:(c.clientX-m.left)/g,y:(c.clientY-m.top)/w,winX:c.clientX,winY:c.clientY,id:c.identifier}}(this._curElement.elt,this.width,this.height,n);this._setProperty("movedX",n.movementX),this._setProperty("movedY",n.movementY),this._setProperty("mouseX",t.x),this._setProperty("mouseY",t.y),this._setProperty("winMouseX",t.winX),this._setProperty("winMouseY",t.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},h.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},h.default.prototype._setMouseButton=function(n){n.button===1?this._setProperty("mouseButton",l.CENTER):n.button===2?this._setProperty("mouseButton",l.RIGHT):this._setProperty("mouseButton",l.LEFT)},h.default.prototype._onmousemove=function(n){var t=this._isGlobal?window:this;this._updateNextMouseCoords(n),this.mouseIsPressed?typeof t.mouseDragged=="function"?t.mouseDragged(n)===!1&&n.preventDefault():typeof t.touchMoved=="function"&&t.touchMoved(n)===!1&&n.preventDefault():typeof t.mouseMoved=="function"&&t.mouseMoved(n)===!1&&n.preventDefault()},h.default.prototype._onmousedown=function(n){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(n),this._updateNextMouseCoords(n),typeof t.mousePressed=="function"?t.mousePressed(n)===!1&&n.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof t.touchStarted=="function"&&t.touchStarted(n)===!1&&n.preventDefault()},h.default.prototype._onmouseup=function(n){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof t.mouseReleased=="function"?t.mouseReleased(n)===!1&&n.preventDefault():typeof t.touchEnded=="function"&&t.touchEnded(n)===!1&&n.preventDefault()},h.default.prototype._ondragend=h.default.prototype._onmouseup,h.default.prototype._ondragover=h.default.prototype._onmousemove,h.default.prototype._onclick=function(n){var t=this._isGlobal?window:this;typeof t.mouseClicked=="function"&&t.mouseClicked(n)===!1&&n.preventDefault()},h.default.prototype._ondblclick=function(n){var t=this._isGlobal?window:this;typeof t.doubleClicked=="function"&&t.doubleClicked(n)===!1&&n.preventDefault()},h.default.prototype._mouseWheelDeltaY=0,h.default.prototype._pmouseWheelDeltaY=0,h.default.prototype._onwheel=function(n){var t=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",n.deltaY),typeof t.mouseWheel=="function"&&(n.delta=n.deltaY,t.mouseWheel(n)===!1&&n.preventDefault())},h.default.prototype.requestPointerLock=function(){var n=this._curElement.elt;return n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock,n.requestPointerLock?(n.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},h.default.prototype.exitPointerLock=function(){document.exitPointerLock()};var u=h.default;v.default=u},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],284:[function(e,x,v){e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};function h(d,u,n,t,r){var s=4<arguments.length&&r!==void 0?r:0,i=d.getBoundingClientRect(),c=d.scrollWidth/u||1,m=d.scrollHeight/n||1,g=t.touches[s]||t.changedTouches[s];return{x:(g.clientX-i.left)/c,y:(g.clientY-i.top)/m,winX:g.clientX,winY:g.clientY,id:g.identifier}}o.default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(d){if(this._curElement!==null){for(var u=[],n=0;n<d.touches.length;n++)u[n]=h(this._curElement.elt,this.width,this.height,d,n);this._setProperty("touches",u)}},o.default.prototype._ontouchstart=function(d){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(d),this._updateNextMouseCoords(d),this._updateMouseCoords(),typeof u.touchStarted=="function"?u.touchStarted(d)===!1&&d.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof u.mousePressed=="function"&&u.mousePressed(d)===!1&&d.preventDefault()},o.default.prototype._ontouchmove=function(d){var u=this._isGlobal?window:this;this._updateTouchCoords(d),this._updateNextMouseCoords(d),typeof u.touchMoved=="function"?u.touchMoved(d)===!1&&d.preventDefault():typeof u.mouseDragged=="function"&&u.mouseDragged(d)===!1&&d.preventDefault()},o.default.prototype._ontouchend=function(d){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(d),this._updateNextMouseCoords(d);var u=this._isGlobal?window:this;typeof u.touchEnded=="function"?u.touchEnded(d)===!1&&d.preventDefault():typeof u.mouseReleased=="function"&&u.mouseReleased(d)===!1&&d.preventDefault()};var l=o.default;v.default=l},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],285:[function(e,x,v){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o,h,l,d={};function u(t,r){for(var s,i,c,m,g,w,S,j,T,L,D=d._toPixels(t),R=t.width,O=t.height,U=R*O,P=new Int32Array(U),G=0;G<U;G++)P[G]=d._getARGB(D,G);var V,te,ne,K,se=new Int32Array(U),J=new Int32Array(U),ue=new Int32Array(U),me=new Int32Array(U),_e=0;for(function(Re){var ve=3.5*Re|0;if(f!==(ve=ve<1?1:ve<248?ve:248)){o=1+(f=ve)<<1,h=new Int32Array(o),l=new Array(o);for(var ye=0;ye<o;ye++)l[ye]=new Int32Array(256);for(var k,F,H,Z,oe=1,$=ve-1;oe<ve;oe++){h[ve+oe]=h[$]=F=$*$,H=l[ve+oe],Z=l[$--];for(var xe=0;xe<256;xe++)H[xe]=Z[xe]=F*xe}k=h[ve]=ve*ve,H=l[ve];for(var ee=0;ee<256;ee++)H[ee]=k*ee}}(r),te=0;te<O;te++){for(V=0;V<R;V++){if(m=c=i=g=s=0,(w=V-f)<0)L=-w,w=0;else{if(R<=w)break;L=0}for(ne=L;ne<o&&!(R<=w);ne++){var he=P[w+_e];g+=(K=l[ne])[(-16777216&he)>>>24],i+=K[(16711680&he)>>16],c+=K[(65280&he)>>8],m+=K[255&he],s+=h[ne],w++}se[S=_e+V]=g/s,J[S]=i/s,ue[S]=c/s,me[S]=m/s}_e+=R}for(T=(j=-f)*R,te=_e=0;te<O;te++){for(V=0;V<R;V++){if(m=c=i=g=s=0,j<0)L=S=-j,w=V;else{if(O<=j)break;L=0,S=j,w=V+T}for(ne=L;ne<o&&!(O<=S);ne++)g+=(K=l[ne])[se[w]],i+=K[J[w]],c+=K[ue[w]],m+=K[me[w]],s+=h[ne],S++,w+=R;P[V+_e]=g/s<<24|i/s<<16|c/s<<8|m/s}_e+=R,T+=R,j++}d._setPixels(D,P)}d._toPixels=function(t){if(t instanceof ImageData)return t.data;if(t.getContext("2d"))return t.getContext("2d").getImageData(0,0,t.width,t.height).data;if(t.getContext("webgl")){var r=t.getContext("webgl"),s=r.drawingBufferWidth*r.drawingBufferHeight*4,i=new Uint8Array(s);return r.readPixels(0,0,t.width,t.height,r.RGBA,r.UNSIGNED_BYTE,i),i}},d._getARGB=function(t,r){var s=4*r;return t[3+s]<<24&4278190080|t[s]<<16&16711680|t[1+s]<<8&65280|255&t[2+s]},d._setPixels=function(t,r){for(var s=0,i=0,c=t.length;i<c;i++)t[(s=4*i)+0]=(16711680&r[i])>>>16,t[s+1]=(65280&r[i])>>>8,t[s+2]=255&r[i],t[s+3]=(4278190080&r[i])>>>24},d._toImageData=function(t){return t instanceof ImageData?t:t.getContext("2d").getImageData(0,0,t.width,t.height)},d._createImageData=function(t,r){return d._tmpCanvas=document.createElement("canvas"),d._tmpCtx=d._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(t,r)},d.apply=function(t,r,s){var i=t.getContext("2d"),c=i.getImageData(0,0,t.width,t.height),m=r(c,s);m instanceof ImageData?i.putImageData(m,0,0,0,0,t.width,t.height):i.putImageData(c,0,0,0,0,t.width,t.height)},d.threshold=function(t,r){var s=d._toPixels(t);r===void 0&&(r=.5);for(var i=Math.floor(255*r),c=0;c<s.length;c+=4){var m=void 0;m=i<=.2126*s[c]+.7152*s[c+1]+.0722*s[c+2]?255:0,s[c]=s[c+1]=s[c+2]=m}},d.gray=function(t){for(var r=d._toPixels(t),s=0;s<r.length;s+=4){var i=.2126*r[s]+.7152*r[s+1]+.0722*r[s+2];r[s]=r[s+1]=r[s+2]=i}},d.opaque=function(t){for(var r=d._toPixels(t),s=0;s<r.length;s+=4)r[s+3]=255;return r},d.invert=function(t){for(var r=d._toPixels(t),s=0;s<r.length;s+=4)r[s]=255-r[s],r[s+1]=255-r[s+1],r[s+2]=255-r[s+2]},d.posterize=function(t,r){var s=d._toPixels(t);if(r<2||255<r)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var i=r-1,c=0;c<s.length;c+=4){var m=s[c],g=s[c+1],w=s[c+2];s[c]=255*(m*r>>8)/i,s[c+1]=255*(g*r>>8)/i,s[c+2]=255*(w*r>>8)/i}},d.dilate=function(t){for(var r,s,i,c,m,g,w,S,j,T,L,D,R,O,U,P,G,V=d._toPixels(t),te=0,ne=V.length?V.length/4:0,K=new Int32Array(ne);te<ne;)for(s=(r=te)+t.width;te<s;)i=c=d._getARGB(V,te),(w=te-1)<r&&(w=te),s<=(g=te+1)&&(g=te),(S=te-t.width)<0&&(S=0),ne<=(j=te+t.width)&&(j=te),D=d._getARGB(V,S),L=d._getARGB(V,w),R=d._getARGB(V,j),(m=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))<(U=77*(L>>16&255)+151*(L>>8&255)+28*(255&L))&&(c=L,m=U),m<(O=77*((T=d._getARGB(V,g))>>16&255)+151*(T>>8&255)+28*(255&T))&&(c=T,m=O),m<(P=77*(D>>16&255)+151*(D>>8&255)+28*(255&D))&&(c=D,m=P),m<(G=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))&&(c=R,m=G),K[te++]=c;d._setPixels(V,K)},d.erode=function(t){for(var r,s,i,c,m,g,w,S,j,T,L,D,R,O,U,P,G,V=d._toPixels(t),te=0,ne=V.length?V.length/4:0,K=new Int32Array(ne);te<ne;)for(s=(r=te)+t.width;te<s;)i=c=d._getARGB(V,te),(w=te-1)<r&&(w=te),s<=(g=te+1)&&(g=te),(S=te-t.width)<0&&(S=0),ne<=(j=te+t.width)&&(j=te),D=d._getARGB(V,S),L=d._getARGB(V,w),R=d._getARGB(V,j),(U=77*(L>>16&255)+151*(L>>8&255)+28*(255&L))<(m=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(c=L,m=U),(O=77*((T=d._getARGB(V,g))>>16&255)+151*(T>>8&255)+28*(255&T))<m&&(c=T,m=O),(P=77*(D>>16&255)+151*(D>>8&255)+28*(255&D))<m&&(c=D,m=P),(G=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))<m&&(c=R,m=G),K[te++]=c;d._setPixels(V,K)},d.blur=function(t,r){u(t,r)};var n=d;v.default=n},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],286:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=h(e("../core/main")),o=h(e("omggif"));function h(u){return u&&u.__esModule?u:{default:u}}function l(u){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(u)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.createImage=function(u,n){return f.default._validateParameters("createImage",arguments),new f.default.Image(u,n)},f.default.prototype.saveCanvas=function(){f.default._validateParameters("saveCanvas",arguments);var u,n,t,r,s=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(u=arguments[0],s.shift()):arguments[0]instanceof f.default.Element?(u=arguments[0].elt,s.shift()):u=this._curElement&&this._curElement.elt,1<=s.length&&(n=s[0]),2<=s.length&&(t=s[1]),t=t||f.default.prototype._checkFileExtension(n,t)[1]||"png"){default:r="image/png";break;case"jpeg":case"jpg":r="image/jpeg"}u.toBlob(function(i){f.default.prototype.downloadFile(i,n,t)},r)},f.default.prototype.saveGif=function(u,n){var t=u.gifProperties,r=t.loopLimit;r===1?r=null:r===null&&(r=0);for(var s=new Uint8Array(u.width*u.height*t.numFrames),i=[],c={},m=0;m<t.numFrames;m++){for(var g=new Set,w=t.frames[m].image.data,S=w.length,j=new Uint32Array(u.width*u.height),T=0,L=0;T<S;T+=4,L++){var D=w[T+0]<<16|w[T+1]<<8|w[T+2]<<0;g.add(D),j[L]=D}var R=l(g).sort().toString();c[R]===void 0?c[R]={freq:1,frames:[m]}:(c[R].freq+=1,c[R].frames.push(m)),i.push(j)}var O=[],U=Object.keys(c).sort(function(ye,k){return c[k].freq-c[ye].freq}),P=U[0].split(",").map(function(ye){return parseInt(ye)});O=O.concat(c[P].frames);for(var G=new Set(P),V=1;V<U.length;V++){var te=U[V].split(",").map(function(ye){return parseInt(ye)}).filter(function(ye){return!G.has(ye)});if(P.length+te.length<=256){for(var ne=0;ne<te.length;ne++)P.push(te[ne]),G.add(te[ne]);O=O.concat(c[U[V]].frames)}}O=new Set(O);for(var K={},se=0;se<P.length;se++)K[P[se]]||(K[P[se]]=se);for(var J=1;J<P.length;)J<<=1;P.length=J;for(var ue={loop:r,palette:new Uint32Array(P)},me=new o.default.GifWriter(s,u.width,u.height,ue),_e={},he=function(ye){for(var k=!O.has(ye),F=k?[]:P,H=new Uint8Array(u.width*u.height),Z={},oe=new Set,$=0;$<i[ye].length;$++){var xe=i[ye][$];k?(Z[xe]===void 0&&(Z[xe]=F.length,F.push(xe)),H[$]=Z[xe]):H[$]=K[xe],0<ye&&i[ye-1][$]!==xe&&oe.add(xe)}var ee={},ge=F.filter(function(je){return!oe.has(je)});if(0<ge.length){var fe=ge[0],le=k?Z[fe]:K[fe];if(0<ye){for(var Me=0;Me<i[ye].length;Me++)i[ye-1][Me]===i[ye][Me]&&(H[Me]=le);ee.transparent=le,_e.frameOpts.disposal=1}}if(ee.delay=t.frames[ye].delay/10,k){for(var Ce=1;Ce<F.length;)Ce<<=1;F.length=Ce,ee.palette=new Uint32Array(F)}0<ye&&me.addFrame(0,0,u.width,u.height,_e.pixelPaletteIndex,_e.frameOpts),_e={pixelPaletteIndex:H,frameOpts:ee}},Re=0;Re<t.numFrames;Re++)he(Re);_e.frameOpts.disposal=1,me.addFrame(0,0,u.width,u.height,_e.pixelPaletteIndex,_e.frameOpts);var ve=new Blob([s.slice(0,me.end())],{type:"image/gif"});f.default.prototype.downloadFile(ve,n,"gif")},f.default.prototype.saveFrames=function(u,n,t,r,s){f.default._validateParameters("saveFrames",arguments);var i=t||3;i=f.default.prototype.constrain(i,0,15),i*=1e3;var c=r||15;c=f.default.prototype.constrain(c,0,22);var m=0,g=f.default.prototype._makeFrame,w=this._curElement.elt,S=[],j=setInterval(function(){S.push(g(u+m,n,w)),m++},1e3/c);setTimeout(function(){if(clearInterval(j),s)s(S);else{var T=!0,L=!1,D=void 0;try{for(var R,O=S[Symbol.iterator]();!(T=(R=O.next()).done);T=!0){var U=R.value;f.default.prototype.downloadFile(U.imageData,U.filename,U.ext)}}catch(P){L=!0,D=P}finally{try{T||O.return==null||O.return()}finally{if(L)throw D}}}S=[]},i+.01)},f.default.prototype._makeFrame=function(u,n,t){var r,s;if(r=this?this._curElement.elt:t,n)switch(n.toLowerCase()){case"png":s="image/png";break;case"jpeg":case"jpg":s="image/jpeg";break;default:s="image/png"}else n="png",s="image/png";var i=r.toDataURL(s);i=i.replace(s,"image/octet-stream");var c={};return c.imageData=i,c.filename=u,c.ext=n,c};var d=f.default;v.default=d},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,omggif:238}],287:[function(e,x,v){function f(i){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o=t(e("../core/main")),h=t(e("./filters")),l=t(e("../core/helpers")),d=function(i){if(i&&i.__esModule)return i;if(i===null||f(i)!=="object"&&typeof i!="function")return{default:i};var c=n();if(c&&c.has(i))return c.get(i);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in i)if(Object.prototype.hasOwnProperty.call(i,w)){var S=g?Object.getOwnPropertyDescriptor(i,w):null;S&&(S.get||S.set)?Object.defineProperty(m,w,S):m[w]=i[w]}return m.default=i,c&&c.set(i,m),m}(e("../core/constants")),u=t(e("omggif"));function n(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return n=function(){return i},i}function t(i){return i&&i.__esModule?i:{default:i}}function r(i,c){return 0<i&&i<c?i:c}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),o.default.prototype.loadImage=function(i,c,m){o.default._validateParameters("loadImage",arguments);var g=new o.default.Image(1,1,this),w=this,S=new Request(i,{method:"GET",mode:"cors"});return fetch(i,S).then(function(j){var T=j.headers.get("content-type");if(T===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),T&&T.includes("image/gif"))j.arrayBuffer().then(function(D){D&&function(R,O,U,P,G){var V=new u.default.GifReader(R);O.width=O.canvas.width=V.width,O.height=O.canvas.height=V.height;var te=[],ne=V.numFrames(),K=new Uint8ClampedArray(O.width*O.height*4);if(1<ne){for(var se=function(ve,ye){try{ye.decodeAndBlitFrameRGBA(ve,K)}catch(k){o.default._friendlyFileLoadError(8,O.src),typeof P=="function"?P(k):console.error(k)}},J=0;J<ne;J++){var ue=V.frameInfo(J),me=O.drawingContext.getImageData(0,0,O.width,O.height);K=me.data.slice(),se(J,V);var _e=new ImageData(K,O.width,O.height);O.drawingContext.putImageData(_e,0,0);var he=ue.delay;he===0&&(he=10),te.push({image:O.drawingContext.getImageData(0,0,O.width,O.height),delay:10*he}),ue.disposal===2?O.drawingContext.clearRect(ue.x,ue.y,ue.width,ue.height):ue.disposal===3&&O.drawingContext.putImageData(me,0,0,ue.x,ue.y,ue.width,ue.height)}var Re=V.loopCount();Re===null?Re=1:Re===0&&(Re=null),O.drawingContext.putImageData(te[0].image,0,0),O.gifProperties={displayIndex:0,loopLimit:Re,loopCount:0,frames:te,numFrames:ne,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof U=="function"&&U(O),G()}(new Uint8Array(D),g,c,m,function(R){w._decrementPreload()}.bind(w))},function(D){typeof m=="function"?m(D):console.error(D)});else{var L=new Image;L.onload=function(){g.width=g.canvas.width=L.width,g.height=g.canvas.height=L.height,g.drawingContext.drawImage(L,0,0),g.modified=!0,typeof c=="function"&&c(g),w._decrementPreload()},L.onerror=function(D){o.default._friendlyFileLoadError(0,L.src),typeof m=="function"?m(D):console.error(D)},i.indexOf("data:image/")!==0&&(L.crossOrigin="Anonymous"),L.src=i}g.modified=!0}).catch(function(j){o.default._friendlyFileLoadError(0,i),typeof m=="function"?m(j):console.error(j)}),g},o.default.prototype.image=function(i,c,m,g,w,S,j,T,L){o.default._validateParameters("image",arguments);var D=i.width,R=i.height;i.elt&&i.elt.videoWidth&&!i.canvas&&(D=i.elt.videoWidth,R=i.elt.videoHeight);var O=c,U=m,P=g||D,G=w||R,V=S||0,te=j||0,ne=T||D,K=L||R;ne=r(ne,D),K=r(K,R);var se=1;i.elt&&!i.canvas&&i.elt.style.width&&(se=i.elt.videoWidth&&!g?i.elt.videoWidth:i.elt.width,se/=parseInt(i.elt.style.width,10)),V*=se,te*=se,K*=se,ne*=se;var J=l.default.modeAdjust(O,U,P,G,this._renderer._imageMode);this._renderer.image(i,V,te,ne,K,J.x,J.y,J.w,J.h)},o.default.prototype.tint=function(){for(var i=arguments.length,c=new Array(i),m=0;m<i;m++)c[m]=arguments[m];o.default._validateParameters("tint",c);var g=this.color.apply(this,c);this._renderer._tint=g.levels},o.default.prototype.noTint=function(){this._renderer._tint=null},o.default.prototype._getTintedImageCanvas=function(i){if(!i.canvas)return i;var c=h.default._toPixels(i.canvas),m=document.createElement("canvas");m.width=i.canvas.width,m.height=i.canvas.height;for(var g=m.getContext("2d"),w=g.createImageData(i.canvas.width,i.canvas.height),S=w.data,j=0;j<c.length;j+=4){var T=c[j],L=c[j+1],D=c[j+2],R=c[j+3];S[j]=T*this._renderer._tint[0]/255,S[j+1]=L*this._renderer._tint[1]/255,S[j+2]=D*this._renderer._tint[2]/255,S[j+3]=R*this._renderer._tint[3]/255}return g.putImageData(w,0,0),m},o.default.prototype.imageMode=function(i){o.default._validateParameters("imageMode",arguments),i!==d.CORNER&&i!==d.CORNERS&&i!==d.CENTER||(this._renderer._imageMode=i)};var s=o.default;v.default=s},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/helpers":260,"../core/main":264,"./filters":285,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.includes":185,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,omggif:238}],288:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=h(e("../core/main")),o=h(e("./filters"));function h(d){return d&&d.__esModule?d:{default:d}}f.default.Image=function(d,u){this.width=d,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},f.default.Image.prototype._animateGif=function(d){var u=this.gifProperties,n=d._lastFrameTime;if(u.lastChangeTime===0&&(u.lastChangeTime=n),u.playing){u.timeDisplayed=n-u.lastChangeTime;var t=u.frames[u.displayIndex].delay;if(u.timeDisplayed>=t){var r=Math.floor(u.timeDisplayed/t);if(u.timeDisplayed=0,u.lastChangeTime=n,u.displayIndex+=r,u.loopCount=Math.floor(u.displayIndex/u.numFrames),u.loopLimit!==null&&u.loopCount>=u.loopLimit)u.playing=!1;else{var s=u.displayIndex%u.numFrames;this.drawingContext.putImageData(u.frames[s].image,0,0),u.displayIndex=s,this.setModified(!0)}}}},f.default.Image.prototype._setProperty=function(d,u){this[d]=u,this.setModified(!0)},f.default.Image.prototype.loadPixels=function(){f.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},f.default.Image.prototype.updatePixels=function(d,u,n,t){f.default.Renderer2D.prototype.updatePixels.call(this,d,u,n,t),this.setModified(!0)},f.default.Image.prototype.get=function(d,u,n,t){return f.default._validateParameters("p5.Image.get",arguments),f.default.Renderer2D.prototype.get.apply(this,arguments)},f.default.Image.prototype._getPixel=f.default.Renderer2D.prototype._getPixel,f.default.Image.prototype.set=function(d,u,n){f.default.Renderer2D.prototype.set.call(this,d,u,n),this.setModified(!0)},f.default.Image.prototype.resize=function(d,u){d===0&&u===0?(d=this.canvas.width,u=this.canvas.height):d===0?d=this.canvas.width*u/this.canvas.height:u===0&&(u=this.canvas.height*d/this.canvas.width),d=Math.floor(d),u=Math.floor(u);var n=document.createElement("canvas");if(n.width=d,n.height=u,this.gifProperties)for(var t=this.gifProperties,r=function(c,m){for(var g=0,w=0;w<m.height;w++)for(var S=0;S<m.width;S++){var j=Math.floor(S*c.width/m.width),T=4*(Math.floor(w*c.height/m.height)*c.width+j);m.data[g++]=c.data[T++],m.data[g++]=c.data[T++],m.data[g++]=c.data[T++],m.data[g++]=c.data[T++]}},s=0;s<t.numFrames;s++){var i=this.drawingContext.createImageData(d,u);r(t.frames[s].image,i),t.frames[s].image=i}n.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,n.width,n.height),this.canvas.width=this.width=d,this.canvas.height=this.height=u,this.drawingContext.drawImage(n,0,0,d,u,0,0,d,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},f.default.Image.prototype.copy=function(){for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];f.default.prototype.copy.apply(this,u)},f.default.Image.prototype.mask=function(d){d===void 0&&(d=this);var u=this.drawingContext.globalCompositeOperation,n=1;d instanceof f.default.Renderer&&(n=d._pInst._pixelDensity);var t=[d,0,0,n*d.width,n*d.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",f.default.Image.prototype.copy.apply(this,t),this.drawingContext.globalCompositeOperation=u,this.setModified(!0)},f.default.Image.prototype.filter=function(d,u){o.default.apply(this.canvas,o.default[d],u),this.setModified(!0)},f.default.Image.prototype.blend=function(){for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];f.default._validateParameters("p5.Image.blend",arguments),f.default.prototype.blend.apply(this,u),this.setModified(!0)},f.default.Image.prototype.setModified=function(d){this._modified=d},f.default.Image.prototype.isModified=function(){return this._modified},f.default.Image.prototype.save=function(d,u){this.gifProperties?f.default.prototype.saveGif(this,d):f.default.prototype.saveCanvas(this.canvas,d,u)},f.default.Image.prototype.reset=function(){if(this.gifProperties){var d=this.gifProperties;d.playing=!0,d.timeSinceStart=0,d.timeDisplayed=0,d.lastChangeTime=0,d.loopCount=0,d.displayIndex=0,this.drawingContext.putImageData(d.frames[0].image,0,0)}},f.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var d=this.gifProperties;return d.displayIndex%d.numFrames}},f.default.Image.prototype.setFrame=function(d){if(this.gifProperties){var u=this.gifProperties;d<u.numFrames&&0<=d?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=d,this.drawingContext.putImageData(u.frames[d].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},f.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},f.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},f.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},f.default.Image.prototype.delay=function(d,u){if(this.gifProperties){var n=this.gifProperties;if(u<n.numFrames&&0<=u)n.frames[u].delay=d;else{var t=!0,r=!1,s=void 0;try{for(var i,c=n.frames[Symbol.iterator]();!(t=(i=c.next()).done);t=!0)i.value.delay=d}catch(m){r=!0,s=m}finally{try{t||c.return==null||c.return()}finally{if(r)throw s}}}}};var l=f.default.Image;v.default=l},{"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],289:[function(e,x,v){e("core-js/modules/es.array.filter"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=h(e("../core/main")),o=h(e("./filters"));function h(d){return d&&d.__esModule?d:{default:d}}e("../color/p5.Color"),f.default.prototype.pixels=[],f.default.prototype.blend=function(){for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];var t;f.default._validateParameters("blend",u),this._renderer?(t=this._renderer).blend.apply(t,u):f.default.Renderer2D.prototype.blend.apply(this,u)},f.default.prototype.copy=function(){for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];var t,r,s,i,c,m,g,w,S;if(f.default._validateParameters("copy",u),u.length===9)t=u[0],r=u[1],s=u[2],i=u[3],c=u[4],m=u[5],g=u[6],w=u[7],S=u[8];else{if(u.length!==8)throw new Error("Signature not supported");t=this,r=u[0],s=u[1],i=u[2],c=u[3],m=u[4],g=u[5],w=u[6],S=u[7]}f.default.prototype._copyHelper(this,t,r,s,i,c,m,g,w,S)},f.default.prototype._copyHelper=function(d,u,n,t,r,s,i,c,m,g){u.loadPixels();var w=u.canvas.width/u.width,S=0,j=0;u._renderer&&u._renderer.isP3D&&(S=u.width/2,j=u.height/2),d._renderer&&d._renderer.isP3D?f.default.RendererGL.prototype.image.call(d._renderer,u,n+S,t+j,r,s,i,c,m,g):d.drawingContext.drawImage(u.canvas,w*(n+S),w*(t+j),w*r,w*s,i,c,m,g)},f.default.prototype.filter=function(d,u){f.default._validateParameters("filter",arguments),this.canvas!==void 0?o.default.apply(this.canvas,o.default[d],u):o.default.apply(this.elt,o.default[d],u)},f.default.prototype.get=function(d,u,n,t){var r;return f.default._validateParameters("get",arguments),(r=this._renderer).get.apply(r,arguments)},f.default.prototype.loadPixels=function(){for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];f.default._validateParameters("loadPixels",u),this._renderer.loadPixels()},f.default.prototype.set=function(d,u,n){this._renderer.set(d,u,n)},f.default.prototype.updatePixels=function(d,u,n,t){f.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(d,u,n,t)};var l=f.default;v.default=l},{"../color/p5.Color":251,"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152}],290:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=l(e("../core/main"));e("whatwg-fetch"),e("es6-promise/auto");var o=l(e("fetch-jsonp")),h=l(e("file-saver"));function l(s){return s&&s.__esModule?s:{default:s}}function d(s){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function u(s,i){var c={};if((i=i||[])===void 0)for(var m=0;m<s.length;m++)i[m.toString()]=m;for(var g=0;g<i.length;g++){var w=i[g],S=s[g];c[w]=S}return c}function n(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function t(s,i){i&&i!==!0&&i!=="true"||(i="");var c="";return(s=s||"untitled")&&s.includes(".")&&(c=s.split(".").pop()),i&&c!==i&&(c=i,s="".concat(s,".").concat(c)),[s,c]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),f.default.prototype.loadJSON=function(){for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];f.default._validateParameters("loadJSON",i);for(var m,g,w,S=i[0],j={},T="json",L=1;L<i.length;L++){var D=i[L];typeof D=="string"?D!=="jsonp"&&D!=="json"||(T=D):typeof D=="function"?m?g=D:m=D:d(D)==="object"&&(D.hasOwnProperty("jsonpCallback")||D.hasOwnProperty("jsonpCallbackFunction"))&&(T="jsonp",w=D)}var R=this;return this.httpDo(S,"GET",w,T,function(O){for(var U in O)j[U]=O[U];m!==void 0&&m(O),R._decrementPreload()},function(O){if(f.default._friendlyFileLoadError(5,S),!g)throw O;g(O)}),j},f.default.prototype.loadStrings=function(){for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];f.default._validateParameters("loadStrings",i);for(var m,g,w=[],S=1;S<i.length;S++){var j=i[S];typeof j=="function"&&(m===void 0?m=j:g===void 0&&(g=j))}var T=this;return f.default.prototype.httpDo.call(this,i[0],"GET","text",function(L){for(var D=L.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),R=0,O=D.length;R<O;R+=32768)Array.prototype.push.apply(w,D.slice(R,Math.min(R+32768,O)));m!==void 0&&m(w),T._decrementPreload()},function(L){if(f.default._friendlyFileLoadError(3,L),!g)throw L;g(L)}),w},f.default.prototype.loadTable=function(s){var i,c,m,g=!1,w=s.substring(s.lastIndexOf(".")+1,s.length);w==="csv"?m=",":w==="ssv"?m=";":w==="tsv"&&(m="	");for(var S=1;S<arguments.length;S++)typeof arguments[S]=="function"?i===void 0?i=arguments[S]:c===void 0&&(c=arguments[S]):typeof arguments[S]=="string"&&(arguments[S]==="header"&&(g=!0),arguments[S]==="csv"?m=",":arguments[S]==="ssv"?m=";":arguments[S]==="tsv"&&(m="	"));var j=new f.default.Table,T=this;return this.httpDo(s,"GET","table",function(L){for(var D,R,O={},U=[],P=0,G=null,V=function(){O.currentState=0,O.token=""},te=function(){G.push(O.token),V()},ne=function(){O.currentState=4,U.push(G),G=null};;){if((D=L[P++])==null){if(O.escaped)throw new Error("Unclosed quote in file.");if(G){te(),ne();break}}if(G===null&&(O.escaped=!1,G=[],V()),O.currentState===0){if(D==='"'){O.escaped=!0,O.currentState=1;continue}O.currentState=1}if(O.currentState===1&&O.escaped)if(D==='"')L[P]==='"'?(O.token+='"',P++):(O.escaped=!1,O.currentState=2);else{if(D==="\r")continue;O.token+=D}else D==="\r"?(L[P]===`
`&&P++,te(),ne()):D===`
`?(te(),ne()):D===m?te():O.currentState===1&&(O.token+=D)}if(g)j.columns=U.shift();else for(var K=0;K<U[0].length;K++)j.columns[K]="null";for(var se=0;se<U.length;se++)(U[se].length!==1||U[se][0]!=="undefined"&&U[se][0]!=="")&&((R=new f.default.TableRow).arr=U[se],R.obj=u(U[se],j.columns),j.addRow(R));typeof i=="function"&&i(j),T._decrementPreload()},function(L){f.default._friendlyFileLoadError(2,s),c?c(L):console.error(L)}),j},f.default.prototype.loadXML=function(){for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];for(var m,g,w=new f.default.XML,S=1;S<i.length;S++){var j=i[S];typeof j=="function"&&(m===void 0?m=j:g===void 0&&(g=j))}var T=this;return this.httpDo(i[0],"GET","xml",function(L){for(var D in L)w[D]=L[D];m!==void 0&&m(w),T._decrementPreload()},function(L){if(f.default._friendlyFileLoadError(1,L),!g)throw L;g(L)}),w},f.default.prototype.loadBytes=function(s,i,c){var m={},g=this;return this.httpDo(s,"GET","arrayBuffer",function(w){m.bytes=new Uint8Array(w),typeof i=="function"&&i(m),g._decrementPreload()},function(w){if(f.default._friendlyFileLoadError(6,s),!c)throw w;c(w)}),m},f.default.prototype.httpGet=function(){f.default._validateParameters("httpGet",arguments);var s=Array.prototype.slice.call(arguments);return s.splice(1,0,"GET"),f.default.prototype.httpDo.apply(this,s)},f.default.prototype.httpPost=function(){f.default._validateParameters("httpPost",arguments);var s=Array.prototype.slice.call(arguments);return s.splice(1,0,"POST"),f.default.prototype.httpDo.apply(this,s)},f.default.prototype.httpDo=function(){for(var s,i,c,m,g,w={},S=0,j="text/plain",T=arguments.length-1;0<T&&typeof(T<0||arguments.length<=T?void 0:arguments[T])=="function";T--)S++;var L=arguments.length<=0?void 0:arguments[0];if(arguments.length-S==2&&typeof L=="string"&&d(arguments.length<=1?void 0:arguments[1])==="object")m=new Request(L,arguments.length<=1?void 0:arguments[1]),i=arguments.length<=2?void 0:arguments[2],c=arguments.length<=3?void 0:arguments[3];else{for(var D,R="GET",O=1;O<arguments.length;O++){var U=O<0||arguments.length<=O?void 0:arguments[O];if(typeof U=="string")U==="GET"||U==="POST"||U==="PUT"||U==="DELETE"?R=U:U==="json"||U==="jsonp"||U==="binary"||U==="arrayBuffer"||U==="xml"||U==="text"||U==="table"?s=U:D=U;else if(typeof U=="number")D=U.toString();else if(d(U)==="object")if(U.hasOwnProperty("jsonpCallback")||U.hasOwnProperty("jsonpCallbackFunction"))for(var P in U)w[P]=U[P];else j=U instanceof f.default.XML?(D=U.serialize(),"application/xml"):(D=JSON.stringify(U),"application/json");else typeof U=="function"&&(i?c=U:i=U)}var G=R==="GET"?new Headers:new Headers({"Content-Type":j});m=new Request(L,{method:R,mode:"cors",body:D,headers:G})}return(g=(g=(s=s||(L.includes("json")?"json":L.includes("xml")?"xml":"text"))==="jsonp"?(0,o.default)(L,w):fetch(m)).then(function(V){if(!V.ok){var te=new Error(V.body);throw te.status=V.status,te.ok=!1,te}var ne=0;switch(s!=="jsonp"&&(ne=V.headers.get("content-length")),ne&&64e6<ne&&f.default._friendlyFileLoadError(7,L),s){case"json":case"jsonp":return V.json();case"binary":return V.blob();case"arrayBuffer":return V.arrayBuffer();case"xml":return V.text().then(function(K){var se=new DOMParser().parseFromString(K,"text/xml");return new f.default.XML(se.documentElement)});default:return V.text()}})).then(i||function(){}),g.catch(c||console.error),g},window.URL=window.URL||window.webkitURL,f.default.prototype._pWriters=[],f.default.prototype.createWriter=function(s,i){var c;for(var m in f.default.prototype._pWriters)if(f.default.prototype._pWriters[m].name===s)return c=new f.default.PrintWriter(s+this.millis(),i),f.default.prototype._pWriters.push(c),c;return c=new f.default.PrintWriter(s,i),f.default.prototype._pWriters.push(c),c},f.default.PrintWriter=function(s,i){var c=this;this.name=s,this.content="",this.write=function(m){this.content+=m},this.print=function(m){this.content+="".concat(m,`
`)},this.clear=function(){this.content=""},this.close=function(){var m=[];for(var g in m.push(this.content),f.default.prototype.writeFile(m,s,i),f.default.prototype._pWriters)f.default.prototype._pWriters[g].name===this.name&&f.default.prototype._pWriters.splice(g,1);c.clear(),c={}}},f.default.prototype.save=function(s,i,c){var m=arguments,g=this._curElement?this._curElement.elt:this.elt;if(m.length!==0)if(m[0]instanceof f.default.Renderer||m[0]instanceof f.default.Graphics)f.default.prototype.saveCanvas(m[0].elt,m[1],m[2]);else if(m.length===1&&typeof m[0]=="string")f.default.prototype.saveCanvas(g,m[0]);else switch(t(m[1],m[2])[1]){case"json":return void f.default.prototype.saveJSON(m[0],m[1],m[2]);case"txt":return void f.default.prototype.saveStrings(m[0],m[1],m[2]);default:m[0]instanceof Array?f.default.prototype.saveStrings(m[0],m[1],m[2]):m[0]instanceof f.default.Table?f.default.prototype.saveTable(m[0],m[1],m[2]):m[0]instanceof f.default.Image?f.default.prototype.saveCanvas(m[0].canvas,m[1]):m[0]instanceof f.default.SoundFile&&f.default.prototype.saveSound(m[0],m[1],m[2],m[3])}else f.default.prototype.saveCanvas(g)},f.default.prototype.saveJSON=function(s,i,c){var m;f.default._validateParameters("saveJSON",arguments),m=c?JSON.stringify(s):JSON.stringify(s,void 0,2),this.saveStrings(m.split(`
`),i,"json")},f.default.prototype.saveJSONObject=f.default.prototype.saveJSON,f.default.prototype.saveJSONArray=f.default.prototype.saveJSON,f.default.prototype.saveStrings=function(s,i,c,m){f.default._validateParameters("saveStrings",arguments);for(var g=c||"txt",w=this.createWriter(i,g),S=0;S<s.length;S++)m?w.write(s[S]+`\r
`):w.write(s[S]+`
`);w.close(),w.clear()},f.default.prototype.saveTable=function(s,i,c){var m;f.default._validateParameters("saveTable",arguments),m=c===void 0?i.substring(i.lastIndexOf(".")+1,i.length):c;var g=this.createWriter(i,m),w=s.columns,S=",";if(m==="tsv"&&(S="	"),m!=="html"){if(w[0]!=="0"){for(var j=0;j<w.length;j++)j<w.length-1?g.write(w[j]+S):g.write(w[j]);g.write(`
`)}for(var T=0;T<s.rows.length;T++){var L=void 0;for(L=0;L<s.rows[T].arr.length;L++)L<s.rows[T].arr.length-1?m==="csv"&&String(s.rows[T].arr[L]).includes(",")?g.write('"'+s.rows[T].arr[L]+'"'+S):g.write(s.rows[T].arr[L]+S):m==="csv"&&String(s.rows[T].arr[L]).includes(",")?g.write('"'+s.rows[T].arr[L]+'"'):g.write(s.rows[T].arr[L]);g.write(`
`)}}else{if(g.print("<html>"),g.print("<head>"),g.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),g.print("</head>"),g.print("<body>"),g.print("  <table>"),w[0]!=="0"){g.print("    <tr>");for(var D=0;D<w.length;D++){var R=n(w[D]);g.print("      <td>".concat(R)),g.print("      </td>")}g.print("    </tr>")}for(var O=0;O<s.rows.length;O++){g.print("    <tr>");for(var U=0;U<s.columns.length;U++){var P=n(s.rows[O].getString(U));g.print("      <td>".concat(P)),g.print("      </td>")}g.print("    </tr>")}g.print("  </table>"),g.print("</body>"),g.print("</html>")}g.close(),g.clear()},f.default.prototype.writeFile=function(s,i,c){var m="application/octet-stream";f.default.prototype._isSafari()&&(m="text/plain");var g=new Blob(s,{type:m});f.default.prototype.downloadFile(g,i,c)},f.default.prototype.downloadFile=function(s,i,c){var m=t(i,c),g=m[0];if(s instanceof Blob)h.default.saveAs(s,g);else{var w=document.createElement("a");if(w.href=s,w.download=g,w.onclick=function(j){var T;T=j,document.body.removeChild(T.target),j.stopPropagation()},w.style.display="none",document.body.appendChild(w),f.default.prototype._isSafari()){var S=`Hello, Safari user! To download this file...
`;S+=`1. Go to File --> Save As.
`,S+=`2. Choose "Page Source" as the Format.
`,S+='3. Name it with this extension: ."'.concat(m[1],'"'),alert(S)}w.click()}},f.default.prototype._checkFileExtension=t,f.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")};var r=f.default;v.default=r},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231,"es6-promise/auto":232,"fetch-jsonp":234,"file-saver":235,"whatwg-fetch":242}],291:[function(e,x,v){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.Table=function(l){this.columns=[],this.rows=[]},o.default.Table.prototype.addRow=function(l){var d=l||new o.default.TableRow;if(d.arr===void 0||d.obj===void 0)throw new Error("invalid TableRow: ".concat(d));return(d.table=this).rows.push(d),d},o.default.Table.prototype.removeRow=function(l){this.rows[l].table=null;var d=this.rows.splice(l+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(d)},o.default.Table.prototype.getRow=function(l){return this.rows[l]},o.default.Table.prototype.getRows=function(){return this.rows},o.default.Table.prototype.findRow=function(l,d){if(typeof d=="string"){for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[d]===l)return this.rows[u]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].arr[d]===l)return this.rows[n];return null},o.default.Table.prototype.findRows=function(l,d){var u=[];if(typeof d=="string")for(var n=0;n<this.rows.length;n++)this.rows[n].obj[d]===l&&u.push(this.rows[n]);else for(var t=0;t<this.rows.length;t++)this.rows[t].arr[d]===l&&u.push(this.rows[t]);return u},o.default.Table.prototype.matchRow=function(l,d){if(typeof d=="number"){for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[d].match(l))return this.rows[u]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].obj[d].match(l))return this.rows[n];return null},o.default.Table.prototype.matchRows=function(l,d){var u=[];if(typeof d=="number")for(var n=0;n<this.rows.length;n++)this.rows[n].arr[d].match(l)&&u.push(this.rows[n]);else for(var t=0;t<this.rows.length;t++)this.rows[t].obj[d].match(l)&&u.push(this.rows[t]);return u},o.default.Table.prototype.getColumn=function(l){var d=[];if(typeof l=="string")for(var u=0;u<this.rows.length;u++)d.push(this.rows[u].obj[l]);else for(var n=0;n<this.rows.length;n++)d.push(this.rows[n].arr[l]);return d},o.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},o.default.Table.prototype.addColumn=function(l){var d=l||null;this.columns.push(d)},o.default.Table.prototype.getColumnCount=function(){return this.columns.length},o.default.Table.prototype.getRowCount=function(){return this.rows.length},o.default.Table.prototype.removeTokens=function(l,d){for(var u=[],n=0;n<l.length;n++)u.push(l.charAt(n).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var t=new RegExp(u.join("|"),"g");if(d===void 0)for(var r=0;r<this.columns.length;r++)for(var s=0;s<this.rows.length;s++){var i=this.rows[s].arr[r];i=i.replace(t,""),this.rows[s].arr[r]=i,this.rows[s].obj[this.columns[r]]=i}else if(typeof d=="string")for(var c=0;c<this.rows.length;c++){var m=this.rows[c].obj[d];m=m.replace(t,""),this.rows[c].obj[d]=m;var g=this.columns.indexOf(d);this.rows[c].arr[g]=m}else for(var w=0;w<this.rows.length;w++){var S=this.rows[w].arr[d];S=S.replace(t,""),this.rows[w].arr[d]=S,this.rows[w].obj[this.columns[d]]=S}},o.default.Table.prototype.trim=function(l){var d=new RegExp(" ","g");if(l===void 0)for(var u=0;u<this.columns.length;u++)for(var n=0;n<this.rows.length;n++){var t=this.rows[n].arr[u];t=t.replace(d,""),this.rows[n].arr[u]=t,this.rows[n].obj[this.columns[u]]=t}else if(typeof l=="string")for(var r=0;r<this.rows.length;r++){var s=this.rows[r].obj[l];s=s.replace(d,""),this.rows[r].obj[l]=s;var i=this.columns.indexOf(l);this.rows[r].arr[i]=s}else for(var c=0;c<this.rows.length;c++){var m=this.rows[c].arr[l];m=m.replace(d,""),this.rows[c].arr[l]=m,this.rows[c].obj[this.columns[l]]=m}},o.default.Table.prototype.removeColumn=function(l){var d,u;typeof l=="string"?(d=l,u=this.columns.indexOf(l)):(u=l,d=this.columns[l]);var n=this.columns.splice(u+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(n);for(var t=0;t<this.rows.length;t++){var r=this.rows[t].arr,s=r.splice(u+1,r.length);r.pop(),this.rows[t].arr=r.concat(s),delete this.rows[t].obj[d]}},o.default.Table.prototype.set=function(l,d,u){this.rows[l].set(d,u)},o.default.Table.prototype.setNum=function(l,d,u){this.rows[l].setNum(d,u)},o.default.Table.prototype.setString=function(l,d,u){this.rows[l].setString(d,u)},o.default.Table.prototype.get=function(l,d){return this.rows[l].get(d)},o.default.Table.prototype.getNum=function(l,d){return this.rows[l].getNum(d)},o.default.Table.prototype.getString=function(l,d){return this.rows[l].getString(d)},o.default.Table.prototype.getObject=function(l){for(var d,u={},n=0;n<this.rows.length;n++)if(d=this.rows[n].obj,typeof l=="string"){if(!(0<=this.columns.indexOf(l)))throw new Error('This table has no column named "'.concat(l,'"'));u[d[l]]=d}else u[n]=this.rows[n].obj;return u},o.default.Table.prototype.getArray=function(){for(var l=[],d=0;d<this.rows.length;d++)l.push(this.rows[d].arr);return l};var h=o.default;v.default=h},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],292:[function(e,x,v){e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.TableRow=function(l,d){var u=[],n={};l&&(d=d||",",u=l.split(d));for(var t=0;t<u.length;t++){var r=t,s=u[t];n[r]=s}this.arr=u,this.obj=n,this.table=null},o.default.TableRow.prototype.set=function(l,d){if(typeof l=="string"){var u=this.table.columns.indexOf(l);if(!(0<=u))throw new Error('This table has no column named "'.concat(l,'"'));this.obj[l]=d,this.arr[u]=d}else{if(!(l<this.table.columns.length))throw new Error("Column #".concat(l," is out of the range of this table"));this.arr[l]=d;var n=this.table.columns[l];this.obj[n]=d}},o.default.TableRow.prototype.setNum=function(l,d){var u=parseFloat(d);this.set(l,u)},o.default.TableRow.prototype.setString=function(l,d){var u=d.toString();this.set(l,u)},o.default.TableRow.prototype.get=function(l){return typeof l=="string"?this.obj[l]:this.arr[l]},o.default.TableRow.prototype.getNum=function(l){var d;if((d=parseFloat(typeof l=="string"?this.obj[l]:this.arr[l])).toString()==="NaN")throw"Error: ".concat(this.obj[l]," is NaN (Not a Number)");return d},o.default.TableRow.prototype.getString=function(l){return typeof l=="string"?this.obj[l].toString():this.arr[l].toString()};var h=o.default;v.default=h},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],293:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};function h(d){for(var u=[],n=0;n<d.length;n++)u.push(new o.default.XML(d[n]));return u}o.default.XML=function(d){if(d)this.DOM=d;else{var u=document.implementation.createDocument(null,"doc");this.DOM=u.createElement("root")}},o.default.XML.prototype.getParent=function(){return new o.default.XML(this.DOM.parentElement)},o.default.XML.prototype.getName=function(){return this.DOM.tagName},o.default.XML.prototype.setName=function(d){var u=this.DOM.innerHTML,n=this.DOM.attributes,t=document.implementation.createDocument(null,"default").createElement(d);t.innerHTML=u;for(var r=0;r<n.length;r++)t.setAttribute(n[r].nodeName,n.nodeValue);this.DOM=t},o.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},o.default.XML.prototype.listChildren=function(){for(var d=[],u=0;u<this.DOM.childNodes.length;u++)d.push(this.DOM.childNodes[u].nodeName);return d},o.default.XML.prototype.getChildren=function(d){return h(d?this.DOM.getElementsByTagName(d):this.DOM.children)},o.default.XML.prototype.getChild=function(d){if(typeof d!="string")return new o.default.XML(this.DOM.children[d]);var u=!0,n=!1,t=void 0;try{for(var r,s=this.DOM.children[Symbol.iterator]();!(u=(r=s.next()).done);u=!0){var i=r.value;if(i.tagName===d)return new o.default.XML(i)}}catch(c){n=!0,t=c}finally{try{u||s.return==null||s.return()}finally{if(n)throw t}}},o.default.XML.prototype.addChild=function(d){d instanceof o.default.XML&&this.DOM.appendChild(d.DOM)},o.default.XML.prototype.removeChild=function(d){var u=-1;if(typeof d=="string"){for(var n=0;n<this.DOM.children.length;n++)if(this.DOM.children[n].tagName===d){u=n;break}}else u=d;u!==-1&&this.DOM.removeChild(this.DOM.children[u])},o.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},o.default.XML.prototype.listAttributes=function(){var d=[],u=!0,n=!1,t=void 0;try{for(var r,s=this.DOM.attributes[Symbol.iterator]();!(u=(r=s.next()).done);u=!0){var i=r.value;d.push(i.nodeName)}}catch(c){n=!0,t=c}finally{try{u||s.return==null||s.return()}finally{if(n)throw t}}return d},o.default.XML.prototype.hasAttribute=function(d){var u={},n=!0,t=!1,r=void 0;try{for(var s,i=this.DOM.attributes[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var c=s.value;u[c.nodeName]=c.nodeValue}}catch(m){t=!0,r=m}finally{try{n||i.return==null||i.return()}finally{if(t)throw r}}return!!u[d]},o.default.XML.prototype.getNum=function(d,u){var n={},t=!0,r=!1,s=void 0;try{for(var i,c=this.DOM.attributes[Symbol.iterator]();!(t=(i=c.next()).done);t=!0){var m=i.value;n[m.nodeName]=m.nodeValue}}catch(g){r=!0,s=g}finally{try{t||c.return==null||c.return()}finally{if(r)throw s}}return Number(n[d])||u||0},o.default.XML.prototype.getString=function(d,u){var n={},t=!0,r=!1,s=void 0;try{for(var i,c=this.DOM.attributes[Symbol.iterator]();!(t=(i=c.next()).done);t=!0){var m=i.value;n[m.nodeName]=m.nodeValue}}catch(g){r=!0,s=g}finally{try{t||c.return==null||c.return()}finally{if(r)throw s}}return n[d]?String(n[d]):u||null},o.default.XML.prototype.setAttribute=function(d,u){this.DOM.setAttribute(d,u)},o.default.XML.prototype.getContent=function(d){return this.DOM.textContent.replace(/\s\s+/g,",")||d||null},o.default.XML.prototype.setContent=function(d){this.DOM.children.length||(this.DOM.textContent=d)},o.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)};var l=o.default;v.default=l},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],294:[function(e,x,v){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};function h(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var d=arguments.length,u=[],n=0,t=0;t<d;t++){var r=arguments[t];if((r=+r)===1/0||r===-1/0)return 1/0;n<(r=Math.abs(r))&&(n=r),u[t]=r}n===0&&(n=1);for(var s=0,i=0,c=0;c<d;c++){var m=u[c]/n,g=m*m-i,w=s+g;i=w-s-g,s=w}return Math.sqrt(s)*n}o.default.prototype.abs=Math.abs,o.default.prototype.ceil=Math.ceil,o.default.prototype.constrain=function(d,u,n){return o.default._validateParameters("constrain",arguments),Math.max(Math.min(d,n),u)},o.default.prototype.dist=function(){for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];return o.default._validateParameters("dist",u),u.length===4?h(u[2]-u[0],u[3]-u[1]):u.length===6?h(u[3]-u[0],u[4]-u[1],u[5]-u[2]):void 0},o.default.prototype.exp=Math.exp,o.default.prototype.floor=Math.floor,o.default.prototype.lerp=function(d,u,n){return o.default._validateParameters("lerp",arguments),n*(u-d)+d},o.default.prototype.log=Math.log,o.default.prototype.mag=function(d,u){return o.default._validateParameters("mag",arguments),h(d,u)},o.default.prototype.map=function(d,u,n,t,r,s){o.default._validateParameters("map",arguments);var i=(d-u)/(n-u)*(r-t)+t;return s?t<r?this.constrain(i,t,r):this.constrain(i,r,t):i},o.default.prototype.max=function(){for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];return u[0]instanceof Array?Math.max.apply(null,u[0]):Math.max.apply(null,u)},o.default.prototype.min=function(){for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];return u[0]instanceof Array?Math.min.apply(null,u[0]):Math.min.apply(null,u)},o.default.prototype.norm=function(d,u,n){return o.default._validateParameters("norm",arguments),this.map(d,u,n,0,1)},o.default.prototype.pow=Math.pow,o.default.prototype.round=function(d,u){if(!u)return Math.round(d);var n=Math.pow(10,u);return Math.round(d*n)/n},o.default.prototype.sq=function(d){return d*d},o.default.prototype.sqrt=Math.sqrt,o.default.prototype.fract=function(d){o.default._validateParameters("fract",arguments);var u=0,n=Number(d);if(isNaN(n)||Math.abs(n)===1/0)return n;if(n<0&&(n=-n,u=1),!String(n).includes(".")||String(n).includes("e"))return n<1?Math.abs(u-n):0;var t=String(n);return t=Number("0"+t.slice(t.indexOf("."))),Math.abs(u-t)};var l=o.default;v.default=l},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":168,"core-js/modules/es.number.constructor":170,"core-js/modules/es.string.includes":185}],295:[function(e,x,v){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};function h(u,n,t){return(h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(r,s,i){var c=[null];c.push.apply(c,s);var m=new(Function.bind.apply(r,c));return i&&l(m,i.prototype),m}).apply(null,arguments)}function l(u,n){return(l=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(u,n)}o.default.prototype.createVector=function(u,n,t){return this instanceof o.default?h(o.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new o.default.Vector(u,n,t)};var d=o.default;v.default=d},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],296:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};function h(r){return .5*(1-Math.cos(r*Math.PI))}var l,d=4095,u=4,n=.5;o.default.prototype.noise=function(r){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(l==null){l=new Array(4096);for(var c=0;c<4096;c++)l[c]=Math.random()}r<0&&(r=-r),s<0&&(s=-s),i<0&&(i=-i);for(var m,g,w,S,j,T=Math.floor(r),L=Math.floor(s),D=Math.floor(i),R=r-T,O=s-L,U=i-D,P=0,G=.5,V=0;V<u;V++){var te=T+(L<<4)+(D<<8);m=h(R),g=h(O),w=l[te&d],w+=m*(l[te+1&d]-w),S=l[te+16&d],w+=g*((S+=m*(l[te+16+1&d]-S))-w),S=l[(te+=256)&d],S+=m*(l[te+1&d]-S),j=l[te+16&d],S+=g*((j+=m*(l[te+16+1&d]-j))-S),P+=(w+=h(U)*(S-w))*G,G*=n,T<<=1,L<<=1,D<<=1,1<=(R*=2)&&(T++,R--),1<=(O*=2)&&(L++,O--),1<=(U*=2)&&(D++,U--)}return P},o.default.prototype.noiseDetail=function(r,s){0<r&&(u=r),0<s&&(n=s)},o.default.prototype.noiseSeed=function(r){var s,i,c,m=(c=4294967296,{setSeed:function(w){i=s=(w==null?Math.random()*c:w)>>>0},getSeed:function(){return s},rand:function(){return(i=(1664525*i+1013904223)%c)/c}});m.setSeed(r),l=new Array(4096);for(var g=0;g<4096;g++)l[g]=m.rand()};var t=o.default;v.default=t},{"../core/main":264}],297:[function(e,x,v){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(r){if(r&&r.__esModule)return r;if(r===null||f(r)!=="object"&&typeof r!="function")return{default:r};var s=d();if(s&&s.has(r))return s.get(r);var i={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in r)if(Object.prototype.hasOwnProperty.call(r,m)){var g=c?Object.getOwnPropertyDescriptor(r,m):null;g&&(g.get||g.set)?Object.defineProperty(i,m,g):i[m]=r[m]}return i.default=r,s&&s.set(r,i),i}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return d=function(){return r},r}h.default.Vector=function(r,s,i,c,m){var g,w,S;S={}.toString.call(r)==="[object Function]"?(this.isPInst=!0,this._fromRadians=r,this._toRadians=s,g=i||0,w=c||0,m||0):(g=r||0,w=s||0,i||0),this.x=g,this.y=w,this.z=S},h.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},h.default.Vector.prototype.set=function(r,s,i){return r instanceof h.default.Vector?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):r instanceof Array?(this.x=r[0]||0,this.y=r[1]||0,this.z=r[2]||0):(this.x=r||0,this.y=s||0,this.z=i||0),this},h.default.Vector.prototype.copy=function(){return this.isPInst?new h.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new h.default.Vector(this.x,this.y,this.z)},h.default.Vector.prototype.add=function(r,s,i){return r instanceof h.default.Vector?(this.x+=r.x||0,this.y+=r.y||0,this.z+=r.z||0):r instanceof Array?(this.x+=r[0]||0,this.y+=r[1]||0,this.z+=r[2]||0):(this.x+=r||0,this.y+=s||0,this.z+=i||0),this};function u(r,s){return r!==0&&(this.x=this.x%r),s!==0&&(this.y=this.y%s),this}function n(r,s,i){return r!==0&&(this.x=this.x%r),s!==0&&(this.y=this.y%s),i!==0&&(this.z=this.z%i),this}h.default.Vector.prototype.rem=function(r,s,i){if(r instanceof h.default.Vector){if(Number.isFinite(r.x)&&Number.isFinite(r.y)&&Number.isFinite(r.z)){var c=parseFloat(r.x),m=parseFloat(r.y),g=parseFloat(r.z);return n.call(this,c,m,g)}}else if(r instanceof Array){if(r.every(function(j){return Number.isFinite(j)})){if(r.length===2)return u.call(this,r[0],r[1]);if(r.length===3)return n.call(this,r[0],r[1],r[2])}}else if(arguments.length===1){if(Number.isFinite(r)&&r!==0)return this.x=this.x%r,this.y=this.y%r,this.z=this.z%r,this}else if(arguments.length===2){var w=Array.prototype.slice.call(arguments);if(w.every(function(j){return Number.isFinite(j)})&&w.length===2)return u.call(this,w[0],w[1])}else if(arguments.length===3){var S=Array.prototype.slice.call(arguments);if(S.every(function(j){return Number.isFinite(j)})&&S.length===3)return n.call(this,S[0],S[1],S[2])}},h.default.Vector.prototype.sub=function(r,s,i){return r instanceof h.default.Vector?(this.x-=r.x||0,this.y-=r.y||0,this.z-=r.z||0):r instanceof Array?(this.x-=r[0]||0,this.y-=r[1]||0,this.z-=r[2]||0):(this.x-=r||0,this.y-=s||0,this.z-=i||0),this},h.default.Vector.prototype.mult=function(r,s,i){if(r instanceof h.default.Vector)return Number.isFinite(r.x)&&Number.isFinite(r.y)&&Number.isFinite(r.z)&&typeof r.x=="number"&&typeof r.y=="number"&&typeof r.z=="number"?(this.x*=r.x,this.y*=r.y,this.z*=r.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(r instanceof Array)return r.every(function(m){return Number.isFinite(m)})&&r.every(function(m){return typeof m=="number"})?r.length===1?(this.x*=r[0],this.y*=r[0],this.z*=r[0]):r.length===2?(this.x*=r[0],this.y*=r[1]):r.length===3&&(this.x*=r[0],this.y*=r[1],this.z*=r[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var c=Array.prototype.slice.call(arguments);return c.every(function(m){return Number.isFinite(m)})&&c.every(function(m){return typeof m=="number"})?(arguments.length===1&&(this.x*=r,this.y*=r,this.z*=r),arguments.length===2&&(this.x*=r,this.y*=s),arguments.length===3&&(this.x*=r,this.y*=s,this.z*=i)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},h.default.Vector.prototype.div=function(r,s,i){if(r instanceof h.default.Vector){if(Number.isFinite(r.x)&&Number.isFinite(r.y)&&Number.isFinite(r.z)&&typeof r.x=="number"&&typeof r.y=="number"&&typeof r.z=="number"){if(r.x===0||r.y===0||r.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=r.x,this.y/=r.y,this.z/=r.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(r instanceof Array){if(r.every(function(m){return Number.isFinite(m)})&&r.every(function(m){return typeof m=="number"})){if(r.some(function(m){return m===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;r.length===1?(this.x/=r[0],this.y/=r[0],this.z/=r[0]):r.length===2?(this.x/=r[0],this.y/=r[1]):r.length===3&&(this.x/=r[0],this.y/=r[1],this.z/=r[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var c=Array.prototype.slice.call(arguments);if(c.every(function(m){return Number.isFinite(m)})&&c.every(function(m){return typeof m=="number"})){if(c.some(function(m){return m===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=r,this.y/=r,this.z/=r),arguments.length===2&&(this.x/=r,this.y/=s),arguments.length===3&&(this.x/=r,this.y/=s,this.z/=i)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},h.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},h.default.Vector.prototype.magSq=function(){var r=this.x,s=this.y,i=this.z;return r*r+s*s+i*i},h.default.Vector.prototype.dot=function(r,s,i){return r instanceof h.default.Vector?this.dot(r.x,r.y,r.z):this.x*(r||0)+this.y*(s||0)+this.z*(i||0)},h.default.Vector.prototype.cross=function(r){var s=this.y*r.z-this.z*r.y,i=this.z*r.x-this.x*r.z,c=this.x*r.y-this.y*r.x;return this.isPInst?new h.default.Vector(this._fromRadians,this._toRadians,s,i,c):new h.default.Vector(s,i,c)},h.default.Vector.prototype.dist=function(r){return r.copy().sub(this).mag()},h.default.Vector.prototype.normalize=function(){var r=this.mag();return r!==0&&this.mult(1/r),this},h.default.Vector.prototype.limit=function(r){var s=this.magSq();return r*r<s&&this.div(Math.sqrt(s)).mult(r),this},h.default.Vector.prototype.setMag=function(r){return this.normalize().mult(r)},h.default.Vector.prototype.heading=function(){var r=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(r):r},h.default.Vector.prototype.setHeading=function(r){var s=this.mag();return this.x=s*Math.cos(r),this.y=s*Math.sin(r),this},h.default.Vector.prototype.rotate=function(r){var s=this.heading()+r;this.isPInst&&(s=this._toRadians(s));var i=this.mag();return this.x=Math.cos(s)*i,this.y=Math.sin(s)*i,this},h.default.Vector.prototype.angleBetween=function(r){var s,i=this.dot(r)/(this.mag()*r.mag());return s=Math.acos(Math.min(1,Math.max(-1,i))),s*=Math.sign(this.cross(r).z||1),this.isPInst&&(s=this._fromRadians(s)),s},h.default.Vector.prototype.lerp=function(r,s,i,c){return r instanceof h.default.Vector?this.lerp(r.x,r.y,r.z,s):(this.x+=(r-this.x)*c||0,this.y+=(s-this.y)*c||0,this.z+=(i-this.z)*c||0,this)},h.default.Vector.prototype.reflect=function(r){return r.normalize(),this.sub(r.mult(2*this.dot(r)))},h.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},h.default.Vector.prototype.equals=function(r,s,i){var c,m,g;return g=r instanceof h.default.Vector?(c=r.x||0,m=r.y||0,r.z||0):r instanceof Array?(c=r[0]||0,m=r[1]||0,r[2]||0):(c=r||0,m=s||0,i||0),this.x===c&&this.y===m&&this.z===g},h.default.Vector.fromAngle=function(r,s){return s===void 0&&(s=1),new h.default.Vector(s*Math.cos(r),s*Math.sin(r),0)},h.default.Vector.fromAngles=function(r,s,i){i===void 0&&(i=1);var c=Math.cos(s),m=Math.sin(s),g=Math.cos(r),w=Math.sin(r);return new h.default.Vector(i*w*m,-i*g,i*w*c)},h.default.Vector.random2D=function(){return this.fromAngle(Math.random()*l.TWO_PI)},h.default.Vector.random3D=function(){var r=Math.random()*l.TWO_PI,s=2*Math.random()-1,i=Math.sqrt(1-s*s),c=i*Math.cos(r),m=i*Math.sin(r);return new h.default.Vector(c,m,s)},h.default.Vector.add=function(r,s,i){return i?i.set(r):(i=r.copy(),arguments.length===3&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),i.add(s),i},h.default.Vector.rem=function(r,s){if(r instanceof h.default.Vector&&s instanceof h.default.Vector){var i=r.copy();return i.rem(s),i}},h.default.Vector.sub=function(r,s,i){return i?i.set(r):(i=r.copy(),arguments.length===3&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),i.sub(s),i},h.default.Vector.mult=function(r,s,i){return i?i.set(r):(i=r.copy(),arguments.length===3&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),i.mult(s),i},h.default.Vector.rotate=function(r,s,i){return arguments.length===2?i=r.copy():(i instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),i.set(r)),i.rotate(s),i},h.default.Vector.div=function(r,s,i){return i?i.set(r):(i=r.copy(),arguments.length===3&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),i.div(s),i},h.default.Vector.dot=function(r,s){return r.dot(s)},h.default.Vector.cross=function(r,s){return r.cross(s)},h.default.Vector.dist=function(r,s){return r.dist(s)},h.default.Vector.lerp=function(r,s,i,c){return c?c.set(r):(c=r.copy(),arguments.length===4&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),c.lerp(s,i),c},h.default.Vector.mag=function(r){var s=r.x,i=r.y,c=r.z,m=s*s+i*i+c*c;return Math.sqrt(m)},h.default.Vector.normalize=function(r,s){return arguments.length<2?s=r.copy():(s instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),s.set(r)),s.normalize()};var t=h.default.Vector;v.default=t},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":150,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":169,"core-js/modules/es.number.constructor":170,"core-js/modules/es.number.is-finite":171,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.sub":192}],298:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f},h="_lcg_random_state",l=4294967296,d=0;o.default.prototype._lcg=function(n){return this[n]=(1664525*this[n]+1013904223)%l,this[n]/l},o.default.prototype._lcgSetSeed=function(n,t){this[n]=(t==null?Math.random()*l:t)>>>0},o.default.prototype.randomSeed=function(n){this._lcgSetSeed(h,n),this._gaussian_previous=!1},o.default.prototype.random=function(n,t){var r;if(o.default._validateParameters("random",arguments),r=this[h]!=null?this._lcg(h):Math.random(),n===void 0)return r;if(t===void 0)return n instanceof Array?n[Math.floor(r*n.length)]:r*n;if(t<n){var s=n;n=t,t=s}return r*(t-n)+n},o.default.prototype.randomGaussian=function(n){var t,r,s,i,c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)t=d,this._gaussian_previous=!1;else{for(;1<=(i=(r=this.random(2)-1)*r+(s=this.random(2)-1)*s););t=r*(i=Math.sqrt(-2*Math.log(i)/i)),d=s*i,this._gaussian_previous=!0}return t*c+(n||0)};var u=o.default;v.default=u},{"../core/main":264}],299:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=d();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}h.default.prototype._angleMode=l.RADIANS,h.default.prototype.acos=function(n){return this._fromRadians(Math.acos(n))},h.default.prototype.asin=function(n){return this._fromRadians(Math.asin(n))},h.default.prototype.atan=function(n){return this._fromRadians(Math.atan(n))},h.default.prototype.atan2=function(n,t){return this._fromRadians(Math.atan2(n,t))},h.default.prototype.cos=function(n){return Math.cos(this._toRadians(n))},h.default.prototype.sin=function(n){return Math.sin(this._toRadians(n))},h.default.prototype.tan=function(n){return Math.tan(this._toRadians(n))},h.default.prototype.degrees=function(n){return n*l.RAD_TO_DEG},h.default.prototype.radians=function(n){return n*l.DEG_TO_RAD},h.default.prototype.angleMode=function(n){if(h.default._validateParameters("angleMode",arguments),n===void 0)return this._angleMode;n!==l.DEGREES&&n!==l.RADIANS||(this._angleMode=n)},h.default.prototype._toRadians=function(n){return this._angleMode===l.DEGREES?n*l.DEG_TO_RAD:n},h.default.prototype._toDegrees=function(n){return this._angleMode===l.RADIANS?n*l.RAD_TO_DEG:n},h.default.prototype._fromRadians=function(n){return this._angleMode===l.DEGREES?n*l.RAD_TO_DEG:n};var u=h.default;v.default=u},{"../core/constants":253,"../core/main":264}],300:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.prototype.textAlign=function(l,d){var u;return o.default._validateParameters("textAlign",arguments),(u=this._renderer).textAlign.apply(u,arguments)},o.default.prototype.textLeading=function(l){var d;return o.default._validateParameters("textLeading",arguments),(d=this._renderer).textLeading.apply(d,arguments)},o.default.prototype.textSize=function(l){var d;return o.default._validateParameters("textSize",arguments),(d=this._renderer).textSize.apply(d,arguments)},o.default.prototype.textStyle=function(l){var d;return o.default._validateParameters("textStyle",arguments),(d=this._renderer).textStyle.apply(d,arguments)},o.default.prototype.textWidth=function(){for(var l,d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];return u[0]+="",o.default._validateParameters("textWidth",u),u[0].length===0?0:(l=this._renderer).textWidth.apply(l,u)},o.default.prototype.textAscent=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return o.default._validateParameters("textAscent",d),this._renderer.textAscent()},o.default.prototype.textDescent=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return o.default._validateParameters("textDescent",d),this._renderer.textDescent()},o.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},o.default.prototype.textWrap=function(l){if(l!=="WORD"&&l!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(l)};var h=o.default;v.default=h},{"../core/main":264}],301:[function(e,x,v){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=n(e("../core/constants")),d=n(e("opentype.js"));function u(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return u=function(){return r},r}function n(r){if(r&&r.__esModule)return r;if(r===null||f(r)!=="object"&&typeof r!="function")return{default:r};var s=u();if(s&&s.has(r))return s.get(r);var i={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in r)if(Object.prototype.hasOwnProperty.call(r,m)){var g=c?Object.getOwnPropertyDescriptor(r,m):null;g&&(g.get||g.set)?Object.defineProperty(i,m,g):i[m]=r[m]}return i.default=r,s&&s.set(r,i),i}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),h.default.prototype.loadFont=function(r,s,i){h.default._validateParameters("loadFont",arguments);var c=new h.default.Font(this),m=this;return d.load(r,function(g,w){if(g)return h.default._friendlyFileLoadError(4,r),i!==void 0?i(g):void console.error(g,r);c.font=w,s!==void 0&&s(c),m._decrementPreload();var S,j,T=r.split("\\").pop().split("/").pop(),L=T.lastIndexOf("."),D=L<1?null:T.slice(L+1);["ttf","otf","woff","woff2"].includes(D)&&(S=T.slice(0,L!==-1?L:0),(j=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(S,`;
src: url(`).concat(r,`);
}
`))),document.head.appendChild(j))}),c},h.default.prototype.text=function(r,s,i,c,m){var g;return h.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(g=this._renderer).text.apply(g,arguments):this},h.default.prototype.textFont=function(r,s){if(h.default._validateParameters("textFont",arguments),arguments.length){if(!r)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",r),s&&(this._renderer._setProperty("_textSize",s),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",s*l._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont};var t=h.default;v.default=t},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.split":191,"opentype.js":239}],302:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f},h=function(R){if(R&&R.__esModule)return R;if(R===null||d(R)!=="object"&&typeof R!="function")return{default:R};var O=l();if(O&&O.has(R))return O.get(R);var U={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in R)if(Object.prototype.hasOwnProperty.call(R,G)){var V=P?Object.getOwnPropertyDescriptor(R,G):null;V&&(V.get||V.set)?Object.defineProperty(U,G,V):U[G]=R[G]}return U.default=R,O&&O.set(R,U),U}(e("../core/constants"));function l(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return l=function(){return R},R}function d(R){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(R)}function u(R,O){for(var U=function(ne,K){if(d(ne)!=="object")ne=K;else for(var se in K)ne[se]===void 0&&(ne[se]=K[se]);return ne}(O,{sampleFactor:.1,simplifyThreshold:0}),P=m(R,0,1),G=P/(P*U.sampleFactor),V=[],te=0;te<P;te+=G)V.push(m(R,te));return U.simplifyThreshold&&function(ne){for(var K=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,se=0,J=ne.length-1;3<ne.length&&0<=J;--J)s(r(ne,J-1),r(ne,J),r(ne,J+1),K)&&(ne.splice(J%ne.length,1),se++)}(V,U.simplifyThreshold),V}function n(R){for(var O,U=[],P=0;P<R.length;P++)R[P].type==="M"&&(O&&U.push(O),O=[]),O.push(t(R[P]));return U.push(O),U}function t(R){var O=[R.type];return R.type==="M"||R.type==="L"?O.push(R.x,R.y):R.type==="C"?O.push(R.x1,R.y1,R.x2,R.y2,R.x,R.y):R.type==="Q"&&O.push(R.x1,R.y1,R.x,R.y),O}function r(R,O){var U=R.length;return R[O<0?O%U+U:O%U]}function s(R,O,U,P){if(!P)return G=R,te=U,((V=O)[0]-G[0])*(te[1]-G[1])-(te[0]-G[0])*(V[1]-G[1])==0;var G,V,te;s.tmpPoint1===void 0&&(s.tmpPoint1=[],s.tmpPoint2=[]);var ne=s.tmpPoint1,K=s.tmpPoint2;ne.x=O.x-R.x,ne.y=O.y-R.y,K.x=U.x-O.x,K.y=U.y-O.y;var se=ne.x*K.x+ne.y*K.y,J=Math.sqrt(ne.x*ne.x+ne.y*ne.y),ue=Math.sqrt(K.x*K.x+K.y*K.y);return Math.acos(se/(J*ue))<P}function i(R,O,U,P,G,V,te,ne,K){var se=1-K,J=Math.pow(se,3),ue=Math.pow(se,2),me=K*K,_e=me*K,he=J*R+3*ue*K*U+3*se*K*K*G+_e*te,Re=J*O+3*ue*K*P+3*se*K*K*V+_e*ne,ve=R+2*K*(U-R)+me*(G-2*U+R),ye=O+2*K*(P-O)+me*(V-2*P+O),k=U+2*K*(G-U)+me*(te-2*G+U),F=P+2*K*(V-P)+me*(ne-2*V+P),H=se*R+K*U,Z=se*O+K*P,oe=se*G+K*te,$=se*V+K*ne,xe=90-180*Math.atan2(ve-k,ye-F)/Math.PI;return(k<ve||ye<F)&&(xe+=180),{x:he,y:Re,m:{x:ve,y:ye},n:{x:k,y:F},start:{x:H,y:Z},end:{x:oe,y:$},alpha:xe}}function c(R,O,U,P,G,V,te,ne,K){return K==null?T(R,O,U,P,G,V,te,ne):i(R,O,U,P,G,V,te,ne,function(se,J,ue,me,_e,he,Re,ve,ye){if(!(ye<0||T(se,J,ue,me,_e,he,Re,ve)<ye)){var k,F=.5,H=1-F;for(k=T(se,J,ue,me,_e,he,Re,ve,H);.01<Math.abs(k-ye);)k=T(se,J,ue,me,_e,he,Re,ve,H+=(k<ye?1:-1)*(F/=2));return H}}(R,O,U,P,G,V,te,ne,K))}function m(R,O,U){for(var P,G,V,te,ne,K=0,se=0,J=(R=function(ue,me){function _e(Ce,je,Ge){var Qe,Ye;if(!Ce)return["C",je.x,je.y,je.x,je.y,je.x,je.y];switch(Ce[0]in{T:1,Q:1}||(je.qx=je.qy=null),Ce[0]){case"M":je.X=Ce[1],je.Y=Ce[2];break;case"A":Ce=["C"].concat(function Be(ut,Oe,Pe,qe,Xe,pe,et,B,q,W){var X=Math.PI,ie=120*X/180,we,Te,Ie,de,ze=X/180*(+Xe||0),nt=[],at,dt=function(Et,ht,Ze){var Pt=Et*Math.cos(Ze)-ht*Math.sin(Ze),st=Et*Math.sin(Ze)+ht*Math.cos(Ze);return{x:Pt,y:st}};if(W)we=W[0],Te=W[1],Ie=W[2],de=W[3];else{at=dt(ut,Oe,-ze),ut=at.x,Oe=at.y,at=dt(B,q,-ze),B=at.x,q=at.y;var lt=(ut-B)/2,ct=(Oe-q)/2,bt=lt*lt/(Pe*Pe)+ct*ct/(qe*qe);1<bt&&(bt=Math.sqrt(bt),Pe*=bt,qe*=bt);var nr=Pe*Pe,zt=qe*qe,Or=(pe===et?-1:1)*Math.sqrt(Math.abs((nr*zt-nr*ct*ct-zt*lt*lt)/(nr*ct*ct+zt*lt*lt)));Ie=Or*Pe*ct/qe+(ut+B)/2,de=Or*-qe*lt/Pe+(Oe+q)/2,we=Math.asin(((Oe-de)/qe).toFixed(9)),Te=Math.asin(((q-de)/qe).toFixed(9)),(we=ut<Ie?X-we:we)<0&&(we=2*X+we),(Te=B<Ie?X-Te:Te)<0&&(Te=2*X+Te),et&&Te<we&&(we-=2*X),!et&&we<Te&&(Te-=2*X)}var hr=Te-we;if(Math.abs(hr)>ie){var or=Te,Lr=B,Dr=q;Te=we+ie*(et&&we<Te?1:-1),B=Ie+Pe*Math.cos(Te),q=de+qe*Math.sin(Te),nt=Be(B,q,Pe,qe,Xe,0,et,Lr,Dr,[Te,or,Ie,de])}hr=Te-we;var Ir=Math.cos(we),Ur=Math.sin(we),Fr=Math.cos(Te),qr=Math.sin(Te),br=Math.tan(hr/4),wr=4/3*Pe*br,ae=4/3*qe*br,De=[ut,Oe],He=[ut+wr*Ur,Oe-ae*Ir],Ue=[B+wr*qr,q-ae*Fr],Ke=[B,q];He[0]=2*De[0]-He[0],He[1]=2*De[1]-He[1];{if(W)return[He,Ue,Ke].concat(nt);nt=[He,Ue,Ke].concat(nt).join().split(",");for(var Le=[],yt=0,_t=nt.length;yt<_t;yt++)Le[yt]=yt%2?dt(nt[yt-1],nt[yt],ze).y:dt(nt[yt],nt[yt+1],ze).x;return Le}}.apply(0,[je.x,je.y].concat(Ce.slice(1))));break;case"S":Ye=Ge==="C"||Ge==="S"?(Qe=2*je.x-je.bx,2*je.y-je.by):(Qe=je.x,je.y),Ce=["C",Qe,Ye].concat(Ce.slice(1));break;case"T":Ge==="Q"||Ge==="T"?(je.qx=2*je.x-je.qx,je.qy=2*je.y-je.qy):(je.qx=je.x,je.qy=je.y),Ce=["C"].concat(j(je.x,je.y,je.qx,je.qy,Ce[1],Ce[2]));break;case"Q":je.qx=Ce[1],je.qy=Ce[2],Ce=["C"].concat(j(je.x,je.y,Ce[1],Ce[2],Ce[3],Ce[4]));break;case"L":Ce=["C"].concat(S(je.x,je.y,Ce[1],Ce[2]));break;case"H":Ce=["C"].concat(S(je.x,je.y,Ce[1],je.y));break;case"V":Ce=["C"].concat(S(je.x,je.y,je.x,Ce[1]));break;case"Z":Ce=["C"].concat(S(je.x,je.y,je.X,je.Y))}return Ce}function he(Ce,je){if(7<Ce[je].length){Ce[je].shift();for(var Ge=Ce[je];Ge.length;)Z[je]="A",k&&(oe[je]="A"),Ce.splice(je++,0,["C"].concat(Ge.splice(0,6)));Ce.splice(je,1),ve=Math.max(ye.length,k&&k.length||0)}}function Re(Ce,je,Ge,Qe,Ye){Ce&&je&&Ce[Ye][0]==="M"&&je[Ye][0]!=="M"&&(je.splice(Ye,0,["M",Qe.x,Qe.y]),Ge.bx=0,Ge.by=0,Ge.x=Ce[Ye][1],Ge.y=Ce[Ye][2],ve=Math.max(ye.length,k&&k.length||0))}var ve,ye=g(ue),k=me&&g(me),F={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},H={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Z=[],oe=[],$="",xe="";ve=Math.max(ye.length,k&&k.length||0);for(var ee=0;ee<ve;ee++){ye[ee]&&($=ye[ee][0]),$!=="C"&&(Z[ee]=$,ee&&(xe=Z[ee-1])),ye[ee]=_e(ye[ee],F,xe),Z[ee]!=="A"&&$==="C"&&(Z[ee]="C"),he(ye,ee),k&&(k[ee]&&($=k[ee][0]),$!=="C"&&(oe[ee]=$,ee&&(xe=oe[ee-1])),k[ee]=_e(k[ee],H,xe),oe[ee]!=="A"&&$==="C"&&(oe[ee]="C"),he(k,ee)),Re(ye,k,F,H,ee),Re(k,ye,H,F,ee);var ge=ye[ee],fe=k&&k[ee],le=ge.length,Me=k&&fe.length;F.x=ge[le-2],F.y=ge[le-1],F.bx=parseFloat(ge[le-4])||F.x,F.by=parseFloat(ge[le-3])||F.y,H.bx=k&&(parseFloat(fe[Me-4])||H.x),H.by=k&&(parseFloat(fe[Me-3])||H.y),H.x=k&&fe[Me-2],H.y=k&&fe[Me-1]}return k?[ye,k]:ye}(R)).length;se<J;se++){if((V=R[se])[0]==="M")P=+V[1],G=+V[2];else{if(O<K+(te=c(P,G,V[1],V[2],V[3],V[4],V[5],V[6]))&&!U)return{x:(ne=c(P,G,V[1],V[2],V[3],V[4],V[5],V[6],O-K)).x,y:ne.y,alpha:ne.alpha};K+=te,P=+V[5],G=+V[6]}V.shift()+V}return(ne=U?K:i(P,G,V[0],V[1],V[2],V[3],V[4],V[5],1)).alpha&&(ne={x:ne.x,y:ne.y,alpha:ne.alpha}),ne}function g(R){var O,U=[],P=0,G=0,V=0,te=0,ne=0;if(!R)return U;R[0][0]==="M"&&(V=P=+R[0][1],te=G=+R[0][2],ne++,U[0]=["M",P,G]);for(var K,se,J=R.length===3&&R[0][0]==="M"&&R[1][0].toUpperCase()==="R"&&R[2][0].toUpperCase()==="Z",ue=ne,me=R.length;ue<me;ue++){if(U.push(K=[]),(se=R[ue])[0]!==String.prototype.toUpperCase.call(se[0]))switch(K[0]=String.prototype.toUpperCase.call(se[0]),K[0]){case"A":K[1]=se[1],K[2]=se[2],K[3]=se[3],K[4]=se[4],K[5]=se[5],K[6]=+(se[6]+P),K[7]=+(se[7]+G);break;case"V":K[1]=+se[1]+G;break;case"H":K[1]=+se[1]+P;break;case"R":for(var _e=2,he=(O=[P,G].concat(se.slice(1))).length;_e<he;_e++)O[_e]=+O[_e]+P,O[++_e]=+O[_e]+G;U.pop(),U=U.concat(w(O,J));break;case"M":V=+se[1]+P,te=+se[2]+G;break;default:for(var Re=1,ve=se.length;Re<ve;Re++)K[Re]=+se[Re]+(Re%2?P:G)}else if(se[0]==="R")O=[P,G].concat(se.slice(1)),U.pop(),U=U.concat(w(O,J)),K=["R"].concat(se.slice(-2));else for(var ye=0,k=se.length;ye<k;ye++)K[ye]=se[ye];switch(K[0]){case"Z":P=V,G=te;break;case"H":P=K[1];break;case"V":G=K[1];break;case"M":V=K[K.length-2],te=K[K.length-1];break;default:P=K[K.length-2],G=K[K.length-1]}}return U}function w(R,O){for(var U=[],P=0,G=R.length;P<G-2*!O;P+=2){var V=[{x:+R[P-2],y:+R[P-1]},{x:+R[P],y:+R[P+1]},{x:+R[P+2],y:+R[P+3]},{x:+R[P+4],y:+R[P+5]}];O?P?G-4===P?V[3]={x:+R[0],y:+R[1]}:G-2===P&&(V[2]={x:+R[0],y:+R[1]},V[3]={x:+R[2],y:+R[3]}):V[0]={x:+R[G-2],y:+R[G-1]}:G-4===P?V[3]=V[2]:P||(V[0]={x:+R[P],y:+R[P+1]}),U.push(["C",(-V[0].x+6*V[1].x+V[2].x)/6,(-V[0].y+6*V[1].y+V[2].y)/6,(V[1].x+6*V[2].x-V[3].x)/6,(V[1].y+6*V[2].y-V[3].y)/6,V[2].x,V[2].y])}return U}function S(R,O,U,P){return[R,O,U,P,U,P]}function j(R,O,U,P,G,V){return[1/3*R+2/3*U,1/3*O+2/3*P,1/3*G+2/3*U,1/3*V+2/3*P,G,V]}function T(R,O,U,P,G,V,te,ne,K){K==null&&(K=1);for(var se=(K=1<K?1:K<0?0:K)/2,J=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ue=0,me=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],_e=0;_e<12;_e++){var he=se*J[_e]+se,Re=L(he,R,U,G,te),ve=L(he,O,P,V,ne),ye=Re*Re+ve*ve;ue+=me[_e]*Math.sqrt(ye)}return se*ue}function L(R,O,U,P,G){return R*(R*(-3*O+9*U-9*P+3*G)+6*O-12*U+6*P)-3*O+3*U}o.default.Font=function(R){this.parent=R,this.cache={},this.font=void 0},o.default.Font.prototype.textBounds=function(R){var O,U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,G=3<arguments.length?arguments[3]:void 0,V=4<arguments.length?arguments[4]:void 0,te=V&&V.renderer&&V.renderer._pInst||this.parent,ne=te._renderer.drawingContext;if(ne.textAlign||h.LEFT,ne.textBaseline||h.BASELINE,G=G||te._renderer._textSize,!O){var K,se,J=[],ue=[],me=[];me[0]=[];var _e=[],he=this._scale(G),Re=te._renderer.textLeading(),ve=0;this.font.forEachGlyph(R,U,P,G,V,function(Z,oe,$,xe){var ee=Z.getMetrics();Z.index===0||Z.index===10?me[ve+=1]=[]:(me[ve].push(oe+ee.xMin*he),me[ve].push(oe+ee.xMax*he),_e.push($+ve*Re+-ee.yMin*he),_e.push($+ve*Re+-ee.yMax*he))}),0<me[ve].length&&(J[ve]=Math.min.apply(null,me[ve]),ue[ve]=Math.max.apply(null,me[ve]));for(var ye=0,k=0;k<=ve;k++){J[k]=Math.min.apply(null,me[k]),ue[k]=Math.max.apply(null,me[k]);var F=ue[k]-J[k];ye<F&&(ye=F)}var H=Math.min.apply(null,J);O={x:H,y:K=Math.min.apply(null,_e),h:Math.max.apply(null,_e)-K,w:ye,advance:H-U},se=this._handleAlignment(te._renderer,R,O.x,O.y,O.w+O.advance),O.x=se.x,O.y=se.y}return O},o.default.Font.prototype.textToPoints=function(R,O,U,P,G){var V,te=0,ne=[],K=this._getGlyphs(R);P=P||this.parent._renderer._textSize;for(var se=0;se<K.length;se++){if(!(K[V=se].name&&K[V].name==="space"||R.length===K.length&&R[V]===" "))for(var J=n(K[se].getPath(O,U,P).commands),ue=0;ue<J.length;ue++)for(var me=u(J[ue],G),_e=0;_e<me.length;_e++)me[_e].x+=te,ne.push(me[_e]);te+=K[se].advanceWidth*this._scale(P)}return ne},o.default.Font.prototype._getGlyphs=function(R){return this.font.stringToGlyphs(R)},o.default.Font.prototype._getPath=function(R,O,U,P){var G=(P&&P.renderer&&P.renderer._pInst||this.parent)._renderer,V=this._handleAlignment(G,R,O,U);return this.font.getPath(R,V.x,V.y,G._textSize,P)},o.default.Font.prototype._getPathData=function(R,O,U,P){var G=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,O,U,P):d(O)==="object"&&(P=O),P&&typeof P.decimals=="number"&&(G=P.decimals),R.toPathData(G)},o.default.Font.prototype._getSVG=function(R,O,U,P){var G=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,O,U,P):d(O)==="object"&&(P=O),P&&(typeof P.decimals=="number"&&(G=P.decimals),typeof P.strokeWidth=="number"&&(R.strokeWidth=P.strokeWidth),P.fill!==void 0&&(R.fill=P.fill),P.stroke!==void 0&&(R.stroke=P.stroke)),R.toSVG(G)},o.default.Font.prototype._renderPath=function(R,O,U,P){var G,V=P&&P.renderer||this.parent._renderer,te=V.drawingContext;G=d(R)==="object"&&R.commands?R.commands:this._getPath(R,O,U,P).commands,te.beginPath();var ne=!0,K=!1,se=void 0;try{for(var J,ue=G[Symbol.iterator]();!(ne=(J=ue.next()).done);ne=!0){var me=J.value;me.type==="M"?te.moveTo(me.x,me.y):me.type==="L"?te.lineTo(me.x,me.y):me.type==="C"?te.bezierCurveTo(me.x1,me.y1,me.x2,me.y2,me.x,me.y):me.type==="Q"?te.quadraticCurveTo(me.x1,me.y1,me.x,me.y):me.type==="Z"&&te.closePath()}}catch(_e){K=!0,se=_e}finally{try{ne||ue.return==null||ue.return()}finally{if(K)throw se}}return V._doStroke&&V._strokeSet&&te.stroke(),V._doFill&&(V._fillSet||V._setFill(h._DEFAULT_TEXT_FILL),te.fill()),this},o.default.Font.prototype._textWidth=function(R,O){return this.font.getAdvanceWidth(R,O)},o.default.Font.prototype._textAscent=function(R){return this.font.ascender*this._scale(R)},o.default.Font.prototype._textDescent=function(R){return-this.font.descender*this._scale(R)},o.default.Font.prototype._scale=function(R){return 1/this.font.unitsPerEm*(R||this.parent._renderer._textSize)},o.default.Font.prototype._handleAlignment=function(R,O,U,P,G){var V=R._textSize;switch(G===void 0&&(G=this._textWidth(O,V)),R._textAlign){case h.CENTER:U-=G/2;break;case h.RIGHT:U-=G}switch(R._textBaseline){case h.TOP:P+=this._textAscent(V);break;case h.CENTER:P+=this._textAscent(V)/2;break;case h.BOTTOM:P-=this._textDescent(V)}return{x:U,y:P}};var D=o.default;v.default=D},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],303:[function(e,x,v){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.prototype.append=function(l,d){return l.push(d),l},o.default.prototype.arrayCopy=function(l,d,u,n,t){var r,s;l=t!==void 0?(s=Math.min(t,l.length),r=n,l.slice(d,s+d)):(s=u!==void 0?(s=u,Math.min(s,l.length)):l.length,r=0,u=d,l.slice(0,s)),Array.prototype.splice.apply(u,[r,s].concat(l))},o.default.prototype.concat=function(l,d){return l.concat(d)},o.default.prototype.reverse=function(l){return l.reverse()},o.default.prototype.shorten=function(l){return l.pop(),l},o.default.prototype.shuffle=function(l,d){for(var u,n,t=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(l),r=(l=d||t?l:l.slice()).length;1<r;)u=this.random(0,1)*r|0,n=l[--r],l[r]=l[u],l[u]=n;return l},o.default.prototype.sort=function(l,d){var u=d?l.slice(0,Math.min(d,l.length)):l,n=d?l.slice(Math.min(d,l.length)):[];return(u=typeof u[0]=="string"?u.sort():u.sort(function(t,r){return t-r})).concat(n)},o.default.prototype.splice=function(l,d,u){return Array.prototype.splice.apply(l,[u,0].concat(d)),l},o.default.prototype.subset=function(l,d,u){return u!==void 0?l.slice(d,d+u):l.slice(d,l.length)};var h=o.default;v.default=h},{"../core/main":264,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],304:[function(e,x,v){e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.prototype.float=function(l){return l instanceof Array?l.map(parseFloat):parseFloat(l)},o.default.prototype.int=function(l){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return l===1/0||l==="Infinity"?1/0:l===-1/0||l==="-Infinity"?-1/0:typeof l=="string"?parseInt(l,d):typeof l=="number"?0|l:typeof l=="boolean"?l?1:0:l instanceof Array?l.map(function(u){return o.default.prototype.int(u,d)}):void 0},o.default.prototype.str=function(l){return l instanceof Array?l.map(o.default.prototype.str):String(l)},o.default.prototype.boolean=function(l){return typeof l=="number"?l!==0:typeof l=="string"?l.toLowerCase()==="true":typeof l=="boolean"?l:l instanceof Array?l.map(o.default.prototype.boolean):void 0},o.default.prototype.byte=function(l){var d=o.default.prototype.int(l,10);return typeof d=="number"?(d+128)%256-128:d instanceof Array?d.map(o.default.prototype.byte):void 0},o.default.prototype.char=function(l){return typeof l!="number"||isNaN(l)?l instanceof Array?l.map(o.default.prototype.char):typeof l=="string"?o.default.prototype.char(parseInt(l,10)):void 0:String.fromCharCode(l)},o.default.prototype.unchar=function(l){return typeof l=="string"&&l.length===1?l.charCodeAt(0):l instanceof Array?l.map(o.default.prototype.unchar):void 0},o.default.prototype.hex=function(l,d){if(d=d==null?d=8:d,l instanceof Array)return l.map(function(n){return o.default.prototype.hex(n,d)});if(l===1/0||l===-1/0)return(l===1/0?"F":"0").repeat(d);if(typeof l=="number"){l<0&&(l=4294967295+l+1);for(var u=Number(l).toString(16).toUpperCase();u.length<d;)u="0".concat(u);return u.length>=d&&(u=u.substring(u.length-d,u.length)),u}},o.default.prototype.unhex=function(l){return l instanceof Array?l.map(o.default.prototype.unhex):parseInt("0x".concat(l),16)};var h=o.default;v.default=h},{"../core/main":264,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],305:[function(e,x,v){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};function h(t,r,s){var i=t<0,c=i?t.toString().substring(1):t.toString(),m=c.indexOf("."),g=m!==-1?c.substring(0,m):c,w=m!==-1?c.substring(m+1):"",S=i?"-":"";if(s!==void 0){var j="";(m!==-1||0<s-w.length)&&(j="."),w.length>s&&(w=w.substring(0,s));for(var T=0;T<r-g.length;T++)S+="0";S+=g,S+=j,S+=w;for(var L=0;L<s-w.length;L++)S+="0";return S}for(var D=0;D<Math.max(r-g.length,0);D++)S+="0";return S+=c}function l(t,r){var s=(t=t.toString()).indexOf("."),i=s!==-1?t.substring(s):"",c=s!==-1?t.substring(0,s):t;if(c=c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),r===0)i="";else if(r!==void 0)if(r>i.length)for(var m=r-(i+=s===-1?".":"").length+1,g=0;g<m;g++)i+="0";else i=i.substring(0,r+1);return c+i}function d(t){return 0<parseFloat(t)?"+".concat(t.toString()):t.toString()}function u(t){return 0<=parseFloat(t)?" ".concat(t.toString()):t.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),o.default.prototype.join=function(t,r){return o.default._validateParameters("join",arguments),t.join(r)},o.default.prototype.match=function(t,r){return o.default._validateParameters("match",arguments),t.match(r)},o.default.prototype.matchAll=function(t,r){o.default._validateParameters("matchAll",arguments);for(var s=new RegExp(r,"g"),i=s.exec(t),c=[];i!==null;)c.push(i),i=s.exec(t);return c},o.default.prototype.nf=function(t,r,s){return o.default._validateParameters("nf",arguments),t instanceof Array?t.map(function(i){return h(i,r,s)}):Object.prototype.toString.call(t)==="[object Arguments]"?t.length===3?this.nf(t[0],t[1],t[2]):t.length===2?this.nf(t[0],t[1]):this.nf(t[0]):h(t,r,s)},o.default.prototype.nfc=function(t,r){return o.default._validateParameters("nfc",arguments),t instanceof Array?t.map(function(s){return l(s,r)}):l(t,r)},o.default.prototype.nfp=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];o.default._validateParameters("nfp",r);var i=o.default.prototype.nf.apply(this,r);return i instanceof Array?i.map(d):d(i)},o.default.prototype.nfs=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];o.default._validateParameters("nfs",r);var i=o.default.prototype.nf.apply(this,r);return i instanceof Array?i.map(u):u(i)},o.default.prototype.split=function(t,r){return o.default._validateParameters("split",arguments),t.split(r)},o.default.prototype.splitTokens=function(t,r){var s;if(o.default._validateParameters("splitTokens",arguments),r!==void 0){var i=r,c=/\]/g.exec(i),m=/\[/g.exec(i);s=m&&c?(i=i.slice(0,c.index)+i.slice(c.index+1),m=/\[/g.exec(i),i=i.slice(0,m.index)+i.slice(m.index+1),new RegExp("[\\[".concat(i,"\\]]"),"g")):c?(i=i.slice(0,c.index)+i.slice(c.index+1),new RegExp("[".concat(i,"\\]]"),"g")):m?(i=i.slice(0,m.index)+i.slice(m.index+1),new RegExp("[".concat(i,"\\[]"),"g")):new RegExp("[".concat(i,"]"),"g")}else s=/\s/g;return t.split(s).filter(function(g){return g})},o.default.prototype.trim=function(t){return o.default._validateParameters("trim",arguments),t instanceof Array?t.map(this.trim):t.trim()};var n=o.default;v.default=n},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],306:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.prototype.day=function(){return new Date().getDate()},o.default.prototype.hour=function(){return new Date().getHours()},o.default.prototype.minute=function(){return new Date().getMinutes()},o.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return new Date().getMonth()+1},o.default.prototype.second=function(){return new Date().getSeconds()},o.default.prototype.year=function(){return new Date().getFullYear()};var h=o.default;v.default=h},{"../core/main":264}],307:[function(e,x,v){function f(t){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o};e("./p5.Geometry");var l=function(t){if(t&&t.__esModule)return t;if(t===null||f(t)!=="object"&&typeof t!="function")return{default:t};var r=d();if(r&&r.has(t))return r.get(t);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var m=i?Object.getOwnPropertyDescriptor(t,c):null;m&&(m.get||m.set)?Object.defineProperty(s,c,m):s[c]=t[c]}return s.default=t,r&&r.set(t,s),s}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return d=function(){return t},t}h.default.prototype.plane=function(t,r,s,i){this._assert3d("plane"),h.default._validateParameters("plane",arguments),t===void 0&&(t=50),r===void 0&&(r=t),s===void 0&&(s=1),i===void 0&&(i=1);var c="plane|".concat(s,"|").concat(i);if(!this._renderer.geometryInHash(c)){var m=new h.default.Geometry(s,i,function(){for(var g,w,S,j=0;j<=this.detailY;j++){w=j/this.detailY;for(var T=0;T<=this.detailX;T++)g=T/this.detailX,S=new h.default.Vector(g-.5,w-.5,0),this.vertices.push(S),this.uvs.push(g,w)}});m.computeFaces().computeNormals(),s<=1&&i<=1?m._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(c,m)}return this._renderer.drawBuffersScaled(c,t,r,1),this},h.default.prototype.box=function(t,r,s,i,c){this._assert3d("box"),h.default._validateParameters("box",arguments),t===void 0&&(t=50),r===void 0&&(r=t),s===void 0&&(s=r);var m=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;i===void 0&&(i=m?1:4),c===void 0&&(c=m?1:4);var g="box|".concat(i,"|").concat(c);if(!this._renderer.geometryInHash(g)){var w=new h.default.Geometry(i,c,function(){var S=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var j=0;j<S.length;j++){for(var T=S[j],L=4*j,D=0;D<4;D++){var R=T[D],O=new h.default.Vector((2*(1&R)-1)/2,((2&R)-1)/2,((4&R)/2-1)/2);this.vertices.push(O),this.uvs.push(1&D,(2&D)/2)}this.faces.push([L,1+L,2+L]),this.faces.push([2+L,1+L,3+L])}});w.computeNormals(),i<=4&&c<=4?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(g,w)}return this._renderer.drawBuffersScaled(g,t,r,s),this},h.default.prototype.sphere=function(t,r,s){return this._assert3d("sphere"),h.default._validateParameters("sphere",arguments),t===void 0&&(t=50),r===void 0&&(r=24),s===void 0&&(s=16),this.ellipsoid(t,t,t,r,s),this};function u(t,r,s,i,c,m,g){t=t<=0?1:t,r=r<0?0:r,s=s<=0?t:s,i=i<3?3:i;var w,S,j,T=(m=m===void 0||m)?-2:0,L=(c=c<1?1:c)+((g=g===void 0?r!==0:g)?2:0),D=Math.atan2(t-r,s),R=Math.sin(D),O=Math.cos(D);for(w=T;w<=L;++w){var U=w/c,P=s*U,G=void 0;for(G=w<0?(U=P=0,t):c<w?(P=s,U=1,r):t+(r-t)*U,w!==-2&&w!==c+2||(G=0),P-=s/2,S=0;S<i;++S){var V=S/(i-1),te=2*Math.PI*V,ne=Math.sin(te),K=Math.cos(te);this.vertices.push(new h.default.Vector(ne*G,P,K*G));var se=void 0;se=w<0?new h.default.Vector(0,-1,0):c<w&&r?new h.default.Vector(0,1,0):new h.default.Vector(ne*O,R,K*O),this.vertexNormals.push(se),this.uvs.push(V,U)}}var J=0;if(m){for(j=0;j<i;++j){var ue=(j+1)%i;this.faces.push([J+j,J+i+ue,J+i+j])}J+=2*i}for(w=0;w<c;++w){for(S=0;S<i;++S){var me=(S+1)%i;this.faces.push([J+S,J+me,J+i+me]),this.faces.push([J+S,J+i+me,J+i+S])}J+=i}if(g)for(J+=i,S=0;S<i;++S)this.faces.push([J+S,J+(S+1)%i,J+i])}h.default.prototype.cylinder=function(t,r,s,i,c,m){this._assert3d("cylinder"),h.default._validateParameters("cylinder",arguments),t===void 0&&(t=50),r===void 0&&(r=t),s===void 0&&(s=24),i===void 0&&(i=1),m===void 0&&(m=!0),c===void 0&&(c=!0);var g="cylinder|".concat(s,"|").concat(i,"|").concat(c,"|").concat(m);if(!this._renderer.geometryInHash(g)){var w=new h.default.Geometry(s,i);u.call(w,1,1,1,s,i,c,m),s<=24&&i<=16?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,w)}return this._renderer.drawBuffersScaled(g,t,r,t),this},h.default.prototype.cone=function(t,r,s,i,c){this._assert3d("cone"),h.default._validateParameters("cone",arguments),t===void 0&&(t=50),r===void 0&&(r=t),s===void 0&&(s=24),i===void 0&&(i=1),c===void 0&&(c=!0);var m="cone|".concat(s,"|").concat(i,"|").concat(c);if(!this._renderer.geometryInHash(m)){var g=new h.default.Geometry(s,i);u.call(g,1,0,1,s,i,c,!1),s<=24&&i<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(m,g)}return this._renderer.drawBuffersScaled(m,t,r,t),this},h.default.prototype.ellipsoid=function(t,r,s,i,c){this._assert3d("ellipsoid"),h.default._validateParameters("ellipsoid",arguments),t===void 0&&(t=50),r===void 0&&(r=t),s===void 0&&(s=t),i===void 0&&(i=24),c===void 0&&(c=16);var m="ellipsoid|".concat(i,"|").concat(c);if(!this._renderer.geometryInHash(m)){var g=new h.default.Geometry(i,c,function(){for(var w=0;w<=this.detailY;w++)for(var S=w/this.detailY,j=Math.PI*S-Math.PI/2,T=Math.cos(j),L=Math.sin(j),D=0;D<=this.detailX;D++){var R=D/this.detailX,O=2*Math.PI*R,U=Math.cos(O),P=Math.sin(O),G=new h.default.Vector(T*P,L,T*U);this.vertices.push(G),this.vertexNormals.push(G),this.uvs.push(R,S)}});g.computeFaces(),i<=24&&c<=24?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(m,g)}return this._renderer.drawBuffersScaled(m,t,r,s),this},h.default.prototype.torus=function(t,r,s,i){if(this._assert3d("torus"),h.default._validateParameters("torus",arguments),t===void 0)t=50;else if(!t)return;if(r===void 0)r=10;else if(!r)return;s===void 0&&(s=24),i===void 0&&(i=16);var c=(r/t).toPrecision(4),m="torus|".concat(c,"|").concat(s,"|").concat(i);if(!this._renderer.geometryInHash(m)){var g=new h.default.Geometry(s,i,function(){for(var w=0;w<=this.detailY;w++)for(var S=w/this.detailY,j=2*Math.PI*S,T=Math.cos(j),L=Math.sin(j),D=1+c*T,R=0;R<=this.detailX;R++){var O=R/this.detailX,U=2*Math.PI*O,P=Math.cos(U),G=Math.sin(U),V=new h.default.Vector(D*P,D*G,c*L),te=new h.default.Vector(T*P,T*G,L);this.vertices.push(V),this.vertexNormals.push(te),this.uvs.push(O,S)}});g.computeFaces(),s<=24&&i<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(m,g)}return this._renderer.drawBuffersScaled(m,t,t,t),this},h.default.RendererGL.prototype.point=function(t,r,s){s===void 0&&(s=0);var i=[];return i.push(new h.default.Vector(t,r,s)),this._drawPoints(i,this.immediateMode.buffers.point),this},h.default.RendererGL.prototype.triangle=function(t){var r=t[0],s=t[1],i=t[2],c=t[3],m=t[4],g=t[5];if(!this.geometryInHash("tri")){var w=new h.default.Geometry(1,1,function(){var T=[];T.push(new h.default.Vector(0,0,0)),T.push(new h.default.Vector(0,1,0)),T.push(new h.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=T,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});w._makeTriangleEdges()._edgesToVertices(),w.computeNormals(),this.createBuffers("tri",w)}var S=this.uMVMatrix.copy();try{var j=new h.default.Matrix([i-r,c-s,0,0,m-r,g-s,0,0,0,0,1,0,r,s,0,1]).mult(this.uMVMatrix);this.uMVMatrix=j,this.drawBuffers("tri")}finally{this.uMVMatrix=S}return this},h.default.RendererGL.prototype.ellipse=function(t){this.arc(t[0],t[1],t[2],t[3],0,l.TWO_PI,l.OPEN,t[4])},h.default.RendererGL.prototype.arc=function(t){var r,s,i=t,c=arguments[1],m=arguments[2],g=arguments[3],w=arguments[4],S=arguments[5],j=arguments[6],T=arguments[7]||25;if(s=Math.abs(S-w)>=l.TWO_PI?"".concat(r="ellipse","|").concat(T,"|"):"".concat(r="arc","|").concat(w,"|").concat(S,"|").concat(j,"|").concat(T,"|"),!this.geometryInHash(s)){var L=new h.default.Geometry(T,1,function(){if(this.strokeIndices=[],w.toFixed(10)!==S.toFixed(10)){j!==l.PIE&&j!==void 0||(this.vertices.push(new h.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var R=0;R<=T;R++){var O=(S-w)*(R/T)+w,U=.5+Math.cos(O)/2,P=.5+Math.sin(O)/2;this.vertices.push(new h.default.Vector(U,P,0)),this.uvs.push([U,P]),R<T-1&&(this.faces.push([0,R+1,R+2]),this.strokeIndices.push([R+1,R+2]))}switch(j){case l.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case l.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case l.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});L.computeNormals(),T<=50?L._makeTriangleEdges()._edgesToVertices(L):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(r," with more than 50 detail")),this.createBuffers(s,L)}var D=this.uMVMatrix.copy();try{this.uMVMatrix.translate([i,c,0]),this.uMVMatrix.scale(m,g,1),this.drawBuffers(s)}finally{this.uMVMatrix=D}return this},h.default.RendererGL.prototype.rect=function(t){var r=this._pInst._glAttributes.perPixelLighting,s=t[0],i=t[1],c=t[2],m=t[3],g=t[4]||(r?1:24),w=t[5]||(r?1:16),S="rect|".concat(g,"|").concat(w);if(!this.geometryInHash(S)){var j=new h.default.Geometry(g,w,function(){for(var L=0;L<=this.detailY;L++)for(var D=L/this.detailY,R=0;R<=this.detailX;R++){var O=R/this.detailX,U=new h.default.Vector(O,D,0);this.vertices.push(U),this.uvs.push(O,D)}0<g&&0<w&&(this.strokeIndices=[[0,g],[g,(g+1)*(w+1)-1],[(g+1)*(w+1)-1,(g+1)*w],[(g+1)*w,0]])});j.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(S,j)}var T=this.uMVMatrix.copy();try{this.uMVMatrix.translate([s,i,0]),this.uMVMatrix.scale(c,m,1),this.drawBuffers(S)}finally{this.uMVMatrix=T}return this},h.default.RendererGL.prototype.quad=function(t,r,s,i,c,m,g,w,S,j,T,L,D,R){D===void 0&&(D=2),R===void 0&&(R=2);var O="quad|".concat(t,"|").concat(r,"|").concat(s,"|").concat(i,"|").concat(c,"|").concat(m,"|").concat(g,"|").concat(w,"|").concat(S,"|").concat(j,"|").concat(T,"|").concat(L,"|").concat(D,"|").concat(R);if(!this.geometryInHash(O)){var U=new h.default.Geometry(D,R,function(){for(var se=1/(this.detailX-1),J=1/(this.detailY-1),ue=0;ue<this.detailY;ue++)for(var me=0;me<this.detailX;me++){var _e=me*se,he=ue*J,Re=(1-_e)*((1-he)*t+he*j)+_e*((1-he)*i+he*g),ve=(1-_e)*((1-he)*r+he*T)+_e*((1-he)*c+he*w),ye=(1-_e)*((1-he)*s+he*L)+_e*((1-he)*m+he*S);this.vertices.push(new h.default.Vector(Re,ve,ye)),this.uvs.push([_e,he])}});U.faces=[];for(var P=0;P<R-1;P++)for(var G=0;G<D-1;G++){var V=G+P*D,te=G+1+P*D,ne=G+1+(P+1)*D,K=G+(P+1)*D;U.faces.push([V,te,ne]),U.faces.push([V,ne,K])}U.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(O,U)}return this.drawBuffers(O),this},h.default.RendererGL.prototype.bezier=function(t,r,s,i,c,m,g,w,S,j,T,L){arguments.length===8&&(T=w,j=g,w=m,g=c,c=i,i=s,s=m=S=L=0);var D=this._pInst._bezierDetail||20;this.beginShape();for(var R=0;R<=D;R++){var O=Math.pow(1-R/D,3),U=R/D*3*Math.pow(1-R/D,2),P=3*Math.pow(R/D,2)*(1-R/D),G=Math.pow(R/D,3);this.vertex(t*O+i*U+g*P+j*G,r*O+c*U+w*P+T*G,s*O+m*U+S*P+L*G)}return this.endShape(),this},h.default.RendererGL.prototype.curve=function(t,r,s,i,c,m,g,w,S,j,T,L){arguments.length===8&&(j=g,T=w,g=c,w=i,c=i=s,s=m=S=L=0);var D=this._pInst._curveDetail;this.beginShape();for(var R=0;R<=D;R++){var O=.5*Math.pow(R/D,3),U=.5*Math.pow(R/D,2),P=R/D*.5,G=O*(3*i-t-3*g+j)+U*(2*t-5*i+4*g-j)+P*(-t+g)+2*i*.5,V=O*(3*c-r-3*w+T)+U*(2*r-5*c+4*w-T)+P*(-r+w)+2*c*.5,te=O*(3*m-s-3*S+L)+U*(2*s-5*m+4*S-L)+P*(-s+S)+2*m*.5;this.vertex(G,V,te)}return this.endShape(),this},h.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(l.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(l.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},h.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var t,r,s,i,c,m=[],g=[],w=[],S=arguments.length;if((t=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var j=1/this._lutBezierDetail,T=0,L=1,D=0;T<1;){if(t=parseFloat(T.toFixed(6)),this._lookUpTableBezier[D]=this._bezierCoefficients(t),L.toFixed(6)===j.toFixed(6)){t=parseFloat(L.toFixed(6))+parseFloat(T.toFixed(6)),++D,this._lookUpTableBezier[D]=this._bezierCoefficients(t);break}T+=j,L-=j,++D}}var R=this._lookUpTableBezier.length;if(S===6){for(this.isBezier=!0,m=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],g=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],c=0;c<R;c++)r=m[0]*this._lookUpTableBezier[c][0]+m[1]*this._lookUpTableBezier[c][1]+m[2]*this._lookUpTableBezier[c][2]+m[3]*this._lookUpTableBezier[c][3],s=g[0]*this._lookUpTableBezier[c][0]+g[1]*this._lookUpTableBezier[c][1]+g[2]*this._lookUpTableBezier[c][2]+g[3]*this._lookUpTableBezier[c][3],this.vertex(r,s);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(S===9){for(this.isBezier=!0,m=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],g=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],w=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],c=0;c<R;c++)r=m[0]*this._lookUpTableBezier[c][0]+m[1]*this._lookUpTableBezier[c][1]+m[2]*this._lookUpTableBezier[c][2]+m[3]*this._lookUpTableBezier[c][3],s=g[0]*this._lookUpTableBezier[c][0]+g[1]*this._lookUpTableBezier[c][1]+g[2]*this._lookUpTableBezier[c][2]+g[3]*this._lookUpTableBezier[c][3],i=w[0]*this._lookUpTableBezier[c][0]+w[1]*this._lookUpTableBezier[c][1]+w[2]*this._lookUpTableBezier[c][2]+w[3]*this._lookUpTableBezier[c][3],this.vertex(r,s,i);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},h.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var t,r,s,i,c,m=[],g=[],w=[],S=arguments.length;if((t=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var j=1/this._lutQuadraticDetail,T=0,L=1,D=0;T<1;){if(t=parseFloat(T.toFixed(6)),this._lookUpTableQuadratic[D]=this._quadraticCoefficients(t),L.toFixed(6)===j.toFixed(6)){t=parseFloat(L.toFixed(6))+parseFloat(T.toFixed(6)),++D,this._lookUpTableQuadratic[D]=this._quadraticCoefficients(t);break}T+=j,L-=j,++D}}var R=this._lookUpTableQuadratic.length;if(S===4){for(this.isQuadratic=!0,m=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],g=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],c=0;c<R;c++)r=m[0]*this._lookUpTableQuadratic[c][0]+m[1]*this._lookUpTableQuadratic[c][1]+m[2]*this._lookUpTableQuadratic[c][2],s=g[0]*this._lookUpTableQuadratic[c][0]+g[1]*this._lookUpTableQuadratic[c][1]+g[2]*this._lookUpTableQuadratic[c][2],this.vertex(r,s);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(S===6){for(this.isQuadratic=!0,m=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],g=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],w=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],c=0;c<R;c++)r=m[0]*this._lookUpTableQuadratic[c][0]+m[1]*this._lookUpTableQuadratic[c][1]+m[2]*this._lookUpTableQuadratic[c][2],s=g[0]*this._lookUpTableQuadratic[c][0]+g[1]*this._lookUpTableQuadratic[c][1]+g[2]*this._lookUpTableQuadratic[c][2],i=w[0]*this._lookUpTableQuadratic[c][0]+w[1]*this._lookUpTableQuadratic[c][1]+w[2]*this._lookUpTableQuadratic[c][2],this.vertex(r,s,i);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},h.default.RendererGL.prototype.curveVertex=function(){var t,r,s,i,c,m=[],g=[],w=[],S=arguments.length;if((t=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var j=1/this._lutBezierDetail,T=0,L=1,D=0;T<1;){if(t=parseFloat(T.toFixed(6)),this._lookUpTableBezier[D]=this._bezierCoefficients(t),L.toFixed(6)===j.toFixed(6)){t=parseFloat(L.toFixed(6))+parseFloat(T.toFixed(6)),++D,this._lookUpTableBezier[D]=this._bezierCoefficients(t);break}T+=j,L-=j,++D}}var R=this._lookUpTableBezier.length;if(S===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,m=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),g=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),c=0;c<R;c++)r=m[0]*this._lookUpTableBezier[c][0]+m[1]*this._lookUpTableBezier[c][1]+m[2]*this._lookUpTableBezier[c][2]+m[3]*this._lookUpTableBezier[c][3],s=g[0]*this._lookUpTableBezier[c][0]+g[1]*this._lookUpTableBezier[c][1]+g[2]*this._lookUpTableBezier[c][2]+g[3]*this._lookUpTableBezier[c][3],this.vertex(r,s);for(c=0;c<S;c++)this.immediateMode._curveVertex.shift()}}else if(S===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,m=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),g=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),c=0;c<R;c++)r=m[0]*this._lookUpTableBezier[c][0]+m[1]*this._lookUpTableBezier[c][1]+m[2]*this._lookUpTableBezier[c][2]+m[3]*this._lookUpTableBezier[c][3],s=g[0]*this._lookUpTableBezier[c][0]+g[1]*this._lookUpTableBezier[c][1]+g[2]*this._lookUpTableBezier[c][2]+g[3]*this._lookUpTableBezier[c][3],i=w[0]*this._lookUpTableBezier[c][0]+w[1]*this._lookUpTableBezier[c][1]+w[2]*this._lookUpTableBezier[c][2]+w[3]*this._lookUpTableBezier[c][3],this.vertex(r,s,i);for(c=0;c<S;c++)this.immediateMode._curveVertex.shift()}},h.default.RendererGL.prototype.image=function(t,r,s,i,c,m,g,w,S){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(t),this._pInst.textureMode(l.NORMAL);var j=0;r<=t.width&&(j=r/t.width);var T=1;r+i<=t.width&&(T=(r+i)/t.width);var L=0;s<=t.height&&(L=s/t.height);var D=1;s+c<=t.height&&(D=(s+c)/t.height),this.beginShape(),this.vertex(m,g,0,j,L),this.vertex(m+w,g,0,T,L),this.vertex(m+w,g+S,0,T,D),this.vertex(m,g+S,0,j,D),this.endShape(l.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(l.REMOVE)};var n=h.default;v.default=n},{"../core/constants":253,"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.number.to-fixed":172}],308:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=d();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}h.default.prototype.orbitControl=function(n,t,r){if(this._assert3d("orbitControl"),h.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var s=this._renderer._curCamera;n===void 0&&(n=1),t===void 0&&(t=n),r===void 0&&(r=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var i=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,r*i):this._renderer._curCamera._orbit(0,0,-r*i)),this.mouseIsPressed){if(this.mouseButton===this.LEFT){var c=-n*(this.mouseX-this.pmouseX)/i,m=t*(this.mouseY-this.pmouseY)/i;this._renderer._curCamera._orbit(c,m,0)}else if(this.mouseButton===this.RIGHT){var g=s._getLocalAxes(),w=Math.sqrt(g.x[0]*g.x[0]+g.x[2]*g.x[2]);w!==0&&(g.x[0]/=w,g.x[2]/=w);var S=Math.sqrt(g.y[0]*g.y[0]+g.y[2]*g.y[2]);S!==0&&(g.y[0]/=S,g.y[2]/=S);var j=-1*n*(this.mouseX-this.pmouseX),T=-1*t*(this.mouseY-this.pmouseY);s.setPosition(s.eyeX+j*g.x[0]+T*g.z[0],s.eyeY,s.eyeZ+j*g.x[2]+T*g.z[2])}}return this}},h.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];h.default._validateParameters("debugMode",t);for(var s=this._registeredMethods.post.length-1;0<=s;s--)this._registeredMethods.post[s].toString()!==this._grid().toString()&&this._registeredMethods.post[s].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(s,1);t[0]===l.GRID?this.registerMethod("post",this._grid.call(this,t[1],t[2],t[3],t[4],t[5])):t[0]===l.AXES?this.registerMethod("post",this._axesIcon.call(this,t[1],t[2],t[3],t[4])):(this.registerMethod("post",this._grid.call(this,t[0],t[1],t[2],t[3],t[4])),this.registerMethod("post",this._axesIcon.call(this,t[5],t[6],t[7],t[8])))},h.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1)},h.default.prototype._grid=function(n,t,r,s,i){n===void 0&&(n=this.width/2),t===void 0&&(t=Math.round(n/30)<4?4:Math.round(n/30)),r===void 0&&(r=0),s===void 0&&(s=0),i===void 0&&(i=0);var c=n/t,m=n/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var g=0;g<=t;g++)this.beginShape(this.LINES),this.vertex(-m+r,s,g*c-m+i),this.vertex(+m+r,s,g*c-m+i),this.endShape();for(var w=0;w<=t;w++)this.beginShape(this.LINES),this.vertex(w*c-m+r,s,-m+i),this.vertex(w*c-m+r,s,+m+i),this.endShape();this.pop()}},h.default.prototype._axesIcon=function(n,t,r,s){return n===void 0&&(n=40<this.width/20?this.width/20:40),t===void 0&&(t=-this.width/4),r===void 0&&(r=t),s===void 0&&(s=t),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(t,r,s),this.vertex(t+n,r,s),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(t,r,s),this.vertex(t,r+n,s),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(t,r,s),this.vertex(t,r,s+n),this.endShape(),this.pop()}};var u=h.default;v.default=u},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],309:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=d();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}h.default.prototype.ambientLight=function(n,t,r,s){this._assert3d("ambientLight"),h.default._validateParameters("ambientLight",arguments);var i=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(i._array[0],i._array[1],i._array[2]),this._renderer._enableLighting=!0,this},h.default.prototype.specularColor=function(n,t,r){this._assert3d("specularColor"),h.default._validateParameters("specularColor",arguments);var s=this.color.apply(this,arguments);return this._renderer.specularColors=[s._array[0],s._array[1],s._array[2]],this},h.default.prototype.directionalLight=function(n,t,r,s,i,c){var m,g,w,S;this._assert3d("directionalLight"),h.default._validateParameters("directionalLight",arguments),m=n instanceof h.default.Color?n:this.color(n,t,r);var j=arguments[arguments.length-1];S=typeof j=="number"?(g=arguments[arguments.length-3],w=arguments[arguments.length-2],arguments[arguments.length-1]):(g=j.x,w=j.y,j.z);var T=Math.sqrt(g*g+w*w+S*S);return this._renderer.directionalLightDirections.push(g/T,w/T,S/T),this._renderer.directionalLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},h.default.prototype.pointLight=function(n,t,r,s,i,c){var m,g,w,S;this._assert3d("pointLight"),h.default._validateParameters("pointLight",arguments),m=n instanceof h.default.Color?n:this.color(n,t,r);var j=arguments[arguments.length-1];return S=typeof j=="number"?(g=arguments[arguments.length-3],w=arguments[arguments.length-2],arguments[arguments.length-1]):(g=j.x,w=j.y,j.z),this._renderer.pointLightPositions.push(g,w,S),this._renderer.pointLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},h.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===l.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var n=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,n),this.directionalLight(0,0,n,0,0,-1)}return this},h.default.prototype.lightFalloff=function(n,t,r){return this._assert3d("lightFalloff"),h.default._validateParameters("lightFalloff",arguments),n<0&&(n=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),t<0&&(t=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),r<0&&(r=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),n===0&&t===0&&r===0&&(n=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=n,this._renderer.linearAttenuation=t,this._renderer.quadraticAttenuation=r,this},h.default.prototype.spotLight=function(n,t,r,s,i,c,m,g,w,S,j){var T,L,D;this._assert3d("spotLight"),h.default._validateParameters("spotLight",arguments);var R=arguments.length;switch(R){case 11:case 10:T=this.color(n,t,r),L=new h.default.Vector(s,i,c),D=new h.default.Vector(m,g,w);break;case 9:n instanceof h.default.Color?(T=n,L=new h.default.Vector(t,r,s),D=new h.default.Vector(i,c,m),S=g,j=w):s instanceof h.default.Vector?(T=this.color(n,t,r),L=s,D=new h.default.Vector(i,c,m),S=g,j=w):m instanceof h.default.Vector?(T=this.color(n,t,r),L=new h.default.Vector(s,i,c),D=m,S=g,j=w):(T=this.color(n,t,r),L=new h.default.Vector(s,i,c),D=new h.default.Vector(m,g,w));break;case 8:S=(D=n instanceof h.default.Color?(T=n,L=new h.default.Vector(t,r,s),new h.default.Vector(i,c,m)):s instanceof h.default.Vector?(T=this.color(n,t,r),L=s,new h.default.Vector(i,c,m)):(T=this.color(n,t,r),L=new h.default.Vector(s,i,c),m),g);break;case 7:n instanceof h.default.Color&&t instanceof h.default.Vector?(T=n,L=t,D=new h.default.Vector(r,s,i),S=c,j=m):n instanceof h.default.Color&&i instanceof h.default.Vector?(T=n,L=new h.default.Vector(t,r,s),D=i,S=c,j=m):s instanceof h.default.Vector&&i instanceof h.default.Vector?(T=this.color(n,t,r),L=s,D=i,S=c,j=m):D=n instanceof h.default.Color?(T=n,L=new h.default.Vector(t,r,s),new h.default.Vector(i,c,m)):s instanceof h.default.Vector?(T=this.color(n,t,r),L=s,new h.default.Vector(i,c,m)):(T=this.color(n,t,r),L=new h.default.Vector(s,i,c),m);break;case 6:s instanceof h.default.Vector&&i instanceof h.default.Vector?(T=this.color(n,t,r),L=s,D=i,S=c):n instanceof h.default.Color&&i instanceof h.default.Vector?(T=n,L=new h.default.Vector(t,r,s),D=i,S=c):n instanceof h.default.Color&&t instanceof h.default.Vector&&(T=n,L=t,D=new h.default.Vector(r,s,i),S=c);break;case 5:n instanceof h.default.Color&&t instanceof h.default.Vector&&r instanceof h.default.Vector?(T=n,L=t,D=r,S=s,j=i):s instanceof h.default.Vector&&i instanceof h.default.Vector?(T=this.color(n,t,r),L=s,D=i):n instanceof h.default.Color&&i instanceof h.default.Vector?(T=n,L=new h.default.Vector(t,r,s),D=i):n instanceof h.default.Color&&t instanceof h.default.Vector&&(T=n,L=t,D=new h.default.Vector(r,s,i));break;case 4:T=n,L=t,D=r,S=s;break;case 3:T=n,L=t,D=r;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(R<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(T._array[0],T._array[1],T._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(L.x,L.y,L.z),D.normalize(),this._renderer.spotLightDirections.push(D.x,D.y,D.z),S===void 0&&(S=Math.PI/3),j!==void 0&&j<1?(j=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):j===void 0&&(j=100),S=this._renderer._pInst._toRadians(S),this._renderer.spotLightAngle.push(Math.cos(S)),this._renderer.spotLightConc.push(j),this._renderer._enableLighting=!0,this},h.default.prototype.noLights=function(){return this._assert3d("noLights"),h.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var u=h.default;v.default=u},{"../core/constants":253,"../core/main":264}],310:[function(e,x,v){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};function h(d,u,n){for(var t=0,r=d.length;t<r;t++)if(d[t]!==u.getUint8(n+t,!1))return!1;return!0}e("./p5.Geometry"),o.default.prototype.loadModel=function(d){var u,n,t;o.default._validateParameters("loadModel",arguments);var r=d.slice(-4);typeof arguments[1]=="boolean"?(u=arguments[1],n=arguments[2],t=arguments[3],arguments[4]!==void 0&&(r=arguments[4])):(u=!1,n=arguments[1],t=arguments[2],arguments[3]!==void 0&&(r=arguments[3]));var s=new o.default.Geometry;s.gid="".concat(d,"|").concat(u);var i=this;return r.match(/\.stl$/i)?this.httpDo(d,"GET","arrayBuffer",function(c){(function(m,g){if(function(j){for(var T=new DataView(j),L=[115,111,108,105,100],D=0;D<5;D++)if(h(L,T,D))return!1;return!0}(g))(function(j,T){for(var L,D,R,O,U,P,G,V=new DataView(T),te=V.getUint32(80,!0),ne=!1,K=0;K<70;K++)V.getUint32(K,!1)===1129270351&&V.getUint8(K+4)===82&&V.getUint8(K+5)===61&&(ne=!0,O=[],U=V.getUint8(K+6)/255,P=V.getUint8(K+7)/255,G=V.getUint8(K+8)/255);for(var se=0;se<te;se++){var J=84+50*se,ue=V.getFloat32(J,!0),me=V.getFloat32(4+J,!0),_e=V.getFloat32(8+J,!0);if(ne){var he=V.getUint16(48+J,!0);R=(32768&he)==0?(L=(31&he)/31,D=(he>>5&31)/31,(he>>10&31)/31):(L=U,D=P,G)}for(var Re=new o.default.Vector(ue,me,_e),ve=1;ve<=3;ve++){var ye=J+12*ve,k=new o.default.Vector(V.getFloat32(ye,!0),V.getFloat32(4+ye,!0),V.getFloat32(8+ye,!0));j.vertices.push(k),j.vertexNormals.push(Re),ne&&O.push(L,D,R)}j.faces.push([3*se,3*se+1,3*se+2]),j.uvs.push([0,0],[0,0],[0,0])}})(m,g);else{var w=new DataView(g);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");var S=new TextDecoder("utf-8").decode(w).split(`
`);(function(j,T){for(var L,D,R="",O=[],U=0;U<T.length;++U){for(var P=T[U].trim(),G=P.split(" "),V=0;V<G.length;++V)G[V]===""&&G.splice(V,1);if(G.length!==0)switch(R){case"":if(G[0]!=="solid")return console.error(P),console.error('Invalid state "'.concat(G[0],'", should be "solid"'));R="solid";break;case"solid":if(G[0]!=="facet"||G[1]!=="normal")return console.error(P),console.error('Invalid state "'.concat(G[0],'", should be "facet normal"'));L=new o.default.Vector(parseFloat(G[2]),parseFloat(G[3]),parseFloat(G[4])),j.vertexNormals.push(L,L,L),R="facet normal";break;case"facet normal":if(G[0]!=="outer"||G[1]!=="loop")return console.error(P),console.error('Invalid state "'.concat(G[0],'", should be "outer loop"'));R="vertex";break;case"vertex":if(G[0]==="vertex")D=new o.default.Vector(parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3])),j.vertices.push(D),j.uvs.push([0,0]),O.push(j.vertices.indexOf(D));else{if(G[0]!=="endloop")return console.error(P),console.error('Invalid state "'.concat(G[0],'", should be "vertex" or "endloop"'));j.faces.push(O),O=[],R="endloop"}break;case"endloop":if(G[0]!=="endfacet")return console.error(P),console.error('Invalid state "'.concat(G[0],'", should be "endfacet"'));R="endfacet";break;case"endfacet":if(G[0]!=="endsolid"){if(G[0]!=="facet"||G[1]!=="normal")return console.error(P),console.error('Invalid state "'.concat(G[0],'", should be "endsolid" or "facet normal"'));L=new o.default.Vector(parseFloat(G[2]),parseFloat(G[3]),parseFloat(G[4])),j.vertexNormals.push(L,L,L),R="facet normal"}break;default:console.error('Invalid state "'.concat(R,'"'))}}})(m,S)}})(s,c),u&&s.normalize(),i._decrementPreload(),typeof n=="function"&&n(s)},t):r.match(/\.obj$/i)?this.loadStrings(d,function(c){(function(m,g){for(var w={v:[],vt:[],vn:[]},S={},j=0;j<g.length;++j){var T=g[j].trim().split(/\b\s+/);if(0<T.length){if(T[0]==="v"||T[0]==="vn"){var L=new o.default.Vector(parseFloat(T[1]),parseFloat(T[2]),parseFloat(T[3]));w[T[0]].push(L)}else if(T[0]==="vt"){var D=[parseFloat(T[1]),1-parseFloat(T[2])];w[T[0]].push(D)}else if(T[0]==="f")for(var R=3;R<T.length;++R){for(var O=[],U=[1,R-1,R],P=0;P<U.length;++P){var G=T[U[P]],V=0;if(S[G]!==void 0)V=S[G];else{for(var te=G.split("/"),ne=0;ne<te.length;ne++)te[ne]=parseInt(te[ne])-1;V=S[G]=m.vertices.length,m.vertices.push(w.v[te[0]].copy()),w.vt[te[1]]?m.uvs.push(w.vt[te[1]].slice()):m.uvs.push([0,0]),w.vn[te[2]]&&m.vertexNormals.push(w.vn[te[2]].copy())}O.push(V)}O[0]!==O[1]&&O[0]!==O[2]&&O[1]!==O[2]&&m.faces.push(O)}}}m.vertexNormals.length===0&&m.computeNormals()})(s,c),u&&s.normalize(),i._decrementPreload(),typeof n=="function"&&n(s)},t):(o.default._friendlyFileLoadError(3,d),t?t():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),s},o.default.prototype.model=function(d){this._assert3d("model"),o.default._validateParameters("model",arguments),0<d.vertices.length&&(this._renderer.geometryInHash(d.gid)||(d._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(d.gid,d)),this._renderer.drawBuffers(d.gid))};var l=o.default;v.default=l},{"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],311:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}e("core-js/modules/es.array.join"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=d();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}e("./p5.Texture"),h.default.prototype.loadShader=function(n,t,r,s){h.default._validateParameters("loadShader",arguments),s=s||console.error;function i(){m._decrementPreload(),r&&r(c)}var c=new h.default.Shader,m=this,g=!1,w=!1;return this.loadStrings(n,function(S){c._vertSrc=S.join(`
`),w=!0,g&&i()},s),this.loadStrings(t,function(S){c._fragSrc=S.join(`
`),g=!0,w&&i()},s),c},h.default.prototype.createShader=function(n,t){return this._assert3d("createShader"),h.default._validateParameters("createShader",arguments),new h.default.Shader(this._renderer,n,t)},h.default.prototype.shader=function(n){return this._assert3d("shader"),h.default._validateParameters("shader",arguments),n._renderer===void 0&&(n._renderer=this._renderer),n.init(),n.isStrokeShader()?this._renderer.userStrokeShader=n:(this._renderer.userFillShader=n,this._renderer._useNormalMaterial=!1),this},h.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},h.default.prototype.texture=function(n){return this._assert3d("texture"),h.default._validateParameters("texture",arguments),n.gifProperties&&n._animateGif(this),this._renderer.drawMode=l.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=n,this._renderer._setProperty("_doFill",!0),this},h.default.prototype.textureMode=function(n){n!==l.IMAGE&&n!==l.NORMAL?console.warn("You tried to set ".concat(n," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=n},h.default.prototype.textureWrap=function(n){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n;this._renderer.textureWrapX=n,this._renderer.textureWrapY=t;for(var r=this._renderer.textures,s=0;s<r.length;s++)r[s].setWrapMode(n,t)},h.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return h.default._validateParameters("normalMaterial",t),this._renderer.drawMode=l.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},h.default.prototype.ambientMaterial=function(n,t,r){this._assert3d("ambientMaterial"),h.default._validateParameters("ambientMaterial",arguments);var s=h.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=s._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},h.default.prototype.emissiveMaterial=function(n,t,r,s){this._assert3d("emissiveMaterial"),h.default._validateParameters("emissiveMaterial",arguments);var i=h.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=i._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},h.default.prototype.specularMaterial=function(n,t,r,s){this._assert3d("specularMaterial"),h.default._validateParameters("specularMaterial",arguments);var i=h.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=i._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},h.default.prototype.shininess=function(n){return this._assert3d("shininess"),h.default._validateParameters("shininess",arguments),n<1&&(n=1),this._renderer._useShininess=n,this},h.default.RendererGL.prototype._applyColorBlend=function(n){var t=this.GL,r=this.drawMode===l.TEXTURE||n[n.length-1]<1||this._isErasing;return r!==this._isBlending&&(r||this.curBlendMode!==l.BLEND&&this.curBlendMode!==l.ADD?t.enable(t.BLEND):t.disable(t.BLEND),t.depthMask(!0),this._isBlending=r),this._applyBlendMode(),n},h.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var n=this.GL;switch(this.curBlendMode){case l.BLEND:case l.ADD:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA);break;case l.REMOVE:n.blendEquation(n.FUNC_REVERSE_SUBTRACT),n.blendFunc(n.SRC_ALPHA,n.DST_ALPHA);break;case l.MULTIPLY:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ONE,n.ONE);break;case l.SCREEN:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE_MINUS_DST_COLOR,n.ONE,n.ONE,n.ONE);break;case l.EXCLUSION:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE_MINUS_DST_COLOR,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE);break;case l.REPLACE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO);break;case l.SUBTRACT:n.blendEquationSeparate(n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case l.DARKEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MIN_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case l.LIGHTEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MAX_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var u=h.default;v.default=u},{"../core/constants":253,"../core/main":264,"./p5.Texture":320,"core-js/modules/es.array.join":159}],312:[function(e,x,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.prototype.camera=function(){var l;this._assert3d("camera");for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];return o.default._validateParameters("camera",u),(l=this._renderer._curCamera).camera.apply(l,u),this},o.default.prototype.perspective=function(){var l;this._assert3d("perspective");for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];return o.default._validateParameters("perspective",u),(l=this._renderer._curCamera).perspective.apply(l,u),this},o.default.prototype.ortho=function(){var l;this._assert3d("ortho");for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];return o.default._validateParameters("ortho",u),(l=this._renderer._curCamera).ortho.apply(l,u),this},o.default.prototype.frustum=function(){var l;this._assert3d("frustum");for(var d=arguments.length,u=new Array(d),n=0;n<d;n++)u[n]=arguments[n];return o.default._validateParameters("frustum",u),(l=this._renderer._curCamera).frustum.apply(l,u),this},o.default.prototype.createCamera=function(){this._assert3d("createCamera");var l=new o.default.Camera(this._renderer);return l._computeCameraDefaultSettings(),l._setDefaultCamera(),this._renderer._curCamera=l},o.default.Camera=function(l){this._renderer=l,this.cameraType="default",this.cameraMatrix=new o.default.Matrix,this.projMatrix=new o.default.Matrix},o.default.Camera.prototype.perspective=function(l,d,u,n){this.cameraType=0<arguments.length?"custom":"default",l===void 0?(l=this.defaultCameraFOV,this.cameraFOV=l):this.cameraFOV=this._renderer._pInst._toRadians(l),d===void 0&&(d=this.defaultAspectRatio),u===void 0&&(u=this.defaultCameraNear),n===void 0&&(n=this.defaultCameraFar),u<=1e-4&&(u=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),n<u&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=d,this.cameraNear=u,this.cameraFar=n,this.projMatrix=o.default.Matrix.identity();var t=1/Math.tan(this.cameraFOV/2),r=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(t/d,0,0,0,0,-t,0,0,0,0,(n+u)*r,-1,0,0,2*n*u*r,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},o.default.Camera.prototype.ortho=function(l,d,u,n,t,r){l===void 0&&(l=-this._renderer.width/2),d===void 0&&(d=this._renderer.width/2),u===void 0&&(u=-this._renderer.height/2),n===void 0&&(n=this._renderer.height/2),t===void 0&&(t=0),r===void 0&&(r=Math.max(this._renderer.width,this._renderer.height));var s=d-l,i=n-u,c=r-t,m=2/s,g=2/i,w=-2/c,S=-(d+l)/s,j=-(n+u)/i,T=-(r+t)/c;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,-g,0,0,0,0,w,0,S,j,T,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},o.default.Camera.prototype.frustum=function(l,d,u,n,t,r){l===void 0&&(l=-this._renderer.width/2),d===void 0&&(d=this._renderer.width/2),u===void 0&&(u=-this._renderer.height/2),n===void 0&&(n=this._renderer.height/2),t===void 0&&(t=0),r===void 0&&(r=Math.max(this._renderer.width,this._renderer.height));var s=d-l,i=n-u,c=r-t,m=2*t/s,g=2*t/i,w=-2*r*t/c,S=(d+l)/s,j=(n+u)/i,T=-(r+t)/c;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,g,0,0,S,j,T,-1,0,0,w,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},o.default.Camera.prototype._rotateView=function(l,d,u,n){var t=this.centerX,r=this.centerY,s=this.centerZ;t-=this.eyeX,r-=this.eyeY,s-=this.eyeZ;var i=o.default.Matrix.identity(this._renderer._pInst);i.rotate(this._renderer._pInst._toRadians(l),d,u,n);var c=[t*i.mat4[0]+r*i.mat4[4]+s*i.mat4[8],t*i.mat4[1]+r*i.mat4[5]+s*i.mat4[9],t*i.mat4[2]+r*i.mat4[6]+s*i.mat4[10]];c[0]+=this.eyeX,c[1]+=this.eyeY,c[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,c[0],c[1],c[2],this.upX,this.upY,this.upZ)},o.default.Camera.prototype.pan=function(l){var d=this._getLocalAxes();this._rotateView(l,d.y[0],d.y[1],d.y[2])},o.default.Camera.prototype.tilt=function(l){var d=this._getLocalAxes();this._rotateView(l,d.x[0],d.x[1],d.x[2])},o.default.Camera.prototype.lookAt=function(l,d,u){this.camera(this.eyeX,this.eyeY,this.eyeZ,l,d,u,this.upX,this.upY,this.upZ)},o.default.Camera.prototype.camera=function(l,d,u,n,t,r,s,i,c){l===void 0&&(l=this.defaultEyeX,d=this.defaultEyeY,u=this.defaultEyeZ,n=l,t=d,i=1,c=s=r=0),this.eyeX=l,this.eyeY=d,this.eyeZ=u,n!==void 0&&(this.centerX=n,this.centerY=t,this.centerZ=r),s!==void 0&&(this.upX=s,this.upY=i,this.upZ=c);var m=this._getLocalAxes();this.cameraMatrix.set(m.x[0],m.y[0],m.z[0],0,m.x[1],m.y[1],m.z[1],0,m.x[2],m.y[2],m.z[2],0,0,0,0,1);var g=-l,w=-d,S=-u;return this.cameraMatrix.translate([g,w,S]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},o.default.Camera.prototype.move=function(l,d,u){var n=this._getLocalAxes(),t=[n.x[0]*l,n.x[1]*l,n.x[2]*l],r=[n.y[0]*d,n.y[1]*d,n.y[2]*d],s=[n.z[0]*u,n.z[1]*u,n.z[2]*u];this.camera(this.eyeX+t[0]+r[0]+s[0],this.eyeY+t[1]+r[1]+s[1],this.eyeZ+t[2]+r[2]+s[2],this.centerX+t[0]+r[0]+s[0],this.centerY+t[1]+r[1]+s[1],this.centerZ+t[2]+r[2]+s[2],0,1,0)},o.default.Camera.prototype.setPosition=function(l,d,u){var n=l-this.eyeX,t=d-this.eyeY,r=u-this.eyeZ;this.camera(l,d,u,this.centerX+n,this.centerY+t,this.centerZ+r,0,1,0)},o.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},o.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},o.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},o.default.Camera.prototype.copy=function(){var l=new o.default.Camera(this._renderer);return l.cameraFOV=this.cameraFOV,l.aspectRatio=this.aspectRatio,l.eyeX=this.eyeX,l.eyeY=this.eyeY,l.eyeZ=this.eyeZ,l.centerX=this.centerX,l.centerY=this.centerY,l.centerZ=this.centerZ,l.cameraNear=this.cameraNear,l.cameraFar=this.cameraFar,l.cameraType=this.cameraType,l.cameraMatrix=this.cameraMatrix.copy(),l.projMatrix=this.projMatrix.copy(),l},o.default.Camera.prototype._getLocalAxes=function(){var l=this.eyeX-this.centerX,d=this.eyeY-this.centerY,u=this.eyeZ-this.centerZ,n=Math.sqrt(l*l+d*d+u*u);n!==0&&(l/=n,d/=n,u/=n);var t=this.upX,r=this.upY,s=this.upZ,i=r*u-s*d,c=-t*u+s*l,m=t*d-r*l;t=d*m-u*c,r=-l*m+u*i,s=l*c-d*i;var g=Math.sqrt(i*i+c*c+m*m);g!==0&&(i/=g,c/=g,m/=g);var w=Math.sqrt(t*t+r*r+s*s);return w!==0&&(t/=w,r/=w,s/=w),{x:[i,c,m],y:[t,r,s],z:[l,d,u]}},o.default.Camera.prototype._orbit=function(l,d,u){var n=this.eyeX-this.centerX,t=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,s=Math.sqrt(n*n+t*t+r*r),i=Math.atan2(n,r),c=Math.acos(Math.max(-1,Math.min(1,t/s)));i+=l,(s+=u)<0&&(s=.1),(c+=d)>Math.PI?c=Math.PI:c<=0&&(c=.001);var m=Math.sin(c)*s*Math.sin(i),g=Math.cos(c)*s,w=Math.sin(c)*s*Math.cos(i);this.camera(m+this.centerX,g+this.centerY,w+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},o.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},o.default.prototype.setCamera=function(l){this._renderer._curCamera=l,this._renderer.uPMatrix.set(l.projMatrix.mat4[0],l.projMatrix.mat4[1],l.projMatrix.mat4[2],l.projMatrix.mat4[3],l.projMatrix.mat4[4],l.projMatrix.mat4[5],l.projMatrix.mat4[6],l.projMatrix.mat4[7],l.projMatrix.mat4[8],l.projMatrix.mat4[9],l.projMatrix.mat4[10],l.projMatrix.mat4[11],l.projMatrix.mat4[12],l.projMatrix.mat4[13],l.projMatrix.mat4[14],l.projMatrix.mat4[15])};var h=o.default.Camera;v.default=h},{"../core/main":264}],313:[function(e,x,v){e("core-js/modules/es.string.sub"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.Geometry=function(l,d,u){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=l!==void 0?l:1,this.detailY=d!==void 0?d:1,this.dirtyFlags={},u instanceof Function&&u.call(this),this},o.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},o.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var l,d,u,n,t=this.detailX+1,r=0;r<this.detailY;r++)for(var s=0;s<this.detailX;s++)d=(l=r*t+s)+1,u=(r+1)*t+s+1,n=(r+1)*t+s,this.faces.push([l,d,n]),this.faces.push([n,d,u]);return this},o.default.Geometry.prototype._getFaceNormal=function(l){var d=this.faces[l],u=this.vertices[d[0]],n=this.vertices[d[1]],t=this.vertices[d[2]],r=o.default.Vector.sub(n,u),s=o.default.Vector.sub(t,u),i=o.default.Vector.cross(r,s),c=o.default.Vector.mag(i),m=c/(o.default.Vector.mag(r)*o.default.Vector.mag(s));return m===0||isNaN(m)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),i):(1<m&&(m=1),i.mult(Math.asin(m)/c))},o.default.Geometry.prototype.computeNormals=function(){var l,d=this.vertexNormals,u=this.vertices,n=this.faces;for(l=d.length=0;l<u.length;++l)d.push(new o.default.Vector);for(var t=0;t<n.length;++t)for(var r=n[t],s=this._getFaceNormal(t),i=0;i<3;++i)d[r[i]].add(s);for(l=0;l<u.length;++l)d[l].normalize();return this},o.default.Geometry.prototype.averageNormals=function(){for(var l=0;l<=this.detailY;l++){var d=this.detailX+1,u=o.default.Vector.add(this.vertexNormals[l*d],this.vertexNormals[l*d+this.detailX]);u=o.default.Vector.div(u,2),this.vertexNormals[l*d]=u,this.vertexNormals[l*d+this.detailX]=u}return this},o.default.Geometry.prototype.averagePoleNormals=function(){for(var l=new o.default.Vector(0,0,0),d=0;d<this.detailX;d++)l.add(this.vertexNormals[d]);l=o.default.Vector.div(l,this.detailX);for(var u=0;u<this.detailX;u++)this.vertexNormals[u]=l;l=new o.default.Vector(0,0,0);for(var n=this.vertices.length-1;n>this.vertices.length-1-this.detailX;n--)l.add(this.vertexNormals[n]);l=o.default.Vector.div(l,this.detailX);for(var t=this.vertices.length-1;t>this.vertices.length-1-this.detailX;t--)this.vertexNormals[t]=l;return this},o.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var l=0,d=this.strokeIndices.length;l<d;l++)this.edges.push(this.strokeIndices[l]);else for(var u=0;u<this.faces.length;u++)this.edges.push([this.faces[u][0],this.faces[u][1]]),this.edges.push([this.faces[u][1],this.faces[u][2]]),this.edges.push([this.faces[u][2],this.faces[u][0]]);return this},o.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var l=this.lineNormals.length=0;l<this.edges.length;l++){var d=this.vertices[this.edges[l][0]],u=this.vertices[this.edges[l][1]],n=u.copy().sub(d).normalize(),t=d.array(),r=d.array(),s=u.array(),i=u.array(),c=n.array(),m=n.array();c.push(1),m.push(-1),this.lineNormals.push(c,m,c,c,m,m),this.lineVertices.push(t,r,s,s,r,i)}return this},o.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var l=this.vertices[0].copy(),d=this.vertices[0].copy(),u=0;u<this.vertices.length;u++)l.x=Math.max(l.x,this.vertices[u].x),d.x=Math.min(d.x,this.vertices[u].x),l.y=Math.max(l.y,this.vertices[u].y),d.y=Math.min(d.y,this.vertices[u].y),l.z=Math.max(l.z,this.vertices[u].z),d.z=Math.min(d.z,this.vertices[u].z);for(var n=o.default.Vector.lerp(l,d,.5),t=o.default.Vector.sub(l,d),r=200/Math.max(Math.max(t.x,t.y),t.z),s=0;s<this.vertices.length;s++)this.vertices[s].sub(n),this.vertices[s].mult(r)}return this};var h=o.default.Geometry;v.default=h},{"../core/main":264,"core-js/modules/es.string.sub":192}],314:[function(e,x,v){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f},h=Array,l=function(u){return u instanceof Array};typeof Float32Array<"u"&&(h=Float32Array,l=function(u){return u instanceof Array||u instanceof Float32Array}),o.default.Matrix=function(){for(var u=new Array(arguments.length),n=0;n<u.length;++n)u[n]=arguments[n];return u.length&&u[u.length-1]instanceof o.default&&(this.p5=u[u.length-1]),u[0]==="mat3"?this.mat3=Array.isArray(u[1])?u[1]:new h([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(u[0])?u[0]:new h([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},o.default.Matrix.prototype.set=function(u){return u instanceof o.default.Matrix?this.mat4=u.mat4:l(u)?this.mat4=u:arguments.length===16&&(this.mat4[0]=u,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},o.default.Matrix.prototype.get=function(){return new o.default.Matrix(this.mat4,this.p5)},o.default.Matrix.prototype.copy=function(){var u=new o.default.Matrix(this.p5);return u.mat4[0]=this.mat4[0],u.mat4[1]=this.mat4[1],u.mat4[2]=this.mat4[2],u.mat4[3]=this.mat4[3],u.mat4[4]=this.mat4[4],u.mat4[5]=this.mat4[5],u.mat4[6]=this.mat4[6],u.mat4[7]=this.mat4[7],u.mat4[8]=this.mat4[8],u.mat4[9]=this.mat4[9],u.mat4[10]=this.mat4[10],u.mat4[11]=this.mat4[11],u.mat4[12]=this.mat4[12],u.mat4[13]=this.mat4[13],u.mat4[14]=this.mat4[14],u.mat4[15]=this.mat4[15],u},o.default.Matrix.identity=function(u){return new o.default.Matrix(u)},o.default.Matrix.prototype.transpose=function(u){var n,t,r,s,i,c;return u instanceof o.default.Matrix?(n=u.mat4[1],t=u.mat4[2],r=u.mat4[3],s=u.mat4[6],i=u.mat4[7],c=u.mat4[11],this.mat4[0]=u.mat4[0],this.mat4[1]=u.mat4[4],this.mat4[2]=u.mat4[8],this.mat4[3]=u.mat4[12],this.mat4[4]=n,this.mat4[5]=u.mat4[5],this.mat4[6]=u.mat4[9],this.mat4[7]=u.mat4[13],this.mat4[8]=t,this.mat4[9]=s,this.mat4[10]=u.mat4[10],this.mat4[11]=u.mat4[14],this.mat4[12]=r,this.mat4[13]=i,this.mat4[14]=c,this.mat4[15]=u.mat4[15]):l(u)&&(n=u[1],t=u[2],r=u[3],s=u[6],i=u[7],c=u[11],this.mat4[0]=u[0],this.mat4[1]=u[4],this.mat4[2]=u[8],this.mat4[3]=u[12],this.mat4[4]=n,this.mat4[5]=u[5],this.mat4[6]=u[9],this.mat4[7]=u[13],this.mat4[8]=t,this.mat4[9]=s,this.mat4[10]=u[10],this.mat4[11]=u[14],this.mat4[12]=r,this.mat4[13]=i,this.mat4[14]=c,this.mat4[15]=u[15]),this},o.default.Matrix.prototype.invert=function(u){var n,t,r,s,i,c,m,g,w,S,j,T,L,D,R,O;u instanceof o.default.Matrix?(n=u.mat4[0],t=u.mat4[1],r=u.mat4[2],s=u.mat4[3],i=u.mat4[4],c=u.mat4[5],m=u.mat4[6],g=u.mat4[7],w=u.mat4[8],S=u.mat4[9],j=u.mat4[10],T=u.mat4[11],L=u.mat4[12],D=u.mat4[13],R=u.mat4[14],O=u.mat4[15]):l(u)&&(n=u[0],t=u[1],r=u[2],s=u[3],i=u[4],c=u[5],m=u[6],g=u[7],w=u[8],S=u[9],j=u[10],T=u[11],L=u[12],D=u[13],R=u[14],O=u[15]);var U=n*c-t*i,P=n*m-r*i,G=n*g-s*i,V=t*m-r*c,te=t*g-s*c,ne=r*g-s*m,K=w*D-S*L,se=w*R-j*L,J=w*O-T*L,ue=S*R-j*D,me=S*O-T*D,_e=j*O-T*R,he=U*_e-P*me+G*ue+V*J-te*se+ne*K;return he?(he=1/he,this.mat4[0]=(c*_e-m*me+g*ue)*he,this.mat4[1]=(r*me-t*_e-s*ue)*he,this.mat4[2]=(D*ne-R*te+O*V)*he,this.mat4[3]=(j*te-S*ne-T*V)*he,this.mat4[4]=(m*J-i*_e-g*se)*he,this.mat4[5]=(n*_e-r*J+s*se)*he,this.mat4[6]=(R*G-L*ne-O*P)*he,this.mat4[7]=(w*ne-j*G+T*P)*he,this.mat4[8]=(i*me-c*J+g*K)*he,this.mat4[9]=(t*J-n*me-s*K)*he,this.mat4[10]=(L*te-D*G+O*U)*he,this.mat4[11]=(S*G-w*te-T*U)*he,this.mat4[12]=(c*se-i*ue-m*K)*he,this.mat4[13]=(n*ue-t*se+r*K)*he,this.mat4[14]=(D*P-L*V-R*U)*he,this.mat4[15]=(w*V-S*P+j*U)*he,this):null},o.default.Matrix.prototype.invert3x3=function(){var u=this.mat3[0],n=this.mat3[1],t=this.mat3[2],r=this.mat3[3],s=this.mat3[4],i=this.mat3[5],c=this.mat3[6],m=this.mat3[7],g=this.mat3[8],w=g*s-i*m,S=-g*r+i*c,j=m*r-s*c,T=u*w+n*S+t*j;return T?(T=1/T,this.mat3[0]=w*T,this.mat3[1]=(-g*n+t*m)*T,this.mat3[2]=(i*n-t*s)*T,this.mat3[3]=S*T,this.mat3[4]=(g*u-t*c)*T,this.mat3[5]=(-i*u+t*r)*T,this.mat3[6]=j*T,this.mat3[7]=(-m*u+n*c)*T,this.mat3[8]=(s*u-n*r)*T,this):null},o.default.Matrix.prototype.transpose3x3=function(u){var n=u[1],t=u[2],r=u[5];return this.mat3[1]=u[3],this.mat3[2]=u[6],this.mat3[3]=n,this.mat3[5]=u[7],this.mat3[6]=t,this.mat3[7]=r,this},o.default.Matrix.prototype.inverseTranspose=function(u){this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=u.mat4[0],this.mat3[1]=u.mat4[1],this.mat3[2]=u.mat4[2],this.mat3[3]=u.mat4[4],this.mat3[4]=u.mat4[5],this.mat3[5]=u.mat4[6],this.mat3[6]=u.mat4[8],this.mat3[7]=u.mat4[9],this.mat3[8]=u.mat4[10]);var n=this.invert3x3();if(n)n.transpose3x3(this.mat3);else for(var t=0;t<9;t++)this.mat3[t]=0;return this},o.default.Matrix.prototype.determinant=function(){var u=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],n=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],t=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],r=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],s=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],i=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],c=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],m=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],g=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],w=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],S=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return u*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-n*S+t*w+r*g-s*m+i*c},o.default.Matrix.prototype.mult=function(u){var n;if(u===this||u===this.mat4)n=this.copy().mat4;else if(u instanceof o.default.Matrix)n=u.mat4;else if(l(u))n=u;else{if(arguments.length!==16)return;n=arguments}var t=this.mat4[0],r=this.mat4[1],s=this.mat4[2],i=this.mat4[3];return this.mat4[0]=t*n[0]+r*n[4]+s*n[8]+i*n[12],this.mat4[1]=t*n[1]+r*n[5]+s*n[9]+i*n[13],this.mat4[2]=t*n[2]+r*n[6]+s*n[10]+i*n[14],this.mat4[3]=t*n[3]+r*n[7]+s*n[11]+i*n[15],t=this.mat4[4],r=this.mat4[5],s=this.mat4[6],i=this.mat4[7],this.mat4[4]=t*n[0]+r*n[4]+s*n[8]+i*n[12],this.mat4[5]=t*n[1]+r*n[5]+s*n[9]+i*n[13],this.mat4[6]=t*n[2]+r*n[6]+s*n[10]+i*n[14],this.mat4[7]=t*n[3]+r*n[7]+s*n[11]+i*n[15],t=this.mat4[8],r=this.mat4[9],s=this.mat4[10],i=this.mat4[11],this.mat4[8]=t*n[0]+r*n[4]+s*n[8]+i*n[12],this.mat4[9]=t*n[1]+r*n[5]+s*n[9]+i*n[13],this.mat4[10]=t*n[2]+r*n[6]+s*n[10]+i*n[14],this.mat4[11]=t*n[3]+r*n[7]+s*n[11]+i*n[15],t=this.mat4[12],r=this.mat4[13],s=this.mat4[14],i=this.mat4[15],this.mat4[12]=t*n[0]+r*n[4]+s*n[8]+i*n[12],this.mat4[13]=t*n[1]+r*n[5]+s*n[9]+i*n[13],this.mat4[14]=t*n[2]+r*n[6]+s*n[10]+i*n[14],this.mat4[15]=t*n[3]+r*n[7]+s*n[11]+i*n[15],this},o.default.Matrix.prototype.apply=function(u){var n;if(u===this||u===this.mat4)n=this.copy().mat4;else if(u instanceof o.default.Matrix)n=u.mat4;else if(l(u))n=u;else{if(arguments.length!==16)return;n=arguments}var t=this.mat4,r=t[0],s=t[4],i=t[8],c=t[12];t[0]=n[0]*r+n[1]*s+n[2]*i+n[3]*c,t[4]=n[4]*r+n[5]*s+n[6]*i+n[7]*c,t[8]=n[8]*r+n[9]*s+n[10]*i+n[11]*c,t[12]=n[12]*r+n[13]*s+n[14]*i+n[15]*c;var m=t[1],g=t[5],w=t[9],S=t[13];t[1]=n[0]*m+n[1]*g+n[2]*w+n[3]*S,t[5]=n[4]*m+n[5]*g+n[6]*w+n[7]*S,t[9]=n[8]*m+n[9]*g+n[10]*w+n[11]*S,t[13]=n[12]*m+n[13]*g+n[14]*w+n[15]*S;var j=t[2],T=t[6],L=t[10],D=t[14];t[2]=n[0]*j+n[1]*T+n[2]*L+n[3]*D,t[6]=n[4]*j+n[5]*T+n[6]*L+n[7]*D,t[10]=n[8]*j+n[9]*T+n[10]*L+n[11]*D,t[14]=n[12]*j+n[13]*T+n[14]*L+n[15]*D;var R=t[3],O=t[7],U=t[11],P=t[15];return t[3]=n[0]*R+n[1]*O+n[2]*U+n[3]*P,t[7]=n[4]*R+n[5]*O+n[6]*U+n[7]*P,t[11]=n[8]*R+n[9]*O+n[10]*U+n[11]*P,t[15]=n[12]*R+n[13]*O+n[14]*U+n[15]*P,this},o.default.Matrix.prototype.scale=function(u,n,t){return u instanceof o.default.Vector?(n=u.y,t=u.z,u=u.x):u instanceof Array&&(n=u[1],t=u[2],u=u[0]),this.mat4[0]*=u,this.mat4[1]*=u,this.mat4[2]*=u,this.mat4[3]*=u,this.mat4[4]*=n,this.mat4[5]*=n,this.mat4[6]*=n,this.mat4[7]*=n,this.mat4[8]*=t,this.mat4[9]*=t,this.mat4[10]*=t,this.mat4[11]*=t,this},o.default.Matrix.prototype.rotate=function(u,n,t,r){n instanceof o.default.Vector?(t=n.y,r=n.z,n=n.x):n instanceof Array&&(t=n[1],r=n[2],n=n[0]);var s=Math.sqrt(n*n+t*t+r*r);n*=1/s,t*=1/s,r*=1/s;var i=this.mat4[0],c=this.mat4[1],m=this.mat4[2],g=this.mat4[3],w=this.mat4[4],S=this.mat4[5],j=this.mat4[6],T=this.mat4[7],L=this.mat4[8],D=this.mat4[9],R=this.mat4[10],O=this.mat4[11],U=Math.sin(u),P=Math.cos(u),G=1-P,V=n*n*G+P,te=t*n*G+r*U,ne=r*n*G-t*U,K=n*t*G-r*U,se=t*t*G+P,J=r*t*G+n*U,ue=n*r*G+t*U,me=t*r*G-n*U,_e=r*r*G+P;return this.mat4[0]=i*V+w*te+L*ne,this.mat4[1]=c*V+S*te+D*ne,this.mat4[2]=m*V+j*te+R*ne,this.mat4[3]=g*V+T*te+O*ne,this.mat4[4]=i*K+w*se+L*J,this.mat4[5]=c*K+S*se+D*J,this.mat4[6]=m*K+j*se+R*J,this.mat4[7]=g*K+T*se+O*J,this.mat4[8]=i*ue+w*me+L*_e,this.mat4[9]=c*ue+S*me+D*_e,this.mat4[10]=m*ue+j*me+R*_e,this.mat4[11]=g*ue+T*me+O*_e,this},o.default.Matrix.prototype.translate=function(u){var n=u[0],t=u[1],r=u[2]||0;this.mat4[12]+=this.mat4[0]*n+this.mat4[4]*t+this.mat4[8]*r,this.mat4[13]+=this.mat4[1]*n+this.mat4[5]*t+this.mat4[9]*r,this.mat4[14]+=this.mat4[2]*n+this.mat4[6]*t+this.mat4[10]*r,this.mat4[15]+=this.mat4[3]*n+this.mat4[7]*t+this.mat4[11]*r},o.default.Matrix.prototype.rotateX=function(u){this.rotate(u,1,0,0)},o.default.Matrix.prototype.rotateY=function(u){this.rotate(u,0,1,0)},o.default.Matrix.prototype.rotateZ=function(u){this.rotate(u,0,0,1)},o.default.Matrix.prototype.perspective=function(u,n,t,r){var s=1/Math.tan(u/2),i=1/(t-r);return this.mat4[0]=s/n,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=s,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(r+t)*i,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*r*t*i,this.mat4[15]=0,this},o.default.Matrix.prototype.ortho=function(u,n,t,r,s,i){var c=1/(u-n),m=1/(t-r),g=1/(s-i);return this.mat4[0]=-2*c,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*m,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*g,this.mat4[11]=0,this.mat4[12]=(u+n)*c,this.mat4[13]=(r+t)*m,this.mat4[14]=(i+s)*g,this.mat4[15]=1,this};var d=o.default.Matrix;v.default=d},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],315:[function(e,x,v){e("core-js/modules/es.array.map"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.RenderBuffer=function(l,d,u,n,t,r){this.size=l,this.src=d,this.dst=u,this.attr=n,this._renderer=t,this.map=r},o.default.RenderBuffer.prototype._prepareBuffer=function(l,d){var u,n=d.attributes,t=this._renderer.GL;u=l.model?l.model:l;var r=n[this.attr];if(r){var s=l[this.dst],i=u[this.src];if(0<i.length){var c=!s;if(c&&(l[this.dst]=s=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,s),c||u.dirtyFlags[this.src]!==!1){var m=this.map,g=m?m(i):i;this._renderer._bindBuffer(s,t.ARRAY_BUFFER,g),u.dirtyFlags[this.src]=!1}d.enableAttrib(r,this.size)}}};var h=o.default.RenderBuffer;v.default=h},{"../core/main":264,"core-js/modules/es.array.map":161}],316:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=d();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}e("./p5.RenderBuffer"),h.default.RendererGL.prototype.beginShape=function(n){return this.immediateMode.shapeMode=n!==void 0?n:l.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},h.default.RendererGL.prototype.vertex=function(n,t){var r,s,i;r=s=i=0,arguments.length===3?r=arguments[2]:arguments.length===4?(s=arguments[2],i=arguments[3]):arguments.length===5&&(r=arguments[2],s=arguments[3],i=arguments[4]);var c=new h.default.Vector(n,t,r);this.immediateMode.geometry.vertices.push(c),this.immediateMode.geometry.vertexNormals.push(this._currentNormal);var m=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(m[0],m[1],m[2],m[3]),this.textureMode===l.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(s/=this._tex.width,i/=this._tex.height):this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(s,i),this.immediateMode._bezierVertex[0]=n,this.immediateMode._bezierVertex[1]=t,this.immediateMode._bezierVertex[2]=r,this.immediateMode._quadraticVertex[0]=n,this.immediateMode._quadraticVertex[1]=t,this.immediateMode._quadraticVertex[2]=r,this},h.default.RendererGL.prototype.normal=function(n,t,r){return n instanceof h.default.Vector?this._currentNormal=n:this._currentNormal=new h.default.Vector(n,t,r),this},h.default.RendererGL.prototype.endShape=function(n,t,r,s,i,c){return this.immediateMode.shapeMode===l.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},h.default.RendererGL.prototype._processVertices=function(n){if(this.immediateMode.geometry.vertices.length!==0){var t=this._doStroke&&this.drawMode!==l.TEXTURE,r=n===l.CLOSE;t&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,r),this.immediateMode.geometry._edgesToVertices());var s=this.immediateMode.shapeMode===l.TESS;(this.isBezier||this.isQuadratic||this.isCurve||s)&&this.immediateMode.shapeMode!==l.LINES&&this._tesselateShape()}},h.default.RendererGL.prototype._calculateEdges=function(n,t,r){var s=[],i=0;switch(n){case l.TRIANGLE_STRIP:for(i=0;i<t.length-2;i++)s.push([i,i+1]),s.push([i,i+2]);s.push([i,i+1]);break;case l.TRIANGLES:for(i=0;i<t.length-2;i+=3)s.push([i,i+1]),s.push([i+1,i+2]),s.push([i+2,i]);break;case l.LINES:for(i=0;i<t.length-1;i+=2)s.push([i,i+1]);break;default:for(i=0;i<t.length-1;i++)s.push([i,i+1])}return r&&s.push([t.length-1,0]),s},h.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=l.TRIANGLES;var n=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],t=this._triangulate(n);this.immediateMode.geometry.vertices=[];for(var r=0,s=t.length;r<s;r+=3)this.vertex(t[r],t[r+1],t[r+2])},h.default.RendererGL.prototype._drawImmediateFill=function(){var n=this.GL,t=this._getImmediateFillShader();this._setFillUniforms(t);var r=!0,s=!1,i=void 0;try{for(var c,m=this.immediateMode.buffers.fill[Symbol.iterator]();!(r=(c=m.next()).done);r=!0)c.value._prepareBuffer(this.immediateMode.geometry,t)}catch(g){s=!0,i=g}finally{try{r||m.return==null||m.return()}finally{if(s)throw i}}this.immediateMode.shapeMode!==l.LINE_STRIP&&this.immediateMode.shapeMode!==l.LINES||(this.immediateMode.shapeMode=l.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),n.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),t.unbindShader()},h.default.RendererGL.prototype._drawImmediateStroke=function(){var n=this.GL,t=this._getImmediateStrokeShader();this._setStrokeUniforms(t);var r=!0,s=!1,i=void 0;try{for(var c,m=this.immediateMode.buffers.stroke[Symbol.iterator]();!(r=(c=m.next()).done);r=!0)c.value._prepareBuffer(this.immediateMode.geometry,t)}catch(g){s=!0,i=g}finally{try{r||m.return==null||m.return()}finally{if(s)throw i}}this._applyColorBlend(this.curStrokeColor),n.drawArrays(n.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),t.unbindShader()};var u=h.default.RendererGL;v.default=u},{"../core/constants":253,"../core/main":264,"./p5.RenderBuffer":315,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/web.dom-collections.iterator":229}],317:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};e("./p5.RendererGL"),e("./p5.RenderBuffer");var h=0;o.default.RendererGL.prototype._initBufferDefaults=function(d){if(this._freeBuffers(d),1e3<++h){var u=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[u],h--}return this.retainedMode.geometry[d]={}},o.default.RendererGL.prototype._freeBuffers=function(d){var u=this.retainedMode.geometry[d];if(u){delete this.retainedMode.geometry[d],h--;var n=this.GL;u.indexBuffer&&n.deleteBuffer(u.indexBuffer),t(this.retainedMode.buffers.stroke),t(this.retainedMode.buffers.fill)}function t(r){var s=!0,i=!1,c=void 0;try{for(var m,g=r[Symbol.iterator]();!(s=(m=g.next()).done);s=!0){var w=m.value;u[w.dst]&&(n.deleteBuffer(u[w.dst]),u[w.dst]=null)}}catch(S){i=!0,c=S}finally{try{s||g.return==null||g.return()}finally{if(i)throw c}}}},o.default.RendererGL.prototype.createBuffers=function(d,u){var n=this.GL,t=this._initBufferDefaults(d);t.model=u;var r=t.indexBuffer;if(u.faces.length){r=r||(t.indexBuffer=n.createBuffer());var s=o.default.RendererGL.prototype._flatten(u.faces),i=s.some(function(m){return 65535<m}),c=i?Uint32Array:Uint16Array;this._bindBuffer(r,n.ELEMENT_ARRAY_BUFFER,s,c),t.indexBufferType=i?n.UNSIGNED_INT:n.UNSIGNED_SHORT,t.vertexCount=3*u.faces.length}else r&&(n.deleteBuffer(r),t.indexBuffer=null),t.vertexCount=u.vertices?u.vertices.length:0;return t.lineVertexCount=u.lineVertices?u.lineVertices.length:0,t},o.default.RendererGL.prototype.drawBuffers=function(d){var u=this.GL,n=this.retainedMode.geometry[d];if(this._doStroke&&0<n.lineVertexCount){var t=this._getRetainedStrokeShader();this._setStrokeUniforms(t);var r=!0,s=!1,i=void 0;try{for(var c,m=this.retainedMode.buffers.stroke[Symbol.iterator]();!(r=(c=m.next()).done);r=!0)c.value._prepareBuffer(n,t)}catch(D){s=!0,i=D}finally{try{r||m.return==null||m.return()}finally{if(s)throw i}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(u.TRIANGLES,d),t.unbindShader()}if(this._doFill){var g=this._getRetainedFillShader();this._setFillUniforms(g);var w=!0,S=!1,j=void 0;try{for(var T,L=this.retainedMode.buffers.fill[Symbol.iterator]();!(w=(T=L.next()).done);w=!0)T.value._prepareBuffer(n,g)}catch(D){S=!0,j=D}finally{try{w||L.return==null||L.return()}finally{if(S)throw j}}n.indexBuffer&&this._bindBuffer(n.indexBuffer,u.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(u.TRIANGLES,d),g.unbindShader()}return this},o.default.RendererGL.prototype.drawBuffersScaled=function(d,u,n,t){var r=this.uMVMatrix.copy();try{this.uMVMatrix.scale(u,n,t),this.drawBuffers(d)}finally{this.uMVMatrix=r}},o.default.RendererGL.prototype._drawArrays=function(d,u){return this.GL.drawArrays(d,0,this.retainedMode.geometry[u].lineVertexCount),this},o.default.RendererGL.prototype._drawElements=function(d,u){var n=this.retainedMode.geometry[u],t=this.GL;if(n.indexBuffer){if(n.indexBufferType===t.UNSIGNED_INT&&!t.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");t.drawElements(t.TRIANGLES,n.vertexCount,n.indexBufferType,0)}else t.drawArrays(d||t.TRIANGLES,0,n.vertexCount)},o.default.RendererGL.prototype._drawPoints=function(d,u){var n=this.GL,t=this._getImmediatePointShader();this._setPointUniforms(t),this._bindBuffer(u,n.ARRAY_BUFFER,this._vToNArray(d),Float32Array,n.STATIC_DRAW),t.enableAttrib(t.attributes.aPosition,3),n.drawArrays(n.Points,0,d.length),t.unbindShader()};var l=o.default.RendererGL;v.default=l},{"../core/main":264,"./p5.RenderBuffer":315,"./p5.RendererGL":318,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":229}],318:[function(e,x,v){function f(i){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o=u(e("../core/main")),h=function(i){if(i&&i.__esModule)return i;if(i===null||f(i)!=="object"&&typeof i!="function")return{default:i};var c=d();if(c&&c.has(i))return c.get(i);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in i)if(Object.prototype.hasOwnProperty.call(i,w)){var S=g?Object.getOwnPropertyDescriptor(i,w):null;S&&(S.get||S.set)?Object.defineProperty(m,w,S):m[w]=i[w]}return m.default=i,c&&c.set(i,m),m}(e("../core/constants")),l=u(e("libtess"));e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix"),e("path");function d(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return d=function(){return i},i}function u(i){return i&&i.__esModule?i:{default:i}}function n(i){return function(c){if(Array.isArray(c)){for(var m=0,g=new Array(c.length);m<c.length;m++)g[m]=c[m];return g}}(i)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var t=`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,r={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vColor;
}`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
uniform vec4 uMaterialColor;
void main(void) {
  gl_FragColor = uMaterialColor;
}`,lightVert:t+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;
  }
}`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
}
`,phongFrag:t+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;
  }
}`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = uMaterialColor;
  gl_FragColor.a *= saturate(max(antialias, cover));
}`,lineVert:`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform vec4 uViewport;
uniform int uPerspective;

attribute vec4 aPosition;
attribute vec4 aDirection;
  
void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posq.xyz = posq.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 q = uProjectionMatrix * posq;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);

  // flip tangent to normal (it's already normalized)
  vec2 normal = vec2(-tangent.y, tangent.x);

  float thickness = aDirection.w * uStrokeWeight;
  vec2 offset = normal * thickness / 2.0;

  vec2 curPerspScale;

  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
}
`,lineFrag:`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;

void main() {
  gl_FragColor = uMaterialColor;
}`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
	float mask = 0.0;

	// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

	mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

	// if strokeWeight is 1 or less lets just draw a square
	// this prevents weird artifacting from carving circles when our points are really small
	// if strokeWeight is larger than 1, we just use it as is

	mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

	// throw away the borders of the mask
    // otherwise we get weird alpha blending issues

	if(mask > 0.98){
      discard;
  	}

  	gl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;
}`};o.default.RendererGL=function(i,c,m,g){return o.default.Renderer.call(this,i,c,m),this._setAttributeDefaults(c),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=h.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=h.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new o.default.Matrix,this.uPMatrix=new o.default.Matrix,this.uNMatrix=new o.default.Matrix("mat3"),this._currentNormal=new o.default.Vector(0,0,1),this._curCamera=new o.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new o.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new o.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new o.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new o.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new o.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new o.default.Geometry,shapeMode:h.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new o.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new o.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new o.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new o.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new o.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=h.IMAGE,this.textureWrapX=h.CLAMP,this.textureWrapY=h.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},o.default.RendererGL.prototype=Object.create(o.default.Renderer.prototype),o.default.RendererGL.prototype._setAttributeDefaults=function(i){var c={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};i._glAttributes===null?i._glAttributes=c:i._glAttributes=Object.assign(c,i._glAttributes)},o.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var i=this.drawingContext;i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL),i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(c){throw c}},o.default.RendererGL.prototype._resetContext=function(i,c){var m=this.width,g=this.height,w=this.canvas.id,S=this._pInst instanceof o.default.Graphics;if(S){var j=this._pInst;j.canvas.parentNode.removeChild(j.canvas),j.canvas=document.createElement("canvas"),(j._pInst._userNode||document.body).appendChild(j.canvas),o.default.Element.call(j,j.canvas,j._pInst),j.width=m,j.height=g}else{var T=this.canvas;T&&T.parentNode.removeChild(T),(T=document.createElement("canvas")).id=w,this._pInst._userNode?this._pInst._userNode.appendChild(T):document.body.appendChild(T),this._pInst.canvas=T}var L=new o.default.RendererGL(this._pInst.canvas,this._pInst,!S);this._pInst._setProperty("_renderer",L),L.resize(m,g),L._applyDefaults(),S||this._pInst._elements.push(L),typeof c=="function"&&setTimeout(function(){c.apply(window._renderer,i)},0)},o.default.prototype.setAttributes=function(i,c){if(this._glAttributes!==void 0){var m=!0;if(c!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[i]!==c&&(this._glAttributes[i]=c,m=!1)):i instanceof Object&&this._glAttributes!==i&&(this._glAttributes=i,m=!1),this._renderer.isP3D&&!m){if(!this._setupDone){for(var g in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(g))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},o.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},o.default.RendererGL.prototype.background=function(){var i,c=(i=this._pInst).color.apply(i,arguments),m=c.levels[0]/255,g=c.levels[1]/255,w=c.levels[2]/255,S=c.levels[3]/255;this.GL.clearColor(m,g,w,S),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},o.default.RendererGL.prototype.fill=function(i,c,m,g){var w=o.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=w._array,this.drawMode=h.FILL,this._useNormalMaterial=!1,this._tex=null},o.default.RendererGL.prototype.stroke=function(i,c,m,g){arguments[3]=255;var w=o.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=w._array},o.default.RendererGL.prototype.strokeCap=function(i){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},o.default.RendererGL.prototype.strokeJoin=function(i){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},o.default.RendererGL.prototype.filter=function(i){console.error("filter() does not work in WEBGL mode")},o.default.RendererGL.prototype.blendMode=function(i){i===h.DARKEST||i===h.LIGHTEST||i===h.ADD||i===h.BLEND||i===h.SUBTRACT||i===h.SCREEN||i===h.EXCLUSION||i===h.REPLACE||i===h.MULTIPLY||i===h.REMOVE?this.curBlendMode=i:i!==h.BURN&&i!==h.OVERLAY&&i!==h.HARD_LIGHT&&i!==h.SOFT_LIGHT&&i!==h.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},o.default.RendererGL.prototype.erase=function(i,c){this._isErasing||(this._applyBlendMode(h.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,i/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,c/255])},o.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},o.default.RendererGL.prototype.strokeWeight=function(i){this.curStrokeWeight!==i&&(this.pointSize=i,this.curStrokeWeight=i)},o.default.RendererGL.prototype._getPixel=function(i,c){var m;return m=new Uint8Array(4),this.drawingContext.readPixels(i,c,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,m),[m[0],m[1],m[2],m[3]]},o.default.RendererGL.prototype.loadPixels=function(){var i=this._pixelsState;if(this._pInst._glAttributes.preserveDrawingBuffer===!0){var c=i.pixels,m=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;c instanceof Uint8Array&&c.length===m||(c=new Uint8Array(m),this._pixelsState._setProperty("pixels",c));var g=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*g,this.height*g,this.GL.RGBA,this.GL.UNSIGNED_BYTE,c)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},o.default.RendererGL.prototype.geometryInHash=function(i){return this.retainedMode.geometry[i]!==void 0},o.default.RendererGL.prototype.resize=function(i,c){o.default.Renderer.prototype.resize.call(this,i,c),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var m=this._pixelsState;m.pixels!==void 0&&m._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},o.default.RendererGL.prototype.clear=function(){var i=(arguments.length<=0?void 0:arguments[0])||0,c=(arguments.length<=1?void 0:arguments[1])||0,m=(arguments.length<=2?void 0:arguments[2])||0,g=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(i,c,m,g),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},o.default.RendererGL.prototype.applyMatrix=function(i,c,m,g,w,S){arguments.length===16?o.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([i,c,0,0,m,g,0,0,0,0,1,0,w,S,0,1])},o.default.RendererGL.prototype.translate=function(i,c,m){return i instanceof o.default.Vector&&(m=i.z,c=i.y,i=i.x),this.uMVMatrix.translate([i,c,m]),this},o.default.RendererGL.prototype.scale=function(i,c,m){return this.uMVMatrix.scale(i,c,m),this},o.default.RendererGL.prototype.rotate=function(i,c){return c===void 0?this.rotateZ(i):(o.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},o.default.RendererGL.prototype.rotateX=function(i){return this.rotate(i,1,0,0),this},o.default.RendererGL.prototype.rotateY=function(i){return this.rotate(i,0,1,0),this},o.default.RendererGL.prototype.rotateZ=function(i){return this.rotate(i,0,0,1),this},o.default.RendererGL.prototype.push=function(){var i=o.default.Renderer.prototype.push.apply(this),c=i.properties;return c.uMVMatrix=this.uMVMatrix.copy(),c.uPMatrix=this.uPMatrix.copy(),c._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),c.ambientLightColors=this.ambientLightColors.slice(),c.specularColors=this.specularColors.slice(),c.directionalLightDirections=this.directionalLightDirections.slice(),c.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),c.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),c.pointLightPositions=this.pointLightPositions.slice(),c.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),c.pointLightSpecularColors=this.pointLightSpecularColors.slice(),c.spotLightPositions=this.spotLightPositions.slice(),c.spotLightDirections=this.spotLightDirections.slice(),c.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),c.spotLightSpecularColors=this.spotLightSpecularColors.slice(),c.spotLightAngle=this.spotLightAngle.slice(),c.spotLightConc=this.spotLightConc.slice(),c.userFillShader=this.userFillShader,c.userStrokeShader=this.userStrokeShader,c.userPointShader=this.userPointShader,c.pointSize=this.pointSize,c.curStrokeWeight=this.curStrokeWeight,c.curStrokeColor=this.curStrokeColor,c.curFillColor=this.curFillColor,c._useSpecularMaterial=this._useSpecularMaterial,c._useEmissiveMaterial=this._useEmissiveMaterial,c._useShininess=this._useShininess,c.constantAttenuation=this.constantAttenuation,c.linearAttenuation=this.linearAttenuation,c.quadraticAttenuation=this.quadraticAttenuation,c._enableLighting=this._enableLighting,c._useNormalMaterial=this._useNormalMaterial,c._tex=this._tex,c.drawMode=this.drawMode,c._currentNormal=this._currentNormal,i},o.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=o.default.Matrix.identity(this._pInst),this},o.default.RendererGL.prototype._getImmediateStrokeShader=function(){var i=this.userStrokeShader;return i&&i.isStrokeShader()?i:this._getLineShader()},o.default.RendererGL.prototype._getRetainedStrokeShader=o.default.RendererGL.prototype._getImmediateStrokeShader,o.default.RendererGL.prototype._getImmediateFillShader=function(){var i=this.userFillShader;if(this._useNormalMaterial&&(!i||!i.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!i||!i.isLightShader())return this._getLightShader()}else if(this._tex){if(!i||!i.isTextureShader())return this._getLightShader()}else if(!i)return this._getImmediateModeShader();return i},o.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var i=this.userFillShader;if(this._enableLighting){if(!i||!i.isLightShader())return this._getLightShader()}else if(this._tex){if(!i||!i.isTextureShader())return this._getLightShader()}else if(!i)return this._getColorShader();return i},o.default.RendererGL.prototype._getImmediatePointShader=function(){var i=this.userPointShader;return i&&i.isPointShader()?i:this._getPointShader()},o.default.RendererGL.prototype._getRetainedLineShader=o.default.RendererGL.prototype._getImmediateLineShader,o.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new o.default.Shader(this,r.phongVert,r.phongFrag):this._defaultLightShader=new o.default.Shader(this,r.lightVert,r.lightTextureFrag)),this._defaultLightShader},o.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new o.default.Shader(this,r.immediateVert,r.vertexColorFrag)),this._defaultImmediateModeShader},o.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new o.default.Shader(this,r.normalVert,r.normalFrag)),this._defaultNormalShader},o.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new o.default.Shader(this,r.normalVert,r.basicFrag)),this._defaultColorShader},o.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new o.default.Shader(this,r.pointVert,r.pointFrag)),this._defaultPointShader},o.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new o.default.Shader(this,r.lineVert,r.lineFrag)),this._defaultLineShader},o.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new o.default.Shader(this,r.fontVert,r.fontFrag)),this._defaultFontShader},o.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var i=new o.default.Image(1,1);i.set(0,0,255),this._emptyTexture=new o.default.Texture(this,i)}return this._emptyTexture},o.default.RendererGL.prototype.getTexture=function(i){var c=this.textures,m=!0,g=!1,w=void 0;try{for(var S,j=c[Symbol.iterator]();!(m=(S=j.next()).done);m=!0){var T=S.value;if(T.src===i)return T}}catch(D){g=!0,w=D}finally{try{m||j.return==null||j.return()}finally{if(g)throw w}}var L=new o.default.Texture(this,i);return c.push(L),L},o.default.RendererGL.prototype._setStrokeUniforms=function(i){i.bindShader(),i.setUniform("uMaterialColor",this.curStrokeColor),i.setUniform("uStrokeWeight",this.curStrokeWeight)},o.default.RendererGL.prototype._setFillUniforms=function(i){i.bindShader(),i.setUniform("uMaterialColor",this.curFillColor),i.setUniform("isTexture",!!this._tex),this._tex&&i.setUniform("uSampler",this._tex),i.setUniform("uTint",this._tint),i.setUniform("uSpecular",this._useSpecularMaterial),i.setUniform("uEmissive",this._useEmissiveMaterial),i.setUniform("uShininess",this._useShininess),i.setUniform("uUseLighting",this._enableLighting);var c=this.pointLightDiffuseColors.length/3;i.setUniform("uPointLightCount",c),i.setUniform("uPointLightLocation",this.pointLightPositions),i.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),i.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var m=this.directionalLightDiffuseColors.length/3;i.setUniform("uDirectionalLightCount",m),i.setUniform("uLightingDirection",this.directionalLightDirections),i.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),i.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var g=this.ambientLightColors.length/3;i.setUniform("uAmbientLightCount",g),i.setUniform("uAmbientColor",this.ambientLightColors);var w=this.spotLightDiffuseColors.length/3;i.setUniform("uSpotLightCount",w),i.setUniform("uSpotLightAngle",this.spotLightAngle),i.setUniform("uSpotLightConc",this.spotLightConc),i.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),i.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),i.setUniform("uSpotLightLocation",this.spotLightPositions),i.setUniform("uSpotLightDirection",this.spotLightDirections),i.setUniform("uConstantAttenuation",this.constantAttenuation),i.setUniform("uLinearAttenuation",this.linearAttenuation),i.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),i.bindTextures()},o.default.RendererGL.prototype._setPointUniforms=function(i){i.bindShader(),i.setUniform("uMaterialColor",this.curStrokeColor),i.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},o.default.RendererGL.prototype._bindBuffer=function(i,c,m,g,w){if(c=c||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(c,i),m!==void 0){var S=new(g||Float32Array)(m);this.GL.bufferData(c,S,w||this.GL.STATIC_DRAW)}},o.default.RendererGL.prototype._arraysEqual=function(i,c){var m=i.length;if(m!==c.length)return!1;for(var g=0;g<m;g++)if(i[g]!==c[g])return!1;return!0},o.default.RendererGL.prototype._isTypedArray=function(i){return i instanceof Uint32Array},o.default.RendererGL.prototype._flatten=function(i){if(i.length===0)return[];if(2e4<i.length){var c,m=Object.prototype.toString,g=[],w=i.slice();for(c=w.pop();m.call(c)==="[object Array]"?w.push.apply(w,n(c)):g.push(c),w.length&&(c=w.pop())!==void 0;);return g.reverse(),g}var S;return(S=[]).concat.apply(S,n(i))},o.default.RendererGL.prototype._vToNArray=function(i){var c=[],m=!0,g=!1,w=void 0;try{for(var S,j=i[Symbol.iterator]();!(m=(S=j.next()).done);m=!0){var T=S.value;c.push(T.x,T.y,T.z)}}catch(L){g=!0,w=L}finally{try{m||j.return==null||j.return()}finally{if(g)throw w}}return c},o.default.prototype._assert3d=function(i){if(!this._renderer.isP3D)throw new Error("".concat(i,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},o.default.RendererGL.prototype._initTessy=function(){var i=new l.default.GluTesselator;return i.gluTessCallback(l.default.gluEnum.GLU_TESS_VERTEX_DATA,function(c,m){m[m.length]=c[0],m[m.length]=c[1],m[m.length]=c[2]}),i.gluTessCallback(l.default.gluEnum.GLU_TESS_BEGIN,function(c){c!==l.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(c))}),i.gluTessCallback(l.default.gluEnum.GLU_TESS_ERROR,function(c){console.log("error callback"),console.log("error number: ".concat(c))}),i.gluTessCallback(l.default.gluEnum.GLU_TESS_COMBINE,function(c,m,g){return[c[0],c[1],c[2]]}),i.gluTessCallback(l.default.gluEnum.GLU_TESS_EDGE_FLAG,function(c){}),i},o.default.RendererGL.prototype._triangulate=function(i){this._tessy.gluTessNormal(0,0,1);var c=[];this._tessy.gluTessBeginPolygon(c);for(var m=0;m<i.length;m++){this._tessy.gluTessBeginContour();for(var g=i[m],w=0;w<g.length;w+=3){var S=[g[w],g[w+1],g[w+2]];this._tessy.gluTessVertex(S,S)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),c},o.default.RendererGL.prototype._bezierCoefficients=function(i){var c=i*i,m=1-i,g=m*m;return[g*m,3*g*i,3*m*c,c*i]},o.default.RendererGL.prototype._quadraticCoefficients=function(i){var c=1-i;return[c*c,2*c*i,i*i]},o.default.RendererGL.prototype._bezierToCatmull=function(i){return[i[1],i[1]+(i[2]-i[0])/this._curveTightness,i[2]-(i[3]-i[1])/this._curveTightness,i[2]]};var s=o.default.RendererGL;v.default=s},{"../core/constants":253,"../core/main":264,"../core/p5.Renderer":267,"./p5.Camera":312,"./p5.Matrix":314,"./p5.Shader":319,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,libtess:237,path:240}],319:[function(e,x,v){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f,o=(f=e("../core/main"))&&f.__esModule?f:{default:f};o.default.Shader=function(l,d,u){this._renderer=l,this._vertSrc=d,this._fragSrc=u,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},o.default.Shader.prototype.init=function(){if(this._glProgram===0){var l=this._renderer.GL;if(this._vertShader=l.createShader(l.VERTEX_SHADER),l.shaderSource(this._vertShader,this._vertSrc),l.compileShader(this._vertShader),!l.getShaderParameter(this._vertShader,l.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(l.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=l.createShader(l.FRAGMENT_SHADER),l.shaderSource(this._fragShader,this._fragSrc),l.compileShader(this._fragShader),!l.getShaderParameter(this._fragShader,l.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(l.getShaderInfoLog(this._fragShader))),null;this._glProgram=l.createProgram(),l.attachShader(this._glProgram,this._vertShader),l.attachShader(this._glProgram,this._fragShader),l.linkProgram(this._glProgram),l.getProgramParameter(this._glProgram,l.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(l.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},o.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var l=this._renderer.GL,d=l.getProgramParameter(this._glProgram,l.ACTIVE_ATTRIBUTES),u=0;u<d;++u){var n=l.getActiveAttrib(this._glProgram,u),t=n.name,r=l.getAttribLocation(this._glProgram,t),s={};s.name=t,s.location=r,s.index=u,s.type=n.type,s.size=n.size,this.attributes[t]=s}this._loadedAttributes=!0}},o.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var l=this._renderer.GL,d=l.getProgramParameter(this._glProgram,l.ACTIVE_UNIFORMS),u=0,n=0;n<d;++n){var t=l.getActiveUniform(this._glProgram,n),r={};r.location=l.getUniformLocation(this._glProgram,t.name),r.size=t.size;var s=t.name;1<t.size&&(s=s.substring(0,s.indexOf("[0]"))),r.name=s,r.type=t.type,r._cachedData=void 0,r.type===l.SAMPLER_2D&&(r.samplerIndex=u,u++,this.samplers.push(r)),r.isArray=1<t.size||r.type===l.FLOAT_MAT3||r.type===l.FLOAT_MAT4||r.type===l.FLOAT_VEC2||r.type===l.FLOAT_VEC3||r.type===l.FLOAT_VEC4||r.type===l.INT_VEC2||r.type===l.INT_VEC4||r.type===l.INT_VEC3,this.uniforms[s]=r}this._loadedUniforms=!0}},o.default.Shader.prototype.compile=function(){},o.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},o.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},o.default.Shader.prototype.bindTextures=function(){var l=this._renderer.GL,d=!0,u=!1,n=void 0;try{for(var t,r=this.samplers[Symbol.iterator]();!(d=(t=r.next()).done);d=!0){var s=t.value,i=s.texture;i===void 0&&(i=this._renderer._getEmptyTexture()),l.activeTexture(l.TEXTURE0+s.samplerIndex),i.bindTexture(),i.update(),l.uniform1i(s.location,s.samplerIndex)}}catch(c){u=!0,n=c}finally{try{d||r.return==null||r.return()}finally{if(u)throw n}}},o.default.Shader.prototype.updateTextures=function(){var l=!0,d=!1,u=void 0;try{for(var n,t=this.samplers[Symbol.iterator]();!(l=(n=t.next()).done);l=!0){var r=n.value.texture;r&&r.update()}}catch(s){d=!0,u=s}finally{try{l||t.return==null||t.return()}finally{if(d)throw u}}},o.default.Shader.prototype.unbindTextures=function(){},o.default.Shader.prototype._setMatrixUniforms=function(){var l=this._renderer._curCamera.cameraMatrix,d=this._renderer.uPMatrix,u=this._renderer.uMVMatrix,n=u.copy();n.mult(d),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",l.mat4),this.setUniform("uProjectionMatrix",d.mat4),this.setUniform("uModelViewMatrix",u.mat4),this.setUniform("uModelViewProjectionMatrix",n.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},o.default.Shader.prototype.useProgram=function(){var l=this._renderer.GL;return this._renderer._curShader!==this&&(l.useProgram(this._glProgram),this._renderer._curShader=this),this},o.default.Shader.prototype.setUniform=function(l,d){var u=this.uniforms[l];if(u){var n=this._renderer.GL;if(u.isArray){if(u._cachedData&&this._renderer._arraysEqual(u._cachedData,d))return;u._cachedData=d.slice(0)}else{if(u._cachedData&&u._cachedData===d)return;Array.isArray(d)?u._cachedData=d.slice(0):u._cachedData=d}var t=u.location;switch(this.useProgram(),u.type){case n.BOOL:d===!0?n.uniform1i(t,1):n.uniform1i(t,0);break;case n.INT:1<u.size?d.length&&n.uniform1iv(t,d):n.uniform1i(t,d);break;case n.FLOAT:1<u.size?d.length&&n.uniform1fv(t,d):n.uniform1f(t,d);break;case n.FLOAT_MAT3:n.uniformMatrix3fv(t,!1,d);break;case n.FLOAT_MAT4:n.uniformMatrix4fv(t,!1,d);break;case n.FLOAT_VEC2:1<u.size?d.length&&n.uniform2fv(t,d):n.uniform2f(t,d[0],d[1]);break;case n.FLOAT_VEC3:1<u.size?d.length&&n.uniform3fv(t,d):n.uniform3f(t,d[0],d[1],d[2]);break;case n.FLOAT_VEC4:1<u.size?d.length&&n.uniform4fv(t,d):n.uniform4f(t,d[0],d[1],d[2],d[3]);break;case n.INT_VEC2:1<u.size?d.length&&n.uniform2iv(t,d):n.uniform2i(t,d[0],d[1]);break;case n.INT_VEC3:1<u.size?d.length&&n.uniform3iv(t,d):n.uniform3i(t,d[0],d[1],d[2]);break;case n.INT_VEC4:1<u.size?d.length&&n.uniform4iv(t,d):n.uniform4i(t,d[0],d[1],d[2],d[3]);break;case n.SAMPLER_2D:n.activeTexture(n.TEXTURE0+u.samplerIndex),u.texture=d instanceof o.default.Texture?d:this._renderer.getTexture(d),n.uniform1i(t,u.samplerIndex)}return this}},o.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},o.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},o.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},o.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},o.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},o.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},o.default.Shader.prototype.enableAttrib=function(l,d,u,n,t,r){if(l){var s=l.location;if(s!==-1){var i=this._renderer.GL;l.enabled||(i.enableVertexAttribArray(s),l.enabled=!0),this._renderer.GL.vertexAttribPointer(s,d,u||i.FLOAT,n||!1,t||0,r||0)}}return this};var h=o.default.Shader;v.default=h},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],320:[function(e,x,v){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var t=d();if(t&&t.has(n))return t.get(n);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var c=s?Object.getOwnPropertyDescriptor(n,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=n[i]}return r.default=n,t&&t.set(n,r),r}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return d=function(){return n},n}h.default.Texture=function(n,t,r){this._renderer=n;var s=this._renderer.GL;(r=r||{}).dataType===s.FLOAT&&(s.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),s.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=t,this.glTex=void 0,this.glTarget=s.TEXTURE_2D,this.glFormat=r.format||s.RGBA,this.mipmaps=!1,this.glMinFilter=r.minFilter||s.LINEAR,this.glMagFilter=r.magFilter||s.LINEAR,this.glWrapS=r.wrapS||s.CLAMP_TO_EDGE,this.glWrapT=r.wrapT||s.CLAMP_TO_EDGE,this.glDataType=r.dataType||s.UNSIGNED_BYTE,this.isSrcMediaElement=h.default.MediaElement!==void 0&&t instanceof h.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=h.default.Element!==void 0&&t instanceof h.default.Element&&!(t instanceof h.default.Graphics),this.isSrcP5Image=t instanceof h.default.Image,this.isSrcP5Graphics=t instanceof h.default.Graphics,this.isImageData=typeof ImageData<"u"&&t instanceof ImageData;var i=this._getTextureDataFromSource();return this.width=i.width,this.height=i.height,this.init(i),this},h.default.Texture.prototype._getTextureDataFromSource=function(){var n;return this.isSrcP5Image?n=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?n=this.src.elt:this.isImageData&&(n=this.src),n},h.default.Texture.prototype.init=function(n){var t=this._renderer.GL;if(this.glTex=t.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this.glMagFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){var r=new Uint8Array([1,1,1,1]);t.texImage2D(this.glTarget,0,t.RGBA,1,1,0,this.glFormat,this.glDataType,r)}else t.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,n)},h.default.Texture.prototype.update=function(){var n=this.src;if(n.width===0||n.height===0)return!1;var t=this._getTextureDataFromSource(),r=!1,s=this._renderer.GL;return t.width!==this.width||t.height!==this.height?(r=!0,this.width=t.width,this.height=t.height,this.isSrcP5Image?n.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&n.setModified(!0)):this.isSrcP5Image?n.isModified()&&(r=!0,n.setModified(!1)):this.isSrcMediaElement?n.isModified()?(r=!0,n.setModified(!1)):n.loadedmetadata&&this._videoPrevUpdateTime!==n.time()&&(this._videoPrevUpdateTime=n.time(),r=!0):this.isImageData?n._dirty&&(r=!(n._dirty=!1)):r=!0,r&&(this.bindTexture(),s.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,t)),r},h.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},h.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},h.default.Texture.prototype.setInterpolation=function(n,t){var r=this._renderer.GL;n===l.NEAREST?this.glMinFilter=r.NEAREST:this.glMinFilter=r.LINEAR,t===l.NEAREST?this.glMagFilter=r.NEAREST:this.glMagFilter=r.LINEAR,this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},h.default.Texture.prototype.setWrapMode=function(n,t){function r(m){return(m&m-1)==0}var s=this._renderer.GL,i=r(this.width),c=r(this.height);n===l.REPEAT?i&&c?this.glWrapS=s.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=s.CLAMP_TO_EDGE):n===l.MIRROR?i&&c?this.glWrapS=s.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=s.CLAMP_TO_EDGE):this.glWrapS=s.CLAMP_TO_EDGE,t===l.REPEAT?i&&c?this.glWrapT=s.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=s.CLAMP_TO_EDGE):t===l.MIRROR?i&&c?this.glWrapT=s.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=s.CLAMP_TO_EDGE):this.glWrapT=s.CLAMP_TO_EDGE,this.bindTexture(),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,this.glWrapS),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var u=h.default.Texture;v.default=u},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],321:[function(e,x,v){function f(s){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var o,h=(o=e("../core/main"))&&o.__esModule?o:{default:o},l=function(s){if(s&&s.__esModule)return s;if(s===null||f(s)!=="object"&&typeof s!="function")return{default:s};var i=d();if(i&&i.has(s))return i.get(s);var c={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in s)if(Object.prototype.hasOwnProperty.call(s,g)){var w=m?Object.getOwnPropertyDescriptor(s,g):null;w&&(w.get||w.set)?Object.defineProperty(c,g,w):c[g]=s[g]}return c.default=s,i&&i.set(s,c),c}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return d=function(){return s},s}e("./p5.Shader"),e("./p5.RendererGL.Retained"),h.default.RendererGL.prototype._applyTextProperties=function(){},h.default.RendererGL.prototype.textWidth=function(s){return this._isOpenType()?this._textFont._textWidth(s,this._textSize):0};function u(s,i){this.width=s,this.height=i,this.infos=[],this.findImage=function(c){var m,g,w=this.width*this.height;if(w<c)throw new Error("font is too complex to render in 3D");for(var S=this.infos.length-1;0<=S;--S){var j=this.infos[S];if(j.index+c<w){g=(m=j).imageData;break}}if(!m){try{g=new ImageData(this.width,this.height)}catch{var T=document.getElementsByTagName("canvas")[0],L=!T;T||((T=document.createElement("canvas")).style.display="none",document.body.appendChild(T));var D=T.getContext("2d");D&&(g=D.createImageData(this.width,this.height)),L&&document.body.removeChild(T)}m={index:0,imageData:g},this.infos.push(m)}var R=m.index;return m.index+=c,g._dirty=!0,{imageData:g,index:R}}}function n(s,i,c,m,g){var w=s.imageData.data,S=4*s.index++;w[S++]=i,w[S++]=c,w[S++]=m,w[S++]=g}function t(s){this.font=s,this.strokeImageInfos=new u(64,64),this.colDimImageInfos=new u(64,64),this.rowDimImageInfos=new u(64,64),this.colCellImageInfos=new u(64,64),this.rowCellImageInfos=new u(64,64),this.glyphInfos={},this.getGlyphInfo=function(i){var c=this.glyphInfos[i.index];if(c)return c;var m,g=i.getBoundingBox(),w=g.x1,S=g.y1,j=g.x2-w,T=g.y2-S,L=i.path.commands;if(j==0||T==0||!L.length)return this.glyphInfos[i.index]={};var D,R,O,U,P=[],G=[],V=[];for(m=8;0<=m;--m)V.push([]);for(m=8;0<=m;--m)G.push([]);function te(je,Ge,Qe){var Ye=P.length;function Be(q,W,X){for(var ie=q.length;0<ie--;){var we=q[ie];we<W&&(W=we),X<we&&(X=we)}return{min:W,max:X}}P.push(Qe);for(var ut=Be(je,1,0),Oe=Math.max(Math.floor(9*ut.min),0),Pe=Math.min(Math.ceil(9*ut.max),9),qe=Oe;qe<Pe;++qe)V[qe].push(Ye);for(var Xe=Be(Ge,1,0),pe=Math.max(Math.floor(9*Xe.min),0),et=Math.min(Math.ceil(9*Xe.max),9),B=pe;B<et;++B)G[B].push(Ye)}function ne(je){return(Ge=(Ye=255)*je)<(Qe=0)?Qe:Ye<Ge?Ye:Ge;var Ge,Qe,Ye}function K(je,Ge,Qe,Ye){this.p0=je,this.c0=Ge,this.c1=Qe,this.p1=Ye,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return h.default.Vector.sub(h.default.Vector.sub(this.p1,this.p0),h.default.Vector.mult(h.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Be){var ut=h.default.Vector.lerp(this.p0,this.c0,Be),Oe=h.default.Vector.lerp(this.c0,this.c1,Be),Pe=h.default.Vector.lerp(ut,Oe,Be);this.c1=h.default.Vector.lerp(this.c1,this.p1,Be),this.c0=h.default.Vector.lerp(Oe,this.c1,Be);var qe=h.default.Vector.lerp(Pe,this.c0,Be),Xe=new K(this.p0,ut,Pe,qe);return this.p0=qe,Xe},this.splitInflections=function(){var Be=h.default.Vector.sub(this.c0,this.p0),ut=h.default.Vector.sub(h.default.Vector.sub(this.c1,this.c0),Be),Oe=h.default.Vector.sub(h.default.Vector.sub(h.default.Vector.sub(this.p1,this.c1),Be),h.default.Vector.mult(ut,2)),Pe=[],qe=ut.x*Oe.y-ut.y*Oe.x;if(qe!==0){var Xe=Be.x*Oe.y-Be.y*Oe.x,pe=Be.x*ut.y-Be.y*ut.x,et=Xe*Xe-4*qe*pe;if(0<=et){qe<0&&(qe=-qe,Xe=-Xe,pe=-pe);var B=Math.sqrt(et),q=(-Xe-B)/(2*qe),W=(-Xe+B)/(2*qe);0<q&&q<1&&(Pe.push(this.split(q)),W=1-(1-W)/(1-q)),0<W&&W<1&&Pe.push(this.split(W))}}return Pe.push(this),Pe}}function se(je,Ge,Qe,Ye,Be,ut,Oe,Pe){var qe=new K(new h.default.Vector(je,Ge),new h.default.Vector(Qe,Ye),new h.default.Vector(Be,ut),new h.default.Vector(Oe,Pe)).splitInflections(),Xe=[],pe=30/r,et=!0,B=!1,q=void 0;try{for(var W,X=qe[Symbol.iterator]();!(et=(W=X.next()).done);et=!0){for(var ie=W.value,we=[],Te=void 0;!(.125<=(Te=pe/ie.quadError()));){var Ie=Math.pow(Te,.3333333333333333),de=ie.split(Ie),ze=ie.split(1-Ie/(1-Ie));Xe.push(de),we.push(ie),ie=ze}Te<1&&Xe.push(ie.split(.5)),Xe.push(ie),Array.prototype.push.apply(Xe,we.reverse())}}catch(nt){B=!0,q=nt}finally{try{et||X.return==null||X.return()}finally{if(B)throw q}}return Xe}function J(je,Ge,Qe,Ye){te([je,Qe],[Ge,Ye],{x:je,y:Ge,cx:(je+Qe)/2,cy:(Ge+Ye)/2})}function ue(je,Ge,Qe,Ye){return Math.abs(Qe-je)<1e-5&&Math.abs(Ye-Ge)<1e-5}var me=!0,_e=!1,he=void 0;try{for(var Re,ve=L[Symbol.iterator]();!(me=(Re=ve.next()).done);me=!0){var ye=Re.value,k=(ye.x-w)/j,F=(ye.y-S)/T;if(!ue(D,R,k,F)){switch(ye.type){case"M":O=k,U=F;break;case"L":J(D,R,k,F);break;case"Q":var H=(ye.x1-w)/j,Z=(ye.y1-S)/T;te([D,k,H],[R,F,Z],{x:D,y:R,cx:H,cy:Z});break;case"Z":ue(D,R,O,U)?P.push({x:D,y:R}):(J(D,R,O,U),P.push({x:O,y:U}));break;case"C":for(var oe=se(D,R,(ye.x1-w)/j,(ye.y1-S)/T,(ye.x2-w)/j,(ye.y2-S)/T,k,F),$=0;$<oe.length;$++){var xe=oe[$].toQuadratic();te([xe.x,xe.x1,xe.cx],[xe.y,xe.y1,xe.cy],xe)}break;default:throw new Error("unknown command type: ".concat(ye.type))}D=k,R=F}}}catch(je){_e=!0,he=je}finally{try{me||ve.return==null||ve.return()}finally{if(_e)throw he}}for(var ee=P.length,ge=this.strokeImageInfos.findImage(ee),fe=ge.index,le=0;le<ee;++le){var Me=P[le];n(ge,ne(Me.x),ne(Me.y),ne(Me.cx),ne(Me.cy))}function Ce(je,Ge,Qe){for(var Ye=je.length,Be=Ge.findImage(Ye),ut=Be.index,Oe=0,Pe=0;Pe<Ye;++Pe)Oe+=je[Pe].length;for(var qe=Qe.findImage(Oe),Xe=0;Xe<Ye;++Xe){var pe=je[Xe],et=pe.length,B=qe.index;n(Be,B>>7,127&B,et>>7,127&et);for(var q=0;q<et;++q){var W=pe[q]+fe;n(qe,W>>7,127&W,0,0)}}return{cellImageInfo:qe,dimOffset:ut,dimImageInfo:Be}}return(c=this.glyphInfos[i.index]={glyph:i,uGlyphRect:[g.x1,-g.y1,g.x2,-g.y2],strokeImageInfo:ge,strokes:P,colInfo:Ce(V,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Ce(G,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[c.colInfo.dimOffset,c.rowInfo.dimOffset],c}}var r=Math.sqrt(3);h.default.RendererGL.prototype._renderText=function(s,i,c,m,g){if(this._textFont&&typeof this._textFont!="string"){if(!(g<=m)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),s;s.push();var w=this._doStroke,S=this.drawMode;this._doStroke=!1,this.drawMode=l.TEXTURE;var j=this._textFont.font,T=this._textFont._fontInfo;T=T||(this._textFont._fontInfo=new t(j));var L=this._textFont._handleAlignment(this,i,c,m),D=this._textSize/j.unitsPerEm;this.translate(L.x,L.y,0),this.scale(D,D,1);var R=this.GL,O=!this._defaultFontShader,U=this._getFontShader();U.init(),U.bindShader(),O&&(U.setUniform("uGridImageSize",[64,64]),U.setUniform("uCellsImageSize",[64,64]),U.setUniform("uStrokeImageSize",[64,64]),U.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var P=this.retainedMode.geometry.glyph;if(!P){var G=this._textGeom=new h.default.Geometry(1,1,function(){for(var oe=0;oe<=1;oe++)for(var $=0;$<=1;$++)this.vertices.push(new h.default.Vector($,oe,0)),this.uvs.push($,oe)});G.computeFaces().computeNormals(),P=this.createBuffers("glyph",G)}var V=!0,te=!1,ne=void 0;try{for(var K,se=this.retainedMode.buffers.text[Symbol.iterator]();!(V=(K=se.next()).done);V=!0)K.value._prepareBuffer(P,U)}catch(oe){te=!0,ne=oe}finally{try{V||se.return==null||se.return()}finally{if(te)throw ne}}this._bindBuffer(P.indexBuffer,R.ELEMENT_ARRAY_BUFFER),U.setUniform("uMaterialColor",this.curFillColor);try{var J=0,ue=null,me=j.stringToGlyphs(i),_e=!0,he=!1,Re=void 0;try{for(var ve,ye=me[Symbol.iterator]();!(_e=(ve=ye.next()).done);_e=!0){var k=ve.value;ue&&(J+=j.getKerningValue(ue,k));var F=T.getGlyphInfo(k);if(F.uGlyphRect){var H=F.rowInfo,Z=F.colInfo;U.setUniform("uSamplerStrokes",F.strokeImageInfo.imageData),U.setUniform("uSamplerRowStrokes",H.cellImageInfo.imageData),U.setUniform("uSamplerRows",H.dimImageInfo.imageData),U.setUniform("uSamplerColStrokes",Z.cellImageInfo.imageData),U.setUniform("uSamplerCols",Z.dimImageInfo.imageData),U.setUniform("uGridOffset",F.uGridOffset),U.setUniform("uGlyphRect",F.uGlyphRect),U.setUniform("uGlyphOffset",J),U.bindTextures(),R.drawElements(R.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}J+=k.advanceWidth,ue=k}}catch(oe){he=!0,Re=oe}finally{try{_e||ye.return==null||ye.return()}finally{if(he)throw Re}}}finally{U.unbindShader(),this._doStroke=w,this.drawMode=S,s.pop()}return s}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":253,"../core/main":264,"./p5.RendererGL.Retained":317,"./p5.Shader":319,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}]},{},[248])(248)})})(hs);const xt=vi(hs.exports),M=new xt(N=>{}),Gt=(N,y)=>(N.x-y.x)*(N.x-y.x)+(N.y-y.y)*(N.y-y.y),Ko=(N,y,C)=>M.min(C,M.max(y,N)),bi=(N,y,C=255)=>M.color(M.random(N[0],y[0]),M.random(N[1],y[1]),M.random(N[2],y[2]),C),wi=(N,y,C,e=255)=>{const x=1-C;return M.color(N[0]*C+y[0]*x,N[1]*C+y[1]*x,N[2]*C+y[2]*x,e)},Wr=N=>M.color(M.red(N),M.green(N),M.blue(N),M.alpha(N)),xi=(N,y,C)=>{const e=C/2,x=C/4,v=C/12;M.fill(di),M.circle(N,y,C*2),M.fill(On),M.rect(N-v*5,y-e,x,C),M.rect(N+v*2,y-e,x,C)},_i=(N,y,C)=>{const e=C/2,x=C*(2/3);M.fill(os),M.circle(N,y,C*2),M.fill(On),M.triangle(N-e,y-x,N-e,y+x,N+x,y)},Si=(N,y,C)=>{const e=C/2,x=C/3,v=C/5;M.fill(Cn),M.circle(N,y,C*2),M.fill(On),M.triangle(N-x-v,y-e,N-x-v,y+e,N+e-v,y),M.triangle(N-x+v,y-e,N-x+v,y+e,N+e+v,y)},fs=10,ji=50,ps=M.height-ji,ms=20,Ei=10,eo=2.5,Mi=3,Ti=(N=fs,y=ps,C=ms)=>{let e=N+C;const x=y+C;xi(e,x,C),e+=C*eo,_i(e,x,C),e+=C*eo,Si(e,x,C)},Ci=(N,y=fs,C=ps,e=ms,x=Ei)=>{const v=M.createVector(M.mouseX,M.mouseY),f=2,o=N-f;for(let h=0;h<Mi;h++){const l=M.createVector(y+eo*e*h+e,C+e);if(Gt(l,v)<e*e)return h>1?(o+1)%(x-1)+f:h}return N},Ri=(N,y,C,e)=>{const x=C/2,v=C*(3/8);M.strokeWeight(e),M.beginShape(),M.vertex(N-x,y-v),M.quadraticVertex(N-x,y-x,N-v,y-x),M.vertex(N+v,y-x),M.quadraticVertex(N+x,y-x,N+x,y-v),M.vertex(N+x,y+v),M.quadraticVertex(N+x,y+x,N+v,y+x),M.vertex(N-v,y+x),M.quadraticVertex(N-x,y+x,N-x,y+v),M.endShape(M.CLOSE),M.strokeWeight(e*3),M.line(N-v,y-v,N+v,y+v),M.line(N+v,y-v,N-v,y+v)},ys=(N,y,C)=>{const e=C/2,x=C/8;M.circle(N,y,C*2),M.noFill(),M.beginShape(),M.vertex(N-e,y-e),M.vertex(N+e,y-e),M.vertex(N-e,y+e),M.vertex(N+e,y+e),M.endShape(),M.line(N-x,y-(e+x),N-x,y-e),M.line(N+x,y-(e+x),N+x,y-e),M.line(N-x,y+(e+x),N-x,y+e),M.line(N+x,y+(e+x),N+x,y+e)},Ai=(N,y,C)=>{const e=C/2,x=C*(3/8),v={x:N,y:y-e},f={x:N,y:y+e},o={x:N+x,y:y-x},h={x:N-x,y:y-x};M.noFill(),M.curve(v.x,v.y-e,v.x,v.y,o.x,o.y,o.x+x,o.y-x),M.curve(o.x,o.y-e,o.x,o.y,f.x,f.y,f.x-C*3,f.y),M.curve(f.x+C*3,f.y,f.x,f.y,h.x,h.y,h.x,h.y-e),M.curve(h.x-x,h.y-x,h.x,h.y,v.x,v.y,v.x,v.y-e)},rt=M.windowWidth/80,cr=rt*(2/3),Vt=rt/24,ki=13,Pi=3/8,Oi=1/2,Li=1,gs=3600,Ht=(N,y,C,e=!1,x=M)=>{const v=e?0:30;x.beginShape();for(let f=0;f<6;f++){const o=x.PI/180*(v+f*60),h=N+x.cos(o)*C,l=y+x.sin(o)*C;x.vertex(h,l)}x.endShape(x.CLOSE)},Di=(N,y,C,e,x,v=!1,f=M)=>{let o=v?-f.TWO_PI/3:-f.PI/2,h=N+f.cos(o)*C,l=y+f.sin(o)*C;f.beginShape();for(let n=0;n<=e;n++)h=N+f.cos(o)*C,l=y+f.sin(o)*C,f.vertex(h,l),o+=f.PI/3;f.endShape();const d=N+f.cos(o)*C,u=y+f.sin(o)*C;f.line(h,l,M.lerp(h,d,x),M.lerp(l,u,x))};var vr=(N=>(N[N.EMPTY=0]="EMPTY",N[N.HILL=1]="HILL",N[N.UNSTABLE=2]="UNSTABLE",N[N.WALL=3]="WALL",N[N.WATER=4]="WATER",N[N.LAVA=5]="LAVA",N[N.SPAWN=6]="SPAWN",N[N.BASE=7]="BASE",N))(vr||{});const Ii={name:"Empty",description:"An empty tile",hotkey:"e",keycode:69,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,rgb:Rn},Ui={name:"Hill",description:"A slightly elevated tile",hotkey:"h",keycode:72,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,rgb:ao},Fi={name:"Unstable",description:"An unstable tile",hotkey:"u",keycode:85,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,rgb:cs},Ni={name:"Wall",description:"A wall tile",hotkey:"w",keycode:87,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!0,rgb:ls},Bi={name:"Water",description:"A water tile",hotkey:"a",keycode:65,canTower:!1,canWaterTower:!0,canLavaTower:!1,canUnit:!1,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,rgb:is},Gi={name:"Lava",description:"A lava tile",hotkey:"l",keycode:76,canTower:!1,canWaterTower:!1,canLavaTower:!0,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,rgb:fn},Vi={name:"Spawn",description:"An enemy spawn point",hotkey:"s",keycode:83,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!0,buildInOuterRing:!0,rgb:kr},Wi={name:"Base",description:"A Maou base to be protected",hotkey:"b",keycode:66,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!0,isSpawn:!1,buildInOuterRing:!0,rgb:Ln},Ar={[0]:Ii,[1]:Ui,[2]:Fi,[3]:Ni,[4]:Bi,[5]:Gi,[6]:Vi,[7]:Wi},zi=3,Jr=(N,y,C=zi)=>{M.push();const e=N.x+y.x,x=N.y+y.y,v=y.heading(),f=y.mag(),o=xt.Vector.fromAngle(v-M.PI/4),h=xt.Vector.fromAngle(v+M.PI/4);o.mult(-(f/3)),h.mult(-(f/3)),M.strokeWeight(C),M.line(N.x,N.y,e,x),M.line(e,x,e+o.x,x+o.y),M.line(e,x,e+h.x,x+h.y),M.pop()};class pn{constructor(y,C,e,x,v,f={}){var o,h,l,d,u,n,t,r,s,i;this.pos=M.createVector(y,C),this.r=e,this.q=x,this.size=v,this.collisionRadius=v*(2+M.sqrt(3))/4,this.vertices=[],this.color=f.color?M.color(f.color.levels):M.color(Rn),this.wall=(o=f.wall)!=null?o:!1,this.canTower=(h=f.canTower)!=null?h:!0,this.canWaterTower=(l=f.canWaterTower)!=null?l:!1,this.canLavaTower=(d=f.canLavaTower)!=null?d:!1,this.canUnit=(u=f.canUnit)!=null?u:!0,this.canWaterUnit=(n=f.canWaterUnit)!=null?n:!0,this.isSpawn=(t=f.isSpawn)!=null?t:!1,this.isTower=(r=f.isTower)!=null?r:!1,this.type=(s=f.type)!=null?s:0,this.buffs=[],this.data=(i=f.data)!=null?i:{}}show(y=this.pos){M.push(),M.fill(this.color),M.stroke(10),M.strokeWeight(1),Ht(y.x,y.y,this.size),M.pop()}showDebug(){if(M.push(),M.strokeWeight(3),this.data.floodPathVector&&(M.stroke(0,0,255),Jr(this.pos,this.data.floodPathVector.copy().mult(.3))),this.data.floodNext&&(M.stroke(255,0,255),M.line(this.pos.x,this.pos.y,this.data.floodNext.pos.x,this.data.floodNext.pos.y),Jr(this.pos,this.data.floodPathVector.copy().mult(.4))),this.data["scout-1-vector"]&&(M.stroke(0,255,255),Jr(this.pos,this.data["scout-1-vector"].copy().mult(.3))),this.data["scout-1-prev"]){const y=xt.Vector.sub(M.createVector(this.data["scout-1-prev"].pos.x,this.data["scout-1-prev"].pos.y),M.createVector(this.pos.x,this.pos.y));M.stroke(255,0,0),Jr(this.pos,y.copy().mult(.3))}M.pop()}preCalculateVertices(y=!1){const C=y?0:30;for(let e=0;e<6;e++){const x=M.PI/180*(C+e*60),v=this.pos.x+M.cos(x)*this.size,f=this.pos.y+M.sin(x)*this.size;this.vertices.push(M.createVector(v,f))}}}class Hi{constructor(y,C,e,x,v={}){var f,o;this.tileTypeColors={[0]:M.color(Rn),[1]:M.color(ao),[2]:M.color(cs),[3]:M.color(ls),[4]:M.color(is),[5]:M.color(fn),[6]:M.color(kr),[7]:M.color(Ln)},this.neighborVectorsRQ=[M.createVector(-1,1),M.createVector(0,1),M.createVector(1,0),M.createVector(1,-1),M.createVector(0,-1),M.createVector(-1,0)],this.midPos=M.createVector(y,C),this.rings=e,this.maxR=e*2,this.maxQ=e*2,this.midR=e,this.midQ=e,this.minR=0,this.minQ=0,this.hexSize=x,this.xDiff=M.sqrt(3)*x,this.yDiff=1.5*x,this.grid=[],this.wallRing=(f=v.wallRing)!=null?f:1,this.constructGrid((o=v.wallRing)!=null?o:1)}constructGrid(y=this.wallRing){for(let C=this.minR;C<=this.maxR;C++){this.grid.push([]);for(let e=this.minQ;e<=this.maxQ;e++){const x=this.getDiffVectorFromRQ(this.midR,this.midQ,C,e);if(x.add(this.midPos),this.grid[C].push(new pn(x.x,x.y,C,e,this.hexSize,{type:0,color:this.tileTypeColors[0]})),C+e<this.rings||C+e>this.rings*3)continue;const v=y;C>=this.minR+v&&C<=this.maxR-v&&e>=this.minQ+v&&e<=this.maxQ-v&&C+e>=this.rings+v&&C+e<=this.rings*3-v||(this.grid[C][e].wall=!0,this.grid[C][e].type=3,this.grid[C][e].canUnit=!1,this.grid[C][e].color=this.tileTypeColors[3])}}}getDiffVectorFromRQ(y,C,e,x){const v=e-y,f=x-C;return M.createVector(this.xDiff*f+this.xDiff/2*v,this.yDiff*v)}getHexVectorFromXY(y,C){const e=y-this.midPos.x,x=C-this.midPos.y,v=M.createVector(x/this.yDiff,(M.sqrt(3)/3*e-1/3*x)/this.hexSize),f=this.axialRound(v);return f.x+=this.midR,f.y+=this.midQ,f}rqVectorIsOnGrid(y,C=0){const e=y.x,x=y.y,v=C;return e>=this.minR+v&&e<=this.maxR-v&&x>=this.minQ+v&&x<=this.maxQ-v&&e+x>=this.rings+v&&e+x<=this.rings*3-v}axialRound(y){let C=M.round(y.x),e=M.round(y.y);const x=M.round(-y.x-y.y),v=M.abs(y.x-C),f=M.abs(y.y-e),o=M.abs(-y.x-y.y-x);return v>f&&v>o?C=-e-x:f>o&&(e=-C-x),M.createVector(C,e)}show(){for(let y=0;y<=this.maxR;y++)for(let C=0;C<=this.maxQ;C++)y+C<this.rings||y+C>this.rings*3||this.grid[y][C].show()}showDebug(){for(let y=0;y<=this.maxR;y++)for(let C=0;C<=this.maxQ;C++)y+C<this.rings||y+C>this.rings*3||this.grid[y][C].showDebug()}getNeighbors(y,C){const e=[];for(let x of this.neighborVectorsRQ){const v=y+x.x,f=C+x.y;v<this.minR||v>this.maxR||f<this.minQ||f>this.maxQ||v+f<this.rings||v+f>this.rings*3||e.push(this.grid[v][f])}return e}getNeighborsArea(y,C,e){const x=[];for(let v=0;v<6;v++)for(let f=1;f<=e;f++){const o=y+this.neighborVectorsRQ[v].x*f,h=C+this.neighborVectorsRQ[v].y*f;for(let l=1;l<f;l++){const d=(v+2)%6,u=o+this.neighborVectorsRQ[d].x*l,n=h+this.neighborVectorsRQ[d].y*l;this.rqVectorIsOnGrid(M.createVector(u,n),this.wallRing)&&x.push(this.grid[u][n])}this.rqVectorIsOnGrid(M.createVector(o,h),this.wallRing)&&x.push(this.grid[o][h])}return x}getGrandNeighbors(y,C,e=0){const x=[];for(let v=0;v<6;v++){const f=y+this.neighborVectorsRQ[v].x,o=C+this.neighborVectorsRQ[v].y;for(let h=v;h<v+2;h++){const l=f+this.neighborVectorsRQ[h%6].x,d=o+this.neighborVectorsRQ[h%6].y;this.rqVectorIsOnGrid(M.createVector(l,d),e)&&x.push(this.grid[l][d])}}return x}getAllTiles(y=!0){const C=[];for(let e=this.minR;e<=this.maxR;e++)for(let x=this.minQ;x<=this.maxQ;x++)e+x<this.rings||e+x>this.rings*3||(y||!this.grid[e][x].wall)&&C.push(this.grid[e][x]);return C}hexInArray(y,C){for(const e of C)if(e.r===y.r&&e.q===y.q)return!0;return!1}addRandomWalls(y=50,C=1,e=1){for(let x=0;x<=this.maxR;x++)for(let v=0;v<=this.maxQ;v++)x+v<this.rings||x+v>this.rings*3||M.random(100)<y&&this.rqVectorIsOnGrid(M.createVector(x,v),e)&&this.setTileType(this.grid[x][v],C)}breakWallsInArray(y,C=0){for(const e of y)this.setTileType(e,C)}aStar(y,C,e,x){const v=this.grid[y][C],f=this.getDiffVectorFromRQ(y,C,e,x);v.data={...v.data,g:0,h:f.mag(),f:f.mag(),prev:void 0};const o=this.grid[e][x],h=this.xDiff,l=h*(this.rings*2)**2;let d;const u=[v],n=[];for(;u.length>0;){d=u[0];let t=0;for(let s=1;s<u.length;s++)u[s].data.f<d.data.f&&(d=u[s],t=s);const r=this.getNeighbors(d.r,d.q);for(const s of r){if(this.hexInArray(s,n))continue;if(this.hexInArray(s,[o])){const c=[s,d];for(;d.data.prev;)c.push(d.data.prev),d=d.data.prev;return c}let i=h;if(s.wall&&(i=l),this.hexInArray(s,u)){if(s.data.g<=d.data.g+i)continue}else s.data.h=this.getDiffVectorFromRQ(s.r,s.q,e,x).mag(),u.push(s);s.data.g=d.data.g+i,s.data.f=s.data.g+s.data.h,s.data.prev=d}u.splice(t,1),n.push(d)}return[]}createMazeFromAstar(y,C,e,x,v=1,f=0){this.addRandomWalls(50,v);const o=this.aStar(y,C,e,x);this.breakWallsInArray(o,f),this.resetData()}resetColors(y=!0,C=M.color(Rn)){for(let e=0;e<=this.maxR;e++)for(let x=0;x<=this.maxQ;x++)e+x<this.rings||e+x>this.rings*3||(y?this.grid[e][x].color=this.tileTypeColors[this.grid[e][x].type]:this.grid[e][x].color=C)}resetData(y={}){for(let C=0;C<=this.maxR;C++)for(let e=0;e<=this.maxQ;e++)C+e<this.rings||C+e>this.rings*3||(this.grid[C][e].data={...y})}resetSpecificData(y){for(let C=0;C<=this.maxR;C++)for(let e=0;e<=this.maxQ;e++)C+e<this.rings||C+e>this.rings*3||(this.grid[C][e].data[y]=null)}createMaze(y,C,e,x,v=this.wallRing,f=1){this.resetData(),this.addRandomWalls(100,f);const o=this.grid[y][C];o.data={...o.data,prev:void 0,visited:!0},this.setTileType(o,0);const h=this.grid[e][x];this.setTileType(h,0);let l=o;for(;l!==void 0;){const d=this.getNeighbors(l.r,l.q);for(const t of d)t.data.visited=!0;const u=this.getGrandNeighbors(l.r,l.q,v);for(let t=u.length-1;t>=0;t--)u[t].data.visited&&u.splice(t,1);const n=M.random(u);if(n===void 0){if(l=l.data.prev,l===void 0)return this.resetData(),!0}else{n.data.visited=!0,this.setTileType(n,0),n.data.prev=l;const t=M.createVector(l.r,l.q),r=n.r-l.r,s=n.q-l.q;if(M.abs(r)%2===0?t.x+=r/2:M.random()>.5&&(t.x+=r),M.abs(s)%2===0)t.y+=s/2;else{let c=0;M.random()>.5&&(c=s),t.y+=c,(l.r===t.x&&l.q===t.y||n.r===t.x&&n.q===t.y)&&(c===0?t.y+=s:t.y+=s*-1)}const i=this.grid[t.x][t.y];this.setTileType(i,0),l=n}}return!1}generateAllPathsThroughFloodFill(y,C,e=!1){e?this.resetSpecificData("testFloodSteps"):this.resetData();for(const x of C){const v=x;e?v.data={...v.data,testFloodSteps:0}:v.data={...v.data,floodSteps:0,floodNext:v,floodPathVector:M.createVector(0,0)};let f;const o=[v],h=[];for(;o.length>0;){f=o[0];const l=this.getNeighbors(f.r,f.q);for(const d of l){if(this.hexInArray(d,[...h,...o])||!d.canUnit||d.isTower||d.wall)continue;o.push(d);const u=xt.Vector.sub(M.createVector(f.pos.x,f.pos.y),M.createVector(d.pos.x,d.pos.y));(!d.data.testFloodSteps||d.data.testFloodSteps>f.data.testFloodSteps)&&(e?d.data.testFloodSteps=f.data.testFloodSteps+1:(d.data.floodSteps=f.data.floodSteps+1,d.data.floodNext=f,d.data.floodPathVector=u))}o.splice(0,1),h.push(f)}}for(const x of y)if(e){if(!x.data.testFloodSteps)return!1}else if(!x.data.FloodSteps)return!1;return!0}setTileType(y,C){const e=Ar[C];y.type=C,y.color=this.tileTypeColors[C],y.wall=C===1||C===3,y.canTower=e.canTower,y.canWaterTower=e.canWaterTower,y.canLavaTower=e.canLavaTower,y.canUnit=e.canUnit,y.canWaterUnit=e.canWaterUnit}setBuilderTileType(y,C){const e=Ar[C];y.type=C,y.color=M.color(e.rgb),y.wall=C===vr.HILL||C===vr.WALL||C===vr.WATER||C===vr.LAVA,y.canTower=e.canTower,y.canWaterTower=e.canWaterTower,y.canLavaTower=e.canLavaTower,y.canUnit=e.canUnit,y.canWaterUnit=e.canWaterUnit,y.isSpawn=e.isSpawn}addSpawnerToGrid(y){this.grid[y.r][y.q]=y}addMaouBaseToGrid(y){this.grid[y.r][y.q]=y}addTowerToGrid(y){this.grid[y.r][y.q]=y}removeTowerFromGrid(y){const C=new pn(y.pos.x,y.pos.y,y.r,y.q,y.size,{isTower:!1,data:y.data});this.setTileType(C,y.type),this.grid[y.r][y.q]=C}generateJsonableMap(){const y=[];for(const C of this.grid){const e=[];for(const x of C)e.push(x.type);y.push(e)}return y}buildMapFromJson(y,C,e){this.resetData();for(let x=0;x<this.grid.length;x++)for(let v=0;v<this.grid[x].length;v++){if(y[x][v]===vr.SPAWN&&(e.addSpawn(this.grid[x][v].pos.x,this.grid[x][v].pos.y,rt,{gridR:x,gridQ:v}),e.waveReader.setActiveSpawners(e.spawners),this.addSpawnerToGrid(e.spawners[e.spawners.length-1])),y[x][v]===vr.BASE){const f=new As(this.grid[x][v].pos.x,this.grid[x][v].pos.y,x,v,rt,100);C.addBaseToMaou(f),this.addMaouBaseToGrid(f)}this.setBuilderTileType(this.grid[x][v],y[x][v])}}}class qi{constructor(y,C){this.pos=y,this.data=C}}class en{constructor(y,C,e,x,v=2,f=10){this.pos=M.createVector(y,C),this.width=e,this.height=x,this.capacity=v,this.maxDepth=f,this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}getDir(){return[this.northEast,this.southEast,this.southWest,this.northWest]}show(){if(this.split)for(const y of this.getDir())y.show();M.push(),M.strokeWeight(1),M.stroke(kr),M.noFill(),M.rect(this.pos.x,this.pos.y,this.width,this.height),M.pop()}insert(y){this.maxDepth<=0?this.list.push(y):this.split?(this.northEast.contains(y.pos)&&this.northEast.insert(y),this.southEast.contains(y.pos)&&this.southEast.insert(y),this.southWest.contains(y.pos)&&this.southWest.insert(y),this.northWest.contains(y.pos)&&this.northWest.insert(y)):(this.list.push(y),this.list.length>this.capacity&&this.subDivide())}subDivide(){const y=this.width/2,C=this.height/2;this.northEast=new en(this.pos.x+y,this.pos.y,y,C,this.capacity,this.maxDepth-1),this.southEast=new en(this.pos.x+y,this.pos.y+C,y,C,this.capacity,this.maxDepth-1),this.southWest=new en(this.pos.x,this.pos.y+C,y,C,this.capacity,this.maxDepth-1),this.northWest=new en(this.pos.x,this.pos.y,y,C,this.capacity,this.maxDepth-1),this.split=!0;for(let e=this.list.length-1;e>=0;e--)this.insert(this.list[e]),this.list.splice(e,1)}contains(y){return y.x>=this.pos.x&&y.x<this.pos.x+this.width&&y.y>=this.pos.y&&y.y<this.pos.y+this.height}inRangeCircle(y,C){const e=C**2;if(!this.intersectsCirlce(y,e))return[];const x=[];if(this.split)for(const v of this.getDir())x.push(...v.inRangeCircle(y,C));else for(const v of this.list)Gt(v.pos,y)>e||x.push(v.data);return x}inRangeCirclePart(y,C,e,x){const v=C**2;if(!this.intersectsCirlce(y,v))return[];const f=[];if(this.split)for(const o of this.getDir())f.push(...o.inRangeCircle(y,C));else{M.color(Cn),M.stroke(Cn),M.strokeWeight(3),M.line(y.x,y.y,e.x,e.y);for(const o of this.list)Gt(o.pos,y)>v||f.push(o.data)}return f}inRangeRect(y,C,e){if(!this.intersectsRect(y,C,e))return[];const x=[];if(this.split)for(const v of this.getDir())x.push(...v.inRangeRect(y,C,e));else for(const v of this.list)v.pos.x>y.x+C||v.pos.x<y.x||v.pos.y>y.y+e||v.pos.y<y.y||x.push(v.data);return x}inRangeRotatedRect(y){const C=[];if(this.split)for(const e of this.getDir())C.push(...e.inRangeRotatedRect(y));else for(const e of this.list)this.isLeft(y[0],y[1],e.pos)>0&&this.isLeft(y[1],y[2],e.pos)>0&&this.isLeft(y[2],y[3],e.pos)>0&&this.isLeft(y[3],y[0],e.pos)>0&&C.push(e.data);return C}isLeft(y,C,e){return(C.x-y.x)*(e.y-y.y)-(e.x-y.x)*(C.y-y.y)}intersectsCirlce(y,C){const e=M.createVector(Ko(y.x,this.pos.x,this.pos.x+this.width),Ko(y.y,this.pos.y,this.pos.y+this.height));return Gt(e,y)<=C}intersectsRect(y,C,e){return!(y.x>this.pos.x+this.width||y.x+C<this.pos.x||y.y>this.pos.y+this.height||y.y+e<this.pos.y)}emptyQuadTree(){this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}}const Wt=new en(0,0,M.windowWidth,M.windowHeight,3,7);class rn{constructor(y,C,e,x,v,f={}){var o,h,l,d,u,n;this.pos=y.copy(),this.prevPos=y.copy(),this.vel=C.copy(),this.size=e,this.radius=e/2,this.damage=x,this.pierce=(o=f.pierce)!=null?o:1,this.critChance=(h=f.critChance)!=null?h:0,this.critMultiplier=(l=f.critMultiplier)!=null?l:2,this.statuses=(d=f.statuses)!=null?d:[],this.lifeSpan=v,this.color=(u=f.color)!=null?u:M.color(as),this.alreadyHitEnemyIds=[],this.extraDamageCalc=(n=f.extraDamageCalc)!=null?n:()=>0}show(){M.push();const y=this.vel.copy();y.setMag(this.size);const C=xt.Vector.add(this.pos,y.copy().mult(-.5));M.stroke(this.color),Jr(C,y,2),M.pop()}showDebug(){M.stroke(this.color),M.strokeWeight(5),M.point(this.pos.x,this.pos.y)}update(){this.prevPos=this.pos.copy(),this.pos.add(this.vel);const y=Wt.inRangeCircle(this.pos,this.size);for(const C of y)this.hit(C);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}hit(y){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(y.id))return;this.alreadyHitEnemyIds.push(y.id);const C=this.damage*(M.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(y);y.takeDamage(C);for(let e=0;e<this.statuses.length;e++)y.applyStatus(this.statuses[e]);this.pierce--}}class Hr extends pn{constructor(y,C,e,x,v,f,o,h,l,d,u,n){var t,r,s,i,c;super(y,C,e,x,v,{color:M.color(ss),...n}),this.range=f,this.cooldown=l,this.currentCooldown=l,this.cost=d,this.spendValue=d,this.damage=o,this.projectileSpeed=h,this.critChance=(t=n.critChance)!=null?t:0,this.critMultiplier=(r=n.critMultiplier)!=null?r:2,this.projectilePierce=(s=n.projectilePierce)!=null?s:1,this.projectileColor=(i=n.projectileColor)!=null?i:M.color(as),this.projectileSize=(c=n.projectileSize)!=null?c:rt*(2/3),this.projectileNumber=1,this.showSymbol=u,this.lastShotAngle=0,this.targetingType=0,this.upgradesPurchased=0,this.ultimate=()=>{},this.ultCooldown=0,this.ultCurrentCooldown=0,this.purchasedUpgrades=[],this.upgrades=n.upgrades}show(y=this.pos){M.push(),M.stroke(0),M.strokeWeight(2),M.fill(this.color),Ht(y.x,y.y,this.size),this.upgradesPurchased>3&&(M.strokeWeight(1),Ht(y.x,y.y,this.size-3),this.upgradesPurchased>7&&(M.stroke(0),Ht(y.x,y.y,this.size-6))),this.showSymbol(y,this.size,{angle:this.lastShotAngle}),this.shouldShowUltCooldown(),M.pop()}shouldShowUltCooldown(){}showUltCooldown(){if(this.ultCurrentCooldown<=0){let x=this.ultCurrentCooldown*-1%100;x>50&&(x=100-x),x/=50,M.push(),M.noFill(),M.strokeWeight(2),M.stroke(wi(Qo,Pr,x)),Ht(this.pos.x,this.pos.y,this.size-1),M.pop();return}const y=(this.ultCooldown-this.ultCurrentCooldown)/this.ultCooldown*6,C=M.floor(y),e=y%1;M.push(),M.noFill(),M.strokeWeight(2),M.stroke(Qo),Di(this.pos.x,this.pos.y,this.size-1,C,e),M.pop()}showRange(){if(this.range>0){const y=Wr(this.color);y.setAlpha(100),M.fill(y),M.circle(this.pos.x,this.pos.y,this.range*2)}}update(){this.currentCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.ultCurrentCooldown--}castUlt(){this.ultCurrentCooldown>0||(this.ultCurrentCooldown=this.ultCooldown,this.ultimate())}getDamage(){return this.damage}baseShoot(){const y=Wt.inRangeCircle(this.pos,this.range);if(y.length<1)return;let C=0,e=this.range**2;for(let l=0;l<y.length;l++){const d=Gt(y[l].pos,this.pos);d<e&&(e=d,C=l)}const x=y[C],v=this.range/this.projectileSpeed,f=x.pos.copy();for(let l=1;l<=v&&(f.add(x.vel),!(Gt(f,this.pos)<(this.projectileSpeed*l)**2));l++);const o=xt.Vector.sub(f,this.pos);return o.setMag(this.projectileSpeed),new rn(this.pos.copy(),o,10,this.getDamage(),v,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier})}shoot(){const y=this.baseShoot();return y===void 0?!1:(this.lastShotAngle=y.vel.heading(),ft.addProjectile(y),!0)}purchaseUpgrade(y){y.onPurchase(this),y.purchased=!0,this.purchasedUpgrades.push(y.id);for(const C in this.upgrades){const e=this.upgrades[C];e.available=e.isAvailable(this.purchasedUpgrades)}this.spendValue+=y.cost,this.upgradesPurchased++}}class Ne{constructor(y,C,e,x,v,f=!1){this.id=y,this.name=C,this.cost=e,this.description=x,this.onPurchase=v,this.available=f,this.purchased=!1}isAvailable(y){if(this.purchased||y.length>7)return!1;switch(this.id){case"A":case"B":case"C":return!0;case"A+":return y.includes("A");case"B+":return y.includes("B");case"C+":return y.includes("C");case"AB":return y.includes("A")&&y.includes("B");case"BC":return y.includes("B")&&y.includes("C");case"CA":return y.includes("C")&&y.includes("A");case"AB+":return y.includes("AB")||y.includes("A+")&&y.includes("B+");case"BC+":return y.includes("BC")||y.includes("B+")&&y.includes("C+");case"CA+":return y.includes("CA")||y.includes("C+")&&y.includes("A+");case"AB++":return y.includes("AB+");case"BC++":return y.includes("BC+");case"CA++":return y.includes("CA+");default:return!1}}}const vs=(N,y,C,e=M)=>{const x=[];for(let v=0;v<8;v++){const f=e.PI/4*v;x.push(e.createVector(e.cos(f)*C,e.sin(f)*C))}e.noFill(),e.strokeWeight(1);for(let v=1;v<4;v++){e.beginShape();for(const f of x)v===1&&e.line(N,y,N+f.x,y+f.y),f.setMag(C*.3*v),e.vertex(N+f.x,y+f.y);e.endShape(e.CLOSE)}},Xi=(N,y,C,e,x=M)=>{const v=xt.Vector.fromAngle(C);v.setMag(y/2);const f=xt.Vector.fromAngle(C);f.setMag(y),x.push(),x.beginShape(),x.vertex(N.x,N.y);const o=xt.Vector.add(N,v);x.vertex(o.x,o.y),f.rotate(e),o.add(f),x.vertex(o.x,o.y),f.rotate(e).mult(.5),o.add(f),x.vertex(o.x,o.y),f.rotate(x.PI*1.02),o.add(f),x.vertex(o.x,o.y),f.rotate(-e).mult(2),o.add(f),x.vertex(o.x,o.y),f.rotate(-e).mult(.5),o.add(f),x.vertex(o.x,o.y),x.endShape(x.CLOSE),x.pop()},Yi=(N,y,C,e=!0,x=M,v=kr)=>{const f=C*.4,o=C/10,h=C*(3/5),l=f*2;x.noStroke();for(let d=0;d<2;d++)for(let u=-4;u<7;u+=3){const n=d*(M.PI-2*u*M.PI*.05)+u*M.PI*.05,t=x.createVector(N+x.cos(n)*f,y+x.sin(n)*f);let r=-x.PI/5;u>0&&(r*=-1),d>0&&(r*=-1),Xi(t,l,n,r,x)}x.circle(N,y-h,h),x.circle(N,y,C),x.fill(v),x.circle(N-o,y-l,o),x.circle(N+o,y-l,o),e&&(x.stroke(Pr),x.strokeWeight(1),vs(N,y,f,x))};class bs extends rn{constructor(y,C,e,x,v,f,o,h,l={}){var d,u;super(y,C,e,x,v,l),this.pierce=f,this.hexes=o,this.frictionSlow=h,this.color=(d=l.color)!=null?d:M.color(Pr),this.corrosion=(u=l.corrosion)!=null?u:0}show(){M.push(),M.stroke(this.color);for(const y of this.hexes)vs(y.pos.x,y.pos.y,y.size);M.pop()}update(){const y=[];for(const C of this.hexes){const e=Wt.inRangeCircle(C.pos,C.size);y.push(...e)}for(const C of y){if(this.pierce<1)break;C.takeDamage(this.damage),C.friction(this.frictionSlow),this.pierce--}return this.pierce-=this.corrosion,this.pierce<1}}const Ve=new Hi(M.windowWidth*Pi,M.windowHeight*Oi,ki,rt,{wallRing:Li}),lr={name:"Arachne",description:"Arachne",hotkey:"w",keycode:87,range:1,cooldown:600,cost:1e3,damage:0,projectileSpeed:0,rgb:Pr,webDurability:1e3,webSlow:.25,showSymbol:(N,y,C={})=>{M.push(),M.fill(rr),Yi(N.x,N.y,y*.7,!1),M.pop()}};class Zi extends Hr{constructor(y,C,e,x,v,f,o,h,l,d,u,n,t,r){super(y,C,e,x,v,f,o,h,l,d,u,r),this.webDurability=n,this.webSlow=t,this.activeWeb=null,this.corrosion=0}showRange(){const y=Wr(this.color);y.setAlpha(100),M.fill(y),M.circle(this.pos.x,this.pos.y,this.range*4*this.size)}update(){this.activeWeb===null?(this.currentCooldown--,this.currentCooldown<=0&&(this.shoot(),this.currentCooldown=this.cooldown)):this.activeWeb.pierce<=0&&(this.activeWeb=null),this.ultCurrentCooldown--}shoot(){const y=Ve.getNeighborsArea(this.r,this.q,this.range);for(let e=y.length-1;e>=0;e--)y[e].wall&&y.splice(e,1);const C=new bs(this.pos,M.createVector(0,0),this.size,this.damage,this.webDurability,this.webDurability,y,this.webSlow,{color:this.projectileColor,corrosion:this.corrosion});return this.activeWeb=C,ft.addProjectile(C),!0}}const Qi=N=>new Zi(N.pos.x,N.pos.y,N.r,N.q,N.size,lr.range,lr.damage,lr.projectileSpeed,lr.cooldown,lr.cost,lr.showSymbol,lr.webDurability,lr.webSlow,{color:M.color(lr.rgb),projectileColor:M.color(Pr),wall:!0,isTower:!0,type:N.type,data:N.data,upgrades:{A:new Ne("A","Stickier webs",600,"Stickier webs slow enemies down even more.",y=>{y.webSlow+=.15},!0),B:new Ne("B","Steel thread",400,"Makes your web more durable.",y=>{y.webDurability+=500},!0),C:new Ne("C","Placeholder",0,"Gotta think of somehing.",y=>{},!0),"A+":new Ne("A+","Nether glue",1400,"Magic infused glue makes webs unnaturally sticky.",y=>{y.webSlow+=.3}),"B+":new Ne("B+","Titanium thread",4e3,"Makes your web way more durable.",y=>{y.webDurability+=2500}),"C+":new Ne("C+","Placeholder",0,"Gotta think of somehing.",y=>{}),AB:new Ne("AB","Spiky silk",1300,"How can silk be spiky?",y=>{y.damage+=1}),BC:new Ne("BC","Great web",1e3,"Make your web even larger.",y=>{y.range+=1}),CA:new Ne("CA","Spinning talent",1e3,"Spin new webs faster.",y=>{y.cooldown-=100}),"AB+":new Ne("AB+","Suffocating silk",2200,"Hope you don't have claustrophobia, or arachnophobia...",y=>{y.damage+=3}),"BC+":new Ne("BC+","Greatest web",1500,"Spin your web between mountains.",y=>{y.range+=1}),"CA+":new Ne("CA+","Spinning prodigy",2e3,"Spin new webs at top speed.",y=>{y.cooldown-=200}),"AB++":new Ne("AB++","Corrosive silk",6600,"Silk corrodes away enemies and the web alike.",y=>{y.damage+=16,y.projectileColor=M.color(ri),y.corrosion=5}),"BC++":new Ne("BC++","World wide web (Ability)",8e3,"The entire world is my domain.",y=>{y.ultCooldown=gs,y.ultCurrentCooldown=y.ultCooldown,y.ultimate=()=>{const C=Ve.getAllTiles(!1);for(let e=C.length-1;e>=0;e--){const x=new bs(y.pos,M.createVector(0,0),y.size,y.damage,y.webDurability,y.webDurability,[C[e]],y.webSlow,{color:y.projectileColor,corrosion:y.corrosion+5});ft.addProjectile(x)}},y.shouldShowUltCooldown=()=>{y.showUltCooldown()}}),"CA++":new Ne("CA++","The eternal web",6e3,"Spin new webs so fast it's like they were never gone.",y=>{y.cooldown-=300})}}),Ki=0,$i=1,ws=(N,y,C,e=Ki,x=$i)=>{M.push(),M.translate(N,y),M.rotate(e);const v=C/2,f={x:0,y:-v},o={x:0,y:v},h=M.createVector(-C/4,0),l=M.createVector(C*(5/6),0);M.strokeWeight(x),M.noFill(),M.line(f.x,f.y,o.x,o.y),Jr(h,l,x*1.5),M.strokeWeight(x*2),M.curve(f.x-2.5*C,f.y,f.x,f.y,o.x,o.y,o.x-2.5*C,o.y),M.pop()},Mr={name:"Archer",description:"",hotkey:"a",keycode:65,range:rt*6,cooldown:150,cost:200,damage:20,projectileSpeed:10,rgb:hi,showSymbol:(N,y,C={angle:0})=>{ws(N.x,N.y,y,C.angle,1)}};class Ji extends Hr{constructor(y,C,e,x,v,f,o,h,l,d,u,n){super(y,C,e,x,v,f,o,h,l,d,u,n),this.arrowNumber=1}shoot(){const y=this.baseShoot();if(y===void 0)return!1;const C=M.floor(this.arrowNumber/2)*-1;this.lastShotAngle=y.vel.heading();const e=M.PI/9;for(let x=C;x<C+this.arrowNumber;x++){const v=this.lastShotAngle+x*e,f=xt.Vector.fromAngle(v);f.setMag(y.vel.mag());const o=[];for(let l=0;l<y.statuses.length;l++)o.push(y.statuses[l].copy());const h=new rn(this.pos.copy(),f,y.size,y.damage,y.lifeSpan,{color:this.projectileColor,pierce:y.pierce,critChance:y.critChance,critMultiplier:y.critMultiplier,statuses:o});ft.addProjectile(h)}return!0}}const ea=N=>new Ji(N.pos.x,N.pos.y,N.r,N.q,N.size,Mr.range,Mr.damage,Mr.projectileSpeed,Mr.cooldown,Mr.cost,Mr.showSymbol,{color:M.color(Mr.rgb),wall:!0,isTower:!0,type:N.type,data:N.data,upgrades:{A:new Ne("A","Sharper Arrows",100,"Even sharper arrows deal more damage.",y=>{y.damage+=10},!0),B:new Ne("B","Sunglasses",300,"You'd think the protection from the sun gives this archer a range increase, but it's really the confidence boost.",y=>{y.range+=rt},!0),C:new Ne("C","Faster firing",550,"Shorter cooldown between arrows.",y=>{y.cooldown-=30},!0),"A+":new Ne("A+","Dark Arrows",750,"Arrows made from metal mined deep in the underworld. They deal alot more damage",y=>{y.damage+=45,y.projectileColor=M.color(yi)}),"B+":new Ne("B+","Scope",500,"How do you put a scope on a bow? Doesn't matter, more range.",y=>{y.range+=rt*2}),"C+":new Ne("C+","Faster firing festival",1e3,"Gotta go fast.",y=>{y.cooldown-=30}),AB:new Ne("AB","Aimed shot",200,"Until now, aiming was more of a suggestion... Faster projectiles",y=>{y.projectileSpeed+=10}),BC:new Ne("BC","Triple shot",900,"Trying to emulate some cool moves you saw eh.",y=>{y.arrowNumber+=2}),CA:new Ne("CA","Line em up",250,"Three birds one arrow.",y=>{y.projectilePierce+=2}),"AB+":new Ne("AB+","Great shot",2e3,"Faster, further, friendlier, if by that you mean deadlier.",y=>{y.projectileSpeed+=10,y.damage+=25,y.range+=rt}),"BC+":new Ne("BC+","More arrows",1e3,"More arrows more better.",y=>{y.arrowNumber+=2}),"CA+":new Ne("CA+","Spot Weakspot",500,"Hit them in their weakspot for critical damage.",y=>{y.critChance+=.2}),"AB++":new Ne("AB++","Charged shot",3500,"Even more powerful shot, deal bonus damage based on the time since the last shot.",y=>{y.damage+=50,y.getDamage=()=>{const C=-y.currentCooldown+y.cooldown;return y.damage+C}}),"BC++":new Ne("BC++","Blot out the sun",5e3,"Let them fight in the shadow.",y=>{y.arrowNumber+=13}),"CA++":new Ne("CA++","Luck is also a skill",1200,"Rely entirely on luck for those nice and big numbers.",y=>{y.critChance+=.3,y.critMultiplier+=2,y.projectilePierce+=1})}}),Tr={name:"Barricade",description:"",hotkey:"b",keycode:66,range:0,cooldown:0,cost:10,damage:0,projectileSpeed:0,rgb:ui,showSymbol:(N,y)=>{}},$o=N=>new Hr(N.pos.x,N.pos.y,N.r,N.q,N.size,Tr.range,Tr.damage,Tr.projectileSpeed,Tr.cooldown,Tr.cost,Tr.showSymbol,{color:M.color(Tr.rgb),wall:!0,isTower:!0,type:N.type,data:N.data,upgrades:{A:new Ne("A","Nothing",0,"Still just a barrier.",y=>{},!0),B:new Ne("B","Nothing",0,"Still just a barrier.",y=>{},!0),C:new Ne("C","Nothing",0,"Still just a barrier.",y=>{},!0),"A+":new Ne("A+","Nothing",0,"Still just a barrier.",y=>{}),"B+":new Ne("B+","Nothing",0,"Still just a barrier.",y=>{}),"C+":new Ne("C+","Nothing",0,"Still just a barrier.",y=>{}),AB:new Ne("AB","Nothing",0,"Still just a barrier.",y=>{}),BC:new Ne("BC","Nothing",0,"Still just a barrier.",y=>{}),CA:new Ne("CA","Nothing",0,"Still just a barrier.",y=>{}),"AB+":new Ne("AB+","Nothing",0,"Still just a barrier.",y=>{}),"BC+":new Ne("BC+","Nothing",0,"Still just a barrier.",y=>{}),"CA+":new Ne("CA+","Nothing",0,"Still just a barrier.",y=>{}),"AB++":new Ne("AB++","Nothing",0,"Still just a barrier.",y=>{}),"BC++":new Ne("BC++","Nothing",0,"Still just a barrier.",y=>{}),"CA++":new Ne("CA++","Nothing",0,"Still just a barrier.",y=>{})}}),ta=(N,y,C,e=0,x=M)=>{const v=C/2,f=C/3,o=84,h=x.TWO_PI/o,l=6;let d=f,u=e,n=!0;x.push(),x.stroke(rr),x.strokeWeight(1),x.beginShape();for(let t=0;t<o;t++){n?d=v:d=f;const r=N+x.cos(u)*d,s=y+x.sin(u)*d;x.vertex(r,s),t%l===0&&(n=!n),u+=h}x.endShape(x.CLOSE),x.pop()},Jt={name:"Gravi-tech Tower",description:"",hotkey:"g",keycode:71,range:rt*4,cooldown:1e3,cost:1200,damage:0,projectileSpeed:6,rgb:Pn,attractionForce:.1,capacity:10,showSymbol:(N,y,C={angle:0})=>{M.fill(ci),ta(N.x,N.y,y,C.angle)}};class ra extends Hr{constructor(y,C,e,x,v,f,o,h,l,d,u,n,t,r){super(y,C,e,x,v,f,o,h,l,d,t,r),this.attractionForce=u,this.capacity=n,this.active=!0}update(){this.active?(this.lastShotAngle+=.03,this.shoot()):(this.currentCooldown--,this.currentCooldown<=0&&(this.currentCooldown=this.cooldown,this.active=!0)),this.ultCooldown--}baseShoot(){const y=Wt.inRangeCircle(this.pos,this.range);if(!(y.length<1)){for(let C=0;C<y.length;C++){const e=xt.Vector.sub(this.pos,y[C].pos).setMag(this.attractionForce*y[C].mass);y[C].applyForce(e)}y.length>this.capacity&&(this.active=!1)}}shoot(){return this.baseShoot(),!0}}const na=N=>new ra(N.pos.x,N.pos.y,N.r,N.q,N.size,Jt.range,Jt.damage,Jt.projectileSpeed,Jt.cooldown,Jt.cost,Jt.attractionForce,Jt.capacity,Jt.showSymbol,{color:M.color(Jt.rgb),projectileColor:M.color(Jt.rgb),projectilePierce:100,wall:!0,isTower:!0,type:N.type,data:N.data,upgrades:{A:new Ne("A","Field stabilizer",1500,"Stabilize the gravitational field to increase it's capacity to hold units.",y=>{y.capacity+=10},!0),B:new Ne("B","Reserve cell",500,"By keeping a center gravity cell in reserve the tower can be restarted after failure twice as fast.",y=>{y.cooldown-=500},!0),C:new Ne("C","Greater field",1e3,"Affect a slightly bigger area.",y=>{y.range+=rt/2},!0),"A+":new Ne("A+","Micromanage flow",5e3,"Strengthen the field in places with a lot of units by weakening parts that aren't being used, increasing capacity beyond it's limits.",y=>{y.capacity+=30}),"B+":new Ne("B+","Placeholder",0,"Gotta think of somehing.",y=>{}),"C+":new Ne("C+","Grand field",4e3,"Spread the field as far as possible without letting it collapse.",y=>{y.range+=rt}),AB:new Ne("AB","Repulsion wave",0,"Gotta.",y=>{}),BC:new Ne("BC","Placeholder",0,"Gotta think of somehing.",y=>{}),CA:new Ne("CA","Placeholder",0,"Gotta think of somehing.",y=>{}),"AB+":new Ne("AB+","Placeholder",0,"Gotta think of somehing.",y=>{}),"BC+":new Ne("BC+","Placeholder",0,"Gotta think of somehing.",y=>{}),"CA+":new Ne("CA+","Placeholder",0,"Gotta think of somehing.",y=>{}),"AB++":new Ne("AB++","Placeholder",0,"Gotta think of somehing.",y=>{}),"BC++":new Ne("BC++","Placeholder",0,"Gotta think of somehing.",y=>{}),"CA++":new Ne("CA++","Placeholder",0,"Gotta think of somehing.",y=>{})}}),oa=(N,y,C)=>{const e=C/2,x=C/4;M.push(),M.rectMode(M.CENTER),M.rect(N,y,e,e),M.rect(N,y+x,C,C/15),M.pop()},sa=(N,y,C,e=M.color(Pr))=>{const x=C/2,v=C*(1/4),f=C*(1/12),o=C*(3/4),h=C/3,l=C*(2/3),d=M.createVector(N+f,y+f),u=M.PI,n=M.createVector(d.x+M.cos(u)*f*2,d.y+M.sin(u)*f*2),t=M.createVector(d.x+M.cos(u)*f*6,d.y+M.sin(u)*f*6),r=M.PI*(3/5),s=M.createVector(d.x+M.cos(r)*v,d.y+M.sin(r)*v),i=M.PI*(11/12),c=M.createVector(d.x+M.cos(i)*f*6,d.y+M.sin(i)*f*6),m=M.PI*(5/6),g=M.createVector(d.x+M.cos(m)*l,d.y+M.sin(m)*l),w=M.PI*-4/5,S=M.createVector(d.x+M.cos(w)*f,d.y+M.sin(w)*f);M.strokeWeight(1),M.circle(d.x,d.y,x),M.beginShape(),M.vertex(n.x,n.y),M.quadraticVertex(t.x,t.y,g.x,g.y),M.quadraticVertex(c.x,c.y,s.x,s.y),M.endShape(),M.fill(On),M.stroke(0),oa(d.x,d.y-h,o),M.fill(e),M.circle(S.x,S.y,f)},ia=-.5*M.PI,aa=M.color(ss),Jo=(N,y,C)=>{const e=C/2,x=C/10,v=e-x;M.beginShape(),M.vertex(N+e,y-x),M.vertex(N-v,y-x),M.quadraticVertex(N-e,y-x,N-e,y),M.quadraticVertex(N-e,y+x,N-v,y+x),M.vertex(N+e,y+x),M.endShape(M.CLOSE)},la=(N,y,C,e=aa,x=ia)=>{const v=C/20,f=C*(9/11),o=C/2,h=C/4;M.push(),M.translate(N,y),M.rotate(x),M.rectMode(M.CENTER),M.fill(Pr),Jo(0,0,C),M.rect(o,0,v,h),M.fill(e),Jo(-v,0,f),M.pop()},ua=(N,y,C,e=M)=>{const x=C/2,v=x-C/4,f=x-C/6,o=M.PI/40,h=M.PI/10;let l=0,d=0,u=!0;for(e.push(),e.noStroke(),e.beginShape();l<e.TWO_PI;){u?d=e.random(v,f):d=e.random(f,x);const n=N+e.cos(l)*d,t=y+e.sin(l)*d;e.vertex(n,t),l+=e.random(o,h),u=!u}e.endShape(e.CLOSE),e.pop()},Qn=(N,y,C)=>{const e=C/2,x=e-C/4,v=e-C/6,f=M.PI/40,o=M.PI/10;let h=0,l=0,d=!0;const u=[];for(;h<M.TWO_PI;){d?l=M.random(x,v):l=M.random(v,e);const n=N+M.cos(h)*l,t=y+M.sin(h)*l;u.push(M.createVector(n,t)),h+=M.random(f,o),d=!d}return u},Kn=(N,y=M)=>{y.push(),y.noStroke(),y.beginShape();for(const C of N)y.vertex(C.x,C.y);y.endShape(y.CLOSE),y.pop()};class es extends rn{constructor(y,C,e,x,v,f,o,h,l,d={}){super(y,C,f,h,l,d),this.zPos=e,this.zVel=x,this.zAcc=v,this.showAngle=-M.PI/2,this.changeAngle=M.random(-M.PI/4,M.PI/4),this.explosionRadius=o}show(){M.push(),la(this.pos.x,this.pos.y,this.size+this.zPos/(rt*.1),this.color,this.showAngle),M.pop()}update(){return this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.zVel+=this.zAcc,this.zPos+=this.zVel,this.zPos<=0?(this.hit(),!0):(this.showAngle+=this.changeAngle,!1)}hit(){M.push(),M.fill(this.color),ua(this.pos.x,this.pos.y,this.explosionRadius*2),M.pop();const y=Wt.inRangeCircle(this.pos,this.explosionRadius);for(const C of y){if(this.pierce<=0)break;const e=this.damage*(M.random()<this.critChance?this.critMultiplier:1);C.takeDamage(e);for(let x=0;x<this.statuses.length;x++)C.applyStatus(this.statuses[x]);this.pierce--}}}const ca=(N,y,C,e=M)=>{const x=C/2,v=C/3,f=C/4,o=C*(3/10);e.push(),e.translate(N,y),e.stroke(rr),e.strokeWeight(1),e.beginShape(),e.vertex(0,-x),e.quadraticVertex(v/2*1.1,-x/2*1.1,f,0),e.quadraticVertex(o,o,0,v),e.quadraticVertex(-o,o,-f,0),e.quadraticVertex(-v/2*1.1,-x/2*1.1,0,-x),e.endShape(),e.pop()};class Dn{constructor(y,C,e,x,v){this.name=y,this.duration=C,this.timing=e,this.effect=x,this.show=v}effectUnit(y){return this.duration--,this.effect(y),this.duration<=0}copy(){return new Dn(this.name,this.duration,this.timing,this.effect,this.show)}}const to=(N,y,C="poison")=>new Dn(C,y,1,x=>{x.takeDamage(N)},(x,v)=>{M.fill(ni),ca(v.x,v.y,x.size/2)}),da=(N,y,C,e=0,x=M)=>{const v=C/2,f=C/20,o=C/12,h=o*2;x.push(),x.translate(N,y),x.rotate(e),x.stroke(rr),x.strokeWeight(1),x.beginShape(),x.vertex(h,-v),x.vertex(f,-o),x.vertex(h,-o),x.vertex(-h,v),x.vertex(-f,o),x.vertex(-h,o),x.endShape(x.CLOSE),x.pop()},ha=(N,y="paralysis")=>new Dn(y,N,1,e=>{e.acc.setMag(0),e.vel.setMag(0)},(e,x)=>{M.fill(us),da(x.x,x.y,e.size*.6666666666666666)}),er={name:"Plague Slinger",description:"",hotkey:"p",keycode:80,range:rt*4,cooldown:120,cost:800,damage:10,poisonDuration:500,poisonDamage:.2,projectileSpeed:6,explosionRadius:rt,rgb:io,showSymbol:(N,y,C={})=>{M.fill(rr),sa(N.x,N.y,y*1.5)}};class fa extends Hr{constructor(y,C,e,x,v,f,o,h,l,d,u,n,t,r,s){super(y,C,e,x,v,f,o,d,u,n,r,s),this.vialNumber=1,this.poisonName="Slinger",this.poisonDamage=h,this.poisonDuration=l,this.paralysisDuration=0,this.explosionRadius=t}getStatuses(){return[this.getPoison()]}getPoison(){return to(this.poisonDamage,this.poisonDuration,this.poisonName)}getParalysis(){return ha(this.paralysisDuration)}baseShoot(){const y=Wt.inRangeCircle(this.pos,this.range);if(y.length<1)return;let C=0,e=this.range**2;for(let n=0;n<y.length;n++){const t=Gt(y[n].pos,this.pos);t<e&&(e=t,C=n)}const x=y[C],v=this.getStatuses(),f=this.range/this.projectileSpeed,o=x.pos.copy();for(let n=1;n<=f;n++){o.add(x.vel);const t=Gt(o,this.pos);if(t<(this.projectileSpeed*n)**2||t>this.range*this.range)break}const h=xt.Vector.sub(o,this.pos),l=M.floor(h.mag()/this.projectileSpeed);h.setMag(this.projectileSpeed);const d=-1*(2*rt/l);return new es(this.pos.copy(),h,0,rt,d,20,this.explosionRadius,this.getDamage(),f,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:v})}shoot(){const y=this.baseShoot();if(y===void 0)return!1;ft.addProjectile(y);const C=this.vialNumber-1;this.lastShotAngle=y.vel.heading();const e=M.PI/4,x=.5;for(let v=0;v<C;v++){const f=this.lastShotAngle+M.random(-e,e),o=xt.Vector.fromAngle(f);o.setMag(y.vel.mag());const h=y.zAcc*1+M.random(-x,x),l=[];for(let u=0;u<y.statuses.length;u++)l.push(y.statuses[u].copy());const d=new es(this.pos.copy(),o,y.zPos,y.zVel,h,y.size,y.explosionRadius,y.damage,y.lifeSpan,{color:this.projectileColor,pierce:y.pierce,critChance:y.critChance,critMultiplier:y.critMultiplier,statuses:l});ft.addProjectile(d)}return!0}}const pa=N=>new fa(N.pos.x,N.pos.y,N.r,N.q,N.size,er.range,er.damage,er.poisonDamage,er.poisonDuration,er.projectileSpeed,er.cooldown,er.cost,er.explosionRadius,er.showSymbol,{color:M.color(er.rgb),projectileColor:M.color(io),projectilePierce:100,wall:!0,isTower:!0,type:N.type,data:N.data,upgrades:{A:new Ne("A","Extra vial",500,"Poison is all in the dose, so let's dubble that shall we.",y=>{y.vialNumber+=1},!0),B:new Ne("B","Vile pitcher",600,"This slinger just got promoted to pitcher in the Mad Scientist Inc. office team.",y=>{y.range+=rt,y.projectileSpeed+=2},!0),C:new Ne("C","Paralysis coating",1800,"Coats the vials with a paralizing agent.",y=>{y.paralysisDuration+=6,y.getStatuses=()=>[y.getPoison(),y.getParalysis()]},!0),"A+":new Ne("A+","Handful of vials",4400,"Don't worry about the costs, Mad Scientist Inc. buys all its glasswork wholesale.",y=>{y.vialNumber+=3}),"B+":new Ne("B+","Mecha arm",3300,"Mechanical arms allow for even further and faster throwing.",y=>{y.range+=rt,y.projectileSpeed+=2}),"C+":new Ne("C+","Coma inducer",3e3,"Many vipers were harmed in the production of this stronger coating.",y=>{y.paralysisDuration+=14}),AB:new Ne("AB","Unstable concoction",1e3,"The unstable contends of the vials react violently with the air, increasing explosion damage and radius.",y=>{y.explosionRadius+=rt/2,y.damage+=20}),BC:new Ne("BC","Mad prodigy",2200,"Works faster and deadlier than a normal prodigy.",y=>{y.cooldown-=20,y.poisonDamage+=.1}),CA:new Ne("CA","Antibody killer",1500,"The poison aggresively attacks antibodies, increasing its duration and damage.",y=>{y.poisonDuration+=300,y.poisonDamage+=.02}),"AB+":new Ne("AB+","Killer combustion",1200,"Make them vials go BOOM.",y=>{y.explosionRadius+=rt/2,y.damage+=20,y.vialNumber+=1}),"BC+":new Ne("BC+","Patented pathogen",3600,"This patented formula isn't available to any other plague slinger, and obviously better than anything those amateurs could have produced.",y=>{y.poisonDamage+=.1,y.poisonName=`Slinger-P${String(M.random())}`}),"CA+":new Ne("CA+","Mutating virus",4e3,"The virus keeps mutating, making recovery incredibly slow.",y=>{y.poisonDuration+=1200}),"AB++":new Ne("AB++","BOOOOM!",3900,"Just go boom, who cares about poison.",y=>{y.projectileColor=M.color(zr),y.explosionRadius+=rt/2,y.damage+=50,y.vialNumber+=2,y.poisonDamage=0,y.poisonDuration=0,y.getPoison=()=>to(0,0,"Nope")}),"BC++":new Ne("BC++","Unique strain",9e3,"Every vial is filled with it's own unique strain of the virus, each having it's own deadly effect on the victim. No one else could have done this, Muhahaha... ehem",y=>{y.poisonDamage+=.1,y.getPoison=()=>to(y.poisonDamage,y.poisonDuration,`Slinger-P-Unique-${String(M.random())}`)}),"CA++":new Ne("CA++","Eternal suffering",1e4,"The virus hijacks part of it's victems DNA to become a part of them, never to be cured.",y=>{y.poisonDuration+=998e3})}}),ma=-.5*M.PI,ya=M.color(ao),ga=(N,y=!1)=>{const C=N/2,e=C-N/4,x=C-N/6,v=M.PI/20,f=M.PI/5;let o=0,h=0,l=!0;const d=[];for(;o<M.TWO_PI;){l&&y?h=M.random(e,x):h=M.random(x,C);const u=M.cos(o)*h,n=M.sin(o)*h;d.push(M.createVector(u,n)),o+=M.random(v,f),l=!l}return d},xs=(N,y,C,e=ma,x=ya)=>{M.push(),M.translate(N,y),M.rotate(e),M.strokeWeight(1),M.stroke(rr),M.fill(x),M.beginShape();for(const v of C)M.vertex(v.x,v.y);M.endShape(M.CLOSE),M.pop()};class _s extends rn{constructor(y,C,e,x,v,f={}){var o;super(y,C,e,x,v,f),this.rockVertices=ga(e,(o=f.spikyRocks)!=null?o:!1)}show(){xs(this.pos.x,this.pos.y,this.rockVertices)}}class Sn{constructor(y,C,e,x,v,f,o,h){var l;this.pos=y.copy(),this.vel=(l=h==null?void 0:h.copy())!=null?l:M.createVector(0,0),this.size=C,this.duration=e,this.color=x,this.vertices=v,this.show=f,this.onExpire=o}update(){return this.duration--,this.show(this),this.pos.add(this.vel),this.duration<=0}}const Ss=(N,y,C=5,e=M.color(zr))=>{const x=Qn(N.x,N.y,y);return new Sn(N,y,C,e,x,()=>{M.fill(e),Kn(x)},()=>{const f=Qn(N.x,N.y,y*.6666666666666666);return new Sn(N,y*(2/3),C,e,f,()=>{M.fill(e),Kn(f)},()=>{const o=Qn(N.x,N.y,y/2);return new Sn(N,y/2,C,e,o,()=>{M.fill(e),Kn(o)},()=>{})})})};class ro extends _s{constructor(y,C,e,x,v,f={}){var o,h,l;super(y,C,e,x,v,f),this.explosionRadius=(o=f.explosionRadius)!=null?o:rt/2,this.explosionVisualDuration=(h=f.explosionVisualDuration)!=null?h:3,this.explosionColor=(l=f.explosionColor)!=null?l:zr}hit(y){if(this.pierce<=0)return;ft.addVisual(Ss(this.pos,this.explosionRadius*2,this.explosionVisualDuration,M.color(this.explosionColor)));const C=Wt.inRangeCircle(this.pos,this.explosionRadius);for(const e of C){const x=this.damage*(M.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(e);e.takeDamage(x);for(let v=0;v<this.statuses.length;v++)e.applyStatus(this.statuses[v])}this.pierce--}}const Qt={name:"Kobold",description:"The Kobold supports your defense with its own invention, a spool driven catapult! Every shot fires faster than the last, until the spool overheats or no target can be found.",hotkey:"k",keycode:75,range:rt*3.5,cooldown:70,lowestCooldown:20,maxSpoolHeat:400,cost:300,damage:10,projectileSpeed:5,rgb:oi,showSymbol:(N,y,C={angle:0})=>{ws(N.x,N.y,y,C.angle,1)}};class va extends Hr{constructor(y,C,e,x,v,f,o,h,l,d,u,n){super(y,C,e,x,v,f,o,h,l,d,u,n),this.extraDamageCalc=t=>0,this.currentMaxCooldown=l,this.lowestCooldown=Qt.lowestCooldown,this.spoolHeat=0,this.maxSpoolHeat=Qt.maxSpoolHeat,this.heatGenerationSpeed=1,this.heatPerDamage=30,this.explosionRadius=rt/2,this.spikyRocks=!1}update(){this.currentCooldown--,this.currentCooldown<=0&&(this.shoot()?(this.currentCooldown=this.currentMaxCooldown,this.spoolHeat+=(this.cooldown-this.currentMaxCooldown)*this.heatGenerationSpeed,this.currentMaxCooldown=M.max(this.currentMaxCooldown-5,this.lowestCooldown),this.spoolHeat>this.maxSpoolHeat&&this.resetSpool()):this.resetSpool(),this.updateRange()),this.ultCurrentCooldown--}updateRange(){this.range=Qt.range}resetSpool(){this.currentMaxCooldown=this.cooldown,this.spoolHeat=0}getProjectile(y,C){return new _s(this.pos.copy(),y,this.projectileSize,this.getDamage(),C,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,spikyRocks:this.spikyRocks,extraDamageCalc:this.extraDamageCalc})}baseShoot(){const y=Wt.inRangeCircle(this.pos,this.range);if(y.length<1)return;let C=0,e=this.range**2;for(let l=0;l<y.length;l++){const d=Gt(y[l].pos,this.pos);d<e&&(e=d,C=l)}const x=y[C],v=this.range/this.projectileSpeed,f=x.pos.copy();for(let l=1;l<=v&&(f.add(x.vel),!(Gt(f,this.pos)<(this.projectileSpeed*l)**2));l++);const o=xt.Vector.sub(f,this.pos);return o.setMag(this.projectileSpeed),this.getProjectile(o,v)}shoot(){const y=this.baseShoot();if(y===void 0)return!1;ft.addProjectile(y);const C=this.projectileNumber-1,e=M.PI;for(let x=0;x<C;x++){const v=M.random(-e,e),f=xt.Vector.fromAngle(v);f.setMag(y.vel.mag());const o=[];for(let l=0;l<y.statuses.length;l++)o.push(y.statuses[l].copy());const h=this.getProjectile(f,y.lifeSpan);ft.addProjectile(h)}return!0}}const ba=N=>new va(N.pos.x,N.pos.y,N.r,N.q,N.size,Qt.range,Qt.damage,Qt.projectileSpeed,Qt.cooldown,Qt.cost,Qt.showSymbol,{color:M.color(Qt.rgb),wall:!0,isTower:!0,type:N.type,data:N.data,upgrades:{A:new Ne("A","Bigger Rocks",200,"Bigger rock deal more damage, and hit slightly easier. Not really rocket science is it.",y=>{y.damage+=10,y.projectileSize+=rt/3},!0),B:new Ne("B","Fans",300,"The type that cools you off, not the type that brings the heat.",y=>{y.maxSpoolHeat+=200},!0),C:new Ne("C","Balanced Speed",350,"Longest cooldown is faster, because control is king.",y=>{y.cooldown-=10},!0),"A+":new Ne("A+","Spiky Rocks",550,"Hand selected spiky rocks, spikier than normal rocks, the spikiest really!",y=>{y.damage+=30,y.spikyRocks=!0}),"B+":new Ne("B+","Heat Sink",1200,"A giant heat sink, allowing the kobold to fire at maximum speed for a long time.",y=>{y.maxSpoolHeat+=1400}),"C+":new Ne("C+","Min Maxing",750,"Optimize your spool, increase both the minimum and maximum speed.",y=>{y.cooldown-=10,y.lowestCooldown-=10}),AB:new Ne("AB","Packing Heat",650,"Packs the rocks with explosive powder, dealing damage in a small area around the impact.",y=>{y.explosionRadius+=rt/2,y.getProjectile=(C,e)=>new ro(y.pos.copy(),C,y.projectileSize,y.getDamage(),e,{color:y.projectileColor,pierce:y.projectilePierce,critChance:y.critChance,critMultiplier:y.critMultiplier,explosionRadius:y.explosionRadius,spikyRocks:y.spikyRocks,extraDamageCalc:y.extraDamageCalc})}),BC:new Ne("BC","Harness the Heat",1500,"As the spool heats up the rocks get hotter and fire faster, dealing increased damage.",y=>{y.heatPerDamage-=5,y.getDamage=()=>y.damage+y.spoolHeat/y.heatPerDamage}),CA:new Ne("CA","Bully",600,"Deal extra damage based on missing health of your target. Like the big man you are.",y=>{y.extraDamageCalc=C=>{const e=1-C.hp/C.maxHp;return y.getDamage()*e}}),"AB+":new Ne("AB+","Agent of chaos",666,"Bigger explosions, extra rocks, and juicy crits, let chaos reign!",y=>{y.critChance+=.25,y.explosionRadius+=rt/2,y.projectileNumber+=1,y.getProjectile=(C,e)=>new ro(y.pos.copy(),C,y.projectileSize,y.getDamage(),e,{color:y.projectileColor,pierce:y.projectilePierce,critChance:y.critChance,critMultiplier:y.critMultiplier,explosionRadius:y.explosionRadius,spikyRocks:y.spikyRocks,extraDamageCalc:y.extraDamageCalc})}),"BC+":new Ne("BC+","It's a Feature",2e3,"The Kobold incorporates heat generation in all aspects of the catapults desgin, increasing heat generation, but also damage and range at higher heat.",y=>{y.heatGenerationSpeed+=1,y.heatPerDamage-=5,y.getDamage=()=>y.damage+y.spoolHeat/y.heatPerDamage,y.updateRange=()=>{y.range=Qt.range+y.spoolHeat/500*rt}}),"CA+":new Ne("CA+","Team-up",1e3,"(doesnt work atm) Boosts the damage of all adjecent Kobolds, Let's work together to stomp those pesky heroes!",y=>{}),"AB++":new Ne("AB++","Chaos Incarnate",2500,"More chaos! MOAR!.",y=>{y.critChance+=.1,y.critMultiplier+=1,y.explosionRadius+=rt/2,y.projectileNumber+=2}),"BC++":new Ne("BC++","Miniature Sun",7800,"The Kobold builds a giant heat sink, resembling a miniature sun, building power to an overwhelming degree, until it fails... And then you do it all over again.",y=>{y.maxSpoolHeat+=5500}),"CA++":new Ne("CA++","",0,"Nothing atm.",y=>{})}}),In=(N,y,C,e=0,x=M)=>{const v=C/2,f=C/3,o=C/4,h=C*(3/10);x.push(),x.translate(N,y),x.rotate(e),x.stroke(rr),x.strokeWeight(1),x.beginShape(),x.vertex(0,-v),x.quadraticVertex(f/2*1.1,-v/2*1.1,o,0),x.quadraticVertex(h,h,0,f),x.quadraticVertex(-h,h,-o,0),x.quadraticVertex(-f/2*1.1,-v/2*1.1,0,-v),x.endShape(),x.pop()},wa=(N,y,C,e=25,x=M.color(Jn))=>new Sn(N,C,e,x,[],f=>{M.push();const o=Wr(x);o.setAlpha(f.duration*10),M.stroke(o),M.strokeWeight(f.size),M.point(f.pos),M.pop()},()=>{},y);class xa extends ro{constructor(y,C,e,x,v,f={}){var o;super(y,C,e,x,v,f),this.explosionRadius=(o=f.explosionRadius)!=null?o:rt*2}show(){M.push(),xs(this.pos.x,this.pos.y,this.rockVertices),M.fill(this.color),In(this.pos.x,this.pos.y-this.size/2,this.size),M.pop()}update(){return this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.lifeSpan--,this.lifeSpan===0&&this.hit(this.lifeSpan),this.lifeSpan<=0||this.pierce<=0}}const ts=(N,y,C,e=1)=>{const x=C*2/9;M.push(),M.translate(N.x,N.y),M.rotate(y.heading()),M.triangle(2*x,-x,2*x,x,3*x,0),M.fill(Pr),M.circle(0,0,C),M.pop(),M.push(),M.noStroke(),M.circle(N.x,N.y,C*e),M.pop()};class dr{constructor(y,C,e,x={}){var v,f,o,h,l,d,u,n,t;this.pos=M.createVector(y,C),this.hexPos=M.createVector(0,0),this.prevPos=M.createVector(y,C),this.vel=M.createVector(0,0),this.acc=M.createVector(0,0),this.accumulatedFrictionMag=0,this.futurePos=M.createVector(0,0),this.desiredSpeed=(v=x.desiredSpeed)!=null?v:2,this.maxForce=(f=x.maxForce)!=null?f:.1,this.size=e,this.radius=e/2,this.mass=(o=x.mass)!=null?o:1,this.maxHp=(h=x.hp)!=null?h:50,this.hp=this.maxHp,this.damage=(l=x.damage)!=null?l:10,this.goldValue=(d=x.goldValue)!=null?d:50,this.dead=!1,this.color=(u=x.color)!=null?u:M.color($s),this.pathGoal=void 0,this.id=(n=x.id)!=null?n:M.random(),this.statuses=[],this.level=(t=x.level)!=null?t:1}show(){M.strokeWeight(2),M.stroke(0),M.fill(this.color),ts(this.pos,this.vel,this.size,M.max(this.hp/this.maxHp,0)),this.showStatusEffects()}showDot(){M.strokeWeight(5),M.point(this.pos.x,this.pos.y)}showDebug(){M.push(),M.strokeWeight(5),M.stroke(0,255,0),M.fill(this.color),ts(this.pos,this.vel,this.size,M.max(this.hp/this.maxHp,0)),M.pop()}update(){this.hexPos=Ve.getHexVectorFromXY(this.pos.x,this.pos.y),this.followPathField(Ve.grid[this.hexPos.x][this.hexPos.y],"floodNext"),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.applyStatusEffects(),this.pos.add(this.vel),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.pos),this.acc.mult(0),this.accumulatedFrictionMag=0,this.detectCollisions(),this.hp<=0&&this.die()}applyStatusEffects(){for(let y=this.statuses.length-1;y>=0;y--)this.statuses[y].effectUnit(this)&&this.statuses.splice(y,1)}showStatusEffects(){const y=this.size/3,C=this.pos.x+(this.statuses.length/2+.5)*-y,e=M.createVector(C,this.pos.y-this.size);for(let x=this.statuses.length-1;x>=0;x--)e.x+=y,this.statuses[x].show(this,e)}applyStatus(y){for(let C=this.statuses.length-1;C>=0;C--)if(this.statuses[C].name===y.name)return!1;return this.statuses.push(y.copy()),!0}edges(y=0){this.pos.x>M.width-y&&(this.pos.x-=M.width-2*y),this.pos.x<y&&(this.pos.x+=M.width-2*y),this.pos.y>M.height-y&&(this.pos.y-=M.height-2*y),this.pos.y<y&&(this.pos.y+=M.height-2*y)}bouncyEdges(y=0){this.pos.x>M.width-y&&this.vel.x>0&&(this.pos.x=M.width-y,this.vel.mult([-1,1])),this.pos.x<y&&this.vel.x<0&&(this.pos.x=y,this.vel.mult([-1,1])),this.pos.y>M.height-y&&this.vel.y>0&&(this.pos.y=M.height-y,this.vel.mult([1,-1])),this.pos.y<y&&this.vel.y<0&&(this.pos.y=y,this.vel.mult([1,-1]))}findPositionThroughEdges(y,C=0){const e=xt.Vector.sub(y,this.pos);return e.x>M.width/2-C&&(e.x-=M.width-2*C),e.x<-M.width/2+C&&(e.x+=M.width-2*C),e.y>M.height/2-C&&(e.y-=M.height-2*C),e.y<-M.height/2+C&&(e.y+=M.height-2*C),e.add(this.pos)}applyForce(y){const C=y.copy().div(this.mass);this.acc.add(C)}friction(y=.1){let C=M.min(y,1);C*=this.vel.mag()-this.accumulatedFrictionMag,this.accumulatedFrictionMag+=C}applyAccumulatedFriction(){const y=this.vel.copy();y.normalize(),y.mult(-1),y.setMag(this.accumulatedFrictionMag*this.mass),this.applyForce(y)}drag(y=1){const C=this.vel.copy();C.normalize(),C.mult(-1);const e=this.vel.mag(),x=.1;C.setMag(y*x*e*e),this.applyForce(C)}getDesire(y){const C=xt.Vector.sub(y,this.pos);return C.setMag(this.desiredSpeed),C}seek(y){const C=this.getDesire(y);return C.sub(this.vel),C.limit(this.maxForce),C}arrive(y){const C=this.getDesire(y),e=M.dist(this.pos.x,this.pos.y,y.x,y.y);return e<200&&C.setMag(M.map(e,0,200,0,this.desiredSpeed)),C.sub(this.vel),C.limit(this.maxForce),C}flee(y){const C=this.getDesire(y).mult(-1);return C.sub(this.vel),C.limit(this.maxForce),C}pursue(y){return Gt(this.pos,y.pos)>y.futurePos.mag()**2?this.seek(this.findPositionThroughEdges(y.futurePos,100)):this.seek(this.findPositionThroughEdges(y.pos,100))}evade(y){return Gt(this.pos,y.pos)>y.futurePos.mag()**2?this.flee(this.findPositionThroughEdges(y.futurePos,100)):this.flee(this.findPositionThroughEdges(y.pos,100))}catch(y){this.size/2+y.size/2>M.dist(y.pos.x,y.pos.y,this.pos.x,this.pos.y)&&(this.hp=M.min(this.maxHp,this.hp+80),y.hp-=80,y.pos.x=M.random(M.width),y.pos.y=M.random(M.height),y.die())}takeDamage(y){this.hp-=y,this.hp<=0&&this.die()}getHeal(y){this.hp=M.min(this.maxHp,this.hp+y)}die(){this.dead=!0}reachedMaou(){}getCurrentTile(){const y=Ve.getHexVectorFromXY(this.pos.x,this.pos.y);return Ve.grid[y.x][y.y]}detectCollisions(){const y=this.getCurrentTile();if(y===void 0)return;const C=Ve.getNeighbors(y.r,y.q);y.isSpawn;for(const e of[...C,y])if((e.wall||e.isSpawn)&&Gt(this.pos,e.pos)<(this.radius+e.collisionRadius)**2){const x=xt.Vector.sub(this.pos,e.pos),v=x.angleBetween(this.vel),f=xt.Vector.fromAngle(x.heading()+(M.PI-v));f.setMag(this.vel.mag()*1),this.vel.set(f),x.setMag(this.radius+e.collisionRadius),x.add(e.pos),this.pos.set(x)}}readPathField(y,C="floodNext"){return y.data[C]?(Gt(this.pos,y.pos)<(y.collisionRadius-this.radius)**2&&(this.pathGoal=y.data[C]),this.pathGoal||(this.pathGoal=y.data[C]),this.pathGoal.pos):y.pos}followPathField(y,C="floodNext"){const e=this.readPathField(y,C),x=this.seek(e);this.applyForce(x)}}class _a extends pn{constructor(y,C,e,x={}){var v,f,o,h,l;super(y,C,(v=x.gridR)!=null?v:0,(f=x.gridQ)!=null?f:0,e,{color:M.color(kr),...x}),this.flat=(o=x.flat)!=null?o:!1,this.exitDir=((h=x.exitDir)!=null?h:this.flat)?-M.PI/6:0,this.unitSize=(l=x.unitSize)!=null?l:20}spawnUnit(y={}){var e;const C=new dr(this.pos.x,this.pos.y,this.unitSize,{color:(e=y.color)!=null?e:Wr(y.color),...y});return C.vel=xt.Vector.fromAngle(this.exitDir,0),C}spawnUnitViaWaveReader(y){return y.vel=xt.Vector.fromAngle(this.exitDir,0),y}show(){M.stroke(0),M.strokeWeight(2),M.fill(this.color),Ht(this.pos.x,this.pos.y,this.size,this.flat),M.ellipse(this.pos.x,this.pos.y,this.size*1.6)}update(){return!0}}const ur={name:"Berserker",discription:"The Berserker gets stronger and faster the more damage she has sustained.",hp:500,hpScaling:50,damage:40,speed:Vt*1.5,force:Vt*.12,mass:1,gold:100,baseLevel:13,rgb:li};class Sa extends dr{constructor(y,C,e,x={}){super(y,C,e,x)}update(){const y=M.min(this.maxHp/M.max(this.hp,1),8);this.desiredSpeed=ur.speed*y,this.maxForce=ur.force*(y*2),super.update()}}const ja=(N,y)=>new Sa(N.x,N.y,cr,{desiredSpeed:ur.speed,maxForce:ur.force,hp:ur.hp+(y-ur.baseLevel)*ur.hpScaling,damage:ur.damage,goldValue:ur.gold,color:M.color(ur.rgb)}),gr={name:"Bomber",discription:"Bombers run quickly, and deal high damage, but are a danger to their friends on death.",hp:50,hpScaling:5,damage:75,speed:Vt*2,force:Vt*.2,mass:1,gold:25,baseLevel:8,rgb:fi,explosionRadius:rt};class Ea extends dr{constructor(y,C,e,x={}){super(y,C,e,x),this.explosionRadius=gr.explosionRadius}die(){if(this.dead)return;this.dead=!0;const y=Wt.inRangeCircle(this.pos,this.explosionRadius);for(const C of y){const e=this.maxHp/2;C.takeDamage(e)}ft.addVisual(Ss(this.pos,this.explosionRadius*2,4))}}const Ma=(N,y)=>new Ea(N.x,N.y,cr,{desiredSpeed:gr.speed,maxForce:gr.force,hp:gr.hp+(y-gr.baseLevel)*gr.hpScaling,damage:gr.damage,goldValue:gr.gold,color:M.color(gr.rgb)}),jr={name:"Farmer",discription:"A simple farmer, recruited to get rid of a low level threat.",hp:40,hpScaling:10,damage:10,speed:Vt*1,force:Vt*.1,mass:1,gold:50,baseLevel:1,rgb:pi};class Ta extends dr{constructor(y,C,e,x={}){super(y,C,e,x)}}const rs=(N,y)=>new Ta(N.x,N.y,cr,{desiredSpeed:jr.speed,maxForce:jr.force,hp:jr.hp+(y-jr.baseLevel)*jr.hpScaling,damage:jr.damage,goldValue:jr.gold,color:M.color(jr.rgb)}),Er={name:"Swordsman",discription:"A simple swordsman, slightly trained, unlike the farmers.",hp:100,hpScaling:25,damage:20,speed:Vt*1.5,force:Vt*.12,mass:1,gold:80,baseLevel:3,rgb:ei};class Ca extends dr{constructor(y,C,e,x={}){super(y,C,e,x)}}const Ra=(N,y)=>new Ca(N.x,N.y,cr,{desiredSpeed:Er.speed,maxForce:Er.force,hp:Er.hp+(y-Er.baseLevel)*Er.hpScaling,damage:Er.damage,goldValue:Er.gold,color:M.color(Er.rgb)}),mr={name:"Heavy Weight",discription:"A heavy unit, moves slowly, but with great bulk comes great health.",hp:600,hpScaling:100,damage:25,speed:Vt*.8,force:Vt*.05,mass:2,gold:150,baseLevel:6,rgb:ii};class Aa extends dr{constructor(y,C,e,x={}){super(y,C,e,x)}}const ka=(N,y)=>new Aa(N.x,N.y,cr,{desiredSpeed:mr.speed,maxForce:mr.force,hp:mr.hp+(y-mr.baseLevel)*mr.hpScaling,damage:mr.damage,mass:mr.mass,goldValue:mr.gold,color:M.color(mr.rgb)}),Zt={name:"Paladin",discription:"A heavyly armored holy warrior, heals himself by the blessing of the divine.",hp:2500,hpScaling:200,damage:250,speed:Vt*.6,force:Vt*.25,mass:2.5,gold:1e3,baseLevel:10,healBy:10,healCooldown:10,rgb:ai};class Pa extends dr{constructor(y,C,e,x={}){super(y,C,e,x),this.currentHealCooldown=Zt.healCooldown,this.healCooldown=Zt.healCooldown,this.healBy=Zt.healBy}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.healSelf())}healSelf(){this.getHeal(this.healBy)}}const Oa=(N,y)=>new Pa(N.x,N.y,cr,{desiredSpeed:Zt.speed,maxForce:Zt.force,hp:Zt.hp+(y-Zt.baseLevel)*Zt.hpScaling,damage:Zt.damage,mass:Zt.mass,goldValue:Zt.gold,color:M.color(Zt.rgb)}),yr={name:"Rusher",discription:"Rushers sprint right through your defenses.",hp:750,hpScaling:50,damage:30,speed:Vt*3.2,force:Vt*.4,mass:.75,gold:50,baseLevel:16,rgb:us};class La extends dr{constructor(y,C,e,x={}){super(y,C,e,x)}}const js=(N,y,C=!1)=>new La(N.x,N.y,cr,{desiredSpeed:yr.speed,maxForce:yr.force,hp:yr.hp+(y-yr.baseLevel)*yr.hpScaling,damage:yr.damage,mass:yr.mass,goldValue:C?0:yr.gold,color:M.color(yr.rgb)}),qt={name:"Healer",discription:"The Healer heals everyone in around them.",hp:500,hpScaling:30,damage:10,speed:Vt*1.3,force:Vt*.1,mass:1,gold:100,baseLevel:17,healAmount:50,healScaling:10,healCooldown:100,healRange:rt*4,rgb:si};class Da extends dr{constructor(y,C,e,x={}){super(y,C,e,x),this.currentHealCooldown=qt.healCooldown,this.healCooldown=qt.healCooldown,this.healAmount=x.healAmount,this.healRange=qt.healRange}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.heal())}heal(){const y=Wt.inRangeCircle(this.pos,this.healRange);for(const C of y)C.getHeal(this.healAmount)}}const Ia=(N,y)=>new Da(N.x,N.y,cr,{desiredSpeed:qt.speed,maxForce:qt.force,hp:qt.hp+(y-qt.baseLevel)*qt.hpScaling,damage:qt.damage,goldValue:qt.gold,color:M.color(qt.rgb),healAmount:qt.healAmount+(y-qt.baseLevel)*qt.healScaling}),tr={name:"Summoner",discription:"Slow moving unit that summons rushers as long as she lives.",hp:6e3,hpScaling:100,damage:100,speed:Vt*.5,force:Vt*.3,mass:2,gold:1e3,baseLevel:20,summonCooldown:100,rgb:mi};class Ua extends dr{constructor(y,C,e,x={}){super(y,C,e,x),this.currentSummonCooldown=tr.summonCooldown,this.summonCooldown=tr.summonCooldown}update(){super.update(),this.currentSummonCooldown--,this.currentSummonCooldown<=0&&(this.currentSummonCooldown=this.summonCooldown,this.summonRusher())}summonRusher(){Nt.units.push(js(this.pos.copy(),this.level,!0))}}const Fa=(N,y)=>new Ua(N.x,N.y,cr,{desiredSpeed:tr.speed,maxForce:tr.force,hp:tr.hp+(y-tr.baseLevel)*tr.hpScaling,damage:tr.damage,mass:tr.mass,goldValue:tr.gold,color:M.color(tr.rgb),level:y});var Ee=(N=>(N[N.FARMER=0]="FARMER",N[N.SWORDSMAN=1]="SWORDSMAN",N[N.HEAVYWEIGHT=2]="HEAVYWEIGHT",N[N.BOMBER=3]="BOMBER",N[N.PALADIN=4]="PALADIN",N[N.BERSERKER=5]="BERSERKER",N[N.RUSHER=6]="RUSHER",N[N.HEALER=7]="HEALER",N[N.SUMMONER=8]="SUMMONER",N))(Ee||{});class Na{constructor(){}static getUnit(y,C,e){switch(y){case Ee.FARMER:return rs(C,e);case Ee.SWORDSMAN:return Ra(C,e);case Ee.HEAVYWEIGHT:return ka(C,e);case Ee.BOMBER:return Ma(C,e);case Ee.PALADIN:return Oa(C,e);case Ee.BERSERKER:return ja(C,e);case Ee.RUSHER:return js(C,e);case Ee.HEALER:return Ia(C,e);case Ee.SUMMONER:return Fa(C,e);default:console.log("Wrong input");break}return rs(C,e)}}const Ba=[{unit:Ee.FARMER,cooldown:100},{unit:Ee.FARMER,cooldown:100},{unit:Ee.FARMER,cooldown:100},{unit:Ee.FARMER,cooldown:100},{unit:Ee.FARMER,cooldown:100},{unit:Ee.FARMER,cooldown:100},{unit:Ee.FARMER,cooldown:100},{unit:Ee.FARMER,cooldown:100},{unit:Ee.FARMER,cooldown:100},{unit:Ee.FARMER,cooldown:100}],Ga=[{unit:Ee.FARMER,cooldown:50},{unit:Ee.FARMER,cooldown:50},{unit:Ee.FARMER,cooldown:50},{unit:Ee.FARMER,cooldown:50},{unit:Ee.FARMER,cooldown:50},{unit:Ee.FARMER,cooldown:50},{unit:Ee.FARMER,cooldown:50},{unit:Ee.FARMER,cooldown:50},{unit:Ee.FARMER,cooldown:50},{unit:Ee.FARMER,cooldown:50},{unit:Ee.FARMER,cooldown:50},{unit:Ee.FARMER,cooldown:50}],Va=[{unit:Ee.SWORDSMAN,cooldown:90},{unit:Ee.SWORDSMAN,cooldown:90},{unit:Ee.SWORDSMAN,cooldown:90},{unit:Ee.SWORDSMAN,cooldown:90},{unit:Ee.SWORDSMAN,cooldown:90},{unit:Ee.SWORDSMAN,cooldown:90},{unit:Ee.SWORDSMAN,cooldown:90},{unit:Ee.SWORDSMAN,cooldown:90},{unit:Ee.SWORDSMAN,cooldown:90},{unit:Ee.SWORDSMAN,cooldown:90}],Wa=[{unit:Ee.FARMER,cooldown:20},{unit:Ee.FARMER,cooldown:20},{unit:Ee.SWORDSMAN,cooldown:100},{unit:Ee.FARMER,cooldown:20},{unit:Ee.FARMER,cooldown:20},{unit:Ee.SWORDSMAN,cooldown:100},{unit:Ee.FARMER,cooldown:20},{unit:Ee.FARMER,cooldown:20},{unit:Ee.SWORDSMAN,cooldown:100},{unit:Ee.FARMER,cooldown:20},{unit:Ee.FARMER,cooldown:20},{unit:Ee.SWORDSMAN,cooldown:100},{unit:Ee.FARMER,cooldown:20},{unit:Ee.FARMER,cooldown:20},{unit:Ee.SWORDSMAN,cooldown:100},{unit:Ee.FARMER,cooldown:20},{unit:Ee.FARMER,cooldown:20},{unit:Ee.SWORDSMAN,cooldown:100}],za=[{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:120},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:120},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:120},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:120},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:120},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:5},{unit:Ee.FARMER,cooldown:120}],Ha=[{unit:Ee.HEAVYWEIGHT,cooldown:100},{unit:Ee.HEAVYWEIGHT,cooldown:120},{unit:Ee.SWORDSMAN,cooldown:10},{unit:Ee.SWORDSMAN,cooldown:10},{unit:Ee.SWORDSMAN,cooldown:100},{unit:Ee.HEAVYWEIGHT,cooldown:100},{unit:Ee.HEAVYWEIGHT,cooldown:120},{unit:Ee.SWORDSMAN,cooldown:10},{unit:Ee.SWORDSMAN,cooldown:10},{unit:Ee.SWORDSMAN,cooldown:100},{unit:Ee.HEAVYWEIGHT,cooldown:100},{unit:Ee.HEAVYWEIGHT,cooldown:100}],Es=[];for(let N=0;N<30;N++)Es.push({unit:Ee.SWORDSMAN,cooldown:20});const jn=[];for(let N=0;N<25;N++)jn.push({unit:Ee.FARMER,cooldown:6}),jn.push({unit:Ee.BOMBER,cooldown:12}),jn.push({unit:Ee.BOMBER,cooldown:6});const Yt=[];for(let N=0;N<10;N++)Yt.push({unit:Ee.HEAVYWEIGHT,cooldown:3}),Yt.push({unit:Ee.FARMER,cooldown:6}),Yt.push({unit:Ee.FARMER,cooldown:6}),Yt.push({unit:Ee.FARMER,cooldown:6}),Yt.push({unit:Ee.FARMER,cooldown:6}),Yt.push({unit:Ee.FARMER,cooldown:6}),Yt.push({unit:Ee.FARMER,cooldown:6}),Yt.push({unit:Ee.FARMER,cooldown:6}),Yt.push({unit:Ee.FARMER,cooldown:6}),Yt.push({unit:Ee.FARMER,cooldown:6}),Yt.push({unit:Ee.FARMER,cooldown:3});const qa=[{unit:Ee.PALADIN,cooldown:10}],Ms=[];for(let N=0;N<100;N++)Ms.push({unit:Ee.SWORDSMAN,cooldown:5});const En=[];for(let N=0;N<5;N++){for(let y=0;y<5;y++)En.push({unit:Ee.HEAVYWEIGHT,cooldown:4});En.push({unit:Ee.HEAVYWEIGHT,cooldown:140});for(let y=0;y<10;y++)En.push({unit:Ee.BOMBER,cooldown:20})}const no=[];for(let N=0;N<20;N++)no.push({unit:Ee.BERSERKER,cooldown:10}),no.push({unit:Ee.BERSERKER,cooldown:60});const oo=[];for(let N=0;N<35;N++)oo.push({unit:Ee.BERSERKER,cooldown:10}),oo.push({unit:Ee.HEAVYWEIGHT,cooldown:10});const so=[];for(let N=0;N<3;N++){so.push({unit:Ee.PALADIN,cooldown:150});for(let y=0;y<10;y++)so.push({unit:Ee.HEAVYWEIGHT,cooldown:150})}const Ts=[];for(let N=0;N<30;N++)Ts.push({unit:Ee.RUSHER,cooldown:50});const Mn=[];for(let N=0;N<4;N++){Mn.push({unit:Ee.HEALER,cooldown:25});for(let y=0;y<9;y++)Mn.push({unit:Ee.SWORDSMAN,cooldown:15});Mn.push({unit:Ee.SWORDSMAN,cooldown:120})}const Tn=[];for(let N=0;N<8;N++)Tn.push({unit:Ee.HEALER,cooldown:10}),Tn.push({unit:Ee.HEAVYWEIGHT,cooldown:10}),Tn.push({unit:Ee.HEALER,cooldown:80});const hn=[];for(let N=0;N<7;N++)hn.push({unit:Ee.BERSERKER,cooldown:15}),hn.push({unit:Ee.RUSHER,cooldown:30}),hn.push({unit:Ee.RUSHER,cooldown:30}),hn.push({unit:Ee.RUSHER,cooldown:15});const Xa=[{unit:Ee.SUMMONER,cooldown:10}],ns={1:Ba,2:Ga,3:Va,4:Wa,5:za,6:Ha,7:Es,8:jn,9:Yt,10:qa,11:Ms,12:En,13:no,14:oo,15:so,16:Ts,17:Mn,18:Tn,19:hn,20:Xa},Ya=N=>N in ns?ns[N]:-1,Cs="waveDone",Rs="waveUpdated";class Za{constructor(){this.currentCooldown=10,this.spawns=[],this.currentSpawn=0,this.currentWaveNumber=0,this.nextWaveSpawnIndex=0,this.baseWaveReward=250,this.currentWave=[]}update(){const y=this.currentWave[this.nextWaveSpawnIndex];if(y===void 0)return Cs;if(this.currentCooldown--,this.currentCooldown>0)return Rs;const C=Na.getUnit(y.unit,this.spawns[this.currentSpawn].pos,this.currentWaveNumber);return this.nextWaveSpawnIndex++,this.currentCooldown=y.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,C}setActiveSpawners(y){this.spawns=y,this.currentSpawn=0}startNextWave(){this.currentWaveNumber++;const y=Ya(this.currentWaveNumber);y===-1?this.currentWave=this.generateRandomWave():this.currentWave=y}generateRandomWave(){const y=Object.keys(Ee).length,C=120,e=[];let x=this.currentWaveNumber**2*100;for(;x>0;){const v={unit:Math.floor(Math.random()*y),cooldown:M.max(Math.ceil(Math.random()*C-e.length),2)},f=v.unit**2*10+(C-v.cooldown);e.push(v),x-=f}return e}endWave(){return this.nextWaveSpawnIndex=0,this.currentCooldown=10,this.currentWaveNumber*this.baseWaveReward}}class Qa{constructor(y={}){var C,e,x,v;this.units=[],this.spawners=[],this.spawnSize=(C=y.spawnSize)!=null?C:32,this.spawnFlat=(e=y.spawnFlat)!=null?e:!1,this.unitSize=(x=y.unitSize)!=null?x:20,this.color=(v=y.color)!=null?v:M.color(Pn),this.nextId=0,this.waveReader=new Za}addSpawn(y,C,e=this.spawnSize,x={}){this.spawners.push(new _a(y,C,e,{unitSize:this.unitSize,flat:this.spawnFlat,color:this.color,...x}))}addUnit(y={}){var e;const C=(e=y.fromSpawn)!=null?e:M.floor(M.random(this.spawners.length));this.spawners[C]!==void 0&&(this.units.push(this.spawners[C].spawnUnit({color:y.color,id:this.nextId,...y})),this.nextId++)}addUnitViaWaveReader(y,C={}){var x;const e=(x=C.fromSpawn)!=null?x:M.floor(M.random(this.spawners.length));this.spawners[e]!==void 0&&(this.units.push(this.spawners[e].spawnUnitViaWaveReader(y)),this.nextId++)}update(){this.updateWaveReader(),this.updateSpawns(),this.updateUnits()}updateSpawns(){for(let y=this.spawners.length-1;y>=0;y--)this.spawners[y].update()}updateUnits(){for(let y=this.units.length-1;y>=0;y--)this.units[y].update()}show(){this.showSpawns(),this.showUnits()}showSpawns(){for(let y=this.spawners.length-1;y>=0;y--)this.spawners[y].show()}showUnits(){for(let y=this.units.length-1;y>=0;y--)this.units[y].show()}updateAndShow(){this.updateWaveReader(),this.updateAndShowSpawns(),this.updateAndShowUnits()}updateAndShowSpawns(){for(let y=this.spawners.length-1;y>=0;y--)this.spawners[y].update(),this.spawners[y].show()}updateAndShowUnits(){for(let y=this.units.length-1;y>=0;y--)this.units[y].update(),this.units[y].show()}updateWaveReader(){const y=this.waveReader.update();if(y===Cs){if(this.units.length===0){const C=this.waveReader.endWave();this.waveReader.startNextWave(),ft.gold+=C}}else y!==Rs&&this.addUnitViaWaveReader(y)}}const Nt=new Qa({color:M.color(kr),spawnSize:rt,unitSize:cr});class Ka extends rn{constructor(y,C,e,x,v,f={}){var o;super(y,C,e,x,v,f),this.width=(o=f.width)!=null?o:3,this.corners=[],this.setCorners()}setCorners(){const y=this.vel.heading(),C=this.vel.copy();C.setMag(-this.size/2);const e=xt.Vector.fromAngle(y+M.PI/2);e.setMag(this.width*this.size/2),this.corners.push(xt.Vector.add(e,C)),e.mult(-1),this.corners.push(xt.Vector.add(e,C)),C.mult(-1),this.corners.push(xt.Vector.add(e,C)),e.mult(-1),this.corners.push(xt.Vector.add(e,C))}show(){const y=this.vel.heading(),C=xt.Vector.fromAngle(y+M.PI/2),e=y-M.PI/2;M.push(),M.strokeWeight(1),M.fill(this.color);for(let x=this.width-1;x>=0;x--)for(let v=0;v<2;v++){C.setMag(this.size/2*-x);const f=this.pos.x+C.x+M.random(-this.size/16,this.size/16),o=this.pos.y+C.y+M.random(-this.size/16,this.size/16);In(f,o,this.size,e)}M.line(this.pos.x+this.corners[0].x,this.pos.y+this.corners[0].y,this.pos.x+this.corners[1].x,this.pos.y+this.corners[1].y),M.line(this.pos.x+this.corners[1].x,this.pos.y+this.corners[1].y,this.pos.x+this.corners[2].x,this.pos.y+this.corners[2].y),M.line(this.pos.x+this.corners[2].x,this.pos.y+this.corners[2].y,this.pos.x+this.corners[3].x,this.pos.y+this.corners[3].y),M.line(this.pos.x+this.corners[3].x,this.pos.y+this.corners[3].y,this.pos.x+this.corners[0].x,this.pos.y+this.corners[0].y),M.pop()}update(){this.prevPos=this.pos.copy(),this.pos.add(this.vel);const y=Wt.inRangeCircle(this.pos,this.size);for(const C of y)this.hit(C);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}}const It={name:"Pyromaniac",description:"The Pyromaniac lets loose various fire attacks to burn your enemies to a crisp.",hotkey:"f",keycode:70,range:rt*2.5,wallRange:rt*5,cometRange:rt*6,flameThrowerAngle:M.PI/6,cooldown:1,cometCooldown:300,wallCooldown:120,cost:1600,damage:1,wallDamage:50,cometDamage:400,cometExplosionRadius:rt*2,baseWallSize:rt*.6,wallWidthMultiplier:3,wallPierce:10,projectileSpeed:2,rgb:kr,flameRgb:Jn,showSymbol:(N,y,C={angle:0})=>{M.push(),M.fill(Jn),In(N.x,N.y,y),M.pop()}};class $a extends Hr{constructor(y,C,e,x,v,f,o,h,l,d,u,n){super(y,C,e,x,v,f,o,h,l,d,u,n),this.extraDamageCalc=t=>0,this.cometCooldown=It.cometCooldown,this.currentCometCooldown=It.cometCooldown,this.wallCooldown=It.wallCooldown,this.currentWallCooldown=It.wallCooldown,this.flameThrowerAngle=It.flameThrowerAngle,this.fireColor=It.rgb,this.flameColor=It.flameRgb,this.wallRange=It.wallRange,this.cometRange=It.cometRange,this.wallDamage=It.wallDamage,this.cometDamage=It.cometDamage,this.cometExplosionRadius=It.cometExplosionRadius,this.baseWallSize=It.baseWallSize,this.wallWidthMultiplier=It.wallWidthMultiplier,this.wallPierce=It.wallPierce,this.ultInProgress=0}showRange(){M.push();let y=85;y=this.showCometRange(y),y=this.showWallRange(y);const C=Wr(this.color);C.setAlpha(y),M.fill(C),M.circle(this.pos.x,this.pos.y,this.range*2),M.pop()}showWallRange(y){return y}showCometRange(y){return y}update(){this.currentCooldown--,this.currentWallCooldown--,this.currentCometCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.currentWallCooldown<=0&&this.baseWall()&&(this.currentWallCooldown=this.wallCooldown),this.currentCometCooldown<=0&&this.baseComet()&&(this.currentCometCooldown=this.cometCooldown),this.progressUlt(),this.ultCurrentCooldown--}baseShoot(){const y=Wt.inRangeCircle(this.pos,this.range);if(y.length<1)return;let C=0,e=this.range**2;for(let f=0;f<y.length;f++){const o=Gt(y[f].pos,this.pos);o<e&&(e=o,C=f)}const x=y[C],v=(xt.Vector.sub(x.pos,this.pos).heading()+M.TWO_PI)%M.TWO_PI;this.addFlameThrowerParticlesToMaou(v,8);for(let f=0;f<y.length;f++){const o=(xt.Vector.sub(y[f].pos,this.pos).heading()+M.TWO_PI)%M.TWO_PI,h=v-o;h>-this.flameThrowerAngle&&h<this.flameThrowerAngle&&y[f].takeDamage(this.getFlameThrowerDamage())}}shoot(){return this.baseShoot(),!0}baseComet(){return!0}shootComet(){const y=Wt.inRangeCircle(this.pos,this.cometRange);if(y.length<1)return!1;let C=0,e=0;for(let v=0;v<y.length;v++){const f=y[v].hp;e<f&&(e=f,C=v)}const x=y[C];return this.shootCometAtTarget(x),!0}shootCometAtTarget(y){const C=y.pos.copy(),e=30;C.add(xt.Vector.mult(y.vel,e));const x=M.createVector(M.windowHeight/4,-M.windowWidth).add(C),v=xt.Vector.sub(C,x);v.mult(1/e);const f=this.getCometProjectile(v,x,e);ft.addProjectile(f)}progressUlt(){}baseWall(){return!0}shootWall(){const y=Wt.inRangeCircle(this.pos,this.wallRange);if(y.length<1)return!1;let C=0,e=this.range**2;for(let l=0;l<y.length;l++){const d=Gt(y[l].pos,this.pos);d<e&&(e=d,C=l)}const x=y[C],v=this.wallRange*1.5/this.projectileSpeed,f=x.pos.copy();for(let l=1;l<=v&&(f.add(x.vel),!(Gt(f,this.pos)<(this.projectileSpeed*l)**2));l++);const o=xt.Vector.sub(f,this.pos);o.setMag(this.projectileSpeed);const h=this.getWallProjectile(o,this.pos,v);return ft.addProjectile(h),!0}addFlameThrowerParticlesToMaou(y,C){for(let e=0;e<C;e++){const x=xt.Vector.fromAngle(y+M.random(-this.flameThrowerAngle,this.flameThrowerAngle),this.range/M.random(5,15));ft.addVisual(wa(this.pos,x,5,M.random(8,15),bi(this.fireColor,this.flameColor)))}}getCometProjectile(y,C,e){return new xa(C,y,this.projectileSize*2,this.getCometDamage(),e,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,explosionRadius:this.cometExplosionRadius,explosionColor:this.flameColor,explosionVisualDuration:4})}getWallProjectile(y,C,e){return console.log(this.wallWidthMultiplier),new Ka(C,y,this.baseWallSize,this.getWallDamage(),e,{color:this.projectileColor,pierce:this.wallPierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,width:this.wallWidthMultiplier})}getFlameThrowerDamage(){return this.damage}getCometDamage(){return this.cometDamage}getWallDamage(){return this.wallDamage}}const Ja=N=>new $a(N.pos.x,N.pos.y,N.r,N.q,N.size,It.range,It.damage,It.projectileSpeed,It.cooldown,It.cost,It.showSymbol,{color:M.color(It.rgb),projectileColor:It.flameRgb,wall:!0,isTower:!0,type:N.type,data:N.data,upgrades:{A:new Ne("A","Hotter Fire",800,"They die quicker, so it's a mercy really.",y=>{y.damage+=1},!0),B:new Ne("B","Wide Flame",600,"Increase the area of effect radius of the Pyromaniac.",y=>{y.flameThrowerAngle+=M.PI/12},!0),C:new Ne("C","Burning Vision",500,"Slightly increases range. I have a vision, of a world where no hero goes unburned.",y=>{y.range+=rt*.25,y.cometRange+=rt},!0),"A+":new Ne("A+","Blue Flame",3e3,"Blue flames are both hotter and cooler.",y=>{y.damage+=2,y.cometDamage+=400,y.projectileColor=M.color(Zn),y.fireColor=Cn,y.flameColor=Zn,y.showSymbol=(C,e,x={angle:0})=>{M.push(),M.fill(Zn),In(C.x,C.y,e),M.pop()}}),"B+":new Ne("B+","Inferno Grande",2200,"Increases the size of the Pyromaniacs flames even further. There is no escaping the infero!",y=>{y.flameThrowerAngle+=M.PI/12,y.cometExplosionRadius+=rt,y.wallWidthMultiplier+=2}),"C+":new Ne("C+","See The World",1750,"increase Pyromaniac range even more.",y=>{y.range+=rt*.25,y.wallRange+=rt*1.5,y.cometRange+=rt*1.5}),AB:new Ne("AB","Comet",900,"Shoots a mighty comet from the sky, dealing devastating damage in a large area.",y=>{y.baseComet=()=>y.shootComet(),y.showCometRange=C=>{const e=Wr(y.color);return e.setAlpha(C),M.fill(e),M.circle(y.pos.x,y.pos.y,y.cometRange*2),C-40}}),BC:new Ne("BC","Flame Wall",1300,"Shoots out a wall of flames that moves slowly towards its target.",y=>{y.baseWall=()=>y.shootWall(),y.showWallRange=C=>{const e=Wr(y.color);return e.setAlpha(C),M.fill(e),M.circle(y.pos.x,y.pos.y,y.wallRange*2),C-40}}),CA:new Ne("CA","Feel The Burn",2600,"(not working yet) Inflicts every enemy hit with a burning status effect.",y=>{}),"AB+":new Ne("AB+","Inner Fire",1100,"The Pyromaniac builds their inner fire, increasing damage dealt based on attack cooldown.",y=>{y.damage+=y.cooldown,y.wallDamage+=y.wallCooldown,y.cometDamage+=y.cometCooldown}),"BC+":new Ne("BC+","",0,"Nothing atm.",y=>{}),"CA+":new Ne("CA+","",0,"Nothing atm.",y=>{}),"AB++":new Ne("AB++","Apocalypse (Ability)",5e3,"Pyromaniac rains down countless comets, cleansing the world in the fires of apocalypse.",y=>{y.ultCooldown=gs,y.ultCurrentCooldown=y.ultCooldown,y.ultimate=()=>{y.progressUlt=()=>{if(y.ultInProgress<=0&&(y.progressUlt=()=>{}),Nt.units.length<1)return;const C=M.random(Nt.units);y.shootCometAtTarget(C),y.ultInProgress--},y.ultInProgress=50},y.shouldShowUltCooldown=()=>{y.showUltCooldown()}}),"BC++":new Ne("BC++","",0,"Nothing atm.",y=>{}),"CA++":new Ne("CA++","",0,"Nothing atm.",y=>{})}});var Cr=(N=>(N[N.BARRIER=0]="BARRIER",N[N.ARCHER=1]="ARCHER",N[N.ARACHNE=2]="ARACHNE",N[N.PLAGUE=3]="PLAGUE",N[N.GRAVI=4]="GRAVI",N[N.KOBOLD=5]="KOBOLD",N[N.PYRO=6]="PYRO",N))(Cr||{});const tn={[0]:Tr,[1]:Mr,[2]:lr,[3]:er,[4]:Jt,[5]:Qt,[6]:It};class el{constructor(){}static getTower(y,C){switch(typeof y=="string"?parseInt(y):y){case Cr.BARRIER:return $o(C);case Cr.ARCHER:return ea(C);case Cr.ARACHNE:return Qi(C);case Cr.PLAGUE:return pa(C);case Cr.GRAVI:return na(C);case Cr.KOBOLD:return ba(C);case Cr.PYRO:return Ja(C);default:console.log("Wrong input");break}return $o(C)}}class As extends pn{constructor(y,C,e,x,v,f,o={}){super(y,C,e,x,v,{color:M.color(Ln),...o}),this.maxHp=f,this.hp=f}show(){M.push(),M.stroke(10),M.strokeWeight(2),M.fill(this.color),Ht(this.pos.x,this.pos.y,this.size),Ht(this.pos.x,this.pos.y,this.size-5),Ht(this.pos.x,this.pos.y,this.size-10),M.pop()}update(){return!0}}class tl{constructor(y,C={}){var e,x,v;this.maxHp=y,this.hp=y,this.gold=1500,this.color=(e=C.color)!=null?e:M.color(Ln),this.menuColor=(x=C.menuColor)!=null?x:M.color(gi),this.hexSize=(v=C.hexSize)!=null?v:rt,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedUpgrade=null,this.projectiles=[],this.visualEffects=[]}show(){const y=M.width*.75,C=M.width-y,e=C/100,x=M.height/100,v=x*15;if(M.height-v,M.strokeWeight(this.hexSize/12),M.fill(this.menuColor),M.stroke(rr),M.rect(y,0,C,M.height),M.line(y,v,M.width,v),M.textSize(this.hexSize*1.5),M.fill(0),M.text(`${this.gold}`,y+e*10,x*8),M.text(`${this.hp}`,y+e*60,x*8),M.fill(An),ys(y+e*40,x*8-this.hexSize*.5,this.hexSize*.8),Ai(y+e*90,x*8-this.hexSize*.5,this.hexSize*1.4),this.selectedTower)this.showSelectedTower();else{M.textSize(this.hexSize*1.2);for(const f in tn){const o=parseInt(f),h=tn[o],l=M.createVector(y+e*15,v+x*(8+8*o));M.strokeWeight(1),M.fill(h.rgb),Ht(l.x,l.y,this.hexSize*1.2),M.fill(0),M.strokeWeight(0),M.text(`${h.name}: ${h.cost} (${h.hotkey})`,l.x+e*10,l.y+this.hexSize/3),h.showSymbol(M.createVector(l.x,l.y),this.hexSize*1.2,{})}}}showSelectedTower(){if(!this.selectedTower)return;const y=M.width*(3/4),C=M.width-y,e=C/100,x=M.height/100,v=x*15,f=M.height-v;M.push(),this.selectedTower.showRange();const o=M.createVector(M.width-this.hexSize*2,v+this.hexSize*2),h=this.hexSize,l=M.createVector(y+C/2,v+f/4),d=v+f/2;M.fill(kr),Ri(o.x+h/2,o.y-h/2,h,1),this.selectedTower.show(l),M.textSize(this.hexSize*.6),M.textAlign(M.CENTER,M.CENTER),M.strokeWeight(1);let u=0,n=0,t=this.hexSize*2;for(const r in this.selectedTower.upgrades){const s=this.selectedTower.upgrades[r],i=M.createVector(l.x+M.cos(n)*t,l.y+M.sin(n)*t);s.purchased?M.fill(os):s.available?M.fill(ti):M.fill(Js),M.strokeWeight(1),this.selectedUpgrade===s&&M.strokeWeight(3),Ht(i.x,i.y,this.hexSize),M.fill(rr),M.strokeWeight(1),M.text(r,i.x,i.y),n+=M.TWO_PI/3,u++,u%3===0&&(t+=this.hexSize*2,u===6&&(t-=this.hexSize*4,n+=M.PI/3))}if(M.strokeWeight(2),M.line(y,d,M.width,d),this.selectedUpgrade){const r=y+e*50;M.strokeWeight(1),M.textSize(this.hexSize*.8),M.text(`${this.selectedUpgrade.name}`,r,d+x*6),M.text(`Cost: ${this.selectedUpgrade.cost}`,r,d+x*12),M.rectMode(M.CENTER),M.text(`${this.selectedUpgrade.description}`,r,d+x*25,e*80,x*25)}M.pop()}update(){return!0}placeTower(y,C){if(C.isTower||!C.canTower)return!1;const e=el.getTower(y,C);return this.towers.push(e),Ve.addTowerToGrid(e),!0}sellTower(y){if(!y.isTower)return!1;for(let C=this.towers.length-1;C>=0;C--)this.towers[C].r===y.r&&this.towers[C].q===y.q&&(this.gold+=this.towers[C].spendValue*.9,this.towers.splice(C,1));return Ve.removeTowerFromGrid(y),!0}selectTower(y){this.selectedUpgrade=null,this.selectedTower=y}deSelectTower(){this.selectedTower=null,this.selectedUpgrade=null}clickUpgrade(y=!1){if(!this.selectedTower)return;const C=M.width*(3/4),e=M.width-C,v=M.height/100*15,f=M.height-v,o=M.createVector(C+e/2,v+f/4);let h=0,l=0,d=this.hexSize*2;for(const u in this.selectedTower.upgrades){const n=this.selectedTower.upgrades[u],t=M.createVector(o.x+M.cos(l)*d,o.y+M.sin(l)*d);Gt(M.createVector(M.mouseX,M.mouseY),t)<this.hexSize*this.hexSize&&(this.selectedUpgrade=n,y&&this.gold>=n.cost&&!n.purchased&&n.available&&(this.selectedTower.purchaseUpgrade(n),this.gold-=n.cost)),l+=M.TWO_PI/3,h++,h%3===0&&(d+=this.hexSize*2,h===6&&(d-=this.hexSize*4,l+=M.PI/3))}}updateTowers(){for(const y of this.towers)y.update()}addProjectile(y){this.projectiles.push(y)}updateProjectiles(){for(let y=this.projectiles.length-1;y>=0;y--)this.projectiles[y].update()&&this.projectiles.splice(y,1)}showProjectiles(){for(let y=this.projectiles.length-1;y>=0;y--)this.projectiles[y].show()}addVisual(y){this.visualEffects.push(y)}updateAndShowVisuals(){for(let y=this.visualEffects.length-1;y>=0;y--)if(this.visualEffects[y].update()){const e=this.visualEffects[y].onExpire();this.visualEffects.splice(y,1),e&&this.addVisual(e)}}addBaseToMaou(y){this.bases.push(y)}unitReachedBase(y,C){const e=C.getHexVectorFromXY(y.pos.x,y.pos.y);return C.hexInArray(C.grid[e.x][e.y],this.bases)?(this.hp-=y.damage,!0):!1}}const ft=new tl(500);class Rr{constructor(y,C,e,x,v,f=rt,o=M.color(zr),h=M.color(rr),l=M.CENTER){this.pos=y,this.width=C,this.height=e,this.text=x,this.onClick=v,this.textSize=f,this.buttonColor=o,this.textColor=h,this.mode=l}show(y=M){y.push(),y.strokeWeight(1),y.fill(this.buttonColor),y.rectMode(this.mode),y.rect(this.pos.x,this.pos.y,this.width,this.height),y.strokeWeight(0),y.textSize(this.textSize),y.textAlign(M.CENTER,M.CENTER),y.fill(this.textColor),y.text(`${this.text}`,this.pos.x,this.pos.y,this.width,this.height),y.pop()}clicked(){return M.mouseX>this.pos.x-this.width/2&&M.mouseX<this.pos.x+this.width/2&&M.mouseY>this.pos.y-this.height/2&&M.mouseY<this.pos.y+this.height/2}}let lo=[];const rl=()=>{lo.push(new Rr(M.createVector(M.width*(1/11),M.height*(16/17)),M.width*(1/6),M.height*(1/10),"Save map",()=>{const N=ll();if(N!==!0){alert(N);return}const y=prompt("What should this map be called?","Nameless here forever more"),C={name:y,map:Ve.generateJsonableMap()};M.saveJSON(C,`${y}.json`,!0)},rt*2,M.color(Pn))),M.draw=()=>nl(),M.mousePressed=()=>ol(),M.doubleClicked=()=>sl(),M.keyPressed=N=>il()},nl=()=>{M.background(zr),M.strokeWeight(1),Ve.show(),Ve.showDebug(),al();for(const y of lo)y.show();const N=Ve.getHexVectorFromXY(M.mouseX,M.mouseY);for(const y in Ar){const C=Ar[y],e=C.isBase||C.isSpawn?0:1;if(M.keyIsDown(C.keycode)&&Ve.rqVectorIsOnGrid(N,e)){const x=Ve.grid[N.x][N.y];M.push(),M.fill([...C.rgb,100]),M.strokeWeight(2),Ht(x.pos.x,x.pos.y,Ve.hexSize),M.pop()}}},ol=()=>{for(const y of lo)y.clicked()&&y.onClick();const N=Ve.getHexVectorFromXY(M.mouseX,M.mouseY);for(const y in Ar){const C=Ar[y],e=C.buildInOuterRing?0:1;if(M.keyIsDown(C.keycode)&&Ve.rqVectorIsOnGrid(N,e)){const x=Ve.grid[N.x][N.y];Ve.setBuilderTileType(x,parseInt(y));return}}},sl=()=>{},il=N=>{},al=()=>{const N=M.width*.8,y=M.width-N,C=y/100,e=M.height/100,x=e*5;M.strokeWeight(rt/12),M.fill(ds),M.stroke(rr),M.rect(N,0,y,M.height),M.textSize(rt*1.2);for(const v in Ar){const f=parseInt(v),o=Ar[f],h=M.createVector(N+C*25,x+e*(8+10*f));M.strokeWeight(1),M.fill(o.rgb),Ht(h.x,h.y,rt*1.2),M.fill(0),M.strokeWeight(0),M.text(`${o.name}: ${o.hotkey}`,h.x+C*10,h.y+rt/3)}},ll=()=>{const N=[],y=[];for(const e of Ve.grid)for(const x of e)x.type===vr.SPAWN&&y.push(x),x.type===vr.BASE&&N.push(x);return N.length<1||y.length<1?"You need at least one base and one spawn":N.length>6||y.length>6?"Too many bases or spawns":ul(y,N)?!0:"Not all spawns can reach a base"},ul=(N,y)=>{Ve.resetData();for(const C of N){let e=!1,x;const v=[C],f=[];for(;v.length>0;){if(x=v[0],Ve.hexInArray(x,y)||x.data.flooded){e=!0;break}const o=Ve.getNeighbors(x.r,x.q);for(const h of o)Ve.hexInArray(h,[...f,...v])||!h.canUnit||v.push(h);v.splice(0,1),f.push(x),x.data.flooded=!0}if(!e)return!1}return!0},cl={name:"Lake Base",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3],[0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3],[0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3],[6,0,0,0,4,4,4,4,4,4,4,4,4,7,0,0,0,0,0,0,0,1,0,0,0,0,3],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},dl={name:"Lakes Race",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,1,1,1,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3],[0,0,0,0,0,0,0,0,0,3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3],[0,0,0,0,0,0,0,0,3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3],[0,0,0,0,3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3],[0,0,0,3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3,0,0],[3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3,0,0,0],[3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3,0,0,0,0],[3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3,0,0,0,0,0],[3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3,0,0,0,0,0,0,0,0],[3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,1,1,1,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},hl={name:"The Wheel",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3],[0,0,0,0,0,3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3],[0,0,0,0,3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3],[0,0,0,3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3],[0,0,3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[6,0,1,1,1,1,1,1,1,1,1,1,0,7,0,1,1,1,1,1,1,1,1,1,1,0,3],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3,0,0],[3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3,0,0,0],[3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3,0,0,0,0],[3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3,0,0,0,0,0],[3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3,0,0,0,0,0,0,0],[3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3,0,0,0,0,0,0,0,0],[3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},fl={name:"Time Moves Ever Onward",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3],[0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3],[0,0,0,0,0,0,0,0,3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3],[0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3],[0,0,0,0,0,0,3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3],[0,0,0,0,3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3],[0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3],[0,0,3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3],[0,3,4,1,4,4,4,1,4,4,1,4,3,0,0,3,4,1,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,4,1,4,4,4,1,4,3,2,3,4,1,4,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,1,4,4,4,1,4,3,0,0,3,4,1,4,4,4,1,4,4,1,4,3,0],[3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3,0,0],[3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0],[3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0],[3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3,0,0,0,0,0,0],[3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0],[3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3,0,0,0,0,0,0,0,0],[3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0],[3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3,0,0,0,0,0,0,0,0,0,0],[3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,7,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},pl={name:"Hillside Flowers",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,2,0,0,0,0,0,0,0,0,0,0,0,2,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,1,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,1,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,1,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,1,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,1,0,1,0,1,1,1,1,0,0,1,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,5,0,0,0,2,2,0,3],[6,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,7,2,0,0,2,0,2,2,3],[3,0,0,0,0,0,1,0,1,0,1,0,1,0,0,1,0,5,5,2,0,2,0,0,0,3,0],[3,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,0,0,2,2,0,0,0,3,0,0],[3,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,3,0,0,0,0],[3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,2,0,0,0,0,0,0,0,0,0,0,0,2,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},ml=[cl,dl,hl,fl,pl];let $n,kn=0,yl=0,Un=[];const ks=()=>{M.createCanvas(M.windowWidth,M.windowHeight),M.background(zr),Un.push(new Rr(M.createVector(M.width/2,M.height*(2/16)),M.width/2,M.height*(1/10),"What map type would you like to play?",()=>{},rt*2,M.color(Pn)),new Rr(M.createVector(M.width/2,M.height*(5/16)),M.width/2,M.height*(1/10),"Open",()=>{_n(),dn()},rt*2,M.color(io)),new Rr(M.createVector(M.width/2,M.height*(8/16)),M.width/2,M.height*(1/10),"Random maze type 1",()=>{Ve.createMaze(Ve.rings,1,Ve.rings,Ve.rings*2-1,1),_n(),dn()},rt*2,M.color(An)),new Rr(M.createVector(M.width/2,M.height*(11/16)),M.width/2,M.height*(1/10),"Random maze type 2",()=>{Ve.createMazeFromAstar(Ve.rings,1,Ve.rings,Ve.rings*2-1,1),_n(),dn()},rt*2,M.color(ds)),new Rr(M.createVector(M.width/2,M.height*(14/16)),M.width/2,M.height*(1/10),"Random maze type 3 (hard)",()=>{Ve.createMaze(Ve.rings,1,Ve.rings,Ve.rings*2-1,1),Ve.createMazeFromAstar(Ve.rings,1,Ve.rings,Ve.rings*2-1,1),_n(),dn()},rt*2,M.color(fn)),new Rr(M.createVector(M.width*(1/10),M.height*(2/14)),M.width*(2/15),M.height*(1/6),"Map Builder",()=>{rl()},rt*2,M.color(fn)),new Rr(M.createVector(M.width*(9/10),M.height*(2/14)),M.width*(2/15),M.height*(1/6),"Map Loader",()=>{Ve.buildMapFromJson(M.random(ml).map,ft,Nt),dn()},rt*2,M.color(fn)))},_n=()=>{$n=new As(Ve.grid[Ve.midR][Ve.maxQ].pos.x,Ve.grid[Ve.midR][Ve.maxQ].pos.y,Ve.midR,Ve.maxQ,rt,100),Ve.addMaouBaseToGrid($n),ft.addBaseToMaou($n),Nt.addSpawn(Ve.grid[Ve.midR][Ve.minQ].pos.x,Ve.grid[Ve.midR][Ve.minQ].pos.y,rt,{gridR:Ve.midR,gridQ:Ve.minQ}),Nt.waveReader.setActiveSpawners(Nt.spawners),Ve.addSpawnerToGrid(Nt.spawners[Nt.spawners.length-1])},dn=()=>{Un=[],Ve.generateAllPathsThroughFloodFill(Nt.spawners,ft.bases),M.draw=()=>vl()},gl=()=>{for(const N of Un)N.show()},vl=()=>{M.background(zr),M.strokeWeight(1),Ti(10,M.height-50,20),Ve.show(),ft.show();for(let y=0;y<kn;y++){Nt.updateAndShow(),Wt.emptyQuadTree();for(let C=Nt.units.length-1;C>=0;C--){const e=Nt.units[C];ft.unitReachedBase(e,Ve)?Nt.units.splice(C,1):e.dead?(ft.gold+=e.goldValue,Nt.units.splice(C,1)):Wt.insert(new qi(e.pos,e))}ft.updateTowers(),ft.updateProjectiles(),ft.showProjectiles(),ft.updateAndShowVisuals()}kn===0&&(Nt.showUnits(),ft.showProjectiles()),yl+=M.frameRate(),M.fill(0),M.textSize(32),M.strokeWeight(rt/16),M.text(`Wave: ${Nt.waveReader.currentWaveNumber}`,50,50),M.textSize(16),M.strokeWeight(1),M.text("Hold s to sell",M.width*(3/4)-130,20),M.text("Hold u to update",M.width*(3/4)-130,40),ft.hp<=0&&ks();const N=Ve.getHexVectorFromXY(M.mouseX,M.mouseY);for(const y in tn){const C=tn[y];if(M.keyIsDown(C.keycode)&&ft.gold>=C.cost&&Ve.rqVectorIsOnGrid(N,Ve.wallRing)){const e=Ve.grid[N.x][N.y];M.push(),M.fill([...C.rgb,100]),M.strokeWeight(3),Ht(e.pos.x,e.pos.y,Ve.hexSize),C.range>0&&(C.range<10?M.circle(e.pos.x,e.pos.y,C.range*4*rt):M.circle(e.pos.x,e.pos.y,C.range*2)),M.pop()}}if(M.keyIsDown(83)&&Ve.rqVectorIsOnGrid(N,Ve.wallRing)&&Ve.grid[N.x][N.y].isTower){const y=Ve.grid[N.x][N.y];M.push(),M.fill([...An,50]),M.strokeWeight(1),Ht(y.pos.x,y.pos.y,Ve.hexSize),M.fill(An),M.strokeWeight(2),ys(y.pos.x,y.pos.y,Ve.hexSize*.6),M.pop()}},bl=()=>{for(const y of Un)y.clicked()&&y.onClick();const N=Ve.getHexVectorFromXY(M.mouseX,M.mouseY);for(const y in tn){const C=tn[y];if(M.keyIsDown(C.keycode)&&ft.gold>=C.cost&&Ve.rqVectorIsOnGrid(N,Ve.wallRing)){const e=Ve.grid[N.x][N.y],x=e.wall;e.wall=!0,Ve.generateAllPathsThroughFloodFill(Nt.spawners,ft.bases,!0)&&!e.isTower?(Ve.generateAllPathsThroughFloodFill(Nt.spawners,ft.bases),ft.gold-=C.cost,ft.placeTower(parseInt(y),e)):e.wall=x;return}}if(M.keyIsDown(83)&&Ve.rqVectorIsOnGrid(N,1)&&Ve.grid[N.x][N.y].isTower){const y=Ve.grid[N.x][N.y];ft.sellTower(y),Ve.generateAllPathsThroughFloodFill(Nt.spawners,ft.bases);return}if(Ve.rqVectorIsOnGrid(N,Ve.wallRing)&&Ve.grid[N.x][N.y].isTower){ft.selectTower(Ve.grid[N.x][N.y]);return}ft.clickUpgrade(M.keyIsDown(85)),kn=Ci(kn,10,M.height-50,20),M.mouseX<M.width*(3/4)&&ft.deSelectTower()},wl=()=>{const N=Ve.getHexVectorFromXY(M.mouseX,M.mouseY);if(Ve.rqVectorIsOnGrid(N,Ve.wallRing)&&Ve.grid[N.x][N.y].isTower){Ve.grid[N.x][N.y].castUlt();return}},xl=N=>{if(!N.ctrlKey||!M.keyIsDown(67))return;const y=prompt("What cheat would you like to use? (money, lives, wave:<number> aka wave:5)","");if(y==="money"&&(ft.gold+=1e5),y==="lives"&&(ft.hp+=1e5),(y==null?void 0:y.substring(0,4))==="wave"){const C=parseInt(y.substring(5));!Number.isNaN(C)&&C<1e3&&(Nt.waveReader.currentWaveNumber=C)}};M.setup=()=>ks();M.draw=()=>gl();M.mousePressed=()=>bl();M.doubleClicked=()=>wl();M.keyPressed=N=>xl(N);

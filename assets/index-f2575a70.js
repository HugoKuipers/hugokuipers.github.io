var Wc=Object.defineProperty;var zc=(p,l,s)=>l in p?Wc(p,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):p[l]=s;var K=(p,l,s)=>(zc(p,typeof l!="symbol"?l+"":l,s),s);(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))e(v);new MutationObserver(v=>{for(const g of v)if(g.type==="childList")for(const h of g.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&e(h)}).observe(document,{childList:!0,subtree:!0});function s(v){const g={};return v.integrity&&(g.integrity=v.integrity),v.referrerpolicy&&(g.referrerPolicy=v.referrerpolicy),v.crossorigin==="use-credentials"?g.credentials="include":v.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function e(v){if(v.ep)return;v.ep=!0;const g=s(v);fetch(v.href,g)}})();const Er=[255,0,0],Il=[200,0,0],Ai=[247,52,43],qa=[153,117,112],qc=[217,33,33],Ri=[0,255,0],Bl=[200,200,0],Xa=[144,238,144],Xc=[3,192,74],Yc=[74,176,150],$c=[255,145,164],Kc=[41,110,1],Ul=[152,208,35],Zc=[65,245,25],Qc=[70,125,93],Jc=[150,221,126],Nl=[0,0,255],Ya=[50,148,235],ds=[163,214,251],Pi=[14,135,204],Fl=[11,11,69],ed=[0,90,156],td=[192,192,195],bs=[152,118,82],Ro=[64,224,208],Mr=[255,255,255],Ft=[0,0,0],rd=[15],ws=[10],Gl=[20],Vl=[55],nd=[100],Hl=[120],Wl=[90,90,90],od=[255,255,0],sd=[255,191,0],Po=[255,223,0],zl=[255,217,61],si=[255,179,0],lo=[255,150,45],hs=[255,69,0],Oo=[251,139,35],ql=[197,177,160],id=[101,67,33],xs=[200,0,200],ad=[100,0,100],ld=[60,0,60],ud=[177,156,217,155];var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cd(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}function Xo(p){throw new Error('Could not dynamically require "'+p+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ii={},dd={get exports(){return ii},set exports(p){ii=p}};/*! p5.js v1.4.2 July 21, 2022 */(function(p,l){(function(s){p.exports=s()})(function(){var s;return function e(v,g,h){function t(f,d){if(!g[f]){if(!v[f]){var n=typeof Xo=="function"&&Xo;if(!d&&n)return n(f,!0);if(u)return u(f,!0);var r=new Error("Cannot find module '"+f+"'");throw r.code="MODULE_NOT_FOUND",r}var o=g[f]={exports:{}};v[f][0].call(o.exports,function(i){return t(v[f][1][i]||i)},o,o.exports,e,v,g,h)}return g[f].exports}for(var u=typeof Xo=="function"&&Xo,c=0;c<h.length;c++)t(h[c]);return t}({1:[function(e,v,g){g.byteLength=function(o){var i=n(o),a=i[0],y=i[1];return 3*(a+y)/4-y},g.toByteArray=function(o){var i,a,y=n(o),w=y[0],x=y[1],_=new u(function(A,P){return 3*(A+P)/4-P}(w,x)),T=0,E=0<x?w-4:w;for(a=0;a<E;a+=4)i=t[o.charCodeAt(a)]<<18|t[o.charCodeAt(a+1)]<<12|t[o.charCodeAt(a+2)]<<6|t[o.charCodeAt(a+3)],_[T++]=i>>16&255,_[T++]=i>>8&255,_[T++]=255&i;return x===2&&(i=t[o.charCodeAt(a)]<<2|t[o.charCodeAt(a+1)]>>4,_[T++]=255&i),x===1&&(i=t[o.charCodeAt(a)]<<10|t[o.charCodeAt(a+1)]<<4|t[o.charCodeAt(a+2)]>>2,_[T++]=i>>8&255,_[T++]=255&i),_},g.fromByteArray=function(o){for(var i,a=o.length,y=a%3,w=[],x=0,_=a-y;x<_;x+=16383)w.push(r(o,x,_<x+16383?_:x+16383));return y==1?(i=o[a-1],w.push(h[i>>2]+h[i<<4&63]+"==")):y==2&&(i=(o[a-2]<<8)+o[a-1],w.push(h[i>>10]+h[i>>4&63]+h[i<<2&63]+"=")),w.join("")};for(var h=[],t=[],u=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,d=c.length;f<d;++f)h[f]=c[f],t[c.charCodeAt(f)]=f;function n(o){var i=o.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");var a=o.indexOf("=");return a===-1&&(a=i),[a,a===i?0:4-a%4]}function r(o,i,a){for(var y,w,x=[],_=i;_<a;_+=3)y=(o[_]<<16&16711680)+(o[_+1]<<8&65280)+(255&o[_+2]),x.push(h[(w=y)>>18&63]+h[w>>12&63]+h[w>>6&63]+h[63&w]);return x.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63},{}],2:[function(e,v,g){},{}],3:[function(e,v,g){arguments[4][2][0].apply(g,arguments)},{dup:2}],4:[function(e,v,g){(function(n){var t=e("base64-js"),u=e("ieee754"),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;g.Buffer=n,g.SlowBuffer=function(O){return+O!=O&&(O=0),n.alloc(+O)},g.INSPECT_MAX_BYTES=50;var f=2147483647;function d(O){if(f<O)throw new RangeError('The value "'+O+'" is invalid for option "size"');var G=new Uint8Array(O);return Object.setPrototypeOf(G,n.prototype),G}function n(O,G,X){if(typeof O!="number")return r(O,G,X);if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return i(O)}function r(O,G,X){if(typeof O=="string")return function(N,re){if(typeof re=="string"&&re!==""||(re="utf8"),!n.isEncoding(re))throw new TypeError("Unknown encoding: "+re);var Y=0|w(N,re),ne=d(Y),ie=ne.write(N,re);return ie!==Y&&(ne=ne.slice(0,ie)),ne}(O,G);if(ArrayBuffer.isView(O))return a(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(De(O,ArrayBuffer)||O&&De(O.buffer,ArrayBuffer))return function(N,re,Y){if(re<0||N.byteLength<re)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<re+(Y||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=re===void 0&&Y===void 0?new Uint8Array(N):Y===void 0?new Uint8Array(N,re):new Uint8Array(N,re,Y),Object.setPrototypeOf(ne,n.prototype),ne}(O,G,X);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=O.valueOf&&O.valueOf();if(ee!=null&&ee!==O)return n.from(ee,G,X);var B=function(N){if(n.isBuffer(N)){var re=0|y(N.length),Y=d(re);return Y.length===0||N.copy(Y,0,0,re),Y}if(N.length!==void 0)return typeof N.length!="number"||_e(N.length)?d(0):a(N);if(N.type==="Buffer"&&Array.isArray(N.data))return a(N.data)}(O);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return n.from(O[Symbol.toPrimitive]("string"),G,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}function o(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function i(O){return o(O),d(O<0?0:0|y(O))}function a(O){for(var G=O.length<0?0:0|y(O.length),X=d(G),ee=0;ee<G;ee+=1)X[ee]=255&O[ee];return X}function y(O){if(f<=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|O}function w(O,G){if(n.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||De(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var X=O.length,ee=2<arguments.length&&arguments[2]===!0;if(!ee&&X===0)return 0;for(var B=!1;;)switch(G){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return xe(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return Ce(O).length;default:if(B)return ee?-1:xe(O).length;G=(""+G).toLowerCase(),B=!0}}function x(O,G,X){var ee=O[G];O[G]=O[X],O[X]=ee}function _(O,G,X,ee,B){if(O.length===0)return-1;if(typeof X=="string"?(ee=X,X=0):2147483647<X?X=2147483647:X<-2147483648&&(X=-2147483648),_e(X=+X)&&(X=B?0:O.length-1),X<0&&(X=O.length+X),X>=O.length){if(B)return-1;X=O.length-1}else if(X<0){if(!B)return-1;X=0}if(typeof G=="string"&&(G=n.from(G,ee)),n.isBuffer(G))return G.length===0?-1:T(O,G,X,ee,B);if(typeof G=="number")return G&=255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(O,G,X):Uint8Array.prototype.lastIndexOf.call(O,G,X):T(O,[G],X,ee,B);throw new TypeError("val must be string, number or Buffer")}function T(O,G,X,ee,B){var N,re=1,Y=O.length,ne=G.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(O.length<2||G.length<2)return-1;Y/=re=2,ne/=2,X/=2}function ie(he,Pe){return re===1?he[Pe]:he.readUInt16BE(Pe*re)}if(B){var oe=-1;for(N=X;N<Y;N++)if(ie(O,N)===ie(G,oe===-1?0:N-oe)){if(oe===-1&&(oe=N),N-oe+1===ne)return oe*re}else oe!==-1&&(N-=N-oe),oe=-1}else for(Y<X+ne&&(X=Y-ne),N=X;0<=N;N--){for(var pe=!0,ge=0;ge<ne;ge++)if(ie(O,N+ge)!==ie(G,ge)){pe=!1;break}if(pe)return N}return-1}function E(O,G,X,ee){X=Number(X)||0;var B=O.length-X;ee?B<(ee=Number(ee))&&(ee=B):ee=B;var N=G.length;N/2<ee&&(ee=N/2);for(var re=0;re<ee;++re){var Y=parseInt(G.substr(2*re,2),16);if(_e(Y))return re;O[X+re]=Y}return re}function A(O,G,X,ee){return ve(function(B){for(var N=[],re=0;re<B.length;++re)N.push(255&B.charCodeAt(re));return N}(G),O,X,ee)}function P(O,G,X,ee){return ve(function(B,N){for(var re,Y,ne,ie=[],oe=0;oe<B.length&&!((N-=2)<0);++oe)re=B.charCodeAt(oe),Y=re>>8,ne=re%256,ie.push(ne),ie.push(Y);return ie}(G,O.length-X),O,X,ee)}function I(O,G,X){return G===0&&X===O.length?t.fromByteArray(O):t.fromByteArray(O.slice(G,X))}function R(O,G,X){X=Math.min(O.length,X);for(var ee=[],B=G;B<X;){var N,re,Y,ne,ie=O[B],oe=null,pe=239<ie?4:223<ie?3:191<ie?2:1;if(B+pe<=X)switch(pe){case 1:ie<128&&(oe=ie);break;case 2:(192&(N=O[B+1]))==128&&127<(ne=(31&ie)<<6|63&N)&&(oe=ne);break;case 3:N=O[B+1],re=O[B+2],(192&N)==128&&(192&re)==128&&2047<(ne=(15&ie)<<12|(63&N)<<6|63&re)&&(ne<55296||57343<ne)&&(oe=ne);break;case 4:N=O[B+1],re=O[B+2],Y=O[B+3],(192&N)==128&&(192&re)==128&&(192&Y)==128&&65535<(ne=(15&ie)<<18|(63&N)<<12|(63&re)<<6|63&Y)&&ne<1114112&&(oe=ne)}oe===null?(oe=65533,pe=1):65535<oe&&(oe-=65536,ee.push(oe>>>10&1023|55296),oe=56320|1023&oe),ee.push(oe),B+=pe}return function(ge){var he=ge.length;if(he<=L)return String.fromCharCode.apply(String,ge);for(var Pe="",Be=0;Be<he;)Pe+=String.fromCharCode.apply(String,ge.slice(Be,Be+=L));return Pe}(ee)}g.kMaxLength=f,(n.TYPED_ARRAY_SUPPORT=function(){try{var O=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(O,G),O.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=function(O,G,X){return r(O,G,X)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(O,G,X){return B=G,N=X,o(ee=O),ee<=0?d(ee):B!==void 0?typeof N=="string"?d(ee).fill(B,N):d(ee).fill(B):d(ee);var ee,B,N},n.allocUnsafe=function(O){return i(O)},n.allocUnsafeSlow=function(O){return i(O)},n.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==n.prototype},n.compare=function(O,G){if(De(O,Uint8Array)&&(O=n.from(O,O.offset,O.byteLength)),De(G,Uint8Array)&&(G=n.from(G,G.offset,G.byteLength)),!n.isBuffer(O)||!n.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===G)return 0;for(var X=O.length,ee=G.length,B=0,N=Math.min(X,ee);B<N;++B)if(O[B]!==G[B]){X=O[B],ee=G[B];break}return X<ee?-1:ee<X?1:0},n.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(O,G){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return n.alloc(0);var X;if(G===void 0)for(X=G=0;X<O.length;++X)G+=O[X].length;var ee=n.allocUnsafe(G),B=0;for(X=0;X<O.length;++X){var N=O[X];if(De(N,Uint8Array)&&(N=n.from(N)),!n.isBuffer(N))throw new TypeError('"list" argument must be an Array of Buffers');N.copy(ee,B),B+=N.length}return ee},n.byteLength=w,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<O;G+=2)x(this,G,G+1);return this},n.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<O;G+=4)x(this,G,G+3),x(this,G+1,G+2);return this},n.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<O;G+=8)x(this,G,G+7),x(this,G+1,G+6),x(this,G+2,G+5),x(this,G+3,G+4);return this},n.prototype.toLocaleString=n.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?R(this,0,O):function(G,X,ee){var B=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((ee===void 0||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0)<=(X>>>=0))return"";for(G=G||"utf8";;)switch(G){case"hex":return H(this,X,ee);case"utf8":case"utf-8":return R(this,X,ee);case"ascii":return U(this,X,ee);case"latin1":case"binary":return D(this,X,ee);case"base64":return I(this,X,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,X,ee);default:if(B)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),B=!0}}.apply(this,arguments)},n.prototype.equals=function(O){if(!n.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O||n.compare(this,O)===0},n.prototype.inspect=function(){var O="",G=g.INSPECT_MAX_BYTES;return O=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(O+=" ... "),"<Buffer "+O+">"},c&&(n.prototype[c]=n.prototype.inspect),n.prototype.compare=function(O,G,X,ee,B){if(De(O,Uint8Array)&&(O=n.from(O,O.offset,O.byteLength)),!n.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(G===void 0&&(G=0),X===void 0&&(X=O?O.length:0),ee===void 0&&(ee=0),B===void 0&&(B=this.length),G<0||X>O.length||ee<0||B>this.length)throw new RangeError("out of range index");if(B<=ee&&X<=G)return 0;if(B<=ee)return-1;if(X<=G)return 1;if(this===O)return 0;for(var N=(B>>>=0)-(ee>>>=0),re=(X>>>=0)-(G>>>=0),Y=Math.min(N,re),ne=this.slice(ee,B),ie=O.slice(G,X),oe=0;oe<Y;++oe)if(ne[oe]!==ie[oe]){N=ne[oe],re=ie[oe];break}return N<re?-1:re<N?1:0},n.prototype.includes=function(O,G,X){return this.indexOf(O,G,X)!==-1},n.prototype.indexOf=function(O,G,X){return _(this,O,G,X,!0)},n.prototype.lastIndexOf=function(O,G,X){return _(this,O,G,X,!1)},n.prototype.write=function(O,G,X,ee){if(G===void 0)ee="utf8",X=this.length,G=0;else if(X===void 0&&typeof G=="string")ee=G,X=this.length,G=0;else{if(!isFinite(G))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");G>>>=0,isFinite(X)?(X>>>=0,ee===void 0&&(ee="utf8")):(ee=X,X=void 0)}var B=this.length-G;if((X===void 0||B<X)&&(X=B),0<O.length&&(X<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee=ee||"utf8";for(var N,re,Y,ne,ie,oe,pe=!1;;)switch(ee){case"hex":return E(this,O,G,X);case"utf8":case"utf-8":return ie=G,oe=X,ve(xe(O,(ne=this).length-ie),ne,ie,oe);case"ascii":return A(this,O,G,X);case"latin1":case"binary":return A(this,O,G,X);case"base64":return N=this,re=G,Y=X,ve(Ce(O),N,re,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,O,G,X);default:if(pe)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),pe=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function U(O,G,X){var ee="";X=Math.min(O.length,X);for(var B=G;B<X;++B)ee+=String.fromCharCode(127&O[B]);return ee}function D(O,G,X){var ee="";X=Math.min(O.length,X);for(var B=G;B<X;++B)ee+=String.fromCharCode(O[B]);return ee}function H(O,G,X){var ee=O.length;(!G||G<0)&&(G=0),(!X||X<0||ee<X)&&(X=ee);for(var B="",N=G;N<X;++N)B+=Se[O[N]];return B}function W(O,G,X){for(var ee=O.slice(G,X),B="",N=0;N<ee.length;N+=2)B+=String.fromCharCode(ee[N]+256*ee[N+1]);return B}function ae(O,G,X){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(X<O+G)throw new RangeError("Trying to access beyond buffer length")}function le(O,G,X,ee,B,N){if(!n.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(B<G||G<N)throw new RangeError('"value" argument is out of bounds');if(X+ee>O.length)throw new RangeError("Index out of range")}function J(O,G,X,ee){if(X+ee>O.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function ue(O,G,X,ee,B){return G=+G,X>>>=0,B||J(O,0,X,4),u.write(O,G,X,ee,23,4),X+4}function se(O,G,X,ee,B){return G=+G,X>>>=0,B||J(O,0,X,8),u.write(O,G,X,ee,52,8),X+8}n.prototype.slice=function(O,G){var X=this.length;(O=~~O)<0?(O+=X)<0&&(O=0):X<O&&(O=X),(G=G===void 0?X:~~G)<0?(G+=X)<0&&(G=0):X<G&&(G=X),G<O&&(G=O);var ee=this.subarray(O,G);return Object.setPrototypeOf(ee,n.prototype),ee},n.prototype.readUIntLE=function(O,G,X){O>>>=0,G>>>=0,X||ae(O,G,this.length);for(var ee=this[O],B=1,N=0;++N<G&&(B*=256);)ee+=this[O+N]*B;return ee},n.prototype.readUIntBE=function(O,G,X){O>>>=0,G>>>=0,X||ae(O,G,this.length);for(var ee=this[O+--G],B=1;0<G&&(B*=256);)ee+=this[O+--G]*B;return ee},n.prototype.readUInt8=function(O,G){return O>>>=0,G||ae(O,1,this.length),this[O]},n.prototype.readUInt16LE=function(O,G){return O>>>=0,G||ae(O,2,this.length),this[O]|this[O+1]<<8},n.prototype.readUInt16BE=function(O,G){return O>>>=0,G||ae(O,2,this.length),this[O]<<8|this[O+1]},n.prototype.readUInt32LE=function(O,G){return O>>>=0,G||ae(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},n.prototype.readUInt32BE=function(O,G){return O>>>=0,G||ae(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},n.prototype.readIntLE=function(O,G,X){O>>>=0,G>>>=0,X||ae(O,G,this.length);for(var ee=this[O],B=1,N=0;++N<G&&(B*=256);)ee+=this[O+N]*B;return(B*=128)<=ee&&(ee-=Math.pow(2,8*G)),ee},n.prototype.readIntBE=function(O,G,X){O>>>=0,G>>>=0,X||ae(O,G,this.length);for(var ee=G,B=1,N=this[O+--ee];0<ee&&(B*=256);)N+=this[O+--ee]*B;return(B*=128)<=N&&(N-=Math.pow(2,8*G)),N},n.prototype.readInt8=function(O,G){return O>>>=0,G||ae(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},n.prototype.readInt16LE=function(O,G){O>>>=0,G||ae(O,2,this.length);var X=this[O]|this[O+1]<<8;return 32768&X?4294901760|X:X},n.prototype.readInt16BE=function(O,G){O>>>=0,G||ae(O,2,this.length);var X=this[O+1]|this[O]<<8;return 32768&X?4294901760|X:X},n.prototype.readInt32LE=function(O,G){return O>>>=0,G||ae(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},n.prototype.readInt32BE=function(O,G){return O>>>=0,G||ae(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},n.prototype.readFloatLE=function(O,G){return O>>>=0,G||ae(O,4,this.length),u.read(this,O,!0,23,4)},n.prototype.readFloatBE=function(O,G){return O>>>=0,G||ae(O,4,this.length),u.read(this,O,!1,23,4)},n.prototype.readDoubleLE=function(O,G){return O>>>=0,G||ae(O,8,this.length),u.read(this,O,!0,52,8)},n.prototype.readDoubleBE=function(O,G){return O>>>=0,G||ae(O,8,this.length),u.read(this,O,!1,52,8)},n.prototype.writeUIntLE=function(O,G,X,ee){O=+O,G>>>=0,X>>>=0,ee||le(this,O,G,X,Math.pow(2,8*X)-1,0);var B=1,N=0;for(this[G]=255&O;++N<X&&(B*=256);)this[G+N]=O/B&255;return G+X},n.prototype.writeUIntBE=function(O,G,X,ee){O=+O,G>>>=0,X>>>=0,ee||le(this,O,G,X,Math.pow(2,8*X)-1,0);var B=X-1,N=1;for(this[G+B]=255&O;0<=--B&&(N*=256);)this[G+B]=O/N&255;return G+X},n.prototype.writeUInt8=function(O,G,X){return O=+O,G>>>=0,X||le(this,O,G,1,255,0),this[G]=255&O,G+1},n.prototype.writeUInt16LE=function(O,G,X){return O=+O,G>>>=0,X||le(this,O,G,2,65535,0),this[G]=255&O,this[G+1]=O>>>8,G+2},n.prototype.writeUInt16BE=function(O,G,X){return O=+O,G>>>=0,X||le(this,O,G,2,65535,0),this[G]=O>>>8,this[G+1]=255&O,G+2},n.prototype.writeUInt32LE=function(O,G,X){return O=+O,G>>>=0,X||le(this,O,G,4,4294967295,0),this[G+3]=O>>>24,this[G+2]=O>>>16,this[G+1]=O>>>8,this[G]=255&O,G+4},n.prototype.writeUInt32BE=function(O,G,X){return O=+O,G>>>=0,X||le(this,O,G,4,4294967295,0),this[G]=O>>>24,this[G+1]=O>>>16,this[G+2]=O>>>8,this[G+3]=255&O,G+4},n.prototype.writeIntLE=function(O,G,X,ee){if(O=+O,G>>>=0,!ee){var B=Math.pow(2,8*X-1);le(this,O,G,X,B-1,-B)}var N=0,re=1,Y=0;for(this[G]=255&O;++N<X&&(re*=256);)O<0&&Y===0&&this[G+N-1]!==0&&(Y=1),this[G+N]=(O/re>>0)-Y&255;return G+X},n.prototype.writeIntBE=function(O,G,X,ee){if(O=+O,G>>>=0,!ee){var B=Math.pow(2,8*X-1);le(this,O,G,X,B-1,-B)}var N=X-1,re=1,Y=0;for(this[G+N]=255&O;0<=--N&&(re*=256);)O<0&&Y===0&&this[G+N+1]!==0&&(Y=1),this[G+N]=(O/re>>0)-Y&255;return G+X},n.prototype.writeInt8=function(O,G,X){return O=+O,G>>>=0,X||le(this,O,G,1,127,-128),O<0&&(O=255+O+1),this[G]=255&O,G+1},n.prototype.writeInt16LE=function(O,G,X){return O=+O,G>>>=0,X||le(this,O,G,2,32767,-32768),this[G]=255&O,this[G+1]=O>>>8,G+2},n.prototype.writeInt16BE=function(O,G,X){return O=+O,G>>>=0,X||le(this,O,G,2,32767,-32768),this[G]=O>>>8,this[G+1]=255&O,G+2},n.prototype.writeInt32LE=function(O,G,X){return O=+O,G>>>=0,X||le(this,O,G,4,2147483647,-2147483648),this[G]=255&O,this[G+1]=O>>>8,this[G+2]=O>>>16,this[G+3]=O>>>24,G+4},n.prototype.writeInt32BE=function(O,G,X){return O=+O,G>>>=0,X||le(this,O,G,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[G]=O>>>24,this[G+1]=O>>>16,this[G+2]=O>>>8,this[G+3]=255&O,G+4},n.prototype.writeFloatLE=function(O,G,X){return ue(this,O,G,!0,X)},n.prototype.writeFloatBE=function(O,G,X){return ue(this,O,G,!1,X)},n.prototype.writeDoubleLE=function(O,G,X){return se(this,O,G,!0,X)},n.prototype.writeDoubleBE=function(O,G,X){return se(this,O,G,!1,X)},n.prototype.copy=function(O,G,X,ee){if(!n.isBuffer(O))throw new TypeError("argument should be a Buffer");if(X=X||0,ee||ee===0||(ee=this.length),G>=O.length&&(G=O.length),G=G||0,0<ee&&ee<X&&(ee=X),ee===X||O.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),O.length-G<ee-X&&(ee=O.length-G+X);var B=ee-X;if(this===O&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(G,X,ee);else if(this===O&&X<G&&G<ee)for(var N=B-1;0<=N;--N)O[N+G]=this[N+X];else Uint8Array.prototype.set.call(O,this.subarray(X,ee),G);return B},n.prototype.fill=function(O,G,X,ee){if(typeof O=="string"){if(typeof G=="string"?(ee=G,G=0,X=this.length):typeof X=="string"&&(ee=X,X=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!n.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(O.length===1){var B=O.charCodeAt(0);(ee==="utf8"&&B<128||ee==="latin1")&&(O=B)}}else typeof O=="number"?O&=255:typeof O=="boolean"&&(O=Number(O));if(G<0||this.length<G||this.length<X)throw new RangeError("Out of range index");if(X<=G)return this;var N;if(G>>>=0,X=X===void 0?this.length:X>>>0,typeof(O=O||0)=="number")for(N=G;N<X;++N)this[N]=O;else{var re=n.isBuffer(O)?O:n.from(O,ee),Y=re.length;if(Y===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(N=0;N<X-G;++N)this[N+G]=re[N%Y]}return this};var me=/[^+/0-9A-Za-z-_]/g;function xe(O,G){var X;G=G||1/0;for(var ee=O.length,B=null,N=[],re=0;re<ee;++re){if(55295<(X=O.charCodeAt(re))&&X<57344){if(!B){if(56319<X){-1<(G-=3)&&N.push(239,191,189);continue}if(re+1===ee){-1<(G-=3)&&N.push(239,191,189);continue}B=X;continue}if(X<56320){-1<(G-=3)&&N.push(239,191,189),B=X;continue}X=65536+(B-55296<<10|X-56320)}else B&&-1<(G-=3)&&N.push(239,191,189);if(B=null,X<128){if(--G<0)break;N.push(X)}else if(X<2048){if((G-=2)<0)break;N.push(X>>6|192,63&X|128)}else if(X<65536){if((G-=3)<0)break;N.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;N.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return N}function Ce(O){return t.toByteArray(function(G){if((G=(G=G.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;G.length%4!=0;)G+="=";return G}(O))}function ve(O,G,X,ee){for(var B=0;B<ee&&!(B+X>=G.length||B>=O.length);++B)G[B+X]=O[B];return B}function De(O,G){return O instanceof G||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===G.name}function _e(O){return O!=O}var Se=function(){for(var O="0123456789abcdef",G=new Array(256),X=0;X<16;++X)for(var ee=16*X,B=0;B<16;++B)G[ee+B]=O[X]+O[B];return G}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:236}],5:[function(e,v,g){v.exports=function(h){if(typeof h!="function")throw TypeError(String(h)+" is not a function");return h}},{}],6:[function(e,v,g){var h=e("../internals/is-object");v.exports=function(t){if(!h(t)&&t!==null)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},{"../internals/is-object":74}],7:[function(e,v,g){var h=e("../internals/well-known-symbol"),t=e("../internals/object-create"),u=e("../internals/object-define-property"),c=h("unscopables"),f=Array.prototype;f[c]==null&&u.f(f,c,{configurable:!0,value:t(null)}),v.exports=function(d){f[c][d]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(e,v,g){var h=e("../internals/string-multibyte").charAt;v.exports=function(t,u,c){return u+(c?h(t,u).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,v,g){v.exports=function(h,t,u){if(!(h instanceof t))throw TypeError("Incorrect "+(u?u+" ":"")+"invocation");return h}},{}],10:[function(e,v,g){var h=e("../internals/is-object");v.exports=function(t){if(!h(t))throw TypeError(String(t)+" is not an object");return t}},{"../internals/is-object":74}],11:[function(e,v,g){v.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(e,v,g){function h(J){return d(J)&&n(le,r(J))}var t,u=e("../internals/array-buffer-native"),c=e("../internals/descriptors"),f=e("../internals/global"),d=e("../internals/is-object"),n=e("../internals/has"),r=e("../internals/classof"),o=e("../internals/create-non-enumerable-property"),i=e("../internals/redefine"),a=e("../internals/object-define-property").f,y=e("../internals/object-get-prototype-of"),w=e("../internals/object-set-prototype-of"),x=e("../internals/well-known-symbol"),_=e("../internals/uid"),T=f.Int8Array,E=T&&T.prototype,A=f.Uint8ClampedArray,P=A&&A.prototype,I=T&&y(T),R=E&&y(E),L=Object.prototype,U=L.isPrototypeOf,D=x("toStringTag"),H=_("TYPED_ARRAY_TAG"),W=u&&!!w&&r(f.opera)!=="Opera",ae=!1,le={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(t in le)f[t]||(W=!1);if((!W||typeof I!="function"||I===Function.prototype)&&(I=function(){throw TypeError("Incorrect invocation")},W))for(t in le)f[t]&&w(f[t],I);if((!W||!R||R===L)&&(R=I.prototype,W))for(t in le)f[t]&&w(f[t].prototype,R);if(W&&y(P)!==R&&w(P,R),c&&!n(R,D))for(t in ae=!0,a(R,D,{get:function(){return d(this)?this[H]:void 0}}),le)f[t]&&o(f[t],H,t);v.exports={NATIVE_ARRAY_BUFFER_VIEWS:W,TYPED_ARRAY_TAG:ae&&H,aTypedArray:function(J){if(h(J))return J;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(J){if(w){if(U.call(I,J))return J}else for(var ue in le)if(n(le,t)){var se=f[ue];if(se&&(J===se||U.call(se,J)))return J}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(J,ue,se){if(c){if(se)for(var me in le){var xe=f[me];xe&&n(xe.prototype,J)&&delete xe.prototype[J]}R[J]&&!se||i(R,J,se?ue:W&&E[J]||ue)}},exportTypedArrayStaticMethod:function(J,ue,se){var me,xe;if(c){if(w){if(se)for(me in le)(xe=f[me])&&n(xe,J)&&delete xe[J];if(I[J]&&!se)return;try{return i(I,J,se?ue:W&&T[J]||ue)}catch{}}for(me in le)!(xe=f[me])||xe[J]&&!se||i(xe,J,ue)}},isView:function(J){var ue=r(J);return ue==="DataView"||n(le,ue)},isTypedArray:h,TypedArray:I,TypedArrayPrototype:R}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(e,v,g){function h(ie){return[255&ie]}function t(ie){return[255&ie,ie>>8&255]}function u(ie){return[255&ie,ie>>8&255,ie>>16&255,ie>>24&255]}function c(ie){return ie[3]<<24|ie[2]<<16|ie[1]<<8|ie[0]}function f(ie){return G(ie,23,4)}function d(ie){return G(ie,52,8)}function n(ie,oe){D(ie[me],oe,{get:function(){return le(this)[oe]}})}function r(ie,oe,pe,ge){var he=P(pe),Pe=le(ie);if(he+oe>Pe.byteLength)throw O(xe);var Be=le(Pe.buffer).bytes,Ue=he+Pe.byteOffset,Le=Be.slice(Ue,Ue+oe);return ge?Le:Le.reverse()}function o(ie,oe,pe,ge,he,Pe){var Be=P(pe),Ue=le(ie);if(Be+oe>Ue.byteLength)throw O(xe);for(var Le=le(Ue.buffer).bytes,$e=Be+Ue.byteOffset,Ae=ge(+he),Me=0;Me<oe;Me++)Le[$e+Me]=Ae[Pe?Me:oe-Me-1]}var i=e("../internals/global"),a=e("../internals/descriptors"),y=e("../internals/array-buffer-native"),w=e("../internals/create-non-enumerable-property"),x=e("../internals/redefine-all"),_=e("../internals/fails"),T=e("../internals/an-instance"),E=e("../internals/to-integer"),A=e("../internals/to-length"),P=e("../internals/to-index"),I=e("../internals/ieee754"),R=e("../internals/object-get-prototype-of"),L=e("../internals/object-set-prototype-of"),U=e("../internals/object-get-own-property-names").f,D=e("../internals/object-define-property").f,H=e("../internals/array-fill"),W=e("../internals/set-to-string-tag"),ae=e("../internals/internal-state"),le=ae.get,J=ae.set,ue="ArrayBuffer",se="DataView",me="prototype",xe="Wrong index",Ce=i[ue],ve=Ce,De=i[se],_e=De&&De[me],Se=Object.prototype,O=i.RangeError,G=I.pack,X=I.unpack;if(y){if(!_(function(){Ce(1)})||!_(function(){new Ce(-1)})||_(function(){return new Ce,new Ce(1.5),new Ce(NaN),Ce.name!=ue})){for(var ee,B=(ve=function(ie){return T(this,ve),new Ce(P(ie))})[me]=Ce[me],N=U(Ce),re=0;N.length>re;)(ee=N[re++])in ve||w(ve,ee,Ce[ee]);B.constructor=ve}L&&R(_e)!==Se&&L(_e,Se);var Y=new De(new ve(2)),ne=_e.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||x(_e,{setInt8:function(ie,oe){ne.call(this,ie,oe<<24>>24)},setUint8:function(ie,oe){ne.call(this,ie,oe<<24>>24)}},{unsafe:!0})}else ve=function(ie){T(this,ve,ue);var oe=P(ie);J(this,{bytes:H.call(new Array(oe),0),byteLength:oe}),a||(this.byteLength=oe)},De=function(ie,oe,pe){T(this,De,se),T(ie,ve,se);var ge=le(ie).byteLength,he=E(oe);if(he<0||ge<he)throw O("Wrong offset");if(ge<he+(pe=pe===void 0?ge-he:A(pe)))throw O("Wrong length");J(this,{buffer:ie,byteLength:pe,byteOffset:he}),a||(this.buffer=ie,this.byteLength=pe,this.byteOffset=he)},a&&(n(ve,"byteLength"),n(De,"buffer"),n(De,"byteLength"),n(De,"byteOffset")),x(De[me],{getInt8:function(ie){return r(this,1,ie)[0]<<24>>24},getUint8:function(ie){return r(this,1,ie)[0]},getInt16:function(ie,oe){var pe=r(this,2,ie,1<arguments.length?oe:void 0);return(pe[1]<<8|pe[0])<<16>>16},getUint16:function(ie,oe){var pe=r(this,2,ie,1<arguments.length?oe:void 0);return pe[1]<<8|pe[0]},getInt32:function(ie,oe){return c(r(this,4,ie,1<arguments.length?oe:void 0))},getUint32:function(ie,oe){return c(r(this,4,ie,1<arguments.length?oe:void 0))>>>0},getFloat32:function(ie,oe){return X(r(this,4,ie,1<arguments.length?oe:void 0),23)},getFloat64:function(ie,oe){return X(r(this,8,ie,1<arguments.length?oe:void 0),52)},setInt8:function(ie,oe){o(this,1,ie,h,oe)},setUint8:function(ie,oe){o(this,1,ie,h,oe)},setInt16:function(ie,oe,pe){o(this,2,ie,t,oe,2<arguments.length?pe:void 0)},setUint16:function(ie,oe,pe){o(this,2,ie,t,oe,2<arguments.length?pe:void 0)},setInt32:function(ie,oe,pe){o(this,4,ie,u,oe,2<arguments.length?pe:void 0)},setUint32:function(ie,oe,pe){o(this,4,ie,u,oe,2<arguments.length?pe:void 0)},setFloat32:function(ie,oe,pe){o(this,4,ie,f,oe,2<arguments.length?pe:void 0)},setFloat64:function(ie,oe,pe){o(this,8,ie,d,oe,2<arguments.length?pe:void 0)}});W(ve,ue),W(De,se),v.exports={ArrayBuffer:ve,DataView:De}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(e,v,g){var h=e("../internals/to-object"),t=e("../internals/to-absolute-index"),u=e("../internals/to-length"),c=Math.min;v.exports=[].copyWithin||function(f,d,n){var r=h(this),o=u(r.length),i=t(f,o),a=t(d,o),y=2<arguments.length?n:void 0,w=c((y===void 0?o:t(y,o))-a,o-i),x=1;for(a<i&&i<a+w&&(x=-1,a+=w-1,i+=w-1);0<w--;)a in r?r[i]=r[a]:delete r[i],i+=x,a+=x;return r}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(e,v,g){var h=e("../internals/to-object"),t=e("../internals/to-absolute-index"),u=e("../internals/to-length");v.exports=function(c,f,d){for(var n=h(this),r=u(n.length),o=arguments.length,i=t(1<o?f:void 0,r),a=2<o?d:void 0,y=a===void 0?r:t(a,r);i<y;)n[i++]=c;return n}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(e,v,g){var h=e("../internals/array-iteration").forEach,t=e("../internals/array-method-is-strict"),u=e("../internals/array-method-uses-to-length"),c=t("forEach"),f=u("forEach");v.exports=c&&f?[].forEach:function(d,n){return h(this,d,1<arguments.length?n:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,v,g){var h=e("../internals/function-bind-context"),t=e("../internals/to-object"),u=e("../internals/call-with-safe-iteration-closing"),c=e("../internals/is-array-iterator-method"),f=e("../internals/to-length"),d=e("../internals/create-property"),n=e("../internals/get-iterator-method");v.exports=function(r,o,i){var a,y,w,x,_,T,E=t(r),A=typeof this=="function"?this:Array,P=arguments.length,I=1<P?o:void 0,R=I!==void 0,L=n(E),U=0;if(R&&(I=h(I,2<P?i:void 0,2)),L==null||A==Array&&c(L))for(y=new A(a=f(E.length));U<a;U++)T=R?I(E[U],U):E[U],d(y,U,T);else for(_=(x=L.call(E)).next,y=new A;!(w=_.call(x)).done;U++)T=R?u(x,I,[w.value,U],!0):w.value,d(y,U,T);return y.length=U,y}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(e,v,g){function h(f){return function(d,n,r){var o,i=t(d),a=u(i.length),y=c(r,a);if(f&&n!=n){for(;y<a;)if((o=i[y++])!=o)return!0}else for(;y<a;y++)if((f||y in i)&&i[y]===n)return f||y||0;return!f&&-1}}var t=e("../internals/to-indexed-object"),u=e("../internals/to-length"),c=e("../internals/to-absolute-index");v.exports={includes:h(!0),indexOf:h(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(e,v,g){function h(r){var o=r==1,i=r==2,a=r==3,y=r==4,w=r==6,x=r==5||w;return function(_,T,E,A){for(var P,I,R=c(_),L=u(R),U=t(T,E,3),D=f(L.length),H=0,W=A||d,ae=o?W(_,D):i?W(_,0):void 0;H<D;H++)if((x||H in L)&&(I=U(P=L[H],H,R),r)){if(o)ae[H]=I;else if(I)switch(r){case 3:return!0;case 5:return P;case 6:return H;case 2:n.call(ae,P)}else if(y)return!1}return w?-1:a||y?y:ae}}var t=e("../internals/function-bind-context"),u=e("../internals/indexed-object"),c=e("../internals/to-object"),f=e("../internals/to-length"),d=e("../internals/array-species-create"),n=[].push;v.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(e,v,g){var h=e("../internals/to-indexed-object"),t=e("../internals/to-integer"),u=e("../internals/to-length"),c=e("../internals/array-method-is-strict"),f=e("../internals/array-method-uses-to-length"),d=Math.min,n=[].lastIndexOf,r=!!n&&1/[1].lastIndexOf(1,-0)<0,o=c("lastIndexOf"),i=f("indexOf",{ACCESSORS:!0,1:0}),a=r||!o||!i;v.exports=a?function(y,w){if(r)return n.apply(this,arguments)||0;var x=h(this),_=u(x.length),T=_-1;for(1<arguments.length&&(T=d(T,t(w))),T<0&&(T=_+T);0<=T;T--)if(T in x&&x[T]===y)return T||0;return-1}:n},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(e,v,g){var h=e("../internals/fails"),t=e("../internals/well-known-symbol"),u=e("../internals/engine-v8-version"),c=t("species");v.exports=function(f){return 51<=u||!h(function(){var d=[];return(d.constructor={})[c]=function(){return{foo:1}},d[f](Boolean).foo!==1})}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":146}],22:[function(e,v,g){var h=e("../internals/fails");v.exports=function(t,u){var c=[][t];return!!c&&h(function(){c.call(null,u||function(){throw 1},1)})}},{"../internals/fails":50}],23:[function(e,v,g){function h(n){throw n}var t=e("../internals/descriptors"),u=e("../internals/fails"),c=e("../internals/has"),f=Object.defineProperty,d={};v.exports=function(n,r){if(c(d,n))return d[n];var o=[][n],i=!!c(r=r||{},"ACCESSORS")&&r.ACCESSORS,a=c(r,0)?r[0]:h,y=c(r,1)?r[1]:void 0;return d[n]=!!o&&!u(function(){if(i&&!t)return!0;var w={length:-1};i?f(w,1,{enumerable:!0,get:h}):w[1]=1,o.call(w,a,y)})}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":60}],24:[function(e,v,g){function h(d){return function(n,r,o,i){t(r);var a=u(n),y=c(a),w=f(a.length),x=d?w-1:0,_=d?-1:1;if(o<2)for(;;){if(x in y){i=y[x],x+=_;break}if(x+=_,d?x<0:w<=x)throw TypeError("Reduce of empty array with no initial value")}for(;d?0<=x:x<w;x+=_)x in y&&(i=r(i,y[x],x,a));return i}}var t=e("../internals/a-function"),u=e("../internals/to-object"),c=e("../internals/indexed-object"),f=e("../internals/to-length");v.exports={left:h(!1),right:h(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(e,v,g){var h=e("../internals/is-object"),t=e("../internals/is-array"),u=e("../internals/well-known-symbol")("species");v.exports=function(c,f){var d;return t(c)&&(typeof(d=c.constructor)!="function"||d!==Array&&!t(d.prototype)?h(d)&&(d=d[u])===null&&(d=void 0):d=void 0),new(d===void 0?Array:d)(f===0?0:f)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(e,v,g){var h=e("../internals/an-object");v.exports=function(t,u,c,f){try{return f?u(h(c)[0],c[1]):u(c)}catch(n){var d=t.return;throw d!==void 0&&h(d.call(t)),n}}},{"../internals/an-object":10}],27:[function(e,v,g){var h=e("../internals/well-known-symbol")("iterator"),t=!1;try{var u=0,c={next:function(){return{done:!!u++}},return:function(){t=!0}};c[h]=function(){return this},Array.from(c,function(){throw 2})}catch{}v.exports=function(f,d){if(!d&&!t)return!1;var n=!1;try{var r={};r[h]=function(){return{next:function(){return{done:n=!0}}}},f(r)}catch{}return n}},{"../internals/well-known-symbol":146}],28:[function(e,v,g){var h={}.toString;v.exports=function(t){return h.call(t).slice(8,-1)}},{}],29:[function(e,v,g){var h=e("../internals/to-string-tag-support"),t=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("toStringTag"),c=t(function(){return arguments}())=="Arguments";v.exports=h?t:function(f){var d,n,r;return f===void 0?"Undefined":f===null?"Null":typeof(n=function(o,i){try{return o[i]}catch{}}(d=Object(f),u))=="string"?n:c?t(d):(r=t(d))=="Object"&&typeof d.callee=="function"?"Arguments":r}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(e,v,g){var h=e("../internals/object-define-property").f,t=e("../internals/object-create"),u=e("../internals/redefine-all"),c=e("../internals/function-bind-context"),f=e("../internals/an-instance"),d=e("../internals/iterate"),n=e("../internals/define-iterator"),r=e("../internals/set-species"),o=e("../internals/descriptors"),i=e("../internals/internal-metadata").fastKey,a=e("../internals/internal-state"),y=a.set,w=a.getterFor;v.exports={getConstructor:function(x,_,T,E){function A(L,U,D){var H,W,ae=I(L),le=R(L,U);return le?le.value=D:(ae.last=le={index:W=i(U,!0),key:U,value:D,previous:H=ae.last,next:void 0,removed:!1},ae.first||(ae.first=le),H&&(H.next=le),o?ae.size++:L.size++,W!=="F"&&(ae.index[W]=le)),L}var P=x(function(L,U){f(L,P,_),y(L,{type:_,index:t(null),first:void 0,last:void 0,size:0}),o||(L.size=0),U!=null&&d(U,L[E],L,T)}),I=w(_),R=function(L,U){var D,H=I(L),W=i(U);if(W!=="F")return H.index[W];for(D=H.first;D;D=D.next)if(D.key==U)return D};return u(P.prototype,{clear:function(){for(var L=I(this),U=L.index,D=L.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete U[D.index],D=D.next;L.first=L.last=void 0,o?L.size=0:this.size=0},delete:function(L){var U=I(this),D=R(this,L);if(D){var H=D.next,W=D.previous;delete U.index[D.index],D.removed=!0,W&&(W.next=H),H&&(H.previous=W),U.first==D&&(U.first=H),U.last==D&&(U.last=W),o?U.size--:this.size--}return!!D},forEach:function(L,U){for(var D,H=I(this),W=c(L,1<arguments.length?U:void 0,3);D=D?D.next:H.first;)for(W(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(L){return!!R(this,L)}}),u(P.prototype,T?{get:function(L){var U=R(this,L);return U&&U.value},set:function(L,U){return A(this,L===0?0:L,U)}}:{add:function(L){return A(this,L=L===0?0:L,L)}}),o&&h(P.prototype,"size",{get:function(){return I(this).size}}),P},setStrong:function(x,_,T){var E=_+" Iterator",A=w(_),P=w(E);n(x,_,function(I,R){y(this,{type:E,target:I,state:A(I),kind:R,last:void 0})},function(){for(var I=P(this),R=I.kind,L=I.last;L&&L.removed;)L=L.previous;return I.target&&(I.last=L=L?L.next:I.state.first)?R=="keys"?{value:L.key,done:!1}:R=="values"?{value:L.value,done:!1}:{value:[L.key,L.value],done:!1}:{value:I.target=void 0,done:!0}},T?"entries":"values",!T,!0),r(_)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/global"),u=e("../internals/is-forced"),c=e("../internals/redefine"),f=e("../internals/internal-metadata"),d=e("../internals/iterate"),n=e("../internals/an-instance"),r=e("../internals/is-object"),o=e("../internals/fails"),i=e("../internals/check-correctness-of-iteration"),a=e("../internals/set-to-string-tag"),y=e("../internals/inherit-if-required");v.exports=function(w,x,_){function T(J){var ue=R[J];c(R,J,J=="add"?function(se){return ue.call(this,se===0?0:se),this}:J=="delete"?function(se){return!(A&&!r(se))&&ue.call(this,se===0?0:se)}:J=="get"?function(se){return A&&!r(se)?void 0:ue.call(this,se===0?0:se)}:J=="has"?function(se){return!(A&&!r(se))&&ue.call(this,se===0?0:se)}:function(se,me){return ue.call(this,se===0?0:se,me),this})}var E=w.indexOf("Map")!==-1,A=w.indexOf("Weak")!==-1,P=E?"set":"add",I=t[w],R=I&&I.prototype,L=I,U={};if(u(w,typeof I!="function"||!(A||R.forEach&&!o(function(){new I().entries().next()}))))L=_.getConstructor(x,w,E,P),f.REQUIRED=!0;else if(u(w,!0)){var D=new L,H=D[P](A?{}:-0,1)!=D,W=o(function(){D.has(1)}),ae=i(function(J){new I(J)}),le=!A&&o(function(){for(var J=new I,ue=5;ue--;)J[P](ue,ue);return!J.has(-0)});ae||(((L=x(function(J,ue){n(J,L,w);var se=y(new I,J,L);return ue!=null&&d(ue,se[P],se,E),se})).prototype=R).constructor=L),(W||le)&&(T("delete"),T("has"),E&&T("get")),(le||H)&&T(P),A&&R.clear&&delete R.clear}return U[w]=L,h({global:!0,forced:L!=I},U),a(L,w),A||_.setStrong(L,w,E),L}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],32:[function(e,v,g){var h=e("../internals/has"),t=e("../internals/own-keys"),u=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");v.exports=function(f,d){for(var n=t(d),r=c.f,o=u.f,i=0;i<n.length;i++){var a=n[i];h(f,a)||r(f,a,o(d,a))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],33:[function(e,v,g){var h=e("../internals/well-known-symbol")("match");v.exports=function(t){var u=/./;try{"/./"[t](u)}catch{try{return u[h]=!1,"/./"[t](u)}catch{}}return!1}},{"../internals/well-known-symbol":146}],34:[function(e,v,g){var h=e("../internals/fails");v.exports=!h(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},{"../internals/fails":50}],35:[function(e,v,g){var h=e("../internals/require-object-coercible"),t=/"/g;v.exports=function(u,c,f,d){var n=String(h(u)),r="<"+c;return f!==""&&(r+=" "+f+'="'+String(d).replace(t,"&quot;")+'"'),r+">"+n+"</"+c+">"}},{"../internals/require-object-coercible":113}],36:[function(e,v,g){function h(){return this}var t=e("../internals/iterators-core").IteratorPrototype,u=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),f=e("../internals/set-to-string-tag"),d=e("../internals/iterators");v.exports=function(n,r,o){var i=r+" Iterator";return n.prototype=u(t,{next:c(1,o)}),f(n,i,!1,!0),d[i]=h,n}},{"../internals/create-property-descriptor":38,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],37:[function(e,v,g){var h=e("../internals/descriptors"),t=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");v.exports=h?function(c,f,d){return t.f(c,f,u(1,d))}:function(c,f,d){return c[f]=d,c}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":92}],38:[function(e,v,g){v.exports=function(h,t){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:t}}},{}],39:[function(e,v,g){var h=e("../internals/to-primitive"),t=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");v.exports=function(c,f,d){var n=h(f);n in c?t.f(c,n,u(0,d)):c[n]=d}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":92,"../internals/to-primitive":138}],40:[function(e,v,g){function h(){return this}var t=e("../internals/export"),u=e("../internals/create-iterator-constructor"),c=e("../internals/object-get-prototype-of"),f=e("../internals/object-set-prototype-of"),d=e("../internals/set-to-string-tag"),n=e("../internals/create-non-enumerable-property"),r=e("../internals/redefine"),o=e("../internals/well-known-symbol"),i=e("../internals/is-pure"),a=e("../internals/iterators"),y=e("../internals/iterators-core"),w=y.IteratorPrototype,x=y.BUGGY_SAFARI_ITERATORS,_=o("iterator"),T="values",E="entries";v.exports=function(A,P,I,R,L,U,D){u(I,P,R);function H(ve){if(ve===L&&xe)return xe;if(!x&&ve in se)return se[ve];switch(ve){case"keys":case T:case E:return function(){return new I(this,ve)}}return function(){return new I(this)}}var W,ae,le,J=P+" Iterator",ue=!1,se=A.prototype,me=se[_]||se["@@iterator"]||L&&se[L],xe=!x&&me||H(L),Ce=P=="Array"&&se.entries||me;if(Ce&&(W=c(Ce.call(new A)),w!==Object.prototype&&W.next&&(i||c(W)===w||(f?f(W,w):typeof W[_]!="function"&&n(W,_,h)),d(W,J,!0,!0),i&&(a[J]=h))),L==T&&me&&me.name!==T&&(ue=!0,xe=function(){return me.call(this)}),i&&!D||se[_]===xe||n(se,_,xe),a[P]=xe,L)if(ae={values:H(T),keys:U?xe:H("keys"),entries:H(E)},D)for(le in ae)!x&&!ue&&le in se||r(se,le,ae[le]);else t({target:P,proto:!0,forced:x||ue},ae);return ae}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],41:[function(e,v,g){var h=e("../internals/path"),t=e("../internals/has"),u=e("../internals/well-known-symbol-wrapped"),c=e("../internals/object-define-property").f;v.exports=function(f){var d=h.Symbol||(h.Symbol={});t(d,f)||c(d,f,{value:u.f(f)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],42:[function(e,v,g){var h=e("../internals/fails");v.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":50}],43:[function(e,v,g){var h=e("../internals/global"),t=e("../internals/is-object"),u=h.document,c=t(u)&&t(u.createElement);v.exports=function(f){return c?u.createElement(f):{}}},{"../internals/global":59,"../internals/is-object":74}],44:[function(e,v,g){v.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(e,v,g){var h=e("../internals/engine-user-agent");v.exports=/(iphone|ipod|ipad).*applewebkit/i.test(h)},{"../internals/engine-user-agent":46}],46:[function(e,v,g){var h=e("../internals/get-built-in");v.exports=h("navigator","userAgent")||""},{"../internals/get-built-in":56}],47:[function(e,v,g){var h,t,u=e("../internals/global"),c=e("../internals/engine-user-agent"),f=u.process,d=f&&f.versions,n=d&&d.v8;n?t=(h=n.split("."))[0]+h[1]:c&&(!(h=c.match(/Edge\/(\d+)/))||74<=h[1])&&(h=c.match(/Chrome\/(\d+)/))&&(t=h[1]),v.exports=t&&+t},{"../internals/engine-user-agent":46,"../internals/global":59}],48:[function(e,v,g){v.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(e,v,g){var h=e("../internals/global"),t=e("../internals/object-get-own-property-descriptor").f,u=e("../internals/create-non-enumerable-property"),c=e("../internals/redefine"),f=e("../internals/set-global"),d=e("../internals/copy-constructor-properties"),n=e("../internals/is-forced");v.exports=function(r,o){var i,a,y,w,x,_=r.target,T=r.global,E=r.stat;if(i=T?h:E?h[_]||f(_,{}):(h[_]||{}).prototype)for(a in o){if(w=o[a],y=r.noTargetGet?(x=t(i,a))&&x.value:i[a],!n(T?a:_+(E?".":"#")+a,r.forced)&&y!==void 0){if(typeof w==typeof y)continue;d(w,y)}(r.sham||y&&y.sham)&&u(w,"sham",!0),c(i,a,w,r)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],50:[function(e,v,g){v.exports=function(h){try{return!!h()}catch{return!0}}},{}],51:[function(e,v,g){e("../modules/es.regexp.exec");var h=e("../internals/redefine"),t=e("../internals/fails"),u=e("../internals/well-known-symbol"),c=e("../internals/regexp-exec"),f=e("../internals/create-non-enumerable-property"),d=u("species"),n=!t(function(){var y=/./;return y.exec=function(){var w=[];return w.groups={a:"7"},w},"".replace(y,"$<a>")!=="7"}),r="a".replace(/./,"$0")==="$0",o=u("replace"),i=!!/./[o]&&/./[o]("a","$0")==="",a=!t(function(){var y=/(?:)/,w=y.exec;y.exec=function(){return w.apply(this,arguments)};var x="ab".split(y);return x.length!==2||x[0]!=="a"||x[1]!=="b"});v.exports=function(y,w,x,_){var T=u(y),E=!t(function(){var U={};return U[T]=function(){return 7},""[y](U)!=7}),A=E&&!t(function(){var U=!1,D=/a/;return y==="split"&&((D={constructor:{}}).constructor[d]=function(){return D},D.flags="",D[T]=/./[T]),D.exec=function(){return U=!0,null},D[T](""),!U});if(!E||!A||y==="replace"&&(!n||!r||i)||y==="split"&&!a){var P=/./[T],I=x(T,""[y],function(U,D,H,W,ae){return D.exec===c?E&&!ae?{done:!0,value:P.call(D,H,W)}:{done:!0,value:U.call(H,D,W)}:{done:!1}},{REPLACE_KEEPS_$0:r,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:i}),R=I[0],L=I[1];h(String.prototype,y,R),h(RegExp.prototype,T,w==2?function(U,D){return L.call(U,this,D)}:function(U){return L.call(U,this)})}_&&f(RegExp.prototype[T],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],52:[function(e,v,g){var h=e("../internals/is-array"),t=e("../internals/to-length"),u=e("../internals/function-bind-context"),c=function(f,d,n,r,o,i,a,y){for(var w,x=o,_=0,T=!!a&&u(a,y,3);_<r;){if(_ in n){if(w=T?T(n[_],_,d):n[_],0<i&&h(w))x=c(f,d,w,t(w.length),x,i-1)-1;else{if(9007199254740991<=x)throw TypeError("Exceed the acceptable array length");f[x]=w}x++}_++}return x};v.exports=c},{"../internals/function-bind-context":54,"../internals/is-array":72,"../internals/to-length":134}],53:[function(e,v,g){var h=e("../internals/fails");v.exports=!h(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":50}],54:[function(e,v,g){var h=e("../internals/a-function");v.exports=function(t,u,c){if(h(t),u===void 0)return t;switch(c){case 0:return function(){return t.call(u)};case 1:return function(f){return t.call(u,f)};case 2:return function(f,d){return t.call(u,f,d)};case 3:return function(f,d,n){return t.call(u,f,d,n)}}return function(){return t.apply(u,arguments)}}},{"../internals/a-function":5}],55:[function(e,v,g){var h=e("../internals/a-function"),t=e("../internals/is-object"),u=[].slice,c={};v.exports=Function.bind||function(f){var d=h(this),n=u.call(arguments,1),r=function(){var o=n.concat(u.call(arguments));return this instanceof r?function(i,a,y){if(!(a in c)){for(var w=[],x=0;x<a;x++)w[x]="a["+x+"]";c[a]=Function("C,a","return new C("+w.join(",")+")")}return c[a](i,y)}(d,o.length,o):d.apply(f,o)};return t(d.prototype)&&(r.prototype=d.prototype),r}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,v,g){function h(c){return typeof c=="function"?c:void 0}var t=e("../internals/path"),u=e("../internals/global");v.exports=function(c,f){return arguments.length<2?h(t[c])||h(u[c]):t[c]&&t[c][f]||u[c]&&u[c][f]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,v,g){var h=e("../internals/classof"),t=e("../internals/iterators"),u=e("../internals/well-known-symbol")("iterator");v.exports=function(c){if(c!=null)return c[u]||c["@@iterator"]||t[h(c)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(e,v,g){var h=e("../internals/an-object"),t=e("../internals/get-iterator-method");v.exports=function(u){var c=t(u);if(typeof c!="function")throw TypeError(String(u)+" is not iterable");return h(c.call(u))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,v,g){(function(h){function t(u){return u&&u.Math==Math&&u}v.exports=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof h=="object"&&h)||Function("return this")()}).call(this,typeof qo<"u"?qo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(e,v,g){var h={}.hasOwnProperty;v.exports=function(t,u){return h.call(t,u)}},{}],61:[function(e,v,g){v.exports={}},{}],62:[function(e,v,g){var h=e("../internals/global");v.exports=function(t,u){var c=h.console;c&&c.error&&(arguments.length===1?c.error(t):c.error(t,u))}},{"../internals/global":59}],63:[function(e,v,g){var h=e("../internals/get-built-in");v.exports=h("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,v,g){var h=e("../internals/descriptors"),t=e("../internals/fails"),u=e("../internals/document-create-element");v.exports=!h&&!t(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],65:[function(e,v,g){var h=Math.abs,t=Math.pow,u=Math.floor,c=Math.log,f=Math.LN2;v.exports={pack:function(d,n,r){var o,i,a,y=new Array(r),w=8*r-n-1,x=(1<<w)-1,_=x>>1,T=n===23?t(2,-24)-t(2,-77):0,E=d<0||d===0&&1/d<0?1:0,A=0;for((d=h(d))!=d||d===1/0?(i=d!=d?1:0,o=x):(o=u(c(d)/f),d*(a=t(2,-o))<1&&(o--,a*=2),2<=(d+=1<=o+_?T/a:T*t(2,1-_))*a&&(o++,a/=2),x<=o+_?(i=0,o=x):1<=o+_?(i=(d*a-1)*t(2,n),o+=_):(i=d*t(2,_-1)*t(2,n),o=0));8<=n;y[A++]=255&i,i/=256,n-=8);for(o=o<<n|i,w+=n;0<w;y[A++]=255&o,o/=256,w-=8);return y[--A]|=128*E,y},unpack:function(d,n){var r,o=d.length,i=8*o-n-1,a=(1<<i)-1,y=a>>1,w=i-7,x=o-1,_=d[x--],T=127&_;for(_>>=7;0<w;T=256*T+d[x],x--,w-=8);for(r=T&(1<<-w)-1,T>>=-w,w+=n;0<w;r=256*r+d[x],x--,w-=8);if(T===0)T=1-y;else{if(T===a)return r?NaN:_?-1/0:1/0;r+=t(2,n),T-=y}return(_?-1:1)*r*t(2,T-n)}}},{}],66:[function(e,v,g){var h=e("../internals/fails"),t=e("../internals/classof-raw"),u="".split;v.exports=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return t(c)=="String"?u.call(c,""):Object(c)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],67:[function(e,v,g){var h=e("../internals/is-object"),t=e("../internals/object-set-prototype-of");v.exports=function(u,c,f){var d,n;return t&&typeof(d=c.constructor)=="function"&&d!==f&&h(n=d.prototype)&&n!==f.prototype&&t(u,n),u}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(e,v,g){var h=e("../internals/shared-store"),t=Function.toString;typeof h.inspectSource!="function"&&(h.inspectSource=function(u){return t.call(u)}),v.exports=h.inspectSource},{"../internals/shared-store":119}],69:[function(e,v,g){function h(y){f(y,r,{value:{objectID:"O"+ ++o,weakData:{}}})}var t=e("../internals/hidden-keys"),u=e("../internals/is-object"),c=e("../internals/has"),f=e("../internals/object-define-property").f,d=e("../internals/uid"),n=e("../internals/freezing"),r=d("meta"),o=0,i=Object.isExtensible||function(){return!0},a=v.exports={REQUIRED:!1,fastKey:function(y,w){if(!u(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!c(y,r)){if(!i(y))return"F";if(!w)return"E";h(y)}return y[r].objectID},getWeakData:function(y,w){if(!c(y,r)){if(!i(y))return!0;if(!w)return!1;h(y)}return y[r].weakData},onFreeze:function(y){return n&&a.REQUIRED&&i(y)&&!c(y,r)&&h(y),y}};t[r]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(e,v,g){var h,t,u,c=e("../internals/native-weak-map"),f=e("../internals/global"),d=e("../internals/is-object"),n=e("../internals/create-non-enumerable-property"),r=e("../internals/has"),o=e("../internals/shared-key"),i=e("../internals/hidden-keys"),a=f.WeakMap;if(c){var y=new a,w=y.get,x=y.has,_=y.set;h=function(E,A){return _.call(y,E,A),A},t=function(E){return w.call(y,E)||{}},u=function(E){return x.call(y,E)}}else{var T=o("state");i[T]=!0,h=function(E,A){return n(E,T,A),A},t=function(E){return r(E,T)?E[T]:{}},u=function(E){return r(E,T)}}v.exports={set:h,get:t,has:u,enforce:function(E){return u(E)?t(E):h(E,{})},getterFor:function(E){return function(A){var P;if(!d(A)||(P=t(A)).type!==E)throw TypeError("Incompatible receiver, "+E+" required");return P}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,v,g){var h=e("../internals/well-known-symbol"),t=e("../internals/iterators"),u=h("iterator"),c=Array.prototype;v.exports=function(f){return f!==void 0&&(t.Array===f||c[u]===f)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(e,v,g){var h=e("../internals/classof-raw");v.exports=Array.isArray||function(t){return h(t)=="Array"}},{"../internals/classof-raw":28}],73:[function(e,v,g){function h(r,o){var i=f[c(r)];return i==n||i!=d&&(typeof o=="function"?t(o):!!o)}var t=e("../internals/fails"),u=/#|\.prototype\./,c=h.normalize=function(r){return String(r).replace(u,".").toLowerCase()},f=h.data={},d=h.NATIVE="N",n=h.POLYFILL="P";v.exports=h},{"../internals/fails":50}],74:[function(e,v,g){v.exports=function(h){return typeof h=="object"?h!==null:typeof h=="function"}},{}],75:[function(e,v,g){v.exports=!1},{}],76:[function(e,v,g){var h=e("../internals/is-object"),t=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("match");v.exports=function(c){var f;return h(c)&&((f=c[u])!==void 0?!!f:t(c)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(e,v,g){function h(r,o){this.stopped=r,this.result=o}var t=e("../internals/an-object"),u=e("../internals/is-array-iterator-method"),c=e("../internals/to-length"),f=e("../internals/function-bind-context"),d=e("../internals/get-iterator-method"),n=e("../internals/call-with-safe-iteration-closing");(v.exports=function(r,o,i,a,y){var w,x,_,T,E,A,P,I=f(o,i,a?2:1);if(y)w=r;else{if(typeof(x=d(r))!="function")throw TypeError("Target is not iterable");if(u(x)){for(_=0,T=c(r.length);_<T;_++)if((E=a?I(t(P=r[_])[0],P[1]):I(r[_]))&&E instanceof h)return E;return new h(!1)}w=x.call(r)}for(A=w.next;!(P=A.call(w)).done;)if(typeof(E=n(w,I,P.value,a))=="object"&&E&&E instanceof h)return E;return new h(!1)}).stop=function(r){return new h(!0,r)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(e,v,g){var h,t,u,c=e("../internals/object-get-prototype-of"),f=e("../internals/create-non-enumerable-property"),d=e("../internals/has"),n=e("../internals/well-known-symbol"),r=e("../internals/is-pure"),o=n("iterator"),i=!1;[].keys&&("next"in(u=[].keys())?(t=c(c(u)))!==Object.prototype&&(h=t):i=!0),h==null&&(h={}),r||d(h,o)||f(h,o,function(){return this}),v.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:i}},{"../internals/create-non-enumerable-property":37,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(e,v,g){arguments[4][61][0].apply(g,arguments)},{dup:61}],80:[function(e,v,g){v.exports=Math.sign||function(h){return(h=+h)==0||h!=h?h:h<0?-1:1}},{}],81:[function(e,v,g){var h,t,u,c,f,d,n,r,o=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,a=e("../internals/classof-raw"),y=e("../internals/task").set,w=e("../internals/engine-is-ios"),x=o.MutationObserver||o.WebKitMutationObserver,_=o.process,T=o.Promise,E=a(_)=="process",A=i(o,"queueMicrotask"),P=A&&A.value;P||(h=function(){var I,R;for(E&&(I=_.domain)&&I.exit();t;){R=t.fn,t=t.next;try{R()}catch(L){throw t?c():u=void 0,L}}u=void 0,I&&I.enter()},c=E?function(){_.nextTick(h)}:x&&!w?(f=!0,d=document.createTextNode(""),new x(h).observe(d,{characterData:!0}),function(){d.data=f=!f}):T&&T.resolve?(n=T.resolve(void 0),r=n.then,function(){r.call(n,h)}):function(){y.call(o,h)}),v.exports=P||function(I){var R={fn:I,next:void 0};u&&(u.next=R),t||(t=R,c()),u=R}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(e,v,g){var h=e("../internals/global");v.exports=h.Promise},{"../internals/global":59}],83:[function(e,v,g){var h=e("../internals/fails");v.exports=!!Object.getOwnPropertySymbols&&!h(function(){return!String(Symbol())})},{"../internals/fails":50}],84:[function(e,v,g){var h=e("../internals/fails"),t=e("../internals/well-known-symbol"),u=e("../internals/is-pure"),c=t("iterator");v.exports=!h(function(){var f=new URL("b?a=1&b=2&c=3","http://a"),d=f.searchParams,n="";return f.pathname="c%20d",d.forEach(function(r,o){d.delete("b"),n+=o+r}),u&&!f.toJSON||!d.sort||f.href!=="http://a/c%20d?a=1&c=3"||d.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!d[c]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":50,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(e,v,g){var h=e("../internals/global"),t=e("../internals/inspect-source"),u=h.WeakMap;v.exports=typeof u=="function"&&/native code/.test(t(u))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,v,g){function h(u){var c,f;this.promise=new u(function(d,n){if(c!==void 0||f!==void 0)throw TypeError("Bad Promise constructor");c=d,f=n}),this.resolve=t(c),this.reject=t(f)}var t=e("../internals/a-function");v.exports.f=function(u){return new h(u)}},{"../internals/a-function":5}],87:[function(e,v,g){var h=e("../internals/is-regexp");v.exports=function(t){if(h(t))throw TypeError("The method doesn't accept regular expressions");return t}},{"../internals/is-regexp":76}],88:[function(e,v,g){var h=e("../internals/global").isFinite;v.exports=Number.isFinite||function(t){return typeof t=="number"&&h(t)}},{"../internals/global":59}],89:[function(e,v,g){var h=e("../internals/descriptors"),t=e("../internals/fails"),u=e("../internals/object-keys"),c=e("../internals/object-get-own-property-symbols"),f=e("../internals/object-property-is-enumerable"),d=e("../internals/to-object"),n=e("../internals/indexed-object"),r=Object.assign,o=Object.defineProperty;v.exports=!r||t(function(){if(h&&r({b:1},r(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var i={},a={},y=Symbol(),w="abcdefghijklmnopqrst";return i[y]=7,w.split("").forEach(function(x){a[x]=x}),r({},i)[y]!=7||u(r({},a)).join("")!=w})?function(i,a){for(var y=d(i),w=arguments.length,x=1,_=c.f,T=f.f;x<w;)for(var E,A=n(arguments[x++]),P=_?u(A).concat(_(A)):u(A),I=P.length,R=0;R<I;)E=P[R++],h&&!T.call(A,E)||(y[E]=A[E]);return y}:r},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(e,v,g){function h(){}function t(_){return"<script>"+_+"</"+y+">"}var u,c=e("../internals/an-object"),f=e("../internals/object-define-properties"),d=e("../internals/enum-bug-keys"),n=e("../internals/hidden-keys"),r=e("../internals/html"),o=e("../internals/document-create-element"),i=e("../internals/shared-key"),a="prototype",y="script",w=i("IE_PROTO"),x=function(){try{u=document.domain&&new ActiveXObject("htmlfile")}catch{}var _,T;x=u?function(A){A.write(t("")),A.close();var P=A.parentWindow.Object;return A=null,P}(u):((T=o("iframe")).style.display="none",r.appendChild(T),T.src=String("javascript:"),(_=T.contentWindow.document).open(),_.write(t("document.F=Object")),_.close(),_.F);for(var E=d.length;E--;)delete x[a][d[E]];return x()};n[w]=!0,v.exports=Object.create||function(_,T){var E;return _!==null?(h[a]=c(_),E=new h,h[a]=null,E[w]=_):E=x(),T===void 0?E:f(E,T)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,v,g){var h=e("../internals/descriptors"),t=e("../internals/object-define-property"),u=e("../internals/an-object"),c=e("../internals/object-keys");v.exports=h?Object.defineProperties:function(f,d){u(f);for(var n,r=c(d),o=r.length,i=0;i<o;)t.f(f,n=r[i++],d[n]);return f}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,v,g){var h=e("../internals/descriptors"),t=e("../internals/ie8-dom-define"),u=e("../internals/an-object"),c=e("../internals/to-primitive"),f=Object.defineProperty;g.f=h?f:function(d,n,r){if(u(d),n=c(n,!0),u(r),t)try{return f(d,n,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(d[n]=r.value),d}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(e,v,g){var h=e("../internals/descriptors"),t=e("../internals/object-property-is-enumerable"),u=e("../internals/create-property-descriptor"),c=e("../internals/to-indexed-object"),f=e("../internals/to-primitive"),d=e("../internals/has"),n=e("../internals/ie8-dom-define"),r=Object.getOwnPropertyDescriptor;g.f=h?r:function(o,i){if(o=c(o),i=f(i,!0),n)try{return r(o,i)}catch{}if(d(o,i))return u(!t.f.call(o,i),o[i])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(e,v,g){var h=e("../internals/to-indexed-object"),t=e("../internals/object-get-own-property-names").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];v.exports.f=function(f){return c&&u.call(f)=="[object Window]"?function(d){try{return t(d)}catch{return c.slice()}}(f):t(h(f))}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(e,v,g){var h=e("../internals/object-keys-internal"),t=e("../internals/enum-bug-keys").concat("length","prototype");g.f=Object.getOwnPropertyNames||function(u){return h(u,t)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],96:[function(e,v,g){g.f=Object.getOwnPropertySymbols},{}],97:[function(e,v,g){var h=e("../internals/has"),t=e("../internals/to-object"),u=e("../internals/shared-key"),c=e("../internals/correct-prototype-getter"),f=u("IE_PROTO"),d=Object.prototype;v.exports=c?Object.getPrototypeOf:function(n){return n=t(n),h(n,f)?n[f]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?d:null}},{"../internals/correct-prototype-getter":34,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(e,v,g){var h=e("../internals/has"),t=e("../internals/to-indexed-object"),u=e("../internals/array-includes").indexOf,c=e("../internals/hidden-keys");v.exports=function(f,d){var n,r=t(f),o=0,i=[];for(n in r)!h(c,n)&&h(r,n)&&i.push(n);for(;d.length>o;)h(r,n=d[o++])&&(~u(i,n)||i.push(n));return i}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(e,v,g){var h=e("../internals/object-keys-internal"),t=e("../internals/enum-bug-keys");v.exports=Object.keys||function(u){return h(u,t)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],100:[function(e,v,g){var h={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,u=t&&!h.call({1:2},1);g.f=u?function(c){var f=t(this,c);return!!f&&f.enumerable}:h},{}],101:[function(e,v,g){var h=e("../internals/an-object"),t=e("../internals/a-possible-prototype");v.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,c=!1,f={};try{(u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(f,[]),c=f instanceof Array}catch{}return function(d,n){return h(d),t(n),c?u.call(d,n):d.__proto__=n,d}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,v,g){var h=e("../internals/to-string-tag-support"),t=e("../internals/classof");v.exports=h?{}.toString:function(){return"[object "+t(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(e,v,g){var h=e("../internals/get-built-in"),t=e("../internals/object-get-own-property-names"),u=e("../internals/object-get-own-property-symbols"),c=e("../internals/an-object");v.exports=h("Reflect","ownKeys")||function(f){var d=t.f(c(f)),n=u.f;return n?d.concat(n(f)):d}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,v,g){var h=e("../internals/global");v.exports=h},{"../internals/global":59}],105:[function(e,v,g){v.exports=function(h){try{return{error:!1,value:h()}}catch(t){return{error:!0,value:t}}}},{}],106:[function(e,v,g){var h=e("../internals/an-object"),t=e("../internals/is-object"),u=e("../internals/new-promise-capability");v.exports=function(c,f){if(h(c),t(f)&&f.constructor===c)return f;var d=u.f(c);return(0,d.resolve)(f),d.promise}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,v,g){var h=e("../internals/redefine");v.exports=function(t,u,c){for(var f in u)h(t,f,u[f],c);return t}},{"../internals/redefine":108}],108:[function(e,v,g){var h=e("../internals/global"),t=e("../internals/create-non-enumerable-property"),u=e("../internals/has"),c=e("../internals/set-global"),f=e("../internals/inspect-source"),d=e("../internals/internal-state"),n=d.get,r=d.enforce,o=String(String).split("String");(v.exports=function(i,a,y,w){var x=!!w&&!!w.unsafe,_=!!w&&!!w.enumerable,T=!!w&&!!w.noTargetGet;typeof y=="function"&&(typeof a!="string"||u(y,"name")||t(y,"name",a),r(y).source=o.join(typeof a=="string"?a:"")),i!==h?(x?!T&&i[a]&&(_=!0):delete i[a],_?i[a]=y:t(i,a,y)):_?i[a]=y:c(a,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&n(this).source||f(this)})},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,v,g){var h=e("./classof-raw"),t=e("./regexp-exec");v.exports=function(u,c){var f=u.exec;if(typeof f=="function"){var d=f.call(u,c);if(typeof d!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return d}if(h(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return t.call(u,c)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(e,v,g){var h,t,u=e("./regexp-flags"),c=e("./regexp-sticky-helpers"),f=RegExp.prototype.exec,d=String.prototype.replace,n=f,r=(h=/a/,t=/b*/g,f.call(h,"a"),f.call(t,"a"),h.lastIndex!==0||t.lastIndex!==0),o=c.UNSUPPORTED_Y||c.BROKEN_CARET,i=/()??/.exec("")[1]!==void 0;(r||i||o)&&(n=function(a){var y,w,x,_,T=this,E=o&&T.sticky,A=u.call(T),P=T.source,I=0,R=a;return E&&((A=A.replace("y","")).indexOf("g")===-1&&(A+="g"),R=String(a).slice(T.lastIndex),0<T.lastIndex&&(!T.multiline||T.multiline&&a[T.lastIndex-1]!==`
`)&&(P="(?: "+P+")",R=" "+R,I++),w=new RegExp("^(?:"+P+")",A)),i&&(w=new RegExp("^"+P+"$(?!\\s)",A)),r&&(y=T.lastIndex),x=f.call(E?w:T,R),E?x?(x.input=x.input.slice(I),x[0]=x[0].slice(I),x.index=T.lastIndex,T.lastIndex+=x[0].length):T.lastIndex=0:r&&x&&(T.lastIndex=T.global?x.index+x[0].length:y),i&&x&&1<x.length&&d.call(x[0],w,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(x[_]=void 0)}),x}),v.exports=n},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,v,g){var h=e("../internals/an-object");v.exports=function(){var t=h(this),u="";return t.global&&(u+="g"),t.ignoreCase&&(u+="i"),t.multiline&&(u+="m"),t.dotAll&&(u+="s"),t.unicode&&(u+="u"),t.sticky&&(u+="y"),u}},{"../internals/an-object":10}],112:[function(e,v,g){var h=e("./fails");function t(u,c){return RegExp(u,c)}g.UNSUPPORTED_Y=h(function(){var u=t("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),g.BROKEN_CARET=h(function(){var u=t("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},{"./fails":50}],113:[function(e,v,g){v.exports=function(h){if(h==null)throw TypeError("Can't call method on "+h);return h}},{}],114:[function(e,v,g){v.exports=Object.is||function(h,t){return h===t?h!==0||1/h==1/t:h!=h&&t!=t}},{}],115:[function(e,v,g){var h=e("../internals/global"),t=e("../internals/create-non-enumerable-property");v.exports=function(u,c){try{t(h,u,c)}catch{h[u]=c}return c}},{"../internals/create-non-enumerable-property":37,"../internals/global":59}],116:[function(e,v,g){var h=e("../internals/get-built-in"),t=e("../internals/object-define-property"),u=e("../internals/well-known-symbol"),c=e("../internals/descriptors"),f=u("species");v.exports=function(d){var n=h(d),r=t.f;c&&n&&!n[f]&&r(n,f,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(e,v,g){var h=e("../internals/object-define-property").f,t=e("../internals/has"),u=e("../internals/well-known-symbol")("toStringTag");v.exports=function(c,f,d){c&&!t(c=d?c:c.prototype,u)&&h(c,u,{configurable:!0,value:f})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(e,v,g){var h=e("../internals/shared"),t=e("../internals/uid"),u=h("keys");v.exports=function(c){return u[c]||(u[c]=t(c))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(e,v,g){var h=e("../internals/global"),t=e("../internals/set-global"),u="__core-js_shared__",c=h[u]||t(u,{});v.exports=c},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,v,g){var h=e("../internals/is-pure"),t=e("../internals/shared-store");(v.exports=function(u,c){return t[u]||(t[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:h?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,v,g){var h=e("../internals/an-object"),t=e("../internals/a-function"),u=e("../internals/well-known-symbol")("species");v.exports=function(c,f){var d,n=h(c).constructor;return n===void 0||(d=h(n)[u])==null?f:t(d)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(e,v,g){var h=e("../internals/fails");v.exports=function(t){return h(function(){var u=""[t]('"');return u!==u.toLowerCase()||3<u.split('"').length})}},{"../internals/fails":50}],123:[function(e,v,g){function h(c){return function(f,d){var n,r,o=String(u(f)),i=t(d),a=o.length;return i<0||a<=i?c?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?c?o.charAt(i):n:c?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}var t=e("../internals/to-integer"),u=e("../internals/require-object-coercible");v.exports={codeAt:h(!1),charAt:h(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(e,v,g){function h(i){return i+22+75*(i<26)}function t(i,a,y){var w=0;for(i=y?r(i/700):i>>1,i+=r(i/a);455<i;w+=36)i=r(i/35);return r(w+36*i/(i+38))}function u(i){var a,y,w=[],x=(i=function(ae){for(var le=[],J=0,ue=ae.length;J<ue;){var se=ae.charCodeAt(J++);if(55296<=se&&se<=56319&&J<ue){var me=ae.charCodeAt(J++);(64512&me)==56320?le.push(((1023&se)<<10)+(1023&me)+65536):(le.push(se),J--)}else le.push(se)}return le}(i)).length,_=128,T=0,E=72;for(a=0;a<i.length;a++)(y=i[a])<128&&w.push(o(y));var A=w.length,P=A;for(A&&w.push("-");P<x;){var I=c;for(a=0;a<i.length;a++)_<=(y=i[a])&&y<I&&(I=y);var R=P+1;if(I-_>r((c-T)/R))throw RangeError(n);for(T+=(I-_)*R,_=I,a=0;a<i.length;a++){if((y=i[a])<_&&++T>c)throw RangeError(n);if(y==_){for(var L=T,U=36;;U+=36){var D=U<=E?1:E+26<=U?26:U-E;if(L<D)break;var H=L-D,W=36-D;w.push(o(h(D+H%W))),L=r(H/W)}w.push(o(h(L))),E=t(T,R,P==A),T=0,++P}}++T,++_}return w.join("")}var c=2147483647,f=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,n="Overflow: input needs wider integers to process",r=Math.floor,o=String.fromCharCode;v.exports=function(i){var a,y,w=[],x=i.toLowerCase().replace(d,".").split(".");for(a=0;a<x.length;a++)y=x[a],w.push(f.test(y)?"xn--"+u(y):y);return w.join(".")}},{}],125:[function(e,v,g){var h=e("../internals/to-integer"),t=e("../internals/require-object-coercible");v.exports="".repeat||function(u){var c=String(t(this)),f="",d=h(u);if(d<0||d==1/0)throw RangeError("Wrong number of repetitions");for(;0<d;(d>>>=1)&&(c+=c))1&d&&(f+=c);return f}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(e,v,g){var h=e("../internals/fails"),t=e("../internals/whitespaces");v.exports=function(u){return h(function(){return!!t[u]()||""[u]()!=""||t[u].name!==u})}},{"../internals/fails":50,"../internals/whitespaces":147}],127:[function(e,v,g){function h(d){return function(n){var r=String(t(n));return 1&d&&(r=r.replace(c,"")),2&d&&(r=r.replace(f,"")),r}}var t=e("../internals/require-object-coercible"),u="["+e("../internals/whitespaces")+"]",c=RegExp("^"+u+u+"*"),f=RegExp(u+u+"*$");v.exports={start:h(1),end:h(2),trim:h(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(e,v,g){function h(D){if(L.hasOwnProperty(D)){var H=L[D];delete L[D],H()}}function t(D){return function(){h(D)}}function u(D){h(D.data)}function c(D){r.postMessage(D+"",_.protocol+"//"+_.host)}var f,d,n,r=e("../internals/global"),o=e("../internals/fails"),i=e("../internals/classof-raw"),a=e("../internals/function-bind-context"),y=e("../internals/html"),w=e("../internals/document-create-element"),x=e("../internals/engine-is-ios"),_=r.location,T=r.setImmediate,E=r.clearImmediate,A=r.process,P=r.MessageChannel,I=r.Dispatch,R=0,L={},U="onreadystatechange";T&&E||(T=function(D){for(var H=[],W=1;W<arguments.length;)H.push(arguments[W++]);return L[++R]=function(){(typeof D=="function"?D:Function(D)).apply(void 0,H)},f(R),R},E=function(D){delete L[D]},i(A)=="process"?f=function(D){A.nextTick(t(D))}:I&&I.now?f=function(D){I.now(t(D))}:P&&!x?(n=(d=new P).port2,d.port1.onmessage=u,f=a(n.postMessage,n,1)):!r.addEventListener||typeof postMessage!="function"||r.importScripts||o(c)||_.protocol==="file:"?f=U in w("script")?function(D){y.appendChild(w("script"))[U]=function(){y.removeChild(this),h(D)}}:function(D){setTimeout(t(D),0)}:(f=c,r.addEventListener("message",u,!1))),v.exports={set:T,clear:E}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(e,v,g){var h=e("../internals/classof-raw");v.exports=function(t){if(typeof t!="number"&&h(t)!="Number")throw TypeError("Incorrect invocation");return+t}},{"../internals/classof-raw":28}],130:[function(e,v,g){var h=e("../internals/to-integer"),t=Math.max,u=Math.min;v.exports=function(c,f){var d=h(c);return d<0?t(d+f,0):u(d,f)}},{"../internals/to-integer":133}],131:[function(e,v,g){var h=e("../internals/to-integer"),t=e("../internals/to-length");v.exports=function(u){if(u===void 0)return 0;var c=h(u),f=t(c);if(c!==f)throw RangeError("Wrong length or index");return f}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(e,v,g){var h=e("../internals/indexed-object"),t=e("../internals/require-object-coercible");v.exports=function(u){return h(t(u))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(e,v,g){var h=Math.ceil,t=Math.floor;v.exports=function(u){return isNaN(u=+u)?0:(0<u?t:h)(u)}},{}],134:[function(e,v,g){var h=e("../internals/to-integer"),t=Math.min;v.exports=function(u){return 0<u?t(h(u),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(e,v,g){var h=e("../internals/require-object-coercible");v.exports=function(t){return Object(h(t))}},{"../internals/require-object-coercible":113}],136:[function(e,v,g){var h=e("../internals/to-positive-integer");v.exports=function(t,u){var c=h(t);if(c%u)throw RangeError("Wrong offset");return c}},{"../internals/to-positive-integer":137}],137:[function(e,v,g){var h=e("../internals/to-integer");v.exports=function(t){var u=h(t);if(u<0)throw RangeError("The argument can't be less than 0");return u}},{"../internals/to-integer":133}],138:[function(e,v,g){var h=e("../internals/is-object");v.exports=function(t,u){if(!h(t))return t;var c,f;if(u&&typeof(c=t.toString)=="function"&&!h(f=c.call(t))||typeof(c=t.valueOf)=="function"&&!h(f=c.call(t))||!u&&typeof(c=t.toString)=="function"&&!h(f=c.call(t)))return f;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(e,v,g){var h={};h[e("../internals/well-known-symbol")("toStringTag")]="z",v.exports=String(h)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(e,v,g){function h(oe,pe){for(var ge=0,he=pe.length,Pe=new(re(oe))(he);ge<he;)Pe[ge]=pe[ge++];return Pe}function t(oe,pe){ve(oe,pe,{get:function(){return xe(this)[pe]}})}function u(oe){var pe;return oe instanceof O||(pe=R(oe))=="ArrayBuffer"||pe=="SharedArrayBuffer"}function c(oe,pe){return Y(oe)&&typeof pe!="symbol"&&pe in oe&&String(+pe)==String(pe)}function f(oe,pe){return c(oe,pe=P(pe,!0))?x(2,oe[pe]):De(oe,pe)}function d(oe,pe,ge){return!(c(oe,pe=P(pe,!0))&&L(ge)&&I(ge,"value"))||I(ge,"get")||I(ge,"set")||ge.configurable||I(ge,"writable")&&!ge.writable||I(ge,"enumerable")&&!ge.enumerable?ve(oe,pe,ge):(oe[pe]=ge.value,oe)}var n=e("../internals/export"),r=e("../internals/global"),o=e("../internals/descriptors"),i=e("../internals/typed-array-constructors-require-wrappers"),a=e("../internals/array-buffer-view-core"),y=e("../internals/array-buffer"),w=e("../internals/an-instance"),x=e("../internals/create-property-descriptor"),_=e("../internals/create-non-enumerable-property"),T=e("../internals/to-length"),E=e("../internals/to-index"),A=e("../internals/to-offset"),P=e("../internals/to-primitive"),I=e("../internals/has"),R=e("../internals/classof"),L=e("../internals/is-object"),U=e("../internals/object-create"),D=e("../internals/object-set-prototype-of"),H=e("../internals/object-get-own-property-names").f,W=e("../internals/typed-array-from"),ae=e("../internals/array-iteration").forEach,le=e("../internals/set-species"),J=e("../internals/object-define-property"),ue=e("../internals/object-get-own-property-descriptor"),se=e("../internals/internal-state"),me=e("../internals/inherit-if-required"),xe=se.get,Ce=se.set,ve=J.f,De=ue.f,_e=Math.round,Se=r.RangeError,O=y.ArrayBuffer,G=y.DataView,X=a.NATIVE_ARRAY_BUFFER_VIEWS,ee=a.TYPED_ARRAY_TAG,B=a.TypedArray,N=a.TypedArrayPrototype,re=a.aTypedArrayConstructor,Y=a.isTypedArray,ne="BYTES_PER_ELEMENT",ie="Wrong length";o?(X||(ue.f=f,J.f=d,t(N,"buffer"),t(N,"byteOffset"),t(N,"byteLength"),t(N,"length")),n({target:"Object",stat:!0,forced:!X},{getOwnPropertyDescriptor:f,defineProperty:d}),v.exports=function(oe,pe,ge){function he(qe,be){ve(qe,be,{get:function(){return Je=be,(V=xe(this)).view[Ue](Je*Pe+V.byteOffset,!0);var Je,V},set:function(Je){return V=be,Z=Je,z=xe(this),ge&&(Z=(Z=_e(Z))<0?0:255<Z?255:255&Z),void z.view[Le](V*Pe+z.byteOffset,Z,!0);var V,Z,z},enumerable:!0})}var Pe=oe.match(/\d+$/)[0]/8,Be=oe+(ge?"Clamped":"")+"Array",Ue="get"+oe,Le="set"+oe,$e=r[Be],Ae=$e,Me=Ae&&Ae.prototype,He={};X?i&&(Ae=pe(function(qe,be,Je,V){return w(qe,Ae,Be),me(L(be)?u(be)?V!==void 0?new $e(be,A(Je,Pe),V):Je!==void 0?new $e(be,A(Je,Pe)):new $e(be):Y(be)?h(Ae,be):W.call(Ae,be):new $e(E(be)),qe,Ae)}),D&&D(Ae,B),ae(H($e),function(qe){qe in Ae||_(Ae,qe,$e[qe])}),Ae.prototype=Me):(Ae=pe(function(qe,be,Je,V){w(qe,Ae,Be);var Z,z,$,de=0,Te=0;if(L(be)){if(!u(be))return Y(be)?h(Ae,be):W.call(Ae,be);Z=be,Te=A(Je,Pe);var Oe=be.byteLength;if(V===void 0){if(Oe%Pe||(z=Oe-Te)<0)throw Se(ie)}else if(Oe<(z=T(V)*Pe)+Te)throw Se(ie);$=z/Pe}else $=E(be),Z=new O(z=$*Pe);for(Ce(qe,{buffer:Z,byteOffset:Te,byteLength:z,length:$,view:new G(Z)});de<$;)he(qe,de++)}),D&&D(Ae,B),Me=Ae.prototype=U(N)),Me.constructor!==Ae&&_(Me,"constructor",Ae),ee&&_(Me,ee,Be),He[Be]=Ae,n({global:!0,forced:Ae!=$e,sham:!X},He),ne in Ae||_(Ae,ne,Pe),ne in Me||_(Me,ne,Pe),le(Be)}):v.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(e,v,g){var h=e("../internals/global"),t=e("../internals/fails"),u=e("../internals/check-correctness-of-iteration"),c=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,f=h.ArrayBuffer,d=h.Int8Array;v.exports=!c||!t(function(){d(1)})||!t(function(){new d(-1)})||!u(function(n){new d,new d(null),new d(1.5),new d(n)},!0)||t(function(){return new d(new f(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":59}],142:[function(e,v,g){var h=e("../internals/to-object"),t=e("../internals/to-length"),u=e("../internals/get-iterator-method"),c=e("../internals/is-array-iterator-method"),f=e("../internals/function-bind-context"),d=e("../internals/array-buffer-view-core").aTypedArrayConstructor;v.exports=function(n,r,o){var i,a,y,w,x,_,T=h(n),E=arguments.length,A=1<E?r:void 0,P=A!==void 0,I=u(T);if(I!=null&&!c(I))for(_=(x=I.call(T)).next,T=[];!(w=_.call(x)).done;)T.push(w.value);for(P&&2<E&&(A=f(A,o,2)),a=t(T.length),y=new(d(this))(a),i=0;i<a;i++)y[i]=P?A(T[i],i):T[i];return y}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(e,v,g){var h=0,t=Math.random();v.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++h+t).toString(36)}},{}],144:[function(e,v,g){var h=e("../internals/native-symbol");v.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(e,v,g){var h=e("../internals/well-known-symbol");g.f=h},{"../internals/well-known-symbol":146}],146:[function(e,v,g){var h=e("../internals/global"),t=e("../internals/shared"),u=e("../internals/has"),c=e("../internals/uid"),f=e("../internals/native-symbol"),d=e("../internals/use-symbol-as-uid"),n=t("wks"),r=h.Symbol,o=d?r:r&&r.withoutSetter||c;v.exports=function(i){return u(n,i)||(f&&u(r,i)?n[i]=r[i]:n[i]=o("Symbol."+i)),n[i]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(e,v,g){v.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],148:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/global"),u=e("../internals/array-buffer"),c=e("../internals/set-species"),f="ArrayBuffer",d=u[f];h({global:!0,forced:t[f]!==d},{ArrayBuffer:d}),c(f)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":59,"../internals/set-species":116}],149:[function(e,v,g){function h(A){if(!f(A))return!1;var P=A[w];return P!==void 0?!!P:c(A)}var t=e("../internals/export"),u=e("../internals/fails"),c=e("../internals/is-array"),f=e("../internals/is-object"),d=e("../internals/to-object"),n=e("../internals/to-length"),r=e("../internals/create-property"),o=e("../internals/array-species-create"),i=e("../internals/array-method-has-species-support"),a=e("../internals/well-known-symbol"),y=e("../internals/engine-v8-version"),w=a("isConcatSpreadable"),x=9007199254740991,_="Maximum allowed index exceeded",T=51<=y||!u(function(){var A=[];return A[w]=!1,A.concat()[0]!==A}),E=i("concat");t({target:"Array",proto:!0,forced:!T||!E},{concat:function(A){var P,I,R,L,U,D=d(this),H=o(D,0),W=0;for(P=-1,R=arguments.length;P<R;P++)if(h(U=P===-1?D:arguments[P])){if(L=n(U.length),x<W+L)throw TypeError(_);for(I=0;I<L;I++,W++)I in U&&r(H,W,U[I])}else{if(x<=W)throw TypeError(_);r(H,W++,U)}return H.length=W,H}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/array-iteration").every,u=e("../internals/array-method-is-strict"),c=e("../internals/array-method-uses-to-length"),f=u("every"),d=c("every");h({target:"Array",proto:!0,forced:!f||!d},{every:function(n,r){return t(this,n,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],151:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/array-fill"),u=e("../internals/add-to-unscopables");h({target:"Array",proto:!0},{fill:t}),u("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],152:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/array-iteration").filter,u=e("../internals/array-method-has-species-support"),c=e("../internals/array-method-uses-to-length"),f=u("filter"),d=c("filter");h({target:"Array",proto:!0,forced:!f||!d},{filter:function(n,r){return t(this,n,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],153:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/flatten-into-array"),u=e("../internals/to-object"),c=e("../internals/to-length"),f=e("../internals/a-function"),d=e("../internals/array-species-create");h({target:"Array",proto:!0},{flatMap:function(n,r){var o,i=u(this),a=c(i.length);return f(n),(o=d(i,0)).length=t(o,i,i,a,0,1,n,1<arguments.length?r:void 0),o}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":49,"../internals/flatten-into-array":52,"../internals/to-length":134,"../internals/to-object":135}],154:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/array-for-each");h({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})},{"../internals/array-for-each":16,"../internals/export":49}],155:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/array-from");h({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(u){Array.from(u)})},{from:t})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],156:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/array-includes").includes,u=e("../internals/add-to-unscopables");h({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(c,f){return t(this,c,1<arguments.length?f:void 0)}}),u("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],157:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/array-includes").indexOf,u=e("../internals/array-method-is-strict"),c=e("../internals/array-method-uses-to-length"),f=[].indexOf,d=!!f&&1/[1].indexOf(1,-0)<0,n=u("indexOf"),r=c("indexOf",{ACCESSORS:!0,1:0});h({target:"Array",proto:!0,forced:d||!n||!r},{indexOf:function(o,i){return d?f.apply(this,arguments)||0:t(this,o,1<arguments.length?i:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],158:[function(e,v,g){var h=e("../internals/to-indexed-object"),t=e("../internals/add-to-unscopables"),u=e("../internals/iterators"),c=e("../internals/internal-state"),f=e("../internals/define-iterator"),d="Array Iterator",n=c.set,r=c.getterFor(d);v.exports=f(Array,"Array",function(o,i){n(this,{type:d,target:h(o),index:0,kind:i})},function(){var o=r(this),i=o.target,a=o.kind,y=o.index++;return!i||y>=i.length?{value:o.target=void 0,done:!0}:a=="keys"?{value:y,done:!1}:a=="values"?{value:i[y],done:!1}:{value:[y,i[y]],done:!1}},"values"),u.Arguments=u.Array,t("keys"),t("values"),t("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/indexed-object"),u=e("../internals/to-indexed-object"),c=e("../internals/array-method-is-strict"),f=[].join,d=t!=Object,n=c("join",",");h({target:"Array",proto:!0,forced:d||!n},{join:function(r){return f.call(u(this),r===void 0?",":r)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/array-last-index-of");h({target:"Array",proto:!0,forced:t!==[].lastIndexOf},{lastIndexOf:t})},{"../internals/array-last-index-of":20,"../internals/export":49}],161:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/array-iteration").map,u=e("../internals/array-method-has-species-support"),c=e("../internals/array-method-uses-to-length"),f=u("map"),d=c("map");h({target:"Array",proto:!0,forced:!f||!d},{map:function(n,r){return t(this,n,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/is-object"),u=e("../internals/is-array"),c=e("../internals/to-absolute-index"),f=e("../internals/to-length"),d=e("../internals/to-indexed-object"),n=e("../internals/create-property"),r=e("../internals/well-known-symbol"),o=e("../internals/array-method-has-species-support"),i=e("../internals/array-method-uses-to-length"),a=o("slice"),y=i("slice",{ACCESSORS:!0,0:0,1:2}),w=r("species"),x=[].slice,_=Math.max;h({target:"Array",proto:!0,forced:!a||!y},{slice:function(T,E){var A,P,I,R=d(this),L=f(R.length),U=c(T,L),D=c(E===void 0?L:E,L);if(u(R)&&(typeof(A=R.constructor)!="function"||A!==Array&&!u(A.prototype)?t(A)&&(A=A[w])===null&&(A=void 0):A=void 0,A===Array||A===void 0))return x.call(R,U,D);for(P=new(A===void 0?Array:A)(_(D-U,0)),I=0;U<D;U++,I++)U in R&&n(P,I,R[U]);return P.length=I,P}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/array-iteration").some,u=e("../internals/array-method-is-strict"),c=e("../internals/array-method-uses-to-length"),f=u("some"),d=c("some");h({target:"Array",proto:!0,forced:!f||!d},{some:function(n,r){return t(this,n,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],164:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/to-absolute-index"),u=e("../internals/to-integer"),c=e("../internals/to-length"),f=e("../internals/to-object"),d=e("../internals/array-species-create"),n=e("../internals/create-property"),r=e("../internals/array-method-has-species-support"),o=e("../internals/array-method-uses-to-length"),i=r("splice"),a=o("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,w=Math.min;h({target:"Array",proto:!0,forced:!i||!a},{splice:function(x,_){var T,E,A,P,I,R,L=f(this),U=c(L.length),D=t(x,U),H=arguments.length;if(H===0?T=E=0:E=H===1?(T=0,U-D):(T=H-2,w(y(u(_),0),U-D)),9007199254740991<U+T-E)throw TypeError("Maximum allowed length exceeded");for(A=d(L,E),P=0;P<E;P++)(I=D+P)in L&&n(A,P,L[I]);if(T<(A.length=E)){for(P=D;P<U-E;P++)R=P+T,(I=P+E)in L?L[R]=L[I]:delete L[R];for(P=U;U-E+T<P;P--)delete L[P-1]}else if(E<T)for(P=U-E;D<P;P--)R=P+T-1,(I=P+E-1)in L?L[R]=L[I]:delete L[R];for(P=0;P<T;P++)L[P+D]=arguments[P+2];return L.length=U-E+T,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(e,v,g){e("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],166:[function(e,v,g){var h=e("../internals/descriptors"),t=e("../internals/object-define-property").f,u=Function.prototype,c=u.toString,f=/^\s*function ([^ (]*)/;!h||"name"in u||t(u,"name",{configurable:!0,get:function(){try{return c.call(this).match(f)[1]}catch{return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":92}],167:[function(e,v,g){var h=e("../internals/collection"),t=e("../internals/collection-strong");v.exports=h("Map",function(u){return function(c){return u(this,arguments.length?c:void 0)}},t)},{"../internals/collection":31,"../internals/collection-strong":30}],168:[function(e,v,g){var h=e("../internals/export"),t=Math.hypot,u=Math.abs,c=Math.sqrt;h({target:"Math",stat:!0,forced:!!t&&t(1/0,NaN)!==1/0},{hypot:function(f,d){for(var n,r,o=0,i=0,a=arguments.length,y=0;i<a;)y<(n=u(arguments[i++]))?(o=o*(r=y/n)*r+1,y=n):o+=0<n?(r=n/y)*r:n;return y===1/0?1/0:y*c(o)}})},{"../internals/export":49}],169:[function(e,v,g){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":80}],170:[function(e,v,g){function h(D){var H,W,ae,le,J,ue,se,me,xe=o(D,!1);if(typeof xe=="string"&&2<xe.length){if((H=(xe=_(xe)).charCodeAt(0))===43||H===45){if((W=xe.charCodeAt(2))===88||W===120)return NaN}else if(H===48){switch(xe.charCodeAt(1)){case 66:case 98:ae=2,le=49;break;case 79:case 111:ae=8,le=55;break;default:return+xe}for(ue=(J=xe.slice(2)).length,se=0;se<ue;se++)if((me=J.charCodeAt(se))<48||le<me)return NaN;return parseInt(J,ae)}}return+xe}var t=e("../internals/descriptors"),u=e("../internals/global"),c=e("../internals/is-forced"),f=e("../internals/redefine"),d=e("../internals/has"),n=e("../internals/classof-raw"),r=e("../internals/inherit-if-required"),o=e("../internals/to-primitive"),i=e("../internals/fails"),a=e("../internals/object-create"),y=e("../internals/object-get-own-property-names").f,w=e("../internals/object-get-own-property-descriptor").f,x=e("../internals/object-define-property").f,_=e("../internals/string-trim").trim,T="Number",E=u[T],A=E.prototype,P=n(a(A))==T;if(c(T,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var I,R=function(D){var H=arguments.length<1?0:D,W=this;return W instanceof R&&(P?i(function(){A.valueOf.call(W)}):n(W)!=T)?r(new E(h(H)),W,R):h(H)},L=t?y(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),U=0;L.length>U;U++)d(E,I=L[U])&&!d(R,I)&&x(R,I,w(E,I));(R.prototype=A).constructor=R,f(u,T,R)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],171:[function(e,v,g){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":88}],172:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/to-integer"),u=e("../internals/this-number-value"),c=e("../internals/string-repeat"),f=e("../internals/fails"),d=1 .toFixed,n=Math.floor,r=function(o,i,a){return i===0?a:i%2==1?r(o,i-1,a*o):r(o*o,i/2,a)};h({target:"Number",proto:!0,forced:d&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!f(function(){d.call({})})},{toFixed:function(o){function i(L,U){for(var D=-1,H=U;++D<6;)H+=L*P[D],P[D]=H%1e7,H=n(H/1e7)}function a(L){for(var U=6,D=0;0<=--U;)D+=P[U],P[U]=n(D/L),D=D%L*1e7}function y(){for(var L=6,U="";0<=--L;)if(U!==""||L===0||P[L]!==0){var D=String(P[L]);U=U===""?D:U+c.call("0",7-D.length)+D}return U}var w,x,_,T,E=u(this),A=t(o),P=[0,0,0,0,0,0],I="",R="0";if(A<0||20<A)throw RangeError("Incorrect fraction digits");if(E!=E)return"NaN";if(E<=-1e21||1e21<=E)return String(E);if(E<0&&(I="-",E=-E),1e-21<E)if(x=(w=function(L){for(var U=0,D=L;4096<=D;)U+=12,D/=4096;for(;2<=D;)U+=1,D/=2;return U}(E*r(2,69,1))-69)<0?E*r(2,-w,1):E/r(2,w,1),x*=4503599627370496,0<(w=52-w)){for(i(0,x),_=A;7<=_;)i(1e7,0),_-=7;for(i(r(10,_,1),0),_=w-1;23<=_;)a(1<<23),_-=23;a(1<<_),i(1,1),a(2),R=y()}else i(0,x),i(1<<-w,0),R=y()+c.call("0",A);return R=0<A?I+((T=R.length)<=A?"0."+c.call("0",A-T)+R:R.slice(0,T-A)+"."+R.slice(T-A)):I+R}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],173:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/object-assign");h({target:"Object",stat:!0,forced:Object.assign!==t},{assign:t})},{"../internals/export":49,"../internals/object-assign":89}],174:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/fails"),u=e("../internals/object-get-own-property-names-external").f;h({target:"Object",stat:!0,forced:t(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:u})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":94}],175:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/fails"),u=e("../internals/to-object"),c=e("../internals/object-get-prototype-of"),f=e("../internals/correct-prototype-getter");h({target:"Object",stat:!0,forced:t(function(){c(1)}),sham:!f},{getPrototypeOf:function(d){return c(u(d))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/to-object"),u=e("../internals/object-keys");h({target:"Object",stat:!0,forced:e("../internals/fails")(function(){u(1)})},{keys:function(c){return u(t(c))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(e,v,g){var h=e("../internals/to-string-tag-support"),t=e("../internals/redefine"),u=e("../internals/object-to-string");h||t(Object.prototype,"toString",u,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(e,v,g){function h(Ae){var Me;return!(!P(Ae)||typeof(Me=Ae.then)!="function")&&Me}function t(Ae,Me,He){if(!Me.notified){Me.notified=!0;var qe=Me.reactions;le(function(){for(var be=Me.value,Je=Me.state==1,V=0;qe.length>V;){var Z,z,$,de=qe[V++],Te=Je?de.ok:de.fail,Oe=de.resolve,Ve=de.reject,we=de.domain;try{Te?(Je||(Me.rejection===2&&Le(Ae,Me),Me.rejection=1),Te===!0?Z=be:(we&&we.enter(),Z=Te(be),we&&(we.exit(),$=!0)),Z===de.promise?Ve(B("Promise-chain cycle")):(z=h(Z))?z.call(Z,Oe,Ve):Oe(Z)):Ve(be)}catch(Ye){we&&!$&&we.exit(),Ve(Ye)}}Me.reactions=[],Me.notified=!1,He&&!Me.rejection&&Be(Ae,Me)})}}function u(Ae,Me,He){var qe,be;pe?((qe=N.createEvent("Event")).promise=Me,qe.reason=He,qe.initEvent(Ae,!1,!0),y.dispatchEvent(qe)):qe={promise:Me,reason:He},(be=y["on"+Ae])?be(qe):Ae===ge&&ue("Unhandled promise rejection",He)}function c(Ae,Me,He,qe){return function(be){Ae(Me,He,be,qe)}}function f(Ae,Me,He,qe){Me.done||(Me.done=!0,qe&&(Me=qe),Me.value=He,Me.state=2,t(Ae,Me,!0))}var d,n,r,o,i=e("../internals/export"),a=e("../internals/is-pure"),y=e("../internals/global"),w=e("../internals/get-built-in"),x=e("../internals/native-promise-constructor"),_=e("../internals/redefine"),T=e("../internals/redefine-all"),E=e("../internals/set-to-string-tag"),A=e("../internals/set-species"),P=e("../internals/is-object"),I=e("../internals/a-function"),R=e("../internals/an-instance"),L=e("../internals/classof-raw"),U=e("../internals/inspect-source"),D=e("../internals/iterate"),H=e("../internals/check-correctness-of-iteration"),W=e("../internals/species-constructor"),ae=e("../internals/task").set,le=e("../internals/microtask"),J=e("../internals/promise-resolve"),ue=e("../internals/host-report-errors"),se=e("../internals/new-promise-capability"),me=e("../internals/perform"),xe=e("../internals/internal-state"),Ce=e("../internals/is-forced"),ve=e("../internals/well-known-symbol"),De=e("../internals/engine-v8-version"),_e=ve("species"),Se="Promise",O=xe.get,G=xe.set,X=xe.getterFor(Se),ee=x,B=y.TypeError,N=y.document,re=y.process,Y=w("fetch"),ne=se.f,ie=ne,oe=L(re)=="process",pe=!!(N&&N.createEvent&&y.dispatchEvent),ge="unhandledrejection",he=Ce(Se,function(){if(U(ee)===String(ee)&&(De===66||!oe&&typeof PromiseRejectionEvent!="function")||a&&!ee.prototype.finally)return!0;if(51<=De&&/native code/.test(ee))return!1;function Ae(He){He(function(){},function(){})}var Me=ee.resolve(1);return(Me.constructor={})[_e]=Ae,!(Me.then(function(){})instanceof Ae)}),Pe=he||!H(function(Ae){ee.all(Ae).catch(function(){})}),Be=function(Ae,Me){ae.call(y,function(){var He,qe=Me.value;if(Ue(Me)&&(He=me(function(){oe?re.emit("unhandledRejection",qe,Ae):u(ge,Ae,qe)}),Me.rejection=oe||Ue(Me)?2:1,He.error))throw He.value})},Ue=function(Ae){return Ae.rejection!==1&&!Ae.parent},Le=function(Ae,Me){ae.call(y,function(){oe?re.emit("rejectionHandled",Ae):u("rejectionhandled",Ae,Me.value)})},$e=function(Ae,Me,He,qe){if(!Me.done){Me.done=!0,qe&&(Me=qe);try{if(Ae===He)throw B("Promise can't be resolved itself");var be=h(He);be?le(function(){var Je={done:!1};try{be.call(He,c($e,Ae,Je,Me),c(f,Ae,Je,Me))}catch(V){f(Ae,Je,V,Me)}}):(Me.value=He,Me.state=1,t(Ae,Me,!1))}catch(Je){f(Ae,{done:!1},Je,Me)}}};he&&(ee=function(Ae){R(this,ee,Se),I(Ae),d.call(this);var Me=O(this);try{Ae(c($e,this,Me),c(f,this,Me))}catch(He){f(this,Me,He)}},(d=function(){G(this,{type:Se,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=T(ee.prototype,{then:function(Ae,Me){var He=X(this),qe=ne(W(this,ee));return qe.ok=typeof Ae!="function"||Ae,qe.fail=typeof Me=="function"&&Me,qe.domain=oe?re.domain:void 0,He.parent=!0,He.reactions.push(qe),He.state!=0&&t(this,He,!1),qe.promise},catch:function(Ae){return this.then(void 0,Ae)}}),n=function(){var Ae=new d,Me=O(Ae);this.promise=Ae,this.resolve=c($e,Ae,Me),this.reject=c(f,Ae,Me)},se.f=ne=function(Ae){return Ae===ee||Ae===r?new n(Ae):ie(Ae)},a||typeof x!="function"||(o=x.prototype.then,_(x.prototype,"then",function(Ae,Me){var He=this;return new ee(function(qe,be){o.call(He,qe,be)}).then(Ae,Me)},{unsafe:!0}),typeof Y=="function"&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(Ae){return J(ee,Y.apply(y,arguments))}}))),i({global:!0,wrap:!0,forced:he},{Promise:ee}),E(ee,Se,!1,!0),A(Se),r=w(Se),i({target:Se,stat:!0,forced:he},{reject:function(Ae){var Me=ne(this);return Me.reject.call(void 0,Ae),Me.promise}}),i({target:Se,stat:!0,forced:a||he},{resolve:function(Ae){return J(a&&this===r?ee:this,Ae)}}),i({target:Se,stat:!0,forced:Pe},{all:function(Ae){var Me=this,He=ne(Me),qe=He.resolve,be=He.reject,Je=me(function(){var V=I(Me.resolve),Z=[],z=0,$=1;D(Ae,function(de){var Te=z++,Oe=!1;Z.push(void 0),$++,V.call(Me,de).then(function(Ve){Oe||(Oe=!0,Z[Te]=Ve,--$||qe(Z))},be)}),--$||qe(Z)});return Je.error&&be(Je.value),He.promise},race:function(Ae){var Me=this,He=ne(Me),qe=He.reject,be=me(function(){var Je=I(Me.resolve);D(Ae,function(V){Je.call(Me,V).then(He.resolve,qe)})});return be.error&&qe(be.value),He.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/get-built-in"),u=e("../internals/a-function"),c=e("../internals/an-object"),f=e("../internals/is-object"),d=e("../internals/object-create"),n=e("../internals/function-bind"),r=e("../internals/fails"),o=t("Reflect","construct"),i=r(function(){function w(){}return!(o(function(){},[],w)instanceof w)}),a=!r(function(){o(function(){})}),y=i||a;h({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(w,x,_){u(w),c(x);var T=arguments.length<3?w:u(_);if(a&&!i)return o(w,x,T);if(w==T){switch(x.length){case 0:return new w;case 1:return new w(x[0]);case 2:return new w(x[0],x[1]);case 3:return new w(x[0],x[1],x[2]);case 4:return new w(x[0],x[1],x[2],x[3])}var E=[null];return E.push.apply(E,x),new(n.apply(w,E))}var A=T.prototype,P=d(f(A)?A:Object.prototype),I=Function.apply.call(w,P,x);return f(I)?I:P}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(e,v,g){var h=e("../internals/descriptors"),t=e("../internals/global"),u=e("../internals/is-forced"),c=e("../internals/inherit-if-required"),f=e("../internals/object-define-property").f,d=e("../internals/object-get-own-property-names").f,n=e("../internals/is-regexp"),r=e("../internals/regexp-flags"),o=e("../internals/regexp-sticky-helpers"),i=e("../internals/redefine"),a=e("../internals/fails"),y=e("../internals/internal-state").set,w=e("../internals/set-species"),x=e("../internals/well-known-symbol")("match"),_=t.RegExp,T=_.prototype,E=/a/g,A=/a/g,P=new _(E)!==E,I=o.UNSUPPORTED_Y;if(h&&u("RegExp",!P||I||a(function(){return A[x]=!1,_(E)!=E||_(A)==A||_(E,"i")!="/a/i"}))){let H=function(W){W in R||f(R,W,{configurable:!0,get:function(){return _[W]},set:function(ae){_[W]=ae}})};for(var D=H,R=function(W,ae){var le,J=this instanceof R,ue=n(W),se=ae===void 0;if(!J&&ue&&W.constructor===R&&se)return W;P?ue&&!se&&(W=W.source):W instanceof R&&(se&&(ae=r.call(W)),W=W.source),I&&(le=!!ae&&-1<ae.indexOf("y"))&&(ae=ae.replace(/y/g,""));var me=c(P?new _(W,ae):_(W,ae),J?this:T,R);return I&&le&&y(me,{sticky:le}),me},L=d(_),U=0;L.length>U;)H(L[U++]);(T.constructor=R).prototype=T,i(t,"RegExp",R)}w("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/regexp-exec");h({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})},{"../internals/export":49,"../internals/regexp-exec":110}],182:[function(e,v,g){var h=e("../internals/redefine"),t=e("../internals/an-object"),u=e("../internals/fails"),c=e("../internals/regexp-flags"),f="toString",d=RegExp.prototype,n=d[f],r=u(function(){return n.call({source:"a",flags:"b"})!="/a/b"}),o=n.name!=f;(r||o)&&h(RegExp.prototype,f,function(){var i=t(this),a=String(i.source),y=i.flags;return"/"+a+"/"+String(y===void 0&&i instanceof RegExp&&!("flags"in d)?c.call(i):y)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(e,v,g){var h=e("../internals/collection"),t=e("../internals/collection-strong");v.exports=h("Set",function(u){return function(c){return u(this,arguments.length?c:void 0)}},t)},{"../internals/collection":31,"../internals/collection-strong":30}],184:[function(e,v,g){var h,t=e("../internals/export"),u=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/to-length"),f=e("../internals/not-a-regexp"),d=e("../internals/require-object-coercible"),n=e("../internals/correct-is-regexp-logic"),r=e("../internals/is-pure"),o="".endsWith,i=Math.min,a=n("endsWith");t({target:"String",proto:!0,forced:!!(r||a||!(h=u(String.prototype,"endsWith"))||h.writable)&&!a},{endsWith:function(y,w){var x=String(d(this));f(y);var _=1<arguments.length?w:void 0,T=c(x.length),E=_===void 0?T:i(c(_),T),A=String(y);return o?o.call(x,A,E):x.slice(E-A.length,E)===A}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/not-a-regexp"),u=e("../internals/require-object-coercible");h({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(c,f){return!!~String(u(this)).indexOf(t(c),1<arguments.length?f:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(e,v,g){var h=e("../internals/string-multibyte").charAt,t=e("../internals/internal-state"),u=e("../internals/define-iterator"),c="String Iterator",f=t.set,d=t.getterFor(c);u(String,"String",function(n){f(this,{type:c,string:String(n),index:0})},function(){var n,r=d(this),o=r.string,i=r.index;return i>=o.length?{value:void 0,done:!0}:(n=h(o,i),r.index+=n.length,{value:n,done:!1})})},{"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(e,v,g){var h=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),u=e("../internals/to-length"),c=e("../internals/require-object-coercible"),f=e("../internals/advance-string-index"),d=e("../internals/regexp-exec-abstract");h("match",1,function(n,r,o){return[function(i){var a=c(this),y=i==null?void 0:i[n];return y!==void 0?y.call(i,a):new RegExp(i)[n](String(a))},function(i){var a=o(r,i,this);if(a.done)return a.value;var y=t(i),w=String(this);if(!y.global)return d(y,w);for(var x,_=y.unicode,T=[],E=y.lastIndex=0;(x=d(y,w))!==null;){var A=String(x[0]);(T[E]=A)===""&&(y.lastIndex=f(w,u(y.lastIndex),_)),E++}return E===0?null:T}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(e,v,g){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":125}],189:[function(e,v,g){var h=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),u=e("../internals/to-object"),c=e("../internals/to-length"),f=e("../internals/to-integer"),d=e("../internals/require-object-coercible"),n=e("../internals/advance-string-index"),r=e("../internals/regexp-exec-abstract"),o=Math.max,i=Math.min,a=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,w=/\$([$&'`]|\d\d?)/g;h("replace",2,function(x,_,T,E){var A=E.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,P=E.REPLACE_KEEPS_$0,I=A?"$":"$0";return[function(L,U){var D=d(this),H=L==null?void 0:L[x];return H!==void 0?H.call(L,D,U):_.call(String(D),L,U)},function(L,U){if(!A&&P||typeof U=="string"&&U.indexOf(I)===-1){var D=T(_,L,this,U);if(D.done)return D.value}var H=t(L),W=String(this),ae=typeof U=="function";ae||(U=String(U));var le=H.global;if(le){var J=H.unicode;H.lastIndex=0}for(var ue=[];;){var se=r(H,W);if(se===null||(ue.push(se),!le))break;String(se[0])===""&&(H.lastIndex=n(W,c(H.lastIndex),J))}for(var me,xe="",Ce=0,ve=0;ve<ue.length;ve++){se=ue[ve];for(var De=String(se[0]),_e=o(i(f(se.index),W.length),0),Se=[],O=1;O<se.length;O++)Se.push((me=se[O])===void 0?me:String(me));var G=se.groups;if(ae){var X=[De].concat(Se,_e,W);G!==void 0&&X.push(G);var ee=String(U.apply(void 0,X))}else ee=R(De,W,_e,Se,G,U);Ce<=_e&&(xe+=W.slice(Ce,_e)+ee,Ce=_e+De.length)}return xe+W.slice(Ce)}];function R(L,U,D,H,W,ae){var le=D+L.length,J=H.length,ue=w;return W!==void 0&&(W=u(W),ue=y),_.call(ae,ue,function(se,me){var xe;switch(me.charAt(0)){case"$":return"$";case"&":return L;case"`":return U.slice(0,D);case"'":return U.slice(le);case"<":xe=W[me.slice(1,-1)];break;default:var Ce=+me;if(Ce==0)return se;if(J<Ce){var ve=a(Ce/10);return ve===0?se:ve<=J?H[ve-1]===void 0?me.charAt(1):H[ve-1]+me.charAt(1):se}xe=H[Ce-1]}return xe===void 0?"":xe})}})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(e,v,g){var h=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),u=e("../internals/require-object-coercible"),c=e("../internals/same-value"),f=e("../internals/regexp-exec-abstract");h("search",1,function(d,n,r){return[function(o){var i=u(this),a=o==null?void 0:o[d];return a!==void 0?a.call(o,i):new RegExp(o)[d](String(i))},function(o){var i=r(n,o,this);if(i.done)return i.value;var a=t(o),y=String(this),w=a.lastIndex;c(w,0)||(a.lastIndex=0);var x=f(a,y);return c(a.lastIndex,w)||(a.lastIndex=w),x===null?-1:x.index}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(e,v,g){var h=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/is-regexp"),u=e("../internals/an-object"),c=e("../internals/require-object-coercible"),f=e("../internals/species-constructor"),d=e("../internals/advance-string-index"),n=e("../internals/to-length"),r=e("../internals/regexp-exec-abstract"),o=e("../internals/regexp-exec"),i=e("../internals/fails"),a=[].push,y=Math.min,w=4294967295,x=!i(function(){return!RegExp(w,"y")});h("split",2,function(_,T,E){var A;return A="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(P,I){var R=String(c(this)),L=I===void 0?w:I>>>0;if(L==0)return[];if(P===void 0)return[R];if(!t(P))return T.call(R,P,L);for(var U,D,H,W=[],ae=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(P.sticky?"y":""),le=0,J=new RegExp(P.source,ae+"g");(U=o.call(J,R))&&!(le<(D=J.lastIndex)&&(W.push(R.slice(le,U.index)),1<U.length&&U.index<R.length&&a.apply(W,U.slice(1)),H=U[0].length,le=D,W.length>=L));)J.lastIndex===U.index&&J.lastIndex++;return le===R.length?!H&&J.test("")||W.push(""):W.push(R.slice(le)),W.length>L?W.slice(0,L):W}:"0".split(void 0,0).length?function(P,I){return P===void 0&&I===0?[]:T.call(this,P,I)}:T,[function(P,I){var R=c(this),L=P==null?void 0:P[_];return L!==void 0?L.call(P,R,I):A.call(String(R),P,I)},function(P,I){var R=E(A,P,this,I,A!==T);if(R.done)return R.value;var L=u(P),U=String(this),D=f(L,RegExp),H=L.unicode,W=(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(x?"y":"g"),ae=new D(x?L:"^(?:"+L.source+")",W),le=I===void 0?w:I>>>0;if(le==0)return[];if(U.length===0)return r(ae,U)===null?[U]:[];for(var J=0,ue=0,se=[];ue<U.length;){ae.lastIndex=x?ue:0;var me,xe=r(ae,x?U:U.slice(ue));if(xe===null||(me=y(n(ae.lastIndex+(x?0:ue)),U.length))===J)ue=d(U,ue,H);else{if(se.push(U.slice(J,ue)),se.length===le)return se;for(var Ce=1;Ce<=xe.length-1;Ce++)if(se.push(xe[Ce]),se.length===le)return se;ue=J=me}}return se.push(U.slice(J)),se}]},!x)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/create-html");h({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return t(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":122}],193:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/string-trim").trim;h({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return t(this)}})},{"../internals/export":49,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(e,v,g){var h=e("../internals/export"),t=e("../internals/descriptors"),u=e("../internals/global"),c=e("../internals/has"),f=e("../internals/is-object"),d=e("../internals/object-define-property").f,n=e("../internals/copy-constructor-properties"),r=u.Symbol;if(t&&typeof r=="function"&&(!("description"in r.prototype)||r().description!==void 0)){var o={},i=function(_){var T=arguments.length<1||_===void 0?void 0:String(_),E=this instanceof i?new r(T):T===void 0?r():r(T);return T===""&&(o[E]=!0),E};n(i,r);var a=i.prototype=r.prototype;a.constructor=i;var y=a.toString,w=String(r("test"))=="Symbol(test)",x=/^Symbol\((.*)\)[^)]+$/;d(a,"description",{configurable:!0,get:function(){var _=f(this)?this.valueOf():this,T=y.call(_);if(c(o,_))return"";var E=w?T.slice(7,-1):T.replace(x,"$1");return E===""?void 0:E}}),h({global:!0,forced:!0},{Symbol:i})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(e,v,g){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],196:[function(e,v,g){function h(z,$){var de=Be[z]=R(ie[B]);return re(de,{type:ee,tag:z,description:$}),o||(de.description=$),de}function t(z,$){T(z);var de=A($),Te=L(de).concat(Z(de));return G(Te,function(Oe){o&&!V.call(de,Oe)||Je(z,Oe,de[Oe])}),z}function u(z,$){var de=A(z),Te=P($,!0);if(de!==ne||!w(Be,Te)||w(Ue,Te)){var Oe=pe(de,Te);return!Oe||!w(Be,Te)||w(de,X)&&de[X][Te]||(Oe.enumerable=!0),Oe}}function c(z){var $=he(A(z)),de=[];return G($,function(Te){w(Be,Te)||w(xe,Te)||de.push(Te)}),de}var f=e("../internals/export"),d=e("../internals/global"),n=e("../internals/get-built-in"),r=e("../internals/is-pure"),o=e("../internals/descriptors"),i=e("../internals/native-symbol"),a=e("../internals/use-symbol-as-uid"),y=e("../internals/fails"),w=e("../internals/has"),x=e("../internals/is-array"),_=e("../internals/is-object"),T=e("../internals/an-object"),E=e("../internals/to-object"),A=e("../internals/to-indexed-object"),P=e("../internals/to-primitive"),I=e("../internals/create-property-descriptor"),R=e("../internals/object-create"),L=e("../internals/object-keys"),U=e("../internals/object-get-own-property-names"),D=e("../internals/object-get-own-property-names-external"),H=e("../internals/object-get-own-property-symbols"),W=e("../internals/object-get-own-property-descriptor"),ae=e("../internals/object-define-property"),le=e("../internals/object-property-is-enumerable"),J=e("../internals/create-non-enumerable-property"),ue=e("../internals/redefine"),se=e("../internals/shared"),me=e("../internals/shared-key"),xe=e("../internals/hidden-keys"),Ce=e("../internals/uid"),ve=e("../internals/well-known-symbol"),De=e("../internals/well-known-symbol-wrapped"),_e=e("../internals/define-well-known-symbol"),Se=e("../internals/set-to-string-tag"),O=e("../internals/internal-state"),G=e("../internals/array-iteration").forEach,X=me("hidden"),ee="Symbol",B="prototype",N=ve("toPrimitive"),re=O.set,Y=O.getterFor(ee),ne=Object[B],ie=d.Symbol,oe=n("JSON","stringify"),pe=W.f,ge=ae.f,he=D.f,Pe=le.f,Be=se("symbols"),Ue=se("op-symbols"),Le=se("string-to-symbol-registry"),$e=se("symbol-to-string-registry"),Ae=se("wks"),Me=d.QObject,He=!Me||!Me[B]||!Me[B].findChild,qe=o&&y(function(){return R(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!=7})?function(z,$,de){var Te=pe(ne,$);Te&&delete ne[$],ge(z,$,de),Te&&z!==ne&&ge(ne,$,Te)}:ge,be=a?function(z){return typeof z=="symbol"}:function(z){return Object(z)instanceof ie},Je=function(z,$,de){z===ne&&Je(Ue,$,de),T(z);var Te=P($,!0);return T(de),w(Be,Te)?(de.enumerable?(w(z,X)&&z[X][Te]&&(z[X][Te]=!1),de=R(de,{enumerable:I(0,!1)})):(w(z,X)||ge(z,X,I(1,{})),z[X][Te]=!0),qe(z,Te,de)):ge(z,Te,de)},V=function(z){var $=P(z,!0),de=Pe.call(this,$);return!(this===ne&&w(Be,$)&&!w(Ue,$))&&(!(de||!w(this,$)||!w(Be,$)||w(this,X)&&this[X][$])||de)},Z=function(z){var $=z===ne,de=he($?Ue:A(z)),Te=[];return G(de,function(Oe){!w(Be,Oe)||$&&!w(ne,Oe)||Te.push(Be[Oe])}),Te};i||(ue((ie=function(z){if(this instanceof ie)throw TypeError("Symbol is not a constructor");var $=arguments.length&&z!==void 0?String(z):void 0,de=Ce($),Te=function(Oe){this===ne&&Te.call(Ue,Oe),w(this,X)&&w(this[X],de)&&(this[X][de]=!1),qe(this,de,I(1,Oe))};return o&&He&&qe(ne,de,{configurable:!0,set:Te}),h(de,$)})[B],"toString",function(){return Y(this).tag}),ue(ie,"withoutSetter",function(z){return h(Ce(z),z)}),le.f=V,ae.f=Je,W.f=u,U.f=D.f=c,H.f=Z,De.f=function(z){return h(ve(z),z)},o&&(ge(ie[B],"description",{configurable:!0,get:function(){return Y(this).description}}),r||ue(ne,"propertyIsEnumerable",V,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!i,sham:!i},{Symbol:ie}),G(L(Ae),function(z){_e(z)}),f({target:ee,stat:!0,forced:!i},{for:function(z){var $=String(z);if(w(Le,$))return Le[$];var de=ie($);return Le[$]=de,$e[de]=$,de},keyFor:function(z){if(!be(z))throw TypeError(z+" is not a symbol");if(w($e,z))return $e[z]},useSetter:function(){He=!0},useSimple:function(){He=!1}}),f({target:"Object",stat:!0,forced:!i,sham:!o},{create:function(z,$){return $===void 0?R(z):t(R(z),$)},defineProperty:Je,defineProperties:t,getOwnPropertyDescriptor:u}),f({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:c,getOwnPropertySymbols:Z}),f({target:"Object",stat:!0,forced:y(function(){H.f(1)})},{getOwnPropertySymbols:function(z){return H.f(E(z))}}),oe&&f({target:"JSON",stat:!0,forced:!i||y(function(){var z=ie();return oe([z])!="[null]"||oe({a:z})!="{}"||oe(Object(z))!="{}"})},{stringify:function(z,$,de){for(var Te,Oe=[z],Ve=1;Ve<arguments.length;)Oe.push(arguments[Ve++]);if((_(Te=$)||z!==void 0)&&!be(z))return x($)||($=function(we,Ye){if(typeof Te=="function"&&(Ye=Te.call(this,we,Ye)),!be(Ye))return Ye}),Oe[1]=$,oe.apply(null,Oe)}}),ie[B][N]||J(ie[B],N,ie[B].valueOf),Se(ie,ee),xe[X]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-copy-within"),u=h.aTypedArray;(0,h.exportTypedArrayMethod)("copyWithin",function(c,f,d){return t.call(u(this),c,f,2<arguments.length?d:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").every,u=h.aTypedArray;(0,h.exportTypedArrayMethod)("every",function(c,f){return t(u(this),c,1<arguments.length?f:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-fill"),u=h.aTypedArray;(0,h.exportTypedArrayMethod)("fill",function(c){return t.apply(u(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").filter,u=e("../internals/species-constructor"),c=h.aTypedArray,f=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("filter",function(d,n){for(var r=t(c(this),d,1<arguments.length?n:void 0),o=u(this,this.constructor),i=0,a=r.length,y=new(f(o))(a);i<a;)y[i]=r[i++];return y})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").findIndex,u=h.aTypedArray;(0,h.exportTypedArrayMethod)("findIndex",function(c,f){return t(u(this),c,1<arguments.length?f:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").find,u=h.aTypedArray;(0,h.exportTypedArrayMethod)("find",function(c,f){return t(u(this),c,1<arguments.length?f:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,v,g){e("../internals/typed-array-constructor")("Float32",function(h){return function(t,u,c){return h(this,t,u,c)}})},{"../internals/typed-array-constructor":140}],204:[function(e,v,g){e("../internals/typed-array-constructor")("Float64",function(h){return function(t,u,c){return h(this,t,u,c)}})},{"../internals/typed-array-constructor":140}],205:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").forEach,u=h.aTypedArray;(0,h.exportTypedArrayMethod)("forEach",function(c,f){t(u(this),c,1<arguments.length?f:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-includes").includes,u=h.aTypedArray;(0,h.exportTypedArrayMethod)("includes",function(c,f){return t(u(this),c,1<arguments.length?f:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-includes").indexOf,u=h.aTypedArray;(0,h.exportTypedArrayMethod)("indexOf",function(c,f){return t(u(this),c,1<arguments.length?f:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(e,v,g){e("../internals/typed-array-constructor")("Int16",function(h){return function(t,u,c){return h(this,t,u,c)}})},{"../internals/typed-array-constructor":140}],209:[function(e,v,g){e("../internals/typed-array-constructor")("Int32",function(h){return function(t,u,c){return h(this,t,u,c)}})},{"../internals/typed-array-constructor":140}],210:[function(e,v,g){function h(){return n.call(i(this))}var t=e("../internals/global"),u=e("../internals/array-buffer-view-core"),c=e("../modules/es.array.iterator"),f=e("../internals/well-known-symbol")("iterator"),d=t.Uint8Array,n=c.values,r=c.keys,o=c.entries,i=u.aTypedArray,a=u.exportTypedArrayMethod,y=d&&d.prototype[f],w=!!y&&(y.name=="values"||y.name==null);a("entries",function(){return o.call(i(this))}),a("keys",function(){return r.call(i(this))}),a("values",h,!w),a(f,h,!w)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=h.aTypedArray,u=h.exportTypedArrayMethod,c=[].join;u("join",function(f){return c.apply(t(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-last-index-of"),u=h.aTypedArray;(0,h.exportTypedArrayMethod)("lastIndexOf",function(c){return t.apply(u(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").map,u=e("../internals/species-constructor"),c=h.aTypedArray,f=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("map",function(d,n){return t(c(this),d,1<arguments.length?n:void 0,function(r,o){return new(f(u(r,r.constructor)))(o)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-reduce").right,u=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduceRight",function(c,f){return t(u(this),c,arguments.length,1<arguments.length?f:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-reduce").left,u=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduce",function(c,f){return t(u(this),c,arguments.length,1<arguments.length?f:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=h.aTypedArray,u=h.exportTypedArrayMethod,c=Math.floor;u("reverse",function(){for(var f,d=t(this).length,n=c(d/2),r=0;r<n;)f=this[r],this[r++]=this[--d],this[d]=f;return this})},{"../internals/array-buffer-view-core":12}],217:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/to-length"),u=e("../internals/to-offset"),c=e("../internals/to-object"),f=e("../internals/fails"),d=h.aTypedArray;(0,h.exportTypedArrayMethod)("set",function(n,r){d(this);var o=u(1<arguments.length?r:void 0,1),i=this.length,a=c(n),y=t(a.length),w=0;if(i<y+o)throw RangeError("Wrong length");for(;w<y;)this[o+w]=a[w++]},f(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/species-constructor"),u=e("../internals/fails"),c=h.aTypedArray,f=h.aTypedArrayConstructor,d=h.exportTypedArrayMethod,n=[].slice;d("slice",function(r,o){for(var i=n.call(c(this),r,o),a=t(this,this.constructor),y=0,w=i.length,x=new(f(a))(w);y<w;)x[y]=i[y++];return x},u(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":121}],219:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").some,u=h.aTypedArray;(0,h.exportTypedArrayMethod)("some",function(c,f){return t(u(this),c,1<arguments.length?f:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=h.aTypedArray,u=h.exportTypedArrayMethod,c=[].sort;u("sort",function(f){return c.call(t(this),f)})},{"../internals/array-buffer-view-core":12}],221:[function(e,v,g){var h=e("../internals/array-buffer-view-core"),t=e("../internals/to-length"),u=e("../internals/to-absolute-index"),c=e("../internals/species-constructor"),f=h.aTypedArray;(0,h.exportTypedArrayMethod)("subarray",function(d,n){var r=f(this),o=r.length,i=u(d,o);return new(c(r,r.constructor))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,t((n===void 0?o:u(n,o))-i))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(e,v,g){var h=e("../internals/global"),t=e("../internals/array-buffer-view-core"),u=e("../internals/fails"),c=h.Int8Array,f=t.aTypedArray,d=t.exportTypedArrayMethod,n=[].toLocaleString,r=[].slice,o=!!c&&u(function(){n.call(new c(1))});d("toLocaleString",function(){return n.apply(o?r.call(f(this)):f(this),arguments)},u(function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()})||!u(function(){c.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],223:[function(e,v,g){var h=e("../internals/array-buffer-view-core").exportTypedArrayMethod,t=e("../internals/fails"),u=e("../internals/global").Uint8Array,c=u&&u.prototype||{},f=[].toString,d=[].join;t(function(){f.call({})})&&(f=function(){return d.call(this)}),h("toString",f,c.toString!=f)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],224:[function(e,v,g){e("../internals/typed-array-constructor")("Uint16",function(h){return function(t,u,c){return h(this,t,u,c)}})},{"../internals/typed-array-constructor":140}],225:[function(e,v,g){e("../internals/typed-array-constructor")("Uint32",function(h){return function(t,u,c){return h(this,t,u,c)}})},{"../internals/typed-array-constructor":140}],226:[function(e,v,g){e("../internals/typed-array-constructor")("Uint8",function(h){return function(t,u,c){return h(this,t,u,c)}})},{"../internals/typed-array-constructor":140}],227:[function(e,v,g){e("../internals/typed-array-constructor")("Uint8",function(h){return function(t,u,c){return h(this,t,u,c)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(e,v,g){var h=e("../internals/global"),t=e("../internals/dom-iterables"),u=e("../internals/array-for-each"),c=e("../internals/create-non-enumerable-property");for(var f in t){var d=h[f],n=d&&d.prototype;if(n&&n.forEach!==u)try{c(n,"forEach",u)}catch{n.forEach=u}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59}],229:[function(e,v,g){var h=e("../internals/global"),t=e("../internals/dom-iterables"),u=e("../modules/es.array.iterator"),c=e("../internals/create-non-enumerable-property"),f=e("../internals/well-known-symbol"),d=f("iterator"),n=f("toStringTag"),r=u.values;for(var o in t){var i=h[o],a=i&&i.prototype;if(a){if(a[d]!==r)try{c(a,d,r)}catch{a[d]=r}if(a[n]||c(a,n,o),t[o]){for(var y in u)if(a[y]!==u[y])try{c(a,y,u[y])}catch{a[y]=u[y]}}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],230:[function(e,v,g){e("../modules/es.array.iterator");function h(ee){try{return decodeURIComponent(ee)}catch{return ee}}function t(ee){var B,N=ee.replace(ve," "),re=4;try{return decodeURIComponent(N)}catch{for(;re;)N=N.replace((B=re--,De[B-1]||(De[B-1]=RegExp("((?:%[\\da-f]{2}){"+B+"})","gi"))),h);return N}}function u(ee){return Se[ee]}function c(ee){return encodeURIComponent(ee).replace(_e,u)}function f(ee,B){if(B)for(var N,re,Y=B.split("&"),ne=0;ne<Y.length;)(N=Y[ne++]).length&&(re=N.split("="),ee.push({key:t(re.shift()),value:t(re.join("="))}))}function d(ee){this.entries.length=0,f(this.entries,ee)}function n(ee,B){if(ee<B)throw TypeError("Not enough arguments")}var r=e("../internals/export"),o=e("../internals/get-built-in"),i=e("../internals/native-url"),a=e("../internals/redefine"),y=e("../internals/redefine-all"),w=e("../internals/set-to-string-tag"),x=e("../internals/create-iterator-constructor"),_=e("../internals/internal-state"),T=e("../internals/an-instance"),E=e("../internals/has"),A=e("../internals/function-bind-context"),P=e("../internals/classof"),I=e("../internals/an-object"),R=e("../internals/is-object"),L=e("../internals/object-create"),U=e("../internals/create-property-descriptor"),D=e("../internals/get-iterator"),H=e("../internals/get-iterator-method"),W=e("../internals/well-known-symbol"),ae=o("fetch"),le=o("Headers"),J=W("iterator"),ue="URLSearchParams",se=ue+"Iterator",me=_.set,xe=_.getterFor(ue),Ce=_.getterFor(se),ve=/\+/g,De=Array(4),_e=/[!'()~]|%20/g,Se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},O=x(function(ee,B){me(this,{type:se,iterator:D(xe(ee).entries),kind:B})},"Iterator",function(){var ee=Ce(this),B=ee.kind,N=ee.iterator.next(),re=N.value;return N.done||(N.value=B==="keys"?re.key:B==="values"?re.value:[re.key,re.value]),N}),G=function(ee){T(this,G,ue);var B,N,re,Y,ne,ie,oe,pe,ge,he=0<arguments.length?ee:void 0,Pe=[];if(me(this,{type:ue,entries:Pe,updateURL:function(){},updateSearchParams:d}),he!==void 0)if(R(he))if(typeof(B=H(he))=="function")for(re=(N=B.call(he)).next;!(Y=re.call(N)).done;){if((oe=(ie=(ne=D(I(Y.value))).next).call(ne)).done||(pe=ie.call(ne)).done||!ie.call(ne).done)throw TypeError("Expected sequence with length 2");Pe.push({key:oe.value+"",value:pe.value+""})}else for(ge in he)E(he,ge)&&Pe.push({key:ge,value:he[ge]+""});else f(Pe,typeof he=="string"?he.charAt(0)==="?"?he.slice(1):he:he+"")},X=G.prototype;y(X,{append:function(ee,B){n(arguments.length,2);var N=xe(this);N.entries.push({key:ee+"",value:B+""}),N.updateURL()},delete:function(ee){n(arguments.length,1);for(var B=xe(this),N=B.entries,re=ee+"",Y=0;Y<N.length;)N[Y].key===re?N.splice(Y,1):Y++;B.updateURL()},get:function(ee){n(arguments.length,1);for(var B=xe(this).entries,N=ee+"",re=0;re<B.length;re++)if(B[re].key===N)return B[re].value;return null},getAll:function(ee){n(arguments.length,1);for(var B=xe(this).entries,N=ee+"",re=[],Y=0;Y<B.length;Y++)B[Y].key===N&&re.push(B[Y].value);return re},has:function(ee){n(arguments.length,1);for(var B=xe(this).entries,N=ee+"",re=0;re<B.length;)if(B[re++].key===N)return!0;return!1},set:function(ee,B){n(arguments.length,1);for(var N,re=xe(this),Y=re.entries,ne=!1,ie=ee+"",oe=B+"",pe=0;pe<Y.length;pe++)(N=Y[pe]).key===ie&&(ne?Y.splice(pe--,1):(ne=!0,N.value=oe));ne||Y.push({key:ie,value:oe}),re.updateURL()},sort:function(){var ee,B,N,re=xe(this),Y=re.entries,ne=Y.slice();for(N=Y.length=0;N<ne.length;N++){for(ee=ne[N],B=0;B<N;B++)if(Y[B].key>ee.key){Y.splice(B,0,ee);break}B===N&&Y.push(ee)}re.updateURL()},forEach:function(ee,B){for(var N,re=xe(this).entries,Y=A(ee,1<arguments.length?B:void 0,3),ne=0;ne<re.length;)Y((N=re[ne++]).value,N.key,this)},keys:function(){return new O(this,"keys")},values:function(){return new O(this,"values")},entries:function(){return new O(this,"entries")}},{enumerable:!0}),a(X,J,X.entries),a(X,"toString",function(){for(var ee,B=xe(this).entries,N=[],re=0;re<B.length;)ee=B[re++],N.push(c(ee.key)+"="+c(ee.value));return N.join("&")},{enumerable:!0}),w(G,ue),r({global:!0,forced:!i},{URLSearchParams:G}),i||typeof ae!="function"||typeof le!="function"||r({global:!0,enumerable:!0,forced:!0},{fetch:function(ee,B){var N,re,Y,ne=[ee];return 1<arguments.length&&(R(N=B)&&(re=N.body,P(re)===ue&&((Y=N.headers?new le(N.headers):new le).has("content-type")||Y.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),N=L(N,{body:U(0,String(re)),headers:U(0,Y)}))),ne.push(N)),ae.apply(this,ne)}}),v.exports={URLSearchParams:G,getState:xe}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(e,v,g){e("../modules/es.string.iterator");function h(fe,Ge){var Ke,We,et;if(Ge.charAt(0)=="["){if(Ge.charAt(Ge.length-1)!="]"||!(Ke=ie(Ge.slice(1,-1))))return Ce;fe.host=Ke}else if(Ue(fe)){if(Ge=L(Ge),B.test(Ge)||(Ke=ne(Ge))===null)return Ce;fe.host=Ke}else{if(N.test(Ge))return Ce;for(Ke="",We=I(Ge),et=0;et<We.length;et++)Ke+=Pe(We[et],oe);fe.host=Ke}}function t(fe){var Ge,Ke,We,et;if(typeof fe=="number"){for(Ge=[],Ke=0;Ke<4;Ke++)Ge.unshift(fe%256),fe=se(fe/256);return Ge.join(".")}if(typeof fe!="object")return fe;for(Ge="",We=function(Fe){for(var _t=null,Mt=1,kt=null,yt=0,Qe=0;Qe<8;Qe++)Fe[Qe]!==0?(Mt<yt&&(_t=kt,Mt=yt),kt=null,yt=0):(kt===null&&(kt=Qe),++yt);return Mt<yt&&(_t=kt,Mt=yt),_t}(fe),Ke=0;Ke<8;Ke++)et&&fe[Ke]===0||(et=et&&!1,We===Ke?(Ge+=Ke?":":"::",et=!0):(Ge+=fe[Ke].toString(16),Ke<7&&(Ge+=":")));return"["+Ge+"]"}function u(fe){return fe.username!=""||fe.password!=""}function c(fe){return!fe.host||fe.cannotBeABaseURL||fe.scheme=="file"}function f(fe,Ge){var Ke;return fe.length==2&&De.test(fe.charAt(0))&&((Ke=fe.charAt(1))==":"||!Ge&&Ke=="|")}function d(fe){var Ge;return 1<fe.length&&f(fe.slice(0,2))&&(fe.length==2||(Ge=fe.charAt(2))==="/"||Ge==="\\"||Ge==="?"||Ge==="#")}function n(fe){var Ge=fe.path,Ke=Ge.length;!Ke||fe.scheme=="file"&&Ke==1&&f(Ge[0],!0)||Ge.pop()}function r(fe,Ge,Ke,We){var et,Fe,_t,Mt,kt,yt,Qe=Ke||Le,Gt=0,at="",yo=!1,kn=!1,vo=!1;for(Ke||(fe.scheme="",fe.username="",fe.password="",fe.host=null,fe.port=null,fe.path=[],fe.query=null,fe.fragment=null,fe.cannotBeABaseURL=!1,Ge=Ge.replace(re,"")),Ge=Ge.replace(Y,""),et=I(Ge);Gt<=et.length;){switch(Fe=et[Gt],Qe){case Le:if(!Fe||!De.test(Fe)){if(Ke)return xe;Qe=Ae;continue}at+=Fe.toLowerCase(),Qe=$e;break;case $e:if(Fe&&(_e.test(Fe)||Fe=="+"||Fe=="-"||Fe=="."))at+=Fe.toLowerCase();else{if(Fe!=":"){if(Ke)return xe;at="",Qe=Ae,Gt=0;continue}if(Ke&&(Ue(fe)!=A(Be,at)||at=="file"&&(u(fe)||fe.port!==null)||fe.scheme=="file"&&!fe.host))return;if(fe.scheme=at,Ke)return void(Ue(fe)&&Be[fe.scheme]==fe.port&&(fe.port=null));at="",fe.scheme=="file"?Qe=Te:Ue(fe)&&We&&We.scheme==fe.scheme?Qe=Me:Ue(fe)?Qe=Je:et[Gt+1]=="/"?(Qe=He,Gt++):(fe.cannotBeABaseURL=!0,fe.path.push(""),Qe=ot)}break;case Ae:if(!We||We.cannotBeABaseURL&&Fe!="#")return xe;if(We.cannotBeABaseURL&&Fe=="#"){fe.scheme=We.scheme,fe.path=We.path.slice(),fe.query=We.query,fe.fragment="",fe.cannotBeABaseURL=!0,Qe=pt;break}Qe=We.scheme=="file"?Te:qe;continue;case Me:if(Fe!="/"||et[Gt+1]!="/"){Qe=qe;continue}Qe=V,Gt++;break;case He:if(Fe=="/"){Qe=Z;break}Qe=Ye;continue;case qe:if(fe.scheme=We.scheme,Fe==i)fe.username=We.username,fe.password=We.password,fe.host=We.host,fe.port=We.port,fe.path=We.path.slice(),fe.query=We.query;else if(Fe=="/"||Fe=="\\"&&Ue(fe))Qe=be;else if(Fe=="?")fe.username=We.username,fe.password=We.password,fe.host=We.host,fe.port=We.port,fe.path=We.path.slice(),fe.query="",Qe=dt;else{if(Fe!="#"){fe.username=We.username,fe.password=We.password,fe.host=We.host,fe.port=We.port,fe.path=We.path.slice(),fe.path.pop(),Qe=Ye;continue}fe.username=We.username,fe.password=We.password,fe.host=We.host,fe.port=We.port,fe.path=We.path.slice(),fe.query=We.query,fe.fragment="",Qe=pt}break;case be:if(!Ue(fe)||Fe!="/"&&Fe!="\\"){if(Fe!="/"){fe.username=We.username,fe.password=We.password,fe.host=We.host,fe.port=We.port,Qe=Ye;continue}Qe=Z}else Qe=V;break;case Je:if(Qe=V,Fe!="/"||at.charAt(Gt+1)!="/")continue;Gt++;break;case V:if(Fe=="/"||Fe=="\\")break;Qe=Z;continue;case Z:if(Fe=="@"){yo&&(at="%40"+at),yo=!0,_t=I(at);for(var bo=0;bo<_t.length;bo++){var wo=_t[bo];if(wo!=":"||vo){var Kn=Pe(wo,he);vo?fe.password+=Kn:fe.username+=Kn}else vo=!0}at=""}else if(Fe==i||Fe=="/"||Fe=="?"||Fe=="#"||Fe=="\\"&&Ue(fe)){if(yo&&at=="")return"Invalid authority";Gt-=I(at).length+1,at="",Qe=z}else at+=Fe;break;case z:case $:if(Ke&&fe.scheme=="file"){Qe=Ve;continue}if(Fe!=":"||kn){if(Fe==i||Fe=="/"||Fe=="?"||Fe=="#"||Fe=="\\"&&Ue(fe)){if(Ue(fe)&&at=="")return Ce;if(Ke&&at==""&&(u(fe)||fe.port!==null))return;if(Mt=h(fe,at))return Mt;if(at="",Qe=we,Ke)return;continue}Fe=="["?kn=!0:Fe=="]"&&(kn=!1),at+=Fe}else{if(at=="")return Ce;if(Mt=h(fe,at))return Mt;if(at="",Qe=de,Ke==$)return}break;case de:if(!Se.test(Fe)){if(Fe==i||Fe=="/"||Fe=="?"||Fe=="#"||Fe=="\\"&&Ue(fe)||Ke){if(at!=""){var Zn=parseInt(at,10);if(65535<Zn)return ve;fe.port=Ue(fe)&&Zn===Be[fe.scheme]?null:Zn,at=""}if(Ke)return;Qe=we;continue}return ve}at+=Fe;break;case Te:if(fe.scheme="file",Fe=="/"||Fe=="\\")Qe=Oe;else{if(!We||We.scheme!="file"){Qe=Ye;continue}if(Fe==i)fe.host=We.host,fe.path=We.path.slice(),fe.query=We.query;else if(Fe=="?")fe.host=We.host,fe.path=We.path.slice(),fe.query="",Qe=dt;else{if(Fe!="#"){d(et.slice(Gt).join(""))||(fe.host=We.host,fe.path=We.path.slice(),n(fe)),Qe=Ye;continue}fe.host=We.host,fe.path=We.path.slice(),fe.query=We.query,fe.fragment="",Qe=pt}}break;case Oe:if(Fe=="/"||Fe=="\\"){Qe=Ve;break}We&&We.scheme=="file"&&!d(et.slice(Gt).join(""))&&(f(We.path[0],!0)?fe.path.push(We.path[0]):fe.host=We.host),Qe=Ye;continue;case Ve:if(Fe==i||Fe=="/"||Fe=="\\"||Fe=="?"||Fe=="#"){if(!Ke&&f(at))Qe=Ye;else if(at==""){if(fe.host="",Ke)return;Qe=we}else{if(Mt=h(fe,at))return Mt;if(fe.host=="localhost"&&(fe.host=""),Ke)return;at="",Qe=we}continue}at+=Fe;break;case we:if(Ue(fe)){if(Qe=Ye,Fe!="/"&&Fe!="\\")continue}else if(Ke||Fe!="?")if(Ke||Fe!="#"){if(Fe!=i&&(Qe=Ye,Fe!="/"))continue}else fe.fragment="",Qe=pt;else fe.query="",Qe=dt;break;case Ye:if(Fe==i||Fe=="/"||Fe=="\\"&&Ue(fe)||!Ke&&(Fe=="?"||Fe=="#")){if((yt=(yt=at).toLowerCase())===".."||yt==="%2e."||yt===".%2e"||yt==="%2e%2e"?(n(fe),Fe=="/"||Fe=="\\"&&Ue(fe)||fe.path.push("")):(kt=at)==="."||kt.toLowerCase()==="%2e"?Fe=="/"||Fe=="\\"&&Ue(fe)||fe.path.push(""):(fe.scheme=="file"&&!fe.path.length&&f(at)&&(fe.host&&(fe.host=""),at=at.charAt(0)+":"),fe.path.push(at)),at="",fe.scheme=="file"&&(Fe==i||Fe=="?"||Fe=="#"))for(;1<fe.path.length&&fe.path[0]==="";)fe.path.shift();Fe=="?"?(fe.query="",Qe=dt):Fe=="#"&&(fe.fragment="",Qe=pt)}else at+=Pe(Fe,ge);break;case ot:Fe=="?"?(fe.query="",Qe=dt):Fe=="#"?(fe.fragment="",Qe=pt):Fe!=i&&(fe.path[0]+=Pe(Fe,oe));break;case dt:Ke||Fe!="#"?Fe!=i&&(Fe=="'"&&Ue(fe)?fe.query+="%27":fe.query+=Fe=="#"?"%23":Pe(Fe,oe)):(fe.fragment="",Qe=pt);break;case pt:Fe!=i&&(fe.fragment+=Pe(Fe,pe))}Gt++}}function o(fe,Ge){return{get:fe,set:Ge,configurable:!0,enumerable:!0}}var i,a=e("../internals/export"),y=e("../internals/descriptors"),w=e("../internals/native-url"),x=e("../internals/global"),_=e("../internals/object-define-properties"),T=e("../internals/redefine"),E=e("../internals/an-instance"),A=e("../internals/has"),P=e("../internals/object-assign"),I=e("../internals/array-from"),R=e("../internals/string-multibyte").codeAt,L=e("../internals/string-punycode-to-ascii"),U=e("../internals/set-to-string-tag"),D=e("../modules/web.url-search-params"),H=e("../internals/internal-state"),W=x.URL,ae=D.URLSearchParams,le=D.getState,J=H.set,ue=H.getterFor("URL"),se=Math.floor,me=Math.pow,xe="Invalid scheme",Ce="Invalid host",ve="Invalid port",De=/[A-Za-z]/,_e=/[\d+-.A-Za-z]/,Se=/\d/,O=/^(0x|0X)/,G=/^[0-7]+$/,X=/^\d+$/,ee=/^[\dA-Fa-f]+$/,B=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,N=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,re=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Y=/[\u0009\u000A\u000D]/g,ne=function(fe){var Ge,Ke,We,et,Fe,_t,Mt,kt=fe.split(".");if(kt.length&&kt[kt.length-1]==""&&kt.pop(),4<(Ge=kt.length))return fe;for(Ke=[],We=0;We<Ge;We++){if((et=kt[We])=="")return fe;if(Fe=10,1<et.length&&et.charAt(0)=="0"&&(Fe=O.test(et)?16:8,et=et.slice(Fe==8?1:2)),et==="")_t=0;else{if(!(Fe==10?X:Fe==8?G:ee).test(et))return fe;_t=parseInt(et,Fe)}Ke.push(_t)}for(We=0;We<Ge;We++)if(_t=Ke[We],We==Ge-1){if(_t>=me(256,5-Ge))return null}else if(255<_t)return null;for(Mt=Ke.pop(),We=0;We<Ke.length;We++)Mt+=Ke[We]*me(256,3-We);return Mt},ie=function(fe){function Ge(){return fe.charAt(at)}var Ke,We,et,Fe,_t,Mt,kt,yt=[0,0,0,0,0,0,0,0],Qe=0,Gt=null,at=0;if(Ge()==":"){if(fe.charAt(1)!=":")return;at+=2,Gt=++Qe}for(;Ge();){if(Qe==8)return;if(Ge()!=":"){for(Ke=We=0;We<4&&ee.test(Ge());)Ke=16*Ke+parseInt(Ge(),16),at++,We++;if(Ge()=="."){if(We==0||(at-=We,6<Qe))return;for(et=0;Ge();){if(Fe=null,0<et){if(!(Ge()=="."&&et<4))return;at++}if(!Se.test(Ge()))return;for(;Se.test(Ge());){if(_t=parseInt(Ge(),10),Fe===null)Fe=_t;else{if(Fe==0)return;Fe=10*Fe+_t}if(255<Fe)return;at++}yt[Qe]=256*yt[Qe]+Fe,++et!=2&&et!=4||Qe++}if(et!=4)return;break}if(Ge()==":"){if(at++,!Ge())return}else if(Ge())return;yt[Qe++]=Ke}else{if(Gt!==null)return;at++,Gt=++Qe}}if(Gt!==null)for(Mt=Qe-Gt,Qe=7;Qe!=0&&0<Mt;)kt=yt[Qe],yt[Qe--]=yt[Gt+Mt-1],yt[Gt+--Mt]=kt;else if(Qe!=8)return;return yt},oe={},pe=P({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),ge=P({},pe,{"#":1,"?":1,"{":1,"}":1}),he=P({},ge,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pe=function(fe,Ge){var Ke=R(fe,0);return 32<Ke&&Ke<127&&!A(Ge,fe)?fe:encodeURIComponent(fe)},Be={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ue=function(fe){return A(Be,fe.scheme)},Le={},$e={},Ae={},Me={},He={},qe={},be={},Je={},V={},Z={},z={},$={},de={},Te={},Oe={},Ve={},we={},Ye={},ot={},dt={},pt={},ht=function(fe,Ge){var Ke,We,et=E(this,ht,"URL"),Fe=1<arguments.length?Ge:void 0,_t=String(fe),Mt=J(et,{type:"URL"});if(Fe!==void 0){if(Fe instanceof ht)Ke=ue(Fe);else if(We=r(Ke={},String(Fe)))throw TypeError(We)}if(We=r(Mt,_t,null,Ke))throw TypeError(We);var kt=Mt.searchParams=new ae,yt=le(kt);yt.updateSearchParams(Mt.query),yt.updateURL=function(){Mt.query=String(kt)||null},y||(et.href=Ct.call(et),et.origin=Ur.call(et),et.protocol=lr.call(et),et.username=En.call(et),et.password=Qr.call(et),et.host=Nr.call(et),et.hostname=Mn.call(et),et.port=An.call(et),et.pathname=Rn.call(et),et.search=Pn.call(et),et.searchParams=On.call(et),et.hash=$n.call(et))},ft=ht.prototype,Ct=function(){var fe=ue(this),Ge=fe.scheme,Ke=fe.username,We=fe.password,et=fe.host,Fe=fe.port,_t=fe.path,Mt=fe.query,kt=fe.fragment,yt=Ge+":";return et!==null?(yt+="//",u(fe)&&(yt+=Ke+(We?":"+We:"")+"@"),yt+=t(et),Fe!==null&&(yt+=":"+Fe)):Ge=="file"&&(yt+="//"),yt+=fe.cannotBeABaseURL?_t[0]:_t.length?"/"+_t.join("/"):"",Mt!==null&&(yt+="?"+Mt),kt!==null&&(yt+="#"+kt),yt},Ur=function(){var fe=ue(this),Ge=fe.scheme,Ke=fe.port;if(Ge=="blob")try{return new URL(Ge.path[0]).origin}catch{return"null"}return Ge!="file"&&Ue(fe)?Ge+"://"+t(fe.host)+(Ke!==null?":"+Ke:""):"null"},lr=function(){return ue(this).scheme+":"},En=function(){return ue(this).username},Qr=function(){return ue(this).password},Nr=function(){var fe=ue(this),Ge=fe.host,Ke=fe.port;return Ge===null?"":Ke===null?t(Ge):t(Ge)+":"+Ke},Mn=function(){var fe=ue(this).host;return fe===null?"":t(fe)},An=function(){var fe=ue(this).port;return fe===null?"":String(fe)},Rn=function(){var fe=ue(this),Ge=fe.path;return fe.cannotBeABaseURL?Ge[0]:Ge.length?"/"+Ge.join("/"):""},Pn=function(){var fe=ue(this).query;return fe?"?"+fe:""},On=function(){return ue(this).searchParams},$n=function(){var fe=ue(this).fragment;return fe?"#"+fe:""};if(y&&_(ft,{href:o(Ct,function(fe){var Ge=ue(this),Ke=String(fe),We=r(Ge,Ke);if(We)throw TypeError(We);le(Ge.searchParams).updateSearchParams(Ge.query)}),origin:o(Ur),protocol:o(lr,function(fe){var Ge=ue(this);r(Ge,String(fe)+":",Le)}),username:o(En,function(fe){var Ge=ue(this),Ke=I(String(fe));if(!c(Ge)){Ge.username="";for(var We=0;We<Ke.length;We++)Ge.username+=Pe(Ke[We],he)}}),password:o(Qr,function(fe){var Ge=ue(this),Ke=I(String(fe));if(!c(Ge)){Ge.password="";for(var We=0;We<Ke.length;We++)Ge.password+=Pe(Ke[We],he)}}),host:o(Nr,function(fe){var Ge=ue(this);Ge.cannotBeABaseURL||r(Ge,String(fe),z)}),hostname:o(Mn,function(fe){var Ge=ue(this);Ge.cannotBeABaseURL||r(Ge,String(fe),$)}),port:o(An,function(fe){var Ge=ue(this);c(Ge)||((fe=String(fe))==""?Ge.port=null:r(Ge,fe,de))}),pathname:o(Rn,function(fe){var Ge=ue(this);Ge.cannotBeABaseURL||(Ge.path=[],r(Ge,fe+"",we))}),search:o(Pn,function(fe){var Ge=ue(this);(fe=String(fe))==""?Ge.query=null:(fe.charAt(0)=="?"&&(fe=fe.slice(1)),Ge.query="",r(Ge,fe,dt)),le(Ge.searchParams).updateSearchParams(Ge.query)}),searchParams:o(On),hash:o($n,function(fe){var Ge=ue(this);(fe=String(fe))!=""?(fe.charAt(0)=="#"&&(fe=fe.slice(1)),Ge.fragment="",r(Ge,fe,pt)):Ge.fragment=null})}),T(ft,"toJSON",function(){return Ct.call(this)},{enumerable:!0}),T(ft,"toString",function(){return Ct.call(this)},{enumerable:!0}),W){var fn=W.createObjectURL,pn=W.revokeObjectURL;fn&&T(ht,"createObjectURL",function(fe){return fn.apply(W,arguments)}),pn&&T(ht,"revokeObjectURL",function(fe){return pn.apply(W,arguments)})}U(ht,"URL"),a({global:!0,forced:!w,sham:!y},{URL:ht})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":230}],232:[function(e,v,g){v.exports=e("./").polyfill()},{"./":233}],233:[function(e,v,g){(function(h,t){var u,c;u=this,c=function(){function f(Y){return typeof Y=="function"}var d=Array.isArray?Array.isArray:function(Y){return Object.prototype.toString.call(Y)==="[object Array]"},n=0,r=void 0,o=void 0,i=function(Y,ne){E[n]=Y,E[n+1]=ne,(n+=2)===2&&(o?o(A):U())},a=typeof window<"u"?window:void 0,y=a||{},w=y.MutationObserver||y.WebKitMutationObserver,x=typeof self>"u"&&h!==void 0&&{}.toString.call(h)==="[object process]",_=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function T(){var Y=setTimeout;return function(){return Y(A,1)}}var E=new Array(1e3);function A(){for(var Y=0;Y<n;Y+=2)(0,E[Y])(E[Y+1]),E[Y]=void 0,E[Y+1]=void 0;n=0}var P,I,R,L,U=void 0;function D(Y,ne){var ie=this,oe=new this.constructor(ae);oe[W]===void 0&&X(oe);var pe=ie._state;if(pe){var ge=arguments[pe-1];i(function(){return O(pe,oe,ge,ie._result)})}else _e(ie,oe,Y,ne);return oe}function H(Y){if(Y&&typeof Y=="object"&&Y.constructor===this)return Y;var ne=new this(ae);return xe(ne,Y),ne}U=x?function(){return h.nextTick(A)}:w?(I=0,R=new w(A),L=document.createTextNode(""),R.observe(L,{characterData:!0}),function(){L.data=I=++I%2}):_?((P=new MessageChannel).port1.onmessage=A,function(){return P.port2.postMessage(0)}):a===void 0&&typeof e=="function"?function(){try{var Y=Function("return this")().require("vertx");return(r=Y.runOnLoop||Y.runOnContext)!==void 0?function(){r(A)}:T()}catch{return T()}}():T();var W=Math.random().toString(36).substring(2);function ae(){}var le=void 0,J=1,ue=2;function se(Y,ne,ie){i(function(oe){var pe=!1,ge=function(he,Pe,Be,Ue){try{he.call(Pe,Be,Ue)}catch(Le){return Le}}(ie,ne,function(he){pe||(pe=!0,ne!==he?xe(oe,he):ve(oe,he))},function(he){pe||(pe=!0,De(oe,he))},oe._label);!pe&&ge&&(pe=!0,De(oe,ge))},Y)}function me(Y,ne,ie){var oe,pe;ne.constructor===Y.constructor&&ie===D&&ne.constructor.resolve===H?(oe=Y,(pe=ne)._state===J?ve(oe,pe._result):pe._state===ue?De(oe,pe._result):_e(pe,void 0,function(ge){return xe(oe,ge)},function(ge){return De(oe,ge)})):ie===void 0?ve(Y,ne):f(ie)?se(Y,ne,ie):ve(Y,ne)}function xe(Y,ne){if(Y===ne)De(Y,new TypeError("You cannot resolve a promise with itself"));else if(pe=typeof(oe=ne),oe===null||pe!="object"&&pe!="function")ve(Y,ne);else{var ie=void 0;try{ie=ne.then}catch(ge){return void De(Y,ge)}me(Y,ne,ie)}var oe,pe}function Ce(Y){Y._onerror&&Y._onerror(Y._result),Se(Y)}function ve(Y,ne){Y._state===le&&(Y._result=ne,Y._state=J,Y._subscribers.length!==0&&i(Se,Y))}function De(Y,ne){Y._state===le&&(Y._state=ue,Y._result=ne,i(Ce,Y))}function _e(Y,ne,ie,oe){var pe=Y._subscribers,ge=pe.length;Y._onerror=null,pe[ge]=ne,pe[ge+J]=ie,pe[ge+ue]=oe,ge===0&&Y._state&&i(Se,Y)}function Se(Y){var ne=Y._subscribers,ie=Y._state;if(ne.length!==0){for(var oe=void 0,pe=void 0,ge=Y._result,he=0;he<ne.length;he+=3)oe=ne[he],pe=ne[he+ie],oe?O(ie,oe,pe,ge):pe(ge);Y._subscribers.length=0}}function O(Y,ne,ie,oe){var pe=f(ie),ge=void 0,he=void 0,Pe=!0;if(pe){try{ge=ie(oe)}catch(Be){Pe=!1,he=Be}if(ne===ge)return void De(ne,new TypeError("A promises callback cannot return that same promise."))}else ge=oe;ne._state!==le||(pe&&Pe?xe(ne,ge):Pe===!1?De(ne,he):Y===J?ve(ne,ge):Y===ue&&De(ne,ge))}var G=0;function X(Y){Y[W]=G++,Y._state=void 0,Y._result=void 0,Y._subscribers=[]}var ee=(B.prototype._enumerate=function(Y){for(var ne=0;this._state===le&&ne<Y.length;ne++)this._eachEntry(Y[ne],ne)},B.prototype._eachEntry=function(Y,ne){var ie=this._instanceConstructor,oe=ie.resolve;if(oe===H){var pe=void 0,ge=void 0,he=!1;try{pe=Y.then}catch(Be){he=!0,ge=Be}if(pe===D&&Y._state!==le)this._settledAt(Y._state,ne,Y._result);else if(typeof pe!="function")this._remaining--,this._result[ne]=Y;else if(ie===N){var Pe=new ie(ae);he?De(Pe,ge):me(Pe,Y,pe),this._willSettleAt(Pe,ne)}else this._willSettleAt(new ie(function(Be){return Be(Y)}),ne)}else this._willSettleAt(oe(Y),ne)},B.prototype._settledAt=function(Y,ne,ie){var oe=this.promise;oe._state===le&&(this._remaining--,Y===ue?De(oe,ie):this._result[ne]=ie),this._remaining===0&&ve(oe,this._result)},B.prototype._willSettleAt=function(Y,ne){var ie=this;_e(Y,void 0,function(oe){return ie._settledAt(J,ne,oe)},function(oe){return ie._settledAt(ue,ne,oe)})},B);function B(Y,ne){this._instanceConstructor=Y,this.promise=new Y(ae),this.promise[W]||X(this.promise),d(ne)?(this.length=ne.length,this._remaining=ne.length,this._result=new Array(this.length),this.length===0?ve(this.promise,this._result):(this.length=this.length||0,this._enumerate(ne),this._remaining===0&&ve(this.promise,this._result))):De(this.promise,new Error("Array Methods must be provided an Array"))}var N=(re.prototype.catch=function(Y){return this.then(null,Y)},re.prototype.finally=function(Y){var ne=this.constructor;return f(Y)?this.then(function(ie){return ne.resolve(Y()).then(function(){return ie})},function(ie){return ne.resolve(Y()).then(function(){throw ie})}):this.then(Y,Y)},re);function re(Y){this[W]=G++,this._result=this._state=void 0,this._subscribers=[],ae!==Y&&(typeof Y!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof re?function(ne,ie){try{ie(function(oe){xe(ne,oe)},function(oe){De(ne,oe)})}catch(oe){De(ne,oe)}}(this,Y):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return N.prototype.then=D,N.all=function(Y){return new ee(this,Y).promise},N.race=function(Y){var ne=this;return d(Y)?new ne(function(ie,oe){for(var pe=Y.length,ge=0;ge<pe;ge++)ne.resolve(Y[ge]).then(ie,oe)}):new ne(function(ie,oe){return oe(new TypeError("You must pass an array to race."))})},N.resolve=H,N.reject=function(Y){var ne=new this(ae);return De(ne,Y),ne},N._setScheduler=function(Y){o=Y},N._setAsap=function(Y){i=Y},N._asap=i,N.polyfill=function(){var Y=void 0;if(t!==void 0)Y=t;else if(typeof self<"u")Y=self;else try{Y=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ne=Y.Promise;if(ne){var ie=null;try{ie=Object.prototype.toString.call(ne.resolve())}catch{}if(ie==="[object Promise]"&&!ne.cast)return}Y.Promise=N},N.Promise=N},typeof g=="object"&&v!==void 0?v.exports=c():u.ES6Promise=c()}).call(this,e("_process"),typeof qo<"u"?qo:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:241}],234:[function(e,v,g){(function(h,t){if(g!==void 0&&v!==void 0)t(g,v);else{var u={exports:{}};t(u.exports,u),h.fetchJsonp=u.exports}})(this,function(h,t){var u=5e3,c="callback";function f(n){try{delete window[n]}catch{window[n]=void 0}}function d(n){var r=document.getElementById(n);r&&document.getElementsByTagName("head")[0].removeChild(r)}t.exports=function(n){var r=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],o=n,i=r.timeout||u,a=r.jsonpCallback||c,y=void 0;return new Promise(function(w,x){var _=r.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),T=a+"_"+_;window[_]=function(A){w({ok:!0,json:function(){return Promise.resolve(A)}}),y&&clearTimeout(y),d(T),f(_)},o+=o.indexOf("?")===-1?"?":"&";var E=document.createElement("script");E.setAttribute("src",""+o+a+"="+_),r.charset&&E.setAttribute("charset",r.charset),E.id=T,document.getElementsByTagName("head")[0].appendChild(E),y=setTimeout(function(){x(new Error("JSONP request to "+n+" timed out")),f(_),d(T),window[_]=function(){f(_)}},i),E.onerror=function(){x(new Error("JSONP request to "+n+" failed")),f(_),d(T),y&&clearTimeout(y)}})}})},{}],235:[function(e,v,g){var h=h||function(t){if(!(t===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var u=t.document,c=function(){return t.URL||t.webkitURL||t},f=u.createElementNS("http://www.w3.org/1999/xhtml","a"),d="download"in f,n=/constructor/i.test(t.HTMLElement)||t.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(x){(t.setImmediate||t.setTimeout)(function(){throw x},0)},i=function(x){setTimeout(function(){typeof x=="string"?c().revokeObjectURL(x):x.remove()},4e4)},a=function(x){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob([String.fromCharCode(65279),x],{type:x.type}):x},y=function(x,_,T){T||(x=a(x));function E(){(function(R,L,U){for(var D=(L=[].concat(L)).length;D--;){var H=R["on"+L[D]];if(typeof H=="function")try{H.call(R,U||R)}catch(W){o(W)}}})(P,"writestart progress write writeend".split(" "))}var A,P=this,I=x.type==="application/octet-stream";if(P.readyState=P.INIT,d)return A=c().createObjectURL(x),void setTimeout(function(){var R,L;f.href=A,f.download=_,R=f,L=new MouseEvent("click"),R.dispatchEvent(L),E(),i(A),P.readyState=P.DONE});(function(){if((r||I&&n)&&t.FileReader){var R=new FileReader;return R.onloadend=function(){var L=r?R.result:R.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(L,"_blank")||(t.location.href=L),L=void 0,P.readyState=P.DONE,E()},R.readAsDataURL(x),P.readyState=P.INIT}A=A||c().createObjectURL(x),I?t.location.href=A:t.open(A,"_blank")||(t.location.href=A),P.readyState=P.DONE,E(),i(A)})()},w=y.prototype;return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(x,_,T){return _=_||x.name||"download",T||(x=a(x)),navigator.msSaveOrOpenBlob(x,_)}:(w.abort=function(){},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,function(x,_,T){return new y(x,_||x.name||"download",T)})}}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);v!==void 0&&v.exports?v.exports.saveAs=h:s!=null},{}],236:[function(e,v,g){g.read=function(h,t,u,c,f){var d,n,r=8*f-c-1,o=(1<<r)-1,i=o>>1,a=-7,y=u?f-1:0,w=u?-1:1,x=h[t+y];for(y+=w,d=x&(1<<-a)-1,x>>=-a,a+=r;0<a;d=256*d+h[t+y],y+=w,a-=8);for(n=d&(1<<-a)-1,d>>=-a,a+=c;0<a;n=256*n+h[t+y],y+=w,a-=8);if(d===0)d=1-i;else{if(d===o)return n?NaN:1/0*(x?-1:1);n+=Math.pow(2,c),d-=i}return(x?-1:1)*n*Math.pow(2,d-c)},g.write=function(h,t,u,c,f,d){var n,r,o,i=8*d-f-1,a=(1<<i)-1,y=a>>1,w=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=c?0:d-1,_=c?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,n=a):(n=Math.floor(Math.log(t)/Math.LN2),t*(o=Math.pow(2,-n))<1&&(n--,o*=2),2<=(t+=1<=n+y?w/o:w*Math.pow(2,1-y))*o&&(n++,o/=2),a<=n+y?(r=0,n=a):1<=n+y?(r=(t*o-1)*Math.pow(2,f),n+=y):(r=t*Math.pow(2,y-1)*Math.pow(2,f),n=0));8<=f;h[u+x]=255&r,x+=_,r/=256,f-=8);for(n=n<<f|r,i+=f;0<i;h[u+x]=255&n,x+=_,n/=256,i-=8);h[u+x-_]|=128*T}},{}],237:[function(e,v,g){var h;function t(V,Z){return V.b===Z.b&&V.a===Z.a}function u(V,Z){return V.b<Z.b||V.b===Z.b&&V.a<=Z.a}function c(V,Z,z){var $=Z.b-V.b,de=z.b-Z.b;return 0<$+de?$<de?Z.a-V.a+$/($+de)*(V.a-z.a):Z.a-z.a+de/($+de)*(z.a-V.a):0}function f(V,Z,z){var $=Z.b-V.b,de=z.b-Z.b;return 0<$+de?(Z.a-z.a)*$+(Z.a-V.a)*de:0}function d(V,Z){return V.a<Z.a||V.a===Z.a&&V.b<=Z.b}function n(V,Z,z){var $=Z.a-V.a,de=z.a-Z.a;return 0<$+de?$<de?Z.b-V.b+$/($+de)*(V.b-z.b):Z.b-z.b+de/($+de)*(z.b-V.b):0}function r(V,Z,z){var $=Z.a-V.a,de=z.a-Z.a;return 0<$+de?(Z.b-z.b)*$+(Z.b-V.b)*de:0}function o(V,Z,z,$){return(V=V<0?0:V)<=(z=z<0?0:z)?z===0?(Z+$)/2:Z+V/(V+z)*($-Z):$+z/(V+z)*(Z-$)}function i(V){var Z=_(V.b);return E(Z,V.c),E(Z.b,V.c),A(Z,V.a),Z}function a(V,Z){var z=!1,$=!1;V!==Z&&(Z.a!==V.a&&($=!0,I(Z.a,V.a)),Z.d!==V.d&&(z=!0,R(Z.d,V.d)),T(Z,V),$||(E(Z,V.a),V.a.c=V),z||(A(Z,V.d),V.d.a=V))}function y(V){var Z=V.b,z=!1;V.d!==V.b.d&&(z=!0,R(V.d,V.b.d)),V.c===V?I(V.a,null):(V.b.d.a=oe(V),V.a.c=V.c,T(V,oe(V)),z||A(V,V.d)),Z.c===Z?(I(Z.a,null),R(Z.d,null)):(V.d.a=oe(Z),Z.a.c=Z.c,T(Z,oe(Z))),P(V)}function w(V){var Z=_(V),z=Z.b;return T(Z,V.e),Z.a=V.b.a,E(z,Z.a),Z.d=z.d=V.d,Z=Z.b,T(V.b,oe(V.b)),T(V.b,Z),V.b.a=Z.a,Z.b.a.c=Z.b,Z.b.d=V.b.d,Z.f=V.f,Z.b.f=V.b.f,Z}function x(V,Z){var z=!1,$=_(V),de=$.b;return Z.d!==V.d&&(z=!0,R(Z.d,V.d)),T($,V.e),T(de,Z),$.a=V.b.a,de.a=Z.a,$.d=de.d=V.d,V.d.a=de,z||A($,V.d),$}function _(V){var Z=new ie,z=new ie,$=V.b.h;return(((z.h=$).b.h=Z).h=V).b.h=z,Z.b=z,((Z.c=Z).e=z).b=Z,(z.c=z).e=Z}function T(V,Z){var z=V.c,$=Z.c;z.b.e=Z,($.b.e=V).c=$,Z.c=z}function E(V,Z){var z=Z.f,$=new ge(Z,z);for(z.e=$,z=(Z.f=$).c=V;z.a=$,(z=z.c)!==V;);}function A(V,Z){var z=Z.d,$=new ne(Z,z);for(z.b=$,(Z.d=$).a=V,$.c=Z.c,z=V;z.d=$,(z=z.e)!==V;);}function P(V){var Z=V.h;V=V.b.h,(Z.b.h=V).b.h=Z}function I(V,Z){for(var z=V.c,$=z;$.a=Z,($=$.c)!==z;);z=V.f,(($=V.e).f=z).e=$}function R(V,Z){for(var z=V.a,$=z;$.d=Z,($=$.e)!==z;);z=V.d,(($=V.b).d=z).b=$}function L(V){var Z=0;return Math.abs(V[1])>Math.abs(V[0])&&(Z=1),Math.abs(V[2])>Math.abs(V[Z])&&(Z=2),Z}function U(V,Z){V.f+=Z.f,V.b.f+=Z.b.f}function D(V,Z,z){return V=V.a,Z=Z.a,z=z.a,Z.b.a===V?z.b.a===V?u(Z.a,z.a)?f(z.b.a,Z.a,z.a)<=0:0<=f(Z.b.a,z.a,Z.a):f(z.b.a,V,z.a)<=0:z.b.a===V?0<=f(Z.b.a,V,Z.a):(Z=c(Z.b.a,V,Z.a),(V=c(z.b.a,V,z.a))<=Z)}function H(V){V.a.i=null;var Z=V.e;Z.a.c=Z.c,Z.c.a=Z.a,V.e=null}function W(V,Z){y(V.a),V.c=!1,(V.a=Z).i=V}function ae(V){for(var Z=V.a.a;(V=Je(V)).a.a===Z;);return V.c&&(W(V,Z=x(be(V).a.b,V.a.e)),V=Je(V)),V}function le(V,Z,z){var $=new qe;return $.a=z,$.e=ee(V.f,Z.e,$),z.i=$}function J(V,Z){switch(V.s){case 100130:return(1&Z)!=0;case 100131:return Z!==0;case 100132:return 0<Z;case 100133:return Z<0;case 100134:return 2<=Z||Z<=-2}return!1}function ue(V){var Z=V.a,z=Z.d;z.c=V.d,z.a=Z,H(V)}function se(V,Z,z){for(Z=(V=Z).a;V!==z;){V.c=!1;var $=be(V),de=$.a;if(de.a!==Z.a){if(!$.c){ue(V);break}W($,de=x(Z.c.b,de.b))}Z.c!==de&&(a(oe(de),de),a(Z,de)),ue(V),Z=$.a,V=$}return Z}function me(V,Z,z,$,de,Te){for(var Oe=!0;le(V,Z,z.b),(z=z.c)!==$;);for(de===null&&(de=be(Z).a.b.c);(z=($=be(Z)).a.b).a===de.a;)z.c!==de&&(a(oe(z),z),a(oe(de),z)),$.f=Z.f-z.f,$.d=J(V,$.f),Z.b=!0,!Oe&&De(V,Z)&&(U(z,de),H(Z),y(de)),Oe=!1,Z=$,de=z;Z.b=!0,Te&&Se(V,Z)}function xe(V,Z,z,$,de){var Te=[Z.g[0],Z.g[1],Z.g[2]];Z.d=null,Z.d=V.o&&V.o(Te,z,$,V.c)||null,Z.d===null&&(de?V.n||(Y(V,100156),V.n=!0):Z.d=z[0])}function Ce(V,Z,z){var $=[null,null,null,null];$[0]=Z.a.d,$[1]=z.a.d,xe(V,Z.a,$,[.5,.5,0,0],!1),a(Z,z)}function ve(V,Z,z,$,de){var Te=Math.abs(Z.b-V.b)+Math.abs(Z.a-V.a),Oe=Math.abs(z.b-V.b)+Math.abs(z.a-V.a),Ve=de+1;$[de]=.5*Oe/(Te+Oe),$[Ve]=.5*Te/(Te+Oe),V.g[0]+=$[de]*Z.g[0]+$[Ve]*z.g[0],V.g[1]+=$[de]*Z.g[1]+$[Ve]*z.g[1],V.g[2]+=$[de]*Z.g[2]+$[Ve]*z.g[2]}function De(V,Z){var z=be(Z),$=Z.a,de=z.a;if(u($.a,de.a)){if(0<f(de.b.a,$.a,de.a))return!1;if(t($.a,de.a)){if($.a!==de.a){z=V.e;var Te=$.a.h;if(0<=Te){var Oe=(z=z.b).d,Ve=z.e,we=z.c,Ye=we[Te];Oe[Ye]=Oe[z.a],(we[Oe[Ye]]=Ye)<=--z.a&&(Ye<=1||u(Ve[Oe[Ye>>1]],Ve[Oe[Ye]])?Me(z,Ye):He(z,Ye)),Ve[Te]=null,we[Te]=z.b,z.b=Te}else for(z.c[-(Te+1)]=null;0<z.a&&z.c[z.d[z.a-1]]===null;)--z.a;Ce(V,oe(de),$)}}else w(de.b),a($,oe(de)),Z.b=z.b=!0}else{if(f($.b.a,de.a,$.a)<0)return!1;Je(Z).b=Z.b=!0,w($.b),a(oe(de),$)}return!0}function _e(V,Z){var z=be(Z),$=Z.a,de=z.a,Te=$.a,Oe=de.a,Ve=$.b.a,we=de.b.a,Ye=new ge;if(f(Ve,V.a,Te),f(we,V.a,Oe),Te===Oe||Math.min(Te.a,Ve.a)>Math.max(Oe.a,we.a))return!1;if(u(Te,Oe)){if(0<f(we,Te,Oe))return!1}else if(f(Ve,Oe,Te)<0)return!1;var ot,dt,pt=Ve,ht=Te,ft=we,Ct=Oe;if(u(pt,ht)||(ot=pt,pt=ht,ht=ot),u(ft,Ct)||(ot=ft,ft=Ct,Ct=ot),u(pt,ft)||(ot=pt,pt=ft,ft=ot,ot=ht,ht=Ct,Ct=ot),u(ft,ht)?u(ht,Ct)?((ot=c(pt,ft,ht))+(dt=c(ft,ht,Ct))<0&&(ot=-ot,dt=-dt),Ye.b=o(ot,ft.b,dt,ht.b)):((ot=f(pt,ft,ht))+(dt=-f(pt,Ct,ht))<0&&(ot=-ot,dt=-dt),Ye.b=o(ot,ft.b,dt,Ct.b)):Ye.b=(ft.b+ht.b)/2,d(pt,ht)||(ot=pt,pt=ht,ht=ot),d(ft,Ct)||(ot=ft,ft=Ct,Ct=ot),d(pt,ft)||(ot=pt,pt=ft,ft=ot,ot=ht,ht=Ct,Ct=ot),d(ft,ht)?d(ht,Ct)?((ot=n(pt,ft,ht))+(dt=n(ft,ht,Ct))<0&&(ot=-ot,dt=-dt),Ye.a=o(ot,ft.a,dt,ht.a)):((ot=r(pt,ft,ht))+(dt=-r(pt,Ct,ht))<0&&(ot=-ot,dt=-dt),Ye.a=o(ot,ft.a,dt,Ct.a)):Ye.a=(ft.a+ht.a)/2,u(Ye,V.a)&&(Ye.b=V.a.b,Ye.a=V.a.a),pt=u(Te,Oe)?Te:Oe,u(pt,Ye)&&(Ye.b=pt.b,Ye.a=pt.a),t(Ye,Te)||t(Ye,Oe))return De(V,Z),!1;if(!t(Ve,V.a)&&0<=f(Ve,V.a,Ye)||!t(we,V.a)&&f(we,V.a,Ye)<=0){if(we===V.a)return w($.b),a(de.b,$),$=be(Z=ae(Z)).a,se(V,be(Z),z),me(V,Z,oe($),$,$,!0),!0;if(Ve!==V.a)return 0<=f(Ve,V.a,Ye)&&(Je(Z).b=Z.b=!0,w($.b),$.a.b=V.a.b,$.a.a=V.a.a),f(we,V.a,Ye)<=0&&(Z.b=z.b=!0,w(de.b),de.a.b=V.a.b,de.a.a=V.a.a),!1;for(w(de.b),a($.e,oe(de)),Oe=(Te=z=Z).a.b.a;(Te=Je(Te)).a.b.a===Oe;);return Te=be(Z=Te).a.b.c,z.a=oe(de),me(V,Z,(de=se(V,z,null)).c,$.b.c,Te,!0),!0}return w($.b),w(de.b),a(oe(de),$),$.a.b=Ye.b,$.a.a=Ye.a,$.a.h=Pe(V.e,$.a),$=$.a,de=[0,0,0,0],Ye=[Te.d,Ve.d,Oe.d,we.d],$.g[0]=$.g[1]=$.g[2]=0,ve($,Te,Ve,de,0),ve($,Oe,we,de,2),xe(V,$,Ye,de,!0),Je(Z).b=Z.b=z.b=!0,!1}function Se(V,Z){for(var z=be(Z);;){for(;z.b;)z=be(Z=z);if(!Z.b&&((Z=Je(z=Z))===null||!Z.b))break;Z.b=!1;var $,de=Z.a,Te=z.a;if($=de.b.a!==Te.b.a)e:{var Oe=be($=Z),Ve=$.a,we=Oe.a,Ye=void 0;if(u(Ve.b.a,we.b.a)){if(f(Ve.b.a,we.b.a,Ve.a)<0){$=!1;break e}Je($).b=$.b=!0,Ye=w(Ve),a(we.b,Ye),Ye.d.c=$.d}else{if(0<f(we.b.a,Ve.b.a,we.a)){$=!1;break e}$.b=Oe.b=!0,Ye=w(we),a(Ve.e,we.b),Ye.b.d.c=$.d}$=!0}if($&&(z.c?(H(z),y(Te),Te=(z=be(Z)).a):Z.c&&(H(Z),y(de),de=(Z=Je(z)).a)),de.a!==Te.a){if(de.b.a===Te.b.a||Z.c||z.c||de.b.a!==V.a&&Te.b.a!==V.a)De(V,Z);else if(_e(V,Z))break}de.a===Te.a&&de.b.a===Te.b.a&&(U(Te,de),H(Z),y(de),Z=Je(z))}}function O(V,Z){for(var z=(V.a=Z).c;z.i===null;)if((z=z.c)===Z.c){z=V;var $=Z;(Oe=new qe).a=$.c.b;for(var de=(we=z.f).a;(de=de.a).b!==null&&!we.c(we.b,Oe,de.b););var Te=be(we=de.b),Oe=we.a;if(de=Te.a,f(Oe.b.a,$,Oe.a)===0)t((Oe=we.a).a,$)||t(Oe.b.a,$)||(w(Oe.b),we.c&&(y(Oe.c),we.c=!1),a($.c,Oe),O(z,$));else{var Ve=u(de.b.a,Oe.b.a)?we:Te;Te=void 0,we.d||Ve.c?(Te=Ve===we?x($.c.b,Oe.e):x(de.b.c.b,$.c).b,Ve.c?W(Ve,Te):((we=le(Oe=z,we,Te)).f=Je(we).f+we.a.f,we.d=J(Oe,we.f)),O(z,$)):me(z,we,$.c,$.c,null,!0)}return}if(we=(Oe=be(z=ae(z.i))).a,(Oe=se(V,Oe,null)).c===we){Oe=(we=Oe).c,de=be(z),Te=z.a,Ve=de.a;var we,Ye=!1;Te.b.a!==Ve.b.a&&_e(V,z),t(Te.a,V.a)&&(a(oe(Oe),Te),Oe=be(z=ae(z)).a,se(V,be(z),de),Ye=!0),t(Ve.a,V.a)&&(a(we,oe(Ve)),we=se(V,de,null),Ye=!0),Ye?me(V,z,we.c,Oe,Oe,!0):($=u(Ve.a,Te.a)?oe(Ve):Te,me(V,z,$=x(we.c.b,$),$.c,$.c,!1),$.b.i.c=!0,Se(V,z))}else me(V,z,Oe.c,we,we,!0)}function G(V,Z){var z=new qe,$=i(V.b);$.a.b=4e150,$.a.a=Z,$.b.a.b=-4e150,$.b.a.a=Z,V.a=$.b.a,z.a=$,z.f=0,z.d=!1,z.c=!1,z.h=!0,z.b=!1,$=ee($=V.f,$.a,z),z.e=$}function X(V){this.a=new B,this.b=V,this.c=D}function ee(V,Z,z){for(;(Z=Z.c).b!==null&&!V.c(V.b,Z.b,z););return V=new B(z,Z.a,Z),Z.a.c=V,Z.a=V}function B(V,Z,z){this.b=V||null,this.a=Z||this,this.c=z||this}function N(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function re(V,Z){if(V.d!==Z)for(;V.d!==Z;)if(V.d<Z)switch(V.d){case 0:Y(V,100151),V.u(null);break;case 1:Y(V,100152),V.t()}else switch(V.d){case 2:Y(V,100154),V.v();break;case 1:Y(V,100153),V.w()}}function Y(V,Z){V.p&&V.p(Z,V.c)}function ne(V,Z){this.b=V||this,this.d=Z||this,this.a=null,this.c=!1}function ie(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function oe(V){return V.b.e}function pe(){this.c=new ge,this.a=new ne,this.b=new ie,this.d=new ie,this.b.b=this.d,this.d.b=this.b}function ge(V,Z){this.e=V||this,this.f=Z||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function he(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ue}function Pe(V,Z){if(V.e){var z,$=V.b,de=++$.a;return 2*de>$.f&&($.f*=2,$.c=Le($.c,$.f+1)),$.b===0?z=de:(z=$.b,$.b=$.c[$.b]),$.e[z]=Z,$.c[z]=de,$.d[de]=z,$.h&&He($,de),z}return $=V.a++,V.c[$]=Z,-($+1)}function Be(V){if(V.a===0)return Ae(V.b);var Z=V.c[V.d[V.a-1]];if(V.b.a!==0&&u($e(V.b),Z))return Ae(V.b);for(;--V.a,0<V.a&&V.c[V.d[V.a-1]]===null;);return Z}function Ue(){this.d=Le([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Le(V,Z){for(var z=Array(Z),$=0;$<V.length;$++)z[$]=V[$];for(;$<Z;$++)z[$]=0;return z}function $e(V){return V.e[V.d[1]]}function Ae(V){var Z=V.d,z=V.e,$=V.c,de=Z[1],Te=z[de];return 0<V.a&&(Z[1]=Z[V.a],$[Z[1]]=1,z[de]=null,$[de]=V.b,V.b=de,0<--V.a&&Me(V,1)),Te}function Me(V,Z){for(var z=V.d,$=V.e,de=V.c,Te=Z,Oe=z[Te];;){var Ve=Te<<1;Ve<V.a&&u($[z[Ve+1]],$[z[Ve]])&&(Ve+=1);var we=z[Ve];if(Ve>V.a||u($[Oe],$[we])){de[z[Te]=Oe]=Te;break}de[z[Te]=we]=Te,Te=Ve}}function He(V,Z){for(var z=V.d,$=V.e,de=V.c,Te=Z,Oe=z[Te];;){var Ve=Te>>1,we=z[Ve];if(Ve==0||u($[we],$[Oe])){de[z[Te]=Oe]=Te;break}de[z[Te]=we]=Te,Te=Ve}}function qe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function be(V){return V.e.c.b}function Je(V){return V.e.a.b}(h=N.prototype).x=function(){re(this,0)},h.B=function(V,Z){switch(V){case 100142:return;case 100140:switch(Z){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Z)}break;case 100141:return void(this.m=!!Z);default:return void Y(this,100900)}Y(this,100901)},h.y=function(V){switch(V){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Y(this,100900)}return!1},h.A=function(V,Z,z){this.j[0]=V,this.j[1]=Z,this.j[2]=z},h.z=function(V,Z){var z=Z||null;switch(V){case 100100:case 100106:this.h=z;break;case 100104:case 100110:this.l=z;break;case 100101:case 100107:this.k=z;break;case 100102:case 100108:this.i=z;break;case 100103:case 100109:this.p=z;break;case 100105:case 100111:this.o=z;break;case 100112:this.r=z;break;default:Y(this,100900)}},h.C=function(V,Z){var z=!1,$=[0,0,0];re(this,2);for(var de=0;de<3;++de){var Te=V[de];Te<-1e150&&(Te=-1e150,z=!0),1e150<Te&&(Te=1e150,z=!0),$[de]=Te}z&&Y(this,100155),(z=this.q)===null?a(z=i(this.b),z.b):(w(z),z=z.e),z.a.d=Z,z.a.g[0]=$[0],z.a.g[1]=$[1],z.a.g[2]=$[2],z.f=1,z.b.f=-1,this.q=z},h.u=function(V){re(this,0),this.d=1,this.b=new pe,this.c=V},h.t=function(){re(this,1),this.d=2,this.q=null},h.v=function(){re(this,2),this.d=1},h.w=function(){re(this,1),this.d=0;var V,Z,z=!1,$=[we=this.j[0],de=this.j[1],Oe=this.j[2]];if(we===0&&de===0&&Oe===0){for(var de=[-2e150,-2e150,-2e150],Te=[2e150,2e150,2e150],Oe=[],Ve=[],we=(z=this.b.c).e;we!==z;we=we.e)for(var Ye=0;Ye<3;++Ye){var ot=we.g[Ye];ot<Te[Ye]&&(Te[Ye]=ot,Ve[Ye]=we),ot>de[Ye]&&(de[Ye]=ot,Oe[Ye]=we)}if(we=0,de[1]-Te[1]>de[0]-Te[0]&&(we=1),de[2]-Te[2]>de[we]-Te[we]&&(we=2),Te[we]>=de[we])$[0]=0,$[1]=0,$[2]=1;else{for(de=0,Te=Ve[we],Oe=Oe[we],Ve=[0,0,0],Te=[Te.g[0]-Oe.g[0],Te.g[1]-Oe.g[1],Te.g[2]-Oe.g[2]],Ye=[0,0,0],we=z.e;we!==z;we=we.e)Ye[0]=we.g[0]-Oe.g[0],Ye[1]=we.g[1]-Oe.g[1],Ye[2]=we.g[2]-Oe.g[2],Ve[0]=Te[1]*Ye[2]-Te[2]*Ye[1],Ve[1]=Te[2]*Ye[0]-Te[0]*Ye[2],Ve[2]=Te[0]*Ye[1]-Te[1]*Ye[0],de<(ot=Ve[0]*Ve[0]+Ve[1]*Ve[1]+Ve[2]*Ve[2])&&(de=ot,$[0]=Ve[0],$[1]=Ve[1],$[2]=Ve[2]);de<=0&&($[0]=$[1]=$[2]=0,$[L(Te)]=1)}z=!0}for(Ve=L($),we=this.b.c,de=(Ve+1)%3,Oe=(Ve+2)%3,Ve=0<$[Ve]?1:-1,$=we.e;$!==we;$=$.e)$.b=$.g[de],$.a=Ve*$.g[Oe];if(z){for($=0,we=(z=this.b.a).b;we!==z;we=we.b)if(!((de=we.a).f<=0))for(;$+=(de.a.b-de.b.a.b)*(de.a.a+de.b.a.a),(de=de.e)!==we.a;);if($<0)for(z=($=this.b.c).e;z!==$;z=z.e)z.a=-z.a}for(this.n=!1,we=($=this.b.b).h;we!==$;we=z)z=we.h,de=we.e,t(we.a,we.b.a)&&we.e.e!==we&&(Ce(this,de,we),y(we),de=(we=de).e),de.e===we&&(de!==we&&(de!==z&&de!==z.b||(z=z.h),y(de)),we!==z&&we!==z.b||(z=z.h),y(we));for(this.e=$=new he,we=(z=this.b.c).e;we!==z;we=we.e)we.h=Pe($,we);for(function(dt){dt.d=[];for(var pt=0;pt<dt.a;pt++)dt.d[pt]=pt;dt.d.sort(function(ht){return function(ft,Ct){return u(ht[ft],ht[Ct])?1:-1}}(dt.c)),dt.e=!0,function(ht){for(var ft=ht.a;1<=ft;--ft)Me(ht,ft);ht.h=!0}(dt.b)}($),this.f=new X(this),G(this,-4e150),G(this,4e150);($=Be(this.e))!==null;){for(;;){e:if(we=this.e,we.a===0)z=$e(we.b);else if(z=we.c[we.d[we.a-1]],we.b.a!==0&&(we=$e(we.b),u(we,z))){z=we;break e}if(z===null||!t(z,$))break;z=Be(this.e),Ce(this,$.c,z.c)}O(this,$)}for(this.a=this.f.a.a.b.a.a,$=0;(z=this.f.a.a.b)!==null;)z.h||++$,H(z);for(this.f=null,($=this.e).b=null,$.d=null,this.e=$.c=null,we=($=this.b).a.b;we!==$.a;we=z)z=we.b,(we=we.a).e.e===we&&(U(we.c,we),y(we));if(!this.n){if($=this.b,this.m)for(we=$.b.h;we!==$.b;we=z)z=we.h,we.b.d.c!==we.d.c?we.f=we.d.c?1:-1:y(we);else for(we=$.a.b;we!==$.a;we=z)if(z=we.b,we.c){for(we=we.a;u(we.b.a,we.a);we=we.c.b);for(;u(we.a,we.b.a);we=we.e);for(de=we.c.b,Oe=void 0;we.e!==de;)if(u(we.b.a,de.a)){for(;de.e!==we&&(u((Z=de.e).b.a,Z.a)||f(de.a,de.b.a,de.e.b.a)<=0);)de=(Oe=x(de.e,de)).b;de=de.c.b}else{for(;de.e!==we&&(u((V=we.c.b).a,V.b.a)||0<=f(we.b.a,we.a,we.c.b.a));)we=(Oe=x(we,we.c.b)).b;we=we.e}for(;de.e.e!==we;)de=(Oe=x(de.e,de)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(z=($=this.b).a.b;z!==$.a;z=z.b)if(z.c){for(this.h&&this.h(2,this.c),we=z.a;this.k&&this.k(we.a.d,this.c),(we=we.e)!==z.a;);this.i&&this.i(this.c)}}else{for($=this.b,z=!!this.l,we=!1,de=-1,Oe=$.a.d;Oe!==$.a;Oe=Oe.d)if(Oe.c)for(we||(this.h&&this.h(4,this.c),we=!0),Ve=Oe.a;z&&de!==(Te=Ve.b.d.c?0:1)&&(de=Te,this.l&&this.l(!!de,this.c)),this.k&&this.k(Ve.a.d,this.c),(Ve=Ve.e)!==Oe.a;);we&&this.i&&this.i(this.c)}if(this.r){for(we=($=this.b).a.b;we!==$.a;we=z)if(z=we.b,!we.c){for(Oe=(de=we.a).e,Ve=void 0;Oe=(Ve=Oe).e,(Ve.d=null)===Ve.b.d&&(Ve.c===Ve?I(Ve.a,null):(Ve.a.c=Ve.c,T(Ve,oe(Ve))),(Te=Ve.b).c===Te?I(Te.a,null):(Te.a.c=Te.c,T(Te,oe(Te))),P(Ve)),Ve!==de;);de=we.d,((we=we.b).d=de).b=we}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:N,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},N.prototype.gluDeleteTess=N.prototype.x,N.prototype.gluTessProperty=N.prototype.B,N.prototype.gluGetTessProperty=N.prototype.y,N.prototype.gluTessNormal=N.prototype.A,N.prototype.gluTessCallback=N.prototype.z,N.prototype.gluTessVertex=N.prototype.C,N.prototype.gluTessBeginPolygon=N.prototype.u,N.prototype.gluTessBeginContour=N.prototype.t,N.prototype.gluTessEndContour=N.prototype.v,N.prototype.gluTessEndPolygon=N.prototype.w,v!==void 0&&(v.exports=this.libtess)},{}],238:[function(e,v,g){function h(t,u,c,f){for(var d=t[u++],n=1<<d,r=1+n,o=1+r,i=d+1,a=(1<<i)-1,y=0,w=0,x=0,_=t[u++],T=new Int32Array(4096),E=null;;){for(;y<16&&_!==0;)w|=t[u++]<<y,y+=8,_===1?_=t[u++]:--_;if(y<i)break;var A=w&a;if(w>>=i,y-=i,A!=n){if(A==r)break;for(var P=A<o?A:E,I=0,R=P;n<R;)R=T[R]>>8,++I;var L=R;if(f<x+I+(P!==A?1:0))return void console.log("Warning, gif stream longer than expected.");c[x++]=L;var U=x+=I;for(P!==A&&(c[x++]=L),R=P;I--;)R=T[R],c[--U]=255&R,R>>=8;E!==null&&o<4096&&(T[o++]=E<<8|L,a+1<=o&&i<12&&(++i,a=a<<1|1)),E=A}else o=1+r,a=(1<<(i=d+1))-1,E=null}return x!==f&&console.log("Warning, gif stream shorter than expected."),c}try{g.GifWriter=function(t,u,c,f){var d=0,n=(f=f===void 0?{}:f).loop===void 0?null:f.loop,r=f.palette===void 0?null:f.palette;if(u<=0||c<=0||65535<u||65535<c)throw new Error("Width/Height invalid.");function o(E){var A=E.length;if(A<2||256<A||A&A-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return A}t[d++]=71,t[d++]=73,t[d++]=70,t[d++]=56,t[d++]=57,t[d++]=97;var i=0,a=0;if(r!==null){for(var y=o(r);y>>=1;)++i;if(y=1<<i,--i,f.background!==void 0){if(y<=(a=f.background))throw new Error("Background index out of range.");if(a===0)throw new Error("Background index explicitly passed as 0.")}}if(t[d++]=255&u,t[d++]=u>>8&255,t[d++]=255&c,t[d++]=c>>8&255,t[d++]=(r!==null?128:0)|i,t[d++]=a,t[d++]=0,r!==null)for(var w=0,x=r.length;w<x;++w){var _=r[w];t[d++]=_>>16&255,t[d++]=_>>8&255,t[d++]=255&_}if(n!==null){if(n<0||65535<n)throw new Error("Loop count invalid.");t[d++]=33,t[d++]=255,t[d++]=11,t[d++]=78,t[d++]=69,t[d++]=84,t[d++]=83,t[d++]=67,t[d++]=65,t[d++]=80,t[d++]=69,t[d++]=50,t[d++]=46,t[d++]=48,t[d++]=3,t[d++]=1,t[d++]=255&n,t[d++]=n>>8&255,t[d++]=0}var T=!1;this.addFrame=function(E,A,P,I,R,L){if(T===!0&&(--d,T=!1),L=L===void 0?{}:L,E<0||A<0||65535<E||65535<A)throw new Error("x/y invalid.");if(P<=0||I<=0||65535<P||65535<I)throw new Error("Width/Height invalid.");if(R.length<P*I)throw new Error("Not enough pixels for the frame size.");var U=!0,D=L.palette;if(D==null&&(U=!1,D=r),D==null)throw new Error("Must supply either a local or global palette.");for(var H=o(D),W=0;H>>=1;)++W;H=1<<W;var ae=L.delay===void 0?0:L.delay,le=L.disposal===void 0?0:L.disposal;if(le<0||3<le)throw new Error("Disposal out of range.");var J=!1,ue=0;if(L.transparent!==void 0&&L.transparent!==null&&(J=!0,(ue=L.transparent)<0||H<=ue))throw new Error("Transparent color index.");if(le===0&&!J&&ae===0||(t[d++]=33,t[d++]=249,t[d++]=4,t[d++]=le<<2|(J===!0?1:0),t[d++]=255&ae,t[d++]=ae>>8&255,t[d++]=ue,t[d++]=0),t[d++]=44,t[d++]=255&E,t[d++]=E>>8&255,t[d++]=255&A,t[d++]=A>>8&255,t[d++]=255&P,t[d++]=P>>8&255,t[d++]=255&I,t[d++]=I>>8&255,t[d++]=U===!0?128|W-1:0,U===!0)for(var se=0,me=D.length;se<me;++se){var xe=D[se];t[d++]=xe>>16&255,t[d++]=xe>>8&255,t[d++]=255&xe}return d=function(Ce,ve,De,_e){Ce[ve++]=De;var Se=ve++,O=1<<De,G=O-1,X=1+O,ee=1+X,B=De+1,N=0,re=0;function Y(Ue){for(;Ue<=N;)Ce[ve++]=255&re,re>>=8,N-=8,ve===Se+256&&(Ce[Se]=255,Se=ve++)}function ne(Ue){re|=Ue<<N,N+=B,Y(8)}var ie=_e[0]&G,oe={};ne(O);for(var pe=1,ge=_e.length;pe<ge;++pe){var he=_e[pe]&G,Pe=ie<<8|he,Be=oe[Pe];if(Be===void 0){for(re|=ie<<N,N+=B;8<=N;)Ce[ve++]=255&re,re>>=8,N-=8,ve===Se+256&&(Ce[Se]=255,Se=ve++);ee===4096?(ne(O),ee=1+X,B=De+1,oe={}):(1<<B<=ee&&++B,oe[Pe]=ee++),ie=he}else ie=Be}return ne(ie),ne(X),Y(1),Se+1===ve?Ce[Se]=0:(Ce[Se]=ve-Se-1,Ce[ve++]=0),ve}(t,d,W<2?2:W,R)},this.end=function(){return T===!1&&(t[d++]=59,T=!0),d},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(E){t=E},this.getOutputBufferPosition=function(){return d},this.setOutputBufferPosition=function(E){d=E}},g.GifReader=function(t){var u=0;if(t[u++]!==71||t[u++]!==73||t[u++]!==70||t[u++]!==56||(t[u++]+1&253)!=56||t[u++]!==97)throw new Error("Invalid GIF 87a/89a header.");var c=t[u++]|t[u++]<<8,f=t[u++]|t[u++]<<8,d=t[u++],n=d>>7,r=1<<1+(7&d);t[u++],t[u++];var o=null,i=null;n&&(o=u,u+=3*(i=r));var a=!0,y=[],w=0,x=null,_=0,T=null;for(this.width=c,this.height=f;a&&u<t.length;)switch(t[u++]){case 33:switch(t[u++]){case 255:if(t[u]!==11||t[u+1]==78&&t[u+2]==69&&t[u+3]==84&&t[u+4]==83&&t[u+5]==67&&t[u+6]==65&&t[u+7]==80&&t[u+8]==69&&t[u+9]==50&&t[u+10]==46&&t[u+11]==48&&t[u+12]==3&&t[u+13]==1&&t[u+16]==0)u+=14,T=t[u++]|t[u++]<<8,u++;else for(u+=12;;){if(!(0<=(J=t[u++])))throw Error("Invalid block size");if(J===0)break;u+=J}break;case 249:if(t[u++]!==4||t[u+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[u++];w=t[u++]|t[u++]<<8,x=t[u++],!(1&E)&&(x=null),_=E>>2&7,u++;break;case 254:for(;;){if(!(0<=(J=t[u++])))throw Error("Invalid block size");if(J===0)break;u+=J}break;default:throw new Error("Unknown graphic control label: 0x"+t[u-1].toString(16))}break;case 44:var A=t[u++]|t[u++]<<8,P=t[u++]|t[u++]<<8,I=t[u++]|t[u++]<<8,R=t[u++]|t[u++]<<8,L=t[u++],U=L>>6&1,D=1<<1+(7&L),H=o,W=i,ae=!1;L>>7&&(ae=!0,H=u,u+=3*(W=D));var le=u;for(u++;;){var J;if(!(0<=(J=t[u++])))throw Error("Invalid block size");if(J===0)break;u+=J}y.push({x:A,y:P,width:I,height:R,has_local_palette:ae,palette_offset:H,palette_size:W,data_offset:le,data_length:u-le,transparent_index:x,interlaced:!!U,delay:w,disposal:_});break;case 59:a=!1;break;default:throw new Error("Unknown gif block: 0x"+t[u-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return T},this.frameInfo=function(ue){if(ue<0||ue>=y.length)throw new Error("Frame index out of range.");return y[ue]},this.decodeAndBlitFrameBGRA=function(ue,se){var me=this.frameInfo(ue),xe=me.width*me.height,Ce=new Uint8Array(xe);h(t,me.data_offset,Ce,xe);var ve=me.palette_offset,De=me.transparent_index;De===null&&(De=256);var _e=me.width,Se=c-_e,O=_e,G=4*(me.y*c+me.x),X=4*((me.y+me.height)*c+me.x),ee=G,B=4*Se;me.interlaced===!0&&(B+=4*c*7);for(var N=8,re=0,Y=Ce.length;re<Y;++re){var ne=Ce[re];if(O===0&&(O=_e,X<=(ee+=B)&&(B=4*Se+4*c*(N-1),ee=G+(_e+Se)*(N<<1),N>>=1)),ne===De)ee+=4;else{var ie=t[ve+3*ne],oe=t[ve+3*ne+1],pe=t[ve+3*ne+2];se[ee++]=pe,se[ee++]=oe,se[ee++]=ie,se[ee++]=255}--O}},this.decodeAndBlitFrameRGBA=function(ue,se){var me=this.frameInfo(ue),xe=me.width*me.height,Ce=new Uint8Array(xe);h(t,me.data_offset,Ce,xe);var ve=me.palette_offset,De=me.transparent_index;De===null&&(De=256);var _e=me.width,Se=c-_e,O=_e,G=4*(me.y*c+me.x),X=4*((me.y+me.height)*c+me.x),ee=G,B=4*Se;me.interlaced===!0&&(B+=4*c*7);for(var N=8,re=0,Y=Ce.length;re<Y;++re){var ne=Ce[re];if(O===0&&(O=_e,X<=(ee+=B)&&(B=4*Se+4*c*(N-1),ee=G+(_e+Se)*(N<<1),N>>=1)),ne===De)ee+=4;else{var ie=t[ve+3*ne],oe=t[ve+3*ne+1],pe=t[ve+3*ne+2];se[ee++]=ie,se[ee++]=oe,se[ee++]=pe,se[ee++]=255}--O}}}}catch{}},{}],239:[function(e,v,g){(function(h){var t,u;t=this,u=function(c){function f(m){if(this==null)throw TypeError();var b=String(this),S=b.length,j=m?Number(m):0;if(j!=j&&(j=0),!(j<0||S<=j)){var M,k=b.charCodeAt(j);return 55296<=k&&k<=56319&&j+1<S&&56320<=(M=b.charCodeAt(j+1))&&M<=57343?1024*(k-55296)+M-56320+65536:k}}var d;String.prototype.codePointAt||((d=function(){try{var m={},b=Object.defineProperty,S=b(m,m,m)&&b}catch{}return S}())?d(String.prototype,"codePointAt",{value:f,configurable:!0,writable:!0}):String.prototype.codePointAt=f);var n=0,r=-3;function o(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(m,b){this.source=m,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=b,this.destLen=0,this.ltree=new o,this.dtree=new o}var a=new o,y=new o,w=new Uint8Array(30),x=new Uint16Array(30),_=new Uint8Array(30),T=new Uint16Array(30),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A=new o,P=new Uint8Array(320);function I(m,b,S,j){var M,k;for(M=0;M<S;++M)m[M]=0;for(M=0;M<30-S;++M)m[M+S]=M/S|0;for(k=j,M=0;M<30;++M)b[M]=k,k+=1<<m[M]}var R=new Uint16Array(16);function L(m,b,S,j){var M,k;for(M=0;M<16;++M)m.table[M]=0;for(M=0;M<j;++M)m.table[b[S+M]]++;for(M=k=m.table[0]=0;M<16;++M)R[M]=k,k+=m.table[M];for(M=0;M<j;++M)b[S+M]&&(m.trans[R[b[S+M]]++]=M)}function U(m){m.bitcount--||(m.tag=m.source[m.sourceIndex++],m.bitcount=7);var b=1&m.tag;return m.tag>>>=1,b}function D(m,b,S){if(!b)return S;for(;m.bitcount<24;)m.tag|=m.source[m.sourceIndex++]<<m.bitcount,m.bitcount+=8;var j=m.tag&65535>>>16-b;return m.tag>>>=b,m.bitcount-=b,j+S}function H(m,b){for(;m.bitcount<24;)m.tag|=m.source[m.sourceIndex++]<<m.bitcount,m.bitcount+=8;for(var S=0,j=0,M=0,k=m.tag;j=2*j+(1&k),k>>>=1,++M,S+=b.table[M],0<=(j-=b.table[M]););return m.tag=k,m.bitcount-=M,b.trans[S+j]}function W(m,b,S){var j,M,k,F,q,Q;for(j=D(m,5,257),M=D(m,5,1),k=D(m,4,4),F=0;F<19;++F)P[F]=0;for(F=0;F<k;++F){var ce=D(m,3,0);P[E[F]]=ce}for(L(A,P,0,19),q=0;q<j+M;){var ye=H(m,A);switch(ye){case 16:var je=P[q-1];for(Q=D(m,2,3);Q;--Q)P[q++]=je;break;case 17:for(Q=D(m,3,3);Q;--Q)P[q++]=0;break;case 18:for(Q=D(m,7,11);Q;--Q)P[q++]=0;break;default:P[q++]=ye}}L(b,P,0,j),L(S,P,j,M)}function ae(m,b,S){for(;;){var j,M,k,F,q=H(m,b);if(q===256)return n;if(q<256)m.dest[m.destLen++]=q;else for(j=D(m,w[q-=257],x[q]),M=H(m,S),F=k=m.destLen-D(m,_[M],T[M]);F<k+j;++F)m.dest[m.destLen++]=m.dest[F]}}function le(m){for(var b,S;8<m.bitcount;)m.sourceIndex--,m.bitcount-=8;if((b=256*(b=m.source[m.sourceIndex+1])+m.source[m.sourceIndex])!==(65535&~(256*m.source[m.sourceIndex+3]+m.source[m.sourceIndex+2])))return r;for(m.sourceIndex+=4,S=b;S;--S)m.dest[m.destLen++]=m.source[m.sourceIndex++];return m.bitcount=0,n}(function(m,b){var S;for(S=0;S<7;++S)m.table[S]=0;for(m.table[7]=24,m.table[8]=152,m.table[9]=112,S=0;S<24;++S)m.trans[S]=256+S;for(S=0;S<144;++S)m.trans[24+S]=S;for(S=0;S<8;++S)m.trans[168+S]=280+S;for(S=0;S<112;++S)m.trans[176+S]=144+S;for(S=0;S<5;++S)b.table[S]=0;for(b.table[5]=32,S=0;S<32;++S)b.trans[S]=S})(a,y),I(w,x,4,3),I(_,T,2,1),w[28]=0,x[28]=258;var J=function(m,b){var S,j,M=new i(m,b);do{switch(S=U(M),D(M,2,0)){case 0:j=le(M);break;case 1:j=ae(M,a,y);break;case 2:W(M,M.ltree,M.dtree),j=ae(M,M.ltree,M.dtree);break;default:j=r}if(j!==n)throw new Error("Data error")}while(!S);return M.destLen<M.dest.length?typeof M.dest.slice=="function"?M.dest.slice(0,M.destLen):M.dest.subarray(0,M.destLen):M.dest};function ue(m,b,S,j,M){return Math.pow(1-M,3)*m+3*Math.pow(1-M,2)*M*b+3*(1-M)*Math.pow(M,2)*S+Math.pow(M,3)*j}function se(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function me(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function xe(m){throw new Error(m)}function Ce(m,b){m||xe(b)}se.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},se.prototype.addPoint=function(m,b){typeof m=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=m,this.x2=m),m<this.x1&&(this.x1=m),m>this.x2&&(this.x2=m)),typeof b=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))},se.prototype.addX=function(m){this.addPoint(m,null)},se.prototype.addY=function(m){this.addPoint(null,m)},se.prototype.addBezier=function(m,b,S,j,M,k,F,q){var Q=[m,b],ce=[S,j],ye=[M,k],je=[F,q];this.addPoint(m,b),this.addPoint(F,q);for(var te=0;te<=1;te++){var Xe=6*Q[te]-12*ce[te]+6*ye[te],ze=-3*Q[te]+9*ce[te]-9*ye[te]+3*je[te],Ne=3*ce[te]-3*Q[te];if(ze!=0){var Ee=Math.pow(Xe,2)-4*Ne*ze;if(!(Ee<0)){var Ie=(-Xe+Math.sqrt(Ee))/(2*ze);0<Ie&&Ie<1&&(te===0&&this.addX(ue(Q[te],ce[te],ye[te],je[te],Ie)),te===1&&this.addY(ue(Q[te],ce[te],ye[te],je[te],Ie)));var rt=(-Xe-Math.sqrt(Ee))/(2*ze);0<rt&&rt<1&&(te===0&&this.addX(ue(Q[te],ce[te],ye[te],je[te],rt)),te===1&&this.addY(ue(Q[te],ce[te],ye[te],je[te],rt)))}}else{if(Xe==0)continue;var tt=-Ne/Xe;0<tt&&tt<1&&(te===0&&this.addX(ue(Q[te],ce[te],ye[te],je[te],tt)),te===1&&this.addY(ue(Q[te],ce[te],ye[te],je[te],tt)))}}},se.prototype.addQuad=function(m,b,S,j,M,k){var F=m+.6666666666666666*(S-m),q=b+2/3*(j-b),Q=F+1/3*(M-m),ce=q+1/3*(k-b);this.addBezier(m,b,F,q,Q,ce,M,k)},me.prototype.moveTo=function(m,b){this.commands.push({type:"M",x:m,y:b})},me.prototype.lineTo=function(m,b){this.commands.push({type:"L",x:m,y:b})},me.prototype.curveTo=me.prototype.bezierCurveTo=function(m,b,S,j,M,k){this.commands.push({type:"C",x1:m,y1:b,x2:S,y2:j,x:M,y:k})},me.prototype.quadTo=me.prototype.quadraticCurveTo=function(m,b,S,j){this.commands.push({type:"Q",x1:m,y1:b,x:S,y:j})},me.prototype.close=me.prototype.closePath=function(){this.commands.push({type:"Z"})},me.prototype.extend=function(m){if(m.commands)m=m.commands;else if(m instanceof se){var b=m;return this.moveTo(b.x1,b.y1),this.lineTo(b.x2,b.y1),this.lineTo(b.x2,b.y2),this.lineTo(b.x1,b.y2),void this.close()}Array.prototype.push.apply(this.commands,m)},me.prototype.getBoundingBox=function(){for(var m=new se,b=0,S=0,j=0,M=0,k=0;k<this.commands.length;k++){var F=this.commands[k];switch(F.type){case"M":m.addPoint(F.x,F.y),b=j=F.x,S=M=F.y;break;case"L":m.addPoint(F.x,F.y),j=F.x,M=F.y;break;case"Q":m.addQuad(j,M,F.x1,F.y1,F.x,F.y),j=F.x,M=F.y;break;case"C":m.addBezier(j,M,F.x1,F.y1,F.x2,F.y2,F.x,F.y),j=F.x,M=F.y;break;case"Z":j=b,M=S;break;default:throw new Error("Unexpected path command "+F.type)}}return m.isEmpty()&&m.addPoint(0,0),m},me.prototype.draw=function(m){m.beginPath();for(var b=0;b<this.commands.length;b+=1){var S=this.commands[b];S.type==="M"?m.moveTo(S.x,S.y):S.type==="L"?m.lineTo(S.x,S.y):S.type==="C"?m.bezierCurveTo(S.x1,S.y1,S.x2,S.y2,S.x,S.y):S.type==="Q"?m.quadraticCurveTo(S.x1,S.y1,S.x,S.y):S.type==="Z"&&m.closePath()}this.fill&&(m.fillStyle=this.fill,m.fill()),this.stroke&&(m.strokeStyle=this.stroke,m.lineWidth=this.strokeWidth,m.stroke())},me.prototype.toPathData=function(m){function b(){for(var k,F=arguments,q="",Q=0;Q<arguments.length;Q+=1){var ce=F[Q];0<=ce&&0<Q&&(q+=" "),q+=(k=ce,Math.round(k)===k?""+Math.round(k):k.toFixed(m))}return q}m=m!==void 0?m:2;for(var S="",j=0;j<this.commands.length;j+=1){var M=this.commands[j];M.type==="M"?S+="M"+b(M.x,M.y):M.type==="L"?S+="L"+b(M.x,M.y):M.type==="C"?S+="C"+b(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?S+="Q"+b(M.x1,M.y1,M.x,M.y):M.type==="Z"&&(S+="Z")}return S},me.prototype.toSVG=function(m){var b='<path d="';return b+=this.toPathData(m),b+='"',this.fill&&this.fill!=="black"&&(this.fill===null?b+=' fill="none"':b+=' fill="'+this.fill+'"'),this.stroke&&(b+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),b+="/>"},me.prototype.toDOMElement=function(m){var b=this.toPathData(m),S=document.createElementNS("http://www.w3.org/2000/svg","path");return S.setAttribute("d",b),S};var ve={fail:xe,argument:Ce,assert:Ce},De={},_e={},Se={};function O(m){return function(){return m}}_e.BYTE=function(m){return ve.argument(0<=m&&m<=255,"Byte value should be between 0 and 255."),[m]},Se.BYTE=O(1),_e.CHAR=function(m){return[m.charCodeAt(0)]},Se.CHAR=O(1),_e.CHARARRAY=function(m){for(var b=[],S=0;S<m.length;S+=1)b[S]=m.charCodeAt(S);return b},Se.CHARARRAY=function(m){return m.length},_e.USHORT=function(m){return[m>>8&255,255&m]},Se.USHORT=O(2),_e.SHORT=function(m){return 32768<=m&&(m=-(65536-m)),[m>>8&255,255&m]},Se.SHORT=O(2),_e.UINT24=function(m){return[m>>16&255,m>>8&255,255&m]},Se.UINT24=O(3),_e.ULONG=function(m){return[m>>24&255,m>>16&255,m>>8&255,255&m]},Se.ULONG=O(4),_e.LONG=function(m){return 2147483648<=m&&(m=-(4294967296-m)),[m>>24&255,m>>16&255,m>>8&255,255&m]},Se.LONG=O(4),_e.FIXED=_e.ULONG,Se.FIXED=Se.ULONG,_e.FWORD=_e.SHORT,Se.FWORD=Se.SHORT,_e.UFWORD=_e.USHORT,Se.UFWORD=Se.USHORT,_e.LONGDATETIME=function(m){return[0,0,0,0,m>>24&255,m>>16&255,m>>8&255,255&m]},Se.LONGDATETIME=O(8),_e.TAG=function(m){return ve.argument(m.length===4,"Tag should be exactly 4 ASCII characters."),[m.charCodeAt(0),m.charCodeAt(1),m.charCodeAt(2),m.charCodeAt(3)]},Se.TAG=O(4),_e.Card8=_e.BYTE,Se.Card8=Se.BYTE,_e.Card16=_e.USHORT,Se.Card16=Se.USHORT,_e.OffSize=_e.BYTE,Se.OffSize=Se.BYTE,_e.SID=_e.USHORT,Se.SID=Se.USHORT,_e.NUMBER=function(m){return-107<=m&&m<=107?[m+139]:108<=m&&m<=1131?[247+((m-=108)>>8),255&m]:-1131<=m&&m<=-108?[251+((m=-m-108)>>8),255&m]:-32768<=m&&m<=32767?_e.NUMBER16(m):_e.NUMBER32(m)},Se.NUMBER=function(m){return _e.NUMBER(m).length},_e.NUMBER16=function(m){return[28,m>>8&255,255&m]},Se.NUMBER16=O(3),_e.NUMBER32=function(m){return[29,m>>24&255,m>>16&255,m>>8&255,255&m]},Se.NUMBER32=O(5),_e.REAL=function(m){var b=m.toString(),S=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(b);if(S){var j=parseFloat("1e"+((S[2]?+S[2]:0)+S[1].length));b=(Math.round(m*j)/j).toString()}for(var M="",k=0,F=b.length;k<F;k+=1){var q=b[k];M+=q==="e"?b[++k]==="-"?"c":"b":q==="."?"a":q==="-"?"e":q}for(var Q=[30],ce=0,ye=(M+=1&M.length?"f":"ff").length;ce<ye;ce+=2)Q.push(parseInt(M.substr(ce,2),16));return Q},Se.REAL=function(m){return _e.REAL(m).length},_e.NAME=_e.CHARARRAY,Se.NAME=Se.CHARARRAY,_e.STRING=_e.CHARARRAY,Se.STRING=Se.CHARARRAY,De.UTF8=function(m,b,S){for(var j=[],M=S,k=0;k<M;k++,b+=1)j[k]=m.getUint8(b);return String.fromCharCode.apply(null,j)},De.UTF16=function(m,b,S){for(var j=[],M=S/2,k=0;k<M;k++,b+=2)j[k]=m.getUint16(b);return String.fromCharCode.apply(null,j)},_e.UTF16=function(m){for(var b=[],S=0;S<m.length;S+=1){var j=m.charCodeAt(S);b[b.length]=j>>8&255,b[b.length]=255&j}return b},Se.UTF16=function(m){return 2*m.length};var G={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};De.MACSTRING=function(m,b,S,j){var M=G[j];if(M!==void 0){for(var k="",F=0;F<S;F++){var q=m.getUint8(b+F);k+=q<=127?String.fromCharCode(q):M[127&q]}return k}};var X,ee=typeof WeakMap=="function"&&new WeakMap;function B(m){return-128<=m&&m<=127}function N(m,b,S){for(var j=0,M=m.length;b<M&&j<64&&m[b]===0;)++b,++j;return S.push(128|j-1),b}function re(m,b,S){for(var j=0,M=m.length,k=b;k<M&&j<64;){var F=m[k];if(!B(F)||F===0&&k+1<M&&m[k+1]===0)break;++k,++j}S.push(j-1);for(var q=b;q<k;++q)S.push(m[q]+256&255);return k}function Y(m,b,S){for(var j=0,M=m.length,k=b;k<M&&j<64;){var F=m[k];if(F===0||B(F)&&k+1<M&&B(m[k+1]))break;++k,++j}S.push(64|j-1);for(var q=b;q<k;++q){var Q=m[q];S.push(Q+65536>>8&255,Q+256&255)}return k}_e.MACSTRING=function(m,b){var S=function(F){if(!X)for(var q in X={},G)X[q]=new String(q);var Q=X[F];if(Q!==void 0){if(ee){var ce=ee.get(Q);if(ce!==void 0)return ce}var ye=G[F];if(ye!==void 0){for(var je={},te=0;te<ye.length;te++)je[ye.charCodeAt(te)]=te+128;return ee&&ee.set(Q,je),je}}}(b);if(S!==void 0){for(var j=[],M=0;M<m.length;M++){var k=m.charCodeAt(M);if(128<=k&&(k=S[k])===void 0)return;j[M]=k}return j}},Se.MACSTRING=function(m,b){var S=_e.MACSTRING(m,b);return S!==void 0?S.length:0},_e.VARDELTAS=function(m){for(var b=0,S=[];b<m.length;){var j=m[b];b=j===0?N(m,b,S):-128<=j&&j<=127?re(m,b,S):Y(m,b,S)}return S},_e.INDEX=function(m){for(var b=1,S=[b],j=[],M=0;M<m.length;M+=1){var k=_e.OBJECT(m[M]);Array.prototype.push.apply(j,k),b+=k.length,S.push(b)}if(j.length===0)return[0,0];for(var F=[],q=1+Math.floor(Math.log(b)/Math.log(2))/8|0,Q=[void 0,_e.BYTE,_e.USHORT,_e.UINT24,_e.ULONG][q],ce=0;ce<S.length;ce+=1){var ye=Q(S[ce]);Array.prototype.push.apply(F,ye)}return Array.prototype.concat(_e.Card16(m.length),_e.OffSize(q),F,j)},Se.INDEX=function(m){return _e.INDEX(m).length},_e.DICT=function(m){for(var b=[],S=Object.keys(m),j=S.length,M=0;M<j;M+=1){var k=parseInt(S[M],0),F=m[k];b=(b=b.concat(_e.OPERAND(F.value,F.type))).concat(_e.OPERATOR(k))}return b},Se.DICT=function(m){return _e.DICT(m).length},_e.OPERATOR=function(m){return m<1200?[m]:[12,m-1200]},_e.OPERAND=function(m,b){var S=[];if(Array.isArray(b))for(var j=0;j<b.length;j+=1)ve.argument(m.length===b.length,"Not enough arguments given for type"+b),S=S.concat(_e.OPERAND(m[j],b[j]));else if(b==="SID")S=S.concat(_e.NUMBER(m));else if(b==="offset")S=S.concat(_e.NUMBER32(m));else if(b==="number")S=S.concat(_e.NUMBER(m));else{if(b!=="real")throw new Error("Unknown operand type "+b);S=S.concat(_e.REAL(m))}return S},_e.OP=_e.BYTE,Se.OP=Se.BYTE;var ne=typeof WeakMap=="function"&&new WeakMap;function ie(m,b,S){for(var j=0;j<b.length;j+=1){var M=b[j];this[M.name]=M.value}if(this.tableName=m,this.fields=b,S)for(var k=Object.keys(S),F=0;F<k.length;F+=1){var q=k[F],Q=S[q];this[q]!==void 0&&(this[q]=Q)}}function oe(m,b,S){S===void 0&&(S=b.length);var j=new Array(b.length+1);j[0]={name:m+"Count",type:"USHORT",value:S};for(var M=0;M<b.length;M++)j[M+1]={name:m+M,type:"USHORT",value:b[M]};return j}function pe(m,b,S){var j=b.length,M=new Array(j+1);M[0]={name:m+"Count",type:"USHORT",value:j};for(var k=0;k<j;k++)M[k+1]={name:m+k,type:"TABLE",value:S(b[k],k)};return M}function ge(m,b,S){var j=b.length,M=[];M[0]={name:m+"Count",type:"USHORT",value:j};for(var k=0;k<j;k++)M=M.concat(S(b[k],k));return M}function he(m){m.format===1?ie.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(oe("glyph",m.glyphs))):ve.assert(!1,"Can't create coverage table format 2 yet.")}function Pe(m){ie.call(this,"scriptListTable",ge("scriptRecord",m,function(b,S){var j=b.script,M=j.defaultLangSys;return ve.assert(!!M,"Unable to write GSUB: script "+b.tag+" has no default language system."),[{name:"scriptTag"+S,type:"TAG",value:b.tag},{name:"script"+S,type:"TABLE",value:new ie("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ie("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:M.reqFeatureIndex}].concat(oe("featureIndex",M.featureIndexes)))}].concat(ge("langSys",j.langSysRecords,function(k,F){var q=k.langSys;return[{name:"langSysTag"+F,type:"TAG",value:k.tag},{name:"langSys"+F,type:"TABLE",value:new ie("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:q.reqFeatureIndex}].concat(oe("featureIndex",q.featureIndexes)))}]})))}]}))}function Be(m){ie.call(this,"featureListTable",ge("featureRecord",m,function(b,S){var j=b.feature;return[{name:"featureTag"+S,type:"TAG",value:b.tag},{name:"feature"+S,type:"TABLE",value:new ie("featureTable",[{name:"featureParams",type:"USHORT",value:j.featureParams}].concat(oe("lookupListIndex",j.lookupListIndexes)))}]}))}function Ue(m,b){ie.call(this,"lookupListTable",pe("lookup",m,function(S){var j=b[S.lookupType];return ve.assert(!!j,"Unable to write GSUB lookup type "+S.lookupType+" tables."),new ie("lookupTable",[{name:"lookupType",type:"USHORT",value:S.lookupType},{name:"lookupFlag",type:"USHORT",value:S.lookupFlag}].concat(pe("subtable",S.subtables,j)))}))}_e.CHARSTRING=function(m){if(ne){var b=ne.get(m);if(b!==void 0)return b}for(var S=[],j=m.length,M=0;M<j;M+=1){var k=m[M];S=S.concat(_e[k.type](k.value))}return ne&&ne.set(m,S),S},Se.CHARSTRING=function(m){return _e.CHARSTRING(m).length},_e.OBJECT=function(m){var b=_e[m.type];return ve.argument(b!==void 0,"No encoding function for type "+m.type),b(m.value)},Se.OBJECT=function(m){var b=Se[m.type];return ve.argument(b!==void 0,"No sizeOf function for type "+m.type),b(m.value)},_e.TABLE=function(m){for(var b=[],S=m.fields.length,j=[],M=[],k=0;k<S;k+=1){var F=m.fields[k],q=_e[F.type];ve.argument(q!==void 0,"No encoding function for field type "+F.type+" ("+F.name+")");var Q=m[F.name];Q===void 0&&(Q=F.value);var ce=q(Q);F.type==="TABLE"?(M.push(b.length),b=b.concat([0,0]),j.push(ce)):b=b.concat(ce)}for(var ye=0;ye<j.length;ye+=1){var je=M[ye],te=b.length;ve.argument(te<65536,"Table "+m.tableName+" too big."),b[je]=te>>8,b[je+1]=255&te,b=b.concat(j[ye])}return b},Se.TABLE=function(m){for(var b=0,S=m.fields.length,j=0;j<S;j+=1){var M=m.fields[j],k=Se[M.type];ve.argument(k!==void 0,"No sizeOf function for field type "+M.type+" ("+M.name+")");var F=m[M.name];F===void 0&&(F=M.value),b+=k(F),M.type==="TABLE"&&(b+=2)}return b},_e.RECORD=_e.TABLE,Se.RECORD=Se.TABLE,_e.LITERAL=function(m){return m},Se.LITERAL=function(m){return m.length},ie.prototype.encode=function(){return _e.TABLE(this)},ie.prototype.sizeOf=function(){return Se.TABLE(this)};var Le={Table:ie,Record:ie,Coverage:(he.prototype=Object.create(ie.prototype)).constructor=he,ScriptList:(Pe.prototype=Object.create(ie.prototype)).constructor=Pe,FeatureList:(Be.prototype=Object.create(ie.prototype)).constructor=Be,LookupList:(Ue.prototype=Object.create(ie.prototype)).constructor=Ue,ushortList:oe,tableList:pe,recordList:ge};function $e(m,b){return m.getUint8(b)}function Ae(m,b){return m.getUint16(b,!1)}function Me(m,b){return m.getUint32(b,!1)}function He(m,b){return m.getInt16(b,!1)+m.getUint16(b+2,!1)/65535}var qe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function be(m,b){this.data=m,this.offset=b,this.relativeOffset=0}be.prototype.parseByte=function(){var m=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,m},be.prototype.parseChar=function(){var m=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,m},be.prototype.parseCard8=be.prototype.parseByte,be.prototype.parseCard16=be.prototype.parseUShort=function(){var m=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,m},be.prototype.parseSID=be.prototype.parseUShort,be.prototype.parseOffset16=be.prototype.parseUShort,be.prototype.parseShort=function(){var m=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,m},be.prototype.parseF2Dot14=function(){var m=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,m},be.prototype.parseOffset32=be.prototype.parseULong=function(){var m=Me(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,m},be.prototype.parseFixed=function(){var m=He(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,m},be.prototype.parseString=function(m){var b=this.data,S=this.offset+this.relativeOffset,j="";this.relativeOffset+=m;for(var M=0;M<m;M++)j+=String.fromCharCode(b.getUint8(S+M));return j},be.prototype.parseTag=function(){return this.parseString(4)},be.prototype.parseLongDateTime=function(){var m=Me(this.data,this.offset+this.relativeOffset+4);return m-=2082844800,this.relativeOffset+=8,m},be.prototype.parseVersion=function(m){var b=Ae(this.data,this.offset+this.relativeOffset),S=Ae(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,m===void 0&&(m=4096),b+S/m/10},be.prototype.skip=function(m,b){b===void 0&&(b=1),this.relativeOffset+=qe[m]*b},be.prototype.parseULongList=function(m){m===void 0&&(m=this.parseULong());for(var b=new Array(m),S=this.data,j=this.offset+this.relativeOffset,M=0;M<m;M++)b[M]=S.getUint32(j),j+=4;return this.relativeOffset+=4*m,b},be.prototype.parseOffset16List=be.prototype.parseUShortList=function(m){m===void 0&&(m=this.parseUShort());for(var b=new Array(m),S=this.data,j=this.offset+this.relativeOffset,M=0;M<m;M++)b[M]=S.getUint16(j),j+=2;return this.relativeOffset+=2*m,b},be.prototype.parseShortList=function(m){for(var b=new Array(m),S=this.data,j=this.offset+this.relativeOffset,M=0;M<m;M++)b[M]=S.getInt16(j),j+=2;return this.relativeOffset+=2*m,b},be.prototype.parseByteList=function(m){for(var b=new Array(m),S=this.data,j=this.offset+this.relativeOffset,M=0;M<m;M++)b[M]=S.getUint8(j++);return this.relativeOffset+=m,b},be.prototype.parseList=function(m,b){b||(b=m,m=this.parseUShort());for(var S=new Array(m),j=0;j<m;j++)S[j]=b.call(this);return S},be.prototype.parseList32=function(m,b){b||(b=m,m=this.parseULong());for(var S=new Array(m),j=0;j<m;j++)S[j]=b.call(this);return S},be.prototype.parseRecordList=function(m,b){b||(b=m,m=this.parseUShort());for(var S=new Array(m),j=Object.keys(b),M=0;M<m;M++){for(var k={},F=0;F<j.length;F++){var q=j[F],Q=b[q];k[q]=Q.call(this)}S[M]=k}return S},be.prototype.parseRecordList32=function(m,b){b||(b=m,m=this.parseULong());for(var S=new Array(m),j=Object.keys(b),M=0;M<m;M++){for(var k={},F=0;F<j.length;F++){var q=j[F],Q=b[q];k[q]=Q.call(this)}S[M]=k}return S},be.prototype.parseStruct=function(m){if(typeof m=="function")return m.call(this);for(var b=Object.keys(m),S={},j=0;j<b.length;j++){var M=b[j],k=m[M];S[M]=k.call(this)}return S},be.prototype.parseValueRecord=function(m){if(m===void 0&&(m=this.parseUShort()),m!==0){var b={};return 1&m&&(b.xPlacement=this.parseShort()),2&m&&(b.yPlacement=this.parseShort()),4&m&&(b.xAdvance=this.parseShort()),8&m&&(b.yAdvance=this.parseShort()),16&m&&(b.xPlaDevice=void 0,this.parseShort()),32&m&&(b.yPlaDevice=void 0,this.parseShort()),64&m&&(b.xAdvDevice=void 0,this.parseShort()),128&m&&(b.yAdvDevice=void 0,this.parseShort()),b}},be.prototype.parseValueRecordList=function(){for(var m=this.parseUShort(),b=this.parseUShort(),S=new Array(b),j=0;j<b;j++)S[j]=this.parseValueRecord(m);return S},be.prototype.parsePointer=function(m){var b=this.parseOffset16();if(0<b)return new be(this.data,this.offset+b).parseStruct(m)},be.prototype.parsePointer32=function(m){var b=this.parseOffset32();if(0<b)return new be(this.data,this.offset+b).parseStruct(m)},be.prototype.parseListOfLists=function(m){for(var b=this.parseOffset16List(),S=b.length,j=this.relativeOffset,M=new Array(S),k=0;k<S;k++){var F=b[k];if(F!==0)if(this.relativeOffset=F,m){for(var q=this.parseOffset16List(),Q=new Array(q.length),ce=0;ce<q.length;ce++)this.relativeOffset=F+q[ce],Q[ce]=m.call(this);M[k]=Q}else M[k]=this.parseUShortList();else M[k]=void 0}return this.relativeOffset=j,M},be.prototype.parseCoverage=function(){var m=this.offset+this.relativeOffset,b=this.parseUShort(),S=this.parseUShort();if(b===1)return{format:1,glyphs:this.parseUShortList(S)};if(b!==2)throw new Error("0x"+m.toString(16)+": Coverage format must be 1 or 2.");for(var j=new Array(S),M=0;M<S;M++)j[M]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:j}},be.prototype.parseClassDef=function(){var m=this.offset+this.relativeOffset,b=this.parseUShort();if(b===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(b===2)return{format:2,ranges:this.parseRecordList({start:be.uShort,end:be.uShort,classId:be.uShort})};throw new Error("0x"+m.toString(16)+": ClassDef format must be 1 or 2.")},be.list=function(m,b){return function(){return this.parseList(m,b)}},be.list32=function(m,b){return function(){return this.parseList32(m,b)}},be.recordList=function(m,b){return function(){return this.parseRecordList(m,b)}},be.recordList32=function(m,b){return function(){return this.parseRecordList32(m,b)}},be.pointer=function(m){return function(){return this.parsePointer(m)}},be.pointer32=function(m){return function(){return this.parsePointer32(m)}},be.tag=be.prototype.parseTag,be.byte=be.prototype.parseByte,be.uShort=be.offset16=be.prototype.parseUShort,be.uShortList=be.prototype.parseUShortList,be.uLong=be.offset32=be.prototype.parseULong,be.uLongList=be.prototype.parseULongList,be.struct=be.prototype.parseStruct,be.coverage=be.prototype.parseCoverage,be.classDef=be.prototype.parseClassDef;var Je={reserved:be.uShort,reqFeatureIndex:be.uShort,featureIndexes:be.uShortList};be.prototype.parseScriptList=function(){return this.parsePointer(be.recordList({tag:be.tag,script:be.pointer({defaultLangSys:be.pointer(Je),langSysRecords:be.recordList({tag:be.tag,langSys:be.pointer(Je)})})}))||[]},be.prototype.parseFeatureList=function(){return this.parsePointer(be.recordList({tag:be.tag,feature:be.pointer({featureParams:be.offset16,lookupListIndexes:be.uShortList})}))||[]},be.prototype.parseLookupList=function(m){return this.parsePointer(be.list(be.pointer(function(){var b=this.parseUShort();ve.argument(1<=b&&b<=9,"GPOS/GSUB lookup type "+b+" unknown.");var S=this.parseUShort(),j=16&S;return{lookupType:b,lookupFlag:S,subtables:this.parseList(be.pointer(m[b])),markFilteringSet:j?this.parseUShort():void 0}})))||[]},be.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var m=this.parseUShort(),b=this.parseUShort();return ve.argument(m===1&&b<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:be.offset32,featureTableSubstitutionOffset:be.offset32})})||[]};var V={getByte:$e,getCard8:$e,getUShort:Ae,getCard16:Ae,getShort:function(m,b){return m.getInt16(b,!1)},getULong:Me,getFixed:He,getTag:function(m,b){for(var S="",j=b;j<b+4;j+=1)S+=String.fromCharCode(m.getInt8(j));return S},getOffset:function(m,b,S){for(var j=0,M=0;M<S;M+=1)j<<=8,j+=m.getUint8(b+M);return j},getBytes:function(m,b,S){for(var j=[],M=b;M<S;M+=1)j.push(m.getUint8(M));return j},bytesToString:function(m){for(var b="",S=0;S<m.length;S+=1)b+=String.fromCharCode(m[S]);return b},Parser:be},Z={parse:function(m,b){var S={};S.version=V.getUShort(m,b),ve.argument(S.version===0,"cmap table version should be 0."),S.numTables=V.getUShort(m,b+2);for(var j=-1,M=S.numTables-1;0<=M;--M){var k=V.getUShort(m,b+4+8*M),F=V.getUShort(m,b+4+8*M+2);if(k===3&&(F===0||F===1||F===10)||k===0&&(F===0||F===1||F===2||F===3||F===4)){j=V.getULong(m,b+4+8*M+4);break}}if(j===-1)throw new Error("No valid cmap sub-tables found.");var q=new V.Parser(m,b+j);if(S.format=q.parseUShort(),S.format===12)(function(Q,ce){var ye;ce.parseUShort(),Q.length=ce.parseULong(),Q.language=ce.parseULong(),Q.groupCount=ye=ce.parseULong(),Q.glyphIndexMap={};for(var je=0;je<ye;je+=1)for(var te=ce.parseULong(),Xe=ce.parseULong(),ze=ce.parseULong(),Ne=te;Ne<=Xe;Ne+=1)Q.glyphIndexMap[Ne]=ze,ze++})(S,q);else{if(S.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+S.format+").");(function(Q,ce,ye,je,te){var Xe;Q.length=ce.parseUShort(),Q.language=ce.parseUShort(),Q.segCount=Xe=ce.parseUShort()>>1,ce.skip("uShort",3),Q.glyphIndexMap={};for(var ze=new V.Parser(ye,je+te+14),Ne=new V.Parser(ye,je+te+16+2*Xe),Ee=new V.Parser(ye,je+te+16+4*Xe),Ie=new V.Parser(ye,je+te+16+6*Xe),rt=je+te+16+8*Xe,tt=0;tt<Xe-1;tt+=1)for(var wt=void 0,st=ze.parseUShort(),lt=Ne.parseUShort(),zt=Ee.parseShort(),St=Ie.parseUShort(),xt=lt;xt<=st;xt+=1)St!==0?(rt=Ie.offset+Ie.relativeOffset-2,rt+=St,rt+=2*(xt-lt),(wt=V.getUShort(ye,rt))!==0&&(wt=wt+zt&65535)):wt=xt+zt&65535,Q.glyphIndexMap[xt]=wt})(S,q,m,b,j)}return S},make:function(m){var b,S=!0;for(b=m.length-1;0<b;--b)if(65535<m.get(b).unicode){console.log("Adding CMAP format 12 (needed!)"),S=!1;break}var j=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:S?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:S?12:20}];S||(j=j.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),j=j.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var M,k,F,q=new Le.Table("cmap",j);for(q.segments=[],b=0;b<m.length;b+=1){for(var Q=m.get(b),ce=0;ce<Q.unicodes.length;ce+=1)M=q,k=Q.unicodes[ce],F=b,M.segments.push({end:k,start:k,delta:-(k-F),offset:0,glyphIndex:F});q.segments=q.segments.sort(function(wt,st){return wt.start-st.start})}q.segments.push({end:65535,start:65535,delta:1,offset:0});var ye=q.segments.length,je=0,te=[],Xe=[],ze=[],Ne=[],Ee=[],Ie=[];for(b=0;b<ye;b+=1){var rt=q.segments[b];rt.end<=65535&&rt.start<=65535?(te=te.concat({name:"end_"+b,type:"USHORT",value:rt.end}),Xe=Xe.concat({name:"start_"+b,type:"USHORT",value:rt.start}),ze=ze.concat({name:"idDelta_"+b,type:"SHORT",value:rt.delta}),Ne=Ne.concat({name:"idRangeOffset_"+b,type:"USHORT",value:rt.offset}),rt.glyphId!==void 0&&(Ee=Ee.concat({name:"glyph_"+b,type:"USHORT",value:rt.glyphId}))):je+=1,S||rt.glyphIndex===void 0||(Ie=(Ie=(Ie=Ie.concat({name:"cmap12Start_"+b,type:"ULONG",value:rt.start})).concat({name:"cmap12End_"+b,type:"ULONG",value:rt.end})).concat({name:"cmap12Glyph_"+b,type:"ULONG",value:rt.glyphIndex}))}if(q.segCountX2=2*(ye-je),q.searchRange=2*Math.pow(2,Math.floor(Math.log(ye-je)/Math.log(2))),q.entrySelector=Math.log(q.searchRange/2)/Math.log(2),q.rangeShift=q.segCountX2-q.searchRange,q.fields=q.fields.concat(te),q.fields.push({name:"reservedPad",type:"USHORT",value:0}),q.fields=q.fields.concat(Xe),q.fields=q.fields.concat(ze),q.fields=q.fields.concat(Ne),q.fields=q.fields.concat(Ee),q.cmap4Length=14+2*te.length+2+2*Xe.length+2*ze.length+2*Ne.length+2*Ee.length,!S){var tt=16+4*Ie.length;q.cmap12Offset=20+q.cmap4Length,q.fields=q.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:tt},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ie.length/3}]),q.fields=q.fields.concat(Ie)}return q}},z=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],$=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],de=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Te=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Oe(m){this.font=m}function Ve(m){this.cmap=m}function we(m,b){this.encoding=m,this.charset=b}function Ye(m){switch(m.version){case 1:this.names=Te.slice();break;case 2:this.names=new Array(m.numberOfGlyphs);for(var b=0;b<m.numberOfGlyphs;b++)m.glyphNameIndex[b]<Te.length?this.names[b]=Te[m.glyphNameIndex[b]]:this.names[b]=m.names[m.glyphNameIndex[b]-Te.length];break;case 2.5:this.names=new Array(m.numberOfGlyphs);for(var S=0;S<m.numberOfGlyphs;S++)this.names[S]=Te[S+m.glyphNameIndex[S]];break;case 3:default:this.names=[]}}Oe.prototype.charToGlyphIndex=function(m){var b=m.codePointAt(0),S=this.font.glyphs;if(S){for(var j=0;j<S.length;j+=1)for(var M=S.get(j),k=0;k<M.unicodes.length;k+=1)if(M.unicodes[k]===b)return j}return null},Ve.prototype.charToGlyphIndex=function(m){return this.cmap.glyphIndexMap[m.codePointAt(0)]||0},we.prototype.charToGlyphIndex=function(m){var b=m.codePointAt(0),S=this.encoding[b];return this.charset.indexOf(S)},Ye.prototype.nameToGlyphIndex=function(m){return this.names.indexOf(m)},Ye.prototype.glyphIndexToName=function(m){return this.names[m]};var ot={line:function(m,b,S,j,M){m.beginPath(),m.moveTo(b,S),m.lineTo(j,M),m.stroke()}};function dt(m){this.bindConstructorValues(m)}function pt(m,b,S){Object.defineProperty(m,b,{get:function(){return m.path,m[S]},set:function(j){m[S]=j},enumerable:!0,configurable:!0})}function ht(m,b){if(this.font=m,this.glyphs={},Array.isArray(b))for(var S=0;S<b.length;S++)this.glyphs[S]=b[S];this.length=b&&b.length||0}dt.prototype.bindConstructorValues=function(m){var b,S;this.index=m.index||0,this.name=m.name||null,this.unicode=m.unicode||void 0,this.unicodes=m.unicodes||m.unicode!==void 0?[m.unicode]:[],m.xMin&&(this.xMin=m.xMin),m.yMin&&(this.yMin=m.yMin),m.xMax&&(this.xMax=m.xMax),m.yMax&&(this.yMax=m.yMax),m.advanceWidth&&(this.advanceWidth=m.advanceWidth),Object.defineProperty(this,"path",(b=m.path,S=b||new me,{configurable:!0,get:function(){return typeof S=="function"&&(S=S()),S},set:function(j){S=j}}))},dt.prototype.addUnicode=function(m){this.unicodes.length===0&&(this.unicode=m),this.unicodes.push(m)},dt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},dt.prototype.getPath=function(m,b,S,j,M){var k,F;m=m!==void 0?m:0,b=b!==void 0?b:0,S=S!==void 0?S:72;var q=(j=j||{}).xScale,Q=j.yScale;if(j.hinting&&M&&M.hinting&&(F=this.path&&M.hinting.exec(this,S)),F)k=M.hinting.getCommands(F),m=Math.round(m),b=Math.round(b),q=Q=1;else{k=this.path.commands;var ce=1/this.path.unitsPerEm*S;q===void 0&&(q=ce),Q===void 0&&(Q=ce)}for(var ye=new me,je=0;je<k.length;je+=1){var te=k[je];te.type==="M"?ye.moveTo(m+te.x*q,b+-te.y*Q):te.type==="L"?ye.lineTo(m+te.x*q,b+-te.y*Q):te.type==="Q"?ye.quadraticCurveTo(m+te.x1*q,b+-te.y1*Q,m+te.x*q,b+-te.y*Q):te.type==="C"?ye.curveTo(m+te.x1*q,b+-te.y1*Q,m+te.x2*q,b+-te.y2*Q,m+te.x*q,b+-te.y*Q):te.type==="Z"&&ye.closePath()}return ye},dt.prototype.getContours=function(){if(this.points===void 0)return[];for(var m=[],b=[],S=0;S<this.points.length;S+=1){var j=this.points[S];b.push(j),j.lastPointOfContour&&(m.push(b),b=[])}return ve.argument(b.length===0,"There are still points left in the current contour."),m},dt.prototype.getMetrics=function(){for(var m=this.path.commands,b=[],S=[],j=0;j<m.length;j+=1){var M=m[j];M.type!=="Z"&&(b.push(M.x),S.push(M.y)),M.type!=="Q"&&M.type!=="C"||(b.push(M.x1),S.push(M.y1)),M.type==="C"&&(b.push(M.x2),S.push(M.y2))}var k={xMin:Math.min.apply(null,b),yMin:Math.min.apply(null,S),xMax:Math.max.apply(null,b),yMax:Math.max.apply(null,S),leftSideBearing:this.leftSideBearing};return isFinite(k.xMin)||(k.xMin=0),isFinite(k.xMax)||(k.xMax=this.advanceWidth),isFinite(k.yMin)||(k.yMin=0),isFinite(k.yMax)||(k.yMax=0),k.rightSideBearing=this.advanceWidth-k.leftSideBearing-(k.xMax-k.xMin),k},dt.prototype.draw=function(m,b,S,j,M){this.getPath(b,S,j,M).draw(m)},dt.prototype.drawPoints=function(m,b,S,j){function M(je,te,Xe,ze){var Ne=2*Math.PI;m.beginPath();for(var Ee=0;Ee<je.length;Ee+=1)m.moveTo(te+je[Ee].x*ze,Xe+je[Ee].y*ze),m.arc(te+je[Ee].x*ze,Xe+je[Ee].y*ze,2,0,Ne,!1);m.closePath(),m.fill()}b=b!==void 0?b:0,S=S!==void 0?S:0,j=j!==void 0?j:24;for(var k=1/this.path.unitsPerEm*j,F=[],q=[],Q=this.path,ce=0;ce<Q.commands.length;ce+=1){var ye=Q.commands[ce];ye.x!==void 0&&F.push({x:ye.x,y:-ye.y}),ye.x1!==void 0&&q.push({x:ye.x1,y:-ye.y1}),ye.x2!==void 0&&q.push({x:ye.x2,y:-ye.y2})}m.fillStyle="blue",M(F,b,S,k),m.fillStyle="red",M(q,b,S,k)},dt.prototype.drawMetrics=function(m,b,S,j){var M;b=b!==void 0?b:0,S=S!==void 0?S:0,j=j!==void 0?j:24,M=1/this.path.unitsPerEm*j,m.lineWidth=1,m.strokeStyle="black",ot.line(m,b,-1e4,b,1e4),ot.line(m,-1e4,S,1e4,S);var k=this.xMin||0,F=this.yMin||0,q=this.xMax||0,Q=this.yMax||0,ce=this.advanceWidth||0;m.strokeStyle="blue",ot.line(m,b+k*M,-1e4,b+k*M,1e4),ot.line(m,b+q*M,-1e4,b+q*M,1e4),ot.line(m,-1e4,S+-F*M,1e4,S+-F*M),ot.line(m,-1e4,S+-Q*M,1e4,S+-Q*M),m.strokeStyle="green",ot.line(m,b+ce*M,-1e4,b+ce*M,1e4)},ht.prototype.get=function(m){return typeof this.glyphs[m]=="function"&&(this.glyphs[m]=this.glyphs[m]()),this.glyphs[m]},ht.prototype.push=function(m,b){this.glyphs[m]=b,this.length++};var ft={GlyphSet:ht,glyphLoader:function(m,b){return new dt({index:b,font:m})},ttfGlyphLoader:function(m,b,S,j,M,k){return function(){var F=new dt({index:b,font:m});return F.path=function(){S(F,j,M);var q=k(m.glyphs,F);return q.unitsPerEm=m.unitsPerEm,q},pt(F,"xMin","_xMin"),pt(F,"xMax","_xMax"),pt(F,"yMin","_yMin"),pt(F,"yMax","_yMax"),F}},cffGlyphLoader:function(m,b,S,j){return function(){var M=new dt({index:b,font:m});return M.path=function(){var k=S(m,M,j);return k.unitsPerEm=m.unitsPerEm,k},M}}};function Ct(m,b){if(m===b)return!0;if(Array.isArray(m)&&Array.isArray(b)){if(m.length!==b.length)return!1;for(var S=0;S<m.length;S+=1)if(!Ct(m[S],b[S]))return!1;return!0}return!1}function Ur(m){return m.length<1240?107:m.length<33900?1131:32768}function lr(m,b,S){var j,M,k=[],F=[],q=V.getCard16(m,b);if(q!==0){var Q=V.getByte(m,b+2);j=b+(q+1)*Q+2;for(var ce=b+3,ye=0;ye<q+1;ye+=1)k.push(V.getOffset(m,ce,Q)),ce+=Q;M=j+k[q]}else M=b+2;for(var je=0;je<k.length-1;je+=1){var te=V.getBytes(m,j+k[je],j+k[je+1]);S&&(te=S(te)),F.push(te)}return{objects:F,startOffset:b,endOffset:M}}function En(m,b){if(b===28)return m.parseByte()<<8|m.parseByte();if(b===29)return m.parseByte()<<24|m.parseByte()<<16|m.parseByte()<<8|m.parseByte();if(b===30)return function(S){for(var j="",M=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var k=S.parseByte(),F=k>>4,q=15&k;if(F==15||(j+=M[F],q==15))break;j+=M[q]}return parseFloat(j)}(m);if(32<=b&&b<=246)return b-139;if(247<=b&&b<=250)return 256*(b-247)+m.parseByte()+108;if(251<=b&&b<=254)return 256*-(b-251)-m.parseByte()-108;throw new Error("Invalid b0 "+b)}function Qr(m,b,S){b=b!==void 0?b:0;var j=new V.Parser(m,b),M=[],k=[];for(S=S!==void 0?S:m.length;j.relativeOffset<S;){var F=j.parseByte();F<=21?(F===12&&(F=1200+j.parseByte()),M.push([F,k]),k=[]):k.push(En(j,F))}return function(q){for(var Q={},ce=0;ce<q.length;ce+=1){var ye=q[ce][0],je=q[ce][1],te=void 0;if(te=je.length===1?je[0]:je,Q.hasOwnProperty(ye)&&!isNaN(Q[ye]))throw new Error("Object "+Q+" already has key "+ye);Q[ye]=te}return Q}(M)}function Nr(m,b){return b=b<=390?z[b]:m[b-391]}function Mn(m,b,S){for(var j,M={},k=0;k<b.length;k+=1){var F=b[k];if(Array.isArray(F.type)){var q=[];q.length=F.type.length;for(var Q=0;Q<F.type.length;Q++)(j=m[F.op]!==void 0?m[F.op][Q]:void 0)===void 0&&(j=F.value!==void 0&&F.value[Q]!==void 0?F.value[Q]:null),F.type[Q]==="SID"&&(j=Nr(S,j)),q[Q]=j;M[F.name]=q}else(j=m[F.op])===void 0&&(j=F.value!==void 0?F.value:null),F.type==="SID"&&(j=Nr(S,j)),M[F.name]=j}return M}var An=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Rn=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Pn(m,b,S,j){return Mn(Qr(m,b,S),Rn,j)}function On(m,b,S,j){for(var M,k,F=[],q=0;q<S.length;q+=1){var Q=new DataView(new Uint8Array(S[q]).buffer),ce=(k=j,Mn(Qr(M=Q,0,M.byteLength),An,k));ce._subrs=[],ce._subrsBias=0;var ye=ce.private[0],je=ce.private[1];if(ye!==0&&je!==0){var te=Pn(m,je+b,ye,j);if(ce._defaultWidthX=te.defaultWidthX,ce._nominalWidthX=te.nominalWidthX,te.subrs!==0){var Xe=lr(m,je+te.subrs+b);ce._subrs=Xe.objects,ce._subrsBias=Ur(ce._subrs)}ce._privateDict=te}F.push(ce)}return F}function $n(m,b,S){var j,M,k,F,q,Q,ce,ye,je=new me,te=[],Xe=0,ze=!1,Ne=!1,Ee=0,Ie=0;if(m.isCIDFont){var rt=m.tables.cff.topDict._fdSelect[b.index],tt=m.tables.cff.topDict._fdArray[rt];q=tt._subrs,Q=tt._subrsBias,ce=tt._defaultWidthX,ye=tt._nominalWidthX}else q=m.tables.cff.topDict._subrs,Q=m.tables.cff.topDict._subrsBias,ce=m.tables.cff.topDict._defaultWidthX,ye=m.tables.cff.topDict._nominalWidthX;var wt=ce;function st(zt,St){Ne&&je.closePath(),je.moveTo(zt,St),Ne=!0}function lt(){te.length%2==0||ze||(wt=te.shift()+ye),Xe+=te.length>>1,te.length=0,ze=!0}return function zt(St){for(var xt,jt,Lt,Pt,Vt,Dt,Ot,Ht,It,Kt,Et,Zt,Ut=0;Ut<St.length;){var Nt=St[Ut];switch(Ut+=1,Nt){case 1:case 3:lt();break;case 4:1<te.length&&!ze&&(wt=te.shift()+ye,ze=!0),Ie+=te.pop(),st(Ee,Ie);break;case 5:for(;0<te.length;)Ee+=te.shift(),Ie+=te.shift(),je.lineTo(Ee,Ie);break;case 6:for(;0<te.length&&(Ee+=te.shift(),je.lineTo(Ee,Ie),te.length!==0);)Ie+=te.shift(),je.lineTo(Ee,Ie);break;case 7:for(;0<te.length&&(Ie+=te.shift(),je.lineTo(Ee,Ie),te.length!==0);)Ee+=te.shift(),je.lineTo(Ee,Ie);break;case 8:for(;0<te.length;)j=Ee+te.shift(),M=Ie+te.shift(),k=j+te.shift(),F=M+te.shift(),Ee=k+te.shift(),Ie=F+te.shift(),je.curveTo(j,M,k,F,Ee,Ie);break;case 10:Vt=te.pop()+Q,(Dt=q[Vt])&&zt(Dt);break;case 11:return;case 12:switch(Nt=St[Ut],Ut+=1,Nt){case 35:j=Ee+te.shift(),M=Ie+te.shift(),k=j+te.shift(),F=M+te.shift(),Ot=k+te.shift(),Ht=F+te.shift(),It=Ot+te.shift(),Kt=Ht+te.shift(),Et=It+te.shift(),Zt=Kt+te.shift(),Ee=Et+te.shift(),Ie=Zt+te.shift(),te.shift(),je.curveTo(j,M,k,F,Ot,Ht),je.curveTo(It,Kt,Et,Zt,Ee,Ie);break;case 34:j=Ee+te.shift(),M=Ie,k=j+te.shift(),F=M+te.shift(),Ot=k+te.shift(),Ht=F,It=Ot+te.shift(),Kt=F,Et=It+te.shift(),Zt=Ie,Ee=Et+te.shift(),je.curveTo(j,M,k,F,Ot,Ht),je.curveTo(It,Kt,Et,Zt,Ee,Ie);break;case 36:j=Ee+te.shift(),M=Ie+te.shift(),k=j+te.shift(),F=M+te.shift(),Ot=k+te.shift(),Ht=F,It=Ot+te.shift(),Kt=F,Et=It+te.shift(),Zt=Kt+te.shift(),Ee=Et+te.shift(),je.curveTo(j,M,k,F,Ot,Ht),je.curveTo(It,Kt,Et,Zt,Ee,Ie);break;case 37:j=Ee+te.shift(),M=Ie+te.shift(),k=j+te.shift(),F=M+te.shift(),Ot=k+te.shift(),Ht=F+te.shift(),It=Ot+te.shift(),Kt=Ht+te.shift(),Et=It+te.shift(),Zt=Kt+te.shift(),Math.abs(Et-Ee)>Math.abs(Zt-Ie)?Ee=Et+te.shift():Ie=Zt+te.shift(),je.curveTo(j,M,k,F,Ot,Ht),je.curveTo(It,Kt,Et,Zt,Ee,Ie);break;default:console.log("Glyph "+b.index+": unknown operator 1200"+Nt),te.length=0}break;case 14:0<te.length&&!ze&&(wt=te.shift()+ye,ze=!0),Ne&&(je.closePath(),Ne=!1);break;case 18:lt();break;case 19:case 20:lt(),Ut+=Xe+7>>3;break;case 21:2<te.length&&!ze&&(wt=te.shift()+ye,ze=!0),Ie+=te.pop(),st(Ee+=te.pop(),Ie);break;case 22:1<te.length&&!ze&&(wt=te.shift()+ye,ze=!0),st(Ee+=te.pop(),Ie);break;case 23:lt();break;case 24:for(;2<te.length;)j=Ee+te.shift(),M=Ie+te.shift(),k=j+te.shift(),F=M+te.shift(),Ee=k+te.shift(),Ie=F+te.shift(),je.curveTo(j,M,k,F,Ee,Ie);Ee+=te.shift(),Ie+=te.shift(),je.lineTo(Ee,Ie);break;case 25:for(;6<te.length;)Ee+=te.shift(),Ie+=te.shift(),je.lineTo(Ee,Ie);j=Ee+te.shift(),M=Ie+te.shift(),k=j+te.shift(),F=M+te.shift(),Ee=k+te.shift(),Ie=F+te.shift(),je.curveTo(j,M,k,F,Ee,Ie);break;case 26:for(te.length%2&&(Ee+=te.shift());0<te.length;)j=Ee,M=Ie+te.shift(),k=j+te.shift(),F=M+te.shift(),Ee=k,Ie=F+te.shift(),je.curveTo(j,M,k,F,Ee,Ie);break;case 27:for(te.length%2&&(Ie+=te.shift());0<te.length;)j=Ee+te.shift(),M=Ie,k=j+te.shift(),F=M+te.shift(),Ee=k+te.shift(),Ie=F,je.curveTo(j,M,k,F,Ee,Ie);break;case 28:xt=St[Ut],jt=St[Ut+1],te.push((xt<<24|jt<<16)>>16),Ut+=2;break;case 29:Vt=te.pop()+m.gsubrsBias,(Dt=m.gsubrs[Vt])&&zt(Dt);break;case 30:for(;0<te.length&&(j=Ee,M=Ie+te.shift(),k=j+te.shift(),F=M+te.shift(),Ee=k+te.shift(),Ie=F+(te.length===1?te.shift():0),je.curveTo(j,M,k,F,Ee,Ie),te.length!==0);)j=Ee+te.shift(),M=Ie,k=j+te.shift(),F=M+te.shift(),Ie=F+te.shift(),Ee=k+(te.length===1?te.shift():0),je.curveTo(j,M,k,F,Ee,Ie);break;case 31:for(;0<te.length&&(j=Ee+te.shift(),M=Ie,k=j+te.shift(),F=M+te.shift(),Ie=F+te.shift(),Ee=k+(te.length===1?te.shift():0),je.curveTo(j,M,k,F,Ee,Ie),te.length!==0);)j=Ee,M=Ie+te.shift(),k=j+te.shift(),F=M+te.shift(),Ee=k+te.shift(),Ie=F+(te.length===1?te.shift():0),je.curveTo(j,M,k,F,Ee,Ie);break;default:Nt<32?console.log("Glyph "+b.index+": unknown operator "+Nt):Nt<247?te.push(Nt-139):Nt<251?(xt=St[Ut],Ut+=1,te.push(256*(Nt-247)+xt+108)):Nt<255?(xt=St[Ut],Ut+=1,te.push(256*-(Nt-251)-xt-108)):(xt=St[Ut],jt=St[Ut+1],Lt=St[Ut+2],Pt=St[Ut+3],Ut+=4,te.push((xt<<24|jt<<16|Lt<<8|Pt)/65536))}}}(S),b.advanceWidth=wt,je}function fn(m,b){var S,j=z.indexOf(m);return 0<=j&&(S=j),0<=(j=b.indexOf(m))?S=j+z.length:(S=z.length+b.length,b.push(m)),S}function pn(m,b,S){for(var j={},M=0;M<m.length;M+=1){var k=m[M],F=b[k.name];F===void 0||Ct(F,k.value)||(k.type==="SID"&&(F=fn(F,S)),j[k.op]={name:k.name,type:k.type,value:F})}return j}function fe(m,b){var S=new Le.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return S.dict=pn(An,m,b),S}function Ge(m){var b=new Le.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return b.topDicts=[{name:"topDict_0",type:"TABLE",value:m}],b}function Ke(m){var b=[],S=m.path;b.push({name:"width",type:"NUMBER",value:m.advanceWidth});for(var j=0,M=0,k=0;k<S.commands.length;k+=1){var F=void 0,q=void 0,Q=S.commands[k];if(Q.type==="Q"&&(Q={type:"C",x:Q.x,y:Q.y,x1:1/3*j+2/3*Q.x1,y1:1/3*M+2/3*Q.y1,x2:1/3*Q.x+2/3*Q.x1,y2:1/3*Q.y+2/3*Q.y1}),Q.type==="M")F=Math.round(Q.x-j),q=Math.round(Q.y-M),b.push({name:"dx",type:"NUMBER",value:F}),b.push({name:"dy",type:"NUMBER",value:q}),b.push({name:"rmoveto",type:"OP",value:21}),j=Math.round(Q.x),M=Math.round(Q.y);else if(Q.type==="L")F=Math.round(Q.x-j),q=Math.round(Q.y-M),b.push({name:"dx",type:"NUMBER",value:F}),b.push({name:"dy",type:"NUMBER",value:q}),b.push({name:"rlineto",type:"OP",value:5}),j=Math.round(Q.x),M=Math.round(Q.y);else if(Q.type==="C"){var ce=Math.round(Q.x1-j),ye=Math.round(Q.y1-M),je=Math.round(Q.x2-Q.x1),te=Math.round(Q.y2-Q.y1);F=Math.round(Q.x-Q.x2),q=Math.round(Q.y-Q.y2),b.push({name:"dx1",type:"NUMBER",value:ce}),b.push({name:"dy1",type:"NUMBER",value:ye}),b.push({name:"dx2",type:"NUMBER",value:je}),b.push({name:"dy2",type:"NUMBER",value:te}),b.push({name:"dx",type:"NUMBER",value:F}),b.push({name:"dy",type:"NUMBER",value:q}),b.push({name:"rrcurveto",type:"OP",value:8}),j=Math.round(Q.x),M=Math.round(Q.y)}}return b.push({name:"endchar",type:"OP",value:14}),b}var We={parse:function(m,b,S){S.tables.cff={};var j,M,k,F=lr(m,(j=m,M=b,(k={}).formatMajor=V.getCard8(j,M),k.formatMinor=V.getCard8(j,M+1),k.size=V.getCard8(j,M+2),k.offsetSize=V.getCard8(j,M+3),k.startOffset=M,k.endOffset=M+4,k).endOffset,V.bytesToString),q=lr(m,F.endOffset),Q=lr(m,q.endOffset,V.bytesToString),ce=lr(m,Q.endOffset);S.gsubrs=ce.objects,S.gsubrsBias=Ur(S.gsubrs);var ye=On(m,b,q.objects,Q.objects);if(ye.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ye.length);var je=ye[0];if((S.tables.cff.topDict=je)._privateDict&&(S.defaultWidthX=je._privateDict.defaultWidthX,S.nominalWidthX=je._privateDict.nominalWidthX),je.ros[0]!==void 0&&je.ros[1]!==void 0&&(S.isCIDFont=!0),S.isCIDFont){var te=je.fdArray,Xe=je.fdSelect;if(te===0||Xe===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var ze=On(m,b,lr(m,te+=b).objects,Q.objects);je._fdArray=ze,Xe+=b,je._fdSelect=function(lt,zt,St,xt){var jt,Lt=[],Pt=new V.Parser(lt,zt),Vt=Pt.parseCard8();if(Vt===0)for(var Dt=0;Dt<St;Dt++){if(xt<=(jt=Pt.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+jt+" (FD count "+xt+")");Lt.push(jt)}else{if(Vt!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Vt);var Ot,Ht=Pt.parseCard16(),It=Pt.parseCard16();if(It!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+It);for(var Kt=0;Kt<Ht;Kt++){if(jt=Pt.parseCard8(),Ot=Pt.parseCard16(),xt<=jt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+jt+" (FD count "+xt+")");if(St<Ot)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Ot);for(;It<Ot;It++)Lt.push(jt);It=Ot}if(Ot!==St)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Ot)}return Lt}(m,Xe,S.numGlyphs,ze.length)}var Ne=b+je.private[1],Ee=Pn(m,Ne,je.private[0],Q.objects);if(S.defaultWidthX=Ee.defaultWidthX,S.nominalWidthX=Ee.nominalWidthX,Ee.subrs!==0){var Ie=lr(m,Ne+Ee.subrs);S.subrs=Ie.objects,S.subrsBias=Ur(S.subrs)}else S.subrs=[],S.subrsBias=0;var rt=lr(m,b+je.charStrings);S.nGlyphs=rt.objects.length;var tt=function(lt,zt,St,xt){var jt,Lt,Pt=new V.Parser(lt,zt);--St;var Vt=[".notdef"],Dt=Pt.parseCard8();if(Dt===0)for(var Ot=0;Ot<St;Ot+=1)jt=Pt.parseSID(),Vt.push(Nr(xt,jt));else if(Dt===1)for(;Vt.length<=St;){jt=Pt.parseSID(),Lt=Pt.parseCard8();for(var Ht=0;Ht<=Lt;Ht+=1)Vt.push(Nr(xt,jt)),jt+=1}else{if(Dt!==2)throw new Error("Unknown charset format "+Dt);for(;Vt.length<=St;){jt=Pt.parseSID(),Lt=Pt.parseCard16();for(var It=0;It<=Lt;It+=1)Vt.push(Nr(xt,jt)),jt+=1}}return Vt}(m,b+je.charset,S.nGlyphs,Q.objects);je.encoding===0?S.cffEncoding=new we($,tt):je.encoding===1?S.cffEncoding=new we(de,tt):S.cffEncoding=function(lt,zt,St){var xt,jt={},Lt=new V.Parser(lt,zt),Pt=Lt.parseCard8();if(Pt===0)for(var Vt=Lt.parseCard8(),Dt=0;Dt<Vt;Dt+=1)jt[xt=Lt.parseCard8()]=Dt;else{if(Pt!==1)throw new Error("Unknown encoding format "+Pt);var Ot=Lt.parseCard8();xt=1;for(var Ht=0;Ht<Ot;Ht+=1)for(var It=Lt.parseCard8(),Kt=Lt.parseCard8(),Et=It;Et<=It+Kt;Et+=1)jt[Et]=xt,xt+=1}return new we(jt,St)}(m,b+je.encoding,tt),S.encoding=S.encoding||S.cffEncoding,S.glyphs=new ft.GlyphSet(S);for(var wt=0;wt<S.nGlyphs;wt+=1){var st=rt.objects[wt];S.glyphs.push(wt,ft.cffGlyphLoader(S,wt,$n,st))}},make:function(m,b){for(var S,j=new Le.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),M=1/b.unitsPerEm,k={version:b.version,fullName:b.fullName,familyName:b.familyName,weight:b.weightName,fontBBox:b.fontBBox||[0,0,0,0],fontMatrix:[M,0,0,M,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},F=[],q=1;q<m.length;q+=1)S=m.get(q),F.push(S.name);var Q=[];j.header=new Le.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),j.nameIndex=function(ze){var Ne=new Le.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Ne.names=[];for(var Ee=0;Ee<ze.length;Ee+=1)Ne.names.push({name:"name_"+Ee,type:"NAME",value:ze[Ee]});return Ne}([b.postScriptName]);var ce,ye,je,te=fe(k,Q);j.topDictIndex=Ge(te),j.globalSubrIndex=new Le.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),j.charsets=function(ze,Ne){for(var Ee=new Le.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ie=0;Ie<ze.length;Ie+=1){var rt=fn(ze[Ie],Ne);Ee.fields.push({name:"glyph_"+Ie,type:"SID",value:rt})}return Ee}(F,Q),j.charStringsIndex=function(ze){for(var Ne=new Le.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Ee=0;Ee<ze.length;Ee+=1){var Ie=ze.get(Ee),rt=Ke(Ie);Ne.charStrings.push({name:Ie.name,type:"CHARSTRING",value:rt})}return Ne}(m),j.privateDict=(ce={},ye=Q,(je=new Le.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=pn(Rn,ce,ye),je),j.stringIndex=function(ze){var Ne=new Le.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Ne.strings=[];for(var Ee=0;Ee<ze.length;Ee+=1)Ne.strings.push({name:"string_"+Ee,type:"STRING",value:ze[Ee]});return Ne}(Q);var Xe=j.header.sizeOf()+j.nameIndex.sizeOf()+j.topDictIndex.sizeOf()+j.stringIndex.sizeOf()+j.globalSubrIndex.sizeOf();return k.charset=Xe,k.encoding=0,k.charStrings=k.charset+j.charsets.sizeOf(),k.private[1]=k.charStrings+j.charStringsIndex.sizeOf(),te=fe(k,Q),j.topDictIndex=Ge(te),j}},et={parse:function(m,b){var S={},j=new V.Parser(m,b);return S.version=j.parseVersion(),S.fontRevision=Math.round(1e3*j.parseFixed())/1e3,S.checkSumAdjustment=j.parseULong(),S.magicNumber=j.parseULong(),ve.argument(S.magicNumber===1594834165,"Font header has wrong magic number."),S.flags=j.parseUShort(),S.unitsPerEm=j.parseUShort(),S.created=j.parseLongDateTime(),S.modified=j.parseLongDateTime(),S.xMin=j.parseShort(),S.yMin=j.parseShort(),S.xMax=j.parseShort(),S.yMax=j.parseShort(),S.macStyle=j.parseUShort(),S.lowestRecPPEM=j.parseUShort(),S.fontDirectionHint=j.parseShort(),S.indexToLocFormat=j.parseShort(),S.glyphDataFormat=j.parseShort(),S},make:function(m){var b=Math.round(new Date().getTime()/1e3)+2082844800,S=b;return m.createdTimestamp&&(S=m.createdTimestamp+2082844800),new Le.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:S},{name:"modified",type:"LONGDATETIME",value:b},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],m)}},Fe={parse:function(m,b){var S={},j=new V.Parser(m,b);return S.version=j.parseVersion(),S.ascender=j.parseShort(),S.descender=j.parseShort(),S.lineGap=j.parseShort(),S.advanceWidthMax=j.parseUShort(),S.minLeftSideBearing=j.parseShort(),S.minRightSideBearing=j.parseShort(),S.xMaxExtent=j.parseShort(),S.caretSlopeRise=j.parseShort(),S.caretSlopeRun=j.parseShort(),S.caretOffset=j.parseShort(),j.relativeOffset+=8,S.metricDataFormat=j.parseShort(),S.numberOfHMetrics=j.parseUShort(),S},make:function(m){return new Le.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],m)}},_t={parse:function(m,b,S,j,M){for(var k,F,q=new V.Parser(m,b),Q=0;Q<j;Q+=1){Q<S&&(k=q.parseUShort(),F=q.parseShort());var ce=M.get(Q);ce.advanceWidth=k,ce.leftSideBearing=F}},make:function(m){for(var b=new Le.Table("hmtx",[]),S=0;S<m.length;S+=1){var j=m.get(S),M=j.advanceWidth||0,k=j.leftSideBearing||0;b.fields.push({name:"advanceWidth_"+S,type:"USHORT",value:M}),b.fields.push({name:"leftSideBearing_"+S,type:"SHORT",value:k})}return b}},Mt={make:function(m){for(var b=new Le.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:m.length}]),S="",j=12+4*m.length,M=0;M<m.length;++M){var k=S.indexOf(m[M]);k<0&&(k=S.length,S+=m[M]),b.fields.push({name:"offset "+M,type:"USHORT",value:j+k}),b.fields.push({name:"length "+M,type:"USHORT",value:m[M].length})}return b.fields.push({name:"stringPool",type:"CHARARRAY",value:S}),b},parse:function(m,b){var S=new V.Parser(m,b),j=S.parseULong();ve.argument(j===1,"Unsupported ltag table version."),S.skip("uLong",1);for(var M=S.parseULong(),k=[],F=0;F<M;F++){for(var q="",Q=b+S.parseUShort(),ce=S.parseUShort(),ye=Q;ye<Q+ce;++ye)q+=String.fromCharCode(m.getInt8(ye));k.push(q)}return k}},kt={parse:function(m,b){var S={},j=new V.Parser(m,b);return S.version=j.parseVersion(),S.numGlyphs=j.parseUShort(),S.version===1&&(S.maxPoints=j.parseUShort(),S.maxContours=j.parseUShort(),S.maxCompositePoints=j.parseUShort(),S.maxCompositeContours=j.parseUShort(),S.maxZones=j.parseUShort(),S.maxTwilightPoints=j.parseUShort(),S.maxStorage=j.parseUShort(),S.maxFunctionDefs=j.parseUShort(),S.maxInstructionDefs=j.parseUShort(),S.maxStackElements=j.parseUShort(),S.maxSizeOfInstructions=j.parseUShort(),S.maxComponentElements=j.parseUShort(),S.maxComponentDepth=j.parseUShort()),S},make:function(m){return new Le.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:m}])}},yt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Qe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Gt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},at={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function yo(m,b,S){switch(m){case 0:if(b===65535)return"und";if(S)return S[b];break;case 1:return Qe[b];case 3:return at[b]}}var kn="utf-16",vo={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},bo={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function wo(m,b,S){switch(m){case 0:return kn;case 1:return bo[S]||vo[b];case 3:if(b===1||b===10)return kn}}function Kn(m){var b={};for(var S in m)b[m[S]]=parseInt(S);return b}function Zn(m,b,S,j,M,k){return new Le.Record("NameRecord",[{name:"platformID",type:"USHORT",value:m},{name:"encodingID",type:"USHORT",value:b},{name:"languageID",type:"USHORT",value:S},{name:"nameID",type:"USHORT",value:j},{name:"length",type:"USHORT",value:M},{name:"offset",type:"USHORT",value:k}])}function ia(m,b){var S=function(k,F){var q=k.length,Q=F.length-q+1;e:for(var ce=0;ce<Q;ce++)for(;ce<Q;ce++){for(var ye=0;ye<q;ye++)if(F[ce+ye]!==k[ye])continue e;return ce}return-1}(m,b);if(S<0){S=b.length;for(var j=0,M=m.length;j<M;++j)b.push(m[j])}return S}var aa={parse:function(m,b,S){for(var j={},M=new V.Parser(m,b),k=M.parseUShort(),F=M.parseUShort(),q=M.offset+M.parseUShort(),Q=0;Q<F;Q++){var ce=M.parseUShort(),ye=M.parseUShort(),je=M.parseUShort(),te=M.parseUShort(),Xe=yt[te]||te,ze=M.parseUShort(),Ne=M.parseUShort(),Ee=yo(ce,je,S),Ie=wo(ce,ye,je);if(Ie!==void 0&&Ee!==void 0){var rt=void 0;if(rt=Ie===kn?De.UTF16(m,q+Ne,ze):De.MACSTRING(m,q+Ne,ze,Ie)){var tt=j[Xe];tt===void 0&&(tt=j[Xe]={}),tt[Ee]=rt}}}return k===1&&M.parseUShort(),j},make:function(m,b){var S,j=[],M={},k=Kn(yt);for(var F in m){var q=k[F];if(q===void 0&&(q=F),S=parseInt(q),isNaN(S))throw new Error('Name table entry "'+F+'" does not exist, see nameTableNames for complete list.');M[S]=m[F],j.push(S)}for(var Q=Kn(Qe),ce=Kn(at),ye=[],je=[],te=0;te<j.length;te++){var Xe=M[S=j[te]];for(var ze in Xe){var Ne=Xe[ze],Ee=1,Ie=Q[ze],rt=Gt[Ie],tt=wo(Ee,rt,Ie),wt=_e.MACSTRING(Ne,tt);wt===void 0&&(Ee=0,(Ie=b.indexOf(ze))<0&&(Ie=b.length,b.push(ze)),rt=4,wt=_e.UTF16(Ne));var st=ia(wt,je);ye.push(Zn(Ee,rt,Ie,S,wt.length,st));var lt=ce[ze];if(lt!==void 0){var zt=_e.UTF16(Ne),St=ia(zt,je);ye.push(Zn(3,1,lt,S,zt.length,St))}}}ye.sort(function(Lt,Pt){return Lt.platformID-Pt.platformID||Lt.encodingID-Pt.encodingID||Lt.languageID-Pt.languageID||Lt.nameID-Pt.nameID});for(var xt=new Le.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ye.length},{name:"stringOffset",type:"USHORT",value:6+12*ye.length}]),jt=0;jt<ye.length;jt++)xt.fields.push({name:"record_"+jt,type:"RECORD",value:ye[jt]});return xt.fields.push({name:"strings",type:"LITERAL",value:je}),xt}},Is=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Bs={parse:function(m,b){var S={},j=new V.Parser(m,b);S.version=j.parseUShort(),S.xAvgCharWidth=j.parseShort(),S.usWeightClass=j.parseUShort(),S.usWidthClass=j.parseUShort(),S.fsType=j.parseUShort(),S.ySubscriptXSize=j.parseShort(),S.ySubscriptYSize=j.parseShort(),S.ySubscriptXOffset=j.parseShort(),S.ySubscriptYOffset=j.parseShort(),S.ySuperscriptXSize=j.parseShort(),S.ySuperscriptYSize=j.parseShort(),S.ySuperscriptXOffset=j.parseShort(),S.ySuperscriptYOffset=j.parseShort(),S.yStrikeoutSize=j.parseShort(),S.yStrikeoutPosition=j.parseShort(),S.sFamilyClass=j.parseShort(),S.panose=[];for(var M=0;M<10;M++)S.panose[M]=j.parseByte();return S.ulUnicodeRange1=j.parseULong(),S.ulUnicodeRange2=j.parseULong(),S.ulUnicodeRange3=j.parseULong(),S.ulUnicodeRange4=j.parseULong(),S.achVendID=String.fromCharCode(j.parseByte(),j.parseByte(),j.parseByte(),j.parseByte()),S.fsSelection=j.parseUShort(),S.usFirstCharIndex=j.parseUShort(),S.usLastCharIndex=j.parseUShort(),S.sTypoAscender=j.parseShort(),S.sTypoDescender=j.parseShort(),S.sTypoLineGap=j.parseShort(),S.usWinAscent=j.parseUShort(),S.usWinDescent=j.parseUShort(),1<=S.version&&(S.ulCodePageRange1=j.parseULong(),S.ulCodePageRange2=j.parseULong()),2<=S.version&&(S.sxHeight=j.parseShort(),S.sCapHeight=j.parseShort(),S.usDefaultChar=j.parseUShort(),S.usBreakChar=j.parseUShort(),S.usMaxContent=j.parseUShort()),S},make:function(m){return new Le.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],m)},unicodeRanges:Is,getUnicodeRange:function(m){for(var b=0;b<Is.length;b+=1){var S=Is[b];if(m>=S.begin&&m<S.end)return b}return-1}},la={parse:function(m,b){var S={},j=new V.Parser(m,b);switch(S.version=j.parseVersion(),S.italicAngle=j.parseFixed(),S.underlinePosition=j.parseShort(),S.underlineThickness=j.parseShort(),S.isFixedPitch=j.parseULong(),S.minMemType42=j.parseULong(),S.maxMemType42=j.parseULong(),S.minMemType1=j.parseULong(),S.maxMemType1=j.parseULong(),S.version){case 1:S.names=Te.slice();break;case 2:S.numberOfGlyphs=j.parseUShort(),S.glyphNameIndex=new Array(S.numberOfGlyphs);for(var M=0;M<S.numberOfGlyphs;M++)S.glyphNameIndex[M]=j.parseUShort();S.names=[];for(var k=0;k<S.numberOfGlyphs;k++)if(S.glyphNameIndex[k]>=Te.length){var F=j.parseChar();S.names.push(j.parseString(F))}break;case 2.5:S.numberOfGlyphs=j.parseUShort(),S.offset=new Array(S.numberOfGlyphs);for(var q=0;q<S.numberOfGlyphs;q++)S.offset[q]=j.parseChar()}return S},make:function(){return new Le.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Ar=new Array(9);Ar[1]=function(){var m=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{substFormat:1,coverage:this.parsePointer(be.coverage),deltaGlyphId:this.parseUShort()}:b===2?{substFormat:2,coverage:this.parsePointer(be.coverage),substitute:this.parseOffset16List()}:void ve.assert(!1,"0x"+m.toString(16)+": lookup type 1 format must be 1 or 2.")},Ar[2]=function(){var m=this.parseUShort();return ve.argument(m===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(be.coverage),sequences:this.parseListOfLists()}},Ar[3]=function(){var m=this.parseUShort();return ve.argument(m===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(be.coverage),alternateSets:this.parseListOfLists()}},Ar[4]=function(){var m=this.parseUShort();return ve.argument(m===1,"GSUB ligature table identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(be.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Qn={sequenceIndex:be.uShort,lookupListIndex:be.uShort};Ar[5]=function(){var m=this.offset+this.relativeOffset,b=this.parseUShort();if(b===1)return{substFormat:b,coverage:this.parsePointer(be.coverage),ruleSets:this.parseListOfLists(function(){var M=this.parseUShort(),k=this.parseUShort();return{input:this.parseUShortList(M-1),lookupRecords:this.parseRecordList(k,Qn)}})};if(b===2)return{substFormat:b,coverage:this.parsePointer(be.coverage),classDef:this.parsePointer(be.classDef),classSets:this.parseListOfLists(function(){var M=this.parseUShort(),k=this.parseUShort();return{classes:this.parseUShortList(M-1),lookupRecords:this.parseRecordList(k,Qn)}})};if(b===3){var S=this.parseUShort(),j=this.parseUShort();return{substFormat:b,coverages:this.parseList(S,be.pointer(be.coverage)),lookupRecords:this.parseRecordList(j,Qn)}}ve.assert(!1,"0x"+m.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Ar[6]=function(){var m=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{substFormat:1,coverage:this.parsePointer(be.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Qn)}})}:b===2?{substFormat:2,coverage:this.parsePointer(be.coverage),backtrackClassDef:this.parsePointer(be.classDef),inputClassDef:this.parsePointer(be.classDef),lookaheadClassDef:this.parsePointer(be.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Qn)}})}:b===3?{substFormat:3,backtrackCoverage:this.parseList(be.pointer(be.coverage)),inputCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),lookupRecords:this.parseRecordList(Qn)}:void ve.assert(!1,"0x"+m.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Ar[7]=function(){var m=this.parseUShort();ve.argument(m===1,"GSUB Extension Substitution subtable identifier-format must be 1");var b=this.parseUShort(),S=new be(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:b,extension:Ar[b].call(S)}},Ar[8]=function(){var m=this.parseUShort();return ve.argument(m===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(be.coverage),backtrackCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),substitutes:this.parseUShortList()}};var Go=new Array(9);Go[1]=function(m){return m.substFormat===1?new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(m.coverage)},{name:"deltaGlyphID",type:"USHORT",value:m.deltaGlyphId}]):new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Le.Coverage(m.coverage)}].concat(Le.ushortList("substitute",m.substitute)))},Go[3]=function(m){return ve.assert(m.substFormat===1,"Lookup type 3 substFormat must be 1."),new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(m.coverage)}].concat(Le.tableList("altSet",m.alternateSets,function(b){return new Le.Table("alternateSetTable",Le.ushortList("alternate",b))})))},Go[4]=function(m){return ve.assert(m.substFormat===1,"Lookup type 4 substFormat must be 1."),new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(m.coverage)}].concat(Le.tableList("ligSet",m.ligatureSets,function(b){return new Le.Table("ligatureSetTable",Le.tableList("ligature",b,function(S){return new Le.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:S.ligGlyph}].concat(Le.ushortList("component",S.components,S.components.length+1)))}))})))};var ua={parse:function(m,b){var S=new be(m,b=b||0),j=S.parseVersion(1);return ve.argument(j===1||j===1.1,"Unsupported GSUB table version."),j===1?{version:j,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Ar)}:{version:j,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Ar),variations:S.parseFeatureVariationsList()}},make:function(m){return new Le.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Le.ScriptList(m.scripts)},{name:"features",type:"TABLE",value:new Le.FeatureList(m.features)},{name:"lookups",type:"TABLE",value:new Le.LookupList(m.lookups,Go)}])}},ca={parse:function(m,b){var S=new V.Parser(m,b),j=S.parseULong();ve.argument(j===1,"Unsupported META table version."),S.parseULong(),S.parseULong();for(var M=S.parseULong(),k={},F=0;F<M;F++){var q=S.parseTag(),Q=S.parseULong(),ce=S.parseULong(),ye=De.UTF8(m,b+Q,ce);k[q]=ye}return k},make:function(m){var b=Object.keys(m).length,S="",j=16+12*b,M=new Le.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:j},{name:"numTags",type:"ULONG",value:b}]);for(var k in m){var F=S.length;S+=m[k],M.fields.push({name:"tag "+k,type:"TAG",value:k}),M.fields.push({name:"offset "+k,type:"ULONG",value:j+F}),M.fields.push({name:"length "+k,type:"ULONG",value:m[k].length})}return M.fields.push({name:"stringPool",type:"CHARARRAY",value:S}),M}};function da(m){return Math.log(m)/Math.log(2)|0}function Us(m){for(;m.length%4!=0;)m.push(0);for(var b=0,S=0;S<m.length;S+=4)b+=(m[S]<<24)+(m[S+1]<<16)+(m[S+2]<<8)+m[S+3];return b%=Math.pow(2,32)}function ha(m,b,S,j){return new Le.Record("Table Record",[{name:"tag",type:"TAG",value:m!==void 0?m:""},{name:"checkSum",type:"ULONG",value:b!==void 0?b:0},{name:"offset",type:"ULONG",value:S!==void 0?S:0},{name:"length",type:"ULONG",value:j!==void 0?j:0}])}function fa(m){var b=new Le.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);b.tables=m,b.numTables=m.length;var S=Math.pow(2,da(b.numTables));b.searchRange=16*S,b.entrySelector=da(S),b.rangeShift=16*b.numTables-b.searchRange;for(var j=[],M=[],k=b.sizeOf()+ha().sizeOf()*b.numTables;k%4!=0;)k+=1,M.push({name:"padding",type:"BYTE",value:0});for(var F=0;F<m.length;F+=1){var q=m[F];ve.argument(q.tableName.length===4,"Table name"+q.tableName+" is invalid.");var Q=q.sizeOf(),ce=ha(q.tableName,Us(q.encode()),k,Q);for(j.push({name:ce.tag+" Table Record",type:"RECORD",value:ce}),M.push({name:q.tableName+" table",type:"RECORD",value:q}),k+=Q,ve.argument(!isNaN(k),"Something went wrong calculating the offset.");k%4!=0;)k+=1,M.push({name:"padding",type:"BYTE",value:0})}return j.sort(function(ye,je){return ye.value.tag>je.value.tag?1:-1}),b.fields=b.fields.concat(j),b.fields=b.fields.concat(M),b}function pa(m,b,S){for(var j=0;j<b.length;j+=1){var M=m.charToGlyphIndex(b[j]);if(0<M)return m.glyphs.get(M).getMetrics()}return S}var jc={make:fa,fontToTable:function(m){for(var b,S=[],j=[],M=[],k=[],F=[],q=[],Q=[],ce=0,ye=0,je=0,te=0,Xe=0,ze=0;ze<m.glyphs.length;ze+=1){var Ne=m.glyphs.get(ze),Ee=0|Ne.unicode;if(isNaN(Ne.advanceWidth))throw new Error("Glyph "+Ne.name+" ("+ze+"): advanceWidth is not a number.");(Ee<b||b===void 0)&&0<Ee&&(b=Ee),ce<Ee&&(ce=Ee);var Ie=Bs.getUnicodeRange(Ee);if(Ie<32)ye|=1<<Ie;else if(Ie<64)je|=1<<Ie-32;else if(Ie<96)te|=1<<Ie-64;else{if(!(Ie<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Xe|=1<<Ie-96}if(Ne.name!==".notdef"){var rt=Ne.getMetrics();S.push(rt.xMin),j.push(rt.yMin),M.push(rt.xMax),k.push(rt.yMax),q.push(rt.leftSideBearing),Q.push(rt.rightSideBearing),F.push(Ne.advanceWidth)}}var tt={xMin:Math.min.apply(null,S),yMin:Math.min.apply(null,j),xMax:Math.max.apply(null,M),yMax:Math.max.apply(null,k),advanceWidthMax:Math.max.apply(null,F),advanceWidthAvg:function(to){for(var za=0,qs=0;qs<to.length;qs+=1)za+=to[qs];return za/to.length}(F),minLeftSideBearing:Math.min.apply(null,q),maxLeftSideBearing:Math.max.apply(null,q),minRightSideBearing:Math.min.apply(null,Q)};tt.ascender=m.ascender,tt.descender=m.descender;var wt=et.make({flags:3,unitsPerEm:m.unitsPerEm,xMin:tt.xMin,yMin:tt.yMin,xMax:tt.xMax,yMax:tt.yMax,lowestRecPPEM:3,createdTimestamp:m.createdTimestamp}),st=Fe.make({ascender:tt.ascender,descender:tt.descender,advanceWidthMax:tt.advanceWidthMax,minLeftSideBearing:tt.minLeftSideBearing,minRightSideBearing:tt.minRightSideBearing,xMaxExtent:tt.maxLeftSideBearing+(tt.xMax-tt.xMin),numberOfHMetrics:m.glyphs.length}),lt=kt.make(m.glyphs.length),zt=Bs.make({xAvgCharWidth:Math.round(tt.advanceWidthAvg),usWeightClass:m.tables.os2.usWeightClass,usWidthClass:m.tables.os2.usWidthClass,usFirstCharIndex:b,usLastCharIndex:ce,ulUnicodeRange1:ye,ulUnicodeRange2:je,ulUnicodeRange3:te,ulUnicodeRange4:Xe,fsSelection:m.tables.os2.fsSelection,sTypoAscender:tt.ascender,sTypoDescender:tt.descender,sTypoLineGap:0,usWinAscent:tt.yMax,usWinDescent:Math.abs(tt.yMin),ulCodePageRange1:1,sxHeight:pa(m,"xyvw",{yMax:Math.round(tt.ascender/2)}).yMax,sCapHeight:pa(m,"HIKLEFJMNTZBDPRAGOQSUVWXY",tt).yMax,usDefaultChar:m.hasChar(" ")?32:0,usBreakChar:m.hasChar(" ")?32:0}),St=_t.make(m.glyphs),xt=Z.make(m.glyphs),jt=m.getEnglishName("fontFamily"),Lt=m.getEnglishName("fontSubfamily"),Pt=jt+" "+Lt,Vt=m.getEnglishName("postScriptName");Vt=Vt||jt.replace(/\s/g,"")+"-"+Lt;var Dt={};for(var Ot in m.names)Dt[Ot]=m.names[Ot];Dt.uniqueID||(Dt.uniqueID={en:m.getEnglishName("manufacturer")+":"+Pt}),Dt.postScriptName||(Dt.postScriptName={en:Vt}),Dt.preferredFamily||(Dt.preferredFamily=m.names.fontFamily),Dt.preferredSubfamily||(Dt.preferredSubfamily=m.names.fontSubfamily);var Ht=[],It=aa.make(Dt,Ht),Kt=0<Ht.length?Mt.make(Ht):void 0,Et=la.make(),Zt=We.make(m.glyphs,{version:m.getEnglishName("version"),fullName:Pt,familyName:jt,weightName:Lt,postScriptName:Vt,unitsPerEm:m.unitsPerEm,fontBBox:[0,tt.yMin,tt.ascender,tt.advanceWidthMax]}),Ut=m.metas&&0<Object.keys(m.metas).length?ca.make(m.metas):void 0,Nt=[wt,st,lt,zt,It,xt,Et,Zt,St];Kt&&Nt.push(Kt),m.tables.gsub&&Nt.push(ua.make(m.tables.gsub)),Ut&&Nt.push(Ut);for(var Vr=fa(Nt),eo=Us(Vr.encode()),Dn=Vr.fields,yr=!1,In=0;In<Dn.length;In+=1)if(Dn[In].name==="head table"){Dn[In].value.checkSumAdjustment=2981146554-eo,yr=!0;break}if(!yr)throw new Error("Could not find head table with checkSum to adjust.");return Vr},computeCheckSum:Us};function Ns(m,b){for(var S=0,j=m.length-1;S<=j;){var M=S+j>>>1,k=m[M].tag;if(k===b)return M;k<b?S=1+M:j=M-1}return-S-1}function ma(m,b){for(var S=0,j=m.length-1;S<=j;){var M=S+j>>>1,k=m[M];if(k===b)return M;k<b?S=1+M:j=M-1}return-S-1}function ga(m,b){for(var S,j=0,M=m.length-1;j<=M;){var k=j+M>>>1,F=(S=m[k]).start;if(F===b)return S;F<b?j=1+k:M=k-1}if(0<j)return b>(S=m[j-1]).end?0:S}function Vo(m,b){this.font=m,this.tableName=b}function Ho(m){Vo.call(this,m,"gpos")}function Fr(m){Vo.call(this,m,"gsub")}function Tc(m,b){var S=m.length;if(S!==b.length)return!1;for(var j=0;j<S;j++)if(m[j]!==b[j])return!1;return!0}function ya(m,b,S){for(var j=m.subtables,M=0;M<j.length;M++){var k=j[M];if(k.substFormat===b)return k}if(S)return j.push(S),S}function va(m){for(var b=new ArrayBuffer(m.length),S=new Uint8Array(b),j=0;j<m.length;++j)S[j]=m[j];return b}function Jn(m,b){if(!m)throw b}function ba(m,b,S,j,M){var k;return k=0<(b&j)?(k=m.parseByte(),!(b&M)&&(k=-k),S+k):0<(b&M)?S:S+m.parseShort()}function Cc(m,b,S){var j,M,k=new V.Parser(b,S);if(m.numberOfContours=k.parseShort(),m._xMin=k.parseShort(),m._yMin=k.parseShort(),m._xMax=k.parseShort(),m._yMax=k.parseShort(),0<m.numberOfContours){for(var F=m.endPointIndices=[],q=0;q<m.numberOfContours;q+=1)F.push(k.parseUShort());m.instructionLength=k.parseUShort(),m.instructions=[];for(var Q=0;Q<m.instructionLength;Q+=1)m.instructions.push(k.parseByte());var ce=F[F.length-1]+1;j=[];for(var ye=0;ye<ce;ye+=1)if(M=k.parseByte(),j.push(M),0<(8&M))for(var je=k.parseByte(),te=0;te<je;te+=1)j.push(M),ye+=1;if(ve.argument(j.length===ce,"Bad flags."),0<F.length){var Xe,ze=[];if(0<ce){for(var Ne=0;Ne<ce;Ne+=1)M=j[Ne],(Xe={}).onCurve=!!(1&M),Xe.lastPointOfContour=0<=F.indexOf(Ne),ze.push(Xe);for(var Ee=0,Ie=0;Ie<ce;Ie+=1)M=j[Ie],(Xe=ze[Ie]).x=ba(k,M,Ee,2,16),Ee=Xe.x;for(var rt=0,tt=0;tt<ce;tt+=1)M=j[tt],(Xe=ze[tt]).y=ba(k,M,rt,4,32),rt=Xe.y}m.points=ze}else m.points=[]}else if(m.numberOfContours===0)m.points=[];else{m.isComposite=!0,m.points=[],m.components=[];for(var wt=!0;wt;){j=k.parseUShort();var st={glyphIndex:k.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&j)?0<(2&j)?(st.dx=k.parseShort(),st.dy=k.parseShort()):st.matchedPoints=[k.parseUShort(),k.parseUShort()]:0<(2&j)?(st.dx=k.parseChar(),st.dy=k.parseChar()):st.matchedPoints=[k.parseByte(),k.parseByte()],0<(8&j)?st.xScale=st.yScale=k.parseF2Dot14():0<(64&j)?(st.xScale=k.parseF2Dot14(),st.yScale=k.parseF2Dot14()):0<(128&j)&&(st.xScale=k.parseF2Dot14(),st.scale01=k.parseF2Dot14(),st.scale10=k.parseF2Dot14(),st.yScale=k.parseF2Dot14()),m.components.push(st),wt=!!(32&j)}if(256&j){m.instructionLength=k.parseUShort(),m.instructions=[];for(var lt=0;lt<m.instructionLength;lt+=1)m.instructions.push(k.parseByte())}}}function Fs(m,b){for(var S=[],j=0;j<m.length;j+=1){var M=m[j],k={x:b.xScale*M.x+b.scale01*M.y+b.dx,y:b.scale10*M.x+b.yScale*M.y+b.dy,onCurve:M.onCurve,lastPointOfContour:M.lastPointOfContour};S.push(k)}return S}function wa(m){var b=new me;if(!m)return b;for(var S=function(je){for(var te=[],Xe=[],ze=0;ze<je.length;ze+=1){var Ne=je[ze];Xe.push(Ne),Ne.lastPointOfContour&&(te.push(Xe),Xe=[])}return ve.argument(Xe.length===0,"There are still points left in the current contour."),te}(m),j=0;j<S.length;++j){var M=S[j],k=null,F=M[M.length-1],q=M[0];if(F.onCurve)b.moveTo(F.x,F.y);else if(q.onCurve)b.moveTo(q.x,q.y);else{var Q={x:.5*(F.x+q.x),y:.5*(F.y+q.y)};b.moveTo(Q.x,Q.y)}for(var ce=0;ce<M.length;++ce)if(k=F,F=q,q=M[(ce+1)%M.length],F.onCurve)b.lineTo(F.x,F.y);else{var ye=q;k.onCurve||(.5*(F.x+k.x),.5*(F.y+k.y)),q.onCurve||(ye={x:.5*(F.x+q.x),y:.5*(F.y+q.y)}),b.quadraticCurveTo(F.x,F.y,ye.x,ye.y)}b.closePath()}return b}function Ec(m,b){if(b.isComposite)for(var S=0;S<b.components.length;S+=1){var j=b.components[S],M=m.get(j.glyphIndex);if(M.getPath(),M.points){var k=void 0;if(j.matchedPoints===void 0)k=Fs(M.points,j);else{if(j.matchedPoints[0]>b.points.length-1||j.matchedPoints[1]>M.points.length-1)throw Error("Matched points out of range in "+b.name);var F=b.points[j.matchedPoints[0]],q=M.points[j.matchedPoints[1]],Q={xScale:j.xScale,scale01:j.scale01,scale10:j.scale10,yScale:j.yScale,dx:0,dy:0};q=Fs([q],Q)[0],Q.dx=F.x-q.x,Q.dy=F.y-q.y,k=Fs(M.points,Q)}b.points=b.points.concat(k)}}return wa(b.points)}(Ho.prototype=Vo.prototype={searchTag:Ns,binSearch:ma,getTable:function(m){var b=this.font.tables[this.tableName];return!b&&m&&(b=this.font.tables[this.tableName]=this.createDefaultTable()),b},getScriptNames:function(){var m=this.getTable();return m?m.scripts.map(function(b){return b.tag}):[]},getDefaultScriptName:function(){var m=this.getTable();if(m){for(var b=!1,S=0;S<m.scripts.length;S++){var j=m.scripts[S].tag;if(j==="DFLT")return j;j==="latn"&&(b=!0)}return b?"latn":void 0}},getScriptTable:function(m,b){var S=this.getTable(b);if(S){m=m||"DFLT";var j=S.scripts,M=Ns(S.scripts,m);if(0<=M)return j[M].script;if(b){var k={tag:m,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return j.splice(-1-M,0,k),k.script}}},getLangSysTable:function(m,b,S){var j=this.getScriptTable(m,S);if(j){if(!b||b==="dflt"||b==="DFLT")return j.defaultLangSys;var M=Ns(j.langSysRecords,b);if(0<=M)return j.langSysRecords[M].langSys;if(S){var k={tag:b,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return j.langSysRecords.splice(-1-M,0,k),k.langSys}}},getFeatureTable:function(m,b,S,j){var M=this.getLangSysTable(m,b,j);if(M){for(var k,F=M.featureIndexes,q=this.font.tables[this.tableName].features,Q=0;Q<F.length;Q++)if((k=q[F[Q]]).tag===S)return k.feature;if(j){var ce=q.length;return ve.assert(ce===0||S>=q[ce-1].tag,"Features must be added in alphabetical order."),k={tag:S,feature:{params:0,lookupListIndexes:[]}},q.push(k),F.push(ce),k.feature}}},getLookupTables:function(m,b,S,j,M){var k=this.getFeatureTable(m,b,S,M),F=[];if(k){for(var q,Q=k.lookupListIndexes,ce=this.font.tables[this.tableName].lookups,ye=0;ye<Q.length;ye++)(q=ce[Q[ye]]).lookupType===j&&F.push(q);if(F.length===0&&M){q={lookupType:j,lookupFlag:0,subtables:[],markFilteringSet:void 0};var je=ce.length;return ce.push(q),Q.push(je),[q]}}return F},getGlyphClass:function(m,b){switch(m.format){case 1:return m.startGlyph<=b&&b<m.startGlyph+m.classes.length?m.classes[b-m.startGlyph]:0;case 2:var S=ga(m.ranges,b);return S?S.classId:0}},getCoverageIndex:function(m,b){switch(m.format){case 1:var S=ma(m.glyphs,b);return 0<=S?S:-1;case 2:var j=ga(m.ranges,b);return j?j.index+b-j.start:-1}},expandCoverage:function(m){if(m.format===1)return m.glyphs;for(var b=[],S=m.ranges,j=0;j<S.length;j++)for(var M=S[j],k=M.start,F=M.end,q=k;q<=F;q++)b.push(q);return b}}).init=function(){var m=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(m)},Ho.prototype.getKerningValue=function(m,b,S){for(var j=0;j<m.length;j++)for(var M=m[j].subtables,k=0;k<M.length;k++){var F=M[k],q=this.getCoverageIndex(F.coverage,b);if(!(q<0))switch(F.posFormat){case 1:for(var Q=F.pairSets[q],ce=0;ce<Q.length;ce++){var ye=Q[ce];if(ye.secondGlyph===S)return ye.value1&&ye.value1.xAdvance||0}break;case 2:var je=this.getGlyphClass(F.classDef1,b),te=this.getGlyphClass(F.classDef2,S),Xe=F.classRecords[je][te];return Xe.value1&&Xe.value1.xAdvance||0}}return 0},Ho.prototype.getKerningTables=function(m,b){if(this.font.tables.gpos)return this.getLookupTables(m,b,"kern",2)},(Fr.prototype=Vo.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Fr.prototype.getSingle=function(m,b,S){for(var j=[],M=this.getLookupTables(b,S,m,1),k=0;k<M.length;k++)for(var F=M[k].subtables,q=0;q<F.length;q++){var Q=F[q],ce=this.expandCoverage(Q.coverage),ye=void 0;if(Q.substFormat===1){var je=Q.deltaGlyphId;for(ye=0;ye<ce.length;ye++){var te=ce[ye];j.push({sub:te,by:te+je})}}else{var Xe=Q.substitute;for(ye=0;ye<ce.length;ye++)j.push({sub:ce[ye],by:Xe[ye]})}}return j},Fr.prototype.getAlternates=function(m,b,S){for(var j=[],M=this.getLookupTables(b,S,m,3),k=0;k<M.length;k++)for(var F=M[k].subtables,q=0;q<F.length;q++)for(var Q=F[q],ce=this.expandCoverage(Q.coverage),ye=Q.alternateSets,je=0;je<ce.length;je++)j.push({sub:ce[je],by:ye[je]});return j},Fr.prototype.getLigatures=function(m,b,S){for(var j=[],M=this.getLookupTables(b,S,m,4),k=0;k<M.length;k++)for(var F=M[k].subtables,q=0;q<F.length;q++)for(var Q=F[q],ce=this.expandCoverage(Q.coverage),ye=Q.ligatureSets,je=0;je<ce.length;je++)for(var te=ce[je],Xe=ye[je],ze=0;ze<Xe.length;ze++){var Ne=Xe[ze];j.push({sub:[te].concat(Ne.components),by:Ne.ligGlyph})}return j},Fr.prototype.addSingle=function(m,b,S,j){var M=ya(this.getLookupTables(S,j,m,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});ve.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format);var k=b.sub,F=this.binSearch(M.coverage.glyphs,k);F<0&&(F=-1-F,M.coverage.glyphs.splice(F,0,k),M.substitute.splice(F,0,0)),M.substitute[F]=b.by},Fr.prototype.addAlternate=function(m,b,S,j){var M=ya(this.getLookupTables(S,j,m,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});ve.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format);var k=b.sub,F=this.binSearch(M.coverage.glyphs,k);F<0&&(F=-1-F,M.coverage.glyphs.splice(F,0,k),M.alternateSets.splice(F,0,0)),M.alternateSets[F]=b.by},Fr.prototype.addLigature=function(m,b,S,j){var M=this.getLookupTables(S,j,m,4,!0)[0],k=M.subtables[0];k||(k={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},M.subtables[0]=k),ve.assert(k.coverage.format===1,"Ligature: unable to modify coverage table format "+k.coverage.format);var F=b.sub[0],q=b.sub.slice(1),Q={ligGlyph:b.by,components:q},ce=this.binSearch(k.coverage.glyphs,F);if(0<=ce){for(var ye=k.ligatureSets[ce],je=0;je<ye.length;je++)if(Tc(ye[je].components,q))return;ye.push(Q)}else ce=-1-ce,k.coverage.glyphs.splice(ce,0,F),k.ligatureSets.splice(ce,0,[Q])},Fr.prototype.getFeature=function(m,b,S){if(/ss\d\d/.test(m))return this.getSingle(m,b,S);switch(m){case"aalt":case"salt":return this.getSingle(m,b,S).concat(this.getAlternates(m,b,S));case"dlig":case"liga":case"rlig":return this.getLigatures(m,b,S)}},Fr.prototype.add=function(m,b,S,j){if(/ss\d\d/.test(m))return this.addSingle(m,b,S,j);switch(m){case"aalt":case"salt":return typeof b.by=="number"?this.addSingle(m,b,S,j):this.addAlternate(m,b,S,j);case"dlig":case"liga":case"rlig":return this.addLigature(m,b,S,j)}};var xa,Ln,_a,Gs,Sa={getPath:wa,parse:function(m,b,S,j){for(var M=new ft.GlyphSet(j),k=0;k<S.length-1;k+=1){var F=S[k];F!==S[k+1]?M.push(k,ft.ttfGlyphLoader(j,k,Cc,m,b+F,Ec)):M.push(k,ft.glyphLoader(j,k))}return M}};function ja(m){this.font=m,this.getCommands=function(b){return Sa.getPath(b).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Mc(m){return m}function Ta(m){return Math.sign(m)*Math.round(Math.abs(m))}function Ac(m){return Math.sign(m)*Math.round(Math.abs(2*m))/2}function Rc(m){return Math.sign(m)*(Math.round(Math.abs(m)+.5)-.5)}function Pc(m){return Math.sign(m)*Math.ceil(Math.abs(m))}function Oc(m){return Math.sign(m)*Math.floor(Math.abs(m))}function Ca(m){var b=this.srPeriod,S=this.srPhase,j=1;return m<0&&(m=-m,j=-1),m+=this.srThreshold-S,m=Math.trunc(m/b)*b,(m+=S)<0?S*j:m*j}var Gr={x:1,y:0,axis:"x",distance:function(m,b,S,j){return(S?m.xo:m.x)-(j?b.xo:b.x)},interpolate:function(m,b,S,j){var M,k,F,q,Q,ce,ye;if(!j||j===this)return M=m.xo-b.xo,k=m.xo-S.xo,Q=b.x-b.xo,ce=S.x-S.xo,(ye=(F=Math.abs(M))+(q=Math.abs(k)))===0?void(m.x=m.xo+(Q+ce)/2):void(m.x=m.xo+(Q*q+ce*F)/ye);M=j.distance(m,b,!0,!0),k=j.distance(m,S,!0,!0),Q=j.distance(b,b,!1,!0),ce=j.distance(S,S,!1,!0),(ye=(F=Math.abs(M))+(q=Math.abs(k)))!==0?Gr.setRelative(m,m,(Q*q+ce*F)/ye,j,!0):Gr.setRelative(m,m,(Q+ce)/2,j,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(m,b,S,j,M){if(j&&j!==this){var k=M?b.xo:b.x,F=M?b.yo:b.y,q=k+S*j.x,Q=F+S*j.y;m.x=q+(m.y-Q)/j.normalSlope}else m.x=(M?b.xo:b.x)+S},slope:0,touch:function(m){m.xTouched=!0},touched:function(m){return m.xTouched},untouch:function(m){m.xTouched=!1}},Jr={x:0,y:1,axis:"y",distance:function(m,b,S,j){return(S?m.yo:m.y)-(j?b.yo:b.y)},interpolate:function(m,b,S,j){var M,k,F,q,Q,ce,ye;if(!j||j===this)return M=m.yo-b.yo,k=m.yo-S.yo,Q=b.y-b.yo,ce=S.y-S.yo,(ye=(F=Math.abs(M))+(q=Math.abs(k)))===0?void(m.y=m.yo+(Q+ce)/2):void(m.y=m.yo+(Q*q+ce*F)/ye);M=j.distance(m,b,!0,!0),k=j.distance(m,S,!0,!0),Q=j.distance(b,b,!1,!0),ce=j.distance(S,S,!1,!0),(ye=(F=Math.abs(M))+(q=Math.abs(k)))!==0?Jr.setRelative(m,m,(Q*q+ce*F)/ye,j,!0):Jr.setRelative(m,m,(Q+ce)/2,j,!0)},normalSlope:0,setRelative:function(m,b,S,j,M){if(j&&j!==this){var k=M?b.xo:b.x,F=M?b.yo:b.y,q=k+S*j.x,Q=F+S*j.y;m.y=Q+j.normalSlope*(m.x-q)}else m.y=(M?b.yo:b.y)+S},slope:Number.POSITIVE_INFINITY,touch:function(m){m.yTouched=!0},touched:function(m){return m.yTouched},untouch:function(m){m.yTouched=!1}};function xo(m,b){this.x=m,this.y=b,this.axis=void 0,this.slope=b/m,this.normalSlope=-m/b,Object.freeze(this)}function _o(m,b){var S=Math.sqrt(m*m+b*b);return b/=S,(m/=S)===1&&b===0?Gr:m===0&&b===1?Jr:new xo(m,b)}function en(m,b,S,j){this.x=this.xo=Math.round(64*m)/64,this.y=this.yo=Math.round(64*b)/64,this.lastPointOfContour=S,this.onCurve=j,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Gr),Object.freeze(Jr),xo.prototype.distance=function(m,b,S,j){return this.x*Gr.distance(m,b,S,j)+this.y*Jr.distance(m,b,S,j)},xo.prototype.interpolate=function(m,b,S,j){var M,k,F,q,Q,ce,ye;F=j.distance(m,b,!0,!0),q=j.distance(m,S,!0,!0),M=j.distance(b,b,!1,!0),k=j.distance(S,S,!1,!0),(ye=(Q=Math.abs(F))+(ce=Math.abs(q)))!==0?this.setRelative(m,m,(M*ce+k*Q)/ye,j,!0):this.setRelative(m,m,(M+k)/2,j,!0)},xo.prototype.setRelative=function(m,b,S,j,M){j=j||this;var k=M?b.xo:b.x,F=M?b.yo:b.y,q=k+S*j.x,Q=F+S*j.y,ce=j.normalSlope,ye=this.slope,je=m.x,te=m.y;m.x=(ye*je-ce*q+Q-te)/(ye-ce),m.y=ye*(m.x-je)+te},xo.prototype.touch=function(m){m.xTouched=!0,m.yTouched=!0},en.prototype.nextTouched=function(m){for(var b=this.nextPointOnContour;!m.touched(b)&&b!==this;)b=b.nextPointOnContour;return b},en.prototype.prevTouched=function(m){for(var b=this.prevPointOnContour;!m.touched(b)&&b!==this;)b=b.prevPointOnContour;return b};var So=Object.freeze(new en(0,0)),kc={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function mn(m,b){switch(this.env=m,this.stack=[],this.prog=b,m){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Gr,this.round=Ta}}function Wo(m){for(var b=m.tZone=new Array(m.gZone.length),S=0;S<b.length;S++)b[S]=new en(0,0)}function Ea(m,b){var S,j=m.prog,M=m.ip,k=1;do if((S=j[++M])===88)k++;else if(S===89)k--;else if(S===64)M+=j[M+1]+1;else if(S===65)M+=2*j[M+1]+1;else if(176<=S&&S<=183)M+=S-176+1;else if(184<=S&&S<=191)M+=2*(S-184+1);else if(b&&k===1&&S===27)break;while(0<k);m.ip=M}function Ma(m,b){c.DEBUG&&console.log(b.step,"SVTCA["+m.axis+"]"),b.fv=b.pv=b.dpv=m}function Aa(m,b){c.DEBUG&&console.log(b.step,"SPVTCA["+m.axis+"]"),b.pv=b.dpv=m}function Ra(m,b){c.DEBUG&&console.log(b.step,"SFVTCA["+m.axis+"]"),b.fv=m}function Pa(m,b){var S,j,M=b.stack,k=M.pop(),F=M.pop(),q=b.z2[k],Q=b.z1[F];c.DEBUG&&console.log("SPVTL["+m+"]",k,F),j=m?(S=q.y-Q.y,Q.x-q.x):(S=Q.x-q.x,Q.y-q.y),b.pv=b.dpv=_o(S,j)}function Oa(m,b){var S,j,M=b.stack,k=M.pop(),F=M.pop(),q=b.z2[k],Q=b.z1[F];c.DEBUG&&console.log("SFVTL["+m+"]",k,F),j=m?(S=q.y-Q.y,Q.x-q.x):(S=Q.x-q.x,Q.y-q.y),b.fv=_o(S,j)}function Vs(m){c.DEBUG&&console.log(m.step,"POP[]"),m.stack.pop()}function ka(m,b){var S=b.stack.pop(),j=b.z0[S],M=b.fv,k=b.pv;c.DEBUG&&console.log(b.step,"MDAP["+m+"]",S);var F=k.distance(j,So);m&&(F=b.round(F)),M.setRelative(j,So,F,k),M.touch(j),b.rp0=b.rp1=S}function La(m,b){var S,j,M,k=b.z2,F=k.length-2;c.DEBUG&&console.log(b.step,"IUP["+m.axis+"]");for(var q=0;q<F;q++)S=k[q],m.touched(S)||(j=S.prevTouched(m))!==S&&(j===(M=S.nextTouched(m))&&m.setRelative(S,S,m.distance(j,j,!1,!0),m,!0),m.interpolate(S,j,M,m))}function Da(m,b){for(var S=b.stack,j=m?b.rp1:b.rp2,M=(m?b.z0:b.z1)[j],k=b.fv,F=b.pv,q=b.loop,Q=b.z2;q--;){var ce=S.pop(),ye=Q[ce],je=F.distance(M,M,!1,!0);k.setRelative(ye,ye,je,F),k.touch(ye),c.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-q)+": ":"")+"SHP["+(m?"rp1":"rp2")+"]",ce)}b.loop=1}function Ia(m,b){var S=b.stack,j=m?b.rp1:b.rp2,M=(m?b.z0:b.z1)[j],k=b.fv,F=b.pv,q=S.pop(),Q=b.z2[b.contours[q]],ce=Q;c.DEBUG&&console.log(b.step,"SHC["+m+"]",q);for(var ye=F.distance(M,M,!1,!0);ce!==M&&k.setRelative(ce,ce,ye,F),(ce=ce.nextPointOnContour)!==Q;);}function Ba(m,b){var S,j,M=b.stack,k=m?b.rp1:b.rp2,F=(m?b.z0:b.z1)[k],q=b.fv,Q=b.pv,ce=M.pop();switch(c.DEBUG&&console.log(b.step,"SHZ["+m+"]",ce),ce){case 0:S=b.tZone;break;case 1:S=b.gZone;break;default:throw new Error("Invalid zone")}for(var ye=Q.distance(F,F,!1,!0),je=S.length-2,te=0;te<je;te++)j=S[te],q.setRelative(j,j,ye,Q)}function Ua(m,b){var S=b.stack,j=S.pop()/64,M=S.pop(),k=b.z1[M],F=b.z0[b.rp0],q=b.fv,Q=b.pv;q.setRelative(k,F,j,Q),q.touch(k),c.DEBUG&&console.log(b.step,"MSIRP["+m+"]",j,M),b.rp1=b.rp0,b.rp2=M,m&&(b.rp0=M)}function Na(m,b){var S=b.stack,j=S.pop(),M=S.pop(),k=b.z0[M],F=b.fv,q=b.pv,Q=b.cvt[j];c.DEBUG&&console.log(b.step,"MIAP["+m+"]",j,"(",Q,")",M);var ce=q.distance(k,So);m&&(Math.abs(ce-Q)<b.cvCutIn&&(ce=Q),ce=b.round(ce)),F.setRelative(k,So,ce,q),b.zp0===0&&(k.xo=k.x,k.yo=k.y),F.touch(k),b.rp0=b.rp1=M}function Fa(m,b){var S=b.stack,j=S.pop(),M=b.z2[j];c.DEBUG&&console.log(b.step,"GC["+m+"]",j),S.push(64*b.dpv.distance(M,So,m,!1))}function Ga(m,b){var S=b.stack,j=S.pop(),M=S.pop(),k=b.z1[j],F=b.z0[M],q=b.dpv.distance(F,k,m,m);c.DEBUG&&console.log(b.step,"MD["+m+"]",j,M,"->",q),b.stack.push(Math.round(64*q))}function Hs(m,b){var S=b.stack,j=S.pop(),M=b.fv,k=b.pv,F=b.ppem,q=b.deltaBase+16*(m-1),Q=b.deltaShift,ce=b.z0;c.DEBUG&&console.log(b.step,"DELTAP["+m+"]",j,S);for(var ye=0;ye<j;ye++){var je=S.pop(),te=S.pop();if(q+((240&te)>>4)===F){var Xe=(15&te)-8;0<=Xe&&Xe++,c.DEBUG&&console.log(b.step,"DELTAPFIX",je,"by",Xe*Q);var ze=ce[je];M.setRelative(ze,ze,Xe*Q,k)}}}function zo(m,b){var S=b.stack,j=S.pop();c.DEBUG&&console.log(b.step,"ROUND[]"),S.push(64*b.round(j/64))}function Ws(m,b){var S=b.stack,j=S.pop(),M=b.ppem,k=b.deltaBase+16*(m-1),F=b.deltaShift;c.DEBUG&&console.log(b.step,"DELTAC["+m+"]",j,S);for(var q=0;q<j;q++){var Q=S.pop(),ce=S.pop();if(k+((240&ce)>>4)===M){var ye=(15&ce)-8;0<=ye&&ye++;var je=ye*F;c.DEBUG&&console.log(b.step,"DELTACFIX",Q,"by",je),b.cvt[Q]+=je}}}function Va(m,b){var S,j,M=b.stack,k=M.pop(),F=M.pop(),q=b.z2[k],Q=b.z1[F];c.DEBUG&&console.log(b.step,"SDPVTL["+m+"]",k,F),j=m?(S=q.y-Q.y,Q.x-q.x):(S=Q.x-q.x,Q.y-q.y),b.dpv=_o(S,j)}function gn(m,b){var S=b.stack,j=b.prog,M=b.ip;c.DEBUG&&console.log(b.step,"PUSHB["+m+"]");for(var k=0;k<m;k++)S.push(j[++M]);b.ip=M}function yn(m,b){var S=b.ip,j=b.prog,M=b.stack;c.DEBUG&&console.log(b.ip,"PUSHW["+m+"]");for(var k=0;k<m;k++){var F=j[++S]<<8|j[++S];32768&F&&(F=-(1+(65535^F))),M.push(F)}b.ip=S}function nt(m,b,S,j,M,k){var F,q,Q,ce,ye=k.stack,je=m&&ye.pop(),te=ye.pop(),Xe=k.rp0,ze=k.z0[Xe],Ne=k.z1[te],Ee=k.minDis,Ie=k.fv,rt=k.dpv;Q=0<=(q=F=rt.distance(Ne,ze,!0,!0))?1:-1,q=Math.abs(q),m&&(ce=k.cvt[je],j&&Math.abs(q-ce)<k.cvCutIn&&(q=ce)),S&&q<Ee&&(q=Ee),j&&(q=k.round(q)),Ie.setRelative(Ne,ze,Q*q,rt),Ie.touch(Ne),c.DEBUG&&console.log(k.step,(m?"MIRP[":"MDRP[")+(b?"M":"m")+(S?">":"_")+(j?"R":"_")+(M===0?"Gr":M===1?"Bl":M===2?"Wh":"")+"]",m?je+"("+k.cvt[je]+","+ce+")":"",te,"(d =",F,"->",Q*q,")"),k.rp1=k.rp0,k.rp2=te,b&&(k.rp0=te)}ja.prototype.exec=function(m,b){if(typeof b!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var S=this.font,j=this._prepState;if(!j||j.ppem!==b){var M=this._fpgmState;if(!M){mn.prototype=kc,(M=this._fpgmState=new mn("fpgm",S.tables.fpgm)).funcs=[],M.font=S,c.DEBUG&&(console.log("---EXEC FPGM---"),M.step=-1);try{Ln(M)}catch(ce){return console.log("Hinting error in FPGM:"+ce),void(this._errorState=3)}}mn.prototype=M,(j=this._prepState=new mn("prep",S.tables.prep)).ppem=b;var k=S.tables.cvt;if(k)for(var F=j.cvt=new Array(k.length),q=b/S.unitsPerEm,Q=0;Q<k.length;Q++)F[Q]=k[Q]*q;else j.cvt=[];c.DEBUG&&(console.log("---EXEC PREP---"),j.step=-1);try{Ln(j)}catch(ce){this._errorState<2&&console.log("Hinting error in PREP:"+ce),this._errorState=2}}if(!(1<this._errorState))try{return _a(m,j)}catch(ce){return this._errorState<1&&(console.log("Hinting error:"+ce),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},_a=function(m,b){var S,j,M,k=b.ppem/b.font.unitsPerEm,F=k,q=m.components;if(mn.prototype=b,q){var Q=b.font;j=[],S=[];for(var ce=0;ce<q.length;ce++){var ye=q[ce],je=Q.glyphs.get(ye.glyphIndex);M=new mn("glyf",je.instructions),c.DEBUG&&(console.log("---EXEC COMP "+ce+"---"),M.step=-1),Gs(je,M,k,F);for(var te=Math.round(ye.dx*k),Xe=Math.round(ye.dy*F),ze=M.gZone,Ne=M.contours,Ee=0;Ee<ze.length;Ee++){var Ie=ze[Ee];Ie.xTouched=Ie.yTouched=!1,Ie.xo=Ie.x=Ie.x+te,Ie.yo=Ie.y=Ie.y+Xe}var rt=j.length;j.push.apply(j,ze);for(var tt=0;tt<Ne.length;tt++)S.push(Ne[tt]+rt)}m.instructions&&!M.inhibitGridFit&&((M=new mn("glyf",m.instructions)).gZone=M.z0=M.z1=M.z2=j,M.contours=S,j.push(new en(0,0),new en(Math.round(m.advanceWidth*k),0)),c.DEBUG&&(console.log("---EXEC COMPOSITE---"),M.step=-1),Ln(M),j.length-=2)}else M=new mn("glyf",m.instructions),c.DEBUG&&(console.log("---EXEC GLYPH---"),M.step=-1),Gs(m,M,k,F),j=M.gZone;return j},Gs=function(m,b,S,j){for(var M,k,F,q=m.points||[],Q=q.length,ce=b.gZone=b.z0=b.z1=b.z2=[],ye=b.contours=[],je=0;je<Q;je++)M=q[je],ce[je]=new en(M.x*S,M.y*j,M.lastPointOfContour,M.onCurve);for(var te=0;te<Q;te++)M=ce[te],k||(k=M,ye.push(te)),M.lastPointOfContour?((M.nextPointOnContour=k).prevPointOnContour=M,k=void 0):(F=ce[te+1],(M.nextPointOnContour=F).prevPointOnContour=M);if(!b.inhibitGridFit){if(c.DEBUG){console.log("PROCESSING GLYPH",b.stack);for(var Xe=0;Xe<Q;Xe++)console.log(Xe,ce[Xe].x,ce[Xe].y)}if(ce.push(new en(0,0),new en(Math.round(m.advanceWidth*S),0)),Ln(b),ce.length-=2,c.DEBUG){console.log("FINISHED GLYPH",b.stack);for(var ze=0;ze<Q;ze++)console.log(ze,ce[ze].x,ce[ze].y)}}},Ln=function(m){var b=m.prog;if(b){var S,j=b.length;for(m.ip=0;m.ip<j;m.ip++){if(c.DEBUG&&m.step++,!(S=xa[b[m.ip]]))throw new Error("unknown instruction: 0x"+Number(b[m.ip]).toString(16));S(m)}}},xa=[Ma.bind(void 0,Jr),Ma.bind(void 0,Gr),Aa.bind(void 0,Jr),Aa.bind(void 0,Gr),Ra.bind(void 0,Jr),Ra.bind(void 0,Gr),Pa.bind(void 0,0),Pa.bind(void 0,1),Oa.bind(void 0,0),Oa.bind(void 0,1),function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"SPVFS[]",S,j),m.pv=m.dpv=_o(j,S)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"SPVFS[]",S,j),m.fv=_o(j,S)},function(m){var b=m.stack,S=m.pv;c.DEBUG&&console.log(m.step,"GPV[]"),b.push(16384*S.x),b.push(16384*S.y)},function(m){var b=m.stack,S=m.fv;c.DEBUG&&console.log(m.step,"GFV[]"),b.push(16384*S.x),b.push(16384*S.y)},function(m){m.fv=m.pv,c.DEBUG&&console.log(m.step,"SFVTPV[]")},function(m){var b=m.stack,S=b.pop(),j=b.pop(),M=b.pop(),k=b.pop(),F=b.pop(),q=m.z0,Q=m.z1,ce=q[S],ye=q[j],je=Q[M],te=Q[k],Xe=m.z2[F];c.DEBUG&&console.log("ISECT[], ",S,j,M,k,F);var ze=ce.x,Ne=ce.y,Ee=ye.x,Ie=ye.y,rt=je.x,tt=je.y,wt=te.x,st=te.y,lt=(ze-Ee)*(tt-st)-(Ne-Ie)*(rt-wt),zt=ze*Ie-Ne*Ee,St=rt*st-tt*wt;Xe.x=(zt*(rt-wt)-St*(ze-Ee))/lt,Xe.y=(zt*(tt-st)-St*(Ne-Ie))/lt},function(m){m.rp0=m.stack.pop(),c.DEBUG&&console.log(m.step,"SRP0[]",m.rp0)},function(m){m.rp1=m.stack.pop(),c.DEBUG&&console.log(m.step,"SRP1[]",m.rp1)},function(m){m.rp2=m.stack.pop(),c.DEBUG&&console.log(m.step,"SRP2[]",m.rp2)},function(m){var b=m.stack.pop();switch(c.DEBUG&&console.log(m.step,"SZP0[]",b),m.zp0=b){case 0:m.tZone||Wo(m),m.z0=m.tZone;break;case 1:m.z0=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){var b=m.stack.pop();switch(c.DEBUG&&console.log(m.step,"SZP1[]",b),m.zp1=b){case 0:m.tZone||Wo(m),m.z1=m.tZone;break;case 1:m.z1=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){var b=m.stack.pop();switch(c.DEBUG&&console.log(m.step,"SZP2[]",b),m.zp2=b){case 0:m.tZone||Wo(m),m.z2=m.tZone;break;case 1:m.z2=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){var b=m.stack.pop();switch(c.DEBUG&&console.log(m.step,"SZPS[]",b),m.zp0=m.zp1=m.zp2=b,b){case 0:m.tZone||Wo(m),m.z0=m.z1=m.z2=m.tZone;break;case 1:m.z0=m.z1=m.z2=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){m.loop=m.stack.pop(),c.DEBUG&&console.log(m.step,"SLOOP[]",m.loop)},function(m){c.DEBUG&&console.log(m.step,"RTG[]"),m.round=Ta},function(m){c.DEBUG&&console.log(m.step,"RTHG[]"),m.round=Rc},function(m){var b=m.stack.pop();c.DEBUG&&console.log(m.step,"SMD[]",b),m.minDis=b/64},function(m){c.DEBUG&&console.log(m.step,"ELSE[]"),Ea(m,!1)},function(m){var b=m.stack.pop();c.DEBUG&&console.log(m.step,"JMPR[]",b),m.ip+=b-1},function(m){var b=m.stack.pop();c.DEBUG&&console.log(m.step,"SCVTCI[]",b),m.cvCutIn=b/64},void 0,void 0,function(m){var b=m.stack;c.DEBUG&&console.log(m.step,"DUP[]"),b.push(b[b.length-1])},Vs,function(m){c.DEBUG&&console.log(m.step,"CLEAR[]"),m.stack.length=0},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"SWAP[]"),b.push(S),b.push(j)},function(m){var b=m.stack;c.DEBUG&&console.log(m.step,"DEPTH[]"),b.push(b.length)},function(m){var b=m.stack,S=b.pop();c.DEBUG&&console.log(m.step,"CINDEX[]",S),b.push(b[b.length-S])},function(m){var b=m.stack,S=b.pop();c.DEBUG&&console.log(m.step,"MINDEX[]",S),b.push(b.splice(b.length-S,1)[0])},void 0,void 0,void 0,function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"LOOPCALL[]",S,j);var M=m.ip,k=m.prog;m.prog=m.funcs[S];for(var F=0;F<j;F++)Ln(m),c.DEBUG&&console.log(++m.step,F+1<j?"next loopcall":"done loopcall",F);m.ip=M,m.prog=k},function(m){var b=m.stack.pop();c.DEBUG&&console.log(m.step,"CALL[]",b);var S=m.ip,j=m.prog;m.prog=m.funcs[b],Ln(m),m.ip=S,m.prog=j,c.DEBUG&&console.log(++m.step,"returning from",b)},function(m){if(m.env!=="fpgm")throw new Error("FDEF not allowed here");var b=m.stack,S=m.prog,j=m.ip,M=b.pop(),k=j;for(c.DEBUG&&console.log(m.step,"FDEF[]",M);S[++j]!==45;);m.ip=j,m.funcs[M]=S.slice(k+1,j)},void 0,ka.bind(void 0,0),ka.bind(void 0,1),La.bind(void 0,Jr),La.bind(void 0,Gr),Da.bind(void 0,0),Da.bind(void 0,1),Ia.bind(void 0,0),Ia.bind(void 0,1),Ba.bind(void 0,0),Ba.bind(void 0,1),function(m){for(var b=m.stack,S=m.loop,j=m.fv,M=b.pop()/64,k=m.z2;S--;){var F=b.pop(),q=k[F];c.DEBUG&&console.log(m.step,(1<m.loop?"loop "+(m.loop-S)+": ":"")+"SHPIX[]",F,M),j.setRelative(q,q,M),j.touch(q)}m.loop=1},function(m){for(var b=m.stack,S=m.rp1,j=m.rp2,M=m.loop,k=m.z0[S],F=m.z1[j],q=m.fv,Q=m.dpv,ce=m.z2;M--;){var ye=b.pop(),je=ce[ye];c.DEBUG&&console.log(m.step,(1<m.loop?"loop "+(m.loop-M)+": ":"")+"IP[]",ye,S,"<->",j),q.interpolate(je,k,F,Q),q.touch(je)}m.loop=1},Ua.bind(void 0,0),Ua.bind(void 0,1),function(m){for(var b=m.stack,S=m.rp0,j=m.z0[S],M=m.loop,k=m.fv,F=m.pv,q=m.z1;M--;){var Q=b.pop(),ce=q[Q];c.DEBUG&&console.log(m.step,(1<m.loop?"loop "+(m.loop-M)+": ":"")+"ALIGNRP[]",Q),k.setRelative(ce,j,0,F),k.touch(ce)}m.loop=1},function(m){c.DEBUG&&console.log(m.step,"RTDG[]"),m.round=Ac},Na.bind(void 0,0),Na.bind(void 0,1),function(m){var b=m.prog,S=m.ip,j=m.stack,M=b[++S];c.DEBUG&&console.log(m.step,"NPUSHB[]",M);for(var k=0;k<M;k++)j.push(b[++S]);m.ip=S},function(m){var b=m.ip,S=m.prog,j=m.stack,M=S[++b];c.DEBUG&&console.log(m.step,"NPUSHW[]",M);for(var k=0;k<M;k++){var F=S[++b]<<8|S[++b];32768&F&&(F=-(1+(65535^F))),j.push(F)}m.ip=b},function(m){var b=m.stack,S=m.store;S=S||(m.store=[]);var j=b.pop(),M=b.pop();c.DEBUG&&console.log(m.step,"WS",j,M),S[M]=j},function(m){var b=m.stack,S=m.store,j=b.pop();c.DEBUG&&console.log(m.step,"RS",j);var M=S&&S[j]||0;b.push(M)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"WCVTP",S,j),m.cvt[j]=S/64},function(m){var b=m.stack,S=b.pop();c.DEBUG&&console.log(m.step,"RCVT",S),b.push(64*m.cvt[S])},Fa.bind(void 0,0),Fa.bind(void 0,1),void 0,Ga.bind(void 0,0),Ga.bind(void 0,1),function(m){c.DEBUG&&console.log(m.step,"MPPEM[]"),m.stack.push(m.ppem)},void 0,function(m){c.DEBUG&&console.log(m.step,"FLIPON[]"),m.autoFlip=!0},void 0,void 0,function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"LT[]",S,j),b.push(j<S?1:0)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"LTEQ[]",S,j),b.push(j<=S?1:0)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"GT[]",S,j),b.push(S<j?1:0)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"GTEQ[]",S,j),b.push(S<=j?1:0)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"EQ[]",S,j),b.push(S===j?1:0)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"NEQ[]",S,j),b.push(S!==j?1:0)},function(m){var b=m.stack,S=b.pop();c.DEBUG&&console.log(m.step,"ODD[]",S),b.push(Math.trunc(S)%2?1:0)},function(m){var b=m.stack,S=b.pop();c.DEBUG&&console.log(m.step,"EVEN[]",S),b.push(Math.trunc(S)%2?0:1)},function(m){var b=m.stack.pop();c.DEBUG&&console.log(m.step,"IF[]",b),b||(Ea(m,!0),c.DEBUG&&console.log(m.step,"EIF[]"))},function(m){c.DEBUG&&console.log(m.step,"EIF[]")},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"AND[]",S,j),b.push(S&&j?1:0)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"OR[]",S,j),b.push(S||j?1:0)},function(m){var b=m.stack,S=b.pop();c.DEBUG&&console.log(m.step,"NOT[]",S),b.push(S?0:1)},Hs.bind(void 0,1),function(m){var b=m.stack.pop();c.DEBUG&&console.log(m.step,"SDB[]",b),m.deltaBase=b},function(m){var b=m.stack.pop();c.DEBUG&&console.log(m.step,"SDS[]",b),m.deltaShift=Math.pow(.5,b)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"ADD[]",S,j),b.push(j+S)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"SUB[]",S,j),b.push(j-S)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"DIV[]",S,j),b.push(64*j/S)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"MUL[]",S,j),b.push(j*S/64)},function(m){var b=m.stack,S=b.pop();c.DEBUG&&console.log(m.step,"ABS[]",S),b.push(Math.abs(S))},function(m){var b=m.stack,S=b.pop();c.DEBUG&&console.log(m.step,"NEG[]",S),b.push(-S)},function(m){var b=m.stack,S=b.pop();c.DEBUG&&console.log(m.step,"FLOOR[]",S),b.push(64*Math.floor(S/64))},function(m){var b=m.stack,S=b.pop();c.DEBUG&&console.log(m.step,"CEILING[]",S),b.push(64*Math.ceil(S/64))},zo.bind(void 0,0),zo.bind(void 0,1),zo.bind(void 0,2),zo.bind(void 0,3),void 0,void 0,void 0,void 0,function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"WCVTF[]",S,j),m.cvt[j]=S*m.ppem/m.font.unitsPerEm},Hs.bind(void 0,2),Hs.bind(void 0,3),Ws.bind(void 0,1),Ws.bind(void 0,2),Ws.bind(void 0,3),function(m){var b,S=m.stack.pop();switch(c.DEBUG&&console.log(m.step,"SROUND[]",S),m.round=Ca,192&S){case 0:b=.5;break;case 64:b=1;break;case 128:b=2;break;default:throw new Error("invalid SROUND value")}switch(m.srPeriod=b,48&S){case 0:m.srPhase=0;break;case 16:m.srPhase=.25*b;break;case 32:m.srPhase=.5*b;break;case 48:m.srPhase=.75*b;break;default:throw new Error("invalid SROUND value")}S&=15,m.srThreshold=S===0?0:(S/8-.5)*b},function(m){var b,S=m.stack.pop();switch(c.DEBUG&&console.log(m.step,"S45ROUND[]",S),m.round=Ca,192&S){case 0:b=Math.sqrt(2)/2;break;case 64:b=Math.sqrt(2);break;case 128:b=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(m.srPeriod=b,48&S){case 0:m.srPhase=0;break;case 16:m.srPhase=.25*b;break;case 32:m.srPhase=.5*b;break;case 48:m.srPhase=.75*b;break;default:throw new Error("invalid S45ROUND value")}S&=15,m.srThreshold=S===0?0:(S/8-.5)*b},void 0,void 0,function(m){c.DEBUG&&console.log(m.step,"ROFF[]"),m.round=Mc},void 0,function(m){c.DEBUG&&console.log(m.step,"RUTG[]"),m.round=Pc},function(m){c.DEBUG&&console.log(m.step,"RDTG[]"),m.round=Oc},Vs,Vs,void 0,void 0,void 0,void 0,void 0,function(m){var b=m.stack.pop();c.DEBUG&&console.log(m.step,"SCANCTRL[]",b)},Va.bind(void 0,0),Va.bind(void 0,1),function(m){var b=m.stack,S=b.pop(),j=0;c.DEBUG&&console.log(m.step,"GETINFO[]",S),1&S&&(j=35),32&S&&(j|=4096),b.push(j)},void 0,function(m){var b=m.stack,S=b.pop(),j=b.pop(),M=b.pop();c.DEBUG&&console.log(m.step,"ROLL[]"),b.push(j),b.push(S),b.push(M)},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"MAX[]",S,j),b.push(Math.max(j,S))},function(m){var b=m.stack,S=b.pop(),j=b.pop();c.DEBUG&&console.log(m.step,"MIN[]",S,j),b.push(Math.min(j,S))},function(m){var b=m.stack.pop();c.DEBUG&&console.log(m.step,"SCANTYPE[]",b)},function(m){var b=m.stack.pop(),S=m.stack.pop();switch(c.DEBUG&&console.log(m.step,"INSTCTRL[]",b,S),b){case 1:return void(m.inhibitGridFit=!!S);case 2:return void(m.ignoreCvt=!!S);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,gn.bind(void 0,1),gn.bind(void 0,2),gn.bind(void 0,3),gn.bind(void 0,4),gn.bind(void 0,5),gn.bind(void 0,6),gn.bind(void 0,7),gn.bind(void 0,8),yn.bind(void 0,1),yn.bind(void 0,2),yn.bind(void 0,3),yn.bind(void 0,4),yn.bind(void 0,5),yn.bind(void 0,6),yn.bind(void 0,7),yn.bind(void 0,8),nt.bind(void 0,0,0,0,0,0),nt.bind(void 0,0,0,0,0,1),nt.bind(void 0,0,0,0,0,2),nt.bind(void 0,0,0,0,0,3),nt.bind(void 0,0,0,0,1,0),nt.bind(void 0,0,0,0,1,1),nt.bind(void 0,0,0,0,1,2),nt.bind(void 0,0,0,0,1,3),nt.bind(void 0,0,0,1,0,0),nt.bind(void 0,0,0,1,0,1),nt.bind(void 0,0,0,1,0,2),nt.bind(void 0,0,0,1,0,3),nt.bind(void 0,0,0,1,1,0),nt.bind(void 0,0,0,1,1,1),nt.bind(void 0,0,0,1,1,2),nt.bind(void 0,0,0,1,1,3),nt.bind(void 0,0,1,0,0,0),nt.bind(void 0,0,1,0,0,1),nt.bind(void 0,0,1,0,0,2),nt.bind(void 0,0,1,0,0,3),nt.bind(void 0,0,1,0,1,0),nt.bind(void 0,0,1,0,1,1),nt.bind(void 0,0,1,0,1,2),nt.bind(void 0,0,1,0,1,3),nt.bind(void 0,0,1,1,0,0),nt.bind(void 0,0,1,1,0,1),nt.bind(void 0,0,1,1,0,2),nt.bind(void 0,0,1,1,0,3),nt.bind(void 0,0,1,1,1,0),nt.bind(void 0,0,1,1,1,1),nt.bind(void 0,0,1,1,1,2),nt.bind(void 0,0,1,1,1,3),nt.bind(void 0,1,0,0,0,0),nt.bind(void 0,1,0,0,0,1),nt.bind(void 0,1,0,0,0,2),nt.bind(void 0,1,0,0,0,3),nt.bind(void 0,1,0,0,1,0),nt.bind(void 0,1,0,0,1,1),nt.bind(void 0,1,0,0,1,2),nt.bind(void 0,1,0,0,1,3),nt.bind(void 0,1,0,1,0,0),nt.bind(void 0,1,0,1,0,1),nt.bind(void 0,1,0,1,0,2),nt.bind(void 0,1,0,1,0,3),nt.bind(void 0,1,0,1,1,0),nt.bind(void 0,1,0,1,1,1),nt.bind(void 0,1,0,1,1,2),nt.bind(void 0,1,0,1,1,3),nt.bind(void 0,1,1,0,0,0),nt.bind(void 0,1,1,0,0,1),nt.bind(void 0,1,1,0,0,2),nt.bind(void 0,1,1,0,0,3),nt.bind(void 0,1,1,0,1,0),nt.bind(void 0,1,1,0,1,1),nt.bind(void 0,1,1,0,1,2),nt.bind(void 0,1,1,0,1,3),nt.bind(void 0,1,1,1,0,0),nt.bind(void 0,1,1,1,0,1),nt.bind(void 0,1,1,1,0,2),nt.bind(void 0,1,1,1,0,3),nt.bind(void 0,1,1,1,1,0),nt.bind(void 0,1,1,1,1,1),nt.bind(void 0,1,1,1,1,2),nt.bind(void 0,1,1,1,1,3)];var Lc=Array.from||function(m){return m.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Bt(m){(m=m||{}).empty||(Jn(m.familyName,"When creating a new Font object, familyName is required."),Jn(m.styleName,"When creating a new Font object, styleName is required."),Jn(m.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Jn(m.ascender,"When creating a new Font object, ascender is required."),Jn(m.descender,"When creating a new Font object, descender is required."),Jn(m.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:m.familyName||" "},fontSubfamily:{en:m.styleName||" "},fullName:{en:m.fullName||m.familyName+" "+m.styleName},postScriptName:{en:m.postScriptName||(m.familyName+m.styleName).replace(/\s/g,"")},designer:{en:m.designer||" "},designerURL:{en:m.designerURL||" "},manufacturer:{en:m.manufacturer||" "},manufacturerURL:{en:m.manufacturerURL||" "},license:{en:m.license||" "},licenseURL:{en:m.licenseURL||" "},version:{en:m.version||"Version 0.1"},description:{en:m.description||" "},copyright:{en:m.copyright||" "},trademark:{en:m.trademark||" "}},this.unitsPerEm=m.unitsPerEm||1e3,this.ascender=m.ascender,this.descender=m.descender,this.createdTimestamp=m.createdTimestamp,this.tables={os2:{usWeightClass:m.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:m.widthClass||this.usWidthClasses.MEDIUM,fsSelection:m.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ft.GlyphSet(this,m.glyphs||[]),this.encoding=new Oe(this),this.position=new Ho(this),this.substitution=new Fr(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:this.outlinesFormat==="truetype"?this._hinting=new ja(this):void 0}})}function Ha(m,b){var S=JSON.stringify(m),j=256;for(var M in b){var k=parseInt(M);if(k&&!(k<256)){if(JSON.stringify(b[M])===S)return k;j<=k&&(j=k+1)}}return b[j]=m,j}function Dc(m,b,S,j){for(var M=[{name:"nameID_"+m,type:"USHORT",value:Ha(b.name,j)},{name:"flags_"+m,type:"USHORT",value:0}],k=0;k<S.length;++k){var F=S[k].tag;M.push({name:"axis_"+m+" "+F,type:"FIXED",value:b.coordinates[F]<<16})}return M}function Ic(m,b,S,j){var M={},k=new V.Parser(m,b);M.name=j[k.parseUShort()]||{},k.skip("uShort",1),M.coordinates={};for(var F=0;F<S.length;++F)M.coordinates[S[F].tag]=k.parseFixed();return M}Bt.prototype.hasChar=function(m){return this.encoding.charToGlyphIndex(m)!==null},Bt.prototype.charToGlyphIndex=function(m){return this.encoding.charToGlyphIndex(m)},Bt.prototype.charToGlyph=function(m){var b=this.charToGlyphIndex(m),S=this.glyphs.get(b);return S=S||this.glyphs.get(0)},Bt.prototype.stringToGlyphs=function(m,b){b=b||this.defaultRenderOptions;for(var S=Lc(m),j=[],M=0;M<S.length;M+=1){var k=S[M];j.push(this.charToGlyphIndex(k))}var F=j.length;if(b.features){var q=b.script||this.substitution.getDefaultScriptName(),Q=[];b.features.liga&&(Q=Q.concat(this.substitution.getFeature("liga",q,b.language))),b.features.rlig&&(Q=Q.concat(this.substitution.getFeature("rlig",q,b.language)));for(var ce=0;ce<F;ce+=1)for(var ye=0;ye<Q.length;ye++){for(var je=Q[ye],te=je.sub,Xe=te.length,ze=0;ze<Xe&&te[ze]===j[ce+ze];)ze++;ze===Xe&&(j.splice(ce,Xe,je.by),F=F-Xe+1)}}for(var Ne=new Array(F),Ee=this.glyphs.get(0),Ie=0;Ie<F;Ie+=1)Ne[Ie]=this.glyphs.get(j[Ie])||Ee;return Ne},Bt.prototype.nameToGlyphIndex=function(m){return this.glyphNames.nameToGlyphIndex(m)},Bt.prototype.nameToGlyph=function(m){var b=this.nameToGlyphIndex(m),S=this.glyphs.get(b);return S=S||this.glyphs.get(0)},Bt.prototype.glyphIndexToName=function(m){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(m):""},Bt.prototype.getKerningValue=function(m,b){m=m.index||m,b=b.index||b;var S=this.position.defaultKerningTables;return S?this.position.getKerningValue(S,m,b):this.kerningPairs[m+","+b]||0},Bt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Bt.prototype.forEachGlyph=function(m,b,S,j,M,k){b=b!==void 0?b:0,S=S!==void 0?S:0,j=j!==void 0?j:72,M=M||this.defaultRenderOptions;var F,q=1/this.unitsPerEm*j,Q=this.stringToGlyphs(m,M);if(M.kerning){var ce=M.script||this.position.getDefaultScriptName();F=this.position.getKerningTables(ce,M.language)}for(var ye=0;ye<Q.length;ye+=1){var je=Q[ye];k.call(this,je,b,S,j,M),je.advanceWidth&&(b+=je.advanceWidth*q),M.kerning&&ye<Q.length-1&&(b+=(F?this.position.getKerningValue(F,je.index,Q[ye+1].index):this.getKerningValue(je,Q[ye+1]))*q),M.letterSpacing?b+=M.letterSpacing*j:M.tracking&&(b+=M.tracking/1e3*j)}return b},Bt.prototype.getPath=function(m,b,S,j,M){var k=new me;return this.forEachGlyph(m,b,S,j,M,function(F,q,Q,ce){var ye=F.getPath(q,Q,ce,M,this);k.extend(ye)}),k},Bt.prototype.getPaths=function(m,b,S,j,M){var k=[];return this.forEachGlyph(m,b,S,j,M,function(F,q,Q,ce){var ye=F.getPath(q,Q,ce,M,this);k.push(ye)}),k},Bt.prototype.getAdvanceWidth=function(m,b,S){return this.forEachGlyph(m,0,0,b,S,function(){})},Bt.prototype.draw=function(m,b,S,j,M,k){this.getPath(b,S,j,M,k).draw(m)},Bt.prototype.drawPoints=function(m,b,S,j,M,k){this.forEachGlyph(b,S,j,M,k,function(F,q,Q,ce){F.drawPoints(m,q,Q,ce)})},Bt.prototype.drawMetrics=function(m,b,S,j,M,k){this.forEachGlyph(b,S,j,M,k,function(F,q,Q,ce){F.drawMetrics(m,q,Q,ce)})},Bt.prototype.getEnglishName=function(m){var b=this.names[m];if(b)return b.en},Bt.prototype.validate=function(){var m=this;function b(S){var j=m.getEnglishName(S);j&&j.trim().length}b("fontFamily"),b("weightName"),b("manufacturer"),b("copyright"),b("version"),this.unitsPerEm},Bt.prototype.toTables=function(){return jc.fontToTable(this)},Bt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Bt.prototype.toArrayBuffer=function(){for(var m=this.toTables().encode(),b=new ArrayBuffer(m.length),S=new Uint8Array(b),j=0;j<m.length;j++)S[j]=m[j];return b},Bt.prototype.download=function(m){var b=this.getEnglishName("fontFamily"),S=this.getEnglishName("fontSubfamily");m=m||b.replace(/\s/g,"")+"-"+S+".otf";var j=this.toArrayBuffer();if(typeof window<"u")window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,j.byteLength,function(F){F.root.getFile(m,{create:!0},function(q){q.createWriter(function(Q){var ce=new DataView(j),ye=new Blob([ce],{type:"font/opentype"});Q.write(ye),Q.addEventListener("writeend",function(){location.href=q.toURL()},!1)})})},function(F){throw new Error(F.name+": "+F.message)});else{var M=e("fs"),k=function(F){for(var q=new h(F.byteLength),Q=new Uint8Array(F),ce=0;ce<q.length;++ce)q[ce]=Q[ce];return q}(j);M.writeFileSync(m,k)}},Bt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Bt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Bt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Bc={make:function(m,b){var S,j,M,k,F=new Le.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:m.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:m.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*m.axes.length}]);F.offsetToData=F.sizeOf();for(var q=0;q<m.axes.length;q++)F.fields=F.fields.concat((S=q,j=m.axes[q],M=b,k=Ha(j.name,M),[{name:"tag_"+S,type:"TAG",value:j.tag},{name:"minValue_"+S,type:"FIXED",value:j.minValue<<16},{name:"defaultValue_"+S,type:"FIXED",value:j.defaultValue<<16},{name:"maxValue_"+S,type:"FIXED",value:j.maxValue<<16},{name:"flags_"+S,type:"USHORT",value:0},{name:"nameID_"+S,type:"USHORT",value:k}]));for(var Q=0;Q<m.instances.length;Q++)F.fields=F.fields.concat(Dc(Q,m.instances[Q],m.axes,b));return F},parse:function(m,b,S){var j=new V.Parser(m,b),M=j.parseULong();ve.argument(M===65536,"Unsupported fvar table version.");var k=j.parseOffset16();j.skip("uShort",1);for(var F,q,Q,ce,ye,je=j.parseUShort(),te=j.parseUShort(),Xe=j.parseUShort(),ze=j.parseUShort(),Ne=[],Ee=0;Ee<je;Ee++)Ne.push((F=m,q=b+k+Ee*te,Q=S,ye=ce=void 0,ce={},ye=new V.Parser(F,q),ce.tag=ye.parseTag(),ce.minValue=ye.parseFixed(),ce.defaultValue=ye.parseFixed(),ce.maxValue=ye.parseFixed(),ye.skip("uShort",1),ce.name=Q[ye.parseUShort()]||{},ce));for(var Ie=[],rt=b+k+je*te,tt=0;tt<Xe;tt++)Ie.push(Ic(m,rt+tt*ze,Ne,S));return{axes:Ne,instances:Ie}}},Rr=new Array(10);Rr[1]=function(){var m=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{posFormat:1,coverage:this.parsePointer(be.coverage),value:this.parseValueRecord()}:b===2?{posFormat:2,coverage:this.parsePointer(be.coverage),values:this.parseValueRecordList()}:void ve.assert(!1,"0x"+m.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Rr[2]=function(){var m=this.offset+this.relativeOffset,b=this.parseUShort();ve.assert(b===1||b===2,"0x"+m.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var S=this.parsePointer(be.coverage),j=this.parseUShort(),M=this.parseUShort();if(b===1)return{posFormat:b,coverage:S,valueFormat1:j,valueFormat2:M,pairSets:this.parseList(be.pointer(be.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(j),value2:this.parseValueRecord(M)}})))};if(b===2){var k=this.parsePointer(be.classDef),F=this.parsePointer(be.classDef),q=this.parseUShort(),Q=this.parseUShort();return{posFormat:b,coverage:S,valueFormat1:j,valueFormat2:M,classDef1:k,classDef2:F,class1Count:q,class2Count:Q,classRecords:this.parseList(q,be.list(Q,function(){return{value1:this.parseValueRecord(j),value2:this.parseValueRecord(M)}}))}}},Rr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Rr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Rr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Rr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Rr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Rr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Rr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Uc=new Array(10),Nc={parse:function(m,b){var S=new be(m,b=b||0),j=S.parseVersion(1);return ve.argument(j===1||j===1.1,"Unsupported GPOS table version "+j),j===1?{version:j,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Rr)}:{version:j,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Rr),variations:S.parseFeatureVariationsList()}},make:function(m){return new Le.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Le.ScriptList(m.scripts)},{name:"features",type:"TABLE",value:new Le.FeatureList(m.features)},{name:"lookups",type:"TABLE",value:new Le.LookupList(m.lookups,Uc)}])}},Fc={parse:function(m,b){var S=new V.Parser(m,b),j=S.parseUShort();if(j===0)return function(M){var k={};M.skip("uShort");var F=M.parseUShort();ve.argument(F===0,"Unsupported kern sub-table version."),M.skip("uShort",2);var q=M.parseUShort();M.skip("uShort",3);for(var Q=0;Q<q;Q+=1){var ce=M.parseUShort(),ye=M.parseUShort(),je=M.parseShort();k[ce+","+ye]=je}return k}(S);if(j===1)return function(M){var k={};M.skip("uShort"),1<M.parseULong()&&console.warn("Only the first kern subtable is supported."),M.skip("uLong");var F=255&M.parseUShort();if(M.skip("uShort"),F==0){var q=M.parseUShort();M.skip("uShort",3);for(var Q=0;Q<q;Q+=1){var ce=M.parseUShort(),ye=M.parseUShort(),je=M.parseShort();k[ce+","+ye]=je}}return k}(S);throw new Error("Unsupported kern table version ("+j+").")}},Gc={parse:function(m,b,S,j){for(var M=new V.Parser(m,b),k=j?M.parseUShort:M.parseULong,F=[],q=0;q<S+1;q+=1){var Q=k.call(M);j&&(Q*=2),F.push(Q)}return F}};function Vc(m,b){e("fs").readFile(m,function(S,j){if(S)return b(S.message);b(null,va(j))})}function Hc(m,b){var S=new XMLHttpRequest;S.open("get",m,!0),S.responseType="arraybuffer",S.onload=function(){return S.response?b(null,S.response):b("Font could not be loaded: "+S.statusText)},S.onerror=function(){b("Font could not be loaded")},S.send()}function Wa(m,b){for(var S=[],j=12,M=0;M<b;M+=1){var k=V.getTag(m,j),F=V.getULong(m,j+4),q=V.getULong(m,j+8),Q=V.getULong(m,j+12);S.push({tag:k,checksum:F,offset:q,length:Q,compression:!1}),j+=16}return S}function Jt(m,b){if(b.compression!=="WOFF")return{data:m,offset:b.offset};var S=new Uint8Array(m.buffer,b.offset+2,b.compressedLength-2),j=new Uint8Array(b.length);if(J(S,j),j.byteLength!==b.length)throw new Error("Decompression error: "+b.tag+" decompressed length doesn't match recorded length");return{data:new DataView(j.buffer,0),offset:0}}function zs(m){var b,S,j,M,k,F,q,Q,ce,ye,je,te,Xe,ze,Ne=new Bt({empty:!0}),Ee=new DataView(m,0),Ie=[],rt=V.getTag(Ee,0);if(rt===String.fromCharCode(0,1,0,0)||rt==="true"||rt==="typ1")Ne.outlinesFormat="truetype",Ie=Wa(Ee,j=V.getUShort(Ee,4));else if(rt==="OTTO")Ne.outlinesFormat="cff",Ie=Wa(Ee,j=V.getUShort(Ee,4));else{if(rt!=="wOFF")throw new Error("Unsupported OpenType signature "+rt);var tt=V.getTag(Ee,4);if(tt===String.fromCharCode(0,1,0,0))Ne.outlinesFormat="truetype";else{if(tt!=="OTTO")throw new Error("Unsupported OpenType flavor "+rt);Ne.outlinesFormat="cff"}Ie=function(Et,Zt){for(var Ut=[],Nt=44,Vr=0;Vr<Zt;Vr+=1){var eo=V.getTag(Et,Nt),Dn=V.getULong(Et,Nt+4),yr=V.getULong(Et,Nt+8),In=V.getULong(Et,Nt+12),to=void 0;to=yr<In&&"WOFF",Ut.push({tag:eo,offset:Dn,compression:to,compressedLength:yr,length:In}),Nt+=20}return Ut}(Ee,j=V.getUShort(Ee,12))}for(var wt=0;wt<j;wt+=1){var st=Ie[wt],lt=void 0;switch(st.tag){case"cmap":lt=Jt(Ee,st),Ne.tables.cmap=Z.parse(lt.data,lt.offset),Ne.encoding=new Ve(Ne.tables.cmap);break;case"cvt ":lt=Jt(Ee,st),ze=new V.Parser(lt.data,lt.offset),Ne.tables.cvt=ze.parseShortList(st.length/2);break;case"fvar":k=st;break;case"fpgm":lt=Jt(Ee,st),ze=new V.Parser(lt.data,lt.offset),Ne.tables.fpgm=ze.parseByteList(st.length);break;case"head":lt=Jt(Ee,st),Ne.tables.head=et.parse(lt.data,lt.offset),Ne.unitsPerEm=Ne.tables.head.unitsPerEm,b=Ne.tables.head.indexToLocFormat;break;case"hhea":lt=Jt(Ee,st),Ne.tables.hhea=Fe.parse(lt.data,lt.offset),Ne.ascender=Ne.tables.hhea.ascender,Ne.descender=Ne.tables.hhea.descender,Ne.numberOfHMetrics=Ne.tables.hhea.numberOfHMetrics;break;case"hmtx":ce=st;break;case"ltag":lt=Jt(Ee,st),S=Mt.parse(lt.data,lt.offset);break;case"maxp":lt=Jt(Ee,st),Ne.tables.maxp=kt.parse(lt.data,lt.offset),Ne.numGlyphs=Ne.tables.maxp.numGlyphs;break;case"name":te=st;break;case"OS/2":lt=Jt(Ee,st),Ne.tables.os2=Bs.parse(lt.data,lt.offset);break;case"post":lt=Jt(Ee,st),Ne.tables.post=la.parse(lt.data,lt.offset),Ne.glyphNames=new Ye(Ne.tables.post);break;case"prep":lt=Jt(Ee,st),ze=new V.Parser(lt.data,lt.offset),Ne.tables.prep=ze.parseByteList(st.length);break;case"glyf":F=st;break;case"loca":je=st;break;case"CFF ":M=st;break;case"kern":ye=st;break;case"GPOS":q=st;break;case"GSUB":Q=st;break;case"meta":Xe=st}}var zt=Jt(Ee,te);if(Ne.tables.name=aa.parse(zt.data,zt.offset,S),Ne.names=Ne.tables.name,F&&je){var St=b===0,xt=Jt(Ee,je),jt=Gc.parse(xt.data,xt.offset,Ne.numGlyphs,St),Lt=Jt(Ee,F);Ne.glyphs=Sa.parse(Lt.data,Lt.offset,jt,Ne)}else{if(!M)throw new Error("Font doesn't contain TrueType or CFF outlines.");var Pt=Jt(Ee,M);We.parse(Pt.data,Pt.offset,Ne)}var Vt=Jt(Ee,ce);if(_t.parse(Vt.data,Vt.offset,Ne.numberOfHMetrics,Ne.numGlyphs,Ne.glyphs),function(Et){for(var Zt,Ut=Et.tables.cmap.glyphIndexMap,Nt=Object.keys(Ut),Vr=0;Vr<Nt.length;Vr+=1){var eo=Nt[Vr],Dn=Ut[eo];(Zt=Et.glyphs.get(Dn)).addUnicode(parseInt(eo))}for(var yr=0;yr<Et.glyphs.length;yr+=1)Zt=Et.glyphs.get(yr),Et.cffEncoding?Et.isCIDFont?Zt.name="gid"+yr:Zt.name=Et.cffEncoding.charset[yr]:Et.glyphNames.names&&(Zt.name=Et.glyphNames.glyphIndexToName(yr))}(Ne),ye){var Dt=Jt(Ee,ye);Ne.kerningPairs=Fc.parse(Dt.data,Dt.offset)}else Ne.kerningPairs={};if(q){var Ot=Jt(Ee,q);Ne.tables.gpos=Nc.parse(Ot.data,Ot.offset),Ne.position.init()}if(Q){var Ht=Jt(Ee,Q);Ne.tables.gsub=ua.parse(Ht.data,Ht.offset)}if(k){var It=Jt(Ee,k);Ne.tables.fvar=Bc.parse(It.data,It.offset,Ne.names)}if(Xe){var Kt=Jt(Ee,Xe);Ne.tables.meta=ca.parse(Kt.data,Kt.offset),Ne.metas=Ne.tables.meta}return Ne}c.Font=Bt,c.Glyph=dt,c.Path=me,c.BoundingBox=se,c._parse=V,c.parse=zs,c.load=function(m,b){(typeof window>"u"?Vc:Hc)(m,function(S,j){if(S)return b(S);var M;try{M=zs(j)}catch(k){return b(k,null)}return b(null,M)})},c.loadSync=function(m){return zs(va(e("fs").readFileSync(m)))},Object.defineProperty(c,"__esModule",{value:!0})},u(typeof g=="object"&&v!==void 0?g:t.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],240:[function(e,v,g){(function(h){function t(f,d){for(var n=0,r=f.length-1;0<=r;r--){var o=f[r];o==="."?f.splice(r,1):o===".."?(f.splice(r,1),n++):n&&(f.splice(r,1),n--)}if(d)for(;n--;)f.unshift("..");return f}function u(f,d){if(f.filter)return f.filter(d);for(var n=[],r=0;r<f.length;r++)d(f[r],r,f)&&n.push(f[r]);return n}g.resolve=function(){for(var f="",d=!1,n=arguments.length-1;-1<=n&&!d;n--){var r=0<=n?arguments[n]:h.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");r&&(f=r+"/"+f,d=r.charAt(0)==="/")}return(d?"/":"")+(f=t(u(f.split("/"),function(o){return!!o}),!d).join("/"))||"."},g.normalize=function(f){var d=g.isAbsolute(f),n=c(f,-1)==="/";return(f=t(u(f.split("/"),function(r){return!!r}),!d).join("/"))||d||(f="."),f&&n&&(f+="/"),(d?"/":"")+f},g.isAbsolute=function(f){return f.charAt(0)==="/"},g.join=function(){var f=Array.prototype.slice.call(arguments,0);return g.normalize(u(f,function(d,n){if(typeof d!="string")throw new TypeError("Arguments to path.join must be strings");return d}).join("/"))},g.relative=function(f,d){function n(x){for(var _=0;_<x.length&&x[_]==="";_++);for(var T=x.length-1;0<=T&&x[T]==="";T--);return T<_?[]:x.slice(_,T-_+1)}f=g.resolve(f).substr(1),d=g.resolve(d).substr(1);for(var r=n(f.split("/")),o=n(d.split("/")),i=Math.min(r.length,o.length),a=i,y=0;y<i;y++)if(r[y]!==o[y]){a=y;break}var w=[];for(y=a;y<r.length;y++)w.push("..");return(w=w.concat(o.slice(a))).join("/")},g.sep="/",g.delimiter=":",g.dirname=function(f){if(typeof f!="string"&&(f+=""),f.length===0)return".";for(var d=f.charCodeAt(0),n=d===47,r=-1,o=!0,i=f.length-1;1<=i;--i)if((d=f.charCodeAt(i))===47){if(!o){r=i;break}}else o=!1;return r===-1?n?"/":".":n&&r===1?"/":f.slice(0,r)},g.basename=function(f,d){var n=function(r){typeof r!="string"&&(r+="");var o,i=0,a=-1,y=!0;for(o=r.length-1;0<=o;--o)if(r.charCodeAt(o)===47){if(!y){i=o+1;break}}else a===-1&&(y=!1,a=o+1);return a===-1?"":r.slice(i,a)}(f);return d&&n.substr(-1*d.length)===d&&(n=n.substr(0,n.length-d.length)),n},g.extname=function(f){typeof f!="string"&&(f+="");for(var d=-1,n=0,r=-1,o=!0,i=0,a=f.length-1;0<=a;--a){var y=f.charCodeAt(a);if(y===47){if(o)continue;n=a+1;break}r===-1&&(o=!1,r=a+1),y===46?d===-1?d=a:i!==1&&(i=1):d!==-1&&(i=-1)}return d===-1||r===-1||i===0||i===1&&d===r-1&&d===n+1?"":f.slice(d,r)};var c="ab".substr(-1)==="b"?function(f,d,n){return f.substr(d,n)}:function(f,d,n){return d<0&&(d=f.length+d),f.substr(d,n)}}).call(this,e("_process"))},{_process:241}],241:[function(e,v,g){var h,t,u=v.exports={};function c(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function d(_){if(h===setTimeout)return setTimeout(_,0);if((h===c||!h)&&setTimeout)return h=setTimeout,setTimeout(_,0);try{return h(_,0)}catch{try{return h.call(null,_,0)}catch{return h.call(this,_,0)}}}(function(){try{h=typeof setTimeout=="function"?setTimeout:c}catch{h=c}try{t=typeof clearTimeout=="function"?clearTimeout:f}catch{t=f}})();var n,r=[],o=!1,i=-1;function a(){o&&n&&(o=!1,n.length?r=n.concat(r):i=-1,r.length&&y())}function y(){if(!o){var _=d(a);o=!0;for(var T=r.length;T;){for(n=r,r=[];++i<T;)n&&n[i].run();i=-1,T=r.length}n=null,o=!1,function(E){if(t===clearTimeout)return clearTimeout(E);if((t===f||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(E);try{t(E)}catch{try{return t.call(null,E)}catch{return t.call(this,E)}}}(_)}}function w(_,T){this.fun=_,this.array=T}function x(){}u.nextTick=function(_){var T=new Array(arguments.length-1);if(1<arguments.length)for(var E=1;E<arguments.length;E++)T[E-1]=arguments[E];r.push(new w(_,T)),r.length!==1||o||d(y)},w.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=x,u.addListener=x,u.once=x,u.off=x,u.removeListener=x,u.removeAllListeners=x,u.emit=x,u.prependListener=x,u.prependOnceListener=x,u.listeners=function(_){return[]},u.binding=function(_){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(_){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],242:[function(e,v,g){(function(h){if(!h.fetch){var t="URLSearchParams"in h,u="Symbol"in h&&"iterator"in Symbol,c="FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),f="FormData"in h,d="ArrayBuffer"in h;if(d)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(D){return D&&DataView.prototype.isPrototypeOf(D)},o=ArrayBuffer.isView||function(D){return D&&-1<n.indexOf(Object.prototype.toString.call(D))};_.prototype.append=function(D,H){D=y(D),H=w(H);var W=this.map[D];this.map[D]=W?W+","+H:H},_.prototype.delete=function(D){delete this.map[y(D)]},_.prototype.get=function(D){return D=y(D),this.has(D)?this.map[D]:null},_.prototype.has=function(D){return this.map.hasOwnProperty(y(D))},_.prototype.set=function(D,H){this.map[y(D)]=w(H)},_.prototype.forEach=function(D,H){for(var W in this.map)this.map.hasOwnProperty(W)&&D.call(H,this.map[W],W,this)},_.prototype.keys=function(){var D=[];return this.forEach(function(H,W){D.push(W)}),x(D)},_.prototype.values=function(){var D=[];return this.forEach(function(H){D.push(H)}),x(D)},_.prototype.entries=function(){var D=[];return this.forEach(function(H,W){D.push([W,H])}),x(D)},u&&(_.prototype[Symbol.iterator]=_.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];R.prototype.clone=function(){return new R(this,{body:this._bodyInit})},I.call(R.prototype),I.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},U.error=function(){var D=new U(null,{status:0,statusText:""});return D.type="error",D};var a=[301,302,303,307,308];U.redirect=function(D,H){if(a.indexOf(H)===-1)throw new RangeError("Invalid status code");return new U(null,{status:H,headers:{location:D}})},h.Headers=_,h.Request=R,h.Response=U,h.fetch=function(D,H){return new Promise(function(W,ae){var le=new R(D,H),J=new XMLHttpRequest;J.onload=function(){var ue,se,me={status:J.status,statusText:J.statusText,headers:(ue=J.getAllResponseHeaders()||"",se=new _,ue.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Ce){var ve=Ce.split(":"),De=ve.shift().trim();if(De){var _e=ve.join(":").trim();se.append(De,_e)}}),se)};me.url="responseURL"in J?J.responseURL:me.headers.get("X-Request-URL");var xe="response"in J?J.response:J.responseText;W(new U(xe,me))},J.onerror=function(){ae(new TypeError("Network request failed"))},J.ontimeout=function(){ae(new TypeError("Network request failed"))},J.open(le.method,le.url,!0),le.credentials==="include"?J.withCredentials=!0:le.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&c&&(J.responseType="blob"),le.headers.forEach(function(ue,se){J.setRequestHeader(se,ue)}),J.send(le._bodyInit===void 0?null:le._bodyInit)})},h.fetch.polyfill=!0}function y(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(D))throw new TypeError("Invalid character in header field name");return D.toLowerCase()}function w(D){return typeof D!="string"&&(D=String(D)),D}function x(D){var H={next:function(){var W=D.shift();return{done:W===void 0,value:W}}};return u&&(H[Symbol.iterator]=function(){return H}),H}function _(D){this.map={},D instanceof _?D.forEach(function(H,W){this.append(W,H)},this):Array.isArray(D)?D.forEach(function(H){this.append(H[0],H[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(H){this.append(H,D[H])},this)}function T(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function E(D){return new Promise(function(H,W){D.onload=function(){H(D.result)},D.onerror=function(){W(D.error)}})}function A(D){var H=new FileReader,W=E(H);return H.readAsArrayBuffer(D),W}function P(D){if(D.slice)return D.slice(0);var H=new Uint8Array(D.byteLength);return H.set(new Uint8Array(D)),H.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(D){if(this._bodyInit=D)if(typeof D=="string")this._bodyText=D;else if(c&&Blob.prototype.isPrototypeOf(D))this._bodyBlob=D;else if(f&&FormData.prototype.isPrototypeOf(D))this._bodyFormData=D;else if(t&&URLSearchParams.prototype.isPrototypeOf(D))this._bodyText=D.toString();else if(d&&c&&r(D))this._bodyArrayBuffer=P(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!d||!ArrayBuffer.prototype.isPrototypeOf(D)&&!o(D))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=P(D)}else this._bodyText="";this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var D=T(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var D,H,W,ae=T(this);if(ae)return ae;if(this._bodyBlob)return D=this._bodyBlob,H=new FileReader,W=E(H),H.readAsText(D),W;if(this._bodyArrayBuffer)return Promise.resolve(function(le){for(var J=new Uint8Array(le),ue=new Array(J.length),se=0;se<J.length;se++)ue[se]=String.fromCharCode(J[se]);return ue.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}function R(D,H){var W,ae,le=(H=H||{}).body;if(D instanceof R){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,H.headers||(this.headers=new _(D.headers)),this.method=D.method,this.mode=D.mode,le||D._bodyInit==null||(le=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=H.credentials||this.credentials||"omit",!H.headers&&this.headers||(this.headers=new _(H.headers)),this.method=(W=H.method||this.method||"GET",ae=W.toUpperCase(),-1<i.indexOf(ae)?ae:W),this.mode=H.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&le)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(le)}function L(D){var H=new FormData;return D.trim().split("&").forEach(function(W){if(W){var ae=W.split("="),le=ae.shift().replace(/\+/g," "),J=ae.join("=").replace(/\+/g," ");H.append(decodeURIComponent(le),decodeURIComponent(J))}}),H}function U(D,H){H=H||{},this.type="default",this.status=H.status===void 0?200:H.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new _(H.headers),this.url=H.url||"",this._initBody(D)}})(typeof self<"u"?self:this)},{}],243:[function(e,v,g){e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=c(e("../core/main")),u=c(e("../color/color_conversion"));function c(r){return r&&r.__esModule?r:{default:r}}var f=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],d=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];t.default.prototype._rgbColorName=function(r){var o=u.default._rgbaToHSBA(r);return function(i){var a;if(i[0]!==0){i[0]=Math.round(100*i[0]);var y=i[0].toString().split(""),w=y.length-1;y[w]=parseInt(y[w]),y[w]<2.5?y[w]=0:2.5<=y[w]&&y[w]<7.5&&(y[w]=5),y.length===2?(y[0]=parseInt(y[0]),7.5<=y[w]&&(y[w]=0,y[0]=y[0]+1),i[0]=10*y[0]+y[1]):7.5<=y[w]?i[0]=10:i[0]=y[w]}i[2]=i[2]/255;for(var x=i.length-1;1<=x;x--)i[x]<=.25?i[x]=0:.25<i[x]&&i[x]<.75?i[x]=.5:i[x]=1;if(i[0]===0&&i[1]===0&&i[2]===1){for(var _=2;0<=_;_--)h[_]=Math.round(1e4*h[_])/1e4;for(var T=0;T<f.length;T++){if(f[T].h===h[0]&&f[T].s===h[1]&&f[T].b===h[2]){a=f[T].name;break}a="white"}}else for(var E=0;E<d.length;E++)if(d[E].h===i[0]&&d[E].s===i[1]&&d[E].b===i[2]){a=d[E].name;break}return a}([(h=o)[0],o[1],o[2]])};var n=t.default;g.default=n},{"../color/color_conversion":249,"../core/main":264,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],244:[function(e,v,g){e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h},u="_Description",c="_fallbackDesc",f="_fallbackTable",d="_Label",n="_labelDesc",r="_labelTable";function o(a){if(a==="label"||a==="fallback")throw new Error("description should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")||a.endsWith("?")||a.endsWith("!")||(a+="."),a}t.default.prototype.describe=function(a,y){if(t.default._validateParameters("describe",arguments),typeof a=="string"){var w=this.canvas.id;a=o(a),this.dummyDOM||(this.dummyDOM=document.getElementById(w).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==a&&(this.descriptions.fallback.innerHTML=a):this._describeHTML("fallback",a),y===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==a&&(this.descriptions.label.innerHTML=a):this._describeHTML("label",a))}},t.default.prototype.describeElement=function(a,y,w){if(t.default._validateParameters("describeElement",arguments),typeof y=="string"&&typeof a=="string"){var x=this.canvas.id;y=o(y);var _=function(E){if(E==="label"||E==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return E.endsWith(".")||E.endsWith(";")||E.endsWith(",")?E=E.replace(/.$/,":"):E.endsWith(":")||(E+=":"),E}(a);a=a.replace(/[^a-zA-Z0-9]/g,"");var T='<th scope="row">'.concat(_,"</th><td>").concat(y,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(x).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[a]?this.descriptions.fallbackElements[a].innerHTML!==T&&(this.descriptions.fallbackElements[a].innerHTML=T):this._describeElementHTML("fallback",a,T),w===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[a]?this.descriptions.labelElements[a].innerHTML!==T&&(this.descriptions.labelElements[a].innerHTML=T):this._describeElementHTML("label",a,T))}},t.default.prototype._describeHTML=function(a,y){var w=this.canvas.id;if(a==="fallback"){if(this.dummyDOM.querySelector("#".concat(w+u)))this.dummyDOM.querySelector("#"+w+f).insertAdjacentHTML("beforebegin",'<p id="'.concat(w+c,'"></p>'));else{var x='<div id="'.concat(w).concat(u,'" role="region" aria-label="Canvas Description"><p id="').concat(w).concat(c,'"></p></div>');this.dummyDOM.querySelector("#".concat(w,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutput")).insertAdjacentHTML("beforebegin",x):this.dummyDOM.querySelector("#".concat(w)).innerHTML=x}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(w).concat(c)),void(this.descriptions.fallback.innerHTML=y)}if(a==="label"){if(this.dummyDOM.querySelector("#".concat(w+d)))this.dummyDOM.querySelector("#".concat(w+r))&&this.dummyDOM.querySelector("#".concat(w+r)).insertAdjacentHTML("beforebegin",'<p id="'.concat(w).concat(n,'"></p>'));else{var _='<div id="'.concat(w).concat(d,'" class="p5Label"><p id="').concat(w).concat(n,'"></p></div>');this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+w).insertAdjacentHTML("afterend",_)}return this.descriptions.label=this.dummyDOM.querySelector("#"+w+n),void(this.descriptions.label.innerHTML=y)}},t.default.prototype._describeElementHTML=function(a,y,w){var x=this.canvas.id;if(a==="fallback"){if(this.dummyDOM.querySelector("#".concat(x+u)))this.dummyDOM.querySelector("#"+x+f)||this.dummyDOM.querySelector("#"+x+c).insertAdjacentHTML("afterend",'<table id="'.concat(x).concat(f,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var _='<div id="'.concat(x).concat(u,'" role="region" aria-label="Canvas Description"><table id="').concat(x).concat(f,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(x,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutput")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+x).innerHTML=_}var T=document.createElement("tr");return T.id=x+"_fte_"+y,this.dummyDOM.querySelector("#"+x+f).appendChild(T),this.descriptions.fallbackElements[y]=this.dummyDOM.querySelector("#".concat(x).concat("_fte_").concat(y)),void(this.descriptions.fallbackElements[y].innerHTML=w)}if(a==="label"){if(this.dummyDOM.querySelector("#".concat(x+d)))this.dummyDOM.querySelector("#".concat(x+r))||this.dummyDOM.querySelector("#"+x+n).insertAdjacentHTML("afterend",'<table id="'.concat(x+r,'"></table>'));else{var E='<div id="'.concat(x).concat(d,'" class="p5Label"><table id="').concat(x).concat(r,'"></table></div>');this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",E):this.dummyDOM.querySelector("#"+x).insertAdjacentHTML("afterend",E)}var A=document.createElement("tr");A.id=x+"_lte_"+y,this.dummyDOM.querySelector("#"+x+r).appendChild(A),this.descriptions.labelElements[y]=this.dummyDOM.querySelector("#".concat(x).concat("_lte_").concat(y)),this.descriptions.labelElements[y].innerHTML=w}};var i=t.default;g.default=i},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],245:[function(e,v,g){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype._updateGridOutput=function(c){if(this.dummyDOM.querySelector("#".concat(c,"_summary"))){var f=this._accessibleOutputs[c],d=function(o,i){var a="",y="",w=0;for(var x in i){var _=0;for(var T in i[x]){var E='<li id="'.concat(o,"shape").concat(w,'">').concat(i[x][T].color," ").concat(x,",");x==="line"?E+=" location = ".concat(i[x][T].pos,", length = ").concat(i[x][T].length," pixels"):(E+=" location = ".concat(i[x][T].pos),x!=="point"&&(E+=", area = ".concat(i[x][T].area," %")),E+="</li>"),a+=E,_++,w++}y=1<_?"".concat(y," ").concat(_," ").concat(x,"s"):"".concat(y," ").concat(_," ").concat(x)}return{numShapes:[w,y],details:a}}(c,this.ingredients.shapes),n=function(o,i,a,y){var w="".concat(i," canvas, ").concat(a," by ").concat(y," pixels, contains ").concat(o[0]);return w=o[0]===1?"".concat(w," shape: ").concat(o[1]):"".concat(w," shapes: ").concat(o[1]),w}(d.numShapes,this.ingredients.colors.background,this.width,this.height),r=function(o,i){var a=0,y="",w=Array.apply(null,Array(10)).map(function(){});for(var x in w)w[x]=Array.apply(null,Array(10)).map(function(){});for(var _ in i)for(var T in i[_]){var E=void 0;E=_!=="line"?'<a href="#'.concat(o,"shape").concat(a,'">').concat(i[_][T].color," ").concat(_,"</a>"):'<a href="#'.concat(o,"shape").concat(a,'">').concat(i[_][T].color," ").concat(_," midpoint</a>"),w[i[_][T].loc.locY][i[_][T].loc.locX]?w[i[_][T].loc.locY][i[_][T].loc.locX]=w[i[_][T].loc.locY][i[_][T].loc.locX]+"  "+E:w[i[_][T].loc.locY][i[_][T].loc.locX]=E,a++}for(var A in w){var P="<tr>";for(var I in w[A])P+="<td>",w[A][I]!==void 0&&(P+=w[A][I]),P+="</td>";y=y+P+"</tr>"}return y}(c,this.ingredients.shapes);n!==f.summary.innerHTML&&(f.summary.innerHTML=n),r!==f.map.innerHTML&&(f.map.innerHTML=r),d.details!==f.shapeDetails.innerHTML&&(f.shapeDetails.innerHTML=d.details),this._accessibleOutputs[c]=f}};var u=t.default;g.default=u},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],246:[function(e,v,g){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function u(d,n,r){return d[0]<.4*n?d[1]<.4*r?"top left":d[1]>.6*r?"bottom left":"mid left":d[0]>.6*n?d[1]<.4*r?"top right":d[1]>.6*r?"bottom right":"mid right":d[1]<.4*r?"top middle":d[1]>.6*r?"bottom middle":"middle"}function c(d,n,r){var o=Math.floor(d[0]/n*10),i=Math.floor(d[1]/r*10);return o===10&&--o,i===10&&--i,{locX:o,locY:i}}t.default.prototype.textOutput=function(d){t.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},t.default.prototype.gridOutput=function(d){t.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},t.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},t.default.prototype._createOutput=function(d,n){var r,o,i,a=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode);var y="";n==="Fallback"?(r=a+d,o=a+"accessibleOutput",this.dummyDOM.querySelector("#".concat(o))||(this.dummyDOM.querySelector("#".concat(a,"_Description"))?this.dummyDOM.querySelector("#".concat(a,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(o,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(a)).innerHTML='<div id="'.concat(o,'" role="region" aria-label="Canvas Outputs"></div>'))):n==="Label"&&(r=a+d+(y=n),o=a+"accessibleOutput"+n,this.dummyDOM.querySelector("#".concat(o))||(this.dummyDOM.querySelector("#".concat(a,"_Label"))?this.dummyDOM.querySelector("#".concat(a,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(o,'"></div>')):this.dummyDOM.querySelector("#".concat(a)).insertAdjacentHTML("afterend",'<div id="'.concat(o,'"></div>')))),this._accessibleOutputs[r]={},d==="textOutput"?(y="#".concat(a,"gridOutput").concat(y),i='<div id="'.concat(r,'">Text Output<div id="').concat(r,'Summary" aria-label="text output summary"><p id="').concat(r,'_summary"></p><ul id="').concat(r,'_list"></ul></div><table id="').concat(r,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(y)?this.dummyDOM.querySelector(y).insertAdjacentHTML("beforebegin",i):this.dummyDOM.querySelector("#".concat(o)).innerHTML=i,this._accessibleOutputs[r].list=this.dummyDOM.querySelector("#".concat(r,"_list"))):d==="gridOutput"&&(y="#".concat(a,"textOutput").concat(y),i='<div id="'.concat(r,'">Grid Output<p id="').concat(r,'_summary" aria-label="grid output summary"><table id="').concat(r,'_map" summary="grid output content"></table><ul id="').concat(r,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(y)?this.dummyDOM.querySelector(y).insertAdjacentHTML("afterend",i):this.dummyDOM.querySelector("#".concat(o)).innerHTML=i,this._accessibleOutputs[r].map=this.dummyDOM.querySelector("#".concat(r,"_map"))),this._accessibleOutputs[r].shapeDetails=this.dummyDOM.querySelector("#".concat(r,"_shapeDetails")),this._accessibleOutputs[r].summary=this.dummyDOM.querySelector("#".concat(r,"_summary"))},t.default.prototype._updateAccsOutput=function(){var d=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(d+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(d+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(d+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(d+"gridOutputLabel"))},t.default.prototype._accsBackground=function(d){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==d&&(this.ingredients.colors.backgroundRGBA=d,this.ingredients.colors.background=this._rgbColorName(d))},t.default.prototype._accsCanvasColors=function(d,n){d==="fill"?this.ingredients.colors.fillRGBA!==n&&(this.ingredients.colors.fillRGBA=n,this.ingredients.colors.fill=this._rgbColorName(n)):d==="stroke"&&this.ingredients.colors.strokeRGBA!==n&&(this.ingredients.colors.strokeRGBA=n,this.ingredients.colors.stroke=this._rgbColorName(n))},t.default.prototype._accsOutput=function(d,n){d==="ellipse"&&n[2]===n[3]?d="circle":d==="rectangle"&&n[2]===n[3]&&(d="square");var r={},o=!0,i=function(x,_){var T,E;return E=x==="rectangle"||x==="ellipse"||x==="arc"||x==="circle"||x==="square"?(T=Math.round(_[0]+_[2]/2),Math.round(_[1]+_[3]/2)):x==="triangle"?(T=(_[0]+_[2]+_[4])/3,(_[1]+_[3]+_[5])/3):x==="quadrilateral"?(T=(_[0]+_[2]+_[4]+_[6])/4,(_[1]+_[3]+_[5]+_[7])/4):x==="line"?(T=(_[0]+_[2])/2,(_[1]+_[3])/2):(T=_[0],_[1]),[T,E]}(d,n);if(d==="line"){r.color=this.ingredients.colors.stroke,r.length=Math.round(this.dist(n[0],n[1],n[2],n[3]));var a=u([n[0],[1]],this.width,this.height),y=u([n[2],[3]],this.width,this.height);r.loc=c(i,this.width,this.height),r.pos=a===y?"at ".concat(a):"from ".concat(a," to ").concat(y)}else d==="point"?r.color=this.ingredients.colors.stroke:(r.color=this.ingredients.colors.fill,r.area=function(x,_,T,E){var A=0;if(x==="arc"){var P=((_[5]-_[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(A=P*_[2]*_[3]/8,_[6]==="open"||_[6]==="chord"){var I=_[0],R=_[1],L=_[0]+_[2]/2*Math.cos(_[4]).toFixed(2),U=_[1]+_[3]/2*Math.sin(_[4]).toFixed(2),D=_[0]+_[2]/2*Math.cos(_[5]).toFixed(2),H=_[1]+_[3]/2*Math.sin(_[5]).toFixed(2),W=Math.abs(I*(U-H)+L*(H-R)+D*(R-U))/2;P>Math.PI?A+=W:A-=W}}else x==="ellipse"||x==="circle"?A=3.14*_[2]/2*_[3]/2:x==="line"||x==="point"?A=0:x==="quadrilateral"?A=Math.abs((_[6]+_[0])*(_[7]-_[1])+(_[0]+_[2])*(_[1]-_[3])+(_[2]+_[4])*(_[3]-_[5])+(_[4]+_[6])*(_[5]-_[7]))/2:x==="rectangle"||x==="square"?A=_[2]*_[3]:x==="triangle"&&(A=Math.abs(_[0]*(_[3]-_[5])+_[2]*(_[5]-_[1])+_[4]*(_[1]-_[3]))/2);return Math.round(100*A/(T*E))}(d,n,this.width,this.height)),r.pos=u(i,this.width,this.height),r.loc=c(i,this.width,this.height);if(this.ingredients.shapes[d]){if(this.ingredients.shapes[d]!==[r]){for(var w in this.ingredients.shapes[d])JSON.stringify(this.ingredients.shapes[d][w])===JSON.stringify(r)&&(o=!1);o===!0&&this.ingredients.shapes[d].push(r)}}else this.ingredients.shapes[d]=[r]};var f=t.default;g.default=f},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":172}],247:[function(e,v,g){e("core-js/modules/es.array.concat"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype._updateTextOutput=function(c){if(this.dummyDOM.querySelector("#".concat(c,"_summary"))){var f=this._accessibleOutputs[c],d=function(o,i){var a="",y=0;for(var w in i)for(var x in i[w]){var _='<li><a href="#'.concat(o,"shape").concat(y,'">').concat(i[w][x].color," ").concat(w,"</a>");w==="line"?_+=", ".concat(i[w][x].pos,", ").concat(i[w][x].length," pixels long.</li>"):(_+=", at ".concat(i[w][x].pos),w!=="point"&&(_+=", covering ".concat(i[w][x].area,"% of the canvas")),_+=".</li>"),a+=_,y++}return{numShapes:y,listShapes:a}}(c,this.ingredients.shapes),n=function(o,i,a,y){var w="Your output is a, ".concat(a," by ").concat(y," pixels, ").concat(i," canvas containing the following");return w=o===1?"".concat(w," shape:"):"".concat(w," ").concat(o," shapes:"),w}(d.numShapes,this.ingredients.colors.background,this.width,this.height),r=function(o,i){var a="",y=0;for(var w in i)for(var x in i[w]){var _='<tr id="'.concat(o,"shape").concat(y,'"><th>').concat(i[w][x].color," ").concat(w,"</th>");w==="line"?_+="<td>location = ".concat(i[w][x].pos,"</td><td>length = ").concat(i[w][x].length," pixels</td></tr>"):(_+="<td>location = ".concat(i[w][x].pos,"</td>"),w!=="point"&&(_+="<td> area = ".concat(i[w][x].area,"%</td>")),_+="</tr>"),a+=_,y++}return a}(c,this.ingredients.shapes);n!==f.summary.innerHTML&&(f.summary.innerHTML=n),d.listShapes!==f.list.innerHTML&&(f.list.innerHTML=d.listShapes),r!==f.shapeDetails.innerHTML&&(f.shapeDetails.innerHTML=r),this._accessibleOutputs[c]=f}};var u=t.default;g.default=u},{"../core/main":264,"core-js/modules/es.array.concat":149}],248:[function(e,v,g){var h,t=(h=e("./core/main"))&&h.__esModule?h:{default:h};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),v.exports=t.default},{"./accessibility/color_namer":243,"./accessibility/describe":244,"./accessibility/gridOutput":245,"./accessibility/outputs":246,"./accessibility/textOutput":247,"./color/color_conversion":249,"./color/creating_reading":250,"./color/p5.Color":251,"./color/setting":252,"./core/constants":253,"./core/environment":254,"./core/friendly_errors/fes_core":255,"./core/friendly_errors/file_errors":256,"./core/friendly_errors/sketch_reader":257,"./core/friendly_errors/stacktrace":258,"./core/friendly_errors/validate_params":259,"./core/helpers":260,"./core/init":261,"./core/legacy":263,"./core/main":264,"./core/p5.Element":265,"./core/p5.Graphics":266,"./core/p5.Renderer":267,"./core/p5.Renderer2D":268,"./core/preload":269,"./core/rendering":270,"./core/shape/2d_primitives":271,"./core/shape/attributes":272,"./core/shape/curves":273,"./core/shape/vertex":274,"./core/shim":275,"./core/structure":276,"./core/transform":277,"./data/local_storage.js":278,"./data/p5.TypedDict":279,"./dom/dom":280,"./events/acceleration":281,"./events/keyboard":282,"./events/mouse":283,"./events/touch":284,"./image/filters":285,"./image/image":286,"./image/loading_displaying":287,"./image/p5.Image":288,"./image/pixels":289,"./io/files":290,"./io/p5.Table":291,"./io/p5.TableRow":292,"./io/p5.XML":293,"./math/calculation":294,"./math/math":295,"./math/noise":296,"./math/p5.Vector":297,"./math/random":298,"./math/trigonometry":299,"./typography/attributes":300,"./typography/loading_displaying":301,"./typography/p5.Font":302,"./utilities/array_functions":303,"./utilities/conversion":304,"./utilities/string_functions":305,"./utilities/time_date":306,"./webgl/3d_primitives":307,"./webgl/interaction":308,"./webgl/light":309,"./webgl/loading":310,"./webgl/material":311,"./webgl/p5.Camera":312,"./webgl/p5.Geometry":313,"./webgl/p5.Matrix":314,"./webgl/p5.RenderBuffer":315,"./webgl/p5.RendererGL":318,"./webgl/p5.RendererGL.Immediate":316,"./webgl/p5.RendererGL.Retained":317,"./webgl/p5.Shader":319,"./webgl/p5.Texture":320,"./webgl/text":321}],249:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.ColorConversion={},t.default.ColorConversion._hsbaToHSLA=function(c){var f=c[0],d=c[1],n=c[2],r=(2-d)*n/2;return r!=0&&(r==1?d=0:r<.5?d/=2-d:d=d*n/(2-2*r)),[f,d,r,c[3]]},t.default.ColorConversion._hsbaToRGBA=function(c){var f=6*c[0],d=c[1],n=c[2],r=[];if(d===0)r=[n,n,n,c[3]];else{var o,i,a,y=Math.floor(f),w=n*(1-d),x=n*(1-d*(f-y)),_=n*(1-d*(1+y-f));a=y===1?(o=x,i=n,w):y===2?(o=w,i=n,_):y===3?(o=w,i=x,n):y===4?(o=_,i=w,n):y===5?(o=n,i=w,x):(o=n,i=_,w),r=[o,i,a,c[3]]}return r},t.default.ColorConversion._hslaToHSBA=function(c){var f,d=c[0],n=c[1],r=c[2];return[d,n=2*((f=r<.5?(1+n)*r:r+n-r*n)-r)/f,f,c[3]]},t.default.ColorConversion._hslaToRGBA=function(c){var f=6*c[0],d=c[1],n=c[2],r=[];if(d===0)r=[n,n,n,c[3]];else{var o,i=2*n-(o=n<.5?(1+d)*n:n+d-n*d),a=function(y,w,x){return y<0?y+=6:6<=y&&(y-=6),y<1?w+(x-w)*y:y<3?x:y<4?w+(x-w)*(4-y):w};r=[a(2+f,i,o),a(f,i,o),a(f-2,i,o),c[3]]}return r},t.default.ColorConversion._rgbaToHSBA=function(c){var f,d,n=c[0],r=c[1],o=c[2],i=Math.max(n,r,o),a=i-Math.min(n,r,o);return a==0?d=f=0:(d=a/i,n===i?f=(r-o)/a:r===i?f=2+(o-n)/a:o===i&&(f=4+(n-r)/a),f<0?f+=6:6<=f&&(f-=6)),[f/6,d,i,c[3]]},t.default.ColorConversion._rgbaToHSLA=function(c){var f,d,n=c[0],r=c[1],o=c[2],i=Math.max(n,r,o),a=Math.min(n,r,o),y=i+a,w=i-a;return w==0?d=f=0:(d=y<1?w/y:w/(2-y),n===i?f=(r-o)/w:r===i?f=2+(o-n)/w:o===i&&(f=4+(n-r)/w),f<0?f+=6:6<=f&&(f-=6)),[f/6,d,y/2,c[3]]};var u=t.default.ColorConversion;g.default=u},{"../core/main":264}],250:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.map"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=f();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return f=function(){return n},n}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),u.default.prototype.alpha=function(n){return u.default._validateParameters("alpha",arguments),this.color(n)._getAlpha()},u.default.prototype.blue=function(n){return u.default._validateParameters("blue",arguments),this.color(n)._getBlue()},u.default.prototype.brightness=function(n){return u.default._validateParameters("brightness",arguments),this.color(n)._getBrightness()},u.default.prototype.color=function(){if(u.default._validateParameters("color",arguments),arguments[0]instanceof u.default.Color)return arguments[0];var n=arguments[0]instanceof Array?arguments[0]:arguments;return new u.default.Color(this,n)},u.default.prototype.green=function(n){return u.default._validateParameters("green",arguments),this.color(n)._getGreen()},u.default.prototype.hue=function(n){return u.default._validateParameters("hue",arguments),this.color(n)._getHue()},u.default.prototype.lerpColor=function(n,r,o){u.default._validateParameters("lerpColor",arguments);var i,a,y,w,x,_,T=this._colorMode,E=this._colorMaxes;if(T===c.RGB)x=n.levels.map(function(A){return A/255}),_=r.levels.map(function(A){return A/255});else if(T===c.HSB)n._getBrightness(),r._getBrightness(),x=n.hsba,_=r.hsba;else{if(T!==c.HSL)throw new Error("".concat(T,"cannot be used for interpolation."));n._getLightness(),r._getLightness(),x=n.hsla,_=r.hsla}return o=Math.max(Math.min(o,1),0),this.lerp===void 0&&(this.lerp=function(A,P,I){return I*(P-A)+A}),i=this.lerp(x[0],_[0],o),a=this.lerp(x[1],_[1],o),y=this.lerp(x[2],_[2],o),w=this.lerp(x[3],_[3],o),i*=E[T][0],a*=E[T][1],y*=E[T][2],w*=E[T][3],this.color(i,a,y,w)},u.default.prototype.lightness=function(n){return u.default._validateParameters("lightness",arguments),this.color(n)._getLightness()},u.default.prototype.red=function(n){return u.default._validateParameters("red",arguments),this.color(n)._getRed()},u.default.prototype.saturation=function(n){return u.default._validateParameters("saturation",arguments),this.color(n)._getSaturation()};var d=u.default;g.default=d},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.map":161}],251:[function(e,v,g){function h(x){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.trim"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t=d(e("../core/main")),u=function(x){if(x&&x.__esModule)return x;if(x===null||h(x)!=="object"&&typeof x!="function")return{default:x};var _=f();if(_&&_.has(x))return _.get(x);var T={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in x)if(Object.prototype.hasOwnProperty.call(x,A)){var P=E?Object.getOwnPropertyDescriptor(x,A):null;P&&(P.get||P.set)?Object.defineProperty(T,A,P):T[A]=x[A]}return T.default=x,_&&_.set(x,T),T}(e("../core/constants")),c=d(e("./color_conversion"));function f(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return f=function(){return x},x}function d(x){return x&&x.__esModule?x:{default:x}}t.default.Color=function(x,_){if(this._storeModeAndMaxes(x._colorMode,x._colorMaxes),this.mode!==u.RGB&&this.mode!==u.HSL&&this.mode!==u.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=t.default.Color._parseInputs.apply(this,_),this._calculateLevels(),this},t.default.Color.prototype.toString=function(x){var _=this.levels,T=this._array,E=T[3];switch(x){case"#rrggbb":return"#".concat(_[0]<16?"0".concat(_[0].toString(16)):_[0].toString(16),_[1]<16?"0".concat(_[1].toString(16)):_[1].toString(16),_[2]<16?"0".concat(_[2].toString(16)):_[2].toString(16));case"#rrggbbaa":return"#".concat(_[0]<16?"0".concat(_[0].toString(16)):_[0].toString(16),_[1]<16?"0".concat(_[1].toString(16)):_[1].toString(16),_[2]<16?"0".concat(_[2].toString(16)):_[2].toString(16),_[3]<16?"0".concat(_[3].toString(16)):_[3].toString(16));case"#rgb":return"#".concat(Math.round(15*T[0]).toString(16),Math.round(15*T[1]).toString(16),Math.round(15*T[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*T[0]).toString(16),Math.round(15*T[1]).toString(16),Math.round(15*T[2]).toString(16),Math.round(15*T[3]).toString(16));case"rgb":return"rgb(".concat(_[0],", ",_[1],", ",_[2],")");case"rgb%":return"rgb(".concat((100*T[0]).toPrecision(3),"%, ",(100*T[1]).toPrecision(3),"%, ",(100*T[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*T[0]).toPrecision(3),"%, ",(100*T[1]).toPrecision(3),"%, ",(100*T[2]).toPrecision(3),"%, ",(100*T[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],", ",E,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*E).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],", ",E,")");case"hsla%":return this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*E).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(_[0],",",_[1],",",_[2],",",E,")")}},t.default.Color.prototype.setRed=function(x){this._array[0]=x/this.maxes[u.RGB][0],this._calculateLevels()},t.default.Color.prototype.setGreen=function(x){this._array[1]=x/this.maxes[u.RGB][1],this._calculateLevels()},t.default.Color.prototype.setBlue=function(x){this._array[2]=x/this.maxes[u.RGB][2],this._calculateLevels()},t.default.Color.prototype.setAlpha=function(x){this._array[3]=x/this.maxes[this.mode][3],this._calculateLevels()},t.default.Color.prototype._calculateLevels=function(){for(var x=this._array,_=this.levels=new Array(x.length),T=x.length-1;0<=T;--T)_[T]=Math.round(255*x[T]);this.hsla=null,this.hsba=null},t.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},t.default.Color.prototype._storeModeAndMaxes=function(x,_){this.mode=x,this.maxes=_},t.default.Color.prototype._getMode=function(){return this.mode},t.default.Color.prototype._getMaxes=function(){return this.maxes},t.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[u.RGB][2]},t.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[u.HSB][2]},t.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[u.RGB][1]},t.default.Color.prototype._getHue=function(){return this.mode===u.HSB?(this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[u.HSB][0]):(this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[u.HSL][0])},t.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[u.HSL][2]},t.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[u.RGB][0]},t.default.Color.prototype._getSaturation=function(){return this.mode===u.HSB?(this.hsba||(this.hsba=c.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[u.HSB][1]):(this.hsla||(this.hsla=c.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[u.HSL][1])};var n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},r=/\s*/,o=/(\d{1,3})/,i=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,a=new RegExp("".concat(i.source,"%")),y={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",o.source,",",o.source,",",o.source,"\\)$"].join(r.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",a.source,",",a.source,",",a.source,"\\)$"].join(r.source),"i"),RGBA:new RegExp(["^rgba\\(",o.source,",",o.source,",",o.source,",",i.source,"\\)$"].join(r.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",a.source,",",a.source,",",a.source,",",i.source,"\\)$"].join(r.source),"i"),HSL:new RegExp(["^hsl\\(",o.source,",",a.source,",",a.source,"\\)$"].join(r.source),"i"),HSLA:new RegExp(["^hsla\\(",o.source,",",a.source,",",a.source,",",i.source,"\\)$"].join(r.source),"i"),HSB:new RegExp(["^hsb\\(",o.source,",",a.source,",",a.source,"\\)$"].join(r.source),"i"),HSBA:new RegExp(["^hsba\\(",o.source,",",a.source,",",a.source,",",i.source,"\\)$"].join(r.source),"i")};t.default.Color._parseInputs=function(x,_,T,E){var A,P=arguments.length,I=this.mode,R=this.maxes[I],L=[];if(3<=P){for(L[0]=x/R[0],L[1]=_/R[1],L[2]=T/R[2],L[3]=typeof E=="number"?E/R[3]:1,A=L.length-1;0<=A;--A){var U=L[A];U<0?L[A]=0:1<U&&(L[A]=1)}return I===u.HSL?c.default._hslaToRGBA(L):I===u.HSB?c.default._hsbaToRGBA(L):L}if(P===1&&typeof x=="string"){var D=x.trim().toLowerCase();if(n[D])return t.default.Color._parseInputs.call(this,n[D]);if(y.HEX3.test(D))return(L=y.HEX3.exec(D).slice(1).map(function(H){return parseInt(H+H,16)/255}))[3]=1,L;if(y.HEX6.test(D))return(L=y.HEX6.exec(D).slice(1).map(function(H){return parseInt(H,16)/255}))[3]=1,L;if(y.HEX4.test(D))return L=y.HEX4.exec(D).slice(1).map(function(H){return parseInt(H+H,16)/255});if(y.HEX8.test(D))return L=y.HEX8.exec(D).slice(1).map(function(H){return parseInt(H,16)/255});if(y.RGB.test(D))return(L=y.RGB.exec(D).slice(1).map(function(H){return H/255}))[3]=1,L;if(y.RGB_PERCENT.test(D))return(L=y.RGB_PERCENT.exec(D).slice(1).map(function(H){return parseFloat(H)/100}))[3]=1,L;if(y.RGBA.test(D))return L=y.RGBA.exec(D).slice(1).map(function(H,W){return W===3?parseFloat(H):H/255});if(y.RGBA_PERCENT.test(D))return L=y.RGBA_PERCENT.exec(D).slice(1).map(function(H,W){return W===3?parseFloat(H):parseFloat(H)/100});if(y.HSL.test(D)?(L=y.HSL.exec(D).slice(1).map(function(H,W){return W===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:y.HSLA.test(D)&&(L=y.HSLA.exec(D).slice(1).map(function(H,W){return W===0?parseInt(H,10)/360:W===3?parseFloat(H):parseInt(H,10)/100})),(L=L.map(function(H){return Math.max(Math.min(H,1),0)})).length)return c.default._hslaToRGBA(L);if(y.HSB.test(D)?(L=y.HSB.exec(D).slice(1).map(function(H,W){return W===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:y.HSBA.test(D)&&(L=y.HSBA.exec(D).slice(1).map(function(H,W){return W===0?parseInt(H,10)/360:W===3?parseFloat(H):parseInt(H,10)/100})),L.length){for(A=L.length-1;0<=A;--A)L[A]=Math.max(Math.min(L[A],1),0);return c.default._hsbaToRGBA(L)}L=[1,1,1,1]}else{if(P!==1&&P!==2||typeof x!="number")throw new Error("".concat(arguments,"is not a valid color representation."));L[0]=x/R[2],L[1]=x/R[2],L[2]=x/R[2],L[3]=typeof _=="number"?_/R[3]:1,L=L.map(function(H){return Math.max(Math.min(H,1),0)})}return L};var w=t.default.Color;g.default=w},{"../core/constants":253,"../core/main":264,"./color_conversion":249,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.trim":193}],252:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.fill"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=f();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return f=function(){return n},n}e("./p5.Color"),u.default.prototype.background=function(){var n;return(n=this._renderer).background.apply(n,arguments),this},u.default.prototype.clear=function(){var n=(arguments.length<=0?void 0:arguments[0])||0,r=(arguments.length<=1?void 0:arguments[1])||0,o=(arguments.length<=2?void 0:arguments[2])||0,i=(arguments.length<=3?void 0:arguments[3])||0;return this._renderer.clear(n,r,o,i),this},u.default.prototype.colorMode=function(n,r,o,i,a){if(u.default._validateParameters("colorMode",arguments),n===c.RGB||n===c.HSB||n===c.HSL){this._colorMode=n;var y=this._colorMaxes[n];arguments.length===2?(y[0]=r,y[1]=r,y[2]=r,y[3]=r):arguments.length===4?(y[0]=r,y[1]=o,y[2]=i):arguments.length===5&&(y[0]=r,y[1]=o,y[2]=i,y[3]=a)}return this},u.default.prototype.fill=function(){var n;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(n=this._renderer).fill.apply(n,arguments),this},u.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},u.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},u.default.prototype.stroke=function(){var n;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(n=this._renderer).stroke.apply(n,arguments),this},u.default.prototype.erase=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255;return this._renderer.erase(n,r),this},u.default.prototype.noErase=function(){return this._renderer.noErase(),this};var d=u.default;g.default=d},{"../core/constants":253,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.fill":151}],253:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.BEZIER=g.QUADRATIC=g.LINEAR=g._CTX_MIDDLE=g._DEFAULT_LEADMULT=g._DEFAULT_TEXT_FILL=g.WORD=g.CHAR=g.BOLDITALIC=g.BOLD=g.ITALIC=g.NORMAL=g.BLUR=g.ERODE=g.DILATE=g.POSTERIZE=g.INVERT=g.OPAQUE=g.GRAY=g.THRESHOLD=g.BURN=g.DODGE=g.SOFT_LIGHT=g.HARD_LIGHT=g.OVERLAY=g.REPLACE=g.SCREEN=g.MULTIPLY=g.EXCLUSION=g.SUBTRACT=g.DIFFERENCE=g.LIGHTEST=g.DARKEST=g.ADD=g.REMOVE=g.BLEND=g.UP_ARROW=g.TAB=g.SHIFT=g.RIGHT_ARROW=g.RETURN=g.OPTION=g.LEFT_ARROW=g.ESCAPE=g.ENTER=g.DOWN_ARROW=g.DELETE=g.CONTROL=g.BACKSPACE=g.ALT=g.AUTO=g.HSL=g.HSB=g.RGB=g.MITER=g.BEVEL=g.ROUND=g.SQUARE=g.PROJECT=g.PIE=g.CHORD=g.OPEN=g.CLOSE=g.TESS=g.QUAD_STRIP=g.QUADS=g.TRIANGLE_STRIP=g.TRIANGLE_FAN=g.TRIANGLES=g.LINE_LOOP=g.LINE_STRIP=g.LINES=g.POINTS=g.BASELINE=g.BOTTOM=g.TOP=g.CENTER=g.LEFT=g.RIGHT=g.RADIUS=g.CORNERS=g.CORNER=g.RAD_TO_DEG=g.DEG_TO_RAD=g.RADIANS=g.DEGREES=g.TWO_PI=g.TAU=g.QUARTER_PI=g.PI=g.HALF_PI=g.WAIT=g.TEXT=g.MOVE=g.HAND=g.CROSS=g.ARROW=g.WEBGL=g.P2D=g.VERSION=void 0,g.FALLBACK=g.LABEL=g.AXES=g.GRID=g._DEFAULT_FILL=g._DEFAULT_STROKE=g.PORTRAIT=g.LANDSCAPE=g.MIRROR=g.CLAMP=g.REPEAT=g.NEAREST=g.IMAGE=g.IMMEDIATE=g.TEXTURE=g.FILL=g.STROKE=g.CURVE=void 0;var h=Math.PI;g.VERSION="1.4.2",g.P2D="p2d",g.WEBGL="webgl",g.ARROW="default",g.CROSS="crosshair",g.HAND="pointer",g.MOVE="move",g.TEXT="text",g.WAIT="wait";var t=h/2;g.HALF_PI=t;var u=h;g.PI=u;var c=h/4;g.QUARTER_PI=c;var f=2*h;g.TAU=f;var d=2*h;g.TWO_PI=d,g.DEGREES="degrees",g.RADIANS="radians";var n=h/180;g.DEG_TO_RAD=n;var r=180/h;g.RAD_TO_DEG=r,g.CORNER="corner",g.CORNERS="corners",g.RADIUS="radius",g.RIGHT="right",g.LEFT="left",g.CENTER="center",g.TOP="top",g.BOTTOM="bottom",g.BASELINE="alphabetic",g.POINTS=0,g.LINES=1,g.LINE_STRIP=3,g.LINE_LOOP=2,g.TRIANGLES=4,g.TRIANGLE_FAN=6,g.TRIANGLE_STRIP=5,g.QUADS="quads",g.QUAD_STRIP="quad_strip",g.TESS="tess",g.CLOSE="close",g.OPEN="open",g.CHORD="chord",g.PIE="pie",g.PROJECT="square",g.SQUARE="butt",g.ROUND="round",g.BEVEL="bevel",g.MITER="miter",g.RGB="rgb",g.HSB="hsb",g.HSL="hsl",g.AUTO="auto",g.ALT=18,g.BACKSPACE=8,g.CONTROL=17,g.DELETE=46,g.DOWN_ARROW=40,g.ENTER=13,g.ESCAPE=27,g.LEFT_ARROW=37,g.OPTION=18,g.RETURN=13,g.RIGHT_ARROW=39,g.SHIFT=16,g.TAB=9,g.UP_ARROW=38,g.BLEND="source-over",g.REMOVE="destination-out",g.ADD="lighter",g.DARKEST="darken",g.LIGHTEST="lighten",g.DIFFERENCE="difference",g.SUBTRACT="subtract",g.EXCLUSION="exclusion",g.MULTIPLY="multiply",g.SCREEN="screen",g.REPLACE="copy",g.OVERLAY="overlay",g.HARD_LIGHT="hard-light",g.SOFT_LIGHT="soft-light",g.DODGE="color-dodge",g.BURN="color-burn",g.THRESHOLD="threshold",g.GRAY="gray",g.OPAQUE="opaque",g.INVERT="invert",g.POSTERIZE="posterize",g.DILATE="dilate",g.ERODE="erode",g.BLUR="blur",g.NORMAL="normal",g.ITALIC="italic",g.BOLD="bold",g.BOLDITALIC="bold italic",g.CHAR="CHAR",g.WORD="WORD",g._DEFAULT_TEXT_FILL="#000000",g._DEFAULT_LEADMULT=1.25,g._CTX_MIDDLE="middle",g.LINEAR="linear",g.QUADRATIC="quadratic",g.BEZIER="bezier",g.CURVE="curve",g.STROKE="stroke",g.FILL="fill",g.TEXTURE="texture",g.IMMEDIATE="immediate",g.IMAGE="image",g.NEAREST="nearest",g.REPEAT="repeat",g.CLAMP="clamp",g.MIRROR="mirror",g.LANDSCAPE="landscape",g.PORTRAIT="portrait",g._DEFAULT_STROKE="#000000",g._DEFAULT_FILL="#FFFFFF",g.GRID="grid",g.AXES="axes",g.LABEL="label",g.FALLBACK="fallback"},{}],254:[function(e,v,g){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(a)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("./main"))&&t.__esModule?t:{default:t},c=function(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var y=f();if(y&&y.has(a))return y.get(a);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in a)if(Object.prototype.hasOwnProperty.call(a,_)){var T=x?Object.getOwnPropertyDescriptor(a,_):null;T&&(T.get||T.set)?Object.defineProperty(w,_,T):w[_]=a[_]}return w.default=a,y&&y.set(a,w),w}(e("./constants"));function f(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return f=function(){return a},a}var d=[c.ARROW,c.CROSS,c.HAND,c.MOVE,c.TEXT,c.WAIT];u.default.prototype._frameRate=0,u.default.prototype._lastFrameTime=window.performance.now(),u.default.prototype._targetFrameRate=60;var n=window.print;function r(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function o(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}u.default.prototype.print=function(){var a;arguments.length?(a=console).log.apply(a,arguments):n()},u.default.prototype.frameCount=0,u.default.prototype.deltaTime=0,u.default.prototype.focused=document.hasFocus(),u.default.prototype.cursor=function(a,y,w){var x="auto",_=this._curElement.elt;if(d.includes(a))x=a;else if(typeof a=="string"){var T="";y&&w&&typeof y=="number"&&typeof w=="number"&&(T="".concat(y," ").concat(w)),x=a.substring(0,7)==="http://"||a.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(a)?"url(".concat(a,") ").concat(T,", auto"):a}_.style.cursor=x},u.default.prototype.frameRate=function(a){return u.default._validateParameters("frameRate",arguments),typeof a!="number"||a<0?this._frameRate:(this._setProperty("_targetFrameRate",a),a===0&&this._setProperty("_frameRate",a),this)},u.default.prototype.getFrameRate=function(){return this.frameRate()},u.default.prototype.setFrameRate=function(a){return this.frameRate(a)},u.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},u.default.prototype.displayWidth=screen.width,u.default.prototype.displayHeight=screen.height,u.default.prototype.windowWidth=r(),u.default.prototype.windowHeight=o(),u.default.prototype._onresize=function(a){this._setProperty("windowWidth",r()),this._setProperty("windowHeight",o());var y,w=this._isGlobal?window:this;typeof w.windowResized=="function"&&((y=w.windowResized(a))===void 0||y||a.preventDefault())},u.default.prototype.width=0,u.default.prototype.height=0,u.default.prototype.fullscreen=function(a){if(u.default._validateParameters("fullscreen",arguments),a===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;a?function(y){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");y.requestFullscreen?y.requestFullscreen():y.mozRequestFullScreen?y.mozRequestFullScreen():y.webkitRequestFullscreen?y.webkitRequestFullscreen():y.msRequestFullscreen&&y.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},u.default.prototype.pixelDensity=function(a){var y;return u.default._validateParameters("pixelDensity",arguments),typeof a=="number"?(a!==this._pixelDensity&&(this._pixelDensity=a),(y=this).resizeCanvas(this.width,this.height,!0)):y=this._pixelDensity,y},u.default.prototype.displayDensity=function(){return window.devicePixelRatio},u.default.prototype.getURL=function(){return location.href},u.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(a){return a!==""})},u.default.prototype.getURLParams=function(){for(var a,y=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,w={};(a=y.exec(location.search))!=null;)a.index===y.lastIndex&&y.lastIndex++,w[a[1]]=a[2];return w};var i=u.default;g.default=i},{"./constants":253,"./main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.includes":156,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191}],255:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../main"))&&h.__esModule?h:{default:h};e("../internationalization");var u=null,c=null;t.default._friendlyError=t.default._checkForUserDefinedFunctions=t.default._fesErrorMonitor=function(){},u=null;var f="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";c=function(){function r(i){return Object.getOwnPropertyNames(i).filter(function(a){return a[0]!=="_"&&!(a in o)&&(o[a]=!0)}).map(function(a){var y;return y=typeof i[a]=="function"?"function":a===a.toUpperCase()?"constant":"variable",{name:a,type:y}})}var o={};(u=[].concat(r(t.default.prototype),r(e("../constants")))).sort(function(i,a){return a.name.length-i.name.length})};function d(r,o){o=o||console.log.bind(console),u||c(),u.some(function(i){if(r.message&&r.message.match("\\W?".concat(i.name,"\\W"))!==null){var a=i.type==="function"?"".concat(i.name,"()"):i.name;return o("Did you just try to use p5.js's ".concat(a," ").concat(i.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(f)),!0}})}t.default.prototype._helpForMisusedAtTopLevelCode=d,document.readyState!=="complete"&&(window.addEventListener("error",d,!1),window.addEventListener("load",function(){window.removeEventListener("error",d,!1)}));var n=t.default;g.default=n},{"../constants":253,"../internationalization":262,"../main":264,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":166,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],256:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../main"))&&h.__esModule?h:{default:h};e("../internationalization"),t.default._friendlyFileLoadError=function(){};var u=t.default;g.default=u},{"../internationalization":262,"../main":264}],257:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.flat-map"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.unscopables.flat-map"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t=f(e("../main"));e("../internationalization"),c(e("../constants"));function u(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return u=function(){return n},n}function c(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=u();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}function f(n){return n&&n.__esModule?n:{default:n}}t.default._fesCodeReader=function(){};var d=t.default;g.default=d},{"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.flat-map":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.unscopables.flat-map":165,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],258:[function(e,v,g){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../main"))&&h.__esModule?h:{default:h};function u(){var f=/(^|@)\S+:\d+/,d=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(r){return r.stacktrace!==void 0||r["opera#sourceloc"]!==void 0?this.parseOpera(r):r.stack&&r.stack.match(d)?this.parseV8OrIE(r):r.stack?this.parseFFOrSafari(r):void 0},extractLocation:function(r){if(r.indexOf(":")===-1)return[r];var o=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(r.replace(/[()]/g,""));return[o[1],o[2]||void 0,o[3]||void 0]},parseV8OrIE:function(r){return r.stack.split(`
`).filter(function(o){return!!o.match(d)},this).map(function(o){-1<o.indexOf("(eval ")&&(o=o.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var i=o.replace(/^\s+/,"").replace(/\(eval code/g,"("),a=i.match(/ (\((.+):(\d+):(\d+)\)$)/),y=(i=a?i.replace(a[0],""):i).split(/\s+/).slice(1),w=this.extractLocation(a?a[1]:y.pop());return{functionName:y.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(w[0])?void 0:w[0],lineNumber:w[1],columnNumber:w[2],source:o}},this)},parseFFOrSafari:function(r){return r.stack.split(`
`).filter(function(o){return!o.match(n)},this).map(function(o){if(-1<o.indexOf(" > eval")&&(o=o.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),o.indexOf("@")===-1&&o.indexOf(":")===-1)return{functionName:o};var i=/((.*".+"[^@]*)?[^@]*)(?:@)/,a=o.match(i),y=a&&a[1]?a[1]:void 0,w=this.extractLocation(o.replace(i,""));return{functionName:y,fileName:w[0],lineNumber:w[1],columnNumber:w[2],source:o}},this)},parseOpera:function(r){return!r.stacktrace||-1<r.message.indexOf(`
`)&&r.message.split(`
`).length>r.stacktrace.split(`
`).length?this.parseOpera9(r):r.stack?this.parseOpera11(r):this.parseOpera10(r)},parseOpera9:function(r){for(var o=/Line (\d+).*script (?:in )?(\S+)/i,i=r.message.split(`
`),a=[],y=2,w=i.length;y<w;y+=2){var x=o.exec(i[y]);x&&a.push({fileName:x[2],lineNumber:x[1],source:i[y]})}return a},parseOpera10:function(r){for(var o=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=r.stacktrace.split(`
`),a=[],y=0,w=i.length;y<w;y+=2){var x=o.exec(i[y]);x&&a.push({functionName:x[3]||void 0,fileName:x[2],lineNumber:x[1],source:i[y]})}return a},parseOpera11:function(r){return r.stack.split(`
`).filter(function(o){return!!o.match(f)&&!o.match(/^Error created at/)},this).map(function(o){var i,a=o.split("@"),y=this.extractLocation(a.pop()),w=a.shift()||"",x=w.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return w.match(/\(([^)]*)\)/)&&(i=w.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:x,args:i===void 0||i==="[arguments not available]"?void 0:i.split(","),fileName:y[0],lineNumber:y[1],columnNumber:y[2],source:o}},this)}}}t.default._getErrorStackParser=function(){return new u};var c=t.default;g.default=c},{"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],259:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../main"))&&h.__esModule?h:{default:h};(function(d){if(!(d&&d.__esModule)&&!(d===null||c(d)!=="object"&&typeof d!="function")){var n=u();if(n&&n.has(d))return n.get(d);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in d)if(Object.prototype.hasOwnProperty.call(d,i)){var a=o?Object.getOwnPropertyDescriptor(d,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=d[i]}r.default=d,n&&n.set(d,r)}})(e("../constants")),e("../internationalization");function u(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return u=function(){return d},d}function c(d){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(d)}t.default._validateParameters=t.default._clearValidateParamsCache=function(){};var f=t.default;g.default=f},{"../../../docs/parameterData.json":void 0,"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.map":167,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],260:[function(e,v,g){function h(f){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t=function(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var d=u();if(d&&d.has(f))return d.get(f);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in f)if(Object.prototype.hasOwnProperty.call(f,o)){var i=r?Object.getOwnPropertyDescriptor(f,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=f[o]}return n.default=f,d&&d.set(f,n),n}(e("./constants"));function u(){if(typeof WeakMap!="function")return null;var f=new WeakMap;return u=function(){return f},f}var c={modeAdjust:function(f,d,n,r,o){return o===t.CORNER?{x:f,y:d,w:n,h:r}:o===t.CORNERS?{x:f,y:d,w:n-f,h:r-d}:o===t.RADIUS?{x:f-n,y:d-r,w:2*n,h:2*r}:o===t.CENTER?{x:f-.5*n,y:d-.5*r,w:n,h:r}:void 0}};g.default=c},{"./constants":253}],261:[function(e,v,g){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};e("./internationalization");var u=Promise.resolve();Promise.all([new Promise(function(c,f){document.readyState==="complete"?c():window.addEventListener("load",c,!1)}),u]).then(function(){window._setupDone===void 0?window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!t.default.instance&&new t.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":264,"./internationalization":262,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":229}],262:[function(e,v,g){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.setTranslatorLanguage=g.currentTranslatorLanguage=g.availableTranslatorLanguages=g.initialize=g.translator=void 0;var h,t,u=f(e("i18next")),c=f(e("i18next-browser-languagedetector"));function f(o){return o&&o.__esModule?o:{default:o}}function d(o,i){for(var a=0;a<i.length;a++){var y=i[a];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,y.key,y)}}var n=function(){function o(y,w){(function(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")})(this,o),this.init(y,w)}var i,a;return i=o,(a=[{key:"fetchWithTimeout",value:function(y,w,x){var _=2<arguments.length&&x!==void 0?x:2e3;return Promise.race([fetch(y,w),new Promise(function(T,E){return setTimeout(function(){return E(new Error("timeout"))},_)})])}},{key:"init",value:function(y,w){var x=1<arguments.length&&w!==void 0?w:{};this.services=y,this.options=x}},{key:"read",value:function(y,w,x){var _=this.options.loadPath;if(y===this.options.fallback)x(null,h[y][w]);else if(t.includes(y)){var T=this.services.interpolator.interpolate(_,{lng:y,ns:w});this.loadUrl(T,x)}else x("Not found",!1)}},{key:"loadUrl",value:function(y,w){this.fetchWithTimeout(y).then(function(x){if(!x.ok)throw new Error("failed loading ".concat(y));return x.json()},function(){throw new Error("failed loading ".concat(y))}).then(function(x){return w(null,x)}).catch(w)}}])&&d(i.prototype,a),o}();n.type="backend";var r=function(o,i){console.debug("p5.js translator called before translations were loaded"),u.default.t(o,i)};g.translator=r,g.initialize=function(){return u.default.use(c.default).use(n).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:h}).then(function(o){g.translator=r=o},function(o){return console.debug("Translations failed to load (".concat(o,")"))})},g.availableTranslatorLanguages=function(){return u.default.languages},g.currentTranslatorLanguage=function(){return u.default.language},g.setTranslatorLanguage=function(o){return u.default.changeLanguage(o||void 0,function(i){return console.debug("Translations failed to load (".concat(i,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":229,i18next:3,"i18next-browser-languagedetector":3}],263:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h};t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var u=t.default;g.default=u},{"./main":264}],264:[function(e,v,g){function h(r){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,e("./shim");var t=function(r){if(r&&r.__esModule)return r;if(r===null||h(r)!=="object"&&typeof r!="function")return{default:r};var o=u();if(o&&o.has(r))return o.get(r);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in r)if(Object.prototype.hasOwnProperty.call(r,y)){var w=a?Object.getOwnPropertyDescriptor(r,y):null;w&&(w.get||w.set)?Object.defineProperty(i,y,w):i[y]=r[y]}return i.default=r,o&&o.set(r,i),i}(e("./constants"));function u(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return u=function(){return r},r}function c(r,o){for(var i=0;i<o.length;i++){var a=o[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}var f=function(){function r(a,y,w){var x=this;(function(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")})(this,r),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=y,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var _=Object.getOwnPropertyNames(r.prototype._registeredMethods),T=!0,E=!1,A=void 0;try{for(var P,I=_[Symbol.iterator]();!(T=(P=I.next()).done);T=!0){var R=P.value;this._registeredMethods[R]=r.prototype._registeredMethods[R].slice()}}catch(se){E=!0,A=se}finally{try{T||I.return==null||I.return()}finally{if(E)throw A}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){x._userNode&&typeof x._userNode=="string"&&(x._userNode=document.getElementById(x._userNode));var se=x._isGlobal?window:x;if(se.preload){var me=document.getElementById(x._loadingScreenId);me||((me=document.createElement("div")).innerHTML="Loading...",me.style.position="absolute",me.id=x._loadingScreenId,(x._userNode||document.body).appendChild(me));var xe=x._preloadMethods;for(var Ce in xe){xe[Ce]=xe[Ce]||r;var ve=xe[Ce];ve!==r.prototype&&ve!==r||(x._isGlobal&&(window[Ce]=x._wrapPreload(x,Ce)),ve=x),x._registeredPreloadMethods[Ce]=ve[Ce],ve[Ce]=x._wrapPreload(ve,Ce)}se.preload(),x._runIfPreloadsAreDone()}else x._setup(),x._draw()},this._runIfPreloadsAreDone=function(){var se=this._isGlobal?window:this;if(se._preloadCount===0){var me=document.getElementById(se._loadingScreenId);me&&me.parentNode.removeChild(me),this._setupDone||(this._lastFrameTime=window.performance.now(),se._setup(),se._draw())}},this._decrementPreload=function(){var se=this._isGlobal?window:this;typeof se.preload=="function"&&(se._setProperty("_preloadCount",se._preloadCount-1),se._runIfPreloadsAreDone())},this._wrapPreload=function(se,me){var xe=this;return function(){xe._incrementPreload();for(var Ce=arguments.length,ve=new Array(Ce),De=0;De<Ce;De++)ve[De]=arguments[De];return xe._registeredPreloadMethods[me].apply(se,ve)}},this._incrementPreload=function(){var se=this._isGlobal?window:this;se._setProperty("_preloadCount",se._preloadCount+1)},this._setup=function(){x.createCanvas(x._defaultCanvasSize.width,x._defaultCanvasSize.height,"p2d");var se=x._isGlobal?window:x;if(typeof se.preload=="function")for(var me in x._preloadMethods)se[me]=x._preloadMethods[me][me],se[me]&&x&&(se[me]=se[me].bind(x));x._millisStart=window.performance.now(),typeof se.setup=="function"&&se.setup();var xe=document.getElementsByTagName("canvas"),Ce=!0,ve=!1,De=void 0;try{for(var _e,Se=xe[Symbol.iterator]();!(Ce=(_e=Se.next()).done);Ce=!0){var O=_e.value;O.dataset.hidden==="true"&&(O.style.visibility="",delete O.dataset.hidden)}}catch(G){ve=!0,De=G}finally{try{Ce||Se.return==null||Se.return()}finally{if(ve)throw De}}x._lastFrameTime=window.performance.now(),x._setupDone=!0,(x._accessibleOutputs.grid||x._accessibleOutputs.text)&&x._updateAccsOutput()},this._draw=function(){var se=window.performance.now(),me=se-x._lastFrameTime,xe=1e3/x._targetFrameRate;(!x._loop||xe-5<=me)&&(x.redraw(),x._frameRate=1e3/(se-x._lastFrameTime),x.deltaTime=se-x._lastFrameTime,x._setProperty("deltaTime",x.deltaTime),x._lastFrameTime=se,x._updateMouseCoords!==void 0&&(x._updateMouseCoords(),x._setProperty("movedX",0),x._setProperty("movedY",0))),x._loop&&(x._requestAnimId=window.requestAnimationFrame(x._draw))},this._setProperty=function(se,me){x[se]=me,x._isGlobal&&(window[se]=me)},this.remove=function(){var se=document.getElementById(x._loadingScreenId);if(se&&(se.parentNode.removeChild(se),x._incrementPreload()),x._curElement){for(var me in x._loop=!1,x._requestAnimId&&window.cancelAnimationFrame(x._requestAnimId),x._events)window.removeEventListener(me,x._events[me]);var xe=!0,Ce=!1,ve=void 0;try{for(var De,_e=x._elements[Symbol.iterator]();!(xe=(De=_e.next()).done);xe=!0){var Se=De.value;for(var O in Se.elt&&Se.elt.parentNode&&Se.elt.parentNode.removeChild(Se.elt),Se._events)Se.elt.removeEventListener(O,Se._events[O])}}catch(B){Ce=!0,ve=B}finally{try{xe||_e.return==null||_e.return()}finally{if(Ce)throw ve}}var G=x;x._registeredMethods.remove.forEach(function(B){B!==void 0&&B.call(G)})}if(x._isGlobal){for(var X in r.prototype)try{delete window[X]}catch{window[X]=void 0}for(var ee in x)if(x.hasOwnProperty(ee))try{delete window[ee]}catch{window[ee]=void 0}r.instance=null}},this._registeredMethods.init.forEach(function(se){se!==void 0&&se.call(this)},this),this._setupPromisePreloads();var L=this._createFriendlyGlobalFunctionBinder();if(a)a(this),r._checkForUserDefinedFunctions(this);else{for(var U in this._isGlobal=!0,r.instance=this,r.prototype)if(typeof r.prototype[U]=="function"){var D=U.substring(2);this._events.hasOwnProperty(D)||(Math.hasOwnProperty(U)&&Math[U]===r.prototype[U]?L(U,r.prototype[U]):L(U,r.prototype[U].bind(this)))}else L(U,r.prototype[U]);for(var H in this)this.hasOwnProperty(H)&&L(H,this[H])}for(var W in this._events){var ae=this["_on".concat(W)];if(ae){var le=ae.bind(this);window.addEventListener(W,le,{passive:!1}),this._events[W]=le}}function J(){x._setProperty("focused",!0)}function ue(){x._setProperty("focused",!1)}window.addEventListener("focus",J),window.addEventListener("blur",ue),this.registerMethod("remove",function(){window.removeEventListener("focus",J),window.removeEventListener("blur",ue)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var o,i;return o=r,(i=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=t.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(a,y){r.prototype._preloadMethods.hasOwnProperty(a)||(r.prototype._preloadMethods[a]=y)}},{key:"registerMethod",value:function(a,y){var w=this||r.prototype;w._registeredMethods.hasOwnProperty(a)||(w._registeredMethods[a]=[]),w._registeredMethods[a].push(y)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(a){var y=0<arguments.length&&a!==void 0?a:{},w=y.globalObject||window;return y.log||console.log.bind(console),function(x,_){w[x]=_}}}])&&c(o.prototype,i),r}();for(var d in f.instance=null,f.disableFriendlyErrors=!1,t)f.prototype[d]=t[d];f.VERSION=t.VERSION,f.prototype._preloadMethods={loadJSON:f.prototype,loadImage:f.prototype,loadStrings:f.prototype,loadXML:f.prototype,loadBytes:f.prototype,loadTable:f.prototype,loadFont:f.prototype,loadModel:f.prototype,loadShader:f.prototype},f.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},f.prototype._registeredPreloadMethods={};var n=f;g.default=n},{"./constants":253,"./shim":275,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],265:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h};t.default.Element=function(c,f){this.elt=c,this._pInst=this._pixelsState=f,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},t.default.Element.prototype.parent=function(c){return c===void 0?this.elt.parentNode:(typeof c=="string"?(c[0]==="#"&&(c=c.substring(1)),c=document.getElementById(c)):c instanceof t.default.Element&&(c=c.elt),c.appendChild(this.elt),this)},t.default.Element.prototype.id=function(c){return c===void 0?this.elt.id:(this.elt.id=c,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},t.default.Element.prototype.class=function(c){return c===void 0?this.elt.className:(this.elt.className=c,this)},t.default.Element.prototype.mousePressed=function(c){return t.default.Element._adjustListener("mousedown",function(f){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(f),c.call(this,f)},this),this},t.default.Element.prototype.doubleClicked=function(c){return t.default.Element._adjustListener("dblclick",c,this),this},t.default.Element.prototype.mouseWheel=function(c){return t.default.Element._adjustListener("wheel",c,this),this},t.default.Element.prototype.mouseReleased=function(c){return t.default.Element._adjustListener("mouseup",c,this),this},t.default.Element.prototype.mouseClicked=function(c){return t.default.Element._adjustListener("click",c,this),this},t.default.Element.prototype.mouseMoved=function(c){return t.default.Element._adjustListener("mousemove",c,this),this},t.default.Element.prototype.mouseOver=function(c){return t.default.Element._adjustListener("mouseover",c,this),this},t.default.Element.prototype.mouseOut=function(c){return t.default.Element._adjustListener("mouseout",c,this),this},t.default.Element.prototype.touchStarted=function(c){return t.default.Element._adjustListener("touchstart",c,this),this},t.default.Element.prototype.touchMoved=function(c){return t.default.Element._adjustListener("touchmove",c,this),this},t.default.Element.prototype.touchEnded=function(c){return t.default.Element._adjustListener("touchend",c,this),this},t.default.Element.prototype.dragOver=function(c){return t.default.Element._adjustListener("dragover",c,this),this},t.default.Element.prototype.dragLeave=function(c){return t.default.Element._adjustListener("dragleave",c,this),this},t.default.Element._adjustListener=function(c,f,d){return f===!1?t.default.Element._detachListener(c,d):t.default.Element._attachListener(c,f,d),this},t.default.Element._attachListener=function(c,f,d){d._events[c]&&t.default.Element._detachListener(c,d);var n=f.bind(d);d.elt.addEventListener(c,n,!1),d._events[c]=n},t.default.Element._detachListener=function(c,f){var d=f._events[c];f.elt.removeEventListener(c,d,!1),f._events[c]=null},t.default.Element.prototype._setProperty=function(c,f){this[c]=f};var u=t.default.Element;g.default=u},{"./main":264}],266:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("./main"))&&t.__esModule?t:{default:t},c=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=f();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("./constants"));function f(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return f=function(){return n},n}u.default.Graphics=function(n,r,o,i){var a=o||c.P2D;this.canvas=document.createElement("canvas");var y=i._userNode||document.body;for(var w in y.appendChild(this.canvas),u.default.Element.call(this,this.canvas,i),u.default.prototype)this[w]||(typeof u.default.prototype[w]=="function"?this[w]=u.default.prototype[w].bind(this):this[w]=u.default.prototype[w]);return u.default.prototype._initializeInstanceVariables.apply(this),this.width=n,this.height=r,this._pixelDensity=i._pixelDensity,a===c.WEBGL?this._renderer=new u.default.RendererGL(this.canvas,this,!1):this._renderer=new u.default.Renderer2D(this.canvas,this,!1),i._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(n,r),this._renderer._applyDefaults(),this},u.default.Graphics.prototype=Object.create(u.default.Element.prototype),u.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},u.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var n=this._pInst._elements.indexOf(this);for(var r in n!==-1&&this._pInst._elements.splice(n,1),this._events)this.elt.removeEventListener(r,this._events[r])};var d=u.default.Graphics;g.default=d},{"./constants":253,"./main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.splice":164}],267:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h},u=function(r){if(r&&r.__esModule)return r;if(r===null||f(r)!=="object"&&typeof r!="function")return{default:r};var o=c();if(o&&o.has(r))return o.get(r);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in r)if(Object.prototype.hasOwnProperty.call(r,y)){var w=a?Object.getOwnPropertyDescriptor(r,y):null;w&&(w.get||w.set)?Object.defineProperty(i,y,w):i[y]=r[y]}return i.default=r,o&&o.set(r,i),i}(e("../core/constants"));function c(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return c=function(){return r},r}function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function d(r){var o=0,i=0;if(r.offsetParent)for(;o+=r.offsetLeft,i+=r.offsetTop,r=r.offsetParent;);else o+=r.offsetLeft,i+=r.offsetTop;return[o,i]}t.default.Renderer=function(r,o,i){t.default.Element.call(this,r,o),this.canvas=r,this._pixelsState=o,i?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=u.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=u.LEFT,this._textBaseline=u.BASELINE,this._textWrap=u.WORD,this._rectMode=u.CORNER,this._ellipseMode=u.CENTER,this._curveTightness=0,this._imageMode=u.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},t.default.Renderer.prototype=Object.create(t.default.Element.prototype),t.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},t.default.Renderer.prototype.pop=function(r){r.properties&&Object.assign(this,r.properties)},t.default.Renderer.prototype.resize=function(r,o){this.width=r,this.height=o,this.elt.width=r*this._pInst._pixelDensity,this.elt.height=o*this._pInst._pixelDensity,this.elt.style.width="".concat(r,"px"),this.elt.style.height="".concat(o,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},t.default.Renderer.prototype.get=function(r,o,i,a){var y=this._pixelsState,w=y._pixelDensity,x=this.canvas;if(r===void 0&&o===void 0)r=o=0,i=y.width,a=y.height;else if(r*=w,o*=w,i===void 0&&a===void 0)return r<0||o<0||r>=x.width||o>=x.height?[0,0,0,0]:this._getPixel(r,o);var _=new t.default.Image(i,a);return _.canvas.getContext("2d").drawImage(x,r,o,i*w,a*w,0,0,i,a),_},t.default.Renderer.prototype.textLeading=function(r){return typeof r=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",r),this._pInst):this._textLeading},t.default.Renderer.prototype.textSize=function(r){return typeof r=="number"?(this._setProperty("_textSize",r),this._leadingSet||this._setProperty("_textLeading",r*u._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},t.default.Renderer.prototype.textStyle=function(r){return r?(r!==u.NORMAL&&r!==u.ITALIC&&r!==u.BOLD&&r!==u.BOLDITALIC||this._setProperty("_textStyle",r),this._applyTextProperties()):this._textStyle},t.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},t.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},t.default.Renderer.prototype.textAlign=function(r,o){return r!==void 0?(this._setProperty("_textAlign",r),o!==void 0&&this._setProperty("_textBaseline",o),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},t.default.Renderer.prototype.textWrap=function(r){return this._setProperty("_textWrap",r),this._textWrap},t.default.Renderer.prototype.text=function(r,o,i,a,y){var w,x,_,T,E,A,P,I=this._pInst,R=this._textWrap,L=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&r!==void 0){if(typeof r!="string"&&(r=r.toString()),w=(r=r.replace(/(\t)/g,"  ")).split(`
`),a!==void 0){switch(this._rectMode===u.CENTER&&(o-=a/2),this._textAlign){case u.CENTER:o+=a/2;break;case u.RIGHT:o+=a}var U=!1;if(y!==void 0){switch(this._rectMode===u.CENTER&&(i-=y/2),this._textBaseline){case u.BOTTOM:P=i+y,i=Math.max(P,i);break;case u.CENTER:P=i+y/2,i=Math.max(P,i);break;case u.BASELINE:U=!0,this._textBaseline=u.TOP}L=i+y-I.textAscent()}if(R===u.WORD){for(var D=[],H=0;H<w.length;H++){x="",E=w[H].split(" ");for(var W=0;W<E.length;W++)_="".concat(x+E[W])+" ",x=a<(T=this.textWidth(_))&&0<x.length?(D.push(x),"".concat(E[W])+" "):_;D.push(x)}var ae=0,le=I.textAlign().vertical;le===u.CENTER?ae=(D.length-1)*I.textLeading()/2:le===u.BOTTOM&&(ae=(D.length-1)*I.textLeading());for(var J=0;J<w.length;J++){x="",E=w[J].split(" ");for(var ue=0;ue<E.length;ue++)_="".concat(x+E[ue])+" ",a<(T=this.textWidth(_))&&0<x.length?(this._renderText(I,x.trim(),o,i-ae,L),x="".concat(E[ue])+" ",i+=I.textLeading()):x=_;this._renderText(I,x.trim(),o,i-ae,L),i+=I.textLeading(),U&&(this._textBaseline=u.BASELINE)}}else{for(var se=[],me=0;me<w.length;me++){x="",A=w[me].split("");for(var xe=0;xe<A.length;xe++)_="".concat(x+A[xe]),(T=this.textWidth(_))<=a?x+=A[xe]:a<T&&0<x.length&&(se.push(x),x="".concat(A[xe]))}se.push(x);var Ce=0,ve=I.textAlign().vertical;ve===u.CENTER?Ce=(se.length-1)*I.textLeading()/2:ve===u.BOTTOM&&(Ce=(se.length-1)*I.textLeading());for(var De=0;De<w.length;De++){x="",A=w[De].split("");for(var _e=0;_e<A.length;_e++)_="".concat(x+A[_e]),(T=this.textWidth(_))<=a?x+=A[_e]:a<T&&0<x.length&&(this._renderText(I,x.trim(),o,i-Ce,L),i+=I.textLeading(),x="".concat(A[_e]))}this._renderText(I,x.trim(),o,i-Ce,L),i+=I.textLeading(),U&&(this._textBaseline=u.BASELINE)}}else{var Se=0,O=I.textAlign().vertical;O===u.CENTER?Se=(w.length-1)*I.textLeading()/2:O===u.BOTTOM&&(Se=(w.length-1)*I.textLeading());for(var G=0;G<w.length;G++)this._renderText(I,w[G],o,i-Se,L),i+=I.textLeading()}return I}},t.default.Renderer.prototype._applyDefaults=function(){return this},t.default.Renderer.prototype._isOpenType=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return f(r)==="object"&&r.font&&r.font.supported},t.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var r=document.createElement("span");r.style.fontFamily=this._textFont,r.style.fontSize="".concat(this._textSize,"px"),r.innerHTML="ABCjgq|";var o=document.createElement("div");o.style.display="inline-block",o.style.width="1px",o.style.height="0px";var i=document.createElement("div");i.appendChild(r),i.appendChild(o),i.style.height="0px",i.style.overflow="hidden",document.body.appendChild(i),o.style.verticalAlign="baseline";var a=d(o),y=d(r),w=a[1]-y[1];o.style.verticalAlign="bottom",a=d(o),y=d(r);var x=a[1]-y[1]-w;return document.body.removeChild(i),this._setProperty("_textAscent",w),this._setProperty("_textDescent",x),this};var n=t.default.Renderer;g.default=n},{"../core/constants":253,"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],268:[function(e,v,g){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t=d(e("./main")),u=function(o){if(o&&o.__esModule)return o;if(o===null||h(o)!=="object"&&typeof o!="function")return{default:o};var i=f();if(i&&i.has(o))return i.get(o);var a={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in o)if(Object.prototype.hasOwnProperty.call(o,w)){var x=y?Object.getOwnPropertyDescriptor(o,w):null;x&&(x.get||x.set)?Object.defineProperty(a,w,x):a[w]=o[w]}return a.default=o,i&&i.set(o,a),a}(e("./constants")),c=d(e("../image/filters"));function f(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return f=function(){return o},o}function d(o){return o&&o.__esModule?o:{default:o}}e("./p5.Renderer");var n="rgba(0,0,0,0)";t.default.Renderer2D=function(o,i,a){return t.default.Renderer.call(this,o,i,a),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},t.default.Renderer2D.prototype=Object.create(t.default.Renderer.prototype),t.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=u.BLEND,this._setFill(u._DEFAULT_FILL),this._setStroke(u._DEFAULT_STROKE),this.drawingContext.lineCap=u.ROUND,this.drawingContext.font="normal 12px sans-serif"},t.default.Renderer2D.prototype.resize=function(o,i){t.default.Renderer.prototype.resize.call(this,o,i),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},t.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof t.default.Image)if(0<=(arguments.length<=1?void 0:arguments[1])){var o=arguments.length<=0?void 0:arguments[0];this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(o,0,0,this.width,this.height)}else this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var i,a=this._getFill(),y=(i=this._pInst).color.apply(i,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(y.levels);var w=y.toString();this._setFill(w),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(a),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},t.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},t.default.Renderer2D.prototype.fill=function(){var o,i=(o=this._pInst).color.apply(o,arguments);this._setFill(i.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",i.levels)},t.default.Renderer2D.prototype.stroke=function(){var o,i=(o=this._pInst).color.apply(o,arguments);this._setStroke(i.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",i.levels)},t.default.Renderer2D.prototype.erase=function(o,i){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var a=this._pInst.color(255,o).toString();this.drawingContext.fillStyle=a,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var y=this._pInst.color(255,i).toString();this.drawingContext.strokeStyle=y;var w=this._cachedBlendMode;this.blendMode(u.REMOVE),this._cachedBlendMode=w,this._isErasing=!0}},t.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},t.default.Renderer2D.prototype.image=function(o,i,a,y,w,x,_,T,E){var A;o.gifProperties&&o._animateGif(this._pInst);try{this._tint&&(t.default.MediaElement&&o instanceof t.default.MediaElement&&o.loadPixels(),o.canvas&&(A=this._getTintedImageCanvas(o))),A=A||o.canvas||o.elt;var P=1;o.width&&0<o.width&&(P=A.width/o.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(A,P*i,P*a,P*y,P*w,x,_,T,E),this._isErasing&&this._pInst.erase()}catch(I){if(I.name!=="NS_ERROR_NOT_AVAILABLE")throw I}},t.default.Renderer2D.prototype._getTintedImageCanvas=function(o){if(!o.canvas)return o;var i=c.default._toPixels(o.canvas),a=document.createElement("canvas");a.width=o.canvas.width,a.height=o.canvas.height;for(var y=a.getContext("2d"),w=y.createImageData(o.canvas.width,o.canvas.height),x=w.data,_=0;_<i.length;_+=4){var T=i[_],E=i[_+1],A=i[_+2],P=i[_+3];x[_]=T*this._tint[0]/255,x[_+1]=E*this._tint[1]/255,x[_+2]=A*this._tint[2]/255,x[_+3]=P*this._tint[3]/255}return y.putImageData(w,0,0),a},t.default.Renderer2D.prototype.blendMode=function(o){if(o===u.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(o!==u.BLEND&&o!==u.REMOVE&&o!==u.DARKEST&&o!==u.LIGHTEST&&o!==u.DIFFERENCE&&o!==u.MULTIPLY&&o!==u.EXCLUSION&&o!==u.SCREEN&&o!==u.REPLACE&&o!==u.OVERLAY&&o!==u.HARD_LIGHT&&o!==u.SOFT_LIGHT&&o!==u.DODGE&&o!==u.BURN&&o!==u.ADD)throw new Error("Mode ".concat(o," not recognized."));this._cachedBlendMode=o,this.drawingContext.globalCompositeOperation=o}},t.default.Renderer2D.prototype.blend=function(){for(var o=this.drawingContext.globalCompositeOperation,i=arguments.length,a=new Array(i),y=0;y<i;y++)a[y]=arguments[y];var w=a[a.length-1],x=Array.prototype.slice.call(a,0,a.length-1);this.drawingContext.globalCompositeOperation=w,t.default.prototype.copy.apply(this,x),this.drawingContext.globalCompositeOperation=o},t.default.Renderer2D.prototype._getPixel=function(o,i){var a;return[(a=this.drawingContext.getImageData(o,i,1,1).data)[0],a[1],a[2],a[3]]},t.default.Renderer2D.prototype.loadPixels=function(){var o=this._pixelsState,i=o._pixelDensity,a=this.width*i,y=this.height*i,w=this.drawingContext.getImageData(0,0,a,y);o._setProperty("imageData",w),o._setProperty("pixels",w.data)},t.default.Renderer2D.prototype.set=function(o,i,a){o=Math.floor(o),i=Math.floor(i);var y=this._pixelsState;if(a instanceof t.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(y._pixelDensity,y._pixelDensity),this.drawingContext.clearRect(o,i,a.width,a.height),this.drawingContext.drawImage(a.canvas,o,i),this.drawingContext.restore();else{var w=0,x=0,_=0,T=0,E=4*(i*y._pixelDensity*(this.width*y._pixelDensity)+o*y._pixelDensity);if(y.imageData||y.loadPixels.call(y),typeof a=="number")E<y.pixels.length&&(_=x=w=a,T=255);else if(a instanceof Array){if(a.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");E<y.pixels.length&&(w=a[0],x=a[1],_=a[2],T=a[3])}else a instanceof t.default.Color&&E<y.pixels.length&&(w=a.levels[0],x=a.levels[1],_=a.levels[2],T=a.levels[3]);for(var A=0;A<y._pixelDensity;A++)for(var P=0;P<y._pixelDensity;P++)E=4*((i*y._pixelDensity+P)*this.width*y._pixelDensity+(o*y._pixelDensity+A)),y.pixels[E]=w,y.pixels[E+1]=x,y.pixels[E+2]=_,y.pixels[E+3]=T}},t.default.Renderer2D.prototype.updatePixels=function(o,i,a,y){var w=this._pixelsState,x=w._pixelDensity;o===void 0&&i===void 0&&a===void 0&&y===void 0&&(i=o=0,a=this.width,y=this.height),o*=x,i*=x,a*=x,y*=x,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=w.imageData),this.drawingContext.putImageData(w.imageData,o,i,0,0,a,y)},t.default.Renderer2D.prototype._acuteArcToBezier=function(o,i){var a=i/2,y=Math.cos(a),w=Math.sin(a),x=1/Math.tan(a),_=o+a,T=Math.cos(_),E=Math.sin(_),A=(4-y)/3,P=w+(y-A)*x;return{ax:Math.cos(o).toFixed(7),ay:Math.sin(o).toFixed(7),bx:(A*T+P*E).toFixed(7),by:(A*E-P*T).toFixed(7),cx:(A*T-P*E).toFixed(7),cy:(A*E+P*T).toFixed(7),dx:Math.cos(o+i).toFixed(7),dy:Math.sin(o+i).toFixed(7)}},t.default.Renderer2D.prototype.arc=function(o,i,a,y,w,x,_){var T=this.drawingContext,E=a/2,A=y/2,P=0,I=[];for(o+=E,i+=A;1e-5<=x-w;)P=Math.min(x-w,u.HALF_PI),I.push(this._acuteArcToBezier(w,P)),w+=P;return this._doFill&&(T.beginPath(),I.forEach(function(R,L){L===0&&T.moveTo(o+R.ax*E,i+R.ay*A),T.bezierCurveTo(o+R.bx*E,i+R.by*A,o+R.cx*E,i+R.cy*A,o+R.dx*E,i+R.dy*A)}),_!==u.PIE&&_!=null||T.lineTo(o,i),T.closePath(),T.fill()),this._doStroke&&(T.beginPath(),I.forEach(function(R,L){L===0&&T.moveTo(o+R.ax*E,i+R.ay*A),T.bezierCurveTo(o+R.bx*E,i+R.by*A,o+R.cx*E,i+R.cy*A,o+R.dx*E,i+R.dy*A)}),_===u.PIE?(T.lineTo(o,i),T.closePath()):_===u.CHORD&&T.closePath(),T.stroke()),this},t.default.Renderer2D.prototype.ellipse=function(o){var i=this.drawingContext,a=this._doFill,y=this._doStroke,w=parseFloat(o[0]),x=parseFloat(o[1]),_=parseFloat(o[2]),T=parseFloat(o[3]);if(a&&!y){if(this._getFill()===n)return this}else if(!a&&y&&this._getStroke()===n)return this;var E=_/2*.5522847498,A=T/2*.5522847498,P=w+_,I=x+T,R=w+_/2,L=x+T/2;i.beginPath(),i.moveTo(w,L),i.bezierCurveTo(w,L-A,R-E,x,R,x),i.bezierCurveTo(R+E,x,P,L-A,P,L),i.bezierCurveTo(P,L+A,R+E,I,R,I),i.bezierCurveTo(R-E,I,w,L+A,w,L),a&&i.fill(),y&&i.stroke()},t.default.Renderer2D.prototype.line=function(o,i,a,y){var w=this.drawingContext;return this._doStroke&&(this._getStroke()===n||(w.beginPath(),w.moveTo(o,i),w.lineTo(a,y),w.stroke())),this},t.default.Renderer2D.prototype.point=function(o,i){var a=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===n)return this;var y=this._getStroke(),w=this._getFill();this._setFill(y),a.beginPath(),a.arc(o,i,a.lineWidth/2,0,u.TWO_PI,!1),a.fill(),this._setFill(w)},t.default.Renderer2D.prototype.quad=function(o,i,a,y,w,x,_,T){var E=this.drawingContext,A=this._doFill,P=this._doStroke;if(A&&!P){if(this._getFill()===n)return this}else if(!A&&P&&this._getStroke()===n)return this;return E.beginPath(),E.moveTo(o,i),E.lineTo(a,y),E.lineTo(w,x),E.lineTo(_,T),E.closePath(),A&&E.fill(),P&&E.stroke(),this},t.default.Renderer2D.prototype.rect=function(o){var i=o[0],a=o[1],y=o[2],w=o[3],x=o[4],_=o[5],T=o[6],E=o[7],A=this.drawingContext,P=this._doFill,I=this._doStroke;if(P&&!I){if(this._getFill()===n)return this}else if(!P&&I&&this._getStroke()===n)return this;if(A.beginPath(),x===void 0)A.rect(i,a,y,w);else{_===void 0&&(_=x),T===void 0&&(T=_),E===void 0&&(E=T);var R=Math.abs(y),L=Math.abs(w),U=R/2,D=L/2;R<2*x&&(x=U),L<2*x&&(x=D),R<2*_&&(_=U),L<2*_&&(_=D),R<2*T&&(T=U),L<2*T&&(T=D),R<2*E&&(E=U),L<2*E&&(E=D),A.beginPath(),A.moveTo(i+x,a),A.arcTo(i+y,a,i+y,a+w,_),A.arcTo(i+y,a+w,i,a+w,T),A.arcTo(i,a+w,i,a,E),A.arcTo(i,a,i+y,a,x),A.closePath()}return this._doFill&&A.fill(),this._doStroke&&A.stroke(),this},t.default.Renderer2D.prototype.triangle=function(o){var i=this.drawingContext,a=this._doFill,y=this._doStroke,w=o[0],x=o[1],_=o[2],T=o[3],E=o[4],A=o[5];if(a&&!y){if(this._getFill()===n)return this}else if(!a&&y&&this._getStroke()===n)return this;i.beginPath(),i.moveTo(w,x),i.lineTo(_,T),i.lineTo(E,A),i.closePath(),a&&i.fill(),y&&i.stroke()},t.default.Renderer2D.prototype.endShape=function(o,i,a,y,w,x,_){if(i.length===0)return this;if(!this._doStroke&&!this._doFill)return this;var T,E,A,P=o===u.CLOSE;P&&!x&&i.push(i[0]);var I=i.length;if(!a||_!==u.POLYGON&&_!==null)if(!y||_!==u.POLYGON&&_!==null)if(!w||_!==u.POLYGON&&_!==null)if(_===u.POINTS)for(E=0;E<I;E++)T=i[E],this._doStroke&&this._pInst.stroke(T[6]),this._pInst.point(T[0],T[1]);else if(_===u.LINES)for(E=0;E+1<I;E+=2)T=i[E],this._doStroke&&this._pInst.stroke(i[E+1][6]),this._pInst.line(T[0],T[1],i[E+1][0],i[E+1][1]);else if(_===u.TRIANGLES)for(E=0;E+2<I;E+=3)T=i[E],this.drawingContext.beginPath(),this.drawingContext.moveTo(T[0],T[1]),this.drawingContext.lineTo(i[E+1][0],i[E+1][1]),this.drawingContext.lineTo(i[E+2][0],i[E+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(i[E+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(i[E+2][6]),this.drawingContext.stroke());else if(_===u.TRIANGLE_STRIP)for(E=0;E+1<I;E++)T=i[E],this.drawingContext.beginPath(),this.drawingContext.moveTo(i[E+1][0],i[E+1][1]),this.drawingContext.lineTo(T[0],T[1]),this._doStroke&&this._pInst.stroke(i[E+1][6]),this._doFill&&this._pInst.fill(i[E+1][5]),E+2<I&&(this.drawingContext.lineTo(i[E+2][0],i[E+2][1]),this._doStroke&&this._pInst.stroke(i[E+2][6]),this._doFill&&this._pInst.fill(i[E+2][5])),this._doFillStrokeClose(P);else if(_===u.TRIANGLE_FAN){if(2<I){for(this.drawingContext.beginPath(),E=2;E<I;E++)T=i[E],this.drawingContext.moveTo(i[0][0],i[0][1]),this.drawingContext.lineTo(i[E-1][0],i[E-1][1]),this.drawingContext.lineTo(T[0],T[1]),this.drawingContext.lineTo(i[0][0],i[0][1]),E<I-1&&(this._doFill&&T[5]!==i[E+1][5]||this._doStroke&&T[6]!==i[E+1][6])&&(this._doFill&&(this._pInst.fill(T[5]),this.drawingContext.fill(),this._pInst.fill(i[E+1][5])),this._doStroke&&(this._pInst.stroke(T[6]),this.drawingContext.stroke(),this._pInst.stroke(i[E+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(P)}}else if(_===u.QUADS)for(E=0;E+3<I;E+=4){for(T=i[E],this.drawingContext.beginPath(),this.drawingContext.moveTo(T[0],T[1]),A=1;A<4;A++)this.drawingContext.lineTo(i[E+A][0],i[E+A][1]);this.drawingContext.lineTo(T[0],T[1]),this._doFill&&this._pInst.fill(i[E+3][5]),this._doStroke&&this._pInst.stroke(i[E+3][6]),this._doFillStrokeClose(P)}else if(_===u.QUAD_STRIP){if(3<I)for(E=0;E+1<I;E+=2)T=i[E],this.drawingContext.beginPath(),E+3<I?(this.drawingContext.moveTo(i[E+2][0],i[E+2][1]),this.drawingContext.lineTo(T[0],T[1]),this.drawingContext.lineTo(i[E+1][0],i[E+1][1]),this.drawingContext.lineTo(i[E+3][0],i[E+3][1]),this._doFill&&this._pInst.fill(i[E+3][5]),this._doStroke&&this._pInst.stroke(i[E+3][6])):(this.drawingContext.moveTo(T[0],T[1]),this.drawingContext.lineTo(i[E+1][0],i[E+1][1])),this._doFillStrokeClose(P)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[0][0],i[0][1]),E=1;E<I;E++)(T=i[E]).isVert&&(T.moveTo?this.drawingContext.moveTo(T[0],T[1]):this.drawingContext.lineTo(T[0],T[1]));this._doFillStrokeClose(P)}else{for(this.drawingContext.beginPath(),E=0;E<I;E++)i[E].isVert?i[E].moveTo?this.drawingContext.moveTo(i[E][0],i[E][1]):this.drawingContext.lineTo(i[E][0],i[E][1]):this.drawingContext.quadraticCurveTo(i[E][0],i[E][1],i[E][2],i[E][3]);this._doFillStrokeClose(P)}else{for(this.drawingContext.beginPath(),E=0;E<I;E++)i[E].isVert?i[E].moveTo?this.drawingContext.moveTo(i[E][0],i[E][1]):this.drawingContext.lineTo(i[E][0],i[E][1]):this.drawingContext.bezierCurveTo(i[E][0],i[E][1],i[E][2],i[E][3],i[E][4],i[E][5]);this._doFillStrokeClose(P)}else if(3<I){var R=[],L=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[1][0],i[1][1]),E=1;E+2<I;E++)T=i[E],R[0]=[T[0],T[1]],R[1]=[T[0]+(L*i[E+1][0]-L*i[E-1][0])/6,T[1]+(L*i[E+1][1]-L*i[E-1][1])/6],R[2]=[i[E+1][0]+(L*i[E][0]-L*i[E+2][0])/6,i[E+1][1]+(L*i[E][1]-L*i[E+2][1])/6],R[3]=[i[E+1][0],i[E+1][1]],this.drawingContext.bezierCurveTo(R[1][0],R[1][1],R[2][0],R[2][1],R[3][0],R[3][1]);P&&this.drawingContext.lineTo(i[E+1][0],i[E+1][1]),this._doFillStrokeClose(P)}return x=w=y=a=!1,P&&i.pop(),this},t.default.Renderer2D.prototype.strokeCap=function(o){return o!==u.ROUND&&o!==u.SQUARE&&o!==u.PROJECT||(this.drawingContext.lineCap=o),this},t.default.Renderer2D.prototype.strokeJoin=function(o){return o!==u.ROUND&&o!==u.BEVEL&&o!==u.MITER||(this.drawingContext.lineJoin=o),this},t.default.Renderer2D.prototype.strokeWeight=function(o){return this.drawingContext.lineWidth=o===void 0||o===0?1e-4:o,this},t.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},t.default.Renderer2D.prototype._setFill=function(o){o!==this._cachedFillStyle&&(this.drawingContext.fillStyle=o,this._cachedFillStyle=o)},t.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},t.default.Renderer2D.prototype._setStroke=function(o){o!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=o,this._cachedStrokeStyle=o)},t.default.Renderer2D.prototype.bezier=function(o,i,a,y,w,x,_,T){return this._pInst.beginShape(),this._pInst.vertex(o,i),this._pInst.bezierVertex(a,y,w,x,_,T),this._pInst.endShape(),this},t.default.Renderer2D.prototype.curve=function(o,i,a,y,w,x,_,T){return this._pInst.beginShape(),this._pInst.curveVertex(o,i),this._pInst.curveVertex(a,y),this._pInst.curveVertex(w,x),this._pInst.curveVertex(_,T),this._pInst.endShape(),this},t.default.Renderer2D.prototype._doFillStrokeClose=function(o){o&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},t.default.Renderer2D.prototype.applyMatrix=function(o,i,a,y,w,x){this.drawingContext.transform(o,i,a,y,w,x)},t.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},t.default.Renderer2D.prototype.rotate=function(o){this.drawingContext.rotate(o)},t.default.Renderer2D.prototype.scale=function(o,i){return this.drawingContext.scale(o,i),this},t.default.Renderer2D.prototype.translate=function(o,i){return o instanceof t.default.Vector&&(i=o.y,o=o.x),this.drawingContext.translate(o,i),this},t.default.Renderer2D.prototype.text=function(o,i,a,y,w){var x;y!==void 0&&this.drawingContext.textBaseline===u.BASELINE&&(x=!0,this.drawingContext.textBaseline=u.TOP);var _=t.default.Renderer.prototype.text.apply(this,arguments);return x&&(this.drawingContext.textBaseline=u.BASELINE),_},t.default.Renderer2D.prototype._renderText=function(o,i,a,y,w){if(!(w<=y))return o.push(),this._isOpenType()?this._textFont._renderPath(i,a,y,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(i,a,y),this._doFill&&(this._fillSet||this._setFill(u._DEFAULT_TEXT_FILL),this.drawingContext.fillText(i,a,y))),o.pop(),o},t.default.Renderer2D.prototype.textWidth=function(o){return this._isOpenType()?this._textFont._textWidth(o,this._textSize):this.drawingContext.measureText(o).width},t.default.Renderer2D.prototype._applyTextProperties=function(){var o,i=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),o=this._textFont,this._isOpenType()&&(o=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(o||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===u.CENTER?this.drawingContext.textBaseline=u._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,i},t.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),t.default.Renderer.prototype.push.apply(this)},t.default.Renderer2D.prototype.pop=function(o){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,t.default.Renderer.prototype.pop.call(this,o)};var r=t.default.Renderer2D;g.default=r},{"../image/filters":285,"./constants":253,"./main":264,"./p5.Renderer":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],269:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,t=(h=e("./main"))&&h.__esModule?h:{default:h};t.default.prototype._promisePreloads=[];var u=!(t.default.prototype.registerPromisePreload=function(f){t.default.prototype._promisePreloads.push(f)});t.default.prototype._setupPromisePreloads=function(){var f=!0,d=!1,n=void 0;try{for(var r,o=this._promisePreloads[Symbol.iterator]();!(f=(r=o.next()).done);f=!0){var i=r.value,a=this,y=i.method,w=i.addCallbacks,x=i.legacyPreloadSetup,_=i.target||this,T=_[y].bind(_);if(_===t.default.prototype){if(u)continue;a=null,T=_[y]}_[y]=this._wrapPromisePreload(a,T,w),x&&(_[x.method]=this._legacyPreloadGenerator(a,x,_[y]))}}catch(E){d=!0,n=E}finally{try{f||o.return==null||o.return()}finally{if(d)throw n}}u=!0},t.default.prototype._wrapPromisePreload=function(f,d,n){var r=function(){var o=this;this._incrementPreload();for(var i=null,a=null,y=arguments.length,w=new Array(y),x=0;x<y;x++)w[x]=arguments[x];if(n)for(var _=w.length-1;0<=_&&!a&&typeof w[_]=="function";_--)a=i,i=w.pop();var T=Promise.resolve(d.apply(this,w));return i&&T.then(i),a&&T.catch(a),T.then(function(){return o._decrementPreload()}),T};return f&&(r=r.bind(f)),r};function c(){return{}}t.default.prototype._legacyPreloadGenerator=function(f,d,n){var r=d.createBaseObject||c,o=function(){var i=this;this._incrementPreload();var a=r.apply(this,arguments);return n.apply(this,arguments).then(function(y){Object.assign(a,y),i._decrementPreload()}),a};return f&&(o=o.bind(f)),o}},{"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],270:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h},u=function(r){if(r&&r.__esModule)return r;if(r===null||f(r)!=="object"&&typeof r!="function")return{default:r};var o=c();if(o&&o.has(r))return o.get(r);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in r)if(Object.prototype.hasOwnProperty.call(r,y)){var w=a?Object.getOwnPropertyDescriptor(r,y):null;w&&(w.get||w.set)?Object.defineProperty(i,y,w):i[y]=r[y]}return i.default=r,o&&o.set(r,i),i}(e("./constants"));function c(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return c=function(){return r},r}function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var d="defaultCanvas0";t.default.prototype.createCanvas=function(r,o,i){t.default._validateParameters("createCanvas",arguments);var a,y=i||u.P2D;if(y===u.WEBGL){if(a=document.getElementById(d)){a.parentNode.removeChild(a);var w=this._renderer;this._elements=this._elements.filter(function(T){return T!==w})}(a=document.createElement("canvas")).id=d,a.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)a=this.canvas;else{a=document.createElement("canvas");for(var x=0;document.getElementById("defaultCanvas".concat(x));)x++;d="defaultCanvas".concat(x),a.id=d,a.classList.add("p5Canvas")}if(this._setupDone||(a.dataset.hidden=!0,a.style.visibility="hidden"),this._userNode)this._userNode.appendChild(a);else{if(document.getElementsByTagName("main").length===0){var _=document.createElement("main");document.body.appendChild(_)}document.getElementsByTagName("main")[0].appendChild(a)}return y===u.WEBGL?(this._setProperty("_renderer",new t.default.RendererGL(a,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new t.default.Renderer2D(a,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(r,o),this._renderer._applyDefaults(),this._renderer},t.default.prototype.resizeCanvas=function(r,o,i){if(t.default._validateParameters("resizeCanvas",arguments),this._renderer){var a={};for(var y in this.drawingContext){var w=this.drawingContext[y];f(w)!=="object"&&typeof w!="function"&&(a[y]=w)}for(var x in this._renderer.resize(r,o),this.width=r,this.height=o,a)try{this.drawingContext[x]=a[x]}catch{}i||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},t.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},t.default.prototype.createGraphics=function(r,o,i){return t.default._validateParameters("createGraphics",arguments),new t.default.Graphics(r,o,i,this)},t.default.prototype.blendMode=function(r){t.default._validateParameters("blendMode",arguments),r===u.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),r=u.BLEND),this._renderer.blendMode(r)};var n=t.default;g.default=n},{"../webgl/p5.RendererGL":318,"./constants":253,"./main":264,"./p5.Graphics":266,"./p5.Renderer2D":268,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],271:[function(e,v,g){function h(r){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}e("core-js/modules/es.array.slice"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t=d(e("../main")),u=function(r){if(r&&r.__esModule)return r;if(r===null||h(r)!=="object"&&typeof r!="function")return{default:r};var o=f();if(o&&o.has(r))return o.get(r);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in r)if(Object.prototype.hasOwnProperty.call(r,y)){var w=a?Object.getOwnPropertyDescriptor(r,y):null;w&&(w.get||w.set)?Object.defineProperty(i,y,w):i[y]=r[y]}return i.default=r,o&&o.set(r,i),i}(e("../constants")),c=d(e("../helpers"));function f(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return f=function(){return r},r}function d(r){return r&&r.__esModule?r:{default:r}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),t.default.prototype._normalizeArcAngles=function(r,o,i,a,y){var w;return r-=u.TWO_PI*Math.floor(r/u.TWO_PI),o-=u.TWO_PI*Math.floor(o/u.TWO_PI),w=Math.min(Math.abs(r-o),u.TWO_PI-Math.abs(r-o)),y&&(r=r<=u.HALF_PI?Math.atan(i/a*Math.tan(r)):r>u.HALF_PI&&r<=3*u.HALF_PI?Math.atan(i/a*Math.tan(r))+u.PI:Math.atan(i/a*Math.tan(r))+u.TWO_PI,o=o<=u.HALF_PI?Math.atan(i/a*Math.tan(o)):o>u.HALF_PI&&o<=3*u.HALF_PI?Math.atan(i/a*Math.tan(o))+u.PI:Math.atan(i/a*Math.tan(o))+u.TWO_PI),o<r&&(o+=u.TWO_PI),{start:r,stop:o,correspondToSamePoint:w<1e-5}},t.default.prototype.arc=function(r,o,i,a,y,w,x,_){if(t.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(y===w)return this;y=this._toRadians(y),w=this._toRadians(w),i=Math.abs(i),a=Math.abs(a);var T=c.default.modeAdjust(r,o,i,a,this._renderer._ellipseMode),E=this._normalizeArcAngles(y,w,T.w,T.h,!0);return E.correspondToSamePoint?this._renderer.ellipse([T.x,T.y,T.w,T.h,_]):(this._renderer.arc(T.x,T.y,T.w,T.h,E.start,E.stop,x,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[T.x,T.y,T.w,T.h,E.start,E.stop,x])),this},t.default.prototype.ellipse=function(r,o,i,a,y){return t.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},t.default.prototype.circle=function(){t.default._validateParameters("circle",arguments);var r=Array.prototype.slice.call(arguments,0,2);return r.push(arguments[2]),r.push(arguments[2]),this._renderEllipse.apply(this,r)},t.default.prototype._renderEllipse=function(r,o,i,a,y){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;i<0&&(i=Math.abs(i)),a===void 0?a=i:a<0&&(a=Math.abs(a));var w=c.default.modeAdjust(r,o,i,a,this._renderer._ellipseMode);return this._renderer.ellipse([w.x,w.y,w.w,w.h,y]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[w.x,w.y,w.w,w.h]),this},t.default.prototype.line=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a;return t.default._validateParameters("line",o),this._renderer._doStroke&&(a=this._renderer).line.apply(a,o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",o),this},t.default.prototype.point=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a;return t.default._validateParameters("point",o),this._renderer._doStroke&&(o.length===1&&o[0]instanceof t.default.Vector?this._renderer.point.call(this._renderer,o[0].x,o[0].y,o[0].z):((a=this._renderer).point.apply(a,o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",o))),this},t.default.prototype.quad=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a;return t.default._validateParameters("quad",o),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&o.length<=12?this._renderer.quad.call(this._renderer,o[0],o[1],0,o[2],o[3],0,o[4],o[5],0,o[6],o[7],0,o[8],o[9]):((a=this._renderer).quad.apply(a,o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",o))),this},t.default.prototype.rect=function(){return t.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},t.default.prototype.square=function(r,o,i,a,y,w,x){return t.default._validateParameters("square",arguments),this._renderRect.call(this,r,o,i,i,a,y,w,x)},t.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var r=c.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),o=[r.x,r.y,r.w,r.h],i=4;i<arguments.length;i++)o[i]=arguments[i];this._renderer.rect(o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[r.x,r.y,r.w,r.h])}return this},t.default.prototype.triangle=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t.default._validateParameters("triangle",o),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",o),this};var n=t.default;g.default=n},{"../constants":253,"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../helpers":260,"../main":264,"core-js/modules/es.array.slice":162}],272:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../main"))&&t.__esModule?t:{default:t},c=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=f();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../constants"));function f(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return f=function(){return n},n}u.default.prototype.ellipseMode=function(n){return u.default._validateParameters("ellipseMode",arguments),n!==c.CORNER&&n!==c.CORNERS&&n!==c.RADIUS&&n!==c.CENTER||(this._renderer._ellipseMode=n),this},u.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},u.default.prototype.rectMode=function(n){return u.default._validateParameters("rectMode",arguments),n!==c.CORNER&&n!==c.CORNERS&&n!==c.RADIUS&&n!==c.CENTER||(this._renderer._rectMode=n),this},u.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},u.default.prototype.strokeCap=function(n){return u.default._validateParameters("strokeCap",arguments),n!==c.ROUND&&n!==c.SQUARE&&n!==c.PROJECT||this._renderer.strokeCap(n),this},u.default.prototype.strokeJoin=function(n){return u.default._validateParameters("strokeJoin",arguments),n!==c.ROUND&&n!==c.BEVEL&&n!==c.MITER||this._renderer.strokeJoin(n),this},u.default.prototype.strokeWeight=function(n){return u.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(n),this};var d=u.default;g.default=d},{"../constants":253,"../main":264}],273:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../main"))&&h.__esModule?h:{default:h};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),t.default.prototype.bezier=function(){for(var c,f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];return t.default._validateParameters("bezier",d),(this._renderer._doStroke||this._renderer._doFill)&&(c=this._renderer).bezier.apply(c,d),this},t.default.prototype.bezierDetail=function(c){return t.default._validateParameters("bezierDetail",arguments),this._bezierDetail=c,this},t.default.prototype.bezierPoint=function(c,f,d,n,r){t.default._validateParameters("bezierPoint",arguments);var o=1-r;return Math.pow(o,3)*c+3*Math.pow(o,2)*r*f+3*o*Math.pow(r,2)*d+Math.pow(r,3)*n},t.default.prototype.bezierTangent=function(c,f,d,n,r){t.default._validateParameters("bezierTangent",arguments);var o=1-r;return 3*n*Math.pow(r,2)-3*d*Math.pow(r,2)+6*d*o*r-6*f*o*r+3*f*Math.pow(o,2)-3*c*Math.pow(o,2)},t.default.prototype.curve=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];var n;return t.default._validateParameters("curve",f),this._renderer._doStroke&&(n=this._renderer).curve.apply(n,f),this},t.default.prototype.curveDetail=function(c){return t.default._validateParameters("curveDetail",arguments),this._curveDetail=c<3?3:c,this},t.default.prototype.curveTightness=function(c){return t.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=c,this},t.default.prototype.curvePoint=function(c,f,d,n,r){t.default._validateParameters("curvePoint",arguments);var o=r*r*r,i=r*r;return c*(-.5*o+i-.5*r)+f*(1.5*o-2.5*i+1)+d*(-1.5*o+2*i+.5*r)+n*(.5*o-.5*i)},t.default.prototype.curveTangent=function(c,f,d,n,r){t.default._validateParameters("curveTangent",arguments);var o=r*r;return c*(-3*o/2+2*r-.5)+f*(9*o/2-5*r)+d*(-9*o/2+4*r+.5)+n*(3*o/2-r)};var u=t.default;g.default=u},{"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../main":264}],274:[function(e,v,g){function h(_){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(_)}e("core-js/modules/es.array.slice"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../main"))&&t.__esModule?t:{default:t},c=function(_){if(_&&_.__esModule)return _;if(_===null||h(_)!=="object"&&typeof _!="function")return{default:_};var T=f();if(T&&T.has(_))return T.get(_);var E={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in _)if(Object.prototype.hasOwnProperty.call(_,P)){var I=A?Object.getOwnPropertyDescriptor(_,P):null;I&&(I.get||I.set)?Object.defineProperty(E,P,I):E[P]=_[P]}return E.default=_,T&&T.set(_,E),E}(e("../constants"));function f(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return f=function(){return _},_}var d=null,n=[],r=[],o=!1,i=!1,a=!1,y=!1,w=!0;u.default.prototype.beginContour=function(){return r=[],y=!0,this},u.default.prototype.beginShape=function(_){var T;return u.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(T=this._renderer).beginShape.apply(T,arguments):(d=_===c.POINTS||_===c.LINES||_===c.TRIANGLES||_===c.TRIANGLE_FAN||_===c.TRIANGLE_STRIP||_===c.QUADS||_===c.QUAD_STRIP?_:null,n=[],r=[]),this},u.default.prototype.bezierVertex=function(){for(var _=arguments.length,T=new Array(_),E=0;E<_;E++)T[E]=arguments[E];var A;if(u.default._validateParameters("bezierVertex",T),this._renderer.isP3D)(A=this._renderer).bezierVertex.apply(A,T);else if(n.length===0)u.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{o=!0;for(var P=[],I=0;I<T.length;I++)P[I]=T[I];P.isVert=!1,y?r.push(P):n.push(P)}return this},u.default.prototype.curveVertex=function(){for(var _=arguments.length,T=new Array(_),E=0;E<_;E++)T[E]=arguments[E];var A;return u.default._validateParameters("curveVertex",T),this._renderer.isP3D?(A=this._renderer).curveVertex.apply(A,T):(i=!0,this.vertex(T[0],T[1])),this},u.default.prototype.endContour=function(){var _=r[0].slice();_.isVert=r[0].isVert,_.moveTo=!1,r.push(_),w&&(n.push(n[0]),w=!1);for(var T=0;T<r.length;T++)n.push(r[T]);return this},u.default.prototype.endShape=function(_){if(u.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(_,i,o,a,y,d);else{if(n.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var T=_===c.CLOSE;T&&!y&&n.push(n[0]),this._renderer.endShape(_,n,i,o,a,y,d),w=!(y=a=o=i=!1),T&&n.pop()}return this},u.default.prototype.quadraticVertex=function(){for(var _=arguments.length,T=new Array(_),E=0;E<_;E++)T[E]=arguments[E];if(u.default._validateParameters("quadraticVertex",T),this._renderer.isP3D){var A;(A=this._renderer).quadraticVertex.apply(A,T)}else{if(this._contourInited){var P={};return P.x=T[0],P.y=T[1],P.x3=T[2],P.y3=T[3],P.type=c.QUADRATIC,this._contourVertices.push(P),this}if(0<n.length){a=!0;for(var I=[],R=0;R<T.length;R++)I[R]=T[R];I.isVert=!1,y?r.push(I):n.push(I)}else u.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},u.default.prototype.vertex=function(_,T,E,A,P){if(this._renderer.isP3D){var I;(I=this._renderer).vertex.apply(I,arguments)}else{var R=[];R.isVert=!0,R[0]=_,R[1]=T,R[2]=0,R[3]=0,R[4]=0,R[5]=this._renderer._getFill(),R[6]=this._renderer._getStroke(),E&&(R.moveTo=E),y?(r.length===0&&(R.moveTo=!0),r.push(R)):n.push(R)}return this},u.default.prototype.normal=function(_,T,E){var A;return this._assert3d("normal"),u.default._validateParameters("normal",arguments),(A=this._renderer).normal.apply(A,arguments),this};var x=u.default;g.default=x},{"../constants":253,"../main":264,"core-js/modules/es.array.slice":162}],275:[function(e,v,g){function h(t){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(t)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,u){window.setTimeout(t,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var t=Object.keys,u=Object.defineProperty,c=typeof Symbol=="function"&&h(Symbol())==="symbol",f=Object.prototype.propertyIsEnumerable,d=function(n){return function(r){return f.call(n,r)}};u(Object,"assign",{value:function(n,r){if(n==null)throw new TypeError("target must be an object");var o,i,a,y,w=Object(n);for(o=1;o<arguments.length;++o)for(i=Object(arguments[o]),y=t(i),c&&Object.getOwnPropertySymbols&&y.push.apply(y,Object.getOwnPropertySymbols(i).filter(d(i))),a=0;a<y.length;++a)w[y[a]]=i[y[a]];return w},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":229}],276:[function(e,v,g){e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h};t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var c=this._styles.pop();c?(this._renderer.pop(c.renderer),Object.assign(this,c.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(c){if(!this._inUserDraw&&this._setupDone){var f=parseInt(c);(isNaN(f)||f<1)&&(f=1);var d=this._isGlobal?window:this;if(typeof d.draw=="function"){d.setup===void 0&&d.scale(d._pixelDensity,d._pixelDensity);for(var n=function(o){o.call(d)},r=0;r<f;r++){d.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),d._renderer.isP3D&&d._renderer._update(),d._setProperty("frameCount",d.frameCount+1),d._registeredMethods.pre.forEach(n),this._inUserDraw=!0;try{d.draw()}finally{this._inUserDraw=!1}d._registeredMethods.post.forEach(n)}}}};var u=t.default;g.default=u},{"./main":264,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":173,"core-js/modules/web.dom-collections.for-each":228}],277:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("./main"))&&h.__esModule?h:{default:h};function u(f){return function(d){if(Array.isArray(d)){for(var n=0,r=new Array(d.length);n<d.length;n++)r[n]=d[n];return r}}(f)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.default.prototype.applyMatrix=function(){var f,d,n=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||n?(f=this._renderer).applyMatrix.apply(f,u(arguments[0])):(d=this._renderer).applyMatrix.apply(d,arguments),this},t.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},t.default.prototype.rotate=function(f,d){return t.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(f),d),this},t.default.prototype.rotateX=function(f){return this._assert3d("rotateX"),t.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(f)),this},t.default.prototype.rotateY=function(f){return this._assert3d("rotateY"),t.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(f)),this},t.default.prototype.rotateZ=function(f){return this._assert3d("rotateZ"),t.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(f)),this},t.default.prototype.scale=function(f,d,n){if(t.default._validateParameters("scale",arguments),f instanceof t.default.Vector){var r=f;f=r.x,d=r.y,n=r.z}else if(f instanceof Array){var o=f;f=o[0],d=o[1],n=o[2]||1}return isNaN(d)?d=n=f:isNaN(n)&&(n=1),this._renderer.scale.call(this._renderer,f,d,n),this},t.default.prototype.shearX=function(f){t.default._validateParameters("shearX",arguments);var d=this._toRadians(f);return this._renderer.applyMatrix(1,0,Math.tan(d),1,0,0),this},t.default.prototype.shearY=function(f){t.default._validateParameters("shearY",arguments);var d=this._toRadians(f);return this._renderer.applyMatrix(1,Math.tan(d),0,1,0,0),this},t.default.prototype.translate=function(f,d,n){return t.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(f,d,n):this._renderer.translate(f,d),this};var c=t.default;g.default=c},{"./main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229}],278:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function u(f){return function(d){if(Array.isArray(d)){for(var n=0,r=new Array(d.length);n<d.length;n++)r[n]=d[n];return r}}(f)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(f){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}t.default.prototype.storeItem=function(f,d){typeof f!="string"&&console.log("The argument that you passed to storeItem() - ".concat(f," is not a string.")),f.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(f," must not end with 'p5TypeID'.")),d===void 0&&console.log("You cannot store undefined variables using storeItem().");var n=c(d);switch(n){case"number":case"boolean":d=d.toString();break;case"object":d instanceof t.default.Color?n="p5.Color":d instanceof t.default.Vector&&(n="p5.Vector",d=[d.x,d.y,d.z]),d=JSON.stringify(d)}localStorage.setItem(f,d);var r="".concat(f,"p5TypeID");localStorage.setItem(r,n)},t.default.prototype.getItem=function(f){var d=localStorage.getItem(f),n=localStorage.getItem("".concat(f,"p5TypeID"));if(n===void 0)console.log("Unable to determine type of item stored under ".concat(f,"in local storage. Did you save the item with something other than setItem()?"));else if(d!==null)switch(n){case"number":d=parseFloat(d);break;case"boolean":d=d==="true";break;case"object":d=JSON.parse(d);break;case"p5.Color":d=JSON.parse(d),d=this.color.apply(this,u(d.levels));break;case"p5.Vector":d=JSON.parse(d),d=this.createVector.apply(this,u(d))}return d},t.default.prototype.clearStorage=function(){localStorage.clear()},t.default.prototype.removeItem=function(f){typeof f!="string"&&console.log("The argument that you passed to removeItem() - ".concat(f," is not a string.")),localStorage.removeItem(f),localStorage.removeItem("".concat(f,"p5TypeID"))}},{"../core/main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],279:[function(e,v,g){e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.createStringDict=function(c,f){return t.default._validateParameters("createStringDict",arguments),new t.default.StringDict(c,f)},t.default.prototype.createNumberDict=function(c,f){return t.default._validateParameters("createNumberDict",arguments),new t.default.NumberDict(c,f)},t.default.TypedDict=function(c,f){return c instanceof Object?this.data=c:(this.data={},this.data[c]=f),this},t.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},t.default.TypedDict.prototype.hasKey=function(c){return this.data.hasOwnProperty(c)},t.default.TypedDict.prototype.get=function(c){if(this.data.hasOwnProperty(c))return this.data[c];console.log("".concat(c," does not exist in this Dictionary"))},t.default.TypedDict.prototype.set=function(c,f){this._validate(f)?this.data[c]=f:console.log("Those values dont work for this dictionary type.")},t.default.TypedDict.prototype._addObj=function(c){for(var f in c)this.set(f,c[f])},t.default.TypedDict.prototype.create=function(c,f){c instanceof Object&&f===void 0?this._addObj(c):c!==void 0?this.set(c,f):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},t.default.TypedDict.prototype.clear=function(){this.data={}},t.default.TypedDict.prototype.remove=function(c){if(!this.data.hasOwnProperty(c))throw new Error("".concat(c," does not exist in this Dictionary"));delete this.data[c]},t.default.TypedDict.prototype.print=function(){for(var c in this.data)console.log("key:".concat(c," value:").concat(this.data[c]))},t.default.TypedDict.prototype.saveTable=function(c){var f="";for(var d in this.data)f+="".concat(d,",").concat(this.data[d],`
`);var n=new Blob([f],{type:"text/csv"});t.default.prototype.downloadFile(n,c||"mycsv","csv")},t.default.TypedDict.prototype.saveJSON=function(c,f){t.default.prototype.saveJSON(this.data,c,f)},t.default.TypedDict.prototype._validate=function(c){return!0},t.default.StringDict=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];t.default.TypedDict.apply(this,f)},t.default.StringDict.prototype=Object.create(t.default.TypedDict.prototype),t.default.StringDict.prototype._validate=function(c){return typeof c=="string"},t.default.NumberDict=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];t.default.TypedDict.apply(this,f)},t.default.NumberDict.prototype=Object.create(t.default.TypedDict.prototype),t.default.NumberDict.prototype._validate=function(c){return typeof c=="number"},t.default.NumberDict.prototype.add=function(c,f){this.data.hasOwnProperty(c)?this.data[c]+=f:console.log("The key - ".concat(c," does not exist in this dictionary."))},t.default.NumberDict.prototype.sub=function(c,f){this.add(c,-f)},t.default.NumberDict.prototype.mult=function(c,f){this.data.hasOwnProperty(c)?this.data[c]*=f:console.log("The key - ".concat(c," does not exist in this dictionary."))},t.default.NumberDict.prototype.div=function(c,f){this.data.hasOwnProperty(c)?this.data[c]/=f:console.log("The key - ".concat(c," does not exist in this dictionary."))},t.default.NumberDict.prototype._valueTest=function(c){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var f=this.data[Object.keys(this.data)[0]];for(var d in this.data)this.data[d]*c<f*c&&(f=this.data[d]);return f},t.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},t.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},t.default.NumberDict.prototype._keyTest=function(c){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var f=Object.keys(this.data)[0],d=1;d<Object.keys(this.data).length;d++)Object.keys(this.data)[d]*c<f*c&&(f=Object.keys(this.data)[d]);return f},t.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},t.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)};var u=t.default.TypedDict;g.default=u},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],280:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function u(r){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function c(r,o,i){(o._userNode?o._userNode:document.body).appendChild(r);var a=i?new t.default.MediaElement(r,o):new t.default.Element(r,o);return o._elements.push(a),a}function f(r,o,i,a){var y=document.createElement(o);typeof(i=i||"")=="string"&&(i=[i]);var w=!0,x=!1,_=void 0;try{for(var T,E=i[Symbol.iterator]();!(w=(T=E.next()).done);w=!0){var A=T.value,P=document.createElement("source");P.setAttribute("src",A),y.appendChild(P)}}catch(R){x=!0,_=R}finally{try{w||E.return==null||E.return()}finally{if(x)throw _}}typeof a=="function"&&y.addEventListener("canplaythrough",function R(){a(),y.removeEventListener("canplaythrough",R)});var I=c(y,r,!0);return I.loadedmetadata=!1,y.addEventListener("loadedmetadata",function(){I.width=y.videoWidth,I.height=y.videoHeight,I.elt.width===0&&(I.elt.width=y.videoWidth),I.elt.height===0&&(I.elt.height=y.videoHeight),I.presetPlaybackRate&&(I.elt.playbackRate=I.presetPlaybackRate,delete I.presetPlaybackRate),I.loadedmetadata=!0}),I}t.default.prototype.select=function(r,o){t.default._validateParameters("select",arguments);var i=this._getContainer(o).querySelector(r);return i?this._wrapElement(i):null},t.default.prototype.selectAll=function(r,o){t.default._validateParameters("selectAll",arguments);var i=[],a=this._getContainer(o).querySelectorAll(r);if(a)for(var y=0;y<a.length;y++){var w=this._wrapElement(a[y]);i.push(w)}return i},t.default.prototype._getContainer=function(r){var o=document;return typeof r=="string"?o=document.querySelector(r)||document:r instanceof t.default.Element?o=r.elt:r instanceof HTMLElement&&(o=r),o},t.default.prototype._wrapElement=function(r){var o=Array.prototype.slice.call(r.children);if(r.tagName!=="INPUT"||r.type!=="checkbox")return r.tagName==="VIDEO"||r.tagName==="AUDIO"?new t.default.MediaElement(r,this):r.tagName==="SELECT"?this.createSelect(new t.default.Element(r,this)):0<o.length&&o.every(function(a){return a.tagName==="INPUT"||a.tagName==="LABEL"})?this.createRadio(new t.default.Element(r,this)):new t.default.Element(r,this);var i=new t.default.Element(r,this);return i.checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},i},t.default.prototype.removeElements=function(r){t.default._validateParameters("removeElements",arguments),this._elements.filter(function(o){return!(o.elt instanceof HTMLCanvasElement)}).map(function(o){return o.remove()})},t.default.Element.prototype.changed=function(r){return t.default.Element._adjustListener("change",r,this),this},t.default.Element.prototype.input=function(r){return t.default.Element._adjustListener("input",r,this),this},t.default.prototype.createDiv=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=document.createElement("div");return o.innerHTML=r,c(o,this)},t.default.prototype.createP=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=document.createElement("p");return o.innerHTML=r,c(o,this)},t.default.prototype.createSpan=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=document.createElement("span");return o.innerHTML=r,c(o,this)},t.default.prototype.createImg=function(){t.default._validateParameters("createImg",arguments);var r,o=document.createElement("img"),i=arguments;return 1<i.length&&typeof i[1]=="string"&&(o.alt=i[1]),2<i.length&&typeof i[2]=="string"&&(o.crossOrigin=i[2]),o.src=i[0],r=c(o,this),o.addEventListener("load",function(){r.width=o.offsetWidth||o.width,r.height=o.offsetHeight||o.height;var a=i[i.length-1];typeof a=="function"&&a(r)}),r},t.default.prototype.createA=function(r,o,i){t.default._validateParameters("createA",arguments);var a=document.createElement("a");return a.href=r,a.innerHTML=o,i&&(a.target=i),c(a,this)},t.default.prototype.createSlider=function(r,o,i,a){t.default._validateParameters("createSlider",arguments);var y=document.createElement("input");return y.type="range",y.min=r,y.max=o,a===0?y.step=1e-18:a&&(y.step=a),typeof i=="number"&&(y.value=i),c(y,this)},t.default.prototype.createButton=function(r,o){t.default._validateParameters("createButton",arguments);var i=document.createElement("button");return i.innerHTML=r,o&&(i.value=o),c(i,this)},t.default.prototype.createCheckbox=function(){t.default._validateParameters("createCheckbox",arguments);var r=document.createElement("div"),o=document.createElement("input");o.type="checkbox";var i=document.createElement("label");i.appendChild(o),r.appendChild(i);var a=c(r,this);if(a.checked=function(){var w=a.elt.firstElementChild.getElementsByTagName("input")[0];if(w){if(arguments.length===0)return w.checked;w.checked=!!arguments[0]}return a},this.value=function(w){return a.value=w,this},arguments[0]){a.value(arguments[0]);var y=document.createElement("span");y.innerHTML=arguments[0],i.appendChild(y)}return arguments[1]&&(o.checked=!0),a},t.default.prototype.createSelect=function(){var r;t.default._validateParameters("createSelect",arguments);var o=arguments[0];if(o instanceof t.default.Element&&o.elt instanceof HTMLSelectElement)r=o,this.elt=o.elt;else if(o instanceof HTMLSelectElement)r=c(o,this),this.elt=o;else{var i=document.createElement("select");o&&typeof o=="boolean"&&i.setAttribute("multiple","true"),r=c(i,this),this.elt=i}return r.option=function(a,y){var w;if(a!==void 0){for(var x=0;x<this.elt.length;x+=1)if(this.elt[x].innerHTML===a){w=x;break}if(w!==void 0)y===!1?this.elt.remove(w):this.elt[w].value=y;else{var _=document.createElement("option");_.innerHTML=a,_.value=y===void 0?a:y,this.elt.appendChild(_),this._pInst._elements.push(_)}}},r.selected=function(a){if(a!==void 0){for(var y=0;y<this.elt.length;y+=1)this.elt[y].value.toString()===a.toString()&&(this.elt.selectedIndex=y);return this}if(this.elt.getAttribute("multiple")){var w=[],x=!0,_=!1,T=void 0;try{for(var E,A=this.elt.selectedOptions[Symbol.iterator]();!(x=(E=A.next()).done);x=!0){var P=E.value;w.push(P.value)}}catch(I){_=!0,T=I}finally{try{x||A.return==null||A.return()}finally{if(_)throw T}}return w}return this.elt.value},r.disable=function(a){if(typeof a=="string")for(var y=0;y<this.elt.length;y++)this.elt[y].value.toString()===a&&(this.elt[y].disabled=!0,this.elt[y].selected=!1);else this.elt.disabled=!0;return this},r},t.default.prototype.createRadio=function(){var r,o,i=arguments[0];i instanceof HTMLDivElement||i instanceof HTMLSpanElement?(r=i,typeof arguments[1]=="string"&&(o=arguments[1])):(typeof i=="string"&&(o=i),r=document.createElement("div"));var a=c(this.elt=r,this);a._name=o||"radioOption";function y(x){return x instanceof HTMLInputElement&&x.type==="radio"}function w(x){return x instanceof HTMLLabelElement}return a._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(x){return y(x)||w(x)&&y(x.firstElementChild)}).map(function(x){return y(x)?x:x.firstElementChild})},a.option=function(x,_){var T,E,A,P=!0,I=!1,R=void 0;try{for(var L,U=a._getOptionsArray()[Symbol.iterator]();!(P=(L=U.next()).done);P=!0){var D=L.value;if(D.value===x){T=D;break}}}catch(H){I=!0,R=H}finally{try{P||U.return==null||U.return()}finally{if(I)throw R}}return T===void 0&&((T=document.createElement("input")).setAttribute("type","radio"),T.setAttribute("value",x)),T.setAttribute("name",a._name),w(T.parentElement)?E=T.parentElement:(E=document.createElement("label")).insertAdjacentElement("afterbegin",T),E.lastElementChild instanceof HTMLSpanElement?A=E.lastElementChild:(A=document.createElement("span"),T.insertAdjacentElement("afterend",A)),A.innerHTML=_===void 0?x:_,this.elt.appendChild(E),T},a.remove=function(x){var _=!0,T=!1,E=void 0;try{for(var A,P=a._getOptionsArray()[Symbol.iterator]();!(_=(A=P.next()).done);_=!0){var I=A.value;if(I.value===x)return void(w(I.parentElement)?I.parentElement.remove():I.remove())}}catch(R){T=!0,E=R}finally{try{_||P.return==null||P.return()}finally{if(T)throw E}}},a.value=function(){var x="",_=!0,T=!1,E=void 0;try{for(var A,P=a._getOptionsArray()[Symbol.iterator]();!(_=(A=P.next()).done);_=!0){var I=A.value;if(I.checked){x=I.value;break}}}catch(R){T=!0,E=R}finally{try{_||P.return==null||P.return()}finally{if(T)throw E}}return x},a.selected=function(x){var _=null;if(x===void 0){var T=!0,E=!1,A=void 0;try{for(var P,I=a._getOptionsArray()[Symbol.iterator]();!(T=(P=I.next()).done);T=!0){var R=P.value;if(R.checked){_=R;break}}}catch(le){E=!0,A=le}finally{try{T||I.return==null||I.return()}finally{if(E)throw A}}}else{a._getOptionsArray().forEach(function(le){le.checked=!1,le.removeAttribute("checked")});var L=!0,U=!1,D=void 0;try{for(var H,W=a._getOptionsArray()[Symbol.iterator]();!(L=(H=W.next()).done);L=!0){var ae=H.value;ae.value===x&&(ae.setAttribute("checked",!0),ae.checked=!0,_=ae)}}catch(le){U=!0,D=le}finally{try{L||W.return==null||W.return()}finally{if(U)throw D}}}return _},a.disable=function(){var x=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],_=!0,T=!1,E=void 0;try{for(var A,P=a._getOptionsArray()[Symbol.iterator]();!(_=(A=P.next()).done);_=!0)A.value.setAttribute("disabled",x)}catch(I){T=!0,E=I}finally{try{_||P.return==null||P.return()}finally{if(T)throw E}}},a},t.default.prototype.createColorPicker=function(r){t.default._validateParameters("createColorPicker",arguments);var o,i=document.createElement("input");return i.type="color",r?r instanceof t.default.Color?i.value=r.toString("#rrggbb"):(t.default.prototype._colorMode="rgb",t.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},i.value=t.default.prototype.color(r).toString("#rrggbb")):i.value="#000000",(o=c(i,this)).color=function(){return r&&(r.mode&&(t.default.prototype._colorMode=r.mode),r.maxes&&(t.default.prototype._colorMaxes=r.maxes)),t.default.prototype.color(this.elt.value)},o},t.default.prototype.createInput=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text";t.default._validateParameters("createInput",arguments);var i=document.createElement("input");return i.setAttribute("value",r),i.setAttribute("type",o),c(i,this)},t.default.prototype.createFileInput=function(r){var o=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(t.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var i=document.createElement("input");return i.setAttribute("type","file"),o&&i.setAttribute("multiple",!0),i.addEventListener("change",function(a){var y=!0,w=!1,x=void 0;try{for(var _,T=a.target.files[Symbol.iterator]();!(y=(_=T.next()).done);y=!0){var E=_.value;t.default.File._load(E,r)}}catch(A){w=!0,x=A}finally{try{y||T.return==null||T.return()}finally{if(w)throw x}}},!1),c(i,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},t.default.prototype.createVideo=function(r,o){return t.default._validateParameters("createVideo",arguments),f(this,"video",r,o)},t.default.prototype.createAudio=function(r,o){return t.default._validateParameters("createAudio",arguments),f(this,"audio",r,o)},t.default.prototype.VIDEO="video",t.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(r){var o=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return o?new Promise(function(i,a){o.call(navigator,r,i,a)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),t.default.prototype.createCapture=function(){if(t.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var r,o,i=!0,a=!0,y=!0,w=!1,x=void 0;try{for(var _,T=arguments[Symbol.iterator]();!(y=(_=T.next()).done);y=!0){var E=_.value;E===t.default.prototype.VIDEO?a=!1:E===t.default.prototype.AUDIO?i=!1:u(E)==="object"?r=E:typeof E=="function"&&(o=E)}}catch(I){w=!0,x=I}finally{try{y||T.return==null||T.return()}finally{if(w)throw x}}r=r||{video:i,audio:a};var A=document.createElement("video");A.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(r).then(function(I){try{"srcObject"in A?A.srcObject=I:A.src=window.URL.createObjectURL(I)}catch{A.src=I}},console.log);var P=c(A,this,!0);return P.loadedmetadata=!1,A.addEventListener("loadedmetadata",function(){A.play(),A.width?(P.width=A.width,P.height=A.height):(P.width=P.elt.width=A.videoWidth,P.height=P.elt.height=A.videoHeight),P.loadedmetadata=!0,o&&o(A.srcObject)}),P},t.default.prototype.createElement=function(r,o){t.default._validateParameters("createElement",arguments);var i=document.createElement(r);return o!==void 0&&(i.innerHTML=o),c(i,this)},t.default.Element.prototype.addClass=function(r){return this.elt.className?this.hasClass(r)||(this.elt.className=this.elt.className+" "+r):this.elt.className=r,this},t.default.Element.prototype.removeClass=function(r){return this.elt.classList.remove(r),this},t.default.Element.prototype.hasClass=function(r){return this.elt.classList.contains(r)},t.default.Element.prototype.toggleClass=function(r){return this.elt.classList.contains(r)?this.elt.classList.remove(r):this.elt.classList.add(r),this},t.default.Element.prototype.child=function(r){return r===void 0?this.elt.childNodes:(typeof r=="string"?(r[0]==="#"&&(r=r.substring(1)),r=document.getElementById(r)):r instanceof t.default.Element&&(r=r.elt),r instanceof HTMLElement&&this.elt.appendChild(r),this)},t.default.Element.prototype.center=function(r){var o=this.elt.style.display,i=this.elt.style.display==="none",a=this.parent().style.display==="none",y={x:this.elt.offsetLeft,y:this.elt.offsetTop};i&&this.show(),a&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var w=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),x=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return r==="both"||r===void 0?this.position(w/2+this.parent().offsetLeft,x/2+this.parent().offsetTop):r==="horizontal"?this.position(w/2+this.parent().offsetLeft,y.y):r==="vertical"&&this.position(y.x,x/2+this.parent().offsetTop),this.style("display",o),i&&this.hide(),a&&this.parent().hide(),this},t.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},t.default.Element.prototype.position=function(){if(arguments.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var r="absolute";return arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"||(r=arguments[2]),this.elt.style.position=r,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},t.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var r="";return this.elt.style.transform&&(r=(r=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=r,this},t.default.Element.prototype._rotate=function(){var r="";return this.elt.style.transform&&(r=(r=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=r,this},t.default.Element.prototype.style=function(r,o){if(o instanceof t.default.Color&&(o="rgba("+o.levels[0]+","+o.levels[1]+","+o.levels[2]+","+o.levels[3]/255+")"),o===void 0){if(r.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(r);for(var i=r.split(";"),a=0;a<i.length;a++){var y=i[a].split(":");y[0]&&y[1]&&(this.elt.style[y[0].trim()]=y[1].trim())}}else if(this.elt.style[r]=o,r==="width"||r==="height"||r==="left"||r==="top"){var w=window.getComputedStyle(this.elt).getPropertyValue(r).replace(/\D+/g,"");this[r]=parseInt(w,10)}return this},t.default.Element.prototype.attribute=function(r,o){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return o===void 0?this.elt.getAttribute(r):(this.elt.setAttribute(r,o),this);if(o===void 0)return this.elt.firstChild.getAttribute(r);for(var i=0;i<this.elt.childNodes.length;i++)this.elt.childNodes[i].setAttribute(r,o)},t.default.Element.prototype.removeAttribute=function(r){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var o=0;o<this.elt.childNodes.length;o++)this.elt.childNodes[o].removeAttribute(r);return this.elt.removeAttribute(r),this},t.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},t.default.Element.prototype.show=function(){return this.elt.style.display="block",this},t.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},t.default.Element.prototype.size=function(r,o){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var i=r,a=o,y=t.default.prototype.AUTO;if(i!==y||a!==y){if(i===y?i=o*this.width/this.height:a===y&&(a=r*this.height/this.width),this.elt instanceof HTMLCanvasElement){var w,x={},_=this.elt.getContext("2d");for(w in _)x[w]=_[w];for(w in this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",a*this._pInst._pixelDensity),this.elt.style.width=i+"px",this.elt.style.height=a+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),x)this.elt.getContext("2d")[w]=x[w]}else this.elt.style.width=i+"px",this.elt.style.height=a+"px",this.elt.width=i,this.elt.height=a;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},t.default.Element.prototype.remove=function(){if(this instanceof t.default.MediaElement){this.stop();var r=this.elt.srcObject;r!==null&&r.getTracks().forEach(function(a){a.stop()})}var o=this._pInst._elements.indexOf(this);for(var i in o!==-1&&this._pInst._elements.splice(o,1),this._events)this.elt.removeEventListener(i,this._events[i]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},t.default.Element.prototype.drop=function(r,o){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var i=function(a){a.preventDefault()};this.elt.addEventListener("dragover",i),this.elt.addEventListener("dragleave",i)}t.default.Element._attachListener("drop",function(a){a.preventDefault(),typeof o=="function"&&o.call(this,a);for(var y=a.dataTransfer.files,w=0;w<y.length;w++){var x=y[w];t.default.File._load(x,r)}},this)}else console.log("The File APIs are not fully supported in this browser.");return this},t.default.MediaElement=function(r,o){t.default.Element.call(this,r,o);var i=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(i,"src",{get:function(){var a=i.elt.children[0].src,y=i.elt.src===window.location.href?"":i.elt.src;return a===window.location.href?y:a},set:function(a){for(var y=0;y<i.elt.children.length;y++)i.elt.removeChild(i.elt.children[y]);var w=document.createElement("source");w.src=a,r.appendChild(w),i.elt.src=a,i.modified=!0}}),i._onended=function(){},i.elt.onended=function(){i._onended(i)}},t.default.MediaElement.prototype=Object.create(t.default.Element.prototype),t.default.MediaElement.prototype.play=function(){var r,o=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),(r=(1<this.elt.readyState||this.elt.load(),this.elt.play()))&&r.catch&&r.catch(function(i){i.name==="NotAllowedError"?t.default._friendlyAutoplayError(o.src):console.error("Media play method encountered an unexpected error",i)}),this},t.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},t.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},t.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},t.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},t.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var r=this,o=setTimeout(function(){return t.default._friendlyAutoplayError(r.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(o)},{passive:!0,once:!0})},t.default.MediaElement.prototype.autoplay=function(r){var o=this,i=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",r),r&&!i){var a=function(){return o._setupAutoplayFailDetection()};this.elt.readyState===4?a():this.elt.addEventListener("canplay",a,{passive:!0,once:!0})}return this},t.default.MediaElement.prototype.volume=function(r){if(r===void 0)return this.elt.volume;this.elt.volume=r},t.default.MediaElement.prototype.speed=function(r){if(r===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=r:this.presetPlaybackRate=r},t.default.MediaElement.prototype.time=function(r){return r===void 0?this.elt.currentTime:(this.elt.currentTime=r,this)},t.default.MediaElement.prototype.duration=function(){return this.elt.duration},t.default.MediaElement.prototype.pixels=[],t.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},t.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),t.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},t.default.MediaElement.prototype.updatePixels=function(r,o,i,a){return this.loadedmetadata&&(this._ensureCanvas(),t.default.Renderer2D.prototype.updatePixels.call(this,r,o,i,a)),this.setModified(!0),this},t.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),t.default.Renderer2D.prototype.get.apply(this,arguments)},t.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),t.default.Renderer2D.prototype._getPixel.apply(this,arguments)},t.default.MediaElement.prototype.set=function(r,o,i){this.loadedmetadata&&(this._ensureCanvas(),t.default.Renderer2D.prototype.set.call(this,r,o,i),this.setModified(!0))},t.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),t.default.prototype.copy.apply(this,arguments)},t.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),t.default.Image.prototype.mask.apply(this,arguments)},t.default.MediaElement.prototype.isModified=function(){return this._modified},t.default.MediaElement.prototype.setModified=function(r){this._modified=r},t.default.MediaElement.prototype.onended=function(r){return this._onended=r,this},t.default.MediaElement.prototype.connect=function(r){var o,i;if(typeof t.default.prototype.getAudioContext=="function")o=t.default.prototype.getAudioContext(),i=t.default.soundOut.input;else try{i=(o=r.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=o.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),r?r.input?this.audioSourceNode.connect(r.input):this.audioSourceNode.connect(r):this.audioSourceNode.connect(i)},t.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},t.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},t.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function d(r,o,i,a){this.callback=r,this.time=o,this.id=i,this.val=a}t.default.MediaElement.prototype.addCue=function(r,o,i){var a=this._cueIDCounter++,y=new d(o,r,a,i);return this._cues.push(y),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),a},t.default.MediaElement.prototype.removeCue=function(r){for(var o=0;o<this._cues.length;o++)this._cues[o].id===r&&(console.log(r),this._cues.splice(o,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},t.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},t.default.MediaElement.prototype._onTimeUpdate=function(){for(var r=this.time(),o=0;o<this._cues.length;o++){var i=this._cues[o].time,a=this._cues[o].val;this._prevTime<i&&i<=r&&this._cues[o].callback(a)}this._prevTime=r},t.default.File=function(r,o){this.file=r,this._pInst=o;var i=r.type.split("/");this.type=i[0],this.subtype=i[1],this.name=r.name,this.size=r.size,this.data=void 0},t.default.File._createLoader=function(r,o){var i=new FileReader;return i.onload=function(a){var y=new t.default.File(r);if(y.file.type==="application/json")y.data=JSON.parse(a.target.result);else if(y.file.type==="text/xml"){var w=new DOMParser().parseFromString(a.target.result,"text/xml");y.data=new t.default.XML(w.documentElement)}else y.data=a.target.result;o(y)},i},t.default.File._load=function(r,o){if(/^text\//.test(r.type)||r.type==="application/json")t.default.File._createLoader(r,o).readAsText(r);else if(/^(video|audio)\//.test(r.type)){var i=new t.default.File(r);i.data=URL.createObjectURL(r),o(i)}else t.default.File._createLoader(r,o).readAsDataURL(r)};var n=t.default;g.default=n},{"../core/main":264,"core-js/modules/es.array.every":150,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231}],281:[function(e,v,g){function h(_){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(_)}Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(_){if(_&&_.__esModule)return _;if(_===null||h(_)!=="object"&&typeof _!="function")return{default:_};var T=f();if(T&&T.has(_))return T.get(_);var E={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in _)if(Object.prototype.hasOwnProperty.call(_,P)){var I=A?Object.getOwnPropertyDescriptor(_,P):null;I&&(I.get||I.set)?Object.defineProperty(E,P,I):E[P]=_[P]}return E.default=_,T&&T.set(_,E),E}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return f=function(){return _},_}u.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",u.default.prototype.accelerationX=0,u.default.prototype.accelerationY=0,u.default.prototype.accelerationZ=0,u.default.prototype.pAccelerationX=0,u.default.prototype.pAccelerationY=0,u.default.prototype.pAccelerationZ=0,u.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},u.default.prototype.rotationX=0,u.default.prototype.rotationY=0,u.default.prototype.rotationZ=0,u.default.prototype.pRotationX=0,u.default.prototype.pRotationY=0;var d=u.default.prototype.pRotationZ=0,n=0,r=0,o="clockwise",i="clockwise",a="clockwise";u.default.prototype.pRotateDirectionX=void 0,u.default.prototype.pRotateDirectionY=void 0,u.default.prototype.pRotateDirectionZ=void 0,u.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},u.default.prototype.turnAxis=void 0;var y=.5,w=30;u.default.prototype.setMoveThreshold=function(_){u.default._validateParameters("setMoveThreshold",arguments),y=_},u.default.prototype.setShakeThreshold=function(_){u.default._validateParameters("setShakeThreshold",arguments),w=_},u.default.prototype._ondeviceorientation=function(_){this._updatePRotations(),this._angleMode===c.radians&&(_.beta=_.beta*(_PI/180),_.gamma=_.gamma*(_PI/180),_.alpha=_.alpha*(_PI/180)),this._setProperty("rotationX",_.beta),this._setProperty("rotationY",_.gamma),this._setProperty("rotationZ",_.alpha),this._handleMotion()},u.default.prototype._ondevicemotion=function(_){this._updatePAccelerations(),this._setProperty("accelerationX",2*_.acceleration.x),this._setProperty("accelerationY",2*_.acceleration.y),this._setProperty("accelerationZ",2*_.acceleration.z),this._handleMotion()},u.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var _,T,E=this._isGlobal?window:this;if(typeof E.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>y||Math.abs(this.accelerationY-this.pAccelerationY)>y||Math.abs(this.accelerationZ-this.pAccelerationZ)>y)&&E.deviceMoved(),typeof E.deviceTurned=="function"){var A=this.rotationX+180,P=this.pRotationX+180,I=d+180;0<A-P&&A-P<270||A-P<-270?o="clockwise":(A-P<0||270<A-P)&&(o="counter-clockwise"),o!==this.pRotateDirectionX&&(I=A),90<Math.abs(A-I)&&Math.abs(A-I)<270&&(I=A,this._setProperty("turnAxis","X"),E.deviceTurned()),this.pRotateDirectionX=o,d=I-180;var R=this.rotationY+180,L=this.pRotationY+180,U=n+180;0<R-L&&R-L<270||R-L<-270?i="clockwise":(R-L<0||270<R-this.pRotationY)&&(i="counter-clockwise"),i!==this.pRotateDirectionY&&(U=R),90<Math.abs(R-U)&&Math.abs(R-U)<270&&(U=R,this._setProperty("turnAxis","Y"),E.deviceTurned()),this.pRotateDirectionY=i,n=U-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?a="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(a="counter-clockwise"),a!==this.pRotateDirectionZ&&(r=this.rotationZ),90<Math.abs(this.rotationZ-r)&&Math.abs(this.rotationZ-r)<270&&(r=this.rotationZ,this._setProperty("turnAxis","Z"),E.deviceTurned()),this.pRotateDirectionZ=a,this._setProperty("turnAxis",void 0)}typeof E.deviceShaken=="function"&&(this.pAccelerationX!==null&&(_=Math.abs(this.accelerationX-this.pAccelerationX),T=Math.abs(this.accelerationY-this.pAccelerationY)),w<_+T&&E.deviceShaken())};var x=u.default;g.default=x},{"../core/constants":253,"../core/main":264}],282:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.isKeyPressed=!1,t.default.prototype.keyIsPressed=!1,t.default.prototype.key="",t.default.prototype.keyCode=0,t.default.prototype._onkeydown=function(c){if(!this._downKeys[c.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",c.which),this._downKeys[c.which]=!0,this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which);var f=this._isGlobal?window:this;typeof f.keyPressed=="function"&&!c.charCode&&f.keyPressed(c)===!1&&c.preventDefault()}},t.default.prototype._onkeyup=function(c){this._downKeys[c.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which),this._setProperty("keyCode",c.which);var f=this._isGlobal?window:this;typeof f.keyReleased=="function"&&f.keyReleased(c)===!1&&c.preventDefault()},t.default.prototype._onkeypress=function(c){if(c.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",c.which),this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which);var f=this._isGlobal?window:this;typeof f.keyTyped=="function"&&f.keyTyped(c)===!1&&c.preventDefault()}},t.default.prototype._onblur=function(c){this._downKeys={}},t.default.prototype.keyIsDown=function(c){return t.default._validateParameters("keyIsDown",arguments),this._downKeys[c]||!1},t.default.prototype._areDownKeys=function(){for(var c in this._downKeys)if(this._downKeys.hasOwnProperty(c)&&this._downKeys[c]===!0)return!0;return!1};var u=t.default;g.default=u},{"../core/main":264}],283:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=f();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return f=function(){return n},n}u.default.prototype.movedX=0,u.default.prototype.movedY=0,u.default.prototype._hasMouseInteracted=!1,u.default.prototype.mouseX=0,u.default.prototype.mouseY=0,u.default.prototype.pmouseX=0,u.default.prototype.pmouseY=0,u.default.prototype.winMouseX=0,u.default.prototype.winMouseY=0,u.default.prototype.pwinMouseX=0,u.default.prototype.pwinMouseY=0,u.default.prototype.mouseButton=0,u.default.prototype.mouseIsPressed=!1,u.default.prototype._updateNextMouseCoords=function(n){if(this._curElement!==null&&(!n.touches||0<n.touches.length)){var r=function(o,i,a,y){y&&!y.clientX&&(y.touches?y=y.touches[0]:y.changedTouches&&(y=y.changedTouches[0]));var w=o.getBoundingClientRect(),x=o.scrollWidth/i||1,_=o.scrollHeight/a||1;return{x:(y.clientX-w.left)/x,y:(y.clientY-w.top)/_,winX:y.clientX,winY:y.clientY,id:y.identifier}}(this._curElement.elt,this.width,this.height,n);this._setProperty("movedX",n.movementX),this._setProperty("movedY",n.movementY),this._setProperty("mouseX",r.x),this._setProperty("mouseY",r.y),this._setProperty("winMouseX",r.winX),this._setProperty("winMouseY",r.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},u.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},u.default.prototype._setMouseButton=function(n){n.button===1?this._setProperty("mouseButton",c.CENTER):n.button===2?this._setProperty("mouseButton",c.RIGHT):this._setProperty("mouseButton",c.LEFT)},u.default.prototype._onmousemove=function(n){var r=this._isGlobal?window:this;this._updateNextMouseCoords(n),this.mouseIsPressed?typeof r.mouseDragged=="function"?r.mouseDragged(n)===!1&&n.preventDefault():typeof r.touchMoved=="function"&&r.touchMoved(n)===!1&&n.preventDefault():typeof r.mouseMoved=="function"&&r.mouseMoved(n)===!1&&n.preventDefault()},u.default.prototype._onmousedown=function(n){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(n),this._updateNextMouseCoords(n),typeof r.mousePressed=="function"?r.mousePressed(n)===!1&&n.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof r.touchStarted=="function"&&r.touchStarted(n)===!1&&n.preventDefault()},u.default.prototype._onmouseup=function(n){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof r.mouseReleased=="function"?r.mouseReleased(n)===!1&&n.preventDefault():typeof r.touchEnded=="function"&&r.touchEnded(n)===!1&&n.preventDefault()},u.default.prototype._ondragend=u.default.prototype._onmouseup,u.default.prototype._ondragover=u.default.prototype._onmousemove,u.default.prototype._onclick=function(n){var r=this._isGlobal?window:this;typeof r.mouseClicked=="function"&&r.mouseClicked(n)===!1&&n.preventDefault()},u.default.prototype._ondblclick=function(n){var r=this._isGlobal?window:this;typeof r.doubleClicked=="function"&&r.doubleClicked(n)===!1&&n.preventDefault()},u.default.prototype._mouseWheelDeltaY=0,u.default.prototype._pmouseWheelDeltaY=0,u.default.prototype._onwheel=function(n){var r=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",n.deltaY),typeof r.mouseWheel=="function"&&(n.delta=n.deltaY,r.mouseWheel(n)===!1&&n.preventDefault())},u.default.prototype.requestPointerLock=function(){var n=this._curElement.elt;return n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock,n.requestPointerLock?(n.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},u.default.prototype.exitPointerLock=function(){document.exitPointerLock()};var d=u.default;g.default=d},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],284:[function(e,v,g){e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function u(f,d,n,r,o){var i=4<arguments.length&&o!==void 0?o:0,a=f.getBoundingClientRect(),y=f.scrollWidth/d||1,w=f.scrollHeight/n||1,x=r.touches[i]||r.changedTouches[i];return{x:(x.clientX-a.left)/y,y:(x.clientY-a.top)/w,winX:x.clientX,winY:x.clientY,id:x.identifier}}t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(f){if(this._curElement!==null){for(var d=[],n=0;n<f.touches.length;n++)d[n]=u(this._curElement.elt,this.width,this.height,f,n);this._setProperty("touches",d)}},t.default.prototype._ontouchstart=function(f){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(f),this._updateNextMouseCoords(f),this._updateMouseCoords(),typeof d.touchStarted=="function"?d.touchStarted(f)===!1&&f.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof d.mousePressed=="function"&&d.mousePressed(f)===!1&&f.preventDefault()},t.default.prototype._ontouchmove=function(f){var d=this._isGlobal?window:this;this._updateTouchCoords(f),this._updateNextMouseCoords(f),typeof d.touchMoved=="function"?d.touchMoved(f)===!1&&f.preventDefault():typeof d.mouseDragged=="function"&&d.mouseDragged(f)===!1&&f.preventDefault()},t.default.prototype._ontouchend=function(f){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(f),this._updateNextMouseCoords(f);var d=this._isGlobal?window:this;typeof d.touchEnded=="function"?d.touchEnded(f)===!1&&f.preventDefault():typeof d.mouseReleased=="function"&&d.mouseReleased(f)===!1&&f.preventDefault()};var c=t.default;g.default=c},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],285:[function(e,v,g){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t,u,c,f={};function d(r,o){for(var i,a,y,w,x,_,T,E,A,P,I=f._toPixels(r),R=r.width,L=r.height,U=R*L,D=new Int32Array(U),H=0;H<U;H++)D[H]=f._getARGB(I,H);var W,ae,le,J,ue=new Int32Array(U),se=new Int32Array(U),me=new Int32Array(U),xe=new Int32Array(U),Ce=0;for(function(De){var _e=3.5*De|0;if(h!==(_e=_e<1?1:_e<248?_e:248)){t=1+(h=_e)<<1,u=new Int32Array(t),c=new Array(t);for(var Se=0;Se<t;Se++)c[Se]=new Int32Array(256);for(var O,G,X,ee,B=1,N=_e-1;B<_e;B++){u[_e+B]=u[N]=G=N*N,X=c[_e+B],ee=c[N--];for(var re=0;re<256;re++)X[re]=ee[re]=G*re}O=u[_e]=_e*_e,X=c[_e];for(var Y=0;Y<256;Y++)X[Y]=O*Y}}(o),ae=0;ae<L;ae++){for(W=0;W<R;W++){if(w=y=a=x=i=0,(_=W-h)<0)P=-_,_=0;else{if(R<=_)break;P=0}for(le=P;le<t&&!(R<=_);le++){var ve=D[_+Ce];x+=(J=c[le])[(-16777216&ve)>>>24],a+=J[(16711680&ve)>>16],y+=J[(65280&ve)>>8],w+=J[255&ve],i+=u[le],_++}ue[T=Ce+W]=x/i,se[T]=a/i,me[T]=y/i,xe[T]=w/i}Ce+=R}for(A=(E=-h)*R,ae=Ce=0;ae<L;ae++){for(W=0;W<R;W++){if(w=y=a=x=i=0,E<0)P=T=-E,_=W;else{if(L<=E)break;P=0,T=E,_=W+A}for(le=P;le<t&&!(L<=T);le++)x+=(J=c[le])[ue[_]],a+=J[se[_]],y+=J[me[_]],w+=J[xe[_]],i+=u[le],T++,_+=R;D[W+Ce]=x/i<<24|a/i<<16|y/i<<8|w/i}Ce+=R,A+=R,E++}f._setPixels(I,D)}f._toPixels=function(r){if(r instanceof ImageData)return r.data;if(r.getContext("2d"))return r.getContext("2d").getImageData(0,0,r.width,r.height).data;if(r.getContext("webgl")){var o=r.getContext("webgl"),i=o.drawingBufferWidth*o.drawingBufferHeight*4,a=new Uint8Array(i);return o.readPixels(0,0,r.width,r.height,o.RGBA,o.UNSIGNED_BYTE,a),a}},f._getARGB=function(r,o){var i=4*o;return r[3+i]<<24&4278190080|r[i]<<16&16711680|r[1+i]<<8&65280|255&r[2+i]},f._setPixels=function(r,o){for(var i=0,a=0,y=r.length;a<y;a++)r[(i=4*a)+0]=(16711680&o[a])>>>16,r[i+1]=(65280&o[a])>>>8,r[i+2]=255&o[a],r[i+3]=(4278190080&o[a])>>>24},f._toImageData=function(r){return r instanceof ImageData?r:r.getContext("2d").getImageData(0,0,r.width,r.height)},f._createImageData=function(r,o){return f._tmpCanvas=document.createElement("canvas"),f._tmpCtx=f._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(r,o)},f.apply=function(r,o,i){var a=r.getContext("2d"),y=a.getImageData(0,0,r.width,r.height),w=o(y,i);w instanceof ImageData?a.putImageData(w,0,0,0,0,r.width,r.height):a.putImageData(y,0,0,0,0,r.width,r.height)},f.threshold=function(r,o){var i=f._toPixels(r);o===void 0&&(o=.5);for(var a=Math.floor(255*o),y=0;y<i.length;y+=4){var w=void 0;w=a<=.2126*i[y]+.7152*i[y+1]+.0722*i[y+2]?255:0,i[y]=i[y+1]=i[y+2]=w}},f.gray=function(r){for(var o=f._toPixels(r),i=0;i<o.length;i+=4){var a=.2126*o[i]+.7152*o[i+1]+.0722*o[i+2];o[i]=o[i+1]=o[i+2]=a}},f.opaque=function(r){for(var o=f._toPixels(r),i=0;i<o.length;i+=4)o[i+3]=255;return o},f.invert=function(r){for(var o=f._toPixels(r),i=0;i<o.length;i+=4)o[i]=255-o[i],o[i+1]=255-o[i+1],o[i+2]=255-o[i+2]},f.posterize=function(r,o){var i=f._toPixels(r);if(o<2||255<o)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var a=o-1,y=0;y<i.length;y+=4){var w=i[y],x=i[y+1],_=i[y+2];i[y]=255*(w*o>>8)/a,i[y+1]=255*(x*o>>8)/a,i[y+2]=255*(_*o>>8)/a}},f.dilate=function(r){for(var o,i,a,y,w,x,_,T,E,A,P,I,R,L,U,D,H,W=f._toPixels(r),ae=0,le=W.length?W.length/4:0,J=new Int32Array(le);ae<le;)for(i=(o=ae)+r.width;ae<i;)a=y=f._getARGB(W,ae),(_=ae-1)<o&&(_=ae),i<=(x=ae+1)&&(x=ae),(T=ae-r.width)<0&&(T=0),le<=(E=ae+r.width)&&(E=ae),I=f._getARGB(W,T),P=f._getARGB(W,_),R=f._getARGB(W,E),(w=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))<(U=77*(P>>16&255)+151*(P>>8&255)+28*(255&P))&&(y=P,w=U),w<(L=77*((A=f._getARGB(W,x))>>16&255)+151*(A>>8&255)+28*(255&A))&&(y=A,w=L),w<(D=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))&&(y=I,w=D),w<(H=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))&&(y=R,w=H),J[ae++]=y;f._setPixels(W,J)},f.erode=function(r){for(var o,i,a,y,w,x,_,T,E,A,P,I,R,L,U,D,H,W=f._toPixels(r),ae=0,le=W.length?W.length/4:0,J=new Int32Array(le);ae<le;)for(i=(o=ae)+r.width;ae<i;)a=y=f._getARGB(W,ae),(_=ae-1)<o&&(_=ae),i<=(x=ae+1)&&(x=ae),(T=ae-r.width)<0&&(T=0),le<=(E=ae+r.width)&&(E=ae),I=f._getARGB(W,T),P=f._getARGB(W,_),R=f._getARGB(W,E),(U=77*(P>>16&255)+151*(P>>8&255)+28*(255&P))<(w=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))&&(y=P,w=U),(L=77*((A=f._getARGB(W,x))>>16&255)+151*(A>>8&255)+28*(255&A))<w&&(y=A,w=L),(D=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))<w&&(y=I,w=D),(H=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))<w&&(y=R,w=H),J[ae++]=y;f._setPixels(W,J)},f.blur=function(r,o){d(r,o)};var n=f;g.default=n},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],286:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h=u(e("../core/main")),t=u(e("omggif"));function u(d){return d&&d.__esModule?d:{default:d}}function c(d){return function(n){if(Array.isArray(n)){for(var r=0,o=new Array(n.length);r<n.length;r++)o[r]=n[r];return o}}(d)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}h.default.prototype.createImage=function(d,n){return h.default._validateParameters("createImage",arguments),new h.default.Image(d,n)},h.default.prototype.saveCanvas=function(){h.default._validateParameters("saveCanvas",arguments);var d,n,r,o,i=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(d=arguments[0],i.shift()):arguments[0]instanceof h.default.Element?(d=arguments[0].elt,i.shift()):d=this._curElement&&this._curElement.elt,1<=i.length&&(n=i[0]),2<=i.length&&(r=i[1]),r=r||h.default.prototype._checkFileExtension(n,r)[1]||"png"){default:o="image/png";break;case"jpeg":case"jpg":o="image/jpeg"}d.toBlob(function(a){h.default.prototype.downloadFile(a,n,r)},o)},h.default.prototype.saveGif=function(d,n){var r=d.gifProperties,o=r.loopLimit;o===1?o=null:o===null&&(o=0);for(var i=new Uint8Array(d.width*d.height*r.numFrames),a=[],y={},w=0;w<r.numFrames;w++){for(var x=new Set,_=r.frames[w].image.data,T=_.length,E=new Uint32Array(d.width*d.height),A=0,P=0;A<T;A+=4,P++){var I=_[A+0]<<16|_[A+1]<<8|_[A+2]<<0;x.add(I),E[P]=I}var R=c(x).sort().toString();y[R]===void 0?y[R]={freq:1,frames:[w]}:(y[R].freq+=1,y[R].frames.push(w)),a.push(E)}var L=[],U=Object.keys(y).sort(function(Se,O){return y[O].freq-y[Se].freq}),D=U[0].split(",").map(function(Se){return parseInt(Se)});L=L.concat(y[D].frames);for(var H=new Set(D),W=1;W<U.length;W++){var ae=U[W].split(",").map(function(Se){return parseInt(Se)}).filter(function(Se){return!H.has(Se)});if(D.length+ae.length<=256){for(var le=0;le<ae.length;le++)D.push(ae[le]),H.add(ae[le]);L=L.concat(y[U[W]].frames)}}L=new Set(L);for(var J={},ue=0;ue<D.length;ue++)J[D[ue]]||(J[D[ue]]=ue);for(var se=1;se<D.length;)se<<=1;D.length=se;for(var me={loop:o,palette:new Uint32Array(D)},xe=new t.default.GifWriter(i,d.width,d.height,me),Ce={},ve=function(Se){for(var O=!L.has(Se),G=O?[]:D,X=new Uint8Array(d.width*d.height),ee={},B=new Set,N=0;N<a[Se].length;N++){var re=a[Se][N];O?(ee[re]===void 0&&(ee[re]=G.length,G.push(re)),X[N]=ee[re]):X[N]=J[re],0<Se&&a[Se-1][N]!==re&&B.add(re)}var Y={},ne=G.filter(function(he){return!B.has(he)});if(0<ne.length){var ie=ne[0],oe=O?ee[ie]:J[ie];if(0<Se){for(var pe=0;pe<a[Se].length;pe++)a[Se-1][pe]===a[Se][pe]&&(X[pe]=oe);Y.transparent=oe,Ce.frameOpts.disposal=1}}if(Y.delay=r.frames[Se].delay/10,O){for(var ge=1;ge<G.length;)ge<<=1;G.length=ge,Y.palette=new Uint32Array(G)}0<Se&&xe.addFrame(0,0,d.width,d.height,Ce.pixelPaletteIndex,Ce.frameOpts),Ce={pixelPaletteIndex:X,frameOpts:Y}},De=0;De<r.numFrames;De++)ve(De);Ce.frameOpts.disposal=1,xe.addFrame(0,0,d.width,d.height,Ce.pixelPaletteIndex,Ce.frameOpts);var _e=new Blob([i.slice(0,xe.end())],{type:"image/gif"});h.default.prototype.downloadFile(_e,n,"gif")},h.default.prototype.saveFrames=function(d,n,r,o,i){h.default._validateParameters("saveFrames",arguments);var a=r||3;a=h.default.prototype.constrain(a,0,15),a*=1e3;var y=o||15;y=h.default.prototype.constrain(y,0,22);var w=0,x=h.default.prototype._makeFrame,_=this._curElement.elt,T=[],E=setInterval(function(){T.push(x(d+w,n,_)),w++},1e3/y);setTimeout(function(){if(clearInterval(E),i)i(T);else{var A=!0,P=!1,I=void 0;try{for(var R,L=T[Symbol.iterator]();!(A=(R=L.next()).done);A=!0){var U=R.value;h.default.prototype.downloadFile(U.imageData,U.filename,U.ext)}}catch(D){P=!0,I=D}finally{try{A||L.return==null||L.return()}finally{if(P)throw I}}}T=[]},a+.01)},h.default.prototype._makeFrame=function(d,n,r){var o,i;if(o=this?this._curElement.elt:r,n)switch(n.toLowerCase()){case"png":i="image/png";break;case"jpeg":case"jpg":i="image/jpeg";break;default:i="image/png"}else n="png",i="image/png";var a=o.toDataURL(i);a=a.replace(i,"image/octet-stream");var y={};return y.imageData=a,y.filename=d,y.ext=n,y};var f=h.default;g.default=f},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,omggif:238}],287:[function(e,v,g){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(a)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t=r(e("../core/main")),u=r(e("./filters")),c=r(e("../core/helpers")),f=function(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var y=n();if(y&&y.has(a))return y.get(a);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in a)if(Object.prototype.hasOwnProperty.call(a,_)){var T=x?Object.getOwnPropertyDescriptor(a,_):null;T&&(T.get||T.set)?Object.defineProperty(w,_,T):w[_]=a[_]}return w.default=a,y&&y.set(a,w),w}(e("../core/constants")),d=r(e("omggif"));function n(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return n=function(){return a},a}function r(a){return a&&a.__esModule?a:{default:a}}function o(a,y){return 0<a&&a<y?a:y}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),t.default.prototype.loadImage=function(a,y,w){t.default._validateParameters("loadImage",arguments);var x=new t.default.Image(1,1,this),_=this,T=new Request(a,{method:"GET",mode:"cors"});return fetch(a,T).then(function(E){var A=E.headers.get("content-type");if(A===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),A&&A.includes("image/gif"))E.arrayBuffer().then(function(I){I&&function(R,L,U,D,H){var W=new d.default.GifReader(R);L.width=L.canvas.width=W.width,L.height=L.canvas.height=W.height;var ae=[],le=W.numFrames(),J=new Uint8ClampedArray(L.width*L.height*4);if(1<le){for(var ue=function(_e,Se){try{Se.decodeAndBlitFrameRGBA(_e,J)}catch(O){t.default._friendlyFileLoadError(8,L.src),typeof D=="function"?D(O):console.error(O)}},se=0;se<le;se++){var me=W.frameInfo(se),xe=L.drawingContext.getImageData(0,0,L.width,L.height);J=xe.data.slice(),ue(se,W);var Ce=new ImageData(J,L.width,L.height);L.drawingContext.putImageData(Ce,0,0);var ve=me.delay;ve===0&&(ve=10),ae.push({image:L.drawingContext.getImageData(0,0,L.width,L.height),delay:10*ve}),me.disposal===2?L.drawingContext.clearRect(me.x,me.y,me.width,me.height):me.disposal===3&&L.drawingContext.putImageData(xe,0,0,me.x,me.y,me.width,me.height)}var De=W.loopCount();De===null?De=1:De===0&&(De=null),L.drawingContext.putImageData(ae[0].image,0,0),L.gifProperties={displayIndex:0,loopLimit:De,loopCount:0,frames:ae,numFrames:le,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof U=="function"&&U(L),H()}(new Uint8Array(I),x,y,w,function(R){_._decrementPreload()}.bind(_))},function(I){typeof w=="function"?w(I):console.error(I)});else{var P=new Image;P.onload=function(){x.width=x.canvas.width=P.width,x.height=x.canvas.height=P.height,x.drawingContext.drawImage(P,0,0),x.modified=!0,typeof y=="function"&&y(x),_._decrementPreload()},P.onerror=function(I){t.default._friendlyFileLoadError(0,P.src),typeof w=="function"?w(I):console.error(I)},a.indexOf("data:image/")!==0&&(P.crossOrigin="Anonymous"),P.src=a}x.modified=!0}).catch(function(E){t.default._friendlyFileLoadError(0,a),typeof w=="function"?w(E):console.error(E)}),x},t.default.prototype.image=function(a,y,w,x,_,T,E,A,P){t.default._validateParameters("image",arguments);var I=a.width,R=a.height;a.elt&&a.elt.videoWidth&&!a.canvas&&(I=a.elt.videoWidth,R=a.elt.videoHeight);var L=y,U=w,D=x||I,H=_||R,W=T||0,ae=E||0,le=A||I,J=P||R;le=o(le,I),J=o(J,R);var ue=1;a.elt&&!a.canvas&&a.elt.style.width&&(ue=a.elt.videoWidth&&!x?a.elt.videoWidth:a.elt.width,ue/=parseInt(a.elt.style.width,10)),W*=ue,ae*=ue,J*=ue,le*=ue;var se=c.default.modeAdjust(L,U,D,H,this._renderer._imageMode);this._renderer.image(a,W,ae,le,J,se.x,se.y,se.w,se.h)},t.default.prototype.tint=function(){for(var a=arguments.length,y=new Array(a),w=0;w<a;w++)y[w]=arguments[w];t.default._validateParameters("tint",y);var x=this.color.apply(this,y);this._renderer._tint=x.levels},t.default.prototype.noTint=function(){this._renderer._tint=null},t.default.prototype._getTintedImageCanvas=function(a){if(!a.canvas)return a;var y=u.default._toPixels(a.canvas),w=document.createElement("canvas");w.width=a.canvas.width,w.height=a.canvas.height;for(var x=w.getContext("2d"),_=x.createImageData(a.canvas.width,a.canvas.height),T=_.data,E=0;E<y.length;E+=4){var A=y[E],P=y[E+1],I=y[E+2],R=y[E+3];T[E]=A*this._renderer._tint[0]/255,T[E+1]=P*this._renderer._tint[1]/255,T[E+2]=I*this._renderer._tint[2]/255,T[E+3]=R*this._renderer._tint[3]/255}return x.putImageData(_,0,0),w},t.default.prototype.imageMode=function(a){t.default._validateParameters("imageMode",arguments),a!==f.CORNER&&a!==f.CORNERS&&a!==f.CENTER||(this._renderer._imageMode=a)};var i=t.default;g.default=i},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/helpers":260,"../core/main":264,"./filters":285,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.includes":185,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,omggif:238}],288:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h=u(e("../core/main")),t=u(e("./filters"));function u(f){return f&&f.__esModule?f:{default:f}}h.default.Image=function(f,d){this.width=f,this.height=d,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},h.default.Image.prototype._animateGif=function(f){var d=this.gifProperties,n=f._lastFrameTime;if(d.lastChangeTime===0&&(d.lastChangeTime=n),d.playing){d.timeDisplayed=n-d.lastChangeTime;var r=d.frames[d.displayIndex].delay;if(d.timeDisplayed>=r){var o=Math.floor(d.timeDisplayed/r);if(d.timeDisplayed=0,d.lastChangeTime=n,d.displayIndex+=o,d.loopCount=Math.floor(d.displayIndex/d.numFrames),d.loopLimit!==null&&d.loopCount>=d.loopLimit)d.playing=!1;else{var i=d.displayIndex%d.numFrames;this.drawingContext.putImageData(d.frames[i].image,0,0),d.displayIndex=i,this.setModified(!0)}}}},h.default.Image.prototype._setProperty=function(f,d){this[f]=d,this.setModified(!0)},h.default.Image.prototype.loadPixels=function(){h.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},h.default.Image.prototype.updatePixels=function(f,d,n,r){h.default.Renderer2D.prototype.updatePixels.call(this,f,d,n,r),this.setModified(!0)},h.default.Image.prototype.get=function(f,d,n,r){return h.default._validateParameters("p5.Image.get",arguments),h.default.Renderer2D.prototype.get.apply(this,arguments)},h.default.Image.prototype._getPixel=h.default.Renderer2D.prototype._getPixel,h.default.Image.prototype.set=function(f,d,n){h.default.Renderer2D.prototype.set.call(this,f,d,n),this.setModified(!0)},h.default.Image.prototype.resize=function(f,d){f===0&&d===0?(f=this.canvas.width,d=this.canvas.height):f===0?f=this.canvas.width*d/this.canvas.height:d===0&&(d=this.canvas.height*f/this.canvas.width),f=Math.floor(f),d=Math.floor(d);var n=document.createElement("canvas");if(n.width=f,n.height=d,this.gifProperties)for(var r=this.gifProperties,o=function(y,w){for(var x=0,_=0;_<w.height;_++)for(var T=0;T<w.width;T++){var E=Math.floor(T*y.width/w.width),A=4*(Math.floor(_*y.height/w.height)*y.width+E);w.data[x++]=y.data[A++],w.data[x++]=y.data[A++],w.data[x++]=y.data[A++],w.data[x++]=y.data[A++]}},i=0;i<r.numFrames;i++){var a=this.drawingContext.createImageData(f,d);o(r.frames[i].image,a),r.frames[i].image=a}n.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,n.width,n.height),this.canvas.width=this.width=f,this.canvas.height=this.height=d,this.drawingContext.drawImage(n,0,0,f,d,0,0,f,d),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},h.default.Image.prototype.copy=function(){for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];h.default.prototype.copy.apply(this,d)},h.default.Image.prototype.mask=function(f){f===void 0&&(f=this);var d=this.drawingContext.globalCompositeOperation,n=1;f instanceof h.default.Renderer&&(n=f._pInst._pixelDensity);var r=[f,0,0,n*f.width,n*f.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",h.default.Image.prototype.copy.apply(this,r),this.drawingContext.globalCompositeOperation=d,this.setModified(!0)},h.default.Image.prototype.filter=function(f,d){t.default.apply(this.canvas,t.default[f],d),this.setModified(!0)},h.default.Image.prototype.blend=function(){for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];h.default._validateParameters("p5.Image.blend",arguments),h.default.prototype.blend.apply(this,d),this.setModified(!0)},h.default.Image.prototype.setModified=function(f){this._modified=f},h.default.Image.prototype.isModified=function(){return this._modified},h.default.Image.prototype.save=function(f,d){this.gifProperties?h.default.prototype.saveGif(this,f):h.default.prototype.saveCanvas(this.canvas,f,d)},h.default.Image.prototype.reset=function(){if(this.gifProperties){var f=this.gifProperties;f.playing=!0,f.timeSinceStart=0,f.timeDisplayed=0,f.lastChangeTime=0,f.loopCount=0,f.displayIndex=0,this.drawingContext.putImageData(f.frames[0].image,0,0)}},h.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var f=this.gifProperties;return f.displayIndex%f.numFrames}},h.default.Image.prototype.setFrame=function(f){if(this.gifProperties){var d=this.gifProperties;f<d.numFrames&&0<=f?(d.timeDisplayed=0,d.lastChangeTime=0,d.displayIndex=f,this.drawingContext.putImageData(d.frames[f].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},h.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},h.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},h.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},h.default.Image.prototype.delay=function(f,d){if(this.gifProperties){var n=this.gifProperties;if(d<n.numFrames&&0<=d)n.frames[d].delay=f;else{var r=!0,o=!1,i=void 0;try{for(var a,y=n.frames[Symbol.iterator]();!(r=(a=y.next()).done);r=!0)a.value.delay=f}catch(w){o=!0,i=w}finally{try{r||y.return==null||y.return()}finally{if(o)throw i}}}}};var c=h.default.Image;g.default=c},{"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],289:[function(e,v,g){e("core-js/modules/es.array.filter"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h=u(e("../core/main")),t=u(e("./filters"));function u(f){return f&&f.__esModule?f:{default:f}}e("../color/p5.Color"),h.default.prototype.pixels=[],h.default.prototype.blend=function(){for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];var r;h.default._validateParameters("blend",d),this._renderer?(r=this._renderer).blend.apply(r,d):h.default.Renderer2D.prototype.blend.apply(this,d)},h.default.prototype.copy=function(){for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];var r,o,i,a,y,w,x,_,T;if(h.default._validateParameters("copy",d),d.length===9)r=d[0],o=d[1],i=d[2],a=d[3],y=d[4],w=d[5],x=d[6],_=d[7],T=d[8];else{if(d.length!==8)throw new Error("Signature not supported");r=this,o=d[0],i=d[1],a=d[2],y=d[3],w=d[4],x=d[5],_=d[6],T=d[7]}h.default.prototype._copyHelper(this,r,o,i,a,y,w,x,_,T)},h.default.prototype._copyHelper=function(f,d,n,r,o,i,a,y,w,x){d.loadPixels();var _=d.canvas.width/d.width,T=0,E=0;d._renderer&&d._renderer.isP3D&&(T=d.width/2,E=d.height/2),f._renderer&&f._renderer.isP3D?h.default.RendererGL.prototype.image.call(f._renderer,d,n+T,r+E,o,i,a,y,w,x):f.drawingContext.drawImage(d.canvas,_*(n+T),_*(r+E),_*o,_*i,a,y,w,x)},h.default.prototype.filter=function(f,d){h.default._validateParameters("filter",arguments),this.canvas!==void 0?t.default.apply(this.canvas,t.default[f],d):t.default.apply(this.elt,t.default[f],d)},h.default.prototype.get=function(f,d,n,r){var o;return h.default._validateParameters("get",arguments),(o=this._renderer).get.apply(o,arguments)},h.default.prototype.loadPixels=function(){for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];h.default._validateParameters("loadPixels",d),this._renderer.loadPixels()},h.default.prototype.set=function(f,d,n){this._renderer.set(f,d,n)},h.default.prototype.updatePixels=function(f,d,n,r){h.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(f,d,n,r)};var c=h.default;g.default=c},{"../color/p5.Color":251,"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152}],290:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h=c(e("../core/main"));e("whatwg-fetch"),e("es6-promise/auto");var t=c(e("fetch-jsonp")),u=c(e("file-saver"));function c(i){return i&&i.__esModule?i:{default:i}}function f(i){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function d(i,a){var y={};if((a=a||[])===void 0)for(var w=0;w<i.length;w++)a[w.toString()]=w;for(var x=0;x<a.length;x++){var _=a[x],T=i[x];y[_]=T}return y}function n(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function r(i,a){a&&a!==!0&&a!=="true"||(a="");var y="";return(i=i||"untitled")&&i.includes(".")&&(y=i.split(".").pop()),a&&y!==a&&(y=a,i="".concat(i,".").concat(y)),[i,y]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),h.default.prototype.loadJSON=function(){for(var i=arguments.length,a=new Array(i),y=0;y<i;y++)a[y]=arguments[y];h.default._validateParameters("loadJSON",a);for(var w,x,_,T=a[0],E={},A="json",P=1;P<a.length;P++){var I=a[P];typeof I=="string"?I!=="jsonp"&&I!=="json"||(A=I):typeof I=="function"?w?x=I:w=I:f(I)==="object"&&(I.hasOwnProperty("jsonpCallback")||I.hasOwnProperty("jsonpCallbackFunction"))&&(A="jsonp",_=I)}var R=this;return this.httpDo(T,"GET",_,A,function(L){for(var U in L)E[U]=L[U];w!==void 0&&w(L),R._decrementPreload()},function(L){if(h.default._friendlyFileLoadError(5,T),!x)throw L;x(L)}),E},h.default.prototype.loadStrings=function(){for(var i=arguments.length,a=new Array(i),y=0;y<i;y++)a[y]=arguments[y];h.default._validateParameters("loadStrings",a);for(var w,x,_=[],T=1;T<a.length;T++){var E=a[T];typeof E=="function"&&(w===void 0?w=E:x===void 0&&(x=E))}var A=this;return h.default.prototype.httpDo.call(this,a[0],"GET","text",function(P){for(var I=P.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),R=0,L=I.length;R<L;R+=32768)Array.prototype.push.apply(_,I.slice(R,Math.min(R+32768,L)));w!==void 0&&w(_),A._decrementPreload()},function(P){if(h.default._friendlyFileLoadError(3,P),!x)throw P;x(P)}),_},h.default.prototype.loadTable=function(i){var a,y,w,x=!1,_=i.substring(i.lastIndexOf(".")+1,i.length);_==="csv"?w=",":_==="ssv"?w=";":_==="tsv"&&(w="	");for(var T=1;T<arguments.length;T++)typeof arguments[T]=="function"?a===void 0?a=arguments[T]:y===void 0&&(y=arguments[T]):typeof arguments[T]=="string"&&(arguments[T]==="header"&&(x=!0),arguments[T]==="csv"?w=",":arguments[T]==="ssv"?w=";":arguments[T]==="tsv"&&(w="	"));var E=new h.default.Table,A=this;return this.httpDo(i,"GET","table",function(P){for(var I,R,L={},U=[],D=0,H=null,W=function(){L.currentState=0,L.token=""},ae=function(){H.push(L.token),W()},le=function(){L.currentState=4,U.push(H),H=null};;){if((I=P[D++])==null){if(L.escaped)throw new Error("Unclosed quote in file.");if(H){ae(),le();break}}if(H===null&&(L.escaped=!1,H=[],W()),L.currentState===0){if(I==='"'){L.escaped=!0,L.currentState=1;continue}L.currentState=1}if(L.currentState===1&&L.escaped)if(I==='"')P[D]==='"'?(L.token+='"',D++):(L.escaped=!1,L.currentState=2);else{if(I==="\r")continue;L.token+=I}else I==="\r"?(P[D]===`
`&&D++,ae(),le()):I===`
`?(ae(),le()):I===w?ae():L.currentState===1&&(L.token+=I)}if(x)E.columns=U.shift();else for(var J=0;J<U[0].length;J++)E.columns[J]="null";for(var ue=0;ue<U.length;ue++)(U[ue].length!==1||U[ue][0]!=="undefined"&&U[ue][0]!=="")&&((R=new h.default.TableRow).arr=U[ue],R.obj=d(U[ue],E.columns),E.addRow(R));typeof a=="function"&&a(E),A._decrementPreload()},function(P){h.default._friendlyFileLoadError(2,i),y?y(P):console.error(P)}),E},h.default.prototype.loadXML=function(){for(var i=arguments.length,a=new Array(i),y=0;y<i;y++)a[y]=arguments[y];for(var w,x,_=new h.default.XML,T=1;T<a.length;T++){var E=a[T];typeof E=="function"&&(w===void 0?w=E:x===void 0&&(x=E))}var A=this;return this.httpDo(a[0],"GET","xml",function(P){for(var I in P)_[I]=P[I];w!==void 0&&w(_),A._decrementPreload()},function(P){if(h.default._friendlyFileLoadError(1,P),!x)throw P;x(P)}),_},h.default.prototype.loadBytes=function(i,a,y){var w={},x=this;return this.httpDo(i,"GET","arrayBuffer",function(_){w.bytes=new Uint8Array(_),typeof a=="function"&&a(w),x._decrementPreload()},function(_){if(h.default._friendlyFileLoadError(6,i),!y)throw _;y(_)}),w},h.default.prototype.httpGet=function(){h.default._validateParameters("httpGet",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"GET"),h.default.prototype.httpDo.apply(this,i)},h.default.prototype.httpPost=function(){h.default._validateParameters("httpPost",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"POST"),h.default.prototype.httpDo.apply(this,i)},h.default.prototype.httpDo=function(){for(var i,a,y,w,x,_={},T=0,E="text/plain",A=arguments.length-1;0<A&&typeof(A<0||arguments.length<=A?void 0:arguments[A])=="function";A--)T++;var P=arguments.length<=0?void 0:arguments[0];if(arguments.length-T==2&&typeof P=="string"&&f(arguments.length<=1?void 0:arguments[1])==="object")w=new Request(P,arguments.length<=1?void 0:arguments[1]),a=arguments.length<=2?void 0:arguments[2],y=arguments.length<=3?void 0:arguments[3];else{for(var I,R="GET",L=1;L<arguments.length;L++){var U=L<0||arguments.length<=L?void 0:arguments[L];if(typeof U=="string")U==="GET"||U==="POST"||U==="PUT"||U==="DELETE"?R=U:U==="json"||U==="jsonp"||U==="binary"||U==="arrayBuffer"||U==="xml"||U==="text"||U==="table"?i=U:I=U;else if(typeof U=="number")I=U.toString();else if(f(U)==="object")if(U.hasOwnProperty("jsonpCallback")||U.hasOwnProperty("jsonpCallbackFunction"))for(var D in U)_[D]=U[D];else E=U instanceof h.default.XML?(I=U.serialize(),"application/xml"):(I=JSON.stringify(U),"application/json");else typeof U=="function"&&(a?y=U:a=U)}var H=R==="GET"?new Headers:new Headers({"Content-Type":E});w=new Request(P,{method:R,mode:"cors",body:I,headers:H})}return(x=(x=(i=i||(P.includes("json")?"json":P.includes("xml")?"xml":"text"))==="jsonp"?(0,t.default)(P,_):fetch(w)).then(function(W){if(!W.ok){var ae=new Error(W.body);throw ae.status=W.status,ae.ok=!1,ae}var le=0;switch(i!=="jsonp"&&(le=W.headers.get("content-length")),le&&64e6<le&&h.default._friendlyFileLoadError(7,P),i){case"json":case"jsonp":return W.json();case"binary":return W.blob();case"arrayBuffer":return W.arrayBuffer();case"xml":return W.text().then(function(J){var ue=new DOMParser().parseFromString(J,"text/xml");return new h.default.XML(ue.documentElement)});default:return W.text()}})).then(a||function(){}),x.catch(y||console.error),x},window.URL=window.URL||window.webkitURL,h.default.prototype._pWriters=[],h.default.prototype.createWriter=function(i,a){var y;for(var w in h.default.prototype._pWriters)if(h.default.prototype._pWriters[w].name===i)return y=new h.default.PrintWriter(i+this.millis(),a),h.default.prototype._pWriters.push(y),y;return y=new h.default.PrintWriter(i,a),h.default.prototype._pWriters.push(y),y},h.default.PrintWriter=function(i,a){var y=this;this.name=i,this.content="",this.write=function(w){this.content+=w},this.print=function(w){this.content+="".concat(w,`
`)},this.clear=function(){this.content=""},this.close=function(){var w=[];for(var x in w.push(this.content),h.default.prototype.writeFile(w,i,a),h.default.prototype._pWriters)h.default.prototype._pWriters[x].name===this.name&&h.default.prototype._pWriters.splice(x,1);y.clear(),y={}}},h.default.prototype.save=function(i,a,y){var w=arguments,x=this._curElement?this._curElement.elt:this.elt;if(w.length!==0)if(w[0]instanceof h.default.Renderer||w[0]instanceof h.default.Graphics)h.default.prototype.saveCanvas(w[0].elt,w[1],w[2]);else if(w.length===1&&typeof w[0]=="string")h.default.prototype.saveCanvas(x,w[0]);else switch(r(w[1],w[2])[1]){case"json":return void h.default.prototype.saveJSON(w[0],w[1],w[2]);case"txt":return void h.default.prototype.saveStrings(w[0],w[1],w[2]);default:w[0]instanceof Array?h.default.prototype.saveStrings(w[0],w[1],w[2]):w[0]instanceof h.default.Table?h.default.prototype.saveTable(w[0],w[1],w[2]):w[0]instanceof h.default.Image?h.default.prototype.saveCanvas(w[0].canvas,w[1]):w[0]instanceof h.default.SoundFile&&h.default.prototype.saveSound(w[0],w[1],w[2],w[3])}else h.default.prototype.saveCanvas(x)},h.default.prototype.saveJSON=function(i,a,y){var w;h.default._validateParameters("saveJSON",arguments),w=y?JSON.stringify(i):JSON.stringify(i,void 0,2),this.saveStrings(w.split(`
`),a,"json")},h.default.prototype.saveJSONObject=h.default.prototype.saveJSON,h.default.prototype.saveJSONArray=h.default.prototype.saveJSON,h.default.prototype.saveStrings=function(i,a,y,w){h.default._validateParameters("saveStrings",arguments);for(var x=y||"txt",_=this.createWriter(a,x),T=0;T<i.length;T++)w?_.write(i[T]+`\r
`):_.write(i[T]+`
`);_.close(),_.clear()},h.default.prototype.saveTable=function(i,a,y){var w;h.default._validateParameters("saveTable",arguments),w=y===void 0?a.substring(a.lastIndexOf(".")+1,a.length):y;var x=this.createWriter(a,w),_=i.columns,T=",";if(w==="tsv"&&(T="	"),w!=="html"){if(_[0]!=="0"){for(var E=0;E<_.length;E++)E<_.length-1?x.write(_[E]+T):x.write(_[E]);x.write(`
`)}for(var A=0;A<i.rows.length;A++){var P=void 0;for(P=0;P<i.rows[A].arr.length;P++)P<i.rows[A].arr.length-1?w==="csv"&&String(i.rows[A].arr[P]).includes(",")?x.write('"'+i.rows[A].arr[P]+'"'+T):x.write(i.rows[A].arr[P]+T):w==="csv"&&String(i.rows[A].arr[P]).includes(",")?x.write('"'+i.rows[A].arr[P]+'"'):x.write(i.rows[A].arr[P]);x.write(`
`)}}else{if(x.print("<html>"),x.print("<head>"),x.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),x.print("</head>"),x.print("<body>"),x.print("  <table>"),_[0]!=="0"){x.print("    <tr>");for(var I=0;I<_.length;I++){var R=n(_[I]);x.print("      <td>".concat(R)),x.print("      </td>")}x.print("    </tr>")}for(var L=0;L<i.rows.length;L++){x.print("    <tr>");for(var U=0;U<i.columns.length;U++){var D=n(i.rows[L].getString(U));x.print("      <td>".concat(D)),x.print("      </td>")}x.print("    </tr>")}x.print("  </table>"),x.print("</body>"),x.print("</html>")}x.close(),x.clear()},h.default.prototype.writeFile=function(i,a,y){var w="application/octet-stream";h.default.prototype._isSafari()&&(w="text/plain");var x=new Blob(i,{type:w});h.default.prototype.downloadFile(x,a,y)},h.default.prototype.downloadFile=function(i,a,y){var w=r(a,y),x=w[0];if(i instanceof Blob)u.default.saveAs(i,x);else{var _=document.createElement("a");if(_.href=i,_.download=x,_.onclick=function(E){var A;A=E,document.body.removeChild(A.target),E.stopPropagation()},_.style.display="none",document.body.appendChild(_),h.default.prototype._isSafari()){var T=`Hello, Safari user! To download this file...
`;T+=`1. Go to File --> Save As.
`,T+=`2. Choose "Page Source" as the Format.
`,T+='3. Name it with this extension: ."'.concat(w[1],'"'),alert(T)}_.click()}},h.default.prototype._checkFileExtension=r,h.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")};var o=h.default;g.default=o},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231,"es6-promise/auto":232,"fetch-jsonp":234,"file-saver":235,"whatwg-fetch":242}],291:[function(e,v,g){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.Table=function(c){this.columns=[],this.rows=[]},t.default.Table.prototype.addRow=function(c){var f=c||new t.default.TableRow;if(f.arr===void 0||f.obj===void 0)throw new Error("invalid TableRow: ".concat(f));return(f.table=this).rows.push(f),f},t.default.Table.prototype.removeRow=function(c){this.rows[c].table=null;var f=this.rows.splice(c+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(f)},t.default.Table.prototype.getRow=function(c){return this.rows[c]},t.default.Table.prototype.getRows=function(){return this.rows},t.default.Table.prototype.findRow=function(c,f){if(typeof f=="string"){for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[f]===c)return this.rows[d]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].arr[f]===c)return this.rows[n];return null},t.default.Table.prototype.findRows=function(c,f){var d=[];if(typeof f=="string")for(var n=0;n<this.rows.length;n++)this.rows[n].obj[f]===c&&d.push(this.rows[n]);else for(var r=0;r<this.rows.length;r++)this.rows[r].arr[f]===c&&d.push(this.rows[r]);return d},t.default.Table.prototype.matchRow=function(c,f){if(typeof f=="number"){for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[f].match(c))return this.rows[d]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].obj[f].match(c))return this.rows[n];return null},t.default.Table.prototype.matchRows=function(c,f){var d=[];if(typeof f=="number")for(var n=0;n<this.rows.length;n++)this.rows[n].arr[f].match(c)&&d.push(this.rows[n]);else for(var r=0;r<this.rows.length;r++)this.rows[r].obj[f].match(c)&&d.push(this.rows[r]);return d},t.default.Table.prototype.getColumn=function(c){var f=[];if(typeof c=="string")for(var d=0;d<this.rows.length;d++)f.push(this.rows[d].obj[c]);else for(var n=0;n<this.rows.length;n++)f.push(this.rows[n].arr[c]);return f},t.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},t.default.Table.prototype.addColumn=function(c){var f=c||null;this.columns.push(f)},t.default.Table.prototype.getColumnCount=function(){return this.columns.length},t.default.Table.prototype.getRowCount=function(){return this.rows.length},t.default.Table.prototype.removeTokens=function(c,f){for(var d=[],n=0;n<c.length;n++)d.push(c.charAt(n).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var r=new RegExp(d.join("|"),"g");if(f===void 0)for(var o=0;o<this.columns.length;o++)for(var i=0;i<this.rows.length;i++){var a=this.rows[i].arr[o];a=a.replace(r,""),this.rows[i].arr[o]=a,this.rows[i].obj[this.columns[o]]=a}else if(typeof f=="string")for(var y=0;y<this.rows.length;y++){var w=this.rows[y].obj[f];w=w.replace(r,""),this.rows[y].obj[f]=w;var x=this.columns.indexOf(f);this.rows[y].arr[x]=w}else for(var _=0;_<this.rows.length;_++){var T=this.rows[_].arr[f];T=T.replace(r,""),this.rows[_].arr[f]=T,this.rows[_].obj[this.columns[f]]=T}},t.default.Table.prototype.trim=function(c){var f=new RegExp(" ","g");if(c===void 0)for(var d=0;d<this.columns.length;d++)for(var n=0;n<this.rows.length;n++){var r=this.rows[n].arr[d];r=r.replace(f,""),this.rows[n].arr[d]=r,this.rows[n].obj[this.columns[d]]=r}else if(typeof c=="string")for(var o=0;o<this.rows.length;o++){var i=this.rows[o].obj[c];i=i.replace(f,""),this.rows[o].obj[c]=i;var a=this.columns.indexOf(c);this.rows[o].arr[a]=i}else for(var y=0;y<this.rows.length;y++){var w=this.rows[y].arr[c];w=w.replace(f,""),this.rows[y].arr[c]=w,this.rows[y].obj[this.columns[c]]=w}},t.default.Table.prototype.removeColumn=function(c){var f,d;typeof c=="string"?(f=c,d=this.columns.indexOf(c)):(d=c,f=this.columns[c]);var n=this.columns.splice(d+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(n);for(var r=0;r<this.rows.length;r++){var o=this.rows[r].arr,i=o.splice(d+1,o.length);o.pop(),this.rows[r].arr=o.concat(i),delete this.rows[r].obj[f]}},t.default.Table.prototype.set=function(c,f,d){this.rows[c].set(f,d)},t.default.Table.prototype.setNum=function(c,f,d){this.rows[c].setNum(f,d)},t.default.Table.prototype.setString=function(c,f,d){this.rows[c].setString(f,d)},t.default.Table.prototype.get=function(c,f){return this.rows[c].get(f)},t.default.Table.prototype.getNum=function(c,f){return this.rows[c].getNum(f)},t.default.Table.prototype.getString=function(c,f){return this.rows[c].getString(f)},t.default.Table.prototype.getObject=function(c){for(var f,d={},n=0;n<this.rows.length;n++)if(f=this.rows[n].obj,typeof c=="string"){if(!(0<=this.columns.indexOf(c)))throw new Error('This table has no column named "'.concat(c,'"'));d[f[c]]=f}else d[n]=this.rows[n].obj;return d},t.default.Table.prototype.getArray=function(){for(var c=[],f=0;f<this.rows.length;f++)c.push(this.rows[f].arr);return c};var u=t.default;g.default=u},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],292:[function(e,v,g){e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.TableRow=function(c,f){var d=[],n={};c&&(f=f||",",d=c.split(f));for(var r=0;r<d.length;r++){var o=r,i=d[r];n[o]=i}this.arr=d,this.obj=n,this.table=null},t.default.TableRow.prototype.set=function(c,f){if(typeof c=="string"){var d=this.table.columns.indexOf(c);if(!(0<=d))throw new Error('This table has no column named "'.concat(c,'"'));this.obj[c]=f,this.arr[d]=f}else{if(!(c<this.table.columns.length))throw new Error("Column #".concat(c," is out of the range of this table"));this.arr[c]=f;var n=this.table.columns[c];this.obj[n]=f}},t.default.TableRow.prototype.setNum=function(c,f){var d=parseFloat(f);this.set(c,d)},t.default.TableRow.prototype.setString=function(c,f){var d=f.toString();this.set(c,d)},t.default.TableRow.prototype.get=function(c){return typeof c=="string"?this.obj[c]:this.arr[c]},t.default.TableRow.prototype.getNum=function(c){var f;if((f=parseFloat(typeof c=="string"?this.obj[c]:this.arr[c])).toString()==="NaN")throw"Error: ".concat(this.obj[c]," is NaN (Not a Number)");return f},t.default.TableRow.prototype.getString=function(c){return typeof c=="string"?this.obj[c].toString():this.arr[c].toString()};var u=t.default;g.default=u},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],293:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function u(f){for(var d=[],n=0;n<f.length;n++)d.push(new t.default.XML(f[n]));return d}t.default.XML=function(f){if(f)this.DOM=f;else{var d=document.implementation.createDocument(null,"doc");this.DOM=d.createElement("root")}},t.default.XML.prototype.getParent=function(){return new t.default.XML(this.DOM.parentElement)},t.default.XML.prototype.getName=function(){return this.DOM.tagName},t.default.XML.prototype.setName=function(f){var d=this.DOM.innerHTML,n=this.DOM.attributes,r=document.implementation.createDocument(null,"default").createElement(f);r.innerHTML=d;for(var o=0;o<n.length;o++)r.setAttribute(n[o].nodeName,n.nodeValue);this.DOM=r},t.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},t.default.XML.prototype.listChildren=function(){for(var f=[],d=0;d<this.DOM.childNodes.length;d++)f.push(this.DOM.childNodes[d].nodeName);return f},t.default.XML.prototype.getChildren=function(f){return u(f?this.DOM.getElementsByTagName(f):this.DOM.children)},t.default.XML.prototype.getChild=function(f){if(typeof f!="string")return new t.default.XML(this.DOM.children[f]);var d=!0,n=!1,r=void 0;try{for(var o,i=this.DOM.children[Symbol.iterator]();!(d=(o=i.next()).done);d=!0){var a=o.value;if(a.tagName===f)return new t.default.XML(a)}}catch(y){n=!0,r=y}finally{try{d||i.return==null||i.return()}finally{if(n)throw r}}},t.default.XML.prototype.addChild=function(f){f instanceof t.default.XML&&this.DOM.appendChild(f.DOM)},t.default.XML.prototype.removeChild=function(f){var d=-1;if(typeof f=="string"){for(var n=0;n<this.DOM.children.length;n++)if(this.DOM.children[n].tagName===f){d=n;break}}else d=f;d!==-1&&this.DOM.removeChild(this.DOM.children[d])},t.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},t.default.XML.prototype.listAttributes=function(){var f=[],d=!0,n=!1,r=void 0;try{for(var o,i=this.DOM.attributes[Symbol.iterator]();!(d=(o=i.next()).done);d=!0){var a=o.value;f.push(a.nodeName)}}catch(y){n=!0,r=y}finally{try{d||i.return==null||i.return()}finally{if(n)throw r}}return f},t.default.XML.prototype.hasAttribute=function(f){var d={},n=!0,r=!1,o=void 0;try{for(var i,a=this.DOM.attributes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var y=i.value;d[y.nodeName]=y.nodeValue}}catch(w){r=!0,o=w}finally{try{n||a.return==null||a.return()}finally{if(r)throw o}}return!!d[f]},t.default.XML.prototype.getNum=function(f,d){var n={},r=!0,o=!1,i=void 0;try{for(var a,y=this.DOM.attributes[Symbol.iterator]();!(r=(a=y.next()).done);r=!0){var w=a.value;n[w.nodeName]=w.nodeValue}}catch(x){o=!0,i=x}finally{try{r||y.return==null||y.return()}finally{if(o)throw i}}return Number(n[f])||d||0},t.default.XML.prototype.getString=function(f,d){var n={},r=!0,o=!1,i=void 0;try{for(var a,y=this.DOM.attributes[Symbol.iterator]();!(r=(a=y.next()).done);r=!0){var w=a.value;n[w.nodeName]=w.nodeValue}}catch(x){o=!0,i=x}finally{try{r||y.return==null||y.return()}finally{if(o)throw i}}return n[f]?String(n[f]):d||null},t.default.XML.prototype.setAttribute=function(f,d){this.DOM.setAttribute(f,d)},t.default.XML.prototype.getContent=function(f){return this.DOM.textContent.replace(/\s\s+/g,",")||f||null},t.default.XML.prototype.setContent=function(f){this.DOM.children.length||(this.DOM.textContent=f)},t.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)};var c=t.default;g.default=c},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],294:[function(e,v,g){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function u(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var f=arguments.length,d=[],n=0,r=0;r<f;r++){var o=arguments[r];if((o=+o)===1/0||o===-1/0)return 1/0;n<(o=Math.abs(o))&&(n=o),d[r]=o}n===0&&(n=1);for(var i=0,a=0,y=0;y<f;y++){var w=d[y]/n,x=w*w-a,_=i+x;a=_-i-x,i=_}return Math.sqrt(i)*n}t.default.prototype.abs=Math.abs,t.default.prototype.ceil=Math.ceil,t.default.prototype.constrain=function(f,d,n){return t.default._validateParameters("constrain",arguments),Math.max(Math.min(f,n),d)},t.default.prototype.dist=function(){for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];return t.default._validateParameters("dist",d),d.length===4?u(d[2]-d[0],d[3]-d[1]):d.length===6?u(d[3]-d[0],d[4]-d[1],d[5]-d[2]):void 0},t.default.prototype.exp=Math.exp,t.default.prototype.floor=Math.floor,t.default.prototype.lerp=function(f,d,n){return t.default._validateParameters("lerp",arguments),n*(d-f)+f},t.default.prototype.log=Math.log,t.default.prototype.mag=function(f,d){return t.default._validateParameters("mag",arguments),u(f,d)},t.default.prototype.map=function(f,d,n,r,o,i){t.default._validateParameters("map",arguments);var a=(f-d)/(n-d)*(o-r)+r;return i?r<o?this.constrain(a,r,o):this.constrain(a,o,r):a},t.default.prototype.max=function(){for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];return d[0]instanceof Array?Math.max.apply(null,d[0]):Math.max.apply(null,d)},t.default.prototype.min=function(){for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];return d[0]instanceof Array?Math.min.apply(null,d[0]):Math.min.apply(null,d)},t.default.prototype.norm=function(f,d,n){return t.default._validateParameters("norm",arguments),this.map(f,d,n,0,1)},t.default.prototype.pow=Math.pow,t.default.prototype.round=function(f,d){if(!d)return Math.round(f);var n=Math.pow(10,d);return Math.round(f*n)/n},t.default.prototype.sq=function(f){return f*f},t.default.prototype.sqrt=Math.sqrt,t.default.prototype.fract=function(f){t.default._validateParameters("fract",arguments);var d=0,n=Number(f);if(isNaN(n)||Math.abs(n)===1/0)return n;if(n<0&&(n=-n,d=1),!String(n).includes(".")||String(n).includes("e"))return n<1?Math.abs(d-n):0;var r=String(n);return r=Number("0"+r.slice(r.indexOf("."))),Math.abs(d-r)};var c=t.default;g.default=c},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":168,"core-js/modules/es.number.constructor":170,"core-js/modules/es.string.includes":185}],295:[function(e,v,g){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function u(d,n,r){return(u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(o,i,a){var y=[null];y.push.apply(y,i);var w=new(Function.bind.apply(o,y));return a&&c(w,a.prototype),w}).apply(null,arguments)}function c(d,n){return(c=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(d,n)}t.default.prototype.createVector=function(d,n,r){return this instanceof t.default?u(t.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new t.default.Vector(d,n,r)};var f=t.default;g.default=f},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],296:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function u(o){return .5*(1-Math.cos(o*Math.PI))}var c,f=4095,d=4,n=.5;t.default.prototype.noise=function(o){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(c==null){c=new Array(4096);for(var y=0;y<4096;y++)c[y]=Math.random()}o<0&&(o=-o),i<0&&(i=-i),a<0&&(a=-a);for(var w,x,_,T,E,A=Math.floor(o),P=Math.floor(i),I=Math.floor(a),R=o-A,L=i-P,U=a-I,D=0,H=.5,W=0;W<d;W++){var ae=A+(P<<4)+(I<<8);w=u(R),x=u(L),_=c[ae&f],_+=w*(c[ae+1&f]-_),T=c[ae+16&f],_+=x*((T+=w*(c[ae+16+1&f]-T))-_),T=c[(ae+=256)&f],T+=w*(c[ae+1&f]-T),E=c[ae+16&f],T+=x*((E+=w*(c[ae+16+1&f]-E))-T),D+=(_+=u(U)*(T-_))*H,H*=n,A<<=1,P<<=1,I<<=1,1<=(R*=2)&&(A++,R--),1<=(L*=2)&&(P++,L--),1<=(U*=2)&&(I++,U--)}return D},t.default.prototype.noiseDetail=function(o,i){0<o&&(d=o),0<i&&(n=i)},t.default.prototype.noiseSeed=function(o){var i,a,y,w=(y=4294967296,{setSeed:function(_){a=i=(_??Math.random()*y)>>>0},getSeed:function(){return i},rand:function(){return(a=(1664525*a+1013904223)%y)/y}});w.setSeed(o),c=new Array(4096);for(var x=0;x<4096;x++)c[x]=w.rand()};var r=t.default;g.default=r},{"../core/main":264}],297:[function(e,v,g){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(o){if(o&&o.__esModule)return o;if(o===null||h(o)!=="object"&&typeof o!="function")return{default:o};var i=f();if(i&&i.has(o))return i.get(o);var a={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in o)if(Object.prototype.hasOwnProperty.call(o,w)){var x=y?Object.getOwnPropertyDescriptor(o,w):null;x&&(x.get||x.set)?Object.defineProperty(a,w,x):a[w]=o[w]}return a.default=o,i&&i.set(o,a),a}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return f=function(){return o},o}u.default.Vector=function(o,i,a,y,w){var x,_,T;T={}.toString.call(o)==="[object Function]"?(this.isPInst=!0,this._fromRadians=o,this._toRadians=i,x=a||0,_=y||0,w||0):(x=o||0,_=i||0,a||0),this.x=x,this.y=_,this.z=T},u.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},u.default.Vector.prototype.set=function(o,i,a){return o instanceof u.default.Vector?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):o instanceof Array?(this.x=o[0]||0,this.y=o[1]||0,this.z=o[2]||0):(this.x=o||0,this.y=i||0,this.z=a||0),this},u.default.Vector.prototype.copy=function(){return this.isPInst?new u.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new u.default.Vector(this.x,this.y,this.z)},u.default.Vector.prototype.add=function(o,i,a){return o instanceof u.default.Vector?(this.x+=o.x||0,this.y+=o.y||0,this.z+=o.z||0):o instanceof Array?(this.x+=o[0]||0,this.y+=o[1]||0,this.z+=o[2]||0):(this.x+=o||0,this.y+=i||0,this.z+=a||0),this};function d(o,i){return o!==0&&(this.x=this.x%o),i!==0&&(this.y=this.y%i),this}function n(o,i,a){return o!==0&&(this.x=this.x%o),i!==0&&(this.y=this.y%i),a!==0&&(this.z=this.z%a),this}u.default.Vector.prototype.rem=function(o,i,a){if(o instanceof u.default.Vector){if(Number.isFinite(o.x)&&Number.isFinite(o.y)&&Number.isFinite(o.z)){var y=parseFloat(o.x),w=parseFloat(o.y),x=parseFloat(o.z);return n.call(this,y,w,x)}}else if(o instanceof Array){if(o.every(function(E){return Number.isFinite(E)})){if(o.length===2)return d.call(this,o[0],o[1]);if(o.length===3)return n.call(this,o[0],o[1],o[2])}}else if(arguments.length===1){if(Number.isFinite(o)&&o!==0)return this.x=this.x%o,this.y=this.y%o,this.z=this.z%o,this}else if(arguments.length===2){var _=Array.prototype.slice.call(arguments);if(_.every(function(E){return Number.isFinite(E)})&&_.length===2)return d.call(this,_[0],_[1])}else if(arguments.length===3){var T=Array.prototype.slice.call(arguments);if(T.every(function(E){return Number.isFinite(E)})&&T.length===3)return n.call(this,T[0],T[1],T[2])}},u.default.Vector.prototype.sub=function(o,i,a){return o instanceof u.default.Vector?(this.x-=o.x||0,this.y-=o.y||0,this.z-=o.z||0):o instanceof Array?(this.x-=o[0]||0,this.y-=o[1]||0,this.z-=o[2]||0):(this.x-=o||0,this.y-=i||0,this.z-=a||0),this},u.default.Vector.prototype.mult=function(o,i,a){if(o instanceof u.default.Vector)return Number.isFinite(o.x)&&Number.isFinite(o.y)&&Number.isFinite(o.z)&&typeof o.x=="number"&&typeof o.y=="number"&&typeof o.z=="number"?(this.x*=o.x,this.y*=o.y,this.z*=o.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(o instanceof Array)return o.every(function(w){return Number.isFinite(w)})&&o.every(function(w){return typeof w=="number"})?o.length===1?(this.x*=o[0],this.y*=o[0],this.z*=o[0]):o.length===2?(this.x*=o[0],this.y*=o[1]):o.length===3&&(this.x*=o[0],this.y*=o[1],this.z*=o[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var y=Array.prototype.slice.call(arguments);return y.every(function(w){return Number.isFinite(w)})&&y.every(function(w){return typeof w=="number"})?(arguments.length===1&&(this.x*=o,this.y*=o,this.z*=o),arguments.length===2&&(this.x*=o,this.y*=i),arguments.length===3&&(this.x*=o,this.y*=i,this.z*=a)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},u.default.Vector.prototype.div=function(o,i,a){if(o instanceof u.default.Vector){if(Number.isFinite(o.x)&&Number.isFinite(o.y)&&Number.isFinite(o.z)&&typeof o.x=="number"&&typeof o.y=="number"&&typeof o.z=="number"){if(o.x===0||o.y===0||o.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=o.x,this.y/=o.y,this.z/=o.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(o instanceof Array){if(o.every(function(w){return Number.isFinite(w)})&&o.every(function(w){return typeof w=="number"})){if(o.some(function(w){return w===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;o.length===1?(this.x/=o[0],this.y/=o[0],this.z/=o[0]):o.length===2?(this.x/=o[0],this.y/=o[1]):o.length===3&&(this.x/=o[0],this.y/=o[1],this.z/=o[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var y=Array.prototype.slice.call(arguments);if(y.every(function(w){return Number.isFinite(w)})&&y.every(function(w){return typeof w=="number"})){if(y.some(function(w){return w===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=o,this.y/=o,this.z/=o),arguments.length===2&&(this.x/=o,this.y/=i),arguments.length===3&&(this.x/=o,this.y/=i,this.z/=a)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},u.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},u.default.Vector.prototype.magSq=function(){var o=this.x,i=this.y,a=this.z;return o*o+i*i+a*a},u.default.Vector.prototype.dot=function(o,i,a){return o instanceof u.default.Vector?this.dot(o.x,o.y,o.z):this.x*(o||0)+this.y*(i||0)+this.z*(a||0)},u.default.Vector.prototype.cross=function(o){var i=this.y*o.z-this.z*o.y,a=this.z*o.x-this.x*o.z,y=this.x*o.y-this.y*o.x;return this.isPInst?new u.default.Vector(this._fromRadians,this._toRadians,i,a,y):new u.default.Vector(i,a,y)},u.default.Vector.prototype.dist=function(o){return o.copy().sub(this).mag()},u.default.Vector.prototype.normalize=function(){var o=this.mag();return o!==0&&this.mult(1/o),this},u.default.Vector.prototype.limit=function(o){var i=this.magSq();return o*o<i&&this.div(Math.sqrt(i)).mult(o),this},u.default.Vector.prototype.setMag=function(o){return this.normalize().mult(o)},u.default.Vector.prototype.heading=function(){var o=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(o):o},u.default.Vector.prototype.setHeading=function(o){var i=this.mag();return this.x=i*Math.cos(o),this.y=i*Math.sin(o),this},u.default.Vector.prototype.rotate=function(o){var i=this.heading()+o;this.isPInst&&(i=this._toRadians(i));var a=this.mag();return this.x=Math.cos(i)*a,this.y=Math.sin(i)*a,this},u.default.Vector.prototype.angleBetween=function(o){var i,a=this.dot(o)/(this.mag()*o.mag());return i=Math.acos(Math.min(1,Math.max(-1,a))),i*=Math.sign(this.cross(o).z||1),this.isPInst&&(i=this._fromRadians(i)),i},u.default.Vector.prototype.lerp=function(o,i,a,y){return o instanceof u.default.Vector?this.lerp(o.x,o.y,o.z,i):(this.x+=(o-this.x)*y||0,this.y+=(i-this.y)*y||0,this.z+=(a-this.z)*y||0,this)},u.default.Vector.prototype.reflect=function(o){return o.normalize(),this.sub(o.mult(2*this.dot(o)))},u.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},u.default.Vector.prototype.equals=function(o,i,a){var y,w,x;return x=o instanceof u.default.Vector?(y=o.x||0,w=o.y||0,o.z||0):o instanceof Array?(y=o[0]||0,w=o[1]||0,o[2]||0):(y=o||0,w=i||0,a||0),this.x===y&&this.y===w&&this.z===x},u.default.Vector.fromAngle=function(o,i){return i===void 0&&(i=1),new u.default.Vector(i*Math.cos(o),i*Math.sin(o),0)},u.default.Vector.fromAngles=function(o,i,a){a===void 0&&(a=1);var y=Math.cos(i),w=Math.sin(i),x=Math.cos(o),_=Math.sin(o);return new u.default.Vector(a*_*w,-a*x,a*_*y)},u.default.Vector.random2D=function(){return this.fromAngle(Math.random()*c.TWO_PI)},u.default.Vector.random3D=function(){var o=Math.random()*c.TWO_PI,i=2*Math.random()-1,a=Math.sqrt(1-i*i),y=a*Math.cos(o),w=a*Math.sin(o);return new u.default.Vector(y,w,i)},u.default.Vector.add=function(o,i,a){return a?a.set(o):(a=o.copy(),arguments.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),a.add(i),a},u.default.Vector.rem=function(o,i){if(o instanceof u.default.Vector&&i instanceof u.default.Vector){var a=o.copy();return a.rem(i),a}},u.default.Vector.sub=function(o,i,a){return a?a.set(o):(a=o.copy(),arguments.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),a.sub(i),a},u.default.Vector.mult=function(o,i,a){return a?a.set(o):(a=o.copy(),arguments.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),a.mult(i),a},u.default.Vector.rotate=function(o,i,a){return arguments.length===2?a=o.copy():(a instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),a.set(o)),a.rotate(i),a},u.default.Vector.div=function(o,i,a){return a?a.set(o):(a=o.copy(),arguments.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),a.div(i),a},u.default.Vector.dot=function(o,i){return o.dot(i)},u.default.Vector.cross=function(o,i){return o.cross(i)},u.default.Vector.dist=function(o,i){return o.dist(i)},u.default.Vector.lerp=function(o,i,a,y){return y?y.set(o):(y=o.copy(),arguments.length===4&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),y.lerp(i,a),y},u.default.Vector.mag=function(o){var i=o.x,a=o.y,y=o.z,w=i*i+a*a+y*y;return Math.sqrt(w)},u.default.Vector.normalize=function(o,i){return arguments.length<2?i=o.copy():(i instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),i.set(o)),i.normalize()};var r=u.default.Vector;g.default=r},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":150,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":169,"core-js/modules/es.number.constructor":170,"core-js/modules/es.number.is-finite":171,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.sub":192}],298:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h},u="_lcg_random_state",c=4294967296,f=0;t.default.prototype._lcg=function(n){return this[n]=(1664525*this[n]+1013904223)%c,this[n]/c},t.default.prototype._lcgSetSeed=function(n,r){this[n]=(r??Math.random()*c)>>>0},t.default.prototype.randomSeed=function(n){this._lcgSetSeed(u,n),this._gaussian_previous=!1},t.default.prototype.random=function(n,r){var o;if(t.default._validateParameters("random",arguments),o=this[u]!=null?this._lcg(u):Math.random(),n===void 0)return o;if(r===void 0)return n instanceof Array?n[Math.floor(o*n.length)]:o*n;if(r<n){var i=n;n=r,r=i}return o*(r-n)+n},t.default.prototype.randomGaussian=function(n){var r,o,i,a,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)r=f,this._gaussian_previous=!1;else{for(;1<=(a=(o=this.random(2)-1)*o+(i=this.random(2)-1)*i););r=o*(a=Math.sqrt(-2*Math.log(a)/a)),f=i*a,this._gaussian_previous=!0}return r*y+(n||0)};var d=t.default;g.default=d},{"../core/main":264}],299:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=f();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return f=function(){return n},n}u.default.prototype._angleMode=c.RADIANS,u.default.prototype.acos=function(n){return this._fromRadians(Math.acos(n))},u.default.prototype.asin=function(n){return this._fromRadians(Math.asin(n))},u.default.prototype.atan=function(n){return this._fromRadians(Math.atan(n))},u.default.prototype.atan2=function(n,r){return this._fromRadians(Math.atan2(n,r))},u.default.prototype.cos=function(n){return Math.cos(this._toRadians(n))},u.default.prototype.sin=function(n){return Math.sin(this._toRadians(n))},u.default.prototype.tan=function(n){return Math.tan(this._toRadians(n))},u.default.prototype.degrees=function(n){return n*c.RAD_TO_DEG},u.default.prototype.radians=function(n){return n*c.DEG_TO_RAD},u.default.prototype.angleMode=function(n){if(u.default._validateParameters("angleMode",arguments),n===void 0)return this._angleMode;n!==c.DEGREES&&n!==c.RADIANS||(this._angleMode=n)},u.default.prototype._toRadians=function(n){return this._angleMode===c.DEGREES?n*c.DEG_TO_RAD:n},u.default.prototype._toDegrees=function(n){return this._angleMode===c.RADIANS?n*c.RAD_TO_DEG:n},u.default.prototype._fromRadians=function(n){return this._angleMode===c.DEGREES?n*c.RAD_TO_DEG:n};var d=u.default;g.default=d},{"../core/constants":253,"../core/main":264}],300:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.textAlign=function(c,f){var d;return t.default._validateParameters("textAlign",arguments),(d=this._renderer).textAlign.apply(d,arguments)},t.default.prototype.textLeading=function(c){var f;return t.default._validateParameters("textLeading",arguments),(f=this._renderer).textLeading.apply(f,arguments)},t.default.prototype.textSize=function(c){var f;return t.default._validateParameters("textSize",arguments),(f=this._renderer).textSize.apply(f,arguments)},t.default.prototype.textStyle=function(c){var f;return t.default._validateParameters("textStyle",arguments),(f=this._renderer).textStyle.apply(f,arguments)},t.default.prototype.textWidth=function(){for(var c,f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];return d[0]+="",t.default._validateParameters("textWidth",d),d[0].length===0?0:(c=this._renderer).textWidth.apply(c,d)},t.default.prototype.textAscent=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return t.default._validateParameters("textAscent",f),this._renderer.textAscent()},t.default.prototype.textDescent=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return t.default._validateParameters("textDescent",f),this._renderer.textDescent()},t.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},t.default.prototype.textWrap=function(c){if(c!=="WORD"&&c!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(c)};var u=t.default;g.default=u},{"../core/main":264}],301:[function(e,v,g){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(o)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=n(e("../core/constants")),f=n(e("opentype.js"));function d(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return d=function(){return o},o}function n(o){if(o&&o.__esModule)return o;if(o===null||h(o)!=="object"&&typeof o!="function")return{default:o};var i=d();if(i&&i.has(o))return i.get(o);var a={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in o)if(Object.prototype.hasOwnProperty.call(o,w)){var x=y?Object.getOwnPropertyDescriptor(o,w):null;x&&(x.get||x.set)?Object.defineProperty(a,w,x):a[w]=o[w]}return a.default=o,i&&i.set(o,a),a}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),u.default.prototype.loadFont=function(o,i,a){u.default._validateParameters("loadFont",arguments);var y=new u.default.Font(this),w=this;return f.load(o,function(x,_){if(x)return u.default._friendlyFileLoadError(4,o),a!==void 0?a(x):void console.error(x,o);y.font=_,i!==void 0&&i(y),w._decrementPreload();var T,E,A=o.split("\\").pop().split("/").pop(),P=A.lastIndexOf("."),I=P<1?null:A.slice(P+1);["ttf","otf","woff","woff2"].includes(I)&&(T=A.slice(0,P!==-1?P:0),(E=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(T,`;
src: url(`).concat(o,`);
}
`))),document.head.appendChild(E))}),y},u.default.prototype.text=function(o,i,a,y,w){var x;return u.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(x=this._renderer).text.apply(x,arguments):this},u.default.prototype.textFont=function(o,i){if(u.default._validateParameters("textFont",arguments),arguments.length){if(!o)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",o),i&&(this._renderer._setProperty("_textSize",i),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",i*c._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont};var r=u.default;g.default=r},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.split":191,"opentype.js":239}],302:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h},u=function(R){if(R&&R.__esModule)return R;if(R===null||f(R)!=="object"&&typeof R!="function")return{default:R};var L=c();if(L&&L.has(R))return L.get(R);var U={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in R)if(Object.prototype.hasOwnProperty.call(R,H)){var W=D?Object.getOwnPropertyDescriptor(R,H):null;W&&(W.get||W.set)?Object.defineProperty(U,H,W):U[H]=R[H]}return U.default=R,L&&L.set(R,U),U}(e("../core/constants"));function c(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return c=function(){return R},R}function f(R){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(R)}function d(R,L){for(var U=function(le,J){if(f(le)!=="object")le=J;else for(var ue in J)le[ue]===void 0&&(le[ue]=J[ue]);return le}(L,{sampleFactor:.1,simplifyThreshold:0}),D=w(R,0,1),H=D/(D*U.sampleFactor),W=[],ae=0;ae<D;ae+=H)W.push(w(R,ae));return U.simplifyThreshold&&function(le){for(var J=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ue=0,se=le.length-1;3<le.length&&0<=se;--se)i(o(le,se-1),o(le,se),o(le,se+1),J)&&(le.splice(se%le.length,1),ue++)}(W,U.simplifyThreshold),W}function n(R){for(var L,U=[],D=0;D<R.length;D++)R[D].type==="M"&&(L&&U.push(L),L=[]),L.push(r(R[D]));return U.push(L),U}function r(R){var L=[R.type];return R.type==="M"||R.type==="L"?L.push(R.x,R.y):R.type==="C"?L.push(R.x1,R.y1,R.x2,R.y2,R.x,R.y):R.type==="Q"&&L.push(R.x1,R.y1,R.x,R.y),L}function o(R,L){var U=R.length;return R[L<0?L%U+U:L%U]}function i(R,L,U,D){if(!D)return H=R,ae=U,((W=L)[0]-H[0])*(ae[1]-H[1])-(ae[0]-H[0])*(W[1]-H[1])==0;var H,W,ae;i.tmpPoint1===void 0&&(i.tmpPoint1=[],i.tmpPoint2=[]);var le=i.tmpPoint1,J=i.tmpPoint2;le.x=L.x-R.x,le.y=L.y-R.y,J.x=U.x-L.x,J.y=U.y-L.y;var ue=le.x*J.x+le.y*J.y,se=Math.sqrt(le.x*le.x+le.y*le.y),me=Math.sqrt(J.x*J.x+J.y*J.y);return Math.acos(ue/(se*me))<D}function a(R,L,U,D,H,W,ae,le,J){var ue=1-J,se=Math.pow(ue,3),me=Math.pow(ue,2),xe=J*J,Ce=xe*J,ve=se*R+3*me*J*U+3*ue*J*J*H+Ce*ae,De=se*L+3*me*J*D+3*ue*J*J*W+Ce*le,_e=R+2*J*(U-R)+xe*(H-2*U+R),Se=L+2*J*(D-L)+xe*(W-2*D+L),O=U+2*J*(H-U)+xe*(ae-2*H+U),G=D+2*J*(W-D)+xe*(le-2*W+D),X=ue*R+J*U,ee=ue*L+J*D,B=ue*H+J*ae,N=ue*W+J*le,re=90-180*Math.atan2(_e-O,Se-G)/Math.PI;return(O<_e||Se<G)&&(re+=180),{x:ve,y:De,m:{x:_e,y:Se},n:{x:O,y:G},start:{x:X,y:ee},end:{x:B,y:N},alpha:re}}function y(R,L,U,D,H,W,ae,le,J){return J==null?A(R,L,U,D,H,W,ae,le):a(R,L,U,D,H,W,ae,le,function(ue,se,me,xe,Ce,ve,De,_e,Se){if(!(Se<0||A(ue,se,me,xe,Ce,ve,De,_e)<Se)){var O,G=.5,X=1-G;for(O=A(ue,se,me,xe,Ce,ve,De,_e,X);.01<Math.abs(O-Se);)O=A(ue,se,me,xe,Ce,ve,De,_e,X+=(O<Se?1:-1)*(G/=2));return X}}(R,L,U,D,H,W,ae,le,J))}function w(R,L,U){for(var D,H,W,ae,le,J=0,ue=0,se=(R=function(me,xe){function Ce(ge,he,Pe){var Be,Ue;if(!ge)return["C",he.x,he.y,he.x,he.y,he.x,he.y];switch(ge[0]in{T:1,Q:1}||(he.qx=he.qy=null),ge[0]){case"M":he.X=ge[1],he.Y=ge[2];break;case"A":ge=["C"].concat(function Le($e,Ae,Me,He,qe,be,Je,V,Z,z){var $=Math.PI,de=120*$/180,Te,Oe,Ve,we,Ye=$/180*(+qe||0),ot=[],dt,pt=function(kt,yt,Qe){var Gt=kt*Math.cos(Qe)-yt*Math.sin(Qe),at=kt*Math.sin(Qe)+yt*Math.cos(Qe);return{x:Gt,y:at}};if(z)Te=z[0],Oe=z[1],Ve=z[2],we=z[3];else{dt=pt($e,Ae,-Ye),$e=dt.x,Ae=dt.y,dt=pt(V,Z,-Ye),V=dt.x,Z=dt.y;var ht=($e-V)/2,ft=(Ae-Z)/2,Ct=ht*ht/(Me*Me)+ft*ft/(He*He);1<Ct&&(Ct=Math.sqrt(Ct),Me*=Ct,He*=Ct);var Ur=Me*Me,lr=He*He,En=(be===Je?-1:1)*Math.sqrt(Math.abs((Ur*lr-Ur*ft*ft-lr*ht*ht)/(Ur*ft*ft+lr*ht*ht)));Ve=En*Me*ft/He+($e+V)/2,we=En*-He*ht/Me+(Ae+Z)/2,Te=Math.asin(((Ae-we)/He).toFixed(9)),Oe=Math.asin(((Z-we)/He).toFixed(9)),(Te=$e<Ve?$-Te:Te)<0&&(Te=2*$+Te),(Oe=V<Ve?$-Oe:Oe)<0&&(Oe=2*$+Oe),Je&&Oe<Te&&(Te-=2*$),!Je&&Te<Oe&&(Oe-=2*$)}var Qr=Oe-Te;if(Math.abs(Qr)>de){var Nr=Oe,Mn=V,An=Z;Oe=Te+de*(Je&&Te<Oe?1:-1),V=Ve+Me*Math.cos(Oe),Z=we+He*Math.sin(Oe),ot=Le(V,Z,Me,He,qe,0,Je,Mn,An,[Oe,Nr,Ve,we])}Qr=Oe-Te;var Rn=Math.cos(Te),Pn=Math.sin(Te),On=Math.cos(Oe),$n=Math.sin(Oe),fn=Math.tan(Qr/4),pn=4/3*Me*fn,fe=4/3*He*fn,Ge=[$e,Ae],Ke=[$e+pn*Pn,Ae-fe*Rn],We=[V+pn*$n,Z-fe*On],et=[V,Z];Ke[0]=2*Ge[0]-Ke[0],Ke[1]=2*Ge[1]-Ke[1];{if(z)return[Ke,We,et].concat(ot);ot=[Ke,We,et].concat(ot).join().split(",");for(var Fe=[],_t=0,Mt=ot.length;_t<Mt;_t++)Fe[_t]=_t%2?pt(ot[_t-1],ot[_t],Ye).y:pt(ot[_t],ot[_t+1],Ye).x;return Fe}}.apply(0,[he.x,he.y].concat(ge.slice(1))));break;case"S":Ue=Pe==="C"||Pe==="S"?(Be=2*he.x-he.bx,2*he.y-he.by):(Be=he.x,he.y),ge=["C",Be,Ue].concat(ge.slice(1));break;case"T":Pe==="Q"||Pe==="T"?(he.qx=2*he.x-he.qx,he.qy=2*he.y-he.qy):(he.qx=he.x,he.qy=he.y),ge=["C"].concat(E(he.x,he.y,he.qx,he.qy,ge[1],ge[2]));break;case"Q":he.qx=ge[1],he.qy=ge[2],ge=["C"].concat(E(he.x,he.y,ge[1],ge[2],ge[3],ge[4]));break;case"L":ge=["C"].concat(T(he.x,he.y,ge[1],ge[2]));break;case"H":ge=["C"].concat(T(he.x,he.y,ge[1],he.y));break;case"V":ge=["C"].concat(T(he.x,he.y,he.x,ge[1]));break;case"Z":ge=["C"].concat(T(he.x,he.y,he.X,he.Y))}return ge}function ve(ge,he){if(7<ge[he].length){ge[he].shift();for(var Pe=ge[he];Pe.length;)ee[he]="A",O&&(B[he]="A"),ge.splice(he++,0,["C"].concat(Pe.splice(0,6)));ge.splice(he,1),_e=Math.max(Se.length,O&&O.length||0)}}function De(ge,he,Pe,Be,Ue){ge&&he&&ge[Ue][0]==="M"&&he[Ue][0]!=="M"&&(he.splice(Ue,0,["M",Be.x,Be.y]),Pe.bx=0,Pe.by=0,Pe.x=ge[Ue][1],Pe.y=ge[Ue][2],_e=Math.max(Se.length,O&&O.length||0))}var _e,Se=x(me),O=xe&&x(xe),G={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},X={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee=[],B=[],N="",re="";_e=Math.max(Se.length,O&&O.length||0);for(var Y=0;Y<_e;Y++){Se[Y]&&(N=Se[Y][0]),N!=="C"&&(ee[Y]=N,Y&&(re=ee[Y-1])),Se[Y]=Ce(Se[Y],G,re),ee[Y]!=="A"&&N==="C"&&(ee[Y]="C"),ve(Se,Y),O&&(O[Y]&&(N=O[Y][0]),N!=="C"&&(B[Y]=N,Y&&(re=B[Y-1])),O[Y]=Ce(O[Y],X,re),B[Y]!=="A"&&N==="C"&&(B[Y]="C"),ve(O,Y)),De(Se,O,G,X,Y),De(O,Se,X,G,Y);var ne=Se[Y],ie=O&&O[Y],oe=ne.length,pe=O&&ie.length;G.x=ne[oe-2],G.y=ne[oe-1],G.bx=parseFloat(ne[oe-4])||G.x,G.by=parseFloat(ne[oe-3])||G.y,X.bx=O&&(parseFloat(ie[pe-4])||X.x),X.by=O&&(parseFloat(ie[pe-3])||X.y),X.x=O&&ie[pe-2],X.y=O&&ie[pe-1]}return O?[Se,O]:Se}(R)).length;ue<se;ue++){if((W=R[ue])[0]==="M")D=+W[1],H=+W[2];else{if(L<J+(ae=y(D,H,W[1],W[2],W[3],W[4],W[5],W[6]))&&!U)return{x:(le=y(D,H,W[1],W[2],W[3],W[4],W[5],W[6],L-J)).x,y:le.y,alpha:le.alpha};J+=ae,D=+W[5],H=+W[6]}W.shift()+W}return(le=U?J:a(D,H,W[0],W[1],W[2],W[3],W[4],W[5],1)).alpha&&(le={x:le.x,y:le.y,alpha:le.alpha}),le}function x(R){var L,U=[],D=0,H=0,W=0,ae=0,le=0;if(!R)return U;R[0][0]==="M"&&(W=D=+R[0][1],ae=H=+R[0][2],le++,U[0]=["M",D,H]);for(var J,ue,se=R.length===3&&R[0][0]==="M"&&R[1][0].toUpperCase()==="R"&&R[2][0].toUpperCase()==="Z",me=le,xe=R.length;me<xe;me++){if(U.push(J=[]),(ue=R[me])[0]!==String.prototype.toUpperCase.call(ue[0]))switch(J[0]=String.prototype.toUpperCase.call(ue[0]),J[0]){case"A":J[1]=ue[1],J[2]=ue[2],J[3]=ue[3],J[4]=ue[4],J[5]=ue[5],J[6]=+(ue[6]+D),J[7]=+(ue[7]+H);break;case"V":J[1]=+ue[1]+H;break;case"H":J[1]=+ue[1]+D;break;case"R":for(var Ce=2,ve=(L=[D,H].concat(ue.slice(1))).length;Ce<ve;Ce++)L[Ce]=+L[Ce]+D,L[++Ce]=+L[Ce]+H;U.pop(),U=U.concat(_(L,se));break;case"M":W=+ue[1]+D,ae=+ue[2]+H;break;default:for(var De=1,_e=ue.length;De<_e;De++)J[De]=+ue[De]+(De%2?D:H)}else if(ue[0]==="R")L=[D,H].concat(ue.slice(1)),U.pop(),U=U.concat(_(L,se)),J=["R"].concat(ue.slice(-2));else for(var Se=0,O=ue.length;Se<O;Se++)J[Se]=ue[Se];switch(J[0]){case"Z":D=W,H=ae;break;case"H":D=J[1];break;case"V":H=J[1];break;case"M":W=J[J.length-2],ae=J[J.length-1];break;default:D=J[J.length-2],H=J[J.length-1]}}return U}function _(R,L){for(var U=[],D=0,H=R.length;D<H-2*!L;D+=2){var W=[{x:+R[D-2],y:+R[D-1]},{x:+R[D],y:+R[D+1]},{x:+R[D+2],y:+R[D+3]},{x:+R[D+4],y:+R[D+5]}];L?D?H-4===D?W[3]={x:+R[0],y:+R[1]}:H-2===D&&(W[2]={x:+R[0],y:+R[1]},W[3]={x:+R[2],y:+R[3]}):W[0]={x:+R[H-2],y:+R[H-1]}:H-4===D?W[3]=W[2]:D||(W[0]={x:+R[D],y:+R[D+1]}),U.push(["C",(-W[0].x+6*W[1].x+W[2].x)/6,(-W[0].y+6*W[1].y+W[2].y)/6,(W[1].x+6*W[2].x-W[3].x)/6,(W[1].y+6*W[2].y-W[3].y)/6,W[2].x,W[2].y])}return U}function T(R,L,U,D){return[R,L,U,D,U,D]}function E(R,L,U,D,H,W){return[1/3*R+2/3*U,1/3*L+2/3*D,1/3*H+2/3*U,1/3*W+2/3*D,H,W]}function A(R,L,U,D,H,W,ae,le,J){J==null&&(J=1);for(var ue=(J=1<J?1:J<0?0:J)/2,se=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],me=0,xe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ce=0;Ce<12;Ce++){var ve=ue*se[Ce]+ue,De=P(ve,R,U,H,ae),_e=P(ve,L,D,W,le),Se=De*De+_e*_e;me+=xe[Ce]*Math.sqrt(Se)}return ue*me}function P(R,L,U,D,H){return R*(R*(-3*L+9*U-9*D+3*H)+6*L-12*U+6*D)-3*L+3*U}t.default.Font=function(R){this.parent=R,this.cache={},this.font=void 0},t.default.Font.prototype.textBounds=function(R){var L,U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,H=3<arguments.length?arguments[3]:void 0,W=4<arguments.length?arguments[4]:void 0,ae=W&&W.renderer&&W.renderer._pInst||this.parent,le=ae._renderer.drawingContext;if(le.textAlign||u.LEFT,le.textBaseline||u.BASELINE,H=H||ae._renderer._textSize,!L){var J,ue,se=[],me=[],xe=[];xe[0]=[];var Ce=[],ve=this._scale(H),De=ae._renderer.textLeading(),_e=0;this.font.forEachGlyph(R,U,D,H,W,function(ee,B,N,re){var Y=ee.getMetrics();ee.index===0||ee.index===10?xe[_e+=1]=[]:(xe[_e].push(B+Y.xMin*ve),xe[_e].push(B+Y.xMax*ve),Ce.push(N+_e*De+-Y.yMin*ve),Ce.push(N+_e*De+-Y.yMax*ve))}),0<xe[_e].length&&(se[_e]=Math.min.apply(null,xe[_e]),me[_e]=Math.max.apply(null,xe[_e]));for(var Se=0,O=0;O<=_e;O++){se[O]=Math.min.apply(null,xe[O]),me[O]=Math.max.apply(null,xe[O]);var G=me[O]-se[O];Se<G&&(Se=G)}var X=Math.min.apply(null,se);L={x:X,y:J=Math.min.apply(null,Ce),h:Math.max.apply(null,Ce)-J,w:Se,advance:X-U},ue=this._handleAlignment(ae._renderer,R,L.x,L.y,L.w+L.advance),L.x=ue.x,L.y=ue.y}return L},t.default.Font.prototype.textToPoints=function(R,L,U,D,H){var W,ae=0,le=[],J=this._getGlyphs(R);D=D||this.parent._renderer._textSize;for(var ue=0;ue<J.length;ue++){if(!(J[W=ue].name&&J[W].name==="space"||R.length===J.length&&R[W]===" "))for(var se=n(J[ue].getPath(L,U,D).commands),me=0;me<se.length;me++)for(var xe=d(se[me],H),Ce=0;Ce<xe.length;Ce++)xe[Ce].x+=ae,le.push(xe[Ce]);ae+=J[ue].advanceWidth*this._scale(D)}return le},t.default.Font.prototype._getGlyphs=function(R){return this.font.stringToGlyphs(R)},t.default.Font.prototype._getPath=function(R,L,U,D){var H=(D&&D.renderer&&D.renderer._pInst||this.parent)._renderer,W=this._handleAlignment(H,R,L,U);return this.font.getPath(R,W.x,W.y,H._textSize,D)},t.default.Font.prototype._getPathData=function(R,L,U,D){var H=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,L,U,D):f(L)==="object"&&(D=L),D&&typeof D.decimals=="number"&&(H=D.decimals),R.toPathData(H)},t.default.Font.prototype._getSVG=function(R,L,U,D){var H=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,L,U,D):f(L)==="object"&&(D=L),D&&(typeof D.decimals=="number"&&(H=D.decimals),typeof D.strokeWidth=="number"&&(R.strokeWidth=D.strokeWidth),D.fill!==void 0&&(R.fill=D.fill),D.stroke!==void 0&&(R.stroke=D.stroke)),R.toSVG(H)},t.default.Font.prototype._renderPath=function(R,L,U,D){var H,W=D&&D.renderer||this.parent._renderer,ae=W.drawingContext;H=f(R)==="object"&&R.commands?R.commands:this._getPath(R,L,U,D).commands,ae.beginPath();var le=!0,J=!1,ue=void 0;try{for(var se,me=H[Symbol.iterator]();!(le=(se=me.next()).done);le=!0){var xe=se.value;xe.type==="M"?ae.moveTo(xe.x,xe.y):xe.type==="L"?ae.lineTo(xe.x,xe.y):xe.type==="C"?ae.bezierCurveTo(xe.x1,xe.y1,xe.x2,xe.y2,xe.x,xe.y):xe.type==="Q"?ae.quadraticCurveTo(xe.x1,xe.y1,xe.x,xe.y):xe.type==="Z"&&ae.closePath()}}catch(Ce){J=!0,ue=Ce}finally{try{le||me.return==null||me.return()}finally{if(J)throw ue}}return W._doStroke&&W._strokeSet&&ae.stroke(),W._doFill&&(W._fillSet||W._setFill(u._DEFAULT_TEXT_FILL),ae.fill()),this},t.default.Font.prototype._textWidth=function(R,L){return this.font.getAdvanceWidth(R,L)},t.default.Font.prototype._textAscent=function(R){return this.font.ascender*this._scale(R)},t.default.Font.prototype._textDescent=function(R){return-this.font.descender*this._scale(R)},t.default.Font.prototype._scale=function(R){return 1/this.font.unitsPerEm*(R||this.parent._renderer._textSize)},t.default.Font.prototype._handleAlignment=function(R,L,U,D,H){var W=R._textSize;switch(H===void 0&&(H=this._textWidth(L,W)),R._textAlign){case u.CENTER:U-=H/2;break;case u.RIGHT:U-=H}switch(R._textBaseline){case u.TOP:D+=this._textAscent(W);break;case u.CENTER:D+=this._textAscent(W)/2;break;case u.BOTTOM:D-=this._textDescent(W)}return{x:U,y:D}};var I=t.default;g.default=I},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],303:[function(e,v,g){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.append=function(c,f){return c.push(f),c},t.default.prototype.arrayCopy=function(c,f,d,n,r){var o,i;c=r!==void 0?(i=Math.min(r,c.length),o=n,c.slice(f,i+f)):(i=d!==void 0?(i=d,Math.min(i,c.length)):c.length,o=0,d=f,c.slice(0,i)),Array.prototype.splice.apply(d,[o,i].concat(c))},t.default.prototype.concat=function(c,f){return c.concat(f)},t.default.prototype.reverse=function(c){return c.reverse()},t.default.prototype.shorten=function(c){return c.pop(),c},t.default.prototype.shuffle=function(c,f){for(var d,n,r=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(c),o=(c=f||r?c:c.slice()).length;1<o;)d=this.random(0,1)*o|0,n=c[--o],c[o]=c[d],c[d]=n;return c},t.default.prototype.sort=function(c,f){var d=f?c.slice(0,Math.min(f,c.length)):c,n=f?c.slice(Math.min(f,c.length)):[];return(d=typeof d[0]=="string"?d.sort():d.sort(function(r,o){return r-o})).concat(n)},t.default.prototype.splice=function(c,f,d){return Array.prototype.splice.apply(c,[d,0].concat(f)),c},t.default.prototype.subset=function(c,f,d){return d!==void 0?c.slice(f,f+d):c.slice(f,c.length)};var u=t.default;g.default=u},{"../core/main":264,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],304:[function(e,v,g){e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.float=function(c){return c instanceof Array?c.map(parseFloat):parseFloat(c)},t.default.prototype.int=function(c){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return c===1/0||c==="Infinity"?1/0:c===-1/0||c==="-Infinity"?-1/0:typeof c=="string"?parseInt(c,f):typeof c=="number"?0|c:typeof c=="boolean"?c?1:0:c instanceof Array?c.map(function(d){return t.default.prototype.int(d,f)}):void 0},t.default.prototype.str=function(c){return c instanceof Array?c.map(t.default.prototype.str):String(c)},t.default.prototype.boolean=function(c){return typeof c=="number"?c!==0:typeof c=="string"?c.toLowerCase()==="true":typeof c=="boolean"?c:c instanceof Array?c.map(t.default.prototype.boolean):void 0},t.default.prototype.byte=function(c){var f=t.default.prototype.int(c,10);return typeof f=="number"?(f+128)%256-128:f instanceof Array?f.map(t.default.prototype.byte):void 0},t.default.prototype.char=function(c){return typeof c!="number"||isNaN(c)?c instanceof Array?c.map(t.default.prototype.char):typeof c=="string"?t.default.prototype.char(parseInt(c,10)):void 0:String.fromCharCode(c)},t.default.prototype.unchar=function(c){return typeof c=="string"&&c.length===1?c.charCodeAt(0):c instanceof Array?c.map(t.default.prototype.unchar):void 0},t.default.prototype.hex=function(c,f){if(f=f??(f=8),c instanceof Array)return c.map(function(n){return t.default.prototype.hex(n,f)});if(c===1/0||c===-1/0)return(c===1/0?"F":"0").repeat(f);if(typeof c=="number"){c<0&&(c=4294967295+c+1);for(var d=Number(c).toString(16).toUpperCase();d.length<f;)d="0".concat(d);return d.length>=f&&(d=d.substring(d.length-f,d.length)),d}},t.default.prototype.unhex=function(c){return c instanceof Array?c.map(t.default.prototype.unhex):parseInt("0x".concat(c),16)};var u=t.default;g.default=u},{"../core/main":264,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],305:[function(e,v,g){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function u(r,o,i){var a=r<0,y=a?r.toString().substring(1):r.toString(),w=y.indexOf("."),x=w!==-1?y.substring(0,w):y,_=w!==-1?y.substring(w+1):"",T=a?"-":"";if(i!==void 0){var E="";(w!==-1||0<i-_.length)&&(E="."),_.length>i&&(_=_.substring(0,i));for(var A=0;A<o-x.length;A++)T+="0";T+=x,T+=E,T+=_;for(var P=0;P<i-_.length;P++)T+="0";return T}for(var I=0;I<Math.max(o-x.length,0);I++)T+="0";return T+=y}function c(r,o){var i=(r=r.toString()).indexOf("."),a=i!==-1?r.substring(i):"",y=i!==-1?r.substring(0,i):r;if(y=y.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),o===0)a="";else if(o!==void 0)if(o>a.length)for(var w=o-(a+=i===-1?".":"").length+1,x=0;x<w;x++)a+="0";else a=a.substring(0,o+1);return y+a}function f(r){return 0<parseFloat(r)?"+".concat(r.toString()):r.toString()}function d(r){return 0<=parseFloat(r)?" ".concat(r.toString()):r.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),t.default.prototype.join=function(r,o){return t.default._validateParameters("join",arguments),r.join(o)},t.default.prototype.match=function(r,o){return t.default._validateParameters("match",arguments),r.match(o)},t.default.prototype.matchAll=function(r,o){t.default._validateParameters("matchAll",arguments);for(var i=new RegExp(o,"g"),a=i.exec(r),y=[];a!==null;)y.push(a),a=i.exec(r);return y},t.default.prototype.nf=function(r,o,i){return t.default._validateParameters("nf",arguments),r instanceof Array?r.map(function(a){return u(a,o,i)}):Object.prototype.toString.call(r)==="[object Arguments]"?r.length===3?this.nf(r[0],r[1],r[2]):r.length===2?this.nf(r[0],r[1]):this.nf(r[0]):u(r,o,i)},t.default.prototype.nfc=function(r,o){return t.default._validateParameters("nfc",arguments),r instanceof Array?r.map(function(i){return c(i,o)}):c(r,o)},t.default.prototype.nfp=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.default._validateParameters("nfp",o);var a=t.default.prototype.nf.apply(this,o);return a instanceof Array?a.map(f):f(a)},t.default.prototype.nfs=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.default._validateParameters("nfs",o);var a=t.default.prototype.nf.apply(this,o);return a instanceof Array?a.map(d):d(a)},t.default.prototype.split=function(r,o){return t.default._validateParameters("split",arguments),r.split(o)},t.default.prototype.splitTokens=function(r,o){var i;if(t.default._validateParameters("splitTokens",arguments),o!==void 0){var a=o,y=/\]/g.exec(a),w=/\[/g.exec(a);i=w&&y?(a=a.slice(0,y.index)+a.slice(y.index+1),w=/\[/g.exec(a),a=a.slice(0,w.index)+a.slice(w.index+1),new RegExp("[\\[".concat(a,"\\]]"),"g")):y?(a=a.slice(0,y.index)+a.slice(y.index+1),new RegExp("[".concat(a,"\\]]"),"g")):w?(a=a.slice(0,w.index)+a.slice(w.index+1),new RegExp("[".concat(a,"\\[]"),"g")):new RegExp("[".concat(a,"]"),"g")}else i=/\s/g;return r.split(i).filter(function(x){return x})},t.default.prototype.trim=function(r){return t.default._validateParameters("trim",arguments),r instanceof Array?r.map(this.trim):r.trim()};var n=t.default;g.default=n},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],306:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()};var u=t.default;g.default=u},{"../core/main":264}],307:[function(e,v,g){function h(r){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t};e("./p5.Geometry");var c=function(r){if(r&&r.__esModule)return r;if(r===null||h(r)!=="object"&&typeof r!="function")return{default:r};var o=f();if(o&&o.has(r))return o.get(r);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in r)if(Object.prototype.hasOwnProperty.call(r,y)){var w=a?Object.getOwnPropertyDescriptor(r,y):null;w&&(w.get||w.set)?Object.defineProperty(i,y,w):i[y]=r[y]}return i.default=r,o&&o.set(r,i),i}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return f=function(){return r},r}u.default.prototype.plane=function(r,o,i,a){this._assert3d("plane"),u.default._validateParameters("plane",arguments),r===void 0&&(r=50),o===void 0&&(o=r),i===void 0&&(i=1),a===void 0&&(a=1);var y="plane|".concat(i,"|").concat(a);if(!this._renderer.geometryInHash(y)){var w=new u.default.Geometry(i,a,function(){for(var x,_,T,E=0;E<=this.detailY;E++){_=E/this.detailY;for(var A=0;A<=this.detailX;A++)x=A/this.detailX,T=new u.default.Vector(x-.5,_-.5,0),this.vertices.push(T),this.uvs.push(x,_)}});w.computeFaces().computeNormals(),i<=1&&a<=1?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(y,w)}return this._renderer.drawBuffersScaled(y,r,o,1),this},u.default.prototype.box=function(r,o,i,a,y){this._assert3d("box"),u.default._validateParameters("box",arguments),r===void 0&&(r=50),o===void 0&&(o=r),i===void 0&&(i=o);var w=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;a===void 0&&(a=w?1:4),y===void 0&&(y=w?1:4);var x="box|".concat(a,"|").concat(y);if(!this._renderer.geometryInHash(x)){var _=new u.default.Geometry(a,y,function(){var T=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var E=0;E<T.length;E++){for(var A=T[E],P=4*E,I=0;I<4;I++){var R=A[I],L=new u.default.Vector((2*(1&R)-1)/2,((2&R)-1)/2,((4&R)/2-1)/2);this.vertices.push(L),this.uvs.push(1&I,(2&I)/2)}this.faces.push([P,1+P,2+P]),this.faces.push([2+P,1+P,3+P])}});_.computeNormals(),a<=4&&y<=4?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(x,_)}return this._renderer.drawBuffersScaled(x,r,o,i),this},u.default.prototype.sphere=function(r,o,i){return this._assert3d("sphere"),u.default._validateParameters("sphere",arguments),r===void 0&&(r=50),o===void 0&&(o=24),i===void 0&&(i=16),this.ellipsoid(r,r,r,o,i),this};function d(r,o,i,a,y,w,x){r=r<=0?1:r,o=o<0?0:o,i=i<=0?r:i,a=a<3?3:a;var _,T,E,A=(w=w===void 0||w)?-2:0,P=(y=y<1?1:y)+((x=x===void 0?o!==0:x)?2:0),I=Math.atan2(r-o,i),R=Math.sin(I),L=Math.cos(I);for(_=A;_<=P;++_){var U=_/y,D=i*U,H=void 0;for(H=_<0?(U=D=0,r):y<_?(D=i,U=1,o):r+(o-r)*U,_!==-2&&_!==y+2||(H=0),D-=i/2,T=0;T<a;++T){var W=T/(a-1),ae=2*Math.PI*W,le=Math.sin(ae),J=Math.cos(ae);this.vertices.push(new u.default.Vector(le*H,D,J*H));var ue=void 0;ue=_<0?new u.default.Vector(0,-1,0):y<_&&o?new u.default.Vector(0,1,0):new u.default.Vector(le*L,R,J*L),this.vertexNormals.push(ue),this.uvs.push(W,U)}}var se=0;if(w){for(E=0;E<a;++E){var me=(E+1)%a;this.faces.push([se+E,se+a+me,se+a+E])}se+=2*a}for(_=0;_<y;++_){for(T=0;T<a;++T){var xe=(T+1)%a;this.faces.push([se+T,se+xe,se+a+xe]),this.faces.push([se+T,se+a+xe,se+a+T])}se+=a}if(x)for(se+=a,T=0;T<a;++T)this.faces.push([se+T,se+(T+1)%a,se+a])}u.default.prototype.cylinder=function(r,o,i,a,y,w){this._assert3d("cylinder"),u.default._validateParameters("cylinder",arguments),r===void 0&&(r=50),o===void 0&&(o=r),i===void 0&&(i=24),a===void 0&&(a=1),w===void 0&&(w=!0),y===void 0&&(y=!0);var x="cylinder|".concat(i,"|").concat(a,"|").concat(y,"|").concat(w);if(!this._renderer.geometryInHash(x)){var _=new u.default.Geometry(i,a);d.call(_,1,1,1,i,a,y,w),i<=24&&a<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,_)}return this._renderer.drawBuffersScaled(x,r,o,r),this},u.default.prototype.cone=function(r,o,i,a,y){this._assert3d("cone"),u.default._validateParameters("cone",arguments),r===void 0&&(r=50),o===void 0&&(o=r),i===void 0&&(i=24),a===void 0&&(a=1),y===void 0&&(y=!0);var w="cone|".concat(i,"|").concat(a,"|").concat(y);if(!this._renderer.geometryInHash(w)){var x=new u.default.Geometry(i,a);d.call(x,1,0,1,i,a,y,!1),i<=24&&a<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,r,o,r),this},u.default.prototype.ellipsoid=function(r,o,i,a,y){this._assert3d("ellipsoid"),u.default._validateParameters("ellipsoid",arguments),r===void 0&&(r=50),o===void 0&&(o=r),i===void 0&&(i=r),a===void 0&&(a=24),y===void 0&&(y=16);var w="ellipsoid|".concat(a,"|").concat(y);if(!this._renderer.geometryInHash(w)){var x=new u.default.Geometry(a,y,function(){for(var _=0;_<=this.detailY;_++)for(var T=_/this.detailY,E=Math.PI*T-Math.PI/2,A=Math.cos(E),P=Math.sin(E),I=0;I<=this.detailX;I++){var R=I/this.detailX,L=2*Math.PI*R,U=Math.cos(L),D=Math.sin(L),H=new u.default.Vector(A*D,P,A*U);this.vertices.push(H),this.vertexNormals.push(H),this.uvs.push(R,T)}});x.computeFaces(),a<=24&&y<=24?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,r,o,i),this},u.default.prototype.torus=function(r,o,i,a){if(this._assert3d("torus"),u.default._validateParameters("torus",arguments),r===void 0)r=50;else if(!r)return;if(o===void 0)o=10;else if(!o)return;i===void 0&&(i=24),a===void 0&&(a=16);var y=(o/r).toPrecision(4),w="torus|".concat(y,"|").concat(i,"|").concat(a);if(!this._renderer.geometryInHash(w)){var x=new u.default.Geometry(i,a,function(){for(var _=0;_<=this.detailY;_++)for(var T=_/this.detailY,E=2*Math.PI*T,A=Math.cos(E),P=Math.sin(E),I=1+y*A,R=0;R<=this.detailX;R++){var L=R/this.detailX,U=2*Math.PI*L,D=Math.cos(U),H=Math.sin(U),W=new u.default.Vector(I*D,I*H,y*P),ae=new u.default.Vector(A*D,A*H,P);this.vertices.push(W),this.vertexNormals.push(ae),this.uvs.push(L,T)}});x.computeFaces(),i<=24&&a<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,r,r,r),this},u.default.RendererGL.prototype.point=function(r,o,i){i===void 0&&(i=0);var a=[];return a.push(new u.default.Vector(r,o,i)),this._drawPoints(a,this.immediateMode.buffers.point),this},u.default.RendererGL.prototype.triangle=function(r){var o=r[0],i=r[1],a=r[2],y=r[3],w=r[4],x=r[5];if(!this.geometryInHash("tri")){var _=new u.default.Geometry(1,1,function(){var A=[];A.push(new u.default.Vector(0,0,0)),A.push(new u.default.Vector(0,1,0)),A.push(new u.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=A,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});_._makeTriangleEdges()._edgesToVertices(),_.computeNormals(),this.createBuffers("tri",_)}var T=this.uMVMatrix.copy();try{var E=new u.default.Matrix([a-o,y-i,0,0,w-o,x-i,0,0,0,0,1,0,o,i,0,1]).mult(this.uMVMatrix);this.uMVMatrix=E,this.drawBuffers("tri")}finally{this.uMVMatrix=T}return this},u.default.RendererGL.prototype.ellipse=function(r){this.arc(r[0],r[1],r[2],r[3],0,c.TWO_PI,c.OPEN,r[4])},u.default.RendererGL.prototype.arc=function(r){var o,i,a=r,y=arguments[1],w=arguments[2],x=arguments[3],_=arguments[4],T=arguments[5],E=arguments[6],A=arguments[7]||25;if(i=Math.abs(T-_)>=c.TWO_PI?"".concat(o="ellipse","|").concat(A,"|"):"".concat(o="arc","|").concat(_,"|").concat(T,"|").concat(E,"|").concat(A,"|"),!this.geometryInHash(i)){var P=new u.default.Geometry(A,1,function(){if(this.strokeIndices=[],_.toFixed(10)!==T.toFixed(10)){E!==c.PIE&&E!==void 0||(this.vertices.push(new u.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var R=0;R<=A;R++){var L=(T-_)*(R/A)+_,U=.5+Math.cos(L)/2,D=.5+Math.sin(L)/2;this.vertices.push(new u.default.Vector(U,D,0)),this.uvs.push([U,D]),R<A-1&&(this.faces.push([0,R+1,R+2]),this.strokeIndices.push([R+1,R+2]))}switch(E){case c.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case c.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case c.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});P.computeNormals(),A<=50?P._makeTriangleEdges()._edgesToVertices(P):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(o," with more than 50 detail")),this.createBuffers(i,P)}var I=this.uMVMatrix.copy();try{this.uMVMatrix.translate([a,y,0]),this.uMVMatrix.scale(w,x,1),this.drawBuffers(i)}finally{this.uMVMatrix=I}return this},u.default.RendererGL.prototype.rect=function(r){var o=this._pInst._glAttributes.perPixelLighting,i=r[0],a=r[1],y=r[2],w=r[3],x=r[4]||(o?1:24),_=r[5]||(o?1:16),T="rect|".concat(x,"|").concat(_);if(!this.geometryInHash(T)){var E=new u.default.Geometry(x,_,function(){for(var P=0;P<=this.detailY;P++)for(var I=P/this.detailY,R=0;R<=this.detailX;R++){var L=R/this.detailX,U=new u.default.Vector(L,I,0);this.vertices.push(U),this.uvs.push(L,I)}0<x&&0<_&&(this.strokeIndices=[[0,x],[x,(x+1)*(_+1)-1],[(x+1)*(_+1)-1,(x+1)*_],[(x+1)*_,0]])});E.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(T,E)}var A=this.uMVMatrix.copy();try{this.uMVMatrix.translate([i,a,0]),this.uMVMatrix.scale(y,w,1),this.drawBuffers(T)}finally{this.uMVMatrix=A}return this},u.default.RendererGL.prototype.quad=function(r,o,i,a,y,w,x,_,T,E,A,P,I,R){I===void 0&&(I=2),R===void 0&&(R=2);var L="quad|".concat(r,"|").concat(o,"|").concat(i,"|").concat(a,"|").concat(y,"|").concat(w,"|").concat(x,"|").concat(_,"|").concat(T,"|").concat(E,"|").concat(A,"|").concat(P,"|").concat(I,"|").concat(R);if(!this.geometryInHash(L)){var U=new u.default.Geometry(I,R,function(){for(var ue=1/(this.detailX-1),se=1/(this.detailY-1),me=0;me<this.detailY;me++)for(var xe=0;xe<this.detailX;xe++){var Ce=xe*ue,ve=me*se,De=(1-Ce)*((1-ve)*r+ve*E)+Ce*((1-ve)*a+ve*x),_e=(1-Ce)*((1-ve)*o+ve*A)+Ce*((1-ve)*y+ve*_),Se=(1-Ce)*((1-ve)*i+ve*P)+Ce*((1-ve)*w+ve*T);this.vertices.push(new u.default.Vector(De,_e,Se)),this.uvs.push([Ce,ve])}});U.faces=[];for(var D=0;D<R-1;D++)for(var H=0;H<I-1;H++){var W=H+D*I,ae=H+1+D*I,le=H+1+(D+1)*I,J=H+(D+1)*I;U.faces.push([W,ae,le]),U.faces.push([W,le,J])}U.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(L,U)}return this.drawBuffers(L),this},u.default.RendererGL.prototype.bezier=function(r,o,i,a,y,w,x,_,T,E,A,P){arguments.length===8&&(A=_,E=x,_=w,x=y,y=a,a=i,i=w=T=P=0);var I=this._pInst._bezierDetail||20;this.beginShape();for(var R=0;R<=I;R++){var L=Math.pow(1-R/I,3),U=R/I*3*Math.pow(1-R/I,2),D=3*Math.pow(R/I,2)*(1-R/I),H=Math.pow(R/I,3);this.vertex(r*L+a*U+x*D+E*H,o*L+y*U+_*D+A*H,i*L+w*U+T*D+P*H)}return this.endShape(),this},u.default.RendererGL.prototype.curve=function(r,o,i,a,y,w,x,_,T,E,A,P){arguments.length===8&&(E=x,A=_,x=y,_=a,y=a=i,i=w=T=P=0);var I=this._pInst._curveDetail;this.beginShape();for(var R=0;R<=I;R++){var L=.5*Math.pow(R/I,3),U=.5*Math.pow(R/I,2),D=R/I*.5,H=L*(3*a-r-3*x+E)+U*(2*r-5*a+4*x-E)+D*(-r+x)+2*a*.5,W=L*(3*y-o-3*_+A)+U*(2*o-5*y+4*_-A)+D*(-o+_)+2*y*.5,ae=L*(3*w-i-3*T+P)+U*(2*i-5*w+4*T-P)+D*(-i+T)+2*w*.5;this.vertex(H,W,ae)}return this.endShape(),this},u.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},u.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var r,o,i,a,y,w=[],x=[],_=[],T=arguments.length;if((r=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,A=0,P=1,I=0;A<1;){if(r=parseFloat(A.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(r),P.toFixed(6)===E.toFixed(6)){r=parseFloat(P.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(r);break}A+=E,P-=E,++I}}var R=this._lookUpTableBezier.length;if(T===6){for(this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],y=0;y<R;y++)o=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],i=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],this.vertex(o,i);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(T===9){for(this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],_=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],y=0;y<R;y++)o=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],i=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],a=_[0]*this._lookUpTableBezier[y][0]+_[1]*this._lookUpTableBezier[y][1]+_[2]*this._lookUpTableBezier[y][2]+_[3]*this._lookUpTableBezier[y][3],this.vertex(o,i,a);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},u.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var r,o,i,a,y,w=[],x=[],_=[],T=arguments.length;if((r=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var E=1/this._lutQuadraticDetail,A=0,P=1,I=0;A<1;){if(r=parseFloat(A.toFixed(6)),this._lookUpTableQuadratic[I]=this._quadraticCoefficients(r),P.toFixed(6)===E.toFixed(6)){r=parseFloat(P.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableQuadratic[I]=this._quadraticCoefficients(r);break}A+=E,P-=E,++I}}var R=this._lookUpTableQuadratic.length;if(T===4){for(this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],y=0;y<R;y++)o=w[0]*this._lookUpTableQuadratic[y][0]+w[1]*this._lookUpTableQuadratic[y][1]+w[2]*this._lookUpTableQuadratic[y][2],i=x[0]*this._lookUpTableQuadratic[y][0]+x[1]*this._lookUpTableQuadratic[y][1]+x[2]*this._lookUpTableQuadratic[y][2],this.vertex(o,i);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(T===6){for(this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],_=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],y=0;y<R;y++)o=w[0]*this._lookUpTableQuadratic[y][0]+w[1]*this._lookUpTableQuadratic[y][1]+w[2]*this._lookUpTableQuadratic[y][2],i=x[0]*this._lookUpTableQuadratic[y][0]+x[1]*this._lookUpTableQuadratic[y][1]+x[2]*this._lookUpTableQuadratic[y][2],a=_[0]*this._lookUpTableQuadratic[y][0]+_[1]*this._lookUpTableQuadratic[y][1]+_[2]*this._lookUpTableQuadratic[y][2],this.vertex(o,i,a);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},u.default.RendererGL.prototype.curveVertex=function(){var r,o,i,a,y,w=[],x=[],_=[],T=arguments.length;if((r=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,A=0,P=1,I=0;A<1;){if(r=parseFloat(A.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(r),P.toFixed(6)===E.toFixed(6)){r=parseFloat(P.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(r);break}A+=E,P-=E,++I}}var R=this._lookUpTableBezier.length;if(T===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),y=0;y<R;y++)o=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],i=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],this.vertex(o,i);for(y=0;y<T;y++)this.immediateMode._curveVertex.shift()}}else if(T===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),y=0;y<R;y++)o=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],i=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],a=_[0]*this._lookUpTableBezier[y][0]+_[1]*this._lookUpTableBezier[y][1]+_[2]*this._lookUpTableBezier[y][2]+_[3]*this._lookUpTableBezier[y][3],this.vertex(o,i,a);for(y=0;y<T;y++)this.immediateMode._curveVertex.shift()}},u.default.RendererGL.prototype.image=function(r,o,i,a,y,w,x,_,T){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(r),this._pInst.textureMode(c.NORMAL);var E=0;o<=r.width&&(E=o/r.width);var A=1;o+a<=r.width&&(A=(o+a)/r.width);var P=0;i<=r.height&&(P=i/r.height);var I=1;i+y<=r.height&&(I=(i+y)/r.height),this.beginShape(),this.vertex(w,x,0,E,P),this.vertex(w+_,x,0,A,P),this.vertex(w+_,x+T,0,A,I),this.vertex(w,x+T,0,E,I),this.endShape(c.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(c.REMOVE)};var n=u.default;g.default=n},{"../core/constants":253,"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.number.to-fixed":172}],308:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=f();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return f=function(){return n},n}u.default.prototype.orbitControl=function(n,r,o){if(this._assert3d("orbitControl"),u.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var i=this._renderer._curCamera;n===void 0&&(n=1),r===void 0&&(r=n),o===void 0&&(o=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var a=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,o*a):this._renderer._curCamera._orbit(0,0,-o*a)),this.mouseIsPressed){if(this.mouseButton===this.LEFT){var y=-n*(this.mouseX-this.pmouseX)/a,w=r*(this.mouseY-this.pmouseY)/a;this._renderer._curCamera._orbit(y,w,0)}else if(this.mouseButton===this.RIGHT){var x=i._getLocalAxes(),_=Math.sqrt(x.x[0]*x.x[0]+x.x[2]*x.x[2]);_!==0&&(x.x[0]/=_,x.x[2]/=_);var T=Math.sqrt(x.y[0]*x.y[0]+x.y[2]*x.y[2]);T!==0&&(x.y[0]/=T,x.y[2]/=T);var E=-1*n*(this.mouseX-this.pmouseX),A=-1*r*(this.mouseY-this.pmouseY);i.setPosition(i.eyeX+E*x.x[0]+A*x.z[0],i.eyeY,i.eyeZ+E*x.x[2]+A*x.z[2])}}return this}},u.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];u.default._validateParameters("debugMode",r);for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1);r[0]===c.GRID?this.registerMethod("post",this._grid.call(this,r[1],r[2],r[3],r[4],r[5])):r[0]===c.AXES?this.registerMethod("post",this._axesIcon.call(this,r[1],r[2],r[3],r[4])):(this.registerMethod("post",this._grid.call(this,r[0],r[1],r[2],r[3],r[4])),this.registerMethod("post",this._axesIcon.call(this,r[5],r[6],r[7],r[8])))},u.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1)},u.default.prototype._grid=function(n,r,o,i,a){n===void 0&&(n=this.width/2),r===void 0&&(r=Math.round(n/30)<4?4:Math.round(n/30)),o===void 0&&(o=0),i===void 0&&(i=0),a===void 0&&(a=0);var y=n/r,w=n/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var x=0;x<=r;x++)this.beginShape(this.LINES),this.vertex(-w+o,i,x*y-w+a),this.vertex(+w+o,i,x*y-w+a),this.endShape();for(var _=0;_<=r;_++)this.beginShape(this.LINES),this.vertex(_*y-w+o,i,-w+a),this.vertex(_*y-w+o,i,+w+a),this.endShape();this.pop()}},u.default.prototype._axesIcon=function(n,r,o,i){return n===void 0&&(n=40<this.width/20?this.width/20:40),r===void 0&&(r=-this.width/4),o===void 0&&(o=r),i===void 0&&(i=r),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(r,o,i),this.vertex(r+n,o,i),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(r,o,i),this.vertex(r,o+n,i),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(r,o,i),this.vertex(r,o,i+n),this.endShape(),this.pop()}};var d=u.default;g.default=d},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],309:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=f();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return f=function(){return n},n}u.default.prototype.ambientLight=function(n,r,o,i){this._assert3d("ambientLight"),u.default._validateParameters("ambientLight",arguments);var a=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(a._array[0],a._array[1],a._array[2]),this._renderer._enableLighting=!0,this},u.default.prototype.specularColor=function(n,r,o){this._assert3d("specularColor"),u.default._validateParameters("specularColor",arguments);var i=this.color.apply(this,arguments);return this._renderer.specularColors=[i._array[0],i._array[1],i._array[2]],this},u.default.prototype.directionalLight=function(n,r,o,i,a,y){var w,x,_,T;this._assert3d("directionalLight"),u.default._validateParameters("directionalLight",arguments),w=n instanceof u.default.Color?n:this.color(n,r,o);var E=arguments[arguments.length-1];T=typeof E=="number"?(x=arguments[arguments.length-3],_=arguments[arguments.length-2],arguments[arguments.length-1]):(x=E.x,_=E.y,E.z);var A=Math.sqrt(x*x+_*_+T*T);return this._renderer.directionalLightDirections.push(x/A,_/A,T/A),this._renderer.directionalLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},u.default.prototype.pointLight=function(n,r,o,i,a,y){var w,x,_,T;this._assert3d("pointLight"),u.default._validateParameters("pointLight",arguments),w=n instanceof u.default.Color?n:this.color(n,r,o);var E=arguments[arguments.length-1];return T=typeof E=="number"?(x=arguments[arguments.length-3],_=arguments[arguments.length-2],arguments[arguments.length-1]):(x=E.x,_=E.y,E.z),this._renderer.pointLightPositions.push(x,_,T),this._renderer.pointLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},u.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===c.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var n=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,n),this.directionalLight(0,0,n,0,0,-1)}return this},u.default.prototype.lightFalloff=function(n,r,o){return this._assert3d("lightFalloff"),u.default._validateParameters("lightFalloff",arguments),n<0&&(n=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),r<0&&(r=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),o<0&&(o=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),n===0&&r===0&&o===0&&(n=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=n,this._renderer.linearAttenuation=r,this._renderer.quadraticAttenuation=o,this},u.default.prototype.spotLight=function(n,r,o,i,a,y,w,x,_,T,E){var A,P,I;this._assert3d("spotLight"),u.default._validateParameters("spotLight",arguments);var R=arguments.length;switch(R){case 11:case 10:A=this.color(n,r,o),P=new u.default.Vector(i,a,y),I=new u.default.Vector(w,x,_);break;case 9:n instanceof u.default.Color?(A=n,P=new u.default.Vector(r,o,i),I=new u.default.Vector(a,y,w),T=x,E=_):i instanceof u.default.Vector?(A=this.color(n,r,o),P=i,I=new u.default.Vector(a,y,w),T=x,E=_):w instanceof u.default.Vector?(A=this.color(n,r,o),P=new u.default.Vector(i,a,y),I=w,T=x,E=_):(A=this.color(n,r,o),P=new u.default.Vector(i,a,y),I=new u.default.Vector(w,x,_));break;case 8:T=(I=n instanceof u.default.Color?(A=n,P=new u.default.Vector(r,o,i),new u.default.Vector(a,y,w)):i instanceof u.default.Vector?(A=this.color(n,r,o),P=i,new u.default.Vector(a,y,w)):(A=this.color(n,r,o),P=new u.default.Vector(i,a,y),w),x);break;case 7:n instanceof u.default.Color&&r instanceof u.default.Vector?(A=n,P=r,I=new u.default.Vector(o,i,a),T=y,E=w):n instanceof u.default.Color&&a instanceof u.default.Vector?(A=n,P=new u.default.Vector(r,o,i),I=a,T=y,E=w):i instanceof u.default.Vector&&a instanceof u.default.Vector?(A=this.color(n,r,o),P=i,I=a,T=y,E=w):I=n instanceof u.default.Color?(A=n,P=new u.default.Vector(r,o,i),new u.default.Vector(a,y,w)):i instanceof u.default.Vector?(A=this.color(n,r,o),P=i,new u.default.Vector(a,y,w)):(A=this.color(n,r,o),P=new u.default.Vector(i,a,y),w);break;case 6:i instanceof u.default.Vector&&a instanceof u.default.Vector?(A=this.color(n,r,o),P=i,I=a,T=y):n instanceof u.default.Color&&a instanceof u.default.Vector?(A=n,P=new u.default.Vector(r,o,i),I=a,T=y):n instanceof u.default.Color&&r instanceof u.default.Vector&&(A=n,P=r,I=new u.default.Vector(o,i,a),T=y);break;case 5:n instanceof u.default.Color&&r instanceof u.default.Vector&&o instanceof u.default.Vector?(A=n,P=r,I=o,T=i,E=a):i instanceof u.default.Vector&&a instanceof u.default.Vector?(A=this.color(n,r,o),P=i,I=a):n instanceof u.default.Color&&a instanceof u.default.Vector?(A=n,P=new u.default.Vector(r,o,i),I=a):n instanceof u.default.Color&&r instanceof u.default.Vector&&(A=n,P=r,I=new u.default.Vector(o,i,a));break;case 4:A=n,P=r,I=o,T=i;break;case 3:A=n,P=r,I=o;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(R<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(A._array[0],A._array[1],A._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(P.x,P.y,P.z),I.normalize(),this._renderer.spotLightDirections.push(I.x,I.y,I.z),T===void 0&&(T=Math.PI/3),E!==void 0&&E<1?(E=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):E===void 0&&(E=100),T=this._renderer._pInst._toRadians(T),this._renderer.spotLightAngle.push(Math.cos(T)),this._renderer.spotLightConc.push(E),this._renderer._enableLighting=!0,this},u.default.prototype.noLights=function(){return this._assert3d("noLights"),u.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var d=u.default;g.default=d},{"../core/constants":253,"../core/main":264}],310:[function(e,v,g){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};function u(f,d,n){for(var r=0,o=f.length;r<o;r++)if(f[r]!==d.getUint8(n+r,!1))return!1;return!0}e("./p5.Geometry"),t.default.prototype.loadModel=function(f){var d,n,r;t.default._validateParameters("loadModel",arguments);var o=f.slice(-4);typeof arguments[1]=="boolean"?(d=arguments[1],n=arguments[2],r=arguments[3],arguments[4]!==void 0&&(o=arguments[4])):(d=!1,n=arguments[1],r=arguments[2],arguments[3]!==void 0&&(o=arguments[3]));var i=new t.default.Geometry;i.gid="".concat(f,"|").concat(d);var a=this;return o.match(/\.stl$/i)?this.httpDo(f,"GET","arrayBuffer",function(y){(function(w,x){if(function(E){for(var A=new DataView(E),P=[115,111,108,105,100],I=0;I<5;I++)if(u(P,A,I))return!1;return!0}(x))(function(E,A){for(var P,I,R,L,U,D,H,W=new DataView(A),ae=W.getUint32(80,!0),le=!1,J=0;J<70;J++)W.getUint32(J,!1)===1129270351&&W.getUint8(J+4)===82&&W.getUint8(J+5)===61&&(le=!0,L=[],U=W.getUint8(J+6)/255,D=W.getUint8(J+7)/255,H=W.getUint8(J+8)/255);for(var ue=0;ue<ae;ue++){var se=84+50*ue,me=W.getFloat32(se,!0),xe=W.getFloat32(4+se,!0),Ce=W.getFloat32(8+se,!0);if(le){var ve=W.getUint16(48+se,!0);R=32768&ve?(P=U,I=D,H):(P=(31&ve)/31,I=(ve>>5&31)/31,(ve>>10&31)/31)}for(var De=new t.default.Vector(me,xe,Ce),_e=1;_e<=3;_e++){var Se=se+12*_e,O=new t.default.Vector(W.getFloat32(Se,!0),W.getFloat32(4+Se,!0),W.getFloat32(8+Se,!0));E.vertices.push(O),E.vertexNormals.push(De),le&&L.push(P,I,R)}E.faces.push([3*ue,3*ue+1,3*ue+2]),E.uvs.push([0,0],[0,0],[0,0])}})(w,x);else{var _=new DataView(x);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");var T=new TextDecoder("utf-8").decode(_).split(`
`);(function(E,A){for(var P,I,R="",L=[],U=0;U<A.length;++U){for(var D=A[U].trim(),H=D.split(" "),W=0;W<H.length;++W)H[W]===""&&H.splice(W,1);if(H.length!==0)switch(R){case"":if(H[0]!=="solid")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "solid"'));R="solid";break;case"solid":if(H[0]!=="facet"||H[1]!=="normal")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "facet normal"'));P=new t.default.Vector(parseFloat(H[2]),parseFloat(H[3]),parseFloat(H[4])),E.vertexNormals.push(P,P,P),R="facet normal";break;case"facet normal":if(H[0]!=="outer"||H[1]!=="loop")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "outer loop"'));R="vertex";break;case"vertex":if(H[0]==="vertex")I=new t.default.Vector(parseFloat(H[1]),parseFloat(H[2]),parseFloat(H[3])),E.vertices.push(I),E.uvs.push([0,0]),L.push(E.vertices.indexOf(I));else{if(H[0]!=="endloop")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "vertex" or "endloop"'));E.faces.push(L),L=[],R="endloop"}break;case"endloop":if(H[0]!=="endfacet")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "endfacet"'));R="endfacet";break;case"endfacet":if(H[0]!=="endsolid"){if(H[0]!=="facet"||H[1]!=="normal")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "endsolid" or "facet normal"'));P=new t.default.Vector(parseFloat(H[2]),parseFloat(H[3]),parseFloat(H[4])),E.vertexNormals.push(P,P,P),R="facet normal"}break;default:console.error('Invalid state "'.concat(R,'"'))}}})(w,T)}})(i,y),d&&i.normalize(),a._decrementPreload(),typeof n=="function"&&n(i)},r):o.match(/\.obj$/i)?this.loadStrings(f,function(y){(function(w,x){for(var _={v:[],vt:[],vn:[]},T={},E=0;E<x.length;++E){var A=x[E].trim().split(/\b\s+/);if(0<A.length){if(A[0]==="v"||A[0]==="vn"){var P=new t.default.Vector(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));_[A[0]].push(P)}else if(A[0]==="vt"){var I=[parseFloat(A[1]),1-parseFloat(A[2])];_[A[0]].push(I)}else if(A[0]==="f")for(var R=3;R<A.length;++R){for(var L=[],U=[1,R-1,R],D=0;D<U.length;++D){var H=A[U[D]],W=0;if(T[H]!==void 0)W=T[H];else{for(var ae=H.split("/"),le=0;le<ae.length;le++)ae[le]=parseInt(ae[le])-1;W=T[H]=w.vertices.length,w.vertices.push(_.v[ae[0]].copy()),_.vt[ae[1]]?w.uvs.push(_.vt[ae[1]].slice()):w.uvs.push([0,0]),_.vn[ae[2]]&&w.vertexNormals.push(_.vn[ae[2]].copy())}L.push(W)}L[0]!==L[1]&&L[0]!==L[2]&&L[1]!==L[2]&&w.faces.push(L)}}}w.vertexNormals.length===0&&w.computeNormals()})(i,y),d&&i.normalize(),a._decrementPreload(),typeof n=="function"&&n(i)},r):(t.default._friendlyFileLoadError(3,f),r?r():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),i},t.default.prototype.model=function(f){this._assert3d("model"),t.default._validateParameters("model",arguments),0<f.vertices.length&&(this._renderer.geometryInHash(f.gid)||(f._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(f.gid,f)),this._renderer.drawBuffers(f.gid))};var c=t.default;g.default=c},{"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],311:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.join"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=f();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return f=function(){return n},n}e("./p5.Texture"),u.default.prototype.loadShader=function(n,r,o,i){u.default._validateParameters("loadShader",arguments),i=i||console.error;function a(){w._decrementPreload(),o&&o(y)}var y=new u.default.Shader,w=this,x=!1,_=!1;return this.loadStrings(n,function(T){y._vertSrc=T.join(`
`),_=!0,x&&a()},i),this.loadStrings(r,function(T){y._fragSrc=T.join(`
`),x=!0,_&&a()},i),y},u.default.prototype.createShader=function(n,r){return this._assert3d("createShader"),u.default._validateParameters("createShader",arguments),new u.default.Shader(this._renderer,n,r)},u.default.prototype.shader=function(n){return this._assert3d("shader"),u.default._validateParameters("shader",arguments),n._renderer===void 0&&(n._renderer=this._renderer),n.init(),n.isStrokeShader()?this._renderer.userStrokeShader=n:(this._renderer.userFillShader=n,this._renderer._useNormalMaterial=!1),this},u.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},u.default.prototype.texture=function(n){return this._assert3d("texture"),u.default._validateParameters("texture",arguments),n.gifProperties&&n._animateGif(this),this._renderer.drawMode=c.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=n,this._renderer._setProperty("_doFill",!0),this},u.default.prototype.textureMode=function(n){n!==c.IMAGE&&n!==c.NORMAL?console.warn("You tried to set ".concat(n," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=n},u.default.prototype.textureWrap=function(n){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n;this._renderer.textureWrapX=n,this._renderer.textureWrapY=r;for(var o=this._renderer.textures,i=0;i<o.length;i++)o[i].setWrapMode(n,r)},u.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return u.default._validateParameters("normalMaterial",r),this._renderer.drawMode=c.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},u.default.prototype.ambientMaterial=function(n,r,o){this._assert3d("ambientMaterial"),u.default._validateParameters("ambientMaterial",arguments);var i=u.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=i._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},u.default.prototype.emissiveMaterial=function(n,r,o,i){this._assert3d("emissiveMaterial"),u.default._validateParameters("emissiveMaterial",arguments);var a=u.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=a._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},u.default.prototype.specularMaterial=function(n,r,o,i){this._assert3d("specularMaterial"),u.default._validateParameters("specularMaterial",arguments);var a=u.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=a._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},u.default.prototype.shininess=function(n){return this._assert3d("shininess"),u.default._validateParameters("shininess",arguments),n<1&&(n=1),this._renderer._useShininess=n,this},u.default.RendererGL.prototype._applyColorBlend=function(n){var r=this.GL,o=this.drawMode===c.TEXTURE||n[n.length-1]<1||this._isErasing;return o!==this._isBlending&&(o||this.curBlendMode!==c.BLEND&&this.curBlendMode!==c.ADD?r.enable(r.BLEND):r.disable(r.BLEND),r.depthMask(!0),this._isBlending=o),this._applyBlendMode(),n},u.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var n=this.GL;switch(this.curBlendMode){case c.BLEND:case c.ADD:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA);break;case c.REMOVE:n.blendEquation(n.FUNC_REVERSE_SUBTRACT),n.blendFunc(n.SRC_ALPHA,n.DST_ALPHA);break;case c.MULTIPLY:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ONE,n.ONE);break;case c.SCREEN:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE_MINUS_DST_COLOR,n.ONE,n.ONE,n.ONE);break;case c.EXCLUSION:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE_MINUS_DST_COLOR,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE);break;case c.REPLACE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO);break;case c.SUBTRACT:n.blendEquationSeparate(n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case c.DARKEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MIN_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case c.LIGHTEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MAX_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var d=u.default;g.default=d},{"../core/constants":253,"../core/main":264,"./p5.Texture":320,"core-js/modules/es.array.join":159}],312:[function(e,v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.prototype.camera=function(){var c;this._assert3d("camera");for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];return t.default._validateParameters("camera",d),(c=this._renderer._curCamera).camera.apply(c,d),this},t.default.prototype.perspective=function(){var c;this._assert3d("perspective");for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];return t.default._validateParameters("perspective",d),(c=this._renderer._curCamera).perspective.apply(c,d),this},t.default.prototype.ortho=function(){var c;this._assert3d("ortho");for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];return t.default._validateParameters("ortho",d),(c=this._renderer._curCamera).ortho.apply(c,d),this},t.default.prototype.frustum=function(){var c;this._assert3d("frustum");for(var f=arguments.length,d=new Array(f),n=0;n<f;n++)d[n]=arguments[n];return t.default._validateParameters("frustum",d),(c=this._renderer._curCamera).frustum.apply(c,d),this},t.default.prototype.createCamera=function(){this._assert3d("createCamera");var c=new t.default.Camera(this._renderer);return c._computeCameraDefaultSettings(),c._setDefaultCamera(),this._renderer._curCamera=c},t.default.Camera=function(c){this._renderer=c,this.cameraType="default",this.cameraMatrix=new t.default.Matrix,this.projMatrix=new t.default.Matrix},t.default.Camera.prototype.perspective=function(c,f,d,n){this.cameraType=0<arguments.length?"custom":"default",c===void 0?(c=this.defaultCameraFOV,this.cameraFOV=c):this.cameraFOV=this._renderer._pInst._toRadians(c),f===void 0&&(f=this.defaultAspectRatio),d===void 0&&(d=this.defaultCameraNear),n===void 0&&(n=this.defaultCameraFar),d<=1e-4&&(d=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),n<d&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=f,this.cameraNear=d,this.cameraFar=n,this.projMatrix=t.default.Matrix.identity();var r=1/Math.tan(this.cameraFOV/2),o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(r/f,0,0,0,0,-r,0,0,0,0,(n+d)*o,-1,0,0,2*n*d*o,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},t.default.Camera.prototype.ortho=function(c,f,d,n,r,o){c===void 0&&(c=-this._renderer.width/2),f===void 0&&(f=this._renderer.width/2),d===void 0&&(d=-this._renderer.height/2),n===void 0&&(n=this._renderer.height/2),r===void 0&&(r=0),o===void 0&&(o=Math.max(this._renderer.width,this._renderer.height));var i=f-c,a=n-d,y=o-r,w=2/i,x=2/a,_=-2/y,T=-(f+c)/i,E=-(n+d)/a,A=-(o+r)/y;this.projMatrix=t.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-x,0,0,0,0,_,0,T,E,A,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},t.default.Camera.prototype.frustum=function(c,f,d,n,r,o){c===void 0&&(c=-this._renderer.width/2),f===void 0&&(f=this._renderer.width/2),d===void 0&&(d=-this._renderer.height/2),n===void 0&&(n=this._renderer.height/2),r===void 0&&(r=0),o===void 0&&(o=Math.max(this._renderer.width,this._renderer.height));var i=f-c,a=n-d,y=o-r,w=2*r/i,x=2*r/a,_=-2*o*r/y,T=(f+c)/i,E=(n+d)/a,A=-(o+r)/y;this.projMatrix=t.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,x,0,0,T,E,A,-1,0,0,_,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},t.default.Camera.prototype._rotateView=function(c,f,d,n){var r=this.centerX,o=this.centerY,i=this.centerZ;r-=this.eyeX,o-=this.eyeY,i-=this.eyeZ;var a=t.default.Matrix.identity(this._renderer._pInst);a.rotate(this._renderer._pInst._toRadians(c),f,d,n);var y=[r*a.mat4[0]+o*a.mat4[4]+i*a.mat4[8],r*a.mat4[1]+o*a.mat4[5]+i*a.mat4[9],r*a.mat4[2]+o*a.mat4[6]+i*a.mat4[10]];y[0]+=this.eyeX,y[1]+=this.eyeY,y[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,y[0],y[1],y[2],this.upX,this.upY,this.upZ)},t.default.Camera.prototype.pan=function(c){var f=this._getLocalAxes();this._rotateView(c,f.y[0],f.y[1],f.y[2])},t.default.Camera.prototype.tilt=function(c){var f=this._getLocalAxes();this._rotateView(c,f.x[0],f.x[1],f.x[2])},t.default.Camera.prototype.lookAt=function(c,f,d){this.camera(this.eyeX,this.eyeY,this.eyeZ,c,f,d,this.upX,this.upY,this.upZ)},t.default.Camera.prototype.camera=function(c,f,d,n,r,o,i,a,y){c===void 0&&(c=this.defaultEyeX,f=this.defaultEyeY,d=this.defaultEyeZ,n=c,r=f,a=1,y=i=o=0),this.eyeX=c,this.eyeY=f,this.eyeZ=d,n!==void 0&&(this.centerX=n,this.centerY=r,this.centerZ=o),i!==void 0&&(this.upX=i,this.upY=a,this.upZ=y);var w=this._getLocalAxes();this.cameraMatrix.set(w.x[0],w.y[0],w.z[0],0,w.x[1],w.y[1],w.z[1],0,w.x[2],w.y[2],w.z[2],0,0,0,0,1);var x=-c,_=-f,T=-d;return this.cameraMatrix.translate([x,_,T]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},t.default.Camera.prototype.move=function(c,f,d){var n=this._getLocalAxes(),r=[n.x[0]*c,n.x[1]*c,n.x[2]*c],o=[n.y[0]*f,n.y[1]*f,n.y[2]*f],i=[n.z[0]*d,n.z[1]*d,n.z[2]*d];this.camera(this.eyeX+r[0]+o[0]+i[0],this.eyeY+r[1]+o[1]+i[1],this.eyeZ+r[2]+o[2]+i[2],this.centerX+r[0]+o[0]+i[0],this.centerY+r[1]+o[1]+i[1],this.centerZ+r[2]+o[2]+i[2],0,1,0)},t.default.Camera.prototype.setPosition=function(c,f,d){var n=c-this.eyeX,r=f-this.eyeY,o=d-this.eyeZ;this.camera(c,f,d,this.centerX+n,this.centerY+r,this.centerZ+o,0,1,0)},t.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},t.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},t.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},t.default.Camera.prototype.copy=function(){var c=new t.default.Camera(this._renderer);return c.cameraFOV=this.cameraFOV,c.aspectRatio=this.aspectRatio,c.eyeX=this.eyeX,c.eyeY=this.eyeY,c.eyeZ=this.eyeZ,c.centerX=this.centerX,c.centerY=this.centerY,c.centerZ=this.centerZ,c.cameraNear=this.cameraNear,c.cameraFar=this.cameraFar,c.cameraType=this.cameraType,c.cameraMatrix=this.cameraMatrix.copy(),c.projMatrix=this.projMatrix.copy(),c},t.default.Camera.prototype._getLocalAxes=function(){var c=this.eyeX-this.centerX,f=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,n=Math.sqrt(c*c+f*f+d*d);n!==0&&(c/=n,f/=n,d/=n);var r=this.upX,o=this.upY,i=this.upZ,a=o*d-i*f,y=-r*d+i*c,w=r*f-o*c;r=f*w-d*y,o=-c*w+d*a,i=c*y-f*a;var x=Math.sqrt(a*a+y*y+w*w);x!==0&&(a/=x,y/=x,w/=x);var _=Math.sqrt(r*r+o*o+i*i);return _!==0&&(r/=_,o/=_,i/=_),{x:[a,y,w],y:[r,o,i],z:[c,f,d]}},t.default.Camera.prototype._orbit=function(c,f,d){var n=this.eyeX-this.centerX,r=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,i=Math.sqrt(n*n+r*r+o*o),a=Math.atan2(n,o),y=Math.acos(Math.max(-1,Math.min(1,r/i)));a+=c,(i+=d)<0&&(i=.1),(y+=f)>Math.PI?y=Math.PI:y<=0&&(y=.001);var w=Math.sin(y)*i*Math.sin(a),x=Math.cos(y)*i,_=Math.sin(y)*i*Math.cos(a);this.camera(w+this.centerX,x+this.centerY,_+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},t.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},t.default.prototype.setCamera=function(c){this._renderer._curCamera=c,this._renderer.uPMatrix.set(c.projMatrix.mat4[0],c.projMatrix.mat4[1],c.projMatrix.mat4[2],c.projMatrix.mat4[3],c.projMatrix.mat4[4],c.projMatrix.mat4[5],c.projMatrix.mat4[6],c.projMatrix.mat4[7],c.projMatrix.mat4[8],c.projMatrix.mat4[9],c.projMatrix.mat4[10],c.projMatrix.mat4[11],c.projMatrix.mat4[12],c.projMatrix.mat4[13],c.projMatrix.mat4[14],c.projMatrix.mat4[15])};var u=t.default.Camera;g.default=u},{"../core/main":264}],313:[function(e,v,g){e("core-js/modules/es.string.sub"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.Geometry=function(c,f,d){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=c!==void 0?c:1,this.detailY=f!==void 0?f:1,this.dirtyFlags={},d instanceof Function&&d.call(this),this},t.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},t.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var c,f,d,n,r=this.detailX+1,o=0;o<this.detailY;o++)for(var i=0;i<this.detailX;i++)f=(c=o*r+i)+1,d=(o+1)*r+i+1,n=(o+1)*r+i,this.faces.push([c,f,n]),this.faces.push([n,f,d]);return this},t.default.Geometry.prototype._getFaceNormal=function(c){var f=this.faces[c],d=this.vertices[f[0]],n=this.vertices[f[1]],r=this.vertices[f[2]],o=t.default.Vector.sub(n,d),i=t.default.Vector.sub(r,d),a=t.default.Vector.cross(o,i),y=t.default.Vector.mag(a),w=y/(t.default.Vector.mag(o)*t.default.Vector.mag(i));return w===0||isNaN(w)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),a):(1<w&&(w=1),a.mult(Math.asin(w)/y))},t.default.Geometry.prototype.computeNormals=function(){var c,f=this.vertexNormals,d=this.vertices,n=this.faces;for(c=f.length=0;c<d.length;++c)f.push(new t.default.Vector);for(var r=0;r<n.length;++r)for(var o=n[r],i=this._getFaceNormal(r),a=0;a<3;++a)f[o[a]].add(i);for(c=0;c<d.length;++c)f[c].normalize();return this},t.default.Geometry.prototype.averageNormals=function(){for(var c=0;c<=this.detailY;c++){var f=this.detailX+1,d=t.default.Vector.add(this.vertexNormals[c*f],this.vertexNormals[c*f+this.detailX]);d=t.default.Vector.div(d,2),this.vertexNormals[c*f]=d,this.vertexNormals[c*f+this.detailX]=d}return this},t.default.Geometry.prototype.averagePoleNormals=function(){for(var c=new t.default.Vector(0,0,0),f=0;f<this.detailX;f++)c.add(this.vertexNormals[f]);c=t.default.Vector.div(c,this.detailX);for(var d=0;d<this.detailX;d++)this.vertexNormals[d]=c;c=new t.default.Vector(0,0,0);for(var n=this.vertices.length-1;n>this.vertices.length-1-this.detailX;n--)c.add(this.vertexNormals[n]);c=t.default.Vector.div(c,this.detailX);for(var r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)this.vertexNormals[r]=c;return this},t.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var c=0,f=this.strokeIndices.length;c<f;c++)this.edges.push(this.strokeIndices[c]);else for(var d=0;d<this.faces.length;d++)this.edges.push([this.faces[d][0],this.faces[d][1]]),this.edges.push([this.faces[d][1],this.faces[d][2]]),this.edges.push([this.faces[d][2],this.faces[d][0]]);return this},t.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var c=this.lineNormals.length=0;c<this.edges.length;c++){var f=this.vertices[this.edges[c][0]],d=this.vertices[this.edges[c][1]],n=d.copy().sub(f).normalize(),r=f.array(),o=f.array(),i=d.array(),a=d.array(),y=n.array(),w=n.array();y.push(1),w.push(-1),this.lineNormals.push(y,w,y,y,w,w),this.lineVertices.push(r,o,i,i,o,a)}return this},t.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var c=this.vertices[0].copy(),f=this.vertices[0].copy(),d=0;d<this.vertices.length;d++)c.x=Math.max(c.x,this.vertices[d].x),f.x=Math.min(f.x,this.vertices[d].x),c.y=Math.max(c.y,this.vertices[d].y),f.y=Math.min(f.y,this.vertices[d].y),c.z=Math.max(c.z,this.vertices[d].z),f.z=Math.min(f.z,this.vertices[d].z);for(var n=t.default.Vector.lerp(c,f,.5),r=t.default.Vector.sub(c,f),o=200/Math.max(Math.max(r.x,r.y),r.z),i=0;i<this.vertices.length;i++)this.vertices[i].sub(n),this.vertices[i].mult(o)}return this};var u=t.default.Geometry;g.default=u},{"../core/main":264,"core-js/modules/es.string.sub":192}],314:[function(e,v,g){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h},u=Array,c=function(d){return d instanceof Array};typeof Float32Array<"u"&&(u=Float32Array,c=function(d){return d instanceof Array||d instanceof Float32Array}),t.default.Matrix=function(){for(var d=new Array(arguments.length),n=0;n<d.length;++n)d[n]=arguments[n];return d.length&&d[d.length-1]instanceof t.default&&(this.p5=d[d.length-1]),d[0]==="mat3"?this.mat3=Array.isArray(d[1])?d[1]:new u([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(d[0])?d[0]:new u([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},t.default.Matrix.prototype.set=function(d){return d instanceof t.default.Matrix?this.mat4=d.mat4:c(d)?this.mat4=d:arguments.length===16&&(this.mat4[0]=d,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},t.default.Matrix.prototype.get=function(){return new t.default.Matrix(this.mat4,this.p5)},t.default.Matrix.prototype.copy=function(){var d=new t.default.Matrix(this.p5);return d.mat4[0]=this.mat4[0],d.mat4[1]=this.mat4[1],d.mat4[2]=this.mat4[2],d.mat4[3]=this.mat4[3],d.mat4[4]=this.mat4[4],d.mat4[5]=this.mat4[5],d.mat4[6]=this.mat4[6],d.mat4[7]=this.mat4[7],d.mat4[8]=this.mat4[8],d.mat4[9]=this.mat4[9],d.mat4[10]=this.mat4[10],d.mat4[11]=this.mat4[11],d.mat4[12]=this.mat4[12],d.mat4[13]=this.mat4[13],d.mat4[14]=this.mat4[14],d.mat4[15]=this.mat4[15],d},t.default.Matrix.identity=function(d){return new t.default.Matrix(d)},t.default.Matrix.prototype.transpose=function(d){var n,r,o,i,a,y;return d instanceof t.default.Matrix?(n=d.mat4[1],r=d.mat4[2],o=d.mat4[3],i=d.mat4[6],a=d.mat4[7],y=d.mat4[11],this.mat4[0]=d.mat4[0],this.mat4[1]=d.mat4[4],this.mat4[2]=d.mat4[8],this.mat4[3]=d.mat4[12],this.mat4[4]=n,this.mat4[5]=d.mat4[5],this.mat4[6]=d.mat4[9],this.mat4[7]=d.mat4[13],this.mat4[8]=r,this.mat4[9]=i,this.mat4[10]=d.mat4[10],this.mat4[11]=d.mat4[14],this.mat4[12]=o,this.mat4[13]=a,this.mat4[14]=y,this.mat4[15]=d.mat4[15]):c(d)&&(n=d[1],r=d[2],o=d[3],i=d[6],a=d[7],y=d[11],this.mat4[0]=d[0],this.mat4[1]=d[4],this.mat4[2]=d[8],this.mat4[3]=d[12],this.mat4[4]=n,this.mat4[5]=d[5],this.mat4[6]=d[9],this.mat4[7]=d[13],this.mat4[8]=r,this.mat4[9]=i,this.mat4[10]=d[10],this.mat4[11]=d[14],this.mat4[12]=o,this.mat4[13]=a,this.mat4[14]=y,this.mat4[15]=d[15]),this},t.default.Matrix.prototype.invert=function(d){var n,r,o,i,a,y,w,x,_,T,E,A,P,I,R,L;d instanceof t.default.Matrix?(n=d.mat4[0],r=d.mat4[1],o=d.mat4[2],i=d.mat4[3],a=d.mat4[4],y=d.mat4[5],w=d.mat4[6],x=d.mat4[7],_=d.mat4[8],T=d.mat4[9],E=d.mat4[10],A=d.mat4[11],P=d.mat4[12],I=d.mat4[13],R=d.mat4[14],L=d.mat4[15]):c(d)&&(n=d[0],r=d[1],o=d[2],i=d[3],a=d[4],y=d[5],w=d[6],x=d[7],_=d[8],T=d[9],E=d[10],A=d[11],P=d[12],I=d[13],R=d[14],L=d[15]);var U=n*y-r*a,D=n*w-o*a,H=n*x-i*a,W=r*w-o*y,ae=r*x-i*y,le=o*x-i*w,J=_*I-T*P,ue=_*R-E*P,se=_*L-A*P,me=T*R-E*I,xe=T*L-A*I,Ce=E*L-A*R,ve=U*Ce-D*xe+H*me+W*se-ae*ue+le*J;return ve?(ve=1/ve,this.mat4[0]=(y*Ce-w*xe+x*me)*ve,this.mat4[1]=(o*xe-r*Ce-i*me)*ve,this.mat4[2]=(I*le-R*ae+L*W)*ve,this.mat4[3]=(E*ae-T*le-A*W)*ve,this.mat4[4]=(w*se-a*Ce-x*ue)*ve,this.mat4[5]=(n*Ce-o*se+i*ue)*ve,this.mat4[6]=(R*H-P*le-L*D)*ve,this.mat4[7]=(_*le-E*H+A*D)*ve,this.mat4[8]=(a*xe-y*se+x*J)*ve,this.mat4[9]=(r*se-n*xe-i*J)*ve,this.mat4[10]=(P*ae-I*H+L*U)*ve,this.mat4[11]=(T*H-_*ae-A*U)*ve,this.mat4[12]=(y*ue-a*me-w*J)*ve,this.mat4[13]=(n*me-r*ue+o*J)*ve,this.mat4[14]=(I*D-P*W-R*U)*ve,this.mat4[15]=(_*W-T*D+E*U)*ve,this):null},t.default.Matrix.prototype.invert3x3=function(){var d=this.mat3[0],n=this.mat3[1],r=this.mat3[2],o=this.mat3[3],i=this.mat3[4],a=this.mat3[5],y=this.mat3[6],w=this.mat3[7],x=this.mat3[8],_=x*i-a*w,T=-x*o+a*y,E=w*o-i*y,A=d*_+n*T+r*E;return A?(A=1/A,this.mat3[0]=_*A,this.mat3[1]=(-x*n+r*w)*A,this.mat3[2]=(a*n-r*i)*A,this.mat3[3]=T*A,this.mat3[4]=(x*d-r*y)*A,this.mat3[5]=(-a*d+r*o)*A,this.mat3[6]=E*A,this.mat3[7]=(-w*d+n*y)*A,this.mat3[8]=(i*d-n*o)*A,this):null},t.default.Matrix.prototype.transpose3x3=function(d){var n=d[1],r=d[2],o=d[5];return this.mat3[1]=d[3],this.mat3[2]=d[6],this.mat3[3]=n,this.mat3[5]=d[7],this.mat3[6]=r,this.mat3[7]=o,this},t.default.Matrix.prototype.inverseTranspose=function(d){this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=d.mat4[0],this.mat3[1]=d.mat4[1],this.mat3[2]=d.mat4[2],this.mat3[3]=d.mat4[4],this.mat3[4]=d.mat4[5],this.mat3[5]=d.mat4[6],this.mat3[6]=d.mat4[8],this.mat3[7]=d.mat4[9],this.mat3[8]=d.mat4[10]);var n=this.invert3x3();if(n)n.transpose3x3(this.mat3);else for(var r=0;r<9;r++)this.mat3[r]=0;return this},t.default.Matrix.prototype.determinant=function(){var d=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],n=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],o=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],i=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],a=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],y=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],w=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],x=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],_=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],T=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return d*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-n*T+r*_+o*x-i*w+a*y},t.default.Matrix.prototype.mult=function(d){var n;if(d===this||d===this.mat4)n=this.copy().mat4;else if(d instanceof t.default.Matrix)n=d.mat4;else if(c(d))n=d;else{if(arguments.length!==16)return;n=arguments}var r=this.mat4[0],o=this.mat4[1],i=this.mat4[2],a=this.mat4[3];return this.mat4[0]=r*n[0]+o*n[4]+i*n[8]+a*n[12],this.mat4[1]=r*n[1]+o*n[5]+i*n[9]+a*n[13],this.mat4[2]=r*n[2]+o*n[6]+i*n[10]+a*n[14],this.mat4[3]=r*n[3]+o*n[7]+i*n[11]+a*n[15],r=this.mat4[4],o=this.mat4[5],i=this.mat4[6],a=this.mat4[7],this.mat4[4]=r*n[0]+o*n[4]+i*n[8]+a*n[12],this.mat4[5]=r*n[1]+o*n[5]+i*n[9]+a*n[13],this.mat4[6]=r*n[2]+o*n[6]+i*n[10]+a*n[14],this.mat4[7]=r*n[3]+o*n[7]+i*n[11]+a*n[15],r=this.mat4[8],o=this.mat4[9],i=this.mat4[10],a=this.mat4[11],this.mat4[8]=r*n[0]+o*n[4]+i*n[8]+a*n[12],this.mat4[9]=r*n[1]+o*n[5]+i*n[9]+a*n[13],this.mat4[10]=r*n[2]+o*n[6]+i*n[10]+a*n[14],this.mat4[11]=r*n[3]+o*n[7]+i*n[11]+a*n[15],r=this.mat4[12],o=this.mat4[13],i=this.mat4[14],a=this.mat4[15],this.mat4[12]=r*n[0]+o*n[4]+i*n[8]+a*n[12],this.mat4[13]=r*n[1]+o*n[5]+i*n[9]+a*n[13],this.mat4[14]=r*n[2]+o*n[6]+i*n[10]+a*n[14],this.mat4[15]=r*n[3]+o*n[7]+i*n[11]+a*n[15],this},t.default.Matrix.prototype.apply=function(d){var n;if(d===this||d===this.mat4)n=this.copy().mat4;else if(d instanceof t.default.Matrix)n=d.mat4;else if(c(d))n=d;else{if(arguments.length!==16)return;n=arguments}var r=this.mat4,o=r[0],i=r[4],a=r[8],y=r[12];r[0]=n[0]*o+n[1]*i+n[2]*a+n[3]*y,r[4]=n[4]*o+n[5]*i+n[6]*a+n[7]*y,r[8]=n[8]*o+n[9]*i+n[10]*a+n[11]*y,r[12]=n[12]*o+n[13]*i+n[14]*a+n[15]*y;var w=r[1],x=r[5],_=r[9],T=r[13];r[1]=n[0]*w+n[1]*x+n[2]*_+n[3]*T,r[5]=n[4]*w+n[5]*x+n[6]*_+n[7]*T,r[9]=n[8]*w+n[9]*x+n[10]*_+n[11]*T,r[13]=n[12]*w+n[13]*x+n[14]*_+n[15]*T;var E=r[2],A=r[6],P=r[10],I=r[14];r[2]=n[0]*E+n[1]*A+n[2]*P+n[3]*I,r[6]=n[4]*E+n[5]*A+n[6]*P+n[7]*I,r[10]=n[8]*E+n[9]*A+n[10]*P+n[11]*I,r[14]=n[12]*E+n[13]*A+n[14]*P+n[15]*I;var R=r[3],L=r[7],U=r[11],D=r[15];return r[3]=n[0]*R+n[1]*L+n[2]*U+n[3]*D,r[7]=n[4]*R+n[5]*L+n[6]*U+n[7]*D,r[11]=n[8]*R+n[9]*L+n[10]*U+n[11]*D,r[15]=n[12]*R+n[13]*L+n[14]*U+n[15]*D,this},t.default.Matrix.prototype.scale=function(d,n,r){return d instanceof t.default.Vector?(n=d.y,r=d.z,d=d.x):d instanceof Array&&(n=d[1],r=d[2],d=d[0]),this.mat4[0]*=d,this.mat4[1]*=d,this.mat4[2]*=d,this.mat4[3]*=d,this.mat4[4]*=n,this.mat4[5]*=n,this.mat4[6]*=n,this.mat4[7]*=n,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this},t.default.Matrix.prototype.rotate=function(d,n,r,o){n instanceof t.default.Vector?(r=n.y,o=n.z,n=n.x):n instanceof Array&&(r=n[1],o=n[2],n=n[0]);var i=Math.sqrt(n*n+r*r+o*o);n*=1/i,r*=1/i,o*=1/i;var a=this.mat4[0],y=this.mat4[1],w=this.mat4[2],x=this.mat4[3],_=this.mat4[4],T=this.mat4[5],E=this.mat4[6],A=this.mat4[7],P=this.mat4[8],I=this.mat4[9],R=this.mat4[10],L=this.mat4[11],U=Math.sin(d),D=Math.cos(d),H=1-D,W=n*n*H+D,ae=r*n*H+o*U,le=o*n*H-r*U,J=n*r*H-o*U,ue=r*r*H+D,se=o*r*H+n*U,me=n*o*H+r*U,xe=r*o*H-n*U,Ce=o*o*H+D;return this.mat4[0]=a*W+_*ae+P*le,this.mat4[1]=y*W+T*ae+I*le,this.mat4[2]=w*W+E*ae+R*le,this.mat4[3]=x*W+A*ae+L*le,this.mat4[4]=a*J+_*ue+P*se,this.mat4[5]=y*J+T*ue+I*se,this.mat4[6]=w*J+E*ue+R*se,this.mat4[7]=x*J+A*ue+L*se,this.mat4[8]=a*me+_*xe+P*Ce,this.mat4[9]=y*me+T*xe+I*Ce,this.mat4[10]=w*me+E*xe+R*Ce,this.mat4[11]=x*me+A*xe+L*Ce,this},t.default.Matrix.prototype.translate=function(d){var n=d[0],r=d[1],o=d[2]||0;this.mat4[12]+=this.mat4[0]*n+this.mat4[4]*r+this.mat4[8]*o,this.mat4[13]+=this.mat4[1]*n+this.mat4[5]*r+this.mat4[9]*o,this.mat4[14]+=this.mat4[2]*n+this.mat4[6]*r+this.mat4[10]*o,this.mat4[15]+=this.mat4[3]*n+this.mat4[7]*r+this.mat4[11]*o},t.default.Matrix.prototype.rotateX=function(d){this.rotate(d,1,0,0)},t.default.Matrix.prototype.rotateY=function(d){this.rotate(d,0,1,0)},t.default.Matrix.prototype.rotateZ=function(d){this.rotate(d,0,0,1)},t.default.Matrix.prototype.perspective=function(d,n,r,o){var i=1/Math.tan(d/2),a=1/(r-o);return this.mat4[0]=i/n,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=i,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(o+r)*a,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*o*r*a,this.mat4[15]=0,this},t.default.Matrix.prototype.ortho=function(d,n,r,o,i,a){var y=1/(d-n),w=1/(r-o),x=1/(i-a);return this.mat4[0]=-2*y,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*w,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*x,this.mat4[11]=0,this.mat4[12]=(d+n)*y,this.mat4[13]=(o+r)*w,this.mat4[14]=(a+i)*x,this.mat4[15]=1,this};var f=t.default.Matrix;g.default=f},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],315:[function(e,v,g){e("core-js/modules/es.array.map"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.RenderBuffer=function(c,f,d,n,r,o){this.size=c,this.src=f,this.dst=d,this.attr=n,this._renderer=r,this.map=o},t.default.RenderBuffer.prototype._prepareBuffer=function(c,f){var d,n=f.attributes,r=this._renderer.GL;d=c.model?c.model:c;var o=n[this.attr];if(o){var i=c[this.dst],a=d[this.src];if(0<a.length){var y=!i;if(y&&(c[this.dst]=i=r.createBuffer()),r.bindBuffer(r.ARRAY_BUFFER,i),y||d.dirtyFlags[this.src]!==!1){var w=this.map,x=w?w(a):a;this._renderer._bindBuffer(i,r.ARRAY_BUFFER,x),d.dirtyFlags[this.src]=!1}f.enableAttrib(o,this.size)}}};var u=t.default.RenderBuffer;g.default=u},{"../core/main":264,"core-js/modules/es.array.map":161}],316:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=f();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return f=function(){return n},n}e("./p5.RenderBuffer"),u.default.RendererGL.prototype.beginShape=function(n){return this.immediateMode.shapeMode=n!==void 0?n:c.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},u.default.RendererGL.prototype.vertex=function(n,r){var o,i,a;o=i=a=0,arguments.length===3?o=arguments[2]:arguments.length===4?(i=arguments[2],a=arguments[3]):arguments.length===5&&(o=arguments[2],i=arguments[3],a=arguments[4]);var y=new u.default.Vector(n,r,o);this.immediateMode.geometry.vertices.push(y),this.immediateMode.geometry.vertexNormals.push(this._currentNormal);var w=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(w[0],w[1],w[2],w[3]),this.textureMode===c.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(i/=this._tex.width,a/=this._tex.height):this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(i,a),this.immediateMode._bezierVertex[0]=n,this.immediateMode._bezierVertex[1]=r,this.immediateMode._bezierVertex[2]=o,this.immediateMode._quadraticVertex[0]=n,this.immediateMode._quadraticVertex[1]=r,this.immediateMode._quadraticVertex[2]=o,this},u.default.RendererGL.prototype.normal=function(n,r,o){return n instanceof u.default.Vector?this._currentNormal=n:this._currentNormal=new u.default.Vector(n,r,o),this},u.default.RendererGL.prototype.endShape=function(n,r,o,i,a,y){return this.immediateMode.shapeMode===c.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},u.default.RendererGL.prototype._processVertices=function(n){if(this.immediateMode.geometry.vertices.length!==0){var r=this._doStroke&&this.drawMode!==c.TEXTURE,o=n===c.CLOSE;r&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,o),this.immediateMode.geometry._edgesToVertices());var i=this.immediateMode.shapeMode===c.TESS;(this.isBezier||this.isQuadratic||this.isCurve||i)&&this.immediateMode.shapeMode!==c.LINES&&this._tesselateShape()}},u.default.RendererGL.prototype._calculateEdges=function(n,r,o){var i=[],a=0;switch(n){case c.TRIANGLE_STRIP:for(a=0;a<r.length-2;a++)i.push([a,a+1]),i.push([a,a+2]);i.push([a,a+1]);break;case c.TRIANGLES:for(a=0;a<r.length-2;a+=3)i.push([a,a+1]),i.push([a+1,a+2]),i.push([a+2,a]);break;case c.LINES:for(a=0;a<r.length-1;a+=2)i.push([a,a+1]);break;default:for(a=0;a<r.length-1;a++)i.push([a,a+1])}return o&&i.push([r.length-1,0]),i},u.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=c.TRIANGLES;var n=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],r=this._triangulate(n);this.immediateMode.geometry.vertices=[];for(var o=0,i=r.length;o<i;o+=3)this.vertex(r[o],r[o+1],r[o+2])},u.default.RendererGL.prototype._drawImmediateFill=function(){var n=this.GL,r=this._getImmediateFillShader();this._setFillUniforms(r);var o=!0,i=!1,a=void 0;try{for(var y,w=this.immediateMode.buffers.fill[Symbol.iterator]();!(o=(y=w.next()).done);o=!0)y.value._prepareBuffer(this.immediateMode.geometry,r)}catch(x){i=!0,a=x}finally{try{o||w.return==null||w.return()}finally{if(i)throw a}}this.immediateMode.shapeMode!==c.LINE_STRIP&&this.immediateMode.shapeMode!==c.LINES||(this.immediateMode.shapeMode=c.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),n.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),r.unbindShader()},u.default.RendererGL.prototype._drawImmediateStroke=function(){var n=this.GL,r=this._getImmediateStrokeShader();this._setStrokeUniforms(r);var o=!0,i=!1,a=void 0;try{for(var y,w=this.immediateMode.buffers.stroke[Symbol.iterator]();!(o=(y=w.next()).done);o=!0)y.value._prepareBuffer(this.immediateMode.geometry,r)}catch(x){i=!0,a=x}finally{try{o||w.return==null||w.return()}finally{if(i)throw a}}this._applyColorBlend(this.curStrokeColor),n.drawArrays(n.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),r.unbindShader()};var d=u.default.RendererGL;g.default=d},{"../core/constants":253,"../core/main":264,"./p5.RenderBuffer":315,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/web.dom-collections.iterator":229}],317:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};e("./p5.RendererGL"),e("./p5.RenderBuffer");var u=0;t.default.RendererGL.prototype._initBufferDefaults=function(f){if(this._freeBuffers(f),1e3<++u){var d=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[d],u--}return this.retainedMode.geometry[f]={}},t.default.RendererGL.prototype._freeBuffers=function(f){var d=this.retainedMode.geometry[f];if(d){delete this.retainedMode.geometry[f],u--;var n=this.GL;d.indexBuffer&&n.deleteBuffer(d.indexBuffer),r(this.retainedMode.buffers.stroke),r(this.retainedMode.buffers.fill)}function r(o){var i=!0,a=!1,y=void 0;try{for(var w,x=o[Symbol.iterator]();!(i=(w=x.next()).done);i=!0){var _=w.value;d[_.dst]&&(n.deleteBuffer(d[_.dst]),d[_.dst]=null)}}catch(T){a=!0,y=T}finally{try{i||x.return==null||x.return()}finally{if(a)throw y}}}},t.default.RendererGL.prototype.createBuffers=function(f,d){var n=this.GL,r=this._initBufferDefaults(f);r.model=d;var o=r.indexBuffer;if(d.faces.length){o=o||(r.indexBuffer=n.createBuffer());var i=t.default.RendererGL.prototype._flatten(d.faces),a=i.some(function(w){return 65535<w}),y=a?Uint32Array:Uint16Array;this._bindBuffer(o,n.ELEMENT_ARRAY_BUFFER,i,y),r.indexBufferType=a?n.UNSIGNED_INT:n.UNSIGNED_SHORT,r.vertexCount=3*d.faces.length}else o&&(n.deleteBuffer(o),r.indexBuffer=null),r.vertexCount=d.vertices?d.vertices.length:0;return r.lineVertexCount=d.lineVertices?d.lineVertices.length:0,r},t.default.RendererGL.prototype.drawBuffers=function(f){var d=this.GL,n=this.retainedMode.geometry[f];if(this._doStroke&&0<n.lineVertexCount){var r=this._getRetainedStrokeShader();this._setStrokeUniforms(r);var o=!0,i=!1,a=void 0;try{for(var y,w=this.retainedMode.buffers.stroke[Symbol.iterator]();!(o=(y=w.next()).done);o=!0)y.value._prepareBuffer(n,r)}catch(I){i=!0,a=I}finally{try{o||w.return==null||w.return()}finally{if(i)throw a}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(d.TRIANGLES,f),r.unbindShader()}if(this._doFill){var x=this._getRetainedFillShader();this._setFillUniforms(x);var _=!0,T=!1,E=void 0;try{for(var A,P=this.retainedMode.buffers.fill[Symbol.iterator]();!(_=(A=P.next()).done);_=!0)A.value._prepareBuffer(n,x)}catch(I){T=!0,E=I}finally{try{_||P.return==null||P.return()}finally{if(T)throw E}}n.indexBuffer&&this._bindBuffer(n.indexBuffer,d.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(d.TRIANGLES,f),x.unbindShader()}return this},t.default.RendererGL.prototype.drawBuffersScaled=function(f,d,n,r){var o=this.uMVMatrix.copy();try{this.uMVMatrix.scale(d,n,r),this.drawBuffers(f)}finally{this.uMVMatrix=o}},t.default.RendererGL.prototype._drawArrays=function(f,d){return this.GL.drawArrays(f,0,this.retainedMode.geometry[d].lineVertexCount),this},t.default.RendererGL.prototype._drawElements=function(f,d){var n=this.retainedMode.geometry[d],r=this.GL;if(n.indexBuffer){if(n.indexBufferType===r.UNSIGNED_INT&&!r.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");r.drawElements(r.TRIANGLES,n.vertexCount,n.indexBufferType,0)}else r.drawArrays(f||r.TRIANGLES,0,n.vertexCount)},t.default.RendererGL.prototype._drawPoints=function(f,d){var n=this.GL,r=this._getImmediatePointShader();this._setPointUniforms(r),this._bindBuffer(d,n.ARRAY_BUFFER,this._vToNArray(f),Float32Array,n.STATIC_DRAW),r.enableAttrib(r.attributes.aPosition,3),n.drawArrays(n.Points,0,f.length),r.unbindShader()};var c=t.default.RendererGL;g.default=c},{"../core/main":264,"./p5.RenderBuffer":315,"./p5.RendererGL":318,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":229}],318:[function(e,v,g){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t=d(e("../core/main")),u=function(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var y=f();if(y&&y.has(a))return y.get(a);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in a)if(Object.prototype.hasOwnProperty.call(a,_)){var T=x?Object.getOwnPropertyDescriptor(a,_):null;T&&(T.get||T.set)?Object.defineProperty(w,_,T):w[_]=a[_]}return w.default=a,y&&y.set(a,w),w}(e("../core/constants")),c=d(e("libtess"));e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix"),e("path");function f(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return f=function(){return a},a}function d(a){return a&&a.__esModule?a:{default:a}}function n(a){return function(y){if(Array.isArray(y)){for(var w=0,x=new Array(y.length);w<y.length;w++)x[w]=y[w];return x}}(a)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,o={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vColor;
}`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
uniform vec4 uMaterialColor;
void main(void) {
  gl_FragColor = uMaterialColor;
}`,lightVert:r+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;
  }
}`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
}
`,phongFrag:r+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;
  }
}`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = uMaterialColor;
  gl_FragColor.a *= saturate(max(antialias, cover));
}`,lineVert:`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform vec4 uViewport;
uniform int uPerspective;

attribute vec4 aPosition;
attribute vec4 aDirection;
  
void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posq.xyz = posq.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 q = uProjectionMatrix * posq;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);

  // flip tangent to normal (it's already normalized)
  vec2 normal = vec2(-tangent.y, tangent.x);

  float thickness = aDirection.w * uStrokeWeight;
  vec2 offset = normal * thickness / 2.0;

  vec2 curPerspScale;

  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
}
`,lineFrag:`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;

void main() {
  gl_FragColor = uMaterialColor;
}`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
	float mask = 0.0;

	// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

	mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

	// if strokeWeight is 1 or less lets just draw a square
	// this prevents weird artifacting from carving circles when our points are really small
	// if strokeWeight is larger than 1, we just use it as is

	mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

	// throw away the borders of the mask
    // otherwise we get weird alpha blending issues

	if(mask > 0.98){
      discard;
  	}

  	gl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;
}`};t.default.RendererGL=function(a,y,w,x){return t.default.Renderer.call(this,a,y,w),this._setAttributeDefaults(y),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=u.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=u.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new t.default.Matrix,this.uPMatrix=new t.default.Matrix,this.uNMatrix=new t.default.Matrix("mat3"),this._currentNormal=new t.default.Vector(0,0,1),this._curCamera=new t.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new t.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new t.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new t.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new t.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new t.default.Geometry,shapeMode:u.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new t.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new t.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new t.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new t.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=u.IMAGE,this.textureWrapX=u.CLAMP,this.textureWrapY=u.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},t.default.RendererGL.prototype=Object.create(t.default.Renderer.prototype),t.default.RendererGL.prototype._setAttributeDefaults=function(a){var y={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};a._glAttributes===null?a._glAttributes=y:a._glAttributes=Object.assign(y,a._glAttributes)},t.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var a=this.drawingContext;a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL),a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(y){throw y}},t.default.RendererGL.prototype._resetContext=function(a,y){var w=this.width,x=this.height,_=this.canvas.id,T=this._pInst instanceof t.default.Graphics;if(T){var E=this._pInst;E.canvas.parentNode.removeChild(E.canvas),E.canvas=document.createElement("canvas"),(E._pInst._userNode||document.body).appendChild(E.canvas),t.default.Element.call(E,E.canvas,E._pInst),E.width=w,E.height=x}else{var A=this.canvas;A&&A.parentNode.removeChild(A),(A=document.createElement("canvas")).id=_,this._pInst._userNode?this._pInst._userNode.appendChild(A):document.body.appendChild(A),this._pInst.canvas=A}var P=new t.default.RendererGL(this._pInst.canvas,this._pInst,!T);this._pInst._setProperty("_renderer",P),P.resize(w,x),P._applyDefaults(),T||this._pInst._elements.push(P),typeof y=="function"&&setTimeout(function(){y.apply(window._renderer,a)},0)},t.default.prototype.setAttributes=function(a,y){if(this._glAttributes!==void 0){var w=!0;if(y!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[a]!==y&&(this._glAttributes[a]=y,w=!1)):a instanceof Object&&this._glAttributes!==a&&(this._glAttributes=a,w=!1),this._renderer.isP3D&&!w){if(!this._setupDone){for(var x in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(x))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},t.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},t.default.RendererGL.prototype.background=function(){var a,y=(a=this._pInst).color.apply(a,arguments),w=y.levels[0]/255,x=y.levels[1]/255,_=y.levels[2]/255,T=y.levels[3]/255;this.GL.clearColor(w,x,_,T),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},t.default.RendererGL.prototype.fill=function(a,y,w,x){var _=t.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=_._array,this.drawMode=u.FILL,this._useNormalMaterial=!1,this._tex=null},t.default.RendererGL.prototype.stroke=function(a,y,w,x){arguments[3]=255;var _=t.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=_._array},t.default.RendererGL.prototype.strokeCap=function(a){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},t.default.RendererGL.prototype.strokeJoin=function(a){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},t.default.RendererGL.prototype.filter=function(a){console.error("filter() does not work in WEBGL mode")},t.default.RendererGL.prototype.blendMode=function(a){a===u.DARKEST||a===u.LIGHTEST||a===u.ADD||a===u.BLEND||a===u.SUBTRACT||a===u.SCREEN||a===u.EXCLUSION||a===u.REPLACE||a===u.MULTIPLY||a===u.REMOVE?this.curBlendMode=a:a!==u.BURN&&a!==u.OVERLAY&&a!==u.HARD_LIGHT&&a!==u.SOFT_LIGHT&&a!==u.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},t.default.RendererGL.prototype.erase=function(a,y){this._isErasing||(this._applyBlendMode(u.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,a/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,y/255])},t.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},t.default.RendererGL.prototype.strokeWeight=function(a){this.curStrokeWeight!==a&&(this.pointSize=a,this.curStrokeWeight=a)},t.default.RendererGL.prototype._getPixel=function(a,y){var w;return w=new Uint8Array(4),this.drawingContext.readPixels(a,y,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,w),[w[0],w[1],w[2],w[3]]},t.default.RendererGL.prototype.loadPixels=function(){var a=this._pixelsState;if(this._pInst._glAttributes.preserveDrawingBuffer===!0){var y=a.pixels,w=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;y instanceof Uint8Array&&y.length===w||(y=new Uint8Array(w),this._pixelsState._setProperty("pixels",y));var x=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*x,this.height*x,this.GL.RGBA,this.GL.UNSIGNED_BYTE,y)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},t.default.RendererGL.prototype.geometryInHash=function(a){return this.retainedMode.geometry[a]!==void 0},t.default.RendererGL.prototype.resize=function(a,y){t.default.Renderer.prototype.resize.call(this,a,y),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var w=this._pixelsState;w.pixels!==void 0&&w._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},t.default.RendererGL.prototype.clear=function(){var a=(arguments.length<=0?void 0:arguments[0])||0,y=(arguments.length<=1?void 0:arguments[1])||0,w=(arguments.length<=2?void 0:arguments[2])||0,x=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(a,y,w,x),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},t.default.RendererGL.prototype.applyMatrix=function(a,y,w,x,_,T){arguments.length===16?t.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([a,y,0,0,w,x,0,0,0,0,1,0,_,T,0,1])},t.default.RendererGL.prototype.translate=function(a,y,w){return a instanceof t.default.Vector&&(w=a.z,y=a.y,a=a.x),this.uMVMatrix.translate([a,y,w]),this},t.default.RendererGL.prototype.scale=function(a,y,w){return this.uMVMatrix.scale(a,y,w),this},t.default.RendererGL.prototype.rotate=function(a,y){return y===void 0?this.rotateZ(a):(t.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},t.default.RendererGL.prototype.rotateX=function(a){return this.rotate(a,1,0,0),this},t.default.RendererGL.prototype.rotateY=function(a){return this.rotate(a,0,1,0),this},t.default.RendererGL.prototype.rotateZ=function(a){return this.rotate(a,0,0,1),this},t.default.RendererGL.prototype.push=function(){var a=t.default.Renderer.prototype.push.apply(this),y=a.properties;return y.uMVMatrix=this.uMVMatrix.copy(),y.uPMatrix=this.uPMatrix.copy(),y._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),y.ambientLightColors=this.ambientLightColors.slice(),y.specularColors=this.specularColors.slice(),y.directionalLightDirections=this.directionalLightDirections.slice(),y.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),y.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),y.pointLightPositions=this.pointLightPositions.slice(),y.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),y.pointLightSpecularColors=this.pointLightSpecularColors.slice(),y.spotLightPositions=this.spotLightPositions.slice(),y.spotLightDirections=this.spotLightDirections.slice(),y.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),y.spotLightSpecularColors=this.spotLightSpecularColors.slice(),y.spotLightAngle=this.spotLightAngle.slice(),y.spotLightConc=this.spotLightConc.slice(),y.userFillShader=this.userFillShader,y.userStrokeShader=this.userStrokeShader,y.userPointShader=this.userPointShader,y.pointSize=this.pointSize,y.curStrokeWeight=this.curStrokeWeight,y.curStrokeColor=this.curStrokeColor,y.curFillColor=this.curFillColor,y._useSpecularMaterial=this._useSpecularMaterial,y._useEmissiveMaterial=this._useEmissiveMaterial,y._useShininess=this._useShininess,y.constantAttenuation=this.constantAttenuation,y.linearAttenuation=this.linearAttenuation,y.quadraticAttenuation=this.quadraticAttenuation,y._enableLighting=this._enableLighting,y._useNormalMaterial=this._useNormalMaterial,y._tex=this._tex,y.drawMode=this.drawMode,y._currentNormal=this._currentNormal,a},t.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=t.default.Matrix.identity(this._pInst),this},t.default.RendererGL.prototype._getImmediateStrokeShader=function(){var a=this.userStrokeShader;return a&&a.isStrokeShader()?a:this._getLineShader()},t.default.RendererGL.prototype._getRetainedStrokeShader=t.default.RendererGL.prototype._getImmediateStrokeShader,t.default.RendererGL.prototype._getImmediateFillShader=function(){var a=this.userFillShader;if(this._useNormalMaterial&&(!a||!a.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!a||!a.isLightShader())return this._getLightShader()}else if(this._tex){if(!a||!a.isTextureShader())return this._getLightShader()}else if(!a)return this._getImmediateModeShader();return a},t.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var a=this.userFillShader;if(this._enableLighting){if(!a||!a.isLightShader())return this._getLightShader()}else if(this._tex){if(!a||!a.isTextureShader())return this._getLightShader()}else if(!a)return this._getColorShader();return a},t.default.RendererGL.prototype._getImmediatePointShader=function(){var a=this.userPointShader;return a&&a.isPointShader()?a:this._getPointShader()},t.default.RendererGL.prototype._getRetainedLineShader=t.default.RendererGL.prototype._getImmediateLineShader,t.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new t.default.Shader(this,o.phongVert,o.phongFrag):this._defaultLightShader=new t.default.Shader(this,o.lightVert,o.lightTextureFrag)),this._defaultLightShader},t.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new t.default.Shader(this,o.immediateVert,o.vertexColorFrag)),this._defaultImmediateModeShader},t.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new t.default.Shader(this,o.normalVert,o.normalFrag)),this._defaultNormalShader},t.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new t.default.Shader(this,o.normalVert,o.basicFrag)),this._defaultColorShader},t.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new t.default.Shader(this,o.pointVert,o.pointFrag)),this._defaultPointShader},t.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new t.default.Shader(this,o.lineVert,o.lineFrag)),this._defaultLineShader},t.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new t.default.Shader(this,o.fontVert,o.fontFrag)),this._defaultFontShader},t.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var a=new t.default.Image(1,1);a.set(0,0,255),this._emptyTexture=new t.default.Texture(this,a)}return this._emptyTexture},t.default.RendererGL.prototype.getTexture=function(a){var y=this.textures,w=!0,x=!1,_=void 0;try{for(var T,E=y[Symbol.iterator]();!(w=(T=E.next()).done);w=!0){var A=T.value;if(A.src===a)return A}}catch(I){x=!0,_=I}finally{try{w||E.return==null||E.return()}finally{if(x)throw _}}var P=new t.default.Texture(this,a);return y.push(P),P},t.default.RendererGL.prototype._setStrokeUniforms=function(a){a.bindShader(),a.setUniform("uMaterialColor",this.curStrokeColor),a.setUniform("uStrokeWeight",this.curStrokeWeight)},t.default.RendererGL.prototype._setFillUniforms=function(a){a.bindShader(),a.setUniform("uMaterialColor",this.curFillColor),a.setUniform("isTexture",!!this._tex),this._tex&&a.setUniform("uSampler",this._tex),a.setUniform("uTint",this._tint),a.setUniform("uSpecular",this._useSpecularMaterial),a.setUniform("uEmissive",this._useEmissiveMaterial),a.setUniform("uShininess",this._useShininess),a.setUniform("uUseLighting",this._enableLighting);var y=this.pointLightDiffuseColors.length/3;a.setUniform("uPointLightCount",y),a.setUniform("uPointLightLocation",this.pointLightPositions),a.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),a.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var w=this.directionalLightDiffuseColors.length/3;a.setUniform("uDirectionalLightCount",w),a.setUniform("uLightingDirection",this.directionalLightDirections),a.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),a.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var x=this.ambientLightColors.length/3;a.setUniform("uAmbientLightCount",x),a.setUniform("uAmbientColor",this.ambientLightColors);var _=this.spotLightDiffuseColors.length/3;a.setUniform("uSpotLightCount",_),a.setUniform("uSpotLightAngle",this.spotLightAngle),a.setUniform("uSpotLightConc",this.spotLightConc),a.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),a.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),a.setUniform("uSpotLightLocation",this.spotLightPositions),a.setUniform("uSpotLightDirection",this.spotLightDirections),a.setUniform("uConstantAttenuation",this.constantAttenuation),a.setUniform("uLinearAttenuation",this.linearAttenuation),a.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),a.bindTextures()},t.default.RendererGL.prototype._setPointUniforms=function(a){a.bindShader(),a.setUniform("uMaterialColor",this.curStrokeColor),a.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},t.default.RendererGL.prototype._bindBuffer=function(a,y,w,x,_){if(y=y||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(y,a),w!==void 0){var T=new(x||Float32Array)(w);this.GL.bufferData(y,T,_||this.GL.STATIC_DRAW)}},t.default.RendererGL.prototype._arraysEqual=function(a,y){var w=a.length;if(w!==y.length)return!1;for(var x=0;x<w;x++)if(a[x]!==y[x])return!1;return!0},t.default.RendererGL.prototype._isTypedArray=function(a){return a instanceof Uint32Array},t.default.RendererGL.prototype._flatten=function(a){if(a.length===0)return[];if(2e4<a.length){var y,w=Object.prototype.toString,x=[],_=a.slice();for(y=_.pop();w.call(y)==="[object Array]"?_.push.apply(_,n(y)):x.push(y),_.length&&(y=_.pop())!==void 0;);return x.reverse(),x}var T;return(T=[]).concat.apply(T,n(a))},t.default.RendererGL.prototype._vToNArray=function(a){var y=[],w=!0,x=!1,_=void 0;try{for(var T,E=a[Symbol.iterator]();!(w=(T=E.next()).done);w=!0){var A=T.value;y.push(A.x,A.y,A.z)}}catch(P){x=!0,_=P}finally{try{w||E.return==null||E.return()}finally{if(x)throw _}}return y},t.default.prototype._assert3d=function(a){if(!this._renderer.isP3D)throw new Error("".concat(a,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},t.default.RendererGL.prototype._initTessy=function(){var a=new c.default.GluTesselator;return a.gluTessCallback(c.default.gluEnum.GLU_TESS_VERTEX_DATA,function(y,w){w[w.length]=y[0],w[w.length]=y[1],w[w.length]=y[2]}),a.gluTessCallback(c.default.gluEnum.GLU_TESS_BEGIN,function(y){y!==c.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(y))}),a.gluTessCallback(c.default.gluEnum.GLU_TESS_ERROR,function(y){console.log("error callback"),console.log("error number: ".concat(y))}),a.gluTessCallback(c.default.gluEnum.GLU_TESS_COMBINE,function(y,w,x){return[y[0],y[1],y[2]]}),a.gluTessCallback(c.default.gluEnum.GLU_TESS_EDGE_FLAG,function(y){}),a},t.default.RendererGL.prototype._triangulate=function(a){this._tessy.gluTessNormal(0,0,1);var y=[];this._tessy.gluTessBeginPolygon(y);for(var w=0;w<a.length;w++){this._tessy.gluTessBeginContour();for(var x=a[w],_=0;_<x.length;_+=3){var T=[x[_],x[_+1],x[_+2]];this._tessy.gluTessVertex(T,T)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),y},t.default.RendererGL.prototype._bezierCoefficients=function(a){var y=a*a,w=1-a,x=w*w;return[x*w,3*x*a,3*w*y,y*a]},t.default.RendererGL.prototype._quadraticCoefficients=function(a){var y=1-a;return[y*y,2*y*a,a*a]},t.default.RendererGL.prototype._bezierToCatmull=function(a){return[a[1],a[1]+(a[2]-a[0])/this._curveTightness,a[2]-(a[3]-a[1])/this._curveTightness,a[2]]};var i=t.default.RendererGL;g.default=i},{"../core/constants":253,"../core/main":264,"../core/p5.Renderer":267,"./p5.Camera":312,"./p5.Matrix":314,"./p5.Shader":319,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,libtess:237,path:240}],319:[function(e,v,g){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var h,t=(h=e("../core/main"))&&h.__esModule?h:{default:h};t.default.Shader=function(c,f,d){this._renderer=c,this._vertSrc=f,this._fragSrc=d,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},t.default.Shader.prototype.init=function(){if(this._glProgram===0){var c=this._renderer.GL;if(this._vertShader=c.createShader(c.VERTEX_SHADER),c.shaderSource(this._vertShader,this._vertSrc),c.compileShader(this._vertShader),!c.getShaderParameter(this._vertShader,c.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(c.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=c.createShader(c.FRAGMENT_SHADER),c.shaderSource(this._fragShader,this._fragSrc),c.compileShader(this._fragShader),!c.getShaderParameter(this._fragShader,c.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(c.getShaderInfoLog(this._fragShader))),null;this._glProgram=c.createProgram(),c.attachShader(this._glProgram,this._vertShader),c.attachShader(this._glProgram,this._fragShader),c.linkProgram(this._glProgram),c.getProgramParameter(this._glProgram,c.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(c.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},t.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var c=this._renderer.GL,f=c.getProgramParameter(this._glProgram,c.ACTIVE_ATTRIBUTES),d=0;d<f;++d){var n=c.getActiveAttrib(this._glProgram,d),r=n.name,o=c.getAttribLocation(this._glProgram,r),i={};i.name=r,i.location=o,i.index=d,i.type=n.type,i.size=n.size,this.attributes[r]=i}this._loadedAttributes=!0}},t.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var c=this._renderer.GL,f=c.getProgramParameter(this._glProgram,c.ACTIVE_UNIFORMS),d=0,n=0;n<f;++n){var r=c.getActiveUniform(this._glProgram,n),o={};o.location=c.getUniformLocation(this._glProgram,r.name),o.size=r.size;var i=r.name;1<r.size&&(i=i.substring(0,i.indexOf("[0]"))),o.name=i,o.type=r.type,o._cachedData=void 0,o.type===c.SAMPLER_2D&&(o.samplerIndex=d,d++,this.samplers.push(o)),o.isArray=1<r.size||o.type===c.FLOAT_MAT3||o.type===c.FLOAT_MAT4||o.type===c.FLOAT_VEC2||o.type===c.FLOAT_VEC3||o.type===c.FLOAT_VEC4||o.type===c.INT_VEC2||o.type===c.INT_VEC4||o.type===c.INT_VEC3,this.uniforms[i]=o}this._loadedUniforms=!0}},t.default.Shader.prototype.compile=function(){},t.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},t.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},t.default.Shader.prototype.bindTextures=function(){var c=this._renderer.GL,f=!0,d=!1,n=void 0;try{for(var r,o=this.samplers[Symbol.iterator]();!(f=(r=o.next()).done);f=!0){var i=r.value,a=i.texture;a===void 0&&(a=this._renderer._getEmptyTexture()),c.activeTexture(c.TEXTURE0+i.samplerIndex),a.bindTexture(),a.update(),c.uniform1i(i.location,i.samplerIndex)}}catch(y){d=!0,n=y}finally{try{f||o.return==null||o.return()}finally{if(d)throw n}}},t.default.Shader.prototype.updateTextures=function(){var c=!0,f=!1,d=void 0;try{for(var n,r=this.samplers[Symbol.iterator]();!(c=(n=r.next()).done);c=!0){var o=n.value.texture;o&&o.update()}}catch(i){f=!0,d=i}finally{try{c||r.return==null||r.return()}finally{if(f)throw d}}},t.default.Shader.prototype.unbindTextures=function(){},t.default.Shader.prototype._setMatrixUniforms=function(){var c=this._renderer._curCamera.cameraMatrix,f=this._renderer.uPMatrix,d=this._renderer.uMVMatrix,n=d.copy();n.mult(f),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",c.mat4),this.setUniform("uProjectionMatrix",f.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",n.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},t.default.Shader.prototype.useProgram=function(){var c=this._renderer.GL;return this._renderer._curShader!==this&&(c.useProgram(this._glProgram),this._renderer._curShader=this),this},t.default.Shader.prototype.setUniform=function(c,f){var d=this.uniforms[c];if(d){var n=this._renderer.GL;if(d.isArray){if(d._cachedData&&this._renderer._arraysEqual(d._cachedData,f))return;d._cachedData=f.slice(0)}else{if(d._cachedData&&d._cachedData===f)return;Array.isArray(f)?d._cachedData=f.slice(0):d._cachedData=f}var r=d.location;switch(this.useProgram(),d.type){case n.BOOL:f===!0?n.uniform1i(r,1):n.uniform1i(r,0);break;case n.INT:1<d.size?f.length&&n.uniform1iv(r,f):n.uniform1i(r,f);break;case n.FLOAT:1<d.size?f.length&&n.uniform1fv(r,f):n.uniform1f(r,f);break;case n.FLOAT_MAT3:n.uniformMatrix3fv(r,!1,f);break;case n.FLOAT_MAT4:n.uniformMatrix4fv(r,!1,f);break;case n.FLOAT_VEC2:1<d.size?f.length&&n.uniform2fv(r,f):n.uniform2f(r,f[0],f[1]);break;case n.FLOAT_VEC3:1<d.size?f.length&&n.uniform3fv(r,f):n.uniform3f(r,f[0],f[1],f[2]);break;case n.FLOAT_VEC4:1<d.size?f.length&&n.uniform4fv(r,f):n.uniform4f(r,f[0],f[1],f[2],f[3]);break;case n.INT_VEC2:1<d.size?f.length&&n.uniform2iv(r,f):n.uniform2i(r,f[0],f[1]);break;case n.INT_VEC3:1<d.size?f.length&&n.uniform3iv(r,f):n.uniform3i(r,f[0],f[1],f[2]);break;case n.INT_VEC4:1<d.size?f.length&&n.uniform4iv(r,f):n.uniform4i(r,f[0],f[1],f[2],f[3]);break;case n.SAMPLER_2D:n.activeTexture(n.TEXTURE0+d.samplerIndex),d.texture=f instanceof t.default.Texture?f:this._renderer.getTexture(f),n.uniform1i(r,d.samplerIndex)}return this}},t.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},t.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},t.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},t.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},t.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},t.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},t.default.Shader.prototype.enableAttrib=function(c,f,d,n,r,o){if(c){var i=c.location;if(i!==-1){var a=this._renderer.GL;c.enabled||(a.enableVertexAttribArray(i),c.enabled=!0),this._renderer.GL.vertexAttribPointer(i,f,d||a.FLOAT,n||!1,r||0,o||0)}}return this};var u=t.default.Shader;g.default=u},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],320:[function(e,v,g){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(n){if(n&&n.__esModule)return n;if(n===null||h(n)!=="object"&&typeof n!="function")return{default:n};var r=f();if(r&&r.has(n))return r.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var y=i?Object.getOwnPropertyDescriptor(n,a):null;y&&(y.get||y.set)?Object.defineProperty(o,a,y):o[a]=n[a]}return o.default=n,r&&r.set(n,o),o}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return f=function(){return n},n}u.default.Texture=function(n,r,o){this._renderer=n;var i=this._renderer.GL;(o=o||{}).dataType===i.FLOAT&&(i.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),i.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=r,this.glTex=void 0,this.glTarget=i.TEXTURE_2D,this.glFormat=o.format||i.RGBA,this.mipmaps=!1,this.glMinFilter=o.minFilter||i.LINEAR,this.glMagFilter=o.magFilter||i.LINEAR,this.glWrapS=o.wrapS||i.CLAMP_TO_EDGE,this.glWrapT=o.wrapT||i.CLAMP_TO_EDGE,this.glDataType=o.dataType||i.UNSIGNED_BYTE,this.isSrcMediaElement=u.default.MediaElement!==void 0&&r instanceof u.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=u.default.Element!==void 0&&r instanceof u.default.Element&&!(r instanceof u.default.Graphics),this.isSrcP5Image=r instanceof u.default.Image,this.isSrcP5Graphics=r instanceof u.default.Graphics,this.isImageData=typeof ImageData<"u"&&r instanceof ImageData;var a=this._getTextureDataFromSource();return this.width=a.width,this.height=a.height,this.init(a),this},u.default.Texture.prototype._getTextureDataFromSource=function(){var n;return this.isSrcP5Image?n=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?n=this.src.elt:this.isImageData&&(n=this.src),n},u.default.Texture.prototype.init=function(n){var r=this._renderer.GL;if(this.glTex=r.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){var o=new Uint8Array([1,1,1,1]);r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,o)}else r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,n)},u.default.Texture.prototype.update=function(){var n=this.src;if(n.width===0||n.height===0)return!1;var r=this._getTextureDataFromSource(),o=!1,i=this._renderer.GL;return r.width!==this.width||r.height!==this.height?(o=!0,this.width=r.width,this.height=r.height,this.isSrcP5Image?n.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&n.setModified(!0)):this.isSrcP5Image?n.isModified()&&(o=!0,n.setModified(!1)):this.isSrcMediaElement?n.isModified()?(o=!0,n.setModified(!1)):n.loadedmetadata&&this._videoPrevUpdateTime!==n.time()&&(this._videoPrevUpdateTime=n.time(),o=!0):this.isImageData?n._dirty&&(o=!(n._dirty=!1)):o=!0,o&&(this.bindTexture(),i.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,r)),o},u.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},u.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},u.default.Texture.prototype.setInterpolation=function(n,r){var o=this._renderer.GL;n===c.NEAREST?this.glMinFilter=o.NEAREST:this.glMinFilter=o.LINEAR,r===c.NEAREST?this.glMagFilter=o.NEAREST:this.glMagFilter=o.LINEAR,this.bindTexture(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.glMinFilter),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},u.default.Texture.prototype.setWrapMode=function(n,r){function o(w){return(w&w-1)==0}var i=this._renderer.GL,a=o(this.width),y=o(this.height);n===c.REPEAT?a&&y?this.glWrapS=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):n===c.MIRROR?a&&y?this.glWrapS=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):this.glWrapS=i.CLAMP_TO_EDGE,r===c.REPEAT?a&&y?this.glWrapT=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):r===c.MIRROR?a&&y?this.glWrapT=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):this.glWrapT=i.CLAMP_TO_EDGE,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.glWrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var d=u.default.Texture;g.default=d},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],321:[function(e,v,g){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var t,u=(t=e("../core/main"))&&t.__esModule?t:{default:t},c=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var a=f();if(a&&a.has(i))return a.get(i);var y={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in i)if(Object.prototype.hasOwnProperty.call(i,x)){var _=w?Object.getOwnPropertyDescriptor(i,x):null;_&&(_.get||_.set)?Object.defineProperty(y,x,_):y[x]=i[x]}return y.default=i,a&&a.set(i,y),y}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return f=function(){return i},i}e("./p5.Shader"),e("./p5.RendererGL.Retained"),u.default.RendererGL.prototype._applyTextProperties=function(){},u.default.RendererGL.prototype.textWidth=function(i){return this._isOpenType()?this._textFont._textWidth(i,this._textSize):0};function d(i,a){this.width=i,this.height=a,this.infos=[],this.findImage=function(y){var w,x,_=this.width*this.height;if(_<y)throw new Error("font is too complex to render in 3D");for(var T=this.infos.length-1;0<=T;--T){var E=this.infos[T];if(E.index+y<_){x=(w=E).imageData;break}}if(!w){try{x=new ImageData(this.width,this.height)}catch{var A=document.getElementsByTagName("canvas")[0],P=!A;A||((A=document.createElement("canvas")).style.display="none",document.body.appendChild(A));var I=A.getContext("2d");I&&(x=I.createImageData(this.width,this.height)),P&&document.body.removeChild(A)}w={index:0,imageData:x},this.infos.push(w)}var R=w.index;return w.index+=y,x._dirty=!0,{imageData:x,index:R}}}function n(i,a,y,w,x){var _=i.imageData.data,T=4*i.index++;_[T++]=a,_[T++]=y,_[T++]=w,_[T++]=x}function r(i){this.font=i,this.strokeImageInfos=new d(64,64),this.colDimImageInfos=new d(64,64),this.rowDimImageInfos=new d(64,64),this.colCellImageInfos=new d(64,64),this.rowCellImageInfos=new d(64,64),this.glyphInfos={},this.getGlyphInfo=function(a){var y=this.glyphInfos[a.index];if(y)return y;var w,x=a.getBoundingBox(),_=x.x1,T=x.y1,E=x.x2-_,A=x.y2-T,P=a.path.commands;if(E==0||A==0||!P.length)return this.glyphInfos[a.index]={};var I,R,L,U,D=[],H=[],W=[];for(w=8;0<=w;--w)W.push([]);for(w=8;0<=w;--w)H.push([]);function ae(he,Pe,Be){var Ue=D.length;function Le(Z,z,$){for(var de=Z.length;0<de--;){var Te=Z[de];Te<z&&(z=Te),$<Te&&($=Te)}return{min:z,max:$}}D.push(Be);for(var $e=Le(he,1,0),Ae=Math.max(Math.floor(9*$e.min),0),Me=Math.min(Math.ceil(9*$e.max),9),He=Ae;He<Me;++He)W[He].push(Ue);for(var qe=Le(Pe,1,0),be=Math.max(Math.floor(9*qe.min),0),Je=Math.min(Math.ceil(9*qe.max),9),V=be;V<Je;++V)H[V].push(Ue)}function le(he){return(Pe=(Ue=255)*he)<(Be=0)?Be:Ue<Pe?Ue:Pe;var Pe,Be,Ue}function J(he,Pe,Be,Ue){this.p0=he,this.c0=Pe,this.c1=Be,this.p1=Ue,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return u.default.Vector.sub(u.default.Vector.sub(this.p1,this.p0),u.default.Vector.mult(u.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Le){var $e=u.default.Vector.lerp(this.p0,this.c0,Le),Ae=u.default.Vector.lerp(this.c0,this.c1,Le),Me=u.default.Vector.lerp($e,Ae,Le);this.c1=u.default.Vector.lerp(this.c1,this.p1,Le),this.c0=u.default.Vector.lerp(Ae,this.c1,Le);var He=u.default.Vector.lerp(Me,this.c0,Le),qe=new J(this.p0,$e,Me,He);return this.p0=He,qe},this.splitInflections=function(){var Le=u.default.Vector.sub(this.c0,this.p0),$e=u.default.Vector.sub(u.default.Vector.sub(this.c1,this.c0),Le),Ae=u.default.Vector.sub(u.default.Vector.sub(u.default.Vector.sub(this.p1,this.c1),Le),u.default.Vector.mult($e,2)),Me=[],He=$e.x*Ae.y-$e.y*Ae.x;if(He!==0){var qe=Le.x*Ae.y-Le.y*Ae.x,be=Le.x*$e.y-Le.y*$e.x,Je=qe*qe-4*He*be;if(0<=Je){He<0&&(He=-He,qe=-qe,be=-be);var V=Math.sqrt(Je),Z=(-qe-V)/(2*He),z=(-qe+V)/(2*He);0<Z&&Z<1&&(Me.push(this.split(Z)),z=1-(1-z)/(1-Z)),0<z&&z<1&&Me.push(this.split(z))}}return Me.push(this),Me}}function ue(he,Pe,Be,Ue,Le,$e,Ae,Me){var He=new J(new u.default.Vector(he,Pe),new u.default.Vector(Be,Ue),new u.default.Vector(Le,$e),new u.default.Vector(Ae,Me)).splitInflections(),qe=[],be=30/o,Je=!0,V=!1,Z=void 0;try{for(var z,$=He[Symbol.iterator]();!(Je=(z=$.next()).done);Je=!0){for(var de=z.value,Te=[],Oe=void 0;!(.125<=(Oe=be/de.quadError()));){var Ve=Math.pow(Oe,.3333333333333333),we=de.split(Ve),Ye=de.split(1-Ve/(1-Ve));qe.push(we),Te.push(de),de=Ye}Oe<1&&qe.push(de.split(.5)),qe.push(de),Array.prototype.push.apply(qe,Te.reverse())}}catch(ot){V=!0,Z=ot}finally{try{Je||$.return==null||$.return()}finally{if(V)throw Z}}return qe}function se(he,Pe,Be,Ue){ae([he,Be],[Pe,Ue],{x:he,y:Pe,cx:(he+Be)/2,cy:(Pe+Ue)/2})}function me(he,Pe,Be,Ue){return Math.abs(Be-he)<1e-5&&Math.abs(Ue-Pe)<1e-5}var xe=!0,Ce=!1,ve=void 0;try{for(var De,_e=P[Symbol.iterator]();!(xe=(De=_e.next()).done);xe=!0){var Se=De.value,O=(Se.x-_)/E,G=(Se.y-T)/A;if(!me(I,R,O,G)){switch(Se.type){case"M":L=O,U=G;break;case"L":se(I,R,O,G);break;case"Q":var X=(Se.x1-_)/E,ee=(Se.y1-T)/A;ae([I,O,X],[R,G,ee],{x:I,y:R,cx:X,cy:ee});break;case"Z":me(I,R,L,U)?D.push({x:I,y:R}):(se(I,R,L,U),D.push({x:L,y:U}));break;case"C":for(var B=ue(I,R,(Se.x1-_)/E,(Se.y1-T)/A,(Se.x2-_)/E,(Se.y2-T)/A,O,G),N=0;N<B.length;N++){var re=B[N].toQuadratic();ae([re.x,re.x1,re.cx],[re.y,re.y1,re.cy],re)}break;default:throw new Error("unknown command type: ".concat(Se.type))}I=O,R=G}}}catch(he){Ce=!0,ve=he}finally{try{xe||_e.return==null||_e.return()}finally{if(Ce)throw ve}}for(var Y=D.length,ne=this.strokeImageInfos.findImage(Y),ie=ne.index,oe=0;oe<Y;++oe){var pe=D[oe];n(ne,le(pe.x),le(pe.y),le(pe.cx),le(pe.cy))}function ge(he,Pe,Be){for(var Ue=he.length,Le=Pe.findImage(Ue),$e=Le.index,Ae=0,Me=0;Me<Ue;++Me)Ae+=he[Me].length;for(var He=Be.findImage(Ae),qe=0;qe<Ue;++qe){var be=he[qe],Je=be.length,V=He.index;n(Le,V>>7,127&V,Je>>7,127&Je);for(var Z=0;Z<Je;++Z){var z=be[Z]+ie;n(He,z>>7,127&z,0,0)}}return{cellImageInfo:He,dimOffset:$e,dimImageInfo:Le}}return(y=this.glyphInfos[a.index]={glyph:a,uGlyphRect:[x.x1,-x.y1,x.x2,-x.y2],strokeImageInfo:ne,strokes:D,colInfo:ge(W,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ge(H,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[y.colInfo.dimOffset,y.rowInfo.dimOffset],y}}var o=Math.sqrt(3);u.default.RendererGL.prototype._renderText=function(i,a,y,w,x){if(this._textFont&&typeof this._textFont!="string"){if(!(x<=w)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),i;i.push();var _=this._doStroke,T=this.drawMode;this._doStroke=!1,this.drawMode=c.TEXTURE;var E=this._textFont.font,A=this._textFont._fontInfo;A=A||(this._textFont._fontInfo=new r(E));var P=this._textFont._handleAlignment(this,a,y,w),I=this._textSize/E.unitsPerEm;this.translate(P.x,P.y,0),this.scale(I,I,1);var R=this.GL,L=!this._defaultFontShader,U=this._getFontShader();U.init(),U.bindShader(),L&&(U.setUniform("uGridImageSize",[64,64]),U.setUniform("uCellsImageSize",[64,64]),U.setUniform("uStrokeImageSize",[64,64]),U.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var D=this.retainedMode.geometry.glyph;if(!D){var H=this._textGeom=new u.default.Geometry(1,1,function(){for(var B=0;B<=1;B++)for(var N=0;N<=1;N++)this.vertices.push(new u.default.Vector(N,B,0)),this.uvs.push(N,B)});H.computeFaces().computeNormals(),D=this.createBuffers("glyph",H)}var W=!0,ae=!1,le=void 0;try{for(var J,ue=this.retainedMode.buffers.text[Symbol.iterator]();!(W=(J=ue.next()).done);W=!0)J.value._prepareBuffer(D,U)}catch(B){ae=!0,le=B}finally{try{W||ue.return==null||ue.return()}finally{if(ae)throw le}}this._bindBuffer(D.indexBuffer,R.ELEMENT_ARRAY_BUFFER),U.setUniform("uMaterialColor",this.curFillColor);try{var se=0,me=null,xe=E.stringToGlyphs(a),Ce=!0,ve=!1,De=void 0;try{for(var _e,Se=xe[Symbol.iterator]();!(Ce=(_e=Se.next()).done);Ce=!0){var O=_e.value;me&&(se+=E.getKerningValue(me,O));var G=A.getGlyphInfo(O);if(G.uGlyphRect){var X=G.rowInfo,ee=G.colInfo;U.setUniform("uSamplerStrokes",G.strokeImageInfo.imageData),U.setUniform("uSamplerRowStrokes",X.cellImageInfo.imageData),U.setUniform("uSamplerRows",X.dimImageInfo.imageData),U.setUniform("uSamplerColStrokes",ee.cellImageInfo.imageData),U.setUniform("uSamplerCols",ee.dimImageInfo.imageData),U.setUniform("uGridOffset",G.uGridOffset),U.setUniform("uGlyphRect",G.uGlyphRect),U.setUniform("uGlyphOffset",se),U.bindTextures(),R.drawElements(R.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}se+=O.advanceWidth,me=O}}catch(B){ve=!0,De=B}finally{try{Ce||Se.return==null||Se.return()}finally{if(ve)throw De}}}finally{U.unbindShader(),this._doStroke=_,this.drawMode=T,i.pop()}return i}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":253,"../core/main":264,"./p5.RendererGL.Retained":317,"./p5.Shader":319,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}]},{},[248])(248)})})(dd);const ct=cd(ii),C=new ct(p=>{}),Wt=(p,l)=>(p.x-l.x)*(p.x-l.x)+(p.y-l.y)*(p.y-l.y),$a=(p,l,s)=>C.min(s,C.max(l,p)),hd=(p,l,s=255)=>C.color(C.random(p[0],l[0]),C.random(p[1],l[1]),C.random(p[2],l[2]),s),Xl=(p,l,s,e=255)=>{const v=1-s;return C.color(p[0]*s+l[0]*v,p[1]*s+l[1]*v,p[2]*s+l[2]*v,e)},Xn=p=>C.color(C.red(p),C.green(p),C.blue(p),C.alpha(p)),xn=(p,l,s)=>(l.x-p.x)*(s.y-p.y)-(s.x-p.x)*(l.y-p.y),Eo=(p,l)=>{const s=l.indexOf(p);l.splice(s,1)},fd=(p,l,s,e=!1)=>{const v=s/2,g=s*(2/3);C.push(),C.fill(Ri),C.circle(p,l,s*2),C.fill(ws),e&&(C.fill(Mr),C.strokeWeight(3)),C.triangle(p-v,l-g,p-v,l+g,p+g,l),C.pop()},pd=(p,l,s,e=!1)=>{const v=s/2,g=s/3,h=s/5;C.push(),C.fill(Nl),C.circle(p,l,s*2),C.fill(ws),e&&(C.fill(Mr),C.strokeWeight(3)),C.triangle(p-g-h,l-v,p-g-h,l+v,p+v-h,l),C.triangle(p-g+h,l-v,p-g+h,l+v,p+v+h,l),C.pop()},md=1,gd=(p,l,s,e,v=md)=>{const g=s*.9,h=ct.Vector.fromAngle(1.75*C.PI).setMag(g);C.push(),C.strokeWeight(v),C.fill(od),C.circle(p,l,s*2),C.fill(ws),C.textSize(g*2),C.text("A",p-h.x,l-h.y),e||(C.strokeWeight(5*v),C.line(p-h.x,l-h.y,p+h.x,l+h.y)),C.pop()},Yl=10,yd=50,$l=C.height-yd,Kl=20,vd=10,ai=2.5,bd=3,wd=(p=Yl,l=$l,s=Kl,e=1,v=!1)=>{let g=p+s;const h=l+s;gd(g,h,s,v),g+=s*ai,fd(g,h,s,e===1),g+=s*ai,pd(g,h,s,e>1)},xd=(p,l=Yl,s=$l,e=Kl,v=!1,g=vd)=>{const h=C.createVector(C.mouseX,C.mouseY),t=2;for(let u=0;u<bd;u++){const c=C.createVector(l+ai*e*u+e,s+e);if(Wt(c,h)<e*e){if(u===0)return[p,!v];if(u===1)return[1,v];if(u===2)return p*2<=g&&p!==0?[p*2,v]:[t,v]}}return[p,v]},_d=(p,l,s,e)=>{const v=s/2,g=s*(3/8);C.strokeWeight(e),C.beginShape(),C.vertex(p-v,l-g),C.quadraticVertex(p-v,l-v,p-g,l-v),C.vertex(p+g,l-v),C.quadraticVertex(p+v,l-v,p+v,l-g),C.vertex(p+v,l+g),C.quadraticVertex(p+v,l+v,p+g,l+v),C.vertex(p-g,l+v),C.quadraticVertex(p-v,l+v,p-v,l+g),C.endShape(C.CLOSE),C.strokeWeight(e*3),C.line(p-g,l-g,p+g,l+g),C.line(p+g,l-g,p-g,l+g)},uo=(p,l,s)=>{const e=s/2,v=s/8;C.push(),C.circle(p,l,s*2),C.noFill(),C.beginShape(),C.vertex(p-e,l-e),C.vertex(p+e,l-e),C.vertex(p-e,l+e),C.vertex(p+e,l+e),C.endShape(),C.line(p-v,l-(e+v),p-v,l-e),C.line(p+v,l-(e+v),p+v,l-e),C.line(p-v,l+(e+v),p-v,l+e),C.line(p+v,l+(e+v),p+v,l+e),C.pop()},Sd=(p,l,s)=>{const e=s/2,v=s*(3/8),g={x:p,y:l-e},h={x:p,y:l+e},t={x:p+v,y:l-v},u={x:p-v,y:l-v};C.noFill(),C.curve(g.x,g.y-e,g.x,g.y,t.x,t.y,t.x+v,t.y-v),C.curve(t.x,t.y-e,t.x,t.y,h.x,h.y,h.x-s*3,h.y),C.curve(h.x+s*3,h.y,h.x,h.y,u.x,u.y,u.x,u.y-e),C.curve(u.x-v,u.y-v,u.x,u.y,g.x,g.y,g.x,g.y-e)},Ze=C.windowWidth/80,gr=Ze*(2/3),tr=Ze/24,jd=13,Td=3/8,Cd=1/2,Ed=1,Oi=3600,fo=9999999999,sr=(p,l,s,e=!1,v=C)=>{const g=e?0:30;v.beginShape();for(let h=0;h<6;h++){const t=v.PI/180*(g+h*60),u=p+v.cos(t)*s,c=l+v.sin(t)*s;v.vertex(u,c)}v.endShape(v.CLOSE)},Md=(p,l,s,e,v,g=!1,h=C)=>{let t=g?-h.TWO_PI/3:-h.PI/2,u=p+h.cos(t)*s,c=l+h.sin(t)*s;h.beginShape();for(let n=0;n<=e;n++)u=p+h.cos(t)*s,c=l+h.sin(t)*s,h.vertex(u,c),t+=h.PI/3;h.endShape();const f=p+h.cos(t)*s,d=l+h.sin(t)*s;h.line(u,c,C.lerp(u,f,v),C.lerp(c,d,v))};var mt=(p=>(p[p.EMPTY=0]="EMPTY",p[p.HILL=1]="HILL",p[p.UNSTABLE=2]="UNSTABLE",p[p.WALL=3]="WALL",p[p.WATER=4]="WATER",p[p.LAVA=5]="LAVA",p[p.SPAWN=6]="SPAWN",p[p.BASE=7]="BASE",p[p.TELEPORTER_ONE=8]="TELEPORTER_ONE",p[p.TELEPORTER_TWO=9]="TELEPORTER_TWO",p))(mt||{});const Ad={name:"Empty",description:"An empty tile",hotkey:"e",keycode:69,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:ds},Rd={name:"Hill",description:"A slightly elevated tile",hotkey:"h",keycode:72,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:bs},Pd={name:"Unstable",description:"An unstable tile",hotkey:"u",keycode:85,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:ql},Od={name:"Wall",description:"A wall tile",hotkey:"w",keycode:87,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:Vl},kd={name:"Water",description:"A water tile",hotkey:"a",keycode:65,canTower:!1,canWaterTower:!0,canLavaTower:!1,canUnit:!1,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Pi},Ld={name:"Lava",description:"A lava tile",hotkey:"l",keycode:76,canTower:!1,canWaterTower:!1,canLavaTower:!0,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Ai},Dd={name:"Spawn",description:"An enemy spawn point",hotkey:"s",keycode:83,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!0,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:Er},Id={name:"Base",description:"A Maou base to be protected",hotkey:"b",keycode:66,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!0,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:xs},Bd={name:"Teleporter Type One",description:"A teleporter connected to all other teleporters of the same type",hotkey:"t",keycode:84,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:1,rgb:Xc},Ud={name:"Teleporter Type One",description:"A teleporter connected to all other teleporters of the same type",hotkey:"y",keycode:89,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:2,rgb:$c},Ka={[0]:Ad,[1]:Rd,[2]:Pd,[3]:Od,[4]:kd,[5]:Ld,[6]:Dd,[7]:Id,[8]:Bd,[9]:Ud},Nd=3,ro=(p,l,s=Nd)=>{C.push();const e=p.x+l.x,v=p.y+l.y,g=l.heading(),h=l.mag(),t=ct.Vector.fromAngle(g-C.PI/4),u=ct.Vector.fromAngle(g+C.PI/4);t.mult(-(h/3)),u.mult(-(h/3)),C.strokeWeight(s),C.line(p.x,p.y,e,v),C.line(e,v,e+t.x,v+t.y),C.line(e,v,e+u.x,v+u.y),C.pop()};var jo=(p=>(p[p.EMPTY=0]="EMPTY",p[p.HILL=1]="HILL",p[p.UNSTABLE=2]="UNSTABLE",p[p.WALL=3]="WALL",p[p.WATER=4]="WATER",p[p.LAVA=5]="LAVA",p[p.SPAWN=6]="SPAWN",p[p.BASE=7]="BASE",p))(jo||{});class ko{constructor(l,s,e,v,g,h={}){K(this,"pos");K(this,"r");K(this,"q");K(this,"size");K(this,"collisionRadius");K(this,"vertices");K(this,"color");K(this,"wall");K(this,"canTower");K(this,"canWaterTower");K(this,"canLavaTower");K(this,"canUnit");K(this,"canWaterUnit");K(this,"isTower");K(this,"isSpawn");K(this,"isTeleporter");K(this,"teleporterType");K(this,"type");K(this,"data");K(this,"buffs");K(this,"timedBuffs");K(this,"appliedEffects");this.pos=C.createVector(l,s),this.r=e,this.q=v,this.size=g,this.collisionRadius=g*(2+C.sqrt(3))/4,this.vertices=[],this.color=h.color?C.color(h.color.levels):C.color(ds),this.wall=h.wall??!1,this.canTower=h.canTower??!0,this.canWaterTower=h.canWaterTower??!1,this.canLavaTower=h.canLavaTower??!1,this.canUnit=h.canUnit??!0,this.canWaterUnit=h.canWaterUnit??!0,this.isSpawn=h.isSpawn??!1,this.isTower=h.isTower??!1,this.isTeleporter=h.isTeleporter??!1,this.teleporterType=h.teleporterType??0,this.type=h.type??0,this.buffs=[],this.timedBuffs=[],this.appliedEffects={},this.data=h.data??{}}show(l=this.pos){C.push(),C.fill(this.color),C.stroke(10),C.strokeWeight(1),sr(l.x,l.y,this.size),C.pop()}showDebug(){if(C.push(),C.strokeWeight(3),this.data.floodPathVector&&(C.stroke(0,0,255),ro(this.pos,this.data.floodPathVector.copy().mult(.3))),this.data.floodNext&&(C.stroke(255,0,255),C.line(this.pos.x,this.pos.y,this.data.floodNext.pos.x,this.data.floodNext.pos.y),ro(this.pos,this.data.floodPathVector.copy().mult(.4))),this.data["scout-1-vector"]&&(C.stroke(0,255,255),ro(this.pos,this.data["scout-1-vector"].copy().mult(.3))),this.data["scout-1-prev"]){const l=ct.Vector.sub(C.createVector(this.data["scout-1-prev"].pos.x,this.data["scout-1-prev"].pos.y),C.createVector(this.pos.x,this.pos.y));C.stroke(255,0,0),ro(this.pos,l.copy().mult(.3))}C.pop()}preCalculateVertices(l=!1){const s=l?0:30;for(let e=0;e<6;e++){const v=C.PI/180*(s+e*60),g=this.pos.x+C.cos(v)*this.size,h=this.pos.y+C.sin(v)*this.size;this.vertices.push(C.createVector(g,h))}}applyBuff(l){this.buffs.push(l)}removeBuff(l){for(let s=0;s<this.buffs.length;s++)if(this.buffs[s].id===l){this.buffs.splice(s,1);return}}}class Fd{constructor(l,s,e,v,g={}){K(this,"midPos");K(this,"rings");K(this,"maxR");K(this,"maxQ");K(this,"midR");K(this,"midQ");K(this,"minR");K(this,"minQ");K(this,"hexSize");K(this,"xDiff");K(this,"yDiff");K(this,"wallRing");K(this,"grid");K(this,"tileTypeColors",{[0]:C.color(ds),[1]:C.color(bs),[2]:C.color(ql),[3]:C.color(Vl),[4]:C.color(Pi),[5]:C.color(Ai),[6]:C.color(Er),[7]:C.color(xs)});K(this,"neighborVectorsRQ",[C.createVector(-1,1),C.createVector(0,1),C.createVector(1,0),C.createVector(1,-1),C.createVector(0,-1),C.createVector(-1,0)]);K(this,"teleporters",{});this.midPos=C.createVector(l,s),this.rings=e,this.maxR=e*2,this.maxQ=e*2,this.midR=e,this.midQ=e,this.minR=0,this.minQ=0,this.hexSize=v,this.xDiff=C.sqrt(3)*v,this.yDiff=1.5*v,this.grid=[],this.wallRing=g.wallRing??1,this.constructGrid(g.wallRing??1)}constructGrid(l=this.wallRing){for(let s=this.minR;s<=this.maxR;s++){this.grid.push([]);for(let e=this.minQ;e<=this.maxQ;e++){const v=this.getDiffVectorFromRQ(this.midR,this.midQ,s,e);if(v.add(this.midPos),this.grid[s].push(new ko(v.x,v.y,s,e,this.hexSize,{type:0,color:this.tileTypeColors[0]})),s+e<this.rings||s+e>this.rings*3)continue;const g=l;s>=this.minR+g&&s<=this.maxR-g&&e>=this.minQ+g&&e<=this.maxQ-g&&s+e>=this.rings+g&&s+e<=this.rings*3-g||this.setBuilderTileType(this.grid[s][e],mt.WALL)}}}reConstructGrid(l=this.wallRing){this.grid=[],this.constructGrid(l)}getDiffVectorFromRQ(l,s,e,v){const g=e-l,h=v-s;return C.createVector(this.xDiff*h+this.xDiff/2*g,this.yDiff*g)}getHexVectorFromXY(l,s){const e=l-this.midPos.x,v=s-this.midPos.y,g=C.createVector(v/this.yDiff,(C.sqrt(3)/3*e-1/3*v)/this.hexSize),h=this.axialRound(g);return h.x+=this.midR,h.y+=this.midQ,h}rqVectorIsOnGrid(l,s=0){const e=l.x,v=l.y,g=s;return e>=this.minR+g&&e<=this.maxR-g&&v>=this.minQ+g&&v<=this.maxQ-g&&e+v>=this.rings+g&&e+v<=this.rings*3-g}axialRound(l){let s=C.round(l.x),e=C.round(l.y);const v=C.round(-l.x-l.y),g=C.abs(l.x-s),h=C.abs(l.y-e),t=C.abs(-l.x-l.y-v);return g>h&&g>t?s=-e-v:h>t&&(e=-s-v),C.createVector(s,e)}show(){for(let l=0;l<=this.maxR;l++)for(let s=0;s<=this.maxQ;s++)l+s<this.rings||l+s>this.rings*3||this.grid[l][s].show()}showDebug(){for(let l=0;l<=this.maxR;l++)for(let s=0;s<=this.maxQ;s++)l+s<this.rings||l+s>this.rings*3||this.grid[l][s].showDebug()}getNeighbors(l,s,e=!1){const v=e?this.getTeleporterNeighbors(l,s):[];for(let g of this.neighborVectorsRQ){const h=l+g.x,t=s+g.y;h<this.minR||h>this.maxR||t<this.minQ||t>this.maxQ||h+t<this.rings||h+t>this.rings*3||v.push(this.grid[h][t])}return v}getNeighborsArea(l,s,e){const v=[];for(let g=0;g<6;g++)for(let h=1;h<=e;h++){const t=l+this.neighborVectorsRQ[g].x*h,u=s+this.neighborVectorsRQ[g].y*h;for(let c=1;c<h;c++){const f=(g+2)%6,d=t+this.neighborVectorsRQ[f].x*c,n=u+this.neighborVectorsRQ[f].y*c;this.rqVectorIsOnGrid(C.createVector(d,n),this.wallRing)&&v.push(this.grid[d][n])}this.rqVectorIsOnGrid(C.createVector(t,u),this.wallRing)&&v.push(this.grid[t][u])}return v}getGrandNeighbors(l,s,e=0){const v=[];for(let g=0;g<6;g++){const h=l+this.neighborVectorsRQ[g].x,t=s+this.neighborVectorsRQ[g].y;for(let u=g;u<g+2;u++){const c=h+this.neighborVectorsRQ[u%6].x,f=t+this.neighborVectorsRQ[u%6].y;this.rqVectorIsOnGrid(C.createVector(c,f),e)&&v.push(this.grid[c][f])}}return v}getTeleporterNeighbors(l,s){const e=this.grid[l][s],v=[];if(!e.isTeleporter)return v;for(const g of this.teleporters[e.teleporterType])g.r===l&&g.q===s||v.push(g);return v}getAllTiles(l=!0){const s=[];for(let e=this.minR;e<=this.maxR;e++)for(let v=this.minQ;v<=this.maxQ;v++)e+v<this.rings||e+v>this.rings*3||(l||!this.grid[e][v].wall)&&s.push(this.grid[e][v]);return s}hexInArray(l,s){for(const e of s)if(e.r===l.r&&e.q===l.q)return!0;return!1}addRandomWalls(l=50,s=mt.HILL,e=1){for(let v=0;v<=this.maxR;v++)for(let g=0;g<=this.maxQ;g++)v+g<this.rings||v+g>this.rings*3||C.random(100)<l&&this.rqVectorIsOnGrid(C.createVector(v,g),e)&&this.setBuilderTileType(this.grid[v][g],s)}breakWallsInArray(l,s=mt.EMPTY){for(const e of l)this.setBuilderTileType(e,s)}aStar(l,s,e,v){const g=this.grid[l][s],h=this.getDiffVectorFromRQ(l,s,e,v);g.data={...g.data,g:0,h:h.mag(),f:h.mag(),prev:void 0};const t=this.grid[e][v],u=this.xDiff,c=u*(this.rings*2)**2;let f;const d=[g],n=[];for(;d.length>0;){f=d[0];let r=0;for(let i=1;i<d.length;i++)d[i].data.f<f.data.f&&(f=d[i],r=i);const o=this.getNeighbors(f.r,f.q);for(const i of o){if(this.hexInArray(i,n))continue;if(this.hexInArray(i,[t])){const y=[i,f];for(;f.data.prev;)y.push(f.data.prev),f=f.data.prev;return y}let a=u;if(i.canUnit||(a=c),this.hexInArray(i,d)){if(i.data.g<=f.data.g+a)continue}else i.data.h=this.getDiffVectorFromRQ(i.r,i.q,e,v).mag(),d.push(i);i.data.g=f.data.g+a,i.data.f=i.data.g+i.data.h,i.data.prev=f}d.splice(r,1),n.push(f)}return[]}resetColors(l=!0,s=C.color(ds)){for(let e=0;e<=this.maxR;e++)for(let v=0;v<=this.maxQ;v++)e+v<this.rings||e+v>this.rings*3||(l?this.grid[e][v].color=this.tileTypeColors[this.grid[e][v].type]:this.grid[e][v].color=s)}resetData(l={}){for(let s=0;s<=this.maxR;s++)for(let e=0;e<=this.maxQ;e++)s+e<this.rings||s+e>this.rings*3||(this.grid[s][e].data={...l})}resetSpecificData(l){for(let s=0;s<=this.maxR;s++)for(let e=0;e<=this.maxQ;e++)s+e<this.rings||s+e>this.rings*3||(this.grid[s][e].data[l]=null)}generateAllPathsThroughFloodFill(l,s,e=!1,v="flood",g=1e6,h=1e6){const t=`${v}Steps`,u=`${v}Next`,c=`${v}PathVector`;this.resetSpecificData("testFloodSteps"),e||(this.resetSpecificData(t),this.resetSpecificData(u),this.resetSpecificData(c));for(const f of s){const d=f;e?d.data={...d.data,testFloodSteps:0}:d.data={...d.data,testFloodSteps:0,[t]:0,[u]:d,[c]:C.createVector(0,0)};let n;const r=[d],o=[];for(;r.length>0;){n=r[0];let i=0;for(let y=1;y<r.length;y++)r[y].data.testFloodSteps<n.data.testFloodSteps&&(n=r[y],i=y);if(n.data.testFloodSteps>h)break;const a=this.getNeighbors(n.r,n.q,!0);for(const y of a){if(this.hexInArray(y,[...o,...r])||!(y.canUnit||y.canWaterUnit)||y.isTower||y.wall)continue;r.push(y);const w=ct.Vector.sub(C.createVector(n.pos.x,n.pos.y),C.createVector(y.pos.x,y.pos.y)),x=y.canUnit?1:g;(!y.data.testFloodSteps||y.data.testFloodSteps>n.data.testFloodSteps)&&(y.data.testFloodSteps=n.data.testFloodSteps+x,e||(y.data[t]=n.data[t]+x,y.data[u]=n,y.data[c]=w))}r.splice(i,1),o.push(n)}}for(const f of l)if(e){if(!f.data.testFloodSteps||f.data.testFloodSteps>g)return!1}else if(!f.data[t]||f.data[t]>g)return!1;return!0}setTileType(l,s){const e=Ka[s];l.type=s,l.color=this.tileTypeColors[s],l.wall=s===1||s===3,l.canTower=e.canTower,l.canWaterTower=e.canWaterTower,l.canLavaTower=e.canLavaTower,l.canUnit=e.canUnit,l.canWaterUnit=e.canWaterUnit}setBuilderTileType(l,s){const e=Ka[s];l.type=s,l.color=C.color(e.rgb),l.wall=s===mt.HILL||s===mt.WALL||s===mt.LAVA,l.canTower=e.canTower,l.canWaterTower=e.canWaterTower,l.canLavaTower=e.canLavaTower,l.canUnit=e.canUnit,l.canWaterUnit=e.canWaterUnit,l.isSpawn=e.isSpawn,l.isTeleporter=e.isTeleporter,l.teleporterType=e.teleporterType}addSpawnerToGrid(l){this.grid[l.r][l.q]=l}addMaouBaseToGrid(l){this.grid[l.r][l.q]=l}addTowerToGrid(l){this.grid[l.r][l.q]=l}removeTowerFromGrid(l){const s=new ko(l.pos.x,l.pos.y,l.r,l.q,l.size,{isTower:!1,data:l.data});this.setTileType(s,l.type),this.grid[l.r][l.q]=s}generateJsonableMap(){const l=[];for(const s of this.grid){const e=[];for(const v of s)e.push(v.type);l.push(e)}return l}buildMapFromJson(l,s,e){this.resetData();for(let v=0;v<this.grid.length;v++)for(let g=0;g<this.grid[v].length;g++){if(l[v][g]===mt.SPAWN&&(e.addSpawn(this.grid[v][g].pos.x,this.grid[v][g].pos.y,Ze,{gridR:v,gridQ:g}),e.waveReader.setActiveSpawners(e.spawners),this.addSpawnerToGrid(e.spawners[e.spawners.length-1])),l[v][g]===mt.BASE){const h=new gf(this.grid[v][g].pos.x,this.grid[v][g].pos.y,v,g,Ze,100);s.addBaseToMaou(h),this.addMaouBaseToGrid(h)}l[v][g],mt.TELEPORTER_ONE,this.setBuilderTileType(this.grid[v][g],l[v][g])}this.addAllTeleports()}addTeleporterToGrid(l){this.grid[l.r][l.q]=l}addAllTeleports(){for(let l=this.minR;l<=this.maxR;l++)for(let s=this.minQ;s<=this.maxQ;s++){if(l+s<this.rings||l+s>this.rings*3)continue;const e=this.grid[l][s];e.isTeleporter&&(e.teleporterType in this.teleporters||(this.teleporters[e.teleporterType]=[]),this.teleporters[e.teleporterType].push(e))}}}class Zl{constructor(l,s){K(this,"pos");K(this,"data");this.pos=l,this.data=s}}class Hn{constructor(l,s,e,v,g=2,h=10){K(this,"pos");K(this,"width");K(this,"height");K(this,"capacity");K(this,"maxDepth");K(this,"split");K(this,"list");K(this,"northEast");K(this,"southEast");K(this,"southWest");K(this,"northWest");this.pos=C.createVector(l,s),this.width=e,this.height=v,this.capacity=g,this.maxDepth=h,this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}getDir(){return[this.northEast,this.southEast,this.southWest,this.northWest]}show(){if(this.split)for(const l of this.getDir())l.show();C.push(),C.strokeWeight(1),C.stroke(Er),C.noFill(),C.rect(this.pos.x,this.pos.y,this.width,this.height),C.pop()}insert(l){this.maxDepth<=0?this.list.push(l):this.split?(this.northEast.contains(l.pos)&&this.northEast.insert(l),this.southEast.contains(l.pos)&&this.southEast.insert(l),this.southWest.contains(l.pos)&&this.southWest.insert(l),this.northWest.contains(l.pos)&&this.northWest.insert(l)):(this.list.push(l),this.list.length>this.capacity&&this.subDivide())}subDivide(){const l=this.width/2,s=this.height/2;this.northEast=new Hn(this.pos.x+l,this.pos.y,l,s,this.capacity,this.maxDepth-1),this.southEast=new Hn(this.pos.x+l,this.pos.y+s,l,s,this.capacity,this.maxDepth-1),this.southWest=new Hn(this.pos.x,this.pos.y+s,l,s,this.capacity,this.maxDepth-1),this.northWest=new Hn(this.pos.x,this.pos.y,l,s,this.capacity,this.maxDepth-1),this.split=!0;for(let e=this.list.length-1;e>=0;e--)this.insert(this.list[e]),this.list.splice(e,1)}contains(l){return l.x>=this.pos.x&&l.x<this.pos.x+this.width&&l.y>=this.pos.y&&l.y<this.pos.y+this.height}inRangeCircle(l,s){const e=s**2;if(!this.intersectsCirlce(l,e))return[];const v=[];if(this.split)for(const g of this.getDir())v.push(...g.inRangeCircle(l,s));else for(const g of this.list)Wt(g.pos,l)>e||v.push(g.data);return v}inRangeCirclePart(l,s,e,v){const g=s**2;if(!this.intersectsCirlce(l,g))return[];const h=[];if(this.split)for(const t of this.getDir())h.push(...t.inRangeCirclePart(l,s,e,v));else for(const t of this.list){if(Wt(t.pos,l)>g)continue;const u=(ct.Vector.sub(t.pos,l).heading()+C.TWO_PI)%C.TWO_PI,c=e-u;c>-v&&c<v&&h.push(t.data)}return h}inRangePath(l,s,e){const v=[],g=[],h=ct.Vector.sub(s,l),t=ct.Vector.fromAngle(h.heading()+C.PI/2);t.setMag(e),g.push(ct.Vector.add(t,l)),t.mult(-1),g.push(ct.Vector.add(t,l)),g.push(ct.Vector.add(t,s)),t.mult(-1),g.push(ct.Vector.add(t,s));const u=(h.heading()+C.TWO_PI)%C.TWO_PI;v.push(...this.inRangeCirclePart(s,e,u,C.PI/2));const c=(h.heading()+C.PI*3)%C.TWO_PI;return v.push(...this.inRangeCirclePart(l,e,c,C.PI/2)),v.push(...this.inRangeRotatedRect(g)),v}inRangeRect(l,s,e){if(!this.intersectsRect(l,s,e))return[];const v=[];if(this.split)for(const g of this.getDir())v.push(...g.inRangeRect(l,s,e));else for(const g of this.list)g.pos.x>l.x+s||g.pos.x<l.x||g.pos.y>l.y+e||g.pos.y<l.y||v.push(g.data);return v}inRangeRotatedRect(l){const s=[];if(this.split)for(const e of this.getDir())s.push(...e.inRangeRotatedRect(l));else for(const e of this.list)xn(l[0],l[1],e.pos)>0&&xn(l[1],l[2],e.pos)>0&&xn(l[2],l[3],e.pos)>0&&xn(l[3],l[0],e.pos)>0&&s.push(e.data);return s}intersectsCirlce(l,s){const e=C.createVector($a(l.x,this.pos.x,this.pos.x+this.width),$a(l.y,this.pos.y,this.pos.y+this.height));return Wt(e,l)<=s}intersectsRect(l,s,e){return!(l.x>this.pos.x+this.width||l.x+s<this.pos.x||l.y>this.pos.y+this.height||l.y+e<this.pos.y)}emptyQuadTree(){this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}}const Yt=new Hn(0,0,C.windowWidth,C.windowHeight,3,7);class cn{constructor(l,s,e,v,g,h,t={}){K(this,"origin");K(this,"pos");K(this,"prevPos");K(this,"vel");K(this,"size");K(this,"radius");K(this,"damage");K(this,"pierce");K(this,"critChance");K(this,"critMultiplier");K(this,"statuses");K(this,"lifeSpan");K(this,"color");K(this,"alreadyHitEnemyIds");K(this,"extraDamageCalc");K(this,"extraActionOnHit");K(this,"extraActionOnMove");this.origin=l,this.pos=s.copy(),this.prevPos=s.copy(),this.vel=e.copy(),this.size=v,this.radius=v/2,this.damage=g,this.pierce=t.pierce??1,this.critChance=t.critChance??0,this.critMultiplier=t.critMultiplier??2,this.statuses=t.statuses??[],this.lifeSpan=h,this.color=t.color??C.color(Gl),this.alreadyHitEnemyIds=[],this.extraDamageCalc=t.extraDamageCalc??(()=>0),this.extraActionOnHit=t.extraActionOnHit??(()=>{}),this.extraActionOnMove=t.extraActionOnMove??(()=>{})}show(){C.push();const l=this.vel.copy();l.setMag(this.size);const s=ct.Vector.add(this.pos,l.copy().mult(-.5));C.stroke(this.color),ro(s,l,2),C.pop()}showDebug(){C.stroke(this.color),C.strokeWeight(5),C.point(this.pos.x,this.pos.y)}update(){this.prevPos=this.pos.copy(),this.pos.add(this.vel);const l=Yt.inRangePath(this.prevPos,this.pos,this.size);for(const s of l)this.hit(s);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}hit(l){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(l.id))return;this.alreadyHitEnemyIds.push(l.id);const s=this.damage*(C.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(l);this.updateOriginUsageDataSingle(l,s),l.takeDamage(s);for(let e=0;e<this.statuses.length;e++)l.applyStatus(this.statuses[e]);this.extraActionOnHit({pos:this.pos,vel:this.vel,target:l}),this.pierce--}updateOriginUsageData(l,s){this.origin.usageData.totalDamageDone+=s,this.origin.usageData.unitsHit++,this.origin.usageData.highestDamageHit<s&&(this.origin.usageData.highestDamageHit=s),s>=l.hp&&(this.origin.usageData.unitsKilled++,this.origin.usageData.overkillDamageDone+=s-l.hp)}updateOriginUsageDataSingle(l,s){this.origin.usageData.totalHits++,this.updateOriginUsageData(l,s)}updateOriginUsageDataAoe(l,s){this.origin.usageData.totalHits++;for(const e of l)this.updateOriginUsageData(e,s)}}const Gd=p=>({totalDamageDone:0,totalHits:0,highestDamageHit:0,overkillDamageDone:0,unitsKilled:0,unitsHit:0,framesExists:0,totalCost:p,killsPerCost:0,damagePerCost:0,killsPerFrame:0,damagePerFrame:0,killsPerCostPerFrame:0,damagePerCoastPerFrame:0}),Vd=p=>{p.killsPerCost=C.round(p.unitsKilled/p.totalCost,2),p.damagePerCost=C.round(p.totalDamageDone/p.totalCost,2),p.killsPerFrame=C.round(p.unitsKilled/p.framesExists,2),p.damagePerFrame=C.round(p.totalDamageDone/p.framesExists,2),p.killsPerCostPerFrame=C.round(p.unitsKilled/p.totalCost/p.framesExists,2),p.damagePerCoastPerFrame=C.round(p.totalDamageDone/p.totalCost/p.framesExists,2)};var on=(p=>(p[p.CLOSEST=0]="CLOSEST",p[p.FURTHEST=1]="FURTHEST",p[p.FIRST=2]="FIRST",p[p.LAST=3]="LAST",p[p.STRONGEST=4]="STRONGEST",p[p.WEAKEST=5]="WEAKEST",p))(on||{});const Hd={name:"Closest",description:"Target the enemy closest to the tower.",function:(p,l)=>{let s=0,e=99999;for(let v=0;v<l.length;v++){const g=Wt(l[v].pos,p);g<e&&(e=g,s=v)}return l[s]}},Wd={name:"Furthest",description:"Target the enemy furthest from the tower.",function:(p,l)=>{let s=0,e=0;for(let v=0;v<l.length;v++){const g=Wt(l[v].pos,p);g>e&&(e=g,s=v)}return l[s]}},zd={name:"First",description:"Target the enemy closest to reaching the base.",function:(p,l)=>{let s=0,e=99999;for(let v=0;v<l.length;v++){const g=l[v].getCurrentTile();g.data.floodSteps<e&&(e=g.data.floodSteps,s=v)}return l[s]}},qd={name:"Last",description:"Target the enemy closest to the spawn.",function:(p,l)=>{let s=0,e=0;for(let v=0;v<l.length;v++){const g=l[v].getCurrentTile();g.data.floodSteps>e&&(e=g.data.floodSteps,s=v)}return l[s]}},Xd={name:"Strongest",description:"Target the strongest enemy.",function:(p,l)=>{let s=0,e=0;for(let v=0;v<l.length;v++){const g=l[v].hp;e<g&&(e=g,s=v)}return l[s]}},Yd={name:"Weakest",description:"Target the weakest enemy.",function:(p,l)=>{let s=0,e=99999999;for(let v=0;v<l.length;v++){const g=l[v].hp;e>g&&(e=g,s=v)}return l[s]}},Ql={[0]:Hd,[1]:Wd,[2]:zd,[3]:qd,[4]:Xd,[5]:Yd};class Zr extends ko{constructor(s,e,v,g,h,t,u,c,f,d,n,r){super(s,e,v,g,h,{color:C.color(Bl),...r});K(this,"range");K(this,"baseRange");K(this,"rangeBuffsAdditive");K(this,"name");K(this,"cooldown");K(this,"baseCooldown");K(this,"cooldownBuffsAdditive");K(this,"currentCooldown");K(this,"cost");K(this,"spendValue");K(this,"damage");K(this,"baseDamage");K(this,"damageBuffsMultiplicative");K(this,"projectileSpeed");K(this,"projectilePierce");K(this,"projectileSize");K(this,"projectileNumber");K(this,"critChance");K(this,"critMultiplier");K(this,"lastShotAngle");K(this,"targetingType");K(this,"availableTargetingTypes");K(this,"upgradesPurchased");K(this,"purchasedUpgrades");K(this,"upgrades");K(this,"projectileColor");K(this,"ultimate");K(this,"ultCooldown");K(this,"ultCurrentCooldown");K(this,"extraActionsOnHit");K(this,"extraActionsOnMove");K(this,"buffsThisApplied");K(this,"usageData");this.name=t,this.range=u,this.baseRange=u,this.rangeBuffsAdditive=[],this.cooldown=d,this.baseCooldown=d,this.cooldownBuffsAdditive=[],this.currentCooldown=d,this.cost=n,this.spendValue=r.spendValue??n,this.damage=c,this.baseDamage=c,this.damageBuffsMultiplicative=[],this.projectileSpeed=f,this.critChance=r.critChance??0,this.critMultiplier=r.critMultiplier??2,this.projectilePierce=r.projectilePierce??1,this.projectileColor=r.projectileColor??C.color(Gl),this.projectileSize=r.projectileSize??Ze*(2/3),this.projectileNumber=1,this.lastShotAngle=0,this.targetingType=on.CLOSEST,this.availableTargetingTypes=[on.CLOSEST,on.FURTHEST,on.FIRST,on.LAST,on.STRONGEST,on.WEAKEST],this.upgradesPurchased=0,this.ultimate=()=>{},this.ultCooldown=0,this.ultCurrentCooldown=0,this.purchasedUpgrades=[],this.upgrades=r.upgrades,this.extraActionsOnHit=[],this.extraActionsOnMove=[],this.buffsThisApplied=[],this.usageData=Gd(r.spendValue??n)}show(s=this.pos){C.push(),C.stroke(0),C.strokeWeight(2),C.fill(this.color),sr(s.x,s.y,this.size),this.upgradesPurchased>3&&(C.strokeWeight(1),sr(s.x,s.y,this.size-3),this.upgradesPurchased>7&&(C.stroke(0),sr(s.x,s.y,this.size-6))),this.showSymbol(s),this.shouldShowUltCooldown(),C.pop()}showSymbol(s=this.pos){}shouldShowUltCooldown(){}showUltCooldown(){if(this.ultCurrentCooldown<=0){let g=this.ultCurrentCooldown*-1%100;g>50&&(g=100-g),g/=50,C.push(),C.noFill(),C.strokeWeight(2),C.stroke(Xl(si,Mr,g)),sr(this.pos.x,this.pos.y,this.size-1),C.pop();return}const s=(this.ultCooldown-this.ultCurrentCooldown)/this.ultCooldown*6,e=C.floor(s),v=s%1;C.push(),C.noFill(),C.strokeWeight(2),C.stroke(si),Md(this.pos.x,this.pos.y,this.size-1,e,v),C.pop()}applyBuff(s){s.onApply(this),this.buffs.push(s)}applyTimedBuff(s){s.onApply(this),this.timedBuffs.push(s)}applyAllMyBuffs(){for(const s of this.buffs)s.onApply(this)}removeBuff(s){for(let e=0;e<this.buffs.length;e++)if(this.buffs[e].id===s){this.buffs[e].onRemove(this),this.buffs.splice(e,1);return}}recalcCooldownBuffs(){this.cooldown=this.baseCooldown;for(const s of this.cooldownBuffsAdditive)this.cooldown+=s}recalcRangeBuffs(){this.range=this.baseRange;for(const s of this.rangeBuffsAdditive)this.range+=s}recalcDamageBuffs(){this.damage=this.baseDamage;for(const s of this.damageBuffsMultiplicative)this.damage*=s}showRange(){if(this.range>0){const s=Xn(this.color);s.setAlpha(100),C.fill(s),C.circle(this.pos.x,this.pos.y,this.range*2)}}update(){return this.currentCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.ultCurrentCooldown--,this.handleBuffs(),this.usageData.framesExists++,!0}handleBuffs(){for(let s=this.timedBuffs.length-1;s>=0;s--){const e=this.timedBuffs[s];e.duration--,e.duration<=0&&(e.onRemove(this),this.timedBuffs.splice(s,1))}}castUlt(){this.ultCurrentCooldown>0||(this.ultCurrentCooldown=this.ultCooldown,this.ultimate())}getDamage(){return this.damage}baseShoot(){const s=Yt.inRangeCircle(this.pos,this.range);if(s.length<1)return;const e=Ql[this.targetingType].function(this.pos,s),v=this.range/this.projectileSpeed,g=e.pos.copy();for(let u=1;u<=v&&(g.add(e.vel),!(Wt(g,this.pos)<(this.projectileSpeed*u)**2));u++);const h=ct.Vector.sub(g,this.pos);return h.setMag(this.projectileSpeed),new cn(this,this.pos.copy(),h,10,this.getDamage(),v,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier})}shoot(){const s=this.baseShoot();return s===void 0?!1:(this.lastShotAngle=s.vel.heading(),it.addProjectile(s),!0)}purchaseUpgrade(s){if(!(it.gold<s.cost)){it.gold-=s.cost,s.onPurchase(this),s.purchased=!0,this.purchasedUpgrades.push(s.id);for(const e in this.upgrades){const v=this.upgrades[e];v.available=v.isAvailable(this.purchasedUpgrades)}this.spendValue+=s.cost,this.usageData.totalCost+=s.cost,this.upgradesPurchased++}}changeRange(s){this.range+=s,this.onRangeChange()}onRangeChange(){}onSell(){}increaseDamage(s){this.damage+=s,this.baseDamage+=s}increaseRange(s){this.range+=s,this.baseRange+=s}}class Re{constructor(l,s,e,v,g,h=!1){K(this,"id");K(this,"name");K(this,"cost");K(this,"description");K(this,"onPurchase");K(this,"available");K(this,"purchased");this.id=l,this.name=s,this.cost=e,this.description=v,this.onPurchase=g,this.available=h,this.purchased=!1}isAvailable(l){if(this.purchased||l.length>7)return!1;switch(this.id){case"A":case"B":case"C":return!0;case"A+":return l.includes("A");case"B+":return l.includes("B");case"C+":return l.includes("C");case"AB":return l.includes("A")&&l.includes("B");case"BC":return l.includes("B")&&l.includes("C");case"CA":return l.includes("C")&&l.includes("A");case"AB+":return l.includes("AB")||l.includes("A+")&&l.includes("B+");case"BC+":return l.includes("BC")||l.includes("B+")&&l.includes("C+");case"CA+":return l.includes("CA")||l.includes("C+")&&l.includes("A+");case"AB++":return l.includes("AB+");case"BC++":return l.includes("BC+");case"CA++":return l.includes("CA+");default:return!1}}}const Jl=(p,l,s,e=C)=>{const v=[];for(let g=0;g<8;g++){const h=e.PI/4*g;v.push(e.createVector(e.cos(h)*s,e.sin(h)*s))}e.noFill(),e.strokeWeight(1);for(let g=1;g<4;g++){e.beginShape();for(const h of v)g===1&&e.line(p,l,p+h.x,l+h.y),h.setMag(s*.3*g),e.vertex(p+h.x,l+h.y);e.endShape(e.CLOSE)}},$d=(p,l,s,e,v=C)=>{const g=ct.Vector.fromAngle(s);g.setMag(l/2);const h=ct.Vector.fromAngle(s);h.setMag(l),v.push(),v.beginShape(),v.vertex(p.x,p.y);const t=ct.Vector.add(p,g);v.vertex(t.x,t.y),h.rotate(e),t.add(h),v.vertex(t.x,t.y),h.rotate(e).mult(.5),t.add(h),v.vertex(t.x,t.y),h.rotate(v.PI*1.02),t.add(h),v.vertex(t.x,t.y),h.rotate(-e).mult(2),t.add(h),v.vertex(t.x,t.y),h.rotate(-e).mult(.5),t.add(h),v.vertex(t.x,t.y),v.endShape(v.CLOSE),v.pop()},_s=(p,l,s,e=!0,v=C,g=Er,h=0,t=8)=>{const u=s*.4,c=s/10,f=s*(3/5),d=u*2;v.push(),v.translate(p,l),v.rotate(h),v.noStroke();for(let n=0;n<2;n++)for(let r=-4;r<7;r+=3){if(t<=0)continue;const o=n*(C.PI-2*r*C.PI*.05)+r*C.PI*.05,i=v.createVector(v.cos(o)*u,v.sin(o)*u);let a=-v.PI/5;r>0&&(a*=-1),n>0&&(a*=-1),$d(i,d,o,a,v),t--}v.circle(0,-f,f),v.circle(0,0,s),v.fill(g),v.circle(-c,-d,c),v.circle(c,-d,c),e&&(v.stroke(Mr),v.strokeWeight(1),Jl(0,0,u,v)),v.pop()};class Kd extends cn{constructor(s,e,v,g,h,t,u,c,f,d={}){super(s,e,v,g,h,t,d);K(this,"hexes");K(this,"frictionSlow");K(this,"corrosion");this.pierce=u,this.hexes=c,this.frictionSlow=f,this.color=d.color??C.color(Mr),this.corrosion=d.corrosion??0}show(){C.push(),C.stroke(this.color);for(const s of this.hexes)Jl(s.pos.x,s.pos.y,s.size);C.pop()}update(){const s=[];for(const e of this.hexes){const v=Yt.inRangeCircle(e.pos,e.size);s.push(...v)}s.length>0&&this.origin.usageData.totalHits++;for(const e of s){if(this.pierce<1)break;for(const v of this.statuses)e.applyStatus(v,!0);this.updateOriginUsageData(e,this.damage),e.takeDamage(this.damage),e.friction(this.frictionSlow),this.pierce--}return this.pierce-=this.corrosion,this.pierce<1}}const ke=new Fd(C.windowWidth*Td,C.windowHeight*Cd,jd,Ze,{wallRing:Ed}),Za=(p,l,s,e=1)=>{const v=s*2/9;C.push(),C.translate(p.x,p.y),C.rotate(l.heading()),C.triangle(2*v,-v,2*v,v,3*v,0),C.fill(Mr),C.circle(0,0,s),C.pop(),C.push(),C.noStroke(),C.circle(p.x,p.y,s*e),C.pop()},fs=new Hn(0,0,C.windowWidth,C.windowHeight,3,7);class Br{constructor(l,s,e,v={}){K(this,"pos");K(this,"hexPos");K(this,"prevPos");K(this,"vel");K(this,"acc");K(this,"accumulatedFrictionMag");K(this,"futurePos");K(this,"desiredSpeed");K(this,"baseForce");K(this,"maxForce");K(this,"size");K(this,"radius");K(this,"mass");K(this,"maxHp");K(this,"hp");K(this,"damage");K(this,"goldValue");K(this,"dead");K(this,"color");K(this,"pathGoal");K(this,"id");K(this,"statuses");K(this,"level");K(this,"visionRadius");K(this,"attackRadius");K(this,"attackCooldown");K(this,"attackCurrentCooldown");K(this,"currentFlowField");K(this,"originalFlowField");K(this,"canSwim");K(this,"framesAlive");K(this,"rage");K(this,"rageTimer");K(this,"rageTimerOnRefresh");K(this,"rageForceIncreasePercent");K(this,"abilityCounters");this.pos=C.createVector(l,s),this.hexPos=C.createVector(0,0),this.prevPos=C.createVector(l,s),this.vel=C.createVector(0,0),this.acc=C.createVector(0,0),this.accumulatedFrictionMag=0,this.futurePos=C.createVector(0,0),this.desiredSpeed=v.desiredSpeed??2,this.baseForce=v.maxForce??.1,this.maxForce=this.baseForce,this.size=e,this.radius=e/2,this.mass=v.mass??1,this.maxHp=v.hp??50,this.hp=this.maxHp,this.damage=v.damage??10,this.goldValue=v.goldValue??50,this.dead=!1,this.color=v.color??C.color(Il),this.pathGoal=void 0,this.id=v.id??C.random(),this.statuses={NORMAL:[],ON_DEATH:[],PASSIVE:[],ON_TAKE_DAMAGE:[]},this.level=v.level??1,this.visionRadius=v.visionRadius??Ze*3,this.attackRadius=v.attackRadius??this.radius,this.attackCooldown=v.attackCooldown??50,this.attackCurrentCooldown=this.attackCooldown,this.currentFlowField=v.flowField??"floodNext",this.originalFlowField=v.flowField??"floodNext",this.canSwim=v.canSwim??!1,this.framesAlive=0,this.rage=0,this.rageTimer=5e3,this.rageTimerOnRefresh=500,this.rageForceIncreasePercent=.1,this.abilityCounters=[]}show(){C.push(),C.strokeWeight(2),C.stroke(0),C.fill(this.color),Za(this.pos,this.vel,this.size,C.max(this.hp/this.maxHp,0)),this.showStatusEffects(),C.pop()}showDot(){C.strokeWeight(5),C.point(this.pos.x,this.pos.y)}showDebug(){C.push(),C.strokeWeight(5),C.stroke(0,255,0),C.fill(this.color),Za(this.pos,this.vel,this.size,C.max(this.hp/this.maxHp,0)),C.pop()}update(){const l=this.getTarget();this.hexPos=ke.getHexVectorFromXY(this.pos.x,this.pos.y),l!==void 0?this.followPathAndSeekTarget(l,ke.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField):this.followPathField(ke.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField),this.checkAndApplyRage(),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.applyStatusEffects("NORMAL"),this.pos.add(this.vel),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.pos),this.acc.mult(0),this.accumulatedFrictionMag=0,this.detectCollisions(),this.detectDrowning(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(l),this.hp<=0&&this.die(),this.decreaseStatusTimers(),this.framesAlive++}applyStatusEffects(l,s={}){for(let e=this.statuses[l].length-1;e>=0;e--)this.statuses[l][e].effectUnit(this,this.statuses[l][e],s)}showStatusEffects(){const l=[];for(const g in this.statuses)l.push(...this.statuses[g]);const s=this.size/3,e=this.pos.x+(l.length/2+.5)*-s,v=C.createVector(e,this.pos.y-this.size);for(let g=l.length-1;g>=0;g--)v.x+=s,l[g].show(this,v)}decreaseStatusTimers(){for(const l in this.statuses){const s=this.statuses[l];for(let e=s.length-1;e>=0;e--){const v=s[e];v.duration--,v.duration<=0&&(this.statuses[l].splice(e,1),v.onRemoval(this))}}}applyStatus(l,s=!1){for(let v=this.statuses[l.timing].length-1;v>=0;v--)if(this.statuses[l.timing][v].name===l.name)return s?(this.statuses[l.timing][v].duration=l.duration,!0):!1;const e=l.copy();return this.statuses[l.timing].push(e),e.onApply(this),!0}edges(l=0){this.pos.x>C.width-l&&(this.pos.x-=C.width-2*l),this.pos.x<l&&(this.pos.x+=C.width-2*l),this.pos.y>C.height-l&&(this.pos.y-=C.height-2*l),this.pos.y<l&&(this.pos.y+=C.height-2*l)}bouncyEdges(l=0){this.pos.x>C.width-l&&this.vel.x>0&&(this.pos.x=C.width-l,this.vel.mult([-1,1])),this.pos.x<l&&this.vel.x<0&&(this.pos.x=l,this.vel.mult([-1,1])),this.pos.y>C.height-l&&this.vel.y>0&&(this.pos.y=C.height-l,this.vel.mult([1,-1])),this.pos.y<l&&this.vel.y<0&&(this.pos.y=l,this.vel.mult([1,-1]))}findPositionThroughEdges(l,s=0){const e=ct.Vector.sub(l,this.pos);return e.x>C.width/2-s&&(e.x-=C.width-2*s),e.x<-C.width/2+s&&(e.x+=C.width-2*s),e.y>C.height/2-s&&(e.y-=C.height-2*s),e.y<-C.height/2+s&&(e.y+=C.height-2*s),e.add(this.pos)}applyForce(l){const s=l.copy().div(this.mass);this.acc.add(s)}friction(l=.1){let s=C.min(l,1);s*=this.vel.mag()-this.accumulatedFrictionMag,this.accumulatedFrictionMag+=s}applyAccumulatedFriction(){const l=this.vel.copy();l.normalize(),l.mult(-1),l.setMag(this.accumulatedFrictionMag*this.mass),this.applyForce(l)}drag(l=1){const s=this.vel.copy();s.normalize(),s.mult(-1);const e=this.vel.mag(),v=.1;s.setMag(l*v*e*e),this.applyForce(s)}getDesire(l){const s=ct.Vector.sub(l,this.pos);return s.setMag(this.desiredSpeed),s}seek(l){const s=this.getDesire(l);return s.sub(this.vel),s.limit(this.maxForce),s}arrive(l){const s=this.getDesire(l),e=C.dist(this.pos.x,this.pos.y,l.x,l.y);return e<200&&s.setMag(C.map(e,0,200,0,this.desiredSpeed)),s.sub(this.vel),s.limit(this.maxForce),s}flee(l){const s=this.getDesire(l).mult(-1);return s.sub(this.vel),s.limit(this.maxForce),s}pursue(l){return Wt(this.pos,l.pos)>l.futurePos.mag()**2?this.seek(this.findPositionThroughEdges(l.futurePos,100)):this.seek(this.findPositionThroughEdges(l.pos,100))}evade(l){return Wt(this.pos,l.pos)>l.futurePos.mag()**2?this.flee(this.findPositionThroughEdges(l.futurePos,100)):this.flee(this.findPositionThroughEdges(l.pos,100))}catch(l){this.size/2+l.size/2>C.dist(l.pos.x,l.pos.y,this.pos.x,this.pos.y)&&(this.hp=C.min(this.maxHp,this.hp+80),l.hp-=80,l.pos.x=C.random(C.width),l.pos.y=C.random(C.height),l.die())}takeDamage(l){this.applyStatusEffects("ON_TAKE_DAMAGE",{damage:l}),this.hp-=l,this.hp<=0&&this.die()}getHeal(l){this.hp=C.min(this.maxHp,this.hp+l)}die(){this.dead||(this.dead=!0,this.applyStatusEffects("ON_DEATH"))}reachedMaou(){}getCurrentTile(){const l=ke.getHexVectorFromXY(this.pos.x,this.pos.y);return ke.rqVectorIsOnGrid(l)?ke.grid[l.x][l.y]:(this.outOfBoundsCheckAndCorrection(),this.getCurrentTile())}detectCollisions(){const l=this.getCurrentTile();if(l===void 0)return;const s=ke.getNeighbors(l.r,l.q);l.isSpawn;for(const e of[...s,l])if((e.wall||e.isSpawn)&&Wt(this.pos,e.pos)<(this.radius+e.collisionRadius)**2){const v=ct.Vector.sub(this.pos,e.pos),g=v.angleBetween(this.vel),h=ct.Vector.fromAngle(v.heading()+(C.PI-g));h.setMag(this.vel.mag()*1),this.vel.set(h),v.setMag(this.radius+e.collisionRadius),v.add(e.pos),this.pos.set(v)}}detectDrowning(){const l=this.getCurrentTile();l===void 0||!l.canWaterTower||this.drown()}drown(){this.takeDamage(this.maxHp/200),this.friction(.15)}outOfBoundsCheckAndCorrection(){const l=ke.getHexVectorFromXY(this.pos.x,this.pos.y);ke.rqVectorIsOnGrid(l)||(this.pos=this.prevPos.copy(),this.vel=C.createVector(0,0))}readPathField(l,s=this.currentFlowField){return l.data[s]?(Wt(this.pos,l.pos)<(l.collisionRadius-this.radius)**2&&(this.pathGoal=l.data[s]),this.pathGoal||(this.pathGoal=l.data[s]),this.pathGoal.pos):l.pos}followPathField(l,s=this.currentFlowField){if(this.tryTeleport(l,s))return;const v=this.readPathField(l,s),g=this.seek(v);this.applyForce(g)}tryTeleport(l,s=this.currentFlowField){if(!l.isTeleporter||!l.data[s]||!l.data[s].isTeleporter)return!1;const e=ct.Vector.sub(this.pos,l.pos),v=ct.Vector.add(l.data[s].pos,e);return this.pos=v,this.pathGoal=l.data[s].data[s],!0}getTarget(l=fs){const s=l.inRangeCircle(this.pos,this.visionRadius);if(s.length<1)return;let e=0,v=99999;for(let g=0;g<s.length;g++){const h=Wt(s[g].pos,this.pos);h<v&&(v=h,e=g)}return s[e]}seekTargetWithoutApplyForce(l){const s=this.getCurrentTile(),e=l.getCurrentTile();let v=this.seek(l.pos);if(s!==e){const g=ke.aStar(s.r,s.q,e.r,e.q);v=this.seek(g[g.length-2].pos)}return v}seekTarget(l){this.applyForce(this.seekTargetWithoutApplyForce(l))}followPathAndSeekTarget(l,s,e=this.currentFlowField){const v=this.readPathField(s,e),g=this.seek(v),h=this.seekTargetWithoutApplyForce(l),t=ct.Vector.add(g,h);t.limit(this.maxForce),this.applyForce(t)}tryAttack(l){this.attackCurrentCooldown--,l!==void 0&&(this.attackCurrentCooldown>0||Wt(this.pos,l.pos)>(gr/2+this.attackRadius)**2||(this.attack(l),this.attackCurrentCooldown=this.attackCooldown))}attack(l){l.takeDamage(this.damage)}checkAndApplyRage(){this.rageTimer--,this.rageTimer<1&&(this.rageTimer=this.rageTimerOnRefresh,this.rage++,this.maxForce=this.baseForce+this.baseForce*this.rage*this.rageForceIncreasePercent)}}class Zd extends Br{constructor(s,e,v,g={}){super(s,e,v,g);K(this,"hpLossPerFrame");this.hpLossPerFrame=g.hpLossPerFrame??.1}update(){this.hp-=this.hpLossPerFrame;const s=this.getTarget(Yt);return s!==void 0?this.seekTarget(s):this.friction(.01),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.pos),this.acc.mult(0),this.accumulatedFrictionMag=0,this.detectCollisions(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(s),this.hp<=0&&this.die(),this.hp<=0}show(){C.push(),C.fill(this.color),C.circle(this.pos.x,this.pos.y,this.size),C.pop()}}class Qd extends Zd{constructor(l,s,e,v={}){super(l,s,e,v)}show(){const l=this.vel.heading()+C.PI/2;C.push(),C.fill(this.color),_s(this.pos.x,this.pos.y,this.size,!1,C,Er,l,C.ceil(this.hp/this.maxHp*10)),C.pop()}}const eu=(p,l={})=>new Qd(p.x,p.y,gr*.4,{desiredSpeed:tr*2,maxForce:tr*.2,hp:l.hp??100,hpLossPerFrame:l.hpLoss??.1,damage:l.damage??10,mass:1,goldValue:0,color:C.color(l.color??Ft),visionRadius:l.vision??Ze*5,attackRadius:l.attackRadius??gr/2,attackCooldown:l.attackCooldown??20});class dn{constructor(l,s,e,v,g,h,t){K(this,"name");K(this,"timing");K(this,"duration");K(this,"effect");K(this,"show");K(this,"onApply");K(this,"onRemoval");this.name=l,this.duration=s,this.timing=e,this.effect=v,this.show=g,this.onApply=h??(()=>{}),this.onRemoval=t??(()=>{})}effectUnit(l,s,e){this.effect(l,s,e)}copy(){return new dn(this.name,this.duration,this.timing,this.effect,this.show,this.onApply,this.onRemoval)}}const Jd=(p=.25,l={},s="spider food")=>new dn(s,2,"ON_DEATH",e=>{C.random()<p&&it.addMinion(eu(e.pos,l))},(e,v)=>{C.fill(Ft),_s(v.x,v.y,e.size/3)},e=>{},e=>{}),Xt=Object.freeze({name:"Arachne",description:"Arachne",hotkey:"w",keycode:87,range:1,cooldown:450,cost:1e3,damage:0,projectileSpeed:0,towerType:"NORMAL",rgb:Mr,webDurability:1e3,webSlow:.25,spiderlingCooldown:250,spiderlingOnDeathChance:.2,spiderlingHp:100,spiderlingDamage:10,spiderlingHpDecay:.1,rareSpiderlingChance:0,rareSpiderlingHp:2e3,rareSpiderlingDamage:100,rareSpiderlingHpDecay:.01,showSymbol:(p,l,s={})=>{C.push(),C.fill(Ft),_s(p.x,p.y,l*.7,!1),C.pop()}});class eh extends Zr{constructor(s,e,v,g,h,t,u,c,f,d,n,r,o){super(s,e,v,g,h,Xt.name,t,u,c,f,d,o);K(this,"webDurability");K(this,"webSlow");K(this,"activeWeb");K(this,"corrosion");K(this,"spiderlingCooldown");K(this,"currentSpiderlingCooldown");K(this,"spiderlingOnDeathChance");K(this,"spiderlingHp");K(this,"spiderlingDamage");K(this,"spiderlingBaseDamage");K(this,"spiderlingHpDecay");K(this,"rareSpiderlingChance");K(this,"rareSpiderlingHp");K(this,"rareSpiderlingDamage");K(this,"rareSpiderlingBaseDamage");K(this,"rareSpiderlingHpDecay");K(this,"getWebProjectile",(s,e=this.corrosion)=>{const v=this.getStatuses();return new Kd(this,this.pos,C.createVector(0,0),this.size,this.damage,this.webDurability,this.webDurability,s,this.webSlow,{color:this.projectileColor,corrosion:e,statuses:v})});this.webDurability=n,this.webSlow=r,this.activeWeb=null,this.corrosion=0,this.spiderlingCooldown=Xt.spiderlingCooldown,this.currentSpiderlingCooldown=Xt.spiderlingCooldown,this.spiderlingOnDeathChance=Xt.spiderlingOnDeathChance,this.spiderlingHp=Xt.spiderlingHp,this.spiderlingDamage=Xt.spiderlingDamage,this.spiderlingBaseDamage=Xt.spiderlingDamage,this.spiderlingHpDecay=Xt.spiderlingHpDecay,this.rareSpiderlingChance=Xt.rareSpiderlingChance,this.rareSpiderlingHp=Xt.rareSpiderlingHp,this.rareSpiderlingDamage=Xt.rareSpiderlingDamage,this.rareSpiderlingBaseDamage=Xt.rareSpiderlingDamage,this.rareSpiderlingHpDecay=Xt.rareSpiderlingHpDecay}showSymbol(s=this.pos){C.push(),C.fill(Ft),_s(s.x,s.y,this.size*.7,!1),C.pop()}showRange(){const s=Xn(this.color);s.setAlpha(100),C.fill(s),C.circle(this.pos.x,this.pos.y,this.range*4*this.size)}update(){return this.activeWeb===null?(this.currentCooldown--,this.currentCooldown<=0&&(this.shoot(),this.currentCooldown=this.cooldown)):this.activeWeb.pierce<=0&&(this.activeWeb=null),this.ultCurrentCooldown--,this.spiderling(),this.handleBuffs(),this.usageData.framesExists++,!0}spiderling(){}spawnSpiderling(){const s=[];for(const g of ke.getNeighborsArea(this.r,this.q,this.range))g.canUnit&&s.push(g);const e=C.random(s),v=eu(e.pos,this.getSpiderlingOptions());it.addMinion(v)}getSpiderlingOptions(){const s=C.random()<this.rareSpiderlingChance;return{damage:s?this.rareSpiderlingDamage:this.spiderlingDamage,hp:s?this.rareSpiderlingHp:this.spiderlingHp,hpLoss:s?this.rareSpiderlingHpDecay:this.spiderlingHpDecay,color:s?Er:Ft}}shoot(){const s=ke.getNeighborsArea(this.r,this.q,this.range);for(let v=s.length-1;v>=0;v--)s[v].wall&&s.splice(v,1);const e=this.getWebProjectile(s);return this.activeWeb=e,it.addProjectile(e),!0}getStatuses(){return[]}getSpiderFood(){return Jd(this.spiderlingOnDeathChance,this.getSpiderlingOptions())}recalcDamageBuffs(){super.recalcDamageBuffs(),this.spiderlingDamage=this.spiderlingBaseDamage;for(const s of this.damageBuffsMultiplicative)this.spiderlingDamage*=s;this.rareSpiderlingDamage=this.rareSpiderlingBaseDamage;for(const s of this.damageBuffsMultiplicative)this.rareSpiderlingDamage*=s}}const th=(p,l={})=>new eh(p.pos.x,p.pos.y,p.r,p.q,p.size,Xt.range,Xt.damage,Xt.projectileSpeed,Xt.cooldown,Xt.cost,Xt.webDurability,Xt.webSlow,{color:C.color(Xt.rgb),projectileColor:C.color(Mr),wall:!0,isTower:!0,type:p.type,data:p.data,spendValue:l.changedCost??Xt.cost,upgrades:{A:new Re("A","Stickier webs",600,"Stickier webs slow enemies down even more.",s=>{s.webSlow+=.1},!0),B:new Re("B","Steel thread",400,"Makes your web more durable.",s=>{s.webDurability+=900},!0),C:new Re("C","Spinning talent",800,"Spin new webs faster.",s=>{s.cooldown-=150,s.baseCooldown-=150},!0),"A+":new Re("A+","Nether glue",1400,"Magic infused glue makes webs unnaturally sticky.",s=>{s.webSlow+=.15}),"B+":new Re("B+","Titanium thread",1500,"Makes your web way more durable.",s=>{s.webDurability+=1500}),"C+":new Re("C+","Spinning prodigy",1700,"Spin new webs at top speed.",s=>{s.cooldown-=150,s.baseCooldown-=150}),AB:new Re("AB","Spiky silk",1300,"How can silk be spiky?",s=>{s.increaseDamage(1)}),BC:new Re("BC","Great web",1e3,"Make your web even larger.",s=>{s.range+=1,s.baseRange+=1}),CA:new Re("CA","Spiderlings",1200,"The Arachne gives birth to spiderlings who damage and distract heroes.",s=>{s.spiderling=()=>{s.currentSpiderlingCooldown--,s.currentSpiderlingCooldown<=0&&(s.currentSpiderlingCooldown=s.spiderlingCooldown,s.spawnSpiderling())}}),"AB+":new Re("AB+","Suffocating silk",2200,"Hope you don't have claustrophobia, or arachnophobia... Increases damage",s=>{s.increaseDamage(3)}),"BC+":new Re("BC+","Greatest web",1500,"Spin your web between mountains.",s=>{s.range+=1,s.baseRange+=1}),"CA+":new Re("CA+","Brood Parasite",2e3,"Nope nope nope nope nope nope nope nope nope nope nope. (Has a chance to birth a spiderling when a hero dies in the arachnes web)",s=>{s.getStatuses=()=>[s.getSpiderFood()]}),"AB++":new Re("AB++","Corrosive silk",6600,"Silk corrodes away enemies and the web alike.",s=>{s.increaseDamage(16),s.projectileColor=C.color(Kc),s.corrosion=5}),"BC++":new Re("BC++","World wide web (Ability)",7500,"The entire world is my domain.",s=>{s.ultCooldown=Oi,s.ultCurrentCooldown=s.ultCooldown,s.ultimate=()=>{const e=ke.getAllTiles(!1);for(let v=e.length-1;v>=0;v--){const g=s.getWebProjectile([e[v]],s.corrosion+5);it.addProjectile(g)}},s.shouldShowUltCooldown=()=>{s.showUltCooldown()}}),"CA++":new Re("CA++","One Big Happy Family",6660,"These spiderlings were all raised with love and care, and only a minimal amount of cannibalism. Spawn more and stronger spiderlings, as well as rare super spiderlings every now and then. Motherhood is so fulfilling.",s=>{s.spiderlingCooldown-=100,s.spiderlingOnDeathChance+=.25,s.spiderlingHp+=150,s.spiderlingDamage+=15,s.spiderlingBaseDamage+=15,s.rareSpiderlingChance+=.01})}}),rh=0,nh=1,tu=(p,l,s,e=rh,v=nh)=>{C.push(),C.translate(p,l),C.rotate(e);const g=s/2,h={x:0,y:-g},t={x:0,y:g},u=C.createVector(-s/4,0),c=C.createVector(s*(5/6),0);C.strokeWeight(v),C.noFill(),C.line(h.x,h.y,t.x,t.y),ro(u,c,v*1.5),C.strokeWeight(v*2),C.curve(h.x-2.5*s,h.y,h.x,h.y,t.x,t.y,t.x-2.5*s,t.y),C.pop()},sn=Object.freeze({name:"Archer",description:"",hotkey:"a",keycode:65,range:Ze*6,cooldown:150,cost:200,damage:25,projectileSpeed:10,towerType:"NORMAL",rgb:sd,showSymbol:(p,l,s={angle:0})=>{tu(p.x,p.y,l,s.angle,1)}});class oh extends Zr{constructor(s,e,v,g,h,t,u,c,f,d,n){super(s,e,v,g,h,sn.name,t,u,c,f,d,n);K(this,"arrowNumber");this.arrowNumber=1}showSymbol(s=this.pos){tu(s.x,s.y,this.size,this.lastShotAngle,1)}shoot(){const s=this.baseShoot();if(s===void 0)return!1;const e=C.floor(this.arrowNumber/2)*-1;this.lastShotAngle=s.vel.heading();const v=C.PI/9;for(let g=e;g<e+this.arrowNumber;g++){const h=this.lastShotAngle+g*v,t=ct.Vector.fromAngle(h);t.setMag(s.vel.mag());const u=[];for(let f=0;f<s.statuses.length;f++)u.push(s.statuses[f].copy());const c=new cn(this,this.pos.copy(),t,s.size,s.damage,s.lifeSpan,{color:this.projectileColor,pierce:s.pierce,critChance:s.critChance,critMultiplier:s.critMultiplier,statuses:u});it.addProjectile(c)}return!0}}const sh=(p,l={})=>new oh(p.pos.x,p.pos.y,p.r,p.q,p.size,sn.range,sn.damage,sn.projectileSpeed,sn.cooldown,sn.cost,{color:C.color(sn.rgb),wall:!0,isTower:!0,type:p.type,data:p.data,spendValue:l.changedCost??sn.cost,upgrades:{A:new Re("A","Sharper Arrows",100,"Even sharper arrows deal more damage.",s=>{s.increaseDamage(15)},!0),B:new Re("B","Sunglasses",300,"You'd think the protection from the sun gives this archer a range increase, but it's really the confidence boost.",s=>{s.range+=Ze,s.baseRange+=Ze},!0),C:new Re("C","Faster firing",400,"Shorter cooldown between arrows.",s=>{s.cooldown-=40,s.baseCooldown-=40},!0),"A+":new Re("A+","Dark Arrows",700,"Arrows made from metal mined deep in the underworld. They deal alot more damage",s=>{s.increaseDamage(35),s.projectileColor=C.color(ld)}),"B+":new Re("B+","Scope",500,"How do you put a scope on a bow? Doesn't matter, more range.",s=>{s.range+=Ze*2,s.baseRange+=Ze*2}),"C+":new Re("C+","Faster firing festival",750,"Gotta go fast.",s=>{s.cooldown-=40,s.baseCooldown-=40}),AB:new Re("AB","Aimed shot",150,"Until now, aiming was more of a suggestion... Faster projectiles",s=>{s.projectileSpeed+=10}),BC:new Re("BC","Triple shot",700,"Trying to emulate some cool moves you saw eh.",s=>{s.arrowNumber+=2}),CA:new Re("CA","Line em up",250,"Three birds one arrow.",s=>{s.projectilePierce+=2}),"AB+":new Re("AB+","Great shot",1600,"Faster, further, friendlier, if by that you mean deadlier.",s=>{s.projectileSpeed+=10,s.increaseDamage(25),s.range+=Ze,s.baseRange+=Ze}),"BC+":new Re("BC+","More arrows",1e3,"More arrows more better.",s=>{s.arrowNumber+=2}),"CA+":new Re("CA+","Spot Weakspot",500,"Hit them in their weakspot for critical damage.",s=>{s.critChance+=.2,s.critMultiplier+=1}),"AB++":new Re("AB++","Charged shot",3250,"Even more powerful shot, deal bonus damage based on the time since the last shot.",s=>{s.increaseDamage(50),s.getDamage=()=>{const e=-s.currentCooldown+s.cooldown;return s.damage+e}}),"BC++":new Re("BC++","Blot out the sun",3e3,"Let them fight in the shadow.",s=>{s.arrowNumber+=13}),"CA++":new Re("CA++","Luck is also a skill",1900,"Rely entirely on luck for those nice and big numbers.",s=>{s.critChance+=.2,s.critMultiplier+=2,s.projectilePierce+=1})}});class Fo{constructor(l,s,e,v,g,h,t){K(this,"name");K(this,"id");K(this,"duration");K(this,"onApply");K(this,"onRemove");K(this,"onPurchase");K(this,"onSkillPurchase");this.name=l,this.id=t??C.random(),this.duration=h??99999,this.onApply=s,this.onRemove=e,this.onPurchase=v,this.onSkillPurchase=g}copy(l){return new Fo(this.name,this.onApply,this.onRemove,this.onPurchase,this.onSkillPurchase,l??this.id)}}const Qa=(p="FreeBarricade")=>new Fo(p,l=>{},l=>{},(l,s,e)=>(e||l.name)!==$r[_r.BARRIER].name?s:0,(l,s,e)=>s),nn=Object.freeze({name:"Barricade",description:"",hotkey:"b",keycode:66,range:0,cooldown:0,cost:50,damage:0,projectileSpeed:0,towerType:"NORMAL",rgb:nd,showSymbol:(p,l)=>{}}),Ja=(p,l={})=>new Zr(p.pos.x,p.pos.y,p.r,p.q,p.size,nn.name,nn.range,nn.damage,nn.projectileSpeed,nn.cooldown,nn.cost,{color:C.color(nn.rgb),wall:!0,isTower:!0,type:p.type,data:p.data,spendValue:l.changedCost??nn.cost,upgrades:{A:new Re("A","Nothing",0,"Still just a barrier.",s=>{},!0),B:new Re("B","Barricraze",50,"Makes building Barricades adjecent to this one free. That's crazy!",s=>{const e=ke.getNeighbors(s.r,s.q);for(const v of e){const g=Qa();v.applyBuff(g),s.buffsThisApplied.push(g)}s.onSell=()=>{const v=ke.getNeighbors(s.r,s.q);for(const g of s.buffsThisApplied)for(const h of v)h.removeBuff(g.id)}},!0),C:new Re("C","Nothing",0,"Still just a barrier.",s=>{},!0),"A+":new Re("A+","Nothing",0,"Still just a barrier.",s=>{}),"B+":new Re("B+","Barricade Town",100,"Makes every new barricade in a three tile radius free. 'Heh, this is just one small step towards the completion of my master plan.'",s=>{const e=ke.getNeighborsArea(s.r,s.q,3);for(const v of e){const g=Qa();v.applyBuff(g),s.buffsThisApplied.push(g)}s.onSell=()=>{const v=ke.getNeighborsArea(s.r,s.q,3);for(const g of s.buffsThisApplied)for(const h of v)h.removeBuff(g.id)}}),"C+":new Re("C+","Nothing",0,"Still just a barrier.",s=>{}),AB:new Re("AB","Nothing",0,"Still just a barrier.",s=>{}),BC:new Re("BC","Nothing",0,"Still just a barrier.",s=>{}),CA:new Re("CA","Nothing",0,"Still just a barrier.",s=>{}),"AB+":new Re("AB+","Nothing",0,"Still just a barrier.",s=>{}),"BC+":new Re("BC+","Nothing",0,"Still just a barrier.",s=>{}),"CA+":new Re("CA+","Nothing",0,"Still just a barrier.",s=>{}),"AB++":new Re("AB++","Nothing",0,"Still just a barrier.",s=>{}),"BC++":new Re("BC++","Nothing",0,"Still just a barrier.",s=>{}),"CA++":new Re("CA++","Nothing",0,"Still just a barrier.",s=>{})}}),ru=(p,l,s,e=0,v=C)=>{const g=s/2,h=s/3,t=84,u=v.TWO_PI/t,c=6;let f=h,d=e,n=!0;v.push(),v.stroke(Ft),v.strokeWeight(1),v.beginShape();for(let r=0;r<t;r++){n?f=g:f=h;const o=p+v.cos(d)*f,i=l+v.sin(d)*f;v.vertex(o,i),r%c===0&&(n=!n),d+=u}v.endShape(v.CLOSE),v.pop()},br={name:"Gravi-tech Tower",description:"",hotkey:"g",keycode:71,range:Ze*4,cooldown:1e3,cost:1200,damage:0,projectileSpeed:6,towerType:"NORMAL",rgb:Ro,attractionForce:.1,capacity:5,showSymbol:(p,l,s={angle:0})=>{C.fill(Hl),ru(p.x,p.y,l,s.angle)}};class ih extends Zr{constructor(s,e,v,g,h,t,u,c,f,d,n,r,o){super(s,e,v,g,h,br.name,t,u,c,f,d,o);K(this,"attractionForce");K(this,"active");K(this,"capacity");this.attractionForce=n,this.capacity=r,this.active=!0}showSymbol(s=this.pos){C.push(),C.fill(Hl),ru(s.x,s.y,this.size,this.lastShotAngle),C.pop()}update(){return this.active?(this.lastShotAngle+=.03,this.shoot()):(this.currentCooldown--,this.currentCooldown<=0&&(this.currentCooldown=this.cooldown,this.active=!0)),this.handleBuffs(),this.ultCooldown--,!0}baseShoot(){const s=Yt.inRangeCircle(this.pos,this.range);if(!(s.length<1)){for(let e=0;e<s.length;e++){const v=ct.Vector.sub(this.pos,s[e].pos).setMag(this.attractionForce*s[e].mass);s[e].applyForce(v)}s.length>this.capacity&&(this.active=!1)}}shoot(){return this.baseShoot(),!0}}const ah=(p,l={})=>new ih(p.pos.x,p.pos.y,p.r,p.q,p.size,br.range,br.damage,br.projectileSpeed,br.cooldown,br.cost,br.attractionForce,br.capacity,{color:C.color(br.rgb),projectileColor:C.color(br.rgb),projectilePierce:100,wall:!0,isTower:!0,type:p.type,data:p.data,spendValue:l.changedCost??br.cost,upgrades:{A:new Re("A","Field stabilizer",1300,"Stabilize the gravitational field to increase it's capacity to hold units.",s=>{s.capacity+=5},!0),B:new Re("B","Reserve cell",500,"By keeping a center gravity cell in reserve the tower can be restarted after failure twice as fast.",s=>{s.cooldown-=500,s.baseCooldown-=500},!0),C:new Re("C","Greater field",1e3,"Affect a slightly bigger area.",s=>{s.increaseRange(Ze/2)},!0),"A+":new Re("A+","Micromanage flow",4e3,"Strengthen the field in places with a lot of units by weakening parts that aren't being used, increasing capacity beyond it's limits.",s=>{s.capacity+=10}),"B+":new Re("B+","Placeholder",0,"Gotta think of somehing.",s=>{}),"C+":new Re("C+","Grand field",2e3,"Spread the field as far as possible without letting it collapse.",s=>{s.increaseRange(Ze)}),AB:new Re("AB","Repulsion wave",0,"Gotta.",s=>{}),BC:new Re("BC","Placeholder",0,"Gotta think of somehing.",s=>{}),CA:new Re("CA","Placeholder",0,"Gotta think of somehing.",s=>{}),"AB+":new Re("AB+","Placeholder",0,"Gotta think of somehing.",s=>{}),"BC+":new Re("BC+","Placeholder",0,"Gotta think of somehing.",s=>{}),"CA+":new Re("CA+","Placeholder",0,"Gotta think of somehing.",s=>{}),"AB++":new Re("AB++","Placeholder",0,"Gotta think of somehing.",s=>{}),"BC++":new Re("BC++","Placeholder",0,"Gotta think of somehing.",s=>{}),"CA++":new Re("CA++","Placeholder",0,"Gotta think of somehing.",s=>{})}}),lh=(p,l,s)=>{const e=s/2,v=s/4;C.push(),C.rectMode(C.CENTER),C.rect(p,l,e,e),C.rect(p,l+v,s,s/15),C.pop()},nu=(p,l,s,e=C.color(Mr))=>{const v=s/2,g=s*(1/4),h=s*(1/12),t=s*(3/4),u=s/3,c=s*(2/3),f=C.createVector(p+h,l+h),d=C.PI,n=C.createVector(f.x+C.cos(d)*h*2,f.y+C.sin(d)*h*2),r=C.createVector(f.x+C.cos(d)*h*6,f.y+C.sin(d)*h*6),o=C.PI*(3/5),i=C.createVector(f.x+C.cos(o)*g,f.y+C.sin(o)*g),a=C.PI*(11/12),y=C.createVector(f.x+C.cos(a)*h*6,f.y+C.sin(a)*h*6),w=C.PI*(5/6),x=C.createVector(f.x+C.cos(w)*c,f.y+C.sin(w)*c),_=C.PI*-4/5,T=C.createVector(f.x+C.cos(_)*h,f.y+C.sin(_)*h);C.strokeWeight(1),C.circle(f.x,f.y,v),C.beginShape(),C.vertex(n.x,n.y),C.quadraticVertex(r.x,r.y,x.x,x.y),C.quadraticVertex(y.x,y.y,i.x,i.y),C.endShape(),C.fill(ws),C.stroke(0),lh(f.x,f.y-u,t),C.fill(e),C.circle(T.x,T.y,h)},uh=-.5*C.PI,ch=C.color(Bl),el=(p,l,s)=>{const e=s/2,v=s/10,g=e-v;C.beginShape(),C.vertex(p+e,l-v),C.vertex(p-g,l-v),C.quadraticVertex(p-e,l-v,p-e,l),C.quadraticVertex(p-e,l+v,p-g,l+v),C.vertex(p+e,l+v),C.endShape(C.CLOSE)},dh=(p,l,s,e=ch,v=uh)=>{const g=s/20,h=s*(9/11),t=s/2,u=s/4;C.push(),C.translate(p,l),C.rotate(v),C.rectMode(C.CENTER),C.fill(Mr),el(0,0,s),C.rect(t,0,g,u),C.fill(e),el(-g,0,h),C.pop()},Xs=(p,l,s)=>{const e=s/2,v=e-s/4,g=e-s/6,h=C.PI/40,t=C.PI/10;let u=0,c=0,f=!0;const d=[];for(;u<C.TWO_PI;){f?c=C.random(v,g):c=C.random(g,e);const n=p+C.cos(u)*c,r=l+C.sin(u)*c;d.push(C.createVector(n,r)),u+=C.random(h,t),f=!f}return d},Ys=(p,l=C)=>{l.push(),l.noStroke(),l.beginShape();for(const s of p)l.vertex(s.x,s.y);l.endShape(l.CLOSE),l.pop()};class es{constructor(l,s,e,v,g,h,t,u){K(this,"duration");K(this,"color");K(this,"size");K(this,"pos");K(this,"vertices");K(this,"show");K(this,"onExpire");K(this,"vel");this.pos=l.copy(),this.vel=(u==null?void 0:u.copy())??C.createVector(0,0),this.size=s,this.duration=e,this.color=v,this.vertices=g,this.show=h,this.onExpire=t}update(){return this.duration--,this.show(this),this.pos.add(this.vel),this.duration<=0}}const ki=(p,l,s=5,e=C.color(lo))=>{const v=Xs(p.x,p.y,l);return new es(p,l,s,e,v,()=>{C.fill(e),Ys(v)},()=>{const h=Xs(p.x,p.y,l*.6666666666666666);return new es(p,l*(2/3),s,e,h,()=>{C.fill(e),Ys(h)},()=>{const t=Xs(p.x,p.y,l/2);return new es(p,l/2,s,e,t,()=>{C.fill(e),Ys(t)},()=>{})})})};class tl extends cn{constructor(s,e,v,g,h,t,u,c,f,d,n={}){super(s,e,v,u,f,d,n);K(this,"showAngle");K(this,"changeAngle");K(this,"zPos");K(this,"zVel");K(this,"zAcc");K(this,"explosionRadius");this.zPos=g,this.zVel=h,this.zAcc=t,this.showAngle=-C.PI/2,this.changeAngle=C.random(-C.PI/4,C.PI/4),this.explosionRadius=c}show(){C.push(),dh(this.pos.x,this.pos.y,this.size+this.zPos/(Ze*.1),this.color,this.showAngle),C.pop()}update(){return this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.zVel+=this.zAcc,this.zPos+=this.zVel,this.zPos<=0?(this.hit(),!0):(this.showAngle+=this.changeAngle,!1)}hit(){it.addVisual(ki(this.pos,this.explosionRadius*2,2,C.color(this.color)));const s=Yt.inRangeCircle(this.pos,this.explosionRadius);for(const e of s){if(this.pierce<=0)break;const v=this.damage*(C.random()<this.critChance?this.critMultiplier:1);e.takeDamage(v);for(let g=0;g<this.statuses.length;g++)e.applyStatus(this.statuses[g]);this.pierce--}}}const hh=(p,l,s,e=C)=>{const v=s/2,g=s/3,h=s/4,t=s*(3/10);e.push(),e.translate(p,l),e.stroke(Ft),e.strokeWeight(1),e.beginShape(),e.vertex(0,-v),e.quadraticVertex(g/2*1.1,-v/2*1.1,h,0),e.quadraticVertex(t,t,0,g),e.quadraticVertex(-t,t,-h,0),e.quadraticVertex(-g/2*1.1,-v/2*1.1,0,-v),e.endShape(),e.pop()},li=(p,l,s="poison")=>new dn(s,l,"NORMAL",v=>{v.takeDamage(p)},(v,g)=>{C.fill(Zc),hh(g.x,g.y,v.size/2)}),fh=(p,l,s,e=0,v=C)=>{const g=s/2,h=s/20,t=s/12,u=t*2;v.push(),v.translate(p,l),v.rotate(e),v.stroke(Ft),v.strokeWeight(1),v.beginShape(),v.vertex(u,-g),v.vertex(h,-t),v.vertex(u,-t),v.vertex(-u,g),v.vertex(-h,t),v.vertex(-u,t),v.endShape(v.CLOSE),v.pop()},ph=5,ou=(p,l,s,e=ph,v=C)=>{e%2==0&&(e+=1);let g=-v.PI/2;v.beginShape();for(let h=0;h<e;h++){g+=v.TWO_PI*(v.ceil(e/2)/e);const t=p+v.cos(g)*s,u=l+v.sin(g)*s;v.vertex(t,u)}v.endShape(v.CLOSE)},su=(p,l,s="PASSIVE")=>new dn(l,p,s,v=>{},(v,g)=>{C.push(),C.fill(Mr),C.noStroke(),ou(g.x,g.y,v.size*.3333333333333333,8),C.pop()},v=>{},v=>{}),mh=(p,l="paralysis")=>new dn(l,p,"NORMAL",e=>{e.acc.setMag(0),e.vel.setMag(0)},(e,v)=>{C.fill(zl),fh(v.x,v.y,e.size*.6666666666666666)},e=>{},e=>{e.applyStatus(su(p/2,l,"NORMAL"))}),wr=Object.freeze({name:"Plague Slinger",description:"",hotkey:"p",keycode:80,range:Ze*4,cooldown:120,cost:800,damage:10,poisonDuration:500,poisonDamage:.2,projectileSpeed:6,towerType:"NORMAL",explosionRadius:Ze,rgb:Ul,showSymbol:(p,l,s={})=>{C.fill(Ft),nu(p.x,p.y,l*1.5)}});class gh extends Zr{constructor(s,e,v,g,h,t,u,c,f,d,n,r,o,i){super(s,e,v,g,h,wr.name,t,u,d,n,r,i);K(this,"vialNumber");K(this,"poisonName");K(this,"poisonDamage");K(this,"poisonBaseDamage");K(this,"poisonDuration");K(this,"paralysisDuration");K(this,"explosionRadius");this.vialNumber=1,this.poisonName="Slinger",this.poisonDamage=c,this.poisonBaseDamage=c,this.poisonDuration=f,this.paralysisDuration=0,this.explosionRadius=o}showSymbol(s=this.pos){C.push(),C.fill(Ft),nu(s.x,s.y,this.size*1.5),C.pop()}getStatuses(){return[this.getPoison()]}getPoison(){return li(this.poisonDamage,this.poisonDuration,this.poisonName)}getParalysis(){return mh(this.paralysisDuration)}baseShoot(){const s=Yt.inRangeCircle(this.pos,this.range);if(s.length<1)return;let e=0,v=this.range**2;for(let r=0;r<s.length;r++){const o=Wt(s[r].pos,this.pos);o<v&&(v=o,e=r)}const g=s[e],h=this.getStatuses(),t=this.range/this.projectileSpeed,u=g.pos.copy();for(let r=1;r<=t;r++){u.add(g.vel);const o=Wt(u,this.pos);if(o<(this.projectileSpeed*r)**2||o>this.range*this.range)break}const c=ct.Vector.sub(u,this.pos),f=C.floor(c.mag()/this.projectileSpeed);c.setMag(this.projectileSpeed);const d=-1*(2*Ze/f);return new tl(this,this.pos.copy(),c,0,Ze,d,20,this.explosionRadius,this.getDamage(),t,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:h})}shoot(){const s=this.baseShoot();if(s===void 0)return!1;it.addProjectile(s);const e=this.vialNumber-1;this.lastShotAngle=s.vel.heading();const v=C.PI/4,g=.5;for(let h=0;h<e;h++){const t=this.lastShotAngle+C.random(-v,v),u=ct.Vector.fromAngle(t);u.setMag(s.vel.mag());const c=s.zAcc*1+C.random(-g,g),f=[];for(let n=0;n<s.statuses.length;n++)f.push(s.statuses[n].copy());const d=new tl(this,this.pos.copy(),u,s.zPos,s.zVel,c,s.size,s.explosionRadius,s.damage,s.lifeSpan,{color:this.projectileColor,pierce:s.pierce,critChance:s.critChance,critMultiplier:s.critMultiplier,statuses:f});it.addProjectile(d)}return!0}increasePoisonDamage(s){this.poisonBaseDamage+=s,this.poisonDamage+=s}recalcDamageBuffs(){super.recalcDamageBuffs(),this.poisonDamage=this.poisonBaseDamage;for(const s of this.damageBuffsMultiplicative)this.poisonDamage*=s}}const yh=(p,l={})=>new gh(p.pos.x,p.pos.y,p.r,p.q,p.size,wr.range,wr.damage,wr.poisonDamage,wr.poisonDuration,wr.projectileSpeed,wr.cooldown,wr.cost,wr.explosionRadius,{color:C.color(wr.rgb),projectileColor:C.color(Ul),projectilePierce:100,wall:!0,isTower:!0,type:p.type,data:p.data,spendValue:l.changedCost??wr.cost,upgrades:{A:new Re("A","Extra vial",300,"Poison is all in the dose, so let's dubble that shall we.",s=>{s.vialNumber+=1},!0),B:new Re("B","Vile pitcher",600,"This slinger just got promoted to pitcher in the Mad Scientist Inc. office team.",s=>{s.range+=Ze,s.baseRange+=Ze,s.projectileSpeed+=1},!0),C:new Re("C","Paralysis coating",200,"Coats the vials with a paralizing agent.",s=>{s.paralysisDuration+=16,s.getStatuses=()=>[s.getPoison(),s.getParalysis()]},!0),"A+":new Re("A+","Handful of vials",2400,"Don't worry about the costs, Mad Scientist Inc. buys all its glasswork wholesale.",s=>{s.vialNumber+=3}),"B+":new Re("B+","Mecha arm",3100,"Mechanical arms allow for even further and faster throwing.",s=>{s.explosionRadius+=Ze/5,s.range+=Ze,s.baseRange+=Ze,s.projectileSpeed+=2}),"C+":new Re("C+","Coma inducer",2e3,"Many vipers were harmed in the production of this stronger coating.",s=>{s.paralysisDuration+=24}),AB:new Re("AB","Unstable concoction",1e3,"The unstable contends of the vials react violently with the air, increasing explosion damage and radius.",s=>{s.explosionRadius+=Ze/3,s.increaseDamage(15)}),BC:new Re("BC","Mad prodigy",1700,"Works faster and deadlier than a normal prodigy.",s=>{s.cooldown-=20,s.baseCooldown-=20,s.increasePoisonDamage(.25)}),CA:new Re("CA","Antibody killer",750,"The poison aggresively attacks antibodies, increasing its duration and damage.",s=>{s.poisonDuration+=300,s.increasePoisonDamage(.1)}),"AB+":new Re("AB+","Killer combustion",1200,"Make them vials go BOOM.",s=>{s.explosionRadius+=Ze/3,s.increaseDamage(15)}),"BC+":new Re("BC+","Patented pathogen",1800,"This patented formula isn't available to any other plague slinger, and obviously better than anything those amateurs could have produced.",s=>{s.increasePoisonDamage(.3),s.poisonName=`Slinger-P${String(C.random())}`}),"CA+":new Re("CA+","Mutating virus",1200,"The virus keeps mutating, making recovery incredibly slow.",s=>{s.poisonDuration+=1200}),"AB++":new Re("AB++","BOOOOM!",4900,"Just go boom, who cares about poison.",s=>{s.projectileColor=C.color(lo),s.explosionRadius+=Ze/3,s.increaseDamage(30),s.vialNumber+=1,s.poisonDamage=0,s.poisonBaseDamage=0,s.poisonDuration=0,s.getPoison=()=>li(0,0,"Nope")}),"BC++":new Re("BC++","Unique strain",7e3,"Every vial is filled with it's own unique strain of the virus, each having it's own deadly effect on the victim. No one else could have done this, Muhahaha... ehem",s=>{s.increasePoisonDamage(.2),s.getPoison=()=>li(s.poisonDamage,s.poisonDuration,`Slinger-P-Unique-${String(C.random())}`)}),"CA++":new Re("CA++","Eternal suffering",6e3,"The virus hijacks part of it's victems DNA to become a part of them, never to be cured.",s=>{s.poisonDuration+=998e3})}}),vh=-.5*C.PI,bh=C.color(bs),iu=(p,l=!1)=>{const s=p/2,e=s-p/4,v=s-p/6,g=C.PI/20,h=C.PI/5;let t=0,u=0,c=!0;const f=[];for(;t<C.TWO_PI;){c&&l?u=C.random(e,v):u=C.random(v,s);const d=C.cos(t)*u,n=C.sin(t)*u;f.push(C.createVector(d,n)),t+=C.random(g,h),c=!c}return f},Ss=(p,l,s,e=vh,v=bh)=>{C.push(),C.translate(p,l),C.rotate(e),C.strokeWeight(1),C.stroke(Ft),C.fill(v),C.beginShape();for(const g of s)C.vertex(g.x,g.y);C.endShape(C.CLOSE),C.pop()};class au extends cn{constructor(s,e,v,g,h,t,u={}){super(s,e,v,g,h,t,u);K(this,"rockVertices");this.rockVertices=iu(g,u.spikyRocks??!1)}show(){Ss(this.pos.x,this.pos.y,this.rockVertices)}}class ui extends au{constructor(s,e,v,g,h,t,u={}){super(s,e,v,g,h,t,u);K(this,"explosionRadius");K(this,"explosionVisualDuration");K(this,"explosionColor");this.explosionRadius=u.explosionRadius??Ze/2,this.explosionVisualDuration=u.explosionVisualDuration??3,this.explosionColor=u.explosionColor??lo}hit(s){if(this.pierce<=0)return;it.addVisual(ki(this.pos,this.explosionRadius*2,this.explosionVisualDuration,C.color(this.explosionColor)));const e=Yt.inRangeCircle(this.pos,this.explosionRadius);for(const v of e){const g=this.damage*(C.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(v);v.takeDamage(g);for(let h=0;h<this.statuses.length;h++)v.applyStatus(this.statuses[h])}this.extraActionOnHit&&this.extraActionOnHit({pos:this.pos,radius:this.explosionRadius}),this.pierce--}}const lu=(p,l,s,e=0,v=bs,g=C)=>{const h=s/3,t=g.TWO_PI/5;let u=e;g.push(),g.stroke(Ft),g.strokeWeight(1),g.circle(p,l,s*1.1);for(let c=0;c<5;c++){const f=p+g.cos(u)*h,d=l+g.sin(u)*h;g.fill(v),g.circle(f,d,h),u+=t}g.pop()},wh=(p="KoboldTeamwork")=>new Fo(p,l=>{l.name===nr.name&&(l.cooldownBuffsAdditive.push(-5),l.rangeBuffsAdditive.push(Ze),l.maxSpoolHeatBuffsAdditive.push(500),l.recalcCooldownBuffs(),l.recalcRangeBuffs(),l.recalcHeatBuffs())},l=>{l.name===nr.name&&(Eo(-5,l.cooldownBuffsAdditive),Eo(Ze,l.rangeBuffsAdditive),Eo(500,l.maxSpoolHeatBuffsAdditive),l.recalcCooldownBuffs(),l.recalcRangeBuffs(),l.recalcHeatBuffs())},(l,s)=>s,(l,s)=>s),xh=(p="KoboldFriends",l=250)=>new Fo(p,s=>{s.damageBuffsMultiplicative.push(1.5),s.rangeBuffsAdditive.push(Ze*.2),s.recalcRangeBuffs(),s.recalcDamageBuffs()},s=>{Eo(1.5,s.damageBuffsMultiplicative),Eo(Ze*.2,s.rangeBuffsAdditive),s.recalcRangeBuffs(),s.recalcDamageBuffs()},(s,e)=>e,(s,e)=>e,l),nr=Object.freeze({name:"Kobold",description:"The Kobold supports your defense with its own invention, a spool driven catapult! Every shot fires faster than the last, until the spool overheats or no target can be found.",hotkey:"k",keycode:75,range:Ze*3.5,cooldown:70,lowestCooldown:20,maxSpoolHeat:400,cost:300,damage:10,projectileSpeed:5,towerType:"NORMAL",rgb:Qc,showSymbol:(p,l,s={angle:0,heat:0})=>{C.fill(Wl),lu(p.x,p.y,l,s.angle)}});class _h extends Zr{constructor(s,e,v,g,h,t,u,c,f,d,n){super(s,e,v,g,h,nr.name,t,u,c,f,d,n);K(this,"currentMaxCooldown");K(this,"lowestCooldown");K(this,"baseLowestCooldown");K(this,"lowestCooldownBuffsAdditive");K(this,"spoolHeat");K(this,"baseMaxSpoolHeat");K(this,"maxSpoolHeat");K(this,"maxSpoolHeatBuffsAdditive");K(this,"explosionRadius");K(this,"heatGenerationSpeed");K(this,"heatPerDamage");K(this,"spikyRocks");K(this,"extraDamageCalc",s=>0);this.currentMaxCooldown=f,this.lowestCooldown=nr.lowestCooldown,this.baseLowestCooldown=nr.lowestCooldown,this.lowestCooldownBuffsAdditive=[],this.spoolHeat=0,this.maxSpoolHeat=nr.maxSpoolHeat,this.baseMaxSpoolHeat=nr.maxSpoolHeat,this.maxSpoolHeatBuffsAdditive=[],this.heatGenerationSpeed=1,this.heatPerDamage=30,this.explosionRadius=Ze/2,this.spikyRocks=!1}showSymbol(s=this.pos){C.push(),C.fill(Xl(Er,Wl,this.spoolHeat/1e3)),lu(s.x,s.y,this.size,this.lastShotAngle),C.pop()}update(){return this.currentCooldown--,this.currentCooldown<=0&&(this.shoot()?(this.currentCooldown=this.currentMaxCooldown,this.spoolHeat+=C.max(this.cooldown-this.currentMaxCooldown,0)*this.heatGenerationSpeed,this.currentMaxCooldown=C.max(this.currentMaxCooldown-5,this.lowestCooldown),this.spoolHeat>this.maxSpoolHeat&&this.resetSpool()):this.resetSpool(),this.updateRange()),this.lastShotAngle-=.002*(nr.cooldown-this.currentMaxCooldown+10),this.ultCurrentCooldown--,this.handleBuffs(),!0}updateRange(){this.recalcRangeBuffs()}resetSpool(){this.currentMaxCooldown=this.cooldown,this.spoolHeat=0}getProjectile(s,e){return new au(this,this.pos.copy(),s,this.projectileSize,this.getDamage(),e,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,spikyRocks:this.spikyRocks,extraDamageCalc:this.extraDamageCalc})}baseShoot(){const s=Yt.inRangeCircle(this.pos,this.range);if(s.length<1)return;let e=0,v=this.range**2;for(let f=0;f<s.length;f++){const d=Wt(s[f].pos,this.pos);d<v&&(v=d,e=f)}const g=s[e],h=this.range/this.projectileSpeed,t=g.pos.copy();for(let f=1;f<=h&&(t.add(g.vel),!(Wt(t,this.pos)<(this.projectileSpeed*f)**2));f++);const u=ct.Vector.sub(t,this.pos);return u.setMag(this.projectileSpeed),this.getProjectile(u,h)}shoot(){const s=this.baseShoot();if(s===void 0)return!1;it.addProjectile(s);const e=this.projectileNumber-1,v=C.PI;for(let g=0;g<e;g++){const h=C.random(-v,v),t=ct.Vector.fromAngle(h);t.setMag(s.vel.mag());const u=[];for(let f=0;f<s.statuses.length;f++)u.push(s.statuses[f].copy());const c=this.getProjectile(t,s.lifeSpan);it.addProjectile(c)}return!0}recalcCooldownBuffs(){super.recalcCooldownBuffs(),this.lowestCooldown=this.baseLowestCooldown;for(const s of this.lowestCooldownBuffsAdditive)this.lowestCooldown+=s}recalcHeatBuffs(){this.maxSpoolHeat=this.baseMaxSpoolHeat;for(const s of this.maxSpoolHeatBuffsAdditive)this.maxSpoolHeat+=s}findAllConnected(){const s=[this],e=[],v=[];for(;s.length>0;){const g=s[0],h=ke.getNeighbors(g.r,g.q);for(const t of h)!t.isTower||ke.hexInArray(t,[...e,...s])||(v.push(t),t.name===this.name?s.push(t):e.push(t));e.push(g),s.splice(0,1)}return console.log(v),v}}const Sh=(p,l={})=>new _h(p.pos.x,p.pos.y,p.r,p.q,p.size,nr.range,nr.damage,nr.projectileSpeed,nr.cooldown,nr.cost,{color:C.color(nr.rgb),wall:!0,isTower:!0,type:p.type,data:p.data,spendValue:l.changedCost??nr.cost,upgrades:{A:new Re("A","Bigger Rocks",200,"Bigger rock deal more damage, and hit slightly easier. Not really rocket science is it.",s=>{s.increaseDamage(10),s.projectileSize+=Ze/4},!0),B:new Re("B","Fans",300,"The type that cools you off, not the type that brings the heat.",s=>{s.maxSpoolHeat+=200,s.baseMaxSpoolHeat+=200},!0),C:new Re("C","Balanced Speed",350,"Longest cooldown is faster, because control is king.",s=>{s.cooldown-=10,s.baseCooldown-=10},!0),"A+":new Re("A+","Spiky Rocks",550,"Hand selected spiky rocks, spikier than normal rocks, the spikiest really!",s=>{s.increaseDamage(30),s.spikyRocks=!0}),"B+":new Re("B+","Heat Sink",1200,"A giant heat sink, allowing the kobold to fire at maximum speed for a long time.",s=>{s.maxSpoolHeat+=1400,s.baseMaxSpoolHeat+=1400}),"C+":new Re("C+","Min Maxing",750,"Optimize your spool, increase both the minimum and maximum speed.",s=>{s.cooldown-=10,s.baseCooldown-=10,s.lowestCooldown-=10,s.baseLowestCooldown-=10}),AB:new Re("AB","Packing Heat",650,"Packs the rocks with explosive powder, dealing damage in a small area around the impact.",s=>{s.explosionRadius+=Ze/2,s.getProjectile=(e,v)=>new ui(s,s.pos.copy(),e,s.projectileSize,s.getDamage(),v,{color:s.projectileColor,pierce:s.projectilePierce,critChance:s.critChance,critMultiplier:s.critMultiplier,explosionRadius:s.explosionRadius,spikyRocks:s.spikyRocks,extraDamageCalc:s.extraDamageCalc})}),BC:new Re("BC","Harness the Heat",1500,"As the spool heats up the rocks get hotter and fire faster, dealing increased damage.",s=>{s.heatPerDamage-=5,s.getDamage=()=>(console.log(s.damage,s.spoolHeat,s.heatPerDamage),s.damage+s.spoolHeat/s.heatPerDamage)}),CA:new Re("CA","Bully",600,"Deal extra damage based on missing health of your target. Like the big man you are.",s=>{s.extraDamageCalc=e=>{const v=1-e.hp/e.maxHp;return s.getDamage()*v}}),"AB+":new Re("AB+","Agent of chaos",666,"Bigger explosions, extra rocks, and juicy crits, let chaos reign!",s=>{s.critChance+=.25,s.explosionRadius+=Ze/2,s.projectileNumber+=1,s.getProjectile=(e,v)=>new ui(s,s.pos.copy(),e,s.projectileSize,s.getDamage(),v,{color:s.projectileColor,pierce:s.projectilePierce,critChance:s.critChance,critMultiplier:s.critMultiplier,explosionRadius:s.explosionRadius,spikyRocks:s.spikyRocks,extraDamageCalc:s.extraDamageCalc})}),"BC+":new Re("BC+","It's a Feature",2e3,"The Kobold incorporates heat generation in all aspects of the catapults desgin, increasing heat generation, but also damage and range at higher heat.",s=>{s.heatGenerationSpeed+=1,s.heatPerDamage-=5,s.getDamage=()=>s.damage+s.spoolHeat/s.heatPerDamage,s.updateRange=()=>{s.recalcRangeBuffs(),s.range+=s.spoolHeat/500*Ze}}),"CA+":new Re("CA+","Team-up",1e3,"Helps out all adjecent Kobolds, Let's work together to stomp those pesky heroes!",s=>{const e=ke.getNeighbors(s.r,s.q);for(const v of e){const g=wh();v.applyBuff(g),s.buffsThisApplied.push(g)}s.onSell=()=>{const v=ke.getNeighbors(s.r,s.q);for(const g of s.buffsThisApplied)for(const h of v)h.removeBuff(g.id)}}),"AB++":new Re("AB++","Chaos Incarnate",2500,"More chaos! MOAR!.",s=>{s.critChance+=.1,s.critMultiplier+=1,s.explosionRadius+=Ze/2,s.projectileNumber+=2}),"BC++":new Re("BC++","Miniature Sun",6800,"The Kobold builds a giant heat sink, resembling a miniature sun, building power to an overwhelming degree, until it fails... And then you do it all over again.",s=>{s.maxSpoolHeat+=5500,s.baseMaxSpoolHeat+=5500,s.increaseDamage(10)}),"CA++":new Re("CA++","Kobold And Friends (Ability)",3350,"Together we are unstoppable! Buffs every tower connected to himself via Kobolds for a short time.",s=>{s.ultCooldown=Oi,s.ultCurrentCooldown=s.ultCooldown,s.ultimate=()=>{const e=s.findAllConnected();for(const v of e){const g=xh();v.applyTimedBuff(g)}},s.shouldShowUltCooldown=()=>{s.showUltCooldown()}})}}),Yn=(p,l,s,e=0,v=1,g=C)=>{const h=s/2,t=s/3,u=s/4,c=s*(3/10);g.push(),g.translate(p,l),g.rotate(e),g.stroke(Ft),g.strokeWeight(v),g.beginShape(),g.vertex(0,-h),g.quadraticVertex(t/2*1.1,-h/2*1.1,u,0),g.quadraticVertex(c,c,0,t),g.quadraticVertex(-c,c,-u,0),g.quadraticVertex(-t/2*1.1,-h/2*1.1,0,-h),g.endShape(),g.pop()},jh=(p,l,s,e=25,v=C.color(Oo))=>new es(p,s,e,v,[],h=>{C.push();const t=Xn(v);t.setAlpha(h.duration*10),C.stroke(t),C.strokeWeight(h.size),C.point(h.pos),C.pop()},()=>{},l);class Th extends ui{constructor(l,s,e,v,g,h,t={}){super(l,s,e,v,g,h,t),this.explosionRadius=t.explosionRadius??Ze*2}show(){C.push(),Ss(this.pos.x,this.pos.y,this.rockVertices),C.fill(this.color),Yn(this.pos.x,this.pos.y-this.size/2,this.size),C.pop()}update(){return this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.lifeSpan--,this.lifeSpan===0&&this.hit(this.lifeSpan),this.lifeSpan<=0||this.pierce<=0}}class Ch extends ko{constructor(s,e,v,g={}){super(s,e,g.gridR??0,g.gridQ??0,v,{color:C.color(Er),...g});K(this,"flat");K(this,"exitDir");K(this,"unitSize");this.flat=g.flat??!1,this.exitDir=g.exitDir??this.flat?-C.PI/6:0,this.unitSize=g.unitSize??20}spawnUnit(s={}){const e=new Br(this.pos.x,this.pos.y,this.unitSize,{color:s.color??Xn(s.color),...s});return e.vel=ct.Vector.fromAngle(this.exitDir,0),e}spawnUnitViaWaveReader(s){return s.vel=ct.Vector.fromAngle(this.exitDir,0),s}show(){C.stroke(0),C.strokeWeight(2),C.fill(this.color),sr(this.pos.x,this.pos.y,this.size,this.flat),C.ellipse(this.pos.x,this.pos.y,this.size*1.6)}update(){return!0}}const Sr=Object.freeze({name:"Berserker",discription:"The Berserker gets stronger and faster the more damage she has sustained.",hp:350,hpScaling:40,damage:40,speed:tr*1.5,force:tr*.12,attackCooldown:50,mass:1,gold:50,baseLevel:13,rgb:rd});class Eh extends Br{constructor(l,s,e,v={}){super(l,s,e,v)}update(){const l=C.min(this.maxHp/C.max(this.hp,1),4);this.desiredSpeed=Sr.speed*l,this.maxForce=Sr.force*(l*1.5),this.attackCooldown=Sr.attackCooldown/l,super.update()}}const Mh=(p,l)=>new Eh(p.x,p.y,gr,{desiredSpeed:Sr.speed,maxForce:Sr.force,hp:Sr.hp+(l-Sr.baseLevel)*Sr.hpScaling,damage:Sr.damage,goldValue:C.max(Sr.gold-(l-Sr.baseLevel),1),color:C.color(Sr.rgb)}),qr={name:"Bomber",discription:"Bombers run quickly, and deal high damage, but are a danger to their friends on death.",hp:50,hpScaling:5,damage:75,speed:tr*2,force:tr*.2,mass:1,gold:5,baseLevel:8,rgb:hs,explosionRadius:Ze};class Ah extends Br{constructor(s,e,v,g={}){super(s,e,v,g);K(this,"explosionRadius");this.explosionRadius=qr.explosionRadius}die(){if(this.dead)return;super.die();const s=Yt.inRangeCircle(this.pos,this.explosionRadius),e=fs.inRangeCircle(this.pos,this.explosionRadius),v=[...s,...e];for(const g of v){const h=this.maxHp/2;g.takeDamage(h)}it.addVisual(ki(this.pos,this.explosionRadius*2,4))}}const Rh=(p,l)=>new Ah(p.x,p.y,gr,{desiredSpeed:qr.speed,maxForce:qr.force,hp:qr.hp+(l-qr.baseLevel)*qr.hpScaling,damage:qr.damage,goldValue:C.max(qr.gold-(l-qr.baseLevel),1),color:C.color(qr.rgb)}),tn={name:"Farmer",discription:"A simple farmer, recruited to get rid of a low level threat.",hp:40,hpScaling:5,damage:10,speed:tr*1,force:tr*.1,mass:1,gold:20,baseLevel:1,rgb:id};class Ph extends Br{constructor(l,s,e,v={}){super(l,s,e,v)}}const rl=(p,l)=>new Ph(p.x,p.y,gr,{desiredSpeed:tn.speed,maxForce:tn.force,hp:tn.hp+(l-tn.baseLevel)*tn.hpScaling,damage:tn.damage,goldValue:C.max(tn.gold-(l-tn.baseLevel),1),color:C.color(tn.rgb)}),rn={name:"Swordsman",discription:"A simple swordsman, slightly trained, unlike the farmers.",hp:100,hpScaling:10,damage:20,speed:tr*1.5,force:tr*.12,mass:1,gold:30,baseLevel:3,rgb:qc};class Oh extends Br{constructor(l,s,e,v={}){super(l,s,e,v)}}const kh=(p,l)=>new Oh(p.x,p.y,gr,{desiredSpeed:rn.speed,maxForce:rn.force,hp:rn.hp+(l-rn.baseLevel)*rn.hpScaling,damage:rn.damage,goldValue:C.max(rn.gold-(l-rn.baseLevel),1),color:C.color(rn.rgb)}),Hr={name:"Heavy Weight",discription:"A heavy unit, moves slowly, but with great bulk comes great health.",hp:500,hpScaling:80,damage:25,speed:tr*.8,force:tr*.05,mass:2,gold:50,baseLevel:6,rgb:ed};class Lh extends Br{constructor(l,s,e,v={}){super(l,s,e,v)}}const Dh=(p,l)=>new Lh(p.x,p.y,gr,{desiredSpeed:Hr.speed,maxForce:Hr.force,hp:Hr.hp+(l-Hr.baseLevel)*Hr.hpScaling,damage:Hr.damage,mass:Hr.mass,goldValue:C.max(Hr.gold-(l-Hr.baseLevel),1),color:C.color(Hr.rgb)}),cr={name:"Paladin",discription:"A heavyly armored holy warrior, heals himself by the blessing of the divine.",hp:2500,hpScaling:200,damage:250,speed:tr*.6,force:tr*.25,mass:2.5,gold:150,baseLevel:10,healBy:2,healScaling:.5,healCooldown:10,rgb:td};class Ih extends Br{constructor(s,e,v,g={}){super(s,e,v,g);K(this,"currentHealCooldown");K(this,"healCooldown");K(this,"healBy");this.currentHealCooldown=cr.healCooldown,this.healCooldown=cr.healCooldown,this.healBy=g.healAmount,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.healSelf())}healSelf(){this.getHeal(this.healBy)}}const Bh=(p,l)=>new Ih(p.x,p.y,gr,{desiredSpeed:cr.speed,maxForce:cr.force,hp:cr.hp+(l-cr.baseLevel)*cr.hpScaling,damage:cr.damage,mass:cr.mass,goldValue:C.max(cr.gold-(l-cr.baseLevel),1),color:C.color(cr.rgb),healAmount:cr.healBy+(l-cr.baseLevel)*cr.healScaling}),Wr={name:"Rusher",discription:"Rushers sprint right through your defenses.",hp:700,hpScaling:50,damage:30,speed:tr*3.2,force:tr*.4,mass:.75,gold:40,baseLevel:16,rgb:zl};class Uh extends Br{constructor(l,s,e,v={}){super(l,s,e,v)}}const uu=(p,l,s=!1)=>new Uh(p.x,p.y,gr,{desiredSpeed:Wr.speed,maxForce:Wr.force,hp:Wr.hp+(l-Wr.baseLevel)*Wr.hpScaling,damage:Wr.damage,mass:Wr.mass,goldValue:s?0:C.max(Wr.gold-(l-Wr.baseLevel),1),color:C.color(Wr.rgb)}),dr={name:"Healer",discription:"The Healer heals everyone in around them.",hp:500,hpScaling:30,damage:10,speed:tr*1.3,force:tr*.1,mass:1,gold:40,baseLevel:17,healAmount:50,healScaling:2,healCooldown:100,healRange:Ze*4,rgb:Jc};class Nh extends Br{constructor(s,e,v,g={}){super(s,e,v,g);K(this,"currentHealCooldown");K(this,"healCooldown");K(this,"healAmount");K(this,"healRange");this.currentHealCooldown=dr.healCooldown,this.healCooldown=dr.healCooldown,this.healAmount=g.healAmount,this.healRange=dr.healRange,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.heal())}heal(){const s=Yt.inRangeCircle(this.pos,this.healRange);for(const e of s)e.getHeal(this.healAmount)}}const Fh=(p,l)=>new Nh(p.x,p.y,gr,{desiredSpeed:dr.speed,maxForce:dr.force,hp:dr.hp+(l-dr.baseLevel)*dr.hpScaling,damage:dr.damage,goldValue:C.max(dr.gold-(l-dr.baseLevel),1),color:C.color(dr.rgb),healAmount:dr.healAmount+(l-dr.baseLevel)*dr.healScaling}),xr={name:"Summoner",discription:"Slow moving unit that summons rushers as long as she lives.",hp:8e3,hpScaling:100,damage:100,speed:tr*.5,force:tr*.3,mass:2,gold:200,baseLevel:20,summonCooldown:120,rgb:ad};class Gh extends Br{constructor(s,e,v,g={}){super(s,e,v,g);K(this,"currentSummonCooldown");K(this,"summonCooldown");this.currentSummonCooldown=xr.summonCooldown,this.summonCooldown=xr.summonCooldown,this.abilityCounters=["currentSummonCooldown"]}update(){super.update(),this.currentSummonCooldown--,this.currentSummonCooldown<=0&&(this.currentSummonCooldown=this.summonCooldown,this.summonRusher())}summonRusher(){er.units.push(uu(this.pos.copy(),this.level,!0))}}const Vh=(p,l)=>new Gh(p.x,p.y,gr,{desiredSpeed:xr.speed,maxForce:xr.force,hp:xr.hp+(l-xr.baseLevel)*xr.hpScaling,damage:xr.damage,mass:xr.mass,goldValue:C.max(xr.gold-(l-xr.baseLevel),1),color:C.color(xr.rgb),level:l});var ut=(p=>(p[p.FARMER=0]="FARMER",p[p.SWORDSMAN=1]="SWORDSMAN",p[p.HEAVYWEIGHT=2]="HEAVYWEIGHT",p[p.BOMBER=3]="BOMBER",p[p.PALADIN=4]="PALADIN",p[p.BERSERKER=5]="BERSERKER",p[p.RUSHER=6]="RUSHER",p[p.HEALER=7]="HEALER",p[p.SUMMONER=8]="SUMMONER",p))(ut||{});class Hh{constructor(){}static getUnit(l,s,e){switch(l){case ut.FARMER:return rl(s,e);case ut.SWORDSMAN:return kh(s,e);case ut.HEAVYWEIGHT:return Dh(s,e);case ut.BOMBER:return Rh(s,e);case ut.PALADIN:return Bh(s,e);case ut.BERSERKER:return Mh(s,e);case ut.RUSHER:return uu(s,e);case ut.HEALER:return Fh(s,e);case ut.SUMMONER:return Vh(s,e);default:console.log("Wrong input");break}return rl(s,e)}}const cu={wave:[],message:"First come just some lowly Farmers, should be no issue."};for(let p=0;p<10;p++)cu.wave.push({unit:ut.FARMER,cooldown:100});const du={wave:[],message:"More of the same thing, just slightly closer together."};for(let p=0;p<12;p++)du.wave.push({unit:ut.FARMER,cooldown:60});const hu={wave:[],message:"Swordsmen are slightly stronger than farmers, still though, no self respecting overlord should be having issues at this point."};for(let p=0;p<10;p++)hu.wave.push({unit:ut.SWORDSMAN,cooldown:90});const ci={wave:[],message:"This time they're both coming at you."};for(let p=0;p<6;p++){for(let l=0;l<2;l++)ci.wave.push({unit:ut.FARMER,cooldown:25});ci.wave.push({unit:ut.SWORDSMAN,cooldown:100})}const di={wave:[],message:"Those cowardly Farmers think they're safer in groups. Let's show them how wrong they are."};for(let p=0;p<6;p++){for(let l=0;l<5;l++)di.wave.push({unit:ut.FARMER,cooldown:5});di.wave.push({unit:ut.FARMER,cooldown:140})}const wn={wave:[],message:"The first Heavyweights are about to show up, they can take a hit, but are vulnerable to slow and push effects."};for(let p=0;p<2;p++)wn.wave.push({unit:ut.HEAVYWEIGHT,cooldown:120}),wn.wave.push({unit:ut.HEAVYWEIGHT,cooldown:140}),wn.wave.push({unit:ut.SWORDSMAN,cooldown:20}),wn.wave.push({unit:ut.SWORDSMAN,cooldown:20}),wn.wave.push({unit:ut.SWORDSMAN,cooldown:120});wn.wave.push({unit:ut.HEAVYWEIGHT,cooldown:120});wn.wave.push({unit:ut.HEAVYWEIGHT,cooldown:120});const fu={wave:[],message:"So many Swordsmen almost make an army. Good thing overlords make a business out of squasing those."};for(let p=0;p<25;p++)fu.wave.push({unit:ut.SWORDSMAN,cooldown:25});const ts={wave:[],message:"Those Bombers carry explosives to blow up our base, but if you blow them up they'll damage their own allies."};for(let p=0;p<20;p++)ts.wave.push({unit:ut.FARMER,cooldown:6}),ts.wave.push({unit:ut.BOMBER,cooldown:12}),ts.wave.push({unit:ut.BOMBER,cooldown:6});const rs={wave:[],message:"Next is a nice mix of lots of weaklings and a few strong ones."};for(let p=0;p<7;p++){rs.wave.push({unit:ut.HEAVYWEIGHT,cooldown:7});for(let l=0;l<9;l++)rs.wave.push({unit:ut.FARMER,cooldown:14});rs.wave.push({unit:ut.FARMER,cooldown:7})}const pu={wave:[],message:"A bonefide Paladin has heard of the 'evil' you've been up to, and has decided that should end. Look out for his divine blessing which slowly regenerates his health."};pu.wave.push({unit:ut.PALADIN,cooldown:10});const mu={wave:[],message:"That's a lot of Swordsmen. They never learn do they."};for(let p=0;p<75;p++)mu.wave.push({unit:ut.SWORDSMAN,cooldown:6});const ns={wave:[],message:"Groups of heavies are a pain, but I bet you could use those bombers to your advantage."};for(let p=0;p<5;p++){for(let l=0;l<4;l++)ns.wave.push({unit:ut.HEAVYWEIGHT,cooldown:4});ns.wave.push({unit:ut.HEAVYWEIGHT,cooldown:140});for(let l=0;l<10;l++)ns.wave.push({unit:ut.BOMBER,cooldown:20})}const hi={wave:[],message:"Berserkers turn pain into pleasure, uhh, I mean, into a rage they use to rush right through your defenses."};for(let p=0;p<15;p++)hi.wave.push({unit:ut.BERSERKER,cooldown:10}),hi.wave.push({unit:ut.BERSERKER,cooldown:70});const fi={wave:[],message:"Next wave benefits from those sweet big hits me thinks."};for(let p=0;p<25;p++)fi.wave.push({unit:ut.BERSERKER,cooldown:12}),fi.wave.push({unit:ut.HEAVYWEIGHT,cooldown:12});const pi={wave:[],message:"Slow and high health, this wave takes a while."};for(let p=0;p<3;p++){pi.wave.push({unit:ut.PALADIN,cooldown:150});for(let l=0;l<8;l++)pi.wave.push({unit:ut.HEAVYWEIGHT,cooldown:80})}const gu={wave:[],message:"The first Rushers are about to show, they are a bit hard to deal with, but a few good hits should do the trick."};for(let p=0;p<20;p++)gu.wave.push({unit:ut.RUSHER,cooldown:50});const os={wave:[],message:"Those Swordsmen mobs are still not giving up. This time they brought some Healers along."};for(let p=0;p<4;p++){os.wave.push({unit:ut.HEALER,cooldown:25});for(let l=0;l<9;l++)os.wave.push({unit:ut.SWORDSMAN,cooldown:15});os.wave.push({unit:ut.SWORDSMAN,cooldown:120})}const ss={wave:[],message:"Don't let those Healers do their thing!"};for(let p=0;p<8;p++)ss.wave.push({unit:ut.HEALER,cooldown:10}),ss.wave.push({unit:ut.HEAVYWEIGHT,cooldown:10}),ss.wave.push({unit:ut.HEALER,cooldown:60});const To={wave:[],message:"Rushers and Berserkers, it's a hectic round."};for(let p=0;p<7;p++)To.wave.push({unit:ut.BERSERKER,cooldown:15}),To.wave.push({unit:ut.RUSHER,cooldown:30}),To.wave.push({unit:ut.RUSHER,cooldown:30}),To.wave.push({unit:ut.RUSHER,cooldown:15});const yu={wave:[],message:"Best kill this Summoner quickly if you don't want to be overrun."};yu.wave.push({unit:ut.SUMMONER,cooldown:10});const nl={1:cu,2:du,3:hu,4:ci,5:di,6:wn,7:fu,8:ts,9:rs,10:pu,11:mu,12:ns,13:hi,14:fi,15:pi,16:gu,17:os,18:ss,19:To,20:yu},Wh=p=>p in nl?nl[p]:-1,vu="waveDone",bu="waveUpdated";class zh{constructor(){K(this,"currentCooldown");K(this,"spawns");K(this,"currentSpawn");K(this,"currentWave");K(this,"currentMessage");K(this,"nextWaveSpawnIndex");K(this,"currentWaveNumber");K(this,"baseWaveReward");K(this,"flatWaveReward");this.currentCooldown=10,this.spawns=[],this.currentSpawn=0,this.currentWaveNumber=0,this.nextWaveSpawnIndex=0,this.baseWaveReward=250,this.flatWaveReward=1e3,this.currentWave=[],this.currentMessage="",this.startNextWave()}update(){const l=this.currentWave[this.nextWaveSpawnIndex];if(l===void 0)return vu;if(this.currentCooldown--,this.currentCooldown>0)return bu;const s=Hh.getUnit(l.unit,this.spawns[this.currentSpawn].pos,this.currentWaveNumber);return this.nextWaveSpawnIndex++,this.currentCooldown=l.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,s}setActiveSpawners(l){this.spawns=l,this.currentSpawn=0}startNextWave(){this.currentWaveNumber++;const l=Wh(this.currentWaveNumber);l===-1?(this.currentWave=this.generateRandomWave(),this.currentMessage="Random waves from now on. How far can you get?"):(this.currentWave=l.wave,this.currentMessage=l.message)}generateRandomWave(){const l=Object.keys(ut).length/2,s=120,e=[];let v=this.currentWaveNumber**2*100;for(;v>0;){const g={unit:Math.floor(Math.random()*l),cooldown:C.max(Math.ceil(Math.random()*s-e.length),2)},h=g.unit**2*10+(s-g.cooldown);e.push(g),v-=h}return e}endWave(){return this.nextWaveSpawnIndex=0,this.currentCooldown=10,this.flatWaveReward}getMessage(){return this.currentMessage}}class qh{constructor(l={}){K(this,"units");K(this,"spawners");K(this,"spawnSize");K(this,"spawnFlat");K(this,"unitSize");K(this,"color");K(this,"nextId");K(this,"waveReader");this.units=[],this.spawners=[],this.spawnSize=l.spawnSize??32,this.spawnFlat=l.spawnFlat??!1,this.unitSize=l.unitSize??20,this.color=l.color??C.color(Ro),this.nextId=0,this.waveReader=new zh}addSpawn(l,s,e=this.spawnSize,v={}){this.spawners.push(new Ch(l,s,e,{unitSize:this.unitSize,flat:this.spawnFlat,color:this.color,...v}))}addUnit(l={}){const s=l.fromSpawn??C.floor(C.random(this.spawners.length));this.spawners[s]!==void 0&&(this.units.push(this.spawners[s].spawnUnit({color:l.color,id:this.nextId,...l})),this.nextId++)}addUnitViaWaveReader(l,s={}){const e=s.fromSpawn??C.floor(C.random(this.spawners.length));this.spawners[e]!==void 0&&(this.units.push(this.spawners[e].spawnUnitViaWaveReader(l)),this.nextId++)}update(){this.updateWaveReader(),this.updateSpawns(),this.updateUnits()}updateSpawns(){for(let l=this.spawners.length-1;l>=0;l--)this.spawners[l].update()}updateUnits(){for(let l=this.units.length-1;l>=0;l--)this.units[l].update()}show(){this.showSpawns(),this.showUnits()}showSpawns(){for(let l=this.spawners.length-1;l>=0;l--)this.spawners[l].show()}showUnits(){for(let l=this.units.length-1;l>=0;l--)this.units[l].show()}updateAndShow(){const l=this.updateWaveReader();return this.updateAndShowSpawns(),this.updateAndShowUnits(),l}updateAndShowSpawns(){for(let l=this.spawners.length-1;l>=0;l--)this.spawners[l].update(),this.spawners[l].show()}updateAndShowUnits(){for(let l=this.units.length-1;l>=0;l--)this.units[l].update(),this.units[l].show();Yt.emptyQuadTree();for(let l=this.units.length-1;l>=0;l--){const s=this.units[l];it.unitReachedBase(s,ke)?this.units.splice(l,1):s.dead?(it.unitDied(s),this.units.splice(l,1)):Yt.insert(new Zl(s.pos,s))}}updateWaveReader(){const l=this.waveReader.update();if(l===vu){if(this.units.length===0){const s=this.waveReader.endWave();return this.waveReader.startNextWave(),it.gold+=s,!0}}else l!==bu&&this.addUnitViaWaveReader(l);return!1}}const Xh=new qh({color:C.color(Er),spawnSize:Ze,unitSize:gr}),er=Xh;class Yh extends cn{constructor(s,e,v,g,h,t,u={}){super(s,e,v,g,h,t,u);K(this,"width");K(this,"corners");this.width=u.width??3,this.corners=[],this.setCorners()}setCorners(){const s=this.vel.heading(),e=this.vel.copy();e.setMag(-this.size/2);const v=ct.Vector.fromAngle(s+C.PI/2);v.setMag(this.width*this.size/2),this.corners.push(ct.Vector.add(v,e)),v.mult(-1),this.corners.push(ct.Vector.add(v,e)),e.mult(-1),this.corners.push(ct.Vector.add(v,e)),v.mult(-1),this.corners.push(ct.Vector.add(v,e))}show(){const s=this.vel.heading(),e=ct.Vector.fromAngle(s+C.PI/2),v=s-C.PI/2;C.push(),C.strokeWeight(1),C.fill(this.color);for(let g=this.width-1;g>=0;g--)for(let h=0;h<2;h++){e.setMag(this.size/2*-g);const t=this.pos.x+e.x+C.random(-this.size/16,this.size/16),u=this.pos.y+e.y+C.random(-this.size/16,this.size/16);Yn(t,u,this.size,v)}C.pop()}update(){this.prevPos=this.pos.copy(),this.pos.add(this.vel);const s=[];for(const v of this.corners)s.push(C.createVector(v.x+this.pos.x,v.y+this.pos.y));const e=Yt.inRangeRotatedRect(s);for(const v of e)this.hit(v);return this.extraActionOnMove({pos:this.pos,corners:s}),this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}}const $h=(p,l,s,e="burn")=>new dn(e,l,"NORMAL",g=>{g.takeDamage(p);const h=ct.Vector.random2D().setMag(C.min(g.maxForce,g.desiredSpeed)*s);g.vel.add(h)},(g,h)=>{C.fill(Oo),Yn(h.x,h.y,g.size/2)},g=>{},g=>{});class wu extends cn{constructor(l,s,e,v,g,h,t={}){super(l,s,e,v,g,h,t),this.color=t.color??C.color(Oo)}show(){C.push(),C.noStroke(),C.fill(this.color);let l=C.PI/2;for(let s=0;s<6;s++){l+=C.PI/3;const e=this.pos.x+C.cos(l)*this.size*2/3,v=this.pos.y+C.sin(l)*this.size*2/3;Yn(e,v,this.size/2,0,0)}Yn(this.pos.x,this.pos.y,this.size/2,0,0),C.pop()}update(){const l=Yt.inRangeCircle(this.pos,this.size);for(const s of l){if(this.lifeSpan<1)break;s.takeDamage(this.damage);for(const e of this.statuses)s.applyStatus(e);this.lifeSpan--}if(this.lifeSpan-=10,this.lifeSpan<1){const s=ke.getHexVectorFromXY(this.pos.x,this.pos.y),e=ke.grid[s.x][s.y];delete e.appliedEffects.burningLand}return this.lifeSpan<1}}const Tt=Object.freeze({name:"Pyromaniac",description:"The Pyromaniac lets loose various fire attacks to burn your enemies to a crisp.",hotkey:"f",keycode:70,range:Ze*2.5,wallRange:Ze*5,cometRange:Ze*6,flameThrowerAngle:C.PI/6,cooldown:1,cometCooldown:500,wallCooldown:200,cost:1600,damage:1,wallDamage:30,cometDamage:400,cometExplosionRadius:Ze*2,baseWallSize:Ze*.6,wallWidthMultiplier:3,wallPierce:8,pushForce:2,projectileSpeed:2,towerType:"NORMAL",burnDamage:1,burnDuration:20,burnPanicSpeedIncrease:1.5,burningLandLifespan:1500,rgb:Er,flameRgb:Oo,showSymbol:(p,l,s={angle:0})=>{C.push(),C.fill(Oo),Yn(p.x,p.y,l),C.pop()}});class Kh extends Zr{constructor(s,e,v,g,h,t,u,c,f,d,n){super(s,e,v,g,h,Tt.name,t,u,c,f,d,n);K(this,"cometCooldown");K(this,"currentCometCooldown");K(this,"wallCooldown");K(this,"currentWallCooldown");K(this,"flameThrowerAngle");K(this,"fireColor");K(this,"flameColor");K(this,"wallRange");K(this,"baseWallRange");K(this,"cometRange");K(this,"baseCometRange");K(this,"wallDamage");K(this,"baseWallDamage");K(this,"cometDamage");K(this,"baseCometDamage");K(this,"cometExplosionRadius");K(this,"baseWallSize");K(this,"wallWidthMultiplier");K(this,"wallPierce");K(this,"ultInProgress");K(this,"burnDamage");K(this,"baseBurnDamage");K(this,"burnDuration");K(this,"burnPanicSpeedIncrease");K(this,"pushForce");K(this,"extraDamageCalc",s=>0);K(this,"extraActionOnHit",s=>{for(let e of this.extraActionsOnHit)e(s)});K(this,"extraActionOnMove",s=>{for(let e of this.extraActionsOnMove)e(s)});this.cometCooldown=Tt.cometCooldown,this.currentCometCooldown=Tt.cometCooldown,this.wallCooldown=Tt.wallCooldown,this.currentWallCooldown=Tt.wallCooldown,this.flameThrowerAngle=Tt.flameThrowerAngle,this.fireColor=Tt.rgb,this.flameColor=Tt.flameRgb,this.wallRange=Tt.wallRange,this.baseWallRange=Tt.wallRange,this.cometRange=Tt.cometRange,this.baseCometRange=Tt.cometRange,this.wallDamage=Tt.wallDamage,this.baseWallDamage=Tt.wallDamage,this.cometDamage=Tt.cometDamage,this.baseCometDamage=Tt.cometDamage,this.cometExplosionRadius=Tt.cometExplosionRadius,this.baseWallSize=Tt.baseWallSize,this.wallWidthMultiplier=Tt.wallWidthMultiplier,this.wallPierce=Tt.wallPierce,this.burnDamage=Tt.burnDamage,this.baseBurnDamage=Tt.burnDamage,this.burnDuration=Tt.burnDuration,this.burnPanicSpeedIncrease=Tt.burnPanicSpeedIncrease,this.pushForce=Tt.pushForce,this.ultInProgress=0}showSymbol(s=this.pos){C.push(),C.fill(this.flameColor),Yn(s.x,s.y,this.size),C.pop()}showRange(){C.push();let s=85;s=this.showCometRange(s),s=this.showWallRange(s);const e=Xn(this.color);e.setAlpha(s),C.fill(e),C.circle(this.pos.x,this.pos.y,this.range*2),C.pop()}showWallRange(s){return s}showCometRange(s){return s}update(){return this.currentCooldown--,this.currentWallCooldown--,this.currentCometCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.currentWallCooldown<=0&&this.baseWall()&&(this.currentWallCooldown=this.wallCooldown),this.currentCometCooldown<=0&&this.baseComet()&&(this.currentCometCooldown=this.cometCooldown),this.progressUlt(),this.ultCurrentCooldown--,this.handleBuffs(),!0}baseShoot(){const s=Yt.inRangeCircle(this.pos,this.range);if(s.length<1)return;let e=0,v=this.range**2;for(let u=0;u<s.length;u++){const c=Wt(s[u].pos,this.pos);c<v&&(v=c,e=u)}const g=s[e],h=(ct.Vector.sub(g.pos,this.pos).heading()+C.TWO_PI)%C.TWO_PI;this.addFlameThrowerParticlesToMaou(h,8);const t=this.getStatuses();for(let u=0;u<s.length;u++){const c=(ct.Vector.sub(s[u].pos,this.pos).heading()+C.TWO_PI)%C.TWO_PI,f=h-c;if(f>-this.flameThrowerAngle&&f<this.flameThrowerAngle){s[u].takeDamage(this.getFlameThrowerDamage());for(let d=0;d<t.length;d++)s[u].applyStatus(t[d]);this.flameThrowerPush(s[u])}}this.burningLand(g,h)}shoot(){return this.baseShoot(),!0}burningLand(s,e){}applyBurningLand(s,e){const v=ke.getHexVectorFromXY(s.pos.x,s.pos.y),g=ke.grid[v.x][v.y],h=[...ke.getNeighborsArea(g.r,g.q,2),g];for(let t=0;t<h.length;t++){const u=(ct.Vector.sub(h[t].pos,this.pos).heading()+C.TWO_PI)%C.TWO_PI,c=e-u;Wt(this.pos,h[t].pos)<this.range**2&&c>-this.flameThrowerAngle&&c<this.flameThrowerAngle&&this.applyBurningLandToTile(h[t])}}applyBurningLandToTile(s){if(!s.canUnit||s.isTower||s.appliedEffects.burningLand)return;const e=this.getBurningTileProjectile(s.pos,Tt.burningLandLifespan);it.addProjectile(e),s.appliedEffects.burningLand=e}flameThrowerPush(s){}applyFlameThrowerPush(s){const e=ct.Vector.sub(s.pos,this.pos).setMag(.02*this.pushForce);s.applyForce(e)}baseComet(){return!0}shootComet(){const s=Yt.inRangeCircle(this.pos,this.cometRange);if(s.length<1)return!1;let e=0,v=0;for(let h=0;h<s.length;h++){const t=s[h].hp;v<t&&(v=t,e=h)}const g=s[e];return this.shootCometAtTarget(g),!0}shootCometAtTarget(s){const e=s.pos.copy(),v=30;e.add(ct.Vector.mult(s.vel,v));const g=C.createVector(C.windowHeight/4,-C.windowWidth).add(e),h=ct.Vector.sub(e,g);h.mult(1/v);const t=this.getCometProjectile(h,g,v);it.addProjectile(t)}progressUlt(){}baseWall(){return!0}shootWall(){const s=Yt.inRangeCircle(this.pos,this.wallRange);if(s.length<1)return!1;let e=0,v=this.range**2;for(let f=0;f<s.length;f++){const d=Wt(s[f].pos,this.pos);d<v&&(v=d,e=f)}const g=s[e],h=this.wallRange*1.5/this.projectileSpeed,t=g.pos.copy();for(let f=1;f<=h&&(t.add(g.vel),!(Wt(t,this.pos)<(this.projectileSpeed*f)**2));f++);const u=ct.Vector.sub(t,this.pos);u.setMag(this.projectileSpeed);const c=this.getWallProjectile(u,this.pos,h);return it.addProjectile(c),!0}addFlameThrowerParticlesToMaou(s,e){for(let v=0;v<e;v++){const g=ct.Vector.fromAngle(s+C.random(-this.flameThrowerAngle,this.flameThrowerAngle),this.range/C.random(5,15));it.addVisual(jh(this.pos,g,5,C.random(8,15),hd(this.fireColor,this.flameColor)))}}getCometProjectile(s,e,v){return new Th(this,e,s,this.projectileSize*2,this.getCometDamage(),v,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,explosionRadius:this.cometExplosionRadius,explosionColor:this.flameColor,explosionVisualDuration:4,statuses:this.getStatuses()})}getWallProjectile(s,e,v){return new Yh(this,e,s,this.baseWallSize,this.getWallDamage(),v,{color:this.projectileColor,pierce:this.wallPierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnMove:this.extraActionOnMove,extraActionOnHit:this.extraActionOnHit,width:this.wallWidthMultiplier,statuses:this.getStatuses()})}getBurningTileProjectile(s,e){const v=[...this.flameColor,80];return new wu(this,s,C.createVector(0,0),Ze,this.getDamage(),e,{color:C.color(v),statuses:this.getStatuses()})}getFlameThrowerDamage(){return this.damage}getCometDamage(){return this.cometDamage}getWallDamage(){return this.wallDamage}getStatuses(){return[]}getBurn(){return $h(this.burnDamage,this.burnDuration,this.burnPanicSpeedIncrease)}increaseCometRange(s){this.cometRange+=s,this.baseCometRange+=s}increaseWallRange(s){this.wallRange+=s,this.baseWallRange+=s}increaseCometDamage(s){this.cometDamage+=s,this.baseCometDamage+=s}increaseWallDamage(s){this.wallDamage+=s,this.baseWallDamage+=s}increaseBurnDamage(s){this.burnDamage+=s,this.baseBurnDamage+=s}recalcDamageBuffs(){super.recalcDamageBuffs(),this.cometDamage=this.baseCometDamage;for(const s of this.damageBuffsMultiplicative)this.cometDamage*=s;this.wallDamage=this.baseWallDamage;for(const s of this.damageBuffsMultiplicative)this.wallDamage*=s;this.burnDamage=this.baseBurnDamage;for(const s of this.damageBuffsMultiplicative)this.burnDamage*=s}recalcRangeBuffs(){super.recalcRangeBuffs(),this.cometRange=this.baseCometRange;for(const s of this.rangeBuffsAdditive)this.cometRange+=s;this.wallRange=this.baseWallRange;for(const s of this.rangeBuffsAdditive)this.wallRange+=s}}const Zh=(p,l={})=>new Kh(p.pos.x,p.pos.y,p.r,p.q,p.size,Tt.range,Tt.damage,Tt.projectileSpeed,Tt.cooldown,Tt.cost,{color:C.color(Tt.rgb),projectileColor:Tt.flameRgb,wall:!0,isTower:!0,type:p.type,data:p.data,spendValue:l.changedCost??Tt.cost,upgrades:{A:new Re("A","Hotter Fire",800,"They die quicker, so it's a mercy really.",s=>{s.increaseDamage(1),s.increaseWallDamage(30)},!0),B:new Re("B","Wide Flame",600,"Increase the area of effect radius of the Pyromaniac.",s=>{s.flameThrowerAngle+=C.PI/12},!0),C:new Re("C","Burning Vision",500,"Slightly increases range. I have a vision, of a world where no hero goes unburned.",s=>{s.increaseRange(Ze*.25),s.increaseCometRange(Ze)},!0),"A+":new Re("A+","Blue Flame",3e3,"Blue flames are both hotter and cooler.",s=>{s.increaseDamage(2),s.increaseCometDamage(400),s.increaseWallDamage(50),s.projectileColor=C.color(Ya),s.fireColor=Nl,s.flameColor=Ya}),"B+":new Re("B+","Inferno Grande",2050,"Increases the size of the Pyromaniacs flames even further. There is no escaping the infero!",s=>{s.flameThrowerAngle+=C.PI/12,s.cometExplosionRadius+=Ze,s.wallWidthMultiplier+=2}),"C+":new Re("C+","See The World",1750,"increase Pyromaniac range even more.",s=>{s.increaseRange(Ze*.25),s.increaseCometRange(Ze*1.5),s.increaseWallRange(Ze*1.5)}),AB:new Re("AB","Comet",1350,"Shoots a mighty comet from the sky, dealing devastating damage in a large area.",s=>{s.baseComet=()=>s.shootComet(),s.showCometRange=e=>{const v=Xn(s.color);return v.setAlpha(e),C.fill(v),C.circle(s.pos.x,s.pos.y,s.cometRange*2),e-40}}),BC:new Re("BC","Flame Wall",2300,"Shoots out a wall of flames that moves slowly towards its target.",s=>{s.baseWall=()=>s.shootWall(),s.showWallRange=e=>{const v=Xn(s.color);return v.setAlpha(e),C.fill(v),C.circle(s.pos.x,s.pos.y,s.wallRange*2),e-40}}),CA:new Re("CA","Feel The Burn",2100,"Inflicts every enemy hit with a burning status effect.",s=>{s.increaseBurnDamage(1),s.burnDuration+=30,s.getStatuses=()=>[s.getBurn()]}),"AB+":new Re("AB+","Inner Fire",3300,"The Pyromaniac builds their inner fire, increasing damage dealt based on attack cooldown.",s=>{s.increaseDamage(s.cooldown),s.increaseWallDamage(s.wallCooldown/2),s.increaseCometDamage(s.cometCooldown/2)}),"BC+":new Re("BC+","Expulsion",1800,"Fire hits enemies with such force they are thrown backwards.",s=>{s.flameThrowerPush=e=>{s.applyFlameThrowerPush(e)},s.extraActionsOnHit.push(e=>{if("target"in e){const g=e.vel.copy().setMag(s.pushForce);e.target.applyForce(g);return}const v=Yt.inRangeCircle(e.pos,e.radius);for(const g of v){const h=ct.Vector.sub(g.pos,e.pos).setMag(s.pushForce);g.applyForce(h)}})}),"CA+":new Re("CA+","Hell Fire",2700,"The flames of hell burn brighter, longer, and cause more panic than beofer.",s=>{s.burnDuration+=50,s.increaseBurnDamage(1),s.burnPanicSpeedIncrease+=.5,s.getStatuses=()=>[s.getBurn()]}),"AB++":new Re("AB++","Apocalypse (Ability)",5500,"Pyromaniac rains down countless comets, cleansing the world in the fires of apocalypse.",s=>{s.ultCooldown=Oi,s.ultCurrentCooldown=s.ultCooldown,s.ultimate=()=>{s.progressUlt=()=>{if(s.ultInProgress<=0&&(s.progressUlt=()=>{}),er.units.length<1)return;const e=C.random(er.units);s.shootCometAtTarget(e),s.ultInProgress--},s.ultInProgress=30},s.shouldShowUltCooldown=()=>{s.showUltCooldown()}}),"BC++":new Re("BC++","Isolationism",4500,"Don't allow anything near, flames hit harder and with more force. Also increases wall pierce and comet explosion radius a bit.",s=>{s.increaseDamage(1),s.increaseWallDamage(30),s.increaseCometDamage(200),s.cometExplosionRaidus+=Ze/2,s.pushForce+=2,s.wallPierce+=7}),"CA++":new Re("CA++","Burning Earth",9500,"All Pyromaniacs attacks leave burning earth behind, dealing damage and inflicting burn.",s=>{s.burningLand=(e,v)=>{s.applyBurningLand(e,v)},s.extraActionsOnHit.push(e=>{if(!("radius"in e))return;const v=ke.getHexVectorFromXY(e.pos.x,e.pos.y);if(!ke.rqVectorIsOnGrid(v))return;const g=ke.grid[v.x][v.y],h=[...ke.getNeighborsArea(g.r,g.q,2),g];for(let t=0;t<h.length;t++)Wt(e.pos,h[t].pos)<e.radius**2&&s.applyBurningLandToTile(h[t])}),s.extraActionsOnMove.push(e=>{const v=ke.getHexVectorFromXY(e.pos.x,e.pos.y);if(!ke.rqVectorIsOnGrid(v))return;const g=ke.grid[v.x][v.y],h=[...ke.getNeighborsArea(g.r,g.q,2),g];for(const t of h)xn(e.corners[0],e.corners[1],t.pos)>0&&xn(e.corners[1],e.corners[2],t.pos)>0&&xn(e.corners[2],e.corners[3],t.pos)>0&&xn(e.corners[3],e.corners[0],t.pos)>0&&s.applyBurningLandToTile(t)})})}}),mr=Object.freeze({name:"Dragon Hoard",description:"A Dragons hoard seems to imbued with a special magic, growing over time without outside interference, truly misterious.",hotkey:"d",keycode:68,range:0,cooldown:0,cost:2500,damage:0,hoardCapacity:1e3,hoardFillPerRound:200,hoardInterest:0,projectileSpeed:0,towerType:"NORMAL",rgb:si,showSymbol:(p,l)=>{C.push(),C.fill(Po),C.strokeWeight(2);const s=l*.1;uo(p.x-s,p.y+s,l*.5),uo(p.x+s,p.y-s,l*.5),C.pop()}});class Qh extends Zr{constructor(s,e,v,g,h,t,u,c,f,d,n){super(s,e,v,g,h,mr.name,t,u,c,f,d,n);K(this,"goldInHoard");K(this,"hoardCapacity");K(this,"hoardFillPerRound");K(this,"hoardInterest");K(this,"hoardFilledThisRound");K(this,"shouldFillHoardThisRound");K(this,"timeOverFullFill");this.goldInHoard=0,this.hoardCapacity=mr.hoardCapacity,this.hoardFillPerRound=mr.hoardFillPerRound,this.hoardInterest=mr.hoardInterest,this.hoardFilledThisRound=0,this.shouldFillHoardThisRound=mr.hoardFillPerRound,this.timeOverFullFill=1e3}showSymbol(s=this.pos){C.push(),C.fill(Po),C.strokeWeight(2);const e=this.size*.1;uo(s.x-e,s.y+e,this.size*.5),uo(s.x+e,s.y-e,this.size*.5),C.pop()}update(){if(super.update(),this.shouldFillHoardThisRound>this.hoardFilledThisRound){const s=this.hoardFillPerRound/this.timeOverFullFill;this.goldInHoard=C.min(this.goldInHoard+s,this.hoardCapacity),this.hoardFilledThisRound+=s}return!0}}const Jh=(p,l={})=>new Qh(p.pos.x,p.pos.y,p.r,p.q,p.size,mr.range,mr.damage,mr.projectileSpeed,mr.cooldown,mr.cost,{color:C.color(mr.rgb),wall:!0,isTower:!0,type:p.type,data:p.data,spendValue:l.changedCost??mr.cost,upgrades:{A:new Re("A","Nothing",0,"Still just a barrier.",s=>{},!0),B:new Re("B","Nothing",0,"Still just a barrier.",s=>{},!0),C:new Re("C","Bigger Basement",250,"Just dump all that extra gold in the basement. More capacity.",s=>{s.hoardCapacity+=1e3},!0),"A+":new Re("A+","Nothing",0,"Still just a barrier.",s=>{}),"B+":new Re("B+","Nothing",0,"Still just a barrier.",s=>{}),"C+":new Re("C+","Nothing",0,"Still just a barrier.",s=>{}),AB:new Re("AB","Nothing",0,"Still just a barrier.",s=>{}),BC:new Re("BC","Nothing",0,"Still just a barrier.",s=>{}),CA:new Re("CA","Nothing",0,"Still just a barrier.",s=>{}),"AB+":new Re("AB+","Nothing",0,"Still just a barrier.",s=>{}),"BC+":new Re("BC+","Nothing",0,"Still just a barrier.",s=>{}),"CA+":new Re("CA+","Nothing",0,"Still just a barrier.",s=>{}),"AB++":new Re("AB++","Nothing",0,"Still just a barrier.",s=>{}),"BC++":new Re("BC++","Nothing",0,"Still just a barrier.",s=>{}),"CA++":new Re("CA++","Nothing",0,"Still just a barrier.",s=>{})}}),js=(p,l,s,e=0,v=C)=>{const g=s/2,h=s/3,t=s/6;v.push(),v.translate(p,l),v.rotate(e),v.stroke(Ft),v.strokeWeight(2),v.beginShape(),v.vertex(0,-g),v.vertex(g,-t),v.vertex(g,t),v.vertex(0,-h),v.vertex(0,g),v.endShape(v.CLOSE),v.ellipse(-h*.8,g*.8,g,h),v.pop()};class Li extends cn{constructor(s,e,v,g,h,t,u={}){super(s,e,v,g,h,t,u);K(this,"splitOnHit");this.splitOnHit=u.splitOnHit??!1}show(){C.push(),C.fill(this.color),js(this.pos.x,this.pos.y,this.size),C.pop()}showDebug(){C.stroke(this.color),C.strokeWeight(5),C.point(this.pos.x,this.pos.y)}update(){this.prevPos=this.pos.copy(),this.pos.add(this.vel);const s=this.alreadyHitEnemyIds.length,e=Yt.inRangePath(this.prevPos,this.pos,this.size);for(const v of e)this.hit(v);if(this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0)return!0;if(this.splitOnHit&&this.alreadyHitEnemyIds.length>s)for(let v=0;v<this.alreadyHitEnemyIds.length-s;v++)for(let g=0;g<3;g++){const h=this.copy();h.vel=ct.Vector.random2D().setMag(h.vel.mag()),it.addProjectile(h)}return!1}copy(){const s=[];for(const v of this.statuses)s.push(v.copy());const e=new Li(this.origin,this.pos.copy(),this.vel.copy(),this.size,this.damage,this.lifeSpan-1,{color:this.color,pierce:this.pierce-1,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:s,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,extraActionOnMove:this.extraActionOnMove,splitOnHit:this.splitOnHit});return e.alreadyHitEnemyIds=this.alreadyHitEnemyIds,e}}const xu=(p,l,s=1,e="trance",v=250)=>new dn(e,p,"ON_TAKE_DAMAGE",(g,h,t={damage:0})=>{const u=t.damage/g.maxHp;C.random()<s*u&&h&&(h.duration=0)},(g,h)=>{C.fill(Fl),js(h.x,h.y,g.size/2)},g=>{g.currentFlowField=l},g=>{g.currentFlowField=g.originalFlowField,g.applyStatus(su(v,e,"ON_TAKE_DAMAGE"))}),ef=(p,l,s,e=Er,v=0,g=C)=>{const h=s/2,t=s/3;g.push(),g.translate(p,l),g.rotate(v),g.stroke(Ft),g.strokeWeight(2),g.line(0,-h,0,h),g.ellipse(-t*.8,h*.8,h,t),g.strokeWeight(1),g.stroke(e),g.line(-h,-h,h,h),g.line(h,-h,-h,h),g.pop()},tf=(p,l="silence")=>new dn(l,p,"NORMAL",(s,e,v={damage:0})=>{for(const g of s.abilityCounters)s[g]++},(s,e)=>{C.fill(Ft),ef(e.x,e.y,s.size/2)},s=>{},s=>{}),hr=Object.freeze({name:"Siren",description:"The Siren entrances heroes with her song, leading them to wander mindlessely to her.",hotkey:"z",keycode:90,range:Ze*7,cooldown:110,cost:900,damage:10,projectileSpeed:3,tranceDuration:150,breakoutChance:5,extraProjectileAngle:C.PI/8,towerType:"WATER",rgb:Pi,noteColor:Fl,showSymbol:(p,l,s={angle:0})=>{C.push(),C.fill(hr.noteColor),js(p.x,p.y,l),C.pop()}});class rf extends Zr{constructor(s,e,v,g,h,t,u,c,f,d,n){super(s,e,v,g,h,hr.name,t,u,c,f,d,n);K(this,"noteColor");K(this,"extraProjectileLifespan");K(this,"pathName");K(this,"pathNameNext");K(this,"tranceDuration");K(this,"breakoutChance");K(this,"splitOnHit");K(this,"extraProjectileAngle");this.noteColor=hr.noteColor,this.extraProjectileLifespan=1,this.extraProjectileAngle=hr.extraProjectileAngle,this.tranceDuration=hr.tranceDuration,this.breakoutChance=hr.breakoutChance,this.pathName=`Siren${C.random()}`,this.pathNameNext=`${this.pathName}Next`,it.pathsToGenerate.push({origin:[this],name:this.pathName,waterCost:1,stopAfter:10}),this.targetingType=on.FIRST,this.splitOnHit=!1}showSymbol(s=this.pos){C.push(),C.fill(this.noteColor),js(s.x,s.y,this.size),C.pop()}shoot(){const s=this.baseShoot();if(s===void 0)return!1;const e=C.floor(this.projectileNumber/2)*-1;this.lastShotAngle=s.vel.heading();for(let v=e;v<e+this.projectileNumber;v++){const g=this.lastShotAngle+v*this.extraProjectileAngle,h=ct.Vector.fromAngle(g);h.setMag(s.vel.mag());const t=this.getProjectile(h,s.lifeSpan);it.addProjectile(t)}return!0}baseShoot(){const s=Yt.inRangeCircle(this.pos,this.range);if(s.length<1)return;const e=Ql[this.targetingType].function(this.pos,s),v=this.range/this.projectileSpeed*this.extraProjectileLifespan,g=e.pos.copy();for(let u=1;u<=v&&(g.add(e.vel),!(Wt(g,this.pos)<(this.projectileSpeed*u)**2));u++);const h=ct.Vector.sub(g,this.pos);return h.setMag(this.projectileSpeed),this.getProjectile(h,v)}getProjectile(s,e){return new Li(this,this.pos.copy(),s,this.projectileSize,this.getDamage(),e,{color:C.color(this.noteColor),pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),splitOnHit:this.splitOnHit})}getStatuses(){return[this.getTrance()]}getTrance(){return xu(this.tranceDuration,this.pathNameNext,this.breakoutChance,"trance",250)}getSilence(){return tf(this.tranceDuration,"silence")}onSell(){for(let s=0;s<it.pathsToGenerate.length;s++)if(it.pathsToGenerate[s].name===this.pathName){it.pathsToGenerate.splice(s,1);return}}}const nf=(p,l={})=>new rf(p.pos.x,p.pos.y,p.r,p.q,p.size,hr.range,hr.damage,hr.projectileSpeed,hr.cooldown,hr.cost,{color:C.color(hr.rgb),wall:!0,isTower:!0,type:p.type,data:p.data,projectileColor:hr.noteColor,spendValue:l.changedCost??hr.cost,upgrades:{A:new Re("A","Piercing Voice",300,"Song pierces through its target to the next.",s=>{s.projectilePierce+=1,s.extraProjectileLifespan+=.2},!0),B:new Re("B","Tireless",550,"If you don't keep singing till you drop you'll never make it in showbizz. Lower cooldown",s=>{s.cooldown-=20,s.baseCooldown-=20},!0),C:new Re("C","Entancing Song",400,"Increases the duration of the trance, and slightly decreases the chance heroes break out of the spell when damaged.",s=>{s.tranceDuraton+=100,s.breakoutChance-=1},!0),"A+":new Re("A+","Optimize Acoustics",2100,"Siren magically changes the properties of the space around her to optimize its acoustics. It is honestly kind of a waste to use magic capable of changing physics on something like this, but at least it increases the amount of people who hear her song...",s=>{s.projectilePierce+=2,s.extraProjectileLifespan+=.3,s.increaseRange(Ze/2)}),"B+":new Re("B+","Endless Encores",1700,"Song after song, you'll never escape this concert. Even lower cooldown",s=>{s.cooldown-=20,s.baseCooldown-=20}),"C+":new Re("C+","Unbreakable Obsession",2900,"A song so beautifull it takes ages to break free of its spell. That or a very hard blow to the head.",s=>{s.tranceDutaion+=150,s.breakoutChance-=1}),AB:new Re("AB","Rock Song",666,"Not all Sirens are into that classical shit. Increases damage",s=>{s.increaseDamage(10)}),BC:new Re("BC","Authority",2500,"My authority, you will respect it. Siren magically controls the entire area around her, increasing trance duration, lowering breakout chance, and making sure her song always reacher her target.",s=>{s.tranceDutaion+=100,s.breakoutChance-=.5}),CA:new Re("CA","Crowd Pleaser",3600,"They want to hear, Siren wants to sing more songs, everyone gets what they want.",s=>{s.projectileNumber+=3}),"AB+":new Re("AB+","Hard Rock",5200,"More rock. More range. More bleeding ears.",s=>{s.increaseDamage(30),s.increaseRange(Ze),s.noteColor=Il}),"BC+":new Re("BC+","Placeholder",0,"Placeholder.",s=>{}),"CA+":new Re("CA+","Sound Wave",6900,"Every song is like a sound wave. More projectiles, closer together, reaching further.",s=>{s.projectileNumber+=3,s.extraProjectileLifespan+=.2,s.extraProjectileAngle=C.PI/15}),"AB++":new Re("AB++","Rock The World",6e3,"Siren rocks so hard her song reaches more people then ever. The song is so loud it ruptures eardrums all over, dealing more damage, but sadly breaking the trance, and deaf ears can't be charmed by other Sirens either.",s=>{s.projectilePierce+=1,s.projectileSize+=Ze/3,s.extraProjectileLifespan+=.3,s.increaseRange(Ze/2),s.increaseDamage(50),s.projectileNumber+=2,s.getTrance=()=>xu(0,s.pathNameNext,s.breakoutChance,"trance",500)}),"BC++":new Re("BC++","Chorus",0,"Placeholder.",s=>{s.color=C.color(Yc)}),"CA++":new Re("CA++","Echo Chamber",7750,"Songs echo around whenever they hit a hero. Look it's a magical song, its echos could work this way.",s=>{s.projectilePierce+=3,s.splitOnHit=!0})}}),_u=(p,l,s,e=0,v=C)=>{let g=s*.8,h=0;const t=s/50,u=(g-t)/100,f=(13/20*s-t)/100;v.push(),v.translate(p,l),v.rotate(e),v.stroke(Ft),v.strokeWeight(1),v.beginShape();for(let d=0;d<100;d++){const n=v.cos(h)*g,r=v.sin(h)*g;v.vertex(n,r),h+=v.PI/20,g-=u}for(let d=0;d<100;d++){const n=v.cos(h)*g,r=v.sin(h)*g;v.vertex(n,r),h-=v.PI/20,g+=f}v.endShape(),v.triangle(s*6/10,s/10,s*8/10,s/10,s*7/10,s*-1/5),v.pop()};class of extends Zr{constructor(s,e,v,g,h,t,u,c,f,d,n,r,o){super(s,e,v,g,h,t,u,c,f,d,n,o);K(this,"burnUpTimer");K(this,"lastWaveCheck");this.burnUpTimer=r,this.lastWaveCheck=er.waveReader.currentWaveNumber}show(s=this.pos){C.push(),C.stroke(0),C.strokeWeight(2),C.fill(this.color),sr(s.x,s.y,this.size),this.upgradesPurchased>3&&(C.strokeWeight(1),sr(s.x,s.y,this.size-3),this.upgradesPurchased>7&&(C.stroke(0),sr(s.x,s.y,this.size-6))),C.stroke(Ft),C.fill(hs),C.strokeWeight(1);let e=-C.PI/2;for(let v=0;v<C.min(this.burnUpTimer,10);v++){const g=this.pos.x+C.cos(e)*this.size*.7,h=this.pos.y+C.sin(e)*this.size*.7;ou(g,h,Ze/10,5),e+=C.TWO_PI/10}this.showSymbol(s),this.shouldShowUltCooldown(),C.pop()}update(){return super.update(),this.lastWaveCheck!==er.waveReader.currentWaveNumber&&(this.lastWaveCheck=er.waveReader.currentWaveNumber,this.burnUpTimer--),this.burnUpTimer>0}onSell(){this.spendValue=0,ke.setBuilderTileType(this,mt.UNSTABLE)}}class Su extends cn{constructor(s,e,v,g,h,t,u={}){super(s,e,v,g,h,t,u);K(this,"rockVertices");K(this,"pushForce");K(this,"angle");K(this,"extendLife");this.rockVertices=iu(g),this.pushForce=u.pushForce??0,this.angle=0,this.extendLife=u.extendLife??!1}show(){Ss(this.pos.x,this.pos.y,this.rockVertices,this.angle,this.color)}update(){return this.angle+=.01,super.update()}hit(s){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(s.id))return;this.alreadyHitEnemyIds.push(s.id);const e=this.damage*(C.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(s);this.updateOriginUsageDataSingle(s,e),s.takeDamage(e),this.extendLife&&s.hp<=0&&this.origin.lastLifeExtension<er.waveReader.currentWaveNumber&&(this.origin.burnUpTimer++,this.origin.lastLifeExtension=er.waveReader.currentWaveNumber),s.applyForce(this.vel.copy().setMag(this.pushForce));for(let v=0;v<this.statuses.length;v++)s.applyStatus(this.statuses[v]);this.extraActionOnHit({pos:this.pos,vel:this.vel,target:s}),this.pierce--}}class sf extends Su{constructor(s,e,v,g,h,t,u={}){super(s,e,v,g,h,t,u);K(this,"target");K(this,"desiredSpeed");K(this,"maxForce");this.target=u.target??null,this.desiredSpeed=this.vel.mag(),this.maxForce=this.vel.mag()/20}show(){Ss(this.pos.x,this.pos.y,this.rockVertices,this.angle,this.color)}update(){this.angle+=.01,(this.target===null||this.alreadyHitEnemyIds.includes(this.target.id)||this.target.hp<=0)&&this.findNewTarget(),this.prevPos=this.pos.copy(),this.vel.add(this.getAccThroughHoming()),this.pos.add(this.vel);const s=Yt.inRangePath(this.prevPos,this.pos,this.size);for(const e of s)this.hit(e);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}findNewTarget(){const s=Yt.inRangeCircle(this.pos,this.origin.range/3);let e=null,v=99999;const g=this.vel.copy().mult(5);g.add(this.pos);for(const h of s){const t=Wt(h.pos,g);t<v&&(v=t,e=h)}this.target=e}getAccThroughHoming(){if(this.target===null)return C.createVector(0,0);const s=ct.Vector.sub(this.target.pos,this.pos);return s.setMag(this.desiredSpeed),s.sub(this.vel),s.limit(this.maxForce),s}}const jr=Object.freeze({name:"Magma Wyrm",description:"The Magma Wyrm lives a turbulent life surrounded by lava. It dies soon after its birth when its enviroment can no longer sustain it and crumbles.",hotkey:"m",keycode:77,range:Ze*5,cooldown:15,cost:100,damage:15,projectileSpeed:3,towerType:"LAVA",baseBurnUpDuration:2,rgb:Ai,flameRgb:hs,showSymbol:(p,l,s={angle:0})=>{C.push(),C.fill(hs),_u(p.x,p.y,l),C.pop()}});class af extends of{constructor(s,e,v,g,h,t,u,c,f,d,n){super(s,e,v,g,h,jr.name,t,u,c,f,d,jr.baseBurnUpDuration,n);K(this,"flameColor");K(this,"pushForce");K(this,"burningLandLifespan");K(this,"homingProjectiles");K(this,"extendLifeOnKill");K(this,"lastLifeExtension");this.flameColor=jr.flameRgb,this.pushForce=0,this.burningLandLifespan=0,this.homingProjectiles=!1,this.extendLifeOnKill=!1,this.lastLifeExtension=er.waveReader.currentWaveNumber-1}showSymbol(s=this.pos){C.push(),C.fill(this.flameColor),_u(s.x,s.y,this.size,this.lastShotAngle),C.pop()}update(){return this.lastShotAngle-=.017,super.update()}baseShoot(s=0){const e=ct.Vector.fromAngle(s);e.setMag(this.projectileSpeed);const v=this.range/this.projectileSpeed,g=this.getMagmaBlobProjectile(e,v);it.addProjectile(g)}shoot(){for(let s=0;s<this.projectileNumber;s++){const e=this.lastShotAngle+C.TWO_PI*(s/this.projectileNumber);this.baseShoot(e)}return!0}getMagmaBlobProjectile(s,e){return new Su(this,this.pos,s,this.projectileSize,this.getDamage(),e,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),pushForce:this.pushForce,extendLife:this.extendLifeOnKill})}getDamage(){return this.damage}getStatuses(){return[]}applyBurningLandToTile(s){if(!s.canUnit||s.isTower||s.appliedEffects.burningLand)return;const e=this.getBurningTileProjectile(s.pos,this.burningLandLifespan);it.addProjectile(e),s.appliedEffects.burningLand=e}getBurningTileProjectile(s,e){const v=[...this.flameColor,80];return new wu(this,s,C.createVector(0,0),Ze,this.getDamage(),e,{color:C.color(v),statuses:this.getStatuses()})}}const lf=(p,l={})=>new af(p.pos.x,p.pos.y,p.r,p.q,p.size,jr.range,jr.damage,jr.projectileSpeed,jr.cooldown,jr.cost,{color:C.color(jr.rgb),projectileColor:jr.flameRgb,wall:!0,isTower:!0,type:p.type,data:p.data,spendValue:l.changedCost??jr.cost,upgrades:{A:new Re("A","Short Fuse",200,"The Wyrms anger about its unfair position in life heats up its shots, increasing damage.",s=>{s.burnUpTimer+=1,s.increaseDamage(15)},!0),B:new Re("B","Stability",150,"The Wyrm embraces a stable lifestyle, decent job, happy family, little wyrm on the way. Pushes away the inevitable demise a bit.",s=>{s.burnUpTimer+=3},!0),C:new Re("C","Vision",250,"Wyrm has a vision for the future, and whishes to share it with as many heroes as possible while it is still able.",s=>{s.burnUpTimer+=1,s.range+=Ze,s.baseRange+=Ze},!0),"A+":new Re("A+","Burning Hatred",500,"Wyrms hatred burns brighter than a thousand suns.",s=>{s.burnUpTimer+=1,s.increaseDamage(20)}),"B+":new Re("B+","Controlled Entropy",550,"The wyrm masters entropic decay to delay the inevitable even longer.",s=>{s.burnUpTimer+=6}),"C+":new Re("C+","Longing Gaze",400,"Wyrm wants to see as much of the world as possible before the end.",s=>{s.burnUpTimer+=1,s.range+=Ze,s.baseRange+=Ze}),AB:new Re("AB","Loniliness",450,"Wyrm pushes everyone away, unable to accept company in the face of its approaching doom.",s=>{s.pushForce+=1.5}),BC:new Re("BC","The Other End",700,"More projectiles is better, just don't ask where they are coming from, seriously, don't.",s=>{s.projectileNumber+=1}),CA:new Re("CA","Live Fast",600,"Live fast and dangerous is this Wyrms motto. Faster firing, but at the cost of a shorter life.",s=>{s.cooldown-=4,s.baseCooldown-=4,s.burnUpTimer-=1}),"AB+":new Re("AB+","Heat Seeking Heroes",950,"The heroes look for a comforting and warm magma blob to the face, or well, that's what Wyrm tells himself.",s=>{s.getMagmaBlobProjectile=(e,v)=>new sf(s,s.pos,e,s.projectileSize,s.getDamage(),v*1.2,{color:s.projectileColor,pierce:s.projectilePierce,critChance:s.critChance,critMultiplier:s.critMultiplier,statuses:s.getStatuses(),pushForce:s.pushForce,extendLife:s.extendLifeOnKill})}),"BC+":new Re("BC+","Dubble Or Nothing",1150,"Dubbles the amount of magma blobs fired.",s=>{s.projectileNumber+=2}),"CA+":new Re("CA+","Yolo",800,"Wyrm puts its everything into firing faster and harder, you only live once, so you gotta take as many as possible with you.",s=>{s.cooldown-=4,s.baseCooldown-=4,s.increaseDamage(10),s.burnUpTimer-=1}),"AB++":new Re("AB++","Lease On Life",3e3,"Through dark deals best not spoken of, thought Wyrm is not really capable of speaking to begin with, Wyrm extends his life by one wave, on his first kill of every wave.",s=>{s.burnUpTimer+=2,s.extendLifeOnKill=!0}),"BC++":new Re("BC++","Solitude",1600,"Keeps all away, awaiting the end in fiery solitude.",s=>{s.projectileNumber+=5,s.projectilePierce+=2,s.range+=Ze/2,s.baseRange+=Ze/2}),"CA++":new Re("CA++","Curtain Call",1500,'"When the darkness comes, I will not go alone." Creates a devastating explosion when the Wyrm dies, leaving nothing but fire in its wake. Also allows to call the curtain early through the ult.',s=>{s.ultCooldown=1,s.ultCurrentCooldown=s.ultCooldown,s.ultimate=()=>{s.burnUpTimer=0},s.shouldShowUltCooldown=()=>{s.showUltCooldown()},s.onSell=()=>{s.spendValue=0,ke.setBuilderTileType(s,mt.UNSTABLE),s.burningLandLifespan=5e3;const e=ke.getNeighborsArea(s.r,s.q,3);for(const v of e)s.applyBurningLandToTile(v);s.damage=1e3,s.projectileNumber=50,s.projectilePierce=10,s.projectileSize+=Ze,s.range=Ze*20,s.shoot()}})}});var _r=(p=>(p[p.ARCHER=0]="ARCHER",p[p.BARRIER=1]="BARRIER",p[p.KOBOLD=2]="KOBOLD",p[p.ARACHNE=3]="ARACHNE",p[p.PLAGUE=4]="PLAGUE",p[p.SIREN=5]="SIREN",p[p.PYRO=6]="PYRO",p[p.GRAVI=7]="GRAVI",p[p.DRAGON_HOARD=8]="DRAGON_HOARD",p[p.MAGMA_WYRM=9]="MAGMA_WYRM",p))(_r||{});const $r={[0]:sn,[1]:nn,[2]:nr,[3]:Xt,[4]:wr,[5]:hr,[6]:Tt,[7]:br,[8]:mr,[9]:jr};class uf{constructor(){}static getTower(l,s,e={}){switch(typeof l=="string"?parseInt(l):l){case _r.BARRIER:return Ja(s,e);case _r.ARCHER:return sh(s,e);case _r.ARACHNE:return th(s,e);case _r.PLAGUE:return yh(s,e);case _r.GRAVI:return ah(s,e);case _r.KOBOLD:return Sh(s,e);case _r.PYRO:return Zh(s,e);case _r.DRAGON_HOARD:return Jh(s,e);case _r.SIREN:return nf(s,e);case _r.MAGMA_WYRM:return lf(s,e);default:console.log("Wrong input");break}return Ja(s,e)}}const ol={2:()=>{vt.towersData.Barricade.unlocked=!0},3:()=>{vt.towersData.Kobold.unlocked=!0},4:()=>{vt.towersData.Arachne.unlocked=!0},5:()=>{vt.transmutationEssence+=50},6:()=>{vt.towersData["Plague Slinger"].unlocked=!0},7:()=>{vt.transmutationEssence+=70},8:()=>{vt.transmutationEssence+=80},9:()=>{vt.towersData.Siren.unlocked=!0},10:()=>{vt.transmutationEssence+=100},11:()=>{vt.transmutationEssence+=110},12:()=>{vt.towersData.Pyromaniac.unlocked=!0},13:()=>{vt.transmutationEssence+=130},14:()=>{vt.towersData["Gravi-tech Tower"].unlocked=!0},15:()=>{vt.transmutationEssence+=150},16:()=>{vt.transmutationEssence+=160},17:()=>{vt.towersData["Dragon Hoard"].unlocked=!0},18:()=>{vt.transmutationEssence+=180},19:()=>{vt.transmutationEssence+=190},20:()=>{vt.towersData["Magma Wyrm"].unlocked=!0}};class ju{constructor(l,s,e){K(this,"username");K(this,"password");K(this,"email");K(this,"transmutationEssence");K(this,"level");K(this,"levelUpExponent");K(this,"levelUpScalar");K(this,"xp");K(this,"xpRequired");K(this,"towersData");this.username=l,this.password=s,this.email=e,this.level=1,this.levelUpExponent=1.5,this.levelUpScalar=1e3,this.xp=0,this.xpRequired=Math.pow(this.level,this.levelUpExponent+this.level/20)*this.levelUpScalar,this.towersData={};for(const v in $r)this.towersData[$r[v].name]={unlocked:!1,xp:0,xpRequired:Math.pow(1,this.levelUpExponent+1/20)*this.levelUpScalar,unlocksAvailable:0,upgradesUnlocked:[],mods:{1:null,2:null,3:null}};this.towersData.Archer.unlocked=!0,this.transmutationEssence=0}addXp(l,s){this.xp+=l,this.xp>this.xpRequired&&this.levelUp();const e=l/s.length;for(const v of s)this.towersData[v.name].xp+=e,this.towersData[v.name].xp>this.towersData[v.name].xpRequired&&this.towerAddUnlock(this.towersData[v.name])}levelUp(){this.xp-=this.xpRequired,this.level++,this.xpRequired=Math.pow(this.level,this.levelUpExponent+this.level/20)*this.levelUpScalar,this.level in ol&&ol[this.level]()}towerAddUnlock(l){l.xp-=l.xpRequired,l.unlocksAvailable++;const s=l.unlocksAvailable+l.upgradesUnlocked.length+1;l.xpRequired=Math.pow(s,this.levelUpExponent+s/20)*this.levelUpScalar}getXp(){return C.floor(this.xp)}getRequiredXp(){return C.ceil(this.xpRequired)}towerUnlockUpgrade(l,s){return this.towersData[l].unlocksAvailable<1||s in this.towersData[l].upgradesUnlocked?!1:(this.towersData[l].upgradesUnlocked.push(s),this.towersData[l].unlocksAvailable--,!0)}}const cf=(p="Nameless",l="guest",s="tester@hotmail.com")=>{const e=new ju(p,l,s);if(localStorage.getItem("user")){const v=JSON.parse(localStorage.getItem("user"));for(const g in v)e[g]=v[g]}return e},df=()=>{localStorage.setItem("user",JSON.stringify(vt))},hf=(p="Nameless",l="guest",s="tester@hotmail.com")=>{const e=new ju(p,l,s);for(const v in e)vt[v]=e[v]},vt=cf(),ff=0,pf=1,sl=(p,l,s,e=ff,v=Ro,g=pf)=>{const h=s/2,t=s/4,u=s*(3/8);C.push(),C.strokeWeight(g),C.fill(Ft),C.translate(p,l),C.rotate(e),C.beginShape(),C.vertex(-h,-u),C.quadraticVertex(-h,-h,-u,-h),C.vertex(u,-h),C.quadraticVertex(h,-h,h,-u),C.vertex(h,u),C.quadraticVertex(h,h,u,h),C.vertex(-u,h),C.quadraticVertex(-h,h,-h,u),C.endShape(C.CLOSE),C.noFill(),C.strokeWeight(g*4),C.curve(-t*1.3,s*2.5,-t*1.3,-h,t*1.3,-h,t*1.3,s*2.5),C.strokeWeight(0),C.fill(v),C.circle(0,-t/2,t),C.rect(-s/16,-t/2,s/8,s/3),C.pop()};class ps{constructor(l,s,e,v,g,h=Ze,t=C.color(lo),u=C.color(Ft),c=C.CENTER){K(this,"pos");K(this,"width");K(this,"height");K(this,"text");K(this,"onClick");K(this,"textSize");K(this,"buttonColor");K(this,"textColor");K(this,"mode");this.pos=l,this.width=s,this.height=e,this.text=v,this.onClick=g,this.textSize=h,this.buttonColor=t,this.textColor=u,this.mode=c}show(l=C){l.push(),l.strokeWeight(1),l.fill(this.buttonColor),l.rectMode(this.mode),l.rect(this.pos.x,this.pos.y,this.width,this.height),l.strokeWeight(0),l.textSize(this.textSize),l.textAlign(C.CENTER,C.CENTER),l.fill(this.textColor),l.text(`${this.text}`,this.pos.x,this.pos.y,this.width,this.height),l.pop()}clicked(){return C.mouseX>this.pos.x-this.width/2&&C.mouseX<this.pos.x+this.width/2&&C.mouseY>this.pos.y-this.height/2&&C.mouseY<this.pos.y+this.height/2}}const mf=(p,l,s,e)=>{const v=s/5;C.push(),C.strokeWeight(1),C.stroke(Ft),C.fill(Mr),C.rect(p-s/2,l-v/2,s+2,v+2),C.strokeWeight(0),C.fill(Ri),C.rect(p-s/2+1,l-v/2+1,s*e,v),C.pop()};class gf extends ko{constructor(s,e,v,g,h,t,u={}){super(s,e,v,g,h,{color:C.color(xs),...u});K(this,"maxHp");K(this,"hp");this.maxHp=t,this.hp=t}show(){C.push(),C.stroke(10),C.strokeWeight(2),C.fill(this.color),sr(this.pos.x,this.pos.y,this.size),sr(this.pos.x,this.pos.y,this.size-5),sr(this.pos.x,this.pos.y,this.size-10),C.pop()}update(){return!0}}class yf{constructor(l,s={}){K(this,"maxHp");K(this,"hp");K(this,"gold");K(this,"color");K(this,"menuColor");K(this,"hexSize");K(this,"selectedTower");K(this,"selectedUpgrade");K(this,"bases");K(this,"towers");K(this,"projectiles");K(this,"minions");K(this,"visualEffects");K(this,"returnOnSale");K(this,"pathsToGenerate");K(this,"currentSeed");K(this,"accumulatedXp");K(this,"upgradeButton");this.maxHp=l,this.hp=l,this.gold=2e3,this.color=s.color??C.color(xs),this.menuColor=s.menuColor??C.color(ud),this.hexSize=s.hexSize??Ze,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedUpgrade=null,this.projectiles=[],this.visualEffects=[],this.minions=[],this.returnOnSale=.9,this.pathsToGenerate=[],this.currentSeed="",this.accumulatedXp=0,this.upgradeButton=new ps(C.createVector(0,0),0,0,"",()=>{})}show(){const l=C.width*.75,s=C.width-l,e=s/100,v=C.height/100,g=v*15;if(C.height-g,C.strokeWeight(this.hexSize/12),C.fill(this.menuColor),C.stroke(Ft),C.rect(l,0,s,C.height),C.line(l,g,C.width,g),C.textSize(this.hexSize*1.5),C.fill(0),C.text(`${this.gold}`,l+e*10,v*8),C.text(`${this.hp}`,l+e*60,v*8),C.fill(Po),uo(l+e*40,v*8-this.hexSize*.5,this.hexSize*.8),Sd(l+e*90,v*8-this.hexSize*.5,this.hexSize*1.4),this.selectedTower)this.showSelectedTower();else{C.textSize(this.hexSize*1.2);for(const h in $r){const t=parseInt(h),u=$r[t],c=C.createVector(l+e*15,g+v*(8+8*t));C.strokeWeight(1),C.fill(u.rgb),sr(c.x,c.y,this.hexSize*1.2),C.fill(0),C.strokeWeight(0),C.text(`${u.name}: ${u.cost} (${u.hotkey})`,c.x+e*10,c.y+this.hexSize/3),vt.towersData[u.name].unlocked?u.showSymbol(C.createVector(c.x,c.y),this.hexSize*1.2,{}):(C.push(),C.fill(Ft),sl(c.x,c.y,this.hexSize),C.pop())}}}showSelectedTower(){if(!this.selectedTower)return;const l=C.width*(3/4),s=C.width-l,e=s/100,v=C.height/100,g=v*15,h=C.height-g;C.push(),this.selectedTower.showRange();const t=C.createVector(C.width-this.hexSize*2,g+this.hexSize*2),u=this.hexSize,c=C.createVector(l+s/2,g+h/4),f=g+h/2;C.fill(Er),_d(t.x+u/2,t.y-u/2,u,1),C.textAlign(C.CENTER,C.CENTER),C.strokeWeight(1),vt.towersData[this.selectedTower.name].upgradesUnlocked.length<15&&(C.textSize(this.hexSize),C.fill(Ft),C.text(`Unlocks Available: ${vt.towersData[this.selectedTower.name].unlocksAvailable}`,c.x-e*10,c.y+v*19),mf(c.x+e*30,c.y+v*19,e*20,C.min(vt.towersData[this.selectedTower.name].xp/vt.towersData[this.selectedTower.name].xpRequired,1))),this.selectedTower.show(c),C.textSize(this.hexSize*.6);let d=0,n=0,r=this.hexSize*2;for(const o in this.selectedTower.upgrades){const i=this.selectedTower.upgrades[o],a=C.createVector(c.x+C.cos(n)*r,c.y+C.sin(n)*r);i.purchased?C.fill(Ri):i.available?C.fill(Xa):C.fill(qa),C.strokeWeight(1),this.selectedUpgrade===i&&C.strokeWeight(3),sr(a.x,a.y,this.hexSize),C.fill(Ft),C.strokeWeight(1),vt.towersData[this.selectedTower.name].upgradesUnlocked.includes(o)?C.text(o,a.x,a.y):sl(a.x,a.y,this.hexSize*.8),n+=C.TWO_PI/3,d++,d%3===0&&(r+=this.hexSize*2,d===6&&(r-=this.hexSize*4,n+=C.PI/3))}if(C.strokeWeight(2),C.line(l,f,C.width,f),this.selectedUpgrade){const o=l+e*50;C.strokeWeight(1),C.textSize(this.hexSize*.8),C.text(`${this.selectedUpgrade.name}`,o,f+v*6),C.text(`Cost: ${this.selectedUpgrade.cost}`,o,f+v*12),C.rectMode(C.CENTER),C.text(`${this.selectedUpgrade.description}`,o,f+v*25,e*80,v*25),this.upgradeButton=new ps(C.createVector(o,f+v*35),e*35,v*5,vt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedUpgrade.purchased?"Obtained":"Purchase":"Unlock",()=>{!this.selectedTower||!this.selectedUpgrade||!this.selectedUpgrade.available||(vt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedTower.purchaseUpgrade(this.selectedUpgrade):vt.towersData[this.selectedTower.name].unlocksAvailable>0&&vt.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id))},this.hexSize*1.2,this.selectedUpgrade.available?C.color(Xa):C.color(qa),C.color(Ft)),this.upgradeButton.show()}C.pop()}update(){return!0}generateAllNeccesaryPaths(){ke.generateAllPathsThroughFloodFill(er.spawners,this.bases);for(const l of this.pathsToGenerate)ke.generateAllPathsThroughFloodFill(er.spawners,l.origin,!1,l.name,l.waterCost,l.stopAfter)}moveBuffs(l,s){for(const e of l.buffs)s.applyBuff(e)}placeTower(l,s){const e=$r[l];let v="canTower";if(e.towerType==="WATER"&&(v="canWaterTower"),e.towerType==="LAVA"&&(v="canLavaTower"),s.isTower||!s[v]||!vt.towersData[e.name].unlocked)return!1;this.addXpToCurrentTowers();const g=this.checkCostThroughBuffs(s,e.cost,e.name),h=uf.getTower(l,s,{changedCost:g});return this.towers.push(h),ke.addTowerToGrid(h),this.moveBuffs(s,h),this.gold-=g,this.generateAllNeccesaryPaths(),!0}checkCostThroughBuffs(l,s,e){let v=s;for(const g of l.buffs)v=g.onPurchase(l,v,e);return v}sellTower(l){if(!l.isTower)return!1;this.addXpToCurrentTowers();for(let s=this.towers.length-1;s>=0;s--)this.towers[s].r===l.r&&this.towers[s].q===l.q&&(this.towers[s].onSell(),this.gold+=this.towers[s].spendValue*this.returnOnSale,this.towers.splice(s,1));return ke.removeTowerFromGrid(l),this.moveBuffs(l,ke.grid[l.r][l.q]),!0}selectTower(l){this.selectedUpgrade=null,this.selectedTower=l}deSelectTower(){this.selectedTower=null,this.selectedUpgrade=null}clickUpgrade(l=!1){if(this.upgradeButton.clicked()&&this.upgradeButton.onClick(),!this.selectedTower)return;const s=C.width*(3/4),e=C.width-s,g=C.height/100*15,h=C.height-g,t=C.createVector(s+e/2,g+h/4);let u=0,c=0,f=this.hexSize*2;for(const d in this.selectedTower.upgrades){const n=this.selectedTower.upgrades[d],r=C.createVector(t.x+C.cos(c)*f,t.y+C.sin(c)*f);Wt(C.createVector(C.mouseX,C.mouseY),r)<this.hexSize*this.hexSize&&(this.selectedUpgrade=n,l&&!n.purchased&&n.available&&(vt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedTower.purchaseUpgrade(this.selectedUpgrade):vt.towersData[this.selectedTower.name].unlocksAvailable>0&&vt.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id))),c+=C.TWO_PI/3,u++,u%3===0&&(f+=this.hexSize*2,u===6&&(f-=this.hexSize*4,c+=C.PI/3))}}updateTowers(){for(const l of this.towers)l.update()||this.sellTower(ke.grid[l.r][l.q])}addProjectile(l){this.projectiles.push(l)}updateProjectiles(){for(let l=this.projectiles.length-1;l>=0;l--)this.projectiles[l].update()&&this.projectiles.splice(l,1)}showProjectiles(){for(let l=this.projectiles.length-1;l>=0;l--)this.projectiles[l].show()}addMinion(l){this.minions.push(l)}updateMinions(){for(let l=this.minions.length-1;l>=0;l--)this.minions[l].update()&&this.minions.splice(l,1);fs.emptyQuadTree();for(let l=this.minions.length-1;l>=0;l--)fs.insert(new Zl(this.minions[l].pos,this.minions[l]))}showMinions(){for(let l=this.minions.length-1;l>=0;l--)this.minions[l].show()}addVisual(l){this.visualEffects.push(l)}updateAndShowVisuals(){for(let l=this.visualEffects.length-1;l>=0;l--)if(this.visualEffects[l].update()){const e=this.visualEffects[l].onExpire();this.visualEffects.splice(l,1),e&&this.addVisual(e)}}onlyShowVisuals(){for(let l=this.visualEffects.length-1;l>=0;l--)this.visualEffects[l].show(this.visualEffects[l])}addBaseToMaou(l){this.bases.push(l)}unitReachedBase(l,s){const e=s.getHexVectorFromXY(l.pos.x,l.pos.y);return s.hexInArray(s.grid[e.x][e.y],this.bases)?(this.hp-=l.damage,!0):!1}unitDied(l){this.gold+=l.goldValue,this.accumulatedXp+=l.maxHp}addXpToCurrentTowers(){vt.addXp(this.accumulatedXp,this.towers),this.accumulatedXp=0}}const vf=new yf(500),it=vf,bf=(p,l,s,e,v=C.random(fo),g=ke.wallRing,h=mt.HILL)=>{Di(v,"A"),ke.resetData(),ke.addRandomWalls(100,h);const t=ke.grid[p][l];t.data={...t.data,prev:void 0,visited:!0},ke.setTileType(t,jo.EMPTY);const u=ke.grid[s][e];ke.setTileType(u,jo.EMPTY);let c=t;for(;c!==void 0;){const f=ke.getNeighbors(c.r,c.q);for(const r of f)r.data.visited=!0;const d=ke.getGrandNeighbors(c.r,c.q,g);for(let r=d.length-1;r>=0;r--)d[r].data.visited&&d.splice(r,1);const n=C.random(d);if(n===void 0){if(c=c.data.prev,c===void 0)return ke.resetData(),!0}else{n.data.visited=!0,ke.setTileType(n,jo.EMPTY),n.data.prev=c;const r=C.createVector(c.r,c.q),o=n.r-c.r,i=n.q-c.q;if(C.abs(o)%2===0?r.x+=o/2:C.random()>.5&&(r.x+=o),C.abs(i)%2===0)r.y+=i/2;else{let y=0;C.random()>.5&&(y=i),r.y+=y,(c.r===r.x&&c.q===r.y||n.r===r.x&&n.q===r.y)&&(y===0?r.y+=i:r.y+=i*-1)}const a=ke.grid[r.x][r.y];ke.setTileType(a,jo.EMPTY),c=n}}return!1},wf=(p,l,s,e,v=C.random(fo),g=mt.HILL,h=mt.EMPTY)=>{Di(v,"B"),ke.addRandomWalls(5,mt.LAVA),ke.addRandomWalls(30,g),ke.addRandomWalls(20,mt.WATER);const t=ke.aStar(p,l,s,e);ke.breakWallsInArray(t,h),ke.resetData()},Di=(p,l)=>{const s=C.floor(p);C.randomSeed(s),it.currentSeed=`${l}${s}`,console.log(`${l}${s}`)},Ii=()=>{ke.setBuilderTileType(ke.grid[ke.midR][ke.maxQ],mt.BASE),ke.setBuilderTileType(ke.grid[ke.midR][ke.minQ],mt.SPAWN)},xf=(p=C.random(fo),l=void 0,s=mt.HILL)=>{Di(p,"C"),ke.resetData(),ke.addRandomWalls(100,s);const e=ke.grid[ke.midR][ke.midQ];e.data={...e.data,prev:void 0,visited:!0},ke.setBuilderTileType(e,mt.BASE);let v=e;const g=ke.getNeighborsArea(v.r,v.q,2);for(const n of g)ke.setBuilderTileType(n,mt.EMPTY);l===void 0&&(l=C.ceil(C.random(19,30)));let h=0,t=2,u=0,c=0;for(;v!==void 0&&h<l;){const n=C.random(ke.neighborVectorsRQ),r=C.round(C.random(4,10));let o=mt.EMPTY;C.random()<.3&&(o=C.random()<.2?mt.UNSTABLE:mt.WATER);let i=!1;for(let w=0;w<r;w++){const x=v.r+n.x,_=v.q+n.y;if(!ke.rqVectorIsOnGrid(C.createVector(x,_),ke.wallRing)||x===e.r&&_===e.q){i=!0,v=e;break}v=ke.grid[x][_],!(w<t)&&ke.setBuilderTileType(v,o)}if(i)continue;t=C.random()<.15?2:1;let a=mt.EMPTY;C.random()<.3?(a=C.random()<.3?mt.LAVA:mt.WATER,ke.setBuilderTileType(v,a)):C.random()<.2?C.random()<.5?ke.setBuilderTileType(v,mt.TELEPORTER_ONE):ke.setBuilderTileType(v,mt.TELEPORTER_TWO):ke.setBuilderTileType(v,a);const y=ke.getNeighborsArea(v.r,v.q,t);if(ke.hexInArray(e,y)){v=e;continue}for(const w of y)ke.setBuilderTileType(w,a);if(h++,h===l){const w=ke.getAllTiles();let x=0,_=0;for(const T of w)T.type===mt.EMPTY&&_++,T.type===mt.HILL&&x++;x>_&&h--}}const f=ke.getAllTiles();for(const n of f)n.type===mt.TELEPORTER_ONE&&u++,n.type===mt.TELEPORTER_TWO&&c++;if(u===1)for(;;){const n=C.random(f);if(!(n.type===mt.WALL||n.type===mt.BASE||n.isTeleporter)){ke.setBuilderTileType(n,mt.TELEPORTER_ONE);break}}if(c===1)for(;;){const n=C.random(f);if(!(n.type===mt.WALL||n.type===mt.BASE||n.isTeleporter)){ke.setBuilderTileType(n,mt.TELEPORTER_TWO);break}}ke.addAllTeleports();let d=!1;for(;!d;)for(let n=0;n<3;n++){const r=C.random(f),o=ke.aStar(r.r,r.q,e.r,e.q);if(o.length<8)continue;let i=!0;for(const a of o)if(!a.canUnit){i=!1;break}i&&(ke.setBuilderTileType(r,mt.SPAWN),d=!0)}return!0},_f=()=>(ke.reConstructGrid(),Ii(),ke.generateJsonableMap()),Sf={name:"Open",map:_f()},jf=()=>(ke.reConstructGrid(),bf(ke.rings,1,ke.rings,ke.rings*2-1,C.random(fo),1),Ii(),ke.generateJsonableMap()),Tf={name:"Random Pathways",map:jf()},Cf=()=>(ke.reConstructGrid(),wf(ke.rings,1,ke.rings,ke.rings*2-1,C.random(fo),mt.HILL),Ii(),ke.generateJsonableMap()),Ef={name:"Random Caverns",map:Cf()},Mf=()=>(ke.reConstructGrid(),xf(C.random(fo)),ke.generateJsonableMap()),Af={name:"Random Chambers",map:Mf()},Rf={name:"Lake Base",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3],[0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3],[0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3],[6,0,0,0,4,4,4,4,4,4,4,4,4,7,0,0,0,0,0,0,0,1,0,0,0,0,3],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Pf={name:"Lakes Race",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,1,1,1,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3],[0,0,0,0,0,0,0,0,0,3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3],[0,0,0,0,0,0,0,0,3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3],[0,0,0,0,3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3],[0,0,0,3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3,0,0],[3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3,0,0,0],[3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3,0,0,0,0],[3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3,0,0,0,0,0],[3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3,0,0,0,0,0,0,0,0],[3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,1,1,1,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Of={name:"The Wheel",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3],[0,0,0,0,0,3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3],[0,0,0,0,3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3],[0,0,0,3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3],[0,0,3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[6,0,1,1,1,1,1,1,1,1,1,1,0,7,0,1,1,1,1,1,1,1,1,1,1,0,3],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3,0,0],[3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3,0,0,0],[3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3,0,0,0,0],[3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3,0,0,0,0,0],[3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3,0,0,0,0,0,0,0],[3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3,0,0,0,0,0,0,0,0],[3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},kf={name:"Time Moves Ever Onward",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3],[0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3],[0,0,0,0,0,0,0,0,3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3],[0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3],[0,0,0,0,0,0,3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3],[0,0,0,0,3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3],[0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3],[0,0,3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3],[0,3,4,1,4,4,4,1,4,4,1,4,3,0,0,3,4,1,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,4,1,4,4,4,1,4,3,2,3,4,1,4,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,1,4,4,4,1,4,3,0,0,3,4,1,4,4,4,1,4,4,1,4,3,0],[3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3,0,0],[3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0],[3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0],[3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3,0,0,0,0,0,0],[3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0],[3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3,0,0,0,0,0,0,0,0],[3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0],[3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3,0,0,0,0,0,0,0,0,0,0],[3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,7,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Lf={name:"Hillside Flowers",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,2,0,0,0,0,0,0,0,0,0,0,0,2,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,1,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,1,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,1,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,1,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,1,0,1,0,1,1,1,1,0,0,1,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,5,0,0,0,2,2,0,3],[6,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,7,2,0,0,2,0,2,2,3],[3,0,0,0,0,0,1,0,1,0,1,0,1,0,0,1,0,5,5,2,0,2,0,0,0,3,0],[3,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,0,0,2,2,0,0,0,3,0,0],[3,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,3,0,0,0,0],[3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,2,0,0,0,0,0,0,0,0,0,0,0,2,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Df={name:"Big Nope",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3],[0,3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3],[6,0,0,0,1,0,7,0,5,0,4,4,0,1,0,4,4,0,5,0,7,0,1,0,0,0,6],[3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3,0],[3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[6,3,3,3,3,3,3,3,3,3,3,3,3,6,0,0,0,0,0,0,0,0,0,0,0,0,0]]},If={name:"Cross Over",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,6,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,4,4,4,4,4,4,4,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,1,0,0,4,4,4,4,4,4,0,0,0,0,0,1,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,0,1,0,0,4,4,4,4,0,1,0,1,0,1,0,0,3],[0,0,0,0,0,0,0,3,0,1,0,1,0,0,4,4,4,0,1,0,1,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,1,0,0,4,4,0,0,0,1,0,1,0,4,4,0,3],[0,0,0,0,0,3,0,1,0,1,0,1,0,0,4,0,0,0,0,0,1,0,4,0,4,0,3],[0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,4,0,0,4,0,3],[0,0,0,3,0,1,0,1,0,1,0,1,0,0,0,1,0,0,1,0,4,0,4,0,4,0,3],[0,0,3,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,4,0,4,4,0,4,0,3],[0,3,0,1,0,1,0,1,0,1,0,1,0,0,0,0,1,0,4,0,4,0,4,0,4,0,3],[6,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,4,0,0,4,0,0,0,7],[3,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,0,4,4,0,0,0,4,4,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,0,0,0,0,3,0,0],[3,1,0,1,0,1,0,1,0,0,0,1,1,0,4,0,0,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,0,4,0,0,0,3,0,0,0,0],[3,1,0,1,0,1,0,0,0,0,1,1,0,0,4,4,0,0,4,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0],[3,1,0,1,0,0,0,0,1,0,0,1,0,4,4,4,0,4,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0],[3,1,0,0,0,0,1,0,0,0,0,1,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,5,5,0,1,0,0,0,0,0,1,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,1,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,1,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,7,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Bf={name:"Island Temple",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3],[0,0,0,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3],[0,0,0,3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3],[0,0,3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3],[0,3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3],[3,4,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,4,3,4,4,5,4,4,3],[3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3,0],[3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3,0,0],[3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3,0,0,0],[3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Uf={name:"Whirlpool",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,1,1,1,1,1,1,1,1,1,1,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,4,4,4,4,4,4,4,4,4,4,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,4,0,0,0,0,0,0,0,0,0,4,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,4,0,1,1,1,1,1,1,1,1,0,4,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,4,0,1,0,0,0,0,0,0,0,1,0,4,0,1,0,3],[0,0,0,0,0,3,0,1,0,4,0,1,0,4,4,4,4,4,4,0,1,0,4,0,1,0,3],[0,0,0,0,3,0,1,0,4,0,1,0,4,0,0,0,0,0,4,0,1,0,4,0,1,0,3],[0,0,0,3,0,1,0,4,0,1,0,4,0,1,1,1,1,0,4,0,1,0,4,0,1,0,3],[0,0,3,0,1,0,4,0,1,0,4,0,1,5,0,0,1,0,4,0,1,0,4,0,1,0,3],[0,3,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,3],[7,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,6],[3,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,3,0],[3,0,4,0,1,0,4,0,1,0,4,0,0,5,4,0,1,0,4,0,1,0,4,0,3,0,0],[3,0,4,0,1,0,4,0,1,0,4,4,4,4,0,1,0,4,0,1,0,4,0,3,0,0,0],[3,0,4,0,1,0,4,0,1,0,0,0,0,0,1,0,4,0,1,0,4,0,3,0,0,0,0],[3,0,4,0,1,0,4,0,1,1,1,1,1,1,0,4,0,1,0,4,0,3,0,0,0,0,0],[3,0,4,0,1,0,4,0,0,0,0,0,0,0,4,0,1,0,4,0,3,0,0,0,0,0,0],[3,0,4,0,1,0,4,4,4,4,4,4,4,4,0,1,0,4,0,3,0,0,0,0,0,0,0],[3,0,4,0,1,0,0,0,0,0,0,0,0,0,1,0,4,0,3,0,0,0,0,0,0,0,0],[3,0,4,0,1,1,1,1,1,1,1,1,1,1,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,4,4,4,4,4,4,4,4,4,4,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Nf={name:"Tri Hard",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,4,0,0,0,0,6,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,9,3,4,0,0,0,0,0,0,0,0,0,3,8,3],[0,0,0,0,0,0,0,0,0,0,3,0,3,4,4,4,4,0,0,0,0,0,0,0,3,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,3,4,4,4,4,0,0,0,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,3,0,4,4,4,0,0,0,5,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,3,0,4,4,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,5,5,5,0,3,0,0,0,0,3],[0,0,0,0,3,0,0,5,5,3,0,1,1,1,1,1,0,0,0,0,0,3,4,4,0,0,3],[0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3],[0,0,3,5,5,5,0,0,3,0,0,0,1,1,0,0,1,1,0,0,3,0,0,4,4,4,3],[0,3,0,0,0,0,0,0,3,0,0,1,4,1,0,1,4,1,0,3,0,0,0,0,0,0,3],[3,0,0,5,5,5,5,3,0,0,0,1,1,0,0,1,1,0,0,3,4,4,4,4,0,0,3],[3,0,0,0,0,0,0,3,0,0,0,0,0,5,0,0,0,0,3,0,0,0,0,0,0,3,0],[3,5,5,5,0,0,3,0,0,0,0,0,0,5,0,0,0,0,3,0,0,4,4,4,3,0,0],[3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0],[3,0,0,5,5,3,0,0,0,0,1,0,1,0,0,0,0,3,4,4,0,0,3,0,0,0,0],[3,0,0,0,0,3,0,0,2,2,0,0,2,2,0,0,3,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,3,0,0,0,1,2,7,2,1,0,0,0,3,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,3,0,0,0,0,2,2,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,1,0,1,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,3,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0],[3,6,3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,0],[3,3,9,0,0,0,0,0,0,0,0,0,8,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Ff={name:"Heroes Journey",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,0,5,0,0,8,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,0,0,8,8,8,3],[0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,8,3],[0,0,0,0,0,0,0,0,3,4,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,5,5,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,0,5,4,5,0,5,5,5,0,5,5,5,5,5,5,5,0,0,3],[0,0,0,0,0,3,0,5,0,5,5,0,5,5,5,0,5,5,0,0,0,0,0,5,0,0,3],[0,0,0,0,3,0,5,5,0,0,0,5,5,5,5,0,5,0,5,5,5,5,0,5,0,0,3],[0,0,0,3,0,5,5,5,5,5,5,5,5,5,0,0,0,5,5,5,0,0,5,0,0,0,3],[0,0,3,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,5,5,0,0,0,0,3],[0,3,5,0,0,0,0,0,5,5,5,5,5,5,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,7,5,5,5,5,5,0,5,5,5,0,0,0,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,0,0,0,5,5,5,0,5,5,0,5,5,0,5,5,5,5,0,5,0,0,0,0,0,3,0],[3,5,5,0,5,5,5,0,0,0,5,5,5,0,5,5,5,0,5,0,0,0,0,0,3,0,0],[3,5,5,0,0,0,5,5,5,5,5,5,5,0,5,5,5,0,5,0,0,0,0,3,0,0,0],[3,5,5,5,5,0,5,5,5,5,5,0,0,5,5,0,0,5,0,0,0,0,3,0,0,0,0],[3,5,0,0,5,0,5,5,0,0,0,5,5,0,0,5,5,0,0,0,0,3,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,5,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,5,5,5,0,0,5,0,0,0,5,5,0,0,0,0,0,8,3,0,0,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,0,0,0,8,8,3,0,0,0,0,0,0,0,0],[3,0,0,5,5,0,0,5,0,0,0,0,0,0,8,8,8,3,0,0,0,0,0,0,0,0,0],[3,5,5,0,0,5,5,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,5,5,0,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0],[3,6,5,0,0,0,0,0,0,8,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Gf={name:"Royal Road",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,0,0,0,0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,0,0,3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3],[0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0],[3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3,0,0,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},mi=[{map:Sf,image:"../assets/mapPictures/Open.png",complexity:"Simple"},{map:Tf,image:"../assets/mapPictures/Pathways.png",complexity:"Simple"},{map:Uf,image:"../assets/mapPictures/Whirlpool.png",complexity:"Simple"},{map:Rf,image:"../assets/mapPictures/Lake Base.png",complexity:"Simple"},{map:Of,image:"../assets/mapPictures/The Wheel.png",complexity:"Simple"},{map:Ef,image:"../assets/mapPictures/Caverns.png",complexity:"Avarage"},{map:Af,image:"../assets/mapPictures/Chambers.png",complexity:"Avarage"},{map:Pf,image:"../assets/mapPictures/Lakes Race.png",complexity:"Avarage"},{map:kf,image:"../assets/mapPictures/Time Moves Ever Onward.png",complexity:"Avarage"},{map:Lf,image:"../assets/mapPictures/Hillside Flowers.png",complexity:"Avarage"},{map:If,image:"../assets/mapPictures/Cross Over.png",complexity:"Avarage"},{map:Bf,image:"../assets/mapPictures/Island Temple.png",complexity:"Avarage"},{map:Gf,image:"../assets/mapPictures/Island Temple.png",complexity:"Avarage"},{map:Df,image:"../assets/mapPictures/Big Nope.png",complexity:"Complex"},{map:Nf,image:"../assets/mapPictures/Tri Hard.png",complexity:"Complex"},{map:Ff,image:"../assets/mapPictures/Tri Hard.png",complexity:"Complex"}];function Bi(p,l){const s=Object.create(null),e=p.split(",");for(let v=0;v<e.length;v++)s[e[v]]=!0;return l?v=>!!s[v.toLowerCase()]:v=>!!s[v]}function Ui(p){if(gt(p)){const l={};for(let s=0;s<p.length;s++){const e=p[s],v=rr(e)?zf(e):Ui(e);if(v)for(const g in v)l[g]=v[g]}return l}else{if(rr(p))return p;if($t(p))return p}}const Vf=/;(?![^(]*\))/g,Hf=/:([^]+)/,Wf=/\/\*.*?\*\//gs;function zf(p){const l={};return p.replace(Wf,"").split(Vf).forEach(s=>{if(s){const e=s.split(Hf);e.length>1&&(l[e[0].trim()]=e[1].trim())}}),l}function Ni(p){let l="";if(rr(p))l=p;else if(gt(p))for(let s=0;s<p.length;s++){const e=Ni(p[s]);e&&(l+=e+" ")}else if($t(p))for(const s in p)p[s]&&(l+=s+" ");return l.trim()}const qf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xf=Bi(qf);function Tu(p){return!!p||p===""}const il=p=>rr(p)?p:p==null?"":gt(p)||$t(p)&&(p.toString===Au||!bt(p.toString))?JSON.stringify(p,Cu,2):String(p),Cu=(p,l)=>l&&l.__v_isRef?Cu(p,l.value):so(l)?{[`Map(${l.size})`]:[...l.entries()].reduce((s,[e,v])=>(s[`${e} =>`]=v,s),{})}:Eu(l)?{[`Set(${l.size})`]:[...l.values()]}:$t(l)&&!gt(l)&&!Ru(l)?String(l):l,qt={},oo=[],Dr=()=>{},Yf=()=>!1,$f=/^on[^a-z]/,Ts=p=>$f.test(p),Fi=p=>p.startsWith("onUpdate:"),ar=Object.assign,Gi=(p,l)=>{const s=p.indexOf(l);s>-1&&p.splice(s,1)},Kf=Object.prototype.hasOwnProperty,At=(p,l)=>Kf.call(p,l),gt=Array.isArray,so=p=>Cs(p)==="[object Map]",Eu=p=>Cs(p)==="[object Set]",bt=p=>typeof p=="function",rr=p=>typeof p=="string",Vi=p=>typeof p=="symbol",$t=p=>p!==null&&typeof p=="object",Mu=p=>$t(p)&&bt(p.then)&&bt(p.catch),Au=Object.prototype.toString,Cs=p=>Au.call(p),Zf=p=>Cs(p).slice(8,-1),Ru=p=>Cs(p)==="[object Object]",Hi=p=>rr(p)&&p!=="NaN"&&p[0]!=="-"&&""+parseInt(p,10)===p,is=Bi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Es=p=>{const l=Object.create(null);return s=>l[s]||(l[s]=p(s))},Qf=/-(\w)/g,Kr=Es(p=>p.replace(Qf,(l,s)=>s?s.toUpperCase():"")),Jf=/\B([A-Z])/g,po=Es(p=>p.replace(Jf,"-$1").toLowerCase()),Ms=Es(p=>p.charAt(0).toUpperCase()+p.slice(1)),$s=Es(p=>p?`on${Ms(p)}`:""),Lo=(p,l)=>!Object.is(p,l),Ks=(p,l)=>{for(let s=0;s<p.length;s++)p[s](l)},ms=(p,l,s)=>{Object.defineProperty(p,l,{configurable:!0,enumerable:!1,value:s})},ep=p=>{const l=parseFloat(p);return isNaN(l)?p:l};let al;const tp=()=>al||(al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Pr;class rp{constructor(l=!1){this.detached=l,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pr,!l&&Pr&&(this.index=(Pr.scopes||(Pr.scopes=[])).push(this)-1)}get active(){return this._active}run(l){if(this._active){const s=Pr;try{return Pr=this,l()}finally{Pr=s}}}on(){Pr=this}off(){Pr=this.parent}stop(l){if(this._active){let s,e;for(s=0,e=this.effects.length;s<e;s++)this.effects[s].stop();for(s=0,e=this.cleanups.length;s<e;s++)this.cleanups[s]();if(this.scopes)for(s=0,e=this.scopes.length;s<e;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!l){const v=this.parent.scopes.pop();v&&v!==this&&(this.parent.scopes[this.index]=v,v.index=this.index)}this.parent=void 0,this._active=!1}}}function np(p,l=Pr){l&&l.active&&l.effects.push(p)}function op(){return Pr}const Wi=p=>{const l=new Set(p);return l.w=0,l.n=0,l},Pu=p=>(p.w&Tn)>0,Ou=p=>(p.n&Tn)>0,sp=({deps:p})=>{if(p.length)for(let l=0;l<p.length;l++)p[l].w|=Tn},ip=p=>{const{deps:l}=p;if(l.length){let s=0;for(let e=0;e<l.length;e++){const v=l[e];Pu(v)&&!Ou(v)?v.delete(p):l[s++]=v,v.w&=~Tn,v.n&=~Tn}l.length=s}},gi=new WeakMap;let Co=0,Tn=1;const yi=30;let kr;const Wn=Symbol(""),vi=Symbol("");class zi{constructor(l,s=null,e){this.fn=l,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,np(this,e)}run(){if(!this.active)return this.fn();let l=kr,s=Sn;for(;l;){if(l===this)return;l=l.parent}try{return this.parent=kr,kr=this,Sn=!0,Tn=1<<++Co,Co<=yi?sp(this):ll(this),this.fn()}finally{Co<=yi&&ip(this),Tn=1<<--Co,kr=this.parent,Sn=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){kr===this?this.deferStop=!0:this.active&&(ll(this),this.onStop&&this.onStop(),this.active=!1)}}function ll(p){const{deps:l}=p;if(l.length){for(let s=0;s<l.length;s++)l[s].delete(p);l.length=0}}let Sn=!0;const ku=[];function mo(){ku.push(Sn),Sn=!1}function go(){const p=ku.pop();Sn=p===void 0?!0:p}function pr(p,l,s){if(Sn&&kr){let e=gi.get(p);e||gi.set(p,e=new Map);let v=e.get(s);v||e.set(s,v=Wi()),Lu(v)}}function Lu(p,l){let s=!1;Co<=yi?Ou(p)||(p.n|=Tn,s=!Pu(p)):s=!p.has(kr),s&&(p.add(kr),kr.deps.push(p))}function un(p,l,s,e,v,g){const h=gi.get(p);if(!h)return;let t=[];if(l==="clear")t=[...h.values()];else if(s==="length"&&gt(p)){const u=Number(e);h.forEach((c,f)=>{(f==="length"||f>=u)&&t.push(c)})}else switch(s!==void 0&&t.push(h.get(s)),l){case"add":gt(p)?Hi(s)&&t.push(h.get("length")):(t.push(h.get(Wn)),so(p)&&t.push(h.get(vi)));break;case"delete":gt(p)||(t.push(h.get(Wn)),so(p)&&t.push(h.get(vi)));break;case"set":so(p)&&t.push(h.get(Wn));break}if(t.length===1)t[0]&&bi(t[0]);else{const u=[];for(const c of t)c&&u.push(...c);bi(Wi(u))}}function bi(p,l){const s=gt(p)?p:[...p];for(const e of s)e.computed&&ul(e);for(const e of s)e.computed||ul(e)}function ul(p,l){(p!==kr||p.allowRecurse)&&(p.scheduler?p.scheduler():p.run())}const ap=Bi("__proto__,__v_isRef,__isVue"),Du=new Set(Object.getOwnPropertyNames(Symbol).filter(p=>p!=="arguments"&&p!=="caller").map(p=>Symbol[p]).filter(Vi)),lp=qi(),up=qi(!1,!0),cp=qi(!0),cl=dp();function dp(){const p={};return["includes","indexOf","lastIndexOf"].forEach(l=>{p[l]=function(...s){const e=Rt(this);for(let g=0,h=this.length;g<h;g++)pr(e,"get",g+"");const v=e[l](...s);return v===-1||v===!1?e[l](...s.map(Rt)):v}}),["push","pop","shift","unshift","splice"].forEach(l=>{p[l]=function(...s){mo();const e=Rt(this)[l].apply(this,s);return go(),e}}),p}function hp(p){const l=Rt(this);return pr(l,"has",p),l.hasOwnProperty(p)}function qi(p=!1,l=!1){return function(e,v,g){if(v==="__v_isReactive")return!p;if(v==="__v_isReadonly")return p;if(v==="__v_isShallow")return l;if(v==="__v_raw"&&g===(p?l?Mp:Fu:l?Nu:Uu).get(e))return e;const h=gt(e);if(!p){if(h&&At(cl,v))return Reflect.get(cl,v,g);if(v==="hasOwnProperty")return hp}const t=Reflect.get(e,v,g);return(Vi(v)?Du.has(v):ap(v))||(p||pr(e,"get",v),l)?t:ir(t)?h&&Hi(v)?t:t.value:$t(t)?p?Gu(t):$i(t):t}}const fp=Iu(),pp=Iu(!0);function Iu(p=!1){return function(s,e,v,g){let h=s[e];if(co(h)&&ir(h)&&!ir(v))return!1;if(!p&&(!gs(v)&&!co(v)&&(h=Rt(h),v=Rt(v)),!gt(s)&&ir(h)&&!ir(v)))return h.value=v,!0;const t=gt(s)&&Hi(e)?Number(e)<s.length:At(s,e),u=Reflect.set(s,e,v,g);return s===Rt(g)&&(t?Lo(v,h)&&un(s,"set",e,v):un(s,"add",e,v)),u}}function mp(p,l){const s=At(p,l);p[l];const e=Reflect.deleteProperty(p,l);return e&&s&&un(p,"delete",l,void 0),e}function gp(p,l){const s=Reflect.has(p,l);return(!Vi(l)||!Du.has(l))&&pr(p,"has",l),s}function yp(p){return pr(p,"iterate",gt(p)?"length":Wn),Reflect.ownKeys(p)}const Bu={get:lp,set:fp,deleteProperty:mp,has:gp,ownKeys:yp},vp={get:cp,set(p,l){return!0},deleteProperty(p,l){return!0}},bp=ar({},Bu,{get:up,set:pp}),Xi=p=>p,As=p=>Reflect.getPrototypeOf(p);function Yo(p,l,s=!1,e=!1){p=p.__v_raw;const v=Rt(p),g=Rt(l);s||(l!==g&&pr(v,"get",l),pr(v,"get",g));const{has:h}=As(v),t=e?Xi:s?Zi:Do;if(h.call(v,l))return t(p.get(l));if(h.call(v,g))return t(p.get(g));p!==v&&p.get(l)}function $o(p,l=!1){const s=this.__v_raw,e=Rt(s),v=Rt(p);return l||(p!==v&&pr(e,"has",p),pr(e,"has",v)),p===v?s.has(p):s.has(p)||s.has(v)}function Ko(p,l=!1){return p=p.__v_raw,!l&&pr(Rt(p),"iterate",Wn),Reflect.get(p,"size",p)}function dl(p){p=Rt(p);const l=Rt(this);return As(l).has.call(l,p)||(l.add(p),un(l,"add",p,p)),this}function hl(p,l){l=Rt(l);const s=Rt(this),{has:e,get:v}=As(s);let g=e.call(s,p);g||(p=Rt(p),g=e.call(s,p));const h=v.call(s,p);return s.set(p,l),g?Lo(l,h)&&un(s,"set",p,l):un(s,"add",p,l),this}function fl(p){const l=Rt(this),{has:s,get:e}=As(l);let v=s.call(l,p);v||(p=Rt(p),v=s.call(l,p)),e&&e.call(l,p);const g=l.delete(p);return v&&un(l,"delete",p,void 0),g}function pl(){const p=Rt(this),l=p.size!==0,s=p.clear();return l&&un(p,"clear",void 0,void 0),s}function Zo(p,l){return function(e,v){const g=this,h=g.__v_raw,t=Rt(h),u=l?Xi:p?Zi:Do;return!p&&pr(t,"iterate",Wn),h.forEach((c,f)=>e.call(v,u(c),u(f),g))}}function Qo(p,l,s){return function(...e){const v=this.__v_raw,g=Rt(v),h=so(g),t=p==="entries"||p===Symbol.iterator&&h,u=p==="keys"&&h,c=v[p](...e),f=s?Xi:l?Zi:Do;return!l&&pr(g,"iterate",u?vi:Wn),{next(){const{value:d,done:n}=c.next();return n?{value:d,done:n}:{value:t?[f(d[0]),f(d[1])]:f(d),done:n}},[Symbol.iterator](){return this}}}}function vn(p){return function(...l){return p==="delete"?!1:this}}function wp(){const p={get(g){return Yo(this,g)},get size(){return Ko(this)},has:$o,add:dl,set:hl,delete:fl,clear:pl,forEach:Zo(!1,!1)},l={get(g){return Yo(this,g,!1,!0)},get size(){return Ko(this)},has:$o,add:dl,set:hl,delete:fl,clear:pl,forEach:Zo(!1,!0)},s={get(g){return Yo(this,g,!0)},get size(){return Ko(this,!0)},has(g){return $o.call(this,g,!0)},add:vn("add"),set:vn("set"),delete:vn("delete"),clear:vn("clear"),forEach:Zo(!0,!1)},e={get(g){return Yo(this,g,!0,!0)},get size(){return Ko(this,!0)},has(g){return $o.call(this,g,!0)},add:vn("add"),set:vn("set"),delete:vn("delete"),clear:vn("clear"),forEach:Zo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(g=>{p[g]=Qo(g,!1,!1),s[g]=Qo(g,!0,!1),l[g]=Qo(g,!1,!0),e[g]=Qo(g,!0,!0)}),[p,s,l,e]}const[xp,_p,Sp,jp]=wp();function Yi(p,l){const s=l?p?jp:Sp:p?_p:xp;return(e,v,g)=>v==="__v_isReactive"?!p:v==="__v_isReadonly"?p:v==="__v_raw"?e:Reflect.get(At(s,v)&&v in e?s:e,v,g)}const Tp={get:Yi(!1,!1)},Cp={get:Yi(!1,!0)},Ep={get:Yi(!0,!1)},Uu=new WeakMap,Nu=new WeakMap,Fu=new WeakMap,Mp=new WeakMap;function Ap(p){switch(p){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Rp(p){return p.__v_skip||!Object.isExtensible(p)?0:Ap(Zf(p))}function $i(p){return co(p)?p:Ki(p,!1,Bu,Tp,Uu)}function Pp(p){return Ki(p,!1,bp,Cp,Nu)}function Gu(p){return Ki(p,!0,vp,Ep,Fu)}function Ki(p,l,s,e,v){if(!$t(p)||p.__v_raw&&!(l&&p.__v_isReactive))return p;const g=v.get(p);if(g)return g;const h=Rp(p);if(h===0)return p;const t=new Proxy(p,h===2?e:s);return v.set(p,t),t}function io(p){return co(p)?io(p.__v_raw):!!(p&&p.__v_isReactive)}function co(p){return!!(p&&p.__v_isReadonly)}function gs(p){return!!(p&&p.__v_isShallow)}function Vu(p){return io(p)||co(p)}function Rt(p){const l=p&&p.__v_raw;return l?Rt(l):p}function Hu(p){return ms(p,"__v_skip",!0),p}const Do=p=>$t(p)?$i(p):p,Zi=p=>$t(p)?Gu(p):p;function Wu(p){Sn&&kr&&(p=Rt(p),Lu(p.dep||(p.dep=Wi())))}function zu(p,l){p=Rt(p);const s=p.dep;s&&bi(s)}function ir(p){return!!(p&&p.__v_isRef===!0)}function ml(p){return Op(p,!1)}function Op(p,l){return ir(p)?p:new kp(p,l)}class kp{constructor(l,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?l:Rt(l),this._value=s?l:Do(l)}get value(){return Wu(this),this._value}set value(l){const s=this.__v_isShallow||gs(l)||co(l);l=s?l:Rt(l),Lo(l,this._rawValue)&&(this._rawValue=l,this._value=s?l:Do(l),zu(this))}}function qu(p){return ir(p)?p.value:p}const Lp={get:(p,l,s)=>qu(Reflect.get(p,l,s)),set:(p,l,s,e)=>{const v=p[l];return ir(v)&&!ir(s)?(v.value=s,!0):Reflect.set(p,l,s,e)}};function Xu(p){return io(p)?p:new Proxy(p,Lp)}var Yu;class Dp{constructor(l,s,e,v){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[Yu]=!1,this._dirty=!0,this.effect=new zi(l,()=>{this._dirty||(this._dirty=!0,zu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!v,this.__v_isReadonly=e}get value(){const l=Rt(this);return Wu(l),(l._dirty||!l._cacheable)&&(l._dirty=!1,l._value=l.effect.run()),l._value}set value(l){this._setter(l)}}Yu="__v_isReadonly";function Ip(p,l,s=!1){let e,v;const g=bt(p);return g?(e=p,v=Dr):(e=p.get,v=p.set),new Dp(e,v,g||!v,s)}function jn(p,l,s,e){let v;try{v=e?p(...e):p()}catch(g){Rs(g,l,s)}return v}function Cr(p,l,s,e){if(bt(p)){const g=jn(p,l,s,e);return g&&Mu(g)&&g.catch(h=>{Rs(h,l,s)}),g}const v=[];for(let g=0;g<p.length;g++)v.push(Cr(p[g],l,s,e));return v}function Rs(p,l,s,e=!0){const v=l?l.vnode:null;if(l){let g=l.parent;const h=l.proxy,t=s;for(;g;){const c=g.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](p,h,t)===!1)return}g=g.parent}const u=l.appContext.config.errorHandler;if(u){jn(u,null,10,[p,h,t]);return}}Bp(p,s,v,e)}function Bp(p,l,s,e=!0){console.error(p)}let Io=!1,wi=!1;const or=[];let Yr=0;const ao=[];let an=null,Fn=0;const $u=Promise.resolve();let Qi=null;function Up(p){const l=Qi||$u;return p?l.then(this?p.bind(this):p):l}function Np(p){let l=Yr+1,s=or.length;for(;l<s;){const e=l+s>>>1;Bo(or[e])<p?l=e+1:s=e}return l}function Ji(p){(!or.length||!or.includes(p,Io&&p.allowRecurse?Yr+1:Yr))&&(p.id==null?or.push(p):or.splice(Np(p.id),0,p),Ku())}function Ku(){!Io&&!wi&&(wi=!0,Qi=$u.then(Qu))}function Fp(p){const l=or.indexOf(p);l>Yr&&or.splice(l,1)}function Gp(p){gt(p)?ao.push(...p):(!an||!an.includes(p,p.allowRecurse?Fn+1:Fn))&&ao.push(p),Ku()}function gl(p,l=Io?Yr+1:0){for(;l<or.length;l++){const s=or[l];s&&s.pre&&(or.splice(l,1),l--,s())}}function Zu(p){if(ao.length){const l=[...new Set(ao)];if(ao.length=0,an){an.push(...l);return}for(an=l,an.sort((s,e)=>Bo(s)-Bo(e)),Fn=0;Fn<an.length;Fn++)an[Fn]();an=null,Fn=0}}const Bo=p=>p.id==null?1/0:p.id,Vp=(p,l)=>{const s=Bo(p)-Bo(l);if(s===0){if(p.pre&&!l.pre)return-1;if(l.pre&&!p.pre)return 1}return s};function Qu(p){wi=!1,Io=!0,or.sort(Vp);const l=Dr;try{for(Yr=0;Yr<or.length;Yr++){const s=or[Yr];s&&s.active!==!1&&jn(s,null,14)}}finally{Yr=0,or.length=0,Zu(),Io=!1,Qi=null,(or.length||ao.length)&&Qu()}}function Hp(p,l,...s){if(p.isUnmounted)return;const e=p.vnode.props||qt;let v=s;const g=l.startsWith("update:"),h=g&&l.slice(7);if(h&&h in e){const f=`${h==="modelValue"?"model":h}Modifiers`,{number:d,trim:n}=e[f]||qt;n&&(v=s.map(r=>rr(r)?r.trim():r)),d&&(v=s.map(ep))}let t,u=e[t=$s(l)]||e[t=$s(Kr(l))];!u&&g&&(u=e[t=$s(po(l))]),u&&Cr(u,p,6,v);const c=e[t+"Once"];if(c){if(!p.emitted)p.emitted={};else if(p.emitted[t])return;p.emitted[t]=!0,Cr(c,p,6,v)}}function Ju(p,l,s=!1){const e=l.emitsCache,v=e.get(p);if(v!==void 0)return v;const g=p.emits;let h={},t=!1;if(!bt(p)){const u=c=>{const f=Ju(c,l,!0);f&&(t=!0,ar(h,f))};!s&&l.mixins.length&&l.mixins.forEach(u),p.extends&&u(p.extends),p.mixins&&p.mixins.forEach(u)}return!g&&!t?($t(p)&&e.set(p,null),null):(gt(g)?g.forEach(u=>h[u]=null):ar(h,g),$t(p)&&e.set(p,h),h)}function Ps(p,l){return!p||!Ts(l)?!1:(l=l.slice(2).replace(/Once$/,""),At(p,l[0].toLowerCase()+l.slice(1))||At(p,po(l))||At(p,l))}let Tr=null,ec=null;function ys(p){const l=Tr;return Tr=p,ec=p&&p.type.__scopeId||null,l}function Wp(p,l=Tr,s){if(!l||p._n)return p;const e=(...v)=>{e._d&&Cl(-1);const g=ys(l);let h;try{h=p(...v)}finally{ys(g),e._d&&Cl(1)}return h};return e._n=!0,e._c=!0,e._d=!0,e}function Zs(p){const{type:l,vnode:s,proxy:e,withProxy:v,props:g,propsOptions:[h],slots:t,attrs:u,emit:c,render:f,renderCache:d,data:n,setupState:r,ctx:o,inheritAttrs:i}=p;let a,y;const w=ys(p);try{if(s.shapeFlag&4){const _=v||e;a=Xr(f.call(_,_,d,g,r,n,o)),y=u}else{const _=l;a=Xr(_.length>1?_(g,{attrs:u,slots:t,emit:c}):_(g,null)),y=l.props?u:zp(u)}}catch(_){Ao.length=0,Rs(_,p,1),a=ln(Ir)}let x=a;if(y&&i!==!1){const _=Object.keys(y),{shapeFlag:T}=x;_.length&&T&7&&(h&&_.some(Fi)&&(y=qp(y,h)),x=Cn(x,y))}return s.dirs&&(x=Cn(x),x.dirs=x.dirs?x.dirs.concat(s.dirs):s.dirs),s.transition&&(x.transition=s.transition),a=x,ys(w),a}const zp=p=>{let l;for(const s in p)(s==="class"||s==="style"||Ts(s))&&((l||(l={}))[s]=p[s]);return l},qp=(p,l)=>{const s={};for(const e in p)(!Fi(e)||!(e.slice(9)in l))&&(s[e]=p[e]);return s};function Xp(p,l,s){const{props:e,children:v,component:g}=p,{props:h,children:t,patchFlag:u}=l,c=g.emitsOptions;if(l.dirs||l.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return e?yl(e,h,c):!!h;if(u&8){const f=l.dynamicProps;for(let d=0;d<f.length;d++){const n=f[d];if(h[n]!==e[n]&&!Ps(c,n))return!0}}}else return(v||t)&&(!t||!t.$stable)?!0:e===h?!1:e?h?yl(e,h,c):!0:!!h;return!1}function yl(p,l,s){const e=Object.keys(l);if(e.length!==Object.keys(p).length)return!0;for(let v=0;v<e.length;v++){const g=e[v];if(l[g]!==p[g]&&!Ps(s,g))return!0}return!1}function Yp({vnode:p,parent:l},s){for(;l&&l.subTree===p;)(p=l.vnode).el=s,l=l.parent}const $p=p=>p.__isSuspense;function Kp(p,l){l&&l.pendingBranch?gt(p)?l.effects.push(...p):l.effects.push(p):Gp(p)}function Zp(p,l){if(Qt){let s=Qt.provides;const e=Qt.parent&&Qt.parent.provides;e===s&&(s=Qt.provides=Object.create(e)),s[p]=l}}function as(p,l,s=!1){const e=Qt||Tr;if(e){const v=e.parent==null?e.vnode.appContext&&e.vnode.appContext.provides:e.parent.provides;if(v&&p in v)return v[p];if(arguments.length>1)return s&&bt(l)?l.call(e.proxy):l}}const Jo={};function Qs(p,l,s){return tc(p,l,s)}function tc(p,l,{immediate:s,deep:e,flush:v,onTrack:g,onTrigger:h}=qt){const t=op()===(Qt==null?void 0:Qt.scope)?Qt:null;let u,c=!1,f=!1;if(ir(p)?(u=()=>p.value,c=gs(p)):io(p)?(u=()=>p,e=!0):gt(p)?(f=!0,c=p.some(x=>io(x)||gs(x)),u=()=>p.map(x=>{if(ir(x))return x.value;if(io(x))return no(x);if(bt(x))return jn(x,t,2)})):bt(p)?l?u=()=>jn(p,t,2):u=()=>{if(!(t&&t.isUnmounted))return d&&d(),Cr(p,t,3,[n])}:u=Dr,l&&e){const x=u;u=()=>no(x())}let d,n=x=>{d=y.onStop=()=>{jn(x,t,4)}},r;if(No)if(n=Dr,l?s&&Cr(l,t,3,[u(),f?[]:void 0,n]):u(),v==="sync"){const x=Z0();r=x.__watcherHandles||(x.__watcherHandles=[])}else return Dr;let o=f?new Array(p.length).fill(Jo):Jo;const i=()=>{if(y.active)if(l){const x=y.run();(e||c||(f?x.some((_,T)=>Lo(_,o[T])):Lo(x,o)))&&(d&&d(),Cr(l,t,3,[x,o===Jo?void 0:f&&o[0]===Jo?[]:o,n]),o=x)}else y.run()};i.allowRecurse=!!l;let a;v==="sync"?a=i:v==="post"?a=()=>fr(i,t&&t.suspense):(i.pre=!0,t&&(i.id=t.uid),a=()=>Ji(i));const y=new zi(u,a);l?s?i():o=y.run():v==="post"?fr(y.run.bind(y),t&&t.suspense):y.run();const w=()=>{y.stop(),t&&t.scope&&Gi(t.scope.effects,y)};return r&&r.push(w),w}function Qp(p,l,s){const e=this.proxy,v=rr(p)?p.includes(".")?rc(e,p):()=>e[p]:p.bind(e,e);let g;bt(l)?g=l:(g=l.handler,s=l);const h=Qt;ho(this);const t=tc(v,g.bind(e),s);return h?ho(h):qn(),t}function rc(p,l){const s=l.split(".");return()=>{let e=p;for(let v=0;v<s.length&&e;v++)e=e[s[v]];return e}}function no(p,l){if(!$t(p)||p.__v_skip||(l=l||new Set,l.has(p)))return p;if(l.add(p),ir(p))no(p.value,l);else if(gt(p))for(let s=0;s<p.length;s++)no(p[s],l);else if(Eu(p)||so(p))p.forEach(s=>{no(s,l)});else if(Ru(p))for(const s in p)no(p[s],l);return p}function Jp(){const p={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ac(()=>{p.isMounted=!0}),lc(()=>{p.isUnmounting=!0}),p}const vr=[Function,Array],e0={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vr,onEnter:vr,onAfterEnter:vr,onEnterCancelled:vr,onBeforeLeave:vr,onLeave:vr,onAfterLeave:vr,onLeaveCancelled:vr,onBeforeAppear:vr,onAppear:vr,onAfterAppear:vr,onAppearCancelled:vr},setup(p,{slots:l}){const s=V0(),e=Jp();let v;return()=>{const g=l.default&&oc(l.default(),!0);if(!g||!g.length)return;let h=g[0];if(g.length>1){for(const i of g)if(i.type!==Ir){h=i;break}}const t=Rt(p),{mode:u}=t;if(e.isLeaving)return Js(h);const c=vl(h);if(!c)return Js(h);const f=xi(c,t,e,s);_i(c,f);const d=s.subTree,n=d&&vl(d);let r=!1;const{getTransitionKey:o}=c.type;if(o){const i=o();v===void 0?v=i:i!==v&&(v=i,r=!0)}if(n&&n.type!==Ir&&(!Gn(c,n)||r)){const i=xi(n,t,e,s);if(_i(n,i),u==="out-in")return e.isLeaving=!0,i.afterLeave=()=>{e.isLeaving=!1,s.update.active!==!1&&s.update()},Js(h);u==="in-out"&&c.type!==Ir&&(i.delayLeave=(a,y,w)=>{const x=nc(e,n);x[String(n.key)]=n,a._leaveCb=()=>{y(),a._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=w})}return h}}},t0=e0;function nc(p,l){const{leavingVNodes:s}=p;let e=s.get(l.type);return e||(e=Object.create(null),s.set(l.type,e)),e}function xi(p,l,s,e){const{appear:v,mode:g,persisted:h=!1,onBeforeEnter:t,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:n,onAfterLeave:r,onLeaveCancelled:o,onBeforeAppear:i,onAppear:a,onAfterAppear:y,onAppearCancelled:w}=l,x=String(p.key),_=nc(s,p),T=(P,I)=>{P&&Cr(P,e,9,I)},E=(P,I)=>{const R=I[1];T(P,I),gt(P)?P.every(L=>L.length<=1)&&R():P.length<=1&&R()},A={mode:g,persisted:h,beforeEnter(P){let I=t;if(!s.isMounted)if(v)I=i||t;else return;P._leaveCb&&P._leaveCb(!0);const R=_[x];R&&Gn(p,R)&&R.el._leaveCb&&R.el._leaveCb(),T(I,[P])},enter(P){let I=u,R=c,L=f;if(!s.isMounted)if(v)I=a||u,R=y||c,L=w||f;else return;let U=!1;const D=P._enterCb=H=>{U||(U=!0,H?T(L,[P]):T(R,[P]),A.delayedLeave&&A.delayedLeave(),P._enterCb=void 0)};I?E(I,[P,D]):D()},leave(P,I){const R=String(p.key);if(P._enterCb&&P._enterCb(!0),s.isUnmounting)return I();T(d,[P]);let L=!1;const U=P._leaveCb=D=>{L||(L=!0,I(),D?T(o,[P]):T(r,[P]),P._leaveCb=void 0,_[R]===p&&delete _[R])};_[R]=p,n?E(n,[P,U]):U()},clone(P){return xi(P,l,s,e)}};return A}function Js(p){if(Os(p))return p=Cn(p),p.children=null,p}function vl(p){return Os(p)?p.children?p.children[0]:void 0:p}function _i(p,l){p.shapeFlag&6&&p.component?_i(p.component.subTree,l):p.shapeFlag&128?(p.ssContent.transition=l.clone(p.ssContent),p.ssFallback.transition=l.clone(p.ssFallback)):p.transition=l}function oc(p,l=!1,s){let e=[],v=0;for(let g=0;g<p.length;g++){let h=p[g];const t=s==null?h.key:String(s)+String(h.key!=null?h.key:g);h.type===Or?(h.patchFlag&128&&v++,e=e.concat(oc(h.children,l,t))):(l||h.type!==Ir)&&e.push(t!=null?Cn(h,{key:t}):h)}if(v>1)for(let g=0;g<e.length;g++)e[g].patchFlag=-2;return e}function sc(p){return bt(p)?{setup:p,name:p.name}:p}const ls=p=>!!p.type.__asyncLoader,Os=p=>p.type.__isKeepAlive;function r0(p,l){ic(p,"a",l)}function n0(p,l){ic(p,"da",l)}function ic(p,l,s=Qt){const e=p.__wdc||(p.__wdc=()=>{let v=s;for(;v;){if(v.isDeactivated)return;v=v.parent}return p()});if(ks(l,e,s),s){let v=s.parent;for(;v&&v.parent;)Os(v.parent.vnode)&&o0(e,l,s,v),v=v.parent}}function o0(p,l,s,e){const v=ks(l,p,e,!0);uc(()=>{Gi(e[l],v)},s)}function ks(p,l,s=Qt,e=!1){if(s){const v=s[p]||(s[p]=[]),g=l.__weh||(l.__weh=(...h)=>{if(s.isUnmounted)return;mo(),ho(s);const t=Cr(l,s,p,h);return qn(),go(),t});return e?v.unshift(g):v.push(g),g}}const hn=p=>(l,s=Qt)=>(!No||p==="sp")&&ks(p,(...e)=>l(...e),s),s0=hn("bm"),ac=hn("m"),i0=hn("bu"),a0=hn("u"),lc=hn("bum"),uc=hn("um"),l0=hn("sp"),u0=hn("rtg"),c0=hn("rtc");function d0(p,l=Qt){ks("ec",p,l)}function Bn(p,l,s,e){const v=p.dirs,g=l&&l.dirs;for(let h=0;h<v.length;h++){const t=v[h];g&&(t.oldValue=g[h].value);let u=t.dir[e];u&&(mo(),Cr(u,s,8,[p.el,t,p,l]),go())}}const ea="components";function h0(p,l){return dc(ea,p,!0,l)||p}const cc=Symbol();function f0(p){return rr(p)?dc(ea,p,!1)||p:p||cc}function dc(p,l,s=!0,e=!1){const v=Tr||Qt;if(v){const g=v.type;if(p===ea){const t=X0(g,!1);if(t&&(t===l||t===Kr(l)||t===Ms(Kr(l))))return g}const h=bl(v[p]||g[p],l)||bl(v.appContext[p],l);return!h&&e?g:h}}function bl(p,l){return p&&(p[l]||p[Kr(l)]||p[Ms(Kr(l))])}function p0(p,l,s,e){let v;const g=s&&s[e];if(gt(p)||rr(p)){v=new Array(p.length);for(let h=0,t=p.length;h<t;h++)v[h]=l(p[h],h,void 0,g&&g[h])}else if(typeof p=="number"){v=new Array(p);for(let h=0;h<p;h++)v[h]=l(h+1,h,void 0,g&&g[h])}else if($t(p))if(p[Symbol.iterator])v=Array.from(p,(h,t)=>l(h,t,void 0,g&&g[t]));else{const h=Object.keys(p);v=new Array(h.length);for(let t=0,u=h.length;t<u;t++){const c=h[t];v[t]=l(p[c],c,t,g&&g[t])}}else v=[];return s&&(s[e]=v),v}const Si=p=>p?_c(p)?sa(p)||p.proxy:Si(p.parent):null,Mo=ar(Object.create(null),{$:p=>p,$el:p=>p.vnode.el,$data:p=>p.data,$props:p=>p.props,$attrs:p=>p.attrs,$slots:p=>p.slots,$refs:p=>p.refs,$parent:p=>Si(p.parent),$root:p=>Si(p.root),$emit:p=>p.emit,$options:p=>ta(p),$forceUpdate:p=>p.f||(p.f=()=>Ji(p.update)),$nextTick:p=>p.n||(p.n=Up.bind(p.proxy)),$watch:p=>Qp.bind(p)}),ei=(p,l)=>p!==qt&&!p.__isScriptSetup&&At(p,l),m0={get({_:p},l){const{ctx:s,setupState:e,data:v,props:g,accessCache:h,type:t,appContext:u}=p;let c;if(l[0]!=="$"){const r=h[l];if(r!==void 0)switch(r){case 1:return e[l];case 2:return v[l];case 4:return s[l];case 3:return g[l]}else{if(ei(e,l))return h[l]=1,e[l];if(v!==qt&&At(v,l))return h[l]=2,v[l];if((c=p.propsOptions[0])&&At(c,l))return h[l]=3,g[l];if(s!==qt&&At(s,l))return h[l]=4,s[l];ji&&(h[l]=0)}}const f=Mo[l];let d,n;if(f)return l==="$attrs"&&pr(p,"get",l),f(p);if((d=t.__cssModules)&&(d=d[l]))return d;if(s!==qt&&At(s,l))return h[l]=4,s[l];if(n=u.config.globalProperties,At(n,l))return n[l]},set({_:p},l,s){const{data:e,setupState:v,ctx:g}=p;return ei(v,l)?(v[l]=s,!0):e!==qt&&At(e,l)?(e[l]=s,!0):At(p.props,l)||l[0]==="$"&&l.slice(1)in p?!1:(g[l]=s,!0)},has({_:{data:p,setupState:l,accessCache:s,ctx:e,appContext:v,propsOptions:g}},h){let t;return!!s[h]||p!==qt&&At(p,h)||ei(l,h)||(t=g[0])&&At(t,h)||At(e,h)||At(Mo,h)||At(v.config.globalProperties,h)},defineProperty(p,l,s){return s.get!=null?p._.accessCache[l]=0:At(s,"value")&&this.set(p,l,s.value,null),Reflect.defineProperty(p,l,s)}};let ji=!0;function g0(p){const l=ta(p),s=p.proxy,e=p.ctx;ji=!1,l.beforeCreate&&wl(l.beforeCreate,p,"bc");const{data:v,computed:g,methods:h,watch:t,provide:u,inject:c,created:f,beforeMount:d,mounted:n,beforeUpdate:r,updated:o,activated:i,deactivated:a,beforeDestroy:y,beforeUnmount:w,destroyed:x,unmounted:_,render:T,renderTracked:E,renderTriggered:A,errorCaptured:P,serverPrefetch:I,expose:R,inheritAttrs:L,components:U,directives:D,filters:H}=l;if(c&&y0(c,e,null,p.appContext.config.unwrapInjectedRef),h)for(const le in h){const J=h[le];bt(J)&&(e[le]=J.bind(s))}if(v){const le=v.call(s,s);$t(le)&&(p.data=$i(le))}if(ji=!0,g)for(const le in g){const J=g[le],ue=bt(J)?J.bind(s,s):bt(J.get)?J.get.bind(s,s):Dr,se=!bt(J)&&bt(J.set)?J.set.bind(s):Dr,me=$0({get:ue,set:se});Object.defineProperty(e,le,{enumerable:!0,configurable:!0,get:()=>me.value,set:xe=>me.value=xe})}if(t)for(const le in t)hc(t[le],e,s,le);if(u){const le=bt(u)?u.call(s):u;Reflect.ownKeys(le).forEach(J=>{Zp(J,le[J])})}f&&wl(f,p,"c");function ae(le,J){gt(J)?J.forEach(ue=>le(ue.bind(s))):J&&le(J.bind(s))}if(ae(s0,d),ae(ac,n),ae(i0,r),ae(a0,o),ae(r0,i),ae(n0,a),ae(d0,P),ae(c0,E),ae(u0,A),ae(lc,w),ae(uc,_),ae(l0,I),gt(R))if(R.length){const le=p.exposed||(p.exposed={});R.forEach(J=>{Object.defineProperty(le,J,{get:()=>s[J],set:ue=>s[J]=ue})})}else p.exposed||(p.exposed={});T&&p.render===Dr&&(p.render=T),L!=null&&(p.inheritAttrs=L),U&&(p.components=U),D&&(p.directives=D)}function y0(p,l,s=Dr,e=!1){gt(p)&&(p=Ti(p));for(const v in p){const g=p[v];let h;$t(g)?"default"in g?h=as(g.from||v,g.default,!0):h=as(g.from||v):h=as(g),ir(h)&&e?Object.defineProperty(l,v,{enumerable:!0,configurable:!0,get:()=>h.value,set:t=>h.value=t}):l[v]=h}}function wl(p,l,s){Cr(gt(p)?p.map(e=>e.bind(l.proxy)):p.bind(l.proxy),l,s)}function hc(p,l,s,e){const v=e.includes(".")?rc(s,e):()=>s[e];if(rr(p)){const g=l[p];bt(g)&&Qs(v,g)}else if(bt(p))Qs(v,p.bind(s));else if($t(p))if(gt(p))p.forEach(g=>hc(g,l,s,e));else{const g=bt(p.handler)?p.handler.bind(s):l[p.handler];bt(g)&&Qs(v,g,p)}}function ta(p){const l=p.type,{mixins:s,extends:e}=l,{mixins:v,optionsCache:g,config:{optionMergeStrategies:h}}=p.appContext,t=g.get(l);let u;return t?u=t:!v.length&&!s&&!e?u=l:(u={},v.length&&v.forEach(c=>vs(u,c,h,!0)),vs(u,l,h)),$t(l)&&g.set(l,u),u}function vs(p,l,s,e=!1){const{mixins:v,extends:g}=l;g&&vs(p,g,s,!0),v&&v.forEach(h=>vs(p,h,s,!0));for(const h in l)if(!(e&&h==="expose")){const t=v0[h]||s&&s[h];p[h]=t?t(p[h],l[h]):l[h]}return p}const v0={data:xl,props:Nn,emits:Nn,methods:Nn,computed:Nn,beforeCreate:ur,created:ur,beforeMount:ur,mounted:ur,beforeUpdate:ur,updated:ur,beforeDestroy:ur,beforeUnmount:ur,destroyed:ur,unmounted:ur,activated:ur,deactivated:ur,errorCaptured:ur,serverPrefetch:ur,components:Nn,directives:Nn,watch:w0,provide:xl,inject:b0};function xl(p,l){return l?p?function(){return ar(bt(p)?p.call(this,this):p,bt(l)?l.call(this,this):l)}:l:p}function b0(p,l){return Nn(Ti(p),Ti(l))}function Ti(p){if(gt(p)){const l={};for(let s=0;s<p.length;s++)l[p[s]]=p[s];return l}return p}function ur(p,l){return p?[...new Set([].concat(p,l))]:l}function Nn(p,l){return p?ar(ar(Object.create(null),p),l):l}function w0(p,l){if(!p)return l;if(!l)return p;const s=ar(Object.create(null),p);for(const e in l)s[e]=ur(p[e],l[e]);return s}function x0(p,l,s,e=!1){const v={},g={};ms(g,Ds,1),p.propsDefaults=Object.create(null),fc(p,l,v,g);for(const h in p.propsOptions[0])h in v||(v[h]=void 0);s?p.props=e?v:Pp(v):p.type.props?p.props=v:p.props=g,p.attrs=g}function _0(p,l,s,e){const{props:v,attrs:g,vnode:{patchFlag:h}}=p,t=Rt(v),[u]=p.propsOptions;let c=!1;if((e||h>0)&&!(h&16)){if(h&8){const f=p.vnode.dynamicProps;for(let d=0;d<f.length;d++){let n=f[d];if(Ps(p.emitsOptions,n))continue;const r=l[n];if(u)if(At(g,n))r!==g[n]&&(g[n]=r,c=!0);else{const o=Kr(n);v[o]=Ci(u,t,o,r,p,!1)}else r!==g[n]&&(g[n]=r,c=!0)}}}else{fc(p,l,v,g)&&(c=!0);let f;for(const d in t)(!l||!At(l,d)&&((f=po(d))===d||!At(l,f)))&&(u?s&&(s[d]!==void 0||s[f]!==void 0)&&(v[d]=Ci(u,t,d,void 0,p,!0)):delete v[d]);if(g!==t)for(const d in g)(!l||!At(l,d))&&(delete g[d],c=!0)}c&&un(p,"set","$attrs")}function fc(p,l,s,e){const[v,g]=p.propsOptions;let h=!1,t;if(l)for(let u in l){if(is(u))continue;const c=l[u];let f;v&&At(v,f=Kr(u))?!g||!g.includes(f)?s[f]=c:(t||(t={}))[f]=c:Ps(p.emitsOptions,u)||(!(u in e)||c!==e[u])&&(e[u]=c,h=!0)}if(g){const u=Rt(s),c=t||qt;for(let f=0;f<g.length;f++){const d=g[f];s[d]=Ci(v,u,d,c[d],p,!At(c,d))}}return h}function Ci(p,l,s,e,v,g){const h=p[s];if(h!=null){const t=At(h,"default");if(t&&e===void 0){const u=h.default;if(h.type!==Function&&bt(u)){const{propsDefaults:c}=v;s in c?e=c[s]:(ho(v),e=c[s]=u.call(null,l),qn())}else e=u}h[0]&&(g&&!t?e=!1:h[1]&&(e===""||e===po(s))&&(e=!0))}return e}function pc(p,l,s=!1){const e=l.propsCache,v=e.get(p);if(v)return v;const g=p.props,h={},t=[];let u=!1;if(!bt(p)){const f=d=>{u=!0;const[n,r]=pc(d,l,!0);ar(h,n),r&&t.push(...r)};!s&&l.mixins.length&&l.mixins.forEach(f),p.extends&&f(p.extends),p.mixins&&p.mixins.forEach(f)}if(!g&&!u)return $t(p)&&e.set(p,oo),oo;if(gt(g))for(let f=0;f<g.length;f++){const d=Kr(g[f]);_l(d)&&(h[d]=qt)}else if(g)for(const f in g){const d=Kr(f);if(_l(d)){const n=g[f],r=h[d]=gt(n)||bt(n)?{type:n}:Object.assign({},n);if(r){const o=Tl(Boolean,r.type),i=Tl(String,r.type);r[0]=o>-1,r[1]=i<0||o<i,(o>-1||At(r,"default"))&&t.push(d)}}}const c=[h,t];return $t(p)&&e.set(p,c),c}function _l(p){return p[0]!=="$"}function Sl(p){const l=p&&p.toString().match(/^\s*(function|class) (\w+)/);return l?l[2]:p===null?"null":""}function jl(p,l){return Sl(p)===Sl(l)}function Tl(p,l){return gt(l)?l.findIndex(s=>jl(s,p)):bt(l)&&jl(l,p)?0:-1}const mc=p=>p[0]==="_"||p==="$stable",ra=p=>gt(p)?p.map(Xr):[Xr(p)],S0=(p,l,s)=>{if(l._n)return l;const e=Wp((...v)=>ra(l(...v)),s);return e._c=!1,e},gc=(p,l,s)=>{const e=p._ctx;for(const v in p){if(mc(v))continue;const g=p[v];if(bt(g))l[v]=S0(v,g,e);else if(g!=null){const h=ra(g);l[v]=()=>h}}},yc=(p,l)=>{const s=ra(l);p.slots.default=()=>s},j0=(p,l)=>{if(p.vnode.shapeFlag&32){const s=l._;s?(p.slots=Rt(l),ms(l,"_",s)):gc(l,p.slots={})}else p.slots={},l&&yc(p,l);ms(p.slots,Ds,1)},T0=(p,l,s)=>{const{vnode:e,slots:v}=p;let g=!0,h=qt;if(e.shapeFlag&32){const t=l._;t?s&&t===1?g=!1:(ar(v,l),!s&&t===1&&delete v._):(g=!l.$stable,gc(l,v)),h=l}else l&&(yc(p,l),h={default:1});if(g)for(const t in v)!mc(t)&&!(t in h)&&delete v[t]};function vc(){return{app:null,config:{isNativeTag:Yf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let C0=0;function E0(p,l){return function(e,v=null){bt(e)||(e=Object.assign({},e)),v!=null&&!$t(v)&&(v=null);const g=vc(),h=new Set;let t=!1;const u=g.app={_uid:C0++,_component:e,_props:v,_container:null,_context:g,_instance:null,version:Q0,get config(){return g.config},set config(c){},use(c,...f){return h.has(c)||(c&&bt(c.install)?(h.add(c),c.install(u,...f)):bt(c)&&(h.add(c),c(u,...f))),u},mixin(c){return g.mixins.includes(c)||g.mixins.push(c),u},component(c,f){return f?(g.components[c]=f,u):g.components[c]},directive(c,f){return f?(g.directives[c]=f,u):g.directives[c]},mount(c,f,d){if(!t){const n=ln(e,v);return n.appContext=g,f&&l?l(n,c):p(n,c,d),t=!0,u._container=c,c.__vue_app__=u,sa(n.component)||n.component.proxy}},unmount(){t&&(p(null,u._container),delete u._container.__vue_app__)},provide(c,f){return g.provides[c]=f,u}};return u}}function Ei(p,l,s,e,v=!1){if(gt(p)){p.forEach((n,r)=>Ei(n,l&&(gt(l)?l[r]:l),s,e,v));return}if(ls(e)&&!v)return;const g=e.shapeFlag&4?sa(e.component)||e.component.proxy:e.el,h=v?null:g,{i:t,r:u}=p,c=l&&l.r,f=t.refs===qt?t.refs={}:t.refs,d=t.setupState;if(c!=null&&c!==u&&(rr(c)?(f[c]=null,At(d,c)&&(d[c]=null)):ir(c)&&(c.value=null)),bt(u))jn(u,t,12,[h,f]);else{const n=rr(u),r=ir(u);if(n||r){const o=()=>{if(p.f){const i=n?At(d,u)?d[u]:f[u]:u.value;v?gt(i)&&Gi(i,g):gt(i)?i.includes(g)||i.push(g):n?(f[u]=[g],At(d,u)&&(d[u]=f[u])):(u.value=[g],p.k&&(f[p.k]=u.value))}else n?(f[u]=h,At(d,u)&&(d[u]=h)):r&&(u.value=h,p.k&&(f[p.k]=h))};h?(o.id=-1,fr(o,s)):o()}}}const fr=Kp;function M0(p){return A0(p)}function A0(p,l){const s=tp();s.__VUE__=!0;const{insert:e,remove:v,patchProp:g,createElement:h,createText:t,createComment:u,setText:c,setElementText:f,parentNode:d,nextSibling:n,setScopeId:r=Dr,insertStaticContent:o}=p,i=(B,N,re,Y=null,ne=null,ie=null,oe=!1,pe=null,ge=!!N.dynamicChildren)=>{if(B===N)return;B&&!Gn(B,N)&&(Y=Se(B),xe(B,ne,ie,!0),B=null),N.patchFlag===-2&&(ge=!1,N.dynamicChildren=null);const{type:he,ref:Pe,shapeFlag:Be}=N;switch(he){case Ls:a(B,N,re,Y);break;case Ir:y(B,N,re,Y);break;case ti:B==null&&w(N,re,Y,oe);break;case Or:U(B,N,re,Y,ne,ie,oe,pe,ge);break;default:Be&1?T(B,N,re,Y,ne,ie,oe,pe,ge):Be&6?D(B,N,re,Y,ne,ie,oe,pe,ge):(Be&64||Be&128)&&he.process(B,N,re,Y,ne,ie,oe,pe,ge,G)}Pe!=null&&ne&&Ei(Pe,B&&B.ref,ie,N||B,!N)},a=(B,N,re,Y)=>{if(B==null)e(N.el=t(N.children),re,Y);else{const ne=N.el=B.el;N.children!==B.children&&c(ne,N.children)}},y=(B,N,re,Y)=>{B==null?e(N.el=u(N.children||""),re,Y):N.el=B.el},w=(B,N,re,Y)=>{[B.el,B.anchor]=o(B.children,N,re,Y,B.el,B.anchor)},x=({el:B,anchor:N},re,Y)=>{let ne;for(;B&&B!==N;)ne=n(B),e(B,re,Y),B=ne;e(N,re,Y)},_=({el:B,anchor:N})=>{let re;for(;B&&B!==N;)re=n(B),v(B),B=re;v(N)},T=(B,N,re,Y,ne,ie,oe,pe,ge)=>{oe=oe||N.type==="svg",B==null?E(N,re,Y,ne,ie,oe,pe,ge):I(B,N,ne,ie,oe,pe,ge)},E=(B,N,re,Y,ne,ie,oe,pe)=>{let ge,he;const{type:Pe,props:Be,shapeFlag:Ue,transition:Le,dirs:$e}=B;if(ge=B.el=h(B.type,ie,Be&&Be.is,Be),Ue&8?f(ge,B.children):Ue&16&&P(B.children,ge,null,Y,ne,ie&&Pe!=="foreignObject",oe,pe),$e&&Bn(B,null,Y,"created"),A(ge,B,B.scopeId,oe,Y),Be){for(const Me in Be)Me!=="value"&&!is(Me)&&g(ge,Me,null,Be[Me],ie,B.children,Y,ne,_e);"value"in Be&&g(ge,"value",null,Be.value),(he=Be.onVnodeBeforeMount)&&zr(he,Y,B)}$e&&Bn(B,null,Y,"beforeMount");const Ae=(!ne||ne&&!ne.pendingBranch)&&Le&&!Le.persisted;Ae&&Le.beforeEnter(ge),e(ge,N,re),((he=Be&&Be.onVnodeMounted)||Ae||$e)&&fr(()=>{he&&zr(he,Y,B),Ae&&Le.enter(ge),$e&&Bn(B,null,Y,"mounted")},ne)},A=(B,N,re,Y,ne)=>{if(re&&r(B,re),Y)for(let ie=0;ie<Y.length;ie++)r(B,Y[ie]);if(ne){let ie=ne.subTree;if(N===ie){const oe=ne.vnode;A(B,oe,oe.scopeId,oe.slotScopeIds,ne.parent)}}},P=(B,N,re,Y,ne,ie,oe,pe,ge=0)=>{for(let he=ge;he<B.length;he++){const Pe=B[he]=pe?bn(B[he]):Xr(B[he]);i(null,Pe,N,re,Y,ne,ie,oe,pe)}},I=(B,N,re,Y,ne,ie,oe)=>{const pe=N.el=B.el;let{patchFlag:ge,dynamicChildren:he,dirs:Pe}=N;ge|=B.patchFlag&16;const Be=B.props||qt,Ue=N.props||qt;let Le;re&&Un(re,!1),(Le=Ue.onVnodeBeforeUpdate)&&zr(Le,re,N,B),Pe&&Bn(N,B,re,"beforeUpdate"),re&&Un(re,!0);const $e=ne&&N.type!=="foreignObject";if(he?R(B.dynamicChildren,he,pe,re,Y,$e,ie):oe||J(B,N,pe,null,re,Y,$e,ie,!1),ge>0){if(ge&16)L(pe,N,Be,Ue,re,Y,ne);else if(ge&2&&Be.class!==Ue.class&&g(pe,"class",null,Ue.class,ne),ge&4&&g(pe,"style",Be.style,Ue.style,ne),ge&8){const Ae=N.dynamicProps;for(let Me=0;Me<Ae.length;Me++){const He=Ae[Me],qe=Be[He],be=Ue[He];(be!==qe||He==="value")&&g(pe,He,qe,be,ne,B.children,re,Y,_e)}}ge&1&&B.children!==N.children&&f(pe,N.children)}else!oe&&he==null&&L(pe,N,Be,Ue,re,Y,ne);((Le=Ue.onVnodeUpdated)||Pe)&&fr(()=>{Le&&zr(Le,re,N,B),Pe&&Bn(N,B,re,"updated")},Y)},R=(B,N,re,Y,ne,ie,oe)=>{for(let pe=0;pe<N.length;pe++){const ge=B[pe],he=N[pe],Pe=ge.el&&(ge.type===Or||!Gn(ge,he)||ge.shapeFlag&70)?d(ge.el):re;i(ge,he,Pe,null,Y,ne,ie,oe,!0)}},L=(B,N,re,Y,ne,ie,oe)=>{if(re!==Y){if(re!==qt)for(const pe in re)!is(pe)&&!(pe in Y)&&g(B,pe,re[pe],null,oe,N.children,ne,ie,_e);for(const pe in Y){if(is(pe))continue;const ge=Y[pe],he=re[pe];ge!==he&&pe!=="value"&&g(B,pe,he,ge,oe,N.children,ne,ie,_e)}"value"in Y&&g(B,"value",re.value,Y.value)}},U=(B,N,re,Y,ne,ie,oe,pe,ge)=>{const he=N.el=B?B.el:t(""),Pe=N.anchor=B?B.anchor:t("");let{patchFlag:Be,dynamicChildren:Ue,slotScopeIds:Le}=N;Le&&(pe=pe?pe.concat(Le):Le),B==null?(e(he,re,Y),e(Pe,re,Y),P(N.children,re,Pe,ne,ie,oe,pe,ge)):Be>0&&Be&64&&Ue&&B.dynamicChildren?(R(B.dynamicChildren,Ue,re,ne,ie,oe,pe),(N.key!=null||ne&&N===ne.subTree)&&bc(B,N,!0)):J(B,N,re,Pe,ne,ie,oe,pe,ge)},D=(B,N,re,Y,ne,ie,oe,pe,ge)=>{N.slotScopeIds=pe,B==null?N.shapeFlag&512?ne.ctx.activate(N,re,Y,oe,ge):H(N,re,Y,ne,ie,oe,ge):W(B,N,ge)},H=(B,N,re,Y,ne,ie,oe)=>{const pe=B.component=G0(B,Y,ne);if(Os(B)&&(pe.ctx.renderer=G),H0(pe),pe.asyncDep){if(ne&&ne.registerDep(pe,ae),!B.el){const ge=pe.subTree=ln(Ir);y(null,ge,N,re)}return}ae(pe,B,N,re,ne,ie,oe)},W=(B,N,re)=>{const Y=N.component=B.component;if(Xp(B,N,re))if(Y.asyncDep&&!Y.asyncResolved){le(Y,N,re);return}else Y.next=N,Fp(Y.update),Y.update();else N.el=B.el,Y.vnode=N},ae=(B,N,re,Y,ne,ie,oe)=>{const pe=()=>{if(B.isMounted){let{next:Pe,bu:Be,u:Ue,parent:Le,vnode:$e}=B,Ae=Pe,Me;Un(B,!1),Pe?(Pe.el=$e.el,le(B,Pe,oe)):Pe=$e,Be&&Ks(Be),(Me=Pe.props&&Pe.props.onVnodeBeforeUpdate)&&zr(Me,Le,Pe,$e),Un(B,!0);const He=Zs(B),qe=B.subTree;B.subTree=He,i(qe,He,d(qe.el),Se(qe),B,ne,ie),Pe.el=He.el,Ae===null&&Yp(B,He.el),Ue&&fr(Ue,ne),(Me=Pe.props&&Pe.props.onVnodeUpdated)&&fr(()=>zr(Me,Le,Pe,$e),ne)}else{let Pe;const{el:Be,props:Ue}=N,{bm:Le,m:$e,parent:Ae}=B,Me=ls(N);if(Un(B,!1),Le&&Ks(Le),!Me&&(Pe=Ue&&Ue.onVnodeBeforeMount)&&zr(Pe,Ae,N),Un(B,!0),Be&&ee){const He=()=>{B.subTree=Zs(B),ee(Be,B.subTree,B,ne,null)};Me?N.type.__asyncLoader().then(()=>!B.isUnmounted&&He()):He()}else{const He=B.subTree=Zs(B);i(null,He,re,Y,B,ne,ie),N.el=He.el}if($e&&fr($e,ne),!Me&&(Pe=Ue&&Ue.onVnodeMounted)){const He=N;fr(()=>zr(Pe,Ae,He),ne)}(N.shapeFlag&256||Ae&&ls(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&B.a&&fr(B.a,ne),B.isMounted=!0,N=re=Y=null}},ge=B.effect=new zi(pe,()=>Ji(he),B.scope),he=B.update=()=>ge.run();he.id=B.uid,Un(B,!0),he()},le=(B,N,re)=>{N.component=B;const Y=B.vnode.props;B.vnode=N,B.next=null,_0(B,N.props,Y,re),T0(B,N.children,re),mo(),gl(),go()},J=(B,N,re,Y,ne,ie,oe,pe,ge=!1)=>{const he=B&&B.children,Pe=B?B.shapeFlag:0,Be=N.children,{patchFlag:Ue,shapeFlag:Le}=N;if(Ue>0){if(Ue&128){se(he,Be,re,Y,ne,ie,oe,pe,ge);return}else if(Ue&256){ue(he,Be,re,Y,ne,ie,oe,pe,ge);return}}Le&8?(Pe&16&&_e(he,ne,ie),Be!==he&&f(re,Be)):Pe&16?Le&16?se(he,Be,re,Y,ne,ie,oe,pe,ge):_e(he,ne,ie,!0):(Pe&8&&f(re,""),Le&16&&P(Be,re,Y,ne,ie,oe,pe,ge))},ue=(B,N,re,Y,ne,ie,oe,pe,ge)=>{B=B||oo,N=N||oo;const he=B.length,Pe=N.length,Be=Math.min(he,Pe);let Ue;for(Ue=0;Ue<Be;Ue++){const Le=N[Ue]=ge?bn(N[Ue]):Xr(N[Ue]);i(B[Ue],Le,re,null,ne,ie,oe,pe,ge)}he>Pe?_e(B,ne,ie,!0,!1,Be):P(N,re,Y,ne,ie,oe,pe,ge,Be)},se=(B,N,re,Y,ne,ie,oe,pe,ge)=>{let he=0;const Pe=N.length;let Be=B.length-1,Ue=Pe-1;for(;he<=Be&&he<=Ue;){const Le=B[he],$e=N[he]=ge?bn(N[he]):Xr(N[he]);if(Gn(Le,$e))i(Le,$e,re,null,ne,ie,oe,pe,ge);else break;he++}for(;he<=Be&&he<=Ue;){const Le=B[Be],$e=N[Ue]=ge?bn(N[Ue]):Xr(N[Ue]);if(Gn(Le,$e))i(Le,$e,re,null,ne,ie,oe,pe,ge);else break;Be--,Ue--}if(he>Be){if(he<=Ue){const Le=Ue+1,$e=Le<Pe?N[Le].el:Y;for(;he<=Ue;)i(null,N[he]=ge?bn(N[he]):Xr(N[he]),re,$e,ne,ie,oe,pe,ge),he++}}else if(he>Ue)for(;he<=Be;)xe(B[he],ne,ie,!0),he++;else{const Le=he,$e=he,Ae=new Map;for(he=$e;he<=Ue;he++){const z=N[he]=ge?bn(N[he]):Xr(N[he]);z.key!=null&&Ae.set(z.key,he)}let Me,He=0;const qe=Ue-$e+1;let be=!1,Je=0;const V=new Array(qe);for(he=0;he<qe;he++)V[he]=0;for(he=Le;he<=Be;he++){const z=B[he];if(He>=qe){xe(z,ne,ie,!0);continue}let $;if(z.key!=null)$=Ae.get(z.key);else for(Me=$e;Me<=Ue;Me++)if(V[Me-$e]===0&&Gn(z,N[Me])){$=Me;break}$===void 0?xe(z,ne,ie,!0):(V[$-$e]=he+1,$>=Je?Je=$:be=!0,i(z,N[$],re,null,ne,ie,oe,pe,ge),He++)}const Z=be?R0(V):oo;for(Me=Z.length-1,he=qe-1;he>=0;he--){const z=$e+he,$=N[z],de=z+1<Pe?N[z+1].el:Y;V[he]===0?i(null,$,re,de,ne,ie,oe,pe,ge):be&&(Me<0||he!==Z[Me]?me($,re,de,2):Me--)}}},me=(B,N,re,Y,ne=null)=>{const{el:ie,type:oe,transition:pe,children:ge,shapeFlag:he}=B;if(he&6){me(B.component.subTree,N,re,Y);return}if(he&128){B.suspense.move(N,re,Y);return}if(he&64){oe.move(B,N,re,G);return}if(oe===Or){e(ie,N,re);for(let Be=0;Be<ge.length;Be++)me(ge[Be],N,re,Y);e(B.anchor,N,re);return}if(oe===ti){x(B,N,re);return}if(Y!==2&&he&1&&pe)if(Y===0)pe.beforeEnter(ie),e(ie,N,re),fr(()=>pe.enter(ie),ne);else{const{leave:Be,delayLeave:Ue,afterLeave:Le}=pe,$e=()=>e(ie,N,re),Ae=()=>{Be(ie,()=>{$e(),Le&&Le()})};Ue?Ue(ie,$e,Ae):Ae()}else e(ie,N,re)},xe=(B,N,re,Y=!1,ne=!1)=>{const{type:ie,props:oe,ref:pe,children:ge,dynamicChildren:he,shapeFlag:Pe,patchFlag:Be,dirs:Ue}=B;if(pe!=null&&Ei(pe,null,re,B,!0),Pe&256){N.ctx.deactivate(B);return}const Le=Pe&1&&Ue,$e=!ls(B);let Ae;if($e&&(Ae=oe&&oe.onVnodeBeforeUnmount)&&zr(Ae,N,B),Pe&6)De(B.component,re,Y);else{if(Pe&128){B.suspense.unmount(re,Y);return}Le&&Bn(B,null,N,"beforeUnmount"),Pe&64?B.type.remove(B,N,re,ne,G,Y):he&&(ie!==Or||Be>0&&Be&64)?_e(he,N,re,!1,!0):(ie===Or&&Be&384||!ne&&Pe&16)&&_e(ge,N,re),Y&&Ce(B)}($e&&(Ae=oe&&oe.onVnodeUnmounted)||Le)&&fr(()=>{Ae&&zr(Ae,N,B),Le&&Bn(B,null,N,"unmounted")},re)},Ce=B=>{const{type:N,el:re,anchor:Y,transition:ne}=B;if(N===Or){ve(re,Y);return}if(N===ti){_(B);return}const ie=()=>{v(re),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(B.shapeFlag&1&&ne&&!ne.persisted){const{leave:oe,delayLeave:pe}=ne,ge=()=>oe(re,ie);pe?pe(B.el,ie,ge):ge()}else ie()},ve=(B,N)=>{let re;for(;B!==N;)re=n(B),v(B),B=re;v(N)},De=(B,N,re)=>{const{bum:Y,scope:ne,update:ie,subTree:oe,um:pe}=B;Y&&Ks(Y),ne.stop(),ie&&(ie.active=!1,xe(oe,B,N,re)),pe&&fr(pe,N),fr(()=>{B.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},_e=(B,N,re,Y=!1,ne=!1,ie=0)=>{for(let oe=ie;oe<B.length;oe++)xe(B[oe],N,re,Y,ne)},Se=B=>B.shapeFlag&6?Se(B.component.subTree):B.shapeFlag&128?B.suspense.next():n(B.anchor||B.el),O=(B,N,re)=>{B==null?N._vnode&&xe(N._vnode,null,null,!0):i(N._vnode||null,B,N,null,null,null,re),gl(),Zu(),N._vnode=B},G={p:i,um:xe,m:me,r:Ce,mt:H,mc:P,pc:J,pbc:R,n:Se,o:p};let X,ee;return l&&([X,ee]=l(G)),{render:O,hydrate:X,createApp:E0(O,X)}}function Un({effect:p,update:l},s){p.allowRecurse=l.allowRecurse=s}function bc(p,l,s=!1){const e=p.children,v=l.children;if(gt(e)&&gt(v))for(let g=0;g<e.length;g++){const h=e[g];let t=v[g];t.shapeFlag&1&&!t.dynamicChildren&&((t.patchFlag<=0||t.patchFlag===32)&&(t=v[g]=bn(v[g]),t.el=h.el),s||bc(h,t)),t.type===Ls&&(t.el=h.el)}}function R0(p){const l=p.slice(),s=[0];let e,v,g,h,t;const u=p.length;for(e=0;e<u;e++){const c=p[e];if(c!==0){if(v=s[s.length-1],p[v]<c){l[e]=v,s.push(e);continue}for(g=0,h=s.length-1;g<h;)t=g+h>>1,p[s[t]]<c?g=t+1:h=t;c<p[s[g]]&&(g>0&&(l[e]=s[g-1]),s[g]=e)}}for(g=s.length,h=s[g-1];g-- >0;)s[g]=h,h=l[h];return s}const P0=p=>p.__isTeleport,Or=Symbol(void 0),Ls=Symbol(void 0),Ir=Symbol(void 0),ti=Symbol(void 0),Ao=[];let Lr=null;function zn(p=!1){Ao.push(Lr=p?null:[])}function O0(){Ao.pop(),Lr=Ao[Ao.length-1]||null}let Uo=1;function Cl(p){Uo+=p}function wc(p){return p.dynamicChildren=Uo>0?Lr||oo:null,O0(),Uo>0&&Lr&&Lr.push(p),p}function us(p,l,s,e,v,g){return wc(_n(p,l,s,e,v,g,!0))}function na(p,l,s,e,v){return wc(ln(p,l,s,e,v,!0))}function k0(p){return p?p.__v_isVNode===!0:!1}function Gn(p,l){return p.type===l.type&&p.key===l.key}const Ds="__vInternal",xc=({key:p})=>p??null,cs=({ref:p,ref_key:l,ref_for:s})=>p!=null?rr(p)||ir(p)||bt(p)?{i:Tr,r:p,k:l,f:!!s}:p:null;function _n(p,l=null,s=null,e=0,v=null,g=p===Or?0:1,h=!1,t=!1){const u={__v_isVNode:!0,__v_skip:!0,type:p,props:l,key:l&&xc(l),ref:l&&cs(l),scopeId:ec,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:g,patchFlag:e,dynamicProps:v,dynamicChildren:null,appContext:null,ctx:Tr};return t?(oa(u,s),g&128&&p.normalize(u)):s&&(u.shapeFlag|=rr(s)?8:16),Uo>0&&!h&&Lr&&(u.patchFlag>0||g&6)&&u.patchFlag!==32&&Lr.push(u),u}const ln=L0;function L0(p,l=null,s=null,e=0,v=null,g=!1){if((!p||p===cc)&&(p=Ir),k0(p)){const t=Cn(p,l,!0);return s&&oa(t,s),Uo>0&&!g&&Lr&&(t.shapeFlag&6?Lr[Lr.indexOf(p)]=t:Lr.push(t)),t.patchFlag|=-2,t}if(Y0(p)&&(p=p.__vccOpts),l){l=D0(l);let{class:t,style:u}=l;t&&!rr(t)&&(l.class=Ni(t)),$t(u)&&(Vu(u)&&!gt(u)&&(u=ar({},u)),l.style=Ui(u))}const h=rr(p)?1:$p(p)?128:P0(p)?64:$t(p)?4:bt(p)?2:0;return _n(p,l,s,e,v,h,g,!0)}function D0(p){return p?Vu(p)||Ds in p?ar({},p):p:null}function Cn(p,l,s=!1){const{props:e,ref:v,patchFlag:g,children:h}=p,t=l?U0(e||{},l):e;return{__v_isVNode:!0,__v_skip:!0,type:p.type,props:t,key:t&&xc(t),ref:l&&l.ref?s&&v?gt(v)?v.concat(cs(l)):[v,cs(l)]:cs(l):v,scopeId:p.scopeId,slotScopeIds:p.slotScopeIds,children:h,target:p.target,targetAnchor:p.targetAnchor,staticCount:p.staticCount,shapeFlag:p.shapeFlag,patchFlag:l&&p.type!==Or?g===-1?16:g|16:g,dynamicProps:p.dynamicProps,dynamicChildren:p.dynamicChildren,appContext:p.appContext,dirs:p.dirs,transition:p.transition,component:p.component,suspense:p.suspense,ssContent:p.ssContent&&Cn(p.ssContent),ssFallback:p.ssFallback&&Cn(p.ssFallback),el:p.el,anchor:p.anchor,ctx:p.ctx,ce:p.ce}}function I0(p=" ",l=0){return ln(Ls,null,p,l)}function B0(p="",l=!1){return l?(zn(),na(Ir,null,p)):ln(Ir,null,p)}function Xr(p){return p==null||typeof p=="boolean"?ln(Ir):gt(p)?ln(Or,null,p.slice()):typeof p=="object"?bn(p):ln(Ls,null,String(p))}function bn(p){return p.el===null&&p.patchFlag!==-1||p.memo?p:Cn(p)}function oa(p,l){let s=0;const{shapeFlag:e}=p;if(l==null)l=null;else if(gt(l))s=16;else if(typeof l=="object")if(e&65){const v=l.default;v&&(v._c&&(v._d=!1),oa(p,v()),v._c&&(v._d=!0));return}else{s=32;const v=l._;!v&&!(Ds in l)?l._ctx=Tr:v===3&&Tr&&(Tr.slots._===1?l._=1:(l._=2,p.patchFlag|=1024))}else bt(l)?(l={default:l,_ctx:Tr},s=32):(l=String(l),e&64?(s=16,l=[I0(l)]):s=8);p.children=l,p.shapeFlag|=s}function U0(...p){const l={};for(let s=0;s<p.length;s++){const e=p[s];for(const v in e)if(v==="class")l.class!==e.class&&(l.class=Ni([l.class,e.class]));else if(v==="style")l.style=Ui([l.style,e.style]);else if(Ts(v)){const g=l[v],h=e[v];h&&g!==h&&!(gt(g)&&g.includes(h))&&(l[v]=g?[].concat(g,h):h)}else v!==""&&(l[v]=e[v])}return l}function zr(p,l,s,e=null){Cr(p,l,7,[s,e])}const N0=vc();let F0=0;function G0(p,l,s){const e=p.type,v=(l?l.appContext:p.appContext)||N0,g={uid:F0++,vnode:p,type:e,parent:l,appContext:v,root:null,next:null,subTree:null,effect:null,update:null,scope:new rp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:l?l.provides:Object.create(v.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pc(e,v),emitsOptions:Ju(e,v),emit:null,emitted:null,propsDefaults:qt,inheritAttrs:e.inheritAttrs,ctx:qt,data:qt,props:qt,attrs:qt,slots:qt,refs:qt,setupState:qt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return g.ctx={_:g},g.root=l?l.root:g,g.emit=Hp.bind(null,g),p.ce&&p.ce(g),g}let Qt=null;const V0=()=>Qt||Tr,ho=p=>{Qt=p,p.scope.on()},qn=()=>{Qt&&Qt.scope.off(),Qt=null};function _c(p){return p.vnode.shapeFlag&4}let No=!1;function H0(p,l=!1){No=l;const{props:s,children:e}=p.vnode,v=_c(p);x0(p,s,v,l),j0(p,e);const g=v?W0(p,l):void 0;return No=!1,g}function W0(p,l){const s=p.type;p.accessCache=Object.create(null),p.proxy=Hu(new Proxy(p.ctx,m0));const{setup:e}=s;if(e){const v=p.setupContext=e.length>1?q0(p):null;ho(p),mo();const g=jn(e,p,0,[p.props,v]);if(go(),qn(),Mu(g)){if(g.then(qn,qn),l)return g.then(h=>{El(p,h,l)}).catch(h=>{Rs(h,p,0)});p.asyncDep=g}else El(p,g,l)}else Sc(p,l)}function El(p,l,s){bt(l)?p.type.__ssrInlineRender?p.ssrRender=l:p.render=l:$t(l)&&(p.setupState=Xu(l)),Sc(p,s)}let Ml;function Sc(p,l,s){const e=p.type;if(!p.render){if(!l&&Ml&&!e.render){const v=e.template||ta(p).template;if(v){const{isCustomElement:g,compilerOptions:h}=p.appContext.config,{delimiters:t,compilerOptions:u}=e,c=ar(ar({isCustomElement:g,delimiters:t},h),u);e.render=Ml(v,c)}}p.render=e.render||Dr}ho(p),mo(),g0(p),go(),qn()}function z0(p){return new Proxy(p.attrs,{get(l,s){return pr(p,"get","$attrs"),l[s]}})}function q0(p){const l=e=>{p.exposed=e||{}};let s;return{get attrs(){return s||(s=z0(p))},slots:p.slots,emit:p.emit,expose:l}}function sa(p){if(p.exposed)return p.exposeProxy||(p.exposeProxy=new Proxy(Xu(Hu(p.exposed)),{get(l,s){if(s in l)return l[s];if(s in Mo)return Mo[s](p)},has(l,s){return s in l||s in Mo}}))}function X0(p,l=!0){return bt(p)?p.displayName||p.name:p.name||l&&p.__name}function Y0(p){return bt(p)&&"__vccOpts"in p}const $0=(p,l)=>Ip(p,l,No),K0=Symbol(""),Z0=()=>as(K0),Q0="3.2.47",J0="http://www.w3.org/2000/svg",Vn=typeof document<"u"?document:null,Al=Vn&&Vn.createElement("template"),em={insert:(p,l,s)=>{l.insertBefore(p,s||null)},remove:p=>{const l=p.parentNode;l&&l.removeChild(p)},createElement:(p,l,s,e)=>{const v=l?Vn.createElementNS(J0,p):Vn.createElement(p,s?{is:s}:void 0);return p==="select"&&e&&e.multiple!=null&&v.setAttribute("multiple",e.multiple),v},createText:p=>Vn.createTextNode(p),createComment:p=>Vn.createComment(p),setText:(p,l)=>{p.nodeValue=l},setElementText:(p,l)=>{p.textContent=l},parentNode:p=>p.parentNode,nextSibling:p=>p.nextSibling,querySelector:p=>Vn.querySelector(p),setScopeId(p,l){p.setAttribute(l,"")},insertStaticContent(p,l,s,e,v,g){const h=s?s.previousSibling:l.lastChild;if(v&&(v===g||v.nextSibling))for(;l.insertBefore(v.cloneNode(!0),s),!(v===g||!(v=v.nextSibling)););else{Al.innerHTML=e?`<svg>${p}</svg>`:p;const t=Al.content;if(e){const u=t.firstChild;for(;u.firstChild;)t.appendChild(u.firstChild);t.removeChild(u)}l.insertBefore(t,s)}return[h?h.nextSibling:l.firstChild,s?s.previousSibling:l.lastChild]}};function tm(p,l,s){const e=p._vtc;e&&(l=(l?[l,...e]:[...e]).join(" ")),l==null?p.removeAttribute("class"):s?p.setAttribute("class",l):p.className=l}function rm(p,l,s){const e=p.style,v=rr(s);if(s&&!v){if(l&&!rr(l))for(const g in l)s[g]==null&&Mi(e,g,"");for(const g in s)Mi(e,g,s[g])}else{const g=e.display;v?l!==s&&(e.cssText=s):l&&p.removeAttribute("style"),"_vod"in p&&(e.display=g)}}const Rl=/\s*!important$/;function Mi(p,l,s){if(gt(s))s.forEach(e=>Mi(p,l,e));else if(s==null&&(s=""),l.startsWith("--"))p.setProperty(l,s);else{const e=nm(p,l);Rl.test(s)?p.setProperty(po(e),s.replace(Rl,""),"important"):p[e]=s}}const Pl=["Webkit","Moz","ms"],ri={};function nm(p,l){const s=ri[l];if(s)return s;let e=Kr(l);if(e!=="filter"&&e in p)return ri[l]=e;e=Ms(e);for(let v=0;v<Pl.length;v++){const g=Pl[v]+e;if(g in p)return ri[l]=g}return l}const Ol="http://www.w3.org/1999/xlink";function om(p,l,s,e,v){if(e&&l.startsWith("xlink:"))s==null?p.removeAttributeNS(Ol,l.slice(6,l.length)):p.setAttributeNS(Ol,l,s);else{const g=Xf(l);s==null||g&&!Tu(s)?p.removeAttribute(l):p.setAttribute(l,g?"":s)}}function sm(p,l,s,e,v,g,h){if(l==="innerHTML"||l==="textContent"){e&&h(e,v,g),p[l]=s??"";return}if(l==="value"&&p.tagName!=="PROGRESS"&&!p.tagName.includes("-")){p._value=s;const u=s??"";(p.value!==u||p.tagName==="OPTION")&&(p.value=u),s==null&&p.removeAttribute(l);return}let t=!1;if(s===""||s==null){const u=typeof p[l];u==="boolean"?s=Tu(s):s==null&&u==="string"?(s="",t=!0):u==="number"&&(s=0,t=!0)}try{p[l]=s}catch{}t&&p.removeAttribute(l)}function im(p,l,s,e){p.addEventListener(l,s,e)}function am(p,l,s,e){p.removeEventListener(l,s,e)}function lm(p,l,s,e,v=null){const g=p._vei||(p._vei={}),h=g[l];if(e&&h)h.value=e;else{const[t,u]=um(l);if(e){const c=g[l]=hm(e,v);im(p,t,c,u)}else h&&(am(p,t,h,u),g[l]=void 0)}}const kl=/(?:Once|Passive|Capture)$/;function um(p){let l;if(kl.test(p)){l={};let e;for(;e=p.match(kl);)p=p.slice(0,p.length-e[0].length),l[e[0].toLowerCase()]=!0}return[p[2]===":"?p.slice(3):po(p.slice(2)),l]}let ni=0;const cm=Promise.resolve(),dm=()=>ni||(cm.then(()=>ni=0),ni=Date.now());function hm(p,l){const s=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=s.attached)return;Cr(fm(e,s.value),l,5,[e])};return s.value=p,s.attached=dm(),s}function fm(p,l){if(gt(l)){const s=p.stopImmediatePropagation;return p.stopImmediatePropagation=()=>{s.call(p),p._stopped=!0},l.map(e=>v=>!v._stopped&&e&&e(v))}else return l}const Ll=/^on[a-z]/,pm=(p,l,s,e,v=!1,g,h,t,u)=>{l==="class"?tm(p,e,v):l==="style"?rm(p,s,e):Ts(l)?Fi(l)||lm(p,l,s,e,h):(l[0]==="."?(l=l.slice(1),!0):l[0]==="^"?(l=l.slice(1),!1):mm(p,l,e,v))?sm(p,l,e,g,h,t,u):(l==="true-value"?p._trueValue=e:l==="false-value"&&(p._falseValue=e),om(p,l,e,v))};function mm(p,l,s,e){return e?!!(l==="innerHTML"||l==="textContent"||l in p&&Ll.test(l)&&bt(s)):l==="spellcheck"||l==="draggable"||l==="translate"||l==="form"||l==="list"&&p.tagName==="INPUT"||l==="type"&&p.tagName==="TEXTAREA"||Ll.test(l)&&rr(s)?!1:l in p}const gm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};t0.props;const ym=ar({patchProp:pm},em);let Dl;function vm(){return Dl||(Dl=M0(ym))}const bm=(...p)=>{const l=vm().createApp(...p),{mount:s}=l;return l.mount=e=>{const v=wm(e);if(!v)return;const g=l._component;!bt(g)&&!g.render&&!g.template&&(g.template=v.innerHTML),v.innerHTML="";const h=s(v,!1,v instanceof SVGElement);return v instanceof Element&&(v.removeAttribute("v-cloak"),v.setAttribute("data-v-app","")),h},l};function wm(p){return rr(p)?document.querySelector(p):p}class xm{constructor(l){K(this,"gameSpeed",0);K(this,"autoStartNextWave",!1);K(this,"drawCount",0);K(this,"frameRateSum",0);K(this,"avarageFrameRate",0);K(this,"buttons",[]);K(this,"messageButton");K(this,"showMessage",!0);K(this,"beforeMapMade",!1);this.messageButton=null,this.reconstruct(l)}reconstruct(l){ke.buildMapFromJson(l.map.map,it,er),this.messageButton=null,this.setup(),C.draw=()=>this.draw(),C.mousePressed=()=>this.mousePressed(),C.doubleClicked=()=>this.doubleClicked(),C.keyPressed=s=>this.keyPressed(s)}setup(){C.createCanvas(C.windowWidth,C.windowHeight),C.background(lo),ke.generateAllPathsThroughFloodFill(er.spawners,it.bases)}draw(){C.background(lo),C.strokeWeight(1),wd(10,C.height-50,20,this.gameSpeed,this.autoStartNextWave),ke.show(),it.show();for(let s=0;s<this.gameSpeed;s++){const e=er.updateAndShow();it.updateTowers(),it.updateProjectiles(),it.showProjectiles(),it.updateMinions(),it.showMinions(),it.updateAndShowVisuals(),e&&(it.addXpToCurrentTowers(),this.autoStartNextWave||(this.gameSpeed=0,this.showMessage=!0),df())}if(this.gameSpeed===0&&(er.showUnits(),it.showProjectiles(),it.showMinions(),it.onlyShowVisuals(),this.showMessage)){const s=er.waveReader.getMessage(),e=C.height*((s.length*Ze*.5>C.width*(11/16)?2:1)/24);this.messageButton=new ps(C.createVector(C.width*(3/8),C.height*(7/8)),C.min(s.length*Ze*.5,C.width*(11/16)),e,s,()=>{this.showMessage=!1},Ze,C.color([...Ro,200])),this.messageButton.show()}C.fill(0),C.textSize(32),C.strokeWeight(Ze/16),C.text(`Wave: ${er.waveReader.currentWaveNumber}`,50,50),C.textSize(16),C.strokeWeight(1),C.text(`Level: ${vt.level}`,30,75),C.text(`Xp: ${vt.getXp()}`,30,100),C.text(`Xp Required: ${vt.getRequiredXp()}`,30,125),C.text("Hold s to sell",C.width*(3/4)-130,20),C.text("Hold u to update",C.width*(3/4)-130,40),C.text(`Seed: ${it.currentSeed}`,C.width*(3/4)-160,C.height-10);const l=ke.getHexVectorFromXY(C.mouseX,C.mouseY);for(const s in $r){const e=$r[s];if(C.keyIsDown(e.keycode)&&it.gold>=e.cost&&ke.rqVectorIsOnGrid(l,ke.wallRing)){const v=ke.grid[l.x][l.y];C.push(),C.fill([...e.rgb,100]),C.strokeWeight(3),sr(v.pos.x,v.pos.y,ke.hexSize),e.range>0&&(e.range<10?C.circle(v.pos.x,v.pos.y,e.range*4*Ze):C.circle(v.pos.x,v.pos.y,e.range*2)),C.pop()}}if(C.keyIsDown(83)&&ke.rqVectorIsOnGrid(l,ke.wallRing)&&ke.grid[l.x][l.y].isTower){const s=ke.grid[l.x][l.y];C.push(),C.fill([...Po,50]),C.strokeWeight(1),sr(s.pos.x,s.pos.y,ke.hexSize),C.fill(Po),C.strokeWeight(2),uo(s.pos.x,s.pos.y,ke.hexSize*.6),C.pop()}if(C.keyIsDown(85)&&ke.rqVectorIsOnGrid(l,ke.wallRing)&&ke.grid[l.x][l.y].isTower){const s=ke.grid[l.x][l.y];Vd(s.usageData);let e=`
`;for(const t in s.usageData)e+=`${t}: ${s.usageData[t]}
`;const v=Ze*16,g=Ze*19;C.push(),new ps(C.createVector(C.mouseX+v/2,C.mouseY+g/2),v,g,e,()=>{},Ze,C.color([...Ro,200])).show(),C.pop()}}mousePressed(){for(const s of this.buttons)s.clicked()&&s.onClick();this.messageButton&&this.messageButton.clicked()&&this.messageButton.onClick();const l=ke.getHexVectorFromXY(C.mouseX,C.mouseY);for(const s in $r){const e=$r[s];if(C.keyIsDown(e.keycode)&&it.gold>=e.cost&&ke.rqVectorIsOnGrid(l,ke.wallRing)){const v=ke.grid[l.x][l.y],g=v.wall;v.wall=!0;const h=v.canUnit;v.canUnit=!1;const t=v.canWaterUnit;v.canWaterUnit=!1,ke.generateAllPathsThroughFloodFill(er.spawners,it.bases,!0)&&!v.isTower&&it.placeTower(parseInt(s),v)||(v.wall=g,v.canUnit=h,v.canWaterUnit=t);return}}if(C.keyIsDown(83)&&ke.rqVectorIsOnGrid(l,1)&&ke.grid[l.x][l.y].isTower){const s=ke.grid[l.x][l.y];it.sellTower(s),ke.generateAllPathsThroughFloodFill(er.spawners,it.bases);return}if(ke.rqVectorIsOnGrid(l,ke.wallRing)&&ke.grid[l.x][l.y].isTower){it.selectTower(ke.grid[l.x][l.y]);return}it.clickUpgrade(C.keyIsDown(85)),[this.gameSpeed,this.autoStartNextWave]=xd(this.gameSpeed,10,C.height-50,20,this.autoStartNextWave),C.mouseX<C.width*(3/4)&&it.deSelectTower()}doubleClicked(){const l=ke.getHexVectorFromXY(C.mouseX,C.mouseY);if(ke.rqVectorIsOnGrid(l,ke.wallRing)&&ke.grid[l.x][l.y].isTower){ke.grid[l.x][l.y].castUlt();return}}keyPressed(l){if(!l.ctrlKey||!C.keyIsDown(67))return;const s=prompt("What cheat would you like to use? (money, lives, ult, xp, wave:<number> aka wave:5)","");if(s==="money"&&(it.gold+=1e5),s==="lives"&&(it.hp+=1e5),s==="xp"&&vt.addXp(1e9,it.towers),s==="reset"&&hf(),s==="ult")for(const e of it.towers)e.ultCurrentCooldown=0;if((s==null?void 0:s.substring(0,4))==="wave"){const e=parseInt(s.substring(5));!Number.isNaN(e)&&e<1e3&&(er.waveReader.currentWaveNumber=e)}}}let oi=null;const _m=p=>{if(oi==null){oi=new xm(p);return}oi.reconstruct(p)},Sm={class:"all-maps"},jm={class:"map"},Tm=sc({__name:"SelectMap",setup(p){return console.log(mi),(l,s)=>(zn(),us("div",Sm,[(zn(!0),us(Or,null,p0(qu(mi),e=>(zn(),us("div",jm,il(e.map.name)+" -- "+il(e.complexity)+" ",1))),256))]))}});const Cm={key:0,class:"main-menu"},Em=_n("header",null,[_n("p",null,"My Vue.js Application")],-1),Mm=sc({__name:"MainMenu",setup(p){const l=ml(),s=ml(!1),e=()=>{l.value=Tm},v=()=>{_m(C.random(mi)),s.value=!0,console.log(s)};return(g,h)=>s.value?B0("",!0):(zn(),us("div",Cm,[Em,_n("div",null,[_n("button",{onClick:e},"Free Play"),_n("button",{onClick:v},"Map Builder")]),_n("template",null,[(zn(),na(f0(l.value)))])]))}});const Am=(p,l)=>{const s=p.__vccOpts||p;for(const[e,v]of l)s[e]=v;return s},Rm={components:{MainMenu:Mm}};function Pm(p,l,s,e,v,g){const h=h0("main-menu");return zn(),na(h)}const Om=Am(Rm,[["render",Pm]]);bm(Om).mount("#app");

var zd=Object.defineProperty;var qd=(u,i,r)=>i in u?zd(u,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[i]=r;var z=(u,i,r)=>(qd(u,typeof i!="symbol"?i+"":i,r),r);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))e(m);new MutationObserver(m=>{for(const d of m)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&e(f)}).observe(document,{childList:!0,subtree:!0});function r(m){const d={};return m.integrity&&(d.integrity=m.integrity),m.referrerpolicy&&(d.referrerPolicy=m.referrerpolicy),m.crossorigin==="use-credentials"?d.credentials="include":m.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function e(m){if(m.ep)return;m.ep=!0;const d=r(m);fetch(m.href,d)}})();function ja(u,i){const r=Object.create(null),e=u.split(",");for(let m=0;m<e.length;m++)r[e[m]]=!0;return i?m=>!!r[m.toLowerCase()]:m=>!!r[m]}function Ta(u){if(bt(u)){const i={};for(let r=0;r<u.length;r++){const e=u[r],m=or(e)?Kd(e):Ta(e);if(m)for(const d in m)i[d]=m[d]}return i}else{if(or(u))return u;if(Zt(u))return u}}const Yd=/;(?![^(]*\))/g,Xd=/:([^]+)/,$d=/\/\*.*?\*\//gs;function Kd(u){const i={};return u.replace($d,"").split(Yd).forEach(r=>{if(r){const e=r.split(Xd);e.length>1&&(i[e[0].trim()]=e[1].trim())}}),i}function Ho(u){let i="";if(or(u))i=u;else if(bt(u))for(let r=0;r<u.length;r++){const e=Ho(u[r]);e&&(i+=e+" ")}else if(Zt(u))for(const r in u)u[r]&&(i+=r+" ");return i.trim()}const Qd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zd=ja(Qd);function Pu(u){return!!u||u===""}const Hi=u=>or(u)?u:u==null?"":bt(u)||Zt(u)&&(u.toString===Iu||!xt(u.toString))?JSON.stringify(u,ku,2):String(u),ku=(u,i)=>i&&i.__v_isRef?ku(u,i.value):Lo(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((r,[e,m])=>(r[`${e} =>`]=m,r),{})}:Lu(i)?{[`Set(${i.size})`]:[...i.values()]}:Zt(i)&&!bt(i)&&!Bu(i)?String(i):i,Kt={},ko=[],tn=()=>{},Jd=()=>!1,eh=/^on[^a-z]/,ni=u=>eh.test(u),Ea=u=>u.startsWith("onUpdate:"),wr=Object.assign,Ca=(u,i)=>{const r=u.indexOf(i);r>-1&&u.splice(r,1)},th=Object.prototype.hasOwnProperty,Ot=(u,i)=>th.call(u,i),bt=Array.isArray,Lo=u=>oi(u)==="[object Map]",Lu=u=>oi(u)==="[object Set]",xt=u=>typeof u=="function",or=u=>typeof u=="string",Ma=u=>typeof u=="symbol",Zt=u=>u!==null&&typeof u=="object",Du=u=>Zt(u)&&xt(u.then)&&xt(u.catch),Iu=Object.prototype.toString,oi=u=>Iu.call(u),rh=u=>oi(u).slice(8,-1),Bu=u=>oi(u)==="[object Object]",Aa=u=>or(u)&&u!=="NaN"&&u[0]!=="-"&&""+parseInt(u,10)===u,Ds=ja(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),si=u=>{const i=Object.create(null);return r=>i[r]||(i[r]=u(r))},nh=/-(\w)/g,yn=si(u=>u.replace(nh,(i,r)=>r?r.toUpperCase():"")),oh=/\B([A-Z])/g,Wo=si(u=>u.replace(oh,"-$1").toLowerCase()),ii=si(u=>u.charAt(0).toUpperCase()+u.slice(1)),Pi=si(u=>u?`on${ii(u)}`:""),us=(u,i)=>!Object.is(u,i),ki=(u,i)=>{for(let r=0;r<u.length;r++)u[r](i)},Ys=(u,i,r)=>{Object.defineProperty(u,i,{configurable:!0,enumerable:!1,value:r})},sh=u=>{const i=parseFloat(u);return isNaN(i)?u:i};let Vl;const ih=()=>Vl||(Vl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Qr;class ah{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qr,!i&&Qr&&(this.index=(Qr.scopes||(Qr.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const r=Qr;try{return Qr=this,i()}finally{Qr=r}}}on(){Qr=this}off(){Qr=this.parent}stop(i){if(this._active){let r,e;for(r=0,e=this.effects.length;r<e;r++)this.effects[r].stop();for(r=0,e=this.cleanups.length;r<e;r++)this.cleanups[r]();if(this.scopes)for(r=0,e=this.scopes.length;r<e;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!i){const m=this.parent.scopes.pop();m&&m!==this&&(this.parent.scopes[this.index]=m,m.index=this.index)}this.parent=void 0,this._active=!1}}}function lh(u,i=Qr){i&&i.active&&i.effects.push(u)}function uh(){return Qr}const Ra=u=>{const i=new Set(u);return i.w=0,i.n=0,i},Uu=u=>(u.w&Wn)>0,Nu=u=>(u.n&Wn)>0,ch=({deps:u})=>{if(u.length)for(let i=0;i<u.length;i++)u[i].w|=Wn},dh=u=>{const{deps:i}=u;if(i.length){let r=0;for(let e=0;e<i.length;e++){const m=i[e];Uu(m)&&!Nu(m)?m.delete(u):i[r++]=m,m.w&=~Wn,m.n&=~Wn}i.length=r}},Wi=new WeakMap;let ts=0,Wn=1;const zi=30;let Jr;const ho=Symbol(""),qi=Symbol("");class Oa{constructor(i,r=null,e){this.fn=i,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,lh(this,e)}run(){if(!this.active)return this.fn();let i=Jr,r=Gn;for(;i;){if(i===this)return;i=i.parent}try{return this.parent=Jr,Jr=this,Gn=!0,Wn=1<<++ts,ts<=zi?ch(this):Hl(this),this.fn()}finally{ts<=zi&&dh(this),Wn=1<<--ts,Jr=this.parent,Gn=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Jr===this?this.deferStop=!0:this.active&&(Hl(this),this.onStop&&this.onStop(),this.active=!1)}}function Hl(u){const{deps:i}=u;if(i.length){for(let r=0;r<i.length;r++)i[r].delete(u);i.length=0}}let Gn=!0;const Fu=[];function zo(){Fu.push(Gn),Gn=!1}function qo(){const u=Fu.pop();Gn=u===void 0?!0:u}function Ar(u,i,r){if(Gn&&Jr){let e=Wi.get(u);e||Wi.set(u,e=new Map);let m=e.get(r);m||e.set(r,m=Ra()),Gu(m)}}function Gu(u,i){let r=!1;ts<=zi?Nu(u)||(u.n|=Wn,r=!Uu(u)):r=!u.has(Jr),r&&(u.add(Jr),Jr.deps.push(u))}function Cn(u,i,r,e,m,d){const f=Wi.get(u);if(!f)return;let t=[];if(i==="clear")t=[...f.values()];else if(r==="length"&&bt(u)){const c=Number(e);f.forEach((h,g)=>{(g==="length"||g>=c)&&t.push(h)})}else switch(r!==void 0&&t.push(f.get(r)),i){case"add":bt(u)?Aa(r)&&t.push(f.get("length")):(t.push(f.get(ho)),Lo(u)&&t.push(f.get(qi)));break;case"delete":bt(u)||(t.push(f.get(ho)),Lo(u)&&t.push(f.get(qi)));break;case"set":Lo(u)&&t.push(f.get(ho));break}if(t.length===1)t[0]&&Yi(t[0]);else{const c=[];for(const h of t)h&&c.push(...h);Yi(Ra(c))}}function Yi(u,i){const r=bt(u)?u:[...u];for(const e of r)e.computed&&Wl(e);for(const e of r)e.computed||Wl(e)}function Wl(u,i){(u!==Jr||u.allowRecurse)&&(u.scheduler?u.scheduler():u.run())}const hh=ja("__proto__,__v_isRef,__isVue"),Vu=new Set(Object.getOwnPropertyNames(Symbol).filter(u=>u!=="arguments"&&u!=="caller").map(u=>Symbol[u]).filter(Ma)),fh=Pa(),ph=Pa(!1,!0),mh=Pa(!0),zl=gh();function gh(){const u={};return["includes","indexOf","lastIndexOf"].forEach(i=>{u[i]=function(...r){const e=Pt(this);for(let d=0,f=this.length;d<f;d++)Ar(e,"get",d+"");const m=e[i](...r);return m===-1||m===!1?e[i](...r.map(Pt)):m}}),["push","pop","shift","unshift","splice"].forEach(i=>{u[i]=function(...r){zo();const e=Pt(this)[i].apply(this,r);return qo(),e}}),u}function yh(u){const i=Pt(this);return Ar(i,"has",u),i.hasOwnProperty(u)}function Pa(u=!1,i=!1){return function(e,m,d){if(m==="__v_isReactive")return!u;if(m==="__v_isReadonly")return u;if(m==="__v_isShallow")return i;if(m==="__v_raw"&&d===(u?i?kh:Yu:i?qu:zu).get(e))return e;const f=bt(e);if(!u){if(f&&Ot(zl,m))return Reflect.get(zl,m,d);if(m==="hasOwnProperty")return yh}const t=Reflect.get(e,m,d);return(Ma(m)?Vu.has(m):hh(m))||(u||Ar(e,"get",m),i)?t:vr(t)?f&&Aa(m)?t:t.value:Zt(t)?u?Xu(t):Da(t):t}}const vh=Hu(),bh=Hu(!0);function Hu(u=!1){return function(r,e,m,d){let f=r[e];if(Bo(f)&&vr(f)&&!vr(m))return!1;if(!u&&(!Xs(m)&&!Bo(m)&&(f=Pt(f),m=Pt(m)),!bt(r)&&vr(f)&&!vr(m)))return f.value=m,!0;const t=bt(r)&&Aa(e)?Number(e)<r.length:Ot(r,e),c=Reflect.set(r,e,m,d);return r===Pt(d)&&(t?us(m,f)&&Cn(r,"set",e,m):Cn(r,"add",e,m)),c}}function wh(u,i){const r=Ot(u,i);u[i];const e=Reflect.deleteProperty(u,i);return e&&r&&Cn(u,"delete",i,void 0),e}function xh(u,i){const r=Reflect.has(u,i);return(!Ma(i)||!Vu.has(i))&&Ar(u,"has",i),r}function _h(u){return Ar(u,"iterate",bt(u)?"length":ho),Reflect.ownKeys(u)}const Wu={get:fh,set:vh,deleteProperty:wh,has:xh,ownKeys:_h},Sh={get:mh,set(u,i){return!0},deleteProperty(u,i){return!0}},jh=wr({},Wu,{get:ph,set:bh}),ka=u=>u,ai=u=>Reflect.getPrototypeOf(u);function Cs(u,i,r=!1,e=!1){u=u.__v_raw;const m=Pt(u),d=Pt(i);r||(i!==d&&Ar(m,"get",i),Ar(m,"get",d));const{has:f}=ai(m),t=e?ka:r?Ua:cs;if(f.call(m,i))return t(u.get(i));if(f.call(m,d))return t(u.get(d));u!==m&&u.get(i)}function Ms(u,i=!1){const r=this.__v_raw,e=Pt(r),m=Pt(u);return i||(u!==m&&Ar(e,"has",u),Ar(e,"has",m)),u===m?r.has(u):r.has(u)||r.has(m)}function As(u,i=!1){return u=u.__v_raw,!i&&Ar(Pt(u),"iterate",ho),Reflect.get(u,"size",u)}function ql(u){u=Pt(u);const i=Pt(this);return ai(i).has.call(i,u)||(i.add(u),Cn(i,"add",u,u)),this}function Yl(u,i){i=Pt(i);const r=Pt(this),{has:e,get:m}=ai(r);let d=e.call(r,u);d||(u=Pt(u),d=e.call(r,u));const f=m.call(r,u);return r.set(u,i),d?us(i,f)&&Cn(r,"set",u,i):Cn(r,"add",u,i),this}function Xl(u){const i=Pt(this),{has:r,get:e}=ai(i);let m=r.call(i,u);m||(u=Pt(u),m=r.call(i,u)),e&&e.call(i,u);const d=i.delete(u);return m&&Cn(i,"delete",u,void 0),d}function $l(){const u=Pt(this),i=u.size!==0,r=u.clear();return i&&Cn(u,"clear",void 0,void 0),r}function Rs(u,i){return function(e,m){const d=this,f=d.__v_raw,t=Pt(f),c=i?ka:u?Ua:cs;return!u&&Ar(t,"iterate",ho),f.forEach((h,g)=>e.call(m,c(h),c(g),d))}}function Os(u,i,r){return function(...e){const m=this.__v_raw,d=Pt(m),f=Lo(d),t=u==="entries"||u===Symbol.iterator&&f,c=u==="keys"&&f,h=m[u](...e),g=r?ka:i?Ua:cs;return!i&&Ar(d,"iterate",c?qi:ho),{next(){const{value:p,done:o}=h.next();return o?{value:p,done:o}:{value:t?[g(p[0]),g(p[1])]:g(p),done:o}},[Symbol.iterator](){return this}}}}function Bn(u){return function(...i){return u==="delete"?!1:this}}function Th(){const u={get(d){return Cs(this,d)},get size(){return As(this)},has:Ms,add:ql,set:Yl,delete:Xl,clear:$l,forEach:Rs(!1,!1)},i={get(d){return Cs(this,d,!1,!0)},get size(){return As(this)},has:Ms,add:ql,set:Yl,delete:Xl,clear:$l,forEach:Rs(!1,!0)},r={get(d){return Cs(this,d,!0)},get size(){return As(this,!0)},has(d){return Ms.call(this,d,!0)},add:Bn("add"),set:Bn("set"),delete:Bn("delete"),clear:Bn("clear"),forEach:Rs(!0,!1)},e={get(d){return Cs(this,d,!0,!0)},get size(){return As(this,!0)},has(d){return Ms.call(this,d,!0)},add:Bn("add"),set:Bn("set"),delete:Bn("delete"),clear:Bn("clear"),forEach:Rs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{u[d]=Os(d,!1,!1),r[d]=Os(d,!0,!1),i[d]=Os(d,!1,!0),e[d]=Os(d,!0,!0)}),[u,r,i,e]}const[Eh,Ch,Mh,Ah]=Th();function La(u,i){const r=i?u?Ah:Mh:u?Ch:Eh;return(e,m,d)=>m==="__v_isReactive"?!u:m==="__v_isReadonly"?u:m==="__v_raw"?e:Reflect.get(Ot(r,m)&&m in e?r:e,m,d)}const Rh={get:La(!1,!1)},Oh={get:La(!1,!0)},Ph={get:La(!0,!1)},zu=new WeakMap,qu=new WeakMap,Yu=new WeakMap,kh=new WeakMap;function Lh(u){switch(u){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dh(u){return u.__v_skip||!Object.isExtensible(u)?0:Lh(rh(u))}function Da(u){return Bo(u)?u:Ia(u,!1,Wu,Rh,zu)}function Ih(u){return Ia(u,!1,jh,Oh,qu)}function Xu(u){return Ia(u,!0,Sh,Ph,Yu)}function Ia(u,i,r,e,m){if(!Zt(u)||u.__v_raw&&!(i&&u.__v_isReactive))return u;const d=m.get(u);if(d)return d;const f=Dh(u);if(f===0)return u;const t=new Proxy(u,f===2?e:r);return m.set(u,t),t}function Do(u){return Bo(u)?Do(u.__v_raw):!!(u&&u.__v_isReactive)}function Bo(u){return!!(u&&u.__v_isReadonly)}function Xs(u){return!!(u&&u.__v_isShallow)}function $u(u){return Do(u)||Bo(u)}function Pt(u){const i=u&&u.__v_raw;return i?Pt(i):u}function Ba(u){return Ys(u,"__v_skip",!0),u}const cs=u=>Zt(u)?Da(u):u,Ua=u=>Zt(u)?Xu(u):u;function Ku(u){Gn&&Jr&&(u=Pt(u),Gu(u.dep||(u.dep=Ra())))}function Qu(u,i){u=Pt(u);const r=u.dep;r&&Yi(r)}function vr(u){return!!(u&&u.__v_isRef===!0)}function is(u){return Bh(u,!1)}function Bh(u,i){return vr(u)?u:new Uh(u,i)}class Uh{constructor(i,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?i:Pt(i),this._value=r?i:cs(i)}get value(){return Ku(this),this._value}set value(i){const r=this.__v_isShallow||Xs(i)||Bo(i);i=r?i:Pt(i),us(i,this._rawValue)&&(this._rawValue=i,this._value=r?i:cs(i),Qu(this))}}function fo(u){return vr(u)?u.value:u}const Nh={get:(u,i,r)=>fo(Reflect.get(u,i,r)),set:(u,i,r,e)=>{const m=u[i];return vr(m)&&!vr(r)?(m.value=r,!0):Reflect.set(u,i,r,e)}};function Zu(u){return Do(u)?u:new Proxy(u,Nh)}var Ju;class Fh{constructor(i,r,e,m){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[Ju]=!1,this._dirty=!0,this.effect=new Oa(i,()=>{this._dirty||(this._dirty=!0,Qu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!m,this.__v_isReadonly=e}get value(){const i=Pt(this);return Ku(i),(i._dirty||!i._cacheable)&&(i._dirty=!1,i._value=i.effect.run()),i._value}set value(i){this._setter(i)}}Ju="__v_isReadonly";function Gh(u,i,r=!1){let e,m;const d=xt(u);return d?(e=u,m=tn):(e=u.get,m=u.set),new Fh(e,m,d||!m,r)}function Vn(u,i,r,e){let m;try{m=e?u(...e):u()}catch(d){li(d,i,r)}return m}function Vr(u,i,r,e){if(xt(u)){const d=Vn(u,i,r,e);return d&&Du(d)&&d.catch(f=>{li(f,i,r)}),d}const m=[];for(let d=0;d<u.length;d++)m.push(Vr(u[d],i,r,e));return m}function li(u,i,r,e=!0){const m=i?i.vnode:null;if(i){let d=i.parent;const f=i.proxy,t=r;for(;d;){const h=d.ec;if(h){for(let g=0;g<h.length;g++)if(h[g](u,f,t)===!1)return}d=d.parent}const c=i.appContext.config.errorHandler;if(c){Vn(c,null,10,[u,f,t]);return}}Vh(u,r,m,e)}function Vh(u,i,r,e=!0){console.error(u)}let ds=!1,Xi=!1;const yr=[];let gn=0;const Io=[];let Sn=null,ao=0;const ec=Promise.resolve();let Na=null;function Hh(u){const i=Na||ec;return u?i.then(this?u.bind(this):u):i}function Wh(u){let i=gn+1,r=yr.length;for(;i<r;){const e=i+r>>>1;hs(yr[e])<u?i=e+1:r=e}return i}function Fa(u){(!yr.length||!yr.includes(u,ds&&u.allowRecurse?gn+1:gn))&&(u.id==null?yr.push(u):yr.splice(Wh(u.id),0,u),tc())}function tc(){!ds&&!Xi&&(Xi=!0,Na=ec.then(nc))}function zh(u){const i=yr.indexOf(u);i>gn&&yr.splice(i,1)}function qh(u){bt(u)?Io.push(...u):(!Sn||!Sn.includes(u,u.allowRecurse?ao+1:ao))&&Io.push(u),tc()}function Kl(u,i=ds?gn+1:0){for(;i<yr.length;i++){const r=yr[i];r&&r.pre&&(yr.splice(i,1),i--,r())}}function rc(u){if(Io.length){const i=[...new Set(Io)];if(Io.length=0,Sn){Sn.push(...i);return}for(Sn=i,Sn.sort((r,e)=>hs(r)-hs(e)),ao=0;ao<Sn.length;ao++)Sn[ao]();Sn=null,ao=0}}const hs=u=>u.id==null?1/0:u.id,Yh=(u,i)=>{const r=hs(u)-hs(i);if(r===0){if(u.pre&&!i.pre)return-1;if(i.pre&&!u.pre)return 1}return r};function nc(u){Xi=!1,ds=!0,yr.sort(Yh);const i=tn;try{for(gn=0;gn<yr.length;gn++){const r=yr[gn];r&&r.active!==!1&&Vn(r,null,14)}}finally{gn=0,yr.length=0,rc(),ds=!1,Na=null,(yr.length||Io.length)&&nc()}}function Xh(u,i,...r){if(u.isUnmounted)return;const e=u.vnode.props||Kt;let m=r;const d=i.startsWith("update:"),f=d&&i.slice(7);if(f&&f in e){const g=`${f==="modelValue"?"model":f}Modifiers`,{number:p,trim:o}=e[g]||Kt;o&&(m=r.map(n=>or(n)?n.trim():n)),p&&(m=r.map(sh))}let t,c=e[t=Pi(i)]||e[t=Pi(yn(i))];!c&&d&&(c=e[t=Pi(Wo(i))]),c&&Vr(c,u,6,m);const h=e[t+"Once"];if(h){if(!u.emitted)u.emitted={};else if(u.emitted[t])return;u.emitted[t]=!0,Vr(h,u,6,m)}}function oc(u,i,r=!1){const e=i.emitsCache,m=e.get(u);if(m!==void 0)return m;const d=u.emits;let f={},t=!1;if(!xt(u)){const c=h=>{const g=oc(h,i,!0);g&&(t=!0,wr(f,g))};!r&&i.mixins.length&&i.mixins.forEach(c),u.extends&&c(u.extends),u.mixins&&u.mixins.forEach(c)}return!d&&!t?(Zt(u)&&e.set(u,null),null):(bt(d)?d.forEach(c=>f[c]=null):wr(f,d),Zt(u)&&e.set(u,f),f)}function ui(u,i){return!u||!ni(i)?!1:(i=i.slice(2).replace(/Once$/,""),Ot(u,i[0].toLowerCase()+i.slice(1))||Ot(u,Wo(i))||Ot(u,i))}let Gr=null,sc=null;function $s(u){const i=Gr;return Gr=u,sc=u&&u.type.__scopeId||null,i}function $h(u,i=Gr,r){if(!i||u._n)return u;const e=(...m)=>{e._d&&iu(-1);const d=$s(i);let f;try{f=u(...m)}finally{$s(d),e._d&&iu(1)}return f};return e._n=!0,e._c=!0,e._d=!0,e}function Li(u){const{type:i,vnode:r,proxy:e,withProxy:m,props:d,propsOptions:[f],slots:t,attrs:c,emit:h,render:g,renderCache:p,data:o,setupState:n,ctx:s,inheritAttrs:a}=u;let l,v;const w=$s(u);try{if(r.shapeFlag&4){const _=m||e;l=mn(g.call(_,_,p,d,n,o,s)),v=c}else{const _=i;l=mn(_.length>1?_(d,{attrs:c,slots:t,emit:h}):_(d,null)),v=i.props?c:Kh(c)}}catch(_){ls.length=0,li(_,u,1),l=En(rn)}let x=l;if(v&&a!==!1){const _=Object.keys(v),{shapeFlag:E}=x;_.length&&E&7&&(f&&_.some(Ea)&&(v=Qh(v,f)),x=zn(x,v))}return r.dirs&&(x=zn(x),x.dirs=x.dirs?x.dirs.concat(r.dirs):r.dirs),r.transition&&(x.transition=r.transition),l=x,$s(w),l}const Kh=u=>{let i;for(const r in u)(r==="class"||r==="style"||ni(r))&&((i||(i={}))[r]=u[r]);return i},Qh=(u,i)=>{const r={};for(const e in u)(!Ea(e)||!(e.slice(9)in i))&&(r[e]=u[e]);return r};function Zh(u,i,r){const{props:e,children:m,component:d}=u,{props:f,children:t,patchFlag:c}=i,h=d.emitsOptions;if(i.dirs||i.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return e?Ql(e,f,h):!!f;if(c&8){const g=i.dynamicProps;for(let p=0;p<g.length;p++){const o=g[p];if(f[o]!==e[o]&&!ui(h,o))return!0}}}else return(m||t)&&(!t||!t.$stable)?!0:e===f?!1:e?f?Ql(e,f,h):!0:!!f;return!1}function Ql(u,i,r){const e=Object.keys(i);if(e.length!==Object.keys(u).length)return!0;for(let m=0;m<e.length;m++){const d=e[m];if(i[d]!==u[d]&&!ui(r,d))return!0}return!1}function Jh({vnode:u,parent:i},r){for(;i&&i.subTree===u;)(u=i.vnode).el=r,i=i.parent}const ef=u=>u.__isSuspense;function tf(u,i){i&&i.pendingBranch?bt(u)?i.effects.push(...u):i.effects.push(u):qh(u)}function rf(u,i){if(rr){let r=rr.provides;const e=rr.parent&&rr.parent.provides;e===r&&(r=rr.provides=Object.create(e)),r[u]=i}}function Is(u,i,r=!1){const e=rr||Gr;if(e){const m=e.parent==null?e.vnode.appContext&&e.vnode.appContext.provides:e.parent.provides;if(m&&u in m)return m[u];if(arguments.length>1)return r&&xt(i)?i.call(e.proxy):i}}const Ps={};function Di(u,i,r){return ic(u,i,r)}function ic(u,i,{immediate:r,deep:e,flush:m,onTrack:d,onTrigger:f}=Kt){const t=uh()===(rr==null?void 0:rr.scope)?rr:null;let c,h=!1,g=!1;if(vr(u)?(c=()=>u.value,h=Xs(u)):Do(u)?(c=()=>u,e=!0):bt(u)?(g=!0,h=u.some(x=>Do(x)||Xs(x)),c=()=>u.map(x=>{if(vr(x))return x.value;if(Do(x))return Mo(x);if(xt(x))return Vn(x,t,2)})):xt(u)?i?c=()=>Vn(u,t,2):c=()=>{if(!(t&&t.isUnmounted))return p&&p(),Vr(u,t,3,[o])}:c=tn,i&&e){const x=c;c=()=>Mo(x())}let p,o=x=>{p=v.onStop=()=>{Vn(x,t,4)}},n;if(ps)if(o=tn,i?r&&Vr(i,t,3,[c(),g?[]:void 0,o]):c(),m==="sync"){const x=e0();n=x.__watcherHandles||(x.__watcherHandles=[])}else return tn;let s=g?new Array(u.length).fill(Ps):Ps;const a=()=>{if(v.active)if(i){const x=v.run();(e||h||(g?x.some((_,E)=>us(_,s[E])):us(x,s)))&&(p&&p(),Vr(i,t,3,[x,s===Ps?void 0:g&&s[0]===Ps?[]:s,o]),s=x)}else v.run()};a.allowRecurse=!!i;let l;m==="sync"?l=a:m==="post"?l=()=>Mr(a,t&&t.suspense):(a.pre=!0,t&&(a.id=t.uid),l=()=>Fa(a));const v=new Oa(c,l);i?r?a():s=v.run():m==="post"?Mr(v.run.bind(v),t&&t.suspense):v.run();const w=()=>{v.stop(),t&&t.scope&&Ca(t.scope.effects,v)};return n&&n.push(w),w}function nf(u,i,r){const e=this.proxy,m=or(u)?u.includes(".")?ac(e,u):()=>e[u]:u.bind(e,e);let d;xt(i)?d=i:(d=i.handler,r=i);const f=rr;Uo(this);const t=ic(m,d.bind(e),r);return f?Uo(f):po(),t}function ac(u,i){const r=i.split(".");return()=>{let e=u;for(let m=0;m<r.length&&e;m++)e=e[r[m]];return e}}function Mo(u,i){if(!Zt(u)||u.__v_skip||(i=i||new Set,i.has(u)))return u;if(i.add(u),vr(u))Mo(u.value,i);else if(bt(u))for(let r=0;r<u.length;r++)Mo(u[r],i);else if(Lu(u)||Lo(u))u.forEach(r=>{Mo(r,i)});else if(Bu(u))for(const r in u)Mo(u[r],i);return u}function of(){const u={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dc(()=>{u.isMounted=!0}),hc(()=>{u.isUnmounting=!0}),u}const Ir=[Function,Array],sf={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ir,onEnter:Ir,onAfterEnter:Ir,onEnterCancelled:Ir,onBeforeLeave:Ir,onLeave:Ir,onAfterLeave:Ir,onLeaveCancelled:Ir,onBeforeAppear:Ir,onAppear:Ir,onAfterAppear:Ir,onAppearCancelled:Ir},setup(u,{slots:i}){const r=qf(),e=of();let m;return()=>{const d=i.default&&uc(i.default(),!0);if(!d||!d.length)return;let f=d[0];if(d.length>1){for(const a of d)if(a.type!==rn){f=a;break}}const t=Pt(u),{mode:c}=t;if(e.isLeaving)return Ii(f);const h=Zl(f);if(!h)return Ii(f);const g=$i(h,t,e,r);Ki(h,g);const p=r.subTree,o=p&&Zl(p);let n=!1;const{getTransitionKey:s}=h.type;if(s){const a=s();m===void 0?m=a:a!==m&&(m=a,n=!0)}if(o&&o.type!==rn&&(!lo(h,o)||n)){const a=$i(o,t,e,r);if(Ki(o,a),c==="out-in")return e.isLeaving=!0,a.afterLeave=()=>{e.isLeaving=!1,r.update.active!==!1&&r.update()},Ii(f);c==="in-out"&&h.type!==rn&&(a.delayLeave=(l,v,w)=>{const x=lc(e,o);x[String(o.key)]=o,l._leaveCb=()=>{v(),l._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=w})}return f}}},af=sf;function lc(u,i){const{leavingVNodes:r}=u;let e=r.get(i.type);return e||(e=Object.create(null),r.set(i.type,e)),e}function $i(u,i,r,e){const{appear:m,mode:d,persisted:f=!1,onBeforeEnter:t,onEnter:c,onAfterEnter:h,onEnterCancelled:g,onBeforeLeave:p,onLeave:o,onAfterLeave:n,onLeaveCancelled:s,onBeforeAppear:a,onAppear:l,onAfterAppear:v,onAppearCancelled:w}=i,x=String(u.key),_=lc(r,u),E=(O,I)=>{O&&Vr(O,e,9,I)},C=(O,I)=>{const R=I[1];E(O,I),bt(O)?O.every(L=>L.length<=1)&&R():O.length<=1&&R()},A={mode:d,persisted:f,beforeEnter(O){let I=t;if(!r.isMounted)if(m)I=a||t;else return;O._leaveCb&&O._leaveCb(!0);const R=_[x];R&&lo(u,R)&&R.el._leaveCb&&R.el._leaveCb(),E(I,[O])},enter(O){let I=c,R=h,L=g;if(!r.isMounted)if(m)I=l||c,R=v||h,L=w||g;else return;let U=!1;const D=O._enterCb=H=>{U||(U=!0,H?E(L,[O]):E(R,[O]),A.delayedLeave&&A.delayedLeave(),O._enterCb=void 0)};I?C(I,[O,D]):D()},leave(O,I){const R=String(u.key);if(O._enterCb&&O._enterCb(!0),r.isUnmounting)return I();E(p,[O]);let L=!1;const U=O._leaveCb=D=>{L||(L=!0,I(),D?E(s,[O]):E(n,[O]),O._leaveCb=void 0,_[R]===u&&delete _[R])};_[R]=u,o?C(o,[O,U]):U()},clone(O){return $i(O,i,r,e)}};return A}function Ii(u){if(ci(u))return u=zn(u),u.children=null,u}function Zl(u){return ci(u)?u.children?u.children[0]:void 0:u}function Ki(u,i){u.shapeFlag&6&&u.component?Ki(u.component.subTree,i):u.shapeFlag&128?(u.ssContent.transition=i.clone(u.ssContent),u.ssFallback.transition=i.clone(u.ssFallback)):u.transition=i}function uc(u,i=!1,r){let e=[],m=0;for(let d=0;d<u.length;d++){let f=u[d];const t=r==null?f.key:String(r)+String(f.key!=null?f.key:d);f.type===kr?(f.patchFlag&128&&m++,e=e.concat(uc(f.children,i,t))):(i||f.type!==rn)&&e.push(t!=null?zn(f,{key:t}):f)}if(m>1)for(let d=0;d<e.length;d++)e[d].patchFlag=-2;return e}function Ga(u){return xt(u)?{setup:u,name:u.name}:u}const Bs=u=>!!u.type.__asyncLoader,ci=u=>u.type.__isKeepAlive;function lf(u,i){cc(u,"a",i)}function uf(u,i){cc(u,"da",i)}function cc(u,i,r=rr){const e=u.__wdc||(u.__wdc=()=>{let m=r;for(;m;){if(m.isDeactivated)return;m=m.parent}return u()});if(di(i,e,r),r){let m=r.parent;for(;m&&m.parent;)ci(m.parent.vnode)&&cf(e,i,r,m),m=m.parent}}function cf(u,i,r,e){const m=di(i,u,e,!0);fc(()=>{Ca(e[i],m)},r)}function di(u,i,r=rr,e=!1){if(r){const m=r[u]||(r[u]=[]),d=i.__weh||(i.__weh=(...f)=>{if(r.isUnmounted)return;zo(),Uo(r);const t=Vr(i,r,u,f);return po(),qo(),t});return e?m.unshift(d):m.push(d),d}}const An=u=>(i,r=rr)=>(!ps||u==="sp")&&di(u,(...e)=>i(...e),r),df=An("bm"),dc=An("m"),hf=An("bu"),ff=An("u"),hc=An("bum"),fc=An("um"),pf=An("sp"),mf=An("rtg"),gf=An("rtc");function yf(u,i=rr){di("ec",u,i)}function oo(u,i,r,e){const m=u.dirs,d=i&&i.dirs;for(let f=0;f<m.length;f++){const t=m[f];d&&(t.oldValue=d[f].value);let c=t.dir[e];c&&(zo(),Vr(c,r,8,[u.el,t,u,i]),qo())}}const Va="components";function vf(u,i){return mc(Va,u,!0,i)||u}const pc=Symbol();function bf(u){return or(u)?mc(Va,u,!1)||u:u||pc}function mc(u,i,r=!0,e=!1){const m=Gr||rr;if(m){const d=m.type;if(u===Va){const t=Qf(d,!1);if(t&&(t===i||t===yn(i)||t===ii(yn(i))))return d}const f=Jl(m[u]||d[u],i)||Jl(m.appContext[u],i);return!f&&e?d:f}}function Jl(u,i){return u&&(u[i]||u[yn(i)]||u[ii(yn(i))])}function gc(u,i,r,e){let m;const d=r&&r[e];if(bt(u)||or(u)){m=new Array(u.length);for(let f=0,t=u.length;f<t;f++)m[f]=i(u[f],f,void 0,d&&d[f])}else if(typeof u=="number"){m=new Array(u);for(let f=0;f<u;f++)m[f]=i(f+1,f,void 0,d&&d[f])}else if(Zt(u))if(u[Symbol.iterator])m=Array.from(u,(f,t)=>i(f,t,void 0,d&&d[t]));else{const f=Object.keys(u);m=new Array(f.length);for(let t=0,c=f.length;t<c;t++){const h=f[t];m[t]=i(u[h],h,t,d&&d[t])}}else m=[];return r&&(r[e]=m),m}const Qi=u=>u?Cc(u)?qa(u)||u.proxy:Qi(u.parent):null,as=wr(Object.create(null),{$:u=>u,$el:u=>u.vnode.el,$data:u=>u.data,$props:u=>u.props,$attrs:u=>u.attrs,$slots:u=>u.slots,$refs:u=>u.refs,$parent:u=>Qi(u.parent),$root:u=>Qi(u.root),$emit:u=>u.emit,$options:u=>Ha(u),$forceUpdate:u=>u.f||(u.f=()=>Fa(u.update)),$nextTick:u=>u.n||(u.n=Hh.bind(u.proxy)),$watch:u=>nf.bind(u)}),Bi=(u,i)=>u!==Kt&&!u.__isScriptSetup&&Ot(u,i),wf={get({_:u},i){const{ctx:r,setupState:e,data:m,props:d,accessCache:f,type:t,appContext:c}=u;let h;if(i[0]!=="$"){const n=f[i];if(n!==void 0)switch(n){case 1:return e[i];case 2:return m[i];case 4:return r[i];case 3:return d[i]}else{if(Bi(e,i))return f[i]=1,e[i];if(m!==Kt&&Ot(m,i))return f[i]=2,m[i];if((h=u.propsOptions[0])&&Ot(h,i))return f[i]=3,d[i];if(r!==Kt&&Ot(r,i))return f[i]=4,r[i];Zi&&(f[i]=0)}}const g=as[i];let p,o;if(g)return i==="$attrs"&&Ar(u,"get",i),g(u);if((p=t.__cssModules)&&(p=p[i]))return p;if(r!==Kt&&Ot(r,i))return f[i]=4,r[i];if(o=c.config.globalProperties,Ot(o,i))return o[i]},set({_:u},i,r){const{data:e,setupState:m,ctx:d}=u;return Bi(m,i)?(m[i]=r,!0):e!==Kt&&Ot(e,i)?(e[i]=r,!0):Ot(u.props,i)||i[0]==="$"&&i.slice(1)in u?!1:(d[i]=r,!0)},has({_:{data:u,setupState:i,accessCache:r,ctx:e,appContext:m,propsOptions:d}},f){let t;return!!r[f]||u!==Kt&&Ot(u,f)||Bi(i,f)||(t=d[0])&&Ot(t,f)||Ot(e,f)||Ot(as,f)||Ot(m.config.globalProperties,f)},defineProperty(u,i,r){return r.get!=null?u._.accessCache[i]=0:Ot(r,"value")&&this.set(u,i,r.value,null),Reflect.defineProperty(u,i,r)}};let Zi=!0;function xf(u){const i=Ha(u),r=u.proxy,e=u.ctx;Zi=!1,i.beforeCreate&&eu(i.beforeCreate,u,"bc");const{data:m,computed:d,methods:f,watch:t,provide:c,inject:h,created:g,beforeMount:p,mounted:o,beforeUpdate:n,updated:s,activated:a,deactivated:l,beforeDestroy:v,beforeUnmount:w,destroyed:x,unmounted:_,render:E,renderTracked:C,renderTriggered:A,errorCaptured:O,serverPrefetch:I,expose:R,inheritAttrs:L,components:U,directives:D,filters:H}=i;if(h&&_f(h,e,null,u.appContext.config.unwrapInjectedRef),f)for(const le in f){const J=f[le];xt(J)&&(e[le]=J.bind(r))}if(m){const le=m.call(r,r);Zt(le)&&(u.data=Da(le))}if(Zi=!0,d)for(const le in d){const J=d[le],ue=xt(J)?J.bind(r,r):xt(J.get)?J.get.bind(r,r):tn,se=!xt(J)&&xt(J.set)?J.set.bind(r):tn,me=Qs({get:ue,set:se});Object.defineProperty(e,le,{enumerable:!0,configurable:!0,get:()=>me.value,set:xe=>me.value=xe})}if(t)for(const le in t)yc(t[le],e,r,le);if(c){const le=xt(c)?c.call(r):c;Reflect.ownKeys(le).forEach(J=>{rf(J,le[J])})}g&&eu(g,u,"c");function ae(le,J){bt(J)?J.forEach(ue=>le(ue.bind(r))):J&&le(J.bind(r))}if(ae(df,p),ae(dc,o),ae(hf,n),ae(ff,s),ae(lf,a),ae(uf,l),ae(yf,O),ae(gf,C),ae(mf,A),ae(hc,w),ae(fc,_),ae(pf,I),bt(R))if(R.length){const le=u.exposed||(u.exposed={});R.forEach(J=>{Object.defineProperty(le,J,{get:()=>r[J],set:ue=>r[J]=ue})})}else u.exposed||(u.exposed={});E&&u.render===tn&&(u.render=E),L!=null&&(u.inheritAttrs=L),U&&(u.components=U),D&&(u.directives=D)}function _f(u,i,r=tn,e=!1){bt(u)&&(u=Ji(u));for(const m in u){const d=u[m];let f;Zt(d)?"default"in d?f=Is(d.from||m,d.default,!0):f=Is(d.from||m):f=Is(d),vr(f)&&e?Object.defineProperty(i,m,{enumerable:!0,configurable:!0,get:()=>f.value,set:t=>f.value=t}):i[m]=f}}function eu(u,i,r){Vr(bt(u)?u.map(e=>e.bind(i.proxy)):u.bind(i.proxy),i,r)}function yc(u,i,r,e){const m=e.includes(".")?ac(r,e):()=>r[e];if(or(u)){const d=i[u];xt(d)&&Di(m,d)}else if(xt(u))Di(m,u.bind(r));else if(Zt(u))if(bt(u))u.forEach(d=>yc(d,i,r,e));else{const d=xt(u.handler)?u.handler.bind(r):i[u.handler];xt(d)&&Di(m,d,u)}}function Ha(u){const i=u.type,{mixins:r,extends:e}=i,{mixins:m,optionsCache:d,config:{optionMergeStrategies:f}}=u.appContext,t=d.get(i);let c;return t?c=t:!m.length&&!r&&!e?c=i:(c={},m.length&&m.forEach(h=>Ks(c,h,f,!0)),Ks(c,i,f)),Zt(i)&&d.set(i,c),c}function Ks(u,i,r,e=!1){const{mixins:m,extends:d}=i;d&&Ks(u,d,r,!0),m&&m.forEach(f=>Ks(u,f,r,!0));for(const f in i)if(!(e&&f==="expose")){const t=Sf[f]||r&&r[f];u[f]=t?t(u[f],i[f]):i[f]}return u}const Sf={data:tu,props:io,emits:io,methods:io,computed:io,beforeCreate:_r,created:_r,beforeMount:_r,mounted:_r,beforeUpdate:_r,updated:_r,beforeDestroy:_r,beforeUnmount:_r,destroyed:_r,unmounted:_r,activated:_r,deactivated:_r,errorCaptured:_r,serverPrefetch:_r,components:io,directives:io,watch:Tf,provide:tu,inject:jf};function tu(u,i){return i?u?function(){return wr(xt(u)?u.call(this,this):u,xt(i)?i.call(this,this):i)}:i:u}function jf(u,i){return io(Ji(u),Ji(i))}function Ji(u){if(bt(u)){const i={};for(let r=0;r<u.length;r++)i[u[r]]=u[r];return i}return u}function _r(u,i){return u?[...new Set([].concat(u,i))]:i}function io(u,i){return u?wr(wr(Object.create(null),u),i):i}function Tf(u,i){if(!u)return i;if(!i)return u;const r=wr(Object.create(null),u);for(const e in i)r[e]=_r(u[e],i[e]);return r}function Ef(u,i,r,e=!1){const m={},d={};Ys(d,pi,1),u.propsDefaults=Object.create(null),vc(u,i,m,d);for(const f in u.propsOptions[0])f in m||(m[f]=void 0);r?u.props=e?m:Ih(m):u.type.props?u.props=m:u.props=d,u.attrs=d}function Cf(u,i,r,e){const{props:m,attrs:d,vnode:{patchFlag:f}}=u,t=Pt(m),[c]=u.propsOptions;let h=!1;if((e||f>0)&&!(f&16)){if(f&8){const g=u.vnode.dynamicProps;for(let p=0;p<g.length;p++){let o=g[p];if(ui(u.emitsOptions,o))continue;const n=i[o];if(c)if(Ot(d,o))n!==d[o]&&(d[o]=n,h=!0);else{const s=yn(o);m[s]=ea(c,t,s,n,u,!1)}else n!==d[o]&&(d[o]=n,h=!0)}}}else{vc(u,i,m,d)&&(h=!0);let g;for(const p in t)(!i||!Ot(i,p)&&((g=Wo(p))===p||!Ot(i,g)))&&(c?r&&(r[p]!==void 0||r[g]!==void 0)&&(m[p]=ea(c,t,p,void 0,u,!0)):delete m[p]);if(d!==t)for(const p in d)(!i||!Ot(i,p))&&(delete d[p],h=!0)}h&&Cn(u,"set","$attrs")}function vc(u,i,r,e){const[m,d]=u.propsOptions;let f=!1,t;if(i)for(let c in i){if(Ds(c))continue;const h=i[c];let g;m&&Ot(m,g=yn(c))?!d||!d.includes(g)?r[g]=h:(t||(t={}))[g]=h:ui(u.emitsOptions,c)||(!(c in e)||h!==e[c])&&(e[c]=h,f=!0)}if(d){const c=Pt(r),h=t||Kt;for(let g=0;g<d.length;g++){const p=d[g];r[p]=ea(m,c,p,h[p],u,!Ot(h,p))}}return f}function ea(u,i,r,e,m,d){const f=u[r];if(f!=null){const t=Ot(f,"default");if(t&&e===void 0){const c=f.default;if(f.type!==Function&&xt(c)){const{propsDefaults:h}=m;r in h?e=h[r]:(Uo(m),e=h[r]=c.call(null,i),po())}else e=c}f[0]&&(d&&!t?e=!1:f[1]&&(e===""||e===Wo(r))&&(e=!0))}return e}function bc(u,i,r=!1){const e=i.propsCache,m=e.get(u);if(m)return m;const d=u.props,f={},t=[];let c=!1;if(!xt(u)){const g=p=>{c=!0;const[o,n]=bc(p,i,!0);wr(f,o),n&&t.push(...n)};!r&&i.mixins.length&&i.mixins.forEach(g),u.extends&&g(u.extends),u.mixins&&u.mixins.forEach(g)}if(!d&&!c)return Zt(u)&&e.set(u,ko),ko;if(bt(d))for(let g=0;g<d.length;g++){const p=yn(d[g]);ru(p)&&(f[p]=Kt)}else if(d)for(const g in d){const p=yn(g);if(ru(p)){const o=d[g],n=f[p]=bt(o)||xt(o)?{type:o}:Object.assign({},o);if(n){const s=su(Boolean,n.type),a=su(String,n.type);n[0]=s>-1,n[1]=a<0||s<a,(s>-1||Ot(n,"default"))&&t.push(p)}}}const h=[f,t];return Zt(u)&&e.set(u,h),h}function ru(u){return u[0]!=="$"}function nu(u){const i=u&&u.toString().match(/^\s*(function|class) (\w+)/);return i?i[2]:u===null?"null":""}function ou(u,i){return nu(u)===nu(i)}function su(u,i){return bt(i)?i.findIndex(r=>ou(r,u)):xt(i)&&ou(i,u)?0:-1}const wc=u=>u[0]==="_"||u==="$stable",Wa=u=>bt(u)?u.map(mn):[mn(u)],Mf=(u,i,r)=>{if(i._n)return i;const e=$h((...m)=>Wa(i(...m)),r);return e._c=!1,e},xc=(u,i,r)=>{const e=u._ctx;for(const m in u){if(wc(m))continue;const d=u[m];if(xt(d))i[m]=Mf(m,d,e);else if(d!=null){const f=Wa(d);i[m]=()=>f}}},_c=(u,i)=>{const r=Wa(i);u.slots.default=()=>r},Af=(u,i)=>{if(u.vnode.shapeFlag&32){const r=i._;r?(u.slots=Pt(i),Ys(i,"_",r)):xc(i,u.slots={})}else u.slots={},i&&_c(u,i);Ys(u.slots,pi,1)},Rf=(u,i,r)=>{const{vnode:e,slots:m}=u;let d=!0,f=Kt;if(e.shapeFlag&32){const t=i._;t?r&&t===1?d=!1:(wr(m,i),!r&&t===1&&delete m._):(d=!i.$stable,xc(i,m)),f=i}else i&&(_c(u,i),f={default:1});if(d)for(const t in m)!wc(t)&&!(t in f)&&delete m[t]};function Sc(){return{app:null,config:{isNativeTag:Jd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Of=0;function Pf(u,i){return function(e,m=null){xt(e)||(e=Object.assign({},e)),m!=null&&!Zt(m)&&(m=null);const d=Sc(),f=new Set;let t=!1;const c=d.app={_uid:Of++,_component:e,_props:m,_container:null,_context:d,_instance:null,version:t0,get config(){return d.config},set config(h){},use(h,...g){return f.has(h)||(h&&xt(h.install)?(f.add(h),h.install(c,...g)):xt(h)&&(f.add(h),h(c,...g))),c},mixin(h){return d.mixins.includes(h)||d.mixins.push(h),c},component(h,g){return g?(d.components[h]=g,c):d.components[h]},directive(h,g){return g?(d.directives[h]=g,c):d.directives[h]},mount(h,g,p){if(!t){const o=En(e,m);return o.appContext=d,g&&i?i(o,h):u(o,h,p),t=!0,c._container=h,h.__vue_app__=c,qa(o.component)||o.component.proxy}},unmount(){t&&(u(null,c._container),delete c._container.__vue_app__)},provide(h,g){return d.provides[h]=g,c}};return c}}function ta(u,i,r,e,m=!1){if(bt(u)){u.forEach((o,n)=>ta(o,i&&(bt(i)?i[n]:i),r,e,m));return}if(Bs(e)&&!m)return;const d=e.shapeFlag&4?qa(e.component)||e.component.proxy:e.el,f=m?null:d,{i:t,r:c}=u,h=i&&i.r,g=t.refs===Kt?t.refs={}:t.refs,p=t.setupState;if(h!=null&&h!==c&&(or(h)?(g[h]=null,Ot(p,h)&&(p[h]=null)):vr(h)&&(h.value=null)),xt(c))Vn(c,t,12,[f,g]);else{const o=or(c),n=vr(c);if(o||n){const s=()=>{if(u.f){const a=o?Ot(p,c)?p[c]:g[c]:c.value;m?bt(a)&&Ca(a,d):bt(a)?a.includes(d)||a.push(d):o?(g[c]=[d],Ot(p,c)&&(p[c]=g[c])):(c.value=[d],u.k&&(g[u.k]=c.value))}else o?(g[c]=f,Ot(p,c)&&(p[c]=f)):n&&(c.value=f,u.k&&(g[u.k]=f))};f?(s.id=-1,Mr(s,r)):s()}}}const Mr=tf;function kf(u){return Lf(u)}function Lf(u,i){const r=ih();r.__VUE__=!0;const{insert:e,remove:m,patchProp:d,createElement:f,createText:t,createComment:c,setText:h,setElementText:g,parentNode:p,nextSibling:o,setScopeId:n=tn,insertStaticContent:s}=u,a=(B,N,re,$=null,ne=null,ie=null,oe=!1,pe=null,ge=!!N.dynamicChildren)=>{if(B===N)return;B&&!lo(B,N)&&($=Se(B),xe(B,ne,ie,!0),B=null),N.patchFlag===-2&&(ge=!1,N.dynamicChildren=null);const{type:he,ref:Pe,shapeFlag:Be}=N;switch(he){case hi:l(B,N,re,$);break;case rn:v(B,N,re,$);break;case Ui:B==null&&w(N,re,$,oe);break;case kr:U(B,N,re,$,ne,ie,oe,pe,ge);break;default:Be&1?E(B,N,re,$,ne,ie,oe,pe,ge):Be&6?D(B,N,re,$,ne,ie,oe,pe,ge):(Be&64||Be&128)&&he.process(B,N,re,$,ne,ie,oe,pe,ge,G)}Pe!=null&&ne&&ta(Pe,B&&B.ref,ie,N||B,!N)},l=(B,N,re,$)=>{if(B==null)e(N.el=t(N.children),re,$);else{const ne=N.el=B.el;N.children!==B.children&&h(ne,N.children)}},v=(B,N,re,$)=>{B==null?e(N.el=c(N.children||""),re,$):N.el=B.el},w=(B,N,re,$)=>{[B.el,B.anchor]=s(B.children,N,re,$,B.el,B.anchor)},x=({el:B,anchor:N},re,$)=>{let ne;for(;B&&B!==N;)ne=o(B),e(B,re,$),B=ne;e(N,re,$)},_=({el:B,anchor:N})=>{let re;for(;B&&B!==N;)re=o(B),m(B),B=re;m(N)},E=(B,N,re,$,ne,ie,oe,pe,ge)=>{oe=oe||N.type==="svg",B==null?C(N,re,$,ne,ie,oe,pe,ge):I(B,N,ne,ie,oe,pe,ge)},C=(B,N,re,$,ne,ie,oe,pe)=>{let ge,he;const{type:Pe,props:Be,shapeFlag:Ue,transition:Le,dirs:Qe}=B;if(ge=B.el=f(B.type,ie,Be&&Be.is,Be),Ue&8?g(ge,B.children):Ue&16&&O(B.children,ge,null,$,ne,ie&&Pe!=="foreignObject",oe,pe),Qe&&oo(B,null,$,"created"),A(ge,B,B.scopeId,oe,$),Be){for(const Ae in Be)Ae!=="value"&&!Ds(Ae)&&d(ge,Ae,null,Be[Ae],ie,B.children,$,ne,_e);"value"in Be&&d(ge,"value",null,Be.value),(he=Be.onVnodeBeforeMount)&&cn(he,$,B)}Qe&&oo(B,null,$,"beforeMount");const Re=(!ne||ne&&!ne.pendingBranch)&&Le&&!Le.persisted;Re&&Le.beforeEnter(ge),e(ge,N,re),((he=Be&&Be.onVnodeMounted)||Re||Qe)&&Mr(()=>{he&&cn(he,$,B),Re&&Le.enter(ge),Qe&&oo(B,null,$,"mounted")},ne)},A=(B,N,re,$,ne)=>{if(re&&n(B,re),$)for(let ie=0;ie<$.length;ie++)n(B,$[ie]);if(ne){let ie=ne.subTree;if(N===ie){const oe=ne.vnode;A(B,oe,oe.scopeId,oe.slotScopeIds,ne.parent)}}},O=(B,N,re,$,ne,ie,oe,pe,ge=0)=>{for(let he=ge;he<B.length;he++){const Pe=B[he]=pe?Un(B[he]):mn(B[he]);a(null,Pe,N,re,$,ne,ie,oe,pe)}},I=(B,N,re,$,ne,ie,oe)=>{const pe=N.el=B.el;let{patchFlag:ge,dynamicChildren:he,dirs:Pe}=N;ge|=B.patchFlag&16;const Be=B.props||Kt,Ue=N.props||Kt;let Le;re&&so(re,!1),(Le=Ue.onVnodeBeforeUpdate)&&cn(Le,re,N,B),Pe&&oo(N,B,re,"beforeUpdate"),re&&so(re,!0);const Qe=ne&&N.type!=="foreignObject";if(he?R(B.dynamicChildren,he,pe,re,$,Qe,ie):oe||J(B,N,pe,null,re,$,Qe,ie,!1),ge>0){if(ge&16)L(pe,N,Be,Ue,re,$,ne);else if(ge&2&&Be.class!==Ue.class&&d(pe,"class",null,Ue.class,ne),ge&4&&d(pe,"style",Be.style,Ue.style,ne),ge&8){const Re=N.dynamicProps;for(let Ae=0;Ae<Re.length;Ae++){const ze=Re[Ae],Xe=Be[ze],be=Ue[ze];(be!==Xe||ze==="value")&&d(pe,ze,Xe,be,ne,B.children,re,$,_e)}}ge&1&&B.children!==N.children&&g(pe,N.children)}else!oe&&he==null&&L(pe,N,Be,Ue,re,$,ne);((Le=Ue.onVnodeUpdated)||Pe)&&Mr(()=>{Le&&cn(Le,re,N,B),Pe&&oo(N,B,re,"updated")},$)},R=(B,N,re,$,ne,ie,oe)=>{for(let pe=0;pe<N.length;pe++){const ge=B[pe],he=N[pe],Pe=ge.el&&(ge.type===kr||!lo(ge,he)||ge.shapeFlag&70)?p(ge.el):re;a(ge,he,Pe,null,$,ne,ie,oe,!0)}},L=(B,N,re,$,ne,ie,oe)=>{if(re!==$){if(re!==Kt)for(const pe in re)!Ds(pe)&&!(pe in $)&&d(B,pe,re[pe],null,oe,N.children,ne,ie,_e);for(const pe in $){if(Ds(pe))continue;const ge=$[pe],he=re[pe];ge!==he&&pe!=="value"&&d(B,pe,he,ge,oe,N.children,ne,ie,_e)}"value"in $&&d(B,"value",re.value,$.value)}},U=(B,N,re,$,ne,ie,oe,pe,ge)=>{const he=N.el=B?B.el:t(""),Pe=N.anchor=B?B.anchor:t("");let{patchFlag:Be,dynamicChildren:Ue,slotScopeIds:Le}=N;Le&&(pe=pe?pe.concat(Le):Le),B==null?(e(he,re,$),e(Pe,re,$),O(N.children,re,Pe,ne,ie,oe,pe,ge)):Be>0&&Be&64&&Ue&&B.dynamicChildren?(R(B.dynamicChildren,Ue,re,ne,ie,oe,pe),(N.key!=null||ne&&N===ne.subTree)&&jc(B,N,!0)):J(B,N,re,Pe,ne,ie,oe,pe,ge)},D=(B,N,re,$,ne,ie,oe,pe,ge)=>{N.slotScopeIds=pe,B==null?N.shapeFlag&512?ne.ctx.activate(N,re,$,oe,ge):H(N,re,$,ne,ie,oe,ge):W(B,N,ge)},H=(B,N,re,$,ne,ie,oe)=>{const pe=B.component=zf(B,$,ne);if(ci(B)&&(pe.ctx.renderer=G),Yf(pe),pe.asyncDep){if(ne&&ne.registerDep(pe,ae),!B.el){const ge=pe.subTree=En(rn);v(null,ge,N,re)}return}ae(pe,B,N,re,ne,ie,oe)},W=(B,N,re)=>{const $=N.component=B.component;if(Zh(B,N,re))if($.asyncDep&&!$.asyncResolved){le($,N,re);return}else $.next=N,zh($.update),$.update();else N.el=B.el,$.vnode=N},ae=(B,N,re,$,ne,ie,oe)=>{const pe=()=>{if(B.isMounted){let{next:Pe,bu:Be,u:Ue,parent:Le,vnode:Qe}=B,Re=Pe,Ae;so(B,!1),Pe?(Pe.el=Qe.el,le(B,Pe,oe)):Pe=Qe,Be&&ki(Be),(Ae=Pe.props&&Pe.props.onVnodeBeforeUpdate)&&cn(Ae,Le,Pe,Qe),so(B,!0);const ze=Li(B),Xe=B.subTree;B.subTree=ze,a(Xe,ze,p(Xe.el),Se(Xe),B,ne,ie),Pe.el=ze.el,Re===null&&Jh(B,ze.el),Ue&&Mr(Ue,ne),(Ae=Pe.props&&Pe.props.onVnodeUpdated)&&Mr(()=>cn(Ae,Le,Pe,Qe),ne)}else{let Pe;const{el:Be,props:Ue}=N,{bm:Le,m:Qe,parent:Re}=B,Ae=Bs(N);if(so(B,!1),Le&&ki(Le),!Ae&&(Pe=Ue&&Ue.onVnodeBeforeMount)&&cn(Pe,Re,N),so(B,!0),Be&&ee){const ze=()=>{B.subTree=Li(B),ee(Be,B.subTree,B,ne,null)};Ae?N.type.__asyncLoader().then(()=>!B.isUnmounted&&ze()):ze()}else{const ze=B.subTree=Li(B);a(null,ze,re,$,B,ne,ie),N.el=ze.el}if(Qe&&Mr(Qe,ne),!Ae&&(Pe=Ue&&Ue.onVnodeMounted)){const ze=N;Mr(()=>cn(Pe,Re,ze),ne)}(N.shapeFlag&256||Re&&Bs(Re.vnode)&&Re.vnode.shapeFlag&256)&&B.a&&Mr(B.a,ne),B.isMounted=!0,N=re=$=null}},ge=B.effect=new Oa(pe,()=>Fa(he),B.scope),he=B.update=()=>ge.run();he.id=B.uid,so(B,!0),he()},le=(B,N,re)=>{N.component=B;const $=B.vnode.props;B.vnode=N,B.next=null,Cf(B,N.props,$,re),Rf(B,N.children,re),zo(),Kl(),qo()},J=(B,N,re,$,ne,ie,oe,pe,ge=!1)=>{const he=B&&B.children,Pe=B?B.shapeFlag:0,Be=N.children,{patchFlag:Ue,shapeFlag:Le}=N;if(Ue>0){if(Ue&128){se(he,Be,re,$,ne,ie,oe,pe,ge);return}else if(Ue&256){ue(he,Be,re,$,ne,ie,oe,pe,ge);return}}Le&8?(Pe&16&&_e(he,ne,ie),Be!==he&&g(re,Be)):Pe&16?Le&16?se(he,Be,re,$,ne,ie,oe,pe,ge):_e(he,ne,ie,!0):(Pe&8&&g(re,""),Le&16&&O(Be,re,$,ne,ie,oe,pe,ge))},ue=(B,N,re,$,ne,ie,oe,pe,ge)=>{B=B||ko,N=N||ko;const he=B.length,Pe=N.length,Be=Math.min(he,Pe);let Ue;for(Ue=0;Ue<Be;Ue++){const Le=N[Ue]=ge?Un(N[Ue]):mn(N[Ue]);a(B[Ue],Le,re,null,ne,ie,oe,pe,ge)}he>Pe?_e(B,ne,ie,!0,!1,Be):O(N,re,$,ne,ie,oe,pe,ge,Be)},se=(B,N,re,$,ne,ie,oe,pe,ge)=>{let he=0;const Pe=N.length;let Be=B.length-1,Ue=Pe-1;for(;he<=Be&&he<=Ue;){const Le=B[he],Qe=N[he]=ge?Un(N[he]):mn(N[he]);if(lo(Le,Qe))a(Le,Qe,re,null,ne,ie,oe,pe,ge);else break;he++}for(;he<=Be&&he<=Ue;){const Le=B[Be],Qe=N[Ue]=ge?Un(N[Ue]):mn(N[Ue]);if(lo(Le,Qe))a(Le,Qe,re,null,ne,ie,oe,pe,ge);else break;Be--,Ue--}if(he>Be){if(he<=Ue){const Le=Ue+1,Qe=Le<Pe?N[Le].el:$;for(;he<=Ue;)a(null,N[he]=ge?Un(N[he]):mn(N[he]),re,Qe,ne,ie,oe,pe,ge),he++}}else if(he>Ue)for(;he<=Be;)xe(B[he],ne,ie,!0),he++;else{const Le=he,Qe=he,Re=new Map;for(he=Qe;he<=Ue;he++){const q=N[he]=ge?Un(N[he]):mn(N[he]);q.key!=null&&Re.set(q.key,he)}let Ae,ze=0;const Xe=Ue-Qe+1;let be=!1,rt=0;const V=new Array(Xe);for(he=0;he<Xe;he++)V[he]=0;for(he=Le;he<=Be;he++){const q=B[he];if(ze>=Xe){xe(q,ne,ie,!0);continue}let K;if(q.key!=null)K=Re.get(q.key);else for(Ae=Qe;Ae<=Ue;Ae++)if(V[Ae-Qe]===0&&lo(q,N[Ae])){K=Ae;break}K===void 0?xe(q,ne,ie,!0):(V[K-Qe]=he+1,K>=rt?rt=K:be=!0,a(q,N[K],re,null,ne,ie,oe,pe,ge),ze++)}const Q=be?Df(V):ko;for(Ae=Q.length-1,he=Xe-1;he>=0;he--){const q=Qe+he,K=N[q],de=q+1<Pe?N[q+1].el:$;V[he]===0?a(null,K,re,de,ne,ie,oe,pe,ge):be&&(Ae<0||he!==Q[Ae]?me(K,re,de,2):Ae--)}}},me=(B,N,re,$,ne=null)=>{const{el:ie,type:oe,transition:pe,children:ge,shapeFlag:he}=B;if(he&6){me(B.component.subTree,N,re,$);return}if(he&128){B.suspense.move(N,re,$);return}if(he&64){oe.move(B,N,re,G);return}if(oe===kr){e(ie,N,re);for(let Be=0;Be<ge.length;Be++)me(ge[Be],N,re,$);e(B.anchor,N,re);return}if(oe===Ui){x(B,N,re);return}if($!==2&&he&1&&pe)if($===0)pe.beforeEnter(ie),e(ie,N,re),Mr(()=>pe.enter(ie),ne);else{const{leave:Be,delayLeave:Ue,afterLeave:Le}=pe,Qe=()=>e(ie,N,re),Re=()=>{Be(ie,()=>{Qe(),Le&&Le()})};Ue?Ue(ie,Qe,Re):Re()}else e(ie,N,re)},xe=(B,N,re,$=!1,ne=!1)=>{const{type:ie,props:oe,ref:pe,children:ge,dynamicChildren:he,shapeFlag:Pe,patchFlag:Be,dirs:Ue}=B;if(pe!=null&&ta(pe,null,re,B,!0),Pe&256){N.ctx.deactivate(B);return}const Le=Pe&1&&Ue,Qe=!Bs(B);let Re;if(Qe&&(Re=oe&&oe.onVnodeBeforeUnmount)&&cn(Re,N,B),Pe&6)De(B.component,re,$);else{if(Pe&128){B.suspense.unmount(re,$);return}Le&&oo(B,null,N,"beforeUnmount"),Pe&64?B.type.remove(B,N,re,ne,G,$):he&&(ie!==kr||Be>0&&Be&64)?_e(he,N,re,!1,!0):(ie===kr&&Be&384||!ne&&Pe&16)&&_e(ge,N,re),$&&Ce(B)}(Qe&&(Re=oe&&oe.onVnodeUnmounted)||Le)&&Mr(()=>{Re&&cn(Re,N,B),Le&&oo(B,null,N,"unmounted")},re)},Ce=B=>{const{type:N,el:re,anchor:$,transition:ne}=B;if(N===kr){ve(re,$);return}if(N===Ui){_(B);return}const ie=()=>{m(re),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(B.shapeFlag&1&&ne&&!ne.persisted){const{leave:oe,delayLeave:pe}=ne,ge=()=>oe(re,ie);pe?pe(B.el,ie,ge):ge()}else ie()},ve=(B,N)=>{let re;for(;B!==N;)re=o(B),m(B),B=re;m(N)},De=(B,N,re)=>{const{bum:$,scope:ne,update:ie,subTree:oe,um:pe}=B;$&&ki($),ne.stop(),ie&&(ie.active=!1,xe(oe,B,N,re)),pe&&Mr(pe,N),Mr(()=>{B.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},_e=(B,N,re,$=!1,ne=!1,ie=0)=>{for(let oe=ie;oe<B.length;oe++)xe(B[oe],N,re,$,ne)},Se=B=>B.shapeFlag&6?Se(B.component.subTree):B.shapeFlag&128?B.suspense.next():o(B.anchor||B.el),P=(B,N,re)=>{B==null?N._vnode&&xe(N._vnode,null,null,!0):a(N._vnode||null,B,N,null,null,null,re),Kl(),rc(),N._vnode=B},G={p:a,um:xe,m:me,r:Ce,mt:H,mc:O,pc:J,pbc:R,n:Se,o:u};let X,ee;return i&&([X,ee]=i(G)),{render:P,hydrate:X,createApp:Pf(P,X)}}function so({effect:u,update:i},r){u.allowRecurse=i.allowRecurse=r}function jc(u,i,r=!1){const e=u.children,m=i.children;if(bt(e)&&bt(m))for(let d=0;d<e.length;d++){const f=e[d];let t=m[d];t.shapeFlag&1&&!t.dynamicChildren&&((t.patchFlag<=0||t.patchFlag===32)&&(t=m[d]=Un(m[d]),t.el=f.el),r||jc(f,t)),t.type===hi&&(t.el=f.el)}}function Df(u){const i=u.slice(),r=[0];let e,m,d,f,t;const c=u.length;for(e=0;e<c;e++){const h=u[e];if(h!==0){if(m=r[r.length-1],u[m]<h){i[e]=m,r.push(e);continue}for(d=0,f=r.length-1;d<f;)t=d+f>>1,u[r[t]]<h?d=t+1:f=t;h<u[r[d]]&&(d>0&&(i[e]=r[d-1]),r[d]=e)}}for(d=r.length,f=r[d-1];d-- >0;)r[d]=f,f=i[f];return r}const If=u=>u.__isTeleport,kr=Symbol(void 0),hi=Symbol(void 0),rn=Symbol(void 0),Ui=Symbol(void 0),ls=[];let en=null;function Tr(u=!1){ls.push(en=u?null:[])}function Bf(){ls.pop(),en=ls[ls.length-1]||null}let fs=1;function iu(u){fs+=u}function Tc(u){return u.dynamicChildren=fs>0?en||ko:null,Bf(),fs>0&&en&&en.push(u),u}function Zr(u,i,r,e,m,d){return Tc(br(u,i,r,e,m,d,!0))}function fi(u,i,r,e,m){return Tc(En(u,i,r,e,m,!0))}function Uf(u){return u?u.__v_isVNode===!0:!1}function lo(u,i){return u.type===i.type&&u.key===i.key}const pi="__vInternal",Ec=({key:u})=>u??null,Us=({ref:u,ref_key:i,ref_for:r})=>u!=null?or(u)||vr(u)||xt(u)?{i:Gr,r:u,k:i,f:!!r}:u:null;function br(u,i=null,r=null,e=0,m=null,d=u===kr?0:1,f=!1,t=!1){const c={__v_isVNode:!0,__v_skip:!0,type:u,props:i,key:i&&Ec(i),ref:i&&Us(i),scopeId:sc,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:e,dynamicProps:m,dynamicChildren:null,appContext:null,ctx:Gr};return t?(za(c,r),d&128&&u.normalize(c)):r&&(c.shapeFlag|=or(r)?8:16),fs>0&&!f&&en&&(c.patchFlag>0||d&6)&&c.patchFlag!==32&&en.push(c),c}const En=Nf;function Nf(u,i=null,r=null,e=0,m=null,d=!1){if((!u||u===pc)&&(u=rn),Uf(u)){const t=zn(u,i,!0);return r&&za(t,r),fs>0&&!d&&en&&(t.shapeFlag&6?en[en.indexOf(u)]=t:en.push(t)),t.patchFlag|=-2,t}if(Zf(u)&&(u=u.__vccOpts),i){i=Ff(i);let{class:t,style:c}=i;t&&!or(t)&&(i.class=Ho(t)),Zt(c)&&($u(c)&&!bt(c)&&(c=wr({},c)),i.style=Ta(c))}const f=or(u)?1:ef(u)?128:If(u)?64:Zt(u)?4:xt(u)?2:0;return br(u,i,r,e,m,f,d,!0)}function Ff(u){return u?$u(u)||pi in u?wr({},u):u:null}function zn(u,i,r=!1){const{props:e,ref:m,patchFlag:d,children:f}=u,t=i?Vf(e||{},i):e;return{__v_isVNode:!0,__v_skip:!0,type:u.type,props:t,key:t&&Ec(t),ref:i&&i.ref?r&&m?bt(m)?m.concat(Us(i)):[m,Us(i)]:Us(i):m,scopeId:u.scopeId,slotScopeIds:u.slotScopeIds,children:f,target:u.target,targetAnchor:u.targetAnchor,staticCount:u.staticCount,shapeFlag:u.shapeFlag,patchFlag:i&&u.type!==kr?d===-1?16:d|16:d,dynamicProps:u.dynamicProps,dynamicChildren:u.dynamicChildren,appContext:u.appContext,dirs:u.dirs,transition:u.transition,component:u.component,suspense:u.suspense,ssContent:u.ssContent&&zn(u.ssContent),ssFallback:u.ssFallback&&zn(u.ssFallback),el:u.el,anchor:u.anchor,ctx:u.ctx,ce:u.ce}}function Gf(u=" ",i=0){return En(hi,null,u,i)}function Ao(u="",i=!1){return i?(Tr(),fi(rn,null,u)):En(rn,null,u)}function mn(u){return u==null||typeof u=="boolean"?En(rn):bt(u)?En(kr,null,u.slice()):typeof u=="object"?Un(u):En(hi,null,String(u))}function Un(u){return u.el===null&&u.patchFlag!==-1||u.memo?u:zn(u)}function za(u,i){let r=0;const{shapeFlag:e}=u;if(i==null)i=null;else if(bt(i))r=16;else if(typeof i=="object")if(e&65){const m=i.default;m&&(m._c&&(m._d=!1),za(u,m()),m._c&&(m._d=!0));return}else{r=32;const m=i._;!m&&!(pi in i)?i._ctx=Gr:m===3&&Gr&&(Gr.slots._===1?i._=1:(i._=2,u.patchFlag|=1024))}else xt(i)?(i={default:i,_ctx:Gr},r=32):(i=String(i),e&64?(r=16,i=[Gf(i)]):r=8);u.children=i,u.shapeFlag|=r}function Vf(...u){const i={};for(let r=0;r<u.length;r++){const e=u[r];for(const m in e)if(m==="class")i.class!==e.class&&(i.class=Ho([i.class,e.class]));else if(m==="style")i.style=Ta([i.style,e.style]);else if(ni(m)){const d=i[m],f=e[m];f&&d!==f&&!(bt(d)&&d.includes(f))&&(i[m]=d?[].concat(d,f):f)}else m!==""&&(i[m]=e[m])}return i}function cn(u,i,r,e=null){Vr(u,i,7,[r,e])}const Hf=Sc();let Wf=0;function zf(u,i,r){const e=u.type,m=(i?i.appContext:u.appContext)||Hf,d={uid:Wf++,vnode:u,type:e,parent:i,appContext:m,root:null,next:null,subTree:null,effect:null,update:null,scope:new ah(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(m.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bc(e,m),emitsOptions:oc(e,m),emit:null,emitted:null,propsDefaults:Kt,inheritAttrs:e.inheritAttrs,ctx:Kt,data:Kt,props:Kt,attrs:Kt,slots:Kt,refs:Kt,setupState:Kt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=i?i.root:d,d.emit=Xh.bind(null,d),u.ce&&u.ce(d),d}let rr=null;const qf=()=>rr||Gr,Uo=u=>{rr=u,u.scope.on()},po=()=>{rr&&rr.scope.off(),rr=null};function Cc(u){return u.vnode.shapeFlag&4}let ps=!1;function Yf(u,i=!1){ps=i;const{props:r,children:e}=u.vnode,m=Cc(u);Ef(u,r,m,i),Af(u,e);const d=m?Xf(u,i):void 0;return ps=!1,d}function Xf(u,i){const r=u.type;u.accessCache=Object.create(null),u.proxy=Ba(new Proxy(u.ctx,wf));const{setup:e}=r;if(e){const m=u.setupContext=e.length>1?Kf(u):null;Uo(u),zo();const d=Vn(e,u,0,[u.props,m]);if(qo(),po(),Du(d)){if(d.then(po,po),i)return d.then(f=>{au(u,f,i)}).catch(f=>{li(f,u,0)});u.asyncDep=d}else au(u,d,i)}else Mc(u,i)}function au(u,i,r){xt(i)?u.type.__ssrInlineRender?u.ssrRender=i:u.render=i:Zt(i)&&(u.setupState=Zu(i)),Mc(u,r)}let lu;function Mc(u,i,r){const e=u.type;if(!u.render){if(!i&&lu&&!e.render){const m=e.template||Ha(u).template;if(m){const{isCustomElement:d,compilerOptions:f}=u.appContext.config,{delimiters:t,compilerOptions:c}=e,h=wr(wr({isCustomElement:d,delimiters:t},f),c);e.render=lu(m,h)}}u.render=e.render||tn}Uo(u),zo(),xf(u),qo(),po()}function $f(u){return new Proxy(u.attrs,{get(i,r){return Ar(u,"get","$attrs"),i[r]}})}function Kf(u){const i=e=>{u.exposed=e||{}};let r;return{get attrs(){return r||(r=$f(u))},slots:u.slots,emit:u.emit,expose:i}}function qa(u){if(u.exposed)return u.exposeProxy||(u.exposeProxy=new Proxy(Zu(Ba(u.exposed)),{get(i,r){if(r in i)return i[r];if(r in as)return as[r](u)},has(i,r){return r in i||r in as}}))}function Qf(u,i=!0){return xt(u)?u.displayName||u.name:u.name||i&&u.__name}function Zf(u){return xt(u)&&"__vccOpts"in u}const Qs=(u,i)=>Gh(u,i,ps),Jf=Symbol(""),e0=()=>Is(Jf),t0="3.2.47",r0="http://www.w3.org/2000/svg",uo=typeof document<"u"?document:null,uu=uo&&uo.createElement("template"),n0={insert:(u,i,r)=>{i.insertBefore(u,r||null)},remove:u=>{const i=u.parentNode;i&&i.removeChild(u)},createElement:(u,i,r,e)=>{const m=i?uo.createElementNS(r0,u):uo.createElement(u,r?{is:r}:void 0);return u==="select"&&e&&e.multiple!=null&&m.setAttribute("multiple",e.multiple),m},createText:u=>uo.createTextNode(u),createComment:u=>uo.createComment(u),setText:(u,i)=>{u.nodeValue=i},setElementText:(u,i)=>{u.textContent=i},parentNode:u=>u.parentNode,nextSibling:u=>u.nextSibling,querySelector:u=>uo.querySelector(u),setScopeId(u,i){u.setAttribute(i,"")},insertStaticContent(u,i,r,e,m,d){const f=r?r.previousSibling:i.lastChild;if(m&&(m===d||m.nextSibling))for(;i.insertBefore(m.cloneNode(!0),r),!(m===d||!(m=m.nextSibling)););else{uu.innerHTML=e?`<svg>${u}</svg>`:u;const t=uu.content;if(e){const c=t.firstChild;for(;c.firstChild;)t.appendChild(c.firstChild);t.removeChild(c)}i.insertBefore(t,r)}return[f?f.nextSibling:i.firstChild,r?r.previousSibling:i.lastChild]}};function o0(u,i,r){const e=u._vtc;e&&(i=(i?[i,...e]:[...e]).join(" ")),i==null?u.removeAttribute("class"):r?u.setAttribute("class",i):u.className=i}function s0(u,i,r){const e=u.style,m=or(r);if(r&&!m){if(i&&!or(i))for(const d in i)r[d]==null&&ra(e,d,"");for(const d in r)ra(e,d,r[d])}else{const d=e.display;m?i!==r&&(e.cssText=r):i&&u.removeAttribute("style"),"_vod"in u&&(e.display=d)}}const cu=/\s*!important$/;function ra(u,i,r){if(bt(r))r.forEach(e=>ra(u,i,e));else if(r==null&&(r=""),i.startsWith("--"))u.setProperty(i,r);else{const e=i0(u,i);cu.test(r)?u.setProperty(Wo(e),r.replace(cu,""),"important"):u[e]=r}}const du=["Webkit","Moz","ms"],Ni={};function i0(u,i){const r=Ni[i];if(r)return r;let e=yn(i);if(e!=="filter"&&e in u)return Ni[i]=e;e=ii(e);for(let m=0;m<du.length;m++){const d=du[m]+e;if(d in u)return Ni[i]=d}return i}const hu="http://www.w3.org/1999/xlink";function a0(u,i,r,e,m){if(e&&i.startsWith("xlink:"))r==null?u.removeAttributeNS(hu,i.slice(6,i.length)):u.setAttributeNS(hu,i,r);else{const d=Zd(i);r==null||d&&!Pu(r)?u.removeAttribute(i):u.setAttribute(i,d?"":r)}}function l0(u,i,r,e,m,d,f){if(i==="innerHTML"||i==="textContent"){e&&f(e,m,d),u[i]=r??"";return}if(i==="value"&&u.tagName!=="PROGRESS"&&!u.tagName.includes("-")){u._value=r;const c=r??"";(u.value!==c||u.tagName==="OPTION")&&(u.value=c),r==null&&u.removeAttribute(i);return}let t=!1;if(r===""||r==null){const c=typeof u[i];c==="boolean"?r=Pu(r):r==null&&c==="string"?(r="",t=!0):c==="number"&&(r=0,t=!0)}try{u[i]=r}catch{}t&&u.removeAttribute(i)}function u0(u,i,r,e){u.addEventListener(i,r,e)}function c0(u,i,r,e){u.removeEventListener(i,r,e)}function d0(u,i,r,e,m=null){const d=u._vei||(u._vei={}),f=d[i];if(e&&f)f.value=e;else{const[t,c]=h0(i);if(e){const h=d[i]=m0(e,m);u0(u,t,h,c)}else f&&(c0(u,t,f,c),d[i]=void 0)}}const fu=/(?:Once|Passive|Capture)$/;function h0(u){let i;if(fu.test(u)){i={};let e;for(;e=u.match(fu);)u=u.slice(0,u.length-e[0].length),i[e[0].toLowerCase()]=!0}return[u[2]===":"?u.slice(3):Wo(u.slice(2)),i]}let Fi=0;const f0=Promise.resolve(),p0=()=>Fi||(f0.then(()=>Fi=0),Fi=Date.now());function m0(u,i){const r=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=r.attached)return;Vr(g0(e,r.value),i,5,[e])};return r.value=u,r.attached=p0(),r}function g0(u,i){if(bt(i)){const r=u.stopImmediatePropagation;return u.stopImmediatePropagation=()=>{r.call(u),u._stopped=!0},i.map(e=>m=>!m._stopped&&e&&e(m))}else return i}const pu=/^on[a-z]/,y0=(u,i,r,e,m=!1,d,f,t,c)=>{i==="class"?o0(u,e,m):i==="style"?s0(u,r,e):ni(i)?Ea(i)||d0(u,i,r,e,f):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):v0(u,i,e,m))?l0(u,i,e,d,f,t,c):(i==="true-value"?u._trueValue=e:i==="false-value"&&(u._falseValue=e),a0(u,i,e,m))};function v0(u,i,r,e){return e?!!(i==="innerHTML"||i==="textContent"||i in u&&pu.test(i)&&xt(r)):i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&u.tagName==="INPUT"||i==="type"&&u.tagName==="TEXTAREA"||pu.test(i)&&or(r)?!1:i in u}const b0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};af.props;const w0=wr({patchProp:y0},n0);let mu;function x0(){return mu||(mu=kf(w0))}const _0=(...u)=>{const i=x0().createApp(...u),{mount:r}=i;return i.mount=e=>{const m=S0(e);if(!m)return;const d=i._component;!xt(d)&&!d.render&&!d.template&&(d.template=m.innerHTML),m.innerHTML="";const f=r(m,!1,m instanceof SVGElement);return m instanceof Element&&(m.removeAttribute("v-cloak"),m.setAttribute("data-v-app","")),f},i};function S0(u){return or(u)?document.querySelector(u):u}var ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j0(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function Ls(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var na={},T0={get exports(){return na},set exports(u){na=u}};/*! p5.js v1.4.2 July 21, 2022 */(function(u,i){(function(r){u.exports=r()})(function(){var r;return function e(m,d,f){function t(g,p){if(!d[g]){if(!m[g]){var o=typeof Ls=="function"&&Ls;if(!p&&o)return o(g,!0);if(c)return c(g,!0);var n=new Error("Cannot find module '"+g+"'");throw n.code="MODULE_NOT_FOUND",n}var s=d[g]={exports:{}};m[g][0].call(s.exports,function(a){return t(m[g][1][a]||a)},s,s.exports,e,m,d,f)}return d[g].exports}for(var c=typeof Ls=="function"&&Ls,h=0;h<f.length;h++)t(f[h]);return t}({1:[function(e,m,d){d.byteLength=function(s){var a=o(s),l=a[0],v=a[1];return 3*(l+v)/4-v},d.toByteArray=function(s){var a,l,v=o(s),w=v[0],x=v[1],_=new c(function(A,O){return 3*(A+O)/4-O}(w,x)),E=0,C=0<x?w-4:w;for(l=0;l<C;l+=4)a=t[s.charCodeAt(l)]<<18|t[s.charCodeAt(l+1)]<<12|t[s.charCodeAt(l+2)]<<6|t[s.charCodeAt(l+3)],_[E++]=a>>16&255,_[E++]=a>>8&255,_[E++]=255&a;return x===2&&(a=t[s.charCodeAt(l)]<<2|t[s.charCodeAt(l+1)]>>4,_[E++]=255&a),x===1&&(a=t[s.charCodeAt(l)]<<10|t[s.charCodeAt(l+1)]<<4|t[s.charCodeAt(l+2)]>>2,_[E++]=a>>8&255,_[E++]=255&a),_},d.fromByteArray=function(s){for(var a,l=s.length,v=l%3,w=[],x=0,_=l-v;x<_;x+=16383)w.push(n(s,x,_<x+16383?_:x+16383));return v==1?(a=s[l-1],w.push(f[a>>2]+f[a<<4&63]+"==")):v==2&&(a=(s[l-2]<<8)+s[l-1],w.push(f[a>>10]+f[a>>4&63]+f[a<<2&63]+"=")),w.join("")};for(var f=[],t=[],c=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,p=h.length;g<p;++g)f[g]=h[g],t[h.charCodeAt(g)]=g;function o(s){var a=s.length;if(0<a%4)throw new Error("Invalid string. Length must be a multiple of 4");var l=s.indexOf("=");return l===-1&&(l=a),[l,l===a?0:4-l%4]}function n(s,a,l){for(var v,w,x=[],_=a;_<l;_+=3)v=(s[_]<<16&16711680)+(s[_+1]<<8&65280)+(255&s[_+2]),x.push(f[(w=v)>>18&63]+f[w>>12&63]+f[w>>6&63]+f[63&w]);return x.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63},{}],2:[function(e,m,d){},{}],3:[function(e,m,d){arguments[4][2][0].apply(d,arguments)},{dup:2}],4:[function(e,m,d){(function(o){var t=e("base64-js"),c=e("ieee754"),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=o,d.SlowBuffer=function(P){return+P!=P&&(P=0),o.alloc(+P)},d.INSPECT_MAX_BYTES=50;var g=2147483647;function p(P){if(g<P)throw new RangeError('The value "'+P+'" is invalid for option "size"');var G=new Uint8Array(P);return Object.setPrototypeOf(G,o.prototype),G}function o(P,G,X){if(typeof P!="number")return n(P,G,X);if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(P)}function n(P,G,X){if(typeof P=="string")return function(N,re){if(typeof re=="string"&&re!==""||(re="utf8"),!o.isEncoding(re))throw new TypeError("Unknown encoding: "+re);var $=0|w(N,re),ne=p($),ie=ne.write(N,re);return ie!==$&&(ne=ne.slice(0,ie)),ne}(P,G);if(ArrayBuffer.isView(P))return l(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(De(P,ArrayBuffer)||P&&De(P.buffer,ArrayBuffer))return function(N,re,$){if(re<0||N.byteLength<re)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<re+($||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=re===void 0&&$===void 0?new Uint8Array(N):$===void 0?new Uint8Array(N,re):new Uint8Array(N,re,$),Object.setPrototypeOf(ne,o.prototype),ne}(P,G,X);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=P.valueOf&&P.valueOf();if(ee!=null&&ee!==P)return o.from(ee,G,X);var B=function(N){if(o.isBuffer(N)){var re=0|v(N.length),$=p(re);return $.length===0||N.copy($,0,0,re),$}if(N.length!==void 0)return typeof N.length!="number"||_e(N.length)?p(0):l(N);if(N.type==="Buffer"&&Array.isArray(N.data))return l(N.data)}(P);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return o.from(P[Symbol.toPrimitive]("string"),G,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function s(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function a(P){return s(P),p(P<0?0:0|v(P))}function l(P){for(var G=P.length<0?0:0|v(P.length),X=p(G),ee=0;ee<G;ee+=1)X[ee]=255&P[ee];return X}function v(P){if(g<=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return 0|P}function w(P,G){if(o.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||De(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var X=P.length,ee=2<arguments.length&&arguments[2]===!0;if(!ee&&X===0)return 0;for(var B=!1;;)switch(G){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return xe(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return Ce(P).length;default:if(B)return ee?-1:xe(P).length;G=(""+G).toLowerCase(),B=!0}}function x(P,G,X){var ee=P[G];P[G]=P[X],P[X]=ee}function _(P,G,X,ee,B){if(P.length===0)return-1;if(typeof X=="string"?(ee=X,X=0):2147483647<X?X=2147483647:X<-2147483648&&(X=-2147483648),_e(X=+X)&&(X=B?0:P.length-1),X<0&&(X=P.length+X),X>=P.length){if(B)return-1;X=P.length-1}else if(X<0){if(!B)return-1;X=0}if(typeof G=="string"&&(G=o.from(G,ee)),o.isBuffer(G))return G.length===0?-1:E(P,G,X,ee,B);if(typeof G=="number")return G&=255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(P,G,X):Uint8Array.prototype.lastIndexOf.call(P,G,X):E(P,[G],X,ee,B);throw new TypeError("val must be string, number or Buffer")}function E(P,G,X,ee,B){var N,re=1,$=P.length,ne=G.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(P.length<2||G.length<2)return-1;$/=re=2,ne/=2,X/=2}function ie(he,Pe){return re===1?he[Pe]:he.readUInt16BE(Pe*re)}if(B){var oe=-1;for(N=X;N<$;N++)if(ie(P,N)===ie(G,oe===-1?0:N-oe)){if(oe===-1&&(oe=N),N-oe+1===ne)return oe*re}else oe!==-1&&(N-=N-oe),oe=-1}else for($<X+ne&&(X=$-ne),N=X;0<=N;N--){for(var pe=!0,ge=0;ge<ne;ge++)if(ie(P,N+ge)!==ie(G,ge)){pe=!1;break}if(pe)return N}return-1}function C(P,G,X,ee){X=Number(X)||0;var B=P.length-X;ee?B<(ee=Number(ee))&&(ee=B):ee=B;var N=G.length;N/2<ee&&(ee=N/2);for(var re=0;re<ee;++re){var $=parseInt(G.substr(2*re,2),16);if(_e($))return re;P[X+re]=$}return re}function A(P,G,X,ee){return ve(function(B){for(var N=[],re=0;re<B.length;++re)N.push(255&B.charCodeAt(re));return N}(G),P,X,ee)}function O(P,G,X,ee){return ve(function(B,N){for(var re,$,ne,ie=[],oe=0;oe<B.length&&!((N-=2)<0);++oe)re=B.charCodeAt(oe),$=re>>8,ne=re%256,ie.push(ne),ie.push($);return ie}(G,P.length-X),P,X,ee)}function I(P,G,X){return G===0&&X===P.length?t.fromByteArray(P):t.fromByteArray(P.slice(G,X))}function R(P,G,X){X=Math.min(P.length,X);for(var ee=[],B=G;B<X;){var N,re,$,ne,ie=P[B],oe=null,pe=239<ie?4:223<ie?3:191<ie?2:1;if(B+pe<=X)switch(pe){case 1:ie<128&&(oe=ie);break;case 2:(192&(N=P[B+1]))==128&&127<(ne=(31&ie)<<6|63&N)&&(oe=ne);break;case 3:N=P[B+1],re=P[B+2],(192&N)==128&&(192&re)==128&&2047<(ne=(15&ie)<<12|(63&N)<<6|63&re)&&(ne<55296||57343<ne)&&(oe=ne);break;case 4:N=P[B+1],re=P[B+2],$=P[B+3],(192&N)==128&&(192&re)==128&&(192&$)==128&&65535<(ne=(15&ie)<<18|(63&N)<<12|(63&re)<<6|63&$)&&ne<1114112&&(oe=ne)}oe===null?(oe=65533,pe=1):65535<oe&&(oe-=65536,ee.push(oe>>>10&1023|55296),oe=56320|1023&oe),ee.push(oe),B+=pe}return function(ge){var he=ge.length;if(he<=L)return String.fromCharCode.apply(String,ge);for(var Pe="",Be=0;Be<he;)Pe+=String.fromCharCode.apply(String,ge.slice(Be,Be+=L));return Pe}(ee)}d.kMaxLength=g,(o.TYPED_ARRAY_SUPPORT=function(){try{var P=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(P,G),P.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(P,G,X){return n(P,G,X)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(P,G,X){return B=G,N=X,s(ee=P),ee<=0?p(ee):B!==void 0?typeof N=="string"?p(ee).fill(B,N):p(ee).fill(B):p(ee);var ee,B,N},o.allocUnsafe=function(P){return a(P)},o.allocUnsafeSlow=function(P){return a(P)},o.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==o.prototype},o.compare=function(P,G){if(De(P,Uint8Array)&&(P=o.from(P,P.offset,P.byteLength)),De(G,Uint8Array)&&(G=o.from(G,G.offset,G.byteLength)),!o.isBuffer(P)||!o.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===G)return 0;for(var X=P.length,ee=G.length,B=0,N=Math.min(X,ee);B<N;++B)if(P[B]!==G[B]){X=P[B],ee=G[B];break}return X<ee?-1:ee<X?1:0},o.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(P,G){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return o.alloc(0);var X;if(G===void 0)for(X=G=0;X<P.length;++X)G+=P[X].length;var ee=o.allocUnsafe(G),B=0;for(X=0;X<P.length;++X){var N=P[X];if(De(N,Uint8Array)&&(N=o.from(N)),!o.isBuffer(N))throw new TypeError('"list" argument must be an Array of Buffers');N.copy(ee,B),B+=N.length}return ee},o.byteLength=w,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<P;G+=2)x(this,G,G+1);return this},o.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<P;G+=4)x(this,G,G+3),x(this,G+1,G+2);return this},o.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<P;G+=8)x(this,G,G+7),x(this,G+1,G+6),x(this,G+2,G+5),x(this,G+3,G+4);return this},o.prototype.toLocaleString=o.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?R(this,0,P):function(G,X,ee){var B=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((ee===void 0||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0)<=(X>>>=0))return"";for(G=G||"utf8";;)switch(G){case"hex":return H(this,X,ee);case"utf8":case"utf-8":return R(this,X,ee);case"ascii":return U(this,X,ee);case"latin1":case"binary":return D(this,X,ee);case"base64":return I(this,X,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,X,ee);default:if(B)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),B=!0}}.apply(this,arguments)},o.prototype.equals=function(P){if(!o.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P||o.compare(this,P)===0},o.prototype.inspect=function(){var P="",G=d.INSPECT_MAX_BYTES;return P=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(P+=" ... "),"<Buffer "+P+">"},h&&(o.prototype[h]=o.prototype.inspect),o.prototype.compare=function(P,G,X,ee,B){if(De(P,Uint8Array)&&(P=o.from(P,P.offset,P.byteLength)),!o.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(G===void 0&&(G=0),X===void 0&&(X=P?P.length:0),ee===void 0&&(ee=0),B===void 0&&(B=this.length),G<0||X>P.length||ee<0||B>this.length)throw new RangeError("out of range index");if(B<=ee&&X<=G)return 0;if(B<=ee)return-1;if(X<=G)return 1;if(this===P)return 0;for(var N=(B>>>=0)-(ee>>>=0),re=(X>>>=0)-(G>>>=0),$=Math.min(N,re),ne=this.slice(ee,B),ie=P.slice(G,X),oe=0;oe<$;++oe)if(ne[oe]!==ie[oe]){N=ne[oe],re=ie[oe];break}return N<re?-1:re<N?1:0},o.prototype.includes=function(P,G,X){return this.indexOf(P,G,X)!==-1},o.prototype.indexOf=function(P,G,X){return _(this,P,G,X,!0)},o.prototype.lastIndexOf=function(P,G,X){return _(this,P,G,X,!1)},o.prototype.write=function(P,G,X,ee){if(G===void 0)ee="utf8",X=this.length,G=0;else if(X===void 0&&typeof G=="string")ee=G,X=this.length,G=0;else{if(!isFinite(G))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");G>>>=0,isFinite(X)?(X>>>=0,ee===void 0&&(ee="utf8")):(ee=X,X=void 0)}var B=this.length-G;if((X===void 0||B<X)&&(X=B),0<P.length&&(X<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee=ee||"utf8";for(var N,re,$,ne,ie,oe,pe=!1;;)switch(ee){case"hex":return C(this,P,G,X);case"utf8":case"utf-8":return ie=G,oe=X,ve(xe(P,(ne=this).length-ie),ne,ie,oe);case"ascii":return A(this,P,G,X);case"latin1":case"binary":return A(this,P,G,X);case"base64":return N=this,re=G,$=X,ve(Ce(P),N,re,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,P,G,X);default:if(pe)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),pe=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function U(P,G,X){var ee="";X=Math.min(P.length,X);for(var B=G;B<X;++B)ee+=String.fromCharCode(127&P[B]);return ee}function D(P,G,X){var ee="";X=Math.min(P.length,X);for(var B=G;B<X;++B)ee+=String.fromCharCode(P[B]);return ee}function H(P,G,X){var ee=P.length;(!G||G<0)&&(G=0),(!X||X<0||ee<X)&&(X=ee);for(var B="",N=G;N<X;++N)B+=Se[P[N]];return B}function W(P,G,X){for(var ee=P.slice(G,X),B="",N=0;N<ee.length;N+=2)B+=String.fromCharCode(ee[N]+256*ee[N+1]);return B}function ae(P,G,X){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(X<P+G)throw new RangeError("Trying to access beyond buffer length")}function le(P,G,X,ee,B,N){if(!o.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(B<G||G<N)throw new RangeError('"value" argument is out of bounds');if(X+ee>P.length)throw new RangeError("Index out of range")}function J(P,G,X,ee){if(X+ee>P.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function ue(P,G,X,ee,B){return G=+G,X>>>=0,B||J(P,0,X,4),c.write(P,G,X,ee,23,4),X+4}function se(P,G,X,ee,B){return G=+G,X>>>=0,B||J(P,0,X,8),c.write(P,G,X,ee,52,8),X+8}o.prototype.slice=function(P,G){var X=this.length;(P=~~P)<0?(P+=X)<0&&(P=0):X<P&&(P=X),(G=G===void 0?X:~~G)<0?(G+=X)<0&&(G=0):X<G&&(G=X),G<P&&(G=P);var ee=this.subarray(P,G);return Object.setPrototypeOf(ee,o.prototype),ee},o.prototype.readUIntLE=function(P,G,X){P>>>=0,G>>>=0,X||ae(P,G,this.length);for(var ee=this[P],B=1,N=0;++N<G&&(B*=256);)ee+=this[P+N]*B;return ee},o.prototype.readUIntBE=function(P,G,X){P>>>=0,G>>>=0,X||ae(P,G,this.length);for(var ee=this[P+--G],B=1;0<G&&(B*=256);)ee+=this[P+--G]*B;return ee},o.prototype.readUInt8=function(P,G){return P>>>=0,G||ae(P,1,this.length),this[P]},o.prototype.readUInt16LE=function(P,G){return P>>>=0,G||ae(P,2,this.length),this[P]|this[P+1]<<8},o.prototype.readUInt16BE=function(P,G){return P>>>=0,G||ae(P,2,this.length),this[P]<<8|this[P+1]},o.prototype.readUInt32LE=function(P,G){return P>>>=0,G||ae(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},o.prototype.readUInt32BE=function(P,G){return P>>>=0,G||ae(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},o.prototype.readIntLE=function(P,G,X){P>>>=0,G>>>=0,X||ae(P,G,this.length);for(var ee=this[P],B=1,N=0;++N<G&&(B*=256);)ee+=this[P+N]*B;return(B*=128)<=ee&&(ee-=Math.pow(2,8*G)),ee},o.prototype.readIntBE=function(P,G,X){P>>>=0,G>>>=0,X||ae(P,G,this.length);for(var ee=G,B=1,N=this[P+--ee];0<ee&&(B*=256);)N+=this[P+--ee]*B;return(B*=128)<=N&&(N-=Math.pow(2,8*G)),N},o.prototype.readInt8=function(P,G){return P>>>=0,G||ae(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},o.prototype.readInt16LE=function(P,G){P>>>=0,G||ae(P,2,this.length);var X=this[P]|this[P+1]<<8;return 32768&X?4294901760|X:X},o.prototype.readInt16BE=function(P,G){P>>>=0,G||ae(P,2,this.length);var X=this[P+1]|this[P]<<8;return 32768&X?4294901760|X:X},o.prototype.readInt32LE=function(P,G){return P>>>=0,G||ae(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},o.prototype.readInt32BE=function(P,G){return P>>>=0,G||ae(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},o.prototype.readFloatLE=function(P,G){return P>>>=0,G||ae(P,4,this.length),c.read(this,P,!0,23,4)},o.prototype.readFloatBE=function(P,G){return P>>>=0,G||ae(P,4,this.length),c.read(this,P,!1,23,4)},o.prototype.readDoubleLE=function(P,G){return P>>>=0,G||ae(P,8,this.length),c.read(this,P,!0,52,8)},o.prototype.readDoubleBE=function(P,G){return P>>>=0,G||ae(P,8,this.length),c.read(this,P,!1,52,8)},o.prototype.writeUIntLE=function(P,G,X,ee){P=+P,G>>>=0,X>>>=0,ee||le(this,P,G,X,Math.pow(2,8*X)-1,0);var B=1,N=0;for(this[G]=255&P;++N<X&&(B*=256);)this[G+N]=P/B&255;return G+X},o.prototype.writeUIntBE=function(P,G,X,ee){P=+P,G>>>=0,X>>>=0,ee||le(this,P,G,X,Math.pow(2,8*X)-1,0);var B=X-1,N=1;for(this[G+B]=255&P;0<=--B&&(N*=256);)this[G+B]=P/N&255;return G+X},o.prototype.writeUInt8=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,1,255,0),this[G]=255&P,G+1},o.prototype.writeUInt16LE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,2,65535,0),this[G]=255&P,this[G+1]=P>>>8,G+2},o.prototype.writeUInt16BE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,2,65535,0),this[G]=P>>>8,this[G+1]=255&P,G+2},o.prototype.writeUInt32LE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,4,4294967295,0),this[G+3]=P>>>24,this[G+2]=P>>>16,this[G+1]=P>>>8,this[G]=255&P,G+4},o.prototype.writeUInt32BE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,4,4294967295,0),this[G]=P>>>24,this[G+1]=P>>>16,this[G+2]=P>>>8,this[G+3]=255&P,G+4},o.prototype.writeIntLE=function(P,G,X,ee){if(P=+P,G>>>=0,!ee){var B=Math.pow(2,8*X-1);le(this,P,G,X,B-1,-B)}var N=0,re=1,$=0;for(this[G]=255&P;++N<X&&(re*=256);)P<0&&$===0&&this[G+N-1]!==0&&($=1),this[G+N]=(P/re>>0)-$&255;return G+X},o.prototype.writeIntBE=function(P,G,X,ee){if(P=+P,G>>>=0,!ee){var B=Math.pow(2,8*X-1);le(this,P,G,X,B-1,-B)}var N=X-1,re=1,$=0;for(this[G+N]=255&P;0<=--N&&(re*=256);)P<0&&$===0&&this[G+N+1]!==0&&($=1),this[G+N]=(P/re>>0)-$&255;return G+X},o.prototype.writeInt8=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,1,127,-128),P<0&&(P=255+P+1),this[G]=255&P,G+1},o.prototype.writeInt16LE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,2,32767,-32768),this[G]=255&P,this[G+1]=P>>>8,G+2},o.prototype.writeInt16BE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,2,32767,-32768),this[G]=P>>>8,this[G+1]=255&P,G+2},o.prototype.writeInt32LE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,4,2147483647,-2147483648),this[G]=255&P,this[G+1]=P>>>8,this[G+2]=P>>>16,this[G+3]=P>>>24,G+4},o.prototype.writeInt32BE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[G]=P>>>24,this[G+1]=P>>>16,this[G+2]=P>>>8,this[G+3]=255&P,G+4},o.prototype.writeFloatLE=function(P,G,X){return ue(this,P,G,!0,X)},o.prototype.writeFloatBE=function(P,G,X){return ue(this,P,G,!1,X)},o.prototype.writeDoubleLE=function(P,G,X){return se(this,P,G,!0,X)},o.prototype.writeDoubleBE=function(P,G,X){return se(this,P,G,!1,X)},o.prototype.copy=function(P,G,X,ee){if(!o.isBuffer(P))throw new TypeError("argument should be a Buffer");if(X=X||0,ee||ee===0||(ee=this.length),G>=P.length&&(G=P.length),G=G||0,0<ee&&ee<X&&(ee=X),ee===X||P.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),P.length-G<ee-X&&(ee=P.length-G+X);var B=ee-X;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(G,X,ee);else if(this===P&&X<G&&G<ee)for(var N=B-1;0<=N;--N)P[N+G]=this[N+X];else Uint8Array.prototype.set.call(P,this.subarray(X,ee),G);return B},o.prototype.fill=function(P,G,X,ee){if(typeof P=="string"){if(typeof G=="string"?(ee=G,G=0,X=this.length):typeof X=="string"&&(ee=X,X=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!o.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(P.length===1){var B=P.charCodeAt(0);(ee==="utf8"&&B<128||ee==="latin1")&&(P=B)}}else typeof P=="number"?P&=255:typeof P=="boolean"&&(P=Number(P));if(G<0||this.length<G||this.length<X)throw new RangeError("Out of range index");if(X<=G)return this;var N;if(G>>>=0,X=X===void 0?this.length:X>>>0,typeof(P=P||0)=="number")for(N=G;N<X;++N)this[N]=P;else{var re=o.isBuffer(P)?P:o.from(P,ee),$=re.length;if($===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(N=0;N<X-G;++N)this[N+G]=re[N%$]}return this};var me=/[^+/0-9A-Za-z-_]/g;function xe(P,G){var X;G=G||1/0;for(var ee=P.length,B=null,N=[],re=0;re<ee;++re){if(55295<(X=P.charCodeAt(re))&&X<57344){if(!B){if(56319<X){-1<(G-=3)&&N.push(239,191,189);continue}if(re+1===ee){-1<(G-=3)&&N.push(239,191,189);continue}B=X;continue}if(X<56320){-1<(G-=3)&&N.push(239,191,189),B=X;continue}X=65536+(B-55296<<10|X-56320)}else B&&-1<(G-=3)&&N.push(239,191,189);if(B=null,X<128){if(--G<0)break;N.push(X)}else if(X<2048){if((G-=2)<0)break;N.push(X>>6|192,63&X|128)}else if(X<65536){if((G-=3)<0)break;N.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;N.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return N}function Ce(P){return t.toByteArray(function(G){if((G=(G=G.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;G.length%4!=0;)G+="=";return G}(P))}function ve(P,G,X,ee){for(var B=0;B<ee&&!(B+X>=G.length||B>=P.length);++B)G[B+X]=P[B];return B}function De(P,G){return P instanceof G||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===G.name}function _e(P){return P!=P}var Se=function(){for(var P="0123456789abcdef",G=new Array(256),X=0;X<16;++X)for(var ee=16*X,B=0;B<16;++B)G[ee+B]=P[X]+P[B];return G}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:236}],5:[function(e,m,d){m.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}},{}],6:[function(e,m,d){var f=e("../internals/is-object");m.exports=function(t){if(!f(t)&&t!==null)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},{"../internals/is-object":74}],7:[function(e,m,d){var f=e("../internals/well-known-symbol"),t=e("../internals/object-create"),c=e("../internals/object-define-property"),h=f("unscopables"),g=Array.prototype;g[h]==null&&c.f(g,h,{configurable:!0,value:t(null)}),m.exports=function(p){g[h][p]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(e,m,d){var f=e("../internals/string-multibyte").charAt;m.exports=function(t,c,h){return c+(h?f(t,c).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,m,d){m.exports=function(f,t,c){if(!(f instanceof t))throw TypeError("Incorrect "+(c?c+" ":"")+"invocation");return f}},{}],10:[function(e,m,d){var f=e("../internals/is-object");m.exports=function(t){if(!f(t))throw TypeError(String(t)+" is not an object");return t}},{"../internals/is-object":74}],11:[function(e,m,d){m.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(e,m,d){function f(J){return p(J)&&o(le,n(J))}var t,c=e("../internals/array-buffer-native"),h=e("../internals/descriptors"),g=e("../internals/global"),p=e("../internals/is-object"),o=e("../internals/has"),n=e("../internals/classof"),s=e("../internals/create-non-enumerable-property"),a=e("../internals/redefine"),l=e("../internals/object-define-property").f,v=e("../internals/object-get-prototype-of"),w=e("../internals/object-set-prototype-of"),x=e("../internals/well-known-symbol"),_=e("../internals/uid"),E=g.Int8Array,C=E&&E.prototype,A=g.Uint8ClampedArray,O=A&&A.prototype,I=E&&v(E),R=C&&v(C),L=Object.prototype,U=L.isPrototypeOf,D=x("toStringTag"),H=_("TYPED_ARRAY_TAG"),W=c&&!!w&&n(g.opera)!=="Opera",ae=!1,le={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(t in le)g[t]||(W=!1);if((!W||typeof I!="function"||I===Function.prototype)&&(I=function(){throw TypeError("Incorrect invocation")},W))for(t in le)g[t]&&w(g[t],I);if((!W||!R||R===L)&&(R=I.prototype,W))for(t in le)g[t]&&w(g[t].prototype,R);if(W&&v(O)!==R&&w(O,R),h&&!o(R,D))for(t in ae=!0,l(R,D,{get:function(){return p(this)?this[H]:void 0}}),le)g[t]&&s(g[t],H,t);m.exports={NATIVE_ARRAY_BUFFER_VIEWS:W,TYPED_ARRAY_TAG:ae&&H,aTypedArray:function(J){if(f(J))return J;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(J){if(w){if(U.call(I,J))return J}else for(var ue in le)if(o(le,t)){var se=g[ue];if(se&&(J===se||U.call(se,J)))return J}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(J,ue,se){if(h){if(se)for(var me in le){var xe=g[me];xe&&o(xe.prototype,J)&&delete xe.prototype[J]}R[J]&&!se||a(R,J,se?ue:W&&C[J]||ue)}},exportTypedArrayStaticMethod:function(J,ue,se){var me,xe;if(h){if(w){if(se)for(me in le)(xe=g[me])&&o(xe,J)&&delete xe[J];if(I[J]&&!se)return;try{return a(I,J,se?ue:W&&E[J]||ue)}catch{}}for(me in le)!(xe=g[me])||xe[J]&&!se||a(xe,J,ue)}},isView:function(J){var ue=n(J);return ue==="DataView"||o(le,ue)},isTypedArray:f,TypedArray:I,TypedArrayPrototype:R}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(e,m,d){function f(ie){return[255&ie]}function t(ie){return[255&ie,ie>>8&255]}function c(ie){return[255&ie,ie>>8&255,ie>>16&255,ie>>24&255]}function h(ie){return ie[3]<<24|ie[2]<<16|ie[1]<<8|ie[0]}function g(ie){return G(ie,23,4)}function p(ie){return G(ie,52,8)}function o(ie,oe){D(ie[me],oe,{get:function(){return le(this)[oe]}})}function n(ie,oe,pe,ge){var he=O(pe),Pe=le(ie);if(he+oe>Pe.byteLength)throw P(xe);var Be=le(Pe.buffer).bytes,Ue=he+Pe.byteOffset,Le=Be.slice(Ue,Ue+oe);return ge?Le:Le.reverse()}function s(ie,oe,pe,ge,he,Pe){var Be=O(pe),Ue=le(ie);if(Be+oe>Ue.byteLength)throw P(xe);for(var Le=le(Ue.buffer).bytes,Qe=Be+Ue.byteOffset,Re=ge(+he),Ae=0;Ae<oe;Ae++)Le[Qe+Ae]=Re[Pe?Ae:oe-Ae-1]}var a=e("../internals/global"),l=e("../internals/descriptors"),v=e("../internals/array-buffer-native"),w=e("../internals/create-non-enumerable-property"),x=e("../internals/redefine-all"),_=e("../internals/fails"),E=e("../internals/an-instance"),C=e("../internals/to-integer"),A=e("../internals/to-length"),O=e("../internals/to-index"),I=e("../internals/ieee754"),R=e("../internals/object-get-prototype-of"),L=e("../internals/object-set-prototype-of"),U=e("../internals/object-get-own-property-names").f,D=e("../internals/object-define-property").f,H=e("../internals/array-fill"),W=e("../internals/set-to-string-tag"),ae=e("../internals/internal-state"),le=ae.get,J=ae.set,ue="ArrayBuffer",se="DataView",me="prototype",xe="Wrong index",Ce=a[ue],ve=Ce,De=a[se],_e=De&&De[me],Se=Object.prototype,P=a.RangeError,G=I.pack,X=I.unpack;if(v){if(!_(function(){Ce(1)})||!_(function(){new Ce(-1)})||_(function(){return new Ce,new Ce(1.5),new Ce(NaN),Ce.name!=ue})){for(var ee,B=(ve=function(ie){return E(this,ve),new Ce(O(ie))})[me]=Ce[me],N=U(Ce),re=0;N.length>re;)(ee=N[re++])in ve||w(ve,ee,Ce[ee]);B.constructor=ve}L&&R(_e)!==Se&&L(_e,Se);var $=new De(new ve(2)),ne=_e.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||x(_e,{setInt8:function(ie,oe){ne.call(this,ie,oe<<24>>24)},setUint8:function(ie,oe){ne.call(this,ie,oe<<24>>24)}},{unsafe:!0})}else ve=function(ie){E(this,ve,ue);var oe=O(ie);J(this,{bytes:H.call(new Array(oe),0),byteLength:oe}),l||(this.byteLength=oe)},De=function(ie,oe,pe){E(this,De,se),E(ie,ve,se);var ge=le(ie).byteLength,he=C(oe);if(he<0||ge<he)throw P("Wrong offset");if(ge<he+(pe=pe===void 0?ge-he:A(pe)))throw P("Wrong length");J(this,{buffer:ie,byteLength:pe,byteOffset:he}),l||(this.buffer=ie,this.byteLength=pe,this.byteOffset=he)},l&&(o(ve,"byteLength"),o(De,"buffer"),o(De,"byteLength"),o(De,"byteOffset")),x(De[me],{getInt8:function(ie){return n(this,1,ie)[0]<<24>>24},getUint8:function(ie){return n(this,1,ie)[0]},getInt16:function(ie,oe){var pe=n(this,2,ie,1<arguments.length?oe:void 0);return(pe[1]<<8|pe[0])<<16>>16},getUint16:function(ie,oe){var pe=n(this,2,ie,1<arguments.length?oe:void 0);return pe[1]<<8|pe[0]},getInt32:function(ie,oe){return h(n(this,4,ie,1<arguments.length?oe:void 0))},getUint32:function(ie,oe){return h(n(this,4,ie,1<arguments.length?oe:void 0))>>>0},getFloat32:function(ie,oe){return X(n(this,4,ie,1<arguments.length?oe:void 0),23)},getFloat64:function(ie,oe){return X(n(this,8,ie,1<arguments.length?oe:void 0),52)},setInt8:function(ie,oe){s(this,1,ie,f,oe)},setUint8:function(ie,oe){s(this,1,ie,f,oe)},setInt16:function(ie,oe,pe){s(this,2,ie,t,oe,2<arguments.length?pe:void 0)},setUint16:function(ie,oe,pe){s(this,2,ie,t,oe,2<arguments.length?pe:void 0)},setInt32:function(ie,oe,pe){s(this,4,ie,c,oe,2<arguments.length?pe:void 0)},setUint32:function(ie,oe,pe){s(this,4,ie,c,oe,2<arguments.length?pe:void 0)},setFloat32:function(ie,oe,pe){s(this,4,ie,g,oe,2<arguments.length?pe:void 0)},setFloat64:function(ie,oe,pe){s(this,8,ie,p,oe,2<arguments.length?pe:void 0)}});W(ve,ue),W(De,se),m.exports={ArrayBuffer:ve,DataView:De}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(e,m,d){var f=e("../internals/to-object"),t=e("../internals/to-absolute-index"),c=e("../internals/to-length"),h=Math.min;m.exports=[].copyWithin||function(g,p,o){var n=f(this),s=c(n.length),a=t(g,s),l=t(p,s),v=2<arguments.length?o:void 0,w=h((v===void 0?s:t(v,s))-l,s-a),x=1;for(l<a&&a<l+w&&(x=-1,l+=w-1,a+=w-1);0<w--;)l in n?n[a]=n[l]:delete n[a],a+=x,l+=x;return n}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(e,m,d){var f=e("../internals/to-object"),t=e("../internals/to-absolute-index"),c=e("../internals/to-length");m.exports=function(h,g,p){for(var o=f(this),n=c(o.length),s=arguments.length,a=t(1<s?g:void 0,n),l=2<s?p:void 0,v=l===void 0?n:t(l,n);a<v;)o[a++]=h;return o}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(e,m,d){var f=e("../internals/array-iteration").forEach,t=e("../internals/array-method-is-strict"),c=e("../internals/array-method-uses-to-length"),h=t("forEach"),g=c("forEach");m.exports=h&&g?[].forEach:function(p,o){return f(this,p,1<arguments.length?o:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,m,d){var f=e("../internals/function-bind-context"),t=e("../internals/to-object"),c=e("../internals/call-with-safe-iteration-closing"),h=e("../internals/is-array-iterator-method"),g=e("../internals/to-length"),p=e("../internals/create-property"),o=e("../internals/get-iterator-method");m.exports=function(n,s,a){var l,v,w,x,_,E,C=t(n),A=typeof this=="function"?this:Array,O=arguments.length,I=1<O?s:void 0,R=I!==void 0,L=o(C),U=0;if(R&&(I=f(I,2<O?a:void 0,2)),L==null||A==Array&&h(L))for(v=new A(l=g(C.length));U<l;U++)E=R?I(C[U],U):C[U],p(v,U,E);else for(_=(x=L.call(C)).next,v=new A;!(w=_.call(x)).done;U++)E=R?c(x,I,[w.value,U],!0):w.value,p(v,U,E);return v.length=U,v}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(e,m,d){function f(g){return function(p,o,n){var s,a=t(p),l=c(a.length),v=h(n,l);if(g&&o!=o){for(;v<l;)if((s=a[v++])!=s)return!0}else for(;v<l;v++)if((g||v in a)&&a[v]===o)return g||v||0;return!g&&-1}}var t=e("../internals/to-indexed-object"),c=e("../internals/to-length"),h=e("../internals/to-absolute-index");m.exports={includes:f(!0),indexOf:f(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(e,m,d){function f(n){var s=n==1,a=n==2,l=n==3,v=n==4,w=n==6,x=n==5||w;return function(_,E,C,A){for(var O,I,R=h(_),L=c(R),U=t(E,C,3),D=g(L.length),H=0,W=A||p,ae=s?W(_,D):a?W(_,0):void 0;H<D;H++)if((x||H in L)&&(I=U(O=L[H],H,R),n)){if(s)ae[H]=I;else if(I)switch(n){case 3:return!0;case 5:return O;case 6:return H;case 2:o.call(ae,O)}else if(v)return!1}return w?-1:l||v?v:ae}}var t=e("../internals/function-bind-context"),c=e("../internals/indexed-object"),h=e("../internals/to-object"),g=e("../internals/to-length"),p=e("../internals/array-species-create"),o=[].push;m.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(e,m,d){var f=e("../internals/to-indexed-object"),t=e("../internals/to-integer"),c=e("../internals/to-length"),h=e("../internals/array-method-is-strict"),g=e("../internals/array-method-uses-to-length"),p=Math.min,o=[].lastIndexOf,n=!!o&&1/[1].lastIndexOf(1,-0)<0,s=h("lastIndexOf"),a=g("indexOf",{ACCESSORS:!0,1:0}),l=n||!s||!a;m.exports=l?function(v,w){if(n)return o.apply(this,arguments)||0;var x=f(this),_=c(x.length),E=_-1;for(1<arguments.length&&(E=p(E,t(w))),E<0&&(E=_+E);0<=E;E--)if(E in x&&x[E]===v)return E||0;return-1}:o},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(e,m,d){var f=e("../internals/fails"),t=e("../internals/well-known-symbol"),c=e("../internals/engine-v8-version"),h=t("species");m.exports=function(g){return 51<=c||!f(function(){var p=[];return(p.constructor={})[h]=function(){return{foo:1}},p[g](Boolean).foo!==1})}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":146}],22:[function(e,m,d){var f=e("../internals/fails");m.exports=function(t,c){var h=[][t];return!!h&&f(function(){h.call(null,c||function(){throw 1},1)})}},{"../internals/fails":50}],23:[function(e,m,d){function f(o){throw o}var t=e("../internals/descriptors"),c=e("../internals/fails"),h=e("../internals/has"),g=Object.defineProperty,p={};m.exports=function(o,n){if(h(p,o))return p[o];var s=[][o],a=!!h(n=n||{},"ACCESSORS")&&n.ACCESSORS,l=h(n,0)?n[0]:f,v=h(n,1)?n[1]:void 0;return p[o]=!!s&&!c(function(){if(a&&!t)return!0;var w={length:-1};a?g(w,1,{enumerable:!0,get:f}):w[1]=1,s.call(w,l,v)})}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":60}],24:[function(e,m,d){function f(p){return function(o,n,s,a){t(n);var l=c(o),v=h(l),w=g(l.length),x=p?w-1:0,_=p?-1:1;if(s<2)for(;;){if(x in v){a=v[x],x+=_;break}if(x+=_,p?x<0:w<=x)throw TypeError("Reduce of empty array with no initial value")}for(;p?0<=x:x<w;x+=_)x in v&&(a=n(a,v[x],x,l));return a}}var t=e("../internals/a-function"),c=e("../internals/to-object"),h=e("../internals/indexed-object"),g=e("../internals/to-length");m.exports={left:f(!1),right:f(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(e,m,d){var f=e("../internals/is-object"),t=e("../internals/is-array"),c=e("../internals/well-known-symbol")("species");m.exports=function(h,g){var p;return t(h)&&(typeof(p=h.constructor)!="function"||p!==Array&&!t(p.prototype)?f(p)&&(p=p[c])===null&&(p=void 0):p=void 0),new(p===void 0?Array:p)(g===0?0:g)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(e,m,d){var f=e("../internals/an-object");m.exports=function(t,c,h,g){try{return g?c(f(h)[0],h[1]):c(h)}catch(o){var p=t.return;throw p!==void 0&&f(p.call(t)),o}}},{"../internals/an-object":10}],27:[function(e,m,d){var f=e("../internals/well-known-symbol")("iterator"),t=!1;try{var c=0,h={next:function(){return{done:!!c++}},return:function(){t=!0}};h[f]=function(){return this},Array.from(h,function(){throw 2})}catch{}m.exports=function(g,p){if(!p&&!t)return!1;var o=!1;try{var n={};n[f]=function(){return{next:function(){return{done:o=!0}}}},g(n)}catch{}return o}},{"../internals/well-known-symbol":146}],28:[function(e,m,d){var f={}.toString;m.exports=function(t){return f.call(t).slice(8,-1)}},{}],29:[function(e,m,d){var f=e("../internals/to-string-tag-support"),t=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("toStringTag"),h=t(function(){return arguments}())=="Arguments";m.exports=f?t:function(g){var p,o,n;return g===void 0?"Undefined":g===null?"Null":typeof(o=function(s,a){try{return s[a]}catch{}}(p=Object(g),c))=="string"?o:h?t(p):(n=t(p))=="Object"&&typeof p.callee=="function"?"Arguments":n}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(e,m,d){var f=e("../internals/object-define-property").f,t=e("../internals/object-create"),c=e("../internals/redefine-all"),h=e("../internals/function-bind-context"),g=e("../internals/an-instance"),p=e("../internals/iterate"),o=e("../internals/define-iterator"),n=e("../internals/set-species"),s=e("../internals/descriptors"),a=e("../internals/internal-metadata").fastKey,l=e("../internals/internal-state"),v=l.set,w=l.getterFor;m.exports={getConstructor:function(x,_,E,C){function A(L,U,D){var H,W,ae=I(L),le=R(L,U);return le?le.value=D:(ae.last=le={index:W=a(U,!0),key:U,value:D,previous:H=ae.last,next:void 0,removed:!1},ae.first||(ae.first=le),H&&(H.next=le),s?ae.size++:L.size++,W!=="F"&&(ae.index[W]=le)),L}var O=x(function(L,U){g(L,O,_),v(L,{type:_,index:t(null),first:void 0,last:void 0,size:0}),s||(L.size=0),U!=null&&p(U,L[C],L,E)}),I=w(_),R=function(L,U){var D,H=I(L),W=a(U);if(W!=="F")return H.index[W];for(D=H.first;D;D=D.next)if(D.key==U)return D};return c(O.prototype,{clear:function(){for(var L=I(this),U=L.index,D=L.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete U[D.index],D=D.next;L.first=L.last=void 0,s?L.size=0:this.size=0},delete:function(L){var U=I(this),D=R(this,L);if(D){var H=D.next,W=D.previous;delete U.index[D.index],D.removed=!0,W&&(W.next=H),H&&(H.previous=W),U.first==D&&(U.first=H),U.last==D&&(U.last=W),s?U.size--:this.size--}return!!D},forEach:function(L,U){for(var D,H=I(this),W=h(L,1<arguments.length?U:void 0,3);D=D?D.next:H.first;)for(W(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(L){return!!R(this,L)}}),c(O.prototype,E?{get:function(L){var U=R(this,L);return U&&U.value},set:function(L,U){return A(this,L===0?0:L,U)}}:{add:function(L){return A(this,L=L===0?0:L,L)}}),s&&f(O.prototype,"size",{get:function(){return I(this).size}}),O},setStrong:function(x,_,E){var C=_+" Iterator",A=w(_),O=w(C);o(x,_,function(I,R){v(this,{type:C,target:I,state:A(I),kind:R,last:void 0})},function(){for(var I=O(this),R=I.kind,L=I.last;L&&L.removed;)L=L.previous;return I.target&&(I.last=L=L?L.next:I.state.first)?R=="keys"?{value:L.key,done:!1}:R=="values"?{value:L.value,done:!1}:{value:[L.key,L.value],done:!1}:{value:I.target=void 0,done:!0}},E?"entries":"values",!E,!0),n(_)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/global"),c=e("../internals/is-forced"),h=e("../internals/redefine"),g=e("../internals/internal-metadata"),p=e("../internals/iterate"),o=e("../internals/an-instance"),n=e("../internals/is-object"),s=e("../internals/fails"),a=e("../internals/check-correctness-of-iteration"),l=e("../internals/set-to-string-tag"),v=e("../internals/inherit-if-required");m.exports=function(w,x,_){function E(J){var ue=R[J];h(R,J,J=="add"?function(se){return ue.call(this,se===0?0:se),this}:J=="delete"?function(se){return!(A&&!n(se))&&ue.call(this,se===0?0:se)}:J=="get"?function(se){return A&&!n(se)?void 0:ue.call(this,se===0?0:se)}:J=="has"?function(se){return!(A&&!n(se))&&ue.call(this,se===0?0:se)}:function(se,me){return ue.call(this,se===0?0:se,me),this})}var C=w.indexOf("Map")!==-1,A=w.indexOf("Weak")!==-1,O=C?"set":"add",I=t[w],R=I&&I.prototype,L=I,U={};if(c(w,typeof I!="function"||!(A||R.forEach&&!s(function(){new I().entries().next()}))))L=_.getConstructor(x,w,C,O),g.REQUIRED=!0;else if(c(w,!0)){var D=new L,H=D[O](A?{}:-0,1)!=D,W=s(function(){D.has(1)}),ae=a(function(J){new I(J)}),le=!A&&s(function(){for(var J=new I,ue=5;ue--;)J[O](ue,ue);return!J.has(-0)});ae||(((L=x(function(J,ue){o(J,L,w);var se=v(new I,J,L);return ue!=null&&p(ue,se[O],se,C),se})).prototype=R).constructor=L),(W||le)&&(E("delete"),E("has"),C&&E("get")),(le||H)&&E(O),A&&R.clear&&delete R.clear}return U[w]=L,f({global:!0,forced:L!=I},U),l(L,w),A||_.setStrong(L,w,C),L}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],32:[function(e,m,d){var f=e("../internals/has"),t=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),h=e("../internals/object-define-property");m.exports=function(g,p){for(var o=t(p),n=h.f,s=c.f,a=0;a<o.length;a++){var l=o[a];f(g,l)||n(g,l,s(p,l))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],33:[function(e,m,d){var f=e("../internals/well-known-symbol")("match");m.exports=function(t){var c=/./;try{"/./"[t](c)}catch{try{return c[f]=!1,"/./"[t](c)}catch{}}return!1}},{"../internals/well-known-symbol":146}],34:[function(e,m,d){var f=e("../internals/fails");m.exports=!f(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},{"../internals/fails":50}],35:[function(e,m,d){var f=e("../internals/require-object-coercible"),t=/"/g;m.exports=function(c,h,g,p){var o=String(f(c)),n="<"+h;return g!==""&&(n+=" "+g+'="'+String(p).replace(t,"&quot;")+'"'),n+">"+o+"</"+h+">"}},{"../internals/require-object-coercible":113}],36:[function(e,m,d){function f(){return this}var t=e("../internals/iterators-core").IteratorPrototype,c=e("../internals/object-create"),h=e("../internals/create-property-descriptor"),g=e("../internals/set-to-string-tag"),p=e("../internals/iterators");m.exports=function(o,n,s){var a=n+" Iterator";return o.prototype=c(t,{next:h(1,s)}),g(o,a,!1,!0),p[a]=f,o}},{"../internals/create-property-descriptor":38,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],37:[function(e,m,d){var f=e("../internals/descriptors"),t=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");m.exports=f?function(h,g,p){return t.f(h,g,c(1,p))}:function(h,g,p){return h[g]=p,h}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":92}],38:[function(e,m,d){m.exports=function(f,t){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:t}}},{}],39:[function(e,m,d){var f=e("../internals/to-primitive"),t=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");m.exports=function(h,g,p){var o=f(g);o in h?t.f(h,o,c(0,p)):h[o]=p}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":92,"../internals/to-primitive":138}],40:[function(e,m,d){function f(){return this}var t=e("../internals/export"),c=e("../internals/create-iterator-constructor"),h=e("../internals/object-get-prototype-of"),g=e("../internals/object-set-prototype-of"),p=e("../internals/set-to-string-tag"),o=e("../internals/create-non-enumerable-property"),n=e("../internals/redefine"),s=e("../internals/well-known-symbol"),a=e("../internals/is-pure"),l=e("../internals/iterators"),v=e("../internals/iterators-core"),w=v.IteratorPrototype,x=v.BUGGY_SAFARI_ITERATORS,_=s("iterator"),E="values",C="entries";m.exports=function(A,O,I,R,L,U,D){c(I,O,R);function H(ve){if(ve===L&&xe)return xe;if(!x&&ve in se)return se[ve];switch(ve){case"keys":case E:case C:return function(){return new I(this,ve)}}return function(){return new I(this)}}var W,ae,le,J=O+" Iterator",ue=!1,se=A.prototype,me=se[_]||se["@@iterator"]||L&&se[L],xe=!x&&me||H(L),Ce=O=="Array"&&se.entries||me;if(Ce&&(W=h(Ce.call(new A)),w!==Object.prototype&&W.next&&(a||h(W)===w||(g?g(W,w):typeof W[_]!="function"&&o(W,_,f)),p(W,J,!0,!0),a&&(l[J]=f))),L==E&&me&&me.name!==E&&(ue=!0,xe=function(){return me.call(this)}),a&&!D||se[_]===xe||o(se,_,xe),l[O]=xe,L)if(ae={values:H(E),keys:U?xe:H("keys"),entries:H(C)},D)for(le in ae)!x&&!ue&&le in se||n(se,le,ae[le]);else t({target:O,proto:!0,forced:x||ue},ae);return ae}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],41:[function(e,m,d){var f=e("../internals/path"),t=e("../internals/has"),c=e("../internals/well-known-symbol-wrapped"),h=e("../internals/object-define-property").f;m.exports=function(g){var p=f.Symbol||(f.Symbol={});t(p,g)||h(p,g,{value:c.f(g)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],42:[function(e,m,d){var f=e("../internals/fails");m.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":50}],43:[function(e,m,d){var f=e("../internals/global"),t=e("../internals/is-object"),c=f.document,h=t(c)&&t(c.createElement);m.exports=function(g){return h?c.createElement(g):{}}},{"../internals/global":59,"../internals/is-object":74}],44:[function(e,m,d){m.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(e,m,d){var f=e("../internals/engine-user-agent");m.exports=/(iphone|ipod|ipad).*applewebkit/i.test(f)},{"../internals/engine-user-agent":46}],46:[function(e,m,d){var f=e("../internals/get-built-in");m.exports=f("navigator","userAgent")||""},{"../internals/get-built-in":56}],47:[function(e,m,d){var f,t,c=e("../internals/global"),h=e("../internals/engine-user-agent"),g=c.process,p=g&&g.versions,o=p&&p.v8;o?t=(f=o.split("."))[0]+f[1]:h&&(!(f=h.match(/Edge\/(\d+)/))||74<=f[1])&&(f=h.match(/Chrome\/(\d+)/))&&(t=f[1]),m.exports=t&&+t},{"../internals/engine-user-agent":46,"../internals/global":59}],48:[function(e,m,d){m.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(e,m,d){var f=e("../internals/global"),t=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),h=e("../internals/redefine"),g=e("../internals/set-global"),p=e("../internals/copy-constructor-properties"),o=e("../internals/is-forced");m.exports=function(n,s){var a,l,v,w,x,_=n.target,E=n.global,C=n.stat;if(a=E?f:C?f[_]||g(_,{}):(f[_]||{}).prototype)for(l in s){if(w=s[l],v=n.noTargetGet?(x=t(a,l))&&x.value:a[l],!o(E?l:_+(C?".":"#")+l,n.forced)&&v!==void 0){if(typeof w==typeof v)continue;p(w,v)}(n.sham||v&&v.sham)&&c(w,"sham",!0),h(a,l,w,n)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],50:[function(e,m,d){m.exports=function(f){try{return!!f()}catch{return!0}}},{}],51:[function(e,m,d){e("../modules/es.regexp.exec");var f=e("../internals/redefine"),t=e("../internals/fails"),c=e("../internals/well-known-symbol"),h=e("../internals/regexp-exec"),g=e("../internals/create-non-enumerable-property"),p=c("species"),o=!t(function(){var v=/./;return v.exec=function(){var w=[];return w.groups={a:"7"},w},"".replace(v,"$<a>")!=="7"}),n="a".replace(/./,"$0")==="$0",s=c("replace"),a=!!/./[s]&&/./[s]("a","$0")==="",l=!t(function(){var v=/(?:)/,w=v.exec;v.exec=function(){return w.apply(this,arguments)};var x="ab".split(v);return x.length!==2||x[0]!=="a"||x[1]!=="b"});m.exports=function(v,w,x,_){var E=c(v),C=!t(function(){var U={};return U[E]=function(){return 7},""[v](U)!=7}),A=C&&!t(function(){var U=!1,D=/a/;return v==="split"&&((D={constructor:{}}).constructor[p]=function(){return D},D.flags="",D[E]=/./[E]),D.exec=function(){return U=!0,null},D[E](""),!U});if(!C||!A||v==="replace"&&(!o||!n||a)||v==="split"&&!l){var O=/./[E],I=x(E,""[v],function(U,D,H,W,ae){return D.exec===h?C&&!ae?{done:!0,value:O.call(D,H,W)}:{done:!0,value:U.call(H,D,W)}:{done:!1}},{REPLACE_KEEPS_$0:n,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:a}),R=I[0],L=I[1];f(String.prototype,v,R),f(RegExp.prototype,E,w==2?function(U,D){return L.call(U,this,D)}:function(U){return L.call(U,this)})}_&&g(RegExp.prototype[E],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],52:[function(e,m,d){var f=e("../internals/is-array"),t=e("../internals/to-length"),c=e("../internals/function-bind-context"),h=function(g,p,o,n,s,a,l,v){for(var w,x=s,_=0,E=!!l&&c(l,v,3);_<n;){if(_ in o){if(w=E?E(o[_],_,p):o[_],0<a&&f(w))x=h(g,p,w,t(w.length),x,a-1)-1;else{if(9007199254740991<=x)throw TypeError("Exceed the acceptable array length");g[x]=w}x++}_++}return x};m.exports=h},{"../internals/function-bind-context":54,"../internals/is-array":72,"../internals/to-length":134}],53:[function(e,m,d){var f=e("../internals/fails");m.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":50}],54:[function(e,m,d){var f=e("../internals/a-function");m.exports=function(t,c,h){if(f(t),c===void 0)return t;switch(h){case 0:return function(){return t.call(c)};case 1:return function(g){return t.call(c,g)};case 2:return function(g,p){return t.call(c,g,p)};case 3:return function(g,p,o){return t.call(c,g,p,o)}}return function(){return t.apply(c,arguments)}}},{"../internals/a-function":5}],55:[function(e,m,d){var f=e("../internals/a-function"),t=e("../internals/is-object"),c=[].slice,h={};m.exports=Function.bind||function(g){var p=f(this),o=c.call(arguments,1),n=function(){var s=o.concat(c.call(arguments));return this instanceof n?function(a,l,v){if(!(l in h)){for(var w=[],x=0;x<l;x++)w[x]="a["+x+"]";h[l]=Function("C,a","return new C("+w.join(",")+")")}return h[l](a,v)}(p,s.length,s):p.apply(g,s)};return t(p.prototype)&&(n.prototype=p.prototype),n}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,m,d){function f(h){return typeof h=="function"?h:void 0}var t=e("../internals/path"),c=e("../internals/global");m.exports=function(h,g){return arguments.length<2?f(t[h])||f(c[h]):t[h]&&t[h][g]||c[h]&&c[h][g]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,m,d){var f=e("../internals/classof"),t=e("../internals/iterators"),c=e("../internals/well-known-symbol")("iterator");m.exports=function(h){if(h!=null)return h[c]||h["@@iterator"]||t[f(h)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(e,m,d){var f=e("../internals/an-object"),t=e("../internals/get-iterator-method");m.exports=function(c){var h=t(c);if(typeof h!="function")throw TypeError(String(c)+" is not iterable");return f(h.call(c))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,m,d){(function(f){function t(c){return c&&c.Math==Math&&c}m.exports=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof f=="object"&&f)||Function("return this")()}).call(this,typeof ks<"u"?ks:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(e,m,d){var f={}.hasOwnProperty;m.exports=function(t,c){return f.call(t,c)}},{}],61:[function(e,m,d){m.exports={}},{}],62:[function(e,m,d){var f=e("../internals/global");m.exports=function(t,c){var h=f.console;h&&h.error&&(arguments.length===1?h.error(t):h.error(t,c))}},{"../internals/global":59}],63:[function(e,m,d){var f=e("../internals/get-built-in");m.exports=f("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,m,d){var f=e("../internals/descriptors"),t=e("../internals/fails"),c=e("../internals/document-create-element");m.exports=!f&&!t(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],65:[function(e,m,d){var f=Math.abs,t=Math.pow,c=Math.floor,h=Math.log,g=Math.LN2;m.exports={pack:function(p,o,n){var s,a,l,v=new Array(n),w=8*n-o-1,x=(1<<w)-1,_=x>>1,E=o===23?t(2,-24)-t(2,-77):0,C=p<0||p===0&&1/p<0?1:0,A=0;for((p=f(p))!=p||p===1/0?(a=p!=p?1:0,s=x):(s=c(h(p)/g),p*(l=t(2,-s))<1&&(s--,l*=2),2<=(p+=1<=s+_?E/l:E*t(2,1-_))*l&&(s++,l/=2),x<=s+_?(a=0,s=x):1<=s+_?(a=(p*l-1)*t(2,o),s+=_):(a=p*t(2,_-1)*t(2,o),s=0));8<=o;v[A++]=255&a,a/=256,o-=8);for(s=s<<o|a,w+=o;0<w;v[A++]=255&s,s/=256,w-=8);return v[--A]|=128*C,v},unpack:function(p,o){var n,s=p.length,a=8*s-o-1,l=(1<<a)-1,v=l>>1,w=a-7,x=s-1,_=p[x--],E=127&_;for(_>>=7;0<w;E=256*E+p[x],x--,w-=8);for(n=E&(1<<-w)-1,E>>=-w,w+=o;0<w;n=256*n+p[x],x--,w-=8);if(E===0)E=1-v;else{if(E===l)return n?NaN:_?-1/0:1/0;n+=t(2,o),E-=v}return(_?-1:1)*n*t(2,E-o)}}},{}],66:[function(e,m,d){var f=e("../internals/fails"),t=e("../internals/classof-raw"),c="".split;m.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return t(h)=="String"?c.call(h,""):Object(h)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],67:[function(e,m,d){var f=e("../internals/is-object"),t=e("../internals/object-set-prototype-of");m.exports=function(c,h,g){var p,o;return t&&typeof(p=h.constructor)=="function"&&p!==g&&f(o=p.prototype)&&o!==g.prototype&&t(c,o),c}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(e,m,d){var f=e("../internals/shared-store"),t=Function.toString;typeof f.inspectSource!="function"&&(f.inspectSource=function(c){return t.call(c)}),m.exports=f.inspectSource},{"../internals/shared-store":119}],69:[function(e,m,d){function f(v){g(v,n,{value:{objectID:"O"+ ++s,weakData:{}}})}var t=e("../internals/hidden-keys"),c=e("../internals/is-object"),h=e("../internals/has"),g=e("../internals/object-define-property").f,p=e("../internals/uid"),o=e("../internals/freezing"),n=p("meta"),s=0,a=Object.isExtensible||function(){return!0},l=m.exports={REQUIRED:!1,fastKey:function(v,w){if(!c(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!h(v,n)){if(!a(v))return"F";if(!w)return"E";f(v)}return v[n].objectID},getWeakData:function(v,w){if(!h(v,n)){if(!a(v))return!0;if(!w)return!1;f(v)}return v[n].weakData},onFreeze:function(v){return o&&l.REQUIRED&&a(v)&&!h(v,n)&&f(v),v}};t[n]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(e,m,d){var f,t,c,h=e("../internals/native-weak-map"),g=e("../internals/global"),p=e("../internals/is-object"),o=e("../internals/create-non-enumerable-property"),n=e("../internals/has"),s=e("../internals/shared-key"),a=e("../internals/hidden-keys"),l=g.WeakMap;if(h){var v=new l,w=v.get,x=v.has,_=v.set;f=function(C,A){return _.call(v,C,A),A},t=function(C){return w.call(v,C)||{}},c=function(C){return x.call(v,C)}}else{var E=s("state");a[E]=!0,f=function(C,A){return o(C,E,A),A},t=function(C){return n(C,E)?C[E]:{}},c=function(C){return n(C,E)}}m.exports={set:f,get:t,has:c,enforce:function(C){return c(C)?t(C):f(C,{})},getterFor:function(C){return function(A){var O;if(!p(A)||(O=t(A)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return O}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,m,d){var f=e("../internals/well-known-symbol"),t=e("../internals/iterators"),c=f("iterator"),h=Array.prototype;m.exports=function(g){return g!==void 0&&(t.Array===g||h[c]===g)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(e,m,d){var f=e("../internals/classof-raw");m.exports=Array.isArray||function(t){return f(t)=="Array"}},{"../internals/classof-raw":28}],73:[function(e,m,d){function f(n,s){var a=g[h(n)];return a==o||a!=p&&(typeof s=="function"?t(s):!!s)}var t=e("../internals/fails"),c=/#|\.prototype\./,h=f.normalize=function(n){return String(n).replace(c,".").toLowerCase()},g=f.data={},p=f.NATIVE="N",o=f.POLYFILL="P";m.exports=f},{"../internals/fails":50}],74:[function(e,m,d){m.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}},{}],75:[function(e,m,d){m.exports=!1},{}],76:[function(e,m,d){var f=e("../internals/is-object"),t=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");m.exports=function(h){var g;return f(h)&&((g=h[c])!==void 0?!!g:t(h)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(e,m,d){function f(n,s){this.stopped=n,this.result=s}var t=e("../internals/an-object"),c=e("../internals/is-array-iterator-method"),h=e("../internals/to-length"),g=e("../internals/function-bind-context"),p=e("../internals/get-iterator-method"),o=e("../internals/call-with-safe-iteration-closing");(m.exports=function(n,s,a,l,v){var w,x,_,E,C,A,O,I=g(s,a,l?2:1);if(v)w=n;else{if(typeof(x=p(n))!="function")throw TypeError("Target is not iterable");if(c(x)){for(_=0,E=h(n.length);_<E;_++)if((C=l?I(t(O=n[_])[0],O[1]):I(n[_]))&&C instanceof f)return C;return new f(!1)}w=x.call(n)}for(A=w.next;!(O=A.call(w)).done;)if(typeof(C=o(w,I,O.value,l))=="object"&&C&&C instanceof f)return C;return new f(!1)}).stop=function(n){return new f(!0,n)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(e,m,d){var f,t,c,h=e("../internals/object-get-prototype-of"),g=e("../internals/create-non-enumerable-property"),p=e("../internals/has"),o=e("../internals/well-known-symbol"),n=e("../internals/is-pure"),s=o("iterator"),a=!1;[].keys&&("next"in(c=[].keys())?(t=h(h(c)))!==Object.prototype&&(f=t):a=!0),f==null&&(f={}),n||p(f,s)||g(f,s,function(){return this}),m.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:a}},{"../internals/create-non-enumerable-property":37,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(e,m,d){arguments[4][61][0].apply(d,arguments)},{dup:61}],80:[function(e,m,d){m.exports=Math.sign||function(f){return(f=+f)==0||f!=f?f:f<0?-1:1}},{}],81:[function(e,m,d){var f,t,c,h,g,p,o,n,s=e("../internals/global"),a=e("../internals/object-get-own-property-descriptor").f,l=e("../internals/classof-raw"),v=e("../internals/task").set,w=e("../internals/engine-is-ios"),x=s.MutationObserver||s.WebKitMutationObserver,_=s.process,E=s.Promise,C=l(_)=="process",A=a(s,"queueMicrotask"),O=A&&A.value;O||(f=function(){var I,R;for(C&&(I=_.domain)&&I.exit();t;){R=t.fn,t=t.next;try{R()}catch(L){throw t?h():c=void 0,L}}c=void 0,I&&I.enter()},h=C?function(){_.nextTick(f)}:x&&!w?(g=!0,p=document.createTextNode(""),new x(f).observe(p,{characterData:!0}),function(){p.data=g=!g}):E&&E.resolve?(o=E.resolve(void 0),n=o.then,function(){n.call(o,f)}):function(){v.call(s,f)}),m.exports=O||function(I){var R={fn:I,next:void 0};c&&(c.next=R),t||(t=R,h()),c=R}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(e,m,d){var f=e("../internals/global");m.exports=f.Promise},{"../internals/global":59}],83:[function(e,m,d){var f=e("../internals/fails");m.exports=!!Object.getOwnPropertySymbols&&!f(function(){return!String(Symbol())})},{"../internals/fails":50}],84:[function(e,m,d){var f=e("../internals/fails"),t=e("../internals/well-known-symbol"),c=e("../internals/is-pure"),h=t("iterator");m.exports=!f(function(){var g=new URL("b?a=1&b=2&c=3","http://a"),p=g.searchParams,o="";return g.pathname="c%20d",p.forEach(function(n,s){p.delete("b"),o+=s+n}),c&&!g.toJSON||!p.sort||g.href!=="http://a/c%20d?a=1&c=3"||p.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!p[h]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||o!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":50,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(e,m,d){var f=e("../internals/global"),t=e("../internals/inspect-source"),c=f.WeakMap;m.exports=typeof c=="function"&&/native code/.test(t(c))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,m,d){function f(c){var h,g;this.promise=new c(function(p,o){if(h!==void 0||g!==void 0)throw TypeError("Bad Promise constructor");h=p,g=o}),this.resolve=t(h),this.reject=t(g)}var t=e("../internals/a-function");m.exports.f=function(c){return new f(c)}},{"../internals/a-function":5}],87:[function(e,m,d){var f=e("../internals/is-regexp");m.exports=function(t){if(f(t))throw TypeError("The method doesn't accept regular expressions");return t}},{"../internals/is-regexp":76}],88:[function(e,m,d){var f=e("../internals/global").isFinite;m.exports=Number.isFinite||function(t){return typeof t=="number"&&f(t)}},{"../internals/global":59}],89:[function(e,m,d){var f=e("../internals/descriptors"),t=e("../internals/fails"),c=e("../internals/object-keys"),h=e("../internals/object-get-own-property-symbols"),g=e("../internals/object-property-is-enumerable"),p=e("../internals/to-object"),o=e("../internals/indexed-object"),n=Object.assign,s=Object.defineProperty;m.exports=!n||t(function(){if(f&&n({b:1},n(s({},"a",{enumerable:!0,get:function(){s(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var a={},l={},v=Symbol(),w="abcdefghijklmnopqrst";return a[v]=7,w.split("").forEach(function(x){l[x]=x}),n({},a)[v]!=7||c(n({},l)).join("")!=w})?function(a,l){for(var v=p(a),w=arguments.length,x=1,_=h.f,E=g.f;x<w;)for(var C,A=o(arguments[x++]),O=_?c(A).concat(_(A)):c(A),I=O.length,R=0;R<I;)C=O[R++],f&&!E.call(A,C)||(v[C]=A[C]);return v}:n},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(e,m,d){function f(){}function t(_){return"<script>"+_+"</"+v+">"}var c,h=e("../internals/an-object"),g=e("../internals/object-define-properties"),p=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),n=e("../internals/html"),s=e("../internals/document-create-element"),a=e("../internals/shared-key"),l="prototype",v="script",w=a("IE_PROTO"),x=function(){try{c=document.domain&&new ActiveXObject("htmlfile")}catch{}var _,E;x=c?function(A){A.write(t("")),A.close();var O=A.parentWindow.Object;return A=null,O}(c):((E=s("iframe")).style.display="none",n.appendChild(E),E.src=String("javascript:"),(_=E.contentWindow.document).open(),_.write(t("document.F=Object")),_.close(),_.F);for(var C=p.length;C--;)delete x[l][p[C]];return x()};o[w]=!0,m.exports=Object.create||function(_,E){var C;return _!==null?(f[l]=h(_),C=new f,f[l]=null,C[w]=_):C=x(),E===void 0?C:g(C,E)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,m,d){var f=e("../internals/descriptors"),t=e("../internals/object-define-property"),c=e("../internals/an-object"),h=e("../internals/object-keys");m.exports=f?Object.defineProperties:function(g,p){c(g);for(var o,n=h(p),s=n.length,a=0;a<s;)t.f(g,o=n[a++],p[o]);return g}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,m,d){var f=e("../internals/descriptors"),t=e("../internals/ie8-dom-define"),c=e("../internals/an-object"),h=e("../internals/to-primitive"),g=Object.defineProperty;d.f=f?g:function(p,o,n){if(c(p),o=h(o,!0),c(n),t)try{return g(p,o,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(p[o]=n.value),p}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(e,m,d){var f=e("../internals/descriptors"),t=e("../internals/object-property-is-enumerable"),c=e("../internals/create-property-descriptor"),h=e("../internals/to-indexed-object"),g=e("../internals/to-primitive"),p=e("../internals/has"),o=e("../internals/ie8-dom-define"),n=Object.getOwnPropertyDescriptor;d.f=f?n:function(s,a){if(s=h(s),a=g(a,!0),o)try{return n(s,a)}catch{}if(p(s,a))return c(!t.f.call(s,a),s[a])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(e,m,d){var f=e("../internals/to-indexed-object"),t=e("../internals/object-get-own-property-names").f,c={}.toString,h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];m.exports.f=function(g){return h&&c.call(g)=="[object Window]"?function(p){try{return t(p)}catch{return h.slice()}}(g):t(f(g))}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(e,m,d){var f=e("../internals/object-keys-internal"),t=e("../internals/enum-bug-keys").concat("length","prototype");d.f=Object.getOwnPropertyNames||function(c){return f(c,t)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],96:[function(e,m,d){d.f=Object.getOwnPropertySymbols},{}],97:[function(e,m,d){var f=e("../internals/has"),t=e("../internals/to-object"),c=e("../internals/shared-key"),h=e("../internals/correct-prototype-getter"),g=c("IE_PROTO"),p=Object.prototype;m.exports=h?Object.getPrototypeOf:function(o){return o=t(o),f(o,g)?o[g]:typeof o.constructor=="function"&&o instanceof o.constructor?o.constructor.prototype:o instanceof Object?p:null}},{"../internals/correct-prototype-getter":34,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(e,m,d){var f=e("../internals/has"),t=e("../internals/to-indexed-object"),c=e("../internals/array-includes").indexOf,h=e("../internals/hidden-keys");m.exports=function(g,p){var o,n=t(g),s=0,a=[];for(o in n)!f(h,o)&&f(n,o)&&a.push(o);for(;p.length>s;)f(n,o=p[s++])&&(~c(a,o)||a.push(o));return a}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(e,m,d){var f=e("../internals/object-keys-internal"),t=e("../internals/enum-bug-keys");m.exports=Object.keys||function(c){return f(c,t)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],100:[function(e,m,d){var f={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,c=t&&!f.call({1:2},1);d.f=c?function(h){var g=t(this,h);return!!g&&g.enumerable}:f},{}],101:[function(e,m,d){var f=e("../internals/an-object"),t=e("../internals/a-possible-prototype");m.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,h=!1,g={};try{(c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(g,[]),h=g instanceof Array}catch{}return function(p,o){return f(p),t(o),h?c.call(p,o):p.__proto__=o,p}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,m,d){var f=e("../internals/to-string-tag-support"),t=e("../internals/classof");m.exports=f?{}.toString:function(){return"[object "+t(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(e,m,d){var f=e("../internals/get-built-in"),t=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-symbols"),h=e("../internals/an-object");m.exports=f("Reflect","ownKeys")||function(g){var p=t.f(h(g)),o=c.f;return o?p.concat(o(g)):p}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,m,d){var f=e("../internals/global");m.exports=f},{"../internals/global":59}],105:[function(e,m,d){m.exports=function(f){try{return{error:!1,value:f()}}catch(t){return{error:!0,value:t}}}},{}],106:[function(e,m,d){var f=e("../internals/an-object"),t=e("../internals/is-object"),c=e("../internals/new-promise-capability");m.exports=function(h,g){if(f(h),t(g)&&g.constructor===h)return g;var p=c.f(h);return(0,p.resolve)(g),p.promise}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,m,d){var f=e("../internals/redefine");m.exports=function(t,c,h){for(var g in c)f(t,g,c[g],h);return t}},{"../internals/redefine":108}],108:[function(e,m,d){var f=e("../internals/global"),t=e("../internals/create-non-enumerable-property"),c=e("../internals/has"),h=e("../internals/set-global"),g=e("../internals/inspect-source"),p=e("../internals/internal-state"),o=p.get,n=p.enforce,s=String(String).split("String");(m.exports=function(a,l,v,w){var x=!!w&&!!w.unsafe,_=!!w&&!!w.enumerable,E=!!w&&!!w.noTargetGet;typeof v=="function"&&(typeof l!="string"||c(v,"name")||t(v,"name",l),n(v).source=s.join(typeof l=="string"?l:"")),a!==f?(x?!E&&a[l]&&(_=!0):delete a[l],_?a[l]=v:t(a,l,v)):_?a[l]=v:h(l,v)})(Function.prototype,"toString",function(){return typeof this=="function"&&o(this).source||g(this)})},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,m,d){var f=e("./classof-raw"),t=e("./regexp-exec");m.exports=function(c,h){var g=c.exec;if(typeof g=="function"){var p=g.call(c,h);if(typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(f(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return t.call(c,h)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(e,m,d){var f,t,c=e("./regexp-flags"),h=e("./regexp-sticky-helpers"),g=RegExp.prototype.exec,p=String.prototype.replace,o=g,n=(f=/a/,t=/b*/g,g.call(f,"a"),g.call(t,"a"),f.lastIndex!==0||t.lastIndex!==0),s=h.UNSUPPORTED_Y||h.BROKEN_CARET,a=/()??/.exec("")[1]!==void 0;(n||a||s)&&(o=function(l){var v,w,x,_,E=this,C=s&&E.sticky,A=c.call(E),O=E.source,I=0,R=l;return C&&((A=A.replace("y","")).indexOf("g")===-1&&(A+="g"),R=String(l).slice(E.lastIndex),0<E.lastIndex&&(!E.multiline||E.multiline&&l[E.lastIndex-1]!==`
`)&&(O="(?: "+O+")",R=" "+R,I++),w=new RegExp("^(?:"+O+")",A)),a&&(w=new RegExp("^"+O+"$(?!\\s)",A)),n&&(v=E.lastIndex),x=g.call(C?w:E,R),C?x?(x.input=x.input.slice(I),x[0]=x[0].slice(I),x.index=E.lastIndex,E.lastIndex+=x[0].length):E.lastIndex=0:n&&x&&(E.lastIndex=E.global?x.index+x[0].length:v),a&&x&&1<x.length&&p.call(x[0],w,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(x[_]=void 0)}),x}),m.exports=o},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,m,d){var f=e("../internals/an-object");m.exports=function(){var t=f(this),c="";return t.global&&(c+="g"),t.ignoreCase&&(c+="i"),t.multiline&&(c+="m"),t.dotAll&&(c+="s"),t.unicode&&(c+="u"),t.sticky&&(c+="y"),c}},{"../internals/an-object":10}],112:[function(e,m,d){var f=e("./fails");function t(c,h){return RegExp(c,h)}d.UNSUPPORTED_Y=f(function(){var c=t("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),d.BROKEN_CARET=f(function(){var c=t("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},{"./fails":50}],113:[function(e,m,d){m.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}},{}],114:[function(e,m,d){m.exports=Object.is||function(f,t){return f===t?f!==0||1/f==1/t:f!=f&&t!=t}},{}],115:[function(e,m,d){var f=e("../internals/global"),t=e("../internals/create-non-enumerable-property");m.exports=function(c,h){try{t(f,c,h)}catch{f[c]=h}return h}},{"../internals/create-non-enumerable-property":37,"../internals/global":59}],116:[function(e,m,d){var f=e("../internals/get-built-in"),t=e("../internals/object-define-property"),c=e("../internals/well-known-symbol"),h=e("../internals/descriptors"),g=c("species");m.exports=function(p){var o=f(p),n=t.f;h&&o&&!o[g]&&n(o,g,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(e,m,d){var f=e("../internals/object-define-property").f,t=e("../internals/has"),c=e("../internals/well-known-symbol")("toStringTag");m.exports=function(h,g,p){h&&!t(h=p?h:h.prototype,c)&&f(h,c,{configurable:!0,value:g})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(e,m,d){var f=e("../internals/shared"),t=e("../internals/uid"),c=f("keys");m.exports=function(h){return c[h]||(c[h]=t(h))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(e,m,d){var f=e("../internals/global"),t=e("../internals/set-global"),c="__core-js_shared__",h=f[c]||t(c,{});m.exports=h},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,m,d){var f=e("../internals/is-pure"),t=e("../internals/shared-store");(m.exports=function(c,h){return t[c]||(t[c]=h!==void 0?h:{})})("versions",[]).push({version:"3.6.5",mode:f?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,m,d){var f=e("../internals/an-object"),t=e("../internals/a-function"),c=e("../internals/well-known-symbol")("species");m.exports=function(h,g){var p,o=f(h).constructor;return o===void 0||(p=f(o)[c])==null?g:t(p)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(e,m,d){var f=e("../internals/fails");m.exports=function(t){return f(function(){var c=""[t]('"');return c!==c.toLowerCase()||3<c.split('"').length})}},{"../internals/fails":50}],123:[function(e,m,d){function f(h){return function(g,p){var o,n,s=String(c(g)),a=t(p),l=s.length;return a<0||l<=a?h?"":void 0:(o=s.charCodeAt(a))<55296||56319<o||a+1===l||(n=s.charCodeAt(a+1))<56320||57343<n?h?s.charAt(a):o:h?s.slice(a,a+2):n-56320+(o-55296<<10)+65536}}var t=e("../internals/to-integer"),c=e("../internals/require-object-coercible");m.exports={codeAt:f(!1),charAt:f(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(e,m,d){function f(a){return a+22+75*(a<26)}function t(a,l,v){var w=0;for(a=v?n(a/700):a>>1,a+=n(a/l);455<a;w+=36)a=n(a/35);return n(w+36*a/(a+38))}function c(a){var l,v,w=[],x=(a=function(ae){for(var le=[],J=0,ue=ae.length;J<ue;){var se=ae.charCodeAt(J++);if(55296<=se&&se<=56319&&J<ue){var me=ae.charCodeAt(J++);(64512&me)==56320?le.push(((1023&se)<<10)+(1023&me)+65536):(le.push(se),J--)}else le.push(se)}return le}(a)).length,_=128,E=0,C=72;for(l=0;l<a.length;l++)(v=a[l])<128&&w.push(s(v));var A=w.length,O=A;for(A&&w.push("-");O<x;){var I=h;for(l=0;l<a.length;l++)_<=(v=a[l])&&v<I&&(I=v);var R=O+1;if(I-_>n((h-E)/R))throw RangeError(o);for(E+=(I-_)*R,_=I,l=0;l<a.length;l++){if((v=a[l])<_&&++E>h)throw RangeError(o);if(v==_){for(var L=E,U=36;;U+=36){var D=U<=C?1:C+26<=U?26:U-C;if(L<D)break;var H=L-D,W=36-D;w.push(s(f(D+H%W))),L=n(H/W)}w.push(s(f(L))),C=t(E,R,O==A),E=0,++O}}++E,++_}return w.join("")}var h=2147483647,g=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",n=Math.floor,s=String.fromCharCode;m.exports=function(a){var l,v,w=[],x=a.toLowerCase().replace(p,".").split(".");for(l=0;l<x.length;l++)v=x[l],w.push(g.test(v)?"xn--"+c(v):v);return w.join(".")}},{}],125:[function(e,m,d){var f=e("../internals/to-integer"),t=e("../internals/require-object-coercible");m.exports="".repeat||function(c){var h=String(t(this)),g="",p=f(c);if(p<0||p==1/0)throw RangeError("Wrong number of repetitions");for(;0<p;(p>>>=1)&&(h+=h))1&p&&(g+=h);return g}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(e,m,d){var f=e("../internals/fails"),t=e("../internals/whitespaces");m.exports=function(c){return f(function(){return!!t[c]()||"​᠎"[c]()!="​᠎"||t[c].name!==c})}},{"../internals/fails":50,"../internals/whitespaces":147}],127:[function(e,m,d){function f(p){return function(o){var n=String(t(o));return 1&p&&(n=n.replace(h,"")),2&p&&(n=n.replace(g,"")),n}}var t=e("../internals/require-object-coercible"),c="["+e("../internals/whitespaces")+"]",h=RegExp("^"+c+c+"*"),g=RegExp(c+c+"*$");m.exports={start:f(1),end:f(2),trim:f(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(e,m,d){function f(D){if(L.hasOwnProperty(D)){var H=L[D];delete L[D],H()}}function t(D){return function(){f(D)}}function c(D){f(D.data)}function h(D){n.postMessage(D+"",_.protocol+"//"+_.host)}var g,p,o,n=e("../internals/global"),s=e("../internals/fails"),a=e("../internals/classof-raw"),l=e("../internals/function-bind-context"),v=e("../internals/html"),w=e("../internals/document-create-element"),x=e("../internals/engine-is-ios"),_=n.location,E=n.setImmediate,C=n.clearImmediate,A=n.process,O=n.MessageChannel,I=n.Dispatch,R=0,L={},U="onreadystatechange";E&&C||(E=function(D){for(var H=[],W=1;W<arguments.length;)H.push(arguments[W++]);return L[++R]=function(){(typeof D=="function"?D:Function(D)).apply(void 0,H)},g(R),R},C=function(D){delete L[D]},a(A)=="process"?g=function(D){A.nextTick(t(D))}:I&&I.now?g=function(D){I.now(t(D))}:O&&!x?(o=(p=new O).port2,p.port1.onmessage=c,g=l(o.postMessage,o,1)):!n.addEventListener||typeof postMessage!="function"||n.importScripts||s(h)||_.protocol==="file:"?g=U in w("script")?function(D){v.appendChild(w("script"))[U]=function(){v.removeChild(this),f(D)}}:function(D){setTimeout(t(D),0)}:(g=h,n.addEventListener("message",c,!1))),m.exports={set:E,clear:C}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(e,m,d){var f=e("../internals/classof-raw");m.exports=function(t){if(typeof t!="number"&&f(t)!="Number")throw TypeError("Incorrect invocation");return+t}},{"../internals/classof-raw":28}],130:[function(e,m,d){var f=e("../internals/to-integer"),t=Math.max,c=Math.min;m.exports=function(h,g){var p=f(h);return p<0?t(p+g,0):c(p,g)}},{"../internals/to-integer":133}],131:[function(e,m,d){var f=e("../internals/to-integer"),t=e("../internals/to-length");m.exports=function(c){if(c===void 0)return 0;var h=f(c),g=t(h);if(h!==g)throw RangeError("Wrong length or index");return g}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(e,m,d){var f=e("../internals/indexed-object"),t=e("../internals/require-object-coercible");m.exports=function(c){return f(t(c))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(e,m,d){var f=Math.ceil,t=Math.floor;m.exports=function(c){return isNaN(c=+c)?0:(0<c?t:f)(c)}},{}],134:[function(e,m,d){var f=e("../internals/to-integer"),t=Math.min;m.exports=function(c){return 0<c?t(f(c),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(e,m,d){var f=e("../internals/require-object-coercible");m.exports=function(t){return Object(f(t))}},{"../internals/require-object-coercible":113}],136:[function(e,m,d){var f=e("../internals/to-positive-integer");m.exports=function(t,c){var h=f(t);if(h%c)throw RangeError("Wrong offset");return h}},{"../internals/to-positive-integer":137}],137:[function(e,m,d){var f=e("../internals/to-integer");m.exports=function(t){var c=f(t);if(c<0)throw RangeError("The argument can't be less than 0");return c}},{"../internals/to-integer":133}],138:[function(e,m,d){var f=e("../internals/is-object");m.exports=function(t,c){if(!f(t))return t;var h,g;if(c&&typeof(h=t.toString)=="function"&&!f(g=h.call(t))||typeof(h=t.valueOf)=="function"&&!f(g=h.call(t))||!c&&typeof(h=t.toString)=="function"&&!f(g=h.call(t)))return g;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(e,m,d){var f={};f[e("../internals/well-known-symbol")("toStringTag")]="z",m.exports=String(f)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(e,m,d){function f(oe,pe){for(var ge=0,he=pe.length,Pe=new(re(oe))(he);ge<he;)Pe[ge]=pe[ge++];return Pe}function t(oe,pe){ve(oe,pe,{get:function(){return xe(this)[pe]}})}function c(oe){var pe;return oe instanceof P||(pe=R(oe))=="ArrayBuffer"||pe=="SharedArrayBuffer"}function h(oe,pe){return $(oe)&&typeof pe!="symbol"&&pe in oe&&String(+pe)==String(pe)}function g(oe,pe){return h(oe,pe=O(pe,!0))?x(2,oe[pe]):De(oe,pe)}function p(oe,pe,ge){return!(h(oe,pe=O(pe,!0))&&L(ge)&&I(ge,"value"))||I(ge,"get")||I(ge,"set")||ge.configurable||I(ge,"writable")&&!ge.writable||I(ge,"enumerable")&&!ge.enumerable?ve(oe,pe,ge):(oe[pe]=ge.value,oe)}var o=e("../internals/export"),n=e("../internals/global"),s=e("../internals/descriptors"),a=e("../internals/typed-array-constructors-require-wrappers"),l=e("../internals/array-buffer-view-core"),v=e("../internals/array-buffer"),w=e("../internals/an-instance"),x=e("../internals/create-property-descriptor"),_=e("../internals/create-non-enumerable-property"),E=e("../internals/to-length"),C=e("../internals/to-index"),A=e("../internals/to-offset"),O=e("../internals/to-primitive"),I=e("../internals/has"),R=e("../internals/classof"),L=e("../internals/is-object"),U=e("../internals/object-create"),D=e("../internals/object-set-prototype-of"),H=e("../internals/object-get-own-property-names").f,W=e("../internals/typed-array-from"),ae=e("../internals/array-iteration").forEach,le=e("../internals/set-species"),J=e("../internals/object-define-property"),ue=e("../internals/object-get-own-property-descriptor"),se=e("../internals/internal-state"),me=e("../internals/inherit-if-required"),xe=se.get,Ce=se.set,ve=J.f,De=ue.f,_e=Math.round,Se=n.RangeError,P=v.ArrayBuffer,G=v.DataView,X=l.NATIVE_ARRAY_BUFFER_VIEWS,ee=l.TYPED_ARRAY_TAG,B=l.TypedArray,N=l.TypedArrayPrototype,re=l.aTypedArrayConstructor,$=l.isTypedArray,ne="BYTES_PER_ELEMENT",ie="Wrong length";s?(X||(ue.f=g,J.f=p,t(N,"buffer"),t(N,"byteOffset"),t(N,"byteLength"),t(N,"length")),o({target:"Object",stat:!0,forced:!X},{getOwnPropertyDescriptor:g,defineProperty:p}),m.exports=function(oe,pe,ge){function he(Xe,be){ve(Xe,be,{get:function(){return rt=be,(V=xe(this)).view[Ue](rt*Pe+V.byteOffset,!0);var rt,V},set:function(rt){return V=be,Q=rt,q=xe(this),ge&&(Q=(Q=_e(Q))<0?0:255<Q?255:255&Q),void q.view[Le](V*Pe+q.byteOffset,Q,!0);var V,Q,q},enumerable:!0})}var Pe=oe.match(/\d+$/)[0]/8,Be=oe+(ge?"Clamped":"")+"Array",Ue="get"+oe,Le="set"+oe,Qe=n[Be],Re=Qe,Ae=Re&&Re.prototype,ze={};X?a&&(Re=pe(function(Xe,be,rt,V){return w(Xe,Re,Be),me(L(be)?c(be)?V!==void 0?new Qe(be,A(rt,Pe),V):rt!==void 0?new Qe(be,A(rt,Pe)):new Qe(be):$(be)?f(Re,be):W.call(Re,be):new Qe(C(be)),Xe,Re)}),D&&D(Re,B),ae(H(Qe),function(Xe){Xe in Re||_(Re,Xe,Qe[Xe])}),Re.prototype=Ae):(Re=pe(function(Xe,be,rt,V){w(Xe,Re,Be);var Q,q,K,de=0,Ee=0;if(L(be)){if(!c(be))return $(be)?f(Re,be):W.call(Re,be);Q=be,Ee=A(rt,Pe);var ke=be.byteLength;if(V===void 0){if(ke%Pe||(q=ke-Ee)<0)throw Se(ie)}else if(ke<(q=E(V)*Pe)+Ee)throw Se(ie);K=q/Pe}else K=C(be),Q=new P(q=K*Pe);for(Ce(Xe,{buffer:Q,byteOffset:Ee,byteLength:q,length:K,view:new G(Q)});de<K;)he(Xe,de++)}),D&&D(Re,B),Ae=Re.prototype=U(N)),Ae.constructor!==Re&&_(Ae,"constructor",Re),ee&&_(Ae,ee,Be),ze[Be]=Re,o({global:!0,forced:Re!=Qe,sham:!X},ze),ne in Re||_(Re,ne,Pe),ne in Ae||_(Ae,ne,Pe),le(Be)}):m.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(e,m,d){var f=e("../internals/global"),t=e("../internals/fails"),c=e("../internals/check-correctness-of-iteration"),h=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,g=f.ArrayBuffer,p=f.Int8Array;m.exports=!h||!t(function(){p(1)})||!t(function(){new p(-1)})||!c(function(o){new p,new p(null),new p(1.5),new p(o)},!0)||t(function(){return new p(new g(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":59}],142:[function(e,m,d){var f=e("../internals/to-object"),t=e("../internals/to-length"),c=e("../internals/get-iterator-method"),h=e("../internals/is-array-iterator-method"),g=e("../internals/function-bind-context"),p=e("../internals/array-buffer-view-core").aTypedArrayConstructor;m.exports=function(o,n,s){var a,l,v,w,x,_,E=f(o),C=arguments.length,A=1<C?n:void 0,O=A!==void 0,I=c(E);if(I!=null&&!h(I))for(_=(x=I.call(E)).next,E=[];!(w=_.call(x)).done;)E.push(w.value);for(O&&2<C&&(A=g(A,s,2)),l=t(E.length),v=new(p(this))(l),a=0;a<l;a++)v[a]=O?A(E[a],a):E[a];return v}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(e,m,d){var f=0,t=Math.random();m.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++f+t).toString(36)}},{}],144:[function(e,m,d){var f=e("../internals/native-symbol");m.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(e,m,d){var f=e("../internals/well-known-symbol");d.f=f},{"../internals/well-known-symbol":146}],146:[function(e,m,d){var f=e("../internals/global"),t=e("../internals/shared"),c=e("../internals/has"),h=e("../internals/uid"),g=e("../internals/native-symbol"),p=e("../internals/use-symbol-as-uid"),o=t("wks"),n=f.Symbol,s=p?n:n&&n.withoutSetter||h;m.exports=function(a){return c(o,a)||(g&&c(n,a)?o[a]=n[a]:o[a]=s("Symbol."+a)),o[a]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(e,m,d){m.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],148:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/global"),c=e("../internals/array-buffer"),h=e("../internals/set-species"),g="ArrayBuffer",p=c[g];f({global:!0,forced:t[g]!==p},{ArrayBuffer:p}),h(g)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":59,"../internals/set-species":116}],149:[function(e,m,d){function f(A){if(!g(A))return!1;var O=A[w];return O!==void 0?!!O:h(A)}var t=e("../internals/export"),c=e("../internals/fails"),h=e("../internals/is-array"),g=e("../internals/is-object"),p=e("../internals/to-object"),o=e("../internals/to-length"),n=e("../internals/create-property"),s=e("../internals/array-species-create"),a=e("../internals/array-method-has-species-support"),l=e("../internals/well-known-symbol"),v=e("../internals/engine-v8-version"),w=l("isConcatSpreadable"),x=9007199254740991,_="Maximum allowed index exceeded",E=51<=v||!c(function(){var A=[];return A[w]=!1,A.concat()[0]!==A}),C=a("concat");t({target:"Array",proto:!0,forced:!E||!C},{concat:function(A){var O,I,R,L,U,D=p(this),H=s(D,0),W=0;for(O=-1,R=arguments.length;O<R;O++)if(f(U=O===-1?D:arguments[O])){if(L=o(U.length),x<W+L)throw TypeError(_);for(I=0;I<L;I++,W++)I in U&&n(H,W,U[I])}else{if(x<=W)throw TypeError(_);n(H,W++,U)}return H.length=W,H}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/array-iteration").every,c=e("../internals/array-method-is-strict"),h=e("../internals/array-method-uses-to-length"),g=c("every"),p=h("every");f({target:"Array",proto:!0,forced:!g||!p},{every:function(o,n){return t(this,o,1<arguments.length?n:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],151:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/array-fill"),c=e("../internals/add-to-unscopables");f({target:"Array",proto:!0},{fill:t}),c("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],152:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/array-iteration").filter,c=e("../internals/array-method-has-species-support"),h=e("../internals/array-method-uses-to-length"),g=c("filter"),p=h("filter");f({target:"Array",proto:!0,forced:!g||!p},{filter:function(o,n){return t(this,o,1<arguments.length?n:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],153:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/flatten-into-array"),c=e("../internals/to-object"),h=e("../internals/to-length"),g=e("../internals/a-function"),p=e("../internals/array-species-create");f({target:"Array",proto:!0},{flatMap:function(o,n){var s,a=c(this),l=h(a.length);return g(o),(s=p(a,0)).length=t(s,a,a,l,0,1,o,1<arguments.length?n:void 0),s}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":49,"../internals/flatten-into-array":52,"../internals/to-length":134,"../internals/to-object":135}],154:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/array-for-each");f({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})},{"../internals/array-for-each":16,"../internals/export":49}],155:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/array-from");f({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(c){Array.from(c)})},{from:t})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],156:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/array-includes").includes,c=e("../internals/add-to-unscopables");f({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(h,g){return t(this,h,1<arguments.length?g:void 0)}}),c("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],157:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/array-includes").indexOf,c=e("../internals/array-method-is-strict"),h=e("../internals/array-method-uses-to-length"),g=[].indexOf,p=!!g&&1/[1].indexOf(1,-0)<0,o=c("indexOf"),n=h("indexOf",{ACCESSORS:!0,1:0});f({target:"Array",proto:!0,forced:p||!o||!n},{indexOf:function(s,a){return p?g.apply(this,arguments)||0:t(this,s,1<arguments.length?a:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],158:[function(e,m,d){var f=e("../internals/to-indexed-object"),t=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),h=e("../internals/internal-state"),g=e("../internals/define-iterator"),p="Array Iterator",o=h.set,n=h.getterFor(p);m.exports=g(Array,"Array",function(s,a){o(this,{type:p,target:f(s),index:0,kind:a})},function(){var s=n(this),a=s.target,l=s.kind,v=s.index++;return!a||v>=a.length?{value:s.target=void 0,done:!0}:l=="keys"?{value:v,done:!1}:l=="values"?{value:a[v],done:!1}:{value:[v,a[v]],done:!1}},"values"),c.Arguments=c.Array,t("keys"),t("values"),t("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/indexed-object"),c=e("../internals/to-indexed-object"),h=e("../internals/array-method-is-strict"),g=[].join,p=t!=Object,o=h("join",",");f({target:"Array",proto:!0,forced:p||!o},{join:function(n){return g.call(c(this),n===void 0?",":n)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/array-last-index-of");f({target:"Array",proto:!0,forced:t!==[].lastIndexOf},{lastIndexOf:t})},{"../internals/array-last-index-of":20,"../internals/export":49}],161:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/array-iteration").map,c=e("../internals/array-method-has-species-support"),h=e("../internals/array-method-uses-to-length"),g=c("map"),p=h("map");f({target:"Array",proto:!0,forced:!g||!p},{map:function(o,n){return t(this,o,1<arguments.length?n:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/is-object"),c=e("../internals/is-array"),h=e("../internals/to-absolute-index"),g=e("../internals/to-length"),p=e("../internals/to-indexed-object"),o=e("../internals/create-property"),n=e("../internals/well-known-symbol"),s=e("../internals/array-method-has-species-support"),a=e("../internals/array-method-uses-to-length"),l=s("slice"),v=a("slice",{ACCESSORS:!0,0:0,1:2}),w=n("species"),x=[].slice,_=Math.max;f({target:"Array",proto:!0,forced:!l||!v},{slice:function(E,C){var A,O,I,R=p(this),L=g(R.length),U=h(E,L),D=h(C===void 0?L:C,L);if(c(R)&&(typeof(A=R.constructor)!="function"||A!==Array&&!c(A.prototype)?t(A)&&(A=A[w])===null&&(A=void 0):A=void 0,A===Array||A===void 0))return x.call(R,U,D);for(O=new(A===void 0?Array:A)(_(D-U,0)),I=0;U<D;U++,I++)U in R&&o(O,I,R[U]);return O.length=I,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/array-iteration").some,c=e("../internals/array-method-is-strict"),h=e("../internals/array-method-uses-to-length"),g=c("some"),p=h("some");f({target:"Array",proto:!0,forced:!g||!p},{some:function(o,n){return t(this,o,1<arguments.length?n:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],164:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/to-absolute-index"),c=e("../internals/to-integer"),h=e("../internals/to-length"),g=e("../internals/to-object"),p=e("../internals/array-species-create"),o=e("../internals/create-property"),n=e("../internals/array-method-has-species-support"),s=e("../internals/array-method-uses-to-length"),a=n("splice"),l=s("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,w=Math.min;f({target:"Array",proto:!0,forced:!a||!l},{splice:function(x,_){var E,C,A,O,I,R,L=g(this),U=h(L.length),D=t(x,U),H=arguments.length;if(H===0?E=C=0:C=H===1?(E=0,U-D):(E=H-2,w(v(c(_),0),U-D)),9007199254740991<U+E-C)throw TypeError("Maximum allowed length exceeded");for(A=p(L,C),O=0;O<C;O++)(I=D+O)in L&&o(A,O,L[I]);if(E<(A.length=C)){for(O=D;O<U-C;O++)R=O+E,(I=O+C)in L?L[R]=L[I]:delete L[R];for(O=U;U-C+E<O;O--)delete L[O-1]}else if(C<E)for(O=U-C;D<O;O--)R=O+E-1,(I=O+C-1)in L?L[R]=L[I]:delete L[R];for(O=0;O<E;O++)L[O+D]=arguments[O+2];return L.length=U-C+E,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(e,m,d){e("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],166:[function(e,m,d){var f=e("../internals/descriptors"),t=e("../internals/object-define-property").f,c=Function.prototype,h=c.toString,g=/^\s*function ([^ (]*)/;!f||"name"in c||t(c,"name",{configurable:!0,get:function(){try{return h.call(this).match(g)[1]}catch{return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":92}],167:[function(e,m,d){var f=e("../internals/collection"),t=e("../internals/collection-strong");m.exports=f("Map",function(c){return function(h){return c(this,arguments.length?h:void 0)}},t)},{"../internals/collection":31,"../internals/collection-strong":30}],168:[function(e,m,d){var f=e("../internals/export"),t=Math.hypot,c=Math.abs,h=Math.sqrt;f({target:"Math",stat:!0,forced:!!t&&t(1/0,NaN)!==1/0},{hypot:function(g,p){for(var o,n,s=0,a=0,l=arguments.length,v=0;a<l;)v<(o=c(arguments[a++]))?(s=s*(n=v/o)*n+1,v=o):s+=0<o?(n=o/v)*n:o;return v===1/0?1/0:v*h(s)}})},{"../internals/export":49}],169:[function(e,m,d){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":80}],170:[function(e,m,d){function f(D){var H,W,ae,le,J,ue,se,me,xe=s(D,!1);if(typeof xe=="string"&&2<xe.length){if((H=(xe=_(xe)).charCodeAt(0))===43||H===45){if((W=xe.charCodeAt(2))===88||W===120)return NaN}else if(H===48){switch(xe.charCodeAt(1)){case 66:case 98:ae=2,le=49;break;case 79:case 111:ae=8,le=55;break;default:return+xe}for(ue=(J=xe.slice(2)).length,se=0;se<ue;se++)if((me=J.charCodeAt(se))<48||le<me)return NaN;return parseInt(J,ae)}}return+xe}var t=e("../internals/descriptors"),c=e("../internals/global"),h=e("../internals/is-forced"),g=e("../internals/redefine"),p=e("../internals/has"),o=e("../internals/classof-raw"),n=e("../internals/inherit-if-required"),s=e("../internals/to-primitive"),a=e("../internals/fails"),l=e("../internals/object-create"),v=e("../internals/object-get-own-property-names").f,w=e("../internals/object-get-own-property-descriptor").f,x=e("../internals/object-define-property").f,_=e("../internals/string-trim").trim,E="Number",C=c[E],A=C.prototype,O=o(l(A))==E;if(h(E,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var I,R=function(D){var H=arguments.length<1?0:D,W=this;return W instanceof R&&(O?a(function(){A.valueOf.call(W)}):o(W)!=E)?n(new C(f(H)),W,R):f(H)},L=t?v(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),U=0;L.length>U;U++)p(C,I=L[U])&&!p(R,I)&&x(R,I,w(C,I));(R.prototype=A).constructor=R,g(c,E,R)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],171:[function(e,m,d){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":88}],172:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/to-integer"),c=e("../internals/this-number-value"),h=e("../internals/string-repeat"),g=e("../internals/fails"),p=1 .toFixed,o=Math.floor,n=function(s,a,l){return a===0?l:a%2==1?n(s,a-1,l*s):n(s*s,a/2,l)};f({target:"Number",proto:!0,forced:p&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!g(function(){p.call({})})},{toFixed:function(s){function a(L,U){for(var D=-1,H=U;++D<6;)H+=L*O[D],O[D]=H%1e7,H=o(H/1e7)}function l(L){for(var U=6,D=0;0<=--U;)D+=O[U],O[U]=o(D/L),D=D%L*1e7}function v(){for(var L=6,U="";0<=--L;)if(U!==""||L===0||O[L]!==0){var D=String(O[L]);U=U===""?D:U+h.call("0",7-D.length)+D}return U}var w,x,_,E,C=c(this),A=t(s),O=[0,0,0,0,0,0],I="",R="0";if(A<0||20<A)throw RangeError("Incorrect fraction digits");if(C!=C)return"NaN";if(C<=-1e21||1e21<=C)return String(C);if(C<0&&(I="-",C=-C),1e-21<C)if(x=(w=function(L){for(var U=0,D=L;4096<=D;)U+=12,D/=4096;for(;2<=D;)U+=1,D/=2;return U}(C*n(2,69,1))-69)<0?C*n(2,-w,1):C/n(2,w,1),x*=4503599627370496,0<(w=52-w)){for(a(0,x),_=A;7<=_;)a(1e7,0),_-=7;for(a(n(10,_,1),0),_=w-1;23<=_;)l(1<<23),_-=23;l(1<<_),a(1,1),l(2),R=v()}else a(0,x),a(1<<-w,0),R=v()+h.call("0",A);return R=0<A?I+((E=R.length)<=A?"0."+h.call("0",A-E)+R:R.slice(0,E-A)+"."+R.slice(E-A)):I+R}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],173:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/object-assign");f({target:"Object",stat:!0,forced:Object.assign!==t},{assign:t})},{"../internals/export":49,"../internals/object-assign":89}],174:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/fails"),c=e("../internals/object-get-own-property-names-external").f;f({target:"Object",stat:!0,forced:t(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:c})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":94}],175:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/fails"),c=e("../internals/to-object"),h=e("../internals/object-get-prototype-of"),g=e("../internals/correct-prototype-getter");f({target:"Object",stat:!0,forced:t(function(){h(1)}),sham:!g},{getPrototypeOf:function(p){return h(c(p))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/to-object"),c=e("../internals/object-keys");f({target:"Object",stat:!0,forced:e("../internals/fails")(function(){c(1)})},{keys:function(h){return c(t(h))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(e,m,d){var f=e("../internals/to-string-tag-support"),t=e("../internals/redefine"),c=e("../internals/object-to-string");f||t(Object.prototype,"toString",c,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(e,m,d){function f(Re){var Ae;return!(!O(Re)||typeof(Ae=Re.then)!="function")&&Ae}function t(Re,Ae,ze){if(!Ae.notified){Ae.notified=!0;var Xe=Ae.reactions;le(function(){for(var be=Ae.value,rt=Ae.state==1,V=0;Xe.length>V;){var Q,q,K,de=Xe[V++],Ee=rt?de.ok:de.fail,ke=de.resolve,He=de.reject,we=de.domain;try{Ee?(rt||(Ae.rejection===2&&Le(Re,Ae),Ae.rejection=1),Ee===!0?Q=be:(we&&we.enter(),Q=Ee(be),we&&(we.exit(),K=!0)),Q===de.promise?He(B("Promise-chain cycle")):(q=f(Q))?q.call(Q,ke,He):ke(Q)):He(be)}catch(Ke){we&&!K&&we.exit(),He(Ke)}}Ae.reactions=[],Ae.notified=!1,ze&&!Ae.rejection&&Be(Re,Ae)})}}function c(Re,Ae,ze){var Xe,be;pe?((Xe=N.createEvent("Event")).promise=Ae,Xe.reason=ze,Xe.initEvent(Re,!1,!0),v.dispatchEvent(Xe)):Xe={promise:Ae,reason:ze},(be=v["on"+Re])?be(Xe):Re===ge&&ue("Unhandled promise rejection",ze)}function h(Re,Ae,ze,Xe){return function(be){Re(Ae,ze,be,Xe)}}function g(Re,Ae,ze,Xe){Ae.done||(Ae.done=!0,Xe&&(Ae=Xe),Ae.value=ze,Ae.state=2,t(Re,Ae,!0))}var p,o,n,s,a=e("../internals/export"),l=e("../internals/is-pure"),v=e("../internals/global"),w=e("../internals/get-built-in"),x=e("../internals/native-promise-constructor"),_=e("../internals/redefine"),E=e("../internals/redefine-all"),C=e("../internals/set-to-string-tag"),A=e("../internals/set-species"),O=e("../internals/is-object"),I=e("../internals/a-function"),R=e("../internals/an-instance"),L=e("../internals/classof-raw"),U=e("../internals/inspect-source"),D=e("../internals/iterate"),H=e("../internals/check-correctness-of-iteration"),W=e("../internals/species-constructor"),ae=e("../internals/task").set,le=e("../internals/microtask"),J=e("../internals/promise-resolve"),ue=e("../internals/host-report-errors"),se=e("../internals/new-promise-capability"),me=e("../internals/perform"),xe=e("../internals/internal-state"),Ce=e("../internals/is-forced"),ve=e("../internals/well-known-symbol"),De=e("../internals/engine-v8-version"),_e=ve("species"),Se="Promise",P=xe.get,G=xe.set,X=xe.getterFor(Se),ee=x,B=v.TypeError,N=v.document,re=v.process,$=w("fetch"),ne=se.f,ie=ne,oe=L(re)=="process",pe=!!(N&&N.createEvent&&v.dispatchEvent),ge="unhandledrejection",he=Ce(Se,function(){if(U(ee)===String(ee)&&(De===66||!oe&&typeof PromiseRejectionEvent!="function")||l&&!ee.prototype.finally)return!0;if(51<=De&&/native code/.test(ee))return!1;function Re(ze){ze(function(){},function(){})}var Ae=ee.resolve(1);return(Ae.constructor={})[_e]=Re,!(Ae.then(function(){})instanceof Re)}),Pe=he||!H(function(Re){ee.all(Re).catch(function(){})}),Be=function(Re,Ae){ae.call(v,function(){var ze,Xe=Ae.value;if(Ue(Ae)&&(ze=me(function(){oe?re.emit("unhandledRejection",Xe,Re):c(ge,Re,Xe)}),Ae.rejection=oe||Ue(Ae)?2:1,ze.error))throw ze.value})},Ue=function(Re){return Re.rejection!==1&&!Re.parent},Le=function(Re,Ae){ae.call(v,function(){oe?re.emit("rejectionHandled",Re):c("rejectionhandled",Re,Ae.value)})},Qe=function(Re,Ae,ze,Xe){if(!Ae.done){Ae.done=!0,Xe&&(Ae=Xe);try{if(Re===ze)throw B("Promise can't be resolved itself");var be=f(ze);be?le(function(){var rt={done:!1};try{be.call(ze,h(Qe,Re,rt,Ae),h(g,Re,rt,Ae))}catch(V){g(Re,rt,V,Ae)}}):(Ae.value=ze,Ae.state=1,t(Re,Ae,!1))}catch(rt){g(Re,{done:!1},rt,Ae)}}};he&&(ee=function(Re){R(this,ee,Se),I(Re),p.call(this);var Ae=P(this);try{Re(h(Qe,this,Ae),h(g,this,Ae))}catch(ze){g(this,Ae,ze)}},(p=function(){G(this,{type:Se,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=E(ee.prototype,{then:function(Re,Ae){var ze=X(this),Xe=ne(W(this,ee));return Xe.ok=typeof Re!="function"||Re,Xe.fail=typeof Ae=="function"&&Ae,Xe.domain=oe?re.domain:void 0,ze.parent=!0,ze.reactions.push(Xe),ze.state!=0&&t(this,ze,!1),Xe.promise},catch:function(Re){return this.then(void 0,Re)}}),o=function(){var Re=new p,Ae=P(Re);this.promise=Re,this.resolve=h(Qe,Re,Ae),this.reject=h(g,Re,Ae)},se.f=ne=function(Re){return Re===ee||Re===n?new o(Re):ie(Re)},l||typeof x!="function"||(s=x.prototype.then,_(x.prototype,"then",function(Re,Ae){var ze=this;return new ee(function(Xe,be){s.call(ze,Xe,be)}).then(Re,Ae)},{unsafe:!0}),typeof $=="function"&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(Re){return J(ee,$.apply(v,arguments))}}))),a({global:!0,wrap:!0,forced:he},{Promise:ee}),C(ee,Se,!1,!0),A(Se),n=w(Se),a({target:Se,stat:!0,forced:he},{reject:function(Re){var Ae=ne(this);return Ae.reject.call(void 0,Re),Ae.promise}}),a({target:Se,stat:!0,forced:l||he},{resolve:function(Re){return J(l&&this===n?ee:this,Re)}}),a({target:Se,stat:!0,forced:Pe},{all:function(Re){var Ae=this,ze=ne(Ae),Xe=ze.resolve,be=ze.reject,rt=me(function(){var V=I(Ae.resolve),Q=[],q=0,K=1;D(Re,function(de){var Ee=q++,ke=!1;Q.push(void 0),K++,V.call(Ae,de).then(function(He){ke||(ke=!0,Q[Ee]=He,--K||Xe(Q))},be)}),--K||Xe(Q)});return rt.error&&be(rt.value),ze.promise},race:function(Re){var Ae=this,ze=ne(Ae),Xe=ze.reject,be=me(function(){var rt=I(Ae.resolve);D(Re,function(V){rt.call(Ae,V).then(ze.resolve,Xe)})});return be.error&&Xe(be.value),ze.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/get-built-in"),c=e("../internals/a-function"),h=e("../internals/an-object"),g=e("../internals/is-object"),p=e("../internals/object-create"),o=e("../internals/function-bind"),n=e("../internals/fails"),s=t("Reflect","construct"),a=n(function(){function w(){}return!(s(function(){},[],w)instanceof w)}),l=!n(function(){s(function(){})}),v=a||l;f({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(w,x,_){c(w),h(x);var E=arguments.length<3?w:c(_);if(l&&!a)return s(w,x,E);if(w==E){switch(x.length){case 0:return new w;case 1:return new w(x[0]);case 2:return new w(x[0],x[1]);case 3:return new w(x[0],x[1],x[2]);case 4:return new w(x[0],x[1],x[2],x[3])}var C=[null];return C.push.apply(C,x),new(o.apply(w,C))}var A=E.prototype,O=p(g(A)?A:Object.prototype),I=Function.apply.call(w,O,x);return g(I)?I:O}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(e,m,d){var f=e("../internals/descriptors"),t=e("../internals/global"),c=e("../internals/is-forced"),h=e("../internals/inherit-if-required"),g=e("../internals/object-define-property").f,p=e("../internals/object-get-own-property-names").f,o=e("../internals/is-regexp"),n=e("../internals/regexp-flags"),s=e("../internals/regexp-sticky-helpers"),a=e("../internals/redefine"),l=e("../internals/fails"),v=e("../internals/internal-state").set,w=e("../internals/set-species"),x=e("../internals/well-known-symbol")("match"),_=t.RegExp,E=_.prototype,C=/a/g,A=/a/g,O=new _(C)!==C,I=s.UNSUPPORTED_Y;if(f&&c("RegExp",!O||I||l(function(){return A[x]=!1,_(C)!=C||_(A)==A||_(C,"i")!="/a/i"}))){let H=function(W){W in R||g(R,W,{configurable:!0,get:function(){return _[W]},set:function(ae){_[W]=ae}})};for(var D=H,R=function(W,ae){var le,J=this instanceof R,ue=o(W),se=ae===void 0;if(!J&&ue&&W.constructor===R&&se)return W;O?ue&&!se&&(W=W.source):W instanceof R&&(se&&(ae=n.call(W)),W=W.source),I&&(le=!!ae&&-1<ae.indexOf("y"))&&(ae=ae.replace(/y/g,""));var me=h(O?new _(W,ae):_(W,ae),J?this:E,R);return I&&le&&v(me,{sticky:le}),me},L=p(_),U=0;L.length>U;)H(L[U++]);(E.constructor=R).prototype=E,a(t,"RegExp",R)}w("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/regexp-exec");f({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})},{"../internals/export":49,"../internals/regexp-exec":110}],182:[function(e,m,d){var f=e("../internals/redefine"),t=e("../internals/an-object"),c=e("../internals/fails"),h=e("../internals/regexp-flags"),g="toString",p=RegExp.prototype,o=p[g],n=c(function(){return o.call({source:"a",flags:"b"})!="/a/b"}),s=o.name!=g;(n||s)&&f(RegExp.prototype,g,function(){var a=t(this),l=String(a.source),v=a.flags;return"/"+l+"/"+String(v===void 0&&a instanceof RegExp&&!("flags"in p)?h.call(a):v)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(e,m,d){var f=e("../internals/collection"),t=e("../internals/collection-strong");m.exports=f("Set",function(c){return function(h){return c(this,arguments.length?h:void 0)}},t)},{"../internals/collection":31,"../internals/collection-strong":30}],184:[function(e,m,d){var f,t=e("../internals/export"),c=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/to-length"),g=e("../internals/not-a-regexp"),p=e("../internals/require-object-coercible"),o=e("../internals/correct-is-regexp-logic"),n=e("../internals/is-pure"),s="".endsWith,a=Math.min,l=o("endsWith");t({target:"String",proto:!0,forced:!!(n||l||!(f=c(String.prototype,"endsWith"))||f.writable)&&!l},{endsWith:function(v,w){var x=String(p(this));g(v);var _=1<arguments.length?w:void 0,E=h(x.length),C=_===void 0?E:a(h(_),E),A=String(v);return s?s.call(x,A,C):x.slice(C-A.length,C)===A}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible");f({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(h,g){return!!~String(c(this)).indexOf(t(h),1<arguments.length?g:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(e,m,d){var f=e("../internals/string-multibyte").charAt,t=e("../internals/internal-state"),c=e("../internals/define-iterator"),h="String Iterator",g=t.set,p=t.getterFor(h);c(String,"String",function(o){g(this,{type:h,string:String(o),index:0})},function(){var o,n=p(this),s=n.string,a=n.index;return a>=s.length?{value:void 0,done:!0}:(o=f(s,a),n.index+=o.length,{value:o,done:!1})})},{"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(e,m,d){var f=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),c=e("../internals/to-length"),h=e("../internals/require-object-coercible"),g=e("../internals/advance-string-index"),p=e("../internals/regexp-exec-abstract");f("match",1,function(o,n,s){return[function(a){var l=h(this),v=a==null?void 0:a[o];return v!==void 0?v.call(a,l):new RegExp(a)[o](String(l))},function(a){var l=s(n,a,this);if(l.done)return l.value;var v=t(a),w=String(this);if(!v.global)return p(v,w);for(var x,_=v.unicode,E=[],C=v.lastIndex=0;(x=p(v,w))!==null;){var A=String(x[0]);(E[C]=A)===""&&(v.lastIndex=g(w,c(v.lastIndex),_)),C++}return C===0?null:E}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(e,m,d){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":125}],189:[function(e,m,d){var f=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),c=e("../internals/to-object"),h=e("../internals/to-length"),g=e("../internals/to-integer"),p=e("../internals/require-object-coercible"),o=e("../internals/advance-string-index"),n=e("../internals/regexp-exec-abstract"),s=Math.max,a=Math.min,l=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,w=/\$([$&'`]|\d\d?)/g;f("replace",2,function(x,_,E,C){var A=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,O=C.REPLACE_KEEPS_$0,I=A?"$":"$0";return[function(L,U){var D=p(this),H=L==null?void 0:L[x];return H!==void 0?H.call(L,D,U):_.call(String(D),L,U)},function(L,U){if(!A&&O||typeof U=="string"&&U.indexOf(I)===-1){var D=E(_,L,this,U);if(D.done)return D.value}var H=t(L),W=String(this),ae=typeof U=="function";ae||(U=String(U));var le=H.global;if(le){var J=H.unicode;H.lastIndex=0}for(var ue=[];;){var se=n(H,W);if(se===null||(ue.push(se),!le))break;String(se[0])===""&&(H.lastIndex=o(W,h(H.lastIndex),J))}for(var me,xe="",Ce=0,ve=0;ve<ue.length;ve++){se=ue[ve];for(var De=String(se[0]),_e=s(a(g(se.index),W.length),0),Se=[],P=1;P<se.length;P++)Se.push((me=se[P])===void 0?me:String(me));var G=se.groups;if(ae){var X=[De].concat(Se,_e,W);G!==void 0&&X.push(G);var ee=String(U.apply(void 0,X))}else ee=R(De,W,_e,Se,G,U);Ce<=_e&&(xe+=W.slice(Ce,_e)+ee,Ce=_e+De.length)}return xe+W.slice(Ce)}];function R(L,U,D,H,W,ae){var le=D+L.length,J=H.length,ue=w;return W!==void 0&&(W=c(W),ue=v),_.call(ae,ue,function(se,me){var xe;switch(me.charAt(0)){case"$":return"$";case"&":return L;case"`":return U.slice(0,D);case"'":return U.slice(le);case"<":xe=W[me.slice(1,-1)];break;default:var Ce=+me;if(Ce==0)return se;if(J<Ce){var ve=l(Ce/10);return ve===0?se:ve<=J?H[ve-1]===void 0?me.charAt(1):H[ve-1]+me.charAt(1):se}xe=H[Ce-1]}return xe===void 0?"":xe})}})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(e,m,d){var f=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),c=e("../internals/require-object-coercible"),h=e("../internals/same-value"),g=e("../internals/regexp-exec-abstract");f("search",1,function(p,o,n){return[function(s){var a=c(this),l=s==null?void 0:s[p];return l!==void 0?l.call(s,a):new RegExp(s)[p](String(a))},function(s){var a=n(o,s,this);if(a.done)return a.value;var l=t(s),v=String(this),w=l.lastIndex;h(w,0)||(l.lastIndex=0);var x=g(l,v);return h(l.lastIndex,w)||(l.lastIndex=w),x===null?-1:x.index}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(e,m,d){var f=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/is-regexp"),c=e("../internals/an-object"),h=e("../internals/require-object-coercible"),g=e("../internals/species-constructor"),p=e("../internals/advance-string-index"),o=e("../internals/to-length"),n=e("../internals/regexp-exec-abstract"),s=e("../internals/regexp-exec"),a=e("../internals/fails"),l=[].push,v=Math.min,w=4294967295,x=!a(function(){return!RegExp(w,"y")});f("split",2,function(_,E,C){var A;return A="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(O,I){var R=String(h(this)),L=I===void 0?w:I>>>0;if(L==0)return[];if(O===void 0)return[R];if(!t(O))return E.call(R,O,L);for(var U,D,H,W=[],ae=(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.unicode?"u":"")+(O.sticky?"y":""),le=0,J=new RegExp(O.source,ae+"g");(U=s.call(J,R))&&!(le<(D=J.lastIndex)&&(W.push(R.slice(le,U.index)),1<U.length&&U.index<R.length&&l.apply(W,U.slice(1)),H=U[0].length,le=D,W.length>=L));)J.lastIndex===U.index&&J.lastIndex++;return le===R.length?!H&&J.test("")||W.push(""):W.push(R.slice(le)),W.length>L?W.slice(0,L):W}:"0".split(void 0,0).length?function(O,I){return O===void 0&&I===0?[]:E.call(this,O,I)}:E,[function(O,I){var R=h(this),L=O==null?void 0:O[_];return L!==void 0?L.call(O,R,I):A.call(String(R),O,I)},function(O,I){var R=C(A,O,this,I,A!==E);if(R.done)return R.value;var L=c(O),U=String(this),D=g(L,RegExp),H=L.unicode,W=(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(x?"y":"g"),ae=new D(x?L:"^(?:"+L.source+")",W),le=I===void 0?w:I>>>0;if(le==0)return[];if(U.length===0)return n(ae,U)===null?[U]:[];for(var J=0,ue=0,se=[];ue<U.length;){ae.lastIndex=x?ue:0;var me,xe=n(ae,x?U:U.slice(ue));if(xe===null||(me=v(o(ae.lastIndex+(x?0:ue)),U.length))===J)ue=p(U,ue,H);else{if(se.push(U.slice(J,ue)),se.length===le)return se;for(var Ce=1;Ce<=xe.length-1;Ce++)if(se.push(xe[Ce]),se.length===le)return se;ue=J=me}}return se.push(U.slice(J)),se}]},!x)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/create-html");f({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return t(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":122}],193:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/string-trim").trim;f({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return t(this)}})},{"../internals/export":49,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(e,m,d){var f=e("../internals/export"),t=e("../internals/descriptors"),c=e("../internals/global"),h=e("../internals/has"),g=e("../internals/is-object"),p=e("../internals/object-define-property").f,o=e("../internals/copy-constructor-properties"),n=c.Symbol;if(t&&typeof n=="function"&&(!("description"in n.prototype)||n().description!==void 0)){var s={},a=function(_){var E=arguments.length<1||_===void 0?void 0:String(_),C=this instanceof a?new n(E):E===void 0?n():n(E);return E===""&&(s[C]=!0),C};o(a,n);var l=a.prototype=n.prototype;l.constructor=a;var v=l.toString,w=String(n("test"))=="Symbol(test)",x=/^Symbol\((.*)\)[^)]+$/;p(l,"description",{configurable:!0,get:function(){var _=g(this)?this.valueOf():this,E=v.call(_);if(h(s,_))return"";var C=w?E.slice(7,-1):E.replace(x,"$1");return C===""?void 0:C}}),f({global:!0,forced:!0},{Symbol:a})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(e,m,d){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],196:[function(e,m,d){function f(q,K){var de=Be[q]=R(ie[B]);return re(de,{type:ee,tag:q,description:K}),s||(de.description=K),de}function t(q,K){E(q);var de=A(K),Ee=L(de).concat(Q(de));return G(Ee,function(ke){s&&!V.call(de,ke)||rt(q,ke,de[ke])}),q}function c(q,K){var de=A(q),Ee=O(K,!0);if(de!==ne||!w(Be,Ee)||w(Ue,Ee)){var ke=pe(de,Ee);return!ke||!w(Be,Ee)||w(de,X)&&de[X][Ee]||(ke.enumerable=!0),ke}}function h(q){var K=he(A(q)),de=[];return G(K,function(Ee){w(Be,Ee)||w(xe,Ee)||de.push(Ee)}),de}var g=e("../internals/export"),p=e("../internals/global"),o=e("../internals/get-built-in"),n=e("../internals/is-pure"),s=e("../internals/descriptors"),a=e("../internals/native-symbol"),l=e("../internals/use-symbol-as-uid"),v=e("../internals/fails"),w=e("../internals/has"),x=e("../internals/is-array"),_=e("../internals/is-object"),E=e("../internals/an-object"),C=e("../internals/to-object"),A=e("../internals/to-indexed-object"),O=e("../internals/to-primitive"),I=e("../internals/create-property-descriptor"),R=e("../internals/object-create"),L=e("../internals/object-keys"),U=e("../internals/object-get-own-property-names"),D=e("../internals/object-get-own-property-names-external"),H=e("../internals/object-get-own-property-symbols"),W=e("../internals/object-get-own-property-descriptor"),ae=e("../internals/object-define-property"),le=e("../internals/object-property-is-enumerable"),J=e("../internals/create-non-enumerable-property"),ue=e("../internals/redefine"),se=e("../internals/shared"),me=e("../internals/shared-key"),xe=e("../internals/hidden-keys"),Ce=e("../internals/uid"),ve=e("../internals/well-known-symbol"),De=e("../internals/well-known-symbol-wrapped"),_e=e("../internals/define-well-known-symbol"),Se=e("../internals/set-to-string-tag"),P=e("../internals/internal-state"),G=e("../internals/array-iteration").forEach,X=me("hidden"),ee="Symbol",B="prototype",N=ve("toPrimitive"),re=P.set,$=P.getterFor(ee),ne=Object[B],ie=p.Symbol,oe=o("JSON","stringify"),pe=W.f,ge=ae.f,he=D.f,Pe=le.f,Be=se("symbols"),Ue=se("op-symbols"),Le=se("string-to-symbol-registry"),Qe=se("symbol-to-string-registry"),Re=se("wks"),Ae=p.QObject,ze=!Ae||!Ae[B]||!Ae[B].findChild,Xe=s&&v(function(){return R(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!=7})?function(q,K,de){var Ee=pe(ne,K);Ee&&delete ne[K],ge(q,K,de),Ee&&q!==ne&&ge(ne,K,Ee)}:ge,be=l?function(q){return typeof q=="symbol"}:function(q){return Object(q)instanceof ie},rt=function(q,K,de){q===ne&&rt(Ue,K,de),E(q);var Ee=O(K,!0);return E(de),w(Be,Ee)?(de.enumerable?(w(q,X)&&q[X][Ee]&&(q[X][Ee]=!1),de=R(de,{enumerable:I(0,!1)})):(w(q,X)||ge(q,X,I(1,{})),q[X][Ee]=!0),Xe(q,Ee,de)):ge(q,Ee,de)},V=function(q){var K=O(q,!0),de=Pe.call(this,K);return!(this===ne&&w(Be,K)&&!w(Ue,K))&&(!(de||!w(this,K)||!w(Be,K)||w(this,X)&&this[X][K])||de)},Q=function(q){var K=q===ne,de=he(K?Ue:A(q)),Ee=[];return G(de,function(ke){!w(Be,ke)||K&&!w(ne,ke)||Ee.push(Be[ke])}),Ee};a||(ue((ie=function(q){if(this instanceof ie)throw TypeError("Symbol is not a constructor");var K=arguments.length&&q!==void 0?String(q):void 0,de=Ce(K),Ee=function(ke){this===ne&&Ee.call(Ue,ke),w(this,X)&&w(this[X],de)&&(this[X][de]=!1),Xe(this,de,I(1,ke))};return s&&ze&&Xe(ne,de,{configurable:!0,set:Ee}),f(de,K)})[B],"toString",function(){return $(this).tag}),ue(ie,"withoutSetter",function(q){return f(Ce(q),q)}),le.f=V,ae.f=rt,W.f=c,U.f=D.f=h,H.f=Q,De.f=function(q){return f(ve(q),q)},s&&(ge(ie[B],"description",{configurable:!0,get:function(){return $(this).description}}),n||ue(ne,"propertyIsEnumerable",V,{unsafe:!0}))),g({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:ie}),G(L(Re),function(q){_e(q)}),g({target:ee,stat:!0,forced:!a},{for:function(q){var K=String(q);if(w(Le,K))return Le[K];var de=ie(K);return Le[K]=de,Qe[de]=K,de},keyFor:function(q){if(!be(q))throw TypeError(q+" is not a symbol");if(w(Qe,q))return Qe[q]},useSetter:function(){ze=!0},useSimple:function(){ze=!1}}),g({target:"Object",stat:!0,forced:!a,sham:!s},{create:function(q,K){return K===void 0?R(q):t(R(q),K)},defineProperty:rt,defineProperties:t,getOwnPropertyDescriptor:c}),g({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:h,getOwnPropertySymbols:Q}),g({target:"Object",stat:!0,forced:v(function(){H.f(1)})},{getOwnPropertySymbols:function(q){return H.f(C(q))}}),oe&&g({target:"JSON",stat:!0,forced:!a||v(function(){var q=ie();return oe([q])!="[null]"||oe({a:q})!="{}"||oe(Object(q))!="{}"})},{stringify:function(q,K,de){for(var Ee,ke=[q],He=1;He<arguments.length;)ke.push(arguments[He++]);if((_(Ee=K)||q!==void 0)&&!be(q))return x(K)||(K=function(we,Ke){if(typeof Ee=="function"&&(Ke=Ee.call(this,we,Ke)),!be(Ke))return Ke}),ke[1]=K,oe.apply(null,ke)}}),ie[B][N]||J(ie[B],N,ie[B].valueOf),Se(ie,ee),xe[X]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-copy-within"),c=f.aTypedArray;(0,f.exportTypedArrayMethod)("copyWithin",function(h,g,p){return t.call(c(this),h,g,2<arguments.length?p:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").every,c=f.aTypedArray;(0,f.exportTypedArrayMethod)("every",function(h,g){return t(c(this),h,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-fill"),c=f.aTypedArray;(0,f.exportTypedArrayMethod)("fill",function(h){return t.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").filter,c=e("../internals/species-constructor"),h=f.aTypedArray,g=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("filter",function(p,o){for(var n=t(h(this),p,1<arguments.length?o:void 0),s=c(this,this.constructor),a=0,l=n.length,v=new(g(s))(l);a<l;)v[a]=n[a++];return v})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").findIndex,c=f.aTypedArray;(0,f.exportTypedArrayMethod)("findIndex",function(h,g){return t(c(this),h,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").find,c=f.aTypedArray;(0,f.exportTypedArrayMethod)("find",function(h,g){return t(c(this),h,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,m,d){e("../internals/typed-array-constructor")("Float32",function(f){return function(t,c,h){return f(this,t,c,h)}})},{"../internals/typed-array-constructor":140}],204:[function(e,m,d){e("../internals/typed-array-constructor")("Float64",function(f){return function(t,c,h){return f(this,t,c,h)}})},{"../internals/typed-array-constructor":140}],205:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").forEach,c=f.aTypedArray;(0,f.exportTypedArrayMethod)("forEach",function(h,g){t(c(this),h,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-includes").includes,c=f.aTypedArray;(0,f.exportTypedArrayMethod)("includes",function(h,g){return t(c(this),h,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-includes").indexOf,c=f.aTypedArray;(0,f.exportTypedArrayMethod)("indexOf",function(h,g){return t(c(this),h,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(e,m,d){e("../internals/typed-array-constructor")("Int16",function(f){return function(t,c,h){return f(this,t,c,h)}})},{"../internals/typed-array-constructor":140}],209:[function(e,m,d){e("../internals/typed-array-constructor")("Int32",function(f){return function(t,c,h){return f(this,t,c,h)}})},{"../internals/typed-array-constructor":140}],210:[function(e,m,d){function f(){return o.call(a(this))}var t=e("../internals/global"),c=e("../internals/array-buffer-view-core"),h=e("../modules/es.array.iterator"),g=e("../internals/well-known-symbol")("iterator"),p=t.Uint8Array,o=h.values,n=h.keys,s=h.entries,a=c.aTypedArray,l=c.exportTypedArrayMethod,v=p&&p.prototype[g],w=!!v&&(v.name=="values"||v.name==null);l("entries",function(){return s.call(a(this))}),l("keys",function(){return n.call(a(this))}),l("values",f,!w),l(g,f,!w)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=f.aTypedArray,c=f.exportTypedArrayMethod,h=[].join;c("join",function(g){return h.apply(t(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-last-index-of"),c=f.aTypedArray;(0,f.exportTypedArrayMethod)("lastIndexOf",function(h){return t.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").map,c=e("../internals/species-constructor"),h=f.aTypedArray,g=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("map",function(p,o){return t(h(this),p,1<arguments.length?o:void 0,function(n,s){return new(g(c(n,n.constructor)))(s)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-reduce").right,c=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduceRight",function(h,g){return t(c(this),h,arguments.length,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-reduce").left,c=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduce",function(h,g){return t(c(this),h,arguments.length,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=f.aTypedArray,c=f.exportTypedArrayMethod,h=Math.floor;c("reverse",function(){for(var g,p=t(this).length,o=h(p/2),n=0;n<o;)g=this[n],this[n++]=this[--p],this[p]=g;return this})},{"../internals/array-buffer-view-core":12}],217:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/to-length"),c=e("../internals/to-offset"),h=e("../internals/to-object"),g=e("../internals/fails"),p=f.aTypedArray;(0,f.exportTypedArrayMethod)("set",function(o,n){p(this);var s=c(1<arguments.length?n:void 0,1),a=this.length,l=h(o),v=t(l.length),w=0;if(a<v+s)throw RangeError("Wrong length");for(;w<v;)this[s+w]=l[w++]},g(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/species-constructor"),c=e("../internals/fails"),h=f.aTypedArray,g=f.aTypedArrayConstructor,p=f.exportTypedArrayMethod,o=[].slice;p("slice",function(n,s){for(var a=o.call(h(this),n,s),l=t(this,this.constructor),v=0,w=a.length,x=new(g(l))(w);v<w;)x[v]=a[v++];return x},c(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":121}],219:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").some,c=f.aTypedArray;(0,f.exportTypedArrayMethod)("some",function(h,g){return t(c(this),h,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=f.aTypedArray,c=f.exportTypedArrayMethod,h=[].sort;c("sort",function(g){return h.call(t(this),g)})},{"../internals/array-buffer-view-core":12}],221:[function(e,m,d){var f=e("../internals/array-buffer-view-core"),t=e("../internals/to-length"),c=e("../internals/to-absolute-index"),h=e("../internals/species-constructor"),g=f.aTypedArray;(0,f.exportTypedArrayMethod)("subarray",function(p,o){var n=g(this),s=n.length,a=c(p,s);return new(h(n,n.constructor))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,t((o===void 0?s:c(o,s))-a))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(e,m,d){var f=e("../internals/global"),t=e("../internals/array-buffer-view-core"),c=e("../internals/fails"),h=f.Int8Array,g=t.aTypedArray,p=t.exportTypedArrayMethod,o=[].toLocaleString,n=[].slice,s=!!h&&c(function(){o.call(new h(1))});p("toLocaleString",function(){return o.apply(s?n.call(g(this)):g(this),arguments)},c(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!c(function(){h.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],223:[function(e,m,d){var f=e("../internals/array-buffer-view-core").exportTypedArrayMethod,t=e("../internals/fails"),c=e("../internals/global").Uint8Array,h=c&&c.prototype||{},g=[].toString,p=[].join;t(function(){g.call({})})&&(g=function(){return p.call(this)}),f("toString",g,h.toString!=g)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],224:[function(e,m,d){e("../internals/typed-array-constructor")("Uint16",function(f){return function(t,c,h){return f(this,t,c,h)}})},{"../internals/typed-array-constructor":140}],225:[function(e,m,d){e("../internals/typed-array-constructor")("Uint32",function(f){return function(t,c,h){return f(this,t,c,h)}})},{"../internals/typed-array-constructor":140}],226:[function(e,m,d){e("../internals/typed-array-constructor")("Uint8",function(f){return function(t,c,h){return f(this,t,c,h)}})},{"../internals/typed-array-constructor":140}],227:[function(e,m,d){e("../internals/typed-array-constructor")("Uint8",function(f){return function(t,c,h){return f(this,t,c,h)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(e,m,d){var f=e("../internals/global"),t=e("../internals/dom-iterables"),c=e("../internals/array-for-each"),h=e("../internals/create-non-enumerable-property");for(var g in t){var p=f[g],o=p&&p.prototype;if(o&&o.forEach!==c)try{h(o,"forEach",c)}catch{o.forEach=c}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59}],229:[function(e,m,d){var f=e("../internals/global"),t=e("../internals/dom-iterables"),c=e("../modules/es.array.iterator"),h=e("../internals/create-non-enumerable-property"),g=e("../internals/well-known-symbol"),p=g("iterator"),o=g("toStringTag"),n=c.values;for(var s in t){var a=f[s],l=a&&a.prototype;if(l){if(l[p]!==n)try{h(l,p,n)}catch{l[p]=n}if(l[o]||h(l,o,s),t[s]){for(var v in c)if(l[v]!==c[v])try{h(l,v,c[v])}catch{l[v]=c[v]}}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],230:[function(e,m,d){e("../modules/es.array.iterator");function f(ee){try{return decodeURIComponent(ee)}catch{return ee}}function t(ee){var B,N=ee.replace(ve," "),re=4;try{return decodeURIComponent(N)}catch{for(;re;)N=N.replace((B=re--,De[B-1]||(De[B-1]=RegExp("((?:%[\\da-f]{2}){"+B+"})","gi"))),f);return N}}function c(ee){return Se[ee]}function h(ee){return encodeURIComponent(ee).replace(_e,c)}function g(ee,B){if(B)for(var N,re,$=B.split("&"),ne=0;ne<$.length;)(N=$[ne++]).length&&(re=N.split("="),ee.push({key:t(re.shift()),value:t(re.join("="))}))}function p(ee){this.entries.length=0,g(this.entries,ee)}function o(ee,B){if(ee<B)throw TypeError("Not enough arguments")}var n=e("../internals/export"),s=e("../internals/get-built-in"),a=e("../internals/native-url"),l=e("../internals/redefine"),v=e("../internals/redefine-all"),w=e("../internals/set-to-string-tag"),x=e("../internals/create-iterator-constructor"),_=e("../internals/internal-state"),E=e("../internals/an-instance"),C=e("../internals/has"),A=e("../internals/function-bind-context"),O=e("../internals/classof"),I=e("../internals/an-object"),R=e("../internals/is-object"),L=e("../internals/object-create"),U=e("../internals/create-property-descriptor"),D=e("../internals/get-iterator"),H=e("../internals/get-iterator-method"),W=e("../internals/well-known-symbol"),ae=s("fetch"),le=s("Headers"),J=W("iterator"),ue="URLSearchParams",se=ue+"Iterator",me=_.set,xe=_.getterFor(ue),Ce=_.getterFor(se),ve=/\+/g,De=Array(4),_e=/[!'()~]|%20/g,Se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=x(function(ee,B){me(this,{type:se,iterator:D(xe(ee).entries),kind:B})},"Iterator",function(){var ee=Ce(this),B=ee.kind,N=ee.iterator.next(),re=N.value;return N.done||(N.value=B==="keys"?re.key:B==="values"?re.value:[re.key,re.value]),N}),G=function(ee){E(this,G,ue);var B,N,re,$,ne,ie,oe,pe,ge,he=0<arguments.length?ee:void 0,Pe=[];if(me(this,{type:ue,entries:Pe,updateURL:function(){},updateSearchParams:p}),he!==void 0)if(R(he))if(typeof(B=H(he))=="function")for(re=(N=B.call(he)).next;!($=re.call(N)).done;){if((oe=(ie=(ne=D(I($.value))).next).call(ne)).done||(pe=ie.call(ne)).done||!ie.call(ne).done)throw TypeError("Expected sequence with length 2");Pe.push({key:oe.value+"",value:pe.value+""})}else for(ge in he)C(he,ge)&&Pe.push({key:ge,value:he[ge]+""});else g(Pe,typeof he=="string"?he.charAt(0)==="?"?he.slice(1):he:he+"")},X=G.prototype;v(X,{append:function(ee,B){o(arguments.length,2);var N=xe(this);N.entries.push({key:ee+"",value:B+""}),N.updateURL()},delete:function(ee){o(arguments.length,1);for(var B=xe(this),N=B.entries,re=ee+"",$=0;$<N.length;)N[$].key===re?N.splice($,1):$++;B.updateURL()},get:function(ee){o(arguments.length,1);for(var B=xe(this).entries,N=ee+"",re=0;re<B.length;re++)if(B[re].key===N)return B[re].value;return null},getAll:function(ee){o(arguments.length,1);for(var B=xe(this).entries,N=ee+"",re=[],$=0;$<B.length;$++)B[$].key===N&&re.push(B[$].value);return re},has:function(ee){o(arguments.length,1);for(var B=xe(this).entries,N=ee+"",re=0;re<B.length;)if(B[re++].key===N)return!0;return!1},set:function(ee,B){o(arguments.length,1);for(var N,re=xe(this),$=re.entries,ne=!1,ie=ee+"",oe=B+"",pe=0;pe<$.length;pe++)(N=$[pe]).key===ie&&(ne?$.splice(pe--,1):(ne=!0,N.value=oe));ne||$.push({key:ie,value:oe}),re.updateURL()},sort:function(){var ee,B,N,re=xe(this),$=re.entries,ne=$.slice();for(N=$.length=0;N<ne.length;N++){for(ee=ne[N],B=0;B<N;B++)if($[B].key>ee.key){$.splice(B,0,ee);break}B===N&&$.push(ee)}re.updateURL()},forEach:function(ee,B){for(var N,re=xe(this).entries,$=A(ee,1<arguments.length?B:void 0,3),ne=0;ne<re.length;)$((N=re[ne++]).value,N.key,this)},keys:function(){return new P(this,"keys")},values:function(){return new P(this,"values")},entries:function(){return new P(this,"entries")}},{enumerable:!0}),l(X,J,X.entries),l(X,"toString",function(){for(var ee,B=xe(this).entries,N=[],re=0;re<B.length;)ee=B[re++],N.push(h(ee.key)+"="+h(ee.value));return N.join("&")},{enumerable:!0}),w(G,ue),n({global:!0,forced:!a},{URLSearchParams:G}),a||typeof ae!="function"||typeof le!="function"||n({global:!0,enumerable:!0,forced:!0},{fetch:function(ee,B){var N,re,$,ne=[ee];return 1<arguments.length&&(R(N=B)&&(re=N.body,O(re)===ue&&(($=N.headers?new le(N.headers):new le).has("content-type")||$.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),N=L(N,{body:U(0,String(re)),headers:U(0,$)}))),ne.push(N)),ae.apply(this,ne)}}),m.exports={URLSearchParams:G,getState:xe}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(e,m,d){e("../modules/es.string.iterator");function f(fe,Ve){var Ze,qe,nt;if(Ve.charAt(0)=="["){if(Ve.charAt(Ve.length-1)!="]"||!(Ze=ie(Ve.slice(1,-1))))return Ce;fe.host=Ze}else if(Ue(fe)){if(Ve=L(Ve),B.test(Ve)||(Ze=ne(Ve))===null)return Ce;fe.host=Ze}else{if(N.test(Ve))return Ce;for(Ze="",qe=I(Ve),nt=0;nt<qe.length;nt++)Ze+=Pe(qe[nt],oe);fe.host=Ze}}function t(fe){var Ve,Ze,qe,nt;if(typeof fe=="number"){for(Ve=[],Ze=0;Ze<4;Ze++)Ve.unshift(fe%256),fe=se(fe/256);return Ve.join(".")}if(typeof fe!="object")return fe;for(Ve="",qe=function(Ge){for(var jt=null,Rt=1,Dt=null,wt=0,Je=0;Je<8;Je++)Ge[Je]!==0?(Rt<wt&&(jt=Dt,Rt=wt),Dt=null,wt=0):(Dt===null&&(Dt=Je),++wt);return Rt<wt&&(jt=Dt,Rt=wt),jt}(fe),Ze=0;Ze<8;Ze++)nt&&fe[Ze]===0||(nt=nt&&!1,qe===Ze?(Ve+=Ze?":":"::",nt=!0):(Ve+=fe[Ze].toString(16),Ze<7&&(Ve+=":")));return"["+Ve+"]"}function c(fe){return fe.username!=""||fe.password!=""}function h(fe){return!fe.host||fe.cannotBeABaseURL||fe.scheme=="file"}function g(fe,Ve){var Ze;return fe.length==2&&De.test(fe.charAt(0))&&((Ze=fe.charAt(1))==":"||!Ve&&Ze=="|")}function p(fe){var Ve;return 1<fe.length&&g(fe.slice(0,2))&&(fe.length==2||(Ve=fe.charAt(2))==="/"||Ve==="\\"||Ve==="?"||Ve==="#")}function o(fe){var Ve=fe.path,Ze=Ve.length;!Ze||fe.scheme=="file"&&Ze==1&&g(Ve[0],!0)||Ve.pop()}function n(fe,Ve,Ze,qe){var nt,Ge,jt,Rt,Dt,wt,Je=Ze||Le,zt=0,ct="",Xo=!1,eo=!1,$o=!1;for(Ze||(fe.scheme="",fe.username="",fe.password="",fe.host=null,fe.port=null,fe.path=[],fe.query=null,fe.fragment=null,fe.cannotBeABaseURL=!1,Ve=Ve.replace(re,"")),Ve=Ve.replace($,""),nt=I(Ve);zt<=nt.length;){switch(Ge=nt[zt],Je){case Le:if(!Ge||!De.test(Ge)){if(Ze)return xe;Je=Re;continue}ct+=Ge.toLowerCase(),Je=Qe;break;case Qe:if(Ge&&(_e.test(Ge)||Ge=="+"||Ge=="-"||Ge=="."))ct+=Ge.toLowerCase();else{if(Ge!=":"){if(Ze)return xe;ct="",Je=Re,zt=0;continue}if(Ze&&(Ue(fe)!=A(Be,ct)||ct=="file"&&(c(fe)||fe.port!==null)||fe.scheme=="file"&&!fe.host))return;if(fe.scheme=ct,Ze)return void(Ue(fe)&&Be[fe.scheme]==fe.port&&(fe.port=null));ct="",fe.scheme=="file"?Je=Ee:Ue(fe)&&qe&&qe.scheme==fe.scheme?Je=Ae:Ue(fe)?Je=rt:nt[zt+1]=="/"?(Je=ze,zt++):(fe.cannotBeABaseURL=!0,fe.path.push(""),Je=at)}break;case Re:if(!qe||qe.cannotBeABaseURL&&Ge!="#")return xe;if(qe.cannotBeABaseURL&&Ge=="#"){fe.scheme=qe.scheme,fe.path=qe.path.slice(),fe.query=qe.query,fe.fragment="",fe.cannotBeABaseURL=!0,Je=yt;break}Je=qe.scheme=="file"?Ee:Xe;continue;case Ae:if(Ge!="/"||nt[zt+1]!="/"){Je=Xe;continue}Je=V,zt++;break;case ze:if(Ge=="/"){Je=Q;break}Je=Ke;continue;case Xe:if(fe.scheme=qe.scheme,Ge==a)fe.username=qe.username,fe.password=qe.password,fe.host=qe.host,fe.port=qe.port,fe.path=qe.path.slice(),fe.query=qe.query;else if(Ge=="/"||Ge=="\\"&&Ue(fe))Je=be;else if(Ge=="?")fe.username=qe.username,fe.password=qe.password,fe.host=qe.host,fe.port=qe.port,fe.path=qe.path.slice(),fe.query="",Je=ht;else{if(Ge!="#"){fe.username=qe.username,fe.password=qe.password,fe.host=qe.host,fe.port=qe.port,fe.path=qe.path.slice(),fe.path.pop(),Je=Ke;continue}fe.username=qe.username,fe.password=qe.password,fe.host=qe.host,fe.port=qe.port,fe.path=qe.path.slice(),fe.query=qe.query,fe.fragment="",Je=yt}break;case be:if(!Ue(fe)||Ge!="/"&&Ge!="\\"){if(Ge!="/"){fe.username=qe.username,fe.password=qe.password,fe.host=qe.host,fe.port=qe.port,Je=Ke;continue}Je=Q}else Je=V;break;case rt:if(Je=V,Ge!="/"||ct.charAt(zt+1)!="/")continue;zt++;break;case V:if(Ge=="/"||Ge=="\\")break;Je=Q;continue;case Q:if(Ge=="@"){Xo&&(ct="%40"+ct),Xo=!0,jt=I(ct);for(var Ko=0;Ko<jt.length;Ko++){var Qo=jt[Ko];if(Qo!=":"||$o){var wo=Pe(Qo,he);$o?fe.password+=wo:fe.username+=wo}else $o=!0}ct=""}else if(Ge==a||Ge=="/"||Ge=="?"||Ge=="#"||Ge=="\\"&&Ue(fe)){if(Xo&&ct=="")return"Invalid authority";zt-=I(ct).length+1,ct="",Je=q}else ct+=Ge;break;case q:case K:if(Ze&&fe.scheme=="file"){Je=He;continue}if(Ge!=":"||eo){if(Ge==a||Ge=="/"||Ge=="?"||Ge=="#"||Ge=="\\"&&Ue(fe)){if(Ue(fe)&&ct=="")return Ce;if(Ze&&ct==""&&(c(fe)||fe.port!==null))return;if(Rt=f(fe,ct))return Rt;if(ct="",Je=we,Ze)return;continue}Ge=="["?eo=!0:Ge=="]"&&(eo=!1),ct+=Ge}else{if(ct=="")return Ce;if(Rt=f(fe,ct))return Rt;if(ct="",Je=de,Ze==K)return}break;case de:if(!Se.test(Ge)){if(Ge==a||Ge=="/"||Ge=="?"||Ge=="#"||Ge=="\\"&&Ue(fe)||Ze){if(ct!=""){var xo=parseInt(ct,10);if(65535<xo)return ve;fe.port=Ue(fe)&&xo===Be[fe.scheme]?null:xo,ct=""}if(Ze)return;Je=we;continue}return ve}ct+=Ge;break;case Ee:if(fe.scheme="file",Ge=="/"||Ge=="\\")Je=ke;else{if(!qe||qe.scheme!="file"){Je=Ke;continue}if(Ge==a)fe.host=qe.host,fe.path=qe.path.slice(),fe.query=qe.query;else if(Ge=="?")fe.host=qe.host,fe.path=qe.path.slice(),fe.query="",Je=ht;else{if(Ge!="#"){p(nt.slice(zt).join(""))||(fe.host=qe.host,fe.path=qe.path.slice(),o(fe)),Je=Ke;continue}fe.host=qe.host,fe.path=qe.path.slice(),fe.query=qe.query,fe.fragment="",Je=yt}}break;case ke:if(Ge=="/"||Ge=="\\"){Je=He;break}qe&&qe.scheme=="file"&&!p(nt.slice(zt).join(""))&&(g(qe.path[0],!0)?fe.path.push(qe.path[0]):fe.host=qe.host),Je=Ke;continue;case He:if(Ge==a||Ge=="/"||Ge=="\\"||Ge=="?"||Ge=="#"){if(!Ze&&g(ct))Je=Ke;else if(ct==""){if(fe.host="",Ze)return;Je=we}else{if(Rt=f(fe,ct))return Rt;if(fe.host=="localhost"&&(fe.host=""),Ze)return;ct="",Je=we}continue}ct+=Ge;break;case we:if(Ue(fe)){if(Je=Ke,Ge!="/"&&Ge!="\\")continue}else if(Ze||Ge!="?")if(Ze||Ge!="#"){if(Ge!=a&&(Je=Ke,Ge!="/"))continue}else fe.fragment="",Je=yt;else fe.query="",Je=ht;break;case Ke:if(Ge==a||Ge=="/"||Ge=="\\"&&Ue(fe)||!Ze&&(Ge=="?"||Ge=="#")){if((wt=(wt=ct).toLowerCase())===".."||wt==="%2e."||wt===".%2e"||wt==="%2e%2e"?(o(fe),Ge=="/"||Ge=="\\"&&Ue(fe)||fe.path.push("")):(Dt=ct)==="."||Dt.toLowerCase()==="%2e"?Ge=="/"||Ge=="\\"&&Ue(fe)||fe.path.push(""):(fe.scheme=="file"&&!fe.path.length&&g(ct)&&(fe.host&&(fe.host=""),ct=ct.charAt(0)+":"),fe.path.push(ct)),ct="",fe.scheme=="file"&&(Ge==a||Ge=="?"||Ge=="#"))for(;1<fe.path.length&&fe.path[0]==="";)fe.path.shift();Ge=="?"?(fe.query="",Je=ht):Ge=="#"&&(fe.fragment="",Je=yt)}else ct+=Pe(Ge,ge);break;case at:Ge=="?"?(fe.query="",Je=ht):Ge=="#"?(fe.fragment="",Je=yt):Ge!=a&&(fe.path[0]+=Pe(Ge,oe));break;case ht:Ze||Ge!="#"?Ge!=a&&(Ge=="'"&&Ue(fe)?fe.query+="%27":fe.query+=Ge=="#"?"%23":Pe(Ge,oe)):(fe.fragment="",Je=yt);break;case yt:Ge!=a&&(fe.fragment+=Pe(Ge,pe))}zt++}}function s(fe,Ve){return{get:fe,set:Ve,configurable:!0,enumerable:!0}}var a,l=e("../internals/export"),v=e("../internals/descriptors"),w=e("../internals/native-url"),x=e("../internals/global"),_=e("../internals/object-define-properties"),E=e("../internals/redefine"),C=e("../internals/an-instance"),A=e("../internals/has"),O=e("../internals/object-assign"),I=e("../internals/array-from"),R=e("../internals/string-multibyte").codeAt,L=e("../internals/string-punycode-to-ascii"),U=e("../internals/set-to-string-tag"),D=e("../modules/web.url-search-params"),H=e("../internals/internal-state"),W=x.URL,ae=D.URLSearchParams,le=D.getState,J=H.set,ue=H.getterFor("URL"),se=Math.floor,me=Math.pow,xe="Invalid scheme",Ce="Invalid host",ve="Invalid port",De=/[A-Za-z]/,_e=/[\d+-.A-Za-z]/,Se=/\d/,P=/^(0x|0X)/,G=/^[0-7]+$/,X=/^\d+$/,ee=/^[\dA-Fa-f]+$/,B=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,N=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,re=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,$=/[\u0009\u000A\u000D]/g,ne=function(fe){var Ve,Ze,qe,nt,Ge,jt,Rt,Dt=fe.split(".");if(Dt.length&&Dt[Dt.length-1]==""&&Dt.pop(),4<(Ve=Dt.length))return fe;for(Ze=[],qe=0;qe<Ve;qe++){if((nt=Dt[qe])=="")return fe;if(Ge=10,1<nt.length&&nt.charAt(0)=="0"&&(Ge=P.test(nt)?16:8,nt=nt.slice(Ge==8?1:2)),nt==="")jt=0;else{if(!(Ge==10?X:Ge==8?G:ee).test(nt))return fe;jt=parseInt(nt,Ge)}Ze.push(jt)}for(qe=0;qe<Ve;qe++)if(jt=Ze[qe],qe==Ve-1){if(jt>=me(256,5-Ve))return null}else if(255<jt)return null;for(Rt=Ze.pop(),qe=0;qe<Ze.length;qe++)Rt+=Ze[qe]*me(256,3-qe);return Rt},ie=function(fe){function Ve(){return fe.charAt(ct)}var Ze,qe,nt,Ge,jt,Rt,Dt,wt=[0,0,0,0,0,0,0,0],Je=0,zt=null,ct=0;if(Ve()==":"){if(fe.charAt(1)!=":")return;ct+=2,zt=++Je}for(;Ve();){if(Je==8)return;if(Ve()!=":"){for(Ze=qe=0;qe<4&&ee.test(Ve());)Ze=16*Ze+parseInt(Ve(),16),ct++,qe++;if(Ve()=="."){if(qe==0||(ct-=qe,6<Je))return;for(nt=0;Ve();){if(Ge=null,0<nt){if(!(Ve()=="."&&nt<4))return;ct++}if(!Se.test(Ve()))return;for(;Se.test(Ve());){if(jt=parseInt(Ve(),10),Ge===null)Ge=jt;else{if(Ge==0)return;Ge=10*Ge+jt}if(255<Ge)return;ct++}wt[Je]=256*wt[Je]+Ge,++nt!=2&&nt!=4||Je++}if(nt!=4)return;break}if(Ve()==":"){if(ct++,!Ve())return}else if(Ve())return;wt[Je++]=Ze}else{if(zt!==null)return;ct++,zt=++Je}}if(zt!==null)for(Rt=Je-zt,Je=7;Je!=0&&0<Rt;)Dt=wt[Je],wt[Je--]=wt[zt+Rt-1],wt[zt+--Rt]=Dt;else if(Je!=8)return;return wt},oe={},pe=O({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),ge=O({},pe,{"#":1,"?":1,"{":1,"}":1}),he=O({},ge,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pe=function(fe,Ve){var Ze=R(fe,0);return 32<Ze&&Ze<127&&!A(Ve,fe)?fe:encodeURIComponent(fe)},Be={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ue=function(fe){return A(Be,fe.scheme)},Le={},Qe={},Re={},Ae={},ze={},Xe={},be={},rt={},V={},Q={},q={},K={},de={},Ee={},ke={},He={},we={},Ke={},at={},ht={},yt={},ft=function(fe,Ve){var Ze,qe,nt=C(this,ft,"URL"),Ge=1<arguments.length?Ve:void 0,jt=String(fe),Rt=J(nt,{type:"URL"});if(Ge!==void 0){if(Ge instanceof ft)Ze=ue(Ge);else if(qe=n(Ze={},String(Ge)))throw TypeError(qe)}if(qe=n(Rt,jt,null,Ze))throw TypeError(qe);var Dt=Rt.searchParams=new ae,wt=le(Dt);wt.updateSearchParams(Rt.query),wt.updateURL=function(){Rt.query=String(Dt)||null},v||(nt.href=Mt.call(nt),nt.origin=on.call(nt),nt.protocol=xr.call(nt),nt.username=Xn.call(nt),nt.password=bn.call(nt),nt.host=sn.call(nt),nt.hostname=$n.call(nt),nt.port=Kn.call(nt),nt.pathname=Qn.call(nt),nt.search=Zn.call(nt),nt.searchParams=Jn.call(nt),nt.hash=bo.call(nt))},pt=ft.prototype,Mt=function(){var fe=ue(this),Ve=fe.scheme,Ze=fe.username,qe=fe.password,nt=fe.host,Ge=fe.port,jt=fe.path,Rt=fe.query,Dt=fe.fragment,wt=Ve+":";return nt!==null?(wt+="//",c(fe)&&(wt+=Ze+(qe?":"+qe:"")+"@"),wt+=t(nt),Ge!==null&&(wt+=":"+Ge)):Ve=="file"&&(wt+="//"),wt+=fe.cannotBeABaseURL?jt[0]:jt.length?"/"+jt.join("/"):"",Rt!==null&&(wt+="?"+Rt),Dt!==null&&(wt+="#"+Dt),wt},on=function(){var fe=ue(this),Ve=fe.scheme,Ze=fe.port;if(Ve=="blob")try{return new URL(Ve.path[0]).origin}catch{return"null"}return Ve!="file"&&Ue(fe)?Ve+"://"+t(fe.host)+(Ze!==null?":"+Ze:""):"null"},xr=function(){return ue(this).scheme+":"},Xn=function(){return ue(this).username},bn=function(){return ue(this).password},sn=function(){var fe=ue(this),Ve=fe.host,Ze=fe.port;return Ve===null?"":Ze===null?t(Ve):t(Ve)+":"+Ze},$n=function(){var fe=ue(this).host;return fe===null?"":t(fe)},Kn=function(){var fe=ue(this).port;return fe===null?"":String(fe)},Qn=function(){var fe=ue(this),Ve=fe.path;return fe.cannotBeABaseURL?Ve[0]:Ve.length?"/"+Ve.join("/"):""},Zn=function(){var fe=ue(this).query;return fe?"?"+fe:""},Jn=function(){return ue(this).searchParams},bo=function(){var fe=ue(this).fragment;return fe?"#"+fe:""};if(v&&_(pt,{href:s(Mt,function(fe){var Ve=ue(this),Ze=String(fe),qe=n(Ve,Ze);if(qe)throw TypeError(qe);le(Ve.searchParams).updateSearchParams(Ve.query)}),origin:s(on),protocol:s(xr,function(fe){var Ve=ue(this);n(Ve,String(fe)+":",Le)}),username:s(Xn,function(fe){var Ve=ue(this),Ze=I(String(fe));if(!h(Ve)){Ve.username="";for(var qe=0;qe<Ze.length;qe++)Ve.username+=Pe(Ze[qe],he)}}),password:s(bn,function(fe){var Ve=ue(this),Ze=I(String(fe));if(!h(Ve)){Ve.password="";for(var qe=0;qe<Ze.length;qe++)Ve.password+=Pe(Ze[qe],he)}}),host:s(sn,function(fe){var Ve=ue(this);Ve.cannotBeABaseURL||n(Ve,String(fe),q)}),hostname:s($n,function(fe){var Ve=ue(this);Ve.cannotBeABaseURL||n(Ve,String(fe),K)}),port:s(Kn,function(fe){var Ve=ue(this);h(Ve)||((fe=String(fe))==""?Ve.port=null:n(Ve,fe,de))}),pathname:s(Qn,function(fe){var Ve=ue(this);Ve.cannotBeABaseURL||(Ve.path=[],n(Ve,fe+"",we))}),search:s(Zn,function(fe){var Ve=ue(this);(fe=String(fe))==""?Ve.query=null:(fe.charAt(0)=="?"&&(fe=fe.slice(1)),Ve.query="",n(Ve,fe,ht)),le(Ve.searchParams).updateSearchParams(Ve.query)}),searchParams:s(Jn),hash:s(bo,function(fe){var Ve=ue(this);(fe=String(fe))!=""?(fe.charAt(0)=="#"&&(fe=fe.slice(1)),Ve.fragment="",n(Ve,fe,yt)):Ve.fragment=null})}),E(pt,"toJSON",function(){return Mt.call(this)},{enumerable:!0}),E(pt,"toString",function(){return Mt.call(this)},{enumerable:!0}),W){var Pn=W.createObjectURL,kn=W.revokeObjectURL;Pn&&E(ft,"createObjectURL",function(fe){return Pn.apply(W,arguments)}),kn&&E(ft,"revokeObjectURL",function(fe){return kn.apply(W,arguments)})}U(ft,"URL"),l({global:!0,forced:!w,sham:!v},{URL:ft})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":230}],232:[function(e,m,d){m.exports=e("./").polyfill()},{"./":233}],233:[function(e,m,d){(function(f,t){var c,h;c=this,h=function(){function g($){return typeof $=="function"}var p=Array.isArray?Array.isArray:function($){return Object.prototype.toString.call($)==="[object Array]"},o=0,n=void 0,s=void 0,a=function($,ne){C[o]=$,C[o+1]=ne,(o+=2)===2&&(s?s(A):U())},l=typeof window<"u"?window:void 0,v=l||{},w=v.MutationObserver||v.WebKitMutationObserver,x=typeof self>"u"&&f!==void 0&&{}.toString.call(f)==="[object process]",_=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function E(){var $=setTimeout;return function(){return $(A,1)}}var C=new Array(1e3);function A(){for(var $=0;$<o;$+=2)(0,C[$])(C[$+1]),C[$]=void 0,C[$+1]=void 0;o=0}var O,I,R,L,U=void 0;function D($,ne){var ie=this,oe=new this.constructor(ae);oe[W]===void 0&&X(oe);var pe=ie._state;if(pe){var ge=arguments[pe-1];a(function(){return P(pe,oe,ge,ie._result)})}else _e(ie,oe,$,ne);return oe}function H($){if($&&typeof $=="object"&&$.constructor===this)return $;var ne=new this(ae);return xe(ne,$),ne}U=x?function(){return f.nextTick(A)}:w?(I=0,R=new w(A),L=document.createTextNode(""),R.observe(L,{characterData:!0}),function(){L.data=I=++I%2}):_?((O=new MessageChannel).port1.onmessage=A,function(){return O.port2.postMessage(0)}):l===void 0&&typeof e=="function"?function(){try{var $=Function("return this")().require("vertx");return(n=$.runOnLoop||$.runOnContext)!==void 0?function(){n(A)}:E()}catch{return E()}}():E();var W=Math.random().toString(36).substring(2);function ae(){}var le=void 0,J=1,ue=2;function se($,ne,ie){a(function(oe){var pe=!1,ge=function(he,Pe,Be,Ue){try{he.call(Pe,Be,Ue)}catch(Le){return Le}}(ie,ne,function(he){pe||(pe=!0,ne!==he?xe(oe,he):ve(oe,he))},function(he){pe||(pe=!0,De(oe,he))},oe._label);!pe&&ge&&(pe=!0,De(oe,ge))},$)}function me($,ne,ie){var oe,pe;ne.constructor===$.constructor&&ie===D&&ne.constructor.resolve===H?(oe=$,(pe=ne)._state===J?ve(oe,pe._result):pe._state===ue?De(oe,pe._result):_e(pe,void 0,function(ge){return xe(oe,ge)},function(ge){return De(oe,ge)})):ie===void 0?ve($,ne):g(ie)?se($,ne,ie):ve($,ne)}function xe($,ne){if($===ne)De($,new TypeError("You cannot resolve a promise with itself"));else if(pe=typeof(oe=ne),oe===null||pe!="object"&&pe!="function")ve($,ne);else{var ie=void 0;try{ie=ne.then}catch(ge){return void De($,ge)}me($,ne,ie)}var oe,pe}function Ce($){$._onerror&&$._onerror($._result),Se($)}function ve($,ne){$._state===le&&($._result=ne,$._state=J,$._subscribers.length!==0&&a(Se,$))}function De($,ne){$._state===le&&($._state=ue,$._result=ne,a(Ce,$))}function _e($,ne,ie,oe){var pe=$._subscribers,ge=pe.length;$._onerror=null,pe[ge]=ne,pe[ge+J]=ie,pe[ge+ue]=oe,ge===0&&$._state&&a(Se,$)}function Se($){var ne=$._subscribers,ie=$._state;if(ne.length!==0){for(var oe=void 0,pe=void 0,ge=$._result,he=0;he<ne.length;he+=3)oe=ne[he],pe=ne[he+ie],oe?P(ie,oe,pe,ge):pe(ge);$._subscribers.length=0}}function P($,ne,ie,oe){var pe=g(ie),ge=void 0,he=void 0,Pe=!0;if(pe){try{ge=ie(oe)}catch(Be){Pe=!1,he=Be}if(ne===ge)return void De(ne,new TypeError("A promises callback cannot return that same promise."))}else ge=oe;ne._state!==le||(pe&&Pe?xe(ne,ge):Pe===!1?De(ne,he):$===J?ve(ne,ge):$===ue&&De(ne,ge))}var G=0;function X($){$[W]=G++,$._state=void 0,$._result=void 0,$._subscribers=[]}var ee=(B.prototype._enumerate=function($){for(var ne=0;this._state===le&&ne<$.length;ne++)this._eachEntry($[ne],ne)},B.prototype._eachEntry=function($,ne){var ie=this._instanceConstructor,oe=ie.resolve;if(oe===H){var pe=void 0,ge=void 0,he=!1;try{pe=$.then}catch(Be){he=!0,ge=Be}if(pe===D&&$._state!==le)this._settledAt($._state,ne,$._result);else if(typeof pe!="function")this._remaining--,this._result[ne]=$;else if(ie===N){var Pe=new ie(ae);he?De(Pe,ge):me(Pe,$,pe),this._willSettleAt(Pe,ne)}else this._willSettleAt(new ie(function(Be){return Be($)}),ne)}else this._willSettleAt(oe($),ne)},B.prototype._settledAt=function($,ne,ie){var oe=this.promise;oe._state===le&&(this._remaining--,$===ue?De(oe,ie):this._result[ne]=ie),this._remaining===0&&ve(oe,this._result)},B.prototype._willSettleAt=function($,ne){var ie=this;_e($,void 0,function(oe){return ie._settledAt(J,ne,oe)},function(oe){return ie._settledAt(ue,ne,oe)})},B);function B($,ne){this._instanceConstructor=$,this.promise=new $(ae),this.promise[W]||X(this.promise),p(ne)?(this.length=ne.length,this._remaining=ne.length,this._result=new Array(this.length),this.length===0?ve(this.promise,this._result):(this.length=this.length||0,this._enumerate(ne),this._remaining===0&&ve(this.promise,this._result))):De(this.promise,new Error("Array Methods must be provided an Array"))}var N=(re.prototype.catch=function($){return this.then(null,$)},re.prototype.finally=function($){var ne=this.constructor;return g($)?this.then(function(ie){return ne.resolve($()).then(function(){return ie})},function(ie){return ne.resolve($()).then(function(){throw ie})}):this.then($,$)},re);function re($){this[W]=G++,this._result=this._state=void 0,this._subscribers=[],ae!==$&&(typeof $!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof re?function(ne,ie){try{ie(function(oe){xe(ne,oe)},function(oe){De(ne,oe)})}catch(oe){De(ne,oe)}}(this,$):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return N.prototype.then=D,N.all=function($){return new ee(this,$).promise},N.race=function($){var ne=this;return p($)?new ne(function(ie,oe){for(var pe=$.length,ge=0;ge<pe;ge++)ne.resolve($[ge]).then(ie,oe)}):new ne(function(ie,oe){return oe(new TypeError("You must pass an array to race."))})},N.resolve=H,N.reject=function($){var ne=new this(ae);return De(ne,$),ne},N._setScheduler=function($){s=$},N._setAsap=function($){a=$},N._asap=a,N.polyfill=function(){var $=void 0;if(t!==void 0)$=t;else if(typeof self<"u")$=self;else try{$=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ne=$.Promise;if(ne){var ie=null;try{ie=Object.prototype.toString.call(ne.resolve())}catch{}if(ie==="[object Promise]"&&!ne.cast)return}$.Promise=N},N.Promise=N},typeof d=="object"&&m!==void 0?m.exports=h():c.ES6Promise=h()}).call(this,e("_process"),typeof ks<"u"?ks:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:241}],234:[function(e,m,d){(function(f,t){if(d!==void 0&&m!==void 0)t(d,m);else{var c={exports:{}};t(c.exports,c),f.fetchJsonp=c.exports}})(this,function(f,t){var c=5e3,h="callback";function g(o){try{delete window[o]}catch{window[o]=void 0}}function p(o){var n=document.getElementById(o);n&&document.getElementsByTagName("head")[0].removeChild(n)}t.exports=function(o){var n=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],s=o,a=n.timeout||c,l=n.jsonpCallback||h,v=void 0;return new Promise(function(w,x){var _=n.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),E=l+"_"+_;window[_]=function(A){w({ok:!0,json:function(){return Promise.resolve(A)}}),v&&clearTimeout(v),p(E),g(_)},s+=s.indexOf("?")===-1?"?":"&";var C=document.createElement("script");C.setAttribute("src",""+s+l+"="+_),n.charset&&C.setAttribute("charset",n.charset),C.id=E,document.getElementsByTagName("head")[0].appendChild(C),v=setTimeout(function(){x(new Error("JSONP request to "+o+" timed out")),g(_),p(E),window[_]=function(){g(_)}},a),C.onerror=function(){x(new Error("JSONP request to "+o+" failed")),g(_),p(E),v&&clearTimeout(v)}})}})},{}],235:[function(e,m,d){var f=f||function(t){if(!(t===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var c=t.document,h=function(){return t.URL||t.webkitURL||t},g=c.createElementNS("http://www.w3.org/1999/xhtml","a"),p="download"in g,o=/constructor/i.test(t.HTMLElement)||t.safari,n=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(x){(t.setImmediate||t.setTimeout)(function(){throw x},0)},a=function(x){setTimeout(function(){typeof x=="string"?h().revokeObjectURL(x):x.remove()},4e4)},l=function(x){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob([String.fromCharCode(65279),x],{type:x.type}):x},v=function(x,_,E){E||(x=l(x));function C(){(function(R,L,U){for(var D=(L=[].concat(L)).length;D--;){var H=R["on"+L[D]];if(typeof H=="function")try{H.call(R,U||R)}catch(W){s(W)}}})(O,"writestart progress write writeend".split(" "))}var A,O=this,I=x.type==="application/octet-stream";if(O.readyState=O.INIT,p)return A=h().createObjectURL(x),void setTimeout(function(){var R,L;g.href=A,g.download=_,R=g,L=new MouseEvent("click"),R.dispatchEvent(L),C(),a(A),O.readyState=O.DONE});(function(){if((n||I&&o)&&t.FileReader){var R=new FileReader;return R.onloadend=function(){var L=n?R.result:R.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(L,"_blank")||(t.location.href=L),L=void 0,O.readyState=O.DONE,C()},R.readAsDataURL(x),O.readyState=O.INIT}A=A||h().createObjectURL(x),I?t.location.href=A:t.open(A,"_blank")||(t.location.href=A),O.readyState=O.DONE,C(),a(A)})()},w=v.prototype;return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(x,_,E){return _=_||x.name||"download",E||(x=l(x)),navigator.msSaveOrOpenBlob(x,_)}:(w.abort=function(){},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,function(x,_,E){return new v(x,_||x.name||"download",E)})}}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);m!==void 0&&m.exports?m.exports.saveAs=f:r!=null},{}],236:[function(e,m,d){d.read=function(f,t,c,h,g){var p,o,n=8*g-h-1,s=(1<<n)-1,a=s>>1,l=-7,v=c?g-1:0,w=c?-1:1,x=f[t+v];for(v+=w,p=x&(1<<-l)-1,x>>=-l,l+=n;0<l;p=256*p+f[t+v],v+=w,l-=8);for(o=p&(1<<-l)-1,p>>=-l,l+=h;0<l;o=256*o+f[t+v],v+=w,l-=8);if(p===0)p=1-a;else{if(p===s)return o?NaN:1/0*(x?-1:1);o+=Math.pow(2,h),p-=a}return(x?-1:1)*o*Math.pow(2,p-h)},d.write=function(f,t,c,h,g,p){var o,n,s,a=8*p-g-1,l=(1<<a)-1,v=l>>1,w=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=h?0:p-1,_=h?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(n=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-o))<1&&(o--,s*=2),2<=(t+=1<=o+v?w/s:w*Math.pow(2,1-v))*s&&(o++,s/=2),l<=o+v?(n=0,o=l):1<=o+v?(n=(t*s-1)*Math.pow(2,g),o+=v):(n=t*Math.pow(2,v-1)*Math.pow(2,g),o=0));8<=g;f[c+x]=255&n,x+=_,n/=256,g-=8);for(o=o<<g|n,a+=g;0<a;f[c+x]=255&o,x+=_,o/=256,a-=8);f[c+x-_]|=128*E}},{}],237:[function(e,m,d){var f;function t(V,Q){return V.b===Q.b&&V.a===Q.a}function c(V,Q){return V.b<Q.b||V.b===Q.b&&V.a<=Q.a}function h(V,Q,q){var K=Q.b-V.b,de=q.b-Q.b;return 0<K+de?K<de?Q.a-V.a+K/(K+de)*(V.a-q.a):Q.a-q.a+de/(K+de)*(q.a-V.a):0}function g(V,Q,q){var K=Q.b-V.b,de=q.b-Q.b;return 0<K+de?(Q.a-q.a)*K+(Q.a-V.a)*de:0}function p(V,Q){return V.a<Q.a||V.a===Q.a&&V.b<=Q.b}function o(V,Q,q){var K=Q.a-V.a,de=q.a-Q.a;return 0<K+de?K<de?Q.b-V.b+K/(K+de)*(V.b-q.b):Q.b-q.b+de/(K+de)*(q.b-V.b):0}function n(V,Q,q){var K=Q.a-V.a,de=q.a-Q.a;return 0<K+de?(Q.b-q.b)*K+(Q.b-V.b)*de:0}function s(V,Q,q,K){return(V=V<0?0:V)<=(q=q<0?0:q)?q===0?(Q+K)/2:Q+V/(V+q)*(K-Q):K+q/(V+q)*(Q-K)}function a(V){var Q=_(V.b);return C(Q,V.c),C(Q.b,V.c),A(Q,V.a),Q}function l(V,Q){var q=!1,K=!1;V!==Q&&(Q.a!==V.a&&(K=!0,I(Q.a,V.a)),Q.d!==V.d&&(q=!0,R(Q.d,V.d)),E(Q,V),K||(C(Q,V.a),V.a.c=V),q||(A(Q,V.d),V.d.a=V))}function v(V){var Q=V.b,q=!1;V.d!==V.b.d&&(q=!0,R(V.d,V.b.d)),V.c===V?I(V.a,null):(V.b.d.a=oe(V),V.a.c=V.c,E(V,oe(V)),q||A(V,V.d)),Q.c===Q?(I(Q.a,null),R(Q.d,null)):(V.d.a=oe(Q),Q.a.c=Q.c,E(Q,oe(Q))),O(V)}function w(V){var Q=_(V),q=Q.b;return E(Q,V.e),Q.a=V.b.a,C(q,Q.a),Q.d=q.d=V.d,Q=Q.b,E(V.b,oe(V.b)),E(V.b,Q),V.b.a=Q.a,Q.b.a.c=Q.b,Q.b.d=V.b.d,Q.f=V.f,Q.b.f=V.b.f,Q}function x(V,Q){var q=!1,K=_(V),de=K.b;return Q.d!==V.d&&(q=!0,R(Q.d,V.d)),E(K,V.e),E(de,Q),K.a=V.b.a,de.a=Q.a,K.d=de.d=V.d,V.d.a=de,q||A(K,V.d),K}function _(V){var Q=new ie,q=new ie,K=V.b.h;return(((q.h=K).b.h=Q).h=V).b.h=q,Q.b=q,((Q.c=Q).e=q).b=Q,(q.c=q).e=Q}function E(V,Q){var q=V.c,K=Q.c;q.b.e=Q,(K.b.e=V).c=K,Q.c=q}function C(V,Q){var q=Q.f,K=new ge(Q,q);for(q.e=K,q=(Q.f=K).c=V;q.a=K,(q=q.c)!==V;);}function A(V,Q){var q=Q.d,K=new ne(Q,q);for(q.b=K,(Q.d=K).a=V,K.c=Q.c,q=V;q.d=K,(q=q.e)!==V;);}function O(V){var Q=V.h;V=V.b.h,(Q.b.h=V).b.h=Q}function I(V,Q){for(var q=V.c,K=q;K.a=Q,(K=K.c)!==q;);q=V.f,((K=V.e).f=q).e=K}function R(V,Q){for(var q=V.a,K=q;K.d=Q,(K=K.e)!==q;);q=V.d,((K=V.b).d=q).b=K}function L(V){var Q=0;return Math.abs(V[1])>Math.abs(V[0])&&(Q=1),Math.abs(V[2])>Math.abs(V[Q])&&(Q=2),Q}function U(V,Q){V.f+=Q.f,V.b.f+=Q.b.f}function D(V,Q,q){return V=V.a,Q=Q.a,q=q.a,Q.b.a===V?q.b.a===V?c(Q.a,q.a)?g(q.b.a,Q.a,q.a)<=0:0<=g(Q.b.a,q.a,Q.a):g(q.b.a,V,q.a)<=0:q.b.a===V?0<=g(Q.b.a,V,Q.a):(Q=h(Q.b.a,V,Q.a),(V=h(q.b.a,V,q.a))<=Q)}function H(V){V.a.i=null;var Q=V.e;Q.a.c=Q.c,Q.c.a=Q.a,V.e=null}function W(V,Q){v(V.a),V.c=!1,(V.a=Q).i=V}function ae(V){for(var Q=V.a.a;(V=rt(V)).a.a===Q;);return V.c&&(W(V,Q=x(be(V).a.b,V.a.e)),V=rt(V)),V}function le(V,Q,q){var K=new Xe;return K.a=q,K.e=ee(V.f,Q.e,K),q.i=K}function J(V,Q){switch(V.s){case 100130:return(1&Q)!=0;case 100131:return Q!==0;case 100132:return 0<Q;case 100133:return Q<0;case 100134:return 2<=Q||Q<=-2}return!1}function ue(V){var Q=V.a,q=Q.d;q.c=V.d,q.a=Q,H(V)}function se(V,Q,q){for(Q=(V=Q).a;V!==q;){V.c=!1;var K=be(V),de=K.a;if(de.a!==Q.a){if(!K.c){ue(V);break}W(K,de=x(Q.c.b,de.b))}Q.c!==de&&(l(oe(de),de),l(Q,de)),ue(V),Q=K.a,V=K}return Q}function me(V,Q,q,K,de,Ee){for(var ke=!0;le(V,Q,q.b),(q=q.c)!==K;);for(de===null&&(de=be(Q).a.b.c);(q=(K=be(Q)).a.b).a===de.a;)q.c!==de&&(l(oe(q),q),l(oe(de),q)),K.f=Q.f-q.f,K.d=J(V,K.f),Q.b=!0,!ke&&De(V,Q)&&(U(q,de),H(Q),v(de)),ke=!1,Q=K,de=q;Q.b=!0,Ee&&Se(V,Q)}function xe(V,Q,q,K,de){var Ee=[Q.g[0],Q.g[1],Q.g[2]];Q.d=null,Q.d=V.o&&V.o(Ee,q,K,V.c)||null,Q.d===null&&(de?V.n||($(V,100156),V.n=!0):Q.d=q[0])}function Ce(V,Q,q){var K=[null,null,null,null];K[0]=Q.a.d,K[1]=q.a.d,xe(V,Q.a,K,[.5,.5,0,0],!1),l(Q,q)}function ve(V,Q,q,K,de){var Ee=Math.abs(Q.b-V.b)+Math.abs(Q.a-V.a),ke=Math.abs(q.b-V.b)+Math.abs(q.a-V.a),He=de+1;K[de]=.5*ke/(Ee+ke),K[He]=.5*Ee/(Ee+ke),V.g[0]+=K[de]*Q.g[0]+K[He]*q.g[0],V.g[1]+=K[de]*Q.g[1]+K[He]*q.g[1],V.g[2]+=K[de]*Q.g[2]+K[He]*q.g[2]}function De(V,Q){var q=be(Q),K=Q.a,de=q.a;if(c(K.a,de.a)){if(0<g(de.b.a,K.a,de.a))return!1;if(t(K.a,de.a)){if(K.a!==de.a){q=V.e;var Ee=K.a.h;if(0<=Ee){var ke=(q=q.b).d,He=q.e,we=q.c,Ke=we[Ee];ke[Ke]=ke[q.a],(we[ke[Ke]]=Ke)<=--q.a&&(Ke<=1||c(He[ke[Ke>>1]],He[ke[Ke]])?Ae(q,Ke):ze(q,Ke)),He[Ee]=null,we[Ee]=q.b,q.b=Ee}else for(q.c[-(Ee+1)]=null;0<q.a&&q.c[q.d[q.a-1]]===null;)--q.a;Ce(V,oe(de),K)}}else w(de.b),l(K,oe(de)),Q.b=q.b=!0}else{if(g(K.b.a,de.a,K.a)<0)return!1;rt(Q).b=Q.b=!0,w(K.b),l(oe(de),K)}return!0}function _e(V,Q){var q=be(Q),K=Q.a,de=q.a,Ee=K.a,ke=de.a,He=K.b.a,we=de.b.a,Ke=new ge;if(g(He,V.a,Ee),g(we,V.a,ke),Ee===ke||Math.min(Ee.a,He.a)>Math.max(ke.a,we.a))return!1;if(c(Ee,ke)){if(0<g(we,Ee,ke))return!1}else if(g(He,ke,Ee)<0)return!1;var at,ht,yt=He,ft=Ee,pt=we,Mt=ke;if(c(yt,ft)||(at=yt,yt=ft,ft=at),c(pt,Mt)||(at=pt,pt=Mt,Mt=at),c(yt,pt)||(at=yt,yt=pt,pt=at,at=ft,ft=Mt,Mt=at),c(pt,ft)?c(ft,Mt)?((at=h(yt,pt,ft))+(ht=h(pt,ft,Mt))<0&&(at=-at,ht=-ht),Ke.b=s(at,pt.b,ht,ft.b)):((at=g(yt,pt,ft))+(ht=-g(yt,Mt,ft))<0&&(at=-at,ht=-ht),Ke.b=s(at,pt.b,ht,Mt.b)):Ke.b=(pt.b+ft.b)/2,p(yt,ft)||(at=yt,yt=ft,ft=at),p(pt,Mt)||(at=pt,pt=Mt,Mt=at),p(yt,pt)||(at=yt,yt=pt,pt=at,at=ft,ft=Mt,Mt=at),p(pt,ft)?p(ft,Mt)?((at=o(yt,pt,ft))+(ht=o(pt,ft,Mt))<0&&(at=-at,ht=-ht),Ke.a=s(at,pt.a,ht,ft.a)):((at=n(yt,pt,ft))+(ht=-n(yt,Mt,ft))<0&&(at=-at,ht=-ht),Ke.a=s(at,pt.a,ht,Mt.a)):Ke.a=(pt.a+ft.a)/2,c(Ke,V.a)&&(Ke.b=V.a.b,Ke.a=V.a.a),yt=c(Ee,ke)?Ee:ke,c(yt,Ke)&&(Ke.b=yt.b,Ke.a=yt.a),t(Ke,Ee)||t(Ke,ke))return De(V,Q),!1;if(!t(He,V.a)&&0<=g(He,V.a,Ke)||!t(we,V.a)&&g(we,V.a,Ke)<=0){if(we===V.a)return w(K.b),l(de.b,K),K=be(Q=ae(Q)).a,se(V,be(Q),q),me(V,Q,oe(K),K,K,!0),!0;if(He!==V.a)return 0<=g(He,V.a,Ke)&&(rt(Q).b=Q.b=!0,w(K.b),K.a.b=V.a.b,K.a.a=V.a.a),g(we,V.a,Ke)<=0&&(Q.b=q.b=!0,w(de.b),de.a.b=V.a.b,de.a.a=V.a.a),!1;for(w(de.b),l(K.e,oe(de)),ke=(Ee=q=Q).a.b.a;(Ee=rt(Ee)).a.b.a===ke;);return Ee=be(Q=Ee).a.b.c,q.a=oe(de),me(V,Q,(de=se(V,q,null)).c,K.b.c,Ee,!0),!0}return w(K.b),w(de.b),l(oe(de),K),K.a.b=Ke.b,K.a.a=Ke.a,K.a.h=Pe(V.e,K.a),K=K.a,de=[0,0,0,0],Ke=[Ee.d,He.d,ke.d,we.d],K.g[0]=K.g[1]=K.g[2]=0,ve(K,Ee,He,de,0),ve(K,ke,we,de,2),xe(V,K,Ke,de,!0),rt(Q).b=Q.b=q.b=!0,!1}function Se(V,Q){for(var q=be(Q);;){for(;q.b;)q=be(Q=q);if(!Q.b&&((Q=rt(q=Q))===null||!Q.b))break;Q.b=!1;var K,de=Q.a,Ee=q.a;if(K=de.b.a!==Ee.b.a)e:{var ke=be(K=Q),He=K.a,we=ke.a,Ke=void 0;if(c(He.b.a,we.b.a)){if(g(He.b.a,we.b.a,He.a)<0){K=!1;break e}rt(K).b=K.b=!0,Ke=w(He),l(we.b,Ke),Ke.d.c=K.d}else{if(0<g(we.b.a,He.b.a,we.a)){K=!1;break e}K.b=ke.b=!0,Ke=w(we),l(He.e,we.b),Ke.b.d.c=K.d}K=!0}if(K&&(q.c?(H(q),v(Ee),Ee=(q=be(Q)).a):Q.c&&(H(Q),v(de),de=(Q=rt(q)).a)),de.a!==Ee.a){if(de.b.a===Ee.b.a||Q.c||q.c||de.b.a!==V.a&&Ee.b.a!==V.a)De(V,Q);else if(_e(V,Q))break}de.a===Ee.a&&de.b.a===Ee.b.a&&(U(Ee,de),H(Q),v(de),Q=rt(q))}}function P(V,Q){for(var q=(V.a=Q).c;q.i===null;)if((q=q.c)===Q.c){q=V;var K=Q;(ke=new Xe).a=K.c.b;for(var de=(we=q.f).a;(de=de.a).b!==null&&!we.c(we.b,ke,de.b););var Ee=be(we=de.b),ke=we.a;if(de=Ee.a,g(ke.b.a,K,ke.a)===0)t((ke=we.a).a,K)||t(ke.b.a,K)||(w(ke.b),we.c&&(v(ke.c),we.c=!1),l(K.c,ke),P(q,K));else{var He=c(de.b.a,ke.b.a)?we:Ee;Ee=void 0,we.d||He.c?(Ee=He===we?x(K.c.b,ke.e):x(de.b.c.b,K.c).b,He.c?W(He,Ee):((we=le(ke=q,we,Ee)).f=rt(we).f+we.a.f,we.d=J(ke,we.f)),P(q,K)):me(q,we,K.c,K.c,null,!0)}return}if(we=(ke=be(q=ae(q.i))).a,(ke=se(V,ke,null)).c===we){ke=(we=ke).c,de=be(q),Ee=q.a,He=de.a;var we,Ke=!1;Ee.b.a!==He.b.a&&_e(V,q),t(Ee.a,V.a)&&(l(oe(ke),Ee),ke=be(q=ae(q)).a,se(V,be(q),de),Ke=!0),t(He.a,V.a)&&(l(we,oe(He)),we=se(V,de,null),Ke=!0),Ke?me(V,q,we.c,ke,ke,!0):(K=c(He.a,Ee.a)?oe(He):Ee,me(V,q,K=x(we.c.b,K),K.c,K.c,!1),K.b.i.c=!0,Se(V,q))}else me(V,q,ke.c,we,we,!0)}function G(V,Q){var q=new Xe,K=a(V.b);K.a.b=4e150,K.a.a=Q,K.b.a.b=-4e150,K.b.a.a=Q,V.a=K.b.a,q.a=K,q.f=0,q.d=!1,q.c=!1,q.h=!0,q.b=!1,K=ee(K=V.f,K.a,q),q.e=K}function X(V){this.a=new B,this.b=V,this.c=D}function ee(V,Q,q){for(;(Q=Q.c).b!==null&&!V.c(V.b,Q.b,q););return V=new B(q,Q.a,Q),Q.a.c=V,Q.a=V}function B(V,Q,q){this.b=V||null,this.a=Q||this,this.c=q||this}function N(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function re(V,Q){if(V.d!==Q)for(;V.d!==Q;)if(V.d<Q)switch(V.d){case 0:$(V,100151),V.u(null);break;case 1:$(V,100152),V.t()}else switch(V.d){case 2:$(V,100154),V.v();break;case 1:$(V,100153),V.w()}}function $(V,Q){V.p&&V.p(Q,V.c)}function ne(V,Q){this.b=V||this,this.d=Q||this,this.a=null,this.c=!1}function ie(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function oe(V){return V.b.e}function pe(){this.c=new ge,this.a=new ne,this.b=new ie,this.d=new ie,this.b.b=this.d,this.d.b=this.b}function ge(V,Q){this.e=V||this,this.f=Q||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function he(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ue}function Pe(V,Q){if(V.e){var q,K=V.b,de=++K.a;return 2*de>K.f&&(K.f*=2,K.c=Le(K.c,K.f+1)),K.b===0?q=de:(q=K.b,K.b=K.c[K.b]),K.e[q]=Q,K.c[q]=de,K.d[de]=q,K.h&&ze(K,de),q}return K=V.a++,V.c[K]=Q,-(K+1)}function Be(V){if(V.a===0)return Re(V.b);var Q=V.c[V.d[V.a-1]];if(V.b.a!==0&&c(Qe(V.b),Q))return Re(V.b);for(;--V.a,0<V.a&&V.c[V.d[V.a-1]]===null;);return Q}function Ue(){this.d=Le([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Le(V,Q){for(var q=Array(Q),K=0;K<V.length;K++)q[K]=V[K];for(;K<Q;K++)q[K]=0;return q}function Qe(V){return V.e[V.d[1]]}function Re(V){var Q=V.d,q=V.e,K=V.c,de=Q[1],Ee=q[de];return 0<V.a&&(Q[1]=Q[V.a],K[Q[1]]=1,q[de]=null,K[de]=V.b,V.b=de,0<--V.a&&Ae(V,1)),Ee}function Ae(V,Q){for(var q=V.d,K=V.e,de=V.c,Ee=Q,ke=q[Ee];;){var He=Ee<<1;He<V.a&&c(K[q[He+1]],K[q[He]])&&(He+=1);var we=q[He];if(He>V.a||c(K[ke],K[we])){de[q[Ee]=ke]=Ee;break}de[q[Ee]=we]=Ee,Ee=He}}function ze(V,Q){for(var q=V.d,K=V.e,de=V.c,Ee=Q,ke=q[Ee];;){var He=Ee>>1,we=q[He];if(He==0||c(K[we],K[ke])){de[q[Ee]=ke]=Ee;break}de[q[Ee]=we]=Ee,Ee=He}}function Xe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function be(V){return V.e.c.b}function rt(V){return V.e.a.b}(f=N.prototype).x=function(){re(this,0)},f.B=function(V,Q){switch(V){case 100142:return;case 100140:switch(Q){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Q)}break;case 100141:return void(this.m=!!Q);default:return void $(this,100900)}$(this,100901)},f.y=function(V){switch(V){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:$(this,100900)}return!1},f.A=function(V,Q,q){this.j[0]=V,this.j[1]=Q,this.j[2]=q},f.z=function(V,Q){var q=Q||null;switch(V){case 100100:case 100106:this.h=q;break;case 100104:case 100110:this.l=q;break;case 100101:case 100107:this.k=q;break;case 100102:case 100108:this.i=q;break;case 100103:case 100109:this.p=q;break;case 100105:case 100111:this.o=q;break;case 100112:this.r=q;break;default:$(this,100900)}},f.C=function(V,Q){var q=!1,K=[0,0,0];re(this,2);for(var de=0;de<3;++de){var Ee=V[de];Ee<-1e150&&(Ee=-1e150,q=!0),1e150<Ee&&(Ee=1e150,q=!0),K[de]=Ee}q&&$(this,100155),(q=this.q)===null?l(q=a(this.b),q.b):(w(q),q=q.e),q.a.d=Q,q.a.g[0]=K[0],q.a.g[1]=K[1],q.a.g[2]=K[2],q.f=1,q.b.f=-1,this.q=q},f.u=function(V){re(this,0),this.d=1,this.b=new pe,this.c=V},f.t=function(){re(this,1),this.d=2,this.q=null},f.v=function(){re(this,2),this.d=1},f.w=function(){re(this,1),this.d=0;var V,Q,q=!1,K=[we=this.j[0],de=this.j[1],ke=this.j[2]];if(we===0&&de===0&&ke===0){for(var de=[-2e150,-2e150,-2e150],Ee=[2e150,2e150,2e150],ke=[],He=[],we=(q=this.b.c).e;we!==q;we=we.e)for(var Ke=0;Ke<3;++Ke){var at=we.g[Ke];at<Ee[Ke]&&(Ee[Ke]=at,He[Ke]=we),at>de[Ke]&&(de[Ke]=at,ke[Ke]=we)}if(we=0,de[1]-Ee[1]>de[0]-Ee[0]&&(we=1),de[2]-Ee[2]>de[we]-Ee[we]&&(we=2),Ee[we]>=de[we])K[0]=0,K[1]=0,K[2]=1;else{for(de=0,Ee=He[we],ke=ke[we],He=[0,0,0],Ee=[Ee.g[0]-ke.g[0],Ee.g[1]-ke.g[1],Ee.g[2]-ke.g[2]],Ke=[0,0,0],we=q.e;we!==q;we=we.e)Ke[0]=we.g[0]-ke.g[0],Ke[1]=we.g[1]-ke.g[1],Ke[2]=we.g[2]-ke.g[2],He[0]=Ee[1]*Ke[2]-Ee[2]*Ke[1],He[1]=Ee[2]*Ke[0]-Ee[0]*Ke[2],He[2]=Ee[0]*Ke[1]-Ee[1]*Ke[0],de<(at=He[0]*He[0]+He[1]*He[1]+He[2]*He[2])&&(de=at,K[0]=He[0],K[1]=He[1],K[2]=He[2]);de<=0&&(K[0]=K[1]=K[2]=0,K[L(Ee)]=1)}q=!0}for(He=L(K),we=this.b.c,de=(He+1)%3,ke=(He+2)%3,He=0<K[He]?1:-1,K=we.e;K!==we;K=K.e)K.b=K.g[de],K.a=He*K.g[ke];if(q){for(K=0,we=(q=this.b.a).b;we!==q;we=we.b)if(!((de=we.a).f<=0))for(;K+=(de.a.b-de.b.a.b)*(de.a.a+de.b.a.a),(de=de.e)!==we.a;);if(K<0)for(q=(K=this.b.c).e;q!==K;q=q.e)q.a=-q.a}for(this.n=!1,we=(K=this.b.b).h;we!==K;we=q)q=we.h,de=we.e,t(we.a,we.b.a)&&we.e.e!==we&&(Ce(this,de,we),v(we),de=(we=de).e),de.e===we&&(de!==we&&(de!==q&&de!==q.b||(q=q.h),v(de)),we!==q&&we!==q.b||(q=q.h),v(we));for(this.e=K=new he,we=(q=this.b.c).e;we!==q;we=we.e)we.h=Pe(K,we);for(function(ht){ht.d=[];for(var yt=0;yt<ht.a;yt++)ht.d[yt]=yt;ht.d.sort(function(ft){return function(pt,Mt){return c(ft[pt],ft[Mt])?1:-1}}(ht.c)),ht.e=!0,function(ft){for(var pt=ft.a;1<=pt;--pt)Ae(ft,pt);ft.h=!0}(ht.b)}(K),this.f=new X(this),G(this,-4e150),G(this,4e150);(K=Be(this.e))!==null;){for(;;){e:if(we=this.e,we.a===0)q=Qe(we.b);else if(q=we.c[we.d[we.a-1]],we.b.a!==0&&(we=Qe(we.b),c(we,q))){q=we;break e}if(q===null||!t(q,K))break;q=Be(this.e),Ce(this,K.c,q.c)}P(this,K)}for(this.a=this.f.a.a.b.a.a,K=0;(q=this.f.a.a.b)!==null;)q.h||++K,H(q);for(this.f=null,(K=this.e).b=null,K.d=null,this.e=K.c=null,we=(K=this.b).a.b;we!==K.a;we=q)q=we.b,(we=we.a).e.e===we&&(U(we.c,we),v(we));if(!this.n){if(K=this.b,this.m)for(we=K.b.h;we!==K.b;we=q)q=we.h,we.b.d.c!==we.d.c?we.f=we.d.c?1:-1:v(we);else for(we=K.a.b;we!==K.a;we=q)if(q=we.b,we.c){for(we=we.a;c(we.b.a,we.a);we=we.c.b);for(;c(we.a,we.b.a);we=we.e);for(de=we.c.b,ke=void 0;we.e!==de;)if(c(we.b.a,de.a)){for(;de.e!==we&&(c((Q=de.e).b.a,Q.a)||g(de.a,de.b.a,de.e.b.a)<=0);)de=(ke=x(de.e,de)).b;de=de.c.b}else{for(;de.e!==we&&(c((V=we.c.b).a,V.b.a)||0<=g(we.b.a,we.a,we.c.b.a));)we=(ke=x(we,we.c.b)).b;we=we.e}for(;de.e.e!==we;)de=(ke=x(de.e,de)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(q=(K=this.b).a.b;q!==K.a;q=q.b)if(q.c){for(this.h&&this.h(2,this.c),we=q.a;this.k&&this.k(we.a.d,this.c),(we=we.e)!==q.a;);this.i&&this.i(this.c)}}else{for(K=this.b,q=!!this.l,we=!1,de=-1,ke=K.a.d;ke!==K.a;ke=ke.d)if(ke.c)for(we||(this.h&&this.h(4,this.c),we=!0),He=ke.a;q&&de!==(Ee=He.b.d.c?0:1)&&(de=Ee,this.l&&this.l(!!de,this.c)),this.k&&this.k(He.a.d,this.c),(He=He.e)!==ke.a;);we&&this.i&&this.i(this.c)}if(this.r){for(we=(K=this.b).a.b;we!==K.a;we=q)if(q=we.b,!we.c){for(ke=(de=we.a).e,He=void 0;ke=(He=ke).e,(He.d=null)===He.b.d&&(He.c===He?I(He.a,null):(He.a.c=He.c,E(He,oe(He))),(Ee=He.b).c===Ee?I(Ee.a,null):(Ee.a.c=Ee.c,E(Ee,oe(Ee))),O(He)),He!==de;);de=we.d,((we=we.b).d=de).b=we}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:N,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},N.prototype.gluDeleteTess=N.prototype.x,N.prototype.gluTessProperty=N.prototype.B,N.prototype.gluGetTessProperty=N.prototype.y,N.prototype.gluTessNormal=N.prototype.A,N.prototype.gluTessCallback=N.prototype.z,N.prototype.gluTessVertex=N.prototype.C,N.prototype.gluTessBeginPolygon=N.prototype.u,N.prototype.gluTessBeginContour=N.prototype.t,N.prototype.gluTessEndContour=N.prototype.v,N.prototype.gluTessEndPolygon=N.prototype.w,m!==void 0&&(m.exports=this.libtess)},{}],238:[function(e,m,d){function f(t,c,h,g){for(var p=t[c++],o=1<<p,n=1+o,s=1+n,a=p+1,l=(1<<a)-1,v=0,w=0,x=0,_=t[c++],E=new Int32Array(4096),C=null;;){for(;v<16&&_!==0;)w|=t[c++]<<v,v+=8,_===1?_=t[c++]:--_;if(v<a)break;var A=w&l;if(w>>=a,v-=a,A!=o){if(A==n)break;for(var O=A<s?A:C,I=0,R=O;o<R;)R=E[R]>>8,++I;var L=R;if(g<x+I+(O!==A?1:0))return void console.log("Warning, gif stream longer than expected.");h[x++]=L;var U=x+=I;for(O!==A&&(h[x++]=L),R=O;I--;)R=E[R],h[--U]=255&R,R>>=8;C!==null&&s<4096&&(E[s++]=C<<8|L,l+1<=s&&a<12&&(++a,l=l<<1|1)),C=A}else s=1+n,l=(1<<(a=p+1))-1,C=null}return x!==g&&console.log("Warning, gif stream shorter than expected."),h}try{d.GifWriter=function(t,c,h,g){var p=0,o=(g=g===void 0?{}:g).loop===void 0?null:g.loop,n=g.palette===void 0?null:g.palette;if(c<=0||h<=0||65535<c||65535<h)throw new Error("Width/Height invalid.");function s(C){var A=C.length;if(A<2||256<A||A&A-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return A}t[p++]=71,t[p++]=73,t[p++]=70,t[p++]=56,t[p++]=57,t[p++]=97;var a=0,l=0;if(n!==null){for(var v=s(n);v>>=1;)++a;if(v=1<<a,--a,g.background!==void 0){if(v<=(l=g.background))throw new Error("Background index out of range.");if(l===0)throw new Error("Background index explicitly passed as 0.")}}if(t[p++]=255&c,t[p++]=c>>8&255,t[p++]=255&h,t[p++]=h>>8&255,t[p++]=(n!==null?128:0)|a,t[p++]=l,t[p++]=0,n!==null)for(var w=0,x=n.length;w<x;++w){var _=n[w];t[p++]=_>>16&255,t[p++]=_>>8&255,t[p++]=255&_}if(o!==null){if(o<0||65535<o)throw new Error("Loop count invalid.");t[p++]=33,t[p++]=255,t[p++]=11,t[p++]=78,t[p++]=69,t[p++]=84,t[p++]=83,t[p++]=67,t[p++]=65,t[p++]=80,t[p++]=69,t[p++]=50,t[p++]=46,t[p++]=48,t[p++]=3,t[p++]=1,t[p++]=255&o,t[p++]=o>>8&255,t[p++]=0}var E=!1;this.addFrame=function(C,A,O,I,R,L){if(E===!0&&(--p,E=!1),L=L===void 0?{}:L,C<0||A<0||65535<C||65535<A)throw new Error("x/y invalid.");if(O<=0||I<=0||65535<O||65535<I)throw new Error("Width/Height invalid.");if(R.length<O*I)throw new Error("Not enough pixels for the frame size.");var U=!0,D=L.palette;if(D==null&&(U=!1,D=n),D==null)throw new Error("Must supply either a local or global palette.");for(var H=s(D),W=0;H>>=1;)++W;H=1<<W;var ae=L.delay===void 0?0:L.delay,le=L.disposal===void 0?0:L.disposal;if(le<0||3<le)throw new Error("Disposal out of range.");var J=!1,ue=0;if(L.transparent!==void 0&&L.transparent!==null&&(J=!0,(ue=L.transparent)<0||H<=ue))throw new Error("Transparent color index.");if(le===0&&!J&&ae===0||(t[p++]=33,t[p++]=249,t[p++]=4,t[p++]=le<<2|(J===!0?1:0),t[p++]=255&ae,t[p++]=ae>>8&255,t[p++]=ue,t[p++]=0),t[p++]=44,t[p++]=255&C,t[p++]=C>>8&255,t[p++]=255&A,t[p++]=A>>8&255,t[p++]=255&O,t[p++]=O>>8&255,t[p++]=255&I,t[p++]=I>>8&255,t[p++]=U===!0?128|W-1:0,U===!0)for(var se=0,me=D.length;se<me;++se){var xe=D[se];t[p++]=xe>>16&255,t[p++]=xe>>8&255,t[p++]=255&xe}return p=function(Ce,ve,De,_e){Ce[ve++]=De;var Se=ve++,P=1<<De,G=P-1,X=1+P,ee=1+X,B=De+1,N=0,re=0;function $(Ue){for(;Ue<=N;)Ce[ve++]=255&re,re>>=8,N-=8,ve===Se+256&&(Ce[Se]=255,Se=ve++)}function ne(Ue){re|=Ue<<N,N+=B,$(8)}var ie=_e[0]&G,oe={};ne(P);for(var pe=1,ge=_e.length;pe<ge;++pe){var he=_e[pe]&G,Pe=ie<<8|he,Be=oe[Pe];if(Be===void 0){for(re|=ie<<N,N+=B;8<=N;)Ce[ve++]=255&re,re>>=8,N-=8,ve===Se+256&&(Ce[Se]=255,Se=ve++);ee===4096?(ne(P),ee=1+X,B=De+1,oe={}):(1<<B<=ee&&++B,oe[Pe]=ee++),ie=he}else ie=Be}return ne(ie),ne(X),$(1),Se+1===ve?Ce[Se]=0:(Ce[Se]=ve-Se-1,Ce[ve++]=0),ve}(t,p,W<2?2:W,R)},this.end=function(){return E===!1&&(t[p++]=59,E=!0),p},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(C){t=C},this.getOutputBufferPosition=function(){return p},this.setOutputBufferPosition=function(C){p=C}},d.GifReader=function(t){var c=0;if(t[c++]!==71||t[c++]!==73||t[c++]!==70||t[c++]!==56||(t[c++]+1&253)!=56||t[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var h=t[c++]|t[c++]<<8,g=t[c++]|t[c++]<<8,p=t[c++],o=p>>7,n=1<<1+(7&p);t[c++],t[c++];var s=null,a=null;o&&(s=c,c+=3*(a=n));var l=!0,v=[],w=0,x=null,_=0,E=null;for(this.width=h,this.height=g;l&&c<t.length;)switch(t[c++]){case 33:switch(t[c++]){case 255:if(t[c]!==11||t[c+1]==78&&t[c+2]==69&&t[c+3]==84&&t[c+4]==83&&t[c+5]==67&&t[c+6]==65&&t[c+7]==80&&t[c+8]==69&&t[c+9]==50&&t[c+10]==46&&t[c+11]==48&&t[c+12]==3&&t[c+13]==1&&t[c+16]==0)c+=14,E=t[c++]|t[c++]<<8,c++;else for(c+=12;;){if(!(0<=(J=t[c++])))throw Error("Invalid block size");if(J===0)break;c+=J}break;case 249:if(t[c++]!==4||t[c+4]!==0)throw new Error("Invalid graphics extension block.");var C=t[c++];w=t[c++]|t[c++]<<8,x=t[c++],!(1&C)&&(x=null),_=C>>2&7,c++;break;case 254:for(;;){if(!(0<=(J=t[c++])))throw Error("Invalid block size");if(J===0)break;c+=J}break;default:throw new Error("Unknown graphic control label: 0x"+t[c-1].toString(16))}break;case 44:var A=t[c++]|t[c++]<<8,O=t[c++]|t[c++]<<8,I=t[c++]|t[c++]<<8,R=t[c++]|t[c++]<<8,L=t[c++],U=L>>6&1,D=1<<1+(7&L),H=s,W=a,ae=!1;L>>7&&(ae=!0,H=c,c+=3*(W=D));var le=c;for(c++;;){var J;if(!(0<=(J=t[c++])))throw Error("Invalid block size");if(J===0)break;c+=J}v.push({x:A,y:O,width:I,height:R,has_local_palette:ae,palette_offset:H,palette_size:W,data_offset:le,data_length:c-le,transparent_index:x,interlaced:!!U,delay:w,disposal:_});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[c-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return E},this.frameInfo=function(ue){if(ue<0||ue>=v.length)throw new Error("Frame index out of range.");return v[ue]},this.decodeAndBlitFrameBGRA=function(ue,se){var me=this.frameInfo(ue),xe=me.width*me.height,Ce=new Uint8Array(xe);f(t,me.data_offset,Ce,xe);var ve=me.palette_offset,De=me.transparent_index;De===null&&(De=256);var _e=me.width,Se=h-_e,P=_e,G=4*(me.y*h+me.x),X=4*((me.y+me.height)*h+me.x),ee=G,B=4*Se;me.interlaced===!0&&(B+=4*h*7);for(var N=8,re=0,$=Ce.length;re<$;++re){var ne=Ce[re];if(P===0&&(P=_e,X<=(ee+=B)&&(B=4*Se+4*h*(N-1),ee=G+(_e+Se)*(N<<1),N>>=1)),ne===De)ee+=4;else{var ie=t[ve+3*ne],oe=t[ve+3*ne+1],pe=t[ve+3*ne+2];se[ee++]=pe,se[ee++]=oe,se[ee++]=ie,se[ee++]=255}--P}},this.decodeAndBlitFrameRGBA=function(ue,se){var me=this.frameInfo(ue),xe=me.width*me.height,Ce=new Uint8Array(xe);f(t,me.data_offset,Ce,xe);var ve=me.palette_offset,De=me.transparent_index;De===null&&(De=256);var _e=me.width,Se=h-_e,P=_e,G=4*(me.y*h+me.x),X=4*((me.y+me.height)*h+me.x),ee=G,B=4*Se;me.interlaced===!0&&(B+=4*h*7);for(var N=8,re=0,$=Ce.length;re<$;++re){var ne=Ce[re];if(P===0&&(P=_e,X<=(ee+=B)&&(B=4*Se+4*h*(N-1),ee=G+(_e+Se)*(N<<1),N>>=1)),ne===De)ee+=4;else{var ie=t[ve+3*ne],oe=t[ve+3*ne+1],pe=t[ve+3*ne+2];se[ee++]=ie,se[ee++]=oe,se[ee++]=pe,se[ee++]=255}--P}}}}catch{}},{}],239:[function(e,m,d){(function(f){var t,c;t=this,c=function(h){function g(y){if(this==null)throw TypeError();var b=String(this),S=b.length,T=y?Number(y):0;if(T!=T&&(T=0),!(T<0||S<=T)){var M,k=b.charCodeAt(T);return 55296<=k&&k<=56319&&T+1<S&&56320<=(M=b.charCodeAt(T+1))&&M<=57343?1024*(k-55296)+M-56320+65536:k}}var p;String.prototype.codePointAt||((p=function(){try{var y={},b=Object.defineProperty,S=b(y,y,y)&&b}catch{}return S}())?p(String.prototype,"codePointAt",{value:g,configurable:!0,writable:!0}):String.prototype.codePointAt=g);var o=0,n=-3;function s(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function a(y,b){this.source=y,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=b,this.destLen=0,this.ltree=new s,this.dtree=new s}var l=new s,v=new s,w=new Uint8Array(30),x=new Uint16Array(30),_=new Uint8Array(30),E=new Uint16Array(30),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A=new s,O=new Uint8Array(320);function I(y,b,S,T){var M,k;for(M=0;M<S;++M)y[M]=0;for(M=0;M<30-S;++M)y[M+S]=M/S|0;for(k=T,M=0;M<30;++M)b[M]=k,k+=1<<y[M]}var R=new Uint16Array(16);function L(y,b,S,T){var M,k;for(M=0;M<16;++M)y.table[M]=0;for(M=0;M<T;++M)y.table[b[S+M]]++;for(M=k=y.table[0]=0;M<16;++M)R[M]=k,k+=y.table[M];for(M=0;M<T;++M)b[S+M]&&(y.trans[R[b[S+M]]++]=M)}function U(y){y.bitcount--||(y.tag=y.source[y.sourceIndex++],y.bitcount=7);var b=1&y.tag;return y.tag>>>=1,b}function D(y,b,S){if(!b)return S;for(;y.bitcount<24;)y.tag|=y.source[y.sourceIndex++]<<y.bitcount,y.bitcount+=8;var T=y.tag&65535>>>16-b;return y.tag>>>=b,y.bitcount-=b,T+S}function H(y,b){for(;y.bitcount<24;)y.tag|=y.source[y.sourceIndex++]<<y.bitcount,y.bitcount+=8;for(var S=0,T=0,M=0,k=y.tag;T=2*T+(1&k),k>>>=1,++M,S+=b.table[M],0<=(T-=b.table[M]););return y.tag=k,y.bitcount-=M,b.trans[S+T]}function W(y,b,S){var T,M,k,F,Y,Z;for(T=D(y,5,257),M=D(y,5,1),k=D(y,4,4),F=0;F<19;++F)O[F]=0;for(F=0;F<k;++F){var ce=D(y,3,0);O[C[F]]=ce}for(L(A,O,0,19),Y=0;Y<T+M;){var ye=H(y,A);switch(ye){case 16:var Te=O[Y-1];for(Z=D(y,2,3);Z;--Z)O[Y++]=Te;break;case 17:for(Z=D(y,3,3);Z;--Z)O[Y++]=0;break;case 18:for(Z=D(y,7,11);Z;--Z)O[Y++]=0;break;default:O[Y++]=ye}}L(b,O,0,T),L(S,O,T,M)}function ae(y,b,S){for(;;){var T,M,k,F,Y=H(y,b);if(Y===256)return o;if(Y<256)y.dest[y.destLen++]=Y;else for(T=D(y,w[Y-=257],x[Y]),M=H(y,S),F=k=y.destLen-D(y,_[M],E[M]);F<k+T;++F)y.dest[y.destLen++]=y.dest[F]}}function le(y){for(var b,S;8<y.bitcount;)y.sourceIndex--,y.bitcount-=8;if((b=256*(b=y.source[y.sourceIndex+1])+y.source[y.sourceIndex])!==(65535&~(256*y.source[y.sourceIndex+3]+y.source[y.sourceIndex+2])))return n;for(y.sourceIndex+=4,S=b;S;--S)y.dest[y.destLen++]=y.source[y.sourceIndex++];return y.bitcount=0,o}(function(y,b){var S;for(S=0;S<7;++S)y.table[S]=0;for(y.table[7]=24,y.table[8]=152,y.table[9]=112,S=0;S<24;++S)y.trans[S]=256+S;for(S=0;S<144;++S)y.trans[24+S]=S;for(S=0;S<8;++S)y.trans[168+S]=280+S;for(S=0;S<112;++S)y.trans[176+S]=144+S;for(S=0;S<5;++S)b.table[S]=0;for(b.table[5]=32,S=0;S<32;++S)b.trans[S]=S})(l,v),I(w,x,4,3),I(_,E,2,1),w[28]=0,x[28]=258;var J=function(y,b){var S,T,M=new a(y,b);do{switch(S=U(M),D(M,2,0)){case 0:T=le(M);break;case 1:T=ae(M,l,v);break;case 2:W(M,M.ltree,M.dtree),T=ae(M,M.ltree,M.dtree);break;default:T=n}if(T!==o)throw new Error("Data error")}while(!S);return M.destLen<M.dest.length?typeof M.dest.slice=="function"?M.dest.slice(0,M.destLen):M.dest.subarray(0,M.destLen):M.dest};function ue(y,b,S,T,M){return Math.pow(1-M,3)*y+3*Math.pow(1-M,2)*M*b+3*(1-M)*Math.pow(M,2)*S+Math.pow(M,3)*T}function se(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function me(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function xe(y){throw new Error(y)}function Ce(y,b){y||xe(b)}se.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},se.prototype.addPoint=function(y,b){typeof y=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=y,this.x2=y),y<this.x1&&(this.x1=y),y>this.x2&&(this.x2=y)),typeof b=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))},se.prototype.addX=function(y){this.addPoint(y,null)},se.prototype.addY=function(y){this.addPoint(null,y)},se.prototype.addBezier=function(y,b,S,T,M,k,F,Y){var Z=[y,b],ce=[S,T],ye=[M,k],Te=[F,Y];this.addPoint(y,b),this.addPoint(F,Y);for(var te=0;te<=1;te++){var $e=6*Z[te]-12*ce[te]+6*ye[te],Ye=-3*Z[te]+9*ce[te]-9*ye[te]+3*Te[te],Ne=3*ce[te]-3*Z[te];if(Ye!=0){var Me=Math.pow($e,2)-4*Ne*Ye;if(!(Me<0)){var Ie=(-$e+Math.sqrt(Me))/(2*Ye);0<Ie&&Ie<1&&(te===0&&this.addX(ue(Z[te],ce[te],ye[te],Te[te],Ie)),te===1&&this.addY(ue(Z[te],ce[te],ye[te],Te[te],Ie)));var st=(-$e-Math.sqrt(Me))/(2*Ye);0<st&&st<1&&(te===0&&this.addX(ue(Z[te],ce[te],ye[te],Te[te],st)),te===1&&this.addY(ue(Z[te],ce[te],ye[te],Te[te],st)))}}else{if($e==0)continue;var ot=-Ne/$e;0<ot&&ot<1&&(te===0&&this.addX(ue(Z[te],ce[te],ye[te],Te[te],ot)),te===1&&this.addY(ue(Z[te],ce[te],ye[te],Te[te],ot)))}}},se.prototype.addQuad=function(y,b,S,T,M,k){var F=y+.6666666666666666*(S-y),Y=b+2/3*(T-b),Z=F+1/3*(M-y),ce=Y+1/3*(k-b);this.addBezier(y,b,F,Y,Z,ce,M,k)},me.prototype.moveTo=function(y,b){this.commands.push({type:"M",x:y,y:b})},me.prototype.lineTo=function(y,b){this.commands.push({type:"L",x:y,y:b})},me.prototype.curveTo=me.prototype.bezierCurveTo=function(y,b,S,T,M,k){this.commands.push({type:"C",x1:y,y1:b,x2:S,y2:T,x:M,y:k})},me.prototype.quadTo=me.prototype.quadraticCurveTo=function(y,b,S,T){this.commands.push({type:"Q",x1:y,y1:b,x:S,y:T})},me.prototype.close=me.prototype.closePath=function(){this.commands.push({type:"Z"})},me.prototype.extend=function(y){if(y.commands)y=y.commands;else if(y instanceof se){var b=y;return this.moveTo(b.x1,b.y1),this.lineTo(b.x2,b.y1),this.lineTo(b.x2,b.y2),this.lineTo(b.x1,b.y2),void this.close()}Array.prototype.push.apply(this.commands,y)},me.prototype.getBoundingBox=function(){for(var y=new se,b=0,S=0,T=0,M=0,k=0;k<this.commands.length;k++){var F=this.commands[k];switch(F.type){case"M":y.addPoint(F.x,F.y),b=T=F.x,S=M=F.y;break;case"L":y.addPoint(F.x,F.y),T=F.x,M=F.y;break;case"Q":y.addQuad(T,M,F.x1,F.y1,F.x,F.y),T=F.x,M=F.y;break;case"C":y.addBezier(T,M,F.x1,F.y1,F.x2,F.y2,F.x,F.y),T=F.x,M=F.y;break;case"Z":T=b,M=S;break;default:throw new Error("Unexpected path command "+F.type)}}return y.isEmpty()&&y.addPoint(0,0),y},me.prototype.draw=function(y){y.beginPath();for(var b=0;b<this.commands.length;b+=1){var S=this.commands[b];S.type==="M"?y.moveTo(S.x,S.y):S.type==="L"?y.lineTo(S.x,S.y):S.type==="C"?y.bezierCurveTo(S.x1,S.y1,S.x2,S.y2,S.x,S.y):S.type==="Q"?y.quadraticCurveTo(S.x1,S.y1,S.x,S.y):S.type==="Z"&&y.closePath()}this.fill&&(y.fillStyle=this.fill,y.fill()),this.stroke&&(y.strokeStyle=this.stroke,y.lineWidth=this.strokeWidth,y.stroke())},me.prototype.toPathData=function(y){function b(){for(var k,F=arguments,Y="",Z=0;Z<arguments.length;Z+=1){var ce=F[Z];0<=ce&&0<Z&&(Y+=" "),Y+=(k=ce,Math.round(k)===k?""+Math.round(k):k.toFixed(y))}return Y}y=y!==void 0?y:2;for(var S="",T=0;T<this.commands.length;T+=1){var M=this.commands[T];M.type==="M"?S+="M"+b(M.x,M.y):M.type==="L"?S+="L"+b(M.x,M.y):M.type==="C"?S+="C"+b(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?S+="Q"+b(M.x1,M.y1,M.x,M.y):M.type==="Z"&&(S+="Z")}return S},me.prototype.toSVG=function(y){var b='<path d="';return b+=this.toPathData(y),b+='"',this.fill&&this.fill!=="black"&&(this.fill===null?b+=' fill="none"':b+=' fill="'+this.fill+'"'),this.stroke&&(b+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),b+="/>"},me.prototype.toDOMElement=function(y){var b=this.toPathData(y),S=document.createElementNS("http://www.w3.org/2000/svg","path");return S.setAttribute("d",b),S};var ve={fail:xe,argument:Ce,assert:Ce},De={},_e={},Se={};function P(y){return function(){return y}}_e.BYTE=function(y){return ve.argument(0<=y&&y<=255,"Byte value should be between 0 and 255."),[y]},Se.BYTE=P(1),_e.CHAR=function(y){return[y.charCodeAt(0)]},Se.CHAR=P(1),_e.CHARARRAY=function(y){for(var b=[],S=0;S<y.length;S+=1)b[S]=y.charCodeAt(S);return b},Se.CHARARRAY=function(y){return y.length},_e.USHORT=function(y){return[y>>8&255,255&y]},Se.USHORT=P(2),_e.SHORT=function(y){return 32768<=y&&(y=-(65536-y)),[y>>8&255,255&y]},Se.SHORT=P(2),_e.UINT24=function(y){return[y>>16&255,y>>8&255,255&y]},Se.UINT24=P(3),_e.ULONG=function(y){return[y>>24&255,y>>16&255,y>>8&255,255&y]},Se.ULONG=P(4),_e.LONG=function(y){return 2147483648<=y&&(y=-(4294967296-y)),[y>>24&255,y>>16&255,y>>8&255,255&y]},Se.LONG=P(4),_e.FIXED=_e.ULONG,Se.FIXED=Se.ULONG,_e.FWORD=_e.SHORT,Se.FWORD=Se.SHORT,_e.UFWORD=_e.USHORT,Se.UFWORD=Se.USHORT,_e.LONGDATETIME=function(y){return[0,0,0,0,y>>24&255,y>>16&255,y>>8&255,255&y]},Se.LONGDATETIME=P(8),_e.TAG=function(y){return ve.argument(y.length===4,"Tag should be exactly 4 ASCII characters."),[y.charCodeAt(0),y.charCodeAt(1),y.charCodeAt(2),y.charCodeAt(3)]},Se.TAG=P(4),_e.Card8=_e.BYTE,Se.Card8=Se.BYTE,_e.Card16=_e.USHORT,Se.Card16=Se.USHORT,_e.OffSize=_e.BYTE,Se.OffSize=Se.BYTE,_e.SID=_e.USHORT,Se.SID=Se.USHORT,_e.NUMBER=function(y){return-107<=y&&y<=107?[y+139]:108<=y&&y<=1131?[247+((y-=108)>>8),255&y]:-1131<=y&&y<=-108?[251+((y=-y-108)>>8),255&y]:-32768<=y&&y<=32767?_e.NUMBER16(y):_e.NUMBER32(y)},Se.NUMBER=function(y){return _e.NUMBER(y).length},_e.NUMBER16=function(y){return[28,y>>8&255,255&y]},Se.NUMBER16=P(3),_e.NUMBER32=function(y){return[29,y>>24&255,y>>16&255,y>>8&255,255&y]},Se.NUMBER32=P(5),_e.REAL=function(y){var b=y.toString(),S=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(b);if(S){var T=parseFloat("1e"+((S[2]?+S[2]:0)+S[1].length));b=(Math.round(y*T)/T).toString()}for(var M="",k=0,F=b.length;k<F;k+=1){var Y=b[k];M+=Y==="e"?b[++k]==="-"?"c":"b":Y==="."?"a":Y==="-"?"e":Y}for(var Z=[30],ce=0,ye=(M+=1&M.length?"f":"ff").length;ce<ye;ce+=2)Z.push(parseInt(M.substr(ce,2),16));return Z},Se.REAL=function(y){return _e.REAL(y).length},_e.NAME=_e.CHARARRAY,Se.NAME=Se.CHARARRAY,_e.STRING=_e.CHARARRAY,Se.STRING=Se.CHARARRAY,De.UTF8=function(y,b,S){for(var T=[],M=S,k=0;k<M;k++,b+=1)T[k]=y.getUint8(b);return String.fromCharCode.apply(null,T)},De.UTF16=function(y,b,S){for(var T=[],M=S/2,k=0;k<M;k++,b+=2)T[k]=y.getUint16(b);return String.fromCharCode.apply(null,T)},_e.UTF16=function(y){for(var b=[],S=0;S<y.length;S+=1){var T=y.charCodeAt(S);b[b.length]=T>>8&255,b[b.length]=255&T}return b},Se.UTF16=function(y){return 2*y.length};var G={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};De.MACSTRING=function(y,b,S,T){var M=G[T];if(M!==void 0){for(var k="",F=0;F<S;F++){var Y=y.getUint8(b+F);k+=Y<=127?String.fromCharCode(Y):M[127&Y]}return k}};var X,ee=typeof WeakMap=="function"&&new WeakMap;function B(y){return-128<=y&&y<=127}function N(y,b,S){for(var T=0,M=y.length;b<M&&T<64&&y[b]===0;)++b,++T;return S.push(128|T-1),b}function re(y,b,S){for(var T=0,M=y.length,k=b;k<M&&T<64;){var F=y[k];if(!B(F)||F===0&&k+1<M&&y[k+1]===0)break;++k,++T}S.push(T-1);for(var Y=b;Y<k;++Y)S.push(y[Y]+256&255);return k}function $(y,b,S){for(var T=0,M=y.length,k=b;k<M&&T<64;){var F=y[k];if(F===0||B(F)&&k+1<M&&B(y[k+1]))break;++k,++T}S.push(64|T-1);for(var Y=b;Y<k;++Y){var Z=y[Y];S.push(Z+65536>>8&255,Z+256&255)}return k}_e.MACSTRING=function(y,b){var S=function(F){if(!X)for(var Y in X={},G)X[Y]=new String(Y);var Z=X[F];if(Z!==void 0){if(ee){var ce=ee.get(Z);if(ce!==void 0)return ce}var ye=G[F];if(ye!==void 0){for(var Te={},te=0;te<ye.length;te++)Te[ye.charCodeAt(te)]=te+128;return ee&&ee.set(Z,Te),Te}}}(b);if(S!==void 0){for(var T=[],M=0;M<y.length;M++){var k=y.charCodeAt(M);if(128<=k&&(k=S[k])===void 0)return;T[M]=k}return T}},Se.MACSTRING=function(y,b){var S=_e.MACSTRING(y,b);return S!==void 0?S.length:0},_e.VARDELTAS=function(y){for(var b=0,S=[];b<y.length;){var T=y[b];b=T===0?N(y,b,S):-128<=T&&T<=127?re(y,b,S):$(y,b,S)}return S},_e.INDEX=function(y){for(var b=1,S=[b],T=[],M=0;M<y.length;M+=1){var k=_e.OBJECT(y[M]);Array.prototype.push.apply(T,k),b+=k.length,S.push(b)}if(T.length===0)return[0,0];for(var F=[],Y=1+Math.floor(Math.log(b)/Math.log(2))/8|0,Z=[void 0,_e.BYTE,_e.USHORT,_e.UINT24,_e.ULONG][Y],ce=0;ce<S.length;ce+=1){var ye=Z(S[ce]);Array.prototype.push.apply(F,ye)}return Array.prototype.concat(_e.Card16(y.length),_e.OffSize(Y),F,T)},Se.INDEX=function(y){return _e.INDEX(y).length},_e.DICT=function(y){for(var b=[],S=Object.keys(y),T=S.length,M=0;M<T;M+=1){var k=parseInt(S[M],0),F=y[k];b=(b=b.concat(_e.OPERAND(F.value,F.type))).concat(_e.OPERATOR(k))}return b},Se.DICT=function(y){return _e.DICT(y).length},_e.OPERATOR=function(y){return y<1200?[y]:[12,y-1200]},_e.OPERAND=function(y,b){var S=[];if(Array.isArray(b))for(var T=0;T<b.length;T+=1)ve.argument(y.length===b.length,"Not enough arguments given for type"+b),S=S.concat(_e.OPERAND(y[T],b[T]));else if(b==="SID")S=S.concat(_e.NUMBER(y));else if(b==="offset")S=S.concat(_e.NUMBER32(y));else if(b==="number")S=S.concat(_e.NUMBER(y));else{if(b!=="real")throw new Error("Unknown operand type "+b);S=S.concat(_e.REAL(y))}return S},_e.OP=_e.BYTE,Se.OP=Se.BYTE;var ne=typeof WeakMap=="function"&&new WeakMap;function ie(y,b,S){for(var T=0;T<b.length;T+=1){var M=b[T];this[M.name]=M.value}if(this.tableName=y,this.fields=b,S)for(var k=Object.keys(S),F=0;F<k.length;F+=1){var Y=k[F],Z=S[Y];this[Y]!==void 0&&(this[Y]=Z)}}function oe(y,b,S){S===void 0&&(S=b.length);var T=new Array(b.length+1);T[0]={name:y+"Count",type:"USHORT",value:S};for(var M=0;M<b.length;M++)T[M+1]={name:y+M,type:"USHORT",value:b[M]};return T}function pe(y,b,S){var T=b.length,M=new Array(T+1);M[0]={name:y+"Count",type:"USHORT",value:T};for(var k=0;k<T;k++)M[k+1]={name:y+k,type:"TABLE",value:S(b[k],k)};return M}function ge(y,b,S){var T=b.length,M=[];M[0]={name:y+"Count",type:"USHORT",value:T};for(var k=0;k<T;k++)M=M.concat(S(b[k],k));return M}function he(y){y.format===1?ie.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(oe("glyph",y.glyphs))):ve.assert(!1,"Can't create coverage table format 2 yet.")}function Pe(y){ie.call(this,"scriptListTable",ge("scriptRecord",y,function(b,S){var T=b.script,M=T.defaultLangSys;return ve.assert(!!M,"Unable to write GSUB: script "+b.tag+" has no default language system."),[{name:"scriptTag"+S,type:"TAG",value:b.tag},{name:"script"+S,type:"TABLE",value:new ie("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ie("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:M.reqFeatureIndex}].concat(oe("featureIndex",M.featureIndexes)))}].concat(ge("langSys",T.langSysRecords,function(k,F){var Y=k.langSys;return[{name:"langSysTag"+F,type:"TAG",value:k.tag},{name:"langSys"+F,type:"TABLE",value:new ie("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Y.reqFeatureIndex}].concat(oe("featureIndex",Y.featureIndexes)))}]})))}]}))}function Be(y){ie.call(this,"featureListTable",ge("featureRecord",y,function(b,S){var T=b.feature;return[{name:"featureTag"+S,type:"TAG",value:b.tag},{name:"feature"+S,type:"TABLE",value:new ie("featureTable",[{name:"featureParams",type:"USHORT",value:T.featureParams}].concat(oe("lookupListIndex",T.lookupListIndexes)))}]}))}function Ue(y,b){ie.call(this,"lookupListTable",pe("lookup",y,function(S){var T=b[S.lookupType];return ve.assert(!!T,"Unable to write GSUB lookup type "+S.lookupType+" tables."),new ie("lookupTable",[{name:"lookupType",type:"USHORT",value:S.lookupType},{name:"lookupFlag",type:"USHORT",value:S.lookupFlag}].concat(pe("subtable",S.subtables,T)))}))}_e.CHARSTRING=function(y){if(ne){var b=ne.get(y);if(b!==void 0)return b}for(var S=[],T=y.length,M=0;M<T;M+=1){var k=y[M];S=S.concat(_e[k.type](k.value))}return ne&&ne.set(y,S),S},Se.CHARSTRING=function(y){return _e.CHARSTRING(y).length},_e.OBJECT=function(y){var b=_e[y.type];return ve.argument(b!==void 0,"No encoding function for type "+y.type),b(y.value)},Se.OBJECT=function(y){var b=Se[y.type];return ve.argument(b!==void 0,"No sizeOf function for type "+y.type),b(y.value)},_e.TABLE=function(y){for(var b=[],S=y.fields.length,T=[],M=[],k=0;k<S;k+=1){var F=y.fields[k],Y=_e[F.type];ve.argument(Y!==void 0,"No encoding function for field type "+F.type+" ("+F.name+")");var Z=y[F.name];Z===void 0&&(Z=F.value);var ce=Y(Z);F.type==="TABLE"?(M.push(b.length),b=b.concat([0,0]),T.push(ce)):b=b.concat(ce)}for(var ye=0;ye<T.length;ye+=1){var Te=M[ye],te=b.length;ve.argument(te<65536,"Table "+y.tableName+" too big."),b[Te]=te>>8,b[Te+1]=255&te,b=b.concat(T[ye])}return b},Se.TABLE=function(y){for(var b=0,S=y.fields.length,T=0;T<S;T+=1){var M=y.fields[T],k=Se[M.type];ve.argument(k!==void 0,"No sizeOf function for field type "+M.type+" ("+M.name+")");var F=y[M.name];F===void 0&&(F=M.value),b+=k(F),M.type==="TABLE"&&(b+=2)}return b},_e.RECORD=_e.TABLE,Se.RECORD=Se.TABLE,_e.LITERAL=function(y){return y},Se.LITERAL=function(y){return y.length},ie.prototype.encode=function(){return _e.TABLE(this)},ie.prototype.sizeOf=function(){return Se.TABLE(this)};var Le={Table:ie,Record:ie,Coverage:(he.prototype=Object.create(ie.prototype)).constructor=he,ScriptList:(Pe.prototype=Object.create(ie.prototype)).constructor=Pe,FeatureList:(Be.prototype=Object.create(ie.prototype)).constructor=Be,LookupList:(Ue.prototype=Object.create(ie.prototype)).constructor=Ue,ushortList:oe,tableList:pe,recordList:ge};function Qe(y,b){return y.getUint8(b)}function Re(y,b){return y.getUint16(b,!1)}function Ae(y,b){return y.getUint32(b,!1)}function ze(y,b){return y.getInt16(b,!1)+y.getUint16(b+2,!1)/65535}var Xe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function be(y,b){this.data=y,this.offset=b,this.relativeOffset=0}be.prototype.parseByte=function(){var y=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,y},be.prototype.parseChar=function(){var y=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,y},be.prototype.parseCard8=be.prototype.parseByte,be.prototype.parseCard16=be.prototype.parseUShort=function(){var y=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,y},be.prototype.parseSID=be.prototype.parseUShort,be.prototype.parseOffset16=be.prototype.parseUShort,be.prototype.parseShort=function(){var y=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,y},be.prototype.parseF2Dot14=function(){var y=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,y},be.prototype.parseOffset32=be.prototype.parseULong=function(){var y=Ae(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,y},be.prototype.parseFixed=function(){var y=ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,y},be.prototype.parseString=function(y){var b=this.data,S=this.offset+this.relativeOffset,T="";this.relativeOffset+=y;for(var M=0;M<y;M++)T+=String.fromCharCode(b.getUint8(S+M));return T},be.prototype.parseTag=function(){return this.parseString(4)},be.prototype.parseLongDateTime=function(){var y=Ae(this.data,this.offset+this.relativeOffset+4);return y-=2082844800,this.relativeOffset+=8,y},be.prototype.parseVersion=function(y){var b=Re(this.data,this.offset+this.relativeOffset),S=Re(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,y===void 0&&(y=4096),b+S/y/10},be.prototype.skip=function(y,b){b===void 0&&(b=1),this.relativeOffset+=Xe[y]*b},be.prototype.parseULongList=function(y){y===void 0&&(y=this.parseULong());for(var b=new Array(y),S=this.data,T=this.offset+this.relativeOffset,M=0;M<y;M++)b[M]=S.getUint32(T),T+=4;return this.relativeOffset+=4*y,b},be.prototype.parseOffset16List=be.prototype.parseUShortList=function(y){y===void 0&&(y=this.parseUShort());for(var b=new Array(y),S=this.data,T=this.offset+this.relativeOffset,M=0;M<y;M++)b[M]=S.getUint16(T),T+=2;return this.relativeOffset+=2*y,b},be.prototype.parseShortList=function(y){for(var b=new Array(y),S=this.data,T=this.offset+this.relativeOffset,M=0;M<y;M++)b[M]=S.getInt16(T),T+=2;return this.relativeOffset+=2*y,b},be.prototype.parseByteList=function(y){for(var b=new Array(y),S=this.data,T=this.offset+this.relativeOffset,M=0;M<y;M++)b[M]=S.getUint8(T++);return this.relativeOffset+=y,b},be.prototype.parseList=function(y,b){b||(b=y,y=this.parseUShort());for(var S=new Array(y),T=0;T<y;T++)S[T]=b.call(this);return S},be.prototype.parseList32=function(y,b){b||(b=y,y=this.parseULong());for(var S=new Array(y),T=0;T<y;T++)S[T]=b.call(this);return S},be.prototype.parseRecordList=function(y,b){b||(b=y,y=this.parseUShort());for(var S=new Array(y),T=Object.keys(b),M=0;M<y;M++){for(var k={},F=0;F<T.length;F++){var Y=T[F],Z=b[Y];k[Y]=Z.call(this)}S[M]=k}return S},be.prototype.parseRecordList32=function(y,b){b||(b=y,y=this.parseULong());for(var S=new Array(y),T=Object.keys(b),M=0;M<y;M++){for(var k={},F=0;F<T.length;F++){var Y=T[F],Z=b[Y];k[Y]=Z.call(this)}S[M]=k}return S},be.prototype.parseStruct=function(y){if(typeof y=="function")return y.call(this);for(var b=Object.keys(y),S={},T=0;T<b.length;T++){var M=b[T],k=y[M];S[M]=k.call(this)}return S},be.prototype.parseValueRecord=function(y){if(y===void 0&&(y=this.parseUShort()),y!==0){var b={};return 1&y&&(b.xPlacement=this.parseShort()),2&y&&(b.yPlacement=this.parseShort()),4&y&&(b.xAdvance=this.parseShort()),8&y&&(b.yAdvance=this.parseShort()),16&y&&(b.xPlaDevice=void 0,this.parseShort()),32&y&&(b.yPlaDevice=void 0,this.parseShort()),64&y&&(b.xAdvDevice=void 0,this.parseShort()),128&y&&(b.yAdvDevice=void 0,this.parseShort()),b}},be.prototype.parseValueRecordList=function(){for(var y=this.parseUShort(),b=this.parseUShort(),S=new Array(b),T=0;T<b;T++)S[T]=this.parseValueRecord(y);return S},be.prototype.parsePointer=function(y){var b=this.parseOffset16();if(0<b)return new be(this.data,this.offset+b).parseStruct(y)},be.prototype.parsePointer32=function(y){var b=this.parseOffset32();if(0<b)return new be(this.data,this.offset+b).parseStruct(y)},be.prototype.parseListOfLists=function(y){for(var b=this.parseOffset16List(),S=b.length,T=this.relativeOffset,M=new Array(S),k=0;k<S;k++){var F=b[k];if(F!==0)if(this.relativeOffset=F,y){for(var Y=this.parseOffset16List(),Z=new Array(Y.length),ce=0;ce<Y.length;ce++)this.relativeOffset=F+Y[ce],Z[ce]=y.call(this);M[k]=Z}else M[k]=this.parseUShortList();else M[k]=void 0}return this.relativeOffset=T,M},be.prototype.parseCoverage=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort(),S=this.parseUShort();if(b===1)return{format:1,glyphs:this.parseUShortList(S)};if(b!==2)throw new Error("0x"+y.toString(16)+": Coverage format must be 1 or 2.");for(var T=new Array(S),M=0;M<S;M++)T[M]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:T}},be.prototype.parseClassDef=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();if(b===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(b===2)return{format:2,ranges:this.parseRecordList({start:be.uShort,end:be.uShort,classId:be.uShort})};throw new Error("0x"+y.toString(16)+": ClassDef format must be 1 or 2.")},be.list=function(y,b){return function(){return this.parseList(y,b)}},be.list32=function(y,b){return function(){return this.parseList32(y,b)}},be.recordList=function(y,b){return function(){return this.parseRecordList(y,b)}},be.recordList32=function(y,b){return function(){return this.parseRecordList32(y,b)}},be.pointer=function(y){return function(){return this.parsePointer(y)}},be.pointer32=function(y){return function(){return this.parsePointer32(y)}},be.tag=be.prototype.parseTag,be.byte=be.prototype.parseByte,be.uShort=be.offset16=be.prototype.parseUShort,be.uShortList=be.prototype.parseUShortList,be.uLong=be.offset32=be.prototype.parseULong,be.uLongList=be.prototype.parseULongList,be.struct=be.prototype.parseStruct,be.coverage=be.prototype.parseCoverage,be.classDef=be.prototype.parseClassDef;var rt={reserved:be.uShort,reqFeatureIndex:be.uShort,featureIndexes:be.uShortList};be.prototype.parseScriptList=function(){return this.parsePointer(be.recordList({tag:be.tag,script:be.pointer({defaultLangSys:be.pointer(rt),langSysRecords:be.recordList({tag:be.tag,langSys:be.pointer(rt)})})}))||[]},be.prototype.parseFeatureList=function(){return this.parsePointer(be.recordList({tag:be.tag,feature:be.pointer({featureParams:be.offset16,lookupListIndexes:be.uShortList})}))||[]},be.prototype.parseLookupList=function(y){return this.parsePointer(be.list(be.pointer(function(){var b=this.parseUShort();ve.argument(1<=b&&b<=9,"GPOS/GSUB lookup type "+b+" unknown.");var S=this.parseUShort(),T=16&S;return{lookupType:b,lookupFlag:S,subtables:this.parseList(be.pointer(y[b])),markFilteringSet:T?this.parseUShort():void 0}})))||[]},be.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var y=this.parseUShort(),b=this.parseUShort();return ve.argument(y===1&&b<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:be.offset32,featureTableSubstitutionOffset:be.offset32})})||[]};var V={getByte:Qe,getCard8:Qe,getUShort:Re,getCard16:Re,getShort:function(y,b){return y.getInt16(b,!1)},getULong:Ae,getFixed:ze,getTag:function(y,b){for(var S="",T=b;T<b+4;T+=1)S+=String.fromCharCode(y.getInt8(T));return S},getOffset:function(y,b,S){for(var T=0,M=0;M<S;M+=1)T<<=8,T+=y.getUint8(b+M);return T},getBytes:function(y,b,S){for(var T=[],M=b;M<S;M+=1)T.push(y.getUint8(M));return T},bytesToString:function(y){for(var b="",S=0;S<y.length;S+=1)b+=String.fromCharCode(y[S]);return b},Parser:be},Q={parse:function(y,b){var S={};S.version=V.getUShort(y,b),ve.argument(S.version===0,"cmap table version should be 0."),S.numTables=V.getUShort(y,b+2);for(var T=-1,M=S.numTables-1;0<=M;--M){var k=V.getUShort(y,b+4+8*M),F=V.getUShort(y,b+4+8*M+2);if(k===3&&(F===0||F===1||F===10)||k===0&&(F===0||F===1||F===2||F===3||F===4)){T=V.getULong(y,b+4+8*M+4);break}}if(T===-1)throw new Error("No valid cmap sub-tables found.");var Y=new V.Parser(y,b+T);if(S.format=Y.parseUShort(),S.format===12)(function(Z,ce){var ye;ce.parseUShort(),Z.length=ce.parseULong(),Z.language=ce.parseULong(),Z.groupCount=ye=ce.parseULong(),Z.glyphIndexMap={};for(var Te=0;Te<ye;Te+=1)for(var te=ce.parseULong(),$e=ce.parseULong(),Ye=ce.parseULong(),Ne=te;Ne<=$e;Ne+=1)Z.glyphIndexMap[Ne]=Ye,Ye++})(S,Y);else{if(S.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+S.format+").");(function(Z,ce,ye,Te,te){var $e;Z.length=ce.parseUShort(),Z.language=ce.parseUShort(),Z.segCount=$e=ce.parseUShort()>>1,ce.skip("uShort",3),Z.glyphIndexMap={};for(var Ye=new V.Parser(ye,Te+te+14),Ne=new V.Parser(ye,Te+te+16+2*$e),Me=new V.Parser(ye,Te+te+16+4*$e),Ie=new V.Parser(ye,Te+te+16+6*$e),st=Te+te+16+8*$e,ot=0;ot<$e-1;ot+=1)for(var _t=void 0,ut=Ye.parseUShort(),dt=Ne.parseUShort(),$t=Me.parseShort(),Tt=Ie.parseUShort(),St=dt;St<=ut;St+=1)Tt!==0?(st=Ie.offset+Ie.relativeOffset-2,st+=Tt,st+=2*(St-dt),(_t=V.getUShort(ye,st))!==0&&(_t=_t+$t&65535)):_t=St+$t&65535,Z.glyphIndexMap[St]=_t})(S,Y,y,b,T)}return S},make:function(y){var b,S=!0;for(b=y.length-1;0<b;--b)if(65535<y.get(b).unicode){console.log("Adding CMAP format 12 (needed!)"),S=!1;break}var T=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:S?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:S?12:20}];S||(T=T.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),T=T.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var M,k,F,Y=new Le.Table("cmap",T);for(Y.segments=[],b=0;b<y.length;b+=1){for(var Z=y.get(b),ce=0;ce<Z.unicodes.length;ce+=1)M=Y,k=Z.unicodes[ce],F=b,M.segments.push({end:k,start:k,delta:-(k-F),offset:0,glyphIndex:F});Y.segments=Y.segments.sort(function(_t,ut){return _t.start-ut.start})}Y.segments.push({end:65535,start:65535,delta:1,offset:0});var ye=Y.segments.length,Te=0,te=[],$e=[],Ye=[],Ne=[],Me=[],Ie=[];for(b=0;b<ye;b+=1){var st=Y.segments[b];st.end<=65535&&st.start<=65535?(te=te.concat({name:"end_"+b,type:"USHORT",value:st.end}),$e=$e.concat({name:"start_"+b,type:"USHORT",value:st.start}),Ye=Ye.concat({name:"idDelta_"+b,type:"SHORT",value:st.delta}),Ne=Ne.concat({name:"idRangeOffset_"+b,type:"USHORT",value:st.offset}),st.glyphId!==void 0&&(Me=Me.concat({name:"glyph_"+b,type:"USHORT",value:st.glyphId}))):Te+=1,S||st.glyphIndex===void 0||(Ie=(Ie=(Ie=Ie.concat({name:"cmap12Start_"+b,type:"ULONG",value:st.start})).concat({name:"cmap12End_"+b,type:"ULONG",value:st.end})).concat({name:"cmap12Glyph_"+b,type:"ULONG",value:st.glyphIndex}))}if(Y.segCountX2=2*(ye-Te),Y.searchRange=2*Math.pow(2,Math.floor(Math.log(ye-Te)/Math.log(2))),Y.entrySelector=Math.log(Y.searchRange/2)/Math.log(2),Y.rangeShift=Y.segCountX2-Y.searchRange,Y.fields=Y.fields.concat(te),Y.fields.push({name:"reservedPad",type:"USHORT",value:0}),Y.fields=Y.fields.concat($e),Y.fields=Y.fields.concat(Ye),Y.fields=Y.fields.concat(Ne),Y.fields=Y.fields.concat(Me),Y.cmap4Length=14+2*te.length+2+2*$e.length+2*Ye.length+2*Ne.length+2*Me.length,!S){var ot=16+4*Ie.length;Y.cmap12Offset=20+Y.cmap4Length,Y.fields=Y.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:ot},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ie.length/3}]),Y.fields=Y.fields.concat(Ie)}return Y}},q=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],K=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],de=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Ee=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ke(y){this.font=y}function He(y){this.cmap=y}function we(y,b){this.encoding=y,this.charset=b}function Ke(y){switch(y.version){case 1:this.names=Ee.slice();break;case 2:this.names=new Array(y.numberOfGlyphs);for(var b=0;b<y.numberOfGlyphs;b++)y.glyphNameIndex[b]<Ee.length?this.names[b]=Ee[y.glyphNameIndex[b]]:this.names[b]=y.names[y.glyphNameIndex[b]-Ee.length];break;case 2.5:this.names=new Array(y.numberOfGlyphs);for(var S=0;S<y.numberOfGlyphs;S++)this.names[S]=Ee[S+y.glyphNameIndex[S]];break;case 3:default:this.names=[]}}ke.prototype.charToGlyphIndex=function(y){var b=y.codePointAt(0),S=this.font.glyphs;if(S){for(var T=0;T<S.length;T+=1)for(var M=S.get(T),k=0;k<M.unicodes.length;k+=1)if(M.unicodes[k]===b)return T}return null},He.prototype.charToGlyphIndex=function(y){return this.cmap.glyphIndexMap[y.codePointAt(0)]||0},we.prototype.charToGlyphIndex=function(y){var b=y.codePointAt(0),S=this.encoding[b];return this.charset.indexOf(S)},Ke.prototype.nameToGlyphIndex=function(y){return this.names.indexOf(y)},Ke.prototype.glyphIndexToName=function(y){return this.names[y]};var at={line:function(y,b,S,T,M){y.beginPath(),y.moveTo(b,S),y.lineTo(T,M),y.stroke()}};function ht(y){this.bindConstructorValues(y)}function yt(y,b,S){Object.defineProperty(y,b,{get:function(){return y.path,y[S]},set:function(T){y[S]=T},enumerable:!0,configurable:!0})}function ft(y,b){if(this.font=y,this.glyphs={},Array.isArray(b))for(var S=0;S<b.length;S++)this.glyphs[S]=b[S];this.length=b&&b.length||0}ht.prototype.bindConstructorValues=function(y){var b,S;this.index=y.index||0,this.name=y.name||null,this.unicode=y.unicode||void 0,this.unicodes=y.unicodes||y.unicode!==void 0?[y.unicode]:[],y.xMin&&(this.xMin=y.xMin),y.yMin&&(this.yMin=y.yMin),y.xMax&&(this.xMax=y.xMax),y.yMax&&(this.yMax=y.yMax),y.advanceWidth&&(this.advanceWidth=y.advanceWidth),Object.defineProperty(this,"path",(b=y.path,S=b||new me,{configurable:!0,get:function(){return typeof S=="function"&&(S=S()),S},set:function(T){S=T}}))},ht.prototype.addUnicode=function(y){this.unicodes.length===0&&(this.unicode=y),this.unicodes.push(y)},ht.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ht.prototype.getPath=function(y,b,S,T,M){var k,F;y=y!==void 0?y:0,b=b!==void 0?b:0,S=S!==void 0?S:72;var Y=(T=T||{}).xScale,Z=T.yScale;if(T.hinting&&M&&M.hinting&&(F=this.path&&M.hinting.exec(this,S)),F)k=M.hinting.getCommands(F),y=Math.round(y),b=Math.round(b),Y=Z=1;else{k=this.path.commands;var ce=1/this.path.unitsPerEm*S;Y===void 0&&(Y=ce),Z===void 0&&(Z=ce)}for(var ye=new me,Te=0;Te<k.length;Te+=1){var te=k[Te];te.type==="M"?ye.moveTo(y+te.x*Y,b+-te.y*Z):te.type==="L"?ye.lineTo(y+te.x*Y,b+-te.y*Z):te.type==="Q"?ye.quadraticCurveTo(y+te.x1*Y,b+-te.y1*Z,y+te.x*Y,b+-te.y*Z):te.type==="C"?ye.curveTo(y+te.x1*Y,b+-te.y1*Z,y+te.x2*Y,b+-te.y2*Z,y+te.x*Y,b+-te.y*Z):te.type==="Z"&&ye.closePath()}return ye},ht.prototype.getContours=function(){if(this.points===void 0)return[];for(var y=[],b=[],S=0;S<this.points.length;S+=1){var T=this.points[S];b.push(T),T.lastPointOfContour&&(y.push(b),b=[])}return ve.argument(b.length===0,"There are still points left in the current contour."),y},ht.prototype.getMetrics=function(){for(var y=this.path.commands,b=[],S=[],T=0;T<y.length;T+=1){var M=y[T];M.type!=="Z"&&(b.push(M.x),S.push(M.y)),M.type!=="Q"&&M.type!=="C"||(b.push(M.x1),S.push(M.y1)),M.type==="C"&&(b.push(M.x2),S.push(M.y2))}var k={xMin:Math.min.apply(null,b),yMin:Math.min.apply(null,S),xMax:Math.max.apply(null,b),yMax:Math.max.apply(null,S),leftSideBearing:this.leftSideBearing};return isFinite(k.xMin)||(k.xMin=0),isFinite(k.xMax)||(k.xMax=this.advanceWidth),isFinite(k.yMin)||(k.yMin=0),isFinite(k.yMax)||(k.yMax=0),k.rightSideBearing=this.advanceWidth-k.leftSideBearing-(k.xMax-k.xMin),k},ht.prototype.draw=function(y,b,S,T,M){this.getPath(b,S,T,M).draw(y)},ht.prototype.drawPoints=function(y,b,S,T){function M(Te,te,$e,Ye){var Ne=2*Math.PI;y.beginPath();for(var Me=0;Me<Te.length;Me+=1)y.moveTo(te+Te[Me].x*Ye,$e+Te[Me].y*Ye),y.arc(te+Te[Me].x*Ye,$e+Te[Me].y*Ye,2,0,Ne,!1);y.closePath(),y.fill()}b=b!==void 0?b:0,S=S!==void 0?S:0,T=T!==void 0?T:24;for(var k=1/this.path.unitsPerEm*T,F=[],Y=[],Z=this.path,ce=0;ce<Z.commands.length;ce+=1){var ye=Z.commands[ce];ye.x!==void 0&&F.push({x:ye.x,y:-ye.y}),ye.x1!==void 0&&Y.push({x:ye.x1,y:-ye.y1}),ye.x2!==void 0&&Y.push({x:ye.x2,y:-ye.y2})}y.fillStyle="blue",M(F,b,S,k),y.fillStyle="red",M(Y,b,S,k)},ht.prototype.drawMetrics=function(y,b,S,T){var M;b=b!==void 0?b:0,S=S!==void 0?S:0,T=T!==void 0?T:24,M=1/this.path.unitsPerEm*T,y.lineWidth=1,y.strokeStyle="black",at.line(y,b,-1e4,b,1e4),at.line(y,-1e4,S,1e4,S);var k=this.xMin||0,F=this.yMin||0,Y=this.xMax||0,Z=this.yMax||0,ce=this.advanceWidth||0;y.strokeStyle="blue",at.line(y,b+k*M,-1e4,b+k*M,1e4),at.line(y,b+Y*M,-1e4,b+Y*M,1e4),at.line(y,-1e4,S+-F*M,1e4,S+-F*M),at.line(y,-1e4,S+-Z*M,1e4,S+-Z*M),y.strokeStyle="green",at.line(y,b+ce*M,-1e4,b+ce*M,1e4)},ft.prototype.get=function(y){return typeof this.glyphs[y]=="function"&&(this.glyphs[y]=this.glyphs[y]()),this.glyphs[y]},ft.prototype.push=function(y,b){this.glyphs[y]=b,this.length++};var pt={GlyphSet:ft,glyphLoader:function(y,b){return new ht({index:b,font:y})},ttfGlyphLoader:function(y,b,S,T,M,k){return function(){var F=new ht({index:b,font:y});return F.path=function(){S(F,T,M);var Y=k(y.glyphs,F);return Y.unitsPerEm=y.unitsPerEm,Y},yt(F,"xMin","_xMin"),yt(F,"xMax","_xMax"),yt(F,"yMin","_yMin"),yt(F,"yMax","_yMax"),F}},cffGlyphLoader:function(y,b,S,T){return function(){var M=new ht({index:b,font:y});return M.path=function(){var k=S(y,M,T);return k.unitsPerEm=y.unitsPerEm,k},M}}};function Mt(y,b){if(y===b)return!0;if(Array.isArray(y)&&Array.isArray(b)){if(y.length!==b.length)return!1;for(var S=0;S<y.length;S+=1)if(!Mt(y[S],b[S]))return!1;return!0}return!1}function on(y){return y.length<1240?107:y.length<33900?1131:32768}function xr(y,b,S){var T,M,k=[],F=[],Y=V.getCard16(y,b);if(Y!==0){var Z=V.getByte(y,b+2);T=b+(Y+1)*Z+2;for(var ce=b+3,ye=0;ye<Y+1;ye+=1)k.push(V.getOffset(y,ce,Z)),ce+=Z;M=T+k[Y]}else M=b+2;for(var Te=0;Te<k.length-1;Te+=1){var te=V.getBytes(y,T+k[Te],T+k[Te+1]);S&&(te=S(te)),F.push(te)}return{objects:F,startOffset:b,endOffset:M}}function Xn(y,b){if(b===28)return y.parseByte()<<8|y.parseByte();if(b===29)return y.parseByte()<<24|y.parseByte()<<16|y.parseByte()<<8|y.parseByte();if(b===30)return function(S){for(var T="",M=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var k=S.parseByte(),F=k>>4,Y=15&k;if(F==15||(T+=M[F],Y==15))break;T+=M[Y]}return parseFloat(T)}(y);if(32<=b&&b<=246)return b-139;if(247<=b&&b<=250)return 256*(b-247)+y.parseByte()+108;if(251<=b&&b<=254)return 256*-(b-251)-y.parseByte()-108;throw new Error("Invalid b0 "+b)}function bn(y,b,S){b=b!==void 0?b:0;var T=new V.Parser(y,b),M=[],k=[];for(S=S!==void 0?S:y.length;T.relativeOffset<S;){var F=T.parseByte();F<=21?(F===12&&(F=1200+T.parseByte()),M.push([F,k]),k=[]):k.push(Xn(T,F))}return function(Y){for(var Z={},ce=0;ce<Y.length;ce+=1){var ye=Y[ce][0],Te=Y[ce][1],te=void 0;if(te=Te.length===1?Te[0]:Te,Z.hasOwnProperty(ye)&&!isNaN(Z[ye]))throw new Error("Object "+Z+" already has key "+ye);Z[ye]=te}return Z}(M)}function sn(y,b){return b=b<=390?q[b]:y[b-391]}function $n(y,b,S){for(var T,M={},k=0;k<b.length;k+=1){var F=b[k];if(Array.isArray(F.type)){var Y=[];Y.length=F.type.length;for(var Z=0;Z<F.type.length;Z++)(T=y[F.op]!==void 0?y[F.op][Z]:void 0)===void 0&&(T=F.value!==void 0&&F.value[Z]!==void 0?F.value[Z]:null),F.type[Z]==="SID"&&(T=sn(S,T)),Y[Z]=T;M[F.name]=Y}else(T=y[F.op])===void 0&&(T=F.value!==void 0?F.value:null),F.type==="SID"&&(T=sn(S,T)),M[F.name]=T}return M}var Kn=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Qn=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Zn(y,b,S,T){return $n(bn(y,b,S),Qn,T)}function Jn(y,b,S,T){for(var M,k,F=[],Y=0;Y<S.length;Y+=1){var Z=new DataView(new Uint8Array(S[Y]).buffer),ce=(k=T,$n(bn(M=Z,0,M.byteLength),Kn,k));ce._subrs=[],ce._subrsBias=0;var ye=ce.private[0],Te=ce.private[1];if(ye!==0&&Te!==0){var te=Zn(y,Te+b,ye,T);if(ce._defaultWidthX=te.defaultWidthX,ce._nominalWidthX=te.nominalWidthX,te.subrs!==0){var $e=xr(y,Te+te.subrs+b);ce._subrs=$e.objects,ce._subrsBias=on(ce._subrs)}ce._privateDict=te}F.push(ce)}return F}function bo(y,b,S){var T,M,k,F,Y,Z,ce,ye,Te=new me,te=[],$e=0,Ye=!1,Ne=!1,Me=0,Ie=0;if(y.isCIDFont){var st=y.tables.cff.topDict._fdSelect[b.index],ot=y.tables.cff.topDict._fdArray[st];Y=ot._subrs,Z=ot._subrsBias,ce=ot._defaultWidthX,ye=ot._nominalWidthX}else Y=y.tables.cff.topDict._subrs,Z=y.tables.cff.topDict._subrsBias,ce=y.tables.cff.topDict._defaultWidthX,ye=y.tables.cff.topDict._nominalWidthX;var _t=ce;function ut($t,Tt){Ne&&Te.closePath(),Te.moveTo($t,Tt),Ne=!0}function dt(){te.length%2==0||Ye||(_t=te.shift()+ye),$e+=te.length>>1,te.length=0,Ye=!0}return function $t(Tt){for(var St,Et,It,kt,qt,Bt,Lt,Yt,Ut,Jt,At,er,Vt=0;Vt<Tt.length;){var Wt=Tt[Vt];switch(Vt+=1,Wt){case 1:case 3:dt();break;case 4:1<te.length&&!Ye&&(_t=te.shift()+ye,Ye=!0),Ie+=te.pop(),ut(Me,Ie);break;case 5:for(;0<te.length;)Me+=te.shift(),Ie+=te.shift(),Te.lineTo(Me,Ie);break;case 6:for(;0<te.length&&(Me+=te.shift(),Te.lineTo(Me,Ie),te.length!==0);)Ie+=te.shift(),Te.lineTo(Me,Ie);break;case 7:for(;0<te.length&&(Ie+=te.shift(),Te.lineTo(Me,Ie),te.length!==0);)Me+=te.shift(),Te.lineTo(Me,Ie);break;case 8:for(;0<te.length;)T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),F=M+te.shift(),Me=k+te.shift(),Ie=F+te.shift(),Te.curveTo(T,M,k,F,Me,Ie);break;case 10:qt=te.pop()+Z,(Bt=Y[qt])&&$t(Bt);break;case 11:return;case 12:switch(Wt=Tt[Vt],Vt+=1,Wt){case 35:T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),F=M+te.shift(),Lt=k+te.shift(),Yt=F+te.shift(),Ut=Lt+te.shift(),Jt=Yt+te.shift(),At=Ut+te.shift(),er=Jt+te.shift(),Me=At+te.shift(),Ie=er+te.shift(),te.shift(),Te.curveTo(T,M,k,F,Lt,Yt),Te.curveTo(Ut,Jt,At,er,Me,Ie);break;case 34:T=Me+te.shift(),M=Ie,k=T+te.shift(),F=M+te.shift(),Lt=k+te.shift(),Yt=F,Ut=Lt+te.shift(),Jt=F,At=Ut+te.shift(),er=Ie,Me=At+te.shift(),Te.curveTo(T,M,k,F,Lt,Yt),Te.curveTo(Ut,Jt,At,er,Me,Ie);break;case 36:T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),F=M+te.shift(),Lt=k+te.shift(),Yt=F,Ut=Lt+te.shift(),Jt=F,At=Ut+te.shift(),er=Jt+te.shift(),Me=At+te.shift(),Te.curveTo(T,M,k,F,Lt,Yt),Te.curveTo(Ut,Jt,At,er,Me,Ie);break;case 37:T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),F=M+te.shift(),Lt=k+te.shift(),Yt=F+te.shift(),Ut=Lt+te.shift(),Jt=Yt+te.shift(),At=Ut+te.shift(),er=Jt+te.shift(),Math.abs(At-Me)>Math.abs(er-Ie)?Me=At+te.shift():Ie=er+te.shift(),Te.curveTo(T,M,k,F,Lt,Yt),Te.curveTo(Ut,Jt,At,er,Me,Ie);break;default:console.log("Glyph "+b.index+": unknown operator 1200"+Wt),te.length=0}break;case 14:0<te.length&&!Ye&&(_t=te.shift()+ye,Ye=!0),Ne&&(Te.closePath(),Ne=!1);break;case 18:dt();break;case 19:case 20:dt(),Vt+=$e+7>>3;break;case 21:2<te.length&&!Ye&&(_t=te.shift()+ye,Ye=!0),Ie+=te.pop(),ut(Me+=te.pop(),Ie);break;case 22:1<te.length&&!Ye&&(_t=te.shift()+ye,Ye=!0),ut(Me+=te.pop(),Ie);break;case 23:dt();break;case 24:for(;2<te.length;)T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),F=M+te.shift(),Me=k+te.shift(),Ie=F+te.shift(),Te.curveTo(T,M,k,F,Me,Ie);Me+=te.shift(),Ie+=te.shift(),Te.lineTo(Me,Ie);break;case 25:for(;6<te.length;)Me+=te.shift(),Ie+=te.shift(),Te.lineTo(Me,Ie);T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),F=M+te.shift(),Me=k+te.shift(),Ie=F+te.shift(),Te.curveTo(T,M,k,F,Me,Ie);break;case 26:for(te.length%2&&(Me+=te.shift());0<te.length;)T=Me,M=Ie+te.shift(),k=T+te.shift(),F=M+te.shift(),Me=k,Ie=F+te.shift(),Te.curveTo(T,M,k,F,Me,Ie);break;case 27:for(te.length%2&&(Ie+=te.shift());0<te.length;)T=Me+te.shift(),M=Ie,k=T+te.shift(),F=M+te.shift(),Me=k+te.shift(),Ie=F,Te.curveTo(T,M,k,F,Me,Ie);break;case 28:St=Tt[Vt],Et=Tt[Vt+1],te.push((St<<24|Et<<16)>>16),Vt+=2;break;case 29:qt=te.pop()+y.gsubrsBias,(Bt=y.gsubrs[qt])&&$t(Bt);break;case 30:for(;0<te.length&&(T=Me,M=Ie+te.shift(),k=T+te.shift(),F=M+te.shift(),Me=k+te.shift(),Ie=F+(te.length===1?te.shift():0),Te.curveTo(T,M,k,F,Me,Ie),te.length!==0);)T=Me+te.shift(),M=Ie,k=T+te.shift(),F=M+te.shift(),Ie=F+te.shift(),Me=k+(te.length===1?te.shift():0),Te.curveTo(T,M,k,F,Me,Ie);break;case 31:for(;0<te.length&&(T=Me+te.shift(),M=Ie,k=T+te.shift(),F=M+te.shift(),Ie=F+te.shift(),Me=k+(te.length===1?te.shift():0),Te.curveTo(T,M,k,F,Me,Ie),te.length!==0);)T=Me,M=Ie+te.shift(),k=T+te.shift(),F=M+te.shift(),Me=k+te.shift(),Ie=F+(te.length===1?te.shift():0),Te.curveTo(T,M,k,F,Me,Ie);break;default:Wt<32?console.log("Glyph "+b.index+": unknown operator "+Wt):Wt<247?te.push(Wt-139):Wt<251?(St=Tt[Vt],Vt+=1,te.push(256*(Wt-247)+St+108)):Wt<255?(St=Tt[Vt],Vt+=1,te.push(256*-(Wt-251)-St-108)):(St=Tt[Vt],Et=Tt[Vt+1],It=Tt[Vt+2],kt=Tt[Vt+3],Vt+=4,te.push((St<<24|Et<<16|It<<8|kt)/65536))}}}(S),b.advanceWidth=_t,Te}function Pn(y,b){var S,T=q.indexOf(y);return 0<=T&&(S=T),0<=(T=b.indexOf(y))?S=T+q.length:(S=q.length+b.length,b.push(y)),S}function kn(y,b,S){for(var T={},M=0;M<y.length;M+=1){var k=y[M],F=b[k.name];F===void 0||Mt(F,k.value)||(k.type==="SID"&&(F=Pn(F,S)),T[k.op]={name:k.name,type:k.type,value:F})}return T}function fe(y,b){var S=new Le.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return S.dict=kn(Kn,y,b),S}function Ve(y){var b=new Le.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return b.topDicts=[{name:"topDict_0",type:"TABLE",value:y}],b}function Ze(y){var b=[],S=y.path;b.push({name:"width",type:"NUMBER",value:y.advanceWidth});for(var T=0,M=0,k=0;k<S.commands.length;k+=1){var F=void 0,Y=void 0,Z=S.commands[k];if(Z.type==="Q"&&(Z={type:"C",x:Z.x,y:Z.y,x1:1/3*T+2/3*Z.x1,y1:1/3*M+2/3*Z.y1,x2:1/3*Z.x+2/3*Z.x1,y2:1/3*Z.y+2/3*Z.y1}),Z.type==="M")F=Math.round(Z.x-T),Y=Math.round(Z.y-M),b.push({name:"dx",type:"NUMBER",value:F}),b.push({name:"dy",type:"NUMBER",value:Y}),b.push({name:"rmoveto",type:"OP",value:21}),T=Math.round(Z.x),M=Math.round(Z.y);else if(Z.type==="L")F=Math.round(Z.x-T),Y=Math.round(Z.y-M),b.push({name:"dx",type:"NUMBER",value:F}),b.push({name:"dy",type:"NUMBER",value:Y}),b.push({name:"rlineto",type:"OP",value:5}),T=Math.round(Z.x),M=Math.round(Z.y);else if(Z.type==="C"){var ce=Math.round(Z.x1-T),ye=Math.round(Z.y1-M),Te=Math.round(Z.x2-Z.x1),te=Math.round(Z.y2-Z.y1);F=Math.round(Z.x-Z.x2),Y=Math.round(Z.y-Z.y2),b.push({name:"dx1",type:"NUMBER",value:ce}),b.push({name:"dy1",type:"NUMBER",value:ye}),b.push({name:"dx2",type:"NUMBER",value:Te}),b.push({name:"dy2",type:"NUMBER",value:te}),b.push({name:"dx",type:"NUMBER",value:F}),b.push({name:"dy",type:"NUMBER",value:Y}),b.push({name:"rrcurveto",type:"OP",value:8}),T=Math.round(Z.x),M=Math.round(Z.y)}}return b.push({name:"endchar",type:"OP",value:14}),b}var qe={parse:function(y,b,S){S.tables.cff={};var T,M,k,F=xr(y,(T=y,M=b,(k={}).formatMajor=V.getCard8(T,M),k.formatMinor=V.getCard8(T,M+1),k.size=V.getCard8(T,M+2),k.offsetSize=V.getCard8(T,M+3),k.startOffset=M,k.endOffset=M+4,k).endOffset,V.bytesToString),Y=xr(y,F.endOffset),Z=xr(y,Y.endOffset,V.bytesToString),ce=xr(y,Z.endOffset);S.gsubrs=ce.objects,S.gsubrsBias=on(S.gsubrs);var ye=Jn(y,b,Y.objects,Z.objects);if(ye.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ye.length);var Te=ye[0];if((S.tables.cff.topDict=Te)._privateDict&&(S.defaultWidthX=Te._privateDict.defaultWidthX,S.nominalWidthX=Te._privateDict.nominalWidthX),Te.ros[0]!==void 0&&Te.ros[1]!==void 0&&(S.isCIDFont=!0),S.isCIDFont){var te=Te.fdArray,$e=Te.fdSelect;if(te===0||$e===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var Ye=Jn(y,b,xr(y,te+=b).objects,Z.objects);Te._fdArray=Ye,$e+=b,Te._fdSelect=function(dt,$t,Tt,St){var Et,It=[],kt=new V.Parser(dt,$t),qt=kt.parseCard8();if(qt===0)for(var Bt=0;Bt<Tt;Bt++){if(St<=(Et=kt.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Et+" (FD count "+St+")");It.push(Et)}else{if(qt!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+qt);var Lt,Yt=kt.parseCard16(),Ut=kt.parseCard16();if(Ut!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Ut);for(var Jt=0;Jt<Yt;Jt++){if(Et=kt.parseCard8(),Lt=kt.parseCard16(),St<=Et)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Et+" (FD count "+St+")");if(Tt<Lt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Lt);for(;Ut<Lt;Ut++)It.push(Et);Ut=Lt}if(Lt!==Tt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Lt)}return It}(y,$e,S.numGlyphs,Ye.length)}var Ne=b+Te.private[1],Me=Zn(y,Ne,Te.private[0],Z.objects);if(S.defaultWidthX=Me.defaultWidthX,S.nominalWidthX=Me.nominalWidthX,Me.subrs!==0){var Ie=xr(y,Ne+Me.subrs);S.subrs=Ie.objects,S.subrsBias=on(S.subrs)}else S.subrs=[],S.subrsBias=0;var st=xr(y,b+Te.charStrings);S.nGlyphs=st.objects.length;var ot=function(dt,$t,Tt,St){var Et,It,kt=new V.Parser(dt,$t);--Tt;var qt=[".notdef"],Bt=kt.parseCard8();if(Bt===0)for(var Lt=0;Lt<Tt;Lt+=1)Et=kt.parseSID(),qt.push(sn(St,Et));else if(Bt===1)for(;qt.length<=Tt;){Et=kt.parseSID(),It=kt.parseCard8();for(var Yt=0;Yt<=It;Yt+=1)qt.push(sn(St,Et)),Et+=1}else{if(Bt!==2)throw new Error("Unknown charset format "+Bt);for(;qt.length<=Tt;){Et=kt.parseSID(),It=kt.parseCard16();for(var Ut=0;Ut<=It;Ut+=1)qt.push(sn(St,Et)),Et+=1}}return qt}(y,b+Te.charset,S.nGlyphs,Z.objects);Te.encoding===0?S.cffEncoding=new we(K,ot):Te.encoding===1?S.cffEncoding=new we(de,ot):S.cffEncoding=function(dt,$t,Tt){var St,Et={},It=new V.Parser(dt,$t),kt=It.parseCard8();if(kt===0)for(var qt=It.parseCard8(),Bt=0;Bt<qt;Bt+=1)Et[St=It.parseCard8()]=Bt;else{if(kt!==1)throw new Error("Unknown encoding format "+kt);var Lt=It.parseCard8();St=1;for(var Yt=0;Yt<Lt;Yt+=1)for(var Ut=It.parseCard8(),Jt=It.parseCard8(),At=Ut;At<=Ut+Jt;At+=1)Et[At]=St,St+=1}return new we(Et,Tt)}(y,b+Te.encoding,ot),S.encoding=S.encoding||S.cffEncoding,S.glyphs=new pt.GlyphSet(S);for(var _t=0;_t<S.nGlyphs;_t+=1){var ut=st.objects[_t];S.glyphs.push(_t,pt.cffGlyphLoader(S,_t,bo,ut))}},make:function(y,b){for(var S,T=new Le.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),M=1/b.unitsPerEm,k={version:b.version,fullName:b.fullName,familyName:b.familyName,weight:b.weightName,fontBBox:b.fontBBox||[0,0,0,0],fontMatrix:[M,0,0,M,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},F=[],Y=1;Y<y.length;Y+=1)S=y.get(Y),F.push(S.name);var Z=[];T.header=new Le.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),T.nameIndex=function(Ye){var Ne=new Le.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Ne.names=[];for(var Me=0;Me<Ye.length;Me+=1)Ne.names.push({name:"name_"+Me,type:"NAME",value:Ye[Me]});return Ne}([b.postScriptName]);var ce,ye,Te,te=fe(k,Z);T.topDictIndex=Ve(te),T.globalSubrIndex=new Le.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),T.charsets=function(Ye,Ne){for(var Me=new Le.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ie=0;Ie<Ye.length;Ie+=1){var st=Pn(Ye[Ie],Ne);Me.fields.push({name:"glyph_"+Ie,type:"SID",value:st})}return Me}(F,Z),T.charStringsIndex=function(Ye){for(var Ne=new Le.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Me=0;Me<Ye.length;Me+=1){var Ie=Ye.get(Me),st=Ze(Ie);Ne.charStrings.push({name:Ie.name,type:"CHARSTRING",value:st})}return Ne}(y),T.privateDict=(ce={},ye=Z,(Te=new Le.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=kn(Qn,ce,ye),Te),T.stringIndex=function(Ye){var Ne=new Le.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Ne.strings=[];for(var Me=0;Me<Ye.length;Me+=1)Ne.strings.push({name:"string_"+Me,type:"STRING",value:Ye[Me]});return Ne}(Z);var $e=T.header.sizeOf()+T.nameIndex.sizeOf()+T.topDictIndex.sizeOf()+T.stringIndex.sizeOf()+T.globalSubrIndex.sizeOf();return k.charset=$e,k.encoding=0,k.charStrings=k.charset+T.charsets.sizeOf(),k.private[1]=k.charStrings+T.charStringsIndex.sizeOf(),te=fe(k,Z),T.topDictIndex=Ve(te),T}},nt={parse:function(y,b){var S={},T=new V.Parser(y,b);return S.version=T.parseVersion(),S.fontRevision=Math.round(1e3*T.parseFixed())/1e3,S.checkSumAdjustment=T.parseULong(),S.magicNumber=T.parseULong(),ve.argument(S.magicNumber===1594834165,"Font header has wrong magic number."),S.flags=T.parseUShort(),S.unitsPerEm=T.parseUShort(),S.created=T.parseLongDateTime(),S.modified=T.parseLongDateTime(),S.xMin=T.parseShort(),S.yMin=T.parseShort(),S.xMax=T.parseShort(),S.yMax=T.parseShort(),S.macStyle=T.parseUShort(),S.lowestRecPPEM=T.parseUShort(),S.fontDirectionHint=T.parseShort(),S.indexToLocFormat=T.parseShort(),S.glyphDataFormat=T.parseShort(),S},make:function(y){var b=Math.round(new Date().getTime()/1e3)+2082844800,S=b;return y.createdTimestamp&&(S=y.createdTimestamp+2082844800),new Le.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:S},{name:"modified",type:"LONGDATETIME",value:b},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],y)}},Ge={parse:function(y,b){var S={},T=new V.Parser(y,b);return S.version=T.parseVersion(),S.ascender=T.parseShort(),S.descender=T.parseShort(),S.lineGap=T.parseShort(),S.advanceWidthMax=T.parseUShort(),S.minLeftSideBearing=T.parseShort(),S.minRightSideBearing=T.parseShort(),S.xMaxExtent=T.parseShort(),S.caretSlopeRise=T.parseShort(),S.caretSlopeRun=T.parseShort(),S.caretOffset=T.parseShort(),T.relativeOffset+=8,S.metricDataFormat=T.parseShort(),S.numberOfHMetrics=T.parseUShort(),S},make:function(y){return new Le.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],y)}},jt={parse:function(y,b,S,T,M){for(var k,F,Y=new V.Parser(y,b),Z=0;Z<T;Z+=1){Z<S&&(k=Y.parseUShort(),F=Y.parseShort());var ce=M.get(Z);ce.advanceWidth=k,ce.leftSideBearing=F}},make:function(y){for(var b=new Le.Table("hmtx",[]),S=0;S<y.length;S+=1){var T=y.get(S),M=T.advanceWidth||0,k=T.leftSideBearing||0;b.fields.push({name:"advanceWidth_"+S,type:"USHORT",value:M}),b.fields.push({name:"leftSideBearing_"+S,type:"SHORT",value:k})}return b}},Rt={make:function(y){for(var b=new Le.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:y.length}]),S="",T=12+4*y.length,M=0;M<y.length;++M){var k=S.indexOf(y[M]);k<0&&(k=S.length,S+=y[M]),b.fields.push({name:"offset "+M,type:"USHORT",value:T+k}),b.fields.push({name:"length "+M,type:"USHORT",value:y[M].length})}return b.fields.push({name:"stringPool",type:"CHARARRAY",value:S}),b},parse:function(y,b){var S=new V.Parser(y,b),T=S.parseULong();ve.argument(T===1,"Unsupported ltag table version."),S.skip("uLong",1);for(var M=S.parseULong(),k=[],F=0;F<M;F++){for(var Y="",Z=b+S.parseUShort(),ce=S.parseUShort(),ye=Z;ye<Z+ce;++ye)Y+=String.fromCharCode(y.getInt8(ye));k.push(Y)}return k}},Dt={parse:function(y,b){var S={},T=new V.Parser(y,b);return S.version=T.parseVersion(),S.numGlyphs=T.parseUShort(),S.version===1&&(S.maxPoints=T.parseUShort(),S.maxContours=T.parseUShort(),S.maxCompositePoints=T.parseUShort(),S.maxCompositeContours=T.parseUShort(),S.maxZones=T.parseUShort(),S.maxTwilightPoints=T.parseUShort(),S.maxStorage=T.parseUShort(),S.maxFunctionDefs=T.parseUShort(),S.maxInstructionDefs=T.parseUShort(),S.maxStackElements=T.parseUShort(),S.maxSizeOfInstructions=T.parseUShort(),S.maxComponentElements=T.parseUShort(),S.maxComponentDepth=T.parseUShort()),S},make:function(y){return new Le.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:y}])}},wt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Je={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},zt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ct={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Xo(y,b,S){switch(y){case 0:if(b===65535)return"und";if(S)return S[b];break;case 1:return Je[b];case 3:return ct[b]}}var eo="utf-16",$o={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ko={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Qo(y,b,S){switch(y){case 0:return eo;case 1:return Ko[S]||$o[b];case 3:if(b===1||b===10)return eo}}function wo(y){var b={};for(var S in y)b[y[S]]=parseInt(S);return b}function xo(y,b,S,T,M,k){return new Le.Record("NameRecord",[{name:"platformID",type:"USHORT",value:y},{name:"encodingID",type:"USHORT",value:b},{name:"languageID",type:"USHORT",value:S},{name:"nameID",type:"USHORT",value:T},{name:"length",type:"USHORT",value:M},{name:"offset",type:"USHORT",value:k}])}function rl(y,b){var S=function(k,F){var Y=k.length,Z=F.length-Y+1;e:for(var ce=0;ce<Z;ce++)for(;ce<Z;ce++){for(var ye=0;ye<Y;ye++)if(F[ce+ye]!==k[ye])continue e;return ce}return-1}(y,b);if(S<0){S=b.length;for(var T=0,M=y.length;T<M;++T)b.push(y[T])}return S}var nl={parse:function(y,b,S){for(var T={},M=new V.Parser(y,b),k=M.parseUShort(),F=M.parseUShort(),Y=M.offset+M.parseUShort(),Z=0;Z<F;Z++){var ce=M.parseUShort(),ye=M.parseUShort(),Te=M.parseUShort(),te=M.parseUShort(),$e=wt[te]||te,Ye=M.parseUShort(),Ne=M.parseUShort(),Me=Xo(ce,Te,S),Ie=Qo(ce,ye,Te);if(Ie!==void 0&&Me!==void 0){var st=void 0;if(st=Ie===eo?De.UTF16(y,Y+Ne,Ye):De.MACSTRING(y,Y+Ne,Ye,Ie)){var ot=T[$e];ot===void 0&&(ot=T[$e]={}),ot[Me]=st}}}return k===1&&M.parseUShort(),T},make:function(y,b){var S,T=[],M={},k=wo(wt);for(var F in y){var Y=k[F];if(Y===void 0&&(Y=F),S=parseInt(Y),isNaN(S))throw new Error('Name table entry "'+F+'" does not exist, see nameTableNames for complete list.');M[S]=y[F],T.push(S)}for(var Z=wo(Je),ce=wo(ct),ye=[],Te=[],te=0;te<T.length;te++){var $e=M[S=T[te]];for(var Ye in $e){var Ne=$e[Ye],Me=1,Ie=Z[Ye],st=zt[Ie],ot=Qo(Me,st,Ie),_t=_e.MACSTRING(Ne,ot);_t===void 0&&(Me=0,(Ie=b.indexOf(Ye))<0&&(Ie=b.length,b.push(Ye)),st=4,_t=_e.UTF16(Ne));var ut=rl(_t,Te);ye.push(xo(Me,st,Ie,S,_t.length,ut));var dt=ce[Ye];if(dt!==void 0){var $t=_e.UTF16(Ne),Tt=rl($t,Te);ye.push(xo(3,1,dt,S,$t.length,Tt))}}}ye.sort(function(It,kt){return It.platformID-kt.platformID||It.encodingID-kt.encodingID||It.languageID-kt.languageID||It.nameID-kt.nameID});for(var St=new Le.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ye.length},{name:"stringOffset",type:"USHORT",value:6+12*ye.length}]),Et=0;Et<ye.length;Et++)St.fields.push({name:"record_"+Et,type:"RECORD",value:ye[Et]});return St.fields.push({name:"strings",type:"LITERAL",value:Te}),St}},xi=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],_i={parse:function(y,b){var S={},T=new V.Parser(y,b);S.version=T.parseUShort(),S.xAvgCharWidth=T.parseShort(),S.usWeightClass=T.parseUShort(),S.usWidthClass=T.parseUShort(),S.fsType=T.parseUShort(),S.ySubscriptXSize=T.parseShort(),S.ySubscriptYSize=T.parseShort(),S.ySubscriptXOffset=T.parseShort(),S.ySubscriptYOffset=T.parseShort(),S.ySuperscriptXSize=T.parseShort(),S.ySuperscriptYSize=T.parseShort(),S.ySuperscriptXOffset=T.parseShort(),S.ySuperscriptYOffset=T.parseShort(),S.yStrikeoutSize=T.parseShort(),S.yStrikeoutPosition=T.parseShort(),S.sFamilyClass=T.parseShort(),S.panose=[];for(var M=0;M<10;M++)S.panose[M]=T.parseByte();return S.ulUnicodeRange1=T.parseULong(),S.ulUnicodeRange2=T.parseULong(),S.ulUnicodeRange3=T.parseULong(),S.ulUnicodeRange4=T.parseULong(),S.achVendID=String.fromCharCode(T.parseByte(),T.parseByte(),T.parseByte(),T.parseByte()),S.fsSelection=T.parseUShort(),S.usFirstCharIndex=T.parseUShort(),S.usLastCharIndex=T.parseUShort(),S.sTypoAscender=T.parseShort(),S.sTypoDescender=T.parseShort(),S.sTypoLineGap=T.parseShort(),S.usWinAscent=T.parseUShort(),S.usWinDescent=T.parseUShort(),1<=S.version&&(S.ulCodePageRange1=T.parseULong(),S.ulCodePageRange2=T.parseULong()),2<=S.version&&(S.sxHeight=T.parseShort(),S.sCapHeight=T.parseShort(),S.usDefaultChar=T.parseUShort(),S.usBreakChar=T.parseUShort(),S.usMaxContent=T.parseUShort()),S},make:function(y){return new Le.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],y)},unicodeRanges:xi,getUnicodeRange:function(y){for(var b=0;b<xi.length;b+=1){var S=xi[b];if(y>=S.begin&&y<S.end)return b}return-1}},ol={parse:function(y,b){var S={},T=new V.Parser(y,b);switch(S.version=T.parseVersion(),S.italicAngle=T.parseFixed(),S.underlinePosition=T.parseShort(),S.underlineThickness=T.parseShort(),S.isFixedPitch=T.parseULong(),S.minMemType42=T.parseULong(),S.maxMemType42=T.parseULong(),S.minMemType1=T.parseULong(),S.maxMemType1=T.parseULong(),S.version){case 1:S.names=Ee.slice();break;case 2:S.numberOfGlyphs=T.parseUShort(),S.glyphNameIndex=new Array(S.numberOfGlyphs);for(var M=0;M<S.numberOfGlyphs;M++)S.glyphNameIndex[M]=T.parseUShort();S.names=[];for(var k=0;k<S.numberOfGlyphs;k++)if(S.glyphNameIndex[k]>=Ee.length){var F=T.parseChar();S.names.push(T.parseString(F))}break;case 2.5:S.numberOfGlyphs=T.parseUShort(),S.offset=new Array(S.numberOfGlyphs);for(var Y=0;Y<S.numberOfGlyphs;Y++)S.offset[Y]=T.parseChar()}return S},make:function(){return new Le.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Wr=new Array(9);Wr[1]=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{substFormat:1,coverage:this.parsePointer(be.coverage),deltaGlyphId:this.parseUShort()}:b===2?{substFormat:2,coverage:this.parsePointer(be.coverage),substitute:this.parseOffset16List()}:void ve.assert(!1,"0x"+y.toString(16)+": lookup type 1 format must be 1 or 2.")},Wr[2]=function(){var y=this.parseUShort();return ve.argument(y===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(be.coverage),sequences:this.parseListOfLists()}},Wr[3]=function(){var y=this.parseUShort();return ve.argument(y===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(be.coverage),alternateSets:this.parseListOfLists()}},Wr[4]=function(){var y=this.parseUShort();return ve.argument(y===1,"GSUB ligature table identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(be.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var _o={sequenceIndex:be.uShort,lookupListIndex:be.uShort};Wr[5]=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();if(b===1)return{substFormat:b,coverage:this.parsePointer(be.coverage),ruleSets:this.parseListOfLists(function(){var M=this.parseUShort(),k=this.parseUShort();return{input:this.parseUShortList(M-1),lookupRecords:this.parseRecordList(k,_o)}})};if(b===2)return{substFormat:b,coverage:this.parsePointer(be.coverage),classDef:this.parsePointer(be.classDef),classSets:this.parseListOfLists(function(){var M=this.parseUShort(),k=this.parseUShort();return{classes:this.parseUShortList(M-1),lookupRecords:this.parseRecordList(k,_o)}})};if(b===3){var S=this.parseUShort(),T=this.parseUShort();return{substFormat:b,coverages:this.parseList(S,be.pointer(be.coverage)),lookupRecords:this.parseRecordList(T,_o)}}ve.assert(!1,"0x"+y.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Wr[6]=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{substFormat:1,coverage:this.parsePointer(be.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(_o)}})}:b===2?{substFormat:2,coverage:this.parsePointer(be.coverage),backtrackClassDef:this.parsePointer(be.classDef),inputClassDef:this.parsePointer(be.classDef),lookaheadClassDef:this.parsePointer(be.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(_o)}})}:b===3?{substFormat:3,backtrackCoverage:this.parseList(be.pointer(be.coverage)),inputCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),lookupRecords:this.parseRecordList(_o)}:void ve.assert(!1,"0x"+y.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Wr[7]=function(){var y=this.parseUShort();ve.argument(y===1,"GSUB Extension Substitution subtable identifier-format must be 1");var b=this.parseUShort(),S=new be(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:b,extension:Wr[b].call(S)}},Wr[8]=function(){var y=this.parseUShort();return ve.argument(y===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(be.coverage),backtrackCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),substitutes:this.parseUShortList()}};var _s=new Array(9);_s[1]=function(y){return y.substFormat===1?new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(y.coverage)},{name:"deltaGlyphID",type:"USHORT",value:y.deltaGlyphId}]):new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Le.Coverage(y.coverage)}].concat(Le.ushortList("substitute",y.substitute)))},_s[3]=function(y){return ve.assert(y.substFormat===1,"Lookup type 3 substFormat must be 1."),new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(y.coverage)}].concat(Le.tableList("altSet",y.alternateSets,function(b){return new Le.Table("alternateSetTable",Le.ushortList("alternate",b))})))},_s[4]=function(y){return ve.assert(y.substFormat===1,"Lookup type 4 substFormat must be 1."),new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(y.coverage)}].concat(Le.tableList("ligSet",y.ligatureSets,function(b){return new Le.Table("ligatureSetTable",Le.tableList("ligature",b,function(S){return new Le.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:S.ligGlyph}].concat(Le.ushortList("component",S.components,S.components.length+1)))}))})))};var sl={parse:function(y,b){var S=new be(y,b=b||0),T=S.parseVersion(1);return ve.argument(T===1||T===1.1,"Unsupported GSUB table version."),T===1?{version:T,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Wr)}:{version:T,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Wr),variations:S.parseFeatureVariationsList()}},make:function(y){return new Le.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Le.ScriptList(y.scripts)},{name:"features",type:"TABLE",value:new Le.FeatureList(y.features)},{name:"lookups",type:"TABLE",value:new Le.LookupList(y.lookups,_s)}])}},il={parse:function(y,b){var S=new V.Parser(y,b),T=S.parseULong();ve.argument(T===1,"Unsupported META table version."),S.parseULong(),S.parseULong();for(var M=S.parseULong(),k={},F=0;F<M;F++){var Y=S.parseTag(),Z=S.parseULong(),ce=S.parseULong(),ye=De.UTF8(y,b+Z,ce);k[Y]=ye}return k},make:function(y){var b=Object.keys(y).length,S="",T=16+12*b,M=new Le.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:T},{name:"numTags",type:"ULONG",value:b}]);for(var k in y){var F=S.length;S+=y[k],M.fields.push({name:"tag "+k,type:"TAG",value:k}),M.fields.push({name:"offset "+k,type:"ULONG",value:T+F}),M.fields.push({name:"length "+k,type:"ULONG",value:y[k].length})}return M.fields.push({name:"stringPool",type:"CHARARRAY",value:S}),M}};function al(y){return Math.log(y)/Math.log(2)|0}function Si(y){for(;y.length%4!=0;)y.push(0);for(var b=0,S=0;S<y.length;S+=4)b+=(y[S]<<24)+(y[S+1]<<16)+(y[S+2]<<8)+y[S+3];return b%=Math.pow(2,32)}function ll(y,b,S,T){return new Le.Record("Table Record",[{name:"tag",type:"TAG",value:y!==void 0?y:""},{name:"checkSum",type:"ULONG",value:b!==void 0?b:0},{name:"offset",type:"ULONG",value:S!==void 0?S:0},{name:"length",type:"ULONG",value:T!==void 0?T:0}])}function ul(y){var b=new Le.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);b.tables=y,b.numTables=y.length;var S=Math.pow(2,al(b.numTables));b.searchRange=16*S,b.entrySelector=al(S),b.rangeShift=16*b.numTables-b.searchRange;for(var T=[],M=[],k=b.sizeOf()+ll().sizeOf()*b.numTables;k%4!=0;)k+=1,M.push({name:"padding",type:"BYTE",value:0});for(var F=0;F<y.length;F+=1){var Y=y[F];ve.argument(Y.tableName.length===4,"Table name"+Y.tableName+" is invalid.");var Z=Y.sizeOf(),ce=ll(Y.tableName,Si(Y.encode()),k,Z);for(T.push({name:ce.tag+" Table Record",type:"RECORD",value:ce}),M.push({name:Y.tableName+" table",type:"RECORD",value:Y}),k+=Z,ve.argument(!isNaN(k),"Something went wrong calculating the offset.");k%4!=0;)k+=1,M.push({name:"padding",type:"BYTE",value:0})}return T.sort(function(ye,Te){return ye.value.tag>Te.value.tag?1:-1}),b.fields=b.fields.concat(T),b.fields=b.fields.concat(M),b}function cl(y,b,S){for(var T=0;T<b.length;T+=1){var M=y.charToGlyphIndex(b[T]);if(0<M)return y.glyphs.get(M).getMetrics()}return S}var Td={make:ul,fontToTable:function(y){for(var b,S=[],T=[],M=[],k=[],F=[],Y=[],Z=[],ce=0,ye=0,Te=0,te=0,$e=0,Ye=0;Ye<y.glyphs.length;Ye+=1){var Ne=y.glyphs.get(Ye),Me=0|Ne.unicode;if(isNaN(Ne.advanceWidth))throw new Error("Glyph "+Ne.name+" ("+Ye+"): advanceWidth is not a number.");(Me<b||b===void 0)&&0<Me&&(b=Me),ce<Me&&(ce=Me);var Ie=_i.getUnicodeRange(Me);if(Ie<32)ye|=1<<Ie;else if(Ie<64)Te|=1<<Ie-32;else if(Ie<96)te|=1<<Ie-64;else{if(!(Ie<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");$e|=1<<Ie-96}if(Ne.name!==".notdef"){var st=Ne.getMetrics();S.push(st.xMin),T.push(st.yMin),M.push(st.xMax),k.push(st.yMax),Y.push(st.leftSideBearing),Z.push(st.rightSideBearing),F.push(Ne.advanceWidth)}}var ot={xMin:Math.min.apply(null,S),yMin:Math.min.apply(null,T),xMax:Math.max.apply(null,M),yMax:Math.max.apply(null,k),advanceWidthMax:Math.max.apply(null,F),advanceWidthAvg:function(To){for(var Gl=0,Oi=0;Oi<To.length;Oi+=1)Gl+=To[Oi];return Gl/To.length}(F),minLeftSideBearing:Math.min.apply(null,Y),maxLeftSideBearing:Math.max.apply(null,Y),minRightSideBearing:Math.min.apply(null,Z)};ot.ascender=y.ascender,ot.descender=y.descender;var _t=nt.make({flags:3,unitsPerEm:y.unitsPerEm,xMin:ot.xMin,yMin:ot.yMin,xMax:ot.xMax,yMax:ot.yMax,lowestRecPPEM:3,createdTimestamp:y.createdTimestamp}),ut=Ge.make({ascender:ot.ascender,descender:ot.descender,advanceWidthMax:ot.advanceWidthMax,minLeftSideBearing:ot.minLeftSideBearing,minRightSideBearing:ot.minRightSideBearing,xMaxExtent:ot.maxLeftSideBearing+(ot.xMax-ot.xMin),numberOfHMetrics:y.glyphs.length}),dt=Dt.make(y.glyphs.length),$t=_i.make({xAvgCharWidth:Math.round(ot.advanceWidthAvg),usWeightClass:y.tables.os2.usWeightClass,usWidthClass:y.tables.os2.usWidthClass,usFirstCharIndex:b,usLastCharIndex:ce,ulUnicodeRange1:ye,ulUnicodeRange2:Te,ulUnicodeRange3:te,ulUnicodeRange4:$e,fsSelection:y.tables.os2.fsSelection,sTypoAscender:ot.ascender,sTypoDescender:ot.descender,sTypoLineGap:0,usWinAscent:ot.yMax,usWinDescent:Math.abs(ot.yMin),ulCodePageRange1:1,sxHeight:cl(y,"xyvw",{yMax:Math.round(ot.ascender/2)}).yMax,sCapHeight:cl(y,"HIKLEFJMNTZBDPRAGOQSUVWXY",ot).yMax,usDefaultChar:y.hasChar(" ")?32:0,usBreakChar:y.hasChar(" ")?32:0}),Tt=jt.make(y.glyphs),St=Q.make(y.glyphs),Et=y.getEnglishName("fontFamily"),It=y.getEnglishName("fontSubfamily"),kt=Et+" "+It,qt=y.getEnglishName("postScriptName");qt=qt||Et.replace(/\s/g,"")+"-"+It;var Bt={};for(var Lt in y.names)Bt[Lt]=y.names[Lt];Bt.uniqueID||(Bt.uniqueID={en:y.getEnglishName("manufacturer")+":"+kt}),Bt.postScriptName||(Bt.postScriptName={en:qt}),Bt.preferredFamily||(Bt.preferredFamily=y.names.fontFamily),Bt.preferredSubfamily||(Bt.preferredSubfamily=y.names.fontSubfamily);var Yt=[],Ut=nl.make(Bt,Yt),Jt=0<Yt.length?Rt.make(Yt):void 0,At=ol.make(),er=qe.make(y.glyphs,{version:y.getEnglishName("version"),fullName:kt,familyName:Et,weightName:It,postScriptName:qt,unitsPerEm:y.unitsPerEm,fontBBox:[0,ot.yMin,ot.ascender,ot.advanceWidthMax]}),Vt=y.metas&&0<Object.keys(y.metas).length?il.make(y.metas):void 0,Wt=[_t,ut,dt,$t,Ut,St,At,er,Tt];Jt&&Wt.push(Jt),y.tables.gsub&&Wt.push(sl.make(y.tables.gsub)),Vt&&Wt.push(Vt);for(var un=ul(Wt),jo=Si(un.encode()),ro=un.fields,Dr=!1,no=0;no<ro.length;no+=1)if(ro[no].name==="head table"){ro[no].value.checkSumAdjustment=2981146554-jo,Dr=!0;break}if(!Dr)throw new Error("Could not find head table with checkSum to adjust.");return un},computeCheckSum:Si};function ji(y,b){for(var S=0,T=y.length-1;S<=T;){var M=S+T>>>1,k=y[M].tag;if(k===b)return M;k<b?S=1+M:T=M-1}return-S-1}function dl(y,b){for(var S=0,T=y.length-1;S<=T;){var M=S+T>>>1,k=y[M];if(k===b)return M;k<b?S=1+M:T=M-1}return-S-1}function hl(y,b){for(var S,T=0,M=y.length-1;T<=M;){var k=T+M>>>1,F=(S=y[k]).start;if(F===b)return S;F<b?T=1+k:M=k-1}if(0<T)return b>(S=y[T-1]).end?0:S}function Ss(y,b){this.font=y,this.tableName=b}function js(y){Ss.call(this,y,"gpos")}function an(y){Ss.call(this,y,"gsub")}function Ed(y,b){var S=y.length;if(S!==b.length)return!1;for(var T=0;T<S;T++)if(y[T]!==b[T])return!1;return!0}function fl(y,b,S){for(var T=y.subtables,M=0;M<T.length;M++){var k=T[M];if(k.substFormat===b)return k}if(S)return T.push(S),S}function pl(y){for(var b=new ArrayBuffer(y.length),S=new Uint8Array(b),T=0;T<y.length;++T)S[T]=y[T];return b}function So(y,b){if(!y)throw b}function ml(y,b,S,T,M){var k;return k=0<(b&T)?(k=y.parseByte(),!(b&M)&&(k=-k),S+k):0<(b&M)?S:S+y.parseShort()}function Cd(y,b,S){var T,M,k=new V.Parser(b,S);if(y.numberOfContours=k.parseShort(),y._xMin=k.parseShort(),y._yMin=k.parseShort(),y._xMax=k.parseShort(),y._yMax=k.parseShort(),0<y.numberOfContours){for(var F=y.endPointIndices=[],Y=0;Y<y.numberOfContours;Y+=1)F.push(k.parseUShort());y.instructionLength=k.parseUShort(),y.instructions=[];for(var Z=0;Z<y.instructionLength;Z+=1)y.instructions.push(k.parseByte());var ce=F[F.length-1]+1;T=[];for(var ye=0;ye<ce;ye+=1)if(M=k.parseByte(),T.push(M),0<(8&M))for(var Te=k.parseByte(),te=0;te<Te;te+=1)T.push(M),ye+=1;if(ve.argument(T.length===ce,"Bad flags."),0<F.length){var $e,Ye=[];if(0<ce){for(var Ne=0;Ne<ce;Ne+=1)M=T[Ne],($e={}).onCurve=!!(1&M),$e.lastPointOfContour=0<=F.indexOf(Ne),Ye.push($e);for(var Me=0,Ie=0;Ie<ce;Ie+=1)M=T[Ie],($e=Ye[Ie]).x=ml(k,M,Me,2,16),Me=$e.x;for(var st=0,ot=0;ot<ce;ot+=1)M=T[ot],($e=Ye[ot]).y=ml(k,M,st,4,32),st=$e.y}y.points=Ye}else y.points=[]}else if(y.numberOfContours===0)y.points=[];else{y.isComposite=!0,y.points=[],y.components=[];for(var _t=!0;_t;){T=k.parseUShort();var ut={glyphIndex:k.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&T)?0<(2&T)?(ut.dx=k.parseShort(),ut.dy=k.parseShort()):ut.matchedPoints=[k.parseUShort(),k.parseUShort()]:0<(2&T)?(ut.dx=k.parseChar(),ut.dy=k.parseChar()):ut.matchedPoints=[k.parseByte(),k.parseByte()],0<(8&T)?ut.xScale=ut.yScale=k.parseF2Dot14():0<(64&T)?(ut.xScale=k.parseF2Dot14(),ut.yScale=k.parseF2Dot14()):0<(128&T)&&(ut.xScale=k.parseF2Dot14(),ut.scale01=k.parseF2Dot14(),ut.scale10=k.parseF2Dot14(),ut.yScale=k.parseF2Dot14()),y.components.push(ut),_t=!!(32&T)}if(256&T){y.instructionLength=k.parseUShort(),y.instructions=[];for(var dt=0;dt<y.instructionLength;dt+=1)y.instructions.push(k.parseByte())}}}function Ti(y,b){for(var S=[],T=0;T<y.length;T+=1){var M=y[T],k={x:b.xScale*M.x+b.scale01*M.y+b.dx,y:b.scale10*M.x+b.yScale*M.y+b.dy,onCurve:M.onCurve,lastPointOfContour:M.lastPointOfContour};S.push(k)}return S}function gl(y){var b=new me;if(!y)return b;for(var S=function(Te){for(var te=[],$e=[],Ye=0;Ye<Te.length;Ye+=1){var Ne=Te[Ye];$e.push(Ne),Ne.lastPointOfContour&&(te.push($e),$e=[])}return ve.argument($e.length===0,"There are still points left in the current contour."),te}(y),T=0;T<S.length;++T){var M=S[T],k=null,F=M[M.length-1],Y=M[0];if(F.onCurve)b.moveTo(F.x,F.y);else if(Y.onCurve)b.moveTo(Y.x,Y.y);else{var Z={x:.5*(F.x+Y.x),y:.5*(F.y+Y.y)};b.moveTo(Z.x,Z.y)}for(var ce=0;ce<M.length;++ce)if(k=F,F=Y,Y=M[(ce+1)%M.length],F.onCurve)b.lineTo(F.x,F.y);else{var ye=Y;k.onCurve||(.5*(F.x+k.x),.5*(F.y+k.y)),Y.onCurve||(ye={x:.5*(F.x+Y.x),y:.5*(F.y+Y.y)}),b.quadraticCurveTo(F.x,F.y,ye.x,ye.y)}b.closePath()}return b}function Md(y,b){if(b.isComposite)for(var S=0;S<b.components.length;S+=1){var T=b.components[S],M=y.get(T.glyphIndex);if(M.getPath(),M.points){var k=void 0;if(T.matchedPoints===void 0)k=Ti(M.points,T);else{if(T.matchedPoints[0]>b.points.length-1||T.matchedPoints[1]>M.points.length-1)throw Error("Matched points out of range in "+b.name);var F=b.points[T.matchedPoints[0]],Y=M.points[T.matchedPoints[1]],Z={xScale:T.xScale,scale01:T.scale01,scale10:T.scale10,yScale:T.yScale,dx:0,dy:0};Y=Ti([Y],Z)[0],Z.dx=F.x-Y.x,Z.dy=F.y-Y.y,k=Ti(M.points,Z)}b.points=b.points.concat(k)}}return gl(b.points)}(js.prototype=Ss.prototype={searchTag:ji,binSearch:dl,getTable:function(y){var b=this.font.tables[this.tableName];return!b&&y&&(b=this.font.tables[this.tableName]=this.createDefaultTable()),b},getScriptNames:function(){var y=this.getTable();return y?y.scripts.map(function(b){return b.tag}):[]},getDefaultScriptName:function(){var y=this.getTable();if(y){for(var b=!1,S=0;S<y.scripts.length;S++){var T=y.scripts[S].tag;if(T==="DFLT")return T;T==="latn"&&(b=!0)}return b?"latn":void 0}},getScriptTable:function(y,b){var S=this.getTable(b);if(S){y=y||"DFLT";var T=S.scripts,M=ji(S.scripts,y);if(0<=M)return T[M].script;if(b){var k={tag:y,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return T.splice(-1-M,0,k),k.script}}},getLangSysTable:function(y,b,S){var T=this.getScriptTable(y,S);if(T){if(!b||b==="dflt"||b==="DFLT")return T.defaultLangSys;var M=ji(T.langSysRecords,b);if(0<=M)return T.langSysRecords[M].langSys;if(S){var k={tag:b,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return T.langSysRecords.splice(-1-M,0,k),k.langSys}}},getFeatureTable:function(y,b,S,T){var M=this.getLangSysTable(y,b,T);if(M){for(var k,F=M.featureIndexes,Y=this.font.tables[this.tableName].features,Z=0;Z<F.length;Z++)if((k=Y[F[Z]]).tag===S)return k.feature;if(T){var ce=Y.length;return ve.assert(ce===0||S>=Y[ce-1].tag,"Features must be added in alphabetical order."),k={tag:S,feature:{params:0,lookupListIndexes:[]}},Y.push(k),F.push(ce),k.feature}}},getLookupTables:function(y,b,S,T,M){var k=this.getFeatureTable(y,b,S,M),F=[];if(k){for(var Y,Z=k.lookupListIndexes,ce=this.font.tables[this.tableName].lookups,ye=0;ye<Z.length;ye++)(Y=ce[Z[ye]]).lookupType===T&&F.push(Y);if(F.length===0&&M){Y={lookupType:T,lookupFlag:0,subtables:[],markFilteringSet:void 0};var Te=ce.length;return ce.push(Y),Z.push(Te),[Y]}}return F},getGlyphClass:function(y,b){switch(y.format){case 1:return y.startGlyph<=b&&b<y.startGlyph+y.classes.length?y.classes[b-y.startGlyph]:0;case 2:var S=hl(y.ranges,b);return S?S.classId:0}},getCoverageIndex:function(y,b){switch(y.format){case 1:var S=dl(y.glyphs,b);return 0<=S?S:-1;case 2:var T=hl(y.ranges,b);return T?T.index+b-T.start:-1}},expandCoverage:function(y){if(y.format===1)return y.glyphs;for(var b=[],S=y.ranges,T=0;T<S.length;T++)for(var M=S[T],k=M.start,F=M.end,Y=k;Y<=F;Y++)b.push(Y);return b}}).init=function(){var y=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(y)},js.prototype.getKerningValue=function(y,b,S){for(var T=0;T<y.length;T++)for(var M=y[T].subtables,k=0;k<M.length;k++){var F=M[k],Y=this.getCoverageIndex(F.coverage,b);if(!(Y<0))switch(F.posFormat){case 1:for(var Z=F.pairSets[Y],ce=0;ce<Z.length;ce++){var ye=Z[ce];if(ye.secondGlyph===S)return ye.value1&&ye.value1.xAdvance||0}break;case 2:var Te=this.getGlyphClass(F.classDef1,b),te=this.getGlyphClass(F.classDef2,S),$e=F.classRecords[Te][te];return $e.value1&&$e.value1.xAdvance||0}}return 0},js.prototype.getKerningTables=function(y,b){if(this.font.tables.gpos)return this.getLookupTables(y,b,"kern",2)},(an.prototype=Ss.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},an.prototype.getSingle=function(y,b,S){for(var T=[],M=this.getLookupTables(b,S,y,1),k=0;k<M.length;k++)for(var F=M[k].subtables,Y=0;Y<F.length;Y++){var Z=F[Y],ce=this.expandCoverage(Z.coverage),ye=void 0;if(Z.substFormat===1){var Te=Z.deltaGlyphId;for(ye=0;ye<ce.length;ye++){var te=ce[ye];T.push({sub:te,by:te+Te})}}else{var $e=Z.substitute;for(ye=0;ye<ce.length;ye++)T.push({sub:ce[ye],by:$e[ye]})}}return T},an.prototype.getAlternates=function(y,b,S){for(var T=[],M=this.getLookupTables(b,S,y,3),k=0;k<M.length;k++)for(var F=M[k].subtables,Y=0;Y<F.length;Y++)for(var Z=F[Y],ce=this.expandCoverage(Z.coverage),ye=Z.alternateSets,Te=0;Te<ce.length;Te++)T.push({sub:ce[Te],by:ye[Te]});return T},an.prototype.getLigatures=function(y,b,S){for(var T=[],M=this.getLookupTables(b,S,y,4),k=0;k<M.length;k++)for(var F=M[k].subtables,Y=0;Y<F.length;Y++)for(var Z=F[Y],ce=this.expandCoverage(Z.coverage),ye=Z.ligatureSets,Te=0;Te<ce.length;Te++)for(var te=ce[Te],$e=ye[Te],Ye=0;Ye<$e.length;Ye++){var Ne=$e[Ye];T.push({sub:[te].concat(Ne.components),by:Ne.ligGlyph})}return T},an.prototype.addSingle=function(y,b,S,T){var M=fl(this.getLookupTables(S,T,y,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});ve.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format);var k=b.sub,F=this.binSearch(M.coverage.glyphs,k);F<0&&(F=-1-F,M.coverage.glyphs.splice(F,0,k),M.substitute.splice(F,0,0)),M.substitute[F]=b.by},an.prototype.addAlternate=function(y,b,S,T){var M=fl(this.getLookupTables(S,T,y,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});ve.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format);var k=b.sub,F=this.binSearch(M.coverage.glyphs,k);F<0&&(F=-1-F,M.coverage.glyphs.splice(F,0,k),M.alternateSets.splice(F,0,0)),M.alternateSets[F]=b.by},an.prototype.addLigature=function(y,b,S,T){var M=this.getLookupTables(S,T,y,4,!0)[0],k=M.subtables[0];k||(k={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},M.subtables[0]=k),ve.assert(k.coverage.format===1,"Ligature: unable to modify coverage table format "+k.coverage.format);var F=b.sub[0],Y=b.sub.slice(1),Z={ligGlyph:b.by,components:Y},ce=this.binSearch(k.coverage.glyphs,F);if(0<=ce){for(var ye=k.ligatureSets[ce],Te=0;Te<ye.length;Te++)if(Ed(ye[Te].components,Y))return;ye.push(Z)}else ce=-1-ce,k.coverage.glyphs.splice(ce,0,F),k.ligatureSets.splice(ce,0,[Z])},an.prototype.getFeature=function(y,b,S){if(/ss\d\d/.test(y))return this.getSingle(y,b,S);switch(y){case"aalt":case"salt":return this.getSingle(y,b,S).concat(this.getAlternates(y,b,S));case"dlig":case"liga":case"rlig":return this.getLigatures(y,b,S)}},an.prototype.add=function(y,b,S,T){if(/ss\d\d/.test(y))return this.addSingle(y,b,S,T);switch(y){case"aalt":case"salt":return typeof b.by=="number"?this.addSingle(y,b,S,T):this.addAlternate(y,b,S,T);case"dlig":case"liga":case"rlig":return this.addLigature(y,b,S,T)}};var yl,to,vl,Ei,bl={getPath:gl,parse:function(y,b,S,T){for(var M=new pt.GlyphSet(T),k=0;k<S.length-1;k+=1){var F=S[k];F!==S[k+1]?M.push(k,pt.ttfGlyphLoader(T,k,Cd,y,b+F,Md)):M.push(k,pt.glyphLoader(T,k))}return M}};function wl(y){this.font=y,this.getCommands=function(b){return bl.getPath(b).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Ad(y){return y}function xl(y){return Math.sign(y)*Math.round(Math.abs(y))}function Rd(y){return Math.sign(y)*Math.round(Math.abs(2*y))/2}function Od(y){return Math.sign(y)*(Math.round(Math.abs(y)+.5)-.5)}function Pd(y){return Math.sign(y)*Math.ceil(Math.abs(y))}function kd(y){return Math.sign(y)*Math.floor(Math.abs(y))}function _l(y){var b=this.srPeriod,S=this.srPhase,T=1;return y<0&&(y=-y,T=-1),y+=this.srThreshold-S,y=Math.trunc(y/b)*b,(y+=S)<0?S*T:y*T}var ln={x:1,y:0,axis:"x",distance:function(y,b,S,T){return(S?y.xo:y.x)-(T?b.xo:b.x)},interpolate:function(y,b,S,T){var M,k,F,Y,Z,ce,ye;if(!T||T===this)return M=y.xo-b.xo,k=y.xo-S.xo,Z=b.x-b.xo,ce=S.x-S.xo,(ye=(F=Math.abs(M))+(Y=Math.abs(k)))===0?void(y.x=y.xo+(Z+ce)/2):void(y.x=y.xo+(Z*Y+ce*F)/ye);M=T.distance(y,b,!0,!0),k=T.distance(y,S,!0,!0),Z=T.distance(b,b,!1,!0),ce=T.distance(S,S,!1,!0),(ye=(F=Math.abs(M))+(Y=Math.abs(k)))!==0?ln.setRelative(y,y,(Z*Y+ce*F)/ye,T,!0):ln.setRelative(y,y,(Z+ce)/2,T,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(y,b,S,T,M){if(T&&T!==this){var k=M?b.xo:b.x,F=M?b.yo:b.y,Y=k+S*T.x,Z=F+S*T.y;y.x=Y+(y.y-Z)/T.normalSlope}else y.x=(M?b.xo:b.x)+S},slope:0,touch:function(y){y.xTouched=!0},touched:function(y){return y.xTouched},untouch:function(y){y.xTouched=!1}},wn={x:0,y:1,axis:"y",distance:function(y,b,S,T){return(S?y.yo:y.y)-(T?b.yo:b.y)},interpolate:function(y,b,S,T){var M,k,F,Y,Z,ce,ye;if(!T||T===this)return M=y.yo-b.yo,k=y.yo-S.yo,Z=b.y-b.yo,ce=S.y-S.yo,(ye=(F=Math.abs(M))+(Y=Math.abs(k)))===0?void(y.y=y.yo+(Z+ce)/2):void(y.y=y.yo+(Z*Y+ce*F)/ye);M=T.distance(y,b,!0,!0),k=T.distance(y,S,!0,!0),Z=T.distance(b,b,!1,!0),ce=T.distance(S,S,!1,!0),(ye=(F=Math.abs(M))+(Y=Math.abs(k)))!==0?wn.setRelative(y,y,(Z*Y+ce*F)/ye,T,!0):wn.setRelative(y,y,(Z+ce)/2,T,!0)},normalSlope:0,setRelative:function(y,b,S,T,M){if(T&&T!==this){var k=M?b.xo:b.x,F=M?b.yo:b.y,Y=k+S*T.x,Z=F+S*T.y;y.y=Z+T.normalSlope*(y.x-Y)}else y.y=(M?b.yo:b.y)+S},slope:Number.POSITIVE_INFINITY,touch:function(y){y.yTouched=!0},touched:function(y){return y.yTouched},untouch:function(y){y.yTouched=!1}};function Zo(y,b){this.x=y,this.y=b,this.axis=void 0,this.slope=b/y,this.normalSlope=-y/b,Object.freeze(this)}function Jo(y,b){var S=Math.sqrt(y*y+b*b);return b/=S,(y/=S)===1&&b===0?ln:y===0&&b===1?wn:new Zo(y,b)}function xn(y,b,S,T){this.x=this.xo=Math.round(64*y)/64,this.y=this.yo=Math.round(64*b)/64,this.lastPointOfContour=S,this.onCurve=T,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(ln),Object.freeze(wn),Zo.prototype.distance=function(y,b,S,T){return this.x*ln.distance(y,b,S,T)+this.y*wn.distance(y,b,S,T)},Zo.prototype.interpolate=function(y,b,S,T){var M,k,F,Y,Z,ce,ye;F=T.distance(y,b,!0,!0),Y=T.distance(y,S,!0,!0),M=T.distance(b,b,!1,!0),k=T.distance(S,S,!1,!0),(ye=(Z=Math.abs(F))+(ce=Math.abs(Y)))!==0?this.setRelative(y,y,(M*ce+k*Z)/ye,T,!0):this.setRelative(y,y,(M+k)/2,T,!0)},Zo.prototype.setRelative=function(y,b,S,T,M){T=T||this;var k=M?b.xo:b.x,F=M?b.yo:b.y,Y=k+S*T.x,Z=F+S*T.y,ce=T.normalSlope,ye=this.slope,Te=y.x,te=y.y;y.x=(ye*Te-ce*Y+Z-te)/(ye-ce),y.y=ye*(y.x-Te)+te},Zo.prototype.touch=function(y){y.xTouched=!0,y.yTouched=!0},xn.prototype.nextTouched=function(y){for(var b=this.nextPointOnContour;!y.touched(b)&&b!==this;)b=b.nextPointOnContour;return b},xn.prototype.prevTouched=function(y){for(var b=this.prevPointOnContour;!y.touched(b)&&b!==this;)b=b.prevPointOnContour;return b};var es=Object.freeze(new xn(0,0)),Ld={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ln(y,b){switch(this.env=y,this.stack=[],this.prog=b,y){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=ln,this.round=xl}}function Ts(y){for(var b=y.tZone=new Array(y.gZone.length),S=0;S<b.length;S++)b[S]=new xn(0,0)}function Sl(y,b){var S,T=y.prog,M=y.ip,k=1;do if((S=T[++M])===88)k++;else if(S===89)k--;else if(S===64)M+=T[M+1]+1;else if(S===65)M+=2*T[M+1]+1;else if(176<=S&&S<=183)M+=S-176+1;else if(184<=S&&S<=191)M+=2*(S-184+1);else if(b&&k===1&&S===27)break;while(0<k);y.ip=M}function jl(y,b){h.DEBUG&&console.log(b.step,"SVTCA["+y.axis+"]"),b.fv=b.pv=b.dpv=y}function Tl(y,b){h.DEBUG&&console.log(b.step,"SPVTCA["+y.axis+"]"),b.pv=b.dpv=y}function El(y,b){h.DEBUG&&console.log(b.step,"SFVTCA["+y.axis+"]"),b.fv=y}function Cl(y,b){var S,T,M=b.stack,k=M.pop(),F=M.pop(),Y=b.z2[k],Z=b.z1[F];h.DEBUG&&console.log("SPVTL["+y+"]",k,F),T=y?(S=Y.y-Z.y,Z.x-Y.x):(S=Z.x-Y.x,Z.y-Y.y),b.pv=b.dpv=Jo(S,T)}function Ml(y,b){var S,T,M=b.stack,k=M.pop(),F=M.pop(),Y=b.z2[k],Z=b.z1[F];h.DEBUG&&console.log("SFVTL["+y+"]",k,F),T=y?(S=Y.y-Z.y,Z.x-Y.x):(S=Z.x-Y.x,Z.y-Y.y),b.fv=Jo(S,T)}function Ci(y){h.DEBUG&&console.log(y.step,"POP[]"),y.stack.pop()}function Al(y,b){var S=b.stack.pop(),T=b.z0[S],M=b.fv,k=b.pv;h.DEBUG&&console.log(b.step,"MDAP["+y+"]",S);var F=k.distance(T,es);y&&(F=b.round(F)),M.setRelative(T,es,F,k),M.touch(T),b.rp0=b.rp1=S}function Rl(y,b){var S,T,M,k=b.z2,F=k.length-2;h.DEBUG&&console.log(b.step,"IUP["+y.axis+"]");for(var Y=0;Y<F;Y++)S=k[Y],y.touched(S)||(T=S.prevTouched(y))!==S&&(T===(M=S.nextTouched(y))&&y.setRelative(S,S,y.distance(T,T,!1,!0),y,!0),y.interpolate(S,T,M,y))}function Ol(y,b){for(var S=b.stack,T=y?b.rp1:b.rp2,M=(y?b.z0:b.z1)[T],k=b.fv,F=b.pv,Y=b.loop,Z=b.z2;Y--;){var ce=S.pop(),ye=Z[ce],Te=F.distance(M,M,!1,!0);k.setRelative(ye,ye,Te,F),k.touch(ye),h.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-Y)+": ":"")+"SHP["+(y?"rp1":"rp2")+"]",ce)}b.loop=1}function Pl(y,b){var S=b.stack,T=y?b.rp1:b.rp2,M=(y?b.z0:b.z1)[T],k=b.fv,F=b.pv,Y=S.pop(),Z=b.z2[b.contours[Y]],ce=Z;h.DEBUG&&console.log(b.step,"SHC["+y+"]",Y);for(var ye=F.distance(M,M,!1,!0);ce!==M&&k.setRelative(ce,ce,ye,F),(ce=ce.nextPointOnContour)!==Z;);}function kl(y,b){var S,T,M=b.stack,k=y?b.rp1:b.rp2,F=(y?b.z0:b.z1)[k],Y=b.fv,Z=b.pv,ce=M.pop();switch(h.DEBUG&&console.log(b.step,"SHZ["+y+"]",ce),ce){case 0:S=b.tZone;break;case 1:S=b.gZone;break;default:throw new Error("Invalid zone")}for(var ye=Z.distance(F,F,!1,!0),Te=S.length-2,te=0;te<Te;te++)T=S[te],Y.setRelative(T,T,ye,Z)}function Ll(y,b){var S=b.stack,T=S.pop()/64,M=S.pop(),k=b.z1[M],F=b.z0[b.rp0],Y=b.fv,Z=b.pv;Y.setRelative(k,F,T,Z),Y.touch(k),h.DEBUG&&console.log(b.step,"MSIRP["+y+"]",T,M),b.rp1=b.rp0,b.rp2=M,y&&(b.rp0=M)}function Dl(y,b){var S=b.stack,T=S.pop(),M=S.pop(),k=b.z0[M],F=b.fv,Y=b.pv,Z=b.cvt[T];h.DEBUG&&console.log(b.step,"MIAP["+y+"]",T,"(",Z,")",M);var ce=Y.distance(k,es);y&&(Math.abs(ce-Z)<b.cvCutIn&&(ce=Z),ce=b.round(ce)),F.setRelative(k,es,ce,Y),b.zp0===0&&(k.xo=k.x,k.yo=k.y),F.touch(k),b.rp0=b.rp1=M}function Il(y,b){var S=b.stack,T=S.pop(),M=b.z2[T];h.DEBUG&&console.log(b.step,"GC["+y+"]",T),S.push(64*b.dpv.distance(M,es,y,!1))}function Bl(y,b){var S=b.stack,T=S.pop(),M=S.pop(),k=b.z1[T],F=b.z0[M],Y=b.dpv.distance(F,k,y,y);h.DEBUG&&console.log(b.step,"MD["+y+"]",T,M,"->",Y),b.stack.push(Math.round(64*Y))}function Mi(y,b){var S=b.stack,T=S.pop(),M=b.fv,k=b.pv,F=b.ppem,Y=b.deltaBase+16*(y-1),Z=b.deltaShift,ce=b.z0;h.DEBUG&&console.log(b.step,"DELTAP["+y+"]",T,S);for(var ye=0;ye<T;ye++){var Te=S.pop(),te=S.pop();if(Y+((240&te)>>4)===F){var $e=(15&te)-8;0<=$e&&$e++,h.DEBUG&&console.log(b.step,"DELTAPFIX",Te,"by",$e*Z);var Ye=ce[Te];M.setRelative(Ye,Ye,$e*Z,k)}}}function Es(y,b){var S=b.stack,T=S.pop();h.DEBUG&&console.log(b.step,"ROUND[]"),S.push(64*b.round(T/64))}function Ai(y,b){var S=b.stack,T=S.pop(),M=b.ppem,k=b.deltaBase+16*(y-1),F=b.deltaShift;h.DEBUG&&console.log(b.step,"DELTAC["+y+"]",T,S);for(var Y=0;Y<T;Y++){var Z=S.pop(),ce=S.pop();if(k+((240&ce)>>4)===M){var ye=(15&ce)-8;0<=ye&&ye++;var Te=ye*F;h.DEBUG&&console.log(b.step,"DELTACFIX",Z,"by",Te),b.cvt[Z]+=Te}}}function Ul(y,b){var S,T,M=b.stack,k=M.pop(),F=M.pop(),Y=b.z2[k],Z=b.z1[F];h.DEBUG&&console.log(b.step,"SDPVTL["+y+"]",k,F),T=y?(S=Y.y-Z.y,Z.x-Y.x):(S=Z.x-Y.x,Z.y-Y.y),b.dpv=Jo(S,T)}function Dn(y,b){var S=b.stack,T=b.prog,M=b.ip;h.DEBUG&&console.log(b.step,"PUSHB["+y+"]");for(var k=0;k<y;k++)S.push(T[++M]);b.ip=M}function In(y,b){var S=b.ip,T=b.prog,M=b.stack;h.DEBUG&&console.log(b.ip,"PUSHW["+y+"]");for(var k=0;k<y;k++){var F=T[++S]<<8|T[++S];32768&F&&(F=-(1+(65535^F))),M.push(F)}b.ip=S}function it(y,b,S,T,M,k){var F,Y,Z,ce,ye=k.stack,Te=y&&ye.pop(),te=ye.pop(),$e=k.rp0,Ye=k.z0[$e],Ne=k.z1[te],Me=k.minDis,Ie=k.fv,st=k.dpv;Z=0<=(Y=F=st.distance(Ne,Ye,!0,!0))?1:-1,Y=Math.abs(Y),y&&(ce=k.cvt[Te],T&&Math.abs(Y-ce)<k.cvCutIn&&(Y=ce)),S&&Y<Me&&(Y=Me),T&&(Y=k.round(Y)),Ie.setRelative(Ne,Ye,Z*Y,st),Ie.touch(Ne),h.DEBUG&&console.log(k.step,(y?"MIRP[":"MDRP[")+(b?"M":"m")+(S?">":"_")+(T?"R":"_")+(M===0?"Gr":M===1?"Bl":M===2?"Wh":"")+"]",y?Te+"("+k.cvt[Te]+","+ce+")":"",te,"(d =",F,"->",Z*Y,")"),k.rp1=k.rp0,k.rp2=te,b&&(k.rp0=te)}wl.prototype.exec=function(y,b){if(typeof b!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var S=this.font,T=this._prepState;if(!T||T.ppem!==b){var M=this._fpgmState;if(!M){Ln.prototype=Ld,(M=this._fpgmState=new Ln("fpgm",S.tables.fpgm)).funcs=[],M.font=S,h.DEBUG&&(console.log("---EXEC FPGM---"),M.step=-1);try{to(M)}catch(ce){return console.log("Hinting error in FPGM:"+ce),void(this._errorState=3)}}Ln.prototype=M,(T=this._prepState=new Ln("prep",S.tables.prep)).ppem=b;var k=S.tables.cvt;if(k)for(var F=T.cvt=new Array(k.length),Y=b/S.unitsPerEm,Z=0;Z<k.length;Z++)F[Z]=k[Z]*Y;else T.cvt=[];h.DEBUG&&(console.log("---EXEC PREP---"),T.step=-1);try{to(T)}catch(ce){this._errorState<2&&console.log("Hinting error in PREP:"+ce),this._errorState=2}}if(!(1<this._errorState))try{return vl(y,T)}catch(ce){return this._errorState<1&&(console.log("Hinting error:"+ce),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},vl=function(y,b){var S,T,M,k=b.ppem/b.font.unitsPerEm,F=k,Y=y.components;if(Ln.prototype=b,Y){var Z=b.font;T=[],S=[];for(var ce=0;ce<Y.length;ce++){var ye=Y[ce],Te=Z.glyphs.get(ye.glyphIndex);M=new Ln("glyf",Te.instructions),h.DEBUG&&(console.log("---EXEC COMP "+ce+"---"),M.step=-1),Ei(Te,M,k,F);for(var te=Math.round(ye.dx*k),$e=Math.round(ye.dy*F),Ye=M.gZone,Ne=M.contours,Me=0;Me<Ye.length;Me++){var Ie=Ye[Me];Ie.xTouched=Ie.yTouched=!1,Ie.xo=Ie.x=Ie.x+te,Ie.yo=Ie.y=Ie.y+$e}var st=T.length;T.push.apply(T,Ye);for(var ot=0;ot<Ne.length;ot++)S.push(Ne[ot]+st)}y.instructions&&!M.inhibitGridFit&&((M=new Ln("glyf",y.instructions)).gZone=M.z0=M.z1=M.z2=T,M.contours=S,T.push(new xn(0,0),new xn(Math.round(y.advanceWidth*k),0)),h.DEBUG&&(console.log("---EXEC COMPOSITE---"),M.step=-1),to(M),T.length-=2)}else M=new Ln("glyf",y.instructions),h.DEBUG&&(console.log("---EXEC GLYPH---"),M.step=-1),Ei(y,M,k,F),T=M.gZone;return T},Ei=function(y,b,S,T){for(var M,k,F,Y=y.points||[],Z=Y.length,ce=b.gZone=b.z0=b.z1=b.z2=[],ye=b.contours=[],Te=0;Te<Z;Te++)M=Y[Te],ce[Te]=new xn(M.x*S,M.y*T,M.lastPointOfContour,M.onCurve);for(var te=0;te<Z;te++)M=ce[te],k||(k=M,ye.push(te)),M.lastPointOfContour?((M.nextPointOnContour=k).prevPointOnContour=M,k=void 0):(F=ce[te+1],(M.nextPointOnContour=F).prevPointOnContour=M);if(!b.inhibitGridFit){if(h.DEBUG){console.log("PROCESSING GLYPH",b.stack);for(var $e=0;$e<Z;$e++)console.log($e,ce[$e].x,ce[$e].y)}if(ce.push(new xn(0,0),new xn(Math.round(y.advanceWidth*S),0)),to(b),ce.length-=2,h.DEBUG){console.log("FINISHED GLYPH",b.stack);for(var Ye=0;Ye<Z;Ye++)console.log(Ye,ce[Ye].x,ce[Ye].y)}}},to=function(y){var b=y.prog;if(b){var S,T=b.length;for(y.ip=0;y.ip<T;y.ip++){if(h.DEBUG&&y.step++,!(S=yl[b[y.ip]]))throw new Error("unknown instruction: 0x"+Number(b[y.ip]).toString(16));S(y)}}},yl=[jl.bind(void 0,wn),jl.bind(void 0,ln),Tl.bind(void 0,wn),Tl.bind(void 0,ln),El.bind(void 0,wn),El.bind(void 0,ln),Cl.bind(void 0,0),Cl.bind(void 0,1),Ml.bind(void 0,0),Ml.bind(void 0,1),function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"SPVFS[]",S,T),y.pv=y.dpv=Jo(T,S)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"SPVFS[]",S,T),y.fv=Jo(T,S)},function(y){var b=y.stack,S=y.pv;h.DEBUG&&console.log(y.step,"GPV[]"),b.push(16384*S.x),b.push(16384*S.y)},function(y){var b=y.stack,S=y.fv;h.DEBUG&&console.log(y.step,"GFV[]"),b.push(16384*S.x),b.push(16384*S.y)},function(y){y.fv=y.pv,h.DEBUG&&console.log(y.step,"SFVTPV[]")},function(y){var b=y.stack,S=b.pop(),T=b.pop(),M=b.pop(),k=b.pop(),F=b.pop(),Y=y.z0,Z=y.z1,ce=Y[S],ye=Y[T],Te=Z[M],te=Z[k],$e=y.z2[F];h.DEBUG&&console.log("ISECT[], ",S,T,M,k,F);var Ye=ce.x,Ne=ce.y,Me=ye.x,Ie=ye.y,st=Te.x,ot=Te.y,_t=te.x,ut=te.y,dt=(Ye-Me)*(ot-ut)-(Ne-Ie)*(st-_t),$t=Ye*Ie-Ne*Me,Tt=st*ut-ot*_t;$e.x=($t*(st-_t)-Tt*(Ye-Me))/dt,$e.y=($t*(ot-ut)-Tt*(Ne-Ie))/dt},function(y){y.rp0=y.stack.pop(),h.DEBUG&&console.log(y.step,"SRP0[]",y.rp0)},function(y){y.rp1=y.stack.pop(),h.DEBUG&&console.log(y.step,"SRP1[]",y.rp1)},function(y){y.rp2=y.stack.pop(),h.DEBUG&&console.log(y.step,"SRP2[]",y.rp2)},function(y){var b=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"SZP0[]",b),y.zp0=b){case 0:y.tZone||Ts(y),y.z0=y.tZone;break;case 1:y.z0=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var b=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"SZP1[]",b),y.zp1=b){case 0:y.tZone||Ts(y),y.z1=y.tZone;break;case 1:y.z1=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var b=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"SZP2[]",b),y.zp2=b){case 0:y.tZone||Ts(y),y.z2=y.tZone;break;case 1:y.z2=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var b=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"SZPS[]",b),y.zp0=y.zp1=y.zp2=b,b){case 0:y.tZone||Ts(y),y.z0=y.z1=y.z2=y.tZone;break;case 1:y.z0=y.z1=y.z2=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){y.loop=y.stack.pop(),h.DEBUG&&console.log(y.step,"SLOOP[]",y.loop)},function(y){h.DEBUG&&console.log(y.step,"RTG[]"),y.round=xl},function(y){h.DEBUG&&console.log(y.step,"RTHG[]"),y.round=Od},function(y){var b=y.stack.pop();h.DEBUG&&console.log(y.step,"SMD[]",b),y.minDis=b/64},function(y){h.DEBUG&&console.log(y.step,"ELSE[]"),Sl(y,!1)},function(y){var b=y.stack.pop();h.DEBUG&&console.log(y.step,"JMPR[]",b),y.ip+=b-1},function(y){var b=y.stack.pop();h.DEBUG&&console.log(y.step,"SCVTCI[]",b),y.cvCutIn=b/64},void 0,void 0,function(y){var b=y.stack;h.DEBUG&&console.log(y.step,"DUP[]"),b.push(b[b.length-1])},Ci,function(y){h.DEBUG&&console.log(y.step,"CLEAR[]"),y.stack.length=0},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"SWAP[]"),b.push(S),b.push(T)},function(y){var b=y.stack;h.DEBUG&&console.log(y.step,"DEPTH[]"),b.push(b.length)},function(y){var b=y.stack,S=b.pop();h.DEBUG&&console.log(y.step,"CINDEX[]",S),b.push(b[b.length-S])},function(y){var b=y.stack,S=b.pop();h.DEBUG&&console.log(y.step,"MINDEX[]",S),b.push(b.splice(b.length-S,1)[0])},void 0,void 0,void 0,function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"LOOPCALL[]",S,T);var M=y.ip,k=y.prog;y.prog=y.funcs[S];for(var F=0;F<T;F++)to(y),h.DEBUG&&console.log(++y.step,F+1<T?"next loopcall":"done loopcall",F);y.ip=M,y.prog=k},function(y){var b=y.stack.pop();h.DEBUG&&console.log(y.step,"CALL[]",b);var S=y.ip,T=y.prog;y.prog=y.funcs[b],to(y),y.ip=S,y.prog=T,h.DEBUG&&console.log(++y.step,"returning from",b)},function(y){if(y.env!=="fpgm")throw new Error("FDEF not allowed here");var b=y.stack,S=y.prog,T=y.ip,M=b.pop(),k=T;for(h.DEBUG&&console.log(y.step,"FDEF[]",M);S[++T]!==45;);y.ip=T,y.funcs[M]=S.slice(k+1,T)},void 0,Al.bind(void 0,0),Al.bind(void 0,1),Rl.bind(void 0,wn),Rl.bind(void 0,ln),Ol.bind(void 0,0),Ol.bind(void 0,1),Pl.bind(void 0,0),Pl.bind(void 0,1),kl.bind(void 0,0),kl.bind(void 0,1),function(y){for(var b=y.stack,S=y.loop,T=y.fv,M=b.pop()/64,k=y.z2;S--;){var F=b.pop(),Y=k[F];h.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-S)+": ":"")+"SHPIX[]",F,M),T.setRelative(Y,Y,M),T.touch(Y)}y.loop=1},function(y){for(var b=y.stack,S=y.rp1,T=y.rp2,M=y.loop,k=y.z0[S],F=y.z1[T],Y=y.fv,Z=y.dpv,ce=y.z2;M--;){var ye=b.pop(),Te=ce[ye];h.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-M)+": ":"")+"IP[]",ye,S,"<->",T),Y.interpolate(Te,k,F,Z),Y.touch(Te)}y.loop=1},Ll.bind(void 0,0),Ll.bind(void 0,1),function(y){for(var b=y.stack,S=y.rp0,T=y.z0[S],M=y.loop,k=y.fv,F=y.pv,Y=y.z1;M--;){var Z=b.pop(),ce=Y[Z];h.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-M)+": ":"")+"ALIGNRP[]",Z),k.setRelative(ce,T,0,F),k.touch(ce)}y.loop=1},function(y){h.DEBUG&&console.log(y.step,"RTDG[]"),y.round=Rd},Dl.bind(void 0,0),Dl.bind(void 0,1),function(y){var b=y.prog,S=y.ip,T=y.stack,M=b[++S];h.DEBUG&&console.log(y.step,"NPUSHB[]",M);for(var k=0;k<M;k++)T.push(b[++S]);y.ip=S},function(y){var b=y.ip,S=y.prog,T=y.stack,M=S[++b];h.DEBUG&&console.log(y.step,"NPUSHW[]",M);for(var k=0;k<M;k++){var F=S[++b]<<8|S[++b];32768&F&&(F=-(1+(65535^F))),T.push(F)}y.ip=b},function(y){var b=y.stack,S=y.store;S=S||(y.store=[]);var T=b.pop(),M=b.pop();h.DEBUG&&console.log(y.step,"WS",T,M),S[M]=T},function(y){var b=y.stack,S=y.store,T=b.pop();h.DEBUG&&console.log(y.step,"RS",T);var M=S&&S[T]||0;b.push(M)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"WCVTP",S,T),y.cvt[T]=S/64},function(y){var b=y.stack,S=b.pop();h.DEBUG&&console.log(y.step,"RCVT",S),b.push(64*y.cvt[S])},Il.bind(void 0,0),Il.bind(void 0,1),void 0,Bl.bind(void 0,0),Bl.bind(void 0,1),function(y){h.DEBUG&&console.log(y.step,"MPPEM[]"),y.stack.push(y.ppem)},void 0,function(y){h.DEBUG&&console.log(y.step,"FLIPON[]"),y.autoFlip=!0},void 0,void 0,function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"LT[]",S,T),b.push(T<S?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"LTEQ[]",S,T),b.push(T<=S?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"GT[]",S,T),b.push(S<T?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"GTEQ[]",S,T),b.push(S<=T?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"EQ[]",S,T),b.push(S===T?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"NEQ[]",S,T),b.push(S!==T?1:0)},function(y){var b=y.stack,S=b.pop();h.DEBUG&&console.log(y.step,"ODD[]",S),b.push(Math.trunc(S)%2?1:0)},function(y){var b=y.stack,S=b.pop();h.DEBUG&&console.log(y.step,"EVEN[]",S),b.push(Math.trunc(S)%2?0:1)},function(y){var b=y.stack.pop();h.DEBUG&&console.log(y.step,"IF[]",b),b||(Sl(y,!0),h.DEBUG&&console.log(y.step,"EIF[]"))},function(y){h.DEBUG&&console.log(y.step,"EIF[]")},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"AND[]",S,T),b.push(S&&T?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"OR[]",S,T),b.push(S||T?1:0)},function(y){var b=y.stack,S=b.pop();h.DEBUG&&console.log(y.step,"NOT[]",S),b.push(S?0:1)},Mi.bind(void 0,1),function(y){var b=y.stack.pop();h.DEBUG&&console.log(y.step,"SDB[]",b),y.deltaBase=b},function(y){var b=y.stack.pop();h.DEBUG&&console.log(y.step,"SDS[]",b),y.deltaShift=Math.pow(.5,b)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"ADD[]",S,T),b.push(T+S)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"SUB[]",S,T),b.push(T-S)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"DIV[]",S,T),b.push(64*T/S)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"MUL[]",S,T),b.push(T*S/64)},function(y){var b=y.stack,S=b.pop();h.DEBUG&&console.log(y.step,"ABS[]",S),b.push(Math.abs(S))},function(y){var b=y.stack,S=b.pop();h.DEBUG&&console.log(y.step,"NEG[]",S),b.push(-S)},function(y){var b=y.stack,S=b.pop();h.DEBUG&&console.log(y.step,"FLOOR[]",S),b.push(64*Math.floor(S/64))},function(y){var b=y.stack,S=b.pop();h.DEBUG&&console.log(y.step,"CEILING[]",S),b.push(64*Math.ceil(S/64))},Es.bind(void 0,0),Es.bind(void 0,1),Es.bind(void 0,2),Es.bind(void 0,3),void 0,void 0,void 0,void 0,function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"WCVTF[]",S,T),y.cvt[T]=S*y.ppem/y.font.unitsPerEm},Mi.bind(void 0,2),Mi.bind(void 0,3),Ai.bind(void 0,1),Ai.bind(void 0,2),Ai.bind(void 0,3),function(y){var b,S=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"SROUND[]",S),y.round=_l,192&S){case 0:b=.5;break;case 64:b=1;break;case 128:b=2;break;default:throw new Error("invalid SROUND value")}switch(y.srPeriod=b,48&S){case 0:y.srPhase=0;break;case 16:y.srPhase=.25*b;break;case 32:y.srPhase=.5*b;break;case 48:y.srPhase=.75*b;break;default:throw new Error("invalid SROUND value")}S&=15,y.srThreshold=S===0?0:(S/8-.5)*b},function(y){var b,S=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"S45ROUND[]",S),y.round=_l,192&S){case 0:b=Math.sqrt(2)/2;break;case 64:b=Math.sqrt(2);break;case 128:b=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(y.srPeriod=b,48&S){case 0:y.srPhase=0;break;case 16:y.srPhase=.25*b;break;case 32:y.srPhase=.5*b;break;case 48:y.srPhase=.75*b;break;default:throw new Error("invalid S45ROUND value")}S&=15,y.srThreshold=S===0?0:(S/8-.5)*b},void 0,void 0,function(y){h.DEBUG&&console.log(y.step,"ROFF[]"),y.round=Ad},void 0,function(y){h.DEBUG&&console.log(y.step,"RUTG[]"),y.round=Pd},function(y){h.DEBUG&&console.log(y.step,"RDTG[]"),y.round=kd},Ci,Ci,void 0,void 0,void 0,void 0,void 0,function(y){var b=y.stack.pop();h.DEBUG&&console.log(y.step,"SCANCTRL[]",b)},Ul.bind(void 0,0),Ul.bind(void 0,1),function(y){var b=y.stack,S=b.pop(),T=0;h.DEBUG&&console.log(y.step,"GETINFO[]",S),1&S&&(T=35),32&S&&(T|=4096),b.push(T)},void 0,function(y){var b=y.stack,S=b.pop(),T=b.pop(),M=b.pop();h.DEBUG&&console.log(y.step,"ROLL[]"),b.push(T),b.push(S),b.push(M)},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"MAX[]",S,T),b.push(Math.max(T,S))},function(y){var b=y.stack,S=b.pop(),T=b.pop();h.DEBUG&&console.log(y.step,"MIN[]",S,T),b.push(Math.min(T,S))},function(y){var b=y.stack.pop();h.DEBUG&&console.log(y.step,"SCANTYPE[]",b)},function(y){var b=y.stack.pop(),S=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"INSTCTRL[]",b,S),b){case 1:return void(y.inhibitGridFit=!!S);case 2:return void(y.ignoreCvt=!!S);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Dn.bind(void 0,1),Dn.bind(void 0,2),Dn.bind(void 0,3),Dn.bind(void 0,4),Dn.bind(void 0,5),Dn.bind(void 0,6),Dn.bind(void 0,7),Dn.bind(void 0,8),In.bind(void 0,1),In.bind(void 0,2),In.bind(void 0,3),In.bind(void 0,4),In.bind(void 0,5),In.bind(void 0,6),In.bind(void 0,7),In.bind(void 0,8),it.bind(void 0,0,0,0,0,0),it.bind(void 0,0,0,0,0,1),it.bind(void 0,0,0,0,0,2),it.bind(void 0,0,0,0,0,3),it.bind(void 0,0,0,0,1,0),it.bind(void 0,0,0,0,1,1),it.bind(void 0,0,0,0,1,2),it.bind(void 0,0,0,0,1,3),it.bind(void 0,0,0,1,0,0),it.bind(void 0,0,0,1,0,1),it.bind(void 0,0,0,1,0,2),it.bind(void 0,0,0,1,0,3),it.bind(void 0,0,0,1,1,0),it.bind(void 0,0,0,1,1,1),it.bind(void 0,0,0,1,1,2),it.bind(void 0,0,0,1,1,3),it.bind(void 0,0,1,0,0,0),it.bind(void 0,0,1,0,0,1),it.bind(void 0,0,1,0,0,2),it.bind(void 0,0,1,0,0,3),it.bind(void 0,0,1,0,1,0),it.bind(void 0,0,1,0,1,1),it.bind(void 0,0,1,0,1,2),it.bind(void 0,0,1,0,1,3),it.bind(void 0,0,1,1,0,0),it.bind(void 0,0,1,1,0,1),it.bind(void 0,0,1,1,0,2),it.bind(void 0,0,1,1,0,3),it.bind(void 0,0,1,1,1,0),it.bind(void 0,0,1,1,1,1),it.bind(void 0,0,1,1,1,2),it.bind(void 0,0,1,1,1,3),it.bind(void 0,1,0,0,0,0),it.bind(void 0,1,0,0,0,1),it.bind(void 0,1,0,0,0,2),it.bind(void 0,1,0,0,0,3),it.bind(void 0,1,0,0,1,0),it.bind(void 0,1,0,0,1,1),it.bind(void 0,1,0,0,1,2),it.bind(void 0,1,0,0,1,3),it.bind(void 0,1,0,1,0,0),it.bind(void 0,1,0,1,0,1),it.bind(void 0,1,0,1,0,2),it.bind(void 0,1,0,1,0,3),it.bind(void 0,1,0,1,1,0),it.bind(void 0,1,0,1,1,1),it.bind(void 0,1,0,1,1,2),it.bind(void 0,1,0,1,1,3),it.bind(void 0,1,1,0,0,0),it.bind(void 0,1,1,0,0,1),it.bind(void 0,1,1,0,0,2),it.bind(void 0,1,1,0,0,3),it.bind(void 0,1,1,0,1,0),it.bind(void 0,1,1,0,1,1),it.bind(void 0,1,1,0,1,2),it.bind(void 0,1,1,0,1,3),it.bind(void 0,1,1,1,0,0),it.bind(void 0,1,1,1,0,1),it.bind(void 0,1,1,1,0,2),it.bind(void 0,1,1,1,0,3),it.bind(void 0,1,1,1,1,0),it.bind(void 0,1,1,1,1,1),it.bind(void 0,1,1,1,1,2),it.bind(void 0,1,1,1,1,3)];var Dd=Array.from||function(y){return y.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Gt(y){(y=y||{}).empty||(So(y.familyName,"When creating a new Font object, familyName is required."),So(y.styleName,"When creating a new Font object, styleName is required."),So(y.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),So(y.ascender,"When creating a new Font object, ascender is required."),So(y.descender,"When creating a new Font object, descender is required."),So(y.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:y.familyName||" "},fontSubfamily:{en:y.styleName||" "},fullName:{en:y.fullName||y.familyName+" "+y.styleName},postScriptName:{en:y.postScriptName||(y.familyName+y.styleName).replace(/\s/g,"")},designer:{en:y.designer||" "},designerURL:{en:y.designerURL||" "},manufacturer:{en:y.manufacturer||" "},manufacturerURL:{en:y.manufacturerURL||" "},license:{en:y.license||" "},licenseURL:{en:y.licenseURL||" "},version:{en:y.version||"Version 0.1"},description:{en:y.description||" "},copyright:{en:y.copyright||" "},trademark:{en:y.trademark||" "}},this.unitsPerEm=y.unitsPerEm||1e3,this.ascender=y.ascender,this.descender=y.descender,this.createdTimestamp=y.createdTimestamp,this.tables={os2:{usWeightClass:y.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:y.widthClass||this.usWidthClasses.MEDIUM,fsSelection:y.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new pt.GlyphSet(this,y.glyphs||[]),this.encoding=new ke(this),this.position=new js(this),this.substitution=new an(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:this.outlinesFormat==="truetype"?this._hinting=new wl(this):void 0}})}function Nl(y,b){var S=JSON.stringify(y),T=256;for(var M in b){var k=parseInt(M);if(k&&!(k<256)){if(JSON.stringify(b[M])===S)return k;T<=k&&(T=k+1)}}return b[T]=y,T}function Id(y,b,S,T){for(var M=[{name:"nameID_"+y,type:"USHORT",value:Nl(b.name,T)},{name:"flags_"+y,type:"USHORT",value:0}],k=0;k<S.length;++k){var F=S[k].tag;M.push({name:"axis_"+y+" "+F,type:"FIXED",value:b.coordinates[F]<<16})}return M}function Bd(y,b,S,T){var M={},k=new V.Parser(y,b);M.name=T[k.parseUShort()]||{},k.skip("uShort",1),M.coordinates={};for(var F=0;F<S.length;++F)M.coordinates[S[F].tag]=k.parseFixed();return M}Gt.prototype.hasChar=function(y){return this.encoding.charToGlyphIndex(y)!==null},Gt.prototype.charToGlyphIndex=function(y){return this.encoding.charToGlyphIndex(y)},Gt.prototype.charToGlyph=function(y){var b=this.charToGlyphIndex(y),S=this.glyphs.get(b);return S=S||this.glyphs.get(0)},Gt.prototype.stringToGlyphs=function(y,b){b=b||this.defaultRenderOptions;for(var S=Dd(y),T=[],M=0;M<S.length;M+=1){var k=S[M];T.push(this.charToGlyphIndex(k))}var F=T.length;if(b.features){var Y=b.script||this.substitution.getDefaultScriptName(),Z=[];b.features.liga&&(Z=Z.concat(this.substitution.getFeature("liga",Y,b.language))),b.features.rlig&&(Z=Z.concat(this.substitution.getFeature("rlig",Y,b.language)));for(var ce=0;ce<F;ce+=1)for(var ye=0;ye<Z.length;ye++){for(var Te=Z[ye],te=Te.sub,$e=te.length,Ye=0;Ye<$e&&te[Ye]===T[ce+Ye];)Ye++;Ye===$e&&(T.splice(ce,$e,Te.by),F=F-$e+1)}}for(var Ne=new Array(F),Me=this.glyphs.get(0),Ie=0;Ie<F;Ie+=1)Ne[Ie]=this.glyphs.get(T[Ie])||Me;return Ne},Gt.prototype.nameToGlyphIndex=function(y){return this.glyphNames.nameToGlyphIndex(y)},Gt.prototype.nameToGlyph=function(y){var b=this.nameToGlyphIndex(y),S=this.glyphs.get(b);return S=S||this.glyphs.get(0)},Gt.prototype.glyphIndexToName=function(y){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(y):""},Gt.prototype.getKerningValue=function(y,b){y=y.index||y,b=b.index||b;var S=this.position.defaultKerningTables;return S?this.position.getKerningValue(S,y,b):this.kerningPairs[y+","+b]||0},Gt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Gt.prototype.forEachGlyph=function(y,b,S,T,M,k){b=b!==void 0?b:0,S=S!==void 0?S:0,T=T!==void 0?T:72,M=M||this.defaultRenderOptions;var F,Y=1/this.unitsPerEm*T,Z=this.stringToGlyphs(y,M);if(M.kerning){var ce=M.script||this.position.getDefaultScriptName();F=this.position.getKerningTables(ce,M.language)}for(var ye=0;ye<Z.length;ye+=1){var Te=Z[ye];k.call(this,Te,b,S,T,M),Te.advanceWidth&&(b+=Te.advanceWidth*Y),M.kerning&&ye<Z.length-1&&(b+=(F?this.position.getKerningValue(F,Te.index,Z[ye+1].index):this.getKerningValue(Te,Z[ye+1]))*Y),M.letterSpacing?b+=M.letterSpacing*T:M.tracking&&(b+=M.tracking/1e3*T)}return b},Gt.prototype.getPath=function(y,b,S,T,M){var k=new me;return this.forEachGlyph(y,b,S,T,M,function(F,Y,Z,ce){var ye=F.getPath(Y,Z,ce,M,this);k.extend(ye)}),k},Gt.prototype.getPaths=function(y,b,S,T,M){var k=[];return this.forEachGlyph(y,b,S,T,M,function(F,Y,Z,ce){var ye=F.getPath(Y,Z,ce,M,this);k.push(ye)}),k},Gt.prototype.getAdvanceWidth=function(y,b,S){return this.forEachGlyph(y,0,0,b,S,function(){})},Gt.prototype.draw=function(y,b,S,T,M,k){this.getPath(b,S,T,M,k).draw(y)},Gt.prototype.drawPoints=function(y,b,S,T,M,k){this.forEachGlyph(b,S,T,M,k,function(F,Y,Z,ce){F.drawPoints(y,Y,Z,ce)})},Gt.prototype.drawMetrics=function(y,b,S,T,M,k){this.forEachGlyph(b,S,T,M,k,function(F,Y,Z,ce){F.drawMetrics(y,Y,Z,ce)})},Gt.prototype.getEnglishName=function(y){var b=this.names[y];if(b)return b.en},Gt.prototype.validate=function(){var y=this;function b(S){var T=y.getEnglishName(S);T&&T.trim().length}b("fontFamily"),b("weightName"),b("manufacturer"),b("copyright"),b("version"),this.unitsPerEm},Gt.prototype.toTables=function(){return Td.fontToTable(this)},Gt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Gt.prototype.toArrayBuffer=function(){for(var y=this.toTables().encode(),b=new ArrayBuffer(y.length),S=new Uint8Array(b),T=0;T<y.length;T++)S[T]=y[T];return b},Gt.prototype.download=function(y){var b=this.getEnglishName("fontFamily"),S=this.getEnglishName("fontSubfamily");y=y||b.replace(/\s/g,"")+"-"+S+".otf";var T=this.toArrayBuffer();if(typeof window<"u")window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,T.byteLength,function(F){F.root.getFile(y,{create:!0},function(Y){Y.createWriter(function(Z){var ce=new DataView(T),ye=new Blob([ce],{type:"font/opentype"});Z.write(ye),Z.addEventListener("writeend",function(){location.href=Y.toURL()},!1)})})},function(F){throw new Error(F.name+": "+F.message)});else{var M=e("fs"),k=function(F){for(var Y=new f(F.byteLength),Z=new Uint8Array(F),ce=0;ce<Y.length;++ce)Y[ce]=Z[ce];return Y}(T);M.writeFileSync(y,k)}},Gt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Gt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Gt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ud={make:function(y,b){var S,T,M,k,F=new Le.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:y.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:y.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*y.axes.length}]);F.offsetToData=F.sizeOf();for(var Y=0;Y<y.axes.length;Y++)F.fields=F.fields.concat((S=Y,T=y.axes[Y],M=b,k=Nl(T.name,M),[{name:"tag_"+S,type:"TAG",value:T.tag},{name:"minValue_"+S,type:"FIXED",value:T.minValue<<16},{name:"defaultValue_"+S,type:"FIXED",value:T.defaultValue<<16},{name:"maxValue_"+S,type:"FIXED",value:T.maxValue<<16},{name:"flags_"+S,type:"USHORT",value:0},{name:"nameID_"+S,type:"USHORT",value:k}]));for(var Z=0;Z<y.instances.length;Z++)F.fields=F.fields.concat(Id(Z,y.instances[Z],y.axes,b));return F},parse:function(y,b,S){var T=new V.Parser(y,b),M=T.parseULong();ve.argument(M===65536,"Unsupported fvar table version.");var k=T.parseOffset16();T.skip("uShort",1);for(var F,Y,Z,ce,ye,Te=T.parseUShort(),te=T.parseUShort(),$e=T.parseUShort(),Ye=T.parseUShort(),Ne=[],Me=0;Me<Te;Me++)Ne.push((F=y,Y=b+k+Me*te,Z=S,ye=ce=void 0,ce={},ye=new V.Parser(F,Y),ce.tag=ye.parseTag(),ce.minValue=ye.parseFixed(),ce.defaultValue=ye.parseFixed(),ce.maxValue=ye.parseFixed(),ye.skip("uShort",1),ce.name=Z[ye.parseUShort()]||{},ce));for(var Ie=[],st=b+k+Te*te,ot=0;ot<$e;ot++)Ie.push(Bd(y,st+ot*Ye,Ne,S));return{axes:Ne,instances:Ie}}},zr=new Array(10);zr[1]=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{posFormat:1,coverage:this.parsePointer(be.coverage),value:this.parseValueRecord()}:b===2?{posFormat:2,coverage:this.parsePointer(be.coverage),values:this.parseValueRecordList()}:void ve.assert(!1,"0x"+y.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},zr[2]=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();ve.assert(b===1||b===2,"0x"+y.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var S=this.parsePointer(be.coverage),T=this.parseUShort(),M=this.parseUShort();if(b===1)return{posFormat:b,coverage:S,valueFormat1:T,valueFormat2:M,pairSets:this.parseList(be.pointer(be.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(T),value2:this.parseValueRecord(M)}})))};if(b===2){var k=this.parsePointer(be.classDef),F=this.parsePointer(be.classDef),Y=this.parseUShort(),Z=this.parseUShort();return{posFormat:b,coverage:S,valueFormat1:T,valueFormat2:M,classDef1:k,classDef2:F,class1Count:Y,class2Count:Z,classRecords:this.parseList(Y,be.list(Z,function(){return{value1:this.parseValueRecord(T),value2:this.parseValueRecord(M)}}))}}},zr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},zr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},zr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},zr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},zr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},zr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},zr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Nd=new Array(10),Fd={parse:function(y,b){var S=new be(y,b=b||0),T=S.parseVersion(1);return ve.argument(T===1||T===1.1,"Unsupported GPOS table version "+T),T===1?{version:T,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(zr)}:{version:T,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(zr),variations:S.parseFeatureVariationsList()}},make:function(y){return new Le.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Le.ScriptList(y.scripts)},{name:"features",type:"TABLE",value:new Le.FeatureList(y.features)},{name:"lookups",type:"TABLE",value:new Le.LookupList(y.lookups,Nd)}])}},Gd={parse:function(y,b){var S=new V.Parser(y,b),T=S.parseUShort();if(T===0)return function(M){var k={};M.skip("uShort");var F=M.parseUShort();ve.argument(F===0,"Unsupported kern sub-table version."),M.skip("uShort",2);var Y=M.parseUShort();M.skip("uShort",3);for(var Z=0;Z<Y;Z+=1){var ce=M.parseUShort(),ye=M.parseUShort(),Te=M.parseShort();k[ce+","+ye]=Te}return k}(S);if(T===1)return function(M){var k={};M.skip("uShort"),1<M.parseULong()&&console.warn("Only the first kern subtable is supported."),M.skip("uLong");var F=255&M.parseUShort();if(M.skip("uShort"),F==0){var Y=M.parseUShort();M.skip("uShort",3);for(var Z=0;Z<Y;Z+=1){var ce=M.parseUShort(),ye=M.parseUShort(),Te=M.parseShort();k[ce+","+ye]=Te}}return k}(S);throw new Error("Unsupported kern table version ("+T+").")}},Vd={parse:function(y,b,S,T){for(var M=new V.Parser(y,b),k=T?M.parseUShort:M.parseULong,F=[],Y=0;Y<S+1;Y+=1){var Z=k.call(M);T&&(Z*=2),F.push(Z)}return F}};function Hd(y,b){e("fs").readFile(y,function(S,T){if(S)return b(S.message);b(null,pl(T))})}function Wd(y,b){var S=new XMLHttpRequest;S.open("get",y,!0),S.responseType="arraybuffer",S.onload=function(){return S.response?b(null,S.response):b("Font could not be loaded: "+S.statusText)},S.onerror=function(){b("Font could not be loaded")},S.send()}function Fl(y,b){for(var S=[],T=12,M=0;M<b;M+=1){var k=V.getTag(y,T),F=V.getULong(y,T+4),Y=V.getULong(y,T+8),Z=V.getULong(y,T+12);S.push({tag:k,checksum:F,offset:Y,length:Z,compression:!1}),T+=16}return S}function nr(y,b){if(b.compression!=="WOFF")return{data:y,offset:b.offset};var S=new Uint8Array(y.buffer,b.offset+2,b.compressedLength-2),T=new Uint8Array(b.length);if(J(S,T),T.byteLength!==b.length)throw new Error("Decompression error: "+b.tag+" decompressed length doesn't match recorded length");return{data:new DataView(T.buffer,0),offset:0}}function Ri(y){var b,S,T,M,k,F,Y,Z,ce,ye,Te,te,$e,Ye,Ne=new Gt({empty:!0}),Me=new DataView(y,0),Ie=[],st=V.getTag(Me,0);if(st===String.fromCharCode(0,1,0,0)||st==="true"||st==="typ1")Ne.outlinesFormat="truetype",Ie=Fl(Me,T=V.getUShort(Me,4));else if(st==="OTTO")Ne.outlinesFormat="cff",Ie=Fl(Me,T=V.getUShort(Me,4));else{if(st!=="wOFF")throw new Error("Unsupported OpenType signature "+st);var ot=V.getTag(Me,4);if(ot===String.fromCharCode(0,1,0,0))Ne.outlinesFormat="truetype";else{if(ot!=="OTTO")throw new Error("Unsupported OpenType flavor "+st);Ne.outlinesFormat="cff"}Ie=function(At,er){for(var Vt=[],Wt=44,un=0;un<er;un+=1){var jo=V.getTag(At,Wt),ro=V.getULong(At,Wt+4),Dr=V.getULong(At,Wt+8),no=V.getULong(At,Wt+12),To=void 0;To=Dr<no&&"WOFF",Vt.push({tag:jo,offset:ro,compression:To,compressedLength:Dr,length:no}),Wt+=20}return Vt}(Me,T=V.getUShort(Me,12))}for(var _t=0;_t<T;_t+=1){var ut=Ie[_t],dt=void 0;switch(ut.tag){case"cmap":dt=nr(Me,ut),Ne.tables.cmap=Q.parse(dt.data,dt.offset),Ne.encoding=new He(Ne.tables.cmap);break;case"cvt ":dt=nr(Me,ut),Ye=new V.Parser(dt.data,dt.offset),Ne.tables.cvt=Ye.parseShortList(ut.length/2);break;case"fvar":k=ut;break;case"fpgm":dt=nr(Me,ut),Ye=new V.Parser(dt.data,dt.offset),Ne.tables.fpgm=Ye.parseByteList(ut.length);break;case"head":dt=nr(Me,ut),Ne.tables.head=nt.parse(dt.data,dt.offset),Ne.unitsPerEm=Ne.tables.head.unitsPerEm,b=Ne.tables.head.indexToLocFormat;break;case"hhea":dt=nr(Me,ut),Ne.tables.hhea=Ge.parse(dt.data,dt.offset),Ne.ascender=Ne.tables.hhea.ascender,Ne.descender=Ne.tables.hhea.descender,Ne.numberOfHMetrics=Ne.tables.hhea.numberOfHMetrics;break;case"hmtx":ce=ut;break;case"ltag":dt=nr(Me,ut),S=Rt.parse(dt.data,dt.offset);break;case"maxp":dt=nr(Me,ut),Ne.tables.maxp=Dt.parse(dt.data,dt.offset),Ne.numGlyphs=Ne.tables.maxp.numGlyphs;break;case"name":te=ut;break;case"OS/2":dt=nr(Me,ut),Ne.tables.os2=_i.parse(dt.data,dt.offset);break;case"post":dt=nr(Me,ut),Ne.tables.post=ol.parse(dt.data,dt.offset),Ne.glyphNames=new Ke(Ne.tables.post);break;case"prep":dt=nr(Me,ut),Ye=new V.Parser(dt.data,dt.offset),Ne.tables.prep=Ye.parseByteList(ut.length);break;case"glyf":F=ut;break;case"loca":Te=ut;break;case"CFF ":M=ut;break;case"kern":ye=ut;break;case"GPOS":Y=ut;break;case"GSUB":Z=ut;break;case"meta":$e=ut}}var $t=nr(Me,te);if(Ne.tables.name=nl.parse($t.data,$t.offset,S),Ne.names=Ne.tables.name,F&&Te){var Tt=b===0,St=nr(Me,Te),Et=Vd.parse(St.data,St.offset,Ne.numGlyphs,Tt),It=nr(Me,F);Ne.glyphs=bl.parse(It.data,It.offset,Et,Ne)}else{if(!M)throw new Error("Font doesn't contain TrueType or CFF outlines.");var kt=nr(Me,M);qe.parse(kt.data,kt.offset,Ne)}var qt=nr(Me,ce);if(jt.parse(qt.data,qt.offset,Ne.numberOfHMetrics,Ne.numGlyphs,Ne.glyphs),function(At){for(var er,Vt=At.tables.cmap.glyphIndexMap,Wt=Object.keys(Vt),un=0;un<Wt.length;un+=1){var jo=Wt[un],ro=Vt[jo];(er=At.glyphs.get(ro)).addUnicode(parseInt(jo))}for(var Dr=0;Dr<At.glyphs.length;Dr+=1)er=At.glyphs.get(Dr),At.cffEncoding?At.isCIDFont?er.name="gid"+Dr:er.name=At.cffEncoding.charset[Dr]:At.glyphNames.names&&(er.name=At.glyphNames.glyphIndexToName(Dr))}(Ne),ye){var Bt=nr(Me,ye);Ne.kerningPairs=Gd.parse(Bt.data,Bt.offset)}else Ne.kerningPairs={};if(Y){var Lt=nr(Me,Y);Ne.tables.gpos=Fd.parse(Lt.data,Lt.offset),Ne.position.init()}if(Z){var Yt=nr(Me,Z);Ne.tables.gsub=sl.parse(Yt.data,Yt.offset)}if(k){var Ut=nr(Me,k);Ne.tables.fvar=Ud.parse(Ut.data,Ut.offset,Ne.names)}if($e){var Jt=nr(Me,$e);Ne.tables.meta=il.parse(Jt.data,Jt.offset),Ne.metas=Ne.tables.meta}return Ne}h.Font=Gt,h.Glyph=ht,h.Path=me,h.BoundingBox=se,h._parse=V,h.parse=Ri,h.load=function(y,b){(typeof window>"u"?Hd:Wd)(y,function(S,T){if(S)return b(S);var M;try{M=Ri(T)}catch(k){return b(k,null)}return b(null,M)})},h.loadSync=function(y){return Ri(pl(e("fs").readFileSync(y)))},Object.defineProperty(h,"__esModule",{value:!0})},c(typeof d=="object"&&m!==void 0?d:t.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],240:[function(e,m,d){(function(f){function t(g,p){for(var o=0,n=g.length-1;0<=n;n--){var s=g[n];s==="."?g.splice(n,1):s===".."?(g.splice(n,1),o++):o&&(g.splice(n,1),o--)}if(p)for(;o--;)g.unshift("..");return g}function c(g,p){if(g.filter)return g.filter(p);for(var o=[],n=0;n<g.length;n++)p(g[n],n,g)&&o.push(g[n]);return o}d.resolve=function(){for(var g="",p=!1,o=arguments.length-1;-1<=o&&!p;o--){var n=0<=o?arguments[o]:f.cwd();if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");n&&(g=n+"/"+g,p=n.charAt(0)==="/")}return(p?"/":"")+(g=t(c(g.split("/"),function(s){return!!s}),!p).join("/"))||"."},d.normalize=function(g){var p=d.isAbsolute(g),o=h(g,-1)==="/";return(g=t(c(g.split("/"),function(n){return!!n}),!p).join("/"))||p||(g="."),g&&o&&(g+="/"),(p?"/":"")+g},d.isAbsolute=function(g){return g.charAt(0)==="/"},d.join=function(){var g=Array.prototype.slice.call(arguments,0);return d.normalize(c(g,function(p,o){if(typeof p!="string")throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},d.relative=function(g,p){function o(x){for(var _=0;_<x.length&&x[_]==="";_++);for(var E=x.length-1;0<=E&&x[E]==="";E--);return E<_?[]:x.slice(_,E-_+1)}g=d.resolve(g).substr(1),p=d.resolve(p).substr(1);for(var n=o(g.split("/")),s=o(p.split("/")),a=Math.min(n.length,s.length),l=a,v=0;v<a;v++)if(n[v]!==s[v]){l=v;break}var w=[];for(v=l;v<n.length;v++)w.push("..");return(w=w.concat(s.slice(l))).join("/")},d.sep="/",d.delimiter=":",d.dirname=function(g){if(typeof g!="string"&&(g+=""),g.length===0)return".";for(var p=g.charCodeAt(0),o=p===47,n=-1,s=!0,a=g.length-1;1<=a;--a)if((p=g.charCodeAt(a))===47){if(!s){n=a;break}}else s=!1;return n===-1?o?"/":".":o&&n===1?"/":g.slice(0,n)},d.basename=function(g,p){var o=function(n){typeof n!="string"&&(n+="");var s,a=0,l=-1,v=!0;for(s=n.length-1;0<=s;--s)if(n.charCodeAt(s)===47){if(!v){a=s+1;break}}else l===-1&&(v=!1,l=s+1);return l===-1?"":n.slice(a,l)}(g);return p&&o.substr(-1*p.length)===p&&(o=o.substr(0,o.length-p.length)),o},d.extname=function(g){typeof g!="string"&&(g+="");for(var p=-1,o=0,n=-1,s=!0,a=0,l=g.length-1;0<=l;--l){var v=g.charCodeAt(l);if(v===47){if(s)continue;o=l+1;break}n===-1&&(s=!1,n=l+1),v===46?p===-1?p=l:a!==1&&(a=1):p!==-1&&(a=-1)}return p===-1||n===-1||a===0||a===1&&p===n-1&&p===o+1?"":g.slice(p,n)};var h="ab".substr(-1)==="b"?function(g,p,o){return g.substr(p,o)}:function(g,p,o){return p<0&&(p=g.length+p),g.substr(p,o)}}).call(this,e("_process"))},{_process:241}],241:[function(e,m,d){var f,t,c=m.exports={};function h(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function p(_){if(f===setTimeout)return setTimeout(_,0);if((f===h||!f)&&setTimeout)return f=setTimeout,setTimeout(_,0);try{return f(_,0)}catch{try{return f.call(null,_,0)}catch{return f.call(this,_,0)}}}(function(){try{f=typeof setTimeout=="function"?setTimeout:h}catch{f=h}try{t=typeof clearTimeout=="function"?clearTimeout:g}catch{t=g}})();var o,n=[],s=!1,a=-1;function l(){s&&o&&(s=!1,o.length?n=o.concat(n):a=-1,n.length&&v())}function v(){if(!s){var _=p(l);s=!0;for(var E=n.length;E;){for(o=n,n=[];++a<E;)o&&o[a].run();a=-1,E=n.length}o=null,s=!1,function(C){if(t===clearTimeout)return clearTimeout(C);if((t===g||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(C);try{t(C)}catch{try{return t.call(null,C)}catch{return t.call(this,C)}}}(_)}}function w(_,E){this.fun=_,this.array=E}function x(){}c.nextTick=function(_){var E=new Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)E[C-1]=arguments[C];n.push(new w(_,E)),n.length!==1||s||p(v)},w.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=x,c.addListener=x,c.once=x,c.off=x,c.removeListener=x,c.removeAllListeners=x,c.emit=x,c.prependListener=x,c.prependOnceListener=x,c.listeners=function(_){return[]},c.binding=function(_){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(_){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],242:[function(e,m,d){(function(f){if(!f.fetch){var t="URLSearchParams"in f,c="Symbol"in f&&"iterator"in Symbol,h="FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch{return!1}}(),g="FormData"in f,p="ArrayBuffer"in f;if(p)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(D){return D&&DataView.prototype.isPrototypeOf(D)},s=ArrayBuffer.isView||function(D){return D&&-1<o.indexOf(Object.prototype.toString.call(D))};_.prototype.append=function(D,H){D=v(D),H=w(H);var W=this.map[D];this.map[D]=W?W+","+H:H},_.prototype.delete=function(D){delete this.map[v(D)]},_.prototype.get=function(D){return D=v(D),this.has(D)?this.map[D]:null},_.prototype.has=function(D){return this.map.hasOwnProperty(v(D))},_.prototype.set=function(D,H){this.map[v(D)]=w(H)},_.prototype.forEach=function(D,H){for(var W in this.map)this.map.hasOwnProperty(W)&&D.call(H,this.map[W],W,this)},_.prototype.keys=function(){var D=[];return this.forEach(function(H,W){D.push(W)}),x(D)},_.prototype.values=function(){var D=[];return this.forEach(function(H){D.push(H)}),x(D)},_.prototype.entries=function(){var D=[];return this.forEach(function(H,W){D.push([W,H])}),x(D)},c&&(_.prototype[Symbol.iterator]=_.prototype.entries);var a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];R.prototype.clone=function(){return new R(this,{body:this._bodyInit})},I.call(R.prototype),I.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},U.error=function(){var D=new U(null,{status:0,statusText:""});return D.type="error",D};var l=[301,302,303,307,308];U.redirect=function(D,H){if(l.indexOf(H)===-1)throw new RangeError("Invalid status code");return new U(null,{status:H,headers:{location:D}})},f.Headers=_,f.Request=R,f.Response=U,f.fetch=function(D,H){return new Promise(function(W,ae){var le=new R(D,H),J=new XMLHttpRequest;J.onload=function(){var ue,se,me={status:J.status,statusText:J.statusText,headers:(ue=J.getAllResponseHeaders()||"",se=new _,ue.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Ce){var ve=Ce.split(":"),De=ve.shift().trim();if(De){var _e=ve.join(":").trim();se.append(De,_e)}}),se)};me.url="responseURL"in J?J.responseURL:me.headers.get("X-Request-URL");var xe="response"in J?J.response:J.responseText;W(new U(xe,me))},J.onerror=function(){ae(new TypeError("Network request failed"))},J.ontimeout=function(){ae(new TypeError("Network request failed"))},J.open(le.method,le.url,!0),le.credentials==="include"?J.withCredentials=!0:le.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&h&&(J.responseType="blob"),le.headers.forEach(function(ue,se){J.setRequestHeader(se,ue)}),J.send(le._bodyInit===void 0?null:le._bodyInit)})},f.fetch.polyfill=!0}function v(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(D))throw new TypeError("Invalid character in header field name");return D.toLowerCase()}function w(D){return typeof D!="string"&&(D=String(D)),D}function x(D){var H={next:function(){var W=D.shift();return{done:W===void 0,value:W}}};return c&&(H[Symbol.iterator]=function(){return H}),H}function _(D){this.map={},D instanceof _?D.forEach(function(H,W){this.append(W,H)},this):Array.isArray(D)?D.forEach(function(H){this.append(H[0],H[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(H){this.append(H,D[H])},this)}function E(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function C(D){return new Promise(function(H,W){D.onload=function(){H(D.result)},D.onerror=function(){W(D.error)}})}function A(D){var H=new FileReader,W=C(H);return H.readAsArrayBuffer(D),W}function O(D){if(D.slice)return D.slice(0);var H=new Uint8Array(D.byteLength);return H.set(new Uint8Array(D)),H.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(D){if(this._bodyInit=D)if(typeof D=="string")this._bodyText=D;else if(h&&Blob.prototype.isPrototypeOf(D))this._bodyBlob=D;else if(g&&FormData.prototype.isPrototypeOf(D))this._bodyFormData=D;else if(t&&URLSearchParams.prototype.isPrototypeOf(D))this._bodyText=D.toString();else if(p&&h&&n(D))this._bodyArrayBuffer=O(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!p||!ArrayBuffer.prototype.isPrototypeOf(D)&&!s(D))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=O(D)}else this._bodyText="";this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h&&(this.blob=function(){var D=E(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?E(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var D,H,W,ae=E(this);if(ae)return ae;if(this._bodyBlob)return D=this._bodyBlob,H=new FileReader,W=C(H),H.readAsText(D),W;if(this._bodyArrayBuffer)return Promise.resolve(function(le){for(var J=new Uint8Array(le),ue=new Array(J.length),se=0;se<J.length;se++)ue[se]=String.fromCharCode(J[se]);return ue.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}function R(D,H){var W,ae,le=(H=H||{}).body;if(D instanceof R){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,H.headers||(this.headers=new _(D.headers)),this.method=D.method,this.mode=D.mode,le||D._bodyInit==null||(le=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=H.credentials||this.credentials||"omit",!H.headers&&this.headers||(this.headers=new _(H.headers)),this.method=(W=H.method||this.method||"GET",ae=W.toUpperCase(),-1<a.indexOf(ae)?ae:W),this.mode=H.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&le)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(le)}function L(D){var H=new FormData;return D.trim().split("&").forEach(function(W){if(W){var ae=W.split("="),le=ae.shift().replace(/\+/g," "),J=ae.join("=").replace(/\+/g," ");H.append(decodeURIComponent(le),decodeURIComponent(J))}}),H}function U(D,H){H=H||{},this.type="default",this.status=H.status===void 0?200:H.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new _(H.headers),this.url=H.url||"",this._initBody(D)}})(typeof self<"u"?self:this)},{}],243:[function(e,m,d){e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=h(e("../core/main")),c=h(e("../color/color_conversion"));function h(n){return n&&n.__esModule?n:{default:n}}var g=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],p=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];t.default.prototype._rgbColorName=function(n){var s=c.default._rgbaToHSBA(n);return function(a){var l;if(a[0]!==0){a[0]=Math.round(100*a[0]);var v=a[0].toString().split(""),w=v.length-1;v[w]=parseInt(v[w]),v[w]<2.5?v[w]=0:2.5<=v[w]&&v[w]<7.5&&(v[w]=5),v.length===2?(v[0]=parseInt(v[0]),7.5<=v[w]&&(v[w]=0,v[0]=v[0]+1),a[0]=10*v[0]+v[1]):7.5<=v[w]?a[0]=10:a[0]=v[w]}a[2]=a[2]/255;for(var x=a.length-1;1<=x;x--)a[x]<=.25?a[x]=0:.25<a[x]&&a[x]<.75?a[x]=.5:a[x]=1;if(a[0]===0&&a[1]===0&&a[2]===1){for(var _=2;0<=_;_--)f[_]=Math.round(1e4*f[_])/1e4;for(var E=0;E<g.length;E++){if(g[E].h===f[0]&&g[E].s===f[1]&&g[E].b===f[2]){l=g[E].name;break}l="white"}}else for(var C=0;C<p.length;C++)if(p[C].h===a[0]&&p[C].s===a[1]&&p[C].b===a[2]){l=p[C].name;break}return l}([(f=s)[0],s[1],s[2]])};var o=t.default;d.default=o},{"../color/color_conversion":249,"../core/main":264,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],244:[function(e,m,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f},c="_Description",h="_fallbackDesc",g="_fallbackTable",p="_Label",o="_labelDesc",n="_labelTable";function s(l){if(l==="label"||l==="fallback")throw new Error("description should not be LABEL or FALLBACK");return l.endsWith(".")||l.endsWith(";")||l.endsWith(",")||l.endsWith("?")||l.endsWith("!")||(l+="."),l}t.default.prototype.describe=function(l,v){if(t.default._validateParameters("describe",arguments),typeof l=="string"){var w=this.canvas.id;l=s(l),this.dummyDOM||(this.dummyDOM=document.getElementById(w).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==l&&(this.descriptions.fallback.innerHTML=l):this._describeHTML("fallback",l),v===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==l&&(this.descriptions.label.innerHTML=l):this._describeHTML("label",l))}},t.default.prototype.describeElement=function(l,v,w){if(t.default._validateParameters("describeElement",arguments),typeof v=="string"&&typeof l=="string"){var x=this.canvas.id;v=s(v);var _=function(C){if(C==="label"||C==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return C.endsWith(".")||C.endsWith(";")||C.endsWith(",")?C=C.replace(/.$/,":"):C.endsWith(":")||(C+=":"),C}(l);l=l.replace(/[^a-zA-Z0-9]/g,"");var E='<th scope="row">'.concat(_,"</th><td>").concat(v,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(x).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[l]?this.descriptions.fallbackElements[l].innerHTML!==E&&(this.descriptions.fallbackElements[l].innerHTML=E):this._describeElementHTML("fallback",l,E),w===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[l]?this.descriptions.labelElements[l].innerHTML!==E&&(this.descriptions.labelElements[l].innerHTML=E):this._describeElementHTML("label",l,E))}},t.default.prototype._describeHTML=function(l,v){var w=this.canvas.id;if(l==="fallback"){if(this.dummyDOM.querySelector("#".concat(w+c)))this.dummyDOM.querySelector("#"+w+g).insertAdjacentHTML("beforebegin",'<p id="'.concat(w+h,'"></p>'));else{var x='<div id="'.concat(w).concat(c,'" role="region" aria-label="Canvas Description"><p id="').concat(w).concat(h,'"></p></div>');this.dummyDOM.querySelector("#".concat(w,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutput")).insertAdjacentHTML("beforebegin",x):this.dummyDOM.querySelector("#".concat(w)).innerHTML=x}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(w).concat(h)),void(this.descriptions.fallback.innerHTML=v)}if(l==="label"){if(this.dummyDOM.querySelector("#".concat(w+p)))this.dummyDOM.querySelector("#".concat(w+n))&&this.dummyDOM.querySelector("#".concat(w+n)).insertAdjacentHTML("beforebegin",'<p id="'.concat(w).concat(o,'"></p>'));else{var _='<div id="'.concat(w).concat(p,'" class="p5Label"><p id="').concat(w).concat(o,'"></p></div>');this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+w).insertAdjacentHTML("afterend",_)}return this.descriptions.label=this.dummyDOM.querySelector("#"+w+o),void(this.descriptions.label.innerHTML=v)}},t.default.prototype._describeElementHTML=function(l,v,w){var x=this.canvas.id;if(l==="fallback"){if(this.dummyDOM.querySelector("#".concat(x+c)))this.dummyDOM.querySelector("#"+x+g)||this.dummyDOM.querySelector("#"+x+h).insertAdjacentHTML("afterend",'<table id="'.concat(x).concat(g,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var _='<div id="'.concat(x).concat(c,'" role="region" aria-label="Canvas Description"><table id="').concat(x).concat(g,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(x,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutput")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+x).innerHTML=_}var E=document.createElement("tr");return E.id=x+"_fte_"+v,this.dummyDOM.querySelector("#"+x+g).appendChild(E),this.descriptions.fallbackElements[v]=this.dummyDOM.querySelector("#".concat(x).concat("_fte_").concat(v)),void(this.descriptions.fallbackElements[v].innerHTML=w)}if(l==="label"){if(this.dummyDOM.querySelector("#".concat(x+p)))this.dummyDOM.querySelector("#".concat(x+n))||this.dummyDOM.querySelector("#"+x+o).insertAdjacentHTML("afterend",'<table id="'.concat(x+n,'"></table>'));else{var C='<div id="'.concat(x).concat(p,'" class="p5Label"><table id="').concat(x).concat(n,'"></table></div>');this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",C):this.dummyDOM.querySelector("#"+x).insertAdjacentHTML("afterend",C)}var A=document.createElement("tr");A.id=x+"_lte_"+v,this.dummyDOM.querySelector("#"+x+n).appendChild(A),this.descriptions.labelElements[v]=this.dummyDOM.querySelector("#".concat(x).concat("_lte_").concat(v)),this.descriptions.labelElements[v].innerHTML=w}};var a=t.default;d.default=a},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],245:[function(e,m,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.prototype._updateGridOutput=function(h){if(this.dummyDOM.querySelector("#".concat(h,"_summary"))){var g=this._accessibleOutputs[h],p=function(s,a){var l="",v="",w=0;for(var x in a){var _=0;for(var E in a[x]){var C='<li id="'.concat(s,"shape").concat(w,'">').concat(a[x][E].color," ").concat(x,",");x==="line"?C+=" location = ".concat(a[x][E].pos,", length = ").concat(a[x][E].length," pixels"):(C+=" location = ".concat(a[x][E].pos),x!=="point"&&(C+=", area = ".concat(a[x][E].area," %")),C+="</li>"),l+=C,_++,w++}v=1<_?"".concat(v," ").concat(_," ").concat(x,"s"):"".concat(v," ").concat(_," ").concat(x)}return{numShapes:[w,v],details:l}}(h,this.ingredients.shapes),o=function(s,a,l,v){var w="".concat(a," canvas, ").concat(l," by ").concat(v," pixels, contains ").concat(s[0]);return w=s[0]===1?"".concat(w," shape: ").concat(s[1]):"".concat(w," shapes: ").concat(s[1]),w}(p.numShapes,this.ingredients.colors.background,this.width,this.height),n=function(s,a){var l=0,v="",w=Array.apply(null,Array(10)).map(function(){});for(var x in w)w[x]=Array.apply(null,Array(10)).map(function(){});for(var _ in a)for(var E in a[_]){var C=void 0;C=_!=="line"?'<a href="#'.concat(s,"shape").concat(l,'">').concat(a[_][E].color," ").concat(_,"</a>"):'<a href="#'.concat(s,"shape").concat(l,'">').concat(a[_][E].color," ").concat(_," midpoint</a>"),w[a[_][E].loc.locY][a[_][E].loc.locX]?w[a[_][E].loc.locY][a[_][E].loc.locX]=w[a[_][E].loc.locY][a[_][E].loc.locX]+"  "+C:w[a[_][E].loc.locY][a[_][E].loc.locX]=C,l++}for(var A in w){var O="<tr>";for(var I in w[A])O+="<td>",w[A][I]!==void 0&&(O+=w[A][I]),O+="</td>";v=v+O+"</tr>"}return v}(h,this.ingredients.shapes);o!==g.summary.innerHTML&&(g.summary.innerHTML=o),n!==g.map.innerHTML&&(g.map.innerHTML=n),p.details!==g.shapeDetails.innerHTML&&(g.shapeDetails.innerHTML=p.details),this._accessibleOutputs[h]=g}};var c=t.default;d.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],246:[function(e,m,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};function c(p,o,n){return p[0]<.4*o?p[1]<.4*n?"top left":p[1]>.6*n?"bottom left":"mid left":p[0]>.6*o?p[1]<.4*n?"top right":p[1]>.6*n?"bottom right":"mid right":p[1]<.4*n?"top middle":p[1]>.6*n?"bottom middle":"middle"}function h(p,o,n){var s=Math.floor(p[0]/o*10),a=Math.floor(p[1]/n*10);return s===10&&--s,a===10&&--a,{locX:s,locY:a}}t.default.prototype.textOutput=function(p){t.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),p===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},t.default.prototype.gridOutput=function(p){t.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),p===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},t.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},t.default.prototype._createOutput=function(p,o){var n,s,a,l=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode);var v="";o==="Fallback"?(n=l+p,s=l+"accessibleOutput",this.dummyDOM.querySelector("#".concat(s))||(this.dummyDOM.querySelector("#".concat(l,"_Description"))?this.dummyDOM.querySelector("#".concat(l,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(l)).innerHTML='<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>'))):o==="Label"&&(n=l+p+(v=o),s=l+"accessibleOutput"+o,this.dummyDOM.querySelector("#".concat(s))||(this.dummyDOM.querySelector("#".concat(l,"_Label"))?this.dummyDOM.querySelector("#".concat(l,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(s,'"></div>')):this.dummyDOM.querySelector("#".concat(l)).insertAdjacentHTML("afterend",'<div id="'.concat(s,'"></div>')))),this._accessibleOutputs[n]={},p==="textOutput"?(v="#".concat(l,"gridOutput").concat(v),a='<div id="'.concat(n,'">Text Output<div id="').concat(n,'Summary" aria-label="text output summary"><p id="').concat(n,'_summary"></p><ul id="').concat(n,'_list"></ul></div><table id="').concat(n,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(v)?this.dummyDOM.querySelector(v).insertAdjacentHTML("beforebegin",a):this.dummyDOM.querySelector("#".concat(s)).innerHTML=a,this._accessibleOutputs[n].list=this.dummyDOM.querySelector("#".concat(n,"_list"))):p==="gridOutput"&&(v="#".concat(l,"textOutput").concat(v),a='<div id="'.concat(n,'">Grid Output<p id="').concat(n,'_summary" aria-label="grid output summary"><table id="').concat(n,'_map" summary="grid output content"></table><ul id="').concat(n,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(v)?this.dummyDOM.querySelector(v).insertAdjacentHTML("afterend",a):this.dummyDOM.querySelector("#".concat(s)).innerHTML=a,this._accessibleOutputs[n].map=this.dummyDOM.querySelector("#".concat(n,"_map"))),this._accessibleOutputs[n].shapeDetails=this.dummyDOM.querySelector("#".concat(n,"_shapeDetails")),this._accessibleOutputs[n].summary=this.dummyDOM.querySelector("#".concat(n,"_summary"))},t.default.prototype._updateAccsOutput=function(){var p=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(p+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(p+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(p+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(p+"gridOutputLabel"))},t.default.prototype._accsBackground=function(p){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==p&&(this.ingredients.colors.backgroundRGBA=p,this.ingredients.colors.background=this._rgbColorName(p))},t.default.prototype._accsCanvasColors=function(p,o){p==="fill"?this.ingredients.colors.fillRGBA!==o&&(this.ingredients.colors.fillRGBA=o,this.ingredients.colors.fill=this._rgbColorName(o)):p==="stroke"&&this.ingredients.colors.strokeRGBA!==o&&(this.ingredients.colors.strokeRGBA=o,this.ingredients.colors.stroke=this._rgbColorName(o))},t.default.prototype._accsOutput=function(p,o){p==="ellipse"&&o[2]===o[3]?p="circle":p==="rectangle"&&o[2]===o[3]&&(p="square");var n={},s=!0,a=function(x,_){var E,C;return C=x==="rectangle"||x==="ellipse"||x==="arc"||x==="circle"||x==="square"?(E=Math.round(_[0]+_[2]/2),Math.round(_[1]+_[3]/2)):x==="triangle"?(E=(_[0]+_[2]+_[4])/3,(_[1]+_[3]+_[5])/3):x==="quadrilateral"?(E=(_[0]+_[2]+_[4]+_[6])/4,(_[1]+_[3]+_[5]+_[7])/4):x==="line"?(E=(_[0]+_[2])/2,(_[1]+_[3])/2):(E=_[0],_[1]),[E,C]}(p,o);if(p==="line"){n.color=this.ingredients.colors.stroke,n.length=Math.round(this.dist(o[0],o[1],o[2],o[3]));var l=c([o[0],[1]],this.width,this.height),v=c([o[2],[3]],this.width,this.height);n.loc=h(a,this.width,this.height),n.pos=l===v?"at ".concat(l):"from ".concat(l," to ").concat(v)}else p==="point"?n.color=this.ingredients.colors.stroke:(n.color=this.ingredients.colors.fill,n.area=function(x,_,E,C){var A=0;if(x==="arc"){var O=((_[5]-_[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(A=O*_[2]*_[3]/8,_[6]==="open"||_[6]==="chord"){var I=_[0],R=_[1],L=_[0]+_[2]/2*Math.cos(_[4]).toFixed(2),U=_[1]+_[3]/2*Math.sin(_[4]).toFixed(2),D=_[0]+_[2]/2*Math.cos(_[5]).toFixed(2),H=_[1]+_[3]/2*Math.sin(_[5]).toFixed(2),W=Math.abs(I*(U-H)+L*(H-R)+D*(R-U))/2;O>Math.PI?A+=W:A-=W}}else x==="ellipse"||x==="circle"?A=3.14*_[2]/2*_[3]/2:x==="line"||x==="point"?A=0:x==="quadrilateral"?A=Math.abs((_[6]+_[0])*(_[7]-_[1])+(_[0]+_[2])*(_[1]-_[3])+(_[2]+_[4])*(_[3]-_[5])+(_[4]+_[6])*(_[5]-_[7]))/2:x==="rectangle"||x==="square"?A=_[2]*_[3]:x==="triangle"&&(A=Math.abs(_[0]*(_[3]-_[5])+_[2]*(_[5]-_[1])+_[4]*(_[1]-_[3]))/2);return Math.round(100*A/(E*C))}(p,o,this.width,this.height)),n.pos=c(a,this.width,this.height),n.loc=h(a,this.width,this.height);if(this.ingredients.shapes[p]){if(this.ingredients.shapes[p]!==[n]){for(var w in this.ingredients.shapes[p])JSON.stringify(this.ingredients.shapes[p][w])===JSON.stringify(n)&&(s=!1);s===!0&&this.ingredients.shapes[p].push(n)}}else this.ingredients.shapes[p]=[n]};var g=t.default;d.default=g},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":172}],247:[function(e,m,d){e("core-js/modules/es.array.concat"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.prototype._updateTextOutput=function(h){if(this.dummyDOM.querySelector("#".concat(h,"_summary"))){var g=this._accessibleOutputs[h],p=function(s,a){var l="",v=0;for(var w in a)for(var x in a[w]){var _='<li><a href="#'.concat(s,"shape").concat(v,'">').concat(a[w][x].color," ").concat(w,"</a>");w==="line"?_+=", ".concat(a[w][x].pos,", ").concat(a[w][x].length," pixels long.</li>"):(_+=", at ".concat(a[w][x].pos),w!=="point"&&(_+=", covering ".concat(a[w][x].area,"% of the canvas")),_+=".</li>"),l+=_,v++}return{numShapes:v,listShapes:l}}(h,this.ingredients.shapes),o=function(s,a,l,v){var w="Your output is a, ".concat(l," by ").concat(v," pixels, ").concat(a," canvas containing the following");return w=s===1?"".concat(w," shape:"):"".concat(w," ").concat(s," shapes:"),w}(p.numShapes,this.ingredients.colors.background,this.width,this.height),n=function(s,a){var l="",v=0;for(var w in a)for(var x in a[w]){var _='<tr id="'.concat(s,"shape").concat(v,'"><th>').concat(a[w][x].color," ").concat(w,"</th>");w==="line"?_+="<td>location = ".concat(a[w][x].pos,"</td><td>length = ").concat(a[w][x].length," pixels</td></tr>"):(_+="<td>location = ".concat(a[w][x].pos,"</td>"),w!=="point"&&(_+="<td> area = ".concat(a[w][x].area,"%</td>")),_+="</tr>"),l+=_,v++}return l}(h,this.ingredients.shapes);o!==g.summary.innerHTML&&(g.summary.innerHTML=o),p.listShapes!==g.list.innerHTML&&(g.list.innerHTML=p.listShapes),n!==g.shapeDetails.innerHTML&&(g.shapeDetails.innerHTML=n),this._accessibleOutputs[h]=g}};var c=t.default;d.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149}],248:[function(e,m,d){var f,t=(f=e("./core/main"))&&f.__esModule?f:{default:f};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),m.exports=t.default},{"./accessibility/color_namer":243,"./accessibility/describe":244,"./accessibility/gridOutput":245,"./accessibility/outputs":246,"./accessibility/textOutput":247,"./color/color_conversion":249,"./color/creating_reading":250,"./color/p5.Color":251,"./color/setting":252,"./core/constants":253,"./core/environment":254,"./core/friendly_errors/fes_core":255,"./core/friendly_errors/file_errors":256,"./core/friendly_errors/sketch_reader":257,"./core/friendly_errors/stacktrace":258,"./core/friendly_errors/validate_params":259,"./core/helpers":260,"./core/init":261,"./core/legacy":263,"./core/main":264,"./core/p5.Element":265,"./core/p5.Graphics":266,"./core/p5.Renderer":267,"./core/p5.Renderer2D":268,"./core/preload":269,"./core/rendering":270,"./core/shape/2d_primitives":271,"./core/shape/attributes":272,"./core/shape/curves":273,"./core/shape/vertex":274,"./core/shim":275,"./core/structure":276,"./core/transform":277,"./data/local_storage.js":278,"./data/p5.TypedDict":279,"./dom/dom":280,"./events/acceleration":281,"./events/keyboard":282,"./events/mouse":283,"./events/touch":284,"./image/filters":285,"./image/image":286,"./image/loading_displaying":287,"./image/p5.Image":288,"./image/pixels":289,"./io/files":290,"./io/p5.Table":291,"./io/p5.TableRow":292,"./io/p5.XML":293,"./math/calculation":294,"./math/math":295,"./math/noise":296,"./math/p5.Vector":297,"./math/random":298,"./math/trigonometry":299,"./typography/attributes":300,"./typography/loading_displaying":301,"./typography/p5.Font":302,"./utilities/array_functions":303,"./utilities/conversion":304,"./utilities/string_functions":305,"./utilities/time_date":306,"./webgl/3d_primitives":307,"./webgl/interaction":308,"./webgl/light":309,"./webgl/loading":310,"./webgl/material":311,"./webgl/p5.Camera":312,"./webgl/p5.Geometry":313,"./webgl/p5.Matrix":314,"./webgl/p5.RenderBuffer":315,"./webgl/p5.RendererGL":318,"./webgl/p5.RendererGL.Immediate":316,"./webgl/p5.RendererGL.Retained":317,"./webgl/p5.Shader":319,"./webgl/p5.Texture":320,"./webgl/text":321}],249:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.ColorConversion={},t.default.ColorConversion._hsbaToHSLA=function(h){var g=h[0],p=h[1],o=h[2],n=(2-p)*o/2;return n!=0&&(n==1?p=0:n<.5?p/=2-p:p=p*o/(2-2*n)),[g,p,n,h[3]]},t.default.ColorConversion._hsbaToRGBA=function(h){var g=6*h[0],p=h[1],o=h[2],n=[];if(p===0)n=[o,o,o,h[3]];else{var s,a,l,v=Math.floor(g),w=o*(1-p),x=o*(1-p*(g-v)),_=o*(1-p*(1+v-g));l=v===1?(s=x,a=o,w):v===2?(s=w,a=o,_):v===3?(s=w,a=x,o):v===4?(s=_,a=w,o):v===5?(s=o,a=w,x):(s=o,a=_,w),n=[s,a,l,h[3]]}return n},t.default.ColorConversion._hslaToHSBA=function(h){var g,p=h[0],o=h[1],n=h[2];return[p,o=2*((g=n<.5?(1+o)*n:n+o-n*o)-n)/g,g,h[3]]},t.default.ColorConversion._hslaToRGBA=function(h){var g=6*h[0],p=h[1],o=h[2],n=[];if(p===0)n=[o,o,o,h[3]];else{var s,a=2*o-(s=o<.5?(1+p)*o:o+p-o*p),l=function(v,w,x){return v<0?v+=6:6<=v&&(v-=6),v<1?w+(x-w)*v:v<3?x:v<4?w+(x-w)*(4-v):w};n=[l(2+g,a,s),l(g,a,s),l(g-2,a,s),h[3]]}return n},t.default.ColorConversion._rgbaToHSBA=function(h){var g,p,o=h[0],n=h[1],s=h[2],a=Math.max(o,n,s),l=a-Math.min(o,n,s);return l==0?p=g=0:(p=l/a,o===a?g=(n-s)/l:n===a?g=2+(s-o)/l:s===a&&(g=4+(o-n)/l),g<0?g+=6:6<=g&&(g-=6)),[g/6,p,a,h[3]]},t.default.ColorConversion._rgbaToHSLA=function(h){var g,p,o=h[0],n=h[1],s=h[2],a=Math.max(o,n,s),l=Math.min(o,n,s),v=a+l,w=a-l;return w==0?p=g=0:(p=v<1?w/v:w/(2-v),o===a?g=(n-s)/w:n===a?g=2+(s-o)/w:s===a&&(g=4+(o-n)/w),g<0?g+=6:6<=g&&(g-=6)),[g/6,p,v/2,h[3]]};var c=t.default.ColorConversion;d.default=c},{"../core/main":264}],250:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}e("core-js/modules/es.array.map"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=g();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),c.default.prototype.alpha=function(o){return c.default._validateParameters("alpha",arguments),this.color(o)._getAlpha()},c.default.prototype.blue=function(o){return c.default._validateParameters("blue",arguments),this.color(o)._getBlue()},c.default.prototype.brightness=function(o){return c.default._validateParameters("brightness",arguments),this.color(o)._getBrightness()},c.default.prototype.color=function(){if(c.default._validateParameters("color",arguments),arguments[0]instanceof c.default.Color)return arguments[0];var o=arguments[0]instanceof Array?arguments[0]:arguments;return new c.default.Color(this,o)},c.default.prototype.green=function(o){return c.default._validateParameters("green",arguments),this.color(o)._getGreen()},c.default.prototype.hue=function(o){return c.default._validateParameters("hue",arguments),this.color(o)._getHue()},c.default.prototype.lerpColor=function(o,n,s){c.default._validateParameters("lerpColor",arguments);var a,l,v,w,x,_,E=this._colorMode,C=this._colorMaxes;if(E===h.RGB)x=o.levels.map(function(A){return A/255}),_=n.levels.map(function(A){return A/255});else if(E===h.HSB)o._getBrightness(),n._getBrightness(),x=o.hsba,_=n.hsba;else{if(E!==h.HSL)throw new Error("".concat(E,"cannot be used for interpolation."));o._getLightness(),n._getLightness(),x=o.hsla,_=n.hsla}return s=Math.max(Math.min(s,1),0),this.lerp===void 0&&(this.lerp=function(A,O,I){return I*(O-A)+A}),a=this.lerp(x[0],_[0],s),l=this.lerp(x[1],_[1],s),v=this.lerp(x[2],_[2],s),w=this.lerp(x[3],_[3],s),a*=C[E][0],l*=C[E][1],v*=C[E][2],w*=C[E][3],this.color(a,l,v,w)},c.default.prototype.lightness=function(o){return c.default._validateParameters("lightness",arguments),this.color(o)._getLightness()},c.default.prototype.red=function(o){return c.default._validateParameters("red",arguments),this.color(o)._getRed()},c.default.prototype.saturation=function(o){return c.default._validateParameters("saturation",arguments),this.color(o)._getSaturation()};var p=c.default;d.default=p},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.map":161}],251:[function(e,m,d){function f(x){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t=p(e("../core/main")),c=function(x){if(x&&x.__esModule)return x;if(x===null||f(x)!=="object"&&typeof x!="function")return{default:x};var _=g();if(_&&_.has(x))return _.get(x);var E={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in x)if(Object.prototype.hasOwnProperty.call(x,A)){var O=C?Object.getOwnPropertyDescriptor(x,A):null;O&&(O.get||O.set)?Object.defineProperty(E,A,O):E[A]=x[A]}return E.default=x,_&&_.set(x,E),E}(e("../core/constants")),h=p(e("./color_conversion"));function g(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return g=function(){return x},x}function p(x){return x&&x.__esModule?x:{default:x}}t.default.Color=function(x,_){if(this._storeModeAndMaxes(x._colorMode,x._colorMaxes),this.mode!==c.RGB&&this.mode!==c.HSL&&this.mode!==c.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=t.default.Color._parseInputs.apply(this,_),this._calculateLevels(),this},t.default.Color.prototype.toString=function(x){var _=this.levels,E=this._array,C=E[3];switch(x){case"#rrggbb":return"#".concat(_[0]<16?"0".concat(_[0].toString(16)):_[0].toString(16),_[1]<16?"0".concat(_[1].toString(16)):_[1].toString(16),_[2]<16?"0".concat(_[2].toString(16)):_[2].toString(16));case"#rrggbbaa":return"#".concat(_[0]<16?"0".concat(_[0].toString(16)):_[0].toString(16),_[1]<16?"0".concat(_[1].toString(16)):_[1].toString(16),_[2]<16?"0".concat(_[2].toString(16)):_[2].toString(16),_[3]<16?"0".concat(_[3].toString(16)):_[3].toString(16));case"#rgb":return"#".concat(Math.round(15*E[0]).toString(16),Math.round(15*E[1]).toString(16),Math.round(15*E[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*E[0]).toString(16),Math.round(15*E[1]).toString(16),Math.round(15*E[2]).toString(16),Math.round(15*E[3]).toString(16));case"rgb":return"rgb(".concat(_[0],", ",_[1],", ",_[2],")");case"rgb%":return"rgb(".concat((100*E[0]).toPrecision(3),"%, ",(100*E[1]).toPrecision(3),"%, ",(100*E[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*E[0]).toPrecision(3),"%, ",(100*E[1]).toPrecision(3),"%, ",(100*E[2]).toPrecision(3),"%, ",(100*E[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=h.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=h.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=h.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",C,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=h.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*C).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=h.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=h.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=h.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",C,")");case"hsla%":return this.hsla||(this.hsla=h.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*C).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(_[0],",",_[1],",",_[2],",",C,")")}},t.default.Color.prototype.setRed=function(x){this._array[0]=x/this.maxes[c.RGB][0],this._calculateLevels()},t.default.Color.prototype.setGreen=function(x){this._array[1]=x/this.maxes[c.RGB][1],this._calculateLevels()},t.default.Color.prototype.setBlue=function(x){this._array[2]=x/this.maxes[c.RGB][2],this._calculateLevels()},t.default.Color.prototype.setAlpha=function(x){this._array[3]=x/this.maxes[this.mode][3],this._calculateLevels()},t.default.Color.prototype._calculateLevels=function(){for(var x=this._array,_=this.levels=new Array(x.length),E=x.length-1;0<=E;--E)_[E]=Math.round(255*x[E]);this.hsla=null,this.hsba=null},t.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},t.default.Color.prototype._storeModeAndMaxes=function(x,_){this.mode=x,this.maxes=_},t.default.Color.prototype._getMode=function(){return this.mode},t.default.Color.prototype._getMaxes=function(){return this.maxes},t.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[c.RGB][2]},t.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=h.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]},t.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[c.RGB][1]},t.default.Color.prototype._getHue=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=h.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=h.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])},t.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=h.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]},t.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[c.RGB][0]},t.default.Color.prototype._getSaturation=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=h.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=h.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])};var o={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},n=/\s*/,s=/(\d{1,3})/,a=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,l=new RegExp("".concat(a.source,"%")),v={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",s.source,",",s.source,",",s.source,"\\)$"].join(n.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(n.source),"i"),RGBA:new RegExp(["^rgba\\(",s.source,",",s.source,",",s.source,",",a.source,"\\)$"].join(n.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",a.source,"\\)$"].join(n.source),"i"),HSL:new RegExp(["^hsl\\(",s.source,",",l.source,",",l.source,"\\)$"].join(n.source),"i"),HSLA:new RegExp(["^hsla\\(",s.source,",",l.source,",",l.source,",",a.source,"\\)$"].join(n.source),"i"),HSB:new RegExp(["^hsb\\(",s.source,",",l.source,",",l.source,"\\)$"].join(n.source),"i"),HSBA:new RegExp(["^hsba\\(",s.source,",",l.source,",",l.source,",",a.source,"\\)$"].join(n.source),"i")};t.default.Color._parseInputs=function(x,_,E,C){var A,O=arguments.length,I=this.mode,R=this.maxes[I],L=[];if(3<=O){for(L[0]=x/R[0],L[1]=_/R[1],L[2]=E/R[2],L[3]=typeof C=="number"?C/R[3]:1,A=L.length-1;0<=A;--A){var U=L[A];U<0?L[A]=0:1<U&&(L[A]=1)}return I===c.HSL?h.default._hslaToRGBA(L):I===c.HSB?h.default._hsbaToRGBA(L):L}if(O===1&&typeof x=="string"){var D=x.trim().toLowerCase();if(o[D])return t.default.Color._parseInputs.call(this,o[D]);if(v.HEX3.test(D))return(L=v.HEX3.exec(D).slice(1).map(function(H){return parseInt(H+H,16)/255}))[3]=1,L;if(v.HEX6.test(D))return(L=v.HEX6.exec(D).slice(1).map(function(H){return parseInt(H,16)/255}))[3]=1,L;if(v.HEX4.test(D))return L=v.HEX4.exec(D).slice(1).map(function(H){return parseInt(H+H,16)/255});if(v.HEX8.test(D))return L=v.HEX8.exec(D).slice(1).map(function(H){return parseInt(H,16)/255});if(v.RGB.test(D))return(L=v.RGB.exec(D).slice(1).map(function(H){return H/255}))[3]=1,L;if(v.RGB_PERCENT.test(D))return(L=v.RGB_PERCENT.exec(D).slice(1).map(function(H){return parseFloat(H)/100}))[3]=1,L;if(v.RGBA.test(D))return L=v.RGBA.exec(D).slice(1).map(function(H,W){return W===3?parseFloat(H):H/255});if(v.RGBA_PERCENT.test(D))return L=v.RGBA_PERCENT.exec(D).slice(1).map(function(H,W){return W===3?parseFloat(H):parseFloat(H)/100});if(v.HSL.test(D)?(L=v.HSL.exec(D).slice(1).map(function(H,W){return W===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:v.HSLA.test(D)&&(L=v.HSLA.exec(D).slice(1).map(function(H,W){return W===0?parseInt(H,10)/360:W===3?parseFloat(H):parseInt(H,10)/100})),(L=L.map(function(H){return Math.max(Math.min(H,1),0)})).length)return h.default._hslaToRGBA(L);if(v.HSB.test(D)?(L=v.HSB.exec(D).slice(1).map(function(H,W){return W===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:v.HSBA.test(D)&&(L=v.HSBA.exec(D).slice(1).map(function(H,W){return W===0?parseInt(H,10)/360:W===3?parseFloat(H):parseInt(H,10)/100})),L.length){for(A=L.length-1;0<=A;--A)L[A]=Math.max(Math.min(L[A],1),0);return h.default._hsbaToRGBA(L)}L=[1,1,1,1]}else{if(O!==1&&O!==2||typeof x!="number")throw new Error("".concat(arguments,"is not a valid color representation."));L[0]=x/R[2],L[1]=x/R[2],L[2]=x/R[2],L[3]=typeof _=="number"?_/R[3]:1,L=L.map(function(H){return Math.max(Math.min(H,1),0)})}return L};var w=t.default.Color;d.default=w},{"../core/constants":253,"../core/main":264,"./color_conversion":249,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.trim":193}],252:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}e("core-js/modules/es.array.fill"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=g();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}e("./p5.Color"),c.default.prototype.background=function(){var o;return(o=this._renderer).background.apply(o,arguments),this},c.default.prototype.clear=function(){var o=(arguments.length<=0?void 0:arguments[0])||0,n=(arguments.length<=1?void 0:arguments[1])||0,s=(arguments.length<=2?void 0:arguments[2])||0,a=(arguments.length<=3?void 0:arguments[3])||0;return this._renderer.clear(o,n,s,a),this},c.default.prototype.colorMode=function(o,n,s,a,l){if(c.default._validateParameters("colorMode",arguments),o===h.RGB||o===h.HSB||o===h.HSL){this._colorMode=o;var v=this._colorMaxes[o];arguments.length===2?(v[0]=n,v[1]=n,v[2]=n,v[3]=n):arguments.length===4?(v[0]=n,v[1]=s,v[2]=a):arguments.length===5&&(v[0]=n,v[1]=s,v[2]=a,v[3]=l)}return this},c.default.prototype.fill=function(){var o;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(o=this._renderer).fill.apply(o,arguments),this},c.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},c.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},c.default.prototype.stroke=function(){var o;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(o=this._renderer).stroke.apply(o,arguments),this},c.default.prototype.erase=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255;return this._renderer.erase(o,n),this},c.default.prototype.noErase=function(){return this._renderer.noErase(),this};var p=c.default;d.default=p},{"../core/constants":253,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.fill":151}],253:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.BEZIER=d.QUADRATIC=d.LINEAR=d._CTX_MIDDLE=d._DEFAULT_LEADMULT=d._DEFAULT_TEXT_FILL=d.WORD=d.CHAR=d.BOLDITALIC=d.BOLD=d.ITALIC=d.NORMAL=d.BLUR=d.ERODE=d.DILATE=d.POSTERIZE=d.INVERT=d.OPAQUE=d.GRAY=d.THRESHOLD=d.BURN=d.DODGE=d.SOFT_LIGHT=d.HARD_LIGHT=d.OVERLAY=d.REPLACE=d.SCREEN=d.MULTIPLY=d.EXCLUSION=d.SUBTRACT=d.DIFFERENCE=d.LIGHTEST=d.DARKEST=d.ADD=d.REMOVE=d.BLEND=d.UP_ARROW=d.TAB=d.SHIFT=d.RIGHT_ARROW=d.RETURN=d.OPTION=d.LEFT_ARROW=d.ESCAPE=d.ENTER=d.DOWN_ARROW=d.DELETE=d.CONTROL=d.BACKSPACE=d.ALT=d.AUTO=d.HSL=d.HSB=d.RGB=d.MITER=d.BEVEL=d.ROUND=d.SQUARE=d.PROJECT=d.PIE=d.CHORD=d.OPEN=d.CLOSE=d.TESS=d.QUAD_STRIP=d.QUADS=d.TRIANGLE_STRIP=d.TRIANGLE_FAN=d.TRIANGLES=d.LINE_LOOP=d.LINE_STRIP=d.LINES=d.POINTS=d.BASELINE=d.BOTTOM=d.TOP=d.CENTER=d.LEFT=d.RIGHT=d.RADIUS=d.CORNERS=d.CORNER=d.RAD_TO_DEG=d.DEG_TO_RAD=d.RADIANS=d.DEGREES=d.TWO_PI=d.TAU=d.QUARTER_PI=d.PI=d.HALF_PI=d.WAIT=d.TEXT=d.MOVE=d.HAND=d.CROSS=d.ARROW=d.WEBGL=d.P2D=d.VERSION=void 0,d.FALLBACK=d.LABEL=d.AXES=d.GRID=d._DEFAULT_FILL=d._DEFAULT_STROKE=d.PORTRAIT=d.LANDSCAPE=d.MIRROR=d.CLAMP=d.REPEAT=d.NEAREST=d.IMAGE=d.IMMEDIATE=d.TEXTURE=d.FILL=d.STROKE=d.CURVE=void 0;var f=Math.PI;d.VERSION="1.4.2",d.P2D="p2d",d.WEBGL="webgl",d.ARROW="default",d.CROSS="crosshair",d.HAND="pointer",d.MOVE="move",d.TEXT="text",d.WAIT="wait";var t=f/2;d.HALF_PI=t;var c=f;d.PI=c;var h=f/4;d.QUARTER_PI=h;var g=2*f;d.TAU=g;var p=2*f;d.TWO_PI=p,d.DEGREES="degrees",d.RADIANS="radians";var o=f/180;d.DEG_TO_RAD=o;var n=180/f;d.RAD_TO_DEG=n,d.CORNER="corner",d.CORNERS="corners",d.RADIUS="radius",d.RIGHT="right",d.LEFT="left",d.CENTER="center",d.TOP="top",d.BOTTOM="bottom",d.BASELINE="alphabetic",d.POINTS=0,d.LINES=1,d.LINE_STRIP=3,d.LINE_LOOP=2,d.TRIANGLES=4,d.TRIANGLE_FAN=6,d.TRIANGLE_STRIP=5,d.QUADS="quads",d.QUAD_STRIP="quad_strip",d.TESS="tess",d.CLOSE="close",d.OPEN="open",d.CHORD="chord",d.PIE="pie",d.PROJECT="square",d.SQUARE="butt",d.ROUND="round",d.BEVEL="bevel",d.MITER="miter",d.RGB="rgb",d.HSB="hsb",d.HSL="hsl",d.AUTO="auto",d.ALT=18,d.BACKSPACE=8,d.CONTROL=17,d.DELETE=46,d.DOWN_ARROW=40,d.ENTER=13,d.ESCAPE=27,d.LEFT_ARROW=37,d.OPTION=18,d.RETURN=13,d.RIGHT_ARROW=39,d.SHIFT=16,d.TAB=9,d.UP_ARROW=38,d.BLEND="source-over",d.REMOVE="destination-out",d.ADD="lighter",d.DARKEST="darken",d.LIGHTEST="lighten",d.DIFFERENCE="difference",d.SUBTRACT="subtract",d.EXCLUSION="exclusion",d.MULTIPLY="multiply",d.SCREEN="screen",d.REPLACE="copy",d.OVERLAY="overlay",d.HARD_LIGHT="hard-light",d.SOFT_LIGHT="soft-light",d.DODGE="color-dodge",d.BURN="color-burn",d.THRESHOLD="threshold",d.GRAY="gray",d.OPAQUE="opaque",d.INVERT="invert",d.POSTERIZE="posterize",d.DILATE="dilate",d.ERODE="erode",d.BLUR="blur",d.NORMAL="normal",d.ITALIC="italic",d.BOLD="bold",d.BOLDITALIC="bold italic",d.CHAR="CHAR",d.WORD="WORD",d._DEFAULT_TEXT_FILL="#000000",d._DEFAULT_LEADMULT=1.25,d._CTX_MIDDLE="middle",d.LINEAR="linear",d.QUADRATIC="quadratic",d.BEZIER="bezier",d.CURVE="curve",d.STROKE="stroke",d.FILL="fill",d.TEXTURE="texture",d.IMMEDIATE="immediate",d.IMAGE="image",d.NEAREST="nearest",d.REPEAT="repeat",d.CLAMP="clamp",d.MIRROR="mirror",d.LANDSCAPE="landscape",d.PORTRAIT="portrait",d._DEFAULT_STROKE="#000000",d._DEFAULT_FILL="#FFFFFF",d.GRID="grid",d.AXES="axes",d.LABEL="label",d.FALLBACK="fallback"},{}],254:[function(e,m,d){function f(l){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(l)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("./main"))&&t.__esModule?t:{default:t},h=function(l){if(l&&l.__esModule)return l;if(l===null||f(l)!=="object"&&typeof l!="function")return{default:l};var v=g();if(v&&v.has(l))return v.get(l);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in l)if(Object.prototype.hasOwnProperty.call(l,_)){var E=x?Object.getOwnPropertyDescriptor(l,_):null;E&&(E.get||E.set)?Object.defineProperty(w,_,E):w[_]=l[_]}return w.default=l,v&&v.set(l,w),w}(e("./constants"));function g(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return g=function(){return l},l}var p=[h.ARROW,h.CROSS,h.HAND,h.MOVE,h.TEXT,h.WAIT];c.default.prototype._frameRate=0,c.default.prototype._lastFrameTime=window.performance.now(),c.default.prototype._targetFrameRate=60;var o=window.print;function n(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function s(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}c.default.prototype.print=function(){var l;arguments.length?(l=console).log.apply(l,arguments):o()},c.default.prototype.frameCount=0,c.default.prototype.deltaTime=0,c.default.prototype.focused=document.hasFocus(),c.default.prototype.cursor=function(l,v,w){var x="auto",_=this._curElement.elt;if(p.includes(l))x=l;else if(typeof l=="string"){var E="";v&&w&&typeof v=="number"&&typeof w=="number"&&(E="".concat(v," ").concat(w)),x=l.substring(0,7)==="http://"||l.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(l)?"url(".concat(l,") ").concat(E,", auto"):l}_.style.cursor=x},c.default.prototype.frameRate=function(l){return c.default._validateParameters("frameRate",arguments),typeof l!="number"||l<0?this._frameRate:(this._setProperty("_targetFrameRate",l),l===0&&this._setProperty("_frameRate",l),this)},c.default.prototype.getFrameRate=function(){return this.frameRate()},c.default.prototype.setFrameRate=function(l){return this.frameRate(l)},c.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},c.default.prototype.displayWidth=screen.width,c.default.prototype.displayHeight=screen.height,c.default.prototype.windowWidth=n(),c.default.prototype.windowHeight=s(),c.default.prototype._onresize=function(l){this._setProperty("windowWidth",n()),this._setProperty("windowHeight",s());var v,w=this._isGlobal?window:this;typeof w.windowResized=="function"&&((v=w.windowResized(l))===void 0||v||l.preventDefault())},c.default.prototype.width=0,c.default.prototype.height=0,c.default.prototype.fullscreen=function(l){if(c.default._validateParameters("fullscreen",arguments),l===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;l?function(v){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");v.requestFullscreen?v.requestFullscreen():v.mozRequestFullScreen?v.mozRequestFullScreen():v.webkitRequestFullscreen?v.webkitRequestFullscreen():v.msRequestFullscreen&&v.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},c.default.prototype.pixelDensity=function(l){var v;return c.default._validateParameters("pixelDensity",arguments),typeof l=="number"?(l!==this._pixelDensity&&(this._pixelDensity=l),(v=this).resizeCanvas(this.width,this.height,!0)):v=this._pixelDensity,v},c.default.prototype.displayDensity=function(){return window.devicePixelRatio},c.default.prototype.getURL=function(){return location.href},c.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(l){return l!==""})},c.default.prototype.getURLParams=function(){for(var l,v=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,w={};(l=v.exec(location.search))!=null;)l.index===v.lastIndex&&v.lastIndex++,w[l[1]]=l[2];return w};var a=c.default;d.default=a},{"./constants":253,"./main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.includes":156,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191}],255:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../main"))&&f.__esModule?f:{default:f};e("../internationalization");var c=null,h=null;t.default._friendlyError=t.default._checkForUserDefinedFunctions=t.default._fesErrorMonitor=function(){},c=null;var g="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";h=function(){function n(a){return Object.getOwnPropertyNames(a).filter(function(l){return l[0]!=="_"&&!(l in s)&&(s[l]=!0)}).map(function(l){var v;return v=typeof a[l]=="function"?"function":l===l.toUpperCase()?"constant":"variable",{name:l,type:v}})}var s={};(c=[].concat(n(t.default.prototype),n(e("../constants")))).sort(function(a,l){return l.name.length-a.name.length})};function p(n,s){s=s||console.log.bind(console),c||h(),c.some(function(a){if(n.message&&n.message.match("\\W?".concat(a.name,"\\W"))!==null){var l=a.type==="function"?"".concat(a.name,"()"):a.name;return s("Did you just try to use p5.js's ".concat(l," ").concat(a.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(g)),!0}})}t.default.prototype._helpForMisusedAtTopLevelCode=p,document.readyState!=="complete"&&(window.addEventListener("error",p,!1),window.addEventListener("load",function(){window.removeEventListener("error",p,!1)}));var o=t.default;d.default=o},{"../constants":253,"../internationalization":262,"../main":264,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":166,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],256:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../main"))&&f.__esModule?f:{default:f};e("../internationalization"),t.default._friendlyFileLoadError=function(){};var c=t.default;d.default=c},{"../internationalization":262,"../main":264}],257:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.flat-map"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.unscopables.flat-map"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t=g(e("../main"));e("../internationalization"),h(e("../constants"));function c(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return c=function(){return o},o}function h(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=c();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}function g(o){return o&&o.__esModule?o:{default:o}}t.default._fesCodeReader=function(){};var p=t.default;d.default=p},{"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.flat-map":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.unscopables.flat-map":165,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],258:[function(e,m,d){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../main"))&&f.__esModule?f:{default:f};function c(){var g=/(^|@)\S+:\d+/,p=/^\s*at .*(\S+:\d+|\(native\))/m,o=/^(eval@)?(\[native code])?$/;return{parse:function(n){return n.stacktrace!==void 0||n["opera#sourceloc"]!==void 0?this.parseOpera(n):n.stack&&n.stack.match(p)?this.parseV8OrIE(n):n.stack?this.parseFFOrSafari(n):void 0},extractLocation:function(n){if(n.indexOf(":")===-1)return[n];var s=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(n.replace(/[()]/g,""));return[s[1],s[2]||void 0,s[3]||void 0]},parseV8OrIE:function(n){return n.stack.split(`
`).filter(function(s){return!!s.match(p)},this).map(function(s){-1<s.indexOf("(eval ")&&(s=s.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var a=s.replace(/^\s+/,"").replace(/\(eval code/g,"("),l=a.match(/ (\((.+):(\d+):(\d+)\)$)/),v=(a=l?a.replace(l[0],""):a).split(/\s+/).slice(1),w=this.extractLocation(l?l[1]:v.pop());return{functionName:v.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(w[0])?void 0:w[0],lineNumber:w[1],columnNumber:w[2],source:s}},this)},parseFFOrSafari:function(n){return n.stack.split(`
`).filter(function(s){return!s.match(o)},this).map(function(s){if(-1<s.indexOf(" > eval")&&(s=s.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),s.indexOf("@")===-1&&s.indexOf(":")===-1)return{functionName:s};var a=/((.*".+"[^@]*)?[^@]*)(?:@)/,l=s.match(a),v=l&&l[1]?l[1]:void 0,w=this.extractLocation(s.replace(a,""));return{functionName:v,fileName:w[0],lineNumber:w[1],columnNumber:w[2],source:s}},this)},parseOpera:function(n){return!n.stacktrace||-1<n.message.indexOf(`
`)&&n.message.split(`
`).length>n.stacktrace.split(`
`).length?this.parseOpera9(n):n.stack?this.parseOpera11(n):this.parseOpera10(n)},parseOpera9:function(n){for(var s=/Line (\d+).*script (?:in )?(\S+)/i,a=n.message.split(`
`),l=[],v=2,w=a.length;v<w;v+=2){var x=s.exec(a[v]);x&&l.push({fileName:x[2],lineNumber:x[1],source:a[v]})}return l},parseOpera10:function(n){for(var s=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=n.stacktrace.split(`
`),l=[],v=0,w=a.length;v<w;v+=2){var x=s.exec(a[v]);x&&l.push({functionName:x[3]||void 0,fileName:x[2],lineNumber:x[1],source:a[v]})}return l},parseOpera11:function(n){return n.stack.split(`
`).filter(function(s){return!!s.match(g)&&!s.match(/^Error created at/)},this).map(function(s){var a,l=s.split("@"),v=this.extractLocation(l.pop()),w=l.shift()||"",x=w.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return w.match(/\(([^)]*)\)/)&&(a=w.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:x,args:a===void 0||a==="[arguments not available]"?void 0:a.split(","),fileName:v[0],lineNumber:v[1],columnNumber:v[2],source:s}},this)}}}t.default._getErrorStackParser=function(){return new c};var h=t.default;d.default=h},{"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],259:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../main"))&&f.__esModule?f:{default:f};(function(p){if(!(p&&p.__esModule)&&!(p===null||h(p)!=="object"&&typeof p!="function")){var o=c();if(o&&o.has(p))return o.get(p);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in p)if(Object.prototype.hasOwnProperty.call(p,a)){var l=s?Object.getOwnPropertyDescriptor(p,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=p[a]}n.default=p,o&&o.set(p,n)}})(e("../constants")),e("../internationalization");function c(){if(typeof WeakMap!="function")return null;var p=new WeakMap;return c=function(){return p},p}function h(p){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(p)}t.default._validateParameters=t.default._clearValidateParamsCache=function(){};var g=t.default;d.default=g},{"../../../docs/parameterData.json":void 0,"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.map":167,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],260:[function(e,m,d){function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t=function(g){if(g&&g.__esModule)return g;if(g===null||f(g)!=="object"&&typeof g!="function")return{default:g};var p=c();if(p&&p.has(g))return p.get(g);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in g)if(Object.prototype.hasOwnProperty.call(g,s)){var a=n?Object.getOwnPropertyDescriptor(g,s):null;a&&(a.get||a.set)?Object.defineProperty(o,s,a):o[s]=g[s]}return o.default=g,p&&p.set(g,o),o}(e("./constants"));function c(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return c=function(){return g},g}var h={modeAdjust:function(g,p,o,n,s){return s===t.CORNER?{x:g,y:p,w:o,h:n}:s===t.CORNERS?{x:g,y:p,w:o-g,h:n-p}:s===t.RADIUS?{x:g-o,y:p-n,w:2*o,h:2*n}:s===t.CENTER?{x:g-.5*o,y:p-.5*n,w:o,h:n}:void 0}};d.default=h},{"./constants":253}],261:[function(e,m,d){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};e("./internationalization");var c=Promise.resolve();Promise.all([new Promise(function(h,g){document.readyState==="complete"?h():window.addEventListener("load",h,!1)}),c]).then(function(){window._setupDone===void 0?window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!t.default.instance&&new t.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":264,"./internationalization":262,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":229}],262:[function(e,m,d){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.setTranslatorLanguage=d.currentTranslatorLanguage=d.availableTranslatorLanguages=d.initialize=d.translator=void 0;var f,t,c=g(e("i18next")),h=g(e("i18next-browser-languagedetector"));function g(s){return s&&s.__esModule?s:{default:s}}function p(s,a){for(var l=0;l<a.length;l++){var v=a[l];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}var o=function(){function s(v,w){(function(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")})(this,s),this.init(v,w)}var a,l;return a=s,(l=[{key:"fetchWithTimeout",value:function(v,w,x){var _=2<arguments.length&&x!==void 0?x:2e3;return Promise.race([fetch(v,w),new Promise(function(E,C){return setTimeout(function(){return C(new Error("timeout"))},_)})])}},{key:"init",value:function(v,w){var x=1<arguments.length&&w!==void 0?w:{};this.services=v,this.options=x}},{key:"read",value:function(v,w,x){var _=this.options.loadPath;if(v===this.options.fallback)x(null,f[v][w]);else if(t.includes(v)){var E=this.services.interpolator.interpolate(_,{lng:v,ns:w});this.loadUrl(E,x)}else x("Not found",!1)}},{key:"loadUrl",value:function(v,w){this.fetchWithTimeout(v).then(function(x){if(!x.ok)throw new Error("failed loading ".concat(v));return x.json()},function(){throw new Error("failed loading ".concat(v))}).then(function(x){return w(null,x)}).catch(w)}}])&&p(a.prototype,l),s}();o.type="backend";var n=function(s,a){console.debug("p5.js translator called before translations were loaded"),c.default.t(s,a)};d.translator=n,d.initialize=function(){return c.default.use(h.default).use(o).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:f}).then(function(s){d.translator=n=s},function(s){return console.debug("Translations failed to load (".concat(s,")"))})},d.availableTranslatorLanguages=function(){return c.default.languages},d.currentTranslatorLanguage=function(){return c.default.language},d.setTranslatorLanguage=function(s){return c.default.changeLanguage(s||void 0,function(a){return console.debug("Translations failed to load (".concat(a,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":229,i18next:3,"i18next-browser-languagedetector":3}],263:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("./main"))&&f.__esModule?f:{default:f};t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var c=t.default;d.default=c},{"./main":264}],264:[function(e,m,d){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,e("./shim");var t=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var s=c();if(s&&s.has(n))return s.get(n);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in n)if(Object.prototype.hasOwnProperty.call(n,v)){var w=l?Object.getOwnPropertyDescriptor(n,v):null;w&&(w.get||w.set)?Object.defineProperty(a,v,w):a[v]=n[v]}return a.default=n,s&&s.set(n,a),a}(e("./constants"));function c(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return c=function(){return n},n}function h(n,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}var g=function(){function n(l,v,w){var x=this;(function(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")})(this,n),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=v,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var _=Object.getOwnPropertyNames(n.prototype._registeredMethods),E=!0,C=!1,A=void 0;try{for(var O,I=_[Symbol.iterator]();!(E=(O=I.next()).done);E=!0){var R=O.value;this._registeredMethods[R]=n.prototype._registeredMethods[R].slice()}}catch(se){C=!0,A=se}finally{try{E||I.return==null||I.return()}finally{if(C)throw A}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){x._userNode&&typeof x._userNode=="string"&&(x._userNode=document.getElementById(x._userNode));var se=x._isGlobal?window:x;if(se.preload){var me=document.getElementById(x._loadingScreenId);me||((me=document.createElement("div")).innerHTML="Loading...",me.style.position="absolute",me.id=x._loadingScreenId,(x._userNode||document.body).appendChild(me));var xe=x._preloadMethods;for(var Ce in xe){xe[Ce]=xe[Ce]||n;var ve=xe[Ce];ve!==n.prototype&&ve!==n||(x._isGlobal&&(window[Ce]=x._wrapPreload(x,Ce)),ve=x),x._registeredPreloadMethods[Ce]=ve[Ce],ve[Ce]=x._wrapPreload(ve,Ce)}se.preload(),x._runIfPreloadsAreDone()}else x._setup(),x._draw()},this._runIfPreloadsAreDone=function(){var se=this._isGlobal?window:this;if(se._preloadCount===0){var me=document.getElementById(se._loadingScreenId);me&&me.parentNode.removeChild(me),this._setupDone||(this._lastFrameTime=window.performance.now(),se._setup(),se._draw())}},this._decrementPreload=function(){var se=this._isGlobal?window:this;typeof se.preload=="function"&&(se._setProperty("_preloadCount",se._preloadCount-1),se._runIfPreloadsAreDone())},this._wrapPreload=function(se,me){var xe=this;return function(){xe._incrementPreload();for(var Ce=arguments.length,ve=new Array(Ce),De=0;De<Ce;De++)ve[De]=arguments[De];return xe._registeredPreloadMethods[me].apply(se,ve)}},this._incrementPreload=function(){var se=this._isGlobal?window:this;se._setProperty("_preloadCount",se._preloadCount+1)},this._setup=function(){x.createCanvas(x._defaultCanvasSize.width,x._defaultCanvasSize.height,"p2d");var se=x._isGlobal?window:x;if(typeof se.preload=="function")for(var me in x._preloadMethods)se[me]=x._preloadMethods[me][me],se[me]&&x&&(se[me]=se[me].bind(x));x._millisStart=window.performance.now(),typeof se.setup=="function"&&se.setup();var xe=document.getElementsByTagName("canvas"),Ce=!0,ve=!1,De=void 0;try{for(var _e,Se=xe[Symbol.iterator]();!(Ce=(_e=Se.next()).done);Ce=!0){var P=_e.value;P.dataset.hidden==="true"&&(P.style.visibility="",delete P.dataset.hidden)}}catch(G){ve=!0,De=G}finally{try{Ce||Se.return==null||Se.return()}finally{if(ve)throw De}}x._lastFrameTime=window.performance.now(),x._setupDone=!0,(x._accessibleOutputs.grid||x._accessibleOutputs.text)&&x._updateAccsOutput()},this._draw=function(){var se=window.performance.now(),me=se-x._lastFrameTime,xe=1e3/x._targetFrameRate;(!x._loop||xe-5<=me)&&(x.redraw(),x._frameRate=1e3/(se-x._lastFrameTime),x.deltaTime=se-x._lastFrameTime,x._setProperty("deltaTime",x.deltaTime),x._lastFrameTime=se,x._updateMouseCoords!==void 0&&(x._updateMouseCoords(),x._setProperty("movedX",0),x._setProperty("movedY",0))),x._loop&&(x._requestAnimId=window.requestAnimationFrame(x._draw))},this._setProperty=function(se,me){x[se]=me,x._isGlobal&&(window[se]=me)},this.remove=function(){var se=document.getElementById(x._loadingScreenId);if(se&&(se.parentNode.removeChild(se),x._incrementPreload()),x._curElement){for(var me in x._loop=!1,x._requestAnimId&&window.cancelAnimationFrame(x._requestAnimId),x._events)window.removeEventListener(me,x._events[me]);var xe=!0,Ce=!1,ve=void 0;try{for(var De,_e=x._elements[Symbol.iterator]();!(xe=(De=_e.next()).done);xe=!0){var Se=De.value;for(var P in Se.elt&&Se.elt.parentNode&&Se.elt.parentNode.removeChild(Se.elt),Se._events)Se.elt.removeEventListener(P,Se._events[P])}}catch(B){Ce=!0,ve=B}finally{try{xe||_e.return==null||_e.return()}finally{if(Ce)throw ve}}var G=x;x._registeredMethods.remove.forEach(function(B){B!==void 0&&B.call(G)})}if(x._isGlobal){for(var X in n.prototype)try{delete window[X]}catch{window[X]=void 0}for(var ee in x)if(x.hasOwnProperty(ee))try{delete window[ee]}catch{window[ee]=void 0}n.instance=null}},this._registeredMethods.init.forEach(function(se){se!==void 0&&se.call(this)},this),this._setupPromisePreloads();var L=this._createFriendlyGlobalFunctionBinder();if(l)l(this),n._checkForUserDefinedFunctions(this);else{for(var U in this._isGlobal=!0,n.instance=this,n.prototype)if(typeof n.prototype[U]=="function"){var D=U.substring(2);this._events.hasOwnProperty(D)||(Math.hasOwnProperty(U)&&Math[U]===n.prototype[U]?L(U,n.prototype[U]):L(U,n.prototype[U].bind(this)))}else L(U,n.prototype[U]);for(var H in this)this.hasOwnProperty(H)&&L(H,this[H])}for(var W in this._events){var ae=this["_on".concat(W)];if(ae){var le=ae.bind(this);window.addEventListener(W,le,{passive:!1}),this._events[W]=le}}function J(){x._setProperty("focused",!0)}function ue(){x._setProperty("focused",!1)}window.addEventListener("focus",J),window.addEventListener("blur",ue),this.registerMethod("remove",function(){window.removeEventListener("focus",J),window.removeEventListener("blur",ue)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var s,a;return s=n,(a=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=t.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(l,v){n.prototype._preloadMethods.hasOwnProperty(l)||(n.prototype._preloadMethods[l]=v)}},{key:"registerMethod",value:function(l,v){var w=this||n.prototype;w._registeredMethods.hasOwnProperty(l)||(w._registeredMethods[l]=[]),w._registeredMethods[l].push(v)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(l){var v=0<arguments.length&&l!==void 0?l:{},w=v.globalObject||window;return v.log||console.log.bind(console),function(x,_){w[x]=_}}}])&&h(s.prototype,a),n}();for(var p in g.instance=null,g.disableFriendlyErrors=!1,t)g.prototype[p]=t[p];g.VERSION=t.VERSION,g.prototype._preloadMethods={loadJSON:g.prototype,loadImage:g.prototype,loadStrings:g.prototype,loadXML:g.prototype,loadBytes:g.prototype,loadTable:g.prototype,loadFont:g.prototype,loadModel:g.prototype,loadShader:g.prototype},g.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},g.prototype._registeredPreloadMethods={};var o=g;d.default=o},{"./constants":253,"./shim":275,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],265:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("./main"))&&f.__esModule?f:{default:f};t.default.Element=function(h,g){this.elt=h,this._pInst=this._pixelsState=g,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},t.default.Element.prototype.parent=function(h){return h===void 0?this.elt.parentNode:(typeof h=="string"?(h[0]==="#"&&(h=h.substring(1)),h=document.getElementById(h)):h instanceof t.default.Element&&(h=h.elt),h.appendChild(this.elt),this)},t.default.Element.prototype.id=function(h){return h===void 0?this.elt.id:(this.elt.id=h,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},t.default.Element.prototype.class=function(h){return h===void 0?this.elt.className:(this.elt.className=h,this)},t.default.Element.prototype.mousePressed=function(h){return t.default.Element._adjustListener("mousedown",function(g){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(g),h.call(this,g)},this),this},t.default.Element.prototype.doubleClicked=function(h){return t.default.Element._adjustListener("dblclick",h,this),this},t.default.Element.prototype.mouseWheel=function(h){return t.default.Element._adjustListener("wheel",h,this),this},t.default.Element.prototype.mouseReleased=function(h){return t.default.Element._adjustListener("mouseup",h,this),this},t.default.Element.prototype.mouseClicked=function(h){return t.default.Element._adjustListener("click",h,this),this},t.default.Element.prototype.mouseMoved=function(h){return t.default.Element._adjustListener("mousemove",h,this),this},t.default.Element.prototype.mouseOver=function(h){return t.default.Element._adjustListener("mouseover",h,this),this},t.default.Element.prototype.mouseOut=function(h){return t.default.Element._adjustListener("mouseout",h,this),this},t.default.Element.prototype.touchStarted=function(h){return t.default.Element._adjustListener("touchstart",h,this),this},t.default.Element.prototype.touchMoved=function(h){return t.default.Element._adjustListener("touchmove",h,this),this},t.default.Element.prototype.touchEnded=function(h){return t.default.Element._adjustListener("touchend",h,this),this},t.default.Element.prototype.dragOver=function(h){return t.default.Element._adjustListener("dragover",h,this),this},t.default.Element.prototype.dragLeave=function(h){return t.default.Element._adjustListener("dragleave",h,this),this},t.default.Element._adjustListener=function(h,g,p){return g===!1?t.default.Element._detachListener(h,p):t.default.Element._attachListener(h,g,p),this},t.default.Element._attachListener=function(h,g,p){p._events[h]&&t.default.Element._detachListener(h,p);var o=g.bind(p);p.elt.addEventListener(h,o,!1),p._events[h]=o},t.default.Element._detachListener=function(h,g){var p=g._events[h];g.elt.removeEventListener(h,p,!1),g._events[h]=null},t.default.Element.prototype._setProperty=function(h,g){this[h]=g};var c=t.default.Element;d.default=c},{"./main":264}],266:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("./main"))&&t.__esModule?t:{default:t},h=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=g();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}(e("./constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}c.default.Graphics=function(o,n,s,a){var l=s||h.P2D;this.canvas=document.createElement("canvas");var v=a._userNode||document.body;for(var w in v.appendChild(this.canvas),c.default.Element.call(this,this.canvas,a),c.default.prototype)this[w]||(typeof c.default.prototype[w]=="function"?this[w]=c.default.prototype[w].bind(this):this[w]=c.default.prototype[w]);return c.default.prototype._initializeInstanceVariables.apply(this),this.width=o,this.height=n,this._pixelDensity=a._pixelDensity,l===h.WEBGL?this._renderer=new c.default.RendererGL(this.canvas,this,!1):this._renderer=new c.default.Renderer2D(this.canvas,this,!1),a._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(o,n),this._renderer._applyDefaults(),this},c.default.Graphics.prototype=Object.create(c.default.Element.prototype),c.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},c.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var o=this._pInst._elements.indexOf(this);for(var n in o!==-1&&this._pInst._elements.splice(o,1),this._events)this.elt.removeEventListener(n,this._events[n])};var p=c.default.Graphics;d.default=p},{"./constants":253,"./main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.splice":164}],267:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("./main"))&&f.__esModule?f:{default:f},c=function(n){if(n&&n.__esModule)return n;if(n===null||g(n)!=="object"&&typeof n!="function")return{default:n};var s=h();if(s&&s.has(n))return s.get(n);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in n)if(Object.prototype.hasOwnProperty.call(n,v)){var w=l?Object.getOwnPropertyDescriptor(n,v):null;w&&(w.get||w.set)?Object.defineProperty(a,v,w):a[v]=n[v]}return a.default=n,s&&s.set(n,a),a}(e("../core/constants"));function h(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return h=function(){return n},n}function g(n){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(n)}function p(n){var s=0,a=0;if(n.offsetParent)for(;s+=n.offsetLeft,a+=n.offsetTop,n=n.offsetParent;);else s+=n.offsetLeft,a+=n.offsetTop;return[s,a]}t.default.Renderer=function(n,s,a){t.default.Element.call(this,n,s),this.canvas=n,this._pixelsState=s,a?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=c.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=c.LEFT,this._textBaseline=c.BASELINE,this._textWrap=c.WORD,this._rectMode=c.CORNER,this._ellipseMode=c.CENTER,this._curveTightness=0,this._imageMode=c.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},t.default.Renderer.prototype=Object.create(t.default.Element.prototype),t.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},t.default.Renderer.prototype.pop=function(n){n.properties&&Object.assign(this,n.properties)},t.default.Renderer.prototype.resize=function(n,s){this.width=n,this.height=s,this.elt.width=n*this._pInst._pixelDensity,this.elt.height=s*this._pInst._pixelDensity,this.elt.style.width="".concat(n,"px"),this.elt.style.height="".concat(s,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},t.default.Renderer.prototype.get=function(n,s,a,l){var v=this._pixelsState,w=v._pixelDensity,x=this.canvas;if(n===void 0&&s===void 0)n=s=0,a=v.width,l=v.height;else if(n*=w,s*=w,a===void 0&&l===void 0)return n<0||s<0||n>=x.width||s>=x.height?[0,0,0,0]:this._getPixel(n,s);var _=new t.default.Image(a,l);return _.canvas.getContext("2d").drawImage(x,n,s,a*w,l*w,0,0,a,l),_},t.default.Renderer.prototype.textLeading=function(n){return typeof n=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",n),this._pInst):this._textLeading},t.default.Renderer.prototype.textSize=function(n){return typeof n=="number"?(this._setProperty("_textSize",n),this._leadingSet||this._setProperty("_textLeading",n*c._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},t.default.Renderer.prototype.textStyle=function(n){return n?(n!==c.NORMAL&&n!==c.ITALIC&&n!==c.BOLD&&n!==c.BOLDITALIC||this._setProperty("_textStyle",n),this._applyTextProperties()):this._textStyle},t.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},t.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},t.default.Renderer.prototype.textAlign=function(n,s){return n!==void 0?(this._setProperty("_textAlign",n),s!==void 0&&this._setProperty("_textBaseline",s),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},t.default.Renderer.prototype.textWrap=function(n){return this._setProperty("_textWrap",n),this._textWrap},t.default.Renderer.prototype.text=function(n,s,a,l,v){var w,x,_,E,C,A,O,I=this._pInst,R=this._textWrap,L=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&n!==void 0){if(typeof n!="string"&&(n=n.toString()),w=(n=n.replace(/(\t)/g,"  ")).split(`
`),l!==void 0){switch(this._rectMode===c.CENTER&&(s-=l/2),this._textAlign){case c.CENTER:s+=l/2;break;case c.RIGHT:s+=l}var U=!1;if(v!==void 0){switch(this._rectMode===c.CENTER&&(a-=v/2),this._textBaseline){case c.BOTTOM:O=a+v,a=Math.max(O,a);break;case c.CENTER:O=a+v/2,a=Math.max(O,a);break;case c.BASELINE:U=!0,this._textBaseline=c.TOP}L=a+v-I.textAscent()}if(R===c.WORD){for(var D=[],H=0;H<w.length;H++){x="",C=w[H].split(" ");for(var W=0;W<C.length;W++)_="".concat(x+C[W])+" ",x=l<(E=this.textWidth(_))&&0<x.length?(D.push(x),"".concat(C[W])+" "):_;D.push(x)}var ae=0,le=I.textAlign().vertical;le===c.CENTER?ae=(D.length-1)*I.textLeading()/2:le===c.BOTTOM&&(ae=(D.length-1)*I.textLeading());for(var J=0;J<w.length;J++){x="",C=w[J].split(" ");for(var ue=0;ue<C.length;ue++)_="".concat(x+C[ue])+" ",l<(E=this.textWidth(_))&&0<x.length?(this._renderText(I,x.trim(),s,a-ae,L),x="".concat(C[ue])+" ",a+=I.textLeading()):x=_;this._renderText(I,x.trim(),s,a-ae,L),a+=I.textLeading(),U&&(this._textBaseline=c.BASELINE)}}else{for(var se=[],me=0;me<w.length;me++){x="",A=w[me].split("");for(var xe=0;xe<A.length;xe++)_="".concat(x+A[xe]),(E=this.textWidth(_))<=l?x+=A[xe]:l<E&&0<x.length&&(se.push(x),x="".concat(A[xe]))}se.push(x);var Ce=0,ve=I.textAlign().vertical;ve===c.CENTER?Ce=(se.length-1)*I.textLeading()/2:ve===c.BOTTOM&&(Ce=(se.length-1)*I.textLeading());for(var De=0;De<w.length;De++){x="",A=w[De].split("");for(var _e=0;_e<A.length;_e++)_="".concat(x+A[_e]),(E=this.textWidth(_))<=l?x+=A[_e]:l<E&&0<x.length&&(this._renderText(I,x.trim(),s,a-Ce,L),a+=I.textLeading(),x="".concat(A[_e]))}this._renderText(I,x.trim(),s,a-Ce,L),a+=I.textLeading(),U&&(this._textBaseline=c.BASELINE)}}else{var Se=0,P=I.textAlign().vertical;P===c.CENTER?Se=(w.length-1)*I.textLeading()/2:P===c.BOTTOM&&(Se=(w.length-1)*I.textLeading());for(var G=0;G<w.length;G++)this._renderText(I,w[G],s,a-Se,L),a+=I.textLeading()}return I}},t.default.Renderer.prototype._applyDefaults=function(){return this},t.default.Renderer.prototype._isOpenType=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return g(n)==="object"&&n.font&&n.font.supported},t.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var n=document.createElement("span");n.style.fontFamily=this._textFont,n.style.fontSize="".concat(this._textSize,"px"),n.innerHTML="ABCjgq|";var s=document.createElement("div");s.style.display="inline-block",s.style.width="1px",s.style.height="0px";var a=document.createElement("div");a.appendChild(n),a.appendChild(s),a.style.height="0px",a.style.overflow="hidden",document.body.appendChild(a),s.style.verticalAlign="baseline";var l=p(s),v=p(n),w=l[1]-v[1];s.style.verticalAlign="bottom",l=p(s),v=p(n);var x=l[1]-v[1]-w;return document.body.removeChild(a),this._setProperty("_textAscent",w),this._setProperty("_textDescent",x),this};var o=t.default.Renderer;d.default=o},{"../core/constants":253,"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],268:[function(e,m,d){function f(s){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t=p(e("./main")),c=function(s){if(s&&s.__esModule)return s;if(s===null||f(s)!=="object"&&typeof s!="function")return{default:s};var a=g();if(a&&a.has(s))return a.get(s);var l={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in s)if(Object.prototype.hasOwnProperty.call(s,w)){var x=v?Object.getOwnPropertyDescriptor(s,w):null;x&&(x.get||x.set)?Object.defineProperty(l,w,x):l[w]=s[w]}return l.default=s,a&&a.set(s,l),l}(e("./constants")),h=p(e("../image/filters"));function g(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return g=function(){return s},s}function p(s){return s&&s.__esModule?s:{default:s}}e("./p5.Renderer");var o="rgba(0,0,0,0)";t.default.Renderer2D=function(s,a,l){return t.default.Renderer.call(this,s,a,l),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},t.default.Renderer2D.prototype=Object.create(t.default.Renderer.prototype),t.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"},t.default.Renderer2D.prototype.resize=function(s,a){t.default.Renderer.prototype.resize.call(this,s,a),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},t.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof t.default.Image)if(0<=(arguments.length<=1?void 0:arguments[1])){var s=arguments.length<=0?void 0:arguments[0];this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(s,0,0,this.width,this.height)}else this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var a,l=this._getFill(),v=(a=this._pInst).color.apply(a,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(v.levels);var w=v.toString();this._setFill(w),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(l),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},t.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},t.default.Renderer2D.prototype.fill=function(){var s,a=(s=this._pInst).color.apply(s,arguments);this._setFill(a.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",a.levels)},t.default.Renderer2D.prototype.stroke=function(){var s,a=(s=this._pInst).color.apply(s,arguments);this._setStroke(a.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",a.levels)},t.default.Renderer2D.prototype.erase=function(s,a){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var l=this._pInst.color(255,s).toString();this.drawingContext.fillStyle=l,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var v=this._pInst.color(255,a).toString();this.drawingContext.strokeStyle=v;var w=this._cachedBlendMode;this.blendMode(c.REMOVE),this._cachedBlendMode=w,this._isErasing=!0}},t.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},t.default.Renderer2D.prototype.image=function(s,a,l,v,w,x,_,E,C){var A;s.gifProperties&&s._animateGif(this._pInst);try{this._tint&&(t.default.MediaElement&&s instanceof t.default.MediaElement&&s.loadPixels(),s.canvas&&(A=this._getTintedImageCanvas(s))),A=A||s.canvas||s.elt;var O=1;s.width&&0<s.width&&(O=A.width/s.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(A,O*a,O*l,O*v,O*w,x,_,E,C),this._isErasing&&this._pInst.erase()}catch(I){if(I.name!=="NS_ERROR_NOT_AVAILABLE")throw I}},t.default.Renderer2D.prototype._getTintedImageCanvas=function(s){if(!s.canvas)return s;var a=h.default._toPixels(s.canvas),l=document.createElement("canvas");l.width=s.canvas.width,l.height=s.canvas.height;for(var v=l.getContext("2d"),w=v.createImageData(s.canvas.width,s.canvas.height),x=w.data,_=0;_<a.length;_+=4){var E=a[_],C=a[_+1],A=a[_+2],O=a[_+3];x[_]=E*this._tint[0]/255,x[_+1]=C*this._tint[1]/255,x[_+2]=A*this._tint[2]/255,x[_+3]=O*this._tint[3]/255}return v.putImageData(w,0,0),l},t.default.Renderer2D.prototype.blendMode=function(s){if(s===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(s!==c.BLEND&&s!==c.REMOVE&&s!==c.DARKEST&&s!==c.LIGHTEST&&s!==c.DIFFERENCE&&s!==c.MULTIPLY&&s!==c.EXCLUSION&&s!==c.SCREEN&&s!==c.REPLACE&&s!==c.OVERLAY&&s!==c.HARD_LIGHT&&s!==c.SOFT_LIGHT&&s!==c.DODGE&&s!==c.BURN&&s!==c.ADD)throw new Error("Mode ".concat(s," not recognized."));this._cachedBlendMode=s,this.drawingContext.globalCompositeOperation=s}},t.default.Renderer2D.prototype.blend=function(){for(var s=this.drawingContext.globalCompositeOperation,a=arguments.length,l=new Array(a),v=0;v<a;v++)l[v]=arguments[v];var w=l[l.length-1],x=Array.prototype.slice.call(l,0,l.length-1);this.drawingContext.globalCompositeOperation=w,t.default.prototype.copy.apply(this,x),this.drawingContext.globalCompositeOperation=s},t.default.Renderer2D.prototype._getPixel=function(s,a){var l;return[(l=this.drawingContext.getImageData(s,a,1,1).data)[0],l[1],l[2],l[3]]},t.default.Renderer2D.prototype.loadPixels=function(){var s=this._pixelsState,a=s._pixelDensity,l=this.width*a,v=this.height*a,w=this.drawingContext.getImageData(0,0,l,v);s._setProperty("imageData",w),s._setProperty("pixels",w.data)},t.default.Renderer2D.prototype.set=function(s,a,l){s=Math.floor(s),a=Math.floor(a);var v=this._pixelsState;if(l instanceof t.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(v._pixelDensity,v._pixelDensity),this.drawingContext.clearRect(s,a,l.width,l.height),this.drawingContext.drawImage(l.canvas,s,a),this.drawingContext.restore();else{var w=0,x=0,_=0,E=0,C=4*(a*v._pixelDensity*(this.width*v._pixelDensity)+s*v._pixelDensity);if(v.imageData||v.loadPixels.call(v),typeof l=="number")C<v.pixels.length&&(_=x=w=l,E=255);else if(l instanceof Array){if(l.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");C<v.pixels.length&&(w=l[0],x=l[1],_=l[2],E=l[3])}else l instanceof t.default.Color&&C<v.pixels.length&&(w=l.levels[0],x=l.levels[1],_=l.levels[2],E=l.levels[3]);for(var A=0;A<v._pixelDensity;A++)for(var O=0;O<v._pixelDensity;O++)C=4*((a*v._pixelDensity+O)*this.width*v._pixelDensity+(s*v._pixelDensity+A)),v.pixels[C]=w,v.pixels[C+1]=x,v.pixels[C+2]=_,v.pixels[C+3]=E}},t.default.Renderer2D.prototype.updatePixels=function(s,a,l,v){var w=this._pixelsState,x=w._pixelDensity;s===void 0&&a===void 0&&l===void 0&&v===void 0&&(a=s=0,l=this.width,v=this.height),s*=x,a*=x,l*=x,v*=x,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=w.imageData),this.drawingContext.putImageData(w.imageData,s,a,0,0,l,v)},t.default.Renderer2D.prototype._acuteArcToBezier=function(s,a){var l=a/2,v=Math.cos(l),w=Math.sin(l),x=1/Math.tan(l),_=s+l,E=Math.cos(_),C=Math.sin(_),A=(4-v)/3,O=w+(v-A)*x;return{ax:Math.cos(s).toFixed(7),ay:Math.sin(s).toFixed(7),bx:(A*E+O*C).toFixed(7),by:(A*C-O*E).toFixed(7),cx:(A*E-O*C).toFixed(7),cy:(A*C+O*E).toFixed(7),dx:Math.cos(s+a).toFixed(7),dy:Math.sin(s+a).toFixed(7)}},t.default.Renderer2D.prototype.arc=function(s,a,l,v,w,x,_){var E=this.drawingContext,C=l/2,A=v/2,O=0,I=[];for(s+=C,a+=A;1e-5<=x-w;)O=Math.min(x-w,c.HALF_PI),I.push(this._acuteArcToBezier(w,O)),w+=O;return this._doFill&&(E.beginPath(),I.forEach(function(R,L){L===0&&E.moveTo(s+R.ax*C,a+R.ay*A),E.bezierCurveTo(s+R.bx*C,a+R.by*A,s+R.cx*C,a+R.cy*A,s+R.dx*C,a+R.dy*A)}),_!==c.PIE&&_!=null||E.lineTo(s,a),E.closePath(),E.fill()),this._doStroke&&(E.beginPath(),I.forEach(function(R,L){L===0&&E.moveTo(s+R.ax*C,a+R.ay*A),E.bezierCurveTo(s+R.bx*C,a+R.by*A,s+R.cx*C,a+R.cy*A,s+R.dx*C,a+R.dy*A)}),_===c.PIE?(E.lineTo(s,a),E.closePath()):_===c.CHORD&&E.closePath(),E.stroke()),this},t.default.Renderer2D.prototype.ellipse=function(s){var a=this.drawingContext,l=this._doFill,v=this._doStroke,w=parseFloat(s[0]),x=parseFloat(s[1]),_=parseFloat(s[2]),E=parseFloat(s[3]);if(l&&!v){if(this._getFill()===o)return this}else if(!l&&v&&this._getStroke()===o)return this;var C=_/2*.5522847498,A=E/2*.5522847498,O=w+_,I=x+E,R=w+_/2,L=x+E/2;a.beginPath(),a.moveTo(w,L),a.bezierCurveTo(w,L-A,R-C,x,R,x),a.bezierCurveTo(R+C,x,O,L-A,O,L),a.bezierCurveTo(O,L+A,R+C,I,R,I),a.bezierCurveTo(R-C,I,w,L+A,w,L),l&&a.fill(),v&&a.stroke()},t.default.Renderer2D.prototype.line=function(s,a,l,v){var w=this.drawingContext;return this._doStroke&&(this._getStroke()===o||(w.beginPath(),w.moveTo(s,a),w.lineTo(l,v),w.stroke())),this},t.default.Renderer2D.prototype.point=function(s,a){var l=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===o)return this;var v=this._getStroke(),w=this._getFill();this._setFill(v),l.beginPath(),l.arc(s,a,l.lineWidth/2,0,c.TWO_PI,!1),l.fill(),this._setFill(w)},t.default.Renderer2D.prototype.quad=function(s,a,l,v,w,x,_,E){var C=this.drawingContext,A=this._doFill,O=this._doStroke;if(A&&!O){if(this._getFill()===o)return this}else if(!A&&O&&this._getStroke()===o)return this;return C.beginPath(),C.moveTo(s,a),C.lineTo(l,v),C.lineTo(w,x),C.lineTo(_,E),C.closePath(),A&&C.fill(),O&&C.stroke(),this},t.default.Renderer2D.prototype.rect=function(s){var a=s[0],l=s[1],v=s[2],w=s[3],x=s[4],_=s[5],E=s[6],C=s[7],A=this.drawingContext,O=this._doFill,I=this._doStroke;if(O&&!I){if(this._getFill()===o)return this}else if(!O&&I&&this._getStroke()===o)return this;if(A.beginPath(),x===void 0)A.rect(a,l,v,w);else{_===void 0&&(_=x),E===void 0&&(E=_),C===void 0&&(C=E);var R=Math.abs(v),L=Math.abs(w),U=R/2,D=L/2;R<2*x&&(x=U),L<2*x&&(x=D),R<2*_&&(_=U),L<2*_&&(_=D),R<2*E&&(E=U),L<2*E&&(E=D),R<2*C&&(C=U),L<2*C&&(C=D),A.beginPath(),A.moveTo(a+x,l),A.arcTo(a+v,l,a+v,l+w,_),A.arcTo(a+v,l+w,a,l+w,E),A.arcTo(a,l+w,a,l,C),A.arcTo(a,l,a+v,l,x),A.closePath()}return this._doFill&&A.fill(),this._doStroke&&A.stroke(),this},t.default.Renderer2D.prototype.triangle=function(s){var a=this.drawingContext,l=this._doFill,v=this._doStroke,w=s[0],x=s[1],_=s[2],E=s[3],C=s[4],A=s[5];if(l&&!v){if(this._getFill()===o)return this}else if(!l&&v&&this._getStroke()===o)return this;a.beginPath(),a.moveTo(w,x),a.lineTo(_,E),a.lineTo(C,A),a.closePath(),l&&a.fill(),v&&a.stroke()},t.default.Renderer2D.prototype.endShape=function(s,a,l,v,w,x,_){if(a.length===0)return this;if(!this._doStroke&&!this._doFill)return this;var E,C,A,O=s===c.CLOSE;O&&!x&&a.push(a[0]);var I=a.length;if(!l||_!==c.POLYGON&&_!==null)if(!v||_!==c.POLYGON&&_!==null)if(!w||_!==c.POLYGON&&_!==null)if(_===c.POINTS)for(C=0;C<I;C++)E=a[C],this._doStroke&&this._pInst.stroke(E[6]),this._pInst.point(E[0],E[1]);else if(_===c.LINES)for(C=0;C+1<I;C+=2)E=a[C],this._doStroke&&this._pInst.stroke(a[C+1][6]),this._pInst.line(E[0],E[1],a[C+1][0],a[C+1][1]);else if(_===c.TRIANGLES)for(C=0;C+2<I;C+=3)E=a[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(E[0],E[1]),this.drawingContext.lineTo(a[C+1][0],a[C+1][1]),this.drawingContext.lineTo(a[C+2][0],a[C+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(a[C+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(a[C+2][6]),this.drawingContext.stroke());else if(_===c.TRIANGLE_STRIP)for(C=0;C+1<I;C++)E=a[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(a[C+1][0],a[C+1][1]),this.drawingContext.lineTo(E[0],E[1]),this._doStroke&&this._pInst.stroke(a[C+1][6]),this._doFill&&this._pInst.fill(a[C+1][5]),C+2<I&&(this.drawingContext.lineTo(a[C+2][0],a[C+2][1]),this._doStroke&&this._pInst.stroke(a[C+2][6]),this._doFill&&this._pInst.fill(a[C+2][5])),this._doFillStrokeClose(O);else if(_===c.TRIANGLE_FAN){if(2<I){for(this.drawingContext.beginPath(),C=2;C<I;C++)E=a[C],this.drawingContext.moveTo(a[0][0],a[0][1]),this.drawingContext.lineTo(a[C-1][0],a[C-1][1]),this.drawingContext.lineTo(E[0],E[1]),this.drawingContext.lineTo(a[0][0],a[0][1]),C<I-1&&(this._doFill&&E[5]!==a[C+1][5]||this._doStroke&&E[6]!==a[C+1][6])&&(this._doFill&&(this._pInst.fill(E[5]),this.drawingContext.fill(),this._pInst.fill(a[C+1][5])),this._doStroke&&(this._pInst.stroke(E[6]),this.drawingContext.stroke(),this._pInst.stroke(a[C+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(O)}}else if(_===c.QUADS)for(C=0;C+3<I;C+=4){for(E=a[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(E[0],E[1]),A=1;A<4;A++)this.drawingContext.lineTo(a[C+A][0],a[C+A][1]);this.drawingContext.lineTo(E[0],E[1]),this._doFill&&this._pInst.fill(a[C+3][5]),this._doStroke&&this._pInst.stroke(a[C+3][6]),this._doFillStrokeClose(O)}else if(_===c.QUAD_STRIP){if(3<I)for(C=0;C+1<I;C+=2)E=a[C],this.drawingContext.beginPath(),C+3<I?(this.drawingContext.moveTo(a[C+2][0],a[C+2][1]),this.drawingContext.lineTo(E[0],E[1]),this.drawingContext.lineTo(a[C+1][0],a[C+1][1]),this.drawingContext.lineTo(a[C+3][0],a[C+3][1]),this._doFill&&this._pInst.fill(a[C+3][5]),this._doStroke&&this._pInst.stroke(a[C+3][6])):(this.drawingContext.moveTo(E[0],E[1]),this.drawingContext.lineTo(a[C+1][0],a[C+1][1])),this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(a[0][0],a[0][1]),C=1;C<I;C++)(E=a[C]).isVert&&(E.moveTo?this.drawingContext.moveTo(E[0],E[1]):this.drawingContext.lineTo(E[0],E[1]));this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),C=0;C<I;C++)a[C].isVert?a[C].moveTo?this.drawingContext.moveTo(a[C][0],a[C][1]):this.drawingContext.lineTo(a[C][0],a[C][1]):this.drawingContext.quadraticCurveTo(a[C][0],a[C][1],a[C][2],a[C][3]);this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),C=0;C<I;C++)a[C].isVert?a[C].moveTo?this.drawingContext.moveTo(a[C][0],a[C][1]):this.drawingContext.lineTo(a[C][0],a[C][1]):this.drawingContext.bezierCurveTo(a[C][0],a[C][1],a[C][2],a[C][3],a[C][4],a[C][5]);this._doFillStrokeClose(O)}else if(3<I){var R=[],L=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(a[1][0],a[1][1]),C=1;C+2<I;C++)E=a[C],R[0]=[E[0],E[1]],R[1]=[E[0]+(L*a[C+1][0]-L*a[C-1][0])/6,E[1]+(L*a[C+1][1]-L*a[C-1][1])/6],R[2]=[a[C+1][0]+(L*a[C][0]-L*a[C+2][0])/6,a[C+1][1]+(L*a[C][1]-L*a[C+2][1])/6],R[3]=[a[C+1][0],a[C+1][1]],this.drawingContext.bezierCurveTo(R[1][0],R[1][1],R[2][0],R[2][1],R[3][0],R[3][1]);O&&this.drawingContext.lineTo(a[C+1][0],a[C+1][1]),this._doFillStrokeClose(O)}return x=w=v=l=!1,O&&a.pop(),this},t.default.Renderer2D.prototype.strokeCap=function(s){return s!==c.ROUND&&s!==c.SQUARE&&s!==c.PROJECT||(this.drawingContext.lineCap=s),this},t.default.Renderer2D.prototype.strokeJoin=function(s){return s!==c.ROUND&&s!==c.BEVEL&&s!==c.MITER||(this.drawingContext.lineJoin=s),this},t.default.Renderer2D.prototype.strokeWeight=function(s){return this.drawingContext.lineWidth=s===void 0||s===0?1e-4:s,this},t.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},t.default.Renderer2D.prototype._setFill=function(s){s!==this._cachedFillStyle&&(this.drawingContext.fillStyle=s,this._cachedFillStyle=s)},t.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},t.default.Renderer2D.prototype._setStroke=function(s){s!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=s,this._cachedStrokeStyle=s)},t.default.Renderer2D.prototype.bezier=function(s,a,l,v,w,x,_,E){return this._pInst.beginShape(),this._pInst.vertex(s,a),this._pInst.bezierVertex(l,v,w,x,_,E),this._pInst.endShape(),this},t.default.Renderer2D.prototype.curve=function(s,a,l,v,w,x,_,E){return this._pInst.beginShape(),this._pInst.curveVertex(s,a),this._pInst.curveVertex(l,v),this._pInst.curveVertex(w,x),this._pInst.curveVertex(_,E),this._pInst.endShape(),this},t.default.Renderer2D.prototype._doFillStrokeClose=function(s){s&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},t.default.Renderer2D.prototype.applyMatrix=function(s,a,l,v,w,x){this.drawingContext.transform(s,a,l,v,w,x)},t.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},t.default.Renderer2D.prototype.rotate=function(s){this.drawingContext.rotate(s)},t.default.Renderer2D.prototype.scale=function(s,a){return this.drawingContext.scale(s,a),this},t.default.Renderer2D.prototype.translate=function(s,a){return s instanceof t.default.Vector&&(a=s.y,s=s.x),this.drawingContext.translate(s,a),this},t.default.Renderer2D.prototype.text=function(s,a,l,v,w){var x;v!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(x=!0,this.drawingContext.textBaseline=c.TOP);var _=t.default.Renderer.prototype.text.apply(this,arguments);return x&&(this.drawingContext.textBaseline=c.BASELINE),_},t.default.Renderer2D.prototype._renderText=function(s,a,l,v,w){if(!(w<=v))return s.push(),this._isOpenType()?this._textFont._renderPath(a,l,v,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(a,l,v),this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(a,l,v))),s.pop(),s},t.default.Renderer2D.prototype.textWidth=function(s){return this._isOpenType()?this._textFont._textWidth(s,this._textSize):this.drawingContext.measureText(s).width},t.default.Renderer2D.prototype._applyTextProperties=function(){var s,a=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),s=this._textFont,this._isOpenType()&&(s=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(s||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,a},t.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),t.default.Renderer.prototype.push.apply(this)},t.default.Renderer2D.prototype.pop=function(s){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,t.default.Renderer.prototype.pop.call(this,s)};var n=t.default.Renderer2D;d.default=n},{"../image/filters":285,"./constants":253,"./main":264,"./p5.Renderer":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],269:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var f,t=(f=e("./main"))&&f.__esModule?f:{default:f};t.default.prototype._promisePreloads=[];var c=!(t.default.prototype.registerPromisePreload=function(g){t.default.prototype._promisePreloads.push(g)});t.default.prototype._setupPromisePreloads=function(){var g=!0,p=!1,o=void 0;try{for(var n,s=this._promisePreloads[Symbol.iterator]();!(g=(n=s.next()).done);g=!0){var a=n.value,l=this,v=a.method,w=a.addCallbacks,x=a.legacyPreloadSetup,_=a.target||this,E=_[v].bind(_);if(_===t.default.prototype){if(c)continue;l=null,E=_[v]}_[v]=this._wrapPromisePreload(l,E,w),x&&(_[x.method]=this._legacyPreloadGenerator(l,x,_[v]))}}catch(C){p=!0,o=C}finally{try{g||s.return==null||s.return()}finally{if(p)throw o}}c=!0},t.default.prototype._wrapPromisePreload=function(g,p,o){var n=function(){var s=this;this._incrementPreload();for(var a=null,l=null,v=arguments.length,w=new Array(v),x=0;x<v;x++)w[x]=arguments[x];if(o)for(var _=w.length-1;0<=_&&!l&&typeof w[_]=="function";_--)l=a,a=w.pop();var E=Promise.resolve(p.apply(this,w));return a&&E.then(a),l&&E.catch(l),E.then(function(){return s._decrementPreload()}),E};return g&&(n=n.bind(g)),n};function h(){return{}}t.default.prototype._legacyPreloadGenerator=function(g,p,o){var n=p.createBaseObject||h,s=function(){var a=this;this._incrementPreload();var l=n.apply(this,arguments);return o.apply(this,arguments).then(function(v){Object.assign(l,v),a._decrementPreload()}),l};return g&&(s=s.bind(g)),s}},{"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],270:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("./main"))&&f.__esModule?f:{default:f},c=function(n){if(n&&n.__esModule)return n;if(n===null||g(n)!=="object"&&typeof n!="function")return{default:n};var s=h();if(s&&s.has(n))return s.get(n);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in n)if(Object.prototype.hasOwnProperty.call(n,v)){var w=l?Object.getOwnPropertyDescriptor(n,v):null;w&&(w.get||w.set)?Object.defineProperty(a,v,w):a[v]=n[v]}return a.default=n,s&&s.set(n,a),a}(e("./constants"));function h(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return h=function(){return n},n}function g(n){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(n)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var p="defaultCanvas0";t.default.prototype.createCanvas=function(n,s,a){t.default._validateParameters("createCanvas",arguments);var l,v=a||c.P2D;if(v===c.WEBGL){if(l=document.getElementById(p)){l.parentNode.removeChild(l);var w=this._renderer;this._elements=this._elements.filter(function(E){return E!==w})}(l=document.createElement("canvas")).id=p,l.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)l=this.canvas;else{l=document.createElement("canvas");for(var x=0;document.getElementById("defaultCanvas".concat(x));)x++;p="defaultCanvas".concat(x),l.id=p,l.classList.add("p5Canvas")}if(this._setupDone||(l.dataset.hidden=!0,l.style.visibility="hidden"),this._userNode)this._userNode.appendChild(l);else{if(document.getElementsByTagName("main").length===0){var _=document.createElement("main");document.body.appendChild(_)}document.getElementsByTagName("main")[0].appendChild(l)}return v===c.WEBGL?(this._setProperty("_renderer",new t.default.RendererGL(l,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new t.default.Renderer2D(l,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(n,s),this._renderer._applyDefaults(),this._renderer},t.default.prototype.resizeCanvas=function(n,s,a){if(t.default._validateParameters("resizeCanvas",arguments),this._renderer){var l={};for(var v in this.drawingContext){var w=this.drawingContext[v];g(w)!=="object"&&typeof w!="function"&&(l[v]=w)}for(var x in this._renderer.resize(n,s),this.width=n,this.height=s,l)try{this.drawingContext[x]=l[x]}catch{}a||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},t.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},t.default.prototype.createGraphics=function(n,s,a){return t.default._validateParameters("createGraphics",arguments),new t.default.Graphics(n,s,a,this)},t.default.prototype.blendMode=function(n){t.default._validateParameters("blendMode",arguments),n===c.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),n=c.BLEND),this._renderer.blendMode(n)};var o=t.default;d.default=o},{"../webgl/p5.RendererGL":318,"./constants":253,"./main":264,"./p5.Graphics":266,"./p5.Renderer2D":268,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],271:[function(e,m,d){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(n)}e("core-js/modules/es.array.slice"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t=p(e("../main")),c=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var s=g();if(s&&s.has(n))return s.get(n);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in n)if(Object.prototype.hasOwnProperty.call(n,v)){var w=l?Object.getOwnPropertyDescriptor(n,v):null;w&&(w.get||w.set)?Object.defineProperty(a,v,w):a[v]=n[v]}return a.default=n,s&&s.set(n,a),a}(e("../constants")),h=p(e("../helpers"));function g(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return g=function(){return n},n}function p(n){return n&&n.__esModule?n:{default:n}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),t.default.prototype._normalizeArcAngles=function(n,s,a,l,v){var w;return n-=c.TWO_PI*Math.floor(n/c.TWO_PI),s-=c.TWO_PI*Math.floor(s/c.TWO_PI),w=Math.min(Math.abs(n-s),c.TWO_PI-Math.abs(n-s)),v&&(n=n<=c.HALF_PI?Math.atan(a/l*Math.tan(n)):n>c.HALF_PI&&n<=3*c.HALF_PI?Math.atan(a/l*Math.tan(n))+c.PI:Math.atan(a/l*Math.tan(n))+c.TWO_PI,s=s<=c.HALF_PI?Math.atan(a/l*Math.tan(s)):s>c.HALF_PI&&s<=3*c.HALF_PI?Math.atan(a/l*Math.tan(s))+c.PI:Math.atan(a/l*Math.tan(s))+c.TWO_PI),s<n&&(s+=c.TWO_PI),{start:n,stop:s,correspondToSamePoint:w<1e-5}},t.default.prototype.arc=function(n,s,a,l,v,w,x,_){if(t.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(v===w)return this;v=this._toRadians(v),w=this._toRadians(w),a=Math.abs(a),l=Math.abs(l);var E=h.default.modeAdjust(n,s,a,l,this._renderer._ellipseMode),C=this._normalizeArcAngles(v,w,E.w,E.h,!0);return C.correspondToSamePoint?this._renderer.ellipse([E.x,E.y,E.w,E.h,_]):(this._renderer.arc(E.x,E.y,E.w,E.h,C.start,C.stop,x,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[E.x,E.y,E.w,E.h,C.start,C.stop,x])),this},t.default.prototype.ellipse=function(n,s,a,l,v){return t.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},t.default.prototype.circle=function(){t.default._validateParameters("circle",arguments);var n=Array.prototype.slice.call(arguments,0,2);return n.push(arguments[2]),n.push(arguments[2]),this._renderEllipse.apply(this,n)},t.default.prototype._renderEllipse=function(n,s,a,l,v){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;a<0&&(a=Math.abs(a)),l===void 0?l=a:l<0&&(l=Math.abs(l));var w=h.default.modeAdjust(n,s,a,l,this._renderer._ellipseMode);return this._renderer.ellipse([w.x,w.y,w.w,w.h,v]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[w.x,w.y,w.w,w.h]),this},t.default.prototype.line=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var l;return t.default._validateParameters("line",s),this._renderer._doStroke&&(l=this._renderer).line.apply(l,s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",s),this},t.default.prototype.point=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var l;return t.default._validateParameters("point",s),this._renderer._doStroke&&(s.length===1&&s[0]instanceof t.default.Vector?this._renderer.point.call(this._renderer,s[0].x,s[0].y,s[0].z):((l=this._renderer).point.apply(l,s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",s))),this},t.default.prototype.quad=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var l;return t.default._validateParameters("quad",s),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&s.length<=12?this._renderer.quad.call(this._renderer,s[0],s[1],0,s[2],s[3],0,s[4],s[5],0,s[6],s[7],0,s[8],s[9]):((l=this._renderer).quad.apply(l,s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",s))),this},t.default.prototype.rect=function(){return t.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},t.default.prototype.square=function(n,s,a,l,v,w,x){return t.default._validateParameters("square",arguments),this._renderRect.call(this,n,s,a,a,l,v,w,x)},t.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var n=h.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),s=[n.x,n.y,n.w,n.h],a=4;a<arguments.length;a++)s[a]=arguments[a];this._renderer.rect(s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[n.x,n.y,n.w,n.h])}return this},t.default.prototype.triangle=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t.default._validateParameters("triangle",s),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",s),this};var o=t.default;d.default=o},{"../constants":253,"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../helpers":260,"../main":264,"core-js/modules/es.array.slice":162}],272:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../main"))&&t.__esModule?t:{default:t},h=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=g();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}(e("../constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}c.default.prototype.ellipseMode=function(o){return c.default._validateParameters("ellipseMode",arguments),o!==h.CORNER&&o!==h.CORNERS&&o!==h.RADIUS&&o!==h.CENTER||(this._renderer._ellipseMode=o),this},c.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},c.default.prototype.rectMode=function(o){return c.default._validateParameters("rectMode",arguments),o!==h.CORNER&&o!==h.CORNERS&&o!==h.RADIUS&&o!==h.CENTER||(this._renderer._rectMode=o),this},c.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},c.default.prototype.strokeCap=function(o){return c.default._validateParameters("strokeCap",arguments),o!==h.ROUND&&o!==h.SQUARE&&o!==h.PROJECT||this._renderer.strokeCap(o),this},c.default.prototype.strokeJoin=function(o){return c.default._validateParameters("strokeJoin",arguments),o!==h.ROUND&&o!==h.BEVEL&&o!==h.MITER||this._renderer.strokeJoin(o),this},c.default.prototype.strokeWeight=function(o){return c.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(o),this};var p=c.default;d.default=p},{"../constants":253,"../main":264}],273:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../main"))&&f.__esModule?f:{default:f};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),t.default.prototype.bezier=function(){for(var h,g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];return t.default._validateParameters("bezier",p),(this._renderer._doStroke||this._renderer._doFill)&&(h=this._renderer).bezier.apply(h,p),this},t.default.prototype.bezierDetail=function(h){return t.default._validateParameters("bezierDetail",arguments),this._bezierDetail=h,this},t.default.prototype.bezierPoint=function(h,g,p,o,n){t.default._validateParameters("bezierPoint",arguments);var s=1-n;return Math.pow(s,3)*h+3*Math.pow(s,2)*n*g+3*s*Math.pow(n,2)*p+Math.pow(n,3)*o},t.default.prototype.bezierTangent=function(h,g,p,o,n){t.default._validateParameters("bezierTangent",arguments);var s=1-n;return 3*o*Math.pow(n,2)-3*p*Math.pow(n,2)+6*p*s*n-6*g*s*n+3*g*Math.pow(s,2)-3*h*Math.pow(s,2)},t.default.prototype.curve=function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];var o;return t.default._validateParameters("curve",g),this._renderer._doStroke&&(o=this._renderer).curve.apply(o,g),this},t.default.prototype.curveDetail=function(h){return t.default._validateParameters("curveDetail",arguments),this._curveDetail=h<3?3:h,this},t.default.prototype.curveTightness=function(h){return t.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=h,this},t.default.prototype.curvePoint=function(h,g,p,o,n){t.default._validateParameters("curvePoint",arguments);var s=n*n*n,a=n*n;return h*(-.5*s+a-.5*n)+g*(1.5*s-2.5*a+1)+p*(-1.5*s+2*a+.5*n)+o*(.5*s-.5*a)},t.default.prototype.curveTangent=function(h,g,p,o,n){t.default._validateParameters("curveTangent",arguments);var s=n*n;return h*(-3*s/2+2*n-.5)+g*(9*s/2-5*n)+p*(-9*s/2+4*n+.5)+o*(3*s/2-n)};var c=t.default;d.default=c},{"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../main":264}],274:[function(e,m,d){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(_)}e("core-js/modules/es.array.slice"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../main"))&&t.__esModule?t:{default:t},h=function(_){if(_&&_.__esModule)return _;if(_===null||f(_)!=="object"&&typeof _!="function")return{default:_};var E=g();if(E&&E.has(_))return E.get(_);var C={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in _)if(Object.prototype.hasOwnProperty.call(_,O)){var I=A?Object.getOwnPropertyDescriptor(_,O):null;I&&(I.get||I.set)?Object.defineProperty(C,O,I):C[O]=_[O]}return C.default=_,E&&E.set(_,C),C}(e("../constants"));function g(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return g=function(){return _},_}var p=null,o=[],n=[],s=!1,a=!1,l=!1,v=!1,w=!0;c.default.prototype.beginContour=function(){return n=[],v=!0,this},c.default.prototype.beginShape=function(_){var E;return c.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(E=this._renderer).beginShape.apply(E,arguments):(p=_===h.POINTS||_===h.LINES||_===h.TRIANGLES||_===h.TRIANGLE_FAN||_===h.TRIANGLE_STRIP||_===h.QUADS||_===h.QUAD_STRIP?_:null,o=[],n=[]),this},c.default.prototype.bezierVertex=function(){for(var _=arguments.length,E=new Array(_),C=0;C<_;C++)E[C]=arguments[C];var A;if(c.default._validateParameters("bezierVertex",E),this._renderer.isP3D)(A=this._renderer).bezierVertex.apply(A,E);else if(o.length===0)c.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{s=!0;for(var O=[],I=0;I<E.length;I++)O[I]=E[I];O.isVert=!1,v?n.push(O):o.push(O)}return this},c.default.prototype.curveVertex=function(){for(var _=arguments.length,E=new Array(_),C=0;C<_;C++)E[C]=arguments[C];var A;return c.default._validateParameters("curveVertex",E),this._renderer.isP3D?(A=this._renderer).curveVertex.apply(A,E):(a=!0,this.vertex(E[0],E[1])),this},c.default.prototype.endContour=function(){var _=n[0].slice();_.isVert=n[0].isVert,_.moveTo=!1,n.push(_),w&&(o.push(o[0]),w=!1);for(var E=0;E<n.length;E++)o.push(n[E]);return this},c.default.prototype.endShape=function(_){if(c.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(_,a,s,l,v,p);else{if(o.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var E=_===h.CLOSE;E&&!v&&o.push(o[0]),this._renderer.endShape(_,o,a,s,l,v,p),w=!(v=l=s=a=!1),E&&o.pop()}return this},c.default.prototype.quadraticVertex=function(){for(var _=arguments.length,E=new Array(_),C=0;C<_;C++)E[C]=arguments[C];if(c.default._validateParameters("quadraticVertex",E),this._renderer.isP3D){var A;(A=this._renderer).quadraticVertex.apply(A,E)}else{if(this._contourInited){var O={};return O.x=E[0],O.y=E[1],O.x3=E[2],O.y3=E[3],O.type=h.QUADRATIC,this._contourVertices.push(O),this}if(0<o.length){l=!0;for(var I=[],R=0;R<E.length;R++)I[R]=E[R];I.isVert=!1,v?n.push(I):o.push(I)}else c.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},c.default.prototype.vertex=function(_,E,C,A,O){if(this._renderer.isP3D){var I;(I=this._renderer).vertex.apply(I,arguments)}else{var R=[];R.isVert=!0,R[0]=_,R[1]=E,R[2]=0,R[3]=0,R[4]=0,R[5]=this._renderer._getFill(),R[6]=this._renderer._getStroke(),C&&(R.moveTo=C),v?(n.length===0&&(R.moveTo=!0),n.push(R)):o.push(R)}return this},c.default.prototype.normal=function(_,E,C){var A;return this._assert3d("normal"),c.default._validateParameters("normal",arguments),(A=this._renderer).normal.apply(A,arguments),this};var x=c.default;d.default=x},{"../constants":253,"../main":264,"core-js/modules/es.array.slice":162}],275:[function(e,m,d){function f(t){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(t)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,c){window.setTimeout(t,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var t=Object.keys,c=Object.defineProperty,h=typeof Symbol=="function"&&f(Symbol())==="symbol",g=Object.prototype.propertyIsEnumerable,p=function(o){return function(n){return g.call(o,n)}};c(Object,"assign",{value:function(o,n){if(o==null)throw new TypeError("target must be an object");var s,a,l,v,w=Object(o);for(s=1;s<arguments.length;++s)for(a=Object(arguments[s]),v=t(a),h&&Object.getOwnPropertySymbols&&v.push.apply(v,Object.getOwnPropertySymbols(a).filter(p(a))),l=0;l<v.length;++l)w[v[l]]=a[v[l]];return w},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":229}],276:[function(e,m,d){e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("./main"))&&f.__esModule?f:{default:f};t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var h=this._styles.pop();h?(this._renderer.pop(h.renderer),Object.assign(this,h.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(h){if(!this._inUserDraw&&this._setupDone){var g=parseInt(h);(isNaN(g)||g<1)&&(g=1);var p=this._isGlobal?window:this;if(typeof p.draw=="function"){p.setup===void 0&&p.scale(p._pixelDensity,p._pixelDensity);for(var o=function(s){s.call(p)},n=0;n<g;n++){p.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),p._renderer.isP3D&&p._renderer._update(),p._setProperty("frameCount",p.frameCount+1),p._registeredMethods.pre.forEach(o),this._inUserDraw=!0;try{p.draw()}finally{this._inUserDraw=!1}p._registeredMethods.post.forEach(o)}}}};var c=t.default;d.default=c},{"./main":264,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":173,"core-js/modules/web.dom-collections.for-each":228}],277:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("./main"))&&f.__esModule?f:{default:f};function c(g){return function(p){if(Array.isArray(p)){for(var o=0,n=new Array(p.length);o<p.length;o++)n[o]=p[o];return n}}(g)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.default.prototype.applyMatrix=function(){var g,p,o=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||o?(g=this._renderer).applyMatrix.apply(g,c(arguments[0])):(p=this._renderer).applyMatrix.apply(p,arguments),this},t.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},t.default.prototype.rotate=function(g,p){return t.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(g),p),this},t.default.prototype.rotateX=function(g){return this._assert3d("rotateX"),t.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(g)),this},t.default.prototype.rotateY=function(g){return this._assert3d("rotateY"),t.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(g)),this},t.default.prototype.rotateZ=function(g){return this._assert3d("rotateZ"),t.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(g)),this},t.default.prototype.scale=function(g,p,o){if(t.default._validateParameters("scale",arguments),g instanceof t.default.Vector){var n=g;g=n.x,p=n.y,o=n.z}else if(g instanceof Array){var s=g;g=s[0],p=s[1],o=s[2]||1}return isNaN(p)?p=o=g:isNaN(o)&&(o=1),this._renderer.scale.call(this._renderer,g,p,o),this},t.default.prototype.shearX=function(g){t.default._validateParameters("shearX",arguments);var p=this._toRadians(g);return this._renderer.applyMatrix(1,0,Math.tan(p),1,0,0),this},t.default.prototype.shearY=function(g){t.default._validateParameters("shearY",arguments);var p=this._toRadians(g);return this._renderer.applyMatrix(1,Math.tan(p),0,1,0,0),this},t.default.prototype.translate=function(g,p,o){return t.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(g,p,o):this._renderer.translate(g,p),this};var h=t.default;d.default=h},{"./main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229}],278:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};function c(g){return function(p){if(Array.isArray(p)){for(var o=0,n=new Array(p.length);o<p.length;o++)n[o]=p[o];return n}}(g)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(g){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}t.default.prototype.storeItem=function(g,p){typeof g!="string"&&console.log("The argument that you passed to storeItem() - ".concat(g," is not a string.")),g.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(g," must not end with 'p5TypeID'.")),p===void 0&&console.log("You cannot store undefined variables using storeItem().");var o=h(p);switch(o){case"number":case"boolean":p=p.toString();break;case"object":p instanceof t.default.Color?o="p5.Color":p instanceof t.default.Vector&&(o="p5.Vector",p=[p.x,p.y,p.z]),p=JSON.stringify(p)}localStorage.setItem(g,p);var n="".concat(g,"p5TypeID");localStorage.setItem(n,o)},t.default.prototype.getItem=function(g){var p=localStorage.getItem(g),o=localStorage.getItem("".concat(g,"p5TypeID"));if(o===void 0)console.log("Unable to determine type of item stored under ".concat(g,"in local storage. Did you save the item with something other than setItem()?"));else if(p!==null)switch(o){case"number":p=parseFloat(p);break;case"boolean":p=p==="true";break;case"object":p=JSON.parse(p);break;case"p5.Color":p=JSON.parse(p),p=this.color.apply(this,c(p.levels));break;case"p5.Vector":p=JSON.parse(p),p=this.createVector.apply(this,c(p))}return p},t.default.prototype.clearStorage=function(){localStorage.clear()},t.default.prototype.removeItem=function(g){typeof g!="string"&&console.log("The argument that you passed to removeItem() - ".concat(g," is not a string.")),localStorage.removeItem(g),localStorage.removeItem("".concat(g,"p5TypeID"))}},{"../core/main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],279:[function(e,m,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.prototype.createStringDict=function(h,g){return t.default._validateParameters("createStringDict",arguments),new t.default.StringDict(h,g)},t.default.prototype.createNumberDict=function(h,g){return t.default._validateParameters("createNumberDict",arguments),new t.default.NumberDict(h,g)},t.default.TypedDict=function(h,g){return h instanceof Object?this.data=h:(this.data={},this.data[h]=g),this},t.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},t.default.TypedDict.prototype.hasKey=function(h){return this.data.hasOwnProperty(h)},t.default.TypedDict.prototype.get=function(h){if(this.data.hasOwnProperty(h))return this.data[h];console.log("".concat(h," does not exist in this Dictionary"))},t.default.TypedDict.prototype.set=function(h,g){this._validate(g)?this.data[h]=g:console.log("Those values dont work for this dictionary type.")},t.default.TypedDict.prototype._addObj=function(h){for(var g in h)this.set(g,h[g])},t.default.TypedDict.prototype.create=function(h,g){h instanceof Object&&g===void 0?this._addObj(h):h!==void 0?this.set(h,g):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},t.default.TypedDict.prototype.clear=function(){this.data={}},t.default.TypedDict.prototype.remove=function(h){if(!this.data.hasOwnProperty(h))throw new Error("".concat(h," does not exist in this Dictionary"));delete this.data[h]},t.default.TypedDict.prototype.print=function(){for(var h in this.data)console.log("key:".concat(h," value:").concat(this.data[h]))},t.default.TypedDict.prototype.saveTable=function(h){var g="";for(var p in this.data)g+="".concat(p,",").concat(this.data[p],`
`);var o=new Blob([g],{type:"text/csv"});t.default.prototype.downloadFile(o,h||"mycsv","csv")},t.default.TypedDict.prototype.saveJSON=function(h,g){t.default.prototype.saveJSON(this.data,h,g)},t.default.TypedDict.prototype._validate=function(h){return!0},t.default.StringDict=function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];t.default.TypedDict.apply(this,g)},t.default.StringDict.prototype=Object.create(t.default.TypedDict.prototype),t.default.StringDict.prototype._validate=function(h){return typeof h=="string"},t.default.NumberDict=function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];t.default.TypedDict.apply(this,g)},t.default.NumberDict.prototype=Object.create(t.default.TypedDict.prototype),t.default.NumberDict.prototype._validate=function(h){return typeof h=="number"},t.default.NumberDict.prototype.add=function(h,g){this.data.hasOwnProperty(h)?this.data[h]+=g:console.log("The key - ".concat(h," does not exist in this dictionary."))},t.default.NumberDict.prototype.sub=function(h,g){this.add(h,-g)},t.default.NumberDict.prototype.mult=function(h,g){this.data.hasOwnProperty(h)?this.data[h]*=g:console.log("The key - ".concat(h," does not exist in this dictionary."))},t.default.NumberDict.prototype.div=function(h,g){this.data.hasOwnProperty(h)?this.data[h]/=g:console.log("The key - ".concat(h," does not exist in this dictionary."))},t.default.NumberDict.prototype._valueTest=function(h){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var g=this.data[Object.keys(this.data)[0]];for(var p in this.data)this.data[p]*h<g*h&&(g=this.data[p]);return g},t.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},t.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},t.default.NumberDict.prototype._keyTest=function(h){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var g=Object.keys(this.data)[0],p=1;p<Object.keys(this.data).length;p++)Object.keys(this.data)[p]*h<g*h&&(g=Object.keys(this.data)[p]);return g},t.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},t.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)};var c=t.default.TypedDict;d.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],280:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(n)}function h(n,s,a){(s._userNode?s._userNode:document.body).appendChild(n);var l=a?new t.default.MediaElement(n,s):new t.default.Element(n,s);return s._elements.push(l),l}function g(n,s,a,l){var v=document.createElement(s);typeof(a=a||"")=="string"&&(a=[a]);var w=!0,x=!1,_=void 0;try{for(var E,C=a[Symbol.iterator]();!(w=(E=C.next()).done);w=!0){var A=E.value,O=document.createElement("source");O.setAttribute("src",A),v.appendChild(O)}}catch(R){x=!0,_=R}finally{try{w||C.return==null||C.return()}finally{if(x)throw _}}typeof l=="function"&&v.addEventListener("canplaythrough",function R(){l(),v.removeEventListener("canplaythrough",R)});var I=h(v,n,!0);return I.loadedmetadata=!1,v.addEventListener("loadedmetadata",function(){I.width=v.videoWidth,I.height=v.videoHeight,I.elt.width===0&&(I.elt.width=v.videoWidth),I.elt.height===0&&(I.elt.height=v.videoHeight),I.presetPlaybackRate&&(I.elt.playbackRate=I.presetPlaybackRate,delete I.presetPlaybackRate),I.loadedmetadata=!0}),I}t.default.prototype.select=function(n,s){t.default._validateParameters("select",arguments);var a=this._getContainer(s).querySelector(n);return a?this._wrapElement(a):null},t.default.prototype.selectAll=function(n,s){t.default._validateParameters("selectAll",arguments);var a=[],l=this._getContainer(s).querySelectorAll(n);if(l)for(var v=0;v<l.length;v++){var w=this._wrapElement(l[v]);a.push(w)}return a},t.default.prototype._getContainer=function(n){var s=document;return typeof n=="string"?s=document.querySelector(n)||document:n instanceof t.default.Element?s=n.elt:n instanceof HTMLElement&&(s=n),s},t.default.prototype._wrapElement=function(n){var s=Array.prototype.slice.call(n.children);if(n.tagName!=="INPUT"||n.type!=="checkbox")return n.tagName==="VIDEO"||n.tagName==="AUDIO"?new t.default.MediaElement(n,this):n.tagName==="SELECT"?this.createSelect(new t.default.Element(n,this)):0<s.length&&s.every(function(l){return l.tagName==="INPUT"||l.tagName==="LABEL"})?this.createRadio(new t.default.Element(n,this)):new t.default.Element(n,this);var a=new t.default.Element(n,this);return a.checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},a},t.default.prototype.removeElements=function(n){t.default._validateParameters("removeElements",arguments),this._elements.filter(function(s){return!(s.elt instanceof HTMLCanvasElement)}).map(function(s){return s.remove()})},t.default.Element.prototype.changed=function(n){return t.default.Element._adjustListener("change",n,this),this},t.default.Element.prototype.input=function(n){return t.default.Element._adjustListener("input",n,this),this},t.default.prototype.createDiv=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",s=document.createElement("div");return s.innerHTML=n,h(s,this)},t.default.prototype.createP=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",s=document.createElement("p");return s.innerHTML=n,h(s,this)},t.default.prototype.createSpan=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",s=document.createElement("span");return s.innerHTML=n,h(s,this)},t.default.prototype.createImg=function(){t.default._validateParameters("createImg",arguments);var n,s=document.createElement("img"),a=arguments;return 1<a.length&&typeof a[1]=="string"&&(s.alt=a[1]),2<a.length&&typeof a[2]=="string"&&(s.crossOrigin=a[2]),s.src=a[0],n=h(s,this),s.addEventListener("load",function(){n.width=s.offsetWidth||s.width,n.height=s.offsetHeight||s.height;var l=a[a.length-1];typeof l=="function"&&l(n)}),n},t.default.prototype.createA=function(n,s,a){t.default._validateParameters("createA",arguments);var l=document.createElement("a");return l.href=n,l.innerHTML=s,a&&(l.target=a),h(l,this)},t.default.prototype.createSlider=function(n,s,a,l){t.default._validateParameters("createSlider",arguments);var v=document.createElement("input");return v.type="range",v.min=n,v.max=s,l===0?v.step=1e-18:l&&(v.step=l),typeof a=="number"&&(v.value=a),h(v,this)},t.default.prototype.createButton=function(n,s){t.default._validateParameters("createButton",arguments);var a=document.createElement("button");return a.innerHTML=n,s&&(a.value=s),h(a,this)},t.default.prototype.createCheckbox=function(){t.default._validateParameters("createCheckbox",arguments);var n=document.createElement("div"),s=document.createElement("input");s.type="checkbox";var a=document.createElement("label");a.appendChild(s),n.appendChild(a);var l=h(n,this);if(l.checked=function(){var w=l.elt.firstElementChild.getElementsByTagName("input")[0];if(w){if(arguments.length===0)return w.checked;w.checked=!!arguments[0]}return l},this.value=function(w){return l.value=w,this},arguments[0]){l.value(arguments[0]);var v=document.createElement("span");v.innerHTML=arguments[0],a.appendChild(v)}return arguments[1]&&(s.checked=!0),l},t.default.prototype.createSelect=function(){var n;t.default._validateParameters("createSelect",arguments);var s=arguments[0];if(s instanceof t.default.Element&&s.elt instanceof HTMLSelectElement)n=s,this.elt=s.elt;else if(s instanceof HTMLSelectElement)n=h(s,this),this.elt=s;else{var a=document.createElement("select");s&&typeof s=="boolean"&&a.setAttribute("multiple","true"),n=h(a,this),this.elt=a}return n.option=function(l,v){var w;if(l!==void 0){for(var x=0;x<this.elt.length;x+=1)if(this.elt[x].innerHTML===l){w=x;break}if(w!==void 0)v===!1?this.elt.remove(w):this.elt[w].value=v;else{var _=document.createElement("option");_.innerHTML=l,_.value=v===void 0?l:v,this.elt.appendChild(_),this._pInst._elements.push(_)}}},n.selected=function(l){if(l!==void 0){for(var v=0;v<this.elt.length;v+=1)this.elt[v].value.toString()===l.toString()&&(this.elt.selectedIndex=v);return this}if(this.elt.getAttribute("multiple")){var w=[],x=!0,_=!1,E=void 0;try{for(var C,A=this.elt.selectedOptions[Symbol.iterator]();!(x=(C=A.next()).done);x=!0){var O=C.value;w.push(O.value)}}catch(I){_=!0,E=I}finally{try{x||A.return==null||A.return()}finally{if(_)throw E}}return w}return this.elt.value},n.disable=function(l){if(typeof l=="string")for(var v=0;v<this.elt.length;v++)this.elt[v].value.toString()===l&&(this.elt[v].disabled=!0,this.elt[v].selected=!1);else this.elt.disabled=!0;return this},n},t.default.prototype.createRadio=function(){var n,s,a=arguments[0];a instanceof HTMLDivElement||a instanceof HTMLSpanElement?(n=a,typeof arguments[1]=="string"&&(s=arguments[1])):(typeof a=="string"&&(s=a),n=document.createElement("div"));var l=h(this.elt=n,this);l._name=s||"radioOption";function v(x){return x instanceof HTMLInputElement&&x.type==="radio"}function w(x){return x instanceof HTMLLabelElement}return l._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(x){return v(x)||w(x)&&v(x.firstElementChild)}).map(function(x){return v(x)?x:x.firstElementChild})},l.option=function(x,_){var E,C,A,O=!0,I=!1,R=void 0;try{for(var L,U=l._getOptionsArray()[Symbol.iterator]();!(O=(L=U.next()).done);O=!0){var D=L.value;if(D.value===x){E=D;break}}}catch(H){I=!0,R=H}finally{try{O||U.return==null||U.return()}finally{if(I)throw R}}return E===void 0&&((E=document.createElement("input")).setAttribute("type","radio"),E.setAttribute("value",x)),E.setAttribute("name",l._name),w(E.parentElement)?C=E.parentElement:(C=document.createElement("label")).insertAdjacentElement("afterbegin",E),C.lastElementChild instanceof HTMLSpanElement?A=C.lastElementChild:(A=document.createElement("span"),E.insertAdjacentElement("afterend",A)),A.innerHTML=_===void 0?x:_,this.elt.appendChild(C),E},l.remove=function(x){var _=!0,E=!1,C=void 0;try{for(var A,O=l._getOptionsArray()[Symbol.iterator]();!(_=(A=O.next()).done);_=!0){var I=A.value;if(I.value===x)return void(w(I.parentElement)?I.parentElement.remove():I.remove())}}catch(R){E=!0,C=R}finally{try{_||O.return==null||O.return()}finally{if(E)throw C}}},l.value=function(){var x="",_=!0,E=!1,C=void 0;try{for(var A,O=l._getOptionsArray()[Symbol.iterator]();!(_=(A=O.next()).done);_=!0){var I=A.value;if(I.checked){x=I.value;break}}}catch(R){E=!0,C=R}finally{try{_||O.return==null||O.return()}finally{if(E)throw C}}return x},l.selected=function(x){var _=null;if(x===void 0){var E=!0,C=!1,A=void 0;try{for(var O,I=l._getOptionsArray()[Symbol.iterator]();!(E=(O=I.next()).done);E=!0){var R=O.value;if(R.checked){_=R;break}}}catch(le){C=!0,A=le}finally{try{E||I.return==null||I.return()}finally{if(C)throw A}}}else{l._getOptionsArray().forEach(function(le){le.checked=!1,le.removeAttribute("checked")});var L=!0,U=!1,D=void 0;try{for(var H,W=l._getOptionsArray()[Symbol.iterator]();!(L=(H=W.next()).done);L=!0){var ae=H.value;ae.value===x&&(ae.setAttribute("checked",!0),ae.checked=!0,_=ae)}}catch(le){U=!0,D=le}finally{try{L||W.return==null||W.return()}finally{if(U)throw D}}}return _},l.disable=function(){var x=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],_=!0,E=!1,C=void 0;try{for(var A,O=l._getOptionsArray()[Symbol.iterator]();!(_=(A=O.next()).done);_=!0)A.value.setAttribute("disabled",x)}catch(I){E=!0,C=I}finally{try{_||O.return==null||O.return()}finally{if(E)throw C}}},l},t.default.prototype.createColorPicker=function(n){t.default._validateParameters("createColorPicker",arguments);var s,a=document.createElement("input");return a.type="color",n?n instanceof t.default.Color?a.value=n.toString("#rrggbb"):(t.default.prototype._colorMode="rgb",t.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},a.value=t.default.prototype.color(n).toString("#rrggbb")):a.value="#000000",(s=h(a,this)).color=function(){return n&&(n.mode&&(t.default.prototype._colorMode=n.mode),n.maxes&&(t.default.prototype._colorMaxes=n.maxes)),t.default.prototype.color(this.elt.value)},s},t.default.prototype.createInput=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text";t.default._validateParameters("createInput",arguments);var a=document.createElement("input");return a.setAttribute("value",n),a.setAttribute("type",s),h(a,this)},t.default.prototype.createFileInput=function(n){var s=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(t.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var a=document.createElement("input");return a.setAttribute("type","file"),s&&a.setAttribute("multiple",!0),a.addEventListener("change",function(l){var v=!0,w=!1,x=void 0;try{for(var _,E=l.target.files[Symbol.iterator]();!(v=(_=E.next()).done);v=!0){var C=_.value;t.default.File._load(C,n)}}catch(A){w=!0,x=A}finally{try{v||E.return==null||E.return()}finally{if(w)throw x}}},!1),h(a,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},t.default.prototype.createVideo=function(n,s){return t.default._validateParameters("createVideo",arguments),g(this,"video",n,s)},t.default.prototype.createAudio=function(n,s){return t.default._validateParameters("createAudio",arguments),g(this,"audio",n,s)},t.default.prototype.VIDEO="video",t.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(n){var s=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return s?new Promise(function(a,l){s.call(navigator,n,a,l)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),t.default.prototype.createCapture=function(){if(t.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var n,s,a=!0,l=!0,v=!0,w=!1,x=void 0;try{for(var _,E=arguments[Symbol.iterator]();!(v=(_=E.next()).done);v=!0){var C=_.value;C===t.default.prototype.VIDEO?l=!1:C===t.default.prototype.AUDIO?a=!1:c(C)==="object"?n=C:typeof C=="function"&&(s=C)}}catch(I){w=!0,x=I}finally{try{v||E.return==null||E.return()}finally{if(w)throw x}}n=n||{video:a,audio:l};var A=document.createElement("video");A.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(n).then(function(I){try{"srcObject"in A?A.srcObject=I:A.src=window.URL.createObjectURL(I)}catch{A.src=I}},console.log);var O=h(A,this,!0);return O.loadedmetadata=!1,A.addEventListener("loadedmetadata",function(){A.play(),A.width?(O.width=A.width,O.height=A.height):(O.width=O.elt.width=A.videoWidth,O.height=O.elt.height=A.videoHeight),O.loadedmetadata=!0,s&&s(A.srcObject)}),O},t.default.prototype.createElement=function(n,s){t.default._validateParameters("createElement",arguments);var a=document.createElement(n);return s!==void 0&&(a.innerHTML=s),h(a,this)},t.default.Element.prototype.addClass=function(n){return this.elt.className?this.hasClass(n)||(this.elt.className=this.elt.className+" "+n):this.elt.className=n,this},t.default.Element.prototype.removeClass=function(n){return this.elt.classList.remove(n),this},t.default.Element.prototype.hasClass=function(n){return this.elt.classList.contains(n)},t.default.Element.prototype.toggleClass=function(n){return this.elt.classList.contains(n)?this.elt.classList.remove(n):this.elt.classList.add(n),this},t.default.Element.prototype.child=function(n){return n===void 0?this.elt.childNodes:(typeof n=="string"?(n[0]==="#"&&(n=n.substring(1)),n=document.getElementById(n)):n instanceof t.default.Element&&(n=n.elt),n instanceof HTMLElement&&this.elt.appendChild(n),this)},t.default.Element.prototype.center=function(n){var s=this.elt.style.display,a=this.elt.style.display==="none",l=this.parent().style.display==="none",v={x:this.elt.offsetLeft,y:this.elt.offsetTop};a&&this.show(),l&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var w=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),x=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return n==="both"||n===void 0?this.position(w/2+this.parent().offsetLeft,x/2+this.parent().offsetTop):n==="horizontal"?this.position(w/2+this.parent().offsetLeft,v.y):n==="vertical"&&this.position(v.x,x/2+this.parent().offsetTop),this.style("display",s),a&&this.hide(),l&&this.parent().hide(),this},t.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},t.default.Element.prototype.position=function(){if(arguments.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var n="absolute";return arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"||(n=arguments[2]),this.elt.style.position=n,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},t.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var n="";return this.elt.style.transform&&(n=(n=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=n,this},t.default.Element.prototype._rotate=function(){var n="";return this.elt.style.transform&&(n=(n=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=n,this},t.default.Element.prototype.style=function(n,s){if(s instanceof t.default.Color&&(s="rgba("+s.levels[0]+","+s.levels[1]+","+s.levels[2]+","+s.levels[3]/255+")"),s===void 0){if(n.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(n);for(var a=n.split(";"),l=0;l<a.length;l++){var v=a[l].split(":");v[0]&&v[1]&&(this.elt.style[v[0].trim()]=v[1].trim())}}else if(this.elt.style[n]=s,n==="width"||n==="height"||n==="left"||n==="top"){var w=window.getComputedStyle(this.elt).getPropertyValue(n).replace(/\D+/g,"");this[n]=parseInt(w,10)}return this},t.default.Element.prototype.attribute=function(n,s){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return s===void 0?this.elt.getAttribute(n):(this.elt.setAttribute(n,s),this);if(s===void 0)return this.elt.firstChild.getAttribute(n);for(var a=0;a<this.elt.childNodes.length;a++)this.elt.childNodes[a].setAttribute(n,s)},t.default.Element.prototype.removeAttribute=function(n){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var s=0;s<this.elt.childNodes.length;s++)this.elt.childNodes[s].removeAttribute(n);return this.elt.removeAttribute(n),this},t.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},t.default.Element.prototype.show=function(){return this.elt.style.display="block",this},t.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},t.default.Element.prototype.size=function(n,s){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var a=n,l=s,v=t.default.prototype.AUTO;if(a!==v||l!==v){if(a===v?a=s*this.width/this.height:l===v&&(l=n*this.height/this.width),this.elt instanceof HTMLCanvasElement){var w,x={},_=this.elt.getContext("2d");for(w in _)x[w]=_[w];for(w in this.elt.setAttribute("width",a*this._pInst._pixelDensity),this.elt.setAttribute("height",l*this._pInst._pixelDensity),this.elt.style.width=a+"px",this.elt.style.height=l+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),x)this.elt.getContext("2d")[w]=x[w]}else this.elt.style.width=a+"px",this.elt.style.height=l+"px",this.elt.width=a,this.elt.height=l;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},t.default.Element.prototype.remove=function(){if(this instanceof t.default.MediaElement){this.stop();var n=this.elt.srcObject;n!==null&&n.getTracks().forEach(function(l){l.stop()})}var s=this._pInst._elements.indexOf(this);for(var a in s!==-1&&this._pInst._elements.splice(s,1),this._events)this.elt.removeEventListener(a,this._events[a]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},t.default.Element.prototype.drop=function(n,s){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var a=function(l){l.preventDefault()};this.elt.addEventListener("dragover",a),this.elt.addEventListener("dragleave",a)}t.default.Element._attachListener("drop",function(l){l.preventDefault(),typeof s=="function"&&s.call(this,l);for(var v=l.dataTransfer.files,w=0;w<v.length;w++){var x=v[w];t.default.File._load(x,n)}},this)}else console.log("The File APIs are not fully supported in this browser.");return this},t.default.MediaElement=function(n,s){t.default.Element.call(this,n,s);var a=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(a,"src",{get:function(){var l=a.elt.children[0].src,v=a.elt.src===window.location.href?"":a.elt.src;return l===window.location.href?v:l},set:function(l){for(var v=0;v<a.elt.children.length;v++)a.elt.removeChild(a.elt.children[v]);var w=document.createElement("source");w.src=l,n.appendChild(w),a.elt.src=l,a.modified=!0}}),a._onended=function(){},a.elt.onended=function(){a._onended(a)}},t.default.MediaElement.prototype=Object.create(t.default.Element.prototype),t.default.MediaElement.prototype.play=function(){var n,s=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),(n=(1<this.elt.readyState||this.elt.load(),this.elt.play()))&&n.catch&&n.catch(function(a){a.name==="NotAllowedError"?t.default._friendlyAutoplayError(s.src):console.error("Media play method encountered an unexpected error",a)}),this},t.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},t.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},t.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},t.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},t.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var n=this,s=setTimeout(function(){return t.default._friendlyAutoplayError(n.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(s)},{passive:!0,once:!0})},t.default.MediaElement.prototype.autoplay=function(n){var s=this,a=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",n),n&&!a){var l=function(){return s._setupAutoplayFailDetection()};this.elt.readyState===4?l():this.elt.addEventListener("canplay",l,{passive:!0,once:!0})}return this},t.default.MediaElement.prototype.volume=function(n){if(n===void 0)return this.elt.volume;this.elt.volume=n},t.default.MediaElement.prototype.speed=function(n){if(n===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=n:this.presetPlaybackRate=n},t.default.MediaElement.prototype.time=function(n){return n===void 0?this.elt.currentTime:(this.elt.currentTime=n,this)},t.default.MediaElement.prototype.duration=function(){return this.elt.duration},t.default.MediaElement.prototype.pixels=[],t.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},t.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),t.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},t.default.MediaElement.prototype.updatePixels=function(n,s,a,l){return this.loadedmetadata&&(this._ensureCanvas(),t.default.Renderer2D.prototype.updatePixels.call(this,n,s,a,l)),this.setModified(!0),this},t.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),t.default.Renderer2D.prototype.get.apply(this,arguments)},t.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),t.default.Renderer2D.prototype._getPixel.apply(this,arguments)},t.default.MediaElement.prototype.set=function(n,s,a){this.loadedmetadata&&(this._ensureCanvas(),t.default.Renderer2D.prototype.set.call(this,n,s,a),this.setModified(!0))},t.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),t.default.prototype.copy.apply(this,arguments)},t.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),t.default.Image.prototype.mask.apply(this,arguments)},t.default.MediaElement.prototype.isModified=function(){return this._modified},t.default.MediaElement.prototype.setModified=function(n){this._modified=n},t.default.MediaElement.prototype.onended=function(n){return this._onended=n,this},t.default.MediaElement.prototype.connect=function(n){var s,a;if(typeof t.default.prototype.getAudioContext=="function")s=t.default.prototype.getAudioContext(),a=t.default.soundOut.input;else try{a=(s=n.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=s.createMediaElementSource(this.elt),this.audioSourceNode.connect(a)),n?n.input?this.audioSourceNode.connect(n.input):this.audioSourceNode.connect(n):this.audioSourceNode.connect(a)},t.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},t.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},t.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function p(n,s,a,l){this.callback=n,this.time=s,this.id=a,this.val=l}t.default.MediaElement.prototype.addCue=function(n,s,a){var l=this._cueIDCounter++,v=new p(s,n,l,a);return this._cues.push(v),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),l},t.default.MediaElement.prototype.removeCue=function(n){for(var s=0;s<this._cues.length;s++)this._cues[s].id===n&&(console.log(n),this._cues.splice(s,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},t.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},t.default.MediaElement.prototype._onTimeUpdate=function(){for(var n=this.time(),s=0;s<this._cues.length;s++){var a=this._cues[s].time,l=this._cues[s].val;this._prevTime<a&&a<=n&&this._cues[s].callback(l)}this._prevTime=n},t.default.File=function(n,s){this.file=n,this._pInst=s;var a=n.type.split("/");this.type=a[0],this.subtype=a[1],this.name=n.name,this.size=n.size,this.data=void 0},t.default.File._createLoader=function(n,s){var a=new FileReader;return a.onload=function(l){var v=new t.default.File(n);if(v.file.type==="application/json")v.data=JSON.parse(l.target.result);else if(v.file.type==="text/xml"){var w=new DOMParser().parseFromString(l.target.result,"text/xml");v.data=new t.default.XML(w.documentElement)}else v.data=l.target.result;s(v)},a},t.default.File._load=function(n,s){if(/^text\//.test(n.type)||n.type==="application/json")t.default.File._createLoader(n,s).readAsText(n);else if(/^(video|audio)\//.test(n.type)){var a=new t.default.File(n);a.data=URL.createObjectURL(n),s(a)}else t.default.File._createLoader(n,s).readAsDataURL(n)};var o=t.default;d.default=o},{"../core/main":264,"core-js/modules/es.array.every":150,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231}],281:[function(e,m,d){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(_)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(_){if(_&&_.__esModule)return _;if(_===null||f(_)!=="object"&&typeof _!="function")return{default:_};var E=g();if(E&&E.has(_))return E.get(_);var C={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in _)if(Object.prototype.hasOwnProperty.call(_,O)){var I=A?Object.getOwnPropertyDescriptor(_,O):null;I&&(I.get||I.set)?Object.defineProperty(C,O,I):C[O]=_[O]}return C.default=_,E&&E.set(_,C),C}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return g=function(){return _},_}c.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",c.default.prototype.accelerationX=0,c.default.prototype.accelerationY=0,c.default.prototype.accelerationZ=0,c.default.prototype.pAccelerationX=0,c.default.prototype.pAccelerationY=0,c.default.prototype.pAccelerationZ=0,c.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},c.default.prototype.rotationX=0,c.default.prototype.rotationY=0,c.default.prototype.rotationZ=0,c.default.prototype.pRotationX=0,c.default.prototype.pRotationY=0;var p=c.default.prototype.pRotationZ=0,o=0,n=0,s="clockwise",a="clockwise",l="clockwise";c.default.prototype.pRotateDirectionX=void 0,c.default.prototype.pRotateDirectionY=void 0,c.default.prototype.pRotateDirectionZ=void 0,c.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},c.default.prototype.turnAxis=void 0;var v=.5,w=30;c.default.prototype.setMoveThreshold=function(_){c.default._validateParameters("setMoveThreshold",arguments),v=_},c.default.prototype.setShakeThreshold=function(_){c.default._validateParameters("setShakeThreshold",arguments),w=_},c.default.prototype._ondeviceorientation=function(_){this._updatePRotations(),this._angleMode===h.radians&&(_.beta=_.beta*(_PI/180),_.gamma=_.gamma*(_PI/180),_.alpha=_.alpha*(_PI/180)),this._setProperty("rotationX",_.beta),this._setProperty("rotationY",_.gamma),this._setProperty("rotationZ",_.alpha),this._handleMotion()},c.default.prototype._ondevicemotion=function(_){this._updatePAccelerations(),this._setProperty("accelerationX",2*_.acceleration.x),this._setProperty("accelerationY",2*_.acceleration.y),this._setProperty("accelerationZ",2*_.acceleration.z),this._handleMotion()},c.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var _,E,C=this._isGlobal?window:this;if(typeof C.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>v||Math.abs(this.accelerationY-this.pAccelerationY)>v||Math.abs(this.accelerationZ-this.pAccelerationZ)>v)&&C.deviceMoved(),typeof C.deviceTurned=="function"){var A=this.rotationX+180,O=this.pRotationX+180,I=p+180;0<A-O&&A-O<270||A-O<-270?s="clockwise":(A-O<0||270<A-O)&&(s="counter-clockwise"),s!==this.pRotateDirectionX&&(I=A),90<Math.abs(A-I)&&Math.abs(A-I)<270&&(I=A,this._setProperty("turnAxis","X"),C.deviceTurned()),this.pRotateDirectionX=s,p=I-180;var R=this.rotationY+180,L=this.pRotationY+180,U=o+180;0<R-L&&R-L<270||R-L<-270?a="clockwise":(R-L<0||270<R-this.pRotationY)&&(a="counter-clockwise"),a!==this.pRotateDirectionY&&(U=R),90<Math.abs(R-U)&&Math.abs(R-U)<270&&(U=R,this._setProperty("turnAxis","Y"),C.deviceTurned()),this.pRotateDirectionY=a,o=U-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?l="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(l="counter-clockwise"),l!==this.pRotateDirectionZ&&(n=this.rotationZ),90<Math.abs(this.rotationZ-n)&&Math.abs(this.rotationZ-n)<270&&(n=this.rotationZ,this._setProperty("turnAxis","Z"),C.deviceTurned()),this.pRotateDirectionZ=l,this._setProperty("turnAxis",void 0)}typeof C.deviceShaken=="function"&&(this.pAccelerationX!==null&&(_=Math.abs(this.accelerationX-this.pAccelerationX),E=Math.abs(this.accelerationY-this.pAccelerationY)),w<_+E&&C.deviceShaken())};var x=c.default;d.default=x},{"../core/constants":253,"../core/main":264}],282:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.prototype.isKeyPressed=!1,t.default.prototype.keyIsPressed=!1,t.default.prototype.key="",t.default.prototype.keyCode=0,t.default.prototype._onkeydown=function(h){if(!this._downKeys[h.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",h.which),this._downKeys[h.which]=!0,this._setProperty("key",h.key||String.fromCharCode(h.which)||h.which);var g=this._isGlobal?window:this;typeof g.keyPressed=="function"&&!h.charCode&&g.keyPressed(h)===!1&&h.preventDefault()}},t.default.prototype._onkeyup=function(h){this._downKeys[h.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",h.key||String.fromCharCode(h.which)||h.which),this._setProperty("keyCode",h.which);var g=this._isGlobal?window:this;typeof g.keyReleased=="function"&&g.keyReleased(h)===!1&&h.preventDefault()},t.default.prototype._onkeypress=function(h){if(h.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",h.which),this._setProperty("key",h.key||String.fromCharCode(h.which)||h.which);var g=this._isGlobal?window:this;typeof g.keyTyped=="function"&&g.keyTyped(h)===!1&&h.preventDefault()}},t.default.prototype._onblur=function(h){this._downKeys={}},t.default.prototype.keyIsDown=function(h){return t.default._validateParameters("keyIsDown",arguments),this._downKeys[h]||!1},t.default.prototype._areDownKeys=function(){for(var h in this._downKeys)if(this._downKeys.hasOwnProperty(h)&&this._downKeys[h]===!0)return!0;return!1};var c=t.default;d.default=c},{"../core/main":264}],283:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=g();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}c.default.prototype.movedX=0,c.default.prototype.movedY=0,c.default.prototype._hasMouseInteracted=!1,c.default.prototype.mouseX=0,c.default.prototype.mouseY=0,c.default.prototype.pmouseX=0,c.default.prototype.pmouseY=0,c.default.prototype.winMouseX=0,c.default.prototype.winMouseY=0,c.default.prototype.pwinMouseX=0,c.default.prototype.pwinMouseY=0,c.default.prototype.mouseButton=0,c.default.prototype.mouseIsPressed=!1,c.default.prototype._updateNextMouseCoords=function(o){if(this._curElement!==null&&(!o.touches||0<o.touches.length)){var n=function(s,a,l,v){v&&!v.clientX&&(v.touches?v=v.touches[0]:v.changedTouches&&(v=v.changedTouches[0]));var w=s.getBoundingClientRect(),x=s.scrollWidth/a||1,_=s.scrollHeight/l||1;return{x:(v.clientX-w.left)/x,y:(v.clientY-w.top)/_,winX:v.clientX,winY:v.clientY,id:v.identifier}}(this._curElement.elt,this.width,this.height,o);this._setProperty("movedX",o.movementX),this._setProperty("movedY",o.movementY),this._setProperty("mouseX",n.x),this._setProperty("mouseY",n.y),this._setProperty("winMouseX",n.winX),this._setProperty("winMouseY",n.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},c.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},c.default.prototype._setMouseButton=function(o){o.button===1?this._setProperty("mouseButton",h.CENTER):o.button===2?this._setProperty("mouseButton",h.RIGHT):this._setProperty("mouseButton",h.LEFT)},c.default.prototype._onmousemove=function(o){var n=this._isGlobal?window:this;this._updateNextMouseCoords(o),this.mouseIsPressed?typeof n.mouseDragged=="function"?n.mouseDragged(o)===!1&&o.preventDefault():typeof n.touchMoved=="function"&&n.touchMoved(o)===!1&&o.preventDefault():typeof n.mouseMoved=="function"&&n.mouseMoved(o)===!1&&o.preventDefault()},c.default.prototype._onmousedown=function(o){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(o),this._updateNextMouseCoords(o),typeof n.mousePressed=="function"?n.mousePressed(o)===!1&&o.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof n.touchStarted=="function"&&n.touchStarted(o)===!1&&o.preventDefault()},c.default.prototype._onmouseup=function(o){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof n.mouseReleased=="function"?n.mouseReleased(o)===!1&&o.preventDefault():typeof n.touchEnded=="function"&&n.touchEnded(o)===!1&&o.preventDefault()},c.default.prototype._ondragend=c.default.prototype._onmouseup,c.default.prototype._ondragover=c.default.prototype._onmousemove,c.default.prototype._onclick=function(o){var n=this._isGlobal?window:this;typeof n.mouseClicked=="function"&&n.mouseClicked(o)===!1&&o.preventDefault()},c.default.prototype._ondblclick=function(o){var n=this._isGlobal?window:this;typeof n.doubleClicked=="function"&&n.doubleClicked(o)===!1&&o.preventDefault()},c.default.prototype._mouseWheelDeltaY=0,c.default.prototype._pmouseWheelDeltaY=0,c.default.prototype._onwheel=function(o){var n=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",o.deltaY),typeof n.mouseWheel=="function"&&(o.delta=o.deltaY,n.mouseWheel(o)===!1&&o.preventDefault())},c.default.prototype.requestPointerLock=function(){var o=this._curElement.elt;return o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock,o.requestPointerLock?(o.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},c.default.prototype.exitPointerLock=function(){document.exitPointerLock()};var p=c.default;d.default=p},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],284:[function(e,m,d){e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};function c(g,p,o,n,s){var a=4<arguments.length&&s!==void 0?s:0,l=g.getBoundingClientRect(),v=g.scrollWidth/p||1,w=g.scrollHeight/o||1,x=n.touches[a]||n.changedTouches[a];return{x:(x.clientX-l.left)/v,y:(x.clientY-l.top)/w,winX:x.clientX,winY:x.clientY,id:x.identifier}}t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(g){if(this._curElement!==null){for(var p=[],o=0;o<g.touches.length;o++)p[o]=c(this._curElement.elt,this.width,this.height,g,o);this._setProperty("touches",p)}},t.default.prototype._ontouchstart=function(g){var p=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(g),this._updateNextMouseCoords(g),this._updateMouseCoords(),typeof p.touchStarted=="function"?p.touchStarted(g)===!1&&g.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof p.mousePressed=="function"&&p.mousePressed(g)===!1&&g.preventDefault()},t.default.prototype._ontouchmove=function(g){var p=this._isGlobal?window:this;this._updateTouchCoords(g),this._updateNextMouseCoords(g),typeof p.touchMoved=="function"?p.touchMoved(g)===!1&&g.preventDefault():typeof p.mouseDragged=="function"&&p.mouseDragged(g)===!1&&g.preventDefault()},t.default.prototype._ontouchend=function(g){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(g),this._updateNextMouseCoords(g);var p=this._isGlobal?window:this;typeof p.touchEnded=="function"?p.touchEnded(g)===!1&&g.preventDefault():typeof p.mouseReleased=="function"&&p.mouseReleased(g)===!1&&g.preventDefault()};var h=t.default;d.default=h},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],285:[function(e,m,d){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t,c,h,g={};function p(n,s){for(var a,l,v,w,x,_,E,C,A,O,I=g._toPixels(n),R=n.width,L=n.height,U=R*L,D=new Int32Array(U),H=0;H<U;H++)D[H]=g._getARGB(I,H);var W,ae,le,J,ue=new Int32Array(U),se=new Int32Array(U),me=new Int32Array(U),xe=new Int32Array(U),Ce=0;for(function(De){var _e=3.5*De|0;if(f!==(_e=_e<1?1:_e<248?_e:248)){t=1+(f=_e)<<1,c=new Int32Array(t),h=new Array(t);for(var Se=0;Se<t;Se++)h[Se]=new Int32Array(256);for(var P,G,X,ee,B=1,N=_e-1;B<_e;B++){c[_e+B]=c[N]=G=N*N,X=h[_e+B],ee=h[N--];for(var re=0;re<256;re++)X[re]=ee[re]=G*re}P=c[_e]=_e*_e,X=h[_e];for(var $=0;$<256;$++)X[$]=P*$}}(s),ae=0;ae<L;ae++){for(W=0;W<R;W++){if(w=v=l=x=a=0,(_=W-f)<0)O=-_,_=0;else{if(R<=_)break;O=0}for(le=O;le<t&&!(R<=_);le++){var ve=D[_+Ce];x+=(J=h[le])[(-16777216&ve)>>>24],l+=J[(16711680&ve)>>16],v+=J[(65280&ve)>>8],w+=J[255&ve],a+=c[le],_++}ue[E=Ce+W]=x/a,se[E]=l/a,me[E]=v/a,xe[E]=w/a}Ce+=R}for(A=(C=-f)*R,ae=Ce=0;ae<L;ae++){for(W=0;W<R;W++){if(w=v=l=x=a=0,C<0)O=E=-C,_=W;else{if(L<=C)break;O=0,E=C,_=W+A}for(le=O;le<t&&!(L<=E);le++)x+=(J=h[le])[ue[_]],l+=J[se[_]],v+=J[me[_]],w+=J[xe[_]],a+=c[le],E++,_+=R;D[W+Ce]=x/a<<24|l/a<<16|v/a<<8|w/a}Ce+=R,A+=R,C++}g._setPixels(I,D)}g._toPixels=function(n){if(n instanceof ImageData)return n.data;if(n.getContext("2d"))return n.getContext("2d").getImageData(0,0,n.width,n.height).data;if(n.getContext("webgl")){var s=n.getContext("webgl"),a=s.drawingBufferWidth*s.drawingBufferHeight*4,l=new Uint8Array(a);return s.readPixels(0,0,n.width,n.height,s.RGBA,s.UNSIGNED_BYTE,l),l}},g._getARGB=function(n,s){var a=4*s;return n[3+a]<<24&4278190080|n[a]<<16&16711680|n[1+a]<<8&65280|255&n[2+a]},g._setPixels=function(n,s){for(var a=0,l=0,v=n.length;l<v;l++)n[(a=4*l)+0]=(16711680&s[l])>>>16,n[a+1]=(65280&s[l])>>>8,n[a+2]=255&s[l],n[a+3]=(4278190080&s[l])>>>24},g._toImageData=function(n){return n instanceof ImageData?n:n.getContext("2d").getImageData(0,0,n.width,n.height)},g._createImageData=function(n,s){return g._tmpCanvas=document.createElement("canvas"),g._tmpCtx=g._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(n,s)},g.apply=function(n,s,a){var l=n.getContext("2d"),v=l.getImageData(0,0,n.width,n.height),w=s(v,a);w instanceof ImageData?l.putImageData(w,0,0,0,0,n.width,n.height):l.putImageData(v,0,0,0,0,n.width,n.height)},g.threshold=function(n,s){var a=g._toPixels(n);s===void 0&&(s=.5);for(var l=Math.floor(255*s),v=0;v<a.length;v+=4){var w=void 0;w=l<=.2126*a[v]+.7152*a[v+1]+.0722*a[v+2]?255:0,a[v]=a[v+1]=a[v+2]=w}},g.gray=function(n){for(var s=g._toPixels(n),a=0;a<s.length;a+=4){var l=.2126*s[a]+.7152*s[a+1]+.0722*s[a+2];s[a]=s[a+1]=s[a+2]=l}},g.opaque=function(n){for(var s=g._toPixels(n),a=0;a<s.length;a+=4)s[a+3]=255;return s},g.invert=function(n){for(var s=g._toPixels(n),a=0;a<s.length;a+=4)s[a]=255-s[a],s[a+1]=255-s[a+1],s[a+2]=255-s[a+2]},g.posterize=function(n,s){var a=g._toPixels(n);if(s<2||255<s)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var l=s-1,v=0;v<a.length;v+=4){var w=a[v],x=a[v+1],_=a[v+2];a[v]=255*(w*s>>8)/l,a[v+1]=255*(x*s>>8)/l,a[v+2]=255*(_*s>>8)/l}},g.dilate=function(n){for(var s,a,l,v,w,x,_,E,C,A,O,I,R,L,U,D,H,W=g._toPixels(n),ae=0,le=W.length?W.length/4:0,J=new Int32Array(le);ae<le;)for(a=(s=ae)+n.width;ae<a;)l=v=g._getARGB(W,ae),(_=ae-1)<s&&(_=ae),a<=(x=ae+1)&&(x=ae),(E=ae-n.width)<0&&(E=0),le<=(C=ae+n.width)&&(C=ae),I=g._getARGB(W,E),O=g._getARGB(W,_),R=g._getARGB(W,C),(w=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<(U=77*(O>>16&255)+151*(O>>8&255)+28*(255&O))&&(v=O,w=U),w<(L=77*((A=g._getARGB(W,x))>>16&255)+151*(A>>8&255)+28*(255&A))&&(v=A,w=L),w<(D=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))&&(v=I,w=D),w<(H=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))&&(v=R,w=H),J[ae++]=v;g._setPixels(W,J)},g.erode=function(n){for(var s,a,l,v,w,x,_,E,C,A,O,I,R,L,U,D,H,W=g._toPixels(n),ae=0,le=W.length?W.length/4:0,J=new Int32Array(le);ae<le;)for(a=(s=ae)+n.width;ae<a;)l=v=g._getARGB(W,ae),(_=ae-1)<s&&(_=ae),a<=(x=ae+1)&&(x=ae),(E=ae-n.width)<0&&(E=0),le<=(C=ae+n.width)&&(C=ae),I=g._getARGB(W,E),O=g._getARGB(W,_),R=g._getARGB(W,C),(U=77*(O>>16&255)+151*(O>>8&255)+28*(255&O))<(w=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(v=O,w=U),(L=77*((A=g._getARGB(W,x))>>16&255)+151*(A>>8&255)+28*(255&A))<w&&(v=A,w=L),(D=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))<w&&(v=I,w=D),(H=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))<w&&(v=R,w=H),J[ae++]=v;g._setPixels(W,J)},g.blur=function(n,s){p(n,s)};var o=g;d.default=o},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],286:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f=c(e("../core/main")),t=c(e("omggif"));function c(p){return p&&p.__esModule?p:{default:p}}function h(p){return function(o){if(Array.isArray(o)){for(var n=0,s=new Array(o.length);n<o.length;n++)s[n]=o[n];return s}}(p)||function(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.createImage=function(p,o){return f.default._validateParameters("createImage",arguments),new f.default.Image(p,o)},f.default.prototype.saveCanvas=function(){f.default._validateParameters("saveCanvas",arguments);var p,o,n,s,a=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(p=arguments[0],a.shift()):arguments[0]instanceof f.default.Element?(p=arguments[0].elt,a.shift()):p=this._curElement&&this._curElement.elt,1<=a.length&&(o=a[0]),2<=a.length&&(n=a[1]),n=n||f.default.prototype._checkFileExtension(o,n)[1]||"png"){default:s="image/png";break;case"jpeg":case"jpg":s="image/jpeg"}p.toBlob(function(l){f.default.prototype.downloadFile(l,o,n)},s)},f.default.prototype.saveGif=function(p,o){var n=p.gifProperties,s=n.loopLimit;s===1?s=null:s===null&&(s=0);for(var a=new Uint8Array(p.width*p.height*n.numFrames),l=[],v={},w=0;w<n.numFrames;w++){for(var x=new Set,_=n.frames[w].image.data,E=_.length,C=new Uint32Array(p.width*p.height),A=0,O=0;A<E;A+=4,O++){var I=_[A+0]<<16|_[A+1]<<8|_[A+2]<<0;x.add(I),C[O]=I}var R=h(x).sort().toString();v[R]===void 0?v[R]={freq:1,frames:[w]}:(v[R].freq+=1,v[R].frames.push(w)),l.push(C)}var L=[],U=Object.keys(v).sort(function(Se,P){return v[P].freq-v[Se].freq}),D=U[0].split(",").map(function(Se){return parseInt(Se)});L=L.concat(v[D].frames);for(var H=new Set(D),W=1;W<U.length;W++){var ae=U[W].split(",").map(function(Se){return parseInt(Se)}).filter(function(Se){return!H.has(Se)});if(D.length+ae.length<=256){for(var le=0;le<ae.length;le++)D.push(ae[le]),H.add(ae[le]);L=L.concat(v[U[W]].frames)}}L=new Set(L);for(var J={},ue=0;ue<D.length;ue++)J[D[ue]]||(J[D[ue]]=ue);for(var se=1;se<D.length;)se<<=1;D.length=se;for(var me={loop:s,palette:new Uint32Array(D)},xe=new t.default.GifWriter(a,p.width,p.height,me),Ce={},ve=function(Se){for(var P=!L.has(Se),G=P?[]:D,X=new Uint8Array(p.width*p.height),ee={},B=new Set,N=0;N<l[Se].length;N++){var re=l[Se][N];P?(ee[re]===void 0&&(ee[re]=G.length,G.push(re)),X[N]=ee[re]):X[N]=J[re],0<Se&&l[Se-1][N]!==re&&B.add(re)}var $={},ne=G.filter(function(he){return!B.has(he)});if(0<ne.length){var ie=ne[0],oe=P?ee[ie]:J[ie];if(0<Se){for(var pe=0;pe<l[Se].length;pe++)l[Se-1][pe]===l[Se][pe]&&(X[pe]=oe);$.transparent=oe,Ce.frameOpts.disposal=1}}if($.delay=n.frames[Se].delay/10,P){for(var ge=1;ge<G.length;)ge<<=1;G.length=ge,$.palette=new Uint32Array(G)}0<Se&&xe.addFrame(0,0,p.width,p.height,Ce.pixelPaletteIndex,Ce.frameOpts),Ce={pixelPaletteIndex:X,frameOpts:$}},De=0;De<n.numFrames;De++)ve(De);Ce.frameOpts.disposal=1,xe.addFrame(0,0,p.width,p.height,Ce.pixelPaletteIndex,Ce.frameOpts);var _e=new Blob([a.slice(0,xe.end())],{type:"image/gif"});f.default.prototype.downloadFile(_e,o,"gif")},f.default.prototype.saveFrames=function(p,o,n,s,a){f.default._validateParameters("saveFrames",arguments);var l=n||3;l=f.default.prototype.constrain(l,0,15),l*=1e3;var v=s||15;v=f.default.prototype.constrain(v,0,22);var w=0,x=f.default.prototype._makeFrame,_=this._curElement.elt,E=[],C=setInterval(function(){E.push(x(p+w,o,_)),w++},1e3/v);setTimeout(function(){if(clearInterval(C),a)a(E);else{var A=!0,O=!1,I=void 0;try{for(var R,L=E[Symbol.iterator]();!(A=(R=L.next()).done);A=!0){var U=R.value;f.default.prototype.downloadFile(U.imageData,U.filename,U.ext)}}catch(D){O=!0,I=D}finally{try{A||L.return==null||L.return()}finally{if(O)throw I}}}E=[]},l+.01)},f.default.prototype._makeFrame=function(p,o,n){var s,a;if(s=this?this._curElement.elt:n,o)switch(o.toLowerCase()){case"png":a="image/png";break;case"jpeg":case"jpg":a="image/jpeg";break;default:a="image/png"}else o="png",a="image/png";var l=s.toDataURL(a);l=l.replace(a,"image/octet-stream");var v={};return v.imageData=l,v.filename=p,v.ext=o,v};var g=f.default;d.default=g},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,omggif:238}],287:[function(e,m,d){function f(l){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(l)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t=n(e("../core/main")),c=n(e("./filters")),h=n(e("../core/helpers")),g=function(l){if(l&&l.__esModule)return l;if(l===null||f(l)!=="object"&&typeof l!="function")return{default:l};var v=o();if(v&&v.has(l))return v.get(l);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in l)if(Object.prototype.hasOwnProperty.call(l,_)){var E=x?Object.getOwnPropertyDescriptor(l,_):null;E&&(E.get||E.set)?Object.defineProperty(w,_,E):w[_]=l[_]}return w.default=l,v&&v.set(l,w),w}(e("../core/constants")),p=n(e("omggif"));function o(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return o=function(){return l},l}function n(l){return l&&l.__esModule?l:{default:l}}function s(l,v){return 0<l&&l<v?l:v}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),t.default.prototype.loadImage=function(l,v,w){t.default._validateParameters("loadImage",arguments);var x=new t.default.Image(1,1,this),_=this,E=new Request(l,{method:"GET",mode:"cors"});return fetch(l,E).then(function(C){var A=C.headers.get("content-type");if(A===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),A&&A.includes("image/gif"))C.arrayBuffer().then(function(I){I&&function(R,L,U,D,H){var W=new p.default.GifReader(R);L.width=L.canvas.width=W.width,L.height=L.canvas.height=W.height;var ae=[],le=W.numFrames(),J=new Uint8ClampedArray(L.width*L.height*4);if(1<le){for(var ue=function(_e,Se){try{Se.decodeAndBlitFrameRGBA(_e,J)}catch(P){t.default._friendlyFileLoadError(8,L.src),typeof D=="function"?D(P):console.error(P)}},se=0;se<le;se++){var me=W.frameInfo(se),xe=L.drawingContext.getImageData(0,0,L.width,L.height);J=xe.data.slice(),ue(se,W);var Ce=new ImageData(J,L.width,L.height);L.drawingContext.putImageData(Ce,0,0);var ve=me.delay;ve===0&&(ve=10),ae.push({image:L.drawingContext.getImageData(0,0,L.width,L.height),delay:10*ve}),me.disposal===2?L.drawingContext.clearRect(me.x,me.y,me.width,me.height):me.disposal===3&&L.drawingContext.putImageData(xe,0,0,me.x,me.y,me.width,me.height)}var De=W.loopCount();De===null?De=1:De===0&&(De=null),L.drawingContext.putImageData(ae[0].image,0,0),L.gifProperties={displayIndex:0,loopLimit:De,loopCount:0,frames:ae,numFrames:le,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof U=="function"&&U(L),H()}(new Uint8Array(I),x,v,w,function(R){_._decrementPreload()}.bind(_))},function(I){typeof w=="function"?w(I):console.error(I)});else{var O=new Image;O.onload=function(){x.width=x.canvas.width=O.width,x.height=x.canvas.height=O.height,x.drawingContext.drawImage(O,0,0),x.modified=!0,typeof v=="function"&&v(x),_._decrementPreload()},O.onerror=function(I){t.default._friendlyFileLoadError(0,O.src),typeof w=="function"?w(I):console.error(I)},l.indexOf("data:image/")!==0&&(O.crossOrigin="Anonymous"),O.src=l}x.modified=!0}).catch(function(C){t.default._friendlyFileLoadError(0,l),typeof w=="function"?w(C):console.error(C)}),x},t.default.prototype.image=function(l,v,w,x,_,E,C,A,O){t.default._validateParameters("image",arguments);var I=l.width,R=l.height;l.elt&&l.elt.videoWidth&&!l.canvas&&(I=l.elt.videoWidth,R=l.elt.videoHeight);var L=v,U=w,D=x||I,H=_||R,W=E||0,ae=C||0,le=A||I,J=O||R;le=s(le,I),J=s(J,R);var ue=1;l.elt&&!l.canvas&&l.elt.style.width&&(ue=l.elt.videoWidth&&!x?l.elt.videoWidth:l.elt.width,ue/=parseInt(l.elt.style.width,10)),W*=ue,ae*=ue,J*=ue,le*=ue;var se=h.default.modeAdjust(L,U,D,H,this._renderer._imageMode);this._renderer.image(l,W,ae,le,J,se.x,se.y,se.w,se.h)},t.default.prototype.tint=function(){for(var l=arguments.length,v=new Array(l),w=0;w<l;w++)v[w]=arguments[w];t.default._validateParameters("tint",v);var x=this.color.apply(this,v);this._renderer._tint=x.levels},t.default.prototype.noTint=function(){this._renderer._tint=null},t.default.prototype._getTintedImageCanvas=function(l){if(!l.canvas)return l;var v=c.default._toPixels(l.canvas),w=document.createElement("canvas");w.width=l.canvas.width,w.height=l.canvas.height;for(var x=w.getContext("2d"),_=x.createImageData(l.canvas.width,l.canvas.height),E=_.data,C=0;C<v.length;C+=4){var A=v[C],O=v[C+1],I=v[C+2],R=v[C+3];E[C]=A*this._renderer._tint[0]/255,E[C+1]=O*this._renderer._tint[1]/255,E[C+2]=I*this._renderer._tint[2]/255,E[C+3]=R*this._renderer._tint[3]/255}return x.putImageData(_,0,0),w},t.default.prototype.imageMode=function(l){t.default._validateParameters("imageMode",arguments),l!==g.CORNER&&l!==g.CORNERS&&l!==g.CENTER||(this._renderer._imageMode=l)};var a=t.default;d.default=a},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/helpers":260,"../core/main":264,"./filters":285,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.includes":185,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,omggif:238}],288:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f=c(e("../core/main")),t=c(e("./filters"));function c(g){return g&&g.__esModule?g:{default:g}}f.default.Image=function(g,p){this.width=g,this.height=p,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},f.default.Image.prototype._animateGif=function(g){var p=this.gifProperties,o=g._lastFrameTime;if(p.lastChangeTime===0&&(p.lastChangeTime=o),p.playing){p.timeDisplayed=o-p.lastChangeTime;var n=p.frames[p.displayIndex].delay;if(p.timeDisplayed>=n){var s=Math.floor(p.timeDisplayed/n);if(p.timeDisplayed=0,p.lastChangeTime=o,p.displayIndex+=s,p.loopCount=Math.floor(p.displayIndex/p.numFrames),p.loopLimit!==null&&p.loopCount>=p.loopLimit)p.playing=!1;else{var a=p.displayIndex%p.numFrames;this.drawingContext.putImageData(p.frames[a].image,0,0),p.displayIndex=a,this.setModified(!0)}}}},f.default.Image.prototype._setProperty=function(g,p){this[g]=p,this.setModified(!0)},f.default.Image.prototype.loadPixels=function(){f.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},f.default.Image.prototype.updatePixels=function(g,p,o,n){f.default.Renderer2D.prototype.updatePixels.call(this,g,p,o,n),this.setModified(!0)},f.default.Image.prototype.get=function(g,p,o,n){return f.default._validateParameters("p5.Image.get",arguments),f.default.Renderer2D.prototype.get.apply(this,arguments)},f.default.Image.prototype._getPixel=f.default.Renderer2D.prototype._getPixel,f.default.Image.prototype.set=function(g,p,o){f.default.Renderer2D.prototype.set.call(this,g,p,o),this.setModified(!0)},f.default.Image.prototype.resize=function(g,p){g===0&&p===0?(g=this.canvas.width,p=this.canvas.height):g===0?g=this.canvas.width*p/this.canvas.height:p===0&&(p=this.canvas.height*g/this.canvas.width),g=Math.floor(g),p=Math.floor(p);var o=document.createElement("canvas");if(o.width=g,o.height=p,this.gifProperties)for(var n=this.gifProperties,s=function(v,w){for(var x=0,_=0;_<w.height;_++)for(var E=0;E<w.width;E++){var C=Math.floor(E*v.width/w.width),A=4*(Math.floor(_*v.height/w.height)*v.width+C);w.data[x++]=v.data[A++],w.data[x++]=v.data[A++],w.data[x++]=v.data[A++],w.data[x++]=v.data[A++]}},a=0;a<n.numFrames;a++){var l=this.drawingContext.createImageData(g,p);s(n.frames[a].image,l),n.frames[a].image=l}o.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,o.width,o.height),this.canvas.width=this.width=g,this.canvas.height=this.height=p,this.drawingContext.drawImage(o,0,0,g,p,0,0,g,p),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},f.default.Image.prototype.copy=function(){for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];f.default.prototype.copy.apply(this,p)},f.default.Image.prototype.mask=function(g){g===void 0&&(g=this);var p=this.drawingContext.globalCompositeOperation,o=1;g instanceof f.default.Renderer&&(o=g._pInst._pixelDensity);var n=[g,0,0,o*g.width,o*g.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",f.default.Image.prototype.copy.apply(this,n),this.drawingContext.globalCompositeOperation=p,this.setModified(!0)},f.default.Image.prototype.filter=function(g,p){t.default.apply(this.canvas,t.default[g],p),this.setModified(!0)},f.default.Image.prototype.blend=function(){for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];f.default._validateParameters("p5.Image.blend",arguments),f.default.prototype.blend.apply(this,p),this.setModified(!0)},f.default.Image.prototype.setModified=function(g){this._modified=g},f.default.Image.prototype.isModified=function(){return this._modified},f.default.Image.prototype.save=function(g,p){this.gifProperties?f.default.prototype.saveGif(this,g):f.default.prototype.saveCanvas(this.canvas,g,p)},f.default.Image.prototype.reset=function(){if(this.gifProperties){var g=this.gifProperties;g.playing=!0,g.timeSinceStart=0,g.timeDisplayed=0,g.lastChangeTime=0,g.loopCount=0,g.displayIndex=0,this.drawingContext.putImageData(g.frames[0].image,0,0)}},f.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var g=this.gifProperties;return g.displayIndex%g.numFrames}},f.default.Image.prototype.setFrame=function(g){if(this.gifProperties){var p=this.gifProperties;g<p.numFrames&&0<=g?(p.timeDisplayed=0,p.lastChangeTime=0,p.displayIndex=g,this.drawingContext.putImageData(p.frames[g].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},f.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},f.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},f.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},f.default.Image.prototype.delay=function(g,p){if(this.gifProperties){var o=this.gifProperties;if(p<o.numFrames&&0<=p)o.frames[p].delay=g;else{var n=!0,s=!1,a=void 0;try{for(var l,v=o.frames[Symbol.iterator]();!(n=(l=v.next()).done);n=!0)l.value.delay=g}catch(w){s=!0,a=w}finally{try{n||v.return==null||v.return()}finally{if(s)throw a}}}}};var h=f.default.Image;d.default=h},{"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],289:[function(e,m,d){e("core-js/modules/es.array.filter"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f=c(e("../core/main")),t=c(e("./filters"));function c(g){return g&&g.__esModule?g:{default:g}}e("../color/p5.Color"),f.default.prototype.pixels=[],f.default.prototype.blend=function(){for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];var n;f.default._validateParameters("blend",p),this._renderer?(n=this._renderer).blend.apply(n,p):f.default.Renderer2D.prototype.blend.apply(this,p)},f.default.prototype.copy=function(){for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];var n,s,a,l,v,w,x,_,E;if(f.default._validateParameters("copy",p),p.length===9)n=p[0],s=p[1],a=p[2],l=p[3],v=p[4],w=p[5],x=p[6],_=p[7],E=p[8];else{if(p.length!==8)throw new Error("Signature not supported");n=this,s=p[0],a=p[1],l=p[2],v=p[3],w=p[4],x=p[5],_=p[6],E=p[7]}f.default.prototype._copyHelper(this,n,s,a,l,v,w,x,_,E)},f.default.prototype._copyHelper=function(g,p,o,n,s,a,l,v,w,x){p.loadPixels();var _=p.canvas.width/p.width,E=0,C=0;p._renderer&&p._renderer.isP3D&&(E=p.width/2,C=p.height/2),g._renderer&&g._renderer.isP3D?f.default.RendererGL.prototype.image.call(g._renderer,p,o+E,n+C,s,a,l,v,w,x):g.drawingContext.drawImage(p.canvas,_*(o+E),_*(n+C),_*s,_*a,l,v,w,x)},f.default.prototype.filter=function(g,p){f.default._validateParameters("filter",arguments),this.canvas!==void 0?t.default.apply(this.canvas,t.default[g],p):t.default.apply(this.elt,t.default[g],p)},f.default.prototype.get=function(g,p,o,n){var s;return f.default._validateParameters("get",arguments),(s=this._renderer).get.apply(s,arguments)},f.default.prototype.loadPixels=function(){for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];f.default._validateParameters("loadPixels",p),this._renderer.loadPixels()},f.default.prototype.set=function(g,p,o){this._renderer.set(g,p,o)},f.default.prototype.updatePixels=function(g,p,o,n){f.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(g,p,o,n)};var h=f.default;d.default=h},{"../color/p5.Color":251,"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152}],290:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f=h(e("../core/main"));e("whatwg-fetch"),e("es6-promise/auto");var t=h(e("fetch-jsonp")),c=h(e("file-saver"));function h(a){return a&&a.__esModule?a:{default:a}}function g(a){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function p(a,l){var v={};if((l=l||[])===void 0)for(var w=0;w<a.length;w++)l[w.toString()]=w;for(var x=0;x<l.length;x++){var _=l[x],E=a[x];v[_]=E}return v}function o(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function n(a,l){l&&l!==!0&&l!=="true"||(l="");var v="";return(a=a||"untitled")&&a.includes(".")&&(v=a.split(".").pop()),l&&v!==l&&(v=l,a="".concat(a,".").concat(v)),[a,v]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),f.default.prototype.loadJSON=function(){for(var a=arguments.length,l=new Array(a),v=0;v<a;v++)l[v]=arguments[v];f.default._validateParameters("loadJSON",l);for(var w,x,_,E=l[0],C={},A="json",O=1;O<l.length;O++){var I=l[O];typeof I=="string"?I!=="jsonp"&&I!=="json"||(A=I):typeof I=="function"?w?x=I:w=I:g(I)==="object"&&(I.hasOwnProperty("jsonpCallback")||I.hasOwnProperty("jsonpCallbackFunction"))&&(A="jsonp",_=I)}var R=this;return this.httpDo(E,"GET",_,A,function(L){for(var U in L)C[U]=L[U];w!==void 0&&w(L),R._decrementPreload()},function(L){if(f.default._friendlyFileLoadError(5,E),!x)throw L;x(L)}),C},f.default.prototype.loadStrings=function(){for(var a=arguments.length,l=new Array(a),v=0;v<a;v++)l[v]=arguments[v];f.default._validateParameters("loadStrings",l);for(var w,x,_=[],E=1;E<l.length;E++){var C=l[E];typeof C=="function"&&(w===void 0?w=C:x===void 0&&(x=C))}var A=this;return f.default.prototype.httpDo.call(this,l[0],"GET","text",function(O){for(var I=O.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),R=0,L=I.length;R<L;R+=32768)Array.prototype.push.apply(_,I.slice(R,Math.min(R+32768,L)));w!==void 0&&w(_),A._decrementPreload()},function(O){if(f.default._friendlyFileLoadError(3,O),!x)throw O;x(O)}),_},f.default.prototype.loadTable=function(a){var l,v,w,x=!1,_=a.substring(a.lastIndexOf(".")+1,a.length);_==="csv"?w=",":_==="ssv"?w=";":_==="tsv"&&(w="	");for(var E=1;E<arguments.length;E++)typeof arguments[E]=="function"?l===void 0?l=arguments[E]:v===void 0&&(v=arguments[E]):typeof arguments[E]=="string"&&(arguments[E]==="header"&&(x=!0),arguments[E]==="csv"?w=",":arguments[E]==="ssv"?w=";":arguments[E]==="tsv"&&(w="	"));var C=new f.default.Table,A=this;return this.httpDo(a,"GET","table",function(O){for(var I,R,L={},U=[],D=0,H=null,W=function(){L.currentState=0,L.token=""},ae=function(){H.push(L.token),W()},le=function(){L.currentState=4,U.push(H),H=null};;){if((I=O[D++])==null){if(L.escaped)throw new Error("Unclosed quote in file.");if(H){ae(),le();break}}if(H===null&&(L.escaped=!1,H=[],W()),L.currentState===0){if(I==='"'){L.escaped=!0,L.currentState=1;continue}L.currentState=1}if(L.currentState===1&&L.escaped)if(I==='"')O[D]==='"'?(L.token+='"',D++):(L.escaped=!1,L.currentState=2);else{if(I==="\r")continue;L.token+=I}else I==="\r"?(O[D]===`
`&&D++,ae(),le()):I===`
`?(ae(),le()):I===w?ae():L.currentState===1&&(L.token+=I)}if(x)C.columns=U.shift();else for(var J=0;J<U[0].length;J++)C.columns[J]="null";for(var ue=0;ue<U.length;ue++)(U[ue].length!==1||U[ue][0]!=="undefined"&&U[ue][0]!=="")&&((R=new f.default.TableRow).arr=U[ue],R.obj=p(U[ue],C.columns),C.addRow(R));typeof l=="function"&&l(C),A._decrementPreload()},function(O){f.default._friendlyFileLoadError(2,a),v?v(O):console.error(O)}),C},f.default.prototype.loadXML=function(){for(var a=arguments.length,l=new Array(a),v=0;v<a;v++)l[v]=arguments[v];for(var w,x,_=new f.default.XML,E=1;E<l.length;E++){var C=l[E];typeof C=="function"&&(w===void 0?w=C:x===void 0&&(x=C))}var A=this;return this.httpDo(l[0],"GET","xml",function(O){for(var I in O)_[I]=O[I];w!==void 0&&w(_),A._decrementPreload()},function(O){if(f.default._friendlyFileLoadError(1,O),!x)throw O;x(O)}),_},f.default.prototype.loadBytes=function(a,l,v){var w={},x=this;return this.httpDo(a,"GET","arrayBuffer",function(_){w.bytes=new Uint8Array(_),typeof l=="function"&&l(w),x._decrementPreload()},function(_){if(f.default._friendlyFileLoadError(6,a),!v)throw _;v(_)}),w},f.default.prototype.httpGet=function(){f.default._validateParameters("httpGet",arguments);var a=Array.prototype.slice.call(arguments);return a.splice(1,0,"GET"),f.default.prototype.httpDo.apply(this,a)},f.default.prototype.httpPost=function(){f.default._validateParameters("httpPost",arguments);var a=Array.prototype.slice.call(arguments);return a.splice(1,0,"POST"),f.default.prototype.httpDo.apply(this,a)},f.default.prototype.httpDo=function(){for(var a,l,v,w,x,_={},E=0,C="text/plain",A=arguments.length-1;0<A&&typeof(A<0||arguments.length<=A?void 0:arguments[A])=="function";A--)E++;var O=arguments.length<=0?void 0:arguments[0];if(arguments.length-E==2&&typeof O=="string"&&g(arguments.length<=1?void 0:arguments[1])==="object")w=new Request(O,arguments.length<=1?void 0:arguments[1]),l=arguments.length<=2?void 0:arguments[2],v=arguments.length<=3?void 0:arguments[3];else{for(var I,R="GET",L=1;L<arguments.length;L++){var U=L<0||arguments.length<=L?void 0:arguments[L];if(typeof U=="string")U==="GET"||U==="POST"||U==="PUT"||U==="DELETE"?R=U:U==="json"||U==="jsonp"||U==="binary"||U==="arrayBuffer"||U==="xml"||U==="text"||U==="table"?a=U:I=U;else if(typeof U=="number")I=U.toString();else if(g(U)==="object")if(U.hasOwnProperty("jsonpCallback")||U.hasOwnProperty("jsonpCallbackFunction"))for(var D in U)_[D]=U[D];else C=U instanceof f.default.XML?(I=U.serialize(),"application/xml"):(I=JSON.stringify(U),"application/json");else typeof U=="function"&&(l?v=U:l=U)}var H=R==="GET"?new Headers:new Headers({"Content-Type":C});w=new Request(O,{method:R,mode:"cors",body:I,headers:H})}return(x=(x=(a=a||(O.includes("json")?"json":O.includes("xml")?"xml":"text"))==="jsonp"?(0,t.default)(O,_):fetch(w)).then(function(W){if(!W.ok){var ae=new Error(W.body);throw ae.status=W.status,ae.ok=!1,ae}var le=0;switch(a!=="jsonp"&&(le=W.headers.get("content-length")),le&&64e6<le&&f.default._friendlyFileLoadError(7,O),a){case"json":case"jsonp":return W.json();case"binary":return W.blob();case"arrayBuffer":return W.arrayBuffer();case"xml":return W.text().then(function(J){var ue=new DOMParser().parseFromString(J,"text/xml");return new f.default.XML(ue.documentElement)});default:return W.text()}})).then(l||function(){}),x.catch(v||console.error),x},window.URL=window.URL||window.webkitURL,f.default.prototype._pWriters=[],f.default.prototype.createWriter=function(a,l){var v;for(var w in f.default.prototype._pWriters)if(f.default.prototype._pWriters[w].name===a)return v=new f.default.PrintWriter(a+this.millis(),l),f.default.prototype._pWriters.push(v),v;return v=new f.default.PrintWriter(a,l),f.default.prototype._pWriters.push(v),v},f.default.PrintWriter=function(a,l){var v=this;this.name=a,this.content="",this.write=function(w){this.content+=w},this.print=function(w){this.content+="".concat(w,`
`)},this.clear=function(){this.content=""},this.close=function(){var w=[];for(var x in w.push(this.content),f.default.prototype.writeFile(w,a,l),f.default.prototype._pWriters)f.default.prototype._pWriters[x].name===this.name&&f.default.prototype._pWriters.splice(x,1);v.clear(),v={}}},f.default.prototype.save=function(a,l,v){var w=arguments,x=this._curElement?this._curElement.elt:this.elt;if(w.length!==0)if(w[0]instanceof f.default.Renderer||w[0]instanceof f.default.Graphics)f.default.prototype.saveCanvas(w[0].elt,w[1],w[2]);else if(w.length===1&&typeof w[0]=="string")f.default.prototype.saveCanvas(x,w[0]);else switch(n(w[1],w[2])[1]){case"json":return void f.default.prototype.saveJSON(w[0],w[1],w[2]);case"txt":return void f.default.prototype.saveStrings(w[0],w[1],w[2]);default:w[0]instanceof Array?f.default.prototype.saveStrings(w[0],w[1],w[2]):w[0]instanceof f.default.Table?f.default.prototype.saveTable(w[0],w[1],w[2]):w[0]instanceof f.default.Image?f.default.prototype.saveCanvas(w[0].canvas,w[1]):w[0]instanceof f.default.SoundFile&&f.default.prototype.saveSound(w[0],w[1],w[2],w[3])}else f.default.prototype.saveCanvas(x)},f.default.prototype.saveJSON=function(a,l,v){var w;f.default._validateParameters("saveJSON",arguments),w=v?JSON.stringify(a):JSON.stringify(a,void 0,2),this.saveStrings(w.split(`
`),l,"json")},f.default.prototype.saveJSONObject=f.default.prototype.saveJSON,f.default.prototype.saveJSONArray=f.default.prototype.saveJSON,f.default.prototype.saveStrings=function(a,l,v,w){f.default._validateParameters("saveStrings",arguments);for(var x=v||"txt",_=this.createWriter(l,x),E=0;E<a.length;E++)w?_.write(a[E]+`\r
`):_.write(a[E]+`
`);_.close(),_.clear()},f.default.prototype.saveTable=function(a,l,v){var w;f.default._validateParameters("saveTable",arguments),w=v===void 0?l.substring(l.lastIndexOf(".")+1,l.length):v;var x=this.createWriter(l,w),_=a.columns,E=",";if(w==="tsv"&&(E="	"),w!=="html"){if(_[0]!=="0"){for(var C=0;C<_.length;C++)C<_.length-1?x.write(_[C]+E):x.write(_[C]);x.write(`
`)}for(var A=0;A<a.rows.length;A++){var O=void 0;for(O=0;O<a.rows[A].arr.length;O++)O<a.rows[A].arr.length-1?w==="csv"&&String(a.rows[A].arr[O]).includes(",")?x.write('"'+a.rows[A].arr[O]+'"'+E):x.write(a.rows[A].arr[O]+E):w==="csv"&&String(a.rows[A].arr[O]).includes(",")?x.write('"'+a.rows[A].arr[O]+'"'):x.write(a.rows[A].arr[O]);x.write(`
`)}}else{if(x.print("<html>"),x.print("<head>"),x.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),x.print("</head>"),x.print("<body>"),x.print("  <table>"),_[0]!=="0"){x.print("    <tr>");for(var I=0;I<_.length;I++){var R=o(_[I]);x.print("      <td>".concat(R)),x.print("      </td>")}x.print("    </tr>")}for(var L=0;L<a.rows.length;L++){x.print("    <tr>");for(var U=0;U<a.columns.length;U++){var D=o(a.rows[L].getString(U));x.print("      <td>".concat(D)),x.print("      </td>")}x.print("    </tr>")}x.print("  </table>"),x.print("</body>"),x.print("</html>")}x.close(),x.clear()},f.default.prototype.writeFile=function(a,l,v){var w="application/octet-stream";f.default.prototype._isSafari()&&(w="text/plain");var x=new Blob(a,{type:w});f.default.prototype.downloadFile(x,l,v)},f.default.prototype.downloadFile=function(a,l,v){var w=n(l,v),x=w[0];if(a instanceof Blob)c.default.saveAs(a,x);else{var _=document.createElement("a");if(_.href=a,_.download=x,_.onclick=function(C){var A;A=C,document.body.removeChild(A.target),C.stopPropagation()},_.style.display="none",document.body.appendChild(_),f.default.prototype._isSafari()){var E=`Hello, Safari user! To download this file...
`;E+=`1. Go to File --> Save As.
`,E+=`2. Choose "Page Source" as the Format.
`,E+='3. Name it with this extension: ."'.concat(w[1],'"'),alert(E)}_.click()}},f.default.prototype._checkFileExtension=n,f.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")};var s=f.default;d.default=s},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231,"es6-promise/auto":232,"fetch-jsonp":234,"file-saver":235,"whatwg-fetch":242}],291:[function(e,m,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.Table=function(h){this.columns=[],this.rows=[]},t.default.Table.prototype.addRow=function(h){var g=h||new t.default.TableRow;if(g.arr===void 0||g.obj===void 0)throw new Error("invalid TableRow: ".concat(g));return(g.table=this).rows.push(g),g},t.default.Table.prototype.removeRow=function(h){this.rows[h].table=null;var g=this.rows.splice(h+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(g)},t.default.Table.prototype.getRow=function(h){return this.rows[h]},t.default.Table.prototype.getRows=function(){return this.rows},t.default.Table.prototype.findRow=function(h,g){if(typeof g=="string"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].obj[g]===h)return this.rows[p]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].arr[g]===h)return this.rows[o];return null},t.default.Table.prototype.findRows=function(h,g){var p=[];if(typeof g=="string")for(var o=0;o<this.rows.length;o++)this.rows[o].obj[g]===h&&p.push(this.rows[o]);else for(var n=0;n<this.rows.length;n++)this.rows[n].arr[g]===h&&p.push(this.rows[n]);return p},t.default.Table.prototype.matchRow=function(h,g){if(typeof g=="number"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].arr[g].match(h))return this.rows[p]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].obj[g].match(h))return this.rows[o];return null},t.default.Table.prototype.matchRows=function(h,g){var p=[];if(typeof g=="number")for(var o=0;o<this.rows.length;o++)this.rows[o].arr[g].match(h)&&p.push(this.rows[o]);else for(var n=0;n<this.rows.length;n++)this.rows[n].obj[g].match(h)&&p.push(this.rows[n]);return p},t.default.Table.prototype.getColumn=function(h){var g=[];if(typeof h=="string")for(var p=0;p<this.rows.length;p++)g.push(this.rows[p].obj[h]);else for(var o=0;o<this.rows.length;o++)g.push(this.rows[o].arr[h]);return g},t.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},t.default.Table.prototype.addColumn=function(h){var g=h||null;this.columns.push(g)},t.default.Table.prototype.getColumnCount=function(){return this.columns.length},t.default.Table.prototype.getRowCount=function(){return this.rows.length},t.default.Table.prototype.removeTokens=function(h,g){for(var p=[],o=0;o<h.length;o++)p.push(h.charAt(o).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var n=new RegExp(p.join("|"),"g");if(g===void 0)for(var s=0;s<this.columns.length;s++)for(var a=0;a<this.rows.length;a++){var l=this.rows[a].arr[s];l=l.replace(n,""),this.rows[a].arr[s]=l,this.rows[a].obj[this.columns[s]]=l}else if(typeof g=="string")for(var v=0;v<this.rows.length;v++){var w=this.rows[v].obj[g];w=w.replace(n,""),this.rows[v].obj[g]=w;var x=this.columns.indexOf(g);this.rows[v].arr[x]=w}else for(var _=0;_<this.rows.length;_++){var E=this.rows[_].arr[g];E=E.replace(n,""),this.rows[_].arr[g]=E,this.rows[_].obj[this.columns[g]]=E}},t.default.Table.prototype.trim=function(h){var g=new RegExp(" ","g");if(h===void 0)for(var p=0;p<this.columns.length;p++)for(var o=0;o<this.rows.length;o++){var n=this.rows[o].arr[p];n=n.replace(g,""),this.rows[o].arr[p]=n,this.rows[o].obj[this.columns[p]]=n}else if(typeof h=="string")for(var s=0;s<this.rows.length;s++){var a=this.rows[s].obj[h];a=a.replace(g,""),this.rows[s].obj[h]=a;var l=this.columns.indexOf(h);this.rows[s].arr[l]=a}else for(var v=0;v<this.rows.length;v++){var w=this.rows[v].arr[h];w=w.replace(g,""),this.rows[v].arr[h]=w,this.rows[v].obj[this.columns[h]]=w}},t.default.Table.prototype.removeColumn=function(h){var g,p;typeof h=="string"?(g=h,p=this.columns.indexOf(h)):(p=h,g=this.columns[h]);var o=this.columns.splice(p+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(o);for(var n=0;n<this.rows.length;n++){var s=this.rows[n].arr,a=s.splice(p+1,s.length);s.pop(),this.rows[n].arr=s.concat(a),delete this.rows[n].obj[g]}},t.default.Table.prototype.set=function(h,g,p){this.rows[h].set(g,p)},t.default.Table.prototype.setNum=function(h,g,p){this.rows[h].setNum(g,p)},t.default.Table.prototype.setString=function(h,g,p){this.rows[h].setString(g,p)},t.default.Table.prototype.get=function(h,g){return this.rows[h].get(g)},t.default.Table.prototype.getNum=function(h,g){return this.rows[h].getNum(g)},t.default.Table.prototype.getString=function(h,g){return this.rows[h].getString(g)},t.default.Table.prototype.getObject=function(h){for(var g,p={},o=0;o<this.rows.length;o++)if(g=this.rows[o].obj,typeof h=="string"){if(!(0<=this.columns.indexOf(h)))throw new Error('This table has no column named "'.concat(h,'"'));p[g[h]]=g}else p[o]=this.rows[o].obj;return p},t.default.Table.prototype.getArray=function(){for(var h=[],g=0;g<this.rows.length;g++)h.push(this.rows[g].arr);return h};var c=t.default;d.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],292:[function(e,m,d){e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.TableRow=function(h,g){var p=[],o={};h&&(g=g||",",p=h.split(g));for(var n=0;n<p.length;n++){var s=n,a=p[n];o[s]=a}this.arr=p,this.obj=o,this.table=null},t.default.TableRow.prototype.set=function(h,g){if(typeof h=="string"){var p=this.table.columns.indexOf(h);if(!(0<=p))throw new Error('This table has no column named "'.concat(h,'"'));this.obj[h]=g,this.arr[p]=g}else{if(!(h<this.table.columns.length))throw new Error("Column #".concat(h," is out of the range of this table"));this.arr[h]=g;var o=this.table.columns[h];this.obj[o]=g}},t.default.TableRow.prototype.setNum=function(h,g){var p=parseFloat(g);this.set(h,p)},t.default.TableRow.prototype.setString=function(h,g){var p=g.toString();this.set(h,p)},t.default.TableRow.prototype.get=function(h){return typeof h=="string"?this.obj[h]:this.arr[h]},t.default.TableRow.prototype.getNum=function(h){var g;if((g=parseFloat(typeof h=="string"?this.obj[h]:this.arr[h])).toString()==="NaN")throw"Error: ".concat(this.obj[h]," is NaN (Not a Number)");return g},t.default.TableRow.prototype.getString=function(h){return typeof h=="string"?this.obj[h].toString():this.arr[h].toString()};var c=t.default;d.default=c},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],293:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};function c(g){for(var p=[],o=0;o<g.length;o++)p.push(new t.default.XML(g[o]));return p}t.default.XML=function(g){if(g)this.DOM=g;else{var p=document.implementation.createDocument(null,"doc");this.DOM=p.createElement("root")}},t.default.XML.prototype.getParent=function(){return new t.default.XML(this.DOM.parentElement)},t.default.XML.prototype.getName=function(){return this.DOM.tagName},t.default.XML.prototype.setName=function(g){var p=this.DOM.innerHTML,o=this.DOM.attributes,n=document.implementation.createDocument(null,"default").createElement(g);n.innerHTML=p;for(var s=0;s<o.length;s++)n.setAttribute(o[s].nodeName,o.nodeValue);this.DOM=n},t.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},t.default.XML.prototype.listChildren=function(){for(var g=[],p=0;p<this.DOM.childNodes.length;p++)g.push(this.DOM.childNodes[p].nodeName);return g},t.default.XML.prototype.getChildren=function(g){return c(g?this.DOM.getElementsByTagName(g):this.DOM.children)},t.default.XML.prototype.getChild=function(g){if(typeof g!="string")return new t.default.XML(this.DOM.children[g]);var p=!0,o=!1,n=void 0;try{for(var s,a=this.DOM.children[Symbol.iterator]();!(p=(s=a.next()).done);p=!0){var l=s.value;if(l.tagName===g)return new t.default.XML(l)}}catch(v){o=!0,n=v}finally{try{p||a.return==null||a.return()}finally{if(o)throw n}}},t.default.XML.prototype.addChild=function(g){g instanceof t.default.XML&&this.DOM.appendChild(g.DOM)},t.default.XML.prototype.removeChild=function(g){var p=-1;if(typeof g=="string"){for(var o=0;o<this.DOM.children.length;o++)if(this.DOM.children[o].tagName===g){p=o;break}}else p=g;p!==-1&&this.DOM.removeChild(this.DOM.children[p])},t.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},t.default.XML.prototype.listAttributes=function(){var g=[],p=!0,o=!1,n=void 0;try{for(var s,a=this.DOM.attributes[Symbol.iterator]();!(p=(s=a.next()).done);p=!0){var l=s.value;g.push(l.nodeName)}}catch(v){o=!0,n=v}finally{try{p||a.return==null||a.return()}finally{if(o)throw n}}return g},t.default.XML.prototype.hasAttribute=function(g){var p={},o=!0,n=!1,s=void 0;try{for(var a,l=this.DOM.attributes[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var v=a.value;p[v.nodeName]=v.nodeValue}}catch(w){n=!0,s=w}finally{try{o||l.return==null||l.return()}finally{if(n)throw s}}return!!p[g]},t.default.XML.prototype.getNum=function(g,p){var o={},n=!0,s=!1,a=void 0;try{for(var l,v=this.DOM.attributes[Symbol.iterator]();!(n=(l=v.next()).done);n=!0){var w=l.value;o[w.nodeName]=w.nodeValue}}catch(x){s=!0,a=x}finally{try{n||v.return==null||v.return()}finally{if(s)throw a}}return Number(o[g])||p||0},t.default.XML.prototype.getString=function(g,p){var o={},n=!0,s=!1,a=void 0;try{for(var l,v=this.DOM.attributes[Symbol.iterator]();!(n=(l=v.next()).done);n=!0){var w=l.value;o[w.nodeName]=w.nodeValue}}catch(x){s=!0,a=x}finally{try{n||v.return==null||v.return()}finally{if(s)throw a}}return o[g]?String(o[g]):p||null},t.default.XML.prototype.setAttribute=function(g,p){this.DOM.setAttribute(g,p)},t.default.XML.prototype.getContent=function(g){return this.DOM.textContent.replace(/\s\s+/g,",")||g||null},t.default.XML.prototype.setContent=function(g){this.DOM.children.length||(this.DOM.textContent=g)},t.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)};var h=t.default;d.default=h},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],294:[function(e,m,d){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};function c(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var g=arguments.length,p=[],o=0,n=0;n<g;n++){var s=arguments[n];if((s=+s)===1/0||s===-1/0)return 1/0;o<(s=Math.abs(s))&&(o=s),p[n]=s}o===0&&(o=1);for(var a=0,l=0,v=0;v<g;v++){var w=p[v]/o,x=w*w-l,_=a+x;l=_-a-x,a=_}return Math.sqrt(a)*o}t.default.prototype.abs=Math.abs,t.default.prototype.ceil=Math.ceil,t.default.prototype.constrain=function(g,p,o){return t.default._validateParameters("constrain",arguments),Math.max(Math.min(g,o),p)},t.default.prototype.dist=function(){for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];return t.default._validateParameters("dist",p),p.length===4?c(p[2]-p[0],p[3]-p[1]):p.length===6?c(p[3]-p[0],p[4]-p[1],p[5]-p[2]):void 0},t.default.prototype.exp=Math.exp,t.default.prototype.floor=Math.floor,t.default.prototype.lerp=function(g,p,o){return t.default._validateParameters("lerp",arguments),o*(p-g)+g},t.default.prototype.log=Math.log,t.default.prototype.mag=function(g,p){return t.default._validateParameters("mag",arguments),c(g,p)},t.default.prototype.map=function(g,p,o,n,s,a){t.default._validateParameters("map",arguments);var l=(g-p)/(o-p)*(s-n)+n;return a?n<s?this.constrain(l,n,s):this.constrain(l,s,n):l},t.default.prototype.max=function(){for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];return p[0]instanceof Array?Math.max.apply(null,p[0]):Math.max.apply(null,p)},t.default.prototype.min=function(){for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];return p[0]instanceof Array?Math.min.apply(null,p[0]):Math.min.apply(null,p)},t.default.prototype.norm=function(g,p,o){return t.default._validateParameters("norm",arguments),this.map(g,p,o,0,1)},t.default.prototype.pow=Math.pow,t.default.prototype.round=function(g,p){if(!p)return Math.round(g);var o=Math.pow(10,p);return Math.round(g*o)/o},t.default.prototype.sq=function(g){return g*g},t.default.prototype.sqrt=Math.sqrt,t.default.prototype.fract=function(g){t.default._validateParameters("fract",arguments);var p=0,o=Number(g);if(isNaN(o)||Math.abs(o)===1/0)return o;if(o<0&&(o=-o,p=1),!String(o).includes(".")||String(o).includes("e"))return o<1?Math.abs(p-o):0;var n=String(o);return n=Number("0"+n.slice(n.indexOf("."))),Math.abs(p-n)};var h=t.default;d.default=h},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":168,"core-js/modules/es.number.constructor":170,"core-js/modules/es.string.includes":185}],295:[function(e,m,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};function c(p,o,n){return(c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(s,a,l){var v=[null];v.push.apply(v,a);var w=new(Function.bind.apply(s,v));return l&&h(w,l.prototype),w}).apply(null,arguments)}function h(p,o){return(h=Object.setPrototypeOf||function(n,s){return n.__proto__=s,n})(p,o)}t.default.prototype.createVector=function(p,o,n){return this instanceof t.default?c(t.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new t.default.Vector(p,o,n)};var g=t.default;d.default=g},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],296:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};function c(s){return .5*(1-Math.cos(s*Math.PI))}var h,g=4095,p=4,o=.5;t.default.prototype.noise=function(s){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(h==null){h=new Array(4096);for(var v=0;v<4096;v++)h[v]=Math.random()}s<0&&(s=-s),a<0&&(a=-a),l<0&&(l=-l);for(var w,x,_,E,C,A=Math.floor(s),O=Math.floor(a),I=Math.floor(l),R=s-A,L=a-O,U=l-I,D=0,H=.5,W=0;W<p;W++){var ae=A+(O<<4)+(I<<8);w=c(R),x=c(L),_=h[ae&g],_+=w*(h[ae+1&g]-_),E=h[ae+16&g],_+=x*((E+=w*(h[ae+16+1&g]-E))-_),E=h[(ae+=256)&g],E+=w*(h[ae+1&g]-E),C=h[ae+16&g],E+=x*((C+=w*(h[ae+16+1&g]-C))-E),D+=(_+=c(U)*(E-_))*H,H*=o,A<<=1,O<<=1,I<<=1,1<=(R*=2)&&(A++,R--),1<=(L*=2)&&(O++,L--),1<=(U*=2)&&(I++,U--)}return D},t.default.prototype.noiseDetail=function(s,a){0<s&&(p=s),0<a&&(o=a)},t.default.prototype.noiseSeed=function(s){var a,l,v,w=(v=4294967296,{setSeed:function(_){l=a=(_??Math.random()*v)>>>0},getSeed:function(){return a},rand:function(){return(l=(1664525*l+1013904223)%v)/v}});w.setSeed(s),h=new Array(4096);for(var x=0;x<4096;x++)h[x]=w.rand()};var n=t.default;d.default=n},{"../core/main":264}],297:[function(e,m,d){function f(s){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(s){if(s&&s.__esModule)return s;if(s===null||f(s)!=="object"&&typeof s!="function")return{default:s};var a=g();if(a&&a.has(s))return a.get(s);var l={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in s)if(Object.prototype.hasOwnProperty.call(s,w)){var x=v?Object.getOwnPropertyDescriptor(s,w):null;x&&(x.get||x.set)?Object.defineProperty(l,w,x):l[w]=s[w]}return l.default=s,a&&a.set(s,l),l}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return g=function(){return s},s}c.default.Vector=function(s,a,l,v,w){var x,_,E;E={}.toString.call(s)==="[object Function]"?(this.isPInst=!0,this._fromRadians=s,this._toRadians=a,x=l||0,_=v||0,w||0):(x=s||0,_=a||0,l||0),this.x=x,this.y=_,this.z=E},c.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},c.default.Vector.prototype.set=function(s,a,l){return s instanceof c.default.Vector?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):s instanceof Array?(this.x=s[0]||0,this.y=s[1]||0,this.z=s[2]||0):(this.x=s||0,this.y=a||0,this.z=l||0),this},c.default.Vector.prototype.copy=function(){return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new c.default.Vector(this.x,this.y,this.z)},c.default.Vector.prototype.add=function(s,a,l){return s instanceof c.default.Vector?(this.x+=s.x||0,this.y+=s.y||0,this.z+=s.z||0):s instanceof Array?(this.x+=s[0]||0,this.y+=s[1]||0,this.z+=s[2]||0):(this.x+=s||0,this.y+=a||0,this.z+=l||0),this};function p(s,a){return s!==0&&(this.x=this.x%s),a!==0&&(this.y=this.y%a),this}function o(s,a,l){return s!==0&&(this.x=this.x%s),a!==0&&(this.y=this.y%a),l!==0&&(this.z=this.z%l),this}c.default.Vector.prototype.rem=function(s,a,l){if(s instanceof c.default.Vector){if(Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)){var v=parseFloat(s.x),w=parseFloat(s.y),x=parseFloat(s.z);return o.call(this,v,w,x)}}else if(s instanceof Array){if(s.every(function(C){return Number.isFinite(C)})){if(s.length===2)return p.call(this,s[0],s[1]);if(s.length===3)return o.call(this,s[0],s[1],s[2])}}else if(arguments.length===1){if(Number.isFinite(s)&&s!==0)return this.x=this.x%s,this.y=this.y%s,this.z=this.z%s,this}else if(arguments.length===2){var _=Array.prototype.slice.call(arguments);if(_.every(function(C){return Number.isFinite(C)})&&_.length===2)return p.call(this,_[0],_[1])}else if(arguments.length===3){var E=Array.prototype.slice.call(arguments);if(E.every(function(C){return Number.isFinite(C)})&&E.length===3)return o.call(this,E[0],E[1],E[2])}},c.default.Vector.prototype.sub=function(s,a,l){return s instanceof c.default.Vector?(this.x-=s.x||0,this.y-=s.y||0,this.z-=s.z||0):s instanceof Array?(this.x-=s[0]||0,this.y-=s[1]||0,this.z-=s[2]||0):(this.x-=s||0,this.y-=a||0,this.z-=l||0),this},c.default.Vector.prototype.mult=function(s,a,l){if(s instanceof c.default.Vector)return Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.z=="number"?(this.x*=s.x,this.y*=s.y,this.z*=s.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(s instanceof Array)return s.every(function(w){return Number.isFinite(w)})&&s.every(function(w){return typeof w=="number"})?s.length===1?(this.x*=s[0],this.y*=s[0],this.z*=s[0]):s.length===2?(this.x*=s[0],this.y*=s[1]):s.length===3&&(this.x*=s[0],this.y*=s[1],this.z*=s[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var v=Array.prototype.slice.call(arguments);return v.every(function(w){return Number.isFinite(w)})&&v.every(function(w){return typeof w=="number"})?(arguments.length===1&&(this.x*=s,this.y*=s,this.z*=s),arguments.length===2&&(this.x*=s,this.y*=a),arguments.length===3&&(this.x*=s,this.y*=a,this.z*=l)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},c.default.Vector.prototype.div=function(s,a,l){if(s instanceof c.default.Vector){if(Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.z=="number"){if(s.x===0||s.y===0||s.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=s.x,this.y/=s.y,this.z/=s.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(s instanceof Array){if(s.every(function(w){return Number.isFinite(w)})&&s.every(function(w){return typeof w=="number"})){if(s.some(function(w){return w===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;s.length===1?(this.x/=s[0],this.y/=s[0],this.z/=s[0]):s.length===2?(this.x/=s[0],this.y/=s[1]):s.length===3&&(this.x/=s[0],this.y/=s[1],this.z/=s[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var v=Array.prototype.slice.call(arguments);if(v.every(function(w){return Number.isFinite(w)})&&v.every(function(w){return typeof w=="number"})){if(v.some(function(w){return w===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=s,this.y/=s,this.z/=s),arguments.length===2&&(this.x/=s,this.y/=a),arguments.length===3&&(this.x/=s,this.y/=a,this.z/=l)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},c.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},c.default.Vector.prototype.magSq=function(){var s=this.x,a=this.y,l=this.z;return s*s+a*a+l*l},c.default.Vector.prototype.dot=function(s,a,l){return s instanceof c.default.Vector?this.dot(s.x,s.y,s.z):this.x*(s||0)+this.y*(a||0)+this.z*(l||0)},c.default.Vector.prototype.cross=function(s){var a=this.y*s.z-this.z*s.y,l=this.z*s.x-this.x*s.z,v=this.x*s.y-this.y*s.x;return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,a,l,v):new c.default.Vector(a,l,v)},c.default.Vector.prototype.dist=function(s){return s.copy().sub(this).mag()},c.default.Vector.prototype.normalize=function(){var s=this.mag();return s!==0&&this.mult(1/s),this},c.default.Vector.prototype.limit=function(s){var a=this.magSq();return s*s<a&&this.div(Math.sqrt(a)).mult(s),this},c.default.Vector.prototype.setMag=function(s){return this.normalize().mult(s)},c.default.Vector.prototype.heading=function(){var s=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(s):s},c.default.Vector.prototype.setHeading=function(s){var a=this.mag();return this.x=a*Math.cos(s),this.y=a*Math.sin(s),this},c.default.Vector.prototype.rotate=function(s){var a=this.heading()+s;this.isPInst&&(a=this._toRadians(a));var l=this.mag();return this.x=Math.cos(a)*l,this.y=Math.sin(a)*l,this},c.default.Vector.prototype.angleBetween=function(s){var a,l=this.dot(s)/(this.mag()*s.mag());return a=Math.acos(Math.min(1,Math.max(-1,l))),a*=Math.sign(this.cross(s).z||1),this.isPInst&&(a=this._fromRadians(a)),a},c.default.Vector.prototype.lerp=function(s,a,l,v){return s instanceof c.default.Vector?this.lerp(s.x,s.y,s.z,a):(this.x+=(s-this.x)*v||0,this.y+=(a-this.y)*v||0,this.z+=(l-this.z)*v||0,this)},c.default.Vector.prototype.reflect=function(s){return s.normalize(),this.sub(s.mult(2*this.dot(s)))},c.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},c.default.Vector.prototype.equals=function(s,a,l){var v,w,x;return x=s instanceof c.default.Vector?(v=s.x||0,w=s.y||0,s.z||0):s instanceof Array?(v=s[0]||0,w=s[1]||0,s[2]||0):(v=s||0,w=a||0,l||0),this.x===v&&this.y===w&&this.z===x},c.default.Vector.fromAngle=function(s,a){return a===void 0&&(a=1),new c.default.Vector(a*Math.cos(s),a*Math.sin(s),0)},c.default.Vector.fromAngles=function(s,a,l){l===void 0&&(l=1);var v=Math.cos(a),w=Math.sin(a),x=Math.cos(s),_=Math.sin(s);return new c.default.Vector(l*_*w,-l*x,l*_*v)},c.default.Vector.random2D=function(){return this.fromAngle(Math.random()*h.TWO_PI)},c.default.Vector.random3D=function(){var s=Math.random()*h.TWO_PI,a=2*Math.random()-1,l=Math.sqrt(1-a*a),v=l*Math.cos(s),w=l*Math.sin(s);return new c.default.Vector(v,w,a)},c.default.Vector.add=function(s,a,l){return l?l.set(s):(l=s.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),l.add(a),l},c.default.Vector.rem=function(s,a){if(s instanceof c.default.Vector&&a instanceof c.default.Vector){var l=s.copy();return l.rem(a),l}},c.default.Vector.sub=function(s,a,l){return l?l.set(s):(l=s.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),l.sub(a),l},c.default.Vector.mult=function(s,a,l){return l?l.set(s):(l=s.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),l.mult(a),l},c.default.Vector.rotate=function(s,a,l){return arguments.length===2?l=s.copy():(l instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),l.set(s)),l.rotate(a),l},c.default.Vector.div=function(s,a,l){return l?l.set(s):(l=s.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),l.div(a),l},c.default.Vector.dot=function(s,a){return s.dot(a)},c.default.Vector.cross=function(s,a){return s.cross(a)},c.default.Vector.dist=function(s,a){return s.dist(a)},c.default.Vector.lerp=function(s,a,l,v){return v?v.set(s):(v=s.copy(),arguments.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),v.lerp(a,l),v},c.default.Vector.mag=function(s){var a=s.x,l=s.y,v=s.z,w=a*a+l*l+v*v;return Math.sqrt(w)},c.default.Vector.normalize=function(s,a){return arguments.length<2?a=s.copy():(a instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),a.set(s)),a.normalize()};var n=c.default.Vector;d.default=n},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":150,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":169,"core-js/modules/es.number.constructor":170,"core-js/modules/es.number.is-finite":171,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.sub":192}],298:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f},c="_lcg_random_state",h=4294967296,g=0;t.default.prototype._lcg=function(o){return this[o]=(1664525*this[o]+1013904223)%h,this[o]/h},t.default.prototype._lcgSetSeed=function(o,n){this[o]=(n??Math.random()*h)>>>0},t.default.prototype.randomSeed=function(o){this._lcgSetSeed(c,o),this._gaussian_previous=!1},t.default.prototype.random=function(o,n){var s;if(t.default._validateParameters("random",arguments),s=this[c]!=null?this._lcg(c):Math.random(),o===void 0)return s;if(n===void 0)return o instanceof Array?o[Math.floor(s*o.length)]:s*o;if(n<o){var a=o;o=n,n=a}return s*(n-o)+o},t.default.prototype.randomGaussian=function(o){var n,s,a,l,v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)n=g,this._gaussian_previous=!1;else{for(;1<=(l=(s=this.random(2)-1)*s+(a=this.random(2)-1)*a););n=s*(l=Math.sqrt(-2*Math.log(l)/l)),g=a*l,this._gaussian_previous=!0}return n*v+(o||0)};var p=t.default;d.default=p},{"../core/main":264}],299:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=g();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}c.default.prototype._angleMode=h.RADIANS,c.default.prototype.acos=function(o){return this._fromRadians(Math.acos(o))},c.default.prototype.asin=function(o){return this._fromRadians(Math.asin(o))},c.default.prototype.atan=function(o){return this._fromRadians(Math.atan(o))},c.default.prototype.atan2=function(o,n){return this._fromRadians(Math.atan2(o,n))},c.default.prototype.cos=function(o){return Math.cos(this._toRadians(o))},c.default.prototype.sin=function(o){return Math.sin(this._toRadians(o))},c.default.prototype.tan=function(o){return Math.tan(this._toRadians(o))},c.default.prototype.degrees=function(o){return o*h.RAD_TO_DEG},c.default.prototype.radians=function(o){return o*h.DEG_TO_RAD},c.default.prototype.angleMode=function(o){if(c.default._validateParameters("angleMode",arguments),o===void 0)return this._angleMode;o!==h.DEGREES&&o!==h.RADIANS||(this._angleMode=o)},c.default.prototype._toRadians=function(o){return this._angleMode===h.DEGREES?o*h.DEG_TO_RAD:o},c.default.prototype._toDegrees=function(o){return this._angleMode===h.RADIANS?o*h.RAD_TO_DEG:o},c.default.prototype._fromRadians=function(o){return this._angleMode===h.DEGREES?o*h.RAD_TO_DEG:o};var p=c.default;d.default=p},{"../core/constants":253,"../core/main":264}],300:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.prototype.textAlign=function(h,g){var p;return t.default._validateParameters("textAlign",arguments),(p=this._renderer).textAlign.apply(p,arguments)},t.default.prototype.textLeading=function(h){var g;return t.default._validateParameters("textLeading",arguments),(g=this._renderer).textLeading.apply(g,arguments)},t.default.prototype.textSize=function(h){var g;return t.default._validateParameters("textSize",arguments),(g=this._renderer).textSize.apply(g,arguments)},t.default.prototype.textStyle=function(h){var g;return t.default._validateParameters("textStyle",arguments),(g=this._renderer).textStyle.apply(g,arguments)},t.default.prototype.textWidth=function(){for(var h,g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];return p[0]+="",t.default._validateParameters("textWidth",p),p[0].length===0?0:(h=this._renderer).textWidth.apply(h,p)},t.default.prototype.textAscent=function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];return t.default._validateParameters("textAscent",g),this._renderer.textAscent()},t.default.prototype.textDescent=function(){for(var h=arguments.length,g=new Array(h),p=0;p<h;p++)g[p]=arguments[p];return t.default._validateParameters("textDescent",g),this._renderer.textDescent()},t.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},t.default.prototype.textWrap=function(h){if(h!=="WORD"&&h!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(h)};var c=t.default;d.default=c},{"../core/main":264}],301:[function(e,m,d){function f(s){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=o(e("../core/constants")),g=o(e("opentype.js"));function p(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return p=function(){return s},s}function o(s){if(s&&s.__esModule)return s;if(s===null||f(s)!=="object"&&typeof s!="function")return{default:s};var a=p();if(a&&a.has(s))return a.get(s);var l={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in s)if(Object.prototype.hasOwnProperty.call(s,w)){var x=v?Object.getOwnPropertyDescriptor(s,w):null;x&&(x.get||x.set)?Object.defineProperty(l,w,x):l[w]=s[w]}return l.default=s,a&&a.set(s,l),l}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),c.default.prototype.loadFont=function(s,a,l){c.default._validateParameters("loadFont",arguments);var v=new c.default.Font(this),w=this;return g.load(s,function(x,_){if(x)return c.default._friendlyFileLoadError(4,s),l!==void 0?l(x):void console.error(x,s);v.font=_,a!==void 0&&a(v),w._decrementPreload();var E,C,A=s.split("\\").pop().split("/").pop(),O=A.lastIndexOf("."),I=O<1?null:A.slice(O+1);["ttf","otf","woff","woff2"].includes(I)&&(E=A.slice(0,O!==-1?O:0),(C=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(E,`;
src: url(`).concat(s,`);
}
`))),document.head.appendChild(C))}),v},c.default.prototype.text=function(s,a,l,v,w){var x;return c.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(x=this._renderer).text.apply(x,arguments):this},c.default.prototype.textFont=function(s,a){if(c.default._validateParameters("textFont",arguments),arguments.length){if(!s)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",s),a&&(this._renderer._setProperty("_textSize",a),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",a*h._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont};var n=c.default;d.default=n},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.split":191,"opentype.js":239}],302:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f},c=function(R){if(R&&R.__esModule)return R;if(R===null||g(R)!=="object"&&typeof R!="function")return{default:R};var L=h();if(L&&L.has(R))return L.get(R);var U={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in R)if(Object.prototype.hasOwnProperty.call(R,H)){var W=D?Object.getOwnPropertyDescriptor(R,H):null;W&&(W.get||W.set)?Object.defineProperty(U,H,W):U[H]=R[H]}return U.default=R,L&&L.set(R,U),U}(e("../core/constants"));function h(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return h=function(){return R},R}function g(R){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(R)}function p(R,L){for(var U=function(le,J){if(g(le)!=="object")le=J;else for(var ue in J)le[ue]===void 0&&(le[ue]=J[ue]);return le}(L,{sampleFactor:.1,simplifyThreshold:0}),D=w(R,0,1),H=D/(D*U.sampleFactor),W=[],ae=0;ae<D;ae+=H)W.push(w(R,ae));return U.simplifyThreshold&&function(le){for(var J=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ue=0,se=le.length-1;3<le.length&&0<=se;--se)a(s(le,se-1),s(le,se),s(le,se+1),J)&&(le.splice(se%le.length,1),ue++)}(W,U.simplifyThreshold),W}function o(R){for(var L,U=[],D=0;D<R.length;D++)R[D].type==="M"&&(L&&U.push(L),L=[]),L.push(n(R[D]));return U.push(L),U}function n(R){var L=[R.type];return R.type==="M"||R.type==="L"?L.push(R.x,R.y):R.type==="C"?L.push(R.x1,R.y1,R.x2,R.y2,R.x,R.y):R.type==="Q"&&L.push(R.x1,R.y1,R.x,R.y),L}function s(R,L){var U=R.length;return R[L<0?L%U+U:L%U]}function a(R,L,U,D){if(!D)return H=R,ae=U,((W=L)[0]-H[0])*(ae[1]-H[1])-(ae[0]-H[0])*(W[1]-H[1])==0;var H,W,ae;a.tmpPoint1===void 0&&(a.tmpPoint1=[],a.tmpPoint2=[]);var le=a.tmpPoint1,J=a.tmpPoint2;le.x=L.x-R.x,le.y=L.y-R.y,J.x=U.x-L.x,J.y=U.y-L.y;var ue=le.x*J.x+le.y*J.y,se=Math.sqrt(le.x*le.x+le.y*le.y),me=Math.sqrt(J.x*J.x+J.y*J.y);return Math.acos(ue/(se*me))<D}function l(R,L,U,D,H,W,ae,le,J){var ue=1-J,se=Math.pow(ue,3),me=Math.pow(ue,2),xe=J*J,Ce=xe*J,ve=se*R+3*me*J*U+3*ue*J*J*H+Ce*ae,De=se*L+3*me*J*D+3*ue*J*J*W+Ce*le,_e=R+2*J*(U-R)+xe*(H-2*U+R),Se=L+2*J*(D-L)+xe*(W-2*D+L),P=U+2*J*(H-U)+xe*(ae-2*H+U),G=D+2*J*(W-D)+xe*(le-2*W+D),X=ue*R+J*U,ee=ue*L+J*D,B=ue*H+J*ae,N=ue*W+J*le,re=90-180*Math.atan2(_e-P,Se-G)/Math.PI;return(P<_e||Se<G)&&(re+=180),{x:ve,y:De,m:{x:_e,y:Se},n:{x:P,y:G},start:{x:X,y:ee},end:{x:B,y:N},alpha:re}}function v(R,L,U,D,H,W,ae,le,J){return J==null?A(R,L,U,D,H,W,ae,le):l(R,L,U,D,H,W,ae,le,function(ue,se,me,xe,Ce,ve,De,_e,Se){if(!(Se<0||A(ue,se,me,xe,Ce,ve,De,_e)<Se)){var P,G=.5,X=1-G;for(P=A(ue,se,me,xe,Ce,ve,De,_e,X);.01<Math.abs(P-Se);)P=A(ue,se,me,xe,Ce,ve,De,_e,X+=(P<Se?1:-1)*(G/=2));return X}}(R,L,U,D,H,W,ae,le,J))}function w(R,L,U){for(var D,H,W,ae,le,J=0,ue=0,se=(R=function(me,xe){function Ce(ge,he,Pe){var Be,Ue;if(!ge)return["C",he.x,he.y,he.x,he.y,he.x,he.y];switch(ge[0]in{T:1,Q:1}||(he.qx=he.qy=null),ge[0]){case"M":he.X=ge[1],he.Y=ge[2];break;case"A":ge=["C"].concat(function Le(Qe,Re,Ae,ze,Xe,be,rt,V,Q,q){var K=Math.PI,de=120*K/180,Ee,ke,He,we,Ke=K/180*(+Xe||0),at=[],ht,yt=function(Dt,wt,Je){var zt=Dt*Math.cos(Je)-wt*Math.sin(Je),ct=Dt*Math.sin(Je)+wt*Math.cos(Je);return{x:zt,y:ct}};if(q)Ee=q[0],ke=q[1],He=q[2],we=q[3];else{ht=yt(Qe,Re,-Ke),Qe=ht.x,Re=ht.y,ht=yt(V,Q,-Ke),V=ht.x,Q=ht.y;var ft=(Qe-V)/2,pt=(Re-Q)/2,Mt=ft*ft/(Ae*Ae)+pt*pt/(ze*ze);1<Mt&&(Mt=Math.sqrt(Mt),Ae*=Mt,ze*=Mt);var on=Ae*Ae,xr=ze*ze,Xn=(be===rt?-1:1)*Math.sqrt(Math.abs((on*xr-on*pt*pt-xr*ft*ft)/(on*pt*pt+xr*ft*ft)));He=Xn*Ae*pt/ze+(Qe+V)/2,we=Xn*-ze*ft/Ae+(Re+Q)/2,Ee=Math.asin(((Re-we)/ze).toFixed(9)),ke=Math.asin(((Q-we)/ze).toFixed(9)),(Ee=Qe<He?K-Ee:Ee)<0&&(Ee=2*K+Ee),(ke=V<He?K-ke:ke)<0&&(ke=2*K+ke),rt&&ke<Ee&&(Ee-=2*K),!rt&&Ee<ke&&(ke-=2*K)}var bn=ke-Ee;if(Math.abs(bn)>de){var sn=ke,$n=V,Kn=Q;ke=Ee+de*(rt&&Ee<ke?1:-1),V=He+Ae*Math.cos(ke),Q=we+ze*Math.sin(ke),at=Le(V,Q,Ae,ze,Xe,0,rt,$n,Kn,[ke,sn,He,we])}bn=ke-Ee;var Qn=Math.cos(Ee),Zn=Math.sin(Ee),Jn=Math.cos(ke),bo=Math.sin(ke),Pn=Math.tan(bn/4),kn=4/3*Ae*Pn,fe=4/3*ze*Pn,Ve=[Qe,Re],Ze=[Qe+kn*Zn,Re-fe*Qn],qe=[V+kn*bo,Q-fe*Jn],nt=[V,Q];Ze[0]=2*Ve[0]-Ze[0],Ze[1]=2*Ve[1]-Ze[1];{if(q)return[Ze,qe,nt].concat(at);at=[Ze,qe,nt].concat(at).join().split(",");for(var Ge=[],jt=0,Rt=at.length;jt<Rt;jt++)Ge[jt]=jt%2?yt(at[jt-1],at[jt],Ke).y:yt(at[jt],at[jt+1],Ke).x;return Ge}}.apply(0,[he.x,he.y].concat(ge.slice(1))));break;case"S":Ue=Pe==="C"||Pe==="S"?(Be=2*he.x-he.bx,2*he.y-he.by):(Be=he.x,he.y),ge=["C",Be,Ue].concat(ge.slice(1));break;case"T":Pe==="Q"||Pe==="T"?(he.qx=2*he.x-he.qx,he.qy=2*he.y-he.qy):(he.qx=he.x,he.qy=he.y),ge=["C"].concat(C(he.x,he.y,he.qx,he.qy,ge[1],ge[2]));break;case"Q":he.qx=ge[1],he.qy=ge[2],ge=["C"].concat(C(he.x,he.y,ge[1],ge[2],ge[3],ge[4]));break;case"L":ge=["C"].concat(E(he.x,he.y,ge[1],ge[2]));break;case"H":ge=["C"].concat(E(he.x,he.y,ge[1],he.y));break;case"V":ge=["C"].concat(E(he.x,he.y,he.x,ge[1]));break;case"Z":ge=["C"].concat(E(he.x,he.y,he.X,he.Y))}return ge}function ve(ge,he){if(7<ge[he].length){ge[he].shift();for(var Pe=ge[he];Pe.length;)ee[he]="A",P&&(B[he]="A"),ge.splice(he++,0,["C"].concat(Pe.splice(0,6)));ge.splice(he,1),_e=Math.max(Se.length,P&&P.length||0)}}function De(ge,he,Pe,Be,Ue){ge&&he&&ge[Ue][0]==="M"&&he[Ue][0]!=="M"&&(he.splice(Ue,0,["M",Be.x,Be.y]),Pe.bx=0,Pe.by=0,Pe.x=ge[Ue][1],Pe.y=ge[Ue][2],_e=Math.max(Se.length,P&&P.length||0))}var _e,Se=x(me),P=xe&&x(xe),G={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},X={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee=[],B=[],N="",re="";_e=Math.max(Se.length,P&&P.length||0);for(var $=0;$<_e;$++){Se[$]&&(N=Se[$][0]),N!=="C"&&(ee[$]=N,$&&(re=ee[$-1])),Se[$]=Ce(Se[$],G,re),ee[$]!=="A"&&N==="C"&&(ee[$]="C"),ve(Se,$),P&&(P[$]&&(N=P[$][0]),N!=="C"&&(B[$]=N,$&&(re=B[$-1])),P[$]=Ce(P[$],X,re),B[$]!=="A"&&N==="C"&&(B[$]="C"),ve(P,$)),De(Se,P,G,X,$),De(P,Se,X,G,$);var ne=Se[$],ie=P&&P[$],oe=ne.length,pe=P&&ie.length;G.x=ne[oe-2],G.y=ne[oe-1],G.bx=parseFloat(ne[oe-4])||G.x,G.by=parseFloat(ne[oe-3])||G.y,X.bx=P&&(parseFloat(ie[pe-4])||X.x),X.by=P&&(parseFloat(ie[pe-3])||X.y),X.x=P&&ie[pe-2],X.y=P&&ie[pe-1]}return P?[Se,P]:Se}(R)).length;ue<se;ue++){if((W=R[ue])[0]==="M")D=+W[1],H=+W[2];else{if(L<J+(ae=v(D,H,W[1],W[2],W[3],W[4],W[5],W[6]))&&!U)return{x:(le=v(D,H,W[1],W[2],W[3],W[4],W[5],W[6],L-J)).x,y:le.y,alpha:le.alpha};J+=ae,D=+W[5],H=+W[6]}W.shift()+W}return(le=U?J:l(D,H,W[0],W[1],W[2],W[3],W[4],W[5],1)).alpha&&(le={x:le.x,y:le.y,alpha:le.alpha}),le}function x(R){var L,U=[],D=0,H=0,W=0,ae=0,le=0;if(!R)return U;R[0][0]==="M"&&(W=D=+R[0][1],ae=H=+R[0][2],le++,U[0]=["M",D,H]);for(var J,ue,se=R.length===3&&R[0][0]==="M"&&R[1][0].toUpperCase()==="R"&&R[2][0].toUpperCase()==="Z",me=le,xe=R.length;me<xe;me++){if(U.push(J=[]),(ue=R[me])[0]!==String.prototype.toUpperCase.call(ue[0]))switch(J[0]=String.prototype.toUpperCase.call(ue[0]),J[0]){case"A":J[1]=ue[1],J[2]=ue[2],J[3]=ue[3],J[4]=ue[4],J[5]=ue[5],J[6]=+(ue[6]+D),J[7]=+(ue[7]+H);break;case"V":J[1]=+ue[1]+H;break;case"H":J[1]=+ue[1]+D;break;case"R":for(var Ce=2,ve=(L=[D,H].concat(ue.slice(1))).length;Ce<ve;Ce++)L[Ce]=+L[Ce]+D,L[++Ce]=+L[Ce]+H;U.pop(),U=U.concat(_(L,se));break;case"M":W=+ue[1]+D,ae=+ue[2]+H;break;default:for(var De=1,_e=ue.length;De<_e;De++)J[De]=+ue[De]+(De%2?D:H)}else if(ue[0]==="R")L=[D,H].concat(ue.slice(1)),U.pop(),U=U.concat(_(L,se)),J=["R"].concat(ue.slice(-2));else for(var Se=0,P=ue.length;Se<P;Se++)J[Se]=ue[Se];switch(J[0]){case"Z":D=W,H=ae;break;case"H":D=J[1];break;case"V":H=J[1];break;case"M":W=J[J.length-2],ae=J[J.length-1];break;default:D=J[J.length-2],H=J[J.length-1]}}return U}function _(R,L){for(var U=[],D=0,H=R.length;D<H-2*!L;D+=2){var W=[{x:+R[D-2],y:+R[D-1]},{x:+R[D],y:+R[D+1]},{x:+R[D+2],y:+R[D+3]},{x:+R[D+4],y:+R[D+5]}];L?D?H-4===D?W[3]={x:+R[0],y:+R[1]}:H-2===D&&(W[2]={x:+R[0],y:+R[1]},W[3]={x:+R[2],y:+R[3]}):W[0]={x:+R[H-2],y:+R[H-1]}:H-4===D?W[3]=W[2]:D||(W[0]={x:+R[D],y:+R[D+1]}),U.push(["C",(-W[0].x+6*W[1].x+W[2].x)/6,(-W[0].y+6*W[1].y+W[2].y)/6,(W[1].x+6*W[2].x-W[3].x)/6,(W[1].y+6*W[2].y-W[3].y)/6,W[2].x,W[2].y])}return U}function E(R,L,U,D){return[R,L,U,D,U,D]}function C(R,L,U,D,H,W){return[1/3*R+2/3*U,1/3*L+2/3*D,1/3*H+2/3*U,1/3*W+2/3*D,H,W]}function A(R,L,U,D,H,W,ae,le,J){J==null&&(J=1);for(var ue=(J=1<J?1:J<0?0:J)/2,se=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],me=0,xe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ce=0;Ce<12;Ce++){var ve=ue*se[Ce]+ue,De=O(ve,R,U,H,ae),_e=O(ve,L,D,W,le),Se=De*De+_e*_e;me+=xe[Ce]*Math.sqrt(Se)}return ue*me}function O(R,L,U,D,H){return R*(R*(-3*L+9*U-9*D+3*H)+6*L-12*U+6*D)-3*L+3*U}t.default.Font=function(R){this.parent=R,this.cache={},this.font=void 0},t.default.Font.prototype.textBounds=function(R){var L,U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,H=3<arguments.length?arguments[3]:void 0,W=4<arguments.length?arguments[4]:void 0,ae=W&&W.renderer&&W.renderer._pInst||this.parent,le=ae._renderer.drawingContext;if(le.textAlign||c.LEFT,le.textBaseline||c.BASELINE,H=H||ae._renderer._textSize,!L){var J,ue,se=[],me=[],xe=[];xe[0]=[];var Ce=[],ve=this._scale(H),De=ae._renderer.textLeading(),_e=0;this.font.forEachGlyph(R,U,D,H,W,function(ee,B,N,re){var $=ee.getMetrics();ee.index===0||ee.index===10?xe[_e+=1]=[]:(xe[_e].push(B+$.xMin*ve),xe[_e].push(B+$.xMax*ve),Ce.push(N+_e*De+-$.yMin*ve),Ce.push(N+_e*De+-$.yMax*ve))}),0<xe[_e].length&&(se[_e]=Math.min.apply(null,xe[_e]),me[_e]=Math.max.apply(null,xe[_e]));for(var Se=0,P=0;P<=_e;P++){se[P]=Math.min.apply(null,xe[P]),me[P]=Math.max.apply(null,xe[P]);var G=me[P]-se[P];Se<G&&(Se=G)}var X=Math.min.apply(null,se);L={x:X,y:J=Math.min.apply(null,Ce),h:Math.max.apply(null,Ce)-J,w:Se,advance:X-U},ue=this._handleAlignment(ae._renderer,R,L.x,L.y,L.w+L.advance),L.x=ue.x,L.y=ue.y}return L},t.default.Font.prototype.textToPoints=function(R,L,U,D,H){var W,ae=0,le=[],J=this._getGlyphs(R);D=D||this.parent._renderer._textSize;for(var ue=0;ue<J.length;ue++){if(!(J[W=ue].name&&J[W].name==="space"||R.length===J.length&&R[W]===" "))for(var se=o(J[ue].getPath(L,U,D).commands),me=0;me<se.length;me++)for(var xe=p(se[me],H),Ce=0;Ce<xe.length;Ce++)xe[Ce].x+=ae,le.push(xe[Ce]);ae+=J[ue].advanceWidth*this._scale(D)}return le},t.default.Font.prototype._getGlyphs=function(R){return this.font.stringToGlyphs(R)},t.default.Font.prototype._getPath=function(R,L,U,D){var H=(D&&D.renderer&&D.renderer._pInst||this.parent)._renderer,W=this._handleAlignment(H,R,L,U);return this.font.getPath(R,W.x,W.y,H._textSize,D)},t.default.Font.prototype._getPathData=function(R,L,U,D){var H=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,L,U,D):g(L)==="object"&&(D=L),D&&typeof D.decimals=="number"&&(H=D.decimals),R.toPathData(H)},t.default.Font.prototype._getSVG=function(R,L,U,D){var H=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,L,U,D):g(L)==="object"&&(D=L),D&&(typeof D.decimals=="number"&&(H=D.decimals),typeof D.strokeWidth=="number"&&(R.strokeWidth=D.strokeWidth),D.fill!==void 0&&(R.fill=D.fill),D.stroke!==void 0&&(R.stroke=D.stroke)),R.toSVG(H)},t.default.Font.prototype._renderPath=function(R,L,U,D){var H,W=D&&D.renderer||this.parent._renderer,ae=W.drawingContext;H=g(R)==="object"&&R.commands?R.commands:this._getPath(R,L,U,D).commands,ae.beginPath();var le=!0,J=!1,ue=void 0;try{for(var se,me=H[Symbol.iterator]();!(le=(se=me.next()).done);le=!0){var xe=se.value;xe.type==="M"?ae.moveTo(xe.x,xe.y):xe.type==="L"?ae.lineTo(xe.x,xe.y):xe.type==="C"?ae.bezierCurveTo(xe.x1,xe.y1,xe.x2,xe.y2,xe.x,xe.y):xe.type==="Q"?ae.quadraticCurveTo(xe.x1,xe.y1,xe.x,xe.y):xe.type==="Z"&&ae.closePath()}}catch(Ce){J=!0,ue=Ce}finally{try{le||me.return==null||me.return()}finally{if(J)throw ue}}return W._doStroke&&W._strokeSet&&ae.stroke(),W._doFill&&(W._fillSet||W._setFill(c._DEFAULT_TEXT_FILL),ae.fill()),this},t.default.Font.prototype._textWidth=function(R,L){return this.font.getAdvanceWidth(R,L)},t.default.Font.prototype._textAscent=function(R){return this.font.ascender*this._scale(R)},t.default.Font.prototype._textDescent=function(R){return-this.font.descender*this._scale(R)},t.default.Font.prototype._scale=function(R){return 1/this.font.unitsPerEm*(R||this.parent._renderer._textSize)},t.default.Font.prototype._handleAlignment=function(R,L,U,D,H){var W=R._textSize;switch(H===void 0&&(H=this._textWidth(L,W)),R._textAlign){case c.CENTER:U-=H/2;break;case c.RIGHT:U-=H}switch(R._textBaseline){case c.TOP:D+=this._textAscent(W);break;case c.CENTER:D+=this._textAscent(W)/2;break;case c.BOTTOM:D-=this._textDescent(W)}return{x:U,y:D}};var I=t.default;d.default=I},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],303:[function(e,m,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.prototype.append=function(h,g){return h.push(g),h},t.default.prototype.arrayCopy=function(h,g,p,o,n){var s,a;h=n!==void 0?(a=Math.min(n,h.length),s=o,h.slice(g,a+g)):(a=p!==void 0?(a=p,Math.min(a,h.length)):h.length,s=0,p=g,h.slice(0,a)),Array.prototype.splice.apply(p,[s,a].concat(h))},t.default.prototype.concat=function(h,g){return h.concat(g)},t.default.prototype.reverse=function(h){return h.reverse()},t.default.prototype.shorten=function(h){return h.pop(),h},t.default.prototype.shuffle=function(h,g){for(var p,o,n=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(h),s=(h=g||n?h:h.slice()).length;1<s;)p=this.random(0,1)*s|0,o=h[--s],h[s]=h[p],h[p]=o;return h},t.default.prototype.sort=function(h,g){var p=g?h.slice(0,Math.min(g,h.length)):h,o=g?h.slice(Math.min(g,h.length)):[];return(p=typeof p[0]=="string"?p.sort():p.sort(function(n,s){return n-s})).concat(o)},t.default.prototype.splice=function(h,g,p){return Array.prototype.splice.apply(h,[p,0].concat(g)),h},t.default.prototype.subset=function(h,g,p){return p!==void 0?h.slice(g,g+p):h.slice(g,h.length)};var c=t.default;d.default=c},{"../core/main":264,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],304:[function(e,m,d){e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.prototype.float=function(h){return h instanceof Array?h.map(parseFloat):parseFloat(h)},t.default.prototype.int=function(h){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return h===1/0||h==="Infinity"?1/0:h===-1/0||h==="-Infinity"?-1/0:typeof h=="string"?parseInt(h,g):typeof h=="number"?0|h:typeof h=="boolean"?h?1:0:h instanceof Array?h.map(function(p){return t.default.prototype.int(p,g)}):void 0},t.default.prototype.str=function(h){return h instanceof Array?h.map(t.default.prototype.str):String(h)},t.default.prototype.boolean=function(h){return typeof h=="number"?h!==0:typeof h=="string"?h.toLowerCase()==="true":typeof h=="boolean"?h:h instanceof Array?h.map(t.default.prototype.boolean):void 0},t.default.prototype.byte=function(h){var g=t.default.prototype.int(h,10);return typeof g=="number"?(g+128)%256-128:g instanceof Array?g.map(t.default.prototype.byte):void 0},t.default.prototype.char=function(h){return typeof h!="number"||isNaN(h)?h instanceof Array?h.map(t.default.prototype.char):typeof h=="string"?t.default.prototype.char(parseInt(h,10)):void 0:String.fromCharCode(h)},t.default.prototype.unchar=function(h){return typeof h=="string"&&h.length===1?h.charCodeAt(0):h instanceof Array?h.map(t.default.prototype.unchar):void 0},t.default.prototype.hex=function(h,g){if(g=g??(g=8),h instanceof Array)return h.map(function(o){return t.default.prototype.hex(o,g)});if(h===1/0||h===-1/0)return(h===1/0?"F":"0").repeat(g);if(typeof h=="number"){h<0&&(h=4294967295+h+1);for(var p=Number(h).toString(16).toUpperCase();p.length<g;)p="0".concat(p);return p.length>=g&&(p=p.substring(p.length-g,p.length)),p}},t.default.prototype.unhex=function(h){return h instanceof Array?h.map(t.default.prototype.unhex):parseInt("0x".concat(h),16)};var c=t.default;d.default=c},{"../core/main":264,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],305:[function(e,m,d){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};function c(n,s,a){var l=n<0,v=l?n.toString().substring(1):n.toString(),w=v.indexOf("."),x=w!==-1?v.substring(0,w):v,_=w!==-1?v.substring(w+1):"",E=l?"-":"";if(a!==void 0){var C="";(w!==-1||0<a-_.length)&&(C="."),_.length>a&&(_=_.substring(0,a));for(var A=0;A<s-x.length;A++)E+="0";E+=x,E+=C,E+=_;for(var O=0;O<a-_.length;O++)E+="0";return E}for(var I=0;I<Math.max(s-x.length,0);I++)E+="0";return E+=v}function h(n,s){var a=(n=n.toString()).indexOf("."),l=a!==-1?n.substring(a):"",v=a!==-1?n.substring(0,a):n;if(v=v.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),s===0)l="";else if(s!==void 0)if(s>l.length)for(var w=s-(l+=a===-1?".":"").length+1,x=0;x<w;x++)l+="0";else l=l.substring(0,s+1);return v+l}function g(n){return 0<parseFloat(n)?"+".concat(n.toString()):n.toString()}function p(n){return 0<=parseFloat(n)?" ".concat(n.toString()):n.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),t.default.prototype.join=function(n,s){return t.default._validateParameters("join",arguments),n.join(s)},t.default.prototype.match=function(n,s){return t.default._validateParameters("match",arguments),n.match(s)},t.default.prototype.matchAll=function(n,s){t.default._validateParameters("matchAll",arguments);for(var a=new RegExp(s,"g"),l=a.exec(n),v=[];l!==null;)v.push(l),l=a.exec(n);return v},t.default.prototype.nf=function(n,s,a){return t.default._validateParameters("nf",arguments),n instanceof Array?n.map(function(l){return c(l,s,a)}):Object.prototype.toString.call(n)==="[object Arguments]"?n.length===3?this.nf(n[0],n[1],n[2]):n.length===2?this.nf(n[0],n[1]):this.nf(n[0]):c(n,s,a)},t.default.prototype.nfc=function(n,s){return t.default._validateParameters("nfc",arguments),n instanceof Array?n.map(function(a){return h(a,s)}):h(n,s)},t.default.prototype.nfp=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];t.default._validateParameters("nfp",s);var l=t.default.prototype.nf.apply(this,s);return l instanceof Array?l.map(g):g(l)},t.default.prototype.nfs=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];t.default._validateParameters("nfs",s);var l=t.default.prototype.nf.apply(this,s);return l instanceof Array?l.map(p):p(l)},t.default.prototype.split=function(n,s){return t.default._validateParameters("split",arguments),n.split(s)},t.default.prototype.splitTokens=function(n,s){var a;if(t.default._validateParameters("splitTokens",arguments),s!==void 0){var l=s,v=/\]/g.exec(l),w=/\[/g.exec(l);a=w&&v?(l=l.slice(0,v.index)+l.slice(v.index+1),w=/\[/g.exec(l),l=l.slice(0,w.index)+l.slice(w.index+1),new RegExp("[\\[".concat(l,"\\]]"),"g")):v?(l=l.slice(0,v.index)+l.slice(v.index+1),new RegExp("[".concat(l,"\\]]"),"g")):w?(l=l.slice(0,w.index)+l.slice(w.index+1),new RegExp("[".concat(l,"\\[]"),"g")):new RegExp("[".concat(l,"]"),"g")}else a=/\s/g;return n.split(a).filter(function(x){return x})},t.default.prototype.trim=function(n){return t.default._validateParameters("trim",arguments),n instanceof Array?n.map(this.trim):n.trim()};var o=t.default;d.default=o},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],306:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()};var c=t.default;d.default=c},{"../core/main":264}],307:[function(e,m,d){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(n)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t};e("./p5.Geometry");var h=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var s=g();if(s&&s.has(n))return s.get(n);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in n)if(Object.prototype.hasOwnProperty.call(n,v)){var w=l?Object.getOwnPropertyDescriptor(n,v):null;w&&(w.get||w.set)?Object.defineProperty(a,v,w):a[v]=n[v]}return a.default=n,s&&s.set(n,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return g=function(){return n},n}c.default.prototype.plane=function(n,s,a,l){this._assert3d("plane"),c.default._validateParameters("plane",arguments),n===void 0&&(n=50),s===void 0&&(s=n),a===void 0&&(a=1),l===void 0&&(l=1);var v="plane|".concat(a,"|").concat(l);if(!this._renderer.geometryInHash(v)){var w=new c.default.Geometry(a,l,function(){for(var x,_,E,C=0;C<=this.detailY;C++){_=C/this.detailY;for(var A=0;A<=this.detailX;A++)x=A/this.detailX,E=new c.default.Vector(x-.5,_-.5,0),this.vertices.push(E),this.uvs.push(x,_)}});w.computeFaces().computeNormals(),a<=1&&l<=1?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,w)}return this._renderer.drawBuffersScaled(v,n,s,1),this},c.default.prototype.box=function(n,s,a,l,v){this._assert3d("box"),c.default._validateParameters("box",arguments),n===void 0&&(n=50),s===void 0&&(s=n),a===void 0&&(a=s);var w=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;l===void 0&&(l=w?1:4),v===void 0&&(v=w?1:4);var x="box|".concat(l,"|").concat(v);if(!this._renderer.geometryInHash(x)){var _=new c.default.Geometry(l,v,function(){var E=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var C=0;C<E.length;C++){for(var A=E[C],O=4*C,I=0;I<4;I++){var R=A[I],L=new c.default.Vector((2*(1&R)-1)/2,((2&R)-1)/2,((4&R)/2-1)/2);this.vertices.push(L),this.uvs.push(1&I,(2&I)/2)}this.faces.push([O,1+O,2+O]),this.faces.push([2+O,1+O,3+O])}});_.computeNormals(),l<=4&&v<=4?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(x,_)}return this._renderer.drawBuffersScaled(x,n,s,a),this},c.default.prototype.sphere=function(n,s,a){return this._assert3d("sphere"),c.default._validateParameters("sphere",arguments),n===void 0&&(n=50),s===void 0&&(s=24),a===void 0&&(a=16),this.ellipsoid(n,n,n,s,a),this};function p(n,s,a,l,v,w,x){n=n<=0?1:n,s=s<0?0:s,a=a<=0?n:a,l=l<3?3:l;var _,E,C,A=(w=w===void 0||w)?-2:0,O=(v=v<1?1:v)+((x=x===void 0?s!==0:x)?2:0),I=Math.atan2(n-s,a),R=Math.sin(I),L=Math.cos(I);for(_=A;_<=O;++_){var U=_/v,D=a*U,H=void 0;for(H=_<0?(U=D=0,n):v<_?(D=a,U=1,s):n+(s-n)*U,_!==-2&&_!==v+2||(H=0),D-=a/2,E=0;E<l;++E){var W=E/(l-1),ae=2*Math.PI*W,le=Math.sin(ae),J=Math.cos(ae);this.vertices.push(new c.default.Vector(le*H,D,J*H));var ue=void 0;ue=_<0?new c.default.Vector(0,-1,0):v<_&&s?new c.default.Vector(0,1,0):new c.default.Vector(le*L,R,J*L),this.vertexNormals.push(ue),this.uvs.push(W,U)}}var se=0;if(w){for(C=0;C<l;++C){var me=(C+1)%l;this.faces.push([se+C,se+l+me,se+l+C])}se+=2*l}for(_=0;_<v;++_){for(E=0;E<l;++E){var xe=(E+1)%l;this.faces.push([se+E,se+xe,se+l+xe]),this.faces.push([se+E,se+l+xe,se+l+E])}se+=l}if(x)for(se+=l,E=0;E<l;++E)this.faces.push([se+E,se+(E+1)%l,se+l])}c.default.prototype.cylinder=function(n,s,a,l,v,w){this._assert3d("cylinder"),c.default._validateParameters("cylinder",arguments),n===void 0&&(n=50),s===void 0&&(s=n),a===void 0&&(a=24),l===void 0&&(l=1),w===void 0&&(w=!0),v===void 0&&(v=!0);var x="cylinder|".concat(a,"|").concat(l,"|").concat(v,"|").concat(w);if(!this._renderer.geometryInHash(x)){var _=new c.default.Geometry(a,l);p.call(_,1,1,1,a,l,v,w),a<=24&&l<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,_)}return this._renderer.drawBuffersScaled(x,n,s,n),this},c.default.prototype.cone=function(n,s,a,l,v){this._assert3d("cone"),c.default._validateParameters("cone",arguments),n===void 0&&(n=50),s===void 0&&(s=n),a===void 0&&(a=24),l===void 0&&(l=1),v===void 0&&(v=!0);var w="cone|".concat(a,"|").concat(l,"|").concat(v);if(!this._renderer.geometryInHash(w)){var x=new c.default.Geometry(a,l);p.call(x,1,0,1,a,l,v,!1),a<=24&&l<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,n,s,n),this},c.default.prototype.ellipsoid=function(n,s,a,l,v){this._assert3d("ellipsoid"),c.default._validateParameters("ellipsoid",arguments),n===void 0&&(n=50),s===void 0&&(s=n),a===void 0&&(a=n),l===void 0&&(l=24),v===void 0&&(v=16);var w="ellipsoid|".concat(l,"|").concat(v);if(!this._renderer.geometryInHash(w)){var x=new c.default.Geometry(l,v,function(){for(var _=0;_<=this.detailY;_++)for(var E=_/this.detailY,C=Math.PI*E-Math.PI/2,A=Math.cos(C),O=Math.sin(C),I=0;I<=this.detailX;I++){var R=I/this.detailX,L=2*Math.PI*R,U=Math.cos(L),D=Math.sin(L),H=new c.default.Vector(A*D,O,A*U);this.vertices.push(H),this.vertexNormals.push(H),this.uvs.push(R,E)}});x.computeFaces(),l<=24&&v<=24?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,n,s,a),this},c.default.prototype.torus=function(n,s,a,l){if(this._assert3d("torus"),c.default._validateParameters("torus",arguments),n===void 0)n=50;else if(!n)return;if(s===void 0)s=10;else if(!s)return;a===void 0&&(a=24),l===void 0&&(l=16);var v=(s/n).toPrecision(4),w="torus|".concat(v,"|").concat(a,"|").concat(l);if(!this._renderer.geometryInHash(w)){var x=new c.default.Geometry(a,l,function(){for(var _=0;_<=this.detailY;_++)for(var E=_/this.detailY,C=2*Math.PI*E,A=Math.cos(C),O=Math.sin(C),I=1+v*A,R=0;R<=this.detailX;R++){var L=R/this.detailX,U=2*Math.PI*L,D=Math.cos(U),H=Math.sin(U),W=new c.default.Vector(I*D,I*H,v*O),ae=new c.default.Vector(A*D,A*H,O);this.vertices.push(W),this.vertexNormals.push(ae),this.uvs.push(L,E)}});x.computeFaces(),a<=24&&l<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,n,n,n),this},c.default.RendererGL.prototype.point=function(n,s,a){a===void 0&&(a=0);var l=[];return l.push(new c.default.Vector(n,s,a)),this._drawPoints(l,this.immediateMode.buffers.point),this},c.default.RendererGL.prototype.triangle=function(n){var s=n[0],a=n[1],l=n[2],v=n[3],w=n[4],x=n[5];if(!this.geometryInHash("tri")){var _=new c.default.Geometry(1,1,function(){var A=[];A.push(new c.default.Vector(0,0,0)),A.push(new c.default.Vector(0,1,0)),A.push(new c.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=A,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});_._makeTriangleEdges()._edgesToVertices(),_.computeNormals(),this.createBuffers("tri",_)}var E=this.uMVMatrix.copy();try{var C=new c.default.Matrix([l-s,v-a,0,0,w-s,x-a,0,0,0,0,1,0,s,a,0,1]).mult(this.uMVMatrix);this.uMVMatrix=C,this.drawBuffers("tri")}finally{this.uMVMatrix=E}return this},c.default.RendererGL.prototype.ellipse=function(n){this.arc(n[0],n[1],n[2],n[3],0,h.TWO_PI,h.OPEN,n[4])},c.default.RendererGL.prototype.arc=function(n){var s,a,l=n,v=arguments[1],w=arguments[2],x=arguments[3],_=arguments[4],E=arguments[5],C=arguments[6],A=arguments[7]||25;if(a=Math.abs(E-_)>=h.TWO_PI?"".concat(s="ellipse","|").concat(A,"|"):"".concat(s="arc","|").concat(_,"|").concat(E,"|").concat(C,"|").concat(A,"|"),!this.geometryInHash(a)){var O=new c.default.Geometry(A,1,function(){if(this.strokeIndices=[],_.toFixed(10)!==E.toFixed(10)){C!==h.PIE&&C!==void 0||(this.vertices.push(new c.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var R=0;R<=A;R++){var L=(E-_)*(R/A)+_,U=.5+Math.cos(L)/2,D=.5+Math.sin(L)/2;this.vertices.push(new c.default.Vector(U,D,0)),this.uvs.push([U,D]),R<A-1&&(this.faces.push([0,R+1,R+2]),this.strokeIndices.push([R+1,R+2]))}switch(C){case h.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case h.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case h.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});O.computeNormals(),A<=50?O._makeTriangleEdges()._edgesToVertices(O):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(s," with more than 50 detail")),this.createBuffers(a,O)}var I=this.uMVMatrix.copy();try{this.uMVMatrix.translate([l,v,0]),this.uMVMatrix.scale(w,x,1),this.drawBuffers(a)}finally{this.uMVMatrix=I}return this},c.default.RendererGL.prototype.rect=function(n){var s=this._pInst._glAttributes.perPixelLighting,a=n[0],l=n[1],v=n[2],w=n[3],x=n[4]||(s?1:24),_=n[5]||(s?1:16),E="rect|".concat(x,"|").concat(_);if(!this.geometryInHash(E)){var C=new c.default.Geometry(x,_,function(){for(var O=0;O<=this.detailY;O++)for(var I=O/this.detailY,R=0;R<=this.detailX;R++){var L=R/this.detailX,U=new c.default.Vector(L,I,0);this.vertices.push(U),this.uvs.push(L,I)}0<x&&0<_&&(this.strokeIndices=[[0,x],[x,(x+1)*(_+1)-1],[(x+1)*(_+1)-1,(x+1)*_],[(x+1)*_,0]])});C.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(E,C)}var A=this.uMVMatrix.copy();try{this.uMVMatrix.translate([a,l,0]),this.uMVMatrix.scale(v,w,1),this.drawBuffers(E)}finally{this.uMVMatrix=A}return this},c.default.RendererGL.prototype.quad=function(n,s,a,l,v,w,x,_,E,C,A,O,I,R){I===void 0&&(I=2),R===void 0&&(R=2);var L="quad|".concat(n,"|").concat(s,"|").concat(a,"|").concat(l,"|").concat(v,"|").concat(w,"|").concat(x,"|").concat(_,"|").concat(E,"|").concat(C,"|").concat(A,"|").concat(O,"|").concat(I,"|").concat(R);if(!this.geometryInHash(L)){var U=new c.default.Geometry(I,R,function(){for(var ue=1/(this.detailX-1),se=1/(this.detailY-1),me=0;me<this.detailY;me++)for(var xe=0;xe<this.detailX;xe++){var Ce=xe*ue,ve=me*se,De=(1-Ce)*((1-ve)*n+ve*C)+Ce*((1-ve)*l+ve*x),_e=(1-Ce)*((1-ve)*s+ve*A)+Ce*((1-ve)*v+ve*_),Se=(1-Ce)*((1-ve)*a+ve*O)+Ce*((1-ve)*w+ve*E);this.vertices.push(new c.default.Vector(De,_e,Se)),this.uvs.push([Ce,ve])}});U.faces=[];for(var D=0;D<R-1;D++)for(var H=0;H<I-1;H++){var W=H+D*I,ae=H+1+D*I,le=H+1+(D+1)*I,J=H+(D+1)*I;U.faces.push([W,ae,le]),U.faces.push([W,le,J])}U.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(L,U)}return this.drawBuffers(L),this},c.default.RendererGL.prototype.bezier=function(n,s,a,l,v,w,x,_,E,C,A,O){arguments.length===8&&(A=_,C=x,_=w,x=v,v=l,l=a,a=w=E=O=0);var I=this._pInst._bezierDetail||20;this.beginShape();for(var R=0;R<=I;R++){var L=Math.pow(1-R/I,3),U=R/I*3*Math.pow(1-R/I,2),D=3*Math.pow(R/I,2)*(1-R/I),H=Math.pow(R/I,3);this.vertex(n*L+l*U+x*D+C*H,s*L+v*U+_*D+A*H,a*L+w*U+E*D+O*H)}return this.endShape(),this},c.default.RendererGL.prototype.curve=function(n,s,a,l,v,w,x,_,E,C,A,O){arguments.length===8&&(C=x,A=_,x=v,_=l,v=l=a,a=w=E=O=0);var I=this._pInst._curveDetail;this.beginShape();for(var R=0;R<=I;R++){var L=.5*Math.pow(R/I,3),U=.5*Math.pow(R/I,2),D=R/I*.5,H=L*(3*l-n-3*x+C)+U*(2*n-5*l+4*x-C)+D*(-n+x)+2*l*.5,W=L*(3*v-s-3*_+A)+U*(2*s-5*v+4*_-A)+D*(-s+_)+2*v*.5,ae=L*(3*w-a-3*E+O)+U*(2*a-5*w+4*E-O)+D*(-a+E)+2*w*.5;this.vertex(H,W,ae)}return this.endShape(),this},c.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},c.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var n,s,a,l,v,w=[],x=[],_=[],E=arguments.length;if((n=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,A=0,O=1,I=0;A<1;){if(n=parseFloat(A.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(n),O.toFixed(6)===C.toFixed(6)){n=parseFloat(O.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(n);break}A+=C,O-=C,++I}}var R=this._lookUpTableBezier.length;if(E===6){for(this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],v=0;v<R;v++)s=w[0]*this._lookUpTableBezier[v][0]+w[1]*this._lookUpTableBezier[v][1]+w[2]*this._lookUpTableBezier[v][2]+w[3]*this._lookUpTableBezier[v][3],a=x[0]*this._lookUpTableBezier[v][0]+x[1]*this._lookUpTableBezier[v][1]+x[2]*this._lookUpTableBezier[v][2]+x[3]*this._lookUpTableBezier[v][3],this.vertex(s,a);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(E===9){for(this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],_=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],v=0;v<R;v++)s=w[0]*this._lookUpTableBezier[v][0]+w[1]*this._lookUpTableBezier[v][1]+w[2]*this._lookUpTableBezier[v][2]+w[3]*this._lookUpTableBezier[v][3],a=x[0]*this._lookUpTableBezier[v][0]+x[1]*this._lookUpTableBezier[v][1]+x[2]*this._lookUpTableBezier[v][2]+x[3]*this._lookUpTableBezier[v][3],l=_[0]*this._lookUpTableBezier[v][0]+_[1]*this._lookUpTableBezier[v][1]+_[2]*this._lookUpTableBezier[v][2]+_[3]*this._lookUpTableBezier[v][3],this.vertex(s,a,l);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},c.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var n,s,a,l,v,w=[],x=[],_=[],E=arguments.length;if((n=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var C=1/this._lutQuadraticDetail,A=0,O=1,I=0;A<1;){if(n=parseFloat(A.toFixed(6)),this._lookUpTableQuadratic[I]=this._quadraticCoefficients(n),O.toFixed(6)===C.toFixed(6)){n=parseFloat(O.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableQuadratic[I]=this._quadraticCoefficients(n);break}A+=C,O-=C,++I}}var R=this._lookUpTableQuadratic.length;if(E===4){for(this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],v=0;v<R;v++)s=w[0]*this._lookUpTableQuadratic[v][0]+w[1]*this._lookUpTableQuadratic[v][1]+w[2]*this._lookUpTableQuadratic[v][2],a=x[0]*this._lookUpTableQuadratic[v][0]+x[1]*this._lookUpTableQuadratic[v][1]+x[2]*this._lookUpTableQuadratic[v][2],this.vertex(s,a);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(E===6){for(this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],_=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],v=0;v<R;v++)s=w[0]*this._lookUpTableQuadratic[v][0]+w[1]*this._lookUpTableQuadratic[v][1]+w[2]*this._lookUpTableQuadratic[v][2],a=x[0]*this._lookUpTableQuadratic[v][0]+x[1]*this._lookUpTableQuadratic[v][1]+x[2]*this._lookUpTableQuadratic[v][2],l=_[0]*this._lookUpTableQuadratic[v][0]+_[1]*this._lookUpTableQuadratic[v][1]+_[2]*this._lookUpTableQuadratic[v][2],this.vertex(s,a,l);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},c.default.RendererGL.prototype.curveVertex=function(){var n,s,a,l,v,w=[],x=[],_=[],E=arguments.length;if((n=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,A=0,O=1,I=0;A<1;){if(n=parseFloat(A.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(n),O.toFixed(6)===C.toFixed(6)){n=parseFloat(O.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(n);break}A+=C,O-=C,++I}}var R=this._lookUpTableBezier.length;if(E===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),v=0;v<R;v++)s=w[0]*this._lookUpTableBezier[v][0]+w[1]*this._lookUpTableBezier[v][1]+w[2]*this._lookUpTableBezier[v][2]+w[3]*this._lookUpTableBezier[v][3],a=x[0]*this._lookUpTableBezier[v][0]+x[1]*this._lookUpTableBezier[v][1]+x[2]*this._lookUpTableBezier[v][2]+x[3]*this._lookUpTableBezier[v][3],this.vertex(s,a);for(v=0;v<E;v++)this.immediateMode._curveVertex.shift()}}else if(E===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),v=0;v<R;v++)s=w[0]*this._lookUpTableBezier[v][0]+w[1]*this._lookUpTableBezier[v][1]+w[2]*this._lookUpTableBezier[v][2]+w[3]*this._lookUpTableBezier[v][3],a=x[0]*this._lookUpTableBezier[v][0]+x[1]*this._lookUpTableBezier[v][1]+x[2]*this._lookUpTableBezier[v][2]+x[3]*this._lookUpTableBezier[v][3],l=_[0]*this._lookUpTableBezier[v][0]+_[1]*this._lookUpTableBezier[v][1]+_[2]*this._lookUpTableBezier[v][2]+_[3]*this._lookUpTableBezier[v][3],this.vertex(s,a,l);for(v=0;v<E;v++)this.immediateMode._curveVertex.shift()}},c.default.RendererGL.prototype.image=function(n,s,a,l,v,w,x,_,E){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(n),this._pInst.textureMode(h.NORMAL);var C=0;s<=n.width&&(C=s/n.width);var A=1;s+l<=n.width&&(A=(s+l)/n.width);var O=0;a<=n.height&&(O=a/n.height);var I=1;a+v<=n.height&&(I=(a+v)/n.height),this.beginShape(),this.vertex(w,x,0,C,O),this.vertex(w+_,x,0,A,O),this.vertex(w+_,x+E,0,A,I),this.vertex(w,x+E,0,C,I),this.endShape(h.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(h.REMOVE)};var o=c.default;d.default=o},{"../core/constants":253,"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.number.to-fixed":172}],308:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=g();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}c.default.prototype.orbitControl=function(o,n,s){if(this._assert3d("orbitControl"),c.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var a=this._renderer._curCamera;o===void 0&&(o=1),n===void 0&&(n=o),s===void 0&&(s=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var l=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,s*l):this._renderer._curCamera._orbit(0,0,-s*l)),this.mouseIsPressed){if(this.mouseButton===this.LEFT){var v=-o*(this.mouseX-this.pmouseX)/l,w=n*(this.mouseY-this.pmouseY)/l;this._renderer._curCamera._orbit(v,w,0)}else if(this.mouseButton===this.RIGHT){var x=a._getLocalAxes(),_=Math.sqrt(x.x[0]*x.x[0]+x.x[2]*x.x[2]);_!==0&&(x.x[0]/=_,x.x[2]/=_);var E=Math.sqrt(x.y[0]*x.y[0]+x.y[2]*x.y[2]);E!==0&&(x.y[0]/=E,x.y[2]/=E);var C=-1*o*(this.mouseX-this.pmouseX),A=-1*n*(this.mouseY-this.pmouseY);a.setPosition(a.eyeX+C*x.x[0]+A*x.z[0],a.eyeY,a.eyeZ+C*x.x[2]+A*x.z[2])}}return this}},c.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];c.default._validateParameters("debugMode",n);for(var a=this._registeredMethods.post.length-1;0<=a;a--)this._registeredMethods.post[a].toString()!==this._grid().toString()&&this._registeredMethods.post[a].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(a,1);n[0]===h.GRID?this.registerMethod("post",this._grid.call(this,n[1],n[2],n[3],n[4],n[5])):n[0]===h.AXES?this.registerMethod("post",this._axesIcon.call(this,n[1],n[2],n[3],n[4])):(this.registerMethod("post",this._grid.call(this,n[0],n[1],n[2],n[3],n[4])),this.registerMethod("post",this._axesIcon.call(this,n[5],n[6],n[7],n[8])))},c.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var o=this._registeredMethods.post.length-1;0<=o;o--)this._registeredMethods.post[o].toString()!==this._grid().toString()&&this._registeredMethods.post[o].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(o,1)},c.default.prototype._grid=function(o,n,s,a,l){o===void 0&&(o=this.width/2),n===void 0&&(n=Math.round(o/30)<4?4:Math.round(o/30)),s===void 0&&(s=0),a===void 0&&(a=0),l===void 0&&(l=0);var v=o/n,w=o/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var x=0;x<=n;x++)this.beginShape(this.LINES),this.vertex(-w+s,a,x*v-w+l),this.vertex(+w+s,a,x*v-w+l),this.endShape();for(var _=0;_<=n;_++)this.beginShape(this.LINES),this.vertex(_*v-w+s,a,-w+l),this.vertex(_*v-w+s,a,+w+l),this.endShape();this.pop()}},c.default.prototype._axesIcon=function(o,n,s,a){return o===void 0&&(o=40<this.width/20?this.width/20:40),n===void 0&&(n=-this.width/4),s===void 0&&(s=n),a===void 0&&(a=n),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(n,s,a),this.vertex(n+o,s,a),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(n,s,a),this.vertex(n,s+o,a),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(n,s,a),this.vertex(n,s,a+o),this.endShape(),this.pop()}};var p=c.default;d.default=p},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],309:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=g();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}c.default.prototype.ambientLight=function(o,n,s,a){this._assert3d("ambientLight"),c.default._validateParameters("ambientLight",arguments);var l=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(l._array[0],l._array[1],l._array[2]),this._renderer._enableLighting=!0,this},c.default.prototype.specularColor=function(o,n,s){this._assert3d("specularColor"),c.default._validateParameters("specularColor",arguments);var a=this.color.apply(this,arguments);return this._renderer.specularColors=[a._array[0],a._array[1],a._array[2]],this},c.default.prototype.directionalLight=function(o,n,s,a,l,v){var w,x,_,E;this._assert3d("directionalLight"),c.default._validateParameters("directionalLight",arguments),w=o instanceof c.default.Color?o:this.color(o,n,s);var C=arguments[arguments.length-1];E=typeof C=="number"?(x=arguments[arguments.length-3],_=arguments[arguments.length-2],arguments[arguments.length-1]):(x=C.x,_=C.y,C.z);var A=Math.sqrt(x*x+_*_+E*E);return this._renderer.directionalLightDirections.push(x/A,_/A,E/A),this._renderer.directionalLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},c.default.prototype.pointLight=function(o,n,s,a,l,v){var w,x,_,E;this._assert3d("pointLight"),c.default._validateParameters("pointLight",arguments),w=o instanceof c.default.Color?o:this.color(o,n,s);var C=arguments[arguments.length-1];return E=typeof C=="number"?(x=arguments[arguments.length-3],_=arguments[arguments.length-2],arguments[arguments.length-1]):(x=C.x,_=C.y,C.z),this._renderer.pointLightPositions.push(x,_,E),this._renderer.pointLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},c.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===h.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var o=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,o),this.directionalLight(0,0,o,0,0,-1)}return this},c.default.prototype.lightFalloff=function(o,n,s){return this._assert3d("lightFalloff"),c.default._validateParameters("lightFalloff",arguments),o<0&&(o=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),n<0&&(n=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),o===0&&n===0&&s===0&&(o=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=o,this._renderer.linearAttenuation=n,this._renderer.quadraticAttenuation=s,this},c.default.prototype.spotLight=function(o,n,s,a,l,v,w,x,_,E,C){var A,O,I;this._assert3d("spotLight"),c.default._validateParameters("spotLight",arguments);var R=arguments.length;switch(R){case 11:case 10:A=this.color(o,n,s),O=new c.default.Vector(a,l,v),I=new c.default.Vector(w,x,_);break;case 9:o instanceof c.default.Color?(A=o,O=new c.default.Vector(n,s,a),I=new c.default.Vector(l,v,w),E=x,C=_):a instanceof c.default.Vector?(A=this.color(o,n,s),O=a,I=new c.default.Vector(l,v,w),E=x,C=_):w instanceof c.default.Vector?(A=this.color(o,n,s),O=new c.default.Vector(a,l,v),I=w,E=x,C=_):(A=this.color(o,n,s),O=new c.default.Vector(a,l,v),I=new c.default.Vector(w,x,_));break;case 8:E=(I=o instanceof c.default.Color?(A=o,O=new c.default.Vector(n,s,a),new c.default.Vector(l,v,w)):a instanceof c.default.Vector?(A=this.color(o,n,s),O=a,new c.default.Vector(l,v,w)):(A=this.color(o,n,s),O=new c.default.Vector(a,l,v),w),x);break;case 7:o instanceof c.default.Color&&n instanceof c.default.Vector?(A=o,O=n,I=new c.default.Vector(s,a,l),E=v,C=w):o instanceof c.default.Color&&l instanceof c.default.Vector?(A=o,O=new c.default.Vector(n,s,a),I=l,E=v,C=w):a instanceof c.default.Vector&&l instanceof c.default.Vector?(A=this.color(o,n,s),O=a,I=l,E=v,C=w):I=o instanceof c.default.Color?(A=o,O=new c.default.Vector(n,s,a),new c.default.Vector(l,v,w)):a instanceof c.default.Vector?(A=this.color(o,n,s),O=a,new c.default.Vector(l,v,w)):(A=this.color(o,n,s),O=new c.default.Vector(a,l,v),w);break;case 6:a instanceof c.default.Vector&&l instanceof c.default.Vector?(A=this.color(o,n,s),O=a,I=l,E=v):o instanceof c.default.Color&&l instanceof c.default.Vector?(A=o,O=new c.default.Vector(n,s,a),I=l,E=v):o instanceof c.default.Color&&n instanceof c.default.Vector&&(A=o,O=n,I=new c.default.Vector(s,a,l),E=v);break;case 5:o instanceof c.default.Color&&n instanceof c.default.Vector&&s instanceof c.default.Vector?(A=o,O=n,I=s,E=a,C=l):a instanceof c.default.Vector&&l instanceof c.default.Vector?(A=this.color(o,n,s),O=a,I=l):o instanceof c.default.Color&&l instanceof c.default.Vector?(A=o,O=new c.default.Vector(n,s,a),I=l):o instanceof c.default.Color&&n instanceof c.default.Vector&&(A=o,O=n,I=new c.default.Vector(s,a,l));break;case 4:A=o,O=n,I=s,E=a;break;case 3:A=o,O=n,I=s;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(R<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(A._array[0],A._array[1],A._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(O.x,O.y,O.z),I.normalize(),this._renderer.spotLightDirections.push(I.x,I.y,I.z),E===void 0&&(E=Math.PI/3),C!==void 0&&C<1?(C=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):C===void 0&&(C=100),E=this._renderer._pInst._toRadians(E),this._renderer.spotLightAngle.push(Math.cos(E)),this._renderer.spotLightConc.push(C),this._renderer._enableLighting=!0,this},c.default.prototype.noLights=function(){return this._assert3d("noLights"),c.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var p=c.default;d.default=p},{"../core/constants":253,"../core/main":264}],310:[function(e,m,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};function c(g,p,o){for(var n=0,s=g.length;n<s;n++)if(g[n]!==p.getUint8(o+n,!1))return!1;return!0}e("./p5.Geometry"),t.default.prototype.loadModel=function(g){var p,o,n;t.default._validateParameters("loadModel",arguments);var s=g.slice(-4);typeof arguments[1]=="boolean"?(p=arguments[1],o=arguments[2],n=arguments[3],arguments[4]!==void 0&&(s=arguments[4])):(p=!1,o=arguments[1],n=arguments[2],arguments[3]!==void 0&&(s=arguments[3]));var a=new t.default.Geometry;a.gid="".concat(g,"|").concat(p);var l=this;return s.match(/\.stl$/i)?this.httpDo(g,"GET","arrayBuffer",function(v){(function(w,x){if(function(C){for(var A=new DataView(C),O=[115,111,108,105,100],I=0;I<5;I++)if(c(O,A,I))return!1;return!0}(x))(function(C,A){for(var O,I,R,L,U,D,H,W=new DataView(A),ae=W.getUint32(80,!0),le=!1,J=0;J<70;J++)W.getUint32(J,!1)===1129270351&&W.getUint8(J+4)===82&&W.getUint8(J+5)===61&&(le=!0,L=[],U=W.getUint8(J+6)/255,D=W.getUint8(J+7)/255,H=W.getUint8(J+8)/255);for(var ue=0;ue<ae;ue++){var se=84+50*ue,me=W.getFloat32(se,!0),xe=W.getFloat32(4+se,!0),Ce=W.getFloat32(8+se,!0);if(le){var ve=W.getUint16(48+se,!0);R=32768&ve?(O=U,I=D,H):(O=(31&ve)/31,I=(ve>>5&31)/31,(ve>>10&31)/31)}for(var De=new t.default.Vector(me,xe,Ce),_e=1;_e<=3;_e++){var Se=se+12*_e,P=new t.default.Vector(W.getFloat32(Se,!0),W.getFloat32(4+Se,!0),W.getFloat32(8+Se,!0));C.vertices.push(P),C.vertexNormals.push(De),le&&L.push(O,I,R)}C.faces.push([3*ue,3*ue+1,3*ue+2]),C.uvs.push([0,0],[0,0],[0,0])}})(w,x);else{var _=new DataView(x);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");var E=new TextDecoder("utf-8").decode(_).split(`
`);(function(C,A){for(var O,I,R="",L=[],U=0;U<A.length;++U){for(var D=A[U].trim(),H=D.split(" "),W=0;W<H.length;++W)H[W]===""&&H.splice(W,1);if(H.length!==0)switch(R){case"":if(H[0]!=="solid")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "solid"'));R="solid";break;case"solid":if(H[0]!=="facet"||H[1]!=="normal")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "facet normal"'));O=new t.default.Vector(parseFloat(H[2]),parseFloat(H[3]),parseFloat(H[4])),C.vertexNormals.push(O,O,O),R="facet normal";break;case"facet normal":if(H[0]!=="outer"||H[1]!=="loop")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "outer loop"'));R="vertex";break;case"vertex":if(H[0]==="vertex")I=new t.default.Vector(parseFloat(H[1]),parseFloat(H[2]),parseFloat(H[3])),C.vertices.push(I),C.uvs.push([0,0]),L.push(C.vertices.indexOf(I));else{if(H[0]!=="endloop")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "vertex" or "endloop"'));C.faces.push(L),L=[],R="endloop"}break;case"endloop":if(H[0]!=="endfacet")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "endfacet"'));R="endfacet";break;case"endfacet":if(H[0]!=="endsolid"){if(H[0]!=="facet"||H[1]!=="normal")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "endsolid" or "facet normal"'));O=new t.default.Vector(parseFloat(H[2]),parseFloat(H[3]),parseFloat(H[4])),C.vertexNormals.push(O,O,O),R="facet normal"}break;default:console.error('Invalid state "'.concat(R,'"'))}}})(w,E)}})(a,v),p&&a.normalize(),l._decrementPreload(),typeof o=="function"&&o(a)},n):s.match(/\.obj$/i)?this.loadStrings(g,function(v){(function(w,x){for(var _={v:[],vt:[],vn:[]},E={},C=0;C<x.length;++C){var A=x[C].trim().split(/\b\s+/);if(0<A.length){if(A[0]==="v"||A[0]==="vn"){var O=new t.default.Vector(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));_[A[0]].push(O)}else if(A[0]==="vt"){var I=[parseFloat(A[1]),1-parseFloat(A[2])];_[A[0]].push(I)}else if(A[0]==="f")for(var R=3;R<A.length;++R){for(var L=[],U=[1,R-1,R],D=0;D<U.length;++D){var H=A[U[D]],W=0;if(E[H]!==void 0)W=E[H];else{for(var ae=H.split("/"),le=0;le<ae.length;le++)ae[le]=parseInt(ae[le])-1;W=E[H]=w.vertices.length,w.vertices.push(_.v[ae[0]].copy()),_.vt[ae[1]]?w.uvs.push(_.vt[ae[1]].slice()):w.uvs.push([0,0]),_.vn[ae[2]]&&w.vertexNormals.push(_.vn[ae[2]].copy())}L.push(W)}L[0]!==L[1]&&L[0]!==L[2]&&L[1]!==L[2]&&w.faces.push(L)}}}w.vertexNormals.length===0&&w.computeNormals()})(a,v),p&&a.normalize(),l._decrementPreload(),typeof o=="function"&&o(a)},n):(t.default._friendlyFileLoadError(3,g),n?n():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),a},t.default.prototype.model=function(g){this._assert3d("model"),t.default._validateParameters("model",arguments),0<g.vertices.length&&(this._renderer.geometryInHash(g.gid)||(g._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(g.gid,g)),this._renderer.drawBuffers(g.gid))};var h=t.default;d.default=h},{"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],311:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}e("core-js/modules/es.array.join"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=g();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}e("./p5.Texture"),c.default.prototype.loadShader=function(o,n,s,a){c.default._validateParameters("loadShader",arguments),a=a||console.error;function l(){w._decrementPreload(),s&&s(v)}var v=new c.default.Shader,w=this,x=!1,_=!1;return this.loadStrings(o,function(E){v._vertSrc=E.join(`
`),_=!0,x&&l()},a),this.loadStrings(n,function(E){v._fragSrc=E.join(`
`),x=!0,_&&l()},a),v},c.default.prototype.createShader=function(o,n){return this._assert3d("createShader"),c.default._validateParameters("createShader",arguments),new c.default.Shader(this._renderer,o,n)},c.default.prototype.shader=function(o){return this._assert3d("shader"),c.default._validateParameters("shader",arguments),o._renderer===void 0&&(o._renderer=this._renderer),o.init(),o.isStrokeShader()?this._renderer.userStrokeShader=o:(this._renderer.userFillShader=o,this._renderer._useNormalMaterial=!1),this},c.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},c.default.prototype.texture=function(o){return this._assert3d("texture"),c.default._validateParameters("texture",arguments),o.gifProperties&&o._animateGif(this),this._renderer.drawMode=h.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=o,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.textureMode=function(o){o!==h.IMAGE&&o!==h.NORMAL?console.warn("You tried to set ".concat(o," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=o},c.default.prototype.textureWrap=function(o){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o;this._renderer.textureWrapX=o,this._renderer.textureWrapY=n;for(var s=this._renderer.textures,a=0;a<s.length;a++)s[a].setWrapMode(o,n)},c.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return c.default._validateParameters("normalMaterial",n),this._renderer.drawMode=h.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},c.default.prototype.ambientMaterial=function(o,n,s){this._assert3d("ambientMaterial"),c.default._validateParameters("ambientMaterial",arguments);var a=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=a._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.emissiveMaterial=function(o,n,s,a){this._assert3d("emissiveMaterial"),c.default._validateParameters("emissiveMaterial",arguments);var l=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=l._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},c.default.prototype.specularMaterial=function(o,n,s,a){this._assert3d("specularMaterial"),c.default._validateParameters("specularMaterial",arguments);var l=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=l._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},c.default.prototype.shininess=function(o){return this._assert3d("shininess"),c.default._validateParameters("shininess",arguments),o<1&&(o=1),this._renderer._useShininess=o,this},c.default.RendererGL.prototype._applyColorBlend=function(o){var n=this.GL,s=this.drawMode===h.TEXTURE||o[o.length-1]<1||this._isErasing;return s!==this._isBlending&&(s||this.curBlendMode!==h.BLEND&&this.curBlendMode!==h.ADD?n.enable(n.BLEND):n.disable(n.BLEND),n.depthMask(!0),this._isBlending=s),this._applyBlendMode(),o},c.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var o=this.GL;switch(this.curBlendMode){case h.BLEND:case h.ADD:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA);break;case h.REMOVE:o.blendEquation(o.FUNC_REVERSE_SUBTRACT),o.blendFunc(o.SRC_ALPHA,o.DST_ALPHA);break;case h.MULTIPLY:o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD),o.blendFuncSeparate(o.ZERO,o.SRC_COLOR,o.ONE,o.ONE);break;case h.SCREEN:o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD),o.blendFuncSeparate(o.ONE_MINUS_DST_COLOR,o.ONE,o.ONE,o.ONE);break;case h.EXCLUSION:o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD),o.blendFuncSeparate(o.ONE_MINUS_DST_COLOR,o.ONE_MINUS_SRC_COLOR,o.ONE,o.ONE);break;case h.REPLACE:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ZERO);break;case h.SUBTRACT:o.blendEquationSeparate(o.FUNC_REVERSE_SUBTRACT,o.FUNC_ADD),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE,o.ONE,o.ONE);break;case h.DARKEST:this.blendExt?(o.blendEquationSeparate(this.blendExt.MIN_EXT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case h.LIGHTEST:this.blendExt?(o.blendEquationSeparate(this.blendExt.MAX_EXT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var p=c.default;d.default=p},{"../core/constants":253,"../core/main":264,"./p5.Texture":320,"core-js/modules/es.array.join":159}],312:[function(e,m,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.prototype.camera=function(){var h;this._assert3d("camera");for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];return t.default._validateParameters("camera",p),(h=this._renderer._curCamera).camera.apply(h,p),this},t.default.prototype.perspective=function(){var h;this._assert3d("perspective");for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];return t.default._validateParameters("perspective",p),(h=this._renderer._curCamera).perspective.apply(h,p),this},t.default.prototype.ortho=function(){var h;this._assert3d("ortho");for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];return t.default._validateParameters("ortho",p),(h=this._renderer._curCamera).ortho.apply(h,p),this},t.default.prototype.frustum=function(){var h;this._assert3d("frustum");for(var g=arguments.length,p=new Array(g),o=0;o<g;o++)p[o]=arguments[o];return t.default._validateParameters("frustum",p),(h=this._renderer._curCamera).frustum.apply(h,p),this},t.default.prototype.createCamera=function(){this._assert3d("createCamera");var h=new t.default.Camera(this._renderer);return h._computeCameraDefaultSettings(),h._setDefaultCamera(),this._renderer._curCamera=h},t.default.Camera=function(h){this._renderer=h,this.cameraType="default",this.cameraMatrix=new t.default.Matrix,this.projMatrix=new t.default.Matrix},t.default.Camera.prototype.perspective=function(h,g,p,o){this.cameraType=0<arguments.length?"custom":"default",h===void 0?(h=this.defaultCameraFOV,this.cameraFOV=h):this.cameraFOV=this._renderer._pInst._toRadians(h),g===void 0&&(g=this.defaultAspectRatio),p===void 0&&(p=this.defaultCameraNear),o===void 0&&(o=this.defaultCameraFar),p<=1e-4&&(p=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),o<p&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=g,this.cameraNear=p,this.cameraFar=o,this.projMatrix=t.default.Matrix.identity();var n=1/Math.tan(this.cameraFOV/2),s=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(n/g,0,0,0,0,-n,0,0,0,0,(o+p)*s,-1,0,0,2*o*p*s,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},t.default.Camera.prototype.ortho=function(h,g,p,o,n,s){h===void 0&&(h=-this._renderer.width/2),g===void 0&&(g=this._renderer.width/2),p===void 0&&(p=-this._renderer.height/2),o===void 0&&(o=this._renderer.height/2),n===void 0&&(n=0),s===void 0&&(s=Math.max(this._renderer.width,this._renderer.height));var a=g-h,l=o-p,v=s-n,w=2/a,x=2/l,_=-2/v,E=-(g+h)/a,C=-(o+p)/l,A=-(s+n)/v;this.projMatrix=t.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-x,0,0,0,0,_,0,E,C,A,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},t.default.Camera.prototype.frustum=function(h,g,p,o,n,s){h===void 0&&(h=-this._renderer.width/2),g===void 0&&(g=this._renderer.width/2),p===void 0&&(p=-this._renderer.height/2),o===void 0&&(o=this._renderer.height/2),n===void 0&&(n=0),s===void 0&&(s=Math.max(this._renderer.width,this._renderer.height));var a=g-h,l=o-p,v=s-n,w=2*n/a,x=2*n/l,_=-2*s*n/v,E=(g+h)/a,C=(o+p)/l,A=-(s+n)/v;this.projMatrix=t.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,x,0,0,E,C,A,-1,0,0,_,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},t.default.Camera.prototype._rotateView=function(h,g,p,o){var n=this.centerX,s=this.centerY,a=this.centerZ;n-=this.eyeX,s-=this.eyeY,a-=this.eyeZ;var l=t.default.Matrix.identity(this._renderer._pInst);l.rotate(this._renderer._pInst._toRadians(h),g,p,o);var v=[n*l.mat4[0]+s*l.mat4[4]+a*l.mat4[8],n*l.mat4[1]+s*l.mat4[5]+a*l.mat4[9],n*l.mat4[2]+s*l.mat4[6]+a*l.mat4[10]];v[0]+=this.eyeX,v[1]+=this.eyeY,v[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,v[0],v[1],v[2],this.upX,this.upY,this.upZ)},t.default.Camera.prototype.pan=function(h){var g=this._getLocalAxes();this._rotateView(h,g.y[0],g.y[1],g.y[2])},t.default.Camera.prototype.tilt=function(h){var g=this._getLocalAxes();this._rotateView(h,g.x[0],g.x[1],g.x[2])},t.default.Camera.prototype.lookAt=function(h,g,p){this.camera(this.eyeX,this.eyeY,this.eyeZ,h,g,p,this.upX,this.upY,this.upZ)},t.default.Camera.prototype.camera=function(h,g,p,o,n,s,a,l,v){h===void 0&&(h=this.defaultEyeX,g=this.defaultEyeY,p=this.defaultEyeZ,o=h,n=g,l=1,v=a=s=0),this.eyeX=h,this.eyeY=g,this.eyeZ=p,o!==void 0&&(this.centerX=o,this.centerY=n,this.centerZ=s),a!==void 0&&(this.upX=a,this.upY=l,this.upZ=v);var w=this._getLocalAxes();this.cameraMatrix.set(w.x[0],w.y[0],w.z[0],0,w.x[1],w.y[1],w.z[1],0,w.x[2],w.y[2],w.z[2],0,0,0,0,1);var x=-h,_=-g,E=-p;return this.cameraMatrix.translate([x,_,E]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},t.default.Camera.prototype.move=function(h,g,p){var o=this._getLocalAxes(),n=[o.x[0]*h,o.x[1]*h,o.x[2]*h],s=[o.y[0]*g,o.y[1]*g,o.y[2]*g],a=[o.z[0]*p,o.z[1]*p,o.z[2]*p];this.camera(this.eyeX+n[0]+s[0]+a[0],this.eyeY+n[1]+s[1]+a[1],this.eyeZ+n[2]+s[2]+a[2],this.centerX+n[0]+s[0]+a[0],this.centerY+n[1]+s[1]+a[1],this.centerZ+n[2]+s[2]+a[2],0,1,0)},t.default.Camera.prototype.setPosition=function(h,g,p){var o=h-this.eyeX,n=g-this.eyeY,s=p-this.eyeZ;this.camera(h,g,p,this.centerX+o,this.centerY+n,this.centerZ+s,0,1,0)},t.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},t.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},t.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},t.default.Camera.prototype.copy=function(){var h=new t.default.Camera(this._renderer);return h.cameraFOV=this.cameraFOV,h.aspectRatio=this.aspectRatio,h.eyeX=this.eyeX,h.eyeY=this.eyeY,h.eyeZ=this.eyeZ,h.centerX=this.centerX,h.centerY=this.centerY,h.centerZ=this.centerZ,h.cameraNear=this.cameraNear,h.cameraFar=this.cameraFar,h.cameraType=this.cameraType,h.cameraMatrix=this.cameraMatrix.copy(),h.projMatrix=this.projMatrix.copy(),h},t.default.Camera.prototype._getLocalAxes=function(){var h=this.eyeX-this.centerX,g=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,o=Math.sqrt(h*h+g*g+p*p);o!==0&&(h/=o,g/=o,p/=o);var n=this.upX,s=this.upY,a=this.upZ,l=s*p-a*g,v=-n*p+a*h,w=n*g-s*h;n=g*w-p*v,s=-h*w+p*l,a=h*v-g*l;var x=Math.sqrt(l*l+v*v+w*w);x!==0&&(l/=x,v/=x,w/=x);var _=Math.sqrt(n*n+s*s+a*a);return _!==0&&(n/=_,s/=_,a/=_),{x:[l,v,w],y:[n,s,a],z:[h,g,p]}},t.default.Camera.prototype._orbit=function(h,g,p){var o=this.eyeX-this.centerX,n=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,a=Math.sqrt(o*o+n*n+s*s),l=Math.atan2(o,s),v=Math.acos(Math.max(-1,Math.min(1,n/a)));l+=h,(a+=p)<0&&(a=.1),(v+=g)>Math.PI?v=Math.PI:v<=0&&(v=.001);var w=Math.sin(v)*a*Math.sin(l),x=Math.cos(v)*a,_=Math.sin(v)*a*Math.cos(l);this.camera(w+this.centerX,x+this.centerY,_+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},t.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},t.default.prototype.setCamera=function(h){this._renderer._curCamera=h,this._renderer.uPMatrix.set(h.projMatrix.mat4[0],h.projMatrix.mat4[1],h.projMatrix.mat4[2],h.projMatrix.mat4[3],h.projMatrix.mat4[4],h.projMatrix.mat4[5],h.projMatrix.mat4[6],h.projMatrix.mat4[7],h.projMatrix.mat4[8],h.projMatrix.mat4[9],h.projMatrix.mat4[10],h.projMatrix.mat4[11],h.projMatrix.mat4[12],h.projMatrix.mat4[13],h.projMatrix.mat4[14],h.projMatrix.mat4[15])};var c=t.default.Camera;d.default=c},{"../core/main":264}],313:[function(e,m,d){e("core-js/modules/es.string.sub"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.Geometry=function(h,g,p){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=h!==void 0?h:1,this.detailY=g!==void 0?g:1,this.dirtyFlags={},p instanceof Function&&p.call(this),this},t.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},t.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var h,g,p,o,n=this.detailX+1,s=0;s<this.detailY;s++)for(var a=0;a<this.detailX;a++)g=(h=s*n+a)+1,p=(s+1)*n+a+1,o=(s+1)*n+a,this.faces.push([h,g,o]),this.faces.push([o,g,p]);return this},t.default.Geometry.prototype._getFaceNormal=function(h){var g=this.faces[h],p=this.vertices[g[0]],o=this.vertices[g[1]],n=this.vertices[g[2]],s=t.default.Vector.sub(o,p),a=t.default.Vector.sub(n,p),l=t.default.Vector.cross(s,a),v=t.default.Vector.mag(l),w=v/(t.default.Vector.mag(s)*t.default.Vector.mag(a));return w===0||isNaN(w)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),l):(1<w&&(w=1),l.mult(Math.asin(w)/v))},t.default.Geometry.prototype.computeNormals=function(){var h,g=this.vertexNormals,p=this.vertices,o=this.faces;for(h=g.length=0;h<p.length;++h)g.push(new t.default.Vector);for(var n=0;n<o.length;++n)for(var s=o[n],a=this._getFaceNormal(n),l=0;l<3;++l)g[s[l]].add(a);for(h=0;h<p.length;++h)g[h].normalize();return this},t.default.Geometry.prototype.averageNormals=function(){for(var h=0;h<=this.detailY;h++){var g=this.detailX+1,p=t.default.Vector.add(this.vertexNormals[h*g],this.vertexNormals[h*g+this.detailX]);p=t.default.Vector.div(p,2),this.vertexNormals[h*g]=p,this.vertexNormals[h*g+this.detailX]=p}return this},t.default.Geometry.prototype.averagePoleNormals=function(){for(var h=new t.default.Vector(0,0,0),g=0;g<this.detailX;g++)h.add(this.vertexNormals[g]);h=t.default.Vector.div(h,this.detailX);for(var p=0;p<this.detailX;p++)this.vertexNormals[p]=h;h=new t.default.Vector(0,0,0);for(var o=this.vertices.length-1;o>this.vertices.length-1-this.detailX;o--)h.add(this.vertexNormals[o]);h=t.default.Vector.div(h,this.detailX);for(var n=this.vertices.length-1;n>this.vertices.length-1-this.detailX;n--)this.vertexNormals[n]=h;return this},t.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var h=0,g=this.strokeIndices.length;h<g;h++)this.edges.push(this.strokeIndices[h]);else for(var p=0;p<this.faces.length;p++)this.edges.push([this.faces[p][0],this.faces[p][1]]),this.edges.push([this.faces[p][1],this.faces[p][2]]),this.edges.push([this.faces[p][2],this.faces[p][0]]);return this},t.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var h=this.lineNormals.length=0;h<this.edges.length;h++){var g=this.vertices[this.edges[h][0]],p=this.vertices[this.edges[h][1]],o=p.copy().sub(g).normalize(),n=g.array(),s=g.array(),a=p.array(),l=p.array(),v=o.array(),w=o.array();v.push(1),w.push(-1),this.lineNormals.push(v,w,v,v,w,w),this.lineVertices.push(n,s,a,a,s,l)}return this},t.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var h=this.vertices[0].copy(),g=this.vertices[0].copy(),p=0;p<this.vertices.length;p++)h.x=Math.max(h.x,this.vertices[p].x),g.x=Math.min(g.x,this.vertices[p].x),h.y=Math.max(h.y,this.vertices[p].y),g.y=Math.min(g.y,this.vertices[p].y),h.z=Math.max(h.z,this.vertices[p].z),g.z=Math.min(g.z,this.vertices[p].z);for(var o=t.default.Vector.lerp(h,g,.5),n=t.default.Vector.sub(h,g),s=200/Math.max(Math.max(n.x,n.y),n.z),a=0;a<this.vertices.length;a++)this.vertices[a].sub(o),this.vertices[a].mult(s)}return this};var c=t.default.Geometry;d.default=c},{"../core/main":264,"core-js/modules/es.string.sub":192}],314:[function(e,m,d){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f},c=Array,h=function(p){return p instanceof Array};typeof Float32Array<"u"&&(c=Float32Array,h=function(p){return p instanceof Array||p instanceof Float32Array}),t.default.Matrix=function(){for(var p=new Array(arguments.length),o=0;o<p.length;++o)p[o]=arguments[o];return p.length&&p[p.length-1]instanceof t.default&&(this.p5=p[p.length-1]),p[0]==="mat3"?this.mat3=Array.isArray(p[1])?p[1]:new c([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(p[0])?p[0]:new c([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},t.default.Matrix.prototype.set=function(p){return p instanceof t.default.Matrix?this.mat4=p.mat4:h(p)?this.mat4=p:arguments.length===16&&(this.mat4[0]=p,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},t.default.Matrix.prototype.get=function(){return new t.default.Matrix(this.mat4,this.p5)},t.default.Matrix.prototype.copy=function(){var p=new t.default.Matrix(this.p5);return p.mat4[0]=this.mat4[0],p.mat4[1]=this.mat4[1],p.mat4[2]=this.mat4[2],p.mat4[3]=this.mat4[3],p.mat4[4]=this.mat4[4],p.mat4[5]=this.mat4[5],p.mat4[6]=this.mat4[6],p.mat4[7]=this.mat4[7],p.mat4[8]=this.mat4[8],p.mat4[9]=this.mat4[9],p.mat4[10]=this.mat4[10],p.mat4[11]=this.mat4[11],p.mat4[12]=this.mat4[12],p.mat4[13]=this.mat4[13],p.mat4[14]=this.mat4[14],p.mat4[15]=this.mat4[15],p},t.default.Matrix.identity=function(p){return new t.default.Matrix(p)},t.default.Matrix.prototype.transpose=function(p){var o,n,s,a,l,v;return p instanceof t.default.Matrix?(o=p.mat4[1],n=p.mat4[2],s=p.mat4[3],a=p.mat4[6],l=p.mat4[7],v=p.mat4[11],this.mat4[0]=p.mat4[0],this.mat4[1]=p.mat4[4],this.mat4[2]=p.mat4[8],this.mat4[3]=p.mat4[12],this.mat4[4]=o,this.mat4[5]=p.mat4[5],this.mat4[6]=p.mat4[9],this.mat4[7]=p.mat4[13],this.mat4[8]=n,this.mat4[9]=a,this.mat4[10]=p.mat4[10],this.mat4[11]=p.mat4[14],this.mat4[12]=s,this.mat4[13]=l,this.mat4[14]=v,this.mat4[15]=p.mat4[15]):h(p)&&(o=p[1],n=p[2],s=p[3],a=p[6],l=p[7],v=p[11],this.mat4[0]=p[0],this.mat4[1]=p[4],this.mat4[2]=p[8],this.mat4[3]=p[12],this.mat4[4]=o,this.mat4[5]=p[5],this.mat4[6]=p[9],this.mat4[7]=p[13],this.mat4[8]=n,this.mat4[9]=a,this.mat4[10]=p[10],this.mat4[11]=p[14],this.mat4[12]=s,this.mat4[13]=l,this.mat4[14]=v,this.mat4[15]=p[15]),this},t.default.Matrix.prototype.invert=function(p){var o,n,s,a,l,v,w,x,_,E,C,A,O,I,R,L;p instanceof t.default.Matrix?(o=p.mat4[0],n=p.mat4[1],s=p.mat4[2],a=p.mat4[3],l=p.mat4[4],v=p.mat4[5],w=p.mat4[6],x=p.mat4[7],_=p.mat4[8],E=p.mat4[9],C=p.mat4[10],A=p.mat4[11],O=p.mat4[12],I=p.mat4[13],R=p.mat4[14],L=p.mat4[15]):h(p)&&(o=p[0],n=p[1],s=p[2],a=p[3],l=p[4],v=p[5],w=p[6],x=p[7],_=p[8],E=p[9],C=p[10],A=p[11],O=p[12],I=p[13],R=p[14],L=p[15]);var U=o*v-n*l,D=o*w-s*l,H=o*x-a*l,W=n*w-s*v,ae=n*x-a*v,le=s*x-a*w,J=_*I-E*O,ue=_*R-C*O,se=_*L-A*O,me=E*R-C*I,xe=E*L-A*I,Ce=C*L-A*R,ve=U*Ce-D*xe+H*me+W*se-ae*ue+le*J;return ve?(ve=1/ve,this.mat4[0]=(v*Ce-w*xe+x*me)*ve,this.mat4[1]=(s*xe-n*Ce-a*me)*ve,this.mat4[2]=(I*le-R*ae+L*W)*ve,this.mat4[3]=(C*ae-E*le-A*W)*ve,this.mat4[4]=(w*se-l*Ce-x*ue)*ve,this.mat4[5]=(o*Ce-s*se+a*ue)*ve,this.mat4[6]=(R*H-O*le-L*D)*ve,this.mat4[7]=(_*le-C*H+A*D)*ve,this.mat4[8]=(l*xe-v*se+x*J)*ve,this.mat4[9]=(n*se-o*xe-a*J)*ve,this.mat4[10]=(O*ae-I*H+L*U)*ve,this.mat4[11]=(E*H-_*ae-A*U)*ve,this.mat4[12]=(v*ue-l*me-w*J)*ve,this.mat4[13]=(o*me-n*ue+s*J)*ve,this.mat4[14]=(I*D-O*W-R*U)*ve,this.mat4[15]=(_*W-E*D+C*U)*ve,this):null},t.default.Matrix.prototype.invert3x3=function(){var p=this.mat3[0],o=this.mat3[1],n=this.mat3[2],s=this.mat3[3],a=this.mat3[4],l=this.mat3[5],v=this.mat3[6],w=this.mat3[7],x=this.mat3[8],_=x*a-l*w,E=-x*s+l*v,C=w*s-a*v,A=p*_+o*E+n*C;return A?(A=1/A,this.mat3[0]=_*A,this.mat3[1]=(-x*o+n*w)*A,this.mat3[2]=(l*o-n*a)*A,this.mat3[3]=E*A,this.mat3[4]=(x*p-n*v)*A,this.mat3[5]=(-l*p+n*s)*A,this.mat3[6]=C*A,this.mat3[7]=(-w*p+o*v)*A,this.mat3[8]=(a*p-o*s)*A,this):null},t.default.Matrix.prototype.transpose3x3=function(p){var o=p[1],n=p[2],s=p[5];return this.mat3[1]=p[3],this.mat3[2]=p[6],this.mat3[3]=o,this.mat3[5]=p[7],this.mat3[6]=n,this.mat3[7]=s,this},t.default.Matrix.prototype.inverseTranspose=function(p){this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=p.mat4[0],this.mat3[1]=p.mat4[1],this.mat3[2]=p.mat4[2],this.mat3[3]=p.mat4[4],this.mat3[4]=p.mat4[5],this.mat3[5]=p.mat4[6],this.mat3[6]=p.mat4[8],this.mat3[7]=p.mat4[9],this.mat3[8]=p.mat4[10]);var o=this.invert3x3();if(o)o.transpose3x3(this.mat3);else for(var n=0;n<9;n++)this.mat3[n]=0;return this},t.default.Matrix.prototype.determinant=function(){var p=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],o=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],n=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],s=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],a=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],l=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],v=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],w=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],x=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],_=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],E=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return p*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-o*E+n*_+s*x-a*w+l*v},t.default.Matrix.prototype.mult=function(p){var o;if(p===this||p===this.mat4)o=this.copy().mat4;else if(p instanceof t.default.Matrix)o=p.mat4;else if(h(p))o=p;else{if(arguments.length!==16)return;o=arguments}var n=this.mat4[0],s=this.mat4[1],a=this.mat4[2],l=this.mat4[3];return this.mat4[0]=n*o[0]+s*o[4]+a*o[8]+l*o[12],this.mat4[1]=n*o[1]+s*o[5]+a*o[9]+l*o[13],this.mat4[2]=n*o[2]+s*o[6]+a*o[10]+l*o[14],this.mat4[3]=n*o[3]+s*o[7]+a*o[11]+l*o[15],n=this.mat4[4],s=this.mat4[5],a=this.mat4[6],l=this.mat4[7],this.mat4[4]=n*o[0]+s*o[4]+a*o[8]+l*o[12],this.mat4[5]=n*o[1]+s*o[5]+a*o[9]+l*o[13],this.mat4[6]=n*o[2]+s*o[6]+a*o[10]+l*o[14],this.mat4[7]=n*o[3]+s*o[7]+a*o[11]+l*o[15],n=this.mat4[8],s=this.mat4[9],a=this.mat4[10],l=this.mat4[11],this.mat4[8]=n*o[0]+s*o[4]+a*o[8]+l*o[12],this.mat4[9]=n*o[1]+s*o[5]+a*o[9]+l*o[13],this.mat4[10]=n*o[2]+s*o[6]+a*o[10]+l*o[14],this.mat4[11]=n*o[3]+s*o[7]+a*o[11]+l*o[15],n=this.mat4[12],s=this.mat4[13],a=this.mat4[14],l=this.mat4[15],this.mat4[12]=n*o[0]+s*o[4]+a*o[8]+l*o[12],this.mat4[13]=n*o[1]+s*o[5]+a*o[9]+l*o[13],this.mat4[14]=n*o[2]+s*o[6]+a*o[10]+l*o[14],this.mat4[15]=n*o[3]+s*o[7]+a*o[11]+l*o[15],this},t.default.Matrix.prototype.apply=function(p){var o;if(p===this||p===this.mat4)o=this.copy().mat4;else if(p instanceof t.default.Matrix)o=p.mat4;else if(h(p))o=p;else{if(arguments.length!==16)return;o=arguments}var n=this.mat4,s=n[0],a=n[4],l=n[8],v=n[12];n[0]=o[0]*s+o[1]*a+o[2]*l+o[3]*v,n[4]=o[4]*s+o[5]*a+o[6]*l+o[7]*v,n[8]=o[8]*s+o[9]*a+o[10]*l+o[11]*v,n[12]=o[12]*s+o[13]*a+o[14]*l+o[15]*v;var w=n[1],x=n[5],_=n[9],E=n[13];n[1]=o[0]*w+o[1]*x+o[2]*_+o[3]*E,n[5]=o[4]*w+o[5]*x+o[6]*_+o[7]*E,n[9]=o[8]*w+o[9]*x+o[10]*_+o[11]*E,n[13]=o[12]*w+o[13]*x+o[14]*_+o[15]*E;var C=n[2],A=n[6],O=n[10],I=n[14];n[2]=o[0]*C+o[1]*A+o[2]*O+o[3]*I,n[6]=o[4]*C+o[5]*A+o[6]*O+o[7]*I,n[10]=o[8]*C+o[9]*A+o[10]*O+o[11]*I,n[14]=o[12]*C+o[13]*A+o[14]*O+o[15]*I;var R=n[3],L=n[7],U=n[11],D=n[15];return n[3]=o[0]*R+o[1]*L+o[2]*U+o[3]*D,n[7]=o[4]*R+o[5]*L+o[6]*U+o[7]*D,n[11]=o[8]*R+o[9]*L+o[10]*U+o[11]*D,n[15]=o[12]*R+o[13]*L+o[14]*U+o[15]*D,this},t.default.Matrix.prototype.scale=function(p,o,n){return p instanceof t.default.Vector?(o=p.y,n=p.z,p=p.x):p instanceof Array&&(o=p[1],n=p[2],p=p[0]),this.mat4[0]*=p,this.mat4[1]*=p,this.mat4[2]*=p,this.mat4[3]*=p,this.mat4[4]*=o,this.mat4[5]*=o,this.mat4[6]*=o,this.mat4[7]*=o,this.mat4[8]*=n,this.mat4[9]*=n,this.mat4[10]*=n,this.mat4[11]*=n,this},t.default.Matrix.prototype.rotate=function(p,o,n,s){o instanceof t.default.Vector?(n=o.y,s=o.z,o=o.x):o instanceof Array&&(n=o[1],s=o[2],o=o[0]);var a=Math.sqrt(o*o+n*n+s*s);o*=1/a,n*=1/a,s*=1/a;var l=this.mat4[0],v=this.mat4[1],w=this.mat4[2],x=this.mat4[3],_=this.mat4[4],E=this.mat4[5],C=this.mat4[6],A=this.mat4[7],O=this.mat4[8],I=this.mat4[9],R=this.mat4[10],L=this.mat4[11],U=Math.sin(p),D=Math.cos(p),H=1-D,W=o*o*H+D,ae=n*o*H+s*U,le=s*o*H-n*U,J=o*n*H-s*U,ue=n*n*H+D,se=s*n*H+o*U,me=o*s*H+n*U,xe=n*s*H-o*U,Ce=s*s*H+D;return this.mat4[0]=l*W+_*ae+O*le,this.mat4[1]=v*W+E*ae+I*le,this.mat4[2]=w*W+C*ae+R*le,this.mat4[3]=x*W+A*ae+L*le,this.mat4[4]=l*J+_*ue+O*se,this.mat4[5]=v*J+E*ue+I*se,this.mat4[6]=w*J+C*ue+R*se,this.mat4[7]=x*J+A*ue+L*se,this.mat4[8]=l*me+_*xe+O*Ce,this.mat4[9]=v*me+E*xe+I*Ce,this.mat4[10]=w*me+C*xe+R*Ce,this.mat4[11]=x*me+A*xe+L*Ce,this},t.default.Matrix.prototype.translate=function(p){var o=p[0],n=p[1],s=p[2]||0;this.mat4[12]+=this.mat4[0]*o+this.mat4[4]*n+this.mat4[8]*s,this.mat4[13]+=this.mat4[1]*o+this.mat4[5]*n+this.mat4[9]*s,this.mat4[14]+=this.mat4[2]*o+this.mat4[6]*n+this.mat4[10]*s,this.mat4[15]+=this.mat4[3]*o+this.mat4[7]*n+this.mat4[11]*s},t.default.Matrix.prototype.rotateX=function(p){this.rotate(p,1,0,0)},t.default.Matrix.prototype.rotateY=function(p){this.rotate(p,0,1,0)},t.default.Matrix.prototype.rotateZ=function(p){this.rotate(p,0,0,1)},t.default.Matrix.prototype.perspective=function(p,o,n,s){var a=1/Math.tan(p/2),l=1/(n-s);return this.mat4[0]=a/o,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=a,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(s+n)*l,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*s*n*l,this.mat4[15]=0,this},t.default.Matrix.prototype.ortho=function(p,o,n,s,a,l){var v=1/(p-o),w=1/(n-s),x=1/(a-l);return this.mat4[0]=-2*v,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*w,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*x,this.mat4[11]=0,this.mat4[12]=(p+o)*v,this.mat4[13]=(s+n)*w,this.mat4[14]=(l+a)*x,this.mat4[15]=1,this};var g=t.default.Matrix;d.default=g},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],315:[function(e,m,d){e("core-js/modules/es.array.map"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.RenderBuffer=function(h,g,p,o,n,s){this.size=h,this.src=g,this.dst=p,this.attr=o,this._renderer=n,this.map=s},t.default.RenderBuffer.prototype._prepareBuffer=function(h,g){var p,o=g.attributes,n=this._renderer.GL;p=h.model?h.model:h;var s=o[this.attr];if(s){var a=h[this.dst],l=p[this.src];if(0<l.length){var v=!a;if(v&&(h[this.dst]=a=n.createBuffer()),n.bindBuffer(n.ARRAY_BUFFER,a),v||p.dirtyFlags[this.src]!==!1){var w=this.map,x=w?w(l):l;this._renderer._bindBuffer(a,n.ARRAY_BUFFER,x),p.dirtyFlags[this.src]=!1}g.enableAttrib(s,this.size)}}};var c=t.default.RenderBuffer;d.default=c},{"../core/main":264,"core-js/modules/es.array.map":161}],316:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=g();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}e("./p5.RenderBuffer"),c.default.RendererGL.prototype.beginShape=function(o){return this.immediateMode.shapeMode=o!==void 0?o:h.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},c.default.RendererGL.prototype.vertex=function(o,n){var s,a,l;s=a=l=0,arguments.length===3?s=arguments[2]:arguments.length===4?(a=arguments[2],l=arguments[3]):arguments.length===5&&(s=arguments[2],a=arguments[3],l=arguments[4]);var v=new c.default.Vector(o,n,s);this.immediateMode.geometry.vertices.push(v),this.immediateMode.geometry.vertexNormals.push(this._currentNormal);var w=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(w[0],w[1],w[2],w[3]),this.textureMode===h.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(a/=this._tex.width,l/=this._tex.height):this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(a,l),this.immediateMode._bezierVertex[0]=o,this.immediateMode._bezierVertex[1]=n,this.immediateMode._bezierVertex[2]=s,this.immediateMode._quadraticVertex[0]=o,this.immediateMode._quadraticVertex[1]=n,this.immediateMode._quadraticVertex[2]=s,this},c.default.RendererGL.prototype.normal=function(o,n,s){return o instanceof c.default.Vector?this._currentNormal=o:this._currentNormal=new c.default.Vector(o,n,s),this},c.default.RendererGL.prototype.endShape=function(o,n,s,a,l,v){return this.immediateMode.shapeMode===h.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},c.default.RendererGL.prototype._processVertices=function(o){if(this.immediateMode.geometry.vertices.length!==0){var n=this._doStroke&&this.drawMode!==h.TEXTURE,s=o===h.CLOSE;n&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,s),this.immediateMode.geometry._edgesToVertices());var a=this.immediateMode.shapeMode===h.TESS;(this.isBezier||this.isQuadratic||this.isCurve||a)&&this.immediateMode.shapeMode!==h.LINES&&this._tesselateShape()}},c.default.RendererGL.prototype._calculateEdges=function(o,n,s){var a=[],l=0;switch(o){case h.TRIANGLE_STRIP:for(l=0;l<n.length-2;l++)a.push([l,l+1]),a.push([l,l+2]);a.push([l,l+1]);break;case h.TRIANGLES:for(l=0;l<n.length-2;l+=3)a.push([l,l+1]),a.push([l+1,l+2]),a.push([l+2,l]);break;case h.LINES:for(l=0;l<n.length-1;l+=2)a.push([l,l+1]);break;default:for(l=0;l<n.length-1;l++)a.push([l,l+1])}return s&&a.push([n.length-1,0]),a},c.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=h.TRIANGLES;var o=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],n=this._triangulate(o);this.immediateMode.geometry.vertices=[];for(var s=0,a=n.length;s<a;s+=3)this.vertex(n[s],n[s+1],n[s+2])},c.default.RendererGL.prototype._drawImmediateFill=function(){var o=this.GL,n=this._getImmediateFillShader();this._setFillUniforms(n);var s=!0,a=!1,l=void 0;try{for(var v,w=this.immediateMode.buffers.fill[Symbol.iterator]();!(s=(v=w.next()).done);s=!0)v.value._prepareBuffer(this.immediateMode.geometry,n)}catch(x){a=!0,l=x}finally{try{s||w.return==null||w.return()}finally{if(a)throw l}}this.immediateMode.shapeMode!==h.LINE_STRIP&&this.immediateMode.shapeMode!==h.LINES||(this.immediateMode.shapeMode=h.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),o.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),n.unbindShader()},c.default.RendererGL.prototype._drawImmediateStroke=function(){var o=this.GL,n=this._getImmediateStrokeShader();this._setStrokeUniforms(n);var s=!0,a=!1,l=void 0;try{for(var v,w=this.immediateMode.buffers.stroke[Symbol.iterator]();!(s=(v=w.next()).done);s=!0)v.value._prepareBuffer(this.immediateMode.geometry,n)}catch(x){a=!0,l=x}finally{try{s||w.return==null||w.return()}finally{if(a)throw l}}this._applyColorBlend(this.curStrokeColor),o.drawArrays(o.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),n.unbindShader()};var p=c.default.RendererGL;d.default=p},{"../core/constants":253,"../core/main":264,"./p5.RenderBuffer":315,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/web.dom-collections.iterator":229}],317:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};e("./p5.RendererGL"),e("./p5.RenderBuffer");var c=0;t.default.RendererGL.prototype._initBufferDefaults=function(g){if(this._freeBuffers(g),1e3<++c){var p=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[p],c--}return this.retainedMode.geometry[g]={}},t.default.RendererGL.prototype._freeBuffers=function(g){var p=this.retainedMode.geometry[g];if(p){delete this.retainedMode.geometry[g],c--;var o=this.GL;p.indexBuffer&&o.deleteBuffer(p.indexBuffer),n(this.retainedMode.buffers.stroke),n(this.retainedMode.buffers.fill)}function n(s){var a=!0,l=!1,v=void 0;try{for(var w,x=s[Symbol.iterator]();!(a=(w=x.next()).done);a=!0){var _=w.value;p[_.dst]&&(o.deleteBuffer(p[_.dst]),p[_.dst]=null)}}catch(E){l=!0,v=E}finally{try{a||x.return==null||x.return()}finally{if(l)throw v}}}},t.default.RendererGL.prototype.createBuffers=function(g,p){var o=this.GL,n=this._initBufferDefaults(g);n.model=p;var s=n.indexBuffer;if(p.faces.length){s=s||(n.indexBuffer=o.createBuffer());var a=t.default.RendererGL.prototype._flatten(p.faces),l=a.some(function(w){return 65535<w}),v=l?Uint32Array:Uint16Array;this._bindBuffer(s,o.ELEMENT_ARRAY_BUFFER,a,v),n.indexBufferType=l?o.UNSIGNED_INT:o.UNSIGNED_SHORT,n.vertexCount=3*p.faces.length}else s&&(o.deleteBuffer(s),n.indexBuffer=null),n.vertexCount=p.vertices?p.vertices.length:0;return n.lineVertexCount=p.lineVertices?p.lineVertices.length:0,n},t.default.RendererGL.prototype.drawBuffers=function(g){var p=this.GL,o=this.retainedMode.geometry[g];if(this._doStroke&&0<o.lineVertexCount){var n=this._getRetainedStrokeShader();this._setStrokeUniforms(n);var s=!0,a=!1,l=void 0;try{for(var v,w=this.retainedMode.buffers.stroke[Symbol.iterator]();!(s=(v=w.next()).done);s=!0)v.value._prepareBuffer(o,n)}catch(I){a=!0,l=I}finally{try{s||w.return==null||w.return()}finally{if(a)throw l}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(p.TRIANGLES,g),n.unbindShader()}if(this._doFill){var x=this._getRetainedFillShader();this._setFillUniforms(x);var _=!0,E=!1,C=void 0;try{for(var A,O=this.retainedMode.buffers.fill[Symbol.iterator]();!(_=(A=O.next()).done);_=!0)A.value._prepareBuffer(o,x)}catch(I){E=!0,C=I}finally{try{_||O.return==null||O.return()}finally{if(E)throw C}}o.indexBuffer&&this._bindBuffer(o.indexBuffer,p.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(p.TRIANGLES,g),x.unbindShader()}return this},t.default.RendererGL.prototype.drawBuffersScaled=function(g,p,o,n){var s=this.uMVMatrix.copy();try{this.uMVMatrix.scale(p,o,n),this.drawBuffers(g)}finally{this.uMVMatrix=s}},t.default.RendererGL.prototype._drawArrays=function(g,p){return this.GL.drawArrays(g,0,this.retainedMode.geometry[p].lineVertexCount),this},t.default.RendererGL.prototype._drawElements=function(g,p){var o=this.retainedMode.geometry[p],n=this.GL;if(o.indexBuffer){if(o.indexBufferType===n.UNSIGNED_INT&&!n.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");n.drawElements(n.TRIANGLES,o.vertexCount,o.indexBufferType,0)}else n.drawArrays(g||n.TRIANGLES,0,o.vertexCount)},t.default.RendererGL.prototype._drawPoints=function(g,p){var o=this.GL,n=this._getImmediatePointShader();this._setPointUniforms(n),this._bindBuffer(p,o.ARRAY_BUFFER,this._vToNArray(g),Float32Array,o.STATIC_DRAW),n.enableAttrib(n.attributes.aPosition,3),o.drawArrays(o.Points,0,g.length),n.unbindShader()};var h=t.default.RendererGL;d.default=h},{"../core/main":264,"./p5.RenderBuffer":315,"./p5.RendererGL":318,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":229}],318:[function(e,m,d){function f(l){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(l)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t=p(e("../core/main")),c=function(l){if(l&&l.__esModule)return l;if(l===null||f(l)!=="object"&&typeof l!="function")return{default:l};var v=g();if(v&&v.has(l))return v.get(l);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in l)if(Object.prototype.hasOwnProperty.call(l,_)){var E=x?Object.getOwnPropertyDescriptor(l,_):null;E&&(E.get||E.set)?Object.defineProperty(w,_,E):w[_]=l[_]}return w.default=l,v&&v.set(l,w),w}(e("../core/constants")),h=p(e("libtess"));e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix"),e("path");function g(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return g=function(){return l},l}function p(l){return l&&l.__esModule?l:{default:l}}function o(l){return function(v){if(Array.isArray(v)){for(var w=0,x=new Array(v.length);w<v.length;w++)x[w]=v[w];return x}}(l)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var n=`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,s={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vColor;
}`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
uniform vec4 uMaterialColor;
void main(void) {
  gl_FragColor = uMaterialColor;
}`,lightVert:n+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;
  }
}`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
}
`,phongFrag:n+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;
  }
}`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = uMaterialColor;
  gl_FragColor.a *= saturate(max(antialias, cover));
}`,lineVert:`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform vec4 uViewport;
uniform int uPerspective;

attribute vec4 aPosition;
attribute vec4 aDirection;
  
void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posq.xyz = posq.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 q = uProjectionMatrix * posq;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);

  // flip tangent to normal (it's already normalized)
  vec2 normal = vec2(-tangent.y, tangent.x);

  float thickness = aDirection.w * uStrokeWeight;
  vec2 offset = normal * thickness / 2.0;

  vec2 curPerspScale;

  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
}
`,lineFrag:`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;

void main() {
  gl_FragColor = uMaterialColor;
}`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
	float mask = 0.0;

	// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

	mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

	// if strokeWeight is 1 or less lets just draw a square
	// this prevents weird artifacting from carving circles when our points are really small
	// if strokeWeight is larger than 1, we just use it as is

	mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

	// throw away the borders of the mask
    // otherwise we get weird alpha blending issues

	if(mask > 0.98){
      discard;
  	}

  	gl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;
}`};t.default.RendererGL=function(l,v,w,x){return t.default.Renderer.call(this,l,v,w),this._setAttributeDefaults(v),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=c.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=c.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new t.default.Matrix,this.uPMatrix=new t.default.Matrix,this.uNMatrix=new t.default.Matrix("mat3"),this._currentNormal=new t.default.Vector(0,0,1),this._curCamera=new t.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new t.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new t.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new t.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new t.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new t.default.Geometry,shapeMode:c.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new t.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new t.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new t.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new t.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=c.IMAGE,this.textureWrapX=c.CLAMP,this.textureWrapY=c.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},t.default.RendererGL.prototype=Object.create(t.default.Renderer.prototype),t.default.RendererGL.prototype._setAttributeDefaults=function(l){var v={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};l._glAttributes===null?l._glAttributes=v:l._glAttributes=Object.assign(v,l._glAttributes)},t.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var l=this.drawingContext;l.enable(l.DEPTH_TEST),l.depthFunc(l.LEQUAL),l.viewport(0,0,l.drawingBufferWidth,l.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(v){throw v}},t.default.RendererGL.prototype._resetContext=function(l,v){var w=this.width,x=this.height,_=this.canvas.id,E=this._pInst instanceof t.default.Graphics;if(E){var C=this._pInst;C.canvas.parentNode.removeChild(C.canvas),C.canvas=document.createElement("canvas"),(C._pInst._userNode||document.body).appendChild(C.canvas),t.default.Element.call(C,C.canvas,C._pInst),C.width=w,C.height=x}else{var A=this.canvas;A&&A.parentNode.removeChild(A),(A=document.createElement("canvas")).id=_,this._pInst._userNode?this._pInst._userNode.appendChild(A):document.body.appendChild(A),this._pInst.canvas=A}var O=new t.default.RendererGL(this._pInst.canvas,this._pInst,!E);this._pInst._setProperty("_renderer",O),O.resize(w,x),O._applyDefaults(),E||this._pInst._elements.push(O),typeof v=="function"&&setTimeout(function(){v.apply(window._renderer,l)},0)},t.default.prototype.setAttributes=function(l,v){if(this._glAttributes!==void 0){var w=!0;if(v!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[l]!==v&&(this._glAttributes[l]=v,w=!1)):l instanceof Object&&this._glAttributes!==l&&(this._glAttributes=l,w=!1),this._renderer.isP3D&&!w){if(!this._setupDone){for(var x in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(x))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},t.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},t.default.RendererGL.prototype.background=function(){var l,v=(l=this._pInst).color.apply(l,arguments),w=v.levels[0]/255,x=v.levels[1]/255,_=v.levels[2]/255,E=v.levels[3]/255;this.GL.clearColor(w,x,_,E),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},t.default.RendererGL.prototype.fill=function(l,v,w,x){var _=t.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=_._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null},t.default.RendererGL.prototype.stroke=function(l,v,w,x){arguments[3]=255;var _=t.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=_._array},t.default.RendererGL.prototype.strokeCap=function(l){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},t.default.RendererGL.prototype.strokeJoin=function(l){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},t.default.RendererGL.prototype.filter=function(l){console.error("filter() does not work in WEBGL mode")},t.default.RendererGL.prototype.blendMode=function(l){l===c.DARKEST||l===c.LIGHTEST||l===c.ADD||l===c.BLEND||l===c.SUBTRACT||l===c.SCREEN||l===c.EXCLUSION||l===c.REPLACE||l===c.MULTIPLY||l===c.REMOVE?this.curBlendMode=l:l!==c.BURN&&l!==c.OVERLAY&&l!==c.HARD_LIGHT&&l!==c.SOFT_LIGHT&&l!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},t.default.RendererGL.prototype.erase=function(l,v){this._isErasing||(this._applyBlendMode(c.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,l/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,v/255])},t.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},t.default.RendererGL.prototype.strokeWeight=function(l){this.curStrokeWeight!==l&&(this.pointSize=l,this.curStrokeWeight=l)},t.default.RendererGL.prototype._getPixel=function(l,v){var w;return w=new Uint8Array(4),this.drawingContext.readPixels(l,v,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,w),[w[0],w[1],w[2],w[3]]},t.default.RendererGL.prototype.loadPixels=function(){var l=this._pixelsState;if(this._pInst._glAttributes.preserveDrawingBuffer===!0){var v=l.pixels,w=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;v instanceof Uint8Array&&v.length===w||(v=new Uint8Array(w),this._pixelsState._setProperty("pixels",v));var x=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*x,this.height*x,this.GL.RGBA,this.GL.UNSIGNED_BYTE,v)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},t.default.RendererGL.prototype.geometryInHash=function(l){return this.retainedMode.geometry[l]!==void 0},t.default.RendererGL.prototype.resize=function(l,v){t.default.Renderer.prototype.resize.call(this,l,v),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var w=this._pixelsState;w.pixels!==void 0&&w._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},t.default.RendererGL.prototype.clear=function(){var l=(arguments.length<=0?void 0:arguments[0])||0,v=(arguments.length<=1?void 0:arguments[1])||0,w=(arguments.length<=2?void 0:arguments[2])||0,x=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(l,v,w,x),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},t.default.RendererGL.prototype.applyMatrix=function(l,v,w,x,_,E){arguments.length===16?t.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([l,v,0,0,w,x,0,0,0,0,1,0,_,E,0,1])},t.default.RendererGL.prototype.translate=function(l,v,w){return l instanceof t.default.Vector&&(w=l.z,v=l.y,l=l.x),this.uMVMatrix.translate([l,v,w]),this},t.default.RendererGL.prototype.scale=function(l,v,w){return this.uMVMatrix.scale(l,v,w),this},t.default.RendererGL.prototype.rotate=function(l,v){return v===void 0?this.rotateZ(l):(t.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},t.default.RendererGL.prototype.rotateX=function(l){return this.rotate(l,1,0,0),this},t.default.RendererGL.prototype.rotateY=function(l){return this.rotate(l,0,1,0),this},t.default.RendererGL.prototype.rotateZ=function(l){return this.rotate(l,0,0,1),this},t.default.RendererGL.prototype.push=function(){var l=t.default.Renderer.prototype.push.apply(this),v=l.properties;return v.uMVMatrix=this.uMVMatrix.copy(),v.uPMatrix=this.uPMatrix.copy(),v._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),v.ambientLightColors=this.ambientLightColors.slice(),v.specularColors=this.specularColors.slice(),v.directionalLightDirections=this.directionalLightDirections.slice(),v.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),v.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),v.pointLightPositions=this.pointLightPositions.slice(),v.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),v.pointLightSpecularColors=this.pointLightSpecularColors.slice(),v.spotLightPositions=this.spotLightPositions.slice(),v.spotLightDirections=this.spotLightDirections.slice(),v.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),v.spotLightSpecularColors=this.spotLightSpecularColors.slice(),v.spotLightAngle=this.spotLightAngle.slice(),v.spotLightConc=this.spotLightConc.slice(),v.userFillShader=this.userFillShader,v.userStrokeShader=this.userStrokeShader,v.userPointShader=this.userPointShader,v.pointSize=this.pointSize,v.curStrokeWeight=this.curStrokeWeight,v.curStrokeColor=this.curStrokeColor,v.curFillColor=this.curFillColor,v._useSpecularMaterial=this._useSpecularMaterial,v._useEmissiveMaterial=this._useEmissiveMaterial,v._useShininess=this._useShininess,v.constantAttenuation=this.constantAttenuation,v.linearAttenuation=this.linearAttenuation,v.quadraticAttenuation=this.quadraticAttenuation,v._enableLighting=this._enableLighting,v._useNormalMaterial=this._useNormalMaterial,v._tex=this._tex,v.drawMode=this.drawMode,v._currentNormal=this._currentNormal,l},t.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=t.default.Matrix.identity(this._pInst),this},t.default.RendererGL.prototype._getImmediateStrokeShader=function(){var l=this.userStrokeShader;return l&&l.isStrokeShader()?l:this._getLineShader()},t.default.RendererGL.prototype._getRetainedStrokeShader=t.default.RendererGL.prototype._getImmediateStrokeShader,t.default.RendererGL.prototype._getImmediateFillShader=function(){var l=this.userFillShader;if(this._useNormalMaterial&&(!l||!l.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!l||!l.isLightShader())return this._getLightShader()}else if(this._tex){if(!l||!l.isTextureShader())return this._getLightShader()}else if(!l)return this._getImmediateModeShader();return l},t.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var l=this.userFillShader;if(this._enableLighting){if(!l||!l.isLightShader())return this._getLightShader()}else if(this._tex){if(!l||!l.isTextureShader())return this._getLightShader()}else if(!l)return this._getColorShader();return l},t.default.RendererGL.prototype._getImmediatePointShader=function(){var l=this.userPointShader;return l&&l.isPointShader()?l:this._getPointShader()},t.default.RendererGL.prototype._getRetainedLineShader=t.default.RendererGL.prototype._getImmediateLineShader,t.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new t.default.Shader(this,s.phongVert,s.phongFrag):this._defaultLightShader=new t.default.Shader(this,s.lightVert,s.lightTextureFrag)),this._defaultLightShader},t.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new t.default.Shader(this,s.immediateVert,s.vertexColorFrag)),this._defaultImmediateModeShader},t.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new t.default.Shader(this,s.normalVert,s.normalFrag)),this._defaultNormalShader},t.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new t.default.Shader(this,s.normalVert,s.basicFrag)),this._defaultColorShader},t.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new t.default.Shader(this,s.pointVert,s.pointFrag)),this._defaultPointShader},t.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new t.default.Shader(this,s.lineVert,s.lineFrag)),this._defaultLineShader},t.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new t.default.Shader(this,s.fontVert,s.fontFrag)),this._defaultFontShader},t.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var l=new t.default.Image(1,1);l.set(0,0,255),this._emptyTexture=new t.default.Texture(this,l)}return this._emptyTexture},t.default.RendererGL.prototype.getTexture=function(l){var v=this.textures,w=!0,x=!1,_=void 0;try{for(var E,C=v[Symbol.iterator]();!(w=(E=C.next()).done);w=!0){var A=E.value;if(A.src===l)return A}}catch(I){x=!0,_=I}finally{try{w||C.return==null||C.return()}finally{if(x)throw _}}var O=new t.default.Texture(this,l);return v.push(O),O},t.default.RendererGL.prototype._setStrokeUniforms=function(l){l.bindShader(),l.setUniform("uMaterialColor",this.curStrokeColor),l.setUniform("uStrokeWeight",this.curStrokeWeight)},t.default.RendererGL.prototype._setFillUniforms=function(l){l.bindShader(),l.setUniform("uMaterialColor",this.curFillColor),l.setUniform("isTexture",!!this._tex),this._tex&&l.setUniform("uSampler",this._tex),l.setUniform("uTint",this._tint),l.setUniform("uSpecular",this._useSpecularMaterial),l.setUniform("uEmissive",this._useEmissiveMaterial),l.setUniform("uShininess",this._useShininess),l.setUniform("uUseLighting",this._enableLighting);var v=this.pointLightDiffuseColors.length/3;l.setUniform("uPointLightCount",v),l.setUniform("uPointLightLocation",this.pointLightPositions),l.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),l.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var w=this.directionalLightDiffuseColors.length/3;l.setUniform("uDirectionalLightCount",w),l.setUniform("uLightingDirection",this.directionalLightDirections),l.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),l.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var x=this.ambientLightColors.length/3;l.setUniform("uAmbientLightCount",x),l.setUniform("uAmbientColor",this.ambientLightColors);var _=this.spotLightDiffuseColors.length/3;l.setUniform("uSpotLightCount",_),l.setUniform("uSpotLightAngle",this.spotLightAngle),l.setUniform("uSpotLightConc",this.spotLightConc),l.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),l.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),l.setUniform("uSpotLightLocation",this.spotLightPositions),l.setUniform("uSpotLightDirection",this.spotLightDirections),l.setUniform("uConstantAttenuation",this.constantAttenuation),l.setUniform("uLinearAttenuation",this.linearAttenuation),l.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),l.bindTextures()},t.default.RendererGL.prototype._setPointUniforms=function(l){l.bindShader(),l.setUniform("uMaterialColor",this.curStrokeColor),l.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},t.default.RendererGL.prototype._bindBuffer=function(l,v,w,x,_){if(v=v||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(v,l),w!==void 0){var E=new(x||Float32Array)(w);this.GL.bufferData(v,E,_||this.GL.STATIC_DRAW)}},t.default.RendererGL.prototype._arraysEqual=function(l,v){var w=l.length;if(w!==v.length)return!1;for(var x=0;x<w;x++)if(l[x]!==v[x])return!1;return!0},t.default.RendererGL.prototype._isTypedArray=function(l){return l instanceof Uint32Array},t.default.RendererGL.prototype._flatten=function(l){if(l.length===0)return[];if(2e4<l.length){var v,w=Object.prototype.toString,x=[],_=l.slice();for(v=_.pop();w.call(v)==="[object Array]"?_.push.apply(_,o(v)):x.push(v),_.length&&(v=_.pop())!==void 0;);return x.reverse(),x}var E;return(E=[]).concat.apply(E,o(l))},t.default.RendererGL.prototype._vToNArray=function(l){var v=[],w=!0,x=!1,_=void 0;try{for(var E,C=l[Symbol.iterator]();!(w=(E=C.next()).done);w=!0){var A=E.value;v.push(A.x,A.y,A.z)}}catch(O){x=!0,_=O}finally{try{w||C.return==null||C.return()}finally{if(x)throw _}}return v},t.default.prototype._assert3d=function(l){if(!this._renderer.isP3D)throw new Error("".concat(l,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},t.default.RendererGL.prototype._initTessy=function(){var l=new h.default.GluTesselator;return l.gluTessCallback(h.default.gluEnum.GLU_TESS_VERTEX_DATA,function(v,w){w[w.length]=v[0],w[w.length]=v[1],w[w.length]=v[2]}),l.gluTessCallback(h.default.gluEnum.GLU_TESS_BEGIN,function(v){v!==h.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(v))}),l.gluTessCallback(h.default.gluEnum.GLU_TESS_ERROR,function(v){console.log("error callback"),console.log("error number: ".concat(v))}),l.gluTessCallback(h.default.gluEnum.GLU_TESS_COMBINE,function(v,w,x){return[v[0],v[1],v[2]]}),l.gluTessCallback(h.default.gluEnum.GLU_TESS_EDGE_FLAG,function(v){}),l},t.default.RendererGL.prototype._triangulate=function(l){this._tessy.gluTessNormal(0,0,1);var v=[];this._tessy.gluTessBeginPolygon(v);for(var w=0;w<l.length;w++){this._tessy.gluTessBeginContour();for(var x=l[w],_=0;_<x.length;_+=3){var E=[x[_],x[_+1],x[_+2]];this._tessy.gluTessVertex(E,E)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),v},t.default.RendererGL.prototype._bezierCoefficients=function(l){var v=l*l,w=1-l,x=w*w;return[x*w,3*x*l,3*w*v,v*l]},t.default.RendererGL.prototype._quadraticCoefficients=function(l){var v=1-l;return[v*v,2*v*l,l*l]},t.default.RendererGL.prototype._bezierToCatmull=function(l){return[l[1],l[1]+(l[2]-l[0])/this._curveTightness,l[2]-(l[3]-l[1])/this._curveTightness,l[2]]};var a=t.default.RendererGL;d.default=a},{"../core/constants":253,"../core/main":264,"../core/p5.Renderer":267,"./p5.Camera":312,"./p5.Matrix":314,"./p5.Shader":319,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,libtess:237,path:240}],319:[function(e,m,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f,t=(f=e("../core/main"))&&f.__esModule?f:{default:f};t.default.Shader=function(h,g,p){this._renderer=h,this._vertSrc=g,this._fragSrc=p,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},t.default.Shader.prototype.init=function(){if(this._glProgram===0){var h=this._renderer.GL;if(this._vertShader=h.createShader(h.VERTEX_SHADER),h.shaderSource(this._vertShader,this._vertSrc),h.compileShader(this._vertShader),!h.getShaderParameter(this._vertShader,h.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(h.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=h.createShader(h.FRAGMENT_SHADER),h.shaderSource(this._fragShader,this._fragSrc),h.compileShader(this._fragShader),!h.getShaderParameter(this._fragShader,h.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(h.getShaderInfoLog(this._fragShader))),null;this._glProgram=h.createProgram(),h.attachShader(this._glProgram,this._vertShader),h.attachShader(this._glProgram,this._fragShader),h.linkProgram(this._glProgram),h.getProgramParameter(this._glProgram,h.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(h.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},t.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var h=this._renderer.GL,g=h.getProgramParameter(this._glProgram,h.ACTIVE_ATTRIBUTES),p=0;p<g;++p){var o=h.getActiveAttrib(this._glProgram,p),n=o.name,s=h.getAttribLocation(this._glProgram,n),a={};a.name=n,a.location=s,a.index=p,a.type=o.type,a.size=o.size,this.attributes[n]=a}this._loadedAttributes=!0}},t.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var h=this._renderer.GL,g=h.getProgramParameter(this._glProgram,h.ACTIVE_UNIFORMS),p=0,o=0;o<g;++o){var n=h.getActiveUniform(this._glProgram,o),s={};s.location=h.getUniformLocation(this._glProgram,n.name),s.size=n.size;var a=n.name;1<n.size&&(a=a.substring(0,a.indexOf("[0]"))),s.name=a,s.type=n.type,s._cachedData=void 0,s.type===h.SAMPLER_2D&&(s.samplerIndex=p,p++,this.samplers.push(s)),s.isArray=1<n.size||s.type===h.FLOAT_MAT3||s.type===h.FLOAT_MAT4||s.type===h.FLOAT_VEC2||s.type===h.FLOAT_VEC3||s.type===h.FLOAT_VEC4||s.type===h.INT_VEC2||s.type===h.INT_VEC4||s.type===h.INT_VEC3,this.uniforms[a]=s}this._loadedUniforms=!0}},t.default.Shader.prototype.compile=function(){},t.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},t.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},t.default.Shader.prototype.bindTextures=function(){var h=this._renderer.GL,g=!0,p=!1,o=void 0;try{for(var n,s=this.samplers[Symbol.iterator]();!(g=(n=s.next()).done);g=!0){var a=n.value,l=a.texture;l===void 0&&(l=this._renderer._getEmptyTexture()),h.activeTexture(h.TEXTURE0+a.samplerIndex),l.bindTexture(),l.update(),h.uniform1i(a.location,a.samplerIndex)}}catch(v){p=!0,o=v}finally{try{g||s.return==null||s.return()}finally{if(p)throw o}}},t.default.Shader.prototype.updateTextures=function(){var h=!0,g=!1,p=void 0;try{for(var o,n=this.samplers[Symbol.iterator]();!(h=(o=n.next()).done);h=!0){var s=o.value.texture;s&&s.update()}}catch(a){g=!0,p=a}finally{try{h||n.return==null||n.return()}finally{if(g)throw p}}},t.default.Shader.prototype.unbindTextures=function(){},t.default.Shader.prototype._setMatrixUniforms=function(){var h=this._renderer._curCamera.cameraMatrix,g=this._renderer.uPMatrix,p=this._renderer.uMVMatrix,o=p.copy();o.mult(g),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",h.mat4),this.setUniform("uProjectionMatrix",g.mat4),this.setUniform("uModelViewMatrix",p.mat4),this.setUniform("uModelViewProjectionMatrix",o.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},t.default.Shader.prototype.useProgram=function(){var h=this._renderer.GL;return this._renderer._curShader!==this&&(h.useProgram(this._glProgram),this._renderer._curShader=this),this},t.default.Shader.prototype.setUniform=function(h,g){var p=this.uniforms[h];if(p){var o=this._renderer.GL;if(p.isArray){if(p._cachedData&&this._renderer._arraysEqual(p._cachedData,g))return;p._cachedData=g.slice(0)}else{if(p._cachedData&&p._cachedData===g)return;Array.isArray(g)?p._cachedData=g.slice(0):p._cachedData=g}var n=p.location;switch(this.useProgram(),p.type){case o.BOOL:g===!0?o.uniform1i(n,1):o.uniform1i(n,0);break;case o.INT:1<p.size?g.length&&o.uniform1iv(n,g):o.uniform1i(n,g);break;case o.FLOAT:1<p.size?g.length&&o.uniform1fv(n,g):o.uniform1f(n,g);break;case o.FLOAT_MAT3:o.uniformMatrix3fv(n,!1,g);break;case o.FLOAT_MAT4:o.uniformMatrix4fv(n,!1,g);break;case o.FLOAT_VEC2:1<p.size?g.length&&o.uniform2fv(n,g):o.uniform2f(n,g[0],g[1]);break;case o.FLOAT_VEC3:1<p.size?g.length&&o.uniform3fv(n,g):o.uniform3f(n,g[0],g[1],g[2]);break;case o.FLOAT_VEC4:1<p.size?g.length&&o.uniform4fv(n,g):o.uniform4f(n,g[0],g[1],g[2],g[3]);break;case o.INT_VEC2:1<p.size?g.length&&o.uniform2iv(n,g):o.uniform2i(n,g[0],g[1]);break;case o.INT_VEC3:1<p.size?g.length&&o.uniform3iv(n,g):o.uniform3i(n,g[0],g[1],g[2]);break;case o.INT_VEC4:1<p.size?g.length&&o.uniform4iv(n,g):o.uniform4i(n,g[0],g[1],g[2],g[3]);break;case o.SAMPLER_2D:o.activeTexture(o.TEXTURE0+p.samplerIndex),p.texture=g instanceof t.default.Texture?g:this._renderer.getTexture(g),o.uniform1i(n,p.samplerIndex)}return this}},t.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},t.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},t.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},t.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},t.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},t.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},t.default.Shader.prototype.enableAttrib=function(h,g,p,o,n,s){if(h){var a=h.location;if(a!==-1){var l=this._renderer.GL;h.enabled||(l.enableVertexAttribArray(a),h.enabled=!0),this._renderer.GL.vertexAttribPointer(a,g,p||l.FLOAT,o||!1,n||0,s||0)}}return this};var c=t.default.Shader;d.default=c},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],320:[function(e,m,d){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(o){if(o&&o.__esModule)return o;if(o===null||f(o)!=="object"&&typeof o!="function")return{default:o};var n=g();if(n&&n.has(o))return n.get(o);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=a?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,n&&n.set(o,s),s}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}c.default.Texture=function(o,n,s){this._renderer=o;var a=this._renderer.GL;(s=s||{}).dataType===a.FLOAT&&(a.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),a.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=n,this.glTex=void 0,this.glTarget=a.TEXTURE_2D,this.glFormat=s.format||a.RGBA,this.mipmaps=!1,this.glMinFilter=s.minFilter||a.LINEAR,this.glMagFilter=s.magFilter||a.LINEAR,this.glWrapS=s.wrapS||a.CLAMP_TO_EDGE,this.glWrapT=s.wrapT||a.CLAMP_TO_EDGE,this.glDataType=s.dataType||a.UNSIGNED_BYTE,this.isSrcMediaElement=c.default.MediaElement!==void 0&&n instanceof c.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=c.default.Element!==void 0&&n instanceof c.default.Element&&!(n instanceof c.default.Graphics),this.isSrcP5Image=n instanceof c.default.Image,this.isSrcP5Graphics=n instanceof c.default.Graphics,this.isImageData=typeof ImageData<"u"&&n instanceof ImageData;var l=this._getTextureDataFromSource();return this.width=l.width,this.height=l.height,this.init(l),this},c.default.Texture.prototype._getTextureDataFromSource=function(){var o;return this.isSrcP5Image?o=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?o=this.src.elt:this.isImageData&&(o=this.src),o},c.default.Texture.prototype.init=function(o){var n=this._renderer.GL;if(this.glTex=n.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.glMagFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){var s=new Uint8Array([1,1,1,1]);n.texImage2D(this.glTarget,0,n.RGBA,1,1,0,this.glFormat,this.glDataType,s)}else n.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,o)},c.default.Texture.prototype.update=function(){var o=this.src;if(o.width===0||o.height===0)return!1;var n=this._getTextureDataFromSource(),s=!1,a=this._renderer.GL;return n.width!==this.width||n.height!==this.height?(s=!0,this.width=n.width,this.height=n.height,this.isSrcP5Image?o.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&o.setModified(!0)):this.isSrcP5Image?o.isModified()&&(s=!0,o.setModified(!1)):this.isSrcMediaElement?o.isModified()?(s=!0,o.setModified(!1)):o.loadedmetadata&&this._videoPrevUpdateTime!==o.time()&&(this._videoPrevUpdateTime=o.time(),s=!0):this.isImageData?o._dirty&&(s=!(o._dirty=!1)):s=!0,s&&(this.bindTexture(),a.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,n)),s},c.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},c.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},c.default.Texture.prototype.setInterpolation=function(o,n){var s=this._renderer.GL;o===h.NEAREST?this.glMinFilter=s.NEAREST:this.glMinFilter=s.LINEAR,n===h.NEAREST?this.glMagFilter=s.NEAREST:this.glMagFilter=s.LINEAR,this.bindTexture(),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.glMinFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},c.default.Texture.prototype.setWrapMode=function(o,n){function s(w){return(w&w-1)==0}var a=this._renderer.GL,l=s(this.width),v=s(this.height);o===h.REPEAT?l&&v?this.glWrapS=a.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=a.CLAMP_TO_EDGE):o===h.MIRROR?l&&v?this.glWrapS=a.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=a.CLAMP_TO_EDGE):this.glWrapS=a.CLAMP_TO_EDGE,n===h.REPEAT?l&&v?this.glWrapT=a.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=a.CLAMP_TO_EDGE):n===h.MIRROR?l&&v?this.glWrapT=a.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=a.CLAMP_TO_EDGE):this.glWrapT=a.CLAMP_TO_EDGE,this.bindTexture(),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,this.glWrapS),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var p=c.default.Texture;d.default=p},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],321:[function(e,m,d){function f(a){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},h=function(a){if(a&&a.__esModule)return a;if(a===null||f(a)!=="object"&&typeof a!="function")return{default:a};var l=g();if(l&&l.has(a))return l.get(a);var v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in a)if(Object.prototype.hasOwnProperty.call(a,x)){var _=w?Object.getOwnPropertyDescriptor(a,x):null;_&&(_.get||_.set)?Object.defineProperty(v,x,_):v[x]=a[x]}return v.default=a,l&&l.set(a,v),v}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return g=function(){return a},a}e("./p5.Shader"),e("./p5.RendererGL.Retained"),c.default.RendererGL.prototype._applyTextProperties=function(){},c.default.RendererGL.prototype.textWidth=function(a){return this._isOpenType()?this._textFont._textWidth(a,this._textSize):0};function p(a,l){this.width=a,this.height=l,this.infos=[],this.findImage=function(v){var w,x,_=this.width*this.height;if(_<v)throw new Error("font is too complex to render in 3D");for(var E=this.infos.length-1;0<=E;--E){var C=this.infos[E];if(C.index+v<_){x=(w=C).imageData;break}}if(!w){try{x=new ImageData(this.width,this.height)}catch{var A=document.getElementsByTagName("canvas")[0],O=!A;A||((A=document.createElement("canvas")).style.display="none",document.body.appendChild(A));var I=A.getContext("2d");I&&(x=I.createImageData(this.width,this.height)),O&&document.body.removeChild(A)}w={index:0,imageData:x},this.infos.push(w)}var R=w.index;return w.index+=v,x._dirty=!0,{imageData:x,index:R}}}function o(a,l,v,w,x){var _=a.imageData.data,E=4*a.index++;_[E++]=l,_[E++]=v,_[E++]=w,_[E++]=x}function n(a){this.font=a,this.strokeImageInfos=new p(64,64),this.colDimImageInfos=new p(64,64),this.rowDimImageInfos=new p(64,64),this.colCellImageInfos=new p(64,64),this.rowCellImageInfos=new p(64,64),this.glyphInfos={},this.getGlyphInfo=function(l){var v=this.glyphInfos[l.index];if(v)return v;var w,x=l.getBoundingBox(),_=x.x1,E=x.y1,C=x.x2-_,A=x.y2-E,O=l.path.commands;if(C==0||A==0||!O.length)return this.glyphInfos[l.index]={};var I,R,L,U,D=[],H=[],W=[];for(w=8;0<=w;--w)W.push([]);for(w=8;0<=w;--w)H.push([]);function ae(he,Pe,Be){var Ue=D.length;function Le(Q,q,K){for(var de=Q.length;0<de--;){var Ee=Q[de];Ee<q&&(q=Ee),K<Ee&&(K=Ee)}return{min:q,max:K}}D.push(Be);for(var Qe=Le(he,1,0),Re=Math.max(Math.floor(9*Qe.min),0),Ae=Math.min(Math.ceil(9*Qe.max),9),ze=Re;ze<Ae;++ze)W[ze].push(Ue);for(var Xe=Le(Pe,1,0),be=Math.max(Math.floor(9*Xe.min),0),rt=Math.min(Math.ceil(9*Xe.max),9),V=be;V<rt;++V)H[V].push(Ue)}function le(he){return(Pe=(Ue=255)*he)<(Be=0)?Be:Ue<Pe?Ue:Pe;var Pe,Be,Ue}function J(he,Pe,Be,Ue){this.p0=he,this.c0=Pe,this.c1=Be,this.p1=Ue,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return c.default.Vector.sub(c.default.Vector.sub(this.p1,this.p0),c.default.Vector.mult(c.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Le){var Qe=c.default.Vector.lerp(this.p0,this.c0,Le),Re=c.default.Vector.lerp(this.c0,this.c1,Le),Ae=c.default.Vector.lerp(Qe,Re,Le);this.c1=c.default.Vector.lerp(this.c1,this.p1,Le),this.c0=c.default.Vector.lerp(Re,this.c1,Le);var ze=c.default.Vector.lerp(Ae,this.c0,Le),Xe=new J(this.p0,Qe,Ae,ze);return this.p0=ze,Xe},this.splitInflections=function(){var Le=c.default.Vector.sub(this.c0,this.p0),Qe=c.default.Vector.sub(c.default.Vector.sub(this.c1,this.c0),Le),Re=c.default.Vector.sub(c.default.Vector.sub(c.default.Vector.sub(this.p1,this.c1),Le),c.default.Vector.mult(Qe,2)),Ae=[],ze=Qe.x*Re.y-Qe.y*Re.x;if(ze!==0){var Xe=Le.x*Re.y-Le.y*Re.x,be=Le.x*Qe.y-Le.y*Qe.x,rt=Xe*Xe-4*ze*be;if(0<=rt){ze<0&&(ze=-ze,Xe=-Xe,be=-be);var V=Math.sqrt(rt),Q=(-Xe-V)/(2*ze),q=(-Xe+V)/(2*ze);0<Q&&Q<1&&(Ae.push(this.split(Q)),q=1-(1-q)/(1-Q)),0<q&&q<1&&Ae.push(this.split(q))}}return Ae.push(this),Ae}}function ue(he,Pe,Be,Ue,Le,Qe,Re,Ae){var ze=new J(new c.default.Vector(he,Pe),new c.default.Vector(Be,Ue),new c.default.Vector(Le,Qe),new c.default.Vector(Re,Ae)).splitInflections(),Xe=[],be=30/s,rt=!0,V=!1,Q=void 0;try{for(var q,K=ze[Symbol.iterator]();!(rt=(q=K.next()).done);rt=!0){for(var de=q.value,Ee=[],ke=void 0;!(.125<=(ke=be/de.quadError()));){var He=Math.pow(ke,.3333333333333333),we=de.split(He),Ke=de.split(1-He/(1-He));Xe.push(we),Ee.push(de),de=Ke}ke<1&&Xe.push(de.split(.5)),Xe.push(de),Array.prototype.push.apply(Xe,Ee.reverse())}}catch(at){V=!0,Q=at}finally{try{rt||K.return==null||K.return()}finally{if(V)throw Q}}return Xe}function se(he,Pe,Be,Ue){ae([he,Be],[Pe,Ue],{x:he,y:Pe,cx:(he+Be)/2,cy:(Pe+Ue)/2})}function me(he,Pe,Be,Ue){return Math.abs(Be-he)<1e-5&&Math.abs(Ue-Pe)<1e-5}var xe=!0,Ce=!1,ve=void 0;try{for(var De,_e=O[Symbol.iterator]();!(xe=(De=_e.next()).done);xe=!0){var Se=De.value,P=(Se.x-_)/C,G=(Se.y-E)/A;if(!me(I,R,P,G)){switch(Se.type){case"M":L=P,U=G;break;case"L":se(I,R,P,G);break;case"Q":var X=(Se.x1-_)/C,ee=(Se.y1-E)/A;ae([I,P,X],[R,G,ee],{x:I,y:R,cx:X,cy:ee});break;case"Z":me(I,R,L,U)?D.push({x:I,y:R}):(se(I,R,L,U),D.push({x:L,y:U}));break;case"C":for(var B=ue(I,R,(Se.x1-_)/C,(Se.y1-E)/A,(Se.x2-_)/C,(Se.y2-E)/A,P,G),N=0;N<B.length;N++){var re=B[N].toQuadratic();ae([re.x,re.x1,re.cx],[re.y,re.y1,re.cy],re)}break;default:throw new Error("unknown command type: ".concat(Se.type))}I=P,R=G}}}catch(he){Ce=!0,ve=he}finally{try{xe||_e.return==null||_e.return()}finally{if(Ce)throw ve}}for(var $=D.length,ne=this.strokeImageInfos.findImage($),ie=ne.index,oe=0;oe<$;++oe){var pe=D[oe];o(ne,le(pe.x),le(pe.y),le(pe.cx),le(pe.cy))}function ge(he,Pe,Be){for(var Ue=he.length,Le=Pe.findImage(Ue),Qe=Le.index,Re=0,Ae=0;Ae<Ue;++Ae)Re+=he[Ae].length;for(var ze=Be.findImage(Re),Xe=0;Xe<Ue;++Xe){var be=he[Xe],rt=be.length,V=ze.index;o(Le,V>>7,127&V,rt>>7,127&rt);for(var Q=0;Q<rt;++Q){var q=be[Q]+ie;o(ze,q>>7,127&q,0,0)}}return{cellImageInfo:ze,dimOffset:Qe,dimImageInfo:Le}}return(v=this.glyphInfos[l.index]={glyph:l,uGlyphRect:[x.x1,-x.y1,x.x2,-x.y2],strokeImageInfo:ne,strokes:D,colInfo:ge(W,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ge(H,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset],v}}var s=Math.sqrt(3);c.default.RendererGL.prototype._renderText=function(a,l,v,w,x){if(this._textFont&&typeof this._textFont!="string"){if(!(x<=w)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),a;a.push();var _=this._doStroke,E=this.drawMode;this._doStroke=!1,this.drawMode=h.TEXTURE;var C=this._textFont.font,A=this._textFont._fontInfo;A=A||(this._textFont._fontInfo=new n(C));var O=this._textFont._handleAlignment(this,l,v,w),I=this._textSize/C.unitsPerEm;this.translate(O.x,O.y,0),this.scale(I,I,1);var R=this.GL,L=!this._defaultFontShader,U=this._getFontShader();U.init(),U.bindShader(),L&&(U.setUniform("uGridImageSize",[64,64]),U.setUniform("uCellsImageSize",[64,64]),U.setUniform("uStrokeImageSize",[64,64]),U.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var D=this.retainedMode.geometry.glyph;if(!D){var H=this._textGeom=new c.default.Geometry(1,1,function(){for(var B=0;B<=1;B++)for(var N=0;N<=1;N++)this.vertices.push(new c.default.Vector(N,B,0)),this.uvs.push(N,B)});H.computeFaces().computeNormals(),D=this.createBuffers("glyph",H)}var W=!0,ae=!1,le=void 0;try{for(var J,ue=this.retainedMode.buffers.text[Symbol.iterator]();!(W=(J=ue.next()).done);W=!0)J.value._prepareBuffer(D,U)}catch(B){ae=!0,le=B}finally{try{W||ue.return==null||ue.return()}finally{if(ae)throw le}}this._bindBuffer(D.indexBuffer,R.ELEMENT_ARRAY_BUFFER),U.setUniform("uMaterialColor",this.curFillColor);try{var se=0,me=null,xe=C.stringToGlyphs(l),Ce=!0,ve=!1,De=void 0;try{for(var _e,Se=xe[Symbol.iterator]();!(Ce=(_e=Se.next()).done);Ce=!0){var P=_e.value;me&&(se+=C.getKerningValue(me,P));var G=A.getGlyphInfo(P);if(G.uGlyphRect){var X=G.rowInfo,ee=G.colInfo;U.setUniform("uSamplerStrokes",G.strokeImageInfo.imageData),U.setUniform("uSamplerRowStrokes",X.cellImageInfo.imageData),U.setUniform("uSamplerRows",X.dimImageInfo.imageData),U.setUniform("uSamplerColStrokes",ee.cellImageInfo.imageData),U.setUniform("uSamplerCols",ee.dimImageInfo.imageData),U.setUniform("uGridOffset",G.uGridOffset),U.setUniform("uGlyphRect",G.uGlyphRect),U.setUniform("uGlyphOffset",se),U.bindTextures(),R.drawElements(R.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}se+=P.advanceWidth,me=P}}catch(B){ve=!0,De=B}finally{try{Ce||Se.return==null||Se.return()}finally{if(ve)throw De}}}finally{U.unbindShader(),this._doStroke=_,this.drawMode=E,a.pop()}return a}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":253,"../core/main":264,"./p5.RendererGL.Retained":317,"./p5.Shader":319,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}]},{},[248])(248)})})(T0);const lt=j0(na),j=new lt(u=>{}),We=j.windowWidth/80,lr=We*(2/3),gt=We/24,E0=13,C0=3/8,M0=1/2,A0=1,Ya=3600,Yo=9999999999,oa=500,gu="0.0.1",Hr=[255,0,0],Ac=[200,0,0],Xa=[247,52,43],sa=[153,117,112],Zs=[217,33,33],R0=[117,13,13],$a=[0,255,0],Rc=[200,200,0],ms=[144,238,144],O0=[3,192,74],P0=[74,176,150],k0=[255,145,164],L0=[41,110,1],Oc=[152,208,35],D0=[65,245,25],I0=[70,125,93],Pc=[150,221,126],ia=[64,224,208],kc=[0,0,255],yu=[50,148,235],gs=[163,214,251],Ka=[14,135,204],Lc=[11,11,69],Dc=[76,80,169],B0=[0,90,156],U0=[192,192,195],mi=[152,118,82],Hn=[64,224,208],Er=[255,255,255],Nt=[0,0,0],N0=[15],gi=[10],Ic=[20],Bc=[55],Uc=[100],Nc=[120],Fc=[90,90,90],Gc=[150,150,150],F0=[255,255,0],G0=[255,191,0],ys=[255,223,0],No=[255,217,61],vs=[255,179,0],V0=[216,187,93],Mn=[255,150,45],Js=[255,69,0],Fo=[251,139,35],Vc=[197,177,160],H0=[105,98,79],W0=[101,67,33],z0=[248,24,148],xs=[200,0,200],ei=[100,0,100],q0=[60,0,60],Y0=[177,156,217],X0=[177,156,217,155];var vt=(u=>(u[u.EMPTY=0]="EMPTY",u[u.HILL=1]="HILL",u[u.UNSTABLE=2]="UNSTABLE",u[u.WALL=3]="WALL",u[u.WATER=4]="WATER",u[u.LAVA=5]="LAVA",u[u.SPAWN=6]="SPAWN",u[u.BASE=7]="BASE",u[u.TELEPORTER_ONE=8]="TELEPORTER_ONE",u[u.TELEPORTER_TWO=9]="TELEPORTER_TWO",u))(vt||{});const $0={name:"Empty",description:"An empty tile",hotkey:"e",keycode:69,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:gs},K0={name:"Hill",description:"A slightly elevated tile",hotkey:"h",keycode:72,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:mi},Q0={name:"Unstable",description:"An unstable tile",hotkey:"u",keycode:85,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Vc},Z0={name:"Wall",description:"A wall tile",hotkey:"w",keycode:87,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:Bc},J0={name:"Water",description:"A water tile",hotkey:"a",keycode:65,canTower:!1,canWaterTower:!0,canLavaTower:!1,canUnit:!1,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Ka},ep={name:"Lava",description:"A lava tile",hotkey:"l",keycode:76,canTower:!1,canWaterTower:!1,canLavaTower:!0,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Xa},tp={name:"Spawn",description:"An enemy spawn point",hotkey:"s",keycode:83,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!0,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:Hr},rp={name:"Base",description:"A Maou base to be protected",hotkey:"b",keycode:66,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!0,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:xs},np={name:"Teleporter Type One",description:"A teleporter connected to all other teleporters of the same type",hotkey:"t",keycode:84,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:1,rgb:O0},op={name:"Teleporter Type Two",description:"A teleporter connected to all other teleporters of the same type",hotkey:"y",keycode:89,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:2,rgb:k0},qn={[0]:$0,[1]:K0,[2]:Q0,[3]:Z0,[4]:J0,[5]:ep,[6]:tp,[7]:rp,[8]:np,[9]:op},cr=(u,i,r,e=!1,m=j)=>{const d=e?0:30;m.beginShape();for(let f=0;f<6;f++){const t=m.PI/180*(d+f*60),c=u+m.cos(t)*r,h=i+m.sin(t)*r;m.vertex(c,h)}m.endShape(m.CLOSE)},sp=(u,i,r,e,m,d=!1,f=j)=>{let t=d?-f.TWO_PI/3:-f.PI/2,c=u+f.cos(t)*r,h=i+f.sin(t)*r;f.beginShape();for(let o=0;o<=e;o++)c=u+f.cos(t)*r,h=i+f.sin(t)*r,f.vertex(c,h),t+=f.PI/3;f.endShape();const g=u+f.cos(t)*r,p=i+f.sin(t)*r;f.line(c,h,j.lerp(c,g,m),j.lerp(h,p,m))},ip=3,Ro=(u,i,r=ip)=>{j.push();const e=u.x+i.x,m=u.y+i.y,d=i.heading(),f=i.mag(),t=lt.Vector.fromAngle(d-j.PI/4),c=lt.Vector.fromAngle(d+j.PI/4);t.mult(-(f/3)),c.mult(-(f/3)),j.strokeWeight(r),j.line(u.x,u.y,e,m),j.line(e,m,e+t.x,m+t.y),j.line(e,m,e+c.x,m+c.y),j.pop()};class bs{constructor(i,r,e,m,d,f={}){z(this,"pos");z(this,"r");z(this,"q");z(this,"size");z(this,"collisionRadius");z(this,"vertices");z(this,"color");z(this,"wall");z(this,"canTower");z(this,"canWaterTower");z(this,"canLavaTower");z(this,"canUnit");z(this,"canWaterUnit");z(this,"isTower");z(this,"isSpawn");z(this,"isTeleporter");z(this,"teleporterType");z(this,"type");z(this,"data");z(this,"buffs");z(this,"timedBuffs");z(this,"appliedEffects");this.pos=j.createVector(i,r),this.r=e,this.q=m,this.size=d,this.collisionRadius=d*(2+j.sqrt(3))/4,this.vertices=[],this.color=f.color?j.color(f.color.levels):j.color(gs),this.wall=f.wall??!1,this.canTower=f.canTower??!0,this.canWaterTower=f.canWaterTower??!1,this.canLavaTower=f.canLavaTower??!1,this.canUnit=f.canUnit??!0,this.canWaterUnit=f.canWaterUnit??!0,this.isSpawn=f.isSpawn??!1,this.isTower=f.isTower??!1,this.isTeleporter=f.isTeleporter??!1,this.teleporterType=f.teleporterType??0,this.type=f.type??Oo.EMPTY,this.buffs=[],this.timedBuffs=[],this.appliedEffects={},this.data=f.data??{}}show(i=this.pos){j.push(),j.fill(this.color),j.stroke(10),j.strokeWeight(1),cr(i.x,i.y,this.size),j.pop()}showDebug(){if(j.push(),j.strokeWeight(3),this.data.floodPathVector&&(j.stroke(0,0,255),Ro(this.pos,this.data.floodPathVector.copy().mult(.3))),this.data.floodNext&&(j.stroke(255,0,255),j.line(this.pos.x,this.pos.y,this.data.floodNext.pos.x,this.data.floodNext.pos.y),Ro(this.pos,this.data.floodPathVector.copy().mult(.4))),this.data["scout-1-vector"]&&(j.stroke(0,255,255),Ro(this.pos,this.data["scout-1-vector"].copy().mult(.3))),this.data["scout-1-prev"]){const i=lt.Vector.sub(j.createVector(this.data["scout-1-prev"].pos.x,this.data["scout-1-prev"].pos.y),j.createVector(this.pos.x,this.pos.y));j.stroke(255,0,0),Ro(this.pos,i.copy().mult(.3))}j.pop()}preCalculateVertices(i=!1){const r=i?0:30;for(let e=0;e<6;e++){const m=j.PI/180*(r+e*60),d=this.pos.x+j.cos(m)*this.size,f=this.pos.y+j.sin(m)*this.size;this.vertices.push(j.createVector(d,f))}}applyBuff(i){this.buffs.push(i)}removeBuff(i){for(let r=0;r<this.buffs.length;r++)if(this.buffs[r].id===i){this.buffs.splice(r,1);return}}onCollision(){return null}}class ap extends bs{constructor(r,e,m,d,f,t,c={}){super(r,e,m,d,f,{color:j.color(xs),...c});z(this,"maxHp");z(this,"hp");this.maxHp=t,this.hp=t}show(){j.push(),j.stroke(10),j.strokeWeight(2),j.fill(this.color),cr(this.pos.x,this.pos.y,this.size),cr(this.pos.x,this.pos.y,this.size-5),cr(this.pos.x,this.pos.y,this.size-10),j.pop()}update(){return!0}}var Oo=(u=>(u[u.EMPTY=0]="EMPTY",u[u.HILL=1]="HILL",u[u.UNSTABLE=2]="UNSTABLE",u[u.WALL=3]="WALL",u[u.WATER=4]="WATER",u[u.LAVA=5]="LAVA",u[u.SPAWN=6]="SPAWN",u[u.BASE=7]="BASE",u))(Oo||{});class lp{constructor(i,r,e,m,d={}){z(this,"seed");z(this,"midPos");z(this,"rings");z(this,"maxR");z(this,"maxQ");z(this,"midR");z(this,"midQ");z(this,"minR");z(this,"minQ");z(this,"hexSize");z(this,"xDiff");z(this,"yDiff");z(this,"wallRing");z(this,"grid");z(this,"tileTypeColors",{[0]:j.color(gs),[1]:j.color(mi),[2]:j.color(Vc),[3]:j.color(Bc),[4]:j.color(Ka),[5]:j.color(Xa),[6]:j.color(Hr),[7]:j.color(xs)});z(this,"neighborVectorsRQ",[j.createVector(-1,1),j.createVector(0,1),j.createVector(1,0),j.createVector(1,-1),j.createVector(0,-1),j.createVector(-1,0)]);z(this,"teleporters",{});this.seed="",this.midPos=j.createVector(i,r),this.rings=e,this.maxR=e*2,this.maxQ=e*2,this.midR=e,this.midQ=e,this.minR=0,this.minQ=0,this.hexSize=m,this.xDiff=j.sqrt(3)*m,this.yDiff=1.5*m,this.grid=[],this.wallRing=d.wallRing??1,this.constructGrid(d.wallRing??1)}constructGrid(i=this.wallRing){for(let r=this.minR;r<=this.maxR;r++){this.grid.push([]);for(let e=this.minQ;e<=this.maxQ;e++){const m=this.getDiffVectorFromRQ(this.midR,this.midQ,r,e);if(m.add(this.midPos),this.grid[r].push(new bs(m.x,m.y,r,e,this.hexSize,{type:0,color:this.tileTypeColors[0]})),r+e<this.rings||r+e>this.rings*3)continue;const d=i;r>=this.minR+d&&r<=this.maxR-d&&e>=this.minQ+d&&e<=this.maxQ-d&&r+e>=this.rings+d&&r+e<=this.rings*3-d||this.setBuilderTileType(this.grid[r][e],vt.WALL)}}}reConstructGrid(i=this.wallRing){this.grid=[],this.teleporters={},this.constructGrid(i)}getDiffVectorFromRQ(i,r,e,m){const d=e-i,f=m-r;return j.createVector(this.xDiff*f+this.xDiff/2*d,this.yDiff*d)}getHexVectorFromXY(i,r){const e=i-this.midPos.x,m=r-this.midPos.y,d=j.createVector(m/this.yDiff,(j.sqrt(3)/3*e-1/3*m)/this.hexSize),f=this.axialRound(d);return f.x+=this.midR,f.y+=this.midQ,f}rqVectorIsOnGrid(i,r=0){const e=i.x,m=i.y,d=r;return e>=this.minR+d&&e<=this.maxR-d&&m>=this.minQ+d&&m<=this.maxQ-d&&e+m>=this.rings+d&&e+m<=this.rings*3-d}axialRound(i){let r=j.round(i.x),e=j.round(i.y);const m=j.round(-i.x-i.y),d=j.abs(i.x-r),f=j.abs(i.y-e),t=j.abs(-i.x-i.y-m);return d>f&&d>t?r=-e-m:f>t&&(e=-r-m),j.createVector(r,e)}show(){for(let i=0;i<=this.maxR;i++)for(let r=0;r<=this.maxQ;r++)i+r<this.rings||i+r>this.rings*3||this.grid[i][r].show()}showDebug(){for(let i=0;i<=this.maxR;i++)for(let r=0;r<=this.maxQ;r++)i+r<this.rings||i+r>this.rings*3||this.grid[i][r].showDebug()}getNeighbors(i,r,e=!1){const m=e?this.getTeleporterNeighbors(i,r):[];for(let d of this.neighborVectorsRQ){const f=i+d.x,t=r+d.y;f<this.minR||f>this.maxR||t<this.minQ||t>this.maxQ||f+t<this.rings||f+t>this.rings*3||m.push(this.grid[f][t])}return m}getNeighborsArea(i,r,e){const m=[];for(let d=0;d<6;d++)for(let f=1;f<=e;f++){const t=i+this.neighborVectorsRQ[d].x*f,c=r+this.neighborVectorsRQ[d].y*f;for(let h=1;h<f;h++){const g=(d+2)%6,p=t+this.neighborVectorsRQ[g].x*h,o=c+this.neighborVectorsRQ[g].y*h;this.rqVectorIsOnGrid(j.createVector(p,o),this.wallRing)&&m.push(this.grid[p][o])}this.rqVectorIsOnGrid(j.createVector(t,c),this.wallRing)&&m.push(this.grid[t][c])}return m}getGrandNeighbors(i,r,e=0){const m=[];for(let d=0;d<6;d++){const f=i+this.neighborVectorsRQ[d].x,t=r+this.neighborVectorsRQ[d].y;for(let c=d;c<d+2;c++){const h=f+this.neighborVectorsRQ[c%6].x,g=t+this.neighborVectorsRQ[c%6].y;this.rqVectorIsOnGrid(j.createVector(h,g),e)&&m.push(this.grid[h][g])}}return m}getTeleporterNeighbors(i,r){const e=this.grid[i][r],m=[];if(!e.isTeleporter)return m;for(const d of this.teleporters[e.teleporterType])d.r===i&&d.q===r||m.push(d);return m}getAllTiles(i=!0){const r=[];for(let e=this.minR;e<=this.maxR;e++)for(let m=this.minQ;m<=this.maxQ;m++)e+m<this.rings||e+m>this.rings*3||(i||!this.grid[e][m].wall)&&r.push(this.grid[e][m]);return r}hexInArray(i,r){for(const e of r)if(e.r===i.r&&e.q===i.q)return!0;return!1}addRandomWalls(i=50,r=vt.HILL,e=1){for(let m=0;m<=this.maxR;m++)for(let d=0;d<=this.maxQ;d++)m+d<this.rings||m+d>this.rings*3||j.random(100)<i&&this.rqVectorIsOnGrid(j.createVector(m,d),e)&&this.setBuilderTileType(this.grid[m][d],r)}breakWallsInArray(i,r=vt.EMPTY){for(const e of i)this.setBuilderTileType(e,r)}aStar(i,r,e,m,d=!1){const f=this.grid[i][r],t=this.getDiffVectorFromRQ(i,r,e,m);f.data={...f.data,g:0,h:t.mag(),f:t.mag(),prev:void 0};const c=this.grid[e][m],h=this.xDiff,g=h*(this.rings*2)**2;let p;const o=[f],n=[];for(;o.length>0;){p=o[0];let s=0;for(let l=1;l<o.length;l++)o[l].data.f<p.data.f&&(p=o[l],s=l);const a=this.getNeighbors(p.r,p.q);for(const l of a){if(this.hexInArray(l,n)||d&&!l.canUnit)continue;if(this.hexInArray(l,[c])){const w=[l,p];for(;p.data.prev;)w.push(p.data.prev),p=p.data.prev;return w}let v=h;if(l.canUnit||(v=g),this.hexInArray(l,o)){if(l.data.g<=p.data.g+v)continue}else l.data.h=this.getDiffVectorFromRQ(l.r,l.q,e,m).mag(),o.push(l);l.data.g=p.data.g+v,l.data.f=l.data.g+l.data.h,l.data.prev=p}o.splice(s,1),n.push(p)}return[]}resetColors(i=!0,r=j.color(gs)){for(let e=0;e<=this.maxR;e++)for(let m=0;m<=this.maxQ;m++)e+m<this.rings||e+m>this.rings*3||(i?this.grid[e][m].color=this.tileTypeColors[this.grid[e][m].type]:this.grid[e][m].color=r)}resetData(i={}){for(let r=0;r<=this.maxR;r++)for(let e=0;e<=this.maxQ;e++)r+e<this.rings||r+e>this.rings*3||(this.grid[r][e].data={...i})}resetSpecificData(i){for(let r=0;r<=this.maxR;r++)for(let e=0;e<=this.maxQ;e++)r+e<this.rings||r+e>this.rings*3||(this.grid[r][e].data[i]=null)}generateAllPathsThroughFloodFill(i,r,e=!1,m="flood",d=1e6,f=1e6){const t=`${m}Steps`,c=`${m}Next`,h=`${m}PathVector`;this.resetSpecificData("testFloodSteps"),e||(this.resetSpecificData(t),this.resetSpecificData(c),this.resetSpecificData(h));for(const g of r){const p=g;e?p.data={...p.data,testFloodSteps:0}:p.data={...p.data,testFloodSteps:0,[t]:0,[c]:p,[h]:j.createVector(0,0)};let o;const n=[p],s=[];for(;n.length>0;){o=n[0];let a=0;for(let v=1;v<n.length;v++)n[v].data.testFloodSteps<o.data.testFloodSteps&&(o=n[v],a=v);if(o.data.testFloodSteps>f)break;const l=this.getNeighbors(o.r,o.q,!0);for(const v of l){if(this.hexInArray(v,[...s,...n])||!(v.canUnit||v.canWaterUnit)||v.isTower||v.wall)continue;n.push(v);const w=lt.Vector.sub(j.createVector(o.pos.x,o.pos.y),j.createVector(v.pos.x,v.pos.y)),x=v.canUnit?1:d;(!v.data.testFloodSteps||v.data.testFloodSteps>o.data.testFloodSteps)&&(v.data.testFloodSteps=o.data.testFloodSteps+x,e||(v.data[t]=o.data[t]+x,v.data[c]=o,v.data[h]=w))}n.splice(a,1),s.push(o)}}for(const g of i)if(e){if(!g.data.testFloodSteps||g.data.testFloodSteps>d)return!1}else if(!g.data[t]||g.data[t]>d)return!1;return!0}setTileType(i,r){const e=qn[r];i.type=r,i.color=this.tileTypeColors[r],i.wall=r===1||r===3,i.canTower=e.canTower,i.canWaterTower=e.canWaterTower,i.canLavaTower=e.canLavaTower,i.canUnit=e.canUnit,i.canWaterUnit=e.canWaterUnit}setBuilderTileType(i,r){const e=qn[r];i.type=r,i.color=j.color(e.rgb),i.wall=r===vt.HILL||r===vt.WALL||r===vt.LAVA,i.canTower=e.canTower,i.canWaterTower=e.canWaterTower,i.canLavaTower=e.canLavaTower,i.canUnit=e.canUnit,i.canWaterUnit=e.canWaterUnit,i.isSpawn=e.isSpawn,i.isTeleporter=e.isTeleporter,i.teleporterType=e.teleporterType}addSpawnerToGrid(i){this.grid[i.r][i.q]=i}addMaouBaseToGrid(i){this.grid[i.r][i.q]=i}addTowerToGrid(i){this.grid[i.r][i.q]=i}removeTowerFromGrid(i){const r=new bs(i.pos.x,i.pos.y,i.r,i.q,i.size,{isTower:!1,data:i.data});this.setTileType(r,i.type),this.grid[i.r][i.q]=r}generateJsonableMap(){const i=[];for(const r of this.grid){const e=[];for(const m of r)e.push(m.type);i.push(e)}return i}buildMapFromJson(i,r,e){this.resetData();for(let m=0;m<this.grid.length;m++)for(let d=0;d<this.grid[m].length;d++){if(i[m][d]===vt.SPAWN&&(e.addSpawn(this.grid[m][d].pos.x,this.grid[m][d].pos.y,We,{gridR:m,gridQ:d}),e.waveReader.setActiveSpawners(e.spawners),this.addSpawnerToGrid(e.spawners[e.spawners.length-1])),i[m][d]===vt.BASE){const f=new ap(this.grid[m][d].pos.x,this.grid[m][d].pos.y,m,d,We,100);r.addBaseToMaou(f),this.addMaouBaseToGrid(f)}i[m][d],vt.TELEPORTER_ONE,this.setBuilderTileType(this.grid[m][d],i[m][d])}this.addAllTeleports()}addTeleporterToGrid(i){this.grid[i.r][i.q]=i}addAllTeleports(){for(let i=this.minR;i<=this.maxR;i++)for(let r=this.minQ;r<=this.maxQ;r++){if(i+r<this.rings||i+r>this.rings*3)continue;const e=this.grid[i][r];e.isTeleporter&&(e.teleporterType in this.teleporters||(this.teleporters[e.teleporterType]=[]),this.teleporters[e.teleporterType].push(e))}}}const je=new lp(j.windowWidth*C0,j.windowHeight*M0,E0,We,{wallRing:A0}),aa=(u,i,r,e=1,m=255)=>{const d=r*2/9;j.push(),j.translate(u.x,u.y),j.rotate(i.heading()),j.triangle(2*d,-d,2*d,d,3*d,0),j.fill([...Er,m]),j.circle(0,0,r),j.pop(),j.push(),j.noStroke(),j.circle(u.x,u.y,r*e),j.pop()},Ht=(u,i)=>(u.x-i.x)*(u.x-i.x)+(u.y-i.y)*(u.y-i.y),vu=(u,i,r)=>j.min(r,j.max(i,u)),up=(u,i,r=255)=>j.color(j.random(u[0],i[0]),j.random(u[1],i[1]),j.random(u[2],i[2]),r),Hc=(u,i,r,e=255)=>{const m=1-r;return j.color(u[0]*r+i[0]*m,u[1]*r+i[1]*m,u[2]*r+i[2]*m,e)},Yn=u=>j.color(j.red(u),j.green(u),j.blue(u),j.alpha(u)),Nn=(u,i,r)=>(i.x-u.x)*(r.y-u.y)-(r.x-u.x)*(i.y-u.y),nn=(u,i)=>{const r=i.indexOf(u);i.splice(r,1)};class ws{constructor(i,r){z(this,"pos");z(this,"data");this.pos=i,this.data=r}}class Fn{constructor(i,r,e,m,d=2,f=10){z(this,"pos");z(this,"width");z(this,"height");z(this,"capacity");z(this,"maxDepth");z(this,"split");z(this,"list");z(this,"northEast");z(this,"southEast");z(this,"southWest");z(this,"northWest");this.pos=j.createVector(i,r),this.width=e,this.height=m,this.capacity=d,this.maxDepth=f,this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}getDir(){return[this.northEast,this.southEast,this.southWest,this.northWest]}show(){if(this.split)for(const i of this.getDir())i.show();j.push(),j.strokeWeight(1),j.stroke(Hr),j.noFill(),j.rect(this.pos.x,this.pos.y,this.width,this.height),j.pop()}insert(i){this.maxDepth<=0?this.list.push(i):this.split?(this.northEast.contains(i.pos)&&this.northEast.insert(i),this.southEast.contains(i.pos)&&this.southEast.insert(i),this.southWest.contains(i.pos)&&this.southWest.insert(i),this.northWest.contains(i.pos)&&this.northWest.insert(i)):(this.list.push(i),this.list.length>this.capacity&&this.subDivide())}subDivide(){const i=this.width/2,r=this.height/2;this.northEast=new Fn(this.pos.x+i,this.pos.y,i,r,this.capacity,this.maxDepth-1),this.southEast=new Fn(this.pos.x+i,this.pos.y+r,i,r,this.capacity,this.maxDepth-1),this.southWest=new Fn(this.pos.x,this.pos.y+r,i,r,this.capacity,this.maxDepth-1),this.northWest=new Fn(this.pos.x,this.pos.y,i,r,this.capacity,this.maxDepth-1),this.split=!0;for(let e=this.list.length-1;e>=0;e--)this.insert(this.list[e]),this.list.splice(e,1)}contains(i){return i.x>=this.pos.x&&i.x<this.pos.x+this.width&&i.y>=this.pos.y&&i.y<this.pos.y+this.height}inRangeCircle(i,r){const e=r**2;if(!this.intersectsCirlce(i,e))return[];const m=[];if(this.split)for(const d of this.getDir())m.push(...d.inRangeCircle(i,r));else for(const d of this.list)Ht(d.pos,i)>e||m.push(d.data);return m}inRangeCircleFromMin(i,r,e){const m=r**2,d=e**2;if(!this.intersectsCirlce(i,m))return[];const f=[];if(this.split)for(const t of this.getDir())f.push(...t.inRangeCircleFromMin(i,r,e));else for(const t of this.list)Ht(t.pos,i)>m||Ht(t.pos,i)<d||f.push(t.data);return f}inRangeCirclePart(i,r,e,m){const d=r**2;if(!this.intersectsCirlce(i,d))return[];const f=[];if(this.split)for(const t of this.getDir())f.push(...t.inRangeCirclePart(i,r,e,m));else for(const t of this.list){if(Ht(t.pos,i)>d)continue;const c=(lt.Vector.sub(t.pos,i).heading()+j.TWO_PI)%j.TWO_PI,h=e-c;h>-m&&h<m&&f.push(t.data)}return f}inRangePath(i,r,e){const m=[],d=[],f=lt.Vector.sub(r,i),t=lt.Vector.fromAngle(f.heading()+j.PI/2);t.setMag(e),d.push(lt.Vector.add(t,i)),t.mult(-1),d.push(lt.Vector.add(t,i)),d.push(lt.Vector.add(t,r)),t.mult(-1),d.push(lt.Vector.add(t,r));const c=(f.heading()+j.TWO_PI)%j.TWO_PI;m.push(...this.inRangeCirclePart(r,e,c,j.PI/2));const h=(f.heading()+j.PI*3)%j.TWO_PI;return m.push(...this.inRangeCirclePart(i,e,h,j.PI/2)),m.push(...this.inRangeRotatedRect(d)),m}inRangeRect(i,r,e){if(!this.intersectsRect(i,r,e))return[];const m=[];if(this.split)for(const d of this.getDir())m.push(...d.inRangeRect(i,r,e));else for(const d of this.list)d.pos.x>i.x+r||d.pos.x<i.x||d.pos.y>i.y+e||d.pos.y<i.y||m.push(d.data);return m}inRangeRotatedRect(i){const r=[];if(this.split)for(const e of this.getDir())r.push(...e.inRangeRotatedRect(i));else for(const e of this.list)Nn(i[0],i[1],e.pos)>0&&Nn(i[1],i[2],e.pos)>0&&Nn(i[2],i[3],e.pos)>0&&Nn(i[3],i[0],e.pos)>0&&r.push(e.data);return r}intersectsCirlce(i,r){const e=j.createVector(vu(i.x,this.pos.x,this.pos.x+this.width),vu(i.y,this.pos.y,this.pos.y+this.height));return Ht(e,i)<=r}intersectsRect(i,r,e){return!(i.x>this.pos.x+this.width||i.x+r<this.pos.x||i.y>this.pos.y+this.height||i.y+e<this.pos.y)}emptyQuadTree(){this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}}const ti=new Fn(0,0,j.windowWidth,j.windowHeight,3,7);class sr{constructor(i,r){z(this,"type");z(this,"amount");this.type=i,this.amount=r}}const cp={name:"Easy",UNIT_HP_MOD:.8,UNIT_SPEED_MOD:.9,UNIT_FORCE_MOD:.75,MAOU_HP_MOD:2,TOWER_COST_MOD:.75,TOWER_SELL_MOD:1,FINAL_WAVE:40},pn={name:"Normal",UNIT_HP_MOD:1,UNIT_SPEED_MOD:1,UNIT_FORCE_MOD:1,MAOU_HP_MOD:1,TOWER_COST_MOD:1,TOWER_SELL_MOD:.9,FINAL_WAVE:60},dp={name:"Hard",UNIT_HP_MOD:1.25,UNIT_SPEED_MOD:1.1,UNIT_FORCE_MOD:1.4,MAOU_HP_MOD:1,TOWER_COST_MOD:1.1,TOWER_SELL_MOD:.8,FINAL_WAVE:80},hp={name:"Extreme",UNIT_HP_MOD:1.5,UNIT_SPEED_MOD:1.25,UNIT_FORCE_MOD:2,MAOU_HP_MOD:.1,TOWER_COST_MOD:1.25,TOWER_SELL_MOD:0,FINAL_WAVE:100},la={Easy:cp,Normal:pn,Hard:dp,Extreme:hp},fp=u=>u==="Easy"?"Normal":u==="Normal"?"Hard":"Extreme";let tr={name:pn.name,UNIT_HP_MOD:pn.UNIT_HP_MOD,UNIT_SPEED_MOD:pn.UNIT_SPEED_MOD,UNIT_FORCE_MOD:pn.UNIT_FORCE_MOD,MAOU_HP_MOD:pn.MAOU_HP_MOD,TOWER_COST_MOD:pn.TOWER_COST_MOD,TOWER_SELL_MOD:pn.TOWER_SELL_MOD,FINAL_WAVE:pn.FINAL_WAVE};const pp=u=>{tr.name=u.name,tr.UNIT_HP_MOD=u.UNIT_HP_MOD,tr.UNIT_SPEED_MOD=u.UNIT_SPEED_MOD,tr.UNIT_FORCE_MOD=u.UNIT_FORCE_MOD,tr.MAOU_HP_MOD=u.MAOU_HP_MOD,tr.TOWER_COST_MOD=u.TOWER_COST_MOD,tr.TOWER_SELL_MOD=u.TOWER_SELL_MOD,tr.FINAL_WAVE=u.FINAL_WAVE},Ft=new Fn(0,0,j.windowWidth,j.windowHeight,3,7);class dr{constructor(i,r,e,m={}){z(this,"pos");z(this,"hexPos");z(this,"prevPos");z(this,"vel");z(this,"acc");z(this,"accumulatedFrictionMag");z(this,"futurePos");z(this,"desiredSpeed");z(this,"baseDesiredSpeed");z(this,"multiplicativeSpeedBuffs");z(this,"setSpeedBuffs");z(this,"baseForce");z(this,"maxForce");z(this,"baseMaxForce");z(this,"additiveMaxForceBuffs");z(this,"multiplicativeMaxForceBuffs");z(this,"size");z(this,"radius");z(this,"mass");z(this,"baseMass");z(this,"maxHp");z(this,"hp");z(this,"damage");z(this,"goldValue");z(this,"xpValue");z(this,"dead");z(this,"color");z(this,"pathGoal");z(this,"id");z(this,"statuses");z(this,"level");z(this,"visionRadius");z(this,"attackRadius");z(this,"attackCooldown");z(this,"attackCurrentCooldown");z(this,"currentFlowField");z(this,"originalFlowField");z(this,"canSwim");z(this,"framesAlive");z(this,"rage");z(this,"rageTimer");z(this,"rageTimerOnRefresh");z(this,"rageForceIncreasePercent");z(this,"abilityCounters");z(this,"armor");this.pos=j.createVector(i,r),this.hexPos=j.createVector(0,0),this.prevPos=j.createVector(i,r),this.vel=j.createVector(0,0),this.acc=j.createVector(0,0),this.accumulatedFrictionMag=0,this.futurePos=j.createVector(0,0),this.desiredSpeed=(m.desiredSpeed??2)*(m.otherDifficulty??tr).UNIT_SPEED_MOD,this.baseDesiredSpeed=this.desiredSpeed,this.baseForce=(m.maxForce??.1)*(m.otherDifficulty??tr).UNIT_FORCE_MOD,this.maxForce=this.baseForce,this.multiplicativeSpeedBuffs=[],this.setSpeedBuffs=[],this.baseMaxForce=this.maxForce,this.additiveMaxForceBuffs=[],this.multiplicativeMaxForceBuffs=[],this.size=e,this.radius=e/2,this.mass=m.mass??1,this.baseMass=m.mass??1,this.maxHp=(m.hp??50)*(m.otherDifficulty??tr).UNIT_HP_MOD,this.hp=this.maxHp,this.damage=m.damage??10,this.goldValue=m.goldValue??50,this.dead=!1,this.color=m.color??j.color(Ac),this.pathGoal=void 0,this.id=m.id??j.random(),this.statuses={NORMAL:[],ON_DEATH:[],PASSIVE:[],ON_TAKE_DAMAGE:[]},this.level=m.level??1,this.visionRadius=m.visionRadius??We*3,this.attackRadius=m.attackRadius??this.radius,this.attackCooldown=m.attackCooldown??50,this.attackCurrentCooldown=this.attackCooldown,this.currentFlowField=m.flowField??"floodNext",this.originalFlowField=m.flowField??"floodNext",this.canSwim=m.canSwim??!1,this.framesAlive=0,this.rage=0,this.rageTimer=5e3,this.rageTimerOnRefresh=500,this.rageForceIncreasePercent=1.1,this.abilityCounters=[],this.xpValue=m.xpValue??10,this.armor=null}show(){j.push(),j.strokeWeight(2),j.stroke(0),j.fill(this.color),aa(this.pos,this.vel,this.size,j.max(this.hp/this.maxHp,0)),this.showStatusEffects(),this.armor&&this.armor.show(this.pos,this.size,this.vel.heading()),j.pop()}showDot(){j.strokeWeight(5),j.point(this.pos.x,this.pos.y)}showDebug(){j.push(),j.strokeWeight(5),j.stroke(0,255,0),j.fill(this.color),aa(this.pos,this.vel,this.size,j.max(this.hp/this.maxHp,0)),j.pop()}update(){const i=this.getTarget();this.hexPos=je.getHexVectorFromXY(this.pos.x,this.pos.y),i!==void 0?this.followPathAndSeekTarget(i,je.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField):this.followPathField(je.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField),this.checkAndApplyRage(),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.applyStatusEffects("NORMAL"),this.pos.add(this.vel),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.pos),this.acc.mult(0),this.accumulatedFrictionMag=0,this.detectCollisions(),this.detectDrowning(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(i),this.hp<=0&&this.die(),this.decreaseStatusTimers(),this.framesAlive++}applyStatusEffects(i,r={}){for(let e=this.statuses[i].length-1;e>=0;e--)this.statuses[i][e].effectUnit(this,this.statuses[i][e],r)}showStatusEffects(){const i=[];for(const d in this.statuses)i.push(...this.statuses[d]);const r=this.size/3,e=this.pos.x+(i.length/2+.5)*-r,m=j.createVector(e,this.pos.y-this.size);for(let d=i.length-1;d>=0;d--)m.x+=r,i[d].show(this,m)}decreaseStatusTimers(){for(const i in this.statuses){const r=this.statuses[i];for(let e=r.length-1;e>=0;e--){const m=r[e];m.duration--,m.duration<=0&&(this.statuses[i].splice(e,1),m.onRemoval(this))}}}cleanseAllStatuses(){for(const i in this.statuses){const r=this.statuses[i];for(let e=r.length-1;e>=0;e--){const m=r[e];m.cleanse(),m.duration<=0&&(this.statuses[i].splice(e,1),m.onRemoval(this))}}}applyStatus(i,r=!1){for(let m=this.statuses[i.timing].length-1;m>=0;m--)if(this.statuses[i.timing][m].name===i.name)return r?(this.statuses[i.timing][m].duration=i.duration,!0):!1;const e=i.copy();return this.statuses[i.timing].push(e),e.onApply(this),!0}edges(i=0){this.pos.x>j.width-i&&(this.pos.x-=j.width-2*i),this.pos.x<i&&(this.pos.x+=j.width-2*i),this.pos.y>j.height-i&&(this.pos.y-=j.height-2*i),this.pos.y<i&&(this.pos.y+=j.height-2*i)}bouncyEdges(i=0){this.pos.x>j.width-i&&this.vel.x>0&&(this.pos.x=j.width-i,this.vel.mult([-1,1])),this.pos.x<i&&this.vel.x<0&&(this.pos.x=i,this.vel.mult([-1,1])),this.pos.y>j.height-i&&this.vel.y>0&&(this.pos.y=j.height-i,this.vel.mult([1,-1])),this.pos.y<i&&this.vel.y<0&&(this.pos.y=i,this.vel.mult([1,-1]))}findPositionThroughEdges(i,r=0){const e=lt.Vector.sub(i,this.pos);return e.x>j.width/2-r&&(e.x-=j.width-2*r),e.x<-j.width/2+r&&(e.x+=j.width-2*r),e.y>j.height/2-r&&(e.y-=j.height-2*r),e.y<-j.height/2+r&&(e.y+=j.height-2*r),e.add(this.pos)}applyForce(i){const r=i.copy().div(this.mass);this.acc.add(r)}friction(i=.1){let r=j.min(i,1);r*=this.vel.mag()-this.accumulatedFrictionMag,this.accumulatedFrictionMag+=r}applyAccumulatedFriction(){const i=this.vel.copy();i.normalize(),i.mult(-1),i.setMag(this.accumulatedFrictionMag*this.mass),this.applyForce(i)}drag(i=1){const r=this.vel.copy();r.normalize(),r.mult(-1);const e=this.vel.mag(),m=.1;r.setMag(i*m*e*e),this.applyForce(r)}getDesire(i){const r=lt.Vector.sub(i,this.pos);return r.setMag(this.desiredSpeed),r}seek(i){const r=this.getDesire(i);return r.sub(this.vel),r.limit(this.maxForce),r}arrive(i){const r=this.getDesire(i),e=j.dist(this.pos.x,this.pos.y,i.x,i.y);return e<200&&r.setMag(j.map(e,0,200,0,this.desiredSpeed)),r.sub(this.vel),r.limit(this.maxForce),r}flee(i){const r=this.getDesire(i).mult(-1);return r.sub(this.vel),r.limit(this.maxForce),r}pursue(i){return Ht(this.pos,i.pos)>i.futurePos.mag()**2?this.seek(this.findPositionThroughEdges(i.futurePos,100)):this.seek(this.findPositionThroughEdges(i.pos,100))}evade(i){return Ht(this.pos,i.pos)>i.futurePos.mag()**2?this.flee(this.findPositionThroughEdges(i.futurePos,100)):this.flee(this.findPositionThroughEdges(i.pos,100))}catch(i){this.size/2+i.size/2>j.dist(i.pos.x,i.pos.y,this.pos.x,this.pos.y)&&(this.hp=j.min(this.maxHp,this.hp+80),i.hp-=80,i.pos.x=j.random(j.width),i.pos.y=j.random(j.height),i.die())}takeDamage(i){this.applyStatusEffects("ON_TAKE_DAMAGE",{damage:i}),this.armor&&(i=this.armor.reduceDamage(i),this.checkArmor()),this.hp-=i.amount,this.hp<=0&&this.die()}getHeal(i){this.hp=j.min(this.maxHp,this.hp+i)}die(){this.dead||(this.dead=!0,this.applyStatusEffects("ON_DEATH"))}reachedMaou(){}getCurrentTile(){const i=je.getHexVectorFromXY(this.pos.x,this.pos.y);return je.rqVectorIsOnGrid(i)?je.grid[i.x][i.y]:(this.outOfBoundsCheckAndCorrection(),this.getCurrentTile())}detectCollisions(){const i=this.getCurrentTile();if(i===void 0)return;const r=je.getNeighbors(i.r,i.q);i.isSpawn;for(const e of[...r,i])if((e.wall||e.isSpawn)&&Ht(this.pos,e.pos)<(this.radius+e.collisionRadius)**2){const m=lt.Vector.sub(this.pos,e.pos),d=m.angleBetween(this.vel),f=lt.Vector.fromAngle(m.heading()+(j.PI-d));f.setMag(this.vel.mag()*1),this.vel.set(f),m.setMag(this.radius+e.collisionRadius),m.add(e.pos),this.pos.set(m);const t=e.onCollision();t!==null&&this.takeDamage(t)}}detectDrowning(){const i=this.getCurrentTile();i===void 0||!i.canWaterTower||this.drown()}drown(){this.takeDamage(new sr("DROWN",this.maxHp/200)),this.friction(.15)}outOfBoundsCheckAndCorrection(){const i=je.getHexVectorFromXY(this.pos.x,this.pos.y);je.rqVectorIsOnGrid(i)||(this.pos=this.prevPos.copy(),this.vel=j.createVector(0,0))}readPathField(i,r=this.currentFlowField){return i.data[r]?(Ht(this.pos,i.pos)<(i.collisionRadius-this.radius)**2&&(this.pathGoal=i.data[r]),this.pathGoal||(this.pathGoal=i.data[r]),this.pathGoal.pos):i.pos}followPathField(i,r=this.currentFlowField){if(this.tryTeleport(i,r))return;const m=this.readPathField(i,r),d=this.seek(m);this.applyForce(d)}tryTeleport(i,r=this.currentFlowField){if(!i.isTeleporter||!i.data[r]||!i.data[r].isTeleporter)return!1;const e=lt.Vector.sub(this.pos,i.pos),m=lt.Vector.add(i.data[r].pos,e);return this.pos=m,this.pathGoal=i.data[r].data[r],!0}getTarget(i=ti){const r=i.inRangeCircle(this.pos,this.visionRadius);if(r.length<1)return;let e=0,m=99999;for(let d=0;d<r.length;d++){const f=Ht(r[d].pos,this.pos);f<m&&(m=f,e=d)}return r[e]}seekTargetWithoutApplyForce(i){const r=this.getCurrentTile(),e=i.getCurrentTile();let m=this.seek(i.pos);if(r!==e){const d=je.aStar(r.r,r.q,e.r,e.q,!0);d.length===0?m=j.createVector(0,0):m=this.seek(d[d.length-2].pos)}return m}seekTarget(i){this.applyForce(this.seekTargetWithoutApplyForce(i))}followPathAndSeekTarget(i,r,e=this.currentFlowField){if(this.tryTeleport(r,e))return;const d=this.readPathField(r,e),f=this.seek(d),t=this.seekTargetWithoutApplyForce(i),c=lt.Vector.add(f,t);c.limit(this.maxForce),this.applyForce(c)}tryAttack(i){this.attackCurrentCooldown--,i!==void 0&&(this.attackCurrentCooldown>0||Ht(this.pos,i.pos)>(lr/2+this.attackRadius)**2||(this.attack(i),this.attackCurrentCooldown=this.attackCooldown))}attack(i){i.takeDamage(new sr("PHYSICAL",this.damage))}checkAndApplyRage(){this.rageTimer--,this.rageTimer<1&&(this.rageTimer=this.rageTimerOnRefresh,this.rage++,this.multiplicativeMaxForceBuffs.push(this.rageForceIncreasePercent),this.recalcMaxForceBuffs())}addArmor(i){this.armor=i,this.mass+=i.weight,this.baseMass+=i.weight}removeArmor(){this.armor!==null&&(this.mass-=this.armor.weight,this.baseMass-=this.armor.weight,this.armor=null)}checkArmor(){this.armor!==null&&this.armor.hp<=0&&this.removeArmor()}recalcMaxForceBuffs(){this.maxForce=this.baseMaxForce;for(const i of this.additiveMaxForceBuffs)this.maxForce+=i;for(const i of this.multiplicativeMaxForceBuffs)this.maxForce*=i}recalcSpeedBuffs(){this.desiredSpeed=this.baseDesiredSpeed;for(const i of this.multiplicativeSpeedBuffs)this.desiredSpeed*=i;for(const i of this.setSpeedBuffs)this.desiredSpeed=i}insertIntoQuadTree(){Ft.insert(new ws(this.pos,this))}}class mp extends bs{constructor(r,e,m,d={}){super(r,e,d.gridR??0,d.gridQ??0,m,{color:j.color(Hr),...d});z(this,"flat");z(this,"exitDir");z(this,"unitSize");this.flat=d.flat??!1,this.exitDir=d.exitDir??this.flat?-j.PI/6:0,this.unitSize=d.unitSize??20}spawnUnit(r={}){const e=new dr(this.pos.x,this.pos.y,this.unitSize,{color:r.color??Yn(r.color),...r});return e.vel=lt.Vector.fromAngle(this.exitDir,0),e}spawnUnitViaWaveReader(r){return r.vel=lt.Vector.fromAngle(this.exitDir,0),r}show(){j.stroke(0),j.strokeWeight(2),j.fill(this.color),cr(this.pos.x,this.pos.y,this.size,this.flat),j.ellipse(this.pos.x,this.pos.y,this.size*1.6)}update(){return!0}}const Xr=Object.freeze({name:"Berserker",discription:"The Berserker gets stronger and faster the more damage she has sustained.",hp:300,hpScaling:25,damage:40,speed:gt*1.5,force:gt*.12,attackCooldown:50,mass:1,gold:50,xp:40,baseLevel:13,rgb:N0});class gp extends dr{constructor(i,r,e,m={}){super(i,r,e,m)}update(){const i=j.min(this.maxHp/j.max(this.hp,1),4);this.attackCooldown=Xr.attackCooldown/i,this.recalcMaxForceBuffs(),this.recalcSpeedBuffs(),super.update()}recalcMaxForceBuffs(){super.recalcMaxForceBuffs();const i=j.min(this.maxHp/j.max(this.hp,1),4);this.maxForce*=i*1.5}recalcSpeedBuffs(){super.recalcSpeedBuffs();const i=j.min(this.maxHp/j.max(this.hp,1),4);this.desiredSpeed*=i}}const yp=(u,i)=>new gp(u.x,u.y,lr,{desiredSpeed:Xr.speed,maxForce:Xr.force,hp:Xr.hp+(i-Xr.baseLevel)*Xr.hpScaling,damage:Xr.damage,goldValue:j.max(Xr.gold-(i-Xr.baseLevel),1),xpValue:Xr.xp,color:j.color(Xr.rgb)}),vp=(u,i,r,e)=>{const m=r/2,d=r*(3/8);j.strokeWeight(e),j.beginShape(),j.vertex(u-m,i-d),j.quadraticVertex(u-m,i-m,u-d,i-m),j.vertex(u+d,i-m),j.quadraticVertex(u+m,i-m,u+m,i-d),j.vertex(u+m,i+d),j.quadraticVertex(u+m,i+m,u+d,i+m),j.vertex(u-d,i+m),j.quadraticVertex(u-m,i+m,u-m,i+d),j.endShape(j.CLOSE),j.strokeWeight(e*3),j.line(u-d,i-d,u+d,i+d),j.line(u+d,i-d,u-d,i+d)},Go=(u,i,r)=>{const e=r/2,m=r/8;j.push(),j.circle(u,i,r*2),j.noFill(),j.beginShape(),j.vertex(u-e,i-e),j.vertex(u+e,i-e),j.vertex(u-e,i+e),j.vertex(u+e,i+e),j.endShape(),j.line(u-m,i-(e+m),u-m,i-e),j.line(u+m,i-(e+m),u+m,i-e),j.line(u-m,i+(e+m),u-m,i+e),j.line(u+m,i+(e+m),u+m,i+e),j.pop()},bp=(u,i,r)=>{const e=r/2,m=r*(3/8),d={x:u,y:i-e},f={x:u,y:i+e},t={x:u+m,y:i-m},c={x:u-m,y:i-m};j.noFill(),j.curve(d.x,d.y-e,d.x,d.y,t.x,t.y,t.x+m,t.y-m),j.curve(t.x,t.y-e,t.x,t.y,f.x,f.y,f.x-r*3,f.y),j.curve(f.x+r*3,f.y,f.x,f.y,c.x,c.y,c.x,c.y-e),j.curve(c.x-m,c.y-m,c.x,c.y,d.x,d.y,d.x,d.y-e)};class Rn{constructor(i,r,e,m,d,f,t,c={}){z(this,"origin");z(this,"pos");z(this,"prevPos");z(this,"vel");z(this,"acc");z(this,"size");z(this,"radius");z(this,"damage");z(this,"damageType");z(this,"pierce");z(this,"critChance");z(this,"critMultiplier");z(this,"statuses");z(this,"lifeSpan");z(this,"color");z(this,"alreadyHitEnemyIds");z(this,"extraDamageCalc");z(this,"extraActionOnHit");z(this,"extraActionOnMove");this.origin=i,this.pos=r.copy(),this.prevPos=r.copy(),this.vel=e.copy(),this.acc=j.createVector(0,0),this.size=m,this.radius=m/2,this.damage=d,this.damageType=f,this.pierce=c.pierce??1,this.critChance=c.critChance??0,this.critMultiplier=c.critMultiplier??2,this.statuses=c.statuses??[],this.lifeSpan=t,this.color=c.color??j.color(Ic),this.alreadyHitEnemyIds=[],this.extraDamageCalc=c.extraDamageCalc??(()=>0),this.extraActionOnHit=c.extraActionOnHit??(()=>{}),this.extraActionOnMove=c.extraActionOnMove??(()=>{})}show(){j.push();const i=this.vel.copy();i.setMag(this.size);const r=lt.Vector.add(this.pos,i.copy().mult(-.5));j.stroke(this.color),Ro(r,i,2),j.pop()}showDebug(){j.stroke(this.color),j.strokeWeight(5),j.point(this.pos.x,this.pos.y)}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const i=Ft.inRangePath(this.prevPos,this.pos,this.size);for(const r of i)this.hit(r);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}applyForce(i){this.acc.add(i)}hit(i){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(i.id))return;this.alreadyHitEnemyIds.push(i.id);const r=this.damage*(j.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(i);this.updateOriginUsageDataSingle(i,r),i.takeDamage(new sr(this.damageType,r));for(let e=0;e<this.statuses.length;e++)i.applyStatus(this.statuses[e]);this.extraActionOnHit({pos:this.pos,vel:this.vel,target:i}),this.pierce--}updateOriginUsageData(i,r){this.origin.usageData.totalDamageDone+=r,this.origin.usageData.unitsHit++,this.origin.usageData.highestDamageHit<r&&(this.origin.usageData.highestDamageHit=r),r>=i.hp&&(this.origin.usageData.unitsKilled++,this.origin.usageData.overkillDamageDone+=r-i.hp)}updateOriginUsageDataSingle(i,r){this.origin.usageData.totalHits++,this.updateOriginUsageData(i,r)}updateOriginUsageDataAoe(i,r){this.origin.usageData.totalHits++;for(const e of i)this.updateOriginUsageData(e,r)}}const wp=u=>({totalDamageDone:0,totalHits:0,highestDamageHit:0,overkillDamageDone:0,unitsKilled:0,unitsHit:0,framesExists:0,totalCost:u,killsPerCost:0,damagePerCost:0,killsPerFrame:0,damagePerFrame:0,killsPerCostPerFrame:0,damagePerCoastPerFrame:0}),xp=u=>{u.killsPerCost=j.round(u.unitsKilled/u.totalCost,2),u.damagePerCost=j.round(u.totalDamageDone/u.totalCost,2),u.killsPerFrame=j.round(u.unitsKilled/u.framesExists,2),u.damagePerFrame=j.round(u.totalDamageDone/u.framesExists,2),u.killsPerCostPerFrame=j.round(u.unitsKilled/u.totalCost/u.framesExists,2),u.damagePerCoastPerFrame=j.round(u.totalDamageDone/u.totalCost/u.framesExists,2)};var jn=(u=>(u[u.CLOSEST=0]="CLOSEST",u[u.FURTHEST=1]="FURTHEST",u[u.FIRST=2]="FIRST",u[u.LAST=3]="LAST",u[u.STRONGEST=4]="STRONGEST",u[u.WEAKEST=5]="WEAKEST",u))(jn||{});const _p={name:"Closest",description:"Target the enemy closest to the tower.",function:(u,i)=>{let r=0,e=99999;for(let m=0;m<i.length;m++){const d=Ht(i[m].pos,u);d<e&&(e=d,r=m)}return i[r]}},Sp={name:"Furthest",description:"Target the enemy furthest from the tower.",function:(u,i)=>{let r=0,e=0;for(let m=0;m<i.length;m++){const d=Ht(i[m].pos,u);d>e&&(e=d,r=m)}return i[r]}},jp={name:"First",description:"Target the enemy closest to reaching the base.",function:(u,i)=>{let r=0,e=99999;for(let m=0;m<i.length;m++){const d=i[m].getCurrentTile();d.data.floodSteps<e&&(e=d.data.floodSteps,r=m)}return i[r]}},Tp={name:"Last",description:"Target the enemy closest to the spawn.",function:(u,i)=>{let r=0,e=0;for(let m=0;m<i.length;m++){const d=i[m].getCurrentTile();d.data.floodSteps>e&&(e=d.data.floodSteps,r=m)}return i[r]}},Ep={name:"Strongest",description:"Target the strongest enemy.",function:(u,i)=>{let r=0,e=0;for(let m=0;m<i.length;m++){const d=i[m].hp;e<d&&(e=d,r=m)}return i[r]}},Cp={name:"Weakest",description:"Target the weakest enemy.",function:(u,i)=>{let r=0,e=99999999;for(let m=0;m<i.length;m++){const d=i[m].hp;e>d&&(e=d,r=m)}return i[r]}},Qa={[0]:_p,[1]:Sp,[2]:jp,[3]:Tp,[4]:Ep,[5]:Cp};class vn extends bs{constructor(r,e,m,d,f,t,c,h,g,p,o,n){super(r,e,m,d,f,{color:j.color(Rc),...n});z(this,"range");z(this,"baseRange");z(this,"rangeBuffsAdditive");z(this,"rangeBuffsMultiplicative");z(this,"name");z(this,"cooldown");z(this,"baseCooldown");z(this,"cooldownBuffsAdditive");z(this,"currentCooldown");z(this,"cost");z(this,"spendValue");z(this,"damage");z(this,"baseDamage");z(this,"damageBuffsMultiplicative");z(this,"projectileSpeed");z(this,"projectilePierce");z(this,"projectileSize");z(this,"projectileNumber");z(this,"critChance");z(this,"critMultiplier");z(this,"lastShotAngle");z(this,"targetingType");z(this,"availableTargetingTypes");z(this,"upgradesPurchased");z(this,"purchasedUpgrades");z(this,"upgrades");z(this,"projectileColor");z(this,"ultimate");z(this,"ultCooldown");z(this,"ultCurrentCooldown");z(this,"extraActionsOnHit");z(this,"extraActionsOnMove");z(this,"buffsThisApplied");z(this,"usageData");this.name=t,this.range=c,this.baseRange=c,this.rangeBuffsAdditive=[],this.rangeBuffsMultiplicative=[],this.cooldown=p,this.baseCooldown=p,this.cooldownBuffsAdditive=[],this.currentCooldown=p,this.cost=o,this.spendValue=n.spendValue??o,this.damage=h,this.baseDamage=h,this.damageBuffsMultiplicative=[],this.projectileSpeed=g,this.critChance=n.critChance??0,this.critMultiplier=n.critMultiplier??1,this.projectilePierce=n.projectilePierce??1,this.projectileColor=n.projectileColor??j.color(Ic),this.projectileSize=n.projectileSize??We*(2/3),this.projectileNumber=1,this.lastShotAngle=0,this.targetingType=jn.CLOSEST,this.availableTargetingTypes=[jn.CLOSEST,jn.FURTHEST,jn.FIRST,jn.LAST,jn.STRONGEST,jn.WEAKEST],this.upgradesPurchased=0,this.ultimate=()=>{},this.ultCooldown=0,this.ultCurrentCooldown=0,this.purchasedUpgrades=[],this.upgrades=n.upgrades,this.extraActionsOnHit=[],this.extraActionsOnMove=[],this.buffsThisApplied=[],this.usageData=wp(n.spendValue??o),this.canUnit=!1,this.canWaterUnit=!1}show(r=this.pos){j.push(),j.stroke(0),j.strokeWeight(2),j.fill(this.color),cr(r.x,r.y,this.size),this.upgradesPurchased>3&&(j.strokeWeight(1),cr(r.x,r.y,this.size-3),this.upgradesPurchased>7&&(j.stroke(0),cr(r.x,r.y,this.size-6))),this.showSymbol(r),this.shouldShowUltCooldown(),j.pop()}showSymbol(r=this.pos){}shouldShowUltCooldown(){}showUltCooldown(){if(this.ultCurrentCooldown<=0){let d=this.ultCurrentCooldown*-1%100;d>50&&(d=100-d),d/=50,j.push(),j.noFill(),j.strokeWeight(2),j.stroke(Hc(vs,Er,d)),cr(this.pos.x,this.pos.y,this.size-1),j.pop();return}const r=(this.ultCooldown-this.ultCurrentCooldown)/this.ultCooldown*6,e=j.floor(r),m=r%1;j.push(),j.noFill(),j.strokeWeight(2),j.stroke(vs),sp(this.pos.x,this.pos.y,this.size-1,e,m),j.pop()}applyBuff(r){r.onApply(this),this.buffs.push(r)}applyTimedBuff(r){r.onApply(this),this.timedBuffs.push(r)}applyAllMyBuffs(){for(const r of this.buffs)r.onApply(this)}removeBuff(r){for(let e=0;e<this.buffs.length;e++)if(this.buffs[e].id===r){this.buffs[e].onRemove(this),this.buffs.splice(e,1);return}}recalcCooldownBuffs(){this.cooldown=this.baseCooldown;for(const r of this.cooldownBuffsAdditive)this.cooldown+=r}recalcRangeBuffs(){this.range=this.baseRange;for(const r of this.rangeBuffsAdditive)this.range+=r;for(const r of this.rangeBuffsMultiplicative)this.range*=r}recalcDamageBuffs(){this.damage=this.baseDamage;for(const r of this.damageBuffsMultiplicative)this.damage*=r}showRange(){if(this.range>0){const r=Yn(this.color);r.setAlpha(100),j.fill(r),j.circle(this.pos.x,this.pos.y,this.range*2)}}update(){return this.currentCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.ultCurrentCooldown--,this.handleBuffs(),this.usageData.framesExists++,!0}handleBuffs(){for(let r=this.timedBuffs.length-1;r>=0;r--){const e=this.timedBuffs[r];e.duration--,e.duration<=0&&(e.onRemove(this),this.timedBuffs.splice(r,1))}}castUlt(){this.ultCurrentCooldown>0||(this.ultCurrentCooldown=this.ultCooldown,this.ultimate())}getDamage(){return this.damage}baseShoot(){const r=Ft.inRangeCircle(this.pos,this.range);if(r.length<1)return;const e=Qa[this.targetingType].function(this.pos,r),m=this.range/this.projectileSpeed,d=e.pos.copy();for(let c=1;c<=m&&(d.add(e.vel),!(Ht(d,this.pos)<(this.projectileSpeed*c)**2));c++);const f=lt.Vector.sub(d,this.pos);return f.setMag(this.projectileSpeed),new Rn(this,this.pos.copy(),f,10,this.getDamage(),"PHYSICAL",m,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier})}shoot(){const r=this.baseShoot();return r===void 0?!1:(this.lastShotAngle=r.vel.heading(),tt.addProjectile(r),!0)}purchaseUpgrade(r){const e=j.round(r.cost*tr.TOWER_COST_MOD);if(!(tt.gold<e)){tt.gold-=e,r.onPurchase(this),r.purchased=!0,this.purchasedUpgrades.push(r.id);for(const m in this.upgrades){const d=this.upgrades[m];d.available=d.isAvailable(this.purchasedUpgrades)}this.spendValue+=e,this.usageData.totalCost+=e,this.upgradesPurchased++}}changeRange(r){this.range+=r,this.onRangeChange()}onRangeChange(){}onSell(){}onWaveEnd(){}increaseDamage(r){this.damage+=r,this.baseDamage+=r,this.recalcDamageBuffs()}increaseRange(r){this.range+=r,this.baseRange+=r,this.recalcRangeBuffs()}}class Oe{constructor(i,r,e,m,d,f=!1){z(this,"id");z(this,"name");z(this,"cost");z(this,"description");z(this,"onPurchase");z(this,"available");z(this,"purchased");this.id=i,this.name=r,this.cost=e,this.description=m,this.onPurchase=d,this.available=f,this.purchased=!1}isAvailable(i){if(this.purchased||i.length>7)return!1;switch(this.id){case"A":case"B":case"C":return!0;case"A+":return i.includes("A");case"B+":return i.includes("B");case"C+":return i.includes("C");case"AB":return i.includes("A")&&i.includes("B");case"BC":return i.includes("B")&&i.includes("C");case"CA":return i.includes("C")&&i.includes("A");case"AB+":return i.includes("AB")||i.includes("A+")&&i.includes("B+");case"BC+":return i.includes("BC")||i.includes("B+")&&i.includes("C+");case"CA+":return i.includes("CA")||i.includes("C+")&&i.includes("A+");case"AB++":return i.includes("AB+");case"BC++":return i.includes("BC+");case"CA++":return i.includes("CA+");default:return!1}}}const Wc=(u,i,r,e=j)=>{const m=[];for(let d=0;d<8;d++){const f=e.PI/4*d;m.push(e.createVector(e.cos(f)*r,e.sin(f)*r))}e.noFill(),e.strokeWeight(1);for(let d=1;d<4;d++){e.beginShape();for(const f of m)d===1&&e.line(u,i,u+f.x,i+f.y),f.setMag(r*.3*d),e.vertex(u+f.x,i+f.y);e.endShape(e.CLOSE)}},Mp=(u,i,r,e,m=j)=>{const d=lt.Vector.fromAngle(r);d.setMag(i/2);const f=lt.Vector.fromAngle(r);f.setMag(i),m.push(),m.beginShape(),m.vertex(u.x,u.y);const t=lt.Vector.add(u,d);m.vertex(t.x,t.y),f.rotate(e),t.add(f),m.vertex(t.x,t.y),f.rotate(e).mult(.5),t.add(f),m.vertex(t.x,t.y),f.rotate(m.PI*1.02),t.add(f),m.vertex(t.x,t.y),f.rotate(-e).mult(2),t.add(f),m.vertex(t.x,t.y),f.rotate(-e).mult(.5),t.add(f),m.vertex(t.x,t.y),m.endShape(m.CLOSE),m.pop()},yi=(u,i,r,e=!0,m=j,d=Hr,f=0,t=8)=>{const c=r*.4,h=r/10,g=r*(3/5),p=c*2;m.push(),m.translate(u,i),m.rotate(f),m.noStroke();for(let o=0;o<2;o++)for(let n=-4;n<7;n+=3){if(t<=0)continue;const s=o*(j.PI-2*n*j.PI*.05)+n*j.PI*.05,a=m.createVector(m.cos(s)*c,m.sin(s)*c);let l=-m.PI/5;n>0&&(l*=-1),o>0&&(l*=-1),Mp(a,p,s,l,m),t--}m.circle(0,-g,g),m.circle(0,0,r),m.fill(d),m.circle(-h,-p,h),m.circle(h,-p,h),e&&(m.stroke(Er),m.strokeWeight(1),Wc(0,0,c,m)),m.pop()};class Ap extends Rn{constructor(r,e,m,d,f,t,c,h,g,p,o={}){super(r,e,m,d,f,t,c,o);z(this,"hexes");z(this,"frictionSlow");z(this,"corrosion");this.pierce=h,this.hexes=g,this.frictionSlow=p,this.color=o.color??j.color(Er),this.corrosion=o.corrosion??0}show(){j.push(),j.stroke(this.color);for(const r of this.hexes)Wc(r.pos.x,r.pos.y,r.size);j.pop()}update(){const r=[];for(const e of this.hexes){const m=Ft.inRangeCircle(e.pos,e.size);r.push(...m)}r.length>0&&this.origin.usageData.totalHits++;for(const e of r){if(this.pierce<1)break;for(const m of this.statuses)e.applyStatus(m,!0);this.updateOriginUsageData(e,this.damage),e.takeDamage(new sr(this.damageType,this.damage)),e.friction(this.frictionSlow),this.pierce--}return this.pierce-=this.corrosion,this.pierce<1}}class Rp extends dr{constructor(r,e,m,d={}){super(r,e,m,{...d,otherDifficulty:pn});z(this,"hpLossPerFrame");this.hpLossPerFrame=d.hpLossPerFrame??.1}update(){this.hp-=this.hpLossPerFrame;const r=this.getTarget(Ft);return r!==void 0?this.seekTarget(r):this.friction(.01),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.pos),this.acc.mult(0),this.accumulatedFrictionMag=0,this.detectCollisions(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(r),this.hp<=0&&this.die(),this.hp<=0}show(){j.push(),j.fill(this.color),j.circle(this.pos.x,this.pos.y,this.size),j.pop()}}class Op extends Rp{constructor(i,r,e,m={}){super(i,r,e,m)}show(){const i=this.vel.heading()+j.PI/2;j.push(),j.fill(this.color),yi(this.pos.x,this.pos.y,this.size,!1,j,Hr,i,j.ceil(this.hp/this.maxHp*10)),j.pop()}}const zc=(u,i={})=>new Op(u.x,u.y,lr*.4,{desiredSpeed:gt*2,maxForce:gt*.2,hp:i.hp??100,hpLossPerFrame:i.hpLoss??.1,damage:i.damage??10,mass:1,goldValue:0,color:j.color(i.color??Nt),visionRadius:i.vision??We*5,attackRadius:i.attackRadius??lr/2,attackCooldown:i.attackCooldown??20});class Cr{constructor(i,r,e,m,d,f,t,c=!1){z(this,"name");z(this,"timing");z(this,"duration");z(this,"effect");z(this,"show");z(this,"onApply");z(this,"onRemoval");z(this,"noCleanse");this.name=i,this.duration=r,this.timing=e,this.effect=m,this.show=d,this.onApply=f??(()=>{}),this.onRemoval=t??(()=>{}),this.noCleanse=c}effectUnit(i,r,e){this.effect(i,r,e)}cleanse(){this.noCleanse||(this.duration=0)}copy(){return new Cr(this.name,this.duration,this.timing,this.effect,this.show,this.onApply,this.onRemoval,this.noCleanse)}}const Pp=(u=.25,i={},r="spider food")=>new Cr(r,2,"ON_DEATH",e=>{j.random()<u&&tt.addMinion(zc(e.pos,i))},(e,m)=>{j.fill(Nt),yi(m.x,m.y,e.size/3)},e=>{},e=>{}),Qt=Object.freeze({name:"Arachne",description:"Arachne",hotkey:"w",keycode:87,range:1,cooldown:450,cost:600,damage:0,projectileSpeed:0,towerType:"NORMAL",rgb:Er,webDurability:1e3,webSlow:.25,spiderlingCooldown:250,spiderlingOnDeathChance:.2,spiderlingHp:100,spiderlingDamage:10,spiderlingHpDecay:.1,rareSpiderlingChance:0,rareSpiderlingHp:2e3,rareSpiderlingDamage:100,rareSpiderlingHpDecay:.1,showSymbol:(u,i,r={})=>{j.push(),j.fill(Nt),yi(u.x,u.y,i*.7,!1),j.pop()}});class kp extends vn{constructor(r,e,m,d,f,t,c,h,g,p,o,n,s){super(r,e,m,d,f,Qt.name,t,c,h,g,p,s);z(this,"webDurability");z(this,"webSlow");z(this,"activeWeb");z(this,"corrosion");z(this,"spiderlingCooldown");z(this,"currentSpiderlingCooldown");z(this,"spiderlingOnDeathChance");z(this,"spiderlingHp");z(this,"spiderlingDamage");z(this,"spiderlingBaseDamage");z(this,"spiderlingHpDecay");z(this,"rareSpiderlingChance");z(this,"rareSpiderlingHp");z(this,"rareSpiderlingDamage");z(this,"rareSpiderlingBaseDamage");z(this,"rareSpiderlingHpDecay");z(this,"getWebProjectile",(r,e=this.corrosion)=>{const m=this.getStatuses();return new Ap(this,this.pos,j.createVector(0,0),this.size,this.damage,"PHYSICAL",this.webDurability,this.webDurability,r,this.webSlow,{color:this.projectileColor,corrosion:e,statuses:m})});this.webDurability=o,this.webSlow=n,this.activeWeb=null,this.corrosion=0,this.spiderlingCooldown=Qt.spiderlingCooldown,this.currentSpiderlingCooldown=Qt.spiderlingCooldown,this.spiderlingOnDeathChance=Qt.spiderlingOnDeathChance,this.spiderlingHp=Qt.spiderlingHp,this.spiderlingDamage=Qt.spiderlingDamage,this.spiderlingBaseDamage=Qt.spiderlingDamage,this.spiderlingHpDecay=Qt.spiderlingHpDecay,this.rareSpiderlingChance=Qt.rareSpiderlingChance,this.rareSpiderlingHp=Qt.rareSpiderlingHp,this.rareSpiderlingDamage=Qt.rareSpiderlingDamage,this.rareSpiderlingBaseDamage=Qt.rareSpiderlingDamage,this.rareSpiderlingHpDecay=Qt.rareSpiderlingHpDecay}showSymbol(r=this.pos){j.push(),j.fill(Nt),yi(r.x,r.y,this.size*.7,!1),j.pop()}showRange(){const r=Yn(this.color);r.setAlpha(100),j.fill(r),j.circle(this.pos.x,this.pos.y,this.range*4*this.size)}update(){return this.activeWeb===null?(this.currentCooldown--,this.currentCooldown<=0&&(this.shoot(),this.currentCooldown=this.cooldown)):this.activeWeb.pierce<=0&&(this.activeWeb=null),this.ultCurrentCooldown--,this.spiderling(),this.handleBuffs(),this.usageData.framesExists++,!0}spiderling(){}spawnSpiderling(){const r=[];for(const d of je.getNeighborsArea(this.r,this.q,this.range))d.canUnit&&r.push(d);const e=j.random(r),m=zc(e.pos,this.getSpiderlingOptions());tt.addMinion(m)}getSpiderlingOptions(){const r=j.random()<this.rareSpiderlingChance;return{damage:r?this.rareSpiderlingDamage:this.spiderlingDamage,hp:r?this.rareSpiderlingHp:this.spiderlingHp,hpLoss:r?this.rareSpiderlingHpDecay:this.spiderlingHpDecay,color:r?Hr:Nt}}shoot(){const r=je.getNeighborsArea(this.r,this.q,this.range);for(let m=r.length-1;m>=0;m--)r[m].wall&&r.splice(m,1);const e=this.getWebProjectile(r);return this.activeWeb=e,tt.addProjectile(e),!0}getStatuses(){return[]}getSpiderFood(){return Pp(this.spiderlingOnDeathChance,this.getSpiderlingOptions())}recalcDamageBuffs(){super.recalcDamageBuffs(),this.spiderlingDamage=this.spiderlingBaseDamage,this.rareSpiderlingDamage=this.rareSpiderlingBaseDamage;for(const r of this.damageBuffsMultiplicative)this.spiderlingDamage*=r,this.rareSpiderlingDamage*=r}recalcRangeBuffs(){this.range=this.baseRange;for(const r of this.rangeBuffsAdditive)this.range+=r/We;for(const r of this.rangeBuffsMultiplicative)this.damage*=r;this.range=j.round(this.range)}}const Lp=(u,i={})=>new kp(u.pos.x,u.pos.y,u.r,u.q,u.size,Qt.range,Qt.damage,Qt.projectileSpeed,Qt.cooldown,Qt.cost,Qt.webDurability,Qt.webSlow,{color:j.color(Qt.rgb),projectileColor:j.color(Er),wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:i.changedCost??Qt.cost,upgrades:{A:new Oe("A","Stickier webs",600,"Stickier webs slow enemies down even more.",r=>{r.webSlow+=.1},!0),B:new Oe("B","Steel thread",400,"Makes your web more durable.",r=>{r.webDurability+=900},!0),C:new Oe("C","Spinning talent",800,"Spin new webs faster.",r=>{r.cooldown-=150,r.baseCooldown-=150},!0),"A+":new Oe("A+","Nether glue",1400,"Magic infused glue makes webs unnaturally sticky.",r=>{r.webSlow+=.15}),"B+":new Oe("B+","Titanium thread",1500,"Makes your web way more durable.",r=>{r.webDurability+=1500}),"C+":new Oe("C+","Spinning prodigy",1700,"Spin new webs at top speed.",r=>{r.cooldown-=150,r.baseCooldown-=150}),AB:new Oe("AB","Spiky silk",1300,"How can silk be spiky?",r=>{r.increaseDamage(1)}),BC:new Oe("BC","Great web",1e3,"Make your web even larger.",r=>{r.range+=1,r.baseRange+=1}),CA:new Oe("CA","Spiderlings",1200,"The Arachne gives birth to spiderlings who damage and distract heroes.",r=>{r.spiderling=()=>{r.currentSpiderlingCooldown--,r.currentSpiderlingCooldown<=0&&(r.currentSpiderlingCooldown=r.spiderlingCooldown,r.spawnSpiderling())}}),"AB+":new Oe("AB+","Suffocating silk",2200,"Hope you don't have claustrophobia, or arachnophobia... Increases damage",r=>{r.increaseDamage(3)}),"BC+":new Oe("BC+","Greatest web",1500,"Spin your web between mountains.",r=>{r.range+=1,r.baseRange+=1}),"CA+":new Oe("CA+","Brood Parasite",2e3,"Nope nope nope nope nope nope nope nope nope nope nope. (Has a chance to birth a spiderling when a hero dies in the arachnes web)",r=>{r.getStatuses=()=>[r.getSpiderFood()]}),"AB++":new Oe("AB++","Corrosive silk",6600,"Silk corrodes away enemies and the web alike.",r=>{r.increaseDamage(16),r.projectileColor=j.color(L0),r.corrosion=5}),"BC++":new Oe("BC++","World wide web (Ability)",7500,"The entire world is my domain.",r=>{r.ultCooldown=Ya,r.ultCurrentCooldown=r.ultCooldown,r.ultimate=()=>{const e=je.getAllTiles(!1);for(let m=e.length-1;m>=0;m--){const d=r.getWebProjectile([e[m]],r.corrosion+5);tt.addProjectile(d)}},r.shouldShowUltCooldown=()=>{r.showUltCooldown()}}),"CA++":new Oe("CA++","One Big Happy Family",6660,"These spiderlings were all raised with love and care, and only a minimal amount of cannibalism. Spawn more and stronger spiderlings, as well as rare super spiderlings every now and then. Motherhood is so fulfilling.",r=>{r.spiderlingCooldown-=100,r.spiderlingOnDeathChance+=.25,r.spiderlingHp+=150,r.rareSpiderlingChance+=.01})}}),Dp=0,Ip=1,qc=(u,i,r,e=Dp,m=Ip)=>{j.push(),j.translate(u,i),j.rotate(e);const d=r/2,f={x:0,y:-d},t={x:0,y:d},c=j.createVector(-r/4,0),h=j.createVector(r*(5/6),0);j.strokeWeight(m),j.noFill(),j.line(f.x,f.y,t.x,t.y),Ro(c,h,m*1.5),j.strokeWeight(m*2),j.curve(f.x-2.5*r,f.y,f.x,f.y,t.x,t.y,t.x-2.5*r,t.y),j.pop()},Tn=Object.freeze({name:"Archer",description:"",hotkey:"a",keycode:65,range:We*6,cooldown:150,cost:200,damage:25,projectileSpeed:gt*10,towerType:"NORMAL",rgb:G0,showSymbol:(u,i,r={angle:0})=>{qc(u.x,u.y,i,r.angle,1)}});class Bp extends vn{constructor(r,e,m,d,f,t,c,h,g,p,o){super(r,e,m,d,f,Tn.name,t,c,h,g,p,o);z(this,"arrowNumber");this.arrowNumber=1}showSymbol(r=this.pos){qc(r.x,r.y,this.size,this.lastShotAngle,1)}shoot(){const r=this.baseShoot();if(r===void 0)return!1;const e=j.floor(this.arrowNumber/2)*-1;this.lastShotAngle=r.vel.heading();const m=j.PI/9;for(let d=e;d<e+this.arrowNumber;d++){const f=this.lastShotAngle+d*m,t=lt.Vector.fromAngle(f);t.setMag(r.vel.mag());const c=[];for(let g=0;g<r.statuses.length;g++)c.push(r.statuses[g].copy());const h=new Rn(this,this.pos.copy(),t,r.size,r.damage,"PHYSICAL",r.lifeSpan,{color:this.projectileColor,pierce:r.pierce,critChance:r.critChance,critMultiplier:r.critMultiplier,statuses:c});tt.addProjectile(h)}return!0}}const Up=(u,i={})=>new Bp(u.pos.x,u.pos.y,u.r,u.q,u.size,Tn.range,Tn.damage,Tn.projectileSpeed,Tn.cooldown,Tn.cost,{color:j.color(Tn.rgb),wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:i.changedCost??Tn.cost,upgrades:{A:new Oe("A","Sharper Arrows",150,"Even sharper arrows deal more damage.",r=>{r.increaseDamage(15)},!0),B:new Oe("B","Sunglasses",100,"You'd think the protection from the sun gives this archer a range increase, but it's really the confidence boost.",r=>{r.range+=We,r.baseRange+=We},!0),C:new Oe("C","Faster firing",300,"Shorter cooldown between arrows.",r=>{r.cooldown-=40,r.baseCooldown-=40},!0),"A+":new Oe("A+","Dark Arrows",700,"Arrows made from metal mined deep in the underworld. They deal alot more damage",r=>{r.increaseDamage(35),r.projectileColor=j.color(q0)}),"B+":new Oe("B+","Scope",500,"How do you put a scope on a bow? Doesn't matter, more range.",r=>{r.range+=We*2,r.baseRange+=We*2}),"C+":new Oe("C+","Faster firing festival",750,"Gotta go fast.",r=>{r.cooldown-=40,r.baseCooldown-=40}),AB:new Oe("AB","Aimed shot",150,"Until now, aiming was more of a suggestion... Faster projectiles",r=>{r.projectileSpeed+=gt*10}),BC:new Oe("BC","Triple shot",700,"Trying to emulate some cool moves you saw eh.",r=>{r.arrowNumber+=2}),CA:new Oe("CA","Line em up",250,"Three birds one arrow.",r=>{r.projectilePierce+=2}),"AB+":new Oe("AB+","Great shot",1600,"Faster, further, friendlier, if by that you mean deadlier.",r=>{r.projectileSpeed+=gt*10,r.increaseDamage(25),r.range+=We,r.baseRange+=We}),"BC+":new Oe("BC+","More arrows",1e3,"More arrows more better.",r=>{r.arrowNumber+=2}),"CA+":new Oe("CA+","Spot Weakspot",500,"Hit them in their weakspot for critical damage.",r=>{r.critChance+=.2,r.critMultiplier+=1}),"AB++":new Oe("AB++","Charged shot",3250,"Even more powerful shot, deal bonus damage based on the time since the last shot.",r=>{r.increaseDamage(50),r.getDamage=()=>{const e=-r.currentCooldown+r.cooldown;return r.damage+e}}),"BC++":new Oe("BC++","Blot out the sun",3e3,"Let them fight in the shadow.",r=>{r.arrowNumber+=13}),"CA++":new Oe("CA++","Luck is also a skill",1900,"Rely entirely on luck for those nice and big numbers.",r=>{r.critChance+=.2,r.critMultiplier+=2,r.projectilePierce+=1})}});class vo{constructor(i,r,e,m,d,f,t){z(this,"name");z(this,"id");z(this,"duration");z(this,"onApply");z(this,"onRemove");z(this,"onPurchase");z(this,"onSkillPurchase");this.name=i,this.id=t??j.random(),this.duration=f??99999,this.onApply=r,this.onRemove=e,this.onPurchase=m,this.onSkillPurchase=d}copy(i){return new vo(this.name,this.onApply,this.onRemove,this.onPurchase,this.onSkillPurchase,i??this.id)}}const bu=(u="FreeBarricade")=>new vo(u,i=>{},i=>{},(i,r,e)=>(e||i.name)!==Lr[Nr.BARRIER].name?r:0,(i,r,e)=>r),Yc=(u,i,r,e=j)=>{const m=r/2,d=r/3,f=r/4,t=r*(3/10);e.push(),e.translate(u,i),e.stroke(Nt),e.strokeWeight(1),e.beginShape(),e.vertex(0,-m),e.quadraticVertex(d/2*1.1,-m/2*1.1,f,0),e.quadraticVertex(t,t,0,d),e.quadraticVertex(-t,t,-f,0),e.quadraticVertex(-d/2*1.1,-m/2*1.1,0,-m),e.endShape(),e.pop()},Np=(u,i,r,e="oiled")=>new Cr(e,u,"ON_TAKE_DAMAGE",(m,d,f={damage:new sr("PHYSICAL",0)})=>{f.damage.type==="FIRE"&&(f.damage.amount*=i)},(m,d)=>{j.fill(Er),Yc(d.x,d.y,m.size/2)},m=>{m.multiplicativeMaxForceBuffs.push(r),m.recalcMaxForceBuffs()},m=>{nn(r,m.multiplicativeMaxForceBuffs),m.recalcMaxForceBuffs()}),Gi=(u,i,r)=>{const e=r/2,m=e-r/4,d=e-r/6,f=j.PI/40,t=j.PI/10;let c=0,h=0,g=!0;const p=[];for(;c<j.TWO_PI;){g?h=j.random(m,d):h=j.random(d,e);const o=u+j.cos(c)*h,n=i+j.sin(c)*h;p.push(j.createVector(o,n)),c+=j.random(f,t),g=!g}return p},Vi=(u,i=j)=>{i.push(),i.noStroke(),i.beginShape();for(const r of u)i.vertex(r.x,r.y);i.endShape(i.CLOSE),i.pop()};class mo{constructor(i,r,e,m,d,f,t,c){z(this,"duration");z(this,"color");z(this,"size");z(this,"pos");z(this,"vertices");z(this,"show");z(this,"onExpire");z(this,"vel");this.pos=i.copy(),this.vel=(c==null?void 0:c.copy())??j.createVector(0,0),this.size=r,this.duration=e,this.color=m,this.vertices=d,this.show=f,this.onExpire=t}update(){return this.duration--,this.show(this),this.pos.add(this.vel),this.duration<=0}}const vi=(u,i,r=5,e=j.color(Mn))=>{const m=Gi(u.x,u.y,i);return new mo(u,i,r,e,m,()=>{j.fill(e),Vi(m)},()=>{const f=Gi(u.x,u.y,i*.6666666666666666);return new mo(u,i*(2/3),r,e,f,()=>{j.fill(e),Vi(f)},()=>{const t=Gi(u.x,u.y,i/2);return new mo(u,i/2,r,e,t,()=>{j.fill(e),Vi(t)},()=>{})})})},go=(u,i,r,e=0,m=1,d=j)=>{const f=r/2,t=r/3,c=r/4,h=r*(3/10);d.push(),d.translate(u,i),d.rotate(e),d.stroke(Nt),d.strokeWeight(m),d.beginShape(),d.vertex(0,-f),d.quadraticVertex(t/2*1.1,-f/2*1.1,c,0),d.quadraticVertex(h,h,0,t),d.quadraticVertex(-h,h,-c,0),d.quadraticVertex(-t/2*1.1,-f/2*1.1,0,-f),d.endShape(),d.pop()},Xc=(u,i,r,e="burn")=>new Cr(e,i,"NORMAL",d=>{d.takeDamage(new sr("FIRE",u));const f=lt.Vector.random2D().setMag(j.min(d.maxForce,d.desiredSpeed)*r);d.applyForce(f)},(d,f)=>{j.fill(Fo),go(f.x,f.y,d.size/2)},d=>{},d=>{}),Fp=(u,i,r,e=1,m=j.color(Uc))=>new mo(u,i,e,m,[],()=>{const f=j.TWO_PI/42;let t=i,c=0,h=!0,g=[j.createVector(u.x+j.cos(c)*t,u.y+j.sin(c)*t)];j.push(),j.noStroke(),j.fill(m),j.beginShape();for(let p=0;p<42;p++){for(let o=1;o<3;o++)h?t=r:t=i,g[o]=j.createVector(u.x+j.cos(c)*t,u.y+j.sin(c)*t),h=!h,c+=f;j.triangle(g[0].x,g[0].y,g[1].x,g[1].y,g[2].x,g[2].y),g[0]=g[2]}j.endShape(j.CLOSE),j.pop()},()=>{}),Gp=(u,i,r="BuildDiscount")=>new vo(r,e=>{},e=>{},(e,m,d)=>{const f=d||e.name;return i&&f!==i?m:j.ceil(m*u)},(e,m,d)=>m),Vp=(u,i="TowerRangeBuffMulti")=>new vo(i,r=>{r.rangeBuffsMultiplicative.push(u),r.recalcRangeBuffs()},r=>{nn(u,r.rangeBuffsMultiplicative),r.recalcRangeBuffs()},(r,e)=>e,(r,e)=>e),ir=Object.freeze({name:"Barricade",description:"",hotkey:"b",keycode:66,range:0,cooldown:200,cost:50,damage:5,oilForceDebuff:.8,oilFireBuff:1.2,oilDuration:100,burnDamage:1,burnDuration:50,burnPanicSpeedIncrease:1.5,neighborBuildDiscount:.9,neighborRangeBuffPercent:1.1,maouHealPerRound:1,projectileSpeed:0,towerType:"NORMAL",rgb:Uc,showSymbol:(u,i)=>{}});class Hp extends vn{constructor(r,e,m,d,f,t,c,h,g,p,o){super(r,e,m,d,f,ir.name,t,c,h,g,p,o);z(this,"oilForceDebuff");z(this,"oilFireBuff");z(this,"oilDuration");z(this,"burnDamage");z(this,"baseBurnDamage");z(this,"burnDuration");z(this,"burnPanicSpeedIncrease");z(this,"neighborBuildDiscount");z(this,"neighborRangeBuffPercent");z(this,"maouHealPerRound");this.oilForceDebuff=ir.oilForceDebuff,this.oilFireBuff=ir.oilFireBuff,this.oilDuration=ir.oilDuration,this.burnDamage=ir.burnDamage,this.baseBurnDamage=ir.burnDamage,this.burnDuration=ir.burnDuration,this.burnPanicSpeedIncrease=ir.burnPanicSpeedIncrease,this.neighborBuildDiscount=ir.neighborBuildDiscount,this.neighborRangeBuffPercent=ir.neighborRangeBuffPercent,this.maouHealPerRound=ir.maouHealPerRound}showSymbol(r=this.pos){}update(){return this.showSpikes(),super.update()}showSpikes(){}shoot(){return!1}getStatuses(){return[this.getOiled()]}getOiled(){return Np(this.oilDuration,this.oilFireBuff,this.oilForceDebuff)}getBurn(){return Xc(this.burnDamage,this.burnDuration,this.burnPanicSpeedIncrease)}recalcDamageBuffs(){super.recalcDamageBuffs(),this.burnDamage=this.baseBurnDamage;for(const r of this.damageBuffsMultiplicative)this.burnDamage*=r}}const wu=(u,i={})=>new Hp(u.pos.x,u.pos.y,u.r,u.q,u.size,ir.range,ir.damage,ir.projectileSpeed,ir.cooldown,ir.cost,{color:j.color(ir.rgb),wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:i.changedCost??ir.cost,projectileColor:j.color(Er),upgrades:{A:new Oe("A","Oil Vats",200,"Imps on top of the Barricade pour oil down periodically, covering those passing beneath, making them slightly less coordinated and more susceptible to fire damage.",r=>{r.increaseRange(We*1.7),r.shoot=()=>{const e=Ft.inRangeCircle(r.pos,r.range);if(e.length<1)return!1;const m=Qa[r.targetingType].function(r.pos,e),d=Ft.inRangeCircle(m.pos,We),f=r.getStatuses();for(const t of d)for(const c of f)t.applyStatus(c);return tt.addVisual(vi(m.pos,We,3,r.projectileColor)),!0}},!0),B:new Oe("B","Barricraze",50,"Makes building Barricades adjecent to this one free. That's crazy!",r=>{const e=je.getNeighbors(r.r,r.q);for(const m of e){const d=bu();m.applyBuff(d),r.buffsThisApplied.push(d)}r.onSell=()=>{const m=je.getNeighbors(r.r,r.q);for(const d of r.buffsThisApplied)for(const f of m)f.removeBuff(d.id)}},!0),C:new Oe("C","Spikes",75,"Put some spikes all over the surface of the Barricade, so enemies hurt themselves if they run into it. Or if you make them do so.",r=>{r.onCollision=()=>new sr("PHYSICAL",r.damage),r.showSpikes=()=>{tt.addVisual(Fp(r.pos.copy(),r.size*.9,r.collisionRadius*1.2,2,j.color(Nt)))}},!0),"A+":new Oe("A+","Burning Oil",250,"The imps pour burning oil instead of regular, burning enemies instead of getting them oiled up.",r=>{r.projectileColor=j.color(Fo),r.getStatuses=()=>[r.getBurn()]}),"B+":new Oe("B+","Barricade Town",100,"Makes every new Barricade in a three tile radius free. 'Heh, this is just one small step towards the completion of my master plan.'",r=>{const e=je.getNeighborsArea(r.r,r.q,3);for(const m of e){const d=bu();m.applyBuff(d),r.buffsThisApplied.push(d)}r.onSell=()=>{const m=je.getNeighborsArea(r.r,r.q,3);for(const d of r.buffsThisApplied)for(const f of m)f.removeBuff(d.id)}}),"C+":new Oe("C+","Giant Spikes",400,"Adds rather oversized spikes to the sides of the Barricade, increasing collision damage, and slightly increases size, so those collisions happen more easily.",r=>{r.increaseDamage(5),r.collisionRadius*=1.2}),AB:new Oe("AB","Strong Foundation",150,"The strong foundation provided by the Barricade makes it cheaper to build towers adjecent to it.",r=>{const e=je.getNeighbors(r.r,r.q);for(const m of e){const d=Gp(r.neighborBuildDiscount);m.applyBuff(d),r.buffsThisApplied.push(d)}}),BC:new Oe("BC","Rooftop Garden",80,"Some alternative green imps have decided to keep a rooftop garden. It's not really our style, but at least the fresh veggies boost our health.",r=>{r.onWaveEnd=()=>{tt.increaseHp(r.maouHealPerRound)}}),CA:new Oe("CA","Nothing",0,"Still just a barrier.",r=>{}),"AB+":new Oe("AB+","Neighborhood Watch",350,"The vigilant imps on top of the Barricade keep watch for their entire neighborhood, slightly increasing their range. Wouldn't want any undesirables fouling up our pristine community now would we",r=>{const e=je.getNeighbors(r.r,r.q);for(const m of e){const d=Vp(r.neighborRangeBuffPercent);m.applyBuff(d),r.buffsThisApplied.push(d)}}),"BC+":new Oe("BC+","Nothing",0,"Still just a barrier.",r=>{}),"CA+":new Oe("CA+","Nothing",0,"Still just a barrier.",r=>{}),"AB++":new Oe("AB++","Community Pool",1700,"A tropical swimming pool is just what this burgeoning community needs! Destroys the Barricade to leave a water tile behind.",r=>{je.setBuilderTileType(r,vt.WATER),r.spendValue=0,tt.sellTower(r)}),"BC++":new Oe("BC++","Great Gate",0,"Still just a barrier.",r=>{}),"CA++":new Oe("CA++","Nothing",0,"Still just a barrier.",r=>{})}}),$c=(u,i,r,e=0,m=j)=>{const d=r/2,f=r/3,t=84,c=m.TWO_PI/t,h=6;let g=f,p=e,o=!0;m.push(),m.stroke(Nt),m.strokeWeight(1),m.beginShape();for(let n=0;n<t;n++){o?g=d:g=f;const s=u+m.cos(p)*g,a=i+m.sin(p)*g;m.vertex(s,a),n%h===0&&(o=!o),p+=c}m.endShape(m.CLOSE),m.pop()},Br={name:"Gravi-tech Tower",description:"",hotkey:"g",keycode:71,range:We*4,cooldown:1e3,cost:1200,damage:0,projectileSpeed:6,towerType:"NORMAL",rgb:Hn,attractionForce:gt*.1,capacity:5,showSymbol:(u,i,r={angle:0})=>{j.fill(Nc),$c(u.x,u.y,i,r.angle)}};class Wp extends vn{constructor(r,e,m,d,f,t,c,h,g,p,o,n,s){super(r,e,m,d,f,Br.name,t,c,h,g,p,s);z(this,"attractionForce");z(this,"active");z(this,"capacity");this.attractionForce=o,this.capacity=n,this.active=!0}showSymbol(r=this.pos){j.push(),j.fill(Nc),$c(r.x,r.y,this.size,this.lastShotAngle),j.pop()}update(){return this.active?(this.lastShotAngle+=.03,this.shoot()):(this.currentCooldown--,this.currentCooldown<=0&&(this.currentCooldown=this.cooldown,this.active=!0)),this.handleBuffs(),this.ultCooldown--,!0}baseShoot(){const r=Ft.inRangeCircle(this.pos,this.range);if(!(r.length<1)){for(let e=0;e<r.length;e++){const m=lt.Vector.sub(this.pos,r[e].pos).setMag(this.attractionForce*r[e].mass);r[e].applyForce(m)}r.length>this.capacity&&(this.active=!1)}}shoot(){return this.baseShoot(),!0}}const zp=(u,i={})=>new Wp(u.pos.x,u.pos.y,u.r,u.q,u.size,Br.range,Br.damage,Br.projectileSpeed,Br.cooldown,Br.cost,Br.attractionForce,Br.capacity,{color:j.color(Br.rgb),projectileColor:j.color(Br.rgb),projectilePierce:100,wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:i.changedCost??Br.cost,upgrades:{A:new Oe("A","Field stabilizer",1300,"Stabilize the gravitational field to increase it's capacity to hold units.",r=>{r.capacity+=5},!0),B:new Oe("B","Reserve cell",500,"By keeping a center gravity cell in reserve the tower can be restarted after failure twice as fast.",r=>{r.cooldown-=500,r.baseCooldown-=500},!0),C:new Oe("C","Greater field",1e3,"Affect a slightly bigger area.",r=>{r.increaseRange(We/2)},!0),"A+":new Oe("A+","Micromanage flow",4e3,"Strengthen the field in places with a lot of units by weakening parts that aren't being used, increasing capacity beyond it's limits.",r=>{r.capacity+=10}),"B+":new Oe("B+","Placeholder",0,"Gotta think of somehing.",r=>{}),"C+":new Oe("C+","Grand field",2e3,"Spread the field as far as possible without letting it collapse.",r=>{r.increaseRange(We)}),AB:new Oe("AB","Repulsion wave",0,"Gotta.",r=>{}),BC:new Oe("BC","Placeholder",0,"Gotta think of somehing.",r=>{}),CA:new Oe("CA","Placeholder",0,"Gotta think of somehing.",r=>{}),"AB+":new Oe("AB+","Placeholder",0,"Gotta think of somehing.",r=>{}),"BC+":new Oe("BC+","Placeholder",0,"Gotta think of somehing.",r=>{}),"CA+":new Oe("CA+","Placeholder",0,"Gotta think of somehing.",r=>{}),"AB++":new Oe("AB++","Placeholder",0,"Gotta think of somehing.",r=>{}),"BC++":new Oe("BC++","Placeholder",0,"Gotta think of somehing.",r=>{}),"CA++":new Oe("CA++","Placeholder",0,"Gotta think of somehing.",r=>{})}}),qp=(u,i,r)=>{const e=r/2,m=r/4;j.push(),j.rectMode(j.CENTER),j.rect(u,i,e,e),j.rect(u,i+m,r,r/15),j.pop()},Kc=(u,i,r,e=j.color(Er))=>{const m=r/2,d=r*(1/4),f=r*(1/12),t=r*(3/4),c=r/3,h=r*(2/3),g=j.createVector(u+f,i+f),p=j.PI,o=j.createVector(g.x+j.cos(p)*f*2,g.y+j.sin(p)*f*2),n=j.createVector(g.x+j.cos(p)*f*6,g.y+j.sin(p)*f*6),s=j.PI*(3/5),a=j.createVector(g.x+j.cos(s)*d,g.y+j.sin(s)*d),l=j.PI*(11/12),v=j.createVector(g.x+j.cos(l)*f*6,g.y+j.sin(l)*f*6),w=j.PI*(5/6),x=j.createVector(g.x+j.cos(w)*h,g.y+j.sin(w)*h),_=j.PI*-4/5,E=j.createVector(g.x+j.cos(_)*f,g.y+j.sin(_)*f);j.strokeWeight(1),j.circle(g.x,g.y,m),j.beginShape(),j.vertex(o.x,o.y),j.quadraticVertex(n.x,n.y,x.x,x.y),j.quadraticVertex(v.x,v.y,a.x,a.y),j.endShape(),j.fill(gi),j.stroke(0),qp(g.x,g.y-c,t),j.fill(e),j.circle(E.x,E.y,f)},Yp=-.5*j.PI,Xp=j.color(Rc),xu=(u,i,r)=>{const e=r/2,m=r/10,d=e-m;j.beginShape(),j.vertex(u+e,i-m),j.vertex(u-d,i-m),j.quadraticVertex(u-e,i-m,u-e,i),j.quadraticVertex(u-e,i+m,u-d,i+m),j.vertex(u+e,i+m),j.endShape(j.CLOSE)},$p=(u,i,r,e=Xp,m=Yp)=>{const d=r/20,f=r*(9/11),t=r/2,c=r/4;j.push(),j.translate(u,i),j.rotate(m),j.rectMode(j.CENTER),j.fill(Er),xu(0,0,r),j.rect(t,0,d,c),j.fill(e),xu(-d,0,f),j.pop()};class _u extends Rn{constructor(r,e,m,d,f,t,c,h,g,p,o,n={}){super(r,e,m,c,g,p,o,n);z(this,"showAngle");z(this,"changeAngle");z(this,"zPos");z(this,"zVel");z(this,"zAcc");z(this,"explosionRadius");this.zPos=d,this.zVel=f,this.zAcc=t,this.showAngle=-j.PI/2,this.changeAngle=j.random(-j.PI/4,j.PI/4),this.explosionRadius=h}show(){j.push(),$p(this.pos.x,this.pos.y,this.size+this.zPos/(We*.1),this.color,this.showAngle),j.pop()}update(){return this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0),this.zVel+=this.zAcc,this.zPos+=this.zVel,this.zPos<=0?(this.hit(),!0):(this.showAngle+=this.changeAngle,!1)}hit(){tt.addVisual(vi(this.pos,this.explosionRadius*2,2,j.color(this.color)));const r=Ft.inRangeCircle(this.pos,this.explosionRadius);for(const e of r){if(this.pierce<=0)break;const m=this.damage*(j.random()<this.critChance?this.critMultiplier:1);e.takeDamage(new sr(this.damageType,m));for(let d=0;d<this.statuses.length;d++)e.applyStatus(this.statuses[d]);this.pierce--}}}const ua=(u,i,r="poison")=>new Cr(r,i,"NORMAL",m=>{m.takeDamage(new sr("POISON",u))},(m,d)=>{j.fill(D0),Yc(d.x,d.y,m.size/2)}),Kp=(u,i,r,e=0,m=j)=>{const d=r/2,f=r/20,t=r/12,c=t*2;m.push(),m.translate(u,i),m.rotate(e),m.stroke(Nt),m.strokeWeight(1),m.beginShape(),m.vertex(c,-d),m.vertex(f,-t),m.vertex(c,-t),m.vertex(-c,d),m.vertex(-f,t),m.vertex(-c,t),m.endShape(m.CLOSE),m.pop()},Qp=5,Qc=(u,i,r,e=Qp,m=j)=>{e%2==0&&(e+=1);let d=-m.PI/2;m.beginShape();for(let f=0;f<e;f++){d+=m.TWO_PI*(m.ceil(e/2)/e);const t=u+m.cos(d)*r,c=i+m.sin(d)*r;m.vertex(t,c)}m.endShape(m.CLOSE)},Zc=(u,i,r="PASSIVE")=>new Cr(i,u,r,m=>{},(m,d)=>{j.push(),j.fill(Er),j.noStroke(),Qc(d.x,d.y,m.size*.3333333333333333,8),j.pop()},m=>{},m=>{},!0),Zp=(u,i="paralysis")=>new Cr(i,u,"NORMAL",e=>{e.acc.setMag(0),e.vel.setMag(0)},(e,m)=>{j.fill(No),Kp(m.x,m.y,e.size*.6666666666666666)},e=>{},e=>{e.applyStatus(Zc(u/2,i,"NORMAL"))}),Ur=Object.freeze({name:"Plague Slinger",description:"",hotkey:"p",keycode:80,range:We*4,cooldown:120,cost:500,damage:10,poisonDuration:500,poisonDamage:.2,projectileSpeed:gt*6,towerType:"NORMAL",explosionRadius:We,rgb:Oc,showSymbol:(u,i,r={})=>{j.fill(Nt),Kc(u.x,u.y,i*1.5)}});class Jp extends vn{constructor(r,e,m,d,f,t,c,h,g,p,o,n,s,a){super(r,e,m,d,f,Ur.name,t,c,p,o,n,a);z(this,"vialNumber");z(this,"poisonName");z(this,"poisonDamage");z(this,"poisonBaseDamage");z(this,"poisonDuration");z(this,"paralysisDuration");z(this,"explosionRadius");this.vialNumber=1,this.poisonName="Slinger",this.poisonDamage=h,this.poisonBaseDamage=h,this.poisonDuration=g,this.paralysisDuration=0,this.explosionRadius=s}showSymbol(r=this.pos){j.push(),j.fill(Nt),Kc(r.x,r.y,this.size*1.5),j.pop()}getStatuses(){return[this.getPoison()]}getPoison(){return ua(this.poisonDamage,this.poisonDuration,this.poisonName)}getParalysis(){return Zp(this.paralysisDuration)}baseShoot(){const r=Ft.inRangeCircle(this.pos,this.range);if(r.length<1)return;let e=0,m=this.range**2;for(let n=0;n<r.length;n++){const s=Ht(r[n].pos,this.pos);s<m&&(m=s,e=n)}const d=r[e],f=this.getStatuses(),t=this.range/this.projectileSpeed,c=d.pos.copy();for(let n=1;n<=t;n++){c.add(d.vel);const s=Ht(c,this.pos);if(s<(this.projectileSpeed*n)**2||s>this.range*this.range)break}const h=lt.Vector.sub(c,this.pos),g=j.floor(h.mag()/this.projectileSpeed);h.setMag(this.projectileSpeed);const p=-1*(2*We/g);return new _u(this,this.pos.copy(),h,0,We,p,20,this.explosionRadius,this.getDamage(),"EXPLOSION",t,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:f})}shoot(){const r=this.baseShoot();if(r===void 0)return!1;tt.addProjectile(r);const e=this.vialNumber-1;this.lastShotAngle=r.vel.heading();const m=j.PI/4,d=.5;for(let f=0;f<e;f++){const t=this.lastShotAngle+j.random(-m,m),c=lt.Vector.fromAngle(t);c.setMag(r.vel.mag());const h=r.zAcc*1+j.random(-d,d),g=[];for(let o=0;o<r.statuses.length;o++)g.push(r.statuses[o].copy());const p=new _u(this,this.pos.copy(),c,r.zPos,r.zVel,h,r.size,r.explosionRadius,r.damage,"EXPLOSION",r.lifeSpan,{color:this.projectileColor,pierce:r.pierce,critChance:r.critChance,critMultiplier:r.critMultiplier,statuses:g});tt.addProjectile(p)}return!0}increasePoisonDamage(r){this.poisonBaseDamage+=r,this.poisonDamage+=r}recalcDamageBuffs(){super.recalcDamageBuffs(),this.poisonDamage=this.poisonBaseDamage;for(const r of this.damageBuffsMultiplicative)this.poisonDamage*=r}}const em=(u,i={})=>new Jp(u.pos.x,u.pos.y,u.r,u.q,u.size,Ur.range,Ur.damage,Ur.poisonDamage,Ur.poisonDuration,Ur.projectileSpeed,Ur.cooldown,Ur.cost,Ur.explosionRadius,{color:j.color(Ur.rgb),projectileColor:j.color(Oc),projectilePierce:100,wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:i.changedCost??Ur.cost,upgrades:{A:new Oe("A","Extra vial",300,"Poison is all in the dose, so let's dubble that shall we.",r=>{r.vialNumber+=1},!0),B:new Oe("B","Vile pitcher",250,"This slinger just got promoted to pitcher in the Mad Scientist Inc. office team.",r=>{r.range+=We,r.baseRange+=We,r.projectileSpeed+=gt*1},!0),C:new Oe("C","Paralysis coating",200,"Coats the vials with a paralizing agent.",r=>{r.paralysisDuration+=16,r.getStatuses=()=>[r.getPoison(),r.getParalysis()]},!0),"A+":new Oe("A+","Handful of vials",2400,"Don't worry about the costs, Mad Scientist Inc. buys all its glasswork wholesale.",r=>{r.vialNumber+=3}),"B+":new Oe("B+","Mecha arm",3100,"Mechanical arms allow for even further and faster throwing.",r=>{r.explosionRadius+=We/5,r.range+=We,r.baseRange+=We,r.projectileSpeed+=gt*2}),"C+":new Oe("C+","Coma inducer",2e3,"Many vipers were harmed in the production of this stronger coating.",r=>{r.paralysisDuration+=24}),AB:new Oe("AB","Unstable concoction",1e3,"The unstable contends of the vials react violently with the air, increasing explosion damage and radius.",r=>{r.explosionRadius+=We/3,r.increaseDamage(15)}),BC:new Oe("BC","Mad prodigy",1700,"Works faster and deadlier than a normal prodigy.",r=>{r.cooldown-=20,r.baseCooldown-=20,r.increasePoisonDamage(.2)}),CA:new Oe("CA","Antibody killer",750,"The poison aggresively attacks antibodies, increasing its duration and damage.",r=>{r.poisonDuration+=400,r.increasePoisonDamage(.1)}),"AB+":new Oe("AB+","Killer combustion",1200,"Make them vials go BOOM.",r=>{r.explosionRadius+=We/3,r.increaseDamage(15)}),"BC+":new Oe("BC+","Patented pathogen",1800,"This patented formula isn't available to any other plague slinger, and obviously better than anything those amateurs could have produced.",r=>{r.increasePoisonDamage(.3),r.poisonName=`Slinger-P${String(j.random())}`}),"CA+":new Oe("CA+","Mutating virus",1200,"The virus keeps mutating, making recovery incredibly slow.",r=>{r.poisonDuration+=1e3}),"AB++":new Oe("AB++","BOOOOM!",4900,"Just go boom, who cares about poison.",r=>{r.projectileColor=j.color(Mn),r.explosionRadius+=We/3,r.increaseDamage(30),r.vialNumber+=1,r.poisonDamage=0,r.poisonBaseDamage=0,r.poisonDuration=0,r.getPoison=()=>ua(0,0,"Nope")}),"BC++":new Oe("BC++","Unique strain",7e3,"Every vial is filled with it's own unique strain of the virus, each having it's own deadly effect on the victim. No one else could have done this, Muhahaha... ehem",r=>{r.increasePoisonDamage(.2),r.getPoison=()=>ua(r.poisonDamage,r.poisonDuration,`Slinger-P-Unique-${String(j.random())}`)}),"CA++":new Oe("CA++","Eternal suffering",16e3,"The virus hijacks part of it's victems DNA to become a part of them, never to be cured.",r=>{r.poisonDuration+=998e3})}}),tm=-.5*j.PI,rm=j.color(mi),Jc=(u,i=!1)=>{const r=u/2,e=r-u/4,m=r-u/6,d=j.PI/20,f=j.PI/5;let t=0,c=0,h=!0;const g=[];for(;t<j.TWO_PI;){h&&i?c=j.random(e,m):c=j.random(m,r);const p=j.cos(t)*c,o=j.sin(t)*c;g.push(j.createVector(p,o)),t+=j.random(d,f),h=!h}return g},bi=(u,i,r,e=tm,m=rm)=>{j.push(),j.translate(u,i),j.rotate(e),j.strokeWeight(1),j.stroke(Nt),j.fill(m),j.beginShape();for(const d of r)j.vertex(d.x,d.y);j.endShape(j.CLOSE),j.pop()};class ed extends Rn{constructor(r,e,m,d,f,t,c,h={}){super(r,e,m,d,f,t,c,h);z(this,"rockVertices");this.rockVertices=Jc(d,h.spikyRocks??!1)}show(){bi(this.pos.x,this.pos.y,this.rockVertices)}}class ca extends ed{constructor(r,e,m,d,f,t,c,h={}){super(r,e,m,d,f,t,c,h);z(this,"explosionRadius");z(this,"explosionVisualDuration");z(this,"explosionColor");this.explosionRadius=h.explosionRadius??We/2,this.explosionVisualDuration=h.explosionVisualDuration??3,this.explosionColor=h.explosionColor??Mn}hit(r){if(this.pierce<=0)return;tt.addVisual(vi(this.pos,this.explosionRadius*2,this.explosionVisualDuration,j.color(this.explosionColor)));const e=Ft.inRangeCircle(this.pos,this.explosionRadius);for(const m of e){const d=this.damage*(j.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(m);m.takeDamage(new sr(this.damageType,d));for(let f=0;f<this.statuses.length;f++)m.applyStatus(this.statuses[f])}this.extraActionOnHit&&this.extraActionOnHit({pos:this.pos,radius:this.explosionRadius}),this.pierce--}}const td=(u,i,r,e=0,m=mi,d=j)=>{const f=r/3,t=d.TWO_PI/5;let c=e;d.push(),d.stroke(Nt),d.strokeWeight(1),d.circle(u,i,r*1.1);for(let h=0;h<5;h++){const g=u+d.cos(c)*f,p=i+d.sin(c)*f;d.fill(m),d.circle(g,p,f),c+=t}d.pop()},nm=(u="KoboldTeamwork")=>new vo(u,i=>{i.name===gr.name&&(i.cooldownBuffsAdditive.push(-5),i.rangeBuffsAdditive.push(We),i.maxSpoolHeatBuffsAdditive.push(500),i.recalcCooldownBuffs(),i.recalcRangeBuffs(),i.recalcHeatBuffs())},i=>{i.name===gr.name&&(nn(-5,i.cooldownBuffsAdditive),nn(We,i.rangeBuffsAdditive),nn(500,i.maxSpoolHeatBuffsAdditive),i.recalcCooldownBuffs(),i.recalcRangeBuffs(),i.recalcHeatBuffs())},(i,r)=>r,(i,r)=>r),om=(u="KoboldFriends",i=250)=>new vo(u,r=>{r.damageBuffsMultiplicative.push(1.5),r.rangeBuffsAdditive.push(We*.2),r.recalcRangeBuffs(),r.recalcDamageBuffs()},r=>{nn(1.5,r.damageBuffsMultiplicative),nn(We*.2,r.rangeBuffsAdditive),r.recalcRangeBuffs(),r.recalcDamageBuffs()},(r,e)=>e,(r,e)=>e,i),gr=Object.freeze({name:"Kobold",description:"The Kobold supports your defense with its own invention, a spool driven catapult! Every shot fires faster than the last, until the spool overheats or no target can be found.",hotkey:"k",keycode:75,range:We*3.5,cooldown:70,lowestCooldown:20,maxSpoolHeat:400,cost:300,damage:10,projectileSpeed:gt*5,towerType:"NORMAL",rgb:I0,showSymbol:(u,i,r={angle:0,heat:0})=>{j.fill(Fc),td(u.x,u.y,i,r.angle)}});class sm extends vn{constructor(r,e,m,d,f,t,c,h,g,p,o){super(r,e,m,d,f,gr.name,t,c,h,g,p,o);z(this,"currentMaxCooldown");z(this,"lowestCooldown");z(this,"baseLowestCooldown");z(this,"lowestCooldownBuffsAdditive");z(this,"spoolHeat");z(this,"baseMaxSpoolHeat");z(this,"maxSpoolHeat");z(this,"maxSpoolHeatBuffsAdditive");z(this,"explosionRadius");z(this,"heatGenerationSpeed");z(this,"heatPerDamage");z(this,"spikyRocks");z(this,"extraDamageCalc",r=>0);this.currentMaxCooldown=g,this.lowestCooldown=gr.lowestCooldown,this.baseLowestCooldown=gr.lowestCooldown,this.lowestCooldownBuffsAdditive=[],this.spoolHeat=0,this.maxSpoolHeat=gr.maxSpoolHeat,this.baseMaxSpoolHeat=gr.maxSpoolHeat,this.maxSpoolHeatBuffsAdditive=[],this.heatGenerationSpeed=1,this.heatPerDamage=30,this.explosionRadius=We/2,this.spikyRocks=!1}showSymbol(r=this.pos){j.push(),j.fill(Hc(Hr,Fc,this.spoolHeat/1e3)),td(r.x,r.y,this.size,this.lastShotAngle),j.pop()}update(){return this.currentCooldown--,this.currentCooldown<=0&&(this.shoot()?(this.currentCooldown=this.currentMaxCooldown,this.spoolHeat+=j.max(this.cooldown-this.currentMaxCooldown,0)*this.heatGenerationSpeed,this.currentMaxCooldown=j.max(this.currentMaxCooldown-5,this.lowestCooldown),this.spoolHeat>this.maxSpoolHeat&&this.resetSpool()):this.resetSpool(),this.updateRange()),this.lastShotAngle-=.002*(gr.cooldown-this.currentMaxCooldown+10),this.ultCurrentCooldown--,this.handleBuffs(),!0}updateRange(){this.recalcRangeBuffs()}resetSpool(){this.currentMaxCooldown=this.cooldown,this.spoolHeat=0}getProjectile(r,e){return new ed(this,this.pos.copy(),r,this.projectileSize,this.getDamage(),"PHYSICAL",e,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,spikyRocks:this.spikyRocks,extraDamageCalc:this.extraDamageCalc})}baseShoot(){const r=Ft.inRangeCircle(this.pos,this.range);if(r.length<1)return;let e=0,m=this.range**2;for(let g=0;g<r.length;g++){const p=Ht(r[g].pos,this.pos);p<m&&(m=p,e=g)}const d=r[e],f=this.range/this.projectileSpeed,t=d.pos.copy();for(let g=1;g<=f&&(t.add(d.vel),!(Ht(t,this.pos)<(this.projectileSpeed*g)**2));g++);const c=lt.Vector.sub(t,this.pos);return c.setMag(this.projectileSpeed),this.getProjectile(c,f)}shoot(){const r=this.baseShoot();if(r===void 0)return!1;tt.addProjectile(r);const e=this.projectileNumber-1,m=j.PI;for(let d=0;d<e;d++){const f=j.random(-m,m),t=lt.Vector.fromAngle(f);t.setMag(r.vel.mag());const c=[];for(let g=0;g<r.statuses.length;g++)c.push(r.statuses[g].copy());const h=this.getProjectile(t,r.lifeSpan);tt.addProjectile(h)}return console.log(this.maxSpoolHeat,this.spoolHeat,this.baseMaxSpoolHeat,this),!0}recalcCooldownBuffs(){super.recalcCooldownBuffs(),this.lowestCooldown=this.baseLowestCooldown;for(const r of this.lowestCooldownBuffsAdditive)this.lowestCooldown+=r}recalcHeatBuffs(){this.maxSpoolHeat=this.baseMaxSpoolHeat;for(const r of this.maxSpoolHeatBuffsAdditive)this.maxSpoolHeat+=r}findAllConnected(){const r=[this],e=[],m=[];for(;r.length>0;){const d=r[0],f=je.getNeighbors(d.r,d.q);for(const t of f)!t.isTower||je.hexInArray(t,[...e,...r])||(m.push(t),t.name===this.name?r.push(t):e.push(t));e.push(d),r.splice(0,1)}return m}}const im=(u,i={})=>new sm(u.pos.x,u.pos.y,u.r,u.q,u.size,gr.range,gr.damage,gr.projectileSpeed,gr.cooldown,gr.cost,{color:j.color(gr.rgb),wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:i.changedCost??gr.cost,upgrades:{A:new Oe("A","Bigger Rocks",200,"Bigger rock deal more damage, and hit slightly easier. Not really rocket science is it.",r=>{r.increaseDamage(15),r.projectileSize+=We/4},!0),B:new Oe("B","Fans",300,"The type that cools you off, not the type that brings the heat.",r=>{r.maxSpoolHeat+=250,r.baseMaxSpoolHeat+=250},!0),C:new Oe("C","Balanced Speed",350,"Longest cooldown is faster, because control is king.",r=>{r.cooldown-=10,r.baseCooldown-=10},!0),"A+":new Oe("A+","Spiky Rocks",550,"Hand selected spiky rocks, spikier than normal rocks, the spikiest really!",r=>{r.increaseDamage(25),r.spikyRocks=!0}),"B+":new Oe("B+","Heat Sink",1200,"A giant heat sink, allowing the kobold to fire at maximum speed for a long time.",r=>{r.maxSpoolHeat+=1400,r.baseMaxSpoolHeat+=1400}),"C+":new Oe("C+","Min Maxing",750,"Optimize your spool, increase both the minimum and maximum speed.",r=>{r.cooldown-=10,r.baseCooldown-=10,r.lowestCooldown-=10,r.baseLowestCooldown-=10,r.recalcCooldownBuffs()}),AB:new Oe("AB","Packing Heat",650,"Packs the rocks with explosive powder, dealing damage in a small area around the impact.",r=>{r.explosionRadius+=We/2,r.getProjectile=(e,m)=>new ca(r,r.pos.copy(),e,r.projectileSize,r.getDamage(),"EXPLOSION",m,{color:r.projectileColor,pierce:r.projectilePierce,critChance:r.critChance,critMultiplier:r.critMultiplier,explosionRadius:r.explosionRadius,spikyRocks:r.spikyRocks,extraDamageCalc:r.extraDamageCalc})}),BC:new Oe("BC","Harness the Heat",1500,"As the spool heats up the rocks get hotter and fire faster, dealing increased damage.",r=>{r.heatPerDamage-=5,r.getDamage=()=>r.damage+r.spoolHeat/r.heatPerDamage}),CA:new Oe("CA","Bully",600,"Deal extra damage based on missing health of your target. Like the big man you are.",r=>{r.extraDamageCalc=e=>{const m=1-e.hp/e.maxHp;return r.getDamage()*m}}),"AB+":new Oe("AB+","Agent of chaos",666,"Bigger explosions, extra rocks, and juicy crits, let chaos reign!",r=>{r.critChance+=.25,r.critMultiplier+=1.6,r.explosionRadius+=We/2,r.projectileNumber+=1,r.getProjectile=(e,m)=>new ca(r,r.pos.copy(),e,r.projectileSize,r.getDamage(),"EXPLOSION",m,{color:r.projectileColor,pierce:r.projectilePierce,critChance:r.critChance,critMultiplier:r.critMultiplier,explosionRadius:r.explosionRadius,spikyRocks:r.spikyRocks,extraDamageCalc:r.extraDamageCalc})}),"BC+":new Oe("BC+","It's a Feature",2e3,"The Kobold incorporates heat generation in all aspects of the catapults desgin, increasing heat generation, but also damage and range at higher heat.",r=>{r.heatGenerationSpeed+=1,r.heatPerDamage-=5,r.getDamage=()=>r.damage+r.spoolHeat/r.heatPerDamage,r.updateRange=()=>{r.recalcRangeBuffs(),r.range+=r.spoolHeat/500*We}}),"CA+":new Oe("CA+","Team-up",1e3,"Helps out all adjecent Kobolds, Let's work together to stomp those pesky heroes!",r=>{const e=je.getNeighbors(r.r,r.q);for(const m of e){const d=nm();m.applyBuff(d),r.buffsThisApplied.push(d)}r.onSell=()=>{const m=je.getNeighbors(r.r,r.q);for(const d of r.buffsThisApplied)for(const f of m)f.removeBuff(d.id)}}),"AB++":new Oe("AB++","Chaos Incarnate",2500,"More chaos! MOAR!.",r=>{r.critMultiplier+=1.6,r.explosionRadius+=We/2,r.projectileNumber+=2}),"BC++":new Oe("BC++","Miniature Sun",6800,"The Kobold builds a giant heat sink, resembling a miniature sun, building power to an overwhelming degree, until it fails... And then you do it all over again.",r=>{r.maxSpoolHeat+=5500,r.baseMaxSpoolHeat+=5500,r.increaseDamage(10),r.projectileSpeed+=gt*5}),"CA++":new Oe("CA++","Kobold And Friends (Ability)",3350,"Together we are unstoppable! Buffs every tower connected to himself via Kobolds for a short time.",r=>{r.ultCooldown=Ya,r.ultCurrentCooldown=r.ultCooldown,r.ultimate=()=>{const e=r.findAllConnected();for(const m of e){const d=om();m.applyTimedBuff(d)}},r.shouldShowUltCooldown=()=>{r.showUltCooldown()}})}}),am=(u,i,r,e=25,m=j.color(Fo))=>new mo(u,r,e,m,[],d=>{j.push();const f=Yn(m);f.setAlpha(d.duration*10),j.stroke(f),j.strokeWeight(d.size),j.point(d.pos),j.pop()},()=>{},i);class lm extends ca{constructor(i,r,e,m,d,f,t,c={}){super(i,r,e,m,d,f,t,c),this.explosionRadius=c.explosionRadius??We*2}show(){j.push(),bi(this.pos.x,this.pos.y,this.rockVertices),j.fill(this.color),go(this.pos.x,this.pos.y-this.size/2,this.size),j.pop()}update(){return this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0),this.lifeSpan--,this.lifeSpan===0&&this.hit(this.lifeSpan),this.lifeSpan<=0||this.pierce<=0}}class um extends Rn{constructor(r,e,m,d,f,t,c,h={}){super(r,e,m,d,f,t,c,h);z(this,"width");z(this,"corners");this.width=h.width??3,this.corners=[],this.setCorners()}setCorners(){const r=this.vel.heading(),e=this.vel.copy();e.setMag(-this.size/2);const m=lt.Vector.fromAngle(r+j.PI/2);m.setMag(this.width*this.size/2),this.corners.push(lt.Vector.add(m,e)),m.mult(-1),this.corners.push(lt.Vector.add(m,e)),e.mult(-1),this.corners.push(lt.Vector.add(m,e)),m.mult(-1),this.corners.push(lt.Vector.add(m,e))}show(){const r=this.vel.heading(),e=lt.Vector.fromAngle(r+j.PI/2),m=r-j.PI/2;j.push(),j.strokeWeight(1),j.fill(this.color);for(let d=this.width-1;d>=0;d--)for(let f=0;f<2;f++){e.setMag(this.size/2*-d);const t=this.pos.x+e.x+j.random(-this.size/16,this.size/16),c=this.pos.y+e.y+j.random(-this.size/16,this.size/16);go(t,c,this.size,m)}j.pop()}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const r=[];for(const m of this.corners)r.push(j.createVector(m.x+this.pos.x,m.y+this.pos.y));const e=Ft.inRangeRotatedRect(r);for(const m of e)this.hit(m);return this.extraActionOnMove({pos:this.pos,corners:r}),this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}}class rd extends Rn{constructor(i,r,e,m,d,f,t,c={}){super(i,r,e,m,d,f,t,c),this.color=c.color??j.color(Fo)}show(){j.push(),j.noStroke(),j.fill(this.color);let i=j.PI/2;for(let r=0;r<6;r++){i+=j.PI/3;const e=this.pos.x+j.cos(i)*this.size*2/3,m=this.pos.y+j.sin(i)*this.size*2/3;go(e,m,this.size/2,0,0)}go(this.pos.x,this.pos.y,this.size/2,0,0),j.pop()}update(){const i=Ft.inRangeCircle(this.pos,this.size);for(const r of i){if(this.lifeSpan<1)break;r.takeDamage(new sr(this.damageType,this.damage));for(const e of this.statuses)r.applyStatus(e);this.lifeSpan--}if(this.lifeSpan-=10,this.lifeSpan<1){const r=je.getHexVectorFromXY(this.pos.x,this.pos.y),e=je.grid[r.x][r.y];delete e.appliedEffects.burningLand}return this.lifeSpan<1}}const Ct=Object.freeze({name:"Pyromaniac",description:"The Pyromaniac lets loose various fire attacks to burn your enemies to a crisp.",hotkey:"f",keycode:70,range:We*2.5,wallRange:We*5,cometRange:We*6,flameThrowerAngle:j.PI/6,cooldown:1,cometCooldown:500,wallCooldown:200,cost:1600,damage:1,wallDamage:30,cometDamage:400,cometExplosionRadius:We*2,baseWallSize:We*.6,wallWidthMultiplier:3,wallPierce:8,pushForce:gt*2,projectileSpeed:gt*2,towerType:"NORMAL",burnDamage:1,burnDuration:20,burnPanicSpeedIncrease:1.5,burningLandLifespan:1500,rgb:Hr,flameRgb:Fo,showSymbol:(u,i,r={angle:0})=>{j.push(),j.fill(Fo),go(u.x,u.y,i),j.pop()}});class cm extends vn{constructor(r,e,m,d,f,t,c,h,g,p,o){super(r,e,m,d,f,Ct.name,t,c,h,g,p,o);z(this,"cometCooldown");z(this,"currentCometCooldown");z(this,"wallCooldown");z(this,"currentWallCooldown");z(this,"flameThrowerAngle");z(this,"fireColor");z(this,"flameColor");z(this,"wallRange");z(this,"baseWallRange");z(this,"cometRange");z(this,"baseCometRange");z(this,"wallDamage");z(this,"baseWallDamage");z(this,"cometDamage");z(this,"baseCometDamage");z(this,"cometExplosionRadius");z(this,"baseWallSize");z(this,"wallWidthMultiplier");z(this,"wallPierce");z(this,"ultInProgress");z(this,"burnDamage");z(this,"baseBurnDamage");z(this,"burnDuration");z(this,"burnPanicSpeedIncrease");z(this,"pushForce");z(this,"extraDamageCalc",r=>0);z(this,"extraActionOnHit",r=>{for(let e of this.extraActionsOnHit)e(r)});z(this,"extraActionOnMove",r=>{for(let e of this.extraActionsOnMove)e(r)});this.cometCooldown=Ct.cometCooldown,this.currentCometCooldown=Ct.cometCooldown,this.wallCooldown=Ct.wallCooldown,this.currentWallCooldown=Ct.wallCooldown,this.flameThrowerAngle=Ct.flameThrowerAngle,this.fireColor=Ct.rgb,this.flameColor=Ct.flameRgb,this.wallRange=Ct.wallRange,this.baseWallRange=Ct.wallRange,this.cometRange=Ct.cometRange,this.baseCometRange=Ct.cometRange,this.wallDamage=Ct.wallDamage,this.baseWallDamage=Ct.wallDamage,this.cometDamage=Ct.cometDamage,this.baseCometDamage=Ct.cometDamage,this.cometExplosionRadius=Ct.cometExplosionRadius,this.baseWallSize=Ct.baseWallSize,this.wallWidthMultiplier=Ct.wallWidthMultiplier,this.wallPierce=Ct.wallPierce,this.burnDamage=Ct.burnDamage,this.baseBurnDamage=Ct.burnDamage,this.burnDuration=Ct.burnDuration,this.burnPanicSpeedIncrease=Ct.burnPanicSpeedIncrease,this.pushForce=Ct.pushForce,this.ultInProgress=0}showSymbol(r=this.pos){j.push(),j.fill(this.flameColor),go(r.x,r.y,this.size),j.pop()}showRange(){j.push();let r=85;r=this.showCometRange(r),r=this.showWallRange(r);const e=Yn(this.color);e.setAlpha(r),j.fill(e),j.circle(this.pos.x,this.pos.y,this.range*2),j.pop()}showWallRange(r){return r}showCometRange(r){return r}update(){return this.currentCooldown--,this.currentWallCooldown--,this.currentCometCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.currentWallCooldown<=0&&this.baseWall()&&(this.currentWallCooldown=this.wallCooldown),this.currentCometCooldown<=0&&this.baseComet()&&(this.currentCometCooldown=this.cometCooldown),this.progressUlt(),this.ultCurrentCooldown--,this.handleBuffs(),!0}baseShoot(){const r=Ft.inRangeCircle(this.pos,this.range);if(r.length<1)return;let e=0,m=this.range**2;for(let c=0;c<r.length;c++){const h=Ht(r[c].pos,this.pos);h<m&&(m=h,e=c)}const d=r[e],f=(lt.Vector.sub(d.pos,this.pos).heading()+j.TWO_PI)%j.TWO_PI;this.addFlameThrowerParticlesToMaou(f,8);const t=this.getStatuses();for(let c=0;c<r.length;c++){const h=(lt.Vector.sub(r[c].pos,this.pos).heading()+j.TWO_PI)%j.TWO_PI,g=f-h;if(g>-this.flameThrowerAngle&&g<this.flameThrowerAngle){r[c].takeDamage(new sr("FIRE",this.getFlameThrowerDamage()));for(let p=0;p<t.length;p++)r[c].applyStatus(t[p]);this.flameThrowerPush(r[c])}}this.burningLand(d,f)}shoot(){return this.baseShoot(),!0}burningLand(r,e){}applyBurningLand(r,e){const m=je.getHexVectorFromXY(r.pos.x,r.pos.y),d=je.grid[m.x][m.y],f=[...je.getNeighborsArea(d.r,d.q,2),d];for(let t=0;t<f.length;t++){const c=(lt.Vector.sub(f[t].pos,this.pos).heading()+j.TWO_PI)%j.TWO_PI,h=e-c;Ht(this.pos,f[t].pos)<this.range**2&&h>-this.flameThrowerAngle&&h<this.flameThrowerAngle&&this.applyBurningLandToTile(f[t])}}applyBurningLandToTile(r){if(!r.canUnit||r.isTower||r.appliedEffects.burningLand)return;const e=this.getBurningTileProjectile(r.pos,Ct.burningLandLifespan);tt.addProjectile(e),r.appliedEffects.burningLand=e}flameThrowerPush(r){}applyFlameThrowerPush(r){const e=lt.Vector.sub(r.pos,this.pos).setMag(.02*this.pushForce);r.applyForce(e)}baseComet(){return!0}shootComet(){const r=Ft.inRangeCircle(this.pos,this.cometRange);if(r.length<1)return!1;let e=0,m=0;for(let f=0;f<r.length;f++){const t=r[f].hp;m<t&&(m=t,e=f)}const d=r[e];return this.shootCometAtTarget(d),!0}shootCometAtTarget(r){const e=r.pos.copy(),m=30;e.add(lt.Vector.mult(r.vel,m));const d=j.createVector(j.windowHeight/4,-j.windowWidth).add(e),f=lt.Vector.sub(e,d);f.mult(1/m);const t=this.getCometProjectile(f,d,m);tt.addProjectile(t)}progressUlt(){}baseWall(){return!0}shootWall(){const r=Ft.inRangeCircle(this.pos,this.wallRange);if(r.length<1)return!1;let e=0,m=this.range**2;for(let g=0;g<r.length;g++){const p=Ht(r[g].pos,this.pos);p<m&&(m=p,e=g)}const d=r[e],f=this.wallRange*1.5/this.projectileSpeed,t=d.pos.copy();for(let g=1;g<=f&&(t.add(d.vel),!(Ht(t,this.pos)<(this.projectileSpeed*g)**2));g++);const c=lt.Vector.sub(t,this.pos);c.setMag(this.projectileSpeed);const h=this.getWallProjectile(c,this.pos,f);return tt.addProjectile(h),!0}addFlameThrowerParticlesToMaou(r,e){for(let m=0;m<e;m++){const d=lt.Vector.fromAngle(r+j.random(-this.flameThrowerAngle,this.flameThrowerAngle),this.range/j.random(5,15));tt.addVisual(am(this.pos,d,5,j.random(8,15),up(this.fireColor,this.flameColor)))}}getCometProjectile(r,e,m){return new lm(this,e,r,this.projectileSize*2,this.getCometDamage(),"EXPLOSION",m,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,explosionRadius:this.cometExplosionRadius,explosionColor:this.flameColor,explosionVisualDuration:4,statuses:this.getStatuses()})}getWallProjectile(r,e,m){return new um(this,e,r,this.baseWallSize,this.getWallDamage(),"FIRE",m,{color:this.projectileColor,pierce:this.wallPierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnMove:this.extraActionOnMove,extraActionOnHit:this.extraActionOnHit,width:this.wallWidthMultiplier,statuses:this.getStatuses()})}getBurningTileProjectile(r,e){const m=[...this.flameColor,80];return new rd(this,r,j.createVector(0,0),We,this.getDamage(),"FIRE",e,{color:j.color(m),statuses:this.getStatuses()})}getFlameThrowerDamage(){return this.damage}getCometDamage(){return this.cometDamage}getWallDamage(){return this.wallDamage}getStatuses(){return[]}getBurn(){return Xc(this.burnDamage,this.burnDuration,this.burnPanicSpeedIncrease)}increaseCometRange(r){this.cometRange+=r,this.baseCometRange+=r}increaseWallRange(r){this.wallRange+=r,this.baseWallRange+=r}increaseCometDamage(r){this.cometDamage+=r,this.baseCometDamage+=r}increaseWallDamage(r){this.wallDamage+=r,this.baseWallDamage+=r}increaseBurnDamage(r){this.burnDamage+=r,this.baseBurnDamage+=r}recalcDamageBuffs(){super.recalcDamageBuffs(),this.cometDamage=this.baseCometDamage;for(const r of this.damageBuffsMultiplicative)this.cometDamage*=r;this.wallDamage=this.baseWallDamage;for(const r of this.damageBuffsMultiplicative)this.wallDamage*=r;this.burnDamage=this.baseBurnDamage;for(const r of this.damageBuffsMultiplicative)this.burnDamage*=r}recalcRangeBuffs(){super.recalcRangeBuffs(),this.cometRange=this.baseCometRange,this.wallRange=this.baseWallRange;for(const r of this.rangeBuffsAdditive)this.cometRange+=r,this.wallRange+=r;for(const r of this.rangeBuffsMultiplicative)this.cometRange*=r,this.wallRange*=r}}const dm=(u,i={})=>new cm(u.pos.x,u.pos.y,u.r,u.q,u.size,Ct.range,Ct.damage,Ct.projectileSpeed,Ct.cooldown,Ct.cost,{color:j.color(Ct.rgb),projectileColor:Ct.flameRgb,wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:i.changedCost??Ct.cost,upgrades:{A:new Oe("A","Hotter Fire",800,"They die quicker, so it's a mercy really.",r=>{r.increaseDamage(1),r.increaseWallDamage(30)},!0),B:new Oe("B","Wide Flame",600,"Increase the area of effect radius of the Pyromaniac.",r=>{r.flameThrowerAngle+=j.PI/12},!0),C:new Oe("C","Burning Vision",500,"Slightly increases range. I have a vision, of a world where no hero goes unburned.",r=>{r.increaseRange(We*.25),r.increaseCometRange(We)},!0),"A+":new Oe("A+","Blue Flame",3600,"Blue flames are both hotter and cooler.",r=>{r.increaseDamage(2),r.increaseCometDamage(400),r.increaseWallDamage(50),r.projectileColor=j.color(yu),r.fireColor=kc,r.flameColor=yu}),"B+":new Oe("B+","Inferno Grande",2050,"Increases the size of the Pyromaniacs flames even further. There is no escaping the infero!",r=>{r.flameThrowerAngle+=j.PI/12,r.cometExplosionRadius+=We,r.wallWidthMultiplier+=2}),"C+":new Oe("C+","See The World",1750,"increase Pyromaniac range even more.",r=>{r.increaseRange(We*.25),r.increaseCometRange(We*1.5),r.increaseWallRange(We*1.5)}),AB:new Oe("AB","Comet",1850,"Shoots a mighty comet from the sky, dealing devastating damage in a large area.",r=>{r.baseComet=()=>r.shootComet(),r.showCometRange=e=>{const m=Yn(r.color);return m.setAlpha(e),j.fill(m),j.circle(r.pos.x,r.pos.y,r.cometRange*2),e-40}}),BC:new Oe("BC","Flame Wall",2300,"Shoots out a wall of flames that moves slowly towards its target.",r=>{r.baseWall=()=>r.shootWall(),r.showWallRange=e=>{const m=Yn(r.color);return m.setAlpha(e),j.fill(m),j.circle(r.pos.x,r.pos.y,r.wallRange*2),e-40}}),CA:new Oe("CA","Feel The Burn",2100,"Inflicts every enemy hit with a burning status effect.",r=>{r.increaseBurnDamage(1),r.burnDuration+=30,r.getStatuses=()=>[r.getBurn()]}),"AB+":new Oe("AB+","Inner Fire",3900,"The Pyromaniac builds their inner fire, increasing damage dealt based on attack cooldown.",r=>{r.increaseDamage(r.cooldown),r.increaseWallDamage(r.wallCooldown/2),r.increaseCometDamage(r.cometCooldown/2)}),"BC+":new Oe("BC+","Expulsion",1800,"Fire hits enemies with such force they are thrown backwards.",r=>{r.flameThrowerPush=e=>{r.applyFlameThrowerPush(e)},r.extraActionsOnHit.push(e=>{if("target"in e){const d=e.vel.copy().setMag(r.pushForce);e.target.applyForce(d);return}const m=Ft.inRangeCircle(e.pos,e.radius);for(const d of m){const f=lt.Vector.sub(d.pos,e.pos).setMag(r.pushForce);d.applyForce(f)}})}),"CA+":new Oe("CA+","Hell Fire",3250,"The flames of hell burn brighter, longer, and cause more panic than beofer.",r=>{r.burnDuration+=50,r.increaseBurnDamage(1),r.burnPanicSpeedIncrease+=.5,r.getStatuses=()=>[r.getBurn()]}),"AB++":new Oe("AB++","Apocalypse (Ability)",6500,"Pyromaniac rains down countless comets, cleansing the world in the fires of apocalypse.",r=>{r.ultCooldown=Ya,r.ultCurrentCooldown=r.ultCooldown,r.ultimate=()=>{r.progressUlt=()=>{if(r.ultInProgress<=0&&(r.progressUlt=()=>{}),Xt.units.length<1)return;const e=j.random(Xt.units);r.shootCometAtTarget(e),r.ultInProgress--},r.ultInProgress=30},r.shouldShowUltCooldown=()=>{r.showUltCooldown()}}),"BC++":new Oe("BC++","Isolationism",5500,"Don't allow anything near, flames hit harder and with more force. Also increases wall pierce and comet explosion radius a bit.",r=>{r.increaseDamage(1),r.increaseWallDamage(30),r.increaseCometDamage(200),r.cometExplosionRaidus+=We/2,r.pushForce+=gt*2,r.wallPierce+=7}),"CA++":new Oe("CA++","Burning Earth",13500,"All Pyromaniacs attacks leave burning earth behind, dealing damage and inflicting burn.",r=>{r.burningLand=(e,m)=>{r.applyBurningLand(e,m)},r.extraActionsOnHit.push(e=>{if(!("radius"in e))return;const m=je.getHexVectorFromXY(e.pos.x,e.pos.y);if(!je.rqVectorIsOnGrid(m))return;const d=je.grid[m.x][m.y],f=[...je.getNeighborsArea(d.r,d.q,2),d];for(let t=0;t<f.length;t++)Ht(e.pos,f[t].pos)<e.radius**2&&r.applyBurningLandToTile(f[t])}),r.extraActionsOnMove.push(e=>{const m=je.getHexVectorFromXY(e.pos.x,e.pos.y);if(!je.rqVectorIsOnGrid(m))return;const d=je.grid[m.x][m.y],f=[...je.getNeighborsArea(d.r,d.q,2),d];for(const t of f)Nn(e.corners[0],e.corners[1],t.pos)>0&&Nn(e.corners[1],e.corners[2],t.pos)>0&&Nn(e.corners[2],e.corners[3],t.pos)>0&&Nn(e.corners[3],e.corners[0],t.pos)>0&&r.applyBurningLandToTile(t)})})}}),Pr=Object.freeze({name:"Dragon Hoard",description:"A Dragons hoard seems to imbued with a special magic, growing over time without outside interference, truly misterious.",hotkey:"d",keycode:68,range:0,cooldown:0,cost:2500,damage:0,hoardCapacity:1e3,hoardFillPerRound:200,hoardInterest:0,projectileSpeed:0,towerType:"NORMAL",rgb:vs,showSymbol:(u,i)=>{j.push(),j.fill(ys),j.strokeWeight(2);const r=i*.1;Go(u.x-r,u.y+r,i*.5),Go(u.x+r,u.y-r,i*.5),j.pop()}});class hm extends vn{constructor(r,e,m,d,f,t,c,h,g,p,o){super(r,e,m,d,f,Pr.name,t,c,h,g,p,o);z(this,"goldInHoard");z(this,"hoardCapacity");z(this,"hoardFillPerRound");z(this,"hoardInterest");z(this,"hoardFilledThisRound");z(this,"shouldFillHoardThisRound");z(this,"timeOverFullFill");this.goldInHoard=0,this.hoardCapacity=Pr.hoardCapacity,this.hoardFillPerRound=Pr.hoardFillPerRound,this.hoardInterest=Pr.hoardInterest,this.hoardFilledThisRound=0,this.shouldFillHoardThisRound=Pr.hoardFillPerRound,this.timeOverFullFill=1e3}showSymbol(r=this.pos){j.push(),j.fill(ys),j.strokeWeight(2);const e=this.size*.1;Go(r.x-e,r.y+e,this.size*.5),Go(r.x+e,r.y-e,this.size*.5),j.pop()}update(){if(super.update(),this.shouldFillHoardThisRound>this.hoardFilledThisRound){const r=this.hoardFillPerRound/this.timeOverFullFill;this.goldInHoard=j.min(this.goldInHoard+r,this.hoardCapacity),this.hoardFilledThisRound+=r}return!0}}const fm=(u,i={})=>new hm(u.pos.x,u.pos.y,u.r,u.q,u.size,Pr.range,Pr.damage,Pr.projectileSpeed,Pr.cooldown,Pr.cost,{color:j.color(Pr.rgb),wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:i.changedCost??Pr.cost,upgrades:{A:new Oe("A","Nothing",0,"Still just a barrier.",r=>{},!0),B:new Oe("B","Nothing",0,"Still just a barrier.",r=>{},!0),C:new Oe("C","Bigger Basement",250,"Just dump all that extra gold in the basement. More capacity.",r=>{r.hoardCapacity+=1e3},!0),"A+":new Oe("A+","Nothing",0,"Still just a barrier.",r=>{}),"B+":new Oe("B+","Nothing",0,"Still just a barrier.",r=>{}),"C+":new Oe("C+","Nothing",0,"Still just a barrier.",r=>{}),AB:new Oe("AB","Nothing",0,"Still just a barrier.",r=>{}),BC:new Oe("BC","Nothing",0,"Still just a barrier.",r=>{}),CA:new Oe("CA","Nothing",0,"Still just a barrier.",r=>{}),"AB+":new Oe("AB+","Nothing",0,"Still just a barrier.",r=>{}),"BC+":new Oe("BC+","Nothing",0,"Still just a barrier.",r=>{}),"CA+":new Oe("CA+","Nothing",0,"Still just a barrier.",r=>{}),"AB++":new Oe("AB++","Nothing",0,"Still just a barrier.",r=>{}),"BC++":new Oe("BC++","Nothing",0,"Still just a barrier.",r=>{}),"CA++":new Oe("CA++","Nothing",0,"Still just a barrier.",r=>{})}}),On=(u,i,r,e=0,m=2,d=Nt,f=j)=>{const t=r/2,c=r/3,h=r/6;f.push(),f.translate(u,i),f.rotate(e),f.stroke(d),f.strokeWeight(m),f.beginShape(),f.vertex(0,-t),f.vertex(t,-h),f.vertex(t,h),f.vertex(0,-c),f.vertex(0,t),f.endShape(f.CLOSE),f.ellipse(-c*.8,t*.8,t,c),f.pop()};class Za extends Rn{constructor(r,e,m,d,f,t,c,h={}){super(r,e,m,d,f,t,c,h);z(this,"splitOnHit");this.splitOnHit=h.splitOnHit??!1}show(){j.push(),j.fill(this.color),On(this.pos.x,this.pos.y,this.size),j.pop()}showDebug(){j.stroke(this.color),j.strokeWeight(5),j.point(this.pos.x,this.pos.y)}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const r=this.alreadyHitEnemyIds.length,e=Ft.inRangePath(this.prevPos,this.pos,this.size);for(const m of e)this.hit(m);if(this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0)return!0;if(this.splitOnHit&&this.alreadyHitEnemyIds.length>r)for(let m=0;m<this.alreadyHitEnemyIds.length-r;m++)for(let d=0;d<3;d++){const f=this.copy();f.vel=lt.Vector.random2D().setMag(f.vel.mag()),tt.addProjectile(f)}return!1}copy(){const r=[];for(const m of this.statuses)r.push(m.copy());const e=new Za(this.origin,this.pos.copy(),this.vel.copy(),this.size,this.damage,this.damageType,this.lifeSpan-1,{color:this.color,pierce:this.pierce-1,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:r,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,extraActionOnMove:this.extraActionOnMove,splitOnHit:this.splitOnHit});return e.alreadyHitEnemyIds=this.alreadyHitEnemyIds,e}}const nd=(u,i,r=1,e="trance",m=250)=>new Cr(e,u,"ON_TAKE_DAMAGE",(d,f,t={damage:new sr("PHYSICAL",0)})=>{const c=t.damage.amount/d.maxHp;j.random()<r*c&&f&&(f.duration=0)},(d,f)=>{j.fill(Lc),On(f.x,f.y,d.size/2)},d=>{d.currentFlowField=i},d=>{d.currentFlowField=d.originalFlowField,d.applyStatus(Zc(m,e,"ON_TAKE_DAMAGE"))}),pm=(u,i,r,e=Hr,m=0,d=j)=>{const f=r/2,t=r/3;d.push(),d.translate(u,i),d.rotate(m),d.stroke(Nt),d.strokeWeight(2),d.line(0,-f,0,f),d.ellipse(-t*.8,f*.8,f,t),d.strokeWeight(1),d.stroke(e),d.line(-f,-f,f,f),d.line(f,-f,-f,f),d.pop()},mm=(u,i="silence")=>new Cr(i,u,"NORMAL",(r,e,m={damage:new sr("PHYSICAL",0)})=>{for(const d of r.abilityCounters)r[d]++},(r,e)=>{j.fill(Nt),pm(e.x,e.y,r.size/2)},r=>{},r=>{}),jr=Object.freeze({name:"Siren",description:"The Siren entrances heroes with her song, leading them to wander mindlessely to her.",hotkey:"z",keycode:90,range:We*7,cooldown:110,cost:900,damage:10,projectileSpeed:gt*3,tranceDuration:150,breakoutChance:5,extraProjectileAngle:j.PI/8,towerType:"WATER",rgb:Ka,noteColor:Lc,showSymbol:(u,i,r={angle:0})=>{j.push(),j.fill(jr.noteColor),On(u.x,u.y,i),j.pop()}});class gm extends vn{constructor(r,e,m,d,f,t,c,h,g,p,o){super(r,e,m,d,f,jr.name,t,c,h,g,p,o);z(this,"noteColor");z(this,"extraProjectileLifespan");z(this,"pathName");z(this,"pathNameNext");z(this,"tranceDuration");z(this,"breakoutChance");z(this,"splitOnHit");z(this,"extraProjectileAngle");this.noteColor=jr.noteColor,this.extraProjectileLifespan=1,this.extraProjectileAngle=jr.extraProjectileAngle,this.tranceDuration=jr.tranceDuration,this.breakoutChance=jr.breakoutChance,this.pathName=`Siren${j.random()}`,this.pathNameNext=`${this.pathName}Next`,tt.pathsToGenerate.push({origin:[this],name:this.pathName,waterCost:1,stopAfter:10}),this.targetingType=jn.FIRST,this.splitOnHit=!1}showSymbol(r=this.pos){j.push(),j.fill(this.noteColor),On(r.x,r.y,this.size),j.pop()}shoot(){const r=this.baseShoot();if(r===void 0)return!1;const e=j.floor(this.projectileNumber/2)*-1;this.lastShotAngle=r.vel.heading();for(let m=e;m<e+this.projectileNumber;m++){const d=this.lastShotAngle+m*this.extraProjectileAngle,f=lt.Vector.fromAngle(d);f.setMag(r.vel.mag());const t=this.getProjectile(f,r.lifeSpan);tt.addProjectile(t)}return!0}baseShoot(){const r=Ft.inRangeCircle(this.pos,this.range);if(r.length<1)return;const e=Qa[this.targetingType].function(this.pos,r),m=this.range/this.projectileSpeed*this.extraProjectileLifespan,d=e.pos.copy();for(let c=1;c<=m&&(d.add(e.vel),!(Ht(d,this.pos)<(this.projectileSpeed*c)**2));c++);const f=lt.Vector.sub(d,this.pos);return f.setMag(this.projectileSpeed),this.getProjectile(f,m)}getProjectile(r,e){return new Za(this,this.pos.copy(),r,this.projectileSize,this.getDamage(),"PHYSICAL",e,{color:j.color(this.noteColor),pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),splitOnHit:this.splitOnHit})}getStatuses(){return[this.getTrance()]}getTrance(){return nd(this.tranceDuration,this.pathNameNext,this.breakoutChance,"trance",250)}getSilence(){return mm(this.tranceDuration,"silence")}onSell(){for(let r=0;r<tt.pathsToGenerate.length;r++)if(tt.pathsToGenerate[r].name===this.pathName){tt.pathsToGenerate.splice(r,1);return}}}const ym=(u,i={})=>new gm(u.pos.x,u.pos.y,u.r,u.q,u.size,jr.range,jr.damage,jr.projectileSpeed,jr.cooldown,jr.cost,{color:j.color(jr.rgb),wall:!0,isTower:!0,type:u.type,data:u.data,projectileColor:jr.noteColor,spendValue:i.changedCost??jr.cost,upgrades:{A:new Oe("A","Piercing Voice",300,"Song pierces through its target to the next.",r=>{r.projectilePierce+=1,r.extraProjectileLifespan+=.2},!0),B:new Oe("B","Tireless",550,"If you don't keep singing till you drop you'll never make it in showbizz. Lower cooldown",r=>{r.cooldown-=20,r.baseCooldown-=20},!0),C:new Oe("C","Entancing Song",400,"Increases the duration of the trance, and slightly decreases the chance heroes break out of the spell when damaged.",r=>{r.tranceDuraton+=100,r.breakoutChance-=1},!0),"A+":new Oe("A+","Optimize Acoustics",2100,"Siren magically changes the properties of the space around her to optimize its acoustics. It is honestly kind of a waste to use magic capable of changing physics on something like this, but at least it increases the amount of people who hear her song...",r=>{r.projectilePierce+=2,r.extraProjectileLifespan+=.3,r.increaseRange(We/2)}),"B+":new Oe("B+","Endless Encores",1700,"Song after song, you'll never escape this concert. Even lower cooldown",r=>{r.cooldown-=20,r.baseCooldown-=20}),"C+":new Oe("C+","Unbreakable Obsession",2900,"A song so beautifull it takes ages to break free of its spell. That or a very hard blow to the head.",r=>{r.tranceDutaion+=150,r.breakoutChance-=1}),AB:new Oe("AB","Rock Song",666,"Not all Sirens are into that classical shit. Increases damage",r=>{r.increaseDamage(10)}),BC:new Oe("BC","Authority",2500,"My authority, you will respect it. Siren magically controls the entire area around her, increasing trance duration, lowering breakout chance, and making sure her song always reacher her target.",r=>{r.tranceDutaion+=100,r.breakoutChance-=.5}),CA:new Oe("CA","Crowd Pleaser",3600,"They want to hear, Siren wants to sing more songs, everyone gets what they want.",r=>{r.projectileNumber+=3}),"AB+":new Oe("AB+","Hard Rock",5200,"More rock. More range. More bleeding ears.",r=>{r.increaseDamage(30),r.increaseRange(We),r.noteColor=Ac}),"BC+":new Oe("BC+","Placeholder",0,"Placeholder.",r=>{}),"CA+":new Oe("CA+","Sound Wave",6900,"Every song is like a sound wave. More projectiles, closer together, reaching further.",r=>{r.projectileNumber+=3,r.extraProjectileLifespan+=.2,r.extraProjectileAngle=j.PI/15}),"AB++":new Oe("AB++","Rock The World",6e3,"Siren rocks so hard her song reaches more people then ever. The song is so loud it ruptures eardrums all over, dealing more damage, but sadly breaking the trance, and deaf ears can't be charmed by other Sirens either.",r=>{r.projectilePierce+=1,r.projectileSize+=We/3,r.extraProjectileLifespan+=.3,r.increaseRange(We/2),r.increaseDamage(50),r.projectileNumber+=2,r.getTrance=()=>nd(0,r.pathNameNext,r.breakoutChance,"trance",500)}),"BC++":new Oe("BC++","Chorus",0,"Placeholder.",r=>{r.color=j.color(P0)}),"CA++":new Oe("CA++","Echo Chamber",7750,"Songs echo around whenever they hit a hero. Look it's a magical song, its echos could work this way.",r=>{r.projectilePierce+=3,r.splitOnHit=!0})}}),od=(u,i,r,e=0,m=j)=>{let d=r*.8,f=0;const t=r/50,c=(d-t)/100,g=(13/20*r-t)/100;m.push(),m.translate(u,i),m.rotate(e),m.stroke(Nt),m.strokeWeight(1),m.beginShape();for(let p=0;p<100;p++){const o=m.cos(f)*d,n=m.sin(f)*d;m.vertex(o,n),f+=m.PI/20,d-=c}for(let p=0;p<100;p++){const o=m.cos(f)*d,n=m.sin(f)*d;m.vertex(o,n),f-=m.PI/20,d+=g}m.endShape(),m.triangle(r*6/10,r/10,r*8/10,r/10,r*7/10,r*-1/5),m.pop()};class vm extends vn{constructor(r,e,m,d,f,t,c,h,g,p,o,n,s){super(r,e,m,d,f,t,c,h,g,p,o,s);z(this,"burnUpTimer");z(this,"lastWaveCheck");this.burnUpTimer=n,this.lastWaveCheck=Xt.waveReader.currentWaveNumber}show(r=this.pos){j.push(),j.stroke(0),j.strokeWeight(2),j.fill(this.color),cr(r.x,r.y,this.size),this.upgradesPurchased>3&&(j.strokeWeight(1),cr(r.x,r.y,this.size-3),this.upgradesPurchased>7&&(j.stroke(0),cr(r.x,r.y,this.size-6))),j.stroke(Nt),j.fill(Js),j.strokeWeight(1);let e=-j.PI/2;for(let m=0;m<j.min(this.burnUpTimer,10);m++){const d=this.pos.x+j.cos(e)*this.size*.7,f=this.pos.y+j.sin(e)*this.size*.7;Qc(d,f,We/10,5),e+=j.TWO_PI/10}this.showSymbol(r),this.shouldShowUltCooldown(),j.pop()}update(){return super.update(),this.lastWaveCheck!==Xt.waveReader.currentWaveNumber&&(this.lastWaveCheck=Xt.waveReader.currentWaveNumber,this.burnUpTimer--),this.burnUpTimer>0}onSell(){this.spendValue=0,je.setBuilderTileType(this,vt.UNSTABLE)}}class sd extends Rn{constructor(r,e,m,d,f,t,c,h={}){super(r,e,m,d,f,t,c,h);z(this,"rockVertices");z(this,"pushForce");z(this,"angle");z(this,"extendLife");this.rockVertices=Jc(d),this.pushForce=h.pushForce??0,this.angle=0,this.extendLife=h.extendLife??!1}show(){bi(this.pos.x,this.pos.y,this.rockVertices,this.angle,this.color)}update(){return this.angle+=.01,super.update()}hit(r){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(r.id))return;this.alreadyHitEnemyIds.push(r.id);const e=this.damage*(j.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(r);this.updateOriginUsageDataSingle(r,e),r.takeDamage(new sr(this.damageType,e)),this.extendLife&&r.hp<=0&&this.origin.lastLifeExtension<Xt.waveReader.currentWaveNumber&&(this.origin.burnUpTimer++,this.origin.lastLifeExtension=Xt.waveReader.currentWaveNumber),r.applyForce(this.vel.copy().setMag(this.pushForce));for(let m=0;m<this.statuses.length;m++)r.applyStatus(this.statuses[m]);this.extraActionOnHit({pos:this.pos,vel:this.vel,target:r}),this.pierce--}}class bm extends sd{constructor(r,e,m,d,f,t,c,h={}){super(r,e,m,d,f,t,c,h);z(this,"target");z(this,"desiredSpeed");z(this,"maxForce");this.target=h.target??null,this.desiredSpeed=this.vel.mag(),this.maxForce=this.vel.mag()/20}show(){bi(this.pos.x,this.pos.y,this.rockVertices,this.angle,this.color)}update(){this.angle+=.01,(this.target===null||this.alreadyHitEnemyIds.includes(this.target.id)||this.target.hp<=0)&&this.findNewTarget(),this.prevPos=this.pos.copy(),this.vel.add(this.getAccThroughHoming()),this.vel.add(this.acc),this.pos.add(this.vel),this.acc.mult(0);const r=Ft.inRangePath(this.prevPos,this.pos,this.size);for(const e of r)this.hit(e);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}findNewTarget(){const r=Ft.inRangeCircle(this.pos,this.origin.range/3);let e=null,m=99999;const d=this.vel.copy().mult(5);d.add(this.pos);for(const f of r){const t=Ht(f.pos,d);t<m&&(m=t,e=f)}this.target=e}getAccThroughHoming(){if(this.target===null)return j.createVector(0,0);const r=lt.Vector.sub(this.target.pos,this.pos);return r.setMag(this.desiredSpeed),r.sub(this.vel),r.limit(this.maxForce),r}}const Fr=Object.freeze({name:"Magma Wyrm",description:"The Magma Wyrm lives a turbulent life surrounded by lava. It dies soon after its birth when its enviroment can no longer sustain it and crumbles.",hotkey:"m",keycode:77,range:We*5,cooldown:15,cost:100,damage:15,projectileSpeed:3,towerType:"LAVA",baseBurnUpDuration:2,rgb:Xa,flameRgb:Js,showSymbol:(u,i,r={angle:0})=>{j.push(),j.fill(Js),od(u.x,u.y,i),j.pop()}});class wm extends vm{constructor(r,e,m,d,f,t,c,h,g,p,o){super(r,e,m,d,f,Fr.name,t,c,h,g,p,Fr.baseBurnUpDuration,o);z(this,"flameColor");z(this,"pushForce");z(this,"burningLandLifespan");z(this,"homingProjectiles");z(this,"extendLifeOnKill");z(this,"lastLifeExtension");this.flameColor=Fr.flameRgb,this.pushForce=0,this.burningLandLifespan=0,this.homingProjectiles=!1,this.extendLifeOnKill=!1,this.lastLifeExtension=Xt.waveReader.currentWaveNumber-1}showSymbol(r=this.pos){j.push(),j.fill(this.flameColor),od(r.x,r.y,this.size,this.lastShotAngle),j.pop()}update(){return this.lastShotAngle-=.017,super.update()}baseShoot(r=0){const e=lt.Vector.fromAngle(r);e.setMag(this.projectileSpeed);const m=this.range/this.projectileSpeed,d=this.getMagmaBlobProjectile(e,m);tt.addProjectile(d)}shoot(){for(let r=0;r<this.projectileNumber;r++){const e=this.lastShotAngle+j.TWO_PI*(r/this.projectileNumber);this.baseShoot(e)}return!0}getMagmaBlobProjectile(r,e){return new sd(this,this.pos,r,this.projectileSize,this.getDamage(),"FIRE",e,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),pushForce:this.pushForce,extendLife:this.extendLifeOnKill})}getDamage(){return this.damage}getStatuses(){return[]}applyBurningLandToTile(r){if(!r.canUnit||r.isTower||r.appliedEffects.burningLand)return;const e=this.getBurningTileProjectile(r.pos,this.burningLandLifespan);tt.addProjectile(e),r.appliedEffects.burningLand=e}getBurningTileProjectile(r,e){const m=[...this.flameColor,80];return new rd(this,r,j.createVector(0,0),We,this.getDamage(),"FIRE",e,{color:j.color(m),statuses:this.getStatuses()})}}const xm=(u,i={})=>new wm(u.pos.x,u.pos.y,u.r,u.q,u.size,Fr.range,Fr.damage,Fr.projectileSpeed,Fr.cooldown,Fr.cost,{color:j.color(Fr.rgb),projectileColor:Fr.flameRgb,wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:i.changedCost??Fr.cost,upgrades:{A:new Oe("A","Short Fuse",200,"The Wyrms anger about its unfair position in life heats up its shots, increasing damage.",r=>{r.burnUpTimer+=1,r.increaseDamage(15)},!0),B:new Oe("B","Stability",150,"The Wyrm embraces a stable lifestyle, decent job, happy family, little wyrm on the way. Pushes away the inevitable demise a bit.",r=>{r.burnUpTimer+=3},!0),C:new Oe("C","Vision",250,"Wyrm has a vision for the future, and whishes to share it with as many heroes as possible while it is still able.",r=>{r.burnUpTimer+=1,r.range+=We,r.baseRange+=We},!0),"A+":new Oe("A+","Burning Hatred",500,"Wyrms hatred burns brighter than a thousand suns.",r=>{r.burnUpTimer+=1,r.increaseDamage(20)}),"B+":new Oe("B+","Controlled Entropy",550,"The wyrm masters entropic decay to delay the inevitable even longer.",r=>{r.burnUpTimer+=6}),"C+":new Oe("C+","Longing Gaze",400,"Wyrm wants to see as much of the world as possible before the end.",r=>{r.burnUpTimer+=1,r.range+=We,r.baseRange+=We}),AB:new Oe("AB","Loniliness",450,"Wyrm pushes everyone away, unable to accept company in the face of its approaching doom.",r=>{r.pushForce+=gt*1.5}),BC:new Oe("BC","The Other End",700,"More projectiles is better, just don't ask where they are coming from, seriously, don't.",r=>{r.projectileNumber+=1}),CA:new Oe("CA","Live Fast",600,"Live fast and dangerous is this Wyrms motto. Faster firing, but at the cost of a shorter life.",r=>{r.cooldown-=4,r.baseCooldown-=4,r.burnUpTimer-=1}),"AB+":new Oe("AB+","Heat Seeking Heroes",950,"The heroes look for a comforting and warm magma blob to the face, or well, that's what Wyrm tells himself.",r=>{r.getMagmaBlobProjectile=(e,m)=>new bm(r,r.pos,e,r.projectileSize,r.getDamage(),"FIRE",m*1.2,{color:r.projectileColor,pierce:r.projectilePierce,critChance:r.critChance,critMultiplier:r.critMultiplier,statuses:r.getStatuses(),pushForce:r.pushForce,extendLife:r.extendLifeOnKill})}),"BC+":new Oe("BC+","Dubble Or Nothing",1150,"Dubbles the amount of magma blobs fired.",r=>{r.projectileNumber+=2}),"CA+":new Oe("CA+","Yolo",800,"Wyrm puts its everything into firing faster and harder, you only live once, so you gotta take as many as possible with you.",r=>{r.cooldown-=4,r.baseCooldown-=4,r.increaseDamage(10),r.burnUpTimer-=1}),"AB++":new Oe("AB++","Lease On Life",3e3,"Through dark deals best not spoken of, thought Wyrm is not really capable of speaking to begin with, Wyrm extends his life by one wave, on his first kill of every wave.",r=>{r.burnUpTimer+=2,r.extendLifeOnKill=!0}),"BC++":new Oe("BC++","Solitude",1600,"Keeps all away, awaiting the end in fiery solitude.",r=>{r.projectileNumber+=5,r.projectilePierce+=2,r.range+=We/2,r.baseRange+=We/2}),"CA++":new Oe("CA++","Curtain Call",1500,'"When the darkness comes, I will not go alone." Creates a devastating explosion when the Wyrm dies, leaving nothing but fire in its wake. Also allows to call the curtain early through the ult.',r=>{r.ultCooldown=1,r.ultCurrentCooldown=r.ultCooldown,r.ultimate=()=>{r.burnUpTimer=0},r.shouldShowUltCooldown=()=>{r.showUltCooldown()},r.onSell=()=>{r.spendValue=0,je.setBuilderTileType(r,vt.UNSTABLE),r.burningLandLifespan=5e3;const e=je.getNeighborsArea(r.r,r.q,3);for(const m of e)r.applyBurningLandToTile(m);r.damage=1e3,r.projectileNumber=50,r.projectilePierce=10,r.projectileSize+=We,r.range=We*20,r.shoot()}})}});var Nr=(u=>(u[u.ARCHER=0]="ARCHER",u[u.BARRIER=1]="BARRIER",u[u.KOBOLD=2]="KOBOLD",u[u.ARACHNE=3]="ARACHNE",u[u.PLAGUE=4]="PLAGUE",u[u.SIREN=5]="SIREN",u[u.PYRO=6]="PYRO",u[u.GRAVI=7]="GRAVI",u[u.DRAGON_HOARD=8]="DRAGON_HOARD",u[u.MAGMA_WYRM=9]="MAGMA_WYRM",u))(Nr||{});const Lr={[0]:Tn,[1]:ir,[2]:gr,[3]:Qt,[4]:Ur,[5]:jr,[6]:Ct,[7]:Br,[8]:Pr,[9]:Fr};class _m{constructor(){}static getTower(i,r,e={}){switch(typeof i=="string"?parseInt(i):i){case Nr.BARRIER:return wu(r,e);case Nr.ARCHER:return Up(r,e);case Nr.ARACHNE:return Lp(r,e);case Nr.PLAGUE:return em(r,e);case Nr.GRAVI:return zp(r,e);case Nr.KOBOLD:return im(r,e);case Nr.PYRO:return dm(r,e);case Nr.DRAGON_HOARD:return fm(r,e);case Nr.SIREN:return ym(r,e);case Nr.MAGMA_WYRM:return xm(r,e);default:console.log("Wrong input");break}return wu(r,e)}}const Su={0:{0:{0:u=>{},1:u=>{u.resetData()}}}},Sm=(u,i,r,e=!1)=>{const m=r/2,d=r*(2/3);j.push(),j.fill($a),j.circle(u,i,r*2),j.fill(gi),e&&(j.fill(Er),j.strokeWeight(3)),j.triangle(u-m,i-d,u-m,i+d,u+d,i),j.pop()},jm=(u,i,r,e=!1)=>{const m=r/2,d=r/3,f=r/5;j.push(),j.fill(kc),j.circle(u,i,r*2),j.fill(gi),e&&(j.fill(Er),j.strokeWeight(3)),j.triangle(u-d-f,i-m,u-d-f,i+m,u+m-f,i),j.triangle(u-d+f,i-m,u-d+f,i+m,u+m+f,i),j.pop()},Tm=1,Em=(u,i,r,e,m=Tm)=>{const d=r*.9,f=lt.Vector.fromAngle(1.75*j.PI).setMag(d);j.push(),j.strokeWeight(m),j.fill(F0),j.circle(u,i,r*2),j.fill(gi),j.textSize(d*2),j.text("A",u-f.x,i-f.y),e||(j.strokeWeight(5*m),j.line(u-f.x,i-f.y,u+f.x,i+f.y)),j.pop()},id=10,Cm=50,ad=j.height-Cm,ld=20,Mm=10,da=2.5,Am=3,Rm=(u=id,i=ad,r=ld,e=1,m=!1)=>{let d=u+r;const f=i+r;Em(d,f,r,m),d+=r*da,Sm(d,f,r,e===1),d+=r*da,jm(d,f,r,e>1)},Om=(u,i=id,r=ad,e=ld,m=!1,d=Mm)=>{const f=j.createVector(j.mouseX,j.mouseY),t=2;for(let c=0;c<Am;c++){const h=j.createVector(i+da*e*c+e,r+e);if(Ht(h,f)<e*e){if(c===0)return[u,!m];if(c===1)return[1,m];if(c===2)return u*2<=d&&u!==0?[u*2,m]:[t,m]}}return[u,m]};class ar{constructor(i,r,e,m,d,f=We,t=j.color(Mn),c=j.color(Nt),h=j.CENTER){z(this,"pos");z(this,"width");z(this,"height");z(this,"text");z(this,"onClick");z(this,"textSize");z(this,"buttonColor");z(this,"textColor");z(this,"mode");z(this,"id");this.pos=i,this.width=r,this.height=e,this.text=m,this.onClick=d,this.textSize=f,this.buttonColor=t,this.textColor=c,this.mode=h,this.id=j.random()}update(){return!1}show(i=j){i.push(),i.strokeWeight(1),i.fill(this.buttonColor),i.rectMode(this.mode),i.rect(this.pos.x,this.pos.y,this.width,this.height),i.strokeWeight(0),i.textSize(this.textSize),i.textAlign(j.CENTER,j.CENTER),i.fill(this.textColor),i.text(`${this.text}`,this.pos.x,this.pos.y,this.width,this.height),i.pop()}clicked(){return j.mouseX>this.pos.x-this.width/2&&j.mouseX<this.pos.x+this.width/2&&j.mouseY>this.pos.y-this.height/2&&j.mouseY<this.pos.y+this.height/2}}class Pm extends ar{constructor(r,e,m,d,f,t,c=We,h=j.color(Mn),g=j.color(Nt),p=j.CENTER){super(r,e,m,d,f,c,h,g,p);z(this,"duration");this.duration=t}update(){return this.duration--,this.duration<1}}const ud=(u,i,r,e)=>{const m=r/5;j.push(),j.strokeWeight(1),j.stroke(Nt),j.fill(Er),j.rect(u-r/2,i-m/2,r+2,m+2),j.strokeWeight(0),j.fill($a),j.rect(u-r/2+1,i-m/2+1,r*e,m),j.pop()},Vo=is(!1),Po=is(),km=(u="No rewards exist yet, sorry",i="No new unlocks")=>{const r=new ar(j.createVector(j.width/2,j.height/2),j.width*.8,j.height*.8,"",c=>{},We*2,j.color(xs)),e=new ar(j.createVector(j.width/2,j.height*.25),j.width*.7,j.height*.2,"Congratulations! You beat back those pesky heroes and won the day!",c=>{},We*2,j.color(Pc));console.log(i);const m=new ar(j.createVector(j.width*.3,j.height*.5),j.width*.3,j.height*.2,i,c=>{},We*1.5,j.color(ia)),d=new ar(j.createVector(j.width*.7,j.height*.5),j.width*.3,j.height*.2,u,c=>{},We*1.5,j.color(ia)),f=new ar(j.createVector(j.width*.3,j.height*.75),j.width*.3,j.height*.2,"Go back to the main menu",c=>{j.createCanvas(0,0),Vo.value=!1,Po.value=void 0},We*2),t=new ar(j.createVector(j.width*.7,j.height*.75),j.width*.3,j.height*.2,"Continue in freeplay",c=>{et.buttonsDisabled=!1,et.removeButton(r.id),et.removeButton(e.id),et.removeButton(m.id),et.removeButton(d.id),et.removeButton(f.id),et.removeButton(t.id)},We*2);et.buttons.push(r,e,m,d,f,t)},Lm=()=>{const u=new ar(j.createVector(j.width/2,j.height/2),j.width*.8,j.height*.8,"",m=>{},We*2,j.color(sa)),i=new ar(j.createVector(j.width/2,j.height/3),j.width*.7,j.height*.2,"Game over! The heroes got you. With the demons and monsters out of the way, the age of infighting for mankind can begin!",m=>{},We*2,j.color(No)),r=new ar(j.createVector(j.width*.3,j.height*.7),j.width*.3,j.height*.2,"Go back to the main menu",m=>{j.createCanvas(0,0),Vo.value=!1,Po.value=void 0},We*2),e=new ar(j.createVector(j.width*.7,j.height*.7),j.width*.3,j.height*.2,"Retry",m=>{et.removeButton(u.id),et.removeButton(i.id),et.removeButton(r.id),et.removeButton(e.id),et.retry()},We*2);et.buttons.push(u,i,r,e)};class Dm{constructor(){z(this,"gameSpeed",0);z(this,"buttonsDisabled",!1);z(this,"autoStartNextWave",!1);z(this,"drawCount",0);z(this,"frameRateSum",0);z(this,"averageFrameRate",0);z(this,"buttons",[]);z(this,"messageButton");z(this,"showMessage",!0);z(this,"beforeMapMade",!1);z(this,"debugOn",!1);z(this,"map",null);this.messageButton=null}reconstruct(i,r){this.messageButton=null,pp(r),je.buildMapFromJson(i.map.map,tt,Xt),tt.maxHp=oa*tr.MAOU_HP_MOD,tt.hp=oa*tr.MAOU_HP_MOD,this.map=i,this.retry(),this.setup(),j.draw=()=>this.draw(),j.mousePressed=()=>this.mousePressed(),j.doubleClicked=()=>this.doubleClicked(),j.keyPressed=e=>this.keyPressed(e)}retry(){this.buttonsDisabled=!1,this.beforeMapMade=!0,this.messageButton=null,this.buttons=[],tt.reset(),Xt.reset(),je.reConstructGrid(),je.buildMapFromJson(this.map.map.map,tt,Xt),je.generateAllPathsThroughFloodFill(Xt.spawners,tt.bases)}setup(){j.createCanvas(j.windowWidth,j.windowHeight),j.background(Mn),je.generateAllPathsThroughFloodFill(Xt.spawners,tt.bases)}draw(){j.background(Mn),j.strokeWeight(1),Rm(10,j.height-50,20,this.gameSpeed,this.autoStartNextWave),je.show(),this.debugOn&&je.showDebug(),tt.show();for(let r=0;r<this.gameSpeed;r++){const e=Xt.updateAndShow();tt.updateTowers(),tt.updateProjectiles(),tt.showProjectiles(),tt.updateMinions(),tt.showMinions(),tt.updateAndShowVisuals(),e&&(tt.addXpToCurrentTowers(),tt.onWaveEndTowers(),Xt.waveReader.currentWaveNumber===tr.FINAL_WAVE+1&&this.gameClear(),this.autoStartNextWave||(this.gameSpeed=0,this.showMessage=!0),ri()),tt.hp<=0&&(Lm(),this.gameSpeed=0,this.buttonsDisabled=!0)}if(this.gameSpeed===0&&(Xt.showUnits(),tt.showProjectiles(),tt.showMinions(),tt.onlyShowVisuals(),this.showMessage)){const r=Xt.waveReader.getMessage(),e=j.height*((r.length*We*.5>j.width*(11/16)?2:1)/24);this.messageButton=new ar(j.createVector(j.width*(3/8),j.height*(7/8)),j.min(r.length*We*.5,j.width*(11/16)),e,r,()=>{this.showMessage=!1},We,j.color([...Hn,200])),this.messageButton.show()}for(let r=this.buttons.length-1;r>=0;r--)this.buttons[r].update()&&this.buttons.splice(r,1);j.fill(0),j.textSize(32),j.strokeWeight(We/16),j.text(`Wave: ${Xt.waveReader.currentWaveNumber}`,50,50),j.textSize(16),j.strokeWeight(1),j.text(`Player Level: ${mt.level}`,30,75),ud(30+We*3,90,We*5,mt.getXp()/mt.getRequiredXp()),j.text("Hold s to sell",j.width*(3/4)-130,20),j.text("Hold u to update",j.width*(3/4)-130,40),j.text(`Seed: ${tt.currentSeed}`,j.width*(3/4)-160,j.height-10);const i=je.getHexVectorFromXY(j.mouseX,j.mouseY);for(const r in Lr){const e=Lr[r];if(j.keyIsDown(e.keycode)&&je.rqVectorIsOnGrid(i,je.wallRing)&&tt.gold>=tt.getTowerCost(je.grid[i.x][i.y],e)){const m=je.grid[i.x][i.y];j.push(),j.fill([...e.rgb,100]),j.strokeWeight(3),cr(m.pos.x,m.pos.y,je.hexSize),e.range>0&&(e.range<10?j.circle(m.pos.x,m.pos.y,e.range*4*We):j.circle(m.pos.x,m.pos.y,e.range*2)),j.pop()}}if(j.keyIsDown(83)&&je.rqVectorIsOnGrid(i,je.wallRing)&&je.grid[i.x][i.y].isTower){const r=je.grid[i.x][i.y];j.push(),j.fill([...ys,50]),j.strokeWeight(1),cr(r.pos.x,r.pos.y,je.hexSize),j.fill(ys),j.strokeWeight(2),Go(r.pos.x,r.pos.y,je.hexSize*.6),j.pop()}if(j.keyIsDown(85)&&je.rqVectorIsOnGrid(i,je.wallRing)&&je.grid[i.x][i.y].isTower){const r=je.grid[i.x][i.y];xp(r.usageData);let e=`
`;for(const t in r.usageData)e+=`${t}: ${r.usageData[t]}
`;const m=We*16,d=We*19;j.push(),new ar(j.createVector(j.mouseX+m/2,j.mouseY+d/2),m,d,e,()=>{},We,j.color([...Hn,200])).show(),j.pop()}for(const r of this.buttons)r.show()}mousePressed(){for(const r of this.buttons)r.clicked()&&r.onClick(r);this.messageButton&&this.messageButton.clicked()&&this.messageButton.onClick();const i=je.getHexVectorFromXY(j.mouseX,j.mouseY);for(const r in Lr){const e=Lr[r];if(j.keyIsDown(e.keycode)&&je.rqVectorIsOnGrid(i,je.wallRing)&&tt.gold>=tt.getTowerCost(je.grid[i.x][i.y],e)){const m=je.grid[i.x][i.y],d=m.wall;m.wall=!0;const f=m.canUnit;m.canUnit=!1;const t=m.canWaterUnit;m.canWaterUnit=!1,je.generateAllPathsThroughFloodFill(Xt.spawners,tt.bases,!0)&&!m.isTower&&tt.placeTower(parseInt(r),m)||(m.wall=d,m.canUnit=f,m.canWaterUnit=t);return}}if(j.keyIsDown(83)&&je.rqVectorIsOnGrid(i,1)&&je.grid[i.x][i.y].isTower){const r=je.grid[i.x][i.y];tt.sellTower(r),je.generateAllPathsThroughFloodFill(Xt.spawners,tt.bases);return}if(je.rqVectorIsOnGrid(i,je.wallRing)&&je.grid[i.x][i.y].isTower){tt.selectTower(je.grid[i.x][i.y]);return}tt.clickUpgrade(j.keyIsDown(85)),this.buttonsDisabled||([this.gameSpeed,this.autoStartNextWave]=Om(this.gameSpeed,10,j.height-50,20,this.autoStartNextWave)),j.mouseX<j.width*(3/4)&&tt.deSelectTower()}doubleClicked(){const i=je.getHexVectorFromXY(j.mouseX,j.mouseY);if(je.rqVectorIsOnGrid(i,je.wallRing)&&je.grid[i.x][i.y].isTower){je.grid[i.x][i.y].castUlt();return}}keyPressed(i){if(!i.ctrlKey||!j.keyIsDown(67))return;const r=prompt("What cheat would you like to use? (money, lives, ult, unlock, wave:<number> aka wave:5)","");if(r==="money"&&(tt.gold+=1e5),r==="lives"&&(tt.hp+=1e5),r==="xp"&&mt.addXp(1e9,tt.towers),r==="unlock"){for(const e in la)mt.unlockDifficulty(e);for(const e of Sy)mt.unlockMapComplexity(e);mt.allTowerUnlocksCheat()}if(r==="reset"&&Um(),r==="debug"&&(this.debugOn=!this.debugOn),r==="ult")for(const e of tt.towers)e.ultCurrentCooldown=0;if((r==null?void 0:r.substring(0,4))==="wave"){const e=parseInt(r.substring(5));!Number.isNaN(e)&&e<1e3&&(Xt.waveReader.currentWaveNumber=e-1)}if((r==null?void 0:r.substring(0,1))==="w"){const e=parseInt(r.substring(1));!Number.isNaN(e)&&e<1e3&&(tt.gold+=Xt.waveReader.skipToWaveWithProperGold(e))}}addLevelUpMessage(i){this.gameSpeed=0,this.buttons.push(new ar(j.createVector(j.width/2,j.height/2),j.width*(2/3),j.height/2,i,r=>{this.removeButton((r==null?void 0:r.id)??0),this.gameSpeed=1},We*2,j.color(vs)))}removeButton(i){for(let r=0;r<this.buttons.length;r++)if(this.buttons[r].id===i){this.buttons.splice(r,1);return}}addTowerUnlockMessage(i){this.buttons.push(new Pm(j.createVector(j.width*(3/8),j.height*(7/8)),j.width*(7/16),j.height*(1/10),`${i} level up! Congratuations!`,r=>{this.removeButton((r==null?void 0:r.id)??0)},1e3,We,j.color([...Hn,200])))}gameClear(){var m;const i=[],r=fp(tr.name);mt.unlockedDifficulties[r]||(mt.unlockedDifficulties[r]=!0,i.push(`Unlocked ${r} difficulty`));const e=jy((m=this.map)==null?void 0:m.complexity);mt.unlockedMapComplexities[e]||(mt.unlockedMapComplexities[e]=!0,i.push(`Unlocked ${e} maps`)),km("No rewards yet",i.length>0?i.join(`
`):void 0),this.gameSpeed=0,this.buttonsDisabled=!0}}let et=new Dm;const Im=(u,i)=>{et.reconstruct(u,i)},ju={2:()=>{mt.towersData.Barricade.unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Barricade! You can use it to set up your maze cheaply and early.")},3:()=>{mt.towersData.Kobold.unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Kobold! It fires fast in a small radius, and fires even faster when it gets fired up.")},4:()=>{mt.towersData.Arachne.unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Arachne! She can spin webs that slow your enemies.")},5:()=>{mt.towersData["Plague Slinger"].unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Plague Slinger! Plague Slingers throw vials of poison at your enemies, slow working, but high damage potential, especially against armor.")},6:()=>{mt.towersData.Siren.unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Siren! Only place this tower in the water! The Siren sings a song that entrances your enemies into abandoning their quest and seeking the Siren, sadly damage can break the trance.")},7:()=>{mt.towersData.Pyromaniac.unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Pyromaniac! Armed with a short range flame thrower and the ability to learn various other fire attacks, the Pyro is a high damage elite.")},8:()=>{mt.towersData["Gravi-tech Tower"].unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Gravi-tech Tower! The Gravi-tech emits a gravitational field around itself that pulls enemies in, the heavier the unit, the stronger the effect, but overcharges when too many enemies enter its field.")},9:()=>{mt.towersData["Dragon Hoard"].unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Dragon Hoard! Dragon Hoards are expensive, but magically generate more gold every round. And who knows, you might even be able to attract a dragon.")},10:()=>{mt.towersData["Magma Wyrm"].unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Magma Wyrm! You can only place this tower in lava! Like all lava towers, the Magma Wyrm expires after a certain number of turns, visible through the stars around its symbol, turning the lava tile into an unstable one. A cheap and strong tower, but only for a short time. You get no money back for selling Lava towers!")},11:()=>{mt.transmutationEssence+=110,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},12:()=>{mt.transmutationEssence+=120,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},13:()=>{mt.transmutationEssence+=130,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},14:()=>{mt.transmutationEssence+=140,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},15:()=>{mt.transmutationEssence+=150,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},16:()=>{mt.transmutationEssence+=160,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},17:()=>{mt.transmutationEssence+=170,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},18:()=>{mt.transmutationEssence+=180,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},19:()=>{mt.transmutationEssence+=190,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},20:()=>{mt.transmutationEssence+=200,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")}};class wi{constructor(i,r,e){z(this,"username");z(this,"password");z(this,"email");z(this,"lastUpdatedVersion");z(this,"transmutationEssence");z(this,"level");z(this,"levelUpExponent");z(this,"levelUpScalar");z(this,"xp");z(this,"xpRequired");z(this,"towersData");z(this,"unlockedMapComplexities");z(this,"unlockedDifficulties");this.username=i,this.password=r,this.email=e,this.lastUpdatedVersion="0.0.0",this.level=1,this.levelUpExponent=1.5,this.levelUpScalar=100,this.xp=0,this.xpRequired=Math.pow(this.level,this.levelUpExponent+this.level/10)*this.levelUpScalar,this.towersData={};for(const m in Lr)this.towersData[Lr[m].name]={unlocked:!1,xp:0,xpRequired:Math.pow(1,this.levelUpExponent+1/10)*this.levelUpScalar,unlocksAvailable:0,upgradesUnlocked:["A","B","C"],mods:{1:null,2:null,3:null}};this.towersData.Archer.unlocked=!0,this.unlockedMapComplexities={Simple:!0,Average:!1,Complex:!1,Evil:!1},this.unlockedDifficulties={Easy:!0,Normal:!1,Hard:!1,Extreme:!1},this.transmutationEssence=0}addXp(i,r){this.xp+=i,this.xp>=this.xpRequired&&this.levelUp();const e=i/r.length;for(const m of r)this.towersData[m.name].xp+=e,this.towersData[m.name].xp>=this.towersData[m.name].xpRequired&&(this.towerAddUnlock(this.towersData[m.name]),et.addTowerUnlockMessage(m.name))}levelUp(){this.xp-=this.xpRequired,this.level++,this.xpRequired=Math.pow(this.level,this.levelUpExponent+this.level/10)*this.levelUpScalar,this.level in ju&&ju[this.level]()}towerAddUnlock(i){i.xp-=i.xpRequired,i.unlocksAvailable++;const r=i.unlocksAvailable+i.upgradesUnlocked.length-2;i.xpRequired=Math.pow(r,this.levelUpExponent+r/10)*this.levelUpScalar}getXp(){return j.floor(this.xp)}getRequiredXp(){return j.ceil(this.xpRequired)}towerUnlockUpgrade(i,r){return this.towersData[i].unlocksAvailable<1||r in this.towersData[i].upgradesUnlocked?!1:(this.towersData[i].upgradesUnlocked.push(r),this.towersData[i].unlocksAvailable--,!0)}checkAndRunVersionUpdates(){if(this.lastUpdatedVersion===gu)return;const i=this.lastUpdatedVersion.split(".");for(const r in Su){const e=Su[r];for(const m in e){const d=e[m];for(const f in d)(parseInt(r)>parseInt(i[0])||parseInt(r)===parseInt(i[0])&&(parseInt(m)>parseInt(i[1])||parseInt(m)===parseInt(i[1])&&parseInt(f)>parseInt(i[2])))&&d[f](this)}}this.lastUpdatedVersion=gu}resetData(){const i=new wi(this.username,this.password,this.email);for(const r in i)this[r]=i[r]}unlockDifficulty(i){this.unlockedDifficulties[i]=!0,ri()}unlockMapComplexity(i){this.unlockedMapComplexities[i]=!0,ri()}allTowerUnlocksCheat(){for(const i in Lr)this.towersData[Lr[i].name].unlocked=!0,this.towersData[Lr[i].name].unlocksAvailable=12}}const Bm=(u="Nameless",i="guest",r="tester@hotmail.com")=>{const e=new wi(u,i,r);if(localStorage.getItem("user")){const m=JSON.parse(localStorage.getItem("user"));for(const d in m)e[d]=m[d]}return e.checkAndRunVersionUpdates(),e},ri=()=>{localStorage.setItem("user",JSON.stringify(mt))},Um=(u="Nameless",i="guest",r="tester@hotmail.com")=>{const e=new wi(u,i,r);for(const m in e)mt[m]=e[m];mt.checkAndRunVersionUpdates(),ri()},Nm=Bm(),mt=Nm,Fm=0,Gm=1,Tu=(u,i,r,e=Fm,m=Hn,d=Gm)=>{const f=r/2,t=r/4,c=r*(3/8);j.push(),j.strokeWeight(d),j.fill(Nt),j.translate(u,i),j.rotate(e),j.beginShape(),j.vertex(-f,-c),j.quadraticVertex(-f,-f,-c,-f),j.vertex(c,-f),j.quadraticVertex(f,-f,f,-c),j.vertex(f,c),j.quadraticVertex(f,f,c,f),j.vertex(-c,f),j.quadraticVertex(-f,f,-f,c),j.endShape(j.CLOSE),j.noFill(),j.strokeWeight(d*4),j.curve(-t*1.3,r*2.5,-t*1.3,-f,t*1.3,-f,t*1.3,r*2.5),j.strokeWeight(0),j.fill(m),j.circle(0,-t/2,t),j.rect(-r/16,-t/2,r/8,r/3),j.pop()},ha=new Fn(0,0,j.windowWidth,j.windowHeight,3,7);class Vm{constructor(i,r={}){z(this,"maxHp");z(this,"hp");z(this,"gold");z(this,"color");z(this,"menuColor");z(this,"hexSize");z(this,"selectedTower");z(this,"selectedUpgrade");z(this,"bases");z(this,"towers");z(this,"projectiles");z(this,"minions");z(this,"visualEffects");z(this,"pathsToGenerate");z(this,"currentSeed");z(this,"accumulatedXp");z(this,"upgradeButton");this.maxHp=i*tr.MAOU_HP_MOD,this.hp=this.maxHp,this.gold=1500,this.color=r.color??j.color(xs),this.menuColor=r.menuColor??j.color(X0),this.hexSize=r.hexSize??We,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedUpgrade=null,this.projectiles=[],this.visualEffects=[],this.minions=[],this.pathsToGenerate=[],this.currentSeed="",this.accumulatedXp=0,this.upgradeButton=new ar(j.createVector(0,0),0,0,"",()=>{})}reset(){this.hp=this.maxHp,this.gold=1500,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedUpgrade=null,this.projectiles=[],this.visualEffects=[],this.minions=[],this.pathsToGenerate=[],this.accumulatedXp=0,this.upgradeButton=new ar(j.createVector(0,0),0,0,"",()=>{})}show(){const i=j.width*.75,r=j.width-i,e=r/100,m=j.height/100,d=m*15;if(j.height-d,j.strokeWeight(this.hexSize/12),j.fill(this.menuColor),j.stroke(Nt),j.rect(i,0,r,j.height),j.line(i,d,j.width,d),j.textSize(this.hexSize*1.5),j.fill(0),j.text(`${this.gold}`,i+e*10,m*8),j.text(`${this.hp}`,i+e*60,m*8),j.fill(ys),Go(i+e*40,m*8-this.hexSize*.5,this.hexSize*.8),bp(i+e*90,m*8-this.hexSize*.5,this.hexSize*1.4),this.selectedTower)this.showSelectedTower();else{j.textSize(this.hexSize*1.2);for(const f in Lr){const t=parseInt(f),c=Lr[t],h=j.createVector(i+e*15,d+m*(8+8*t));j.strokeWeight(1),j.fill(c.rgb),cr(h.x,h.y,this.hexSize*1.2),j.fill(0),j.strokeWeight(0),j.text(`${c.name}: ${j.round(c.cost*tr.TOWER_COST_MOD)} (${c.hotkey})`,h.x+e*10,h.y+this.hexSize/3),mt.towersData[c.name].unlocked?c.showSymbol(j.createVector(h.x,h.y),this.hexSize*1.2,{}):(j.push(),j.fill(Nt),Tu(h.x,h.y,this.hexSize),j.pop())}}}showSelectedTower(){if(!this.selectedTower)return;const i=j.width*(3/4),r=j.width-i,e=r/100,m=j.height/100,d=m*15,f=j.height-d;j.push(),this.selectedTower.showRange();const t=j.createVector(j.width-this.hexSize*2,d+this.hexSize*2),c=this.hexSize,h=j.createVector(i+r/2,d+f/4),g=d+f/2;j.fill(Hr),vp(t.x+c/2,t.y-c/2,c,1),j.textAlign(j.CENTER,j.CENTER),j.strokeWeight(1),mt.towersData[this.selectedTower.name].upgradesUnlocked.length<15&&(j.textSize(this.hexSize),j.fill(Nt),j.text(`Unlocks Available: ${mt.towersData[this.selectedTower.name].unlocksAvailable}`,h.x-e*10,h.y+m*19),ud(h.x+e*30,h.y+m*19,e*20,j.min(mt.towersData[this.selectedTower.name].xp/mt.towersData[this.selectedTower.name].xpRequired,1))),this.selectedTower.show(h),j.textSize(this.hexSize*.6);let p=0,o=0,n=this.hexSize*2;for(const s in this.selectedTower.upgrades){const a=this.selectedTower.upgrades[s],l=j.createVector(h.x+j.cos(o)*n,h.y+j.sin(o)*n);a.purchased?j.fill($a):a.available?j.fill(ms):j.fill(sa),j.strokeWeight(1),this.selectedUpgrade===a&&j.strokeWeight(3),cr(l.x,l.y,this.hexSize),j.fill(Nt),j.strokeWeight(1),mt.towersData[this.selectedTower.name].upgradesUnlocked.includes(s)?j.text(s,l.x,l.y):Tu(l.x,l.y,this.hexSize*.8),o+=j.TWO_PI/3,p++,p%3===0&&(n+=this.hexSize*2,p===6&&(n-=this.hexSize*4,o+=j.PI/3))}if(j.strokeWeight(2),j.line(i,g,j.width,g),this.selectedUpgrade){const s=i+e*50;j.strokeWeight(1),j.textSize(this.hexSize*.8),j.text(`${this.selectedUpgrade.name}`,s,g+m*6),j.text(`Cost: ${j.round(this.selectedUpgrade.cost*tr.TOWER_COST_MOD)}`,s,g+m*12),j.rectMode(j.CENTER),j.text(`${this.selectedUpgrade.description}`,s,g+m*25,e*80,m*25),this.upgradeButton=new ar(j.createVector(s,g+m*35),e*35,m*5,mt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedUpgrade.purchased?"Obtained":"Purchase":"Unlock",()=>{!this.selectedTower||!this.selectedUpgrade||!this.selectedUpgrade.available||(mt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedTower.purchaseUpgrade(this.selectedUpgrade):mt.towersData[this.selectedTower.name].unlocksAvailable>0&&mt.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id))},this.hexSize*1.2,this.selectedUpgrade.available?j.color(ms):j.color(sa),j.color(Nt)),this.upgradeButton.show()}j.pop()}update(){return!0}generateAllNeccesaryPaths(){je.generateAllPathsThroughFloodFill(Xt.spawners,this.bases);for(const i of this.pathsToGenerate)je.generateAllPathsThroughFloodFill(Xt.spawners,i.origin,!1,i.name,i.waterCost,i.stopAfter)}moveBuffs(i,r){for(const e of i.buffs)r.applyBuff(e)}placeTower(i,r){const e=Lr[i];let m="canTower";if(e.towerType==="WATER"&&(m="canWaterTower"),e.towerType==="LAVA"&&(m="canLavaTower"),r.isTower||!r[m]||!mt.towersData[e.name].unlocked)return!1;const d=this.getTowerCost(r,e),f=_m.getTower(i,r,{changedCost:d});return this.towers.push(f),je.addTowerToGrid(f),this.moveBuffs(r,f),this.gold-=d,this.generateAllNeccesaryPaths(),!0}getTowerCost(i,r){return this.checkCostThroughBuffs(i,j.round(r.cost*tr.TOWER_COST_MOD),r.name)}checkCostThroughBuffs(i,r,e){let m=r;for(const d of i.buffs)m=d.onPurchase(i,m,e);return m}sellTower(i){if(!i.isTower)return!1;for(let r=this.towers.length-1;r>=0;r--)this.towers[r].r===i.r&&this.towers[r].q===i.q&&(this.towers[r].onSell(),this.gold+=j.round(this.towers[r].spendValue*tr.TOWER_SELL_MOD),this.towers.splice(r,1));return je.removeTowerFromGrid(i),this.moveBuffs(i,je.grid[i.r][i.q]),this.deSelectTower(),!0}selectTower(i){this.selectedUpgrade=null,this.selectedTower=i}deSelectTower(){this.selectedTower=null,this.selectedUpgrade=null}clickUpgrade(i=!1){if(this.upgradeButton.clicked()&&this.upgradeButton.onClick(),!this.selectedTower)return;const r=j.width*(3/4),e=j.width-r,d=j.height/100*15,f=j.height-d,t=j.createVector(r+e/2,d+f/4);let c=0,h=0,g=this.hexSize*2;for(const p in this.selectedTower.upgrades){const o=this.selectedTower.upgrades[p],n=j.createVector(t.x+j.cos(h)*g,t.y+j.sin(h)*g);Ht(j.createVector(j.mouseX,j.mouseY),n)<this.hexSize*this.hexSize&&(this.selectedUpgrade=o,i&&!o.purchased&&o.available&&(mt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedTower.purchaseUpgrade(this.selectedUpgrade):mt.towersData[this.selectedTower.name].unlocksAvailable>0&&mt.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id))),h+=j.TWO_PI/3,c++,c%3===0&&(g+=this.hexSize*2,c===6&&(g-=this.hexSize*4,h+=j.PI/3))}}updateTowers(){for(const i of this.towers)i.update()||this.sellTower(je.grid[i.r][i.q])}onWaveEndTowers(){for(const i of this.towers)i.onWaveEnd()}addProjectile(i){this.projectiles.push(i)}updateProjectiles(){ha.emptyQuadTree();for(let i=this.projectiles.length-1;i>=0;i--){if(this.projectiles[i].update()){this.projectiles.splice(i,1);continue}ha.insert(new ws(this.projectiles[i].pos,this.projectiles[i]))}}showProjectiles(){for(let i=this.projectiles.length-1;i>=0;i--)this.projectiles[i].show()}addMinion(i){this.minions.push(i)}updateMinions(){for(let i=this.minions.length-1;i>=0;i--)this.minions[i].update()&&this.minions.splice(i,1);ti.emptyQuadTree();for(let i=this.minions.length-1;i>=0;i--)ti.insert(new ws(this.minions[i].pos,this.minions[i]))}showMinions(){for(let i=this.minions.length-1;i>=0;i--)this.minions[i].show()}addVisual(i){this.visualEffects.push(i)}updateAndShowVisuals(){for(let i=this.visualEffects.length-1;i>=0;i--)if(this.visualEffects[i].update()){const e=this.visualEffects[i].onExpire();this.visualEffects.splice(i,1),e&&this.addVisual(e)}}onlyShowVisuals(){for(let i=this.visualEffects.length-1;i>=0;i--)this.visualEffects[i].show(this.visualEffects[i])}addBaseToMaou(i){this.bases.push(i)}unitReachedBase(i,r){const e=r.getHexVectorFromXY(i.pos.x,i.pos.y);return r.hexInArray(r.grid[e.x][e.y],this.bases)?(this.hp-=i.damage,!0):!1}unitDied(i){this.gold+=i.goldValue,this.accumulatedXp+=i.xpValue,this.addXpToCurrentTowers()}addXpToCurrentTowers(){mt.addXp(this.accumulatedXp,this.towers),this.accumulatedXp=0}increaseHp(i,r=!1){this.hp+i>this.maxHp&&r?this.hp=j.max(this.hp,this.maxHp):this.hp+=i}}const Hm=new Vm(oa),tt=Hm,$r={name:"Bomber",discription:"Bombers run quickly, and deal high damage, but are a danger to their friends on death.",hp:50,hpScaling:4,damage:75,speed:gt*2,force:gt*.2,mass:1,gold:5,xp:10,baseLevel:8,rgb:Js,explosionRadius:We};class Wm extends dr{constructor(r,e,m,d={}){super(r,e,m,d);z(this,"explosionRadius");this.explosionRadius=$r.explosionRadius}die(){if(this.dead)return;super.die();const r=Ft.inRangeCircle(this.pos,this.explosionRadius),e=ti.inRangeCircle(this.pos,this.explosionRadius),m=[...r,...e];for(const d of m){const f=this.maxHp/2;d.takeDamage(new sr("EXPLOSION",f))}tt.addVisual(vi(this.pos,this.explosionRadius*2,4))}}const zm=(u,i)=>new Wm(u.x,u.y,lr,{desiredSpeed:$r.speed,maxForce:$r.force,hp:$r.hp+(i-$r.baseLevel)*$r.hpScaling,damage:$r.damage,goldValue:j.max($r.gold-(i-$r.baseLevel),1),xpValue:$r.xp,color:j.color($r.rgb)}),dn={name:"Farmer",discription:"A simple farmer, recruited to get rid of a low level threat.",hp:40,hpScaling:5,damage:10,speed:gt*1,force:gt*.1,mass:1,gold:25,xp:10,baseLevel:1,rgb:W0};class qm extends dr{constructor(i,r,e,m={}){super(i,r,e,m)}}const Eu=(u,i)=>new qm(u.x,u.y,lr,{desiredSpeed:dn.speed,maxForce:dn.force,hp:dn.hp+(i-dn.baseLevel)*dn.hpScaling,damage:dn.damage,goldValue:j.max(dn.gold-(i-dn.baseLevel),1),xpValue:dn.xp,color:j.color(dn.rgb)}),hn={name:"Swordsman",discription:"A simple swordsman, slightly trained, unlike the farmers.",hp:120,hpScaling:8,damage:20,speed:gt*1.5,force:gt*.12,mass:1,gold:32,xp:20,baseLevel:3,rgb:Zs};class Ym extends dr{constructor(i,r,e,m={}){super(i,r,e,m)}}const Xm=(u,i)=>new Ym(u.x,u.y,lr,{desiredSpeed:hn.speed,maxForce:hn.force,hp:hn.hp+(i-hn.baseLevel)*hn.hpScaling,damage:hn.damage,goldValue:j.max(hn.gold-(i-hn.baseLevel),1),xpValue:hn.xp,color:j.color(hn.rgb)}),qr={name:"Heavy Weight",discription:"A heavy unit, moves slowly, but with great bulk comes great health.",hp:500,hpScaling:35,damage:25,speed:gt*.7,force:gt*.05,mass:2,gold:50,xp:35,baseLevel:6,rgb:B0};class $m extends dr{constructor(i,r,e,m={}){super(i,r,e,m)}}const Km=(u,i)=>new $m(u.x,u.y,lr,{desiredSpeed:qr.speed,maxForce:qr.force,hp:qr.hp+(i-qr.baseLevel)*qr.hpScaling,damage:qr.damage,mass:qr.mass,goldValue:j.max(qr.gold-(i-qr.baseLevel),1),xpValue:qr.xp,color:j.color(qr.rgb)}),hr={name:"Paladin",discription:"A heavyly armored holy warrior, heals himself by the blessing of the divine.",hp:2e3,hpScaling:110,damage:250,speed:gt*.6,force:gt*.25,mass:2.5,gold:150,xp:100,baseLevel:10,healBy:1,healScaling:.25,healCooldown:10,rgb:U0};class Qm extends dr{constructor(r,e,m,d={}){super(r,e,m,d);z(this,"currentHealCooldown");z(this,"healCooldown");z(this,"healBy");this.currentHealCooldown=hr.healCooldown,this.healCooldown=hr.healCooldown,this.healBy=d.healAmount,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.healSelf())}healSelf(){this.getHeal(this.healBy)}}const Zm=(u,i)=>new Qm(u.x,u.y,lr,{desiredSpeed:hr.speed,maxForce:hr.force,hp:hr.hp+(i-hr.baseLevel)*hr.hpScaling,damage:hr.damage,mass:hr.mass,goldValue:j.max(hr.gold-(i-hr.baseLevel),1),xpValue:hr.xp,color:j.color(hr.rgb),healAmount:hr.healBy+(i-hr.baseLevel)*hr.healScaling}),Yr={name:"Rusher",discription:"Rushers sprint right through your defenses.",hp:240,hpScaling:15,damage:30,speed:gt*3.2,force:gt*.35,mass:.75,gold:33,xp:55,baseLevel:16,rgb:No};class Jm extends dr{constructor(i,r,e,m={}){super(i,r,e,m)}}const cd=(u,i,r=!1)=>new Jm(u.x,u.y,lr,{desiredSpeed:Yr.speed,maxForce:Yr.force,hp:Yr.hp+(i-Yr.baseLevel)*Yr.hpScaling,damage:Yr.damage,mass:Yr.mass,goldValue:r?0:j.max(Yr.gold-(i-Yr.baseLevel),1),xpValue:Yr.xp,color:j.color(Yr.rgb)}),fr={name:"Healer",discription:"The Healer heals everyone in around them.",hp:400,hpScaling:20,damage:10,speed:gt*1.3,force:gt*.1,mass:1,gold:50,xp:60,baseLevel:17,healAmount:20,healScaling:2,healCooldown:100,healRange:We*4,rgb:Pc};class eg extends dr{constructor(r,e,m,d={}){super(r,e,m,d);z(this,"currentHealCooldown");z(this,"healCooldown");z(this,"healAmount");z(this,"healRange");this.currentHealCooldown=fr.healCooldown,this.healCooldown=fr.healCooldown,this.healAmount=d.healAmount,this.healRange=fr.healRange,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.heal())}heal(){const r=Ft.inRangeCircle(this.pos,this.healRange);for(const e of r)e.getHeal(this.healAmount)}}const tg=(u,i)=>new eg(u.x,u.y,lr,{desiredSpeed:fr.speed,maxForce:fr.force,hp:fr.hp+(i-fr.baseLevel)*fr.hpScaling,damage:fr.damage,goldValue:j.max(fr.gold-(i-fr.baseLevel),1),xpValue:fr.xp,color:j.color(fr.rgb),healAmount:fr.healAmount+(i-fr.baseLevel)*fr.healScaling}),Or={name:"Summoner",discription:"Slow moving unit that summons rushers as long as she lives.",hp:3500,hpScaling:75,damage:100,speed:gt*.5,force:gt*.3,mass:2,gold:200,xp:200,baseLevel:20,summonCooldown:160,rgb:ei};class rg extends dr{constructor(r,e,m,d={}){super(r,e,m,d);z(this,"currentSummonCooldown");z(this,"summonCooldown");this.currentSummonCooldown=Or.summonCooldown,this.summonCooldown=Or.summonCooldown,this.abilityCounters=["currentSummonCooldown"]}update(){super.update(),this.currentSummonCooldown--,this.currentSummonCooldown<=0&&(this.currentSummonCooldown=this.summonCooldown,this.summonRusher())}summonRusher(){Xt.units.push(cd(this.pos.copy(),this.level,!0))}}const ng=(u,i)=>new rg(u.x,u.y,lr,{desiredSpeed:Or.speed,maxForce:Or.force,hp:Or.hp+(i-Or.baseLevel)*Or.hpScaling,damage:Or.damage,mass:Or.mass,goldValue:j.max(Or.gold-(i-Or.baseLevel),1),xpValue:Or.xp,color:j.color(Or.rgb),level:i}),fn={name:"Knight",discription:"A knight on a quest to slay an evil monster. Apparantly you qualify",hp:1100,hpScaling:50,damage:50,speed:gt*1.7,force:gt*.18,mass:1,gold:75,xp:100,baseLevel:23,rgb:R0};class og extends dr{constructor(i,r,e,m={}){super(i,r,e,m)}}const sg=(u,i)=>new og(u.x,u.y,lr,{desiredSpeed:fn.speed,maxForce:fn.force,hp:fn.hp+(i-fn.baseLevel)*fn.hpScaling,damage:fn.damage,goldValue:j.max(fn.gold-(i-fn.baseLevel),1),xpValue:fn.xp,color:j.color(fn.rgb)}),ig=(u,i,r=25,e=j.color(Dc))=>new mo(u,i,r,e,[],m=>{j.push(),j.stroke(e),j.strokeWeight(3),j.noFill(),j.circle(m.pos.x,m.pos.y,2*i*((r-m.duration)/r)),j.pop()},()=>{}),mr=Object.freeze({name:"Protector",discription:"The Protector sends out a wave that repels projectiles.",hp:250,hpScaling:10,damage:15,speed:gt*1.5,force:gt*.15,mass:1,gold:55,xp:55,baseLevel:25,pulseRange:We*4,pulseForce:gt*10,pulseDuration:25,pulseCooldown:75,rgb:Dc});class ag extends dr{constructor(r,e,m,d={}){super(r,e,m,d);z(this,"currentPulseCooldown");z(this,"pulseCooldown");z(this,"pulseRange");z(this,"pulseDuration");z(this,"currentPulseDuration");z(this,"pulseForce");z(this,"pulseOrigin");this.currentPulseCooldown=mr.pulseCooldown,this.pulseCooldown=mr.pulseCooldown,this.pulseRange=mr.pulseRange,this.abilityCounters=["currentPulseCooldown"],this.pulseDuration=mr.pulseDuration,this.currentPulseDuration=mr.pulseDuration,this.pulseForce=mr.pulseForce,this.pulseOrigin=this.pos}update(){super.update(),this.currentPulseCooldown--,this.currentPulseCooldown<=0&&(this.currentPulseCooldown=this.pulseCooldown,this.castPulse()),this.currentPulseDuration>0&&(this.currentPulseDuration--,this.advancePulse())}castPulse(){this.pulseOrigin=this.pos.copy(),this.currentPulseDuration=this.pulseDuration,tt.addVisual(ig(this.pulseOrigin,this.pulseRange,this.pulseDuration))}advancePulse(){const r=this.pulseRange*((this.pulseDuration-this.currentPulseDuration)/this.pulseDuration),e=this.pulseRange*(j.max(this.pulseDuration-(this.currentPulseDuration+3),0)/this.pulseDuration),m=ha.inRangeCircleFromMin(this.pulseOrigin,r,e);for(const d of m){const f=lt.Vector.sub(d.pos,this.pulseOrigin).setMag(this.pulseForce);d.applyForce(f)}}}const lg=(u,i)=>new ag(u.x,u.y,lr,{desiredSpeed:mr.speed,maxForce:mr.force,hp:mr.hp+(i-mr.baseLevel)*mr.hpScaling,damage:mr.damage,goldValue:j.max(mr.gold-(i-mr.baseLevel),1),xpValue:mr.xp,color:j.color(mr.rgb)}),ug=0,cg=2,Cu=(u,i,r,e=ug,m=cg)=>{const d=r*.2;j.push(),j.translate(u,i),j.rotate(e),j.triangle(0,-d*4,d*.8,d*2,-d*.8,d*2),j.strokeWeight(m*1.5),j.line(0,d*3.5,0,d*2.1),j.strokeWeight(m),j.line(d,d*2,-d,d*2),j.pop()},dg=(u,i,r,e="Command",m="PASSIVE")=>new Cr(e,u,m,d=>{},(d,f)=>{j.push(),j.fill(Gc),j.stroke(0),j.strokeWeight(0),Cu(f.x,f.y,d.size*(1/3),j.PI/4,.5),Cu(f.x,f.y,d.size*(1/3),-j.PI/4,.5),j.pop()},d=>{d.setSpeedBuffs.push(i),d.recalcSpeedBuffs(),d.additiveMaxForceBuffs.push(r),d.recalcMaxForceBuffs()},d=>{nn(i,d.setSpeedBuffs),d.recalcSpeedBuffs(),nn(r,d.additiveMaxForceBuffs),d.recalcMaxForceBuffs()},!0),Sr=Object.freeze({name:"Commander",discription:"The Commander leads those around her to work together, combining a loose militia into an effective force.",hp:4500,hpScaling:110,damage:200,speed:gt*1.6,force:gt*.2,mass:2,gold:350,xp:450,baseLevel:30,commandCooldown:10,commandSpeed:gt*1.6,commandExtraForce:gt*.2,commandRange:We*5,rgb:V0});class hg extends dr{constructor(r,e,m,d={}){super(r,e,m,d);z(this,"currentCommandCooldown");z(this,"commandCooldown");z(this,"commandSpeed");z(this,"commandExtraForce");z(this,"commandRange");this.currentCommandCooldown=Sr.commandCooldown,this.commandCooldown=Sr.commandCooldown,this.commandSpeed=Sr.commandSpeed,this.commandExtraForce=Sr.commandExtraForce,this.commandRange=Sr.commandRange,this.abilityCounters=["currentCommandCooldown"]}update(){super.update(),this.currentCommandCooldown--,this.currentCommandCooldown<=0&&(this.currentCommandCooldown=this.commandCooldown,this.command())}command(){const r=Ft.inRangeCircle(this.pos,this.commandRange);for(const e of r)e.applyStatus(dg(this.commandCooldown*2,this.commandSpeed,this.commandExtraForce),!0)}}const fg=(u,i)=>new hg(u.x,u.y,lr,{desiredSpeed:Sr.speed,maxForce:Sr.force,hp:Sr.hp+(i-Sr.baseLevel)*Sr.hpScaling,damage:Sr.damage,goldValue:j.max(Sr.gold-(i-Sr.baseLevel),1),xpValue:Sr.xp,color:j.color(Sr.rgb)}),Kr=Object.freeze({name:"Mercenary",discription:"Mercenaries are hired to protect the others during their journey, but are hardly motivated to do much about an overlord.",hp:800,hpScaling:40,damage:1,damageToMinions:50,speed:gt*1.6,force:gt*.2,attackCooldown:10,mass:1,gold:45,xp:80,baseLevel:32,rgb:H0});class pg extends dr{constructor(r,e,m,d={}){super(r,e,m,d);z(this,"damageToMinions");this.damageToMinions=Kr.damageToMinions}followPathAndSeekTarget(r,e,m){const d=this.getCurrentTile(),f=r.getCurrentTile();if(je.aStar(d.r,d.q,f.r,f.q,!0).length>12){this.followPathField(je.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField);return}this.seekTarget(r)}attack(r){console.log(r.hp),r.takeDamage(new sr("PHYSICAL",this.damageToMinions)),console.log(r.hp)}}const mg=(u,i)=>new pg(u.x,u.y,lr,{desiredSpeed:Kr.speed,maxForce:Kr.force,hp:Kr.hp+(i-Kr.baseLevel)*Kr.hpScaling,damage:Kr.damage,goldValue:j.max(Kr.gold-(i-Kr.baseLevel),1),xpValue:Kr.xp,color:j.color(Kr.rgb),visionRadius:We*6}),gg=(u,i,r="Song of Healing",e="NORMAL")=>new Cr(r,u,e,m=>{m.getHeal(m.maxHp*i)},(m,d)=>{j.push(),j.fill(ms),On(d.x,d.y,m.size*(1/2),0,1,ms),j.pop()},m=>{},m=>{},!0),yg=(u,i,r="Song of Protection",e="ON_TAKE_DAMAGE")=>new Cr(r,u,e,(m,d,f={damage:new sr("PHYSICAL",0)})=>{f.damage.amount*=i},(m,d)=>{j.push(),j.fill(ei),On(d.x,d.y,m.size*(1/2),0,1,ei),j.pop()},m=>{},m=>{},!0),vg=(u,i,r="Song of Power",e="PASSIVE")=>new Cr(r,u,e,(m,d,f={damage:new sr("PHYSICAL",0)})=>{},(m,d)=>{j.push(),j.fill(Zs),On(d.x,d.y,m.size*(1/2),0,1,Zs),j.pop()},m=>{m.multiplicativeMaxForceBuffs.push(i),m.recalcMaxForceBuffs()},m=>{nn(i,m.multiplicativeMaxForceBuffs),m.recalcMaxForceBuffs()},!0),bg=(u,i,r="Song of Speed",e="PASSIVE")=>new Cr(r,u,e,(m,d,f={damage:new sr("PHYSICAL",0)})=>{},(m,d)=>{j.push(),j.fill(No),On(d.x,d.y,m.size*(1/2),0,1,No),j.pop()},m=>{m.multiplicativeSpeedBuffs.push(i),m.recalcSpeedBuffs()},m=>{nn(i,m.multiplicativeSpeedBuffs),m.recalcSpeedBuffs()},!0),wg=(u,i,r=50,e=vs)=>{const m=[];for(let d=0;d<15;d++)m.push(new mo(u,i,r,j.color(e),[],f=>{j.push();const t=Yn(j.color(e));t.setAlpha(f.duration*5),j.fill(t),On(f.pos.x,f.pos.y,i,0,1,t),j.pop()},()=>{},lt.Vector.random2D().mult(j.random(1,3))));return m},ur=Object.freeze({name:"Bard",discription:"The Bard sings songs to bolster their allies, though their support can be a bit random at times.",hp:750,hpScaling:15,damage:22,speed:gt*1.6,force:gt*.11,mass:1,gold:45,xp:115,baseLevel:36,songCooldown:250,songRange:We*5,songDuration:400,healPercentPerFrame:4e-4,protectionDamageReduction:.5,forceBuffAmount:2,speedBuffAmount:1.35,rgb:ia});class xg extends dr{constructor(r,e,m,d={}){super(r,e,m,d);z(this,"currentSongCooldown");z(this,"songCooldown");z(this,"songRange");z(this,"songDuration");z(this,"healPercentPerFrame");z(this,"protectionDamageReduction");z(this,"forceBuffAmount");z(this,"speedBuffAmount");this.currentSongCooldown=ur.songCooldown,this.songCooldown=ur.songCooldown,this.songRange=ur.songRange,this.songDuration=ur.songDuration,this.healPercentPerFrame=ur.healPercentPerFrame,this.protectionDamageReduction=ur.protectionDamageReduction,this.forceBuffAmount=ur.forceBuffAmount,this.speedBuffAmount=ur.speedBuffAmount,this.abilityCounters=["currentSongCooldown"]}update(){super.update(),this.currentSongCooldown--,this.currentSongCooldown<=0&&(this.currentSongCooldown=this.songCooldown,this.song())}song(){const r=Ft.inRangeCircle(this.pos,this.songRange),e=this.getRandomSong();for(const m of r)e.status?m.applyStatus(e.song,!0):e.song(m);for(const m of wg(this.pos,this.size,50,e.color))tt.addVisual(m)}getRandomSong(){return j.random([{song:gg(this.songDuration,this.healPercentPerFrame),color:ms,status:!0},{song:yg(this.songDuration,this.protectionDamageReduction),color:ei,status:!0},{song:vg(this.songDuration,this.forceBuffAmount),color:Zs,status:!0},{song:bg(this.songDuration,this.speedBuffAmount),color:No,status:!0},{song:this.getSongOfCleansing,color:Er,status:!1}])}getSongOfCleansing(r){r.cleanseAllStatuses()}}const _g=(u,i)=>new xg(u.x,u.y,lr,{desiredSpeed:ur.speed,maxForce:ur.force,hp:ur.hp+(i-ur.baseLevel)*ur.hpScaling,damage:ur.damage,goldValue:j.max(ur.gold-(i-ur.baseLevel),1),xpValue:ur.xp,color:j.color(ur.rgb)}),pr=Object.freeze({name:"Illusionist",discription:"The Illusionist has mastered the art of subversion, confusing your towers with her tricks.",hp:8e3,hpScaling:50,damage:300,speed:gt*1.15,force:gt*.19,mass:1,gold:500,xp:500,baseLevel:40,illusionCooldown:400,illusionStartCooldown:100,illusionHp:250,rgb:z0});class Sg extends dr{constructor(r,e,m,d={}){super(r,e,m,d);z(this,"currentIllusionCooldown");z(this,"illusionCooldown");z(this,"illusions");z(this,"illusionHp");this.currentIllusionCooldown=pr.illusionStartCooldown,this.illusionCooldown=pr.illusionCooldown,this.illusions=[],this.illusionHp=pr.illusionHp,this.abilityCounters=["currentIllusionCooldown"]}update(){super.update(),this.currentIllusionCooldown--,this.currentIllusionCooldown<=0&&(this.currentIllusionCooldown=this.illusionCooldown,this.castIllusions()),this.updateIllusions()}updateIllusions(){for(let r=this.illusions.length-1;r>=0;r--){const e=this.illusions[r];if(e.unit.hp<=0){this.illusions.splice(r,1);continue}const m=lt.Vector.add(this.hexPos,je.neighborVectorsRQ[e.pos]),d=je.getDiffVectorFromRQ(this.hexPos.x,this.hexPos.y,m.x,m.y),f=lt.Vector.add(this.pos,d);e.unit.pos.x=f.x,e.unit.pos.y=f.y}}show(){super.show(),this.showIllusions()}showIllusions(){for(const r of this.illusions){const e=je.getHexVectorFromXY(r.unit.pos.x,r.unit.pos.y);je.grid[e.x][e.y]===void 0||!je.grid[e.x][e.y].canUnit||(j.push(),j.noStroke(),j.fill([...pr.rgb,100]),aa(r.unit.pos,this.vel,r.unit.size,j.max(r.unit.hp/r.unit.maxHp,0),100),j.pop())}}castIllusions(){this.illusions=[];for(let r=0;r<je.neighborVectorsRQ.length;r++){const e=lt.Vector.add(this.hexPos,je.neighborVectorsRQ[r]),m=je.getDiffVectorFromRQ(this.hexPos.x,this.hexPos.y,e.x,e.y),d=lt.Vector.add(this.pos,m),f=new dr(d.x,d.y,this.size,{hp:this.illusionHp,color:j.color(pr.rgb)});this.illusions.push({unit:f,pos:r})}}insertIntoQuadTree(){Ft.insert(new ws(this.pos,this));for(const r of this.illusions){const e=je.getHexVectorFromXY(r.unit.pos.x,r.unit.pos.y);je.grid[e.x][e.y]===void 0||!je.grid[e.x][e.y].canUnit||Ft.insert(new ws(r.unit.pos,r.unit))}}}const jg=(u,i)=>new Sg(u.x,u.y,lr,{desiredSpeed:pr.speed,maxForce:pr.force,hp:pr.hp+(i-pr.baseLevel)*pr.hpScaling,damage:pr.damage,mass:pr.mass,goldValue:j.max(pr.gold-(i-pr.baseLevel),1),xpValue:pr.xp,color:j.color(pr.rgb),level:i});var Fe=(u=>(u[u.FARMER=0]="FARMER",u[u.SWORDSMAN=1]="SWORDSMAN",u[u.HEAVYWEIGHT=2]="HEAVYWEIGHT",u[u.BOMBER=3]="BOMBER",u[u.PALADIN=4]="PALADIN",u[u.BERSERKER=5]="BERSERKER",u[u.RUSHER=6]="RUSHER",u[u.HEALER=7]="HEALER",u[u.SUMMONER=8]="SUMMONER",u[u.KNIGHT=9]="KNIGHT",u[u.PROTECTOR=10]="PROTECTOR",u[u.COMMANDER=11]="COMMANDER",u[u.MERCENARY=12]="MERCENARY",u[u.BARD=13]="BARD",u[u.ILLUSIONIST=14]="ILLUSIONIST",u))(Fe||{});const Tg=(u,i,r,e=0,m=j)=>{const d=r/2,f=r*(3/8),t=r*(1/11),c={x:0,y:-d},h={x:0,y:d},g={x:f,y:-f},p={x:-f,y:-f};m.push(),m.translate(u,i),m.rotate(e),m.beginShape(),m.vertex(p.x,p.y),m.quadraticVertex(-t*2,-t*3,c.x,c.y),m.quadraticVertex(t*2,-t*3,g.x,g.y),m.quadraticVertex(t*4,t*5,h.x,h.y),m.quadraticVertex(-t*4,t*5,p.x,p.y),m.endShape(m.CLOSE),m.pop()},Eo={STEEL:{hpMultiplier:1.5,damageReductionFlatPerType:{PHYSICAL:2,POISON:0,FIRE:1,EXPLOSION:2,DROWN:0},damageReductionPercentPerType:{PHYSICAL:.5,POISON:0,FIRE:.5,EXPLOSION:1,DROWN:0},weight:1,color:Gc},MITHRIL:{hpMultiplier:3,damageReductionFlatPerType:{PHYSICAL:10,POISON:1,FIRE:5,EXPLOSION:10,DROWN:0},damageReductionPercentPerType:{PHYSICAL:2/3,POISON:.25,FIRE:2/3,EXPLOSION:1,DROWN:0},weight:.2,color:gs}};class Eg{constructor(i,r){z(this,"type");z(this,"hp");z(this,"maxHp");z(this,"hpPercentToAlpha");z(this,"damageReductionFlatPerType");z(this,"damageReductionPercentPerType");z(this,"weight");z(this,"color");this.type=i,this.maxHp=r*Eo[i].hpMultiplier,this.hp=r*Eo[i].hpMultiplier,this.hpPercentToAlpha=255,this.damageReductionFlatPerType=Eo[i].damageReductionFlatPerType,this.damageReductionPercentPerType=Eo[i].damageReductionPercentPerType,this.weight=Eo[i].weight,this.color=Eo[i].color}reduceDamage(i){i.amount=j.max(i.amount-this.damageReductionFlatPerType[i.type],0);const r=i.amount*this.damageReductionPercentPerType[i.type];return this.hp-=r,i.amount=j.max(i.amount-r,0),this.hpPercentToAlpha=55+this.hp/this.maxHp*200,i}show(i,r,e){j.push(),j.strokeWeight(1),j.stroke(this.color),j.fill([...this.color,this.hpPercentToAlpha]),Tg(i.x,i.y,r*.8),j.pop()}}class Mu{constructor(){}static getUnit(i,r,e,m){let d;switch(i){case Fe.FARMER:d=Eu(r,e);break;case Fe.SWORDSMAN:d=Xm(r,e);break;case Fe.HEAVYWEIGHT:d=Km(r,e);break;case Fe.BOMBER:d=zm(r,e);break;case Fe.PALADIN:d=Zm(r,e);break;case Fe.BERSERKER:d=yp(r,e);break;case Fe.RUSHER:d=cd(r,e);break;case Fe.HEALER:d=tg(r,e);break;case Fe.SUMMONER:d=ng(r,e);break;case Fe.KNIGHT:d=sg(r,e);break;case Fe.PROTECTOR:d=lg(r,e);break;case Fe.COMMANDER:d=fg(r,e);break;case Fe.MERCENARY:d=mg(r,e);break;case Fe.BARD:d=_g(r,e);break;case Fe.ILLUSIONIST:d=jg(r,e);break;default:console.log("Wrong input"),d=Eu(r,e);break}if(!m)return d;const f=new Eg(m,d.hp);return d.addArmor(f),d}}const dd={wave:[],message:"First come just some lowly Farmers, should be no issue."};for(let u=0;u<12;u++)dd.wave.push({unit:Fe.FARMER,cooldown:100});const hd={wave:[],message:"More of the same thing, just slightly closer together."};for(let u=0;u<15;u++)hd.wave.push({unit:Fe.FARMER,cooldown:70});const fd={wave:[],message:"Swordsmen are slightly stronger than farmers, still though, no self respecting overlord should be having issues at this point."};for(let u=0;u<12;u++)fd.wave.push({unit:Fe.SWORDSMAN,cooldown:90});const fa={wave:[],message:"This time they're both coming at you."};for(let u=0;u<7;u++){for(let i=0;i<2;i++)fa.wave.push({unit:Fe.FARMER,cooldown:35});fa.wave.push({unit:Fe.SWORDSMAN,cooldown:100})}const pa={wave:[],message:"Those cowardly Farmers think they're safer in groups. Let's show them how wrong they are."};for(let u=0;u<7;u++){for(let i=0;i<5;i++)pa.wave.push({unit:Fe.FARMER,cooldown:5});pa.wave.push({unit:Fe.FARMER,cooldown:160})}const co={wave:[],message:"The first Heavyweights are about to show up, they can take a hit, but are vulnerable to slow and push effects."};for(let u=0;u<2;u++)co.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:200}),co.wave.push({unit:Fe.SWORDSMAN,cooldown:25}),co.wave.push({unit:Fe.SWORDSMAN,cooldown:25}),co.wave.push({unit:Fe.SWORDSMAN,cooldown:220});co.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:125});co.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:125});const pd={wave:[],message:"So many Swordsmen almost make an army. Good thing overlords make a business out of squasing those."};for(let u=0;u<20;u++)pd.wave.push({unit:Fe.SWORDSMAN,cooldown:45});const md={wave:[],message:"Those Bombers carry explosives to blow up our base, but if you blow them up they'll damage their own allies."};for(let u=0;u<40;u++)md.wave.push({unit:Fe.BOMBER,cooldown:12});const Ns={wave:[],message:"Next is a nice mix of lots of weaklings and a few strong ones."};for(let u=0;u<4;u++){Ns.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:30});for(let i=0;i<15;i++)Ns.wave.push({unit:Fe.FARMER,cooldown:60});Ns.wave.push({unit:Fe.FARMER,cooldown:30})}const gd={wave:[],message:"A bonefide Paladin has heard of the 'evil' you've been up to, and has decided that should end. Look out for his divine blessing which slowly regenerates his health."};gd.wave.push({unit:Fe.PALADIN,cooldown:10});const yd={wave:[],message:"That's a lot of Swordsmen. They never learn do they."};for(let u=0;u<50;u++)yd.wave.push({unit:Fe.SWORDSMAN,cooldown:35});const Fs={wave:[],message:"Groups of heavies are a pain, but I bet you could use those bombers to your advantage."};for(let u=0;u<4;u++){for(let i=0;i<3;i++)Fs.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:4});Fs.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:210});for(let i=0;i<12;i++)Fs.wave.push({unit:Fe.BOMBER,cooldown:45})}const ma={wave:[],message:"Berserkers turn pain into pleasure, uhh, I mean, into a rage they use to rush right through your defenses."};for(let u=0;u<9;u++)ma.wave.push({unit:Fe.BERSERKER,cooldown:10}),ma.wave.push({unit:Fe.BERSERKER,cooldown:190});const ga={wave:[],message:"Next wave benefits from those sweet big hits me thinks."};for(let u=0;u<12;u++)ga.wave.push({unit:Fe.BERSERKER,cooldown:40}),ga.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:40});const ya={wave:[],message:"Slow and high health, this wave takes a while."};for(let u=0;u<3;u++){ya.wave.push({unit:Fe.PALADIN,cooldown:280});for(let i=0;i<8;i++)ya.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:130})}const vd={wave:[],message:"The first Rushers are about to show, they are a bit hard to deal with, but a few good hits should do the trick."};for(let u=0;u<22;u++)vd.wave.push({unit:Fe.RUSHER,cooldown:60});const Gs={wave:[],message:"Those Swordsmen mobs are still not giving up. This time they brought some Healers along."};for(let u=0;u<5;u++){Gs.wave.push({unit:Fe.HEALER,cooldown:35});for(let i=0;i<7;i++)Gs.wave.push({unit:Fe.SWORDSMAN,cooldown:25});Gs.wave.push({unit:Fe.SWORDSMAN,cooldown:190})}const Vs={wave:[],message:"Don't let those Healers do their thing!"};for(let u=0;u<13;u++)Vs.wave.push({unit:Fe.HEALER,cooldown:45}),Vs.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:45}),Vs.wave.push({unit:Fe.HEALER,cooldown:195});const rs={wave:[],message:"Rushers and Berserkers, it's a hectic round."};for(let u=0;u<7;u++)rs.wave.push({unit:Fe.BERSERKER,cooldown:30}),rs.wave.push({unit:Fe.RUSHER,cooldown:60}),rs.wave.push({unit:Fe.RUSHER,cooldown:60}),rs.wave.push({unit:Fe.RUSHER,cooldown:30});const bd={wave:[],message:"Best kill this Summoner quickly if you don't want to be overrun."};bd.wave.push({unit:Fe.SUMMONER,cooldown:10});const Hs={wave:[],message:"It seems one of these geniuses came up with the idea of actually wearing armor. And here I thought they all shared their one braincell."};for(let u=0;u<4;u++){for(let i=0;i<4;i++)Hs.wave.push({unit:Fe.SWORDSMAN,cooldown:40,armor:"STEEL"}),Hs.wave.push({unit:Fe.SWORDSMAN,cooldown:40});Hs.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:150,armor:"STEEL"})}const Rr={wave:[],message:"Some actual armor tidbits this time, you look like you need it :p. Armor mitigates small hits more than large ones, however poison goes straight through. Explosions on the other hand get fully absorbed."};for(let u=0;u<1;u++){for(let i=0;i<6;i++)Rr.wave.push({unit:Fe.FARMER,cooldown:25});Rr.wave.push({unit:Fe.FARMER,cooldown:300,armor:"STEEL"});for(let i=0;i<5;i++)Rr.wave.push({unit:Fe.SWORDSMAN,cooldown:25});Rr.wave.push({unit:Fe.SWORDSMAN,cooldown:300,armor:"STEEL"});for(let i=0;i<4;i++)Rr.wave.push({unit:Fe.BOMBER,cooldown:25});Rr.wave.push({unit:Fe.BOMBER,cooldown:300,armor:"STEEL"});for(let i=0;i<3;i++)Rr.wave.push({unit:Fe.BERSERKER,cooldown:25});Rr.wave.push({unit:Fe.BERSERKER,cooldown:300,armor:"STEEL"});for(let i=0;i<2;i++)Rr.wave.push({unit:Fe.RUSHER,cooldown:25});Rr.wave.push({unit:Fe.RUSHER,cooldown:300,armor:"STEEL"});for(let i=0;i<1;i++)Rr.wave.push({unit:Fe.HEALER,cooldown:25});Rr.wave.push({unit:Fe.HEALER,cooldown:300,armor:"STEEL"})}const va={wave:[],message:"The Knights are coming. They are pretty strong allrounders, their weakness however, is that they are friggin boring. Go have skill or quirk! Pathetic."};for(let u=0;u<4;u++){for(let i=0;i<2;i++)va.wave.push({unit:Fe.KNIGHT,cooldown:90});va.wave.push({unit:Fe.KNIGHT,cooldown:250})}const ba={wave:[],message:"Not sure they thought this combo through..."};for(let u=0;u<12;u++){ba.wave.push({unit:Fe.HEALER,cooldown:75});for(let i=0;i<3;i++)ba.wave.push({unit:Fe.BERSERKER,cooldown:100,armor:"STEEL"})}const yo={wave:[],message:"The Protectors figured out we like to shoot things at them, and will try to defend themselves and others. Rather weak once you do get them good though."};for(let u=0;u<5;u++)yo.wave.push({unit:Fe.PROTECTOR,cooldown:80});for(let u=0;u<5;u++)yo.wave.push({unit:Fe.PROTECTOR,cooldown:40}),yo.wave.push({unit:Fe.SWORDSMAN,cooldown:40,armor:"STEEL"});yo.wave.push({unit:Fe.PROTECTOR,cooldown:240});for(let u=0;u<1;u++){for(let i=0;i<5;i++)yo.wave.push({unit:Fe.PROTECTOR,cooldown:30,armor:"STEEL"});yo.wave.push({unit:Fe.KNIGHT,cooldown:20})}const Ws={wave:[],message:"Their armor gives them a little protection from their own explosions, but if you have some aoe this wave should be no issue."};for(let u=0;u<2;u++){Ws.wave.push({unit:Fe.PROTECTOR,cooldown:5,armor:"STEEL"});for(let i=0;i<100;i++)Ws.wave.push({unit:Fe.BOMBER,cooldown:3,armor:"STEEL"}),Ws.wave.push({unit:Fe.BOMBER,cooldown:3})}const wa={wave:[],message:"Looks like a Knight finally managed to find some armor shiny enough to suit his station."};for(let u=0;u<1;u++){for(let i=0;i<10;i++)wa.wave.push({unit:Fe.PROTECTOR,cooldown:35,armor:"STEEL"});wa.wave.push({unit:Fe.KNIGHT,cooldown:5,armor:"STEEL"})}const xa={wave:[],message:"Armored heavies don't have much of a chance of making it through, but this paladin has figured out they make pretty decent meat shields. Holy warrior indeed."};for(let u=0;u<1;u++){xa.wave.push({unit:Fe.PALADIN,cooldown:5});for(let i=0;i<8;i++)xa.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:200,armor:"STEEL"})}const ns={wave:[],message:"It's a military march huh, some big shot's gonna show soon."};for(let u=0;u<1;u++){for(let i=0;i<2;i++){for(let r=0;r<4;r++){for(let e=0;e<5;e++)ns.wave.push({unit:Fe.FARMER,cooldown:30,armor:"STEEL"});ns.wave.push({unit:Fe.SWORDSMAN,cooldown:60,armor:"STEEL"})}ns.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:120,armor:"STEEL"})}ns.wave.push({unit:Fe.KNIGHT,cooldown:240,armor:"STEEL"})}const os={wave:[],message:"You know I actually kind of respect this Commander. She manages to turn a random band of idiots into an effective force. Reminds me a little of myself."};for(let u=0;u<1;u++)os.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:55,armor:"STEEL"}),os.wave.push({unit:Fe.PROTECTOR,cooldown:15,armor:"STEEL"}),os.wave.push({unit:Fe.COMMANDER,cooldown:8}),os.wave.push({unit:Fe.HEAVYWEIGHT,cooldown:15,armor:"STEEL"});const wd={wave:[],message:"The bad news is that that's a lot of Knights, the good news is that we can sell their stuff for a nice price."};for(let u=100;u>0;u--)wd.wave.push({unit:Fe.KNIGHT,cooldown:u+50});const _a={wave:[],message:"Some Mercenaries are scouting ahead of their main force. These guys are more interested in the bounty on monsters they kill than actually fighting you."};for(let u=0;u<4;u++){for(let i=0;i<5;i++)_a.wave.push({unit:Fe.MERCENARY,cooldown:15});_a.wave.push({unit:Fe.MERCENARY,cooldown:120,armor:"STEEL"})}const ss={wave:[],message:"Now it's some more Mercenaries, this time properly protecting their charges."};for(let u=0;u<2;u++){ss.wave.push({unit:Fe.HEALER,cooldown:10}),ss.wave.push({unit:Fe.PROTECTOR,cooldown:10});for(let i=0;i<3;i++){for(let r=0;r<8;r++)ss.wave.push({unit:Fe.SWORDSMAN,cooldown:5,armor:"STEEL"});ss.wave.push({unit:Fe.MERCENARY,cooldown:20,armor:"STEEL"})}}const Sa={wave:[],message:"Would you like to meet an armored Paladin? How about an armored Summoner?.. How about both..."};for(let u=0;u<1;u++)Sa.wave.push({unit:Fe.PALADIN,cooldown:350,armor:"STEEL"}),Sa.wave.push({unit:Fe.SUMMONER,cooldown:350,armor:"STEEL"});const Co={wave:[],message:"Well aren't we lucky, a few Commanders squabbling over the best way to approach our base. Best kill them quick before reinforcements arrive."};for(let u=0;u<1;u++){for(let i=0;i<2;i++)Co.wave.push({unit:Fe.COMMANDER,cooldown:10});Co.wave.push({unit:Fe.COMMANDER,cooldown:500});for(let i=0;i<7;i++)Co.wave.push({unit:Fe.KNIGHT,cooldown:20});Co.wave.push({unit:Fe.KNIGHT,cooldown:200});for(let i=0;i<20;i++)Co.wave.push({unit:Fe.RUSHER,cooldown:10})}const _n={wave:[],message:"Some Bards are tagging along with the troops, mostly to induldge in the afterparty of your defeat I'm sure."};for(let u=0;u<1;u++){for(let i=0;i<30;i++)_n.wave.push({unit:Fe.FARMER,cooldown:4,armor:"STEEL"});_n.wave.push({unit:Fe.BARD,cooldown:225});for(let i=0;i<25;i++)_n.wave.push({unit:Fe.SWORDSMAN,cooldown:7,armor:"STEEL"});_n.wave.push({unit:Fe.BARD,cooldown:275});for(let i=0;i<10;i++)_n.wave.push({unit:Fe.BERSERKER,cooldown:15});_n.wave.push({unit:Fe.BARD,cooldown:325}),_n.wave.push({unit:Fe.BARD,cooldown:25});for(let i=0;i<8;i++)_n.wave.push({unit:Fe.RUSHER,cooldown:25})}const zs={wave:[],message:"It's the support squad! And they are supporting, uhh, each other."};for(let u=0;u<10;u++)zs.wave.push({unit:Fe.HEALER,cooldown:20}),zs.wave.push({unit:Fe.PROTECTOR,cooldown:20}),zs.wave.push({unit:Fe.BARD,cooldown:110});const qs={wave:[],message:"Please kill these guys quickly, they were loud enough before they started drinking."};for(let u=0;u<9;u++){qs.wave.push({unit:Fe.MERCENARY,cooldown:20,armor:"STEEL"});for(let i=0;i<2;i++)qs.wave.push({unit:Fe.BERSERKER,cooldown:20});qs.wave.push({unit:Fe.BARD,cooldown:200})}const xd={wave:[],message:"The best way to kill an evil overlord is to send wave after wave. Well that's the theory anyway. These Summoners are going to test that theory."};for(let u=0;u<5;u++)xd.wave.push({unit:Fe.SUMMONER,cooldown:5});const _d={wave:[],message:"Last wave for Easy. This Illusionist will show you a good time....  .   .   .   .   Get it?"};for(let u=0;u<1;u++)_d.wave.push({unit:Fe.ILLUSIONIST,cooldown:200});const Au={1:dd,2:hd,3:fd,4:fa,5:pa,6:co,7:pd,8:md,9:Ns,10:gd,11:yd,12:Fs,13:ma,14:ga,15:ya,16:vd,17:Gs,18:Vs,19:rs,20:bd,21:Hs,22:Rr,23:va,24:ba,25:yo,26:Ws,27:wa,28:xa,29:ns,30:os,31:wd,32:_a,33:ss,34:Sa,35:Co,36:_n,37:zs,38:qs,39:xd,40:_d},Cg=u=>u in Au?Au[u]:-1,Sd="waveDone",jd="waveUpdated";class Ru{constructor(){z(this,"currentCooldown");z(this,"spawns");z(this,"currentSpawn");z(this,"currentWave");z(this,"currentMessage");z(this,"nextWaveSpawnIndex");z(this,"currentWaveNumber");z(this,"baseWaveReward");z(this,"flatWaveReward");this.currentCooldown=10,this.spawns=[],this.currentSpawn=0,this.currentWaveNumber=0,this.nextWaveSpawnIndex=0,this.baseWaveReward=250,this.flatWaveReward=500,this.currentWave=[],this.currentMessage="",this.startNextWave()}update(){const i=this.currentWave[this.nextWaveSpawnIndex];if(i===void 0)return Sd;if(this.currentCooldown--,this.currentCooldown>0)return jd;const r=Mu.getUnit(i.unit,this.spawns[this.currentSpawn].pos,this.currentWaveNumber,i.armor);return this.nextWaveSpawnIndex++,this.currentCooldown=i.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,r}setActiveSpawners(i){this.spawns=i,this.currentSpawn=0}startNextWave(){this.nextWaveSpawnIndex=0,this.currentWaveNumber++;const i=Cg(this.currentWaveNumber);i===-1?(this.currentWave=this.generateRandomWave(),this.currentMessage="Random waves from now on. How far can you get?"):(this.currentWave=i.wave,this.currentMessage=i.message)}generateRandomWave(){const i=Object.keys(Fe).length/2,r=120,e=[];let m=this.currentWaveNumber**2*100;for(;m>0;){const d={unit:Math.floor(Math.random()*i),cooldown:j.max(Math.ceil(Math.random()*r-e.length),2)},f=d.unit**2*10+(r-d.cooldown);e.push(d),m-=f}return e}endWave(){return this.currentCooldown=10,this.flatWaveReward}getMessage(){return this.currentMessage}killCurrentWaveWithGold(){let i=0;for(;this.nextWaveSpawnIndex<this.currentWave.length;){const r=this.currentWave[this.nextWaveSpawnIndex];if(r===void 0)return i;const e=Mu.getUnit(r.unit,this.spawns[this.currentSpawn].pos,this.currentWaveNumber,r.armor);this.nextWaveSpawnIndex++,this.currentCooldown=r.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,i+=e.goldValue}return i}skipToWaveWithProperGold(i){let r=this.killCurrentWaveWithGold();for(let e=this.currentWaveNumber;e<i-1;e++)r+=this.endWave(),this.startNextWave(),r+=this.killCurrentWaveWithGold();return this.currentWaveNumber=i-1,r}}class Mg{constructor(i={}){z(this,"units");z(this,"spawners");z(this,"spawnSize");z(this,"spawnFlat");z(this,"unitSize");z(this,"color");z(this,"nextId");z(this,"waveReader");this.units=[],this.spawners=[],this.spawnSize=i.spawnSize??32,this.spawnFlat=i.spawnFlat??!1,this.unitSize=i.unitSize??20,this.color=i.color??j.color(Hn),this.nextId=0,this.waveReader=new Ru}reset(){this.units=[],this.spawners=[],this.nextId=0,this.waveReader=new Ru}addSpawn(i,r,e=this.spawnSize,m={}){this.spawners.push(new mp(i,r,e,{unitSize:this.unitSize,flat:this.spawnFlat,color:this.color,...m}))}addUnit(i={}){const r=i.fromSpawn??j.floor(j.random(this.spawners.length));this.spawners[r]!==void 0&&(this.units.push(this.spawners[r].spawnUnit({color:i.color,id:this.nextId,...i})),this.nextId++)}addUnitViaWaveReader(i,r={}){const e=r.fromSpawn??j.floor(j.random(this.spawners.length));this.spawners[e]!==void 0&&(this.units.push(this.spawners[e].spawnUnitViaWaveReader(i)),this.nextId++)}update(){this.updateWaveReader(),this.updateSpawns(),this.updateUnits()}updateSpawns(){for(let i=this.spawners.length-1;i>=0;i--)this.spawners[i].update()}updateUnits(){for(let i=this.units.length-1;i>=0;i--)this.units[i].update()}show(){this.showSpawns(),this.showUnits()}showSpawns(){for(let i=this.spawners.length-1;i>=0;i--)this.spawners[i].show()}showUnits(){for(let i=this.units.length-1;i>=0;i--)this.units[i].show()}updateAndShow(){const i=this.updateWaveReader();return this.updateAndShowSpawns(),this.updateAndShowUnits(),i}updateAndShowSpawns(){for(let i=this.spawners.length-1;i>=0;i--)this.spawners[i].update(),this.spawners[i].show()}updateAndShowUnits(){for(let i=this.units.length-1;i>=0;i--)this.units[i].update(),this.units[i].show();Ft.emptyQuadTree();for(let i=this.units.length-1;i>=0;i--){const r=this.units[i];tt.unitReachedBase(r,je)?this.units.splice(i,1):r.dead?(tt.unitDied(r),this.units.splice(i,1)):r.insertIntoQuadTree()}}updateWaveReader(){const i=this.waveReader.update();if(i===Sd){if(this.units.length===0)return this.waveCleared(),!0}else i!==jd&&this.addUnitViaWaveReader(i);return!1}waveCleared(){const i=this.waveReader.endWave();tt.gold+=i,this.waveReader.startNextWave()}}const Ag=new Mg({color:j.color(Hr),spawnSize:We,unitSize:lr}),Xt=Ag,Rg=(u,i,r,e,m=j.random(Yo),d=je.wallRing,f=vt.HILL)=>{Ja(m,"A"),je.resetData(),je.addRandomWalls(100,f);const t=je.grid[u][i];t.data={...t.data,prev:void 0,visited:!0},je.setTileType(t,Oo.EMPTY);const c=je.grid[r][e];je.setTileType(c,Oo.EMPTY);let h=t;for(;h!==void 0;){const g=je.getNeighbors(h.r,h.q);for(const n of g)n.data.visited=!0;const p=je.getGrandNeighbors(h.r,h.q,d);for(let n=p.length-1;n>=0;n--)p[n].data.visited&&p.splice(n,1);const o=j.random(p);if(o===void 0){if(h=h.data.prev,h===void 0)return je.resetData(),!0}else{o.data.visited=!0,je.setTileType(o,Oo.EMPTY),o.data.prev=h;const n=j.createVector(h.r,h.q),s=o.r-h.r,a=o.q-h.q;if(j.abs(s)%2===0?n.x+=s/2:j.random()>.5&&(n.x+=s),j.abs(a)%2===0)n.y+=a/2;else{let v=0;j.random()>.5&&(v=a),n.y+=v,(h.r===n.x&&h.q===n.y||o.r===n.x&&o.q===n.y)&&(v===0?n.y+=a:n.y+=a*-1)}const l=je.grid[n.x][n.y];je.setTileType(l,Oo.EMPTY),h=o}}return!1},Og=(u,i,r,e,m=j.random(Yo),d=vt.HILL,f=vt.EMPTY)=>{Ja(m,"B"),je.addRandomWalls(5,vt.LAVA),je.addRandomWalls(30,d),je.addRandomWalls(20,vt.WATER);const t=je.aStar(u,i,r,e);je.breakWallsInArray(t,f),je.resetData()},Ja=(u,i)=>{const r=j.floor(u);j.randomSeed(r),console.log(`${i}${r}`)},el=()=>{je.setBuilderTileType(je.grid[je.midR][je.maxQ],vt.BASE),je.setBuilderTileType(je.grid[je.midR][je.minQ],vt.SPAWN)},Pg=(u=j.random(Yo),i=void 0,r=vt.HILL)=>{Ja(u,"C"),je.resetData(),je.addRandomWalls(100,r);const e=je.grid[je.midR][je.midQ];e.data={...e.data,prev:void 0,visited:!0},je.setBuilderTileType(e,vt.BASE);let m=e;const d=je.getNeighborsArea(m.r,m.q,2);for(const o of d)je.setBuilderTileType(o,vt.EMPTY);i===void 0&&(i=j.ceil(j.random(19,30)));let f=0,t=2,c=0,h=0;for(;m!==void 0&&f<i;){const o=j.random(je.neighborVectorsRQ),n=j.round(j.random(4,10));let s=vt.EMPTY;j.random()<.3&&(s=j.random()<.2?vt.UNSTABLE:vt.WATER);let a=!1;for(let w=0;w<n;w++){const x=m.r+o.x,_=m.q+o.y;if(!je.rqVectorIsOnGrid(j.createVector(x,_),je.wallRing)||x===e.r&&_===e.q){a=!0,m=e;break}m=je.grid[x][_],!(w<t)&&je.setBuilderTileType(m,s)}if(a)continue;t=j.random()<.15?2:1;let l=vt.EMPTY;j.random()<.3?(l=j.random()<.3?vt.LAVA:vt.WATER,je.setBuilderTileType(m,l)):j.random()<.2?j.random()<.5?je.setBuilderTileType(m,vt.TELEPORTER_ONE):je.setBuilderTileType(m,vt.TELEPORTER_TWO):je.setBuilderTileType(m,l);const v=je.getNeighborsArea(m.r,m.q,t);if(je.hexInArray(e,v)){m=e;continue}for(const w of v)je.setBuilderTileType(w,l);if(f++,f===i){const w=je.getAllTiles();let x=0,_=0;for(const E of w)E.type===vt.EMPTY&&_++,E.type===vt.HILL&&x++;x>_&&f--}}const g=je.getAllTiles();for(const o of g)o.type===vt.TELEPORTER_ONE&&c++,o.type===vt.TELEPORTER_TWO&&h++;if(c===1)for(;;){const o=j.random(g);if(!(o.type===vt.WALL||o.type===vt.BASE||o.isTeleporter)){je.setBuilderTileType(o,vt.TELEPORTER_ONE);break}}if(h===1)for(;;){const o=j.random(g);if(!(o.type===vt.WALL||o.type===vt.BASE||o.isTeleporter)){je.setBuilderTileType(o,vt.TELEPORTER_TWO);break}}je.addAllTeleports();let p=!1;for(;!p;)for(let o=0;o<3;o++){const n=j.random(g),s=je.aStar(n.r,n.q,e.r,e.q);if(s.length<8)continue;let a=!0;for(const l of s)if(!l.canUnit){a=!1;break}a&&(je.setBuilderTileType(n,vt.SPAWN),p=!0)}return!0},kg=()=>{je.reConstructGrid(),el();const u=je.generateJsonableMap();return je.reConstructGrid(),u},Lg={name:"Open",map:kg()},Dg=()=>{je.reConstructGrid(),Rg(je.rings,1,je.rings,je.rings*2-1,j.random(Yo),1),el();const u=je.generateJsonableMap();return je.reConstructGrid(),u},Ig={name:"Random Pathways",map:Dg()},Bg=()=>{je.reConstructGrid(),Og(je.rings,1,je.rings,je.rings*2-1,j.random(Yo),vt.HILL),el();const u=je.generateJsonableMap();return je.reConstructGrid(),u},Ug={name:"Random Caverns",map:Bg()},Ng=()=>{je.reConstructGrid(),Pg(j.random(Yo));const u=je.generateJsonableMap();return je.reConstructGrid(),u},Fg={name:"Random Chambers",map:Ng()},Gg={name:"Lake Base",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3],[0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3],[0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3],[6,0,0,0,4,4,4,4,4,4,4,4,4,7,0,0,0,0,0,0,0,1,0,0,0,0,3],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Vg={name:"Lakes Race",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,1,1,1,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3],[0,0,0,0,0,0,0,0,0,3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3],[0,0,0,0,0,0,0,0,3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3],[0,0,0,0,3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3],[0,0,0,3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3,0,0],[3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3,0,0,0],[3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3,0,0,0,0],[3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3,0,0,0,0,0],[3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3,0,0,0,0,0,0,0,0],[3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,1,1,1,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Hg={name:"The Wheel",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3],[0,0,0,0,0,3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3],[0,0,0,0,3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3],[0,0,0,3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3],[0,0,3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[6,0,1,1,1,1,1,1,1,1,1,1,0,7,0,1,1,1,1,1,1,1,1,1,1,0,3],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3,0,0],[3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3,0,0,0],[3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3,0,0,0,0],[3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3,0,0,0,0,0],[3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3,0,0,0,0,0,0,0],[3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3,0,0,0,0,0,0,0,0],[3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Wg={name:"Time Moves Ever Onward",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3],[0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3],[0,0,0,0,0,0,0,0,3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3],[0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3],[0,0,0,0,0,0,3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3],[0,0,0,0,3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3],[0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3],[0,0,3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3],[0,3,4,1,4,4,4,1,4,4,1,4,3,0,0,3,4,1,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,4,1,4,4,4,1,4,3,2,3,4,1,4,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,1,4,4,4,1,4,3,0,0,3,4,1,4,4,4,1,4,4,1,4,3,0],[3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3,0,0],[3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0],[3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0],[3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3,0,0,0,0,0,0],[3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0],[3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3,0,0,0,0,0,0,0,0],[3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0],[3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3,0,0,0,0,0,0,0,0,0,0],[3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,7,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},zg={name:"Hillside Flowers",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,2,0,0,0,0,0,0,0,0,0,0,0,2,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,1,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,1,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,1,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,1,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,1,0,1,0,1,1,1,1,0,0,1,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,5,0,0,0,2,2,0,3],[6,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,7,2,0,0,2,0,2,2,3],[3,0,0,0,0,0,1,0,1,0,1,0,1,0,0,1,0,5,5,2,0,2,0,0,0,3,0],[3,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,0,0,2,2,0,0,0,3,0,0],[3,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,3,0,0,0,0],[3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,2,0,0,0,0,0,0,0,0,0,0,0,2,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},qg={name:"Big Nope",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3],[0,3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3],[6,0,0,0,1,0,7,0,5,0,4,4,0,1,0,4,4,0,5,0,7,0,1,0,0,0,6],[3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3,0],[3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[6,3,3,3,3,3,3,3,3,3,3,3,3,6,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Yg={name:"Cross Over",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,6,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,4,4,4,4,4,4,4,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,1,0,0,4,4,4,4,4,4,0,0,0,0,0,1,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,0,1,0,0,4,4,4,4,0,1,0,1,0,1,0,0,3],[0,0,0,0,0,0,0,3,0,1,0,1,0,0,4,4,4,0,1,0,1,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,1,0,0,4,4,0,0,0,1,0,1,0,4,4,0,3],[0,0,0,0,0,3,0,1,0,1,0,1,0,0,4,0,0,0,0,0,1,0,4,0,4,0,3],[0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,4,0,0,4,0,3],[0,0,0,3,0,1,0,1,0,1,0,1,0,0,0,1,0,0,1,0,4,0,4,0,4,0,3],[0,0,3,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,4,0,4,4,0,4,0,3],[0,3,0,1,0,1,0,1,0,1,0,1,0,0,0,0,1,0,4,0,4,0,4,0,4,0,3],[6,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,4,0,0,4,0,0,0,7],[3,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,0,4,4,0,0,0,4,4,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,0,0,0,0,3,0,0],[3,1,0,1,0,1,0,1,0,0,0,1,1,0,4,0,0,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,0,4,0,0,0,3,0,0,0,0],[3,1,0,1,0,1,0,0,0,0,1,1,0,0,4,4,0,0,4,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0],[3,1,0,1,0,0,0,0,1,0,0,1,0,4,4,4,0,4,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0],[3,1,0,0,0,0,1,0,0,0,0,1,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,5,5,0,1,0,0,0,0,0,1,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,1,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,1,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,7,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Xg={name:"Island Temple",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3],[0,0,0,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3],[0,0,0,3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3],[0,0,3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3],[0,3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3],[3,4,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,4,3,4,4,5,4,4,3],[3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3,0],[3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3,0,0],[3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3,0,0,0],[3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},$g={name:"Whirlpool",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,1,1,1,1,1,1,1,1,1,1,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,4,4,4,4,4,4,4,4,4,4,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,4,0,0,0,0,0,0,0,0,0,4,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,4,0,1,1,1,1,1,1,1,1,0,4,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,4,0,1,0,0,0,0,0,0,0,1,0,4,0,1,0,3],[0,0,0,0,0,3,0,1,0,4,0,1,0,4,4,4,4,4,4,0,1,0,4,0,1,0,3],[0,0,0,0,3,0,1,0,4,0,1,0,4,0,0,0,0,0,4,0,1,0,4,0,1,0,3],[0,0,0,3,0,1,0,4,0,1,0,4,0,1,1,1,1,0,4,0,1,0,4,0,1,0,3],[0,0,3,0,1,0,4,0,1,0,4,0,1,5,0,0,1,0,4,0,1,0,4,0,1,0,3],[0,3,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,3],[7,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,6],[3,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,3,0],[3,0,4,0,1,0,4,0,1,0,4,0,0,5,4,0,1,0,4,0,1,0,4,0,3,0,0],[3,0,4,0,1,0,4,0,1,0,4,4,4,4,0,1,0,4,0,1,0,4,0,3,0,0,0],[3,0,4,0,1,0,4,0,1,0,0,0,0,0,1,0,4,0,1,0,4,0,3,0,0,0,0],[3,0,4,0,1,0,4,0,1,1,1,1,1,1,0,4,0,1,0,4,0,3,0,0,0,0,0],[3,0,4,0,1,0,4,0,0,0,0,0,0,0,4,0,1,0,4,0,3,0,0,0,0,0,0],[3,0,4,0,1,0,4,4,4,4,4,4,4,4,0,1,0,4,0,3,0,0,0,0,0,0,0],[3,0,4,0,1,0,0,0,0,0,0,0,0,0,1,0,4,0,3,0,0,0,0,0,0,0,0],[3,0,4,0,1,1,1,1,1,1,1,1,1,1,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,4,4,4,4,4,4,4,4,4,4,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Kg={name:"Tri Hard",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,4,0,0,0,0,6,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,9,3,4,0,0,0,0,0,0,0,0,0,3,8,3],[0,0,0,0,0,0,0,0,0,0,3,0,3,4,4,4,4,0,0,0,0,0,0,0,3,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,3,4,4,4,4,0,0,0,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,3,0,4,4,4,0,0,0,5,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,3,0,4,4,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,5,5,5,0,3,0,0,0,0,3],[0,0,0,0,3,0,0,5,5,3,0,1,1,1,1,1,0,0,0,0,0,3,4,4,0,0,3],[0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3],[0,0,3,5,5,5,0,0,3,0,0,0,1,1,0,0,1,1,0,0,3,0,0,4,4,4,3],[0,3,0,0,0,0,0,0,3,0,0,1,4,1,0,1,4,1,0,3,0,0,0,0,0,0,3],[3,0,0,5,5,5,5,3,0,0,0,1,1,0,0,1,1,0,0,3,4,4,4,4,0,0,3],[3,0,0,0,0,0,0,3,0,0,0,0,0,5,0,0,0,0,3,0,0,0,0,0,0,3,0],[3,5,5,5,0,0,3,0,0,0,0,0,0,5,0,0,0,0,3,0,0,4,4,4,3,0,0],[3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0],[3,0,0,5,5,3,0,0,0,0,1,0,1,0,0,0,0,3,4,4,0,0,3,0,0,0,0],[3,0,0,0,0,3,0,0,2,2,0,0,2,2,0,0,3,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,3,0,0,0,1,2,7,2,1,0,0,0,3,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,3,0,0,0,0,2,2,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,1,0,1,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,3,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0],[3,6,3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,0],[3,3,9,0,0,0,0,0,0,0,0,0,8,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Qg={name:"Hero's Journey",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,0,5,0,0,8,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,0,0,8,8,8,3],[0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,8,3],[0,0,0,0,0,0,0,0,3,4,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,5,5,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,0,5,4,5,0,5,5,5,0,5,5,5,5,5,5,5,0,0,3],[0,0,0,0,0,3,0,5,0,5,5,0,5,5,5,0,5,5,0,0,0,0,0,5,0,0,3],[0,0,0,0,3,0,5,5,0,0,0,5,5,5,5,0,5,0,5,5,5,5,0,5,0,0,3],[0,0,0,3,0,5,5,5,5,5,5,5,5,5,0,0,0,5,5,5,0,0,5,0,0,0,3],[0,0,3,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,5,5,0,0,0,0,3],[0,3,5,0,0,0,0,0,5,5,5,5,5,5,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,7,5,5,5,5,5,0,5,5,5,0,0,0,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,0,0,0,5,5,5,0,5,5,0,5,5,0,5,5,5,5,0,5,0,0,0,0,0,3,0],[3,5,5,0,5,5,5,0,0,0,5,5,5,0,5,5,5,0,5,0,0,0,0,0,3,0,0],[3,5,5,0,0,0,5,5,5,5,5,5,5,0,5,5,5,0,5,0,0,0,0,3,0,0,0],[3,5,5,5,5,0,5,5,5,5,5,0,0,5,5,0,0,5,0,0,0,0,3,0,0,0,0],[3,5,0,0,5,0,5,5,0,0,0,5,5,0,0,5,5,0,0,0,0,3,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,5,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,5,5,5,0,0,5,0,0,0,5,5,0,0,0,0,0,8,3,0,0,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,0,0,0,8,8,3,0,0,0,0,0,0,0,0],[3,0,0,5,5,0,0,5,0,0,0,0,0,0,8,8,8,3,0,0,0,0,0,0,0,0,0],[3,5,5,0,0,5,5,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,5,5,0,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0],[3,6,5,0,0,0,0,0,0,8,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Zg={name:"Royal Road",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,0,0,0,0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,0,0,3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3],[0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0],[3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3,0,0,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Jg={name:"Long Way Around",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,8,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,3,3,9,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,3,0,3,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,3,3,5,5,3,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,3,3,5,5,0,5,3,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,3,3,5,5,0,0,5,3,0,4,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,0,3,3,5,5,0,5,5,0,5,3,0,4,0,3],[0,0,0,0,0,3,0,0,0,0,0,3,3,5,5,0,0,5,0,5,5,3,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,3,3,5,5,0,5,5,0,5,5,0,5,3,0,0,0,0,3],[0,0,0,3,0,0,0,3,3,0,5,0,0,5,0,5,5,0,0,5,3,0,4,0,0,0,3],[0,0,3,0,0,3,3,0,0,0,5,5,0,5,5,0,5,5,0,5,3,0,4,0,4,0,3],[0,3,6,3,3,0,0,1,0,0,0,5,5,0,0,5,0,5,5,3,0,4,0,4,0,0,3],[3,3,3,0,0,0,0,0,0,0,0,0,5,5,0,5,5,0,0,3,0,4,0,4,0,0,3],[3,7,0,1,0,1,0,1,0,1,0,0,0,5,5,0,0,0,3,0,4,0,4,0,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,4,0,3,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,3,0,4,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,3,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,3,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,3,0,4,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,3,8,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,9,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},ey={name:"Betrayal",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,8,0,0,0,0,0,0,0,0,0,9,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,8,3,0,0,0,0,0,0,0,0,0,0,3,9,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,3],[3,6,0,0,0,0,0,0,0,0,0,0,9,7,8,0,0,0,0,0,0,0,0,0,0,6,3],[3,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,8,3,0,0,0,0,0,0,0,0,0,0,3,9,3,0,0,0,0,0,0,0,0,0,0,0],[3,3,8,0,0,0,0,0,0,0,0,0,9,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},ty={name:"Escape Pompeii",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,5,5,5,5,5,5,5,5,5,5,5,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,3,0,0,5,0,0,0,5,5,5,5,5,5,5,0,0,0,5,0,0,3],[0,0,0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,3,0,0,5,0,0,0,5,0,0,0,5,5,5,0,0,0,5,0,0,0,5,0,0,3],[0,3,0,0,5,0,0,0,5,0,0,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,3],[3,0,0,5,0,0,0,5,0,0,0,5,0,6,0,5,0,0,0,5,0,0,0,5,0,0,3],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,7,3,0],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,3,0,0],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0],[3,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0],[3,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0],[3,0,5,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0,0],[3,0,5,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0],[3,0,5,0,5,0,0,5,0,0,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,5,0,0,0,0,5,0,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,5,0,0,0,0,5,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,5,5,5,5,5,5,5,5,5,5,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},ry={name:"Two Way Road",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,1,7,1,0,0,0,0,0,0,0,4,4,4,3],[0,0,0,0,0,0,0,0,0,0,0,3,6,1,0,1,0,0,0,0,0,0,0,0,4,4,3],[0,0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,0,0,4,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,1,1,1,1,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,1,0,1,0,0,1,0,0,0,0,1,1,1,1,0,0,0,0,3],[0,0,0,0,0,3,0,1,0,1,0,0,1,0,1,1,0,0,0,0,0,1,0,0,0,0,3],[0,0,0,0,3,0,1,0,0,0,1,1,0,0,0,1,0,0,0,0,0,1,1,1,0,0,3],[0,0,0,3,0,0,1,0,0,1,0,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,1,1,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,1,1,1,3],[0,3,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,1,1,0,0,0,3],[3,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0,3],[3,0,0,0,1,1,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,3,0],[3,1,1,1,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,1,1,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,1,0,0,1,0,0,3,0,0,0],[3,0,0,1,1,1,0,0,0,0,0,1,0,0,0,1,1,0,0,0,1,0,3,0,0,0,0],[3,0,0,0,0,1,0,0,0,0,0,1,1,0,1,0,0,1,0,1,0,3,0,0,0,0,0],[3,0,0,0,0,1,1,1,1,0,0,0,0,1,0,0,1,0,1,0,3,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,1,1,1,1,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0],[3,4,0,0,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0,0],[3,4,4,0,0,0,0,0,0,0,0,1,0,1,6,3,0,0,0,0,0,0,0,0,0,0,0],[3,4,4,4,0,0,0,0,0,0,0,1,7,1,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},ny="/assets/Open-bc45d700.png",oy="/assets/Pathways-fa8baac1.png",sy="/assets/Caverns-57f8e0cb.png",iy="/assets/Chambers-c72833e5.png",ay="/assets/Lake Base-cadaed5e.png",ly="/assets/Lakes Race-cb1400b3.png",uy="/assets/The Wheel-5d281f5a.png",cy="/assets/Time Moves Ever Onward-c9082887.png",dy="/assets/Hillside Flowers-7e2294fa.png",hy="/assets/Big Nope-a0d1f9ab.png",fy="/assets/Cross Over-108367c2.png",py="/assets/Island Temple-a4299b0b.png",my="/assets/Whirlpool-38be4ce4.png",gy="/assets/Tri Hard-c2de4389.png",yy="/assets/Hero's Journey-91334804.png",vy="/assets/Royal Road-c45d9ac4.png",by="/assets/Long Way Around-dbc21f2e.png",wy="/assets/Betrayal-417fa407.png",xy="/assets/Escape Pompeii-ce51058b.png",_y="/assets/Two Way Road-100b7ad0.png",Ou=[{map:Lg,image:ny,complexity:"Simple"},{map:Ig,image:oy,complexity:"Simple"},{map:$g,image:my,complexity:"Simple"},{map:Jg,image:by,complexity:"Simple"},{map:ty,image:xy,complexity:"Simple"},{map:Gg,image:ay,complexity:"Simple"},{map:Hg,image:uy,complexity:"Simple"},{map:Ug,image:sy,complexity:"Average"},{map:Fg,image:iy,complexity:"Average"},{map:Vg,image:ly,complexity:"Average"},{map:Wg,image:cy,complexity:"Average"},{map:zg,image:dy,complexity:"Average"},{map:Yg,image:fy,complexity:"Average"},{map:ry,image:_y,complexity:"Average"},{map:Xg,image:py,complexity:"Average"},{map:Zg,image:vy,complexity:"Average"},{map:qg,image:hy,complexity:"Complex"},{map:Kg,image:gy,complexity:"Complex"},{map:Qg,image:yy,complexity:"Complex"},{map:ey,image:wy,complexity:"Evil"}],Sy=["Simple","Average","Complex","Evil"],jy=u=>u==="Simple"?"Average":u==="Average"?"Complex":"Evil",Ty={class:"difficulty-select"},Ey={class:Ho("button-div")},Cy=["onClick"],My={class:"button-div"},Ay=br("h3",null,"Select other map",-1),Ry=[Ay],Oy=Ga({__name:"SelectDifficulty",emits:["selectedDifficulty","reselectMap"],setup(u,{emit:i}){const r=Qs(()=>{const m=[];for(const d in la)m.push({...la[d],unlocked:mt.unlockedDifficulties[d]});return m}),e=m=>{m.unlocked&&i("selectedDifficulty",m)};return(m,d)=>(Tr(),Zr("div",Ty,[(Tr(!0),Zr(kr,null,gc(fo(r),f=>(Tr(),Zr("div",Ey,[br("button",{class:Ho(`${"button "+(f.unlocked?"":"locked ")+f.name}`),onClick:t=>e(f)},[br("h3",null,Hi(f.name),1)],10,Cy)]))),256)),br("div",My,[br("button",{class:"button cancel",onClick:d[0]||(d[0]=f=>i("reselectMap"))},Ry)])]))}});const Py={key:1},ky={class:"all-maps"},Ly=["onClick"],Dy=["src"],Iy=br("h1",null,"<",-1),By=[Iy],Uy=br("h1",null,">",-1),Ny=[Uy],Fy=Ga({__name:"SelectMap",setup(u){const i=is(1),r=Qs(()=>(i.value-1)*6),e=Qs(()=>{const p=[];for(const o of Ou.slice(r.value,r.value+6))p.push({...o,unlocked:mt.unlockedMapComplexities[o.complexity]});return p}),m=is(null),d=is(!1),f=p=>{p.unlocked&&(m.value=p,d.value=!0)},t=()=>{m.value=null,d.value=!1},c=p=>{m.value!==null&&(d.value=!1,Vo.value=!0,i.value=0,Im(m.value,p))},h=()=>{i.value--},g=()=>{i.value++};return(p,o)=>(Tr(),Zr(kr,null,[d.value?(Tr(),fi(Oy,{key:0,onSelectedDifficulty:c,onReselectMap:t})):Ao("",!0),d.value?Ao("",!0):(Tr(),Zr("div",Py,[br("div",ky,[(Tr(!0),Zr(kr,null,gc(fo(e),n=>(Tr(),Zr("div",{class:Ho(`map map-${n.complexity} ${n.unlocked?"":"locked"}`),onClick:s=>f(n)},[br("h3",null,Hi(n.map.name)+" -- "+Hi(n.complexity),1),br("img",{src:n.image,alt:"Map Preview",class:"map-image"},null,8,Dy)],10,Ly))),256)),i.value>1?(Tr(),Zr("div",{key:0,class:"previous-maps maps-button",onClick:o[0]||(o[0]=n=>h())},By)):Ao("",!0),i.value<fo(Ou).length/6?(Tr(),Zr("div",{key:1,class:"next-maps maps-button",onClick:o[1]||(o[1]=n=>g())},Ny)):Ao("",!0)])]))],64))}});let tl=[];const Gy=()=>{j.createCanvas(j.windowWidth,j.windowHeight),j.background(Mn),tl.push(new ar(j.createVector(j.width*(1/11),j.height*(16/17)),j.width*(1/6),j.height*(1/10),"Save map",()=>{const u=Yy();if(u!==!0){alert(u);return}const i=prompt("What should this map be called?","Nameless here forever more"),r={name:i,map:je.generateJsonableMap()};j.saveJSON(r,`${i}.json`,!0)},We*2,j.color(Hn)),new ar(j.createVector(j.width*(9/13),j.height*(16/17)),j.width*(2/10),j.height*(1/10),"Return to main menu",()=>{$y()},We*1.5,j.color(Hn))),je.reConstructGrid(),j.draw=()=>Vy(),j.mousePressed=()=>Hy(),j.doubleClicked=()=>Wy(),j.keyPressed=u=>zy()},Vy=()=>{j.background(Mn),j.strokeWeight(1),je.show(),je.showDebug(),qy();for(const i of tl)i.show();const u=je.getHexVectorFromXY(j.mouseX,j.mouseY);for(const i in qn){const r=qn[i],e=r.isBase||r.isSpawn?0:1;if(j.keyIsDown(r.keycode)&&je.rqVectorIsOnGrid(u,e)){const m=je.grid[u.x][u.y];j.push(),j.fill([...r.rgb,100]),j.strokeWeight(2),cr(m.pos.x,m.pos.y,je.hexSize),j.pop()}}},Hy=()=>{for(const i of tl)i.clicked()&&i.onClick();const u=je.getHexVectorFromXY(j.mouseX,j.mouseY);for(const i in qn){const r=qn[i],e=r.buildInOuterRing?0:1;if(j.keyIsDown(r.keycode)&&je.rqVectorIsOnGrid(u,e)){const m=je.grid[u.x][u.y];je.setBuilderTileType(m,parseInt(i));return}}},Wy=()=>{},zy=u=>{},qy=()=>{const u=j.width*.8,i=j.width-u,r=i/100,e=j.height/100,m=e*5;j.strokeWeight(We/12),j.fill(Y0),j.stroke(Nt),j.rect(u,0,i,j.height),j.textSize(We*1.2);for(const d in qn){const f=parseInt(d),t=qn[f],c=j.createVector(u+r*15,m+e*(5+9*f));j.strokeWeight(1),j.fill(t.rgb),cr(c.x,c.y,We),j.fill(0),j.strokeWeight(0),j.textSize(We),j.text(`${t.name}: ${t.hotkey}`,c.x+r*10,c.y+We/3)}},Yy=()=>{const u=[],i=[];for(const e of je.grid)for(const m of e)m.type===vt.SPAWN&&i.push(m),m.type===vt.BASE&&u.push(m);return u.length<1||i.length<1?"You need at least one base and one spawn":u.length>6||i.length>6?"Too many bases or spawns":Xy(i,u)?!0:"Not all spawns can reach a base"},Xy=(u,i)=>{je.resetData(),je.addAllTeleports();for(const r of u){let e=!1,m;const d=[r],f=[];for(;d.length>0;){if(m=d[0],je.hexInArray(m,i)||m.data.flooded){e=!0;break}const t=je.getNeighbors(m.r,m.q,!0);for(const c of t)je.hexInArray(c,[...f,...d])||!c.canUnit||d.push(c);d.splice(0,1),f.push(m),m.data.flooded=!0}if(!e)return!1}return!0},$y=()=>{j.createCanvas(0,0),Vo.value=!1},Ky={key:0,class:"main-menu"},Qy=br("header",null,[br("h1",null,"Hexa Towers")],-1),Zy={key:0,class:"menu"},Jy=Ga({__name:"MainMenu",setup(u){const i=()=>{Po.value=Ba(Fy)},r=()=>{Gy(),Po.value=void 0,Vo.value=!0};return(e,m)=>fo(Vo)?Ao("",!0):(Tr(),Zr("div",Ky,[Qy,fo(Po)===void 0?(Tr(),Zr("div",Zy,[br("button",{class:"menu-button",onClick:i},"Free Play"),br("button",{class:"menu-button",onClick:r},"Map Builder")])):Ao("",!0),(Tr(),fi(bf(fo(Po))))]))}});const ev=(u,i)=>{const r=u.__vccOpts||u;for(const[e,m]of i)r[e]=m;return r},tv={components:{MainMenu:Jy}};function rv(u,i,r,e,m,d){const f=vf("main-menu");return Tr(),fi(f)}const nv=ev(tv,[["render",rv]]);_0(nv).mount("#app");

var Ud=Object.defineProperty;var Fd=(u,a,n)=>a in u?Ud(u,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[a]=n;var q=(u,a,n)=>(Fd(u,typeof a!="symbol"?a+"":a,n),n);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))e(g);new MutationObserver(g=>{for(const h of g)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&e(p)}).observe(document,{childList:!0,subtree:!0});function n(g){const h={};return g.integrity&&(h.integrity=g.integrity),g.referrerpolicy&&(h.referrerPolicy=g.referrerpolicy),g.crossorigin==="use-credentials"?h.credentials="include":g.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function e(g){if(g.ep)return;g.ep=!0;const h=n(g);fetch(g.href,h)}})();function ma(u,a){const n=Object.create(null),e=u.split(",");for(let g=0;g<e.length;g++)n[e[g]]=!0;return a?g=>!!n[g.toLowerCase()]:g=>!!n[g]}function ga(u){if(vt(u)){const a={};for(let n=0;n<u.length;n++){const e=u[n],g=or(e)?Wd(e):ga(e);if(g)for(const h in g)a[h]=g[h]}return a}else{if(or(u))return u;if(Qt(u))return u}}const Nd=/;(?![^(]*\))/g,Gd=/:([^]+)/,Vd=/\/\*.*?\*\//gs;function Wd(u){const a={};return u.replace(Vd,"").split(Nd).forEach(n=>{if(n){const e=n.split(Gd);e.length>1&&(a[e[0].trim()]=e[1].trim())}}),a}function cs(u){let a="";if(or(u))a=u;else if(vt(u))for(let n=0;n<u.length;n++){const e=cs(u[n]);e&&(a+=e+" ")}else if(Qt(u))for(const n in u)u[n]&&(a+=n+" ");return a.trim()}const Hd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zd=ma(Hd);function Eu(u){return!!u||u===""}const Ai=u=>or(u)?u:u==null?"":vt(u)||Qt(u)&&(u.toString===Ru||!xt(u.toString))?JSON.stringify(u,Cu,2):String(u),Cu=(u,a)=>a&&a.__v_isRef?Cu(u,a.value):Mo(a)?{[`Map(${a.size})`]:[...a.entries()].reduce((n,[e,g])=>(n[`${e} =>`]=g,n),{})}:Mu(a)?{[`Set(${a.size})`]:[...a.values()]}:Qt(a)&&!vt(a)&&!Ou(a)?String(a):a,Kt={},Co=[],Kr=()=>{},qd=()=>!1,Xd=/^on[^a-z]/,Vs=u=>Xd.test(u),ya=u=>u.startsWith("onUpdate:"),mr=Object.assign,va=(u,a)=>{const n=u.indexOf(a);n>-1&&u.splice(n,1)},Yd=Object.prototype.hasOwnProperty,Ot=(u,a)=>Yd.call(u,a),vt=Array.isArray,Mo=u=>Ws(u)==="[object Map]",Mu=u=>Ws(u)==="[object Set]",xt=u=>typeof u=="function",or=u=>typeof u=="string",ba=u=>typeof u=="symbol",Qt=u=>u!==null&&typeof u=="object",Au=u=>Qt(u)&&xt(u.then)&&xt(u.catch),Ru=Object.prototype.toString,Ws=u=>Ru.call(u),$d=u=>Ws(u).slice(8,-1),Ou=u=>Ws(u)==="[object Object]",wa=u=>or(u)&&u!=="NaN"&&u[0]!=="-"&&""+parseInt(u,10)===u,Ts=ma(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hs=u=>{const a=Object.create(null);return n=>a[n]||(a[n]=u(n))},Kd=/-(\w)/g,fn=Hs(u=>u.replace(Kd,(a,n)=>n?n.toUpperCase():"")),Zd=/\B([A-Z])/g,Bo=Hs(u=>u.replace(Zd,"-$1").toLowerCase()),zs=Hs(u=>u.charAt(0).toUpperCase()+u.slice(1)),vi=Hs(u=>u?`on${zs(u)}`:""),ts=(u,a)=>!Object.is(u,a),bi=(u,a)=>{for(let n=0;n<u.length;n++)u[n](a)},Ds=(u,a,n)=>{Object.defineProperty(u,a,{configurable:!0,enumerable:!1,value:n})},Qd=u=>{const a=parseFloat(u);return isNaN(a)?u:a};let Ll;const Jd=()=>Ll||(Ll=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let qr;class eh{constructor(a=!1){this.detached=a,this._active=!0,this.effects=[],this.cleanups=[],this.parent=qr,!a&&qr&&(this.index=(qr.scopes||(qr.scopes=[])).push(this)-1)}get active(){return this._active}run(a){if(this._active){const n=qr;try{return qr=this,a()}finally{qr=n}}}on(){qr=this}off(){qr=this.parent}stop(a){if(this._active){let n,e;for(n=0,e=this.effects.length;n<e;n++)this.effects[n].stop();for(n=0,e=this.cleanups.length;n<e;n++)this.cleanups[n]();if(this.scopes)for(n=0,e=this.scopes.length;n<e;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!a){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0,this._active=!1}}}function th(u,a=qr){a&&a.active&&a.effects.push(u)}function rh(){return qr}const xa=u=>{const a=new Set(u);return a.w=0,a.n=0,a},Pu=u=>(u.w&In)>0,ku=u=>(u.n&In)>0,nh=({deps:u})=>{if(u.length)for(let a=0;a<u.length;a++)u[a].w|=In},oh=u=>{const{deps:a}=u;if(a.length){let n=0;for(let e=0;e<a.length;e++){const g=a[e];Pu(g)&&!ku(g)?g.delete(u):a[n++]=g,g.w&=~In,g.n&=~In}a.length=n}},Ri=new WeakMap;let Yo=0,In=1;const Oi=30;let Yr;const no=Symbol(""),Pi=Symbol("");class _a{constructor(a,n=null,e){this.fn=a,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,th(this,e)}run(){if(!this.active)return this.fn();let a=Yr,n=Ln;for(;a;){if(a===this)return;a=a.parent}try{return this.parent=Yr,Yr=this,Ln=!0,In=1<<++Yo,Yo<=Oi?nh(this):Dl(this),this.fn()}finally{Yo<=Oi&&oh(this),In=1<<--Yo,Yr=this.parent,Ln=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Yr===this?this.deferStop=!0:this.active&&(Dl(this),this.onStop&&this.onStop(),this.active=!1)}}function Dl(u){const{deps:a}=u;if(a.length){for(let n=0;n<a.length;n++)a[n].delete(u);a.length=0}}let Ln=!0;const Lu=[];function Uo(){Lu.push(Ln),Ln=!1}function Fo(){const u=Lu.pop();Ln=u===void 0?!0:u}function jr(u,a,n){if(Ln&&Yr){let e=Ri.get(u);e||Ri.set(u,e=new Map);let g=e.get(n);g||e.set(n,g=xa()),Du(g)}}function Du(u,a){let n=!1;Yo<=Oi?ku(u)||(u.n|=In,n=!Pu(u)):n=!u.has(Yr),n&&(u.add(Yr),Yr.deps.push(u))}function _n(u,a,n,e,g,h){const p=Ri.get(u);if(!p)return;let t=[];if(a==="clear")t=[...p.values()];else if(n==="length"&&vt(u)){const c=Number(e);p.forEach((d,m)=>{(m==="length"||m>=c)&&t.push(d)})}else switch(n!==void 0&&t.push(p.get(n)),a){case"add":vt(u)?wa(n)&&t.push(p.get("length")):(t.push(p.get(no)),Mo(u)&&t.push(p.get(Pi)));break;case"delete":vt(u)||(t.push(p.get(no)),Mo(u)&&t.push(p.get(Pi)));break;case"set":Mo(u)&&t.push(p.get(no));break}if(t.length===1)t[0]&&ki(t[0]);else{const c=[];for(const d of t)d&&c.push(...d);ki(xa(c))}}function ki(u,a){const n=vt(u)?u:[...u];for(const e of n)e.computed&&Il(e);for(const e of n)e.computed||Il(e)}function Il(u,a){(u!==Yr||u.allowRecurse)&&(u.scheduler?u.scheduler():u.run())}const sh=ma("__proto__,__v_isRef,__isVue"),Iu=new Set(Object.getOwnPropertyNames(Symbol).filter(u=>u!=="arguments"&&u!=="caller").map(u=>Symbol[u]).filter(ba)),ih=Sa(),ah=Sa(!1,!0),lh=Sa(!0),Bl=uh();function uh(){const u={};return["includes","indexOf","lastIndexOf"].forEach(a=>{u[a]=function(...n){const e=Pt(this);for(let h=0,p=this.length;h<p;h++)jr(e,"get",h+"");const g=e[a](...n);return g===-1||g===!1?e[a](...n.map(Pt)):g}}),["push","pop","shift","unshift","splice"].forEach(a=>{u[a]=function(...n){Uo();const e=Pt(this)[a].apply(this,n);return Fo(),e}}),u}function ch(u){const a=Pt(this);return jr(a,"has",u),a.hasOwnProperty(u)}function Sa(u=!1,a=!1){return function(e,g,h){if(g==="__v_isReactive")return!u;if(g==="__v_isReadonly")return u;if(g==="__v_isShallow")return a;if(g==="__v_raw"&&h===(u?a?Eh:Gu:a?Nu:Fu).get(e))return e;const p=vt(e);if(!u){if(p&&Ot(Bl,g))return Reflect.get(Bl,g,h);if(g==="hasOwnProperty")return ch}const t=Reflect.get(e,g,h);return(ba(g)?Iu.has(g):sh(g))||(u||jr(e,"get",g),a)?t:hr(t)?p&&wa(g)?t:t.value:Qt(t)?u?Vu(t):Ea(t):t}}const dh=Bu(),hh=Bu(!0);function Bu(u=!1){return function(n,e,g,h){let p=n[e];if(Po(p)&&hr(p)&&!hr(g))return!1;if(!u&&(!Is(g)&&!Po(g)&&(p=Pt(p),g=Pt(g)),!vt(n)&&hr(p)&&!hr(g)))return p.value=g,!0;const t=vt(n)&&wa(e)?Number(e)<n.length:Ot(n,e),c=Reflect.set(n,e,g,h);return n===Pt(h)&&(t?ts(g,p)&&_n(n,"set",e,g):_n(n,"add",e,g)),c}}function fh(u,a){const n=Ot(u,a);u[a];const e=Reflect.deleteProperty(u,a);return e&&n&&_n(u,"delete",a,void 0),e}function ph(u,a){const n=Reflect.has(u,a);return(!ba(a)||!Iu.has(a))&&jr(u,"has",a),n}function mh(u){return jr(u,"iterate",vt(u)?"length":no),Reflect.ownKeys(u)}const Uu={get:ih,set:dh,deleteProperty:fh,has:ph,ownKeys:mh},gh={get:lh,set(u,a){return!0},deleteProperty(u,a){return!0}},yh=mr({},Uu,{get:ah,set:hh}),ja=u=>u,qs=u=>Reflect.getPrototypeOf(u);function ys(u,a,n=!1,e=!1){u=u.__v_raw;const g=Pt(u),h=Pt(a);n||(a!==h&&jr(g,"get",a),jr(g,"get",h));const{has:p}=qs(g),t=e?ja:n?Aa:rs;if(p.call(g,a))return t(u.get(a));if(p.call(g,h))return t(u.get(h));u!==g&&u.get(a)}function vs(u,a=!1){const n=this.__v_raw,e=Pt(n),g=Pt(u);return a||(u!==g&&jr(e,"has",u),jr(e,"has",g)),u===g?n.has(u):n.has(u)||n.has(g)}function bs(u,a=!1){return u=u.__v_raw,!a&&jr(Pt(u),"iterate",no),Reflect.get(u,"size",u)}function Ul(u){u=Pt(u);const a=Pt(this);return qs(a).has.call(a,u)||(a.add(u),_n(a,"add",u,u)),this}function Fl(u,a){a=Pt(a);const n=Pt(this),{has:e,get:g}=qs(n);let h=e.call(n,u);h||(u=Pt(u),h=e.call(n,u));const p=g.call(n,u);return n.set(u,a),h?ts(a,p)&&_n(n,"set",u,a):_n(n,"add",u,a),this}function Nl(u){const a=Pt(this),{has:n,get:e}=qs(a);let g=n.call(a,u);g||(u=Pt(u),g=n.call(a,u)),e&&e.call(a,u);const h=a.delete(u);return g&&_n(a,"delete",u,void 0),h}function Gl(){const u=Pt(this),a=u.size!==0,n=u.clear();return a&&_n(u,"clear",void 0,void 0),n}function ws(u,a){return function(e,g){const h=this,p=h.__v_raw,t=Pt(p),c=a?ja:u?Aa:rs;return!u&&jr(t,"iterate",no),p.forEach((d,m)=>e.call(g,c(d),c(m),h))}}function xs(u,a,n){return function(...e){const g=this.__v_raw,h=Pt(g),p=Mo(h),t=u==="entries"||u===Symbol.iterator&&p,c=u==="keys"&&p,d=g[u](...e),m=n?ja:a?Aa:rs;return!a&&jr(h,"iterate",c?Pi:no),{next(){const{value:f,done:o}=d.next();return o?{value:f,done:o}:{value:t?[m(f[0]),m(f[1])]:m(f),done:o}},[Symbol.iterator](){return this}}}}function Rn(u){return function(...a){return u==="delete"?!1:this}}function vh(){const u={get(h){return ys(this,h)},get size(){return bs(this)},has:vs,add:Ul,set:Fl,delete:Nl,clear:Gl,forEach:ws(!1,!1)},a={get(h){return ys(this,h,!1,!0)},get size(){return bs(this)},has:vs,add:Ul,set:Fl,delete:Nl,clear:Gl,forEach:ws(!1,!0)},n={get(h){return ys(this,h,!0)},get size(){return bs(this,!0)},has(h){return vs.call(this,h,!0)},add:Rn("add"),set:Rn("set"),delete:Rn("delete"),clear:Rn("clear"),forEach:ws(!0,!1)},e={get(h){return ys(this,h,!0,!0)},get size(){return bs(this,!0)},has(h){return vs.call(this,h,!0)},add:Rn("add"),set:Rn("set"),delete:Rn("delete"),clear:Rn("clear"),forEach:ws(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{u[h]=xs(h,!1,!1),n[h]=xs(h,!0,!1),a[h]=xs(h,!1,!0),e[h]=xs(h,!0,!0)}),[u,n,a,e]}const[bh,wh,xh,_h]=vh();function Ta(u,a){const n=a?u?_h:xh:u?wh:bh;return(e,g,h)=>g==="__v_isReactive"?!u:g==="__v_isReadonly"?u:g==="__v_raw"?e:Reflect.get(Ot(n,g)&&g in e?n:e,g,h)}const Sh={get:Ta(!1,!1)},jh={get:Ta(!1,!0)},Th={get:Ta(!0,!1)},Fu=new WeakMap,Nu=new WeakMap,Gu=new WeakMap,Eh=new WeakMap;function Ch(u){switch(u){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mh(u){return u.__v_skip||!Object.isExtensible(u)?0:Ch($d(u))}function Ea(u){return Po(u)?u:Ca(u,!1,Uu,Sh,Fu)}function Ah(u){return Ca(u,!1,yh,jh,Nu)}function Vu(u){return Ca(u,!0,gh,Th,Gu)}function Ca(u,a,n,e,g){if(!Qt(u)||u.__v_raw&&!(a&&u.__v_isReactive))return u;const h=g.get(u);if(h)return h;const p=Mh(u);if(p===0)return u;const t=new Proxy(u,p===2?e:n);return g.set(u,t),t}function Ao(u){return Po(u)?Ao(u.__v_raw):!!(u&&u.__v_isReactive)}function Po(u){return!!(u&&u.__v_isReadonly)}function Is(u){return!!(u&&u.__v_isShallow)}function Wu(u){return Ao(u)||Po(u)}function Pt(u){const a=u&&u.__v_raw;return a?Pt(a):u}function Ma(u){return Ds(u,"__v_skip",!0),u}const rs=u=>Qt(u)?Ea(u):u,Aa=u=>Qt(u)?Vu(u):u;function Hu(u){Ln&&Yr&&(u=Pt(u),Du(u.dep||(u.dep=xa())))}function zu(u,a){u=Pt(u);const n=u.dep;n&&ki(n)}function hr(u){return!!(u&&u.__v_isRef===!0)}function Qo(u){return Rh(u,!1)}function Rh(u,a){return hr(u)?u:new Oh(u,a)}class Oh{constructor(a,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?a:Pt(a),this._value=n?a:rs(a)}get value(){return Hu(this),this._value}set value(a){const n=this.__v_isShallow||Is(a)||Po(a);a=n?a:Pt(a),ts(a,this._rawValue)&&(this._rawValue=a,this._value=n?a:rs(a),zu(this))}}function oo(u){return hr(u)?u.value:u}const Ph={get:(u,a,n)=>oo(Reflect.get(u,a,n)),set:(u,a,n,e)=>{const g=u[a];return hr(g)&&!hr(n)?(g.value=n,!0):Reflect.set(u,a,n,e)}};function qu(u){return Ao(u)?u:new Proxy(u,Ph)}var Xu;class kh{constructor(a,n,e,g){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Xu]=!1,this._dirty=!0,this.effect=new _a(a,()=>{this._dirty||(this._dirty=!0,zu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!g,this.__v_isReadonly=e}get value(){const a=Pt(this);return Hu(a),(a._dirty||!a._cacheable)&&(a._dirty=!1,a._value=a.effect.run()),a._value}set value(a){this._setter(a)}}Xu="__v_isReadonly";function Lh(u,a,n=!1){let e,g;const h=xt(u);return h?(e=u,g=Kr):(e=u.get,g=u.set),new kh(e,g,h||!g,n)}function Dn(u,a,n,e){let g;try{g=e?u(...e):u()}catch(h){Xs(h,a,n)}return g}function Fr(u,a,n,e){if(xt(u)){const h=Dn(u,a,n,e);return h&&Au(h)&&h.catch(p=>{Xs(p,a,n)}),h}const g=[];for(let h=0;h<u.length;h++)g.push(Fr(u[h],a,n,e));return g}function Xs(u,a,n,e=!0){const g=a?a.vnode:null;if(a){let h=a.parent;const p=a.proxy,t=n;for(;h;){const d=h.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](u,p,t)===!1)return}h=h.parent}const c=a.appContext.config.errorHandler;if(c){Dn(c,null,10,[u,p,t]);return}}Dh(u,n,g,e)}function Dh(u,a,n,e=!0){console.error(u)}let ns=!1,Li=!1;const dr=[];let dn=0;const Ro=[];let vn=null,Jn=0;const Yu=Promise.resolve();let Ra=null;function Ih(u){const a=Ra||Yu;return u?a.then(this?u.bind(this):u):a}function Bh(u){let a=dn+1,n=dr.length;for(;a<n;){const e=a+n>>>1;os(dr[e])<u?a=e+1:n=e}return a}function Oa(u){(!dr.length||!dr.includes(u,ns&&u.allowRecurse?dn+1:dn))&&(u.id==null?dr.push(u):dr.splice(Bh(u.id),0,u),$u())}function $u(){!ns&&!Li&&(Li=!0,Ra=Yu.then(Zu))}function Uh(u){const a=dr.indexOf(u);a>dn&&dr.splice(a,1)}function Fh(u){vt(u)?Ro.push(...u):(!vn||!vn.includes(u,u.allowRecurse?Jn+1:Jn))&&Ro.push(u),$u()}function Vl(u,a=ns?dn+1:0){for(;a<dr.length;a++){const n=dr[a];n&&n.pre&&(dr.splice(a,1),a--,n())}}function Ku(u){if(Ro.length){const a=[...new Set(Ro)];if(Ro.length=0,vn){vn.push(...a);return}for(vn=a,vn.sort((n,e)=>os(n)-os(e)),Jn=0;Jn<vn.length;Jn++)vn[Jn]();vn=null,Jn=0}}const os=u=>u.id==null?1/0:u.id,Nh=(u,a)=>{const n=os(u)-os(a);if(n===0){if(u.pre&&!a.pre)return-1;if(a.pre&&!u.pre)return 1}return n};function Zu(u){Li=!1,ns=!0,dr.sort(Nh);const a=Kr;try{for(dn=0;dn<dr.length;dn++){const n=dr[dn];n&&n.active!==!1&&Dn(n,null,14)}}finally{dn=0,dr.length=0,Ku(),ns=!1,Ra=null,(dr.length||Ro.length)&&Zu()}}function Gh(u,a,...n){if(u.isUnmounted)return;const e=u.vnode.props||Kt;let g=n;const h=a.startsWith("update:"),p=h&&a.slice(7);if(p&&p in e){const m=`${p==="modelValue"?"model":p}Modifiers`,{number:f,trim:o}=e[m]||Kt;o&&(g=n.map(r=>or(r)?r.trim():r)),f&&(g=n.map(Qd))}let t,c=e[t=vi(a)]||e[t=vi(fn(a))];!c&&h&&(c=e[t=vi(Bo(a))]),c&&Fr(c,u,6,g);const d=e[t+"Once"];if(d){if(!u.emitted)u.emitted={};else if(u.emitted[t])return;u.emitted[t]=!0,Fr(d,u,6,g)}}function Qu(u,a,n=!1){const e=a.emitsCache,g=e.get(u);if(g!==void 0)return g;const h=u.emits;let p={},t=!1;if(!xt(u)){const c=d=>{const m=Qu(d,a,!0);m&&(t=!0,mr(p,m))};!n&&a.mixins.length&&a.mixins.forEach(c),u.extends&&c(u.extends),u.mixins&&u.mixins.forEach(c)}return!h&&!t?(Qt(u)&&e.set(u,null),null):(vt(h)?h.forEach(c=>p[c]=null):mr(p,h),Qt(u)&&e.set(u,p),p)}function Ys(u,a){return!u||!Vs(a)?!1:(a=a.slice(2).replace(/Once$/,""),Ot(u,a[0].toLowerCase()+a.slice(1))||Ot(u,Bo(a))||Ot(u,a))}let Ur=null,Ju=null;function Bs(u){const a=Ur;return Ur=u,Ju=u&&u.type.__scopeId||null,a}function Vh(u,a=Ur,n){if(!a||u._n)return u;const e=(...g)=>{e._d&&Ql(-1);const h=Bs(a);let p;try{p=u(...g)}finally{Bs(h),e._d&&Ql(1)}return p};return e._n=!0,e._c=!0,e._d=!0,e}function wi(u){const{type:a,vnode:n,proxy:e,withProxy:g,props:h,propsOptions:[p],slots:t,attrs:c,emit:d,render:m,renderCache:f,data:o,setupState:r,ctx:s,inheritAttrs:i}=u;let l,v;const w=Bs(u);try{if(n.shapeFlag&4){const _=g||e;l=cn(m.call(_,_,f,h,r,o,s)),v=c}else{const _=a;l=cn(_.length>1?_(h,{attrs:c,slots:t,emit:d}):_(h,null)),v=a.props?c:Wh(c)}}catch(_){es.length=0,Xs(_,u,1),l=xn(Zr)}let x=l;if(v&&i!==!1){const _=Object.keys(v),{shapeFlag:E}=x;_.length&&E&7&&(p&&_.some(ya)&&(v=Hh(v,p)),x=Bn(x,v))}return n.dirs&&(x=Bn(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),l=x,Bs(w),l}const Wh=u=>{let a;for(const n in u)(n==="class"||n==="style"||Vs(n))&&((a||(a={}))[n]=u[n]);return a},Hh=(u,a)=>{const n={};for(const e in u)(!ya(e)||!(e.slice(9)in a))&&(n[e]=u[e]);return n};function zh(u,a,n){const{props:e,children:g,component:h}=u,{props:p,children:t,patchFlag:c}=a,d=h.emitsOptions;if(a.dirs||a.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return e?Wl(e,p,d):!!p;if(c&8){const m=a.dynamicProps;for(let f=0;f<m.length;f++){const o=m[f];if(p[o]!==e[o]&&!Ys(d,o))return!0}}}else return(g||t)&&(!t||!t.$stable)?!0:e===p?!1:e?p?Wl(e,p,d):!0:!!p;return!1}function Wl(u,a,n){const e=Object.keys(a);if(e.length!==Object.keys(u).length)return!0;for(let g=0;g<e.length;g++){const h=e[g];if(a[h]!==u[h]&&!Ys(n,h))return!0}return!1}function qh({vnode:u,parent:a},n){for(;a&&a.subTree===u;)(u=a.vnode).el=n,a=a.parent}const Xh=u=>u.__isSuspense;function Yh(u,a){a&&a.pendingBranch?vt(u)?a.effects.push(...u):a.effects.push(u):Fh(u)}function $h(u,a){if(tr){let n=tr.provides;const e=tr.parent&&tr.parent.provides;e===n&&(n=tr.provides=Object.create(e)),n[u]=a}}function Es(u,a,n=!1){const e=tr||Ur;if(e){const g=e.parent==null?e.vnode.appContext&&e.vnode.appContext.provides:e.parent.provides;if(g&&u in g)return g[u];if(arguments.length>1)return n&&xt(a)?a.call(e.proxy):a}}const _s={};function xi(u,a,n){return ec(u,a,n)}function ec(u,a,{immediate:n,deep:e,flush:g,onTrack:h,onTrigger:p}=Kt){const t=rh()===(tr==null?void 0:tr.scope)?tr:null;let c,d=!1,m=!1;if(hr(u)?(c=()=>u.value,d=Is(u)):Ao(u)?(c=()=>u,e=!0):vt(u)?(m=!0,d=u.some(x=>Ao(x)||Is(x)),c=()=>u.map(x=>{if(hr(x))return x.value;if(Ao(x))return _o(x);if(xt(x))return Dn(x,t,2)})):xt(u)?a?c=()=>Dn(u,t,2):c=()=>{if(!(t&&t.isUnmounted))return f&&f(),Fr(u,t,3,[o])}:c=Kr,a&&e){const x=c;c=()=>_o(x())}let f,o=x=>{f=v.onStop=()=>{Dn(x,t,4)}},r;if(is)if(o=Kr,a?n&&Fr(a,t,3,[c(),m?[]:void 0,o]):c(),g==="sync"){const x=Xf();r=x.__watcherHandles||(x.__watcherHandles=[])}else return Kr;let s=m?new Array(u.length).fill(_s):_s;const i=()=>{if(v.active)if(a){const x=v.run();(e||d||(m?x.some((_,E)=>ts(_,s[E])):ts(x,s)))&&(f&&f(),Fr(a,t,3,[x,s===_s?void 0:m&&s[0]===_s?[]:s,o]),s=x)}else v.run()};i.allowRecurse=!!a;let l;g==="sync"?l=i:g==="post"?l=()=>Sr(i,t&&t.suspense):(i.pre=!0,t&&(i.id=t.uid),l=()=>Oa(i));const v=new _a(c,l);a?n?i():s=v.run():g==="post"?Sr(v.run.bind(v),t&&t.suspense):v.run();const w=()=>{v.stop(),t&&t.scope&&va(t.scope.effects,v)};return r&&r.push(w),w}function Kh(u,a,n){const e=this.proxy,g=or(u)?u.includes(".")?tc(e,u):()=>e[u]:u.bind(e,e);let h;xt(a)?h=a:(h=a.handler,n=a);const p=tr;ko(this);const t=ec(g,h.bind(e),n);return p?ko(p):so(),t}function tc(u,a){const n=a.split(".");return()=>{let e=u;for(let g=0;g<n.length&&e;g++)e=e[n[g]];return e}}function _o(u,a){if(!Qt(u)||u.__v_skip||(a=a||new Set,a.has(u)))return u;if(a.add(u),hr(u))_o(u.value,a);else if(vt(u))for(let n=0;n<u.length;n++)_o(u[n],a);else if(Mu(u)||Mo(u))u.forEach(n=>{_o(n,a)});else if(Ou(u))for(const n in u)_o(u[n],a);return u}function Zh(){const u={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return sc(()=>{u.isMounted=!0}),ic(()=>{u.isUnmounting=!0}),u}const kr=[Function,Array],Qh={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kr,onEnter:kr,onAfterEnter:kr,onEnterCancelled:kr,onBeforeLeave:kr,onLeave:kr,onAfterLeave:kr,onLeaveCancelled:kr,onBeforeAppear:kr,onAppear:kr,onAfterAppear:kr,onAppearCancelled:kr},setup(u,{slots:a}){const n=Ff(),e=Zh();let g;return()=>{const h=a.default&&nc(a.default(),!0);if(!h||!h.length)return;let p=h[0];if(h.length>1){for(const i of h)if(i.type!==Zr){p=i;break}}const t=Pt(u),{mode:c}=t;if(e.isLeaving)return _i(p);const d=Hl(p);if(!d)return _i(p);const m=Di(d,t,e,n);Ii(d,m);const f=n.subTree,o=f&&Hl(f);let r=!1;const{getTransitionKey:s}=d.type;if(s){const i=s();g===void 0?g=i:i!==g&&(g=i,r=!0)}if(o&&o.type!==Zr&&(!eo(d,o)||r)){const i=Di(o,t,e,n);if(Ii(o,i),c==="out-in")return e.isLeaving=!0,i.afterLeave=()=>{e.isLeaving=!1,n.update.active!==!1&&n.update()},_i(p);c==="in-out"&&d.type!==Zr&&(i.delayLeave=(l,v,w)=>{const x=rc(e,o);x[String(o.key)]=o,l._leaveCb=()=>{v(),l._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=w})}return p}}},Jh=Qh;function rc(u,a){const{leavingVNodes:n}=u;let e=n.get(a.type);return e||(e=Object.create(null),n.set(a.type,e)),e}function Di(u,a,n,e){const{appear:g,mode:h,persisted:p=!1,onBeforeEnter:t,onEnter:c,onAfterEnter:d,onEnterCancelled:m,onBeforeLeave:f,onLeave:o,onAfterLeave:r,onLeaveCancelled:s,onBeforeAppear:i,onAppear:l,onAfterAppear:v,onAppearCancelled:w}=a,x=String(u.key),_=rc(n,u),E=(O,I)=>{O&&Fr(O,e,9,I)},C=(O,I)=>{const R=I[1];E(O,I),vt(O)?O.every(L=>L.length<=1)&&R():O.length<=1&&R()},A={mode:h,persisted:p,beforeEnter(O){let I=t;if(!n.isMounted)if(g)I=i||t;else return;O._leaveCb&&O._leaveCb(!0);const R=_[x];R&&eo(u,R)&&R.el._leaveCb&&R.el._leaveCb(),E(I,[O])},enter(O){let I=c,R=d,L=m;if(!n.isMounted)if(g)I=l||c,R=v||d,L=w||m;else return;let U=!1;const D=O._enterCb=W=>{U||(U=!0,W?E(L,[O]):E(R,[O]),A.delayedLeave&&A.delayedLeave(),O._enterCb=void 0)};I?C(I,[O,D]):D()},leave(O,I){const R=String(u.key);if(O._enterCb&&O._enterCb(!0),n.isUnmounting)return I();E(f,[O]);let L=!1;const U=O._leaveCb=D=>{L||(L=!0,I(),D?E(s,[O]):E(r,[O]),O._leaveCb=void 0,_[R]===u&&delete _[R])};_[R]=u,o?C(o,[O,U]):U()},clone(O){return Di(O,a,n,e)}};return A}function _i(u){if($s(u))return u=Bn(u),u.children=null,u}function Hl(u){return $s(u)?u.children?u.children[0]:void 0:u}function Ii(u,a){u.shapeFlag&6&&u.component?Ii(u.component.subTree,a):u.shapeFlag&128?(u.ssContent.transition=a.clone(u.ssContent),u.ssFallback.transition=a.clone(u.ssFallback)):u.transition=a}function nc(u,a=!1,n){let e=[],g=0;for(let h=0;h<u.length;h++){let p=u[h];const t=n==null?p.key:String(n)+String(p.key!=null?p.key:h);p.type===Or?(p.patchFlag&128&&g++,e=e.concat(nc(p.children,a,t))):(a||p.type!==Zr)&&e.push(t!=null?Bn(p,{key:t}):p)}if(g>1)for(let h=0;h<e.length;h++)e[h].patchFlag=-2;return e}function Pa(u){return xt(u)?{setup:u,name:u.name}:u}const Cs=u=>!!u.type.__asyncLoader,$s=u=>u.type.__isKeepAlive;function ef(u,a){oc(u,"a",a)}function tf(u,a){oc(u,"da",a)}function oc(u,a,n=tr){const e=u.__wdc||(u.__wdc=()=>{let g=n;for(;g;){if(g.isDeactivated)return;g=g.parent}return u()});if(Ks(a,e,n),n){let g=n.parent;for(;g&&g.parent;)$s(g.parent.vnode)&&rf(e,a,n,g),g=g.parent}}function rf(u,a,n,e){const g=Ks(a,u,e,!0);ac(()=>{va(e[a],g)},n)}function Ks(u,a,n=tr,e=!1){if(n){const g=n[u]||(n[u]=[]),h=a.__weh||(a.__weh=(...p)=>{if(n.isUnmounted)return;Uo(),ko(n);const t=Fr(a,n,u,p);return so(),Fo(),t});return e?g.unshift(h):g.push(h),h}}const Sn=u=>(a,n=tr)=>(!is||u==="sp")&&Ks(u,(...e)=>a(...e),n),nf=Sn("bm"),sc=Sn("m"),of=Sn("bu"),sf=Sn("u"),ic=Sn("bum"),ac=Sn("um"),af=Sn("sp"),lf=Sn("rtg"),uf=Sn("rtc");function cf(u,a=tr){Ks("ec",u,a)}function Kn(u,a,n,e){const g=u.dirs,h=a&&a.dirs;for(let p=0;p<g.length;p++){const t=g[p];h&&(t.oldValue=h[p].value);let c=t.dir[e];c&&(Uo(),Fr(c,n,8,[u.el,t,u,a]),Fo())}}const ka="components";function df(u,a){return uc(ka,u,!0,a)||u}const lc=Symbol();function hf(u){return or(u)?uc(ka,u,!1)||u:u||lc}function uc(u,a,n=!0,e=!1){const g=Ur||tr;if(g){const h=g.type;if(u===ka){const t=Hf(h,!1);if(t&&(t===a||t===fn(a)||t===zs(fn(a))))return h}const p=zl(g[u]||h[u],a)||zl(g.appContext[u],a);return!p&&e?h:p}}function zl(u,a){return u&&(u[a]||u[fn(a)]||u[zs(fn(a))])}function cc(u,a,n,e){let g;const h=n&&n[e];if(vt(u)||or(u)){g=new Array(u.length);for(let p=0,t=u.length;p<t;p++)g[p]=a(u[p],p,void 0,h&&h[p])}else if(typeof u=="number"){g=new Array(u);for(let p=0;p<u;p++)g[p]=a(p+1,p,void 0,h&&h[p])}else if(Qt(u))if(u[Symbol.iterator])g=Array.from(u,(p,t)=>a(p,t,void 0,h&&h[t]));else{const p=Object.keys(u);g=new Array(p.length);for(let t=0,c=p.length;t<c;t++){const d=p[t];g[t]=a(u[d],d,t,h&&h[t])}}else g=[];return n&&(n[e]=g),g}const Bi=u=>u?xc(u)?Ba(u)||u.proxy:Bi(u.parent):null,Jo=mr(Object.create(null),{$:u=>u,$el:u=>u.vnode.el,$data:u=>u.data,$props:u=>u.props,$attrs:u=>u.attrs,$slots:u=>u.slots,$refs:u=>u.refs,$parent:u=>Bi(u.parent),$root:u=>Bi(u.root),$emit:u=>u.emit,$options:u=>La(u),$forceUpdate:u=>u.f||(u.f=()=>Oa(u.update)),$nextTick:u=>u.n||(u.n=Ih.bind(u.proxy)),$watch:u=>Kh.bind(u)}),Si=(u,a)=>u!==Kt&&!u.__isScriptSetup&&Ot(u,a),ff={get({_:u},a){const{ctx:n,setupState:e,data:g,props:h,accessCache:p,type:t,appContext:c}=u;let d;if(a[0]!=="$"){const r=p[a];if(r!==void 0)switch(r){case 1:return e[a];case 2:return g[a];case 4:return n[a];case 3:return h[a]}else{if(Si(e,a))return p[a]=1,e[a];if(g!==Kt&&Ot(g,a))return p[a]=2,g[a];if((d=u.propsOptions[0])&&Ot(d,a))return p[a]=3,h[a];if(n!==Kt&&Ot(n,a))return p[a]=4,n[a];Ui&&(p[a]=0)}}const m=Jo[a];let f,o;if(m)return a==="$attrs"&&jr(u,"get",a),m(u);if((f=t.__cssModules)&&(f=f[a]))return f;if(n!==Kt&&Ot(n,a))return p[a]=4,n[a];if(o=c.config.globalProperties,Ot(o,a))return o[a]},set({_:u},a,n){const{data:e,setupState:g,ctx:h}=u;return Si(g,a)?(g[a]=n,!0):e!==Kt&&Ot(e,a)?(e[a]=n,!0):Ot(u.props,a)||a[0]==="$"&&a.slice(1)in u?!1:(h[a]=n,!0)},has({_:{data:u,setupState:a,accessCache:n,ctx:e,appContext:g,propsOptions:h}},p){let t;return!!n[p]||u!==Kt&&Ot(u,p)||Si(a,p)||(t=h[0])&&Ot(t,p)||Ot(e,p)||Ot(Jo,p)||Ot(g.config.globalProperties,p)},defineProperty(u,a,n){return n.get!=null?u._.accessCache[a]=0:Ot(n,"value")&&this.set(u,a,n.value,null),Reflect.defineProperty(u,a,n)}};let Ui=!0;function pf(u){const a=La(u),n=u.proxy,e=u.ctx;Ui=!1,a.beforeCreate&&ql(a.beforeCreate,u,"bc");const{data:g,computed:h,methods:p,watch:t,provide:c,inject:d,created:m,beforeMount:f,mounted:o,beforeUpdate:r,updated:s,activated:i,deactivated:l,beforeDestroy:v,beforeUnmount:w,destroyed:x,unmounted:_,render:E,renderTracked:C,renderTriggered:A,errorCaptured:O,serverPrefetch:I,expose:R,inheritAttrs:L,components:U,directives:D,filters:W}=a;if(d&&mf(d,e,null,u.appContext.config.unwrapInjectedRef),p)for(const le in p){const J=p[le];xt(J)&&(e[le]=J.bind(n))}if(g){const le=g.call(n,n);Qt(le)&&(u.data=Ea(le))}if(Ui=!0,h)for(const le in h){const J=h[le],ue=xt(J)?J.bind(n,n):xt(J.get)?J.get.bind(n,n):Kr,se=!xt(J)&&xt(J.set)?J.set.bind(n):Kr,me=Vi({get:ue,set:se});Object.defineProperty(e,le,{enumerable:!0,configurable:!0,get:()=>me.value,set:xe=>me.value=xe})}if(t)for(const le in t)dc(t[le],e,n,le);if(c){const le=xt(c)?c.call(n):c;Reflect.ownKeys(le).forEach(J=>{$h(J,le[J])})}m&&ql(m,u,"c");function ae(le,J){vt(J)?J.forEach(ue=>le(ue.bind(n))):J&&le(J.bind(n))}if(ae(nf,f),ae(sc,o),ae(of,r),ae(sf,s),ae(ef,i),ae(tf,l),ae(cf,O),ae(uf,C),ae(lf,A),ae(ic,w),ae(ac,_),ae(af,I),vt(R))if(R.length){const le=u.exposed||(u.exposed={});R.forEach(J=>{Object.defineProperty(le,J,{get:()=>n[J],set:ue=>n[J]=ue})})}else u.exposed||(u.exposed={});E&&u.render===Kr&&(u.render=E),L!=null&&(u.inheritAttrs=L),U&&(u.components=U),D&&(u.directives=D)}function mf(u,a,n=Kr,e=!1){vt(u)&&(u=Fi(u));for(const g in u){const h=u[g];let p;Qt(h)?"default"in h?p=Es(h.from||g,h.default,!0):p=Es(h.from||g):p=Es(h),hr(p)&&e?Object.defineProperty(a,g,{enumerable:!0,configurable:!0,get:()=>p.value,set:t=>p.value=t}):a[g]=p}}function ql(u,a,n){Fr(vt(u)?u.map(e=>e.bind(a.proxy)):u.bind(a.proxy),a,n)}function dc(u,a,n,e){const g=e.includes(".")?tc(n,e):()=>n[e];if(or(u)){const h=a[u];xt(h)&&xi(g,h)}else if(xt(u))xi(g,u.bind(n));else if(Qt(u))if(vt(u))u.forEach(h=>dc(h,a,n,e));else{const h=xt(u.handler)?u.handler.bind(n):a[u.handler];xt(h)&&xi(g,h,u)}}function La(u){const a=u.type,{mixins:n,extends:e}=a,{mixins:g,optionsCache:h,config:{optionMergeStrategies:p}}=u.appContext,t=h.get(a);let c;return t?c=t:!g.length&&!n&&!e?c=a:(c={},g.length&&g.forEach(d=>Us(c,d,p,!0)),Us(c,a,p)),Qt(a)&&h.set(a,c),c}function Us(u,a,n,e=!1){const{mixins:g,extends:h}=a;h&&Us(u,h,n,!0),g&&g.forEach(p=>Us(u,p,n,!0));for(const p in a)if(!(e&&p==="expose")){const t=gf[p]||n&&n[p];u[p]=t?t(u[p],a[p]):a[p]}return u}const gf={data:Xl,props:Qn,emits:Qn,methods:Qn,computed:Qn,beforeCreate:br,created:br,beforeMount:br,mounted:br,beforeUpdate:br,updated:br,beforeDestroy:br,beforeUnmount:br,destroyed:br,unmounted:br,activated:br,deactivated:br,errorCaptured:br,serverPrefetch:br,components:Qn,directives:Qn,watch:vf,provide:Xl,inject:yf};function Xl(u,a){return a?u?function(){return mr(xt(u)?u.call(this,this):u,xt(a)?a.call(this,this):a)}:a:u}function yf(u,a){return Qn(Fi(u),Fi(a))}function Fi(u){if(vt(u)){const a={};for(let n=0;n<u.length;n++)a[u[n]]=u[n];return a}return u}function br(u,a){return u?[...new Set([].concat(u,a))]:a}function Qn(u,a){return u?mr(mr(Object.create(null),u),a):a}function vf(u,a){if(!u)return a;if(!a)return u;const n=mr(Object.create(null),u);for(const e in a)n[e]=br(u[e],a[e]);return n}function bf(u,a,n,e=!1){const g={},h={};Ds(h,Js,1),u.propsDefaults=Object.create(null),hc(u,a,g,h);for(const p in u.propsOptions[0])p in g||(g[p]=void 0);n?u.props=e?g:Ah(g):u.type.props?u.props=g:u.props=h,u.attrs=h}function wf(u,a,n,e){const{props:g,attrs:h,vnode:{patchFlag:p}}=u,t=Pt(g),[c]=u.propsOptions;let d=!1;if((e||p>0)&&!(p&16)){if(p&8){const m=u.vnode.dynamicProps;for(let f=0;f<m.length;f++){let o=m[f];if(Ys(u.emitsOptions,o))continue;const r=a[o];if(c)if(Ot(h,o))r!==h[o]&&(h[o]=r,d=!0);else{const s=fn(o);g[s]=Ni(c,t,s,r,u,!1)}else r!==h[o]&&(h[o]=r,d=!0)}}}else{hc(u,a,g,h)&&(d=!0);let m;for(const f in t)(!a||!Ot(a,f)&&((m=Bo(f))===f||!Ot(a,m)))&&(c?n&&(n[f]!==void 0||n[m]!==void 0)&&(g[f]=Ni(c,t,f,void 0,u,!0)):delete g[f]);if(h!==t)for(const f in h)(!a||!Ot(a,f))&&(delete h[f],d=!0)}d&&_n(u,"set","$attrs")}function hc(u,a,n,e){const[g,h]=u.propsOptions;let p=!1,t;if(a)for(let c in a){if(Ts(c))continue;const d=a[c];let m;g&&Ot(g,m=fn(c))?!h||!h.includes(m)?n[m]=d:(t||(t={}))[m]=d:Ys(u.emitsOptions,c)||(!(c in e)||d!==e[c])&&(e[c]=d,p=!0)}if(h){const c=Pt(n),d=t||Kt;for(let m=0;m<h.length;m++){const f=h[m];n[f]=Ni(g,c,f,d[f],u,!Ot(d,f))}}return p}function Ni(u,a,n,e,g,h){const p=u[n];if(p!=null){const t=Ot(p,"default");if(t&&e===void 0){const c=p.default;if(p.type!==Function&&xt(c)){const{propsDefaults:d}=g;n in d?e=d[n]:(ko(g),e=d[n]=c.call(null,a),so())}else e=c}p[0]&&(h&&!t?e=!1:p[1]&&(e===""||e===Bo(n))&&(e=!0))}return e}function fc(u,a,n=!1){const e=a.propsCache,g=e.get(u);if(g)return g;const h=u.props,p={},t=[];let c=!1;if(!xt(u)){const m=f=>{c=!0;const[o,r]=fc(f,a,!0);mr(p,o),r&&t.push(...r)};!n&&a.mixins.length&&a.mixins.forEach(m),u.extends&&m(u.extends),u.mixins&&u.mixins.forEach(m)}if(!h&&!c)return Qt(u)&&e.set(u,Co),Co;if(vt(h))for(let m=0;m<h.length;m++){const f=fn(h[m]);Yl(f)&&(p[f]=Kt)}else if(h)for(const m in h){const f=fn(m);if(Yl(f)){const o=h[m],r=p[f]=vt(o)||xt(o)?{type:o}:Object.assign({},o);if(r){const s=Zl(Boolean,r.type),i=Zl(String,r.type);r[0]=s>-1,r[1]=i<0||s<i,(s>-1||Ot(r,"default"))&&t.push(f)}}}const d=[p,t];return Qt(u)&&e.set(u,d),d}function Yl(u){return u[0]!=="$"}function $l(u){const a=u&&u.toString().match(/^\s*(function|class) (\w+)/);return a?a[2]:u===null?"null":""}function Kl(u,a){return $l(u)===$l(a)}function Zl(u,a){return vt(a)?a.findIndex(n=>Kl(n,u)):xt(a)&&Kl(a,u)?0:-1}const pc=u=>u[0]==="_"||u==="$stable",Da=u=>vt(u)?u.map(cn):[cn(u)],xf=(u,a,n)=>{if(a._n)return a;const e=Vh((...g)=>Da(a(...g)),n);return e._c=!1,e},mc=(u,a,n)=>{const e=u._ctx;for(const g in u){if(pc(g))continue;const h=u[g];if(xt(h))a[g]=xf(g,h,e);else if(h!=null){const p=Da(h);a[g]=()=>p}}},gc=(u,a)=>{const n=Da(a);u.slots.default=()=>n},_f=(u,a)=>{if(u.vnode.shapeFlag&32){const n=a._;n?(u.slots=Pt(a),Ds(a,"_",n)):mc(a,u.slots={})}else u.slots={},a&&gc(u,a);Ds(u.slots,Js,1)},Sf=(u,a,n)=>{const{vnode:e,slots:g}=u;let h=!0,p=Kt;if(e.shapeFlag&32){const t=a._;t?n&&t===1?h=!1:(mr(g,a),!n&&t===1&&delete g._):(h=!a.$stable,mc(a,g)),p=a}else a&&(gc(u,a),p={default:1});if(h)for(const t in g)!pc(t)&&!(t in p)&&delete g[t]};function yc(){return{app:null,config:{isNativeTag:qd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jf=0;function Tf(u,a){return function(e,g=null){xt(e)||(e=Object.assign({},e)),g!=null&&!Qt(g)&&(g=null);const h=yc(),p=new Set;let t=!1;const c=h.app={_uid:jf++,_component:e,_props:g,_container:null,_context:h,_instance:null,version:Yf,get config(){return h.config},set config(d){},use(d,...m){return p.has(d)||(d&&xt(d.install)?(p.add(d),d.install(c,...m)):xt(d)&&(p.add(d),d(c,...m))),c},mixin(d){return h.mixins.includes(d)||h.mixins.push(d),c},component(d,m){return m?(h.components[d]=m,c):h.components[d]},directive(d,m){return m?(h.directives[d]=m,c):h.directives[d]},mount(d,m,f){if(!t){const o=xn(e,g);return o.appContext=h,m&&a?a(o,d):u(o,d,f),t=!0,c._container=d,d.__vue_app__=c,Ba(o.component)||o.component.proxy}},unmount(){t&&(u(null,c._container),delete c._container.__vue_app__)},provide(d,m){return h.provides[d]=m,c}};return c}}function Gi(u,a,n,e,g=!1){if(vt(u)){u.forEach((o,r)=>Gi(o,a&&(vt(a)?a[r]:a),n,e,g));return}if(Cs(e)&&!g)return;const h=e.shapeFlag&4?Ba(e.component)||e.component.proxy:e.el,p=g?null:h,{i:t,r:c}=u,d=a&&a.r,m=t.refs===Kt?t.refs={}:t.refs,f=t.setupState;if(d!=null&&d!==c&&(or(d)?(m[d]=null,Ot(f,d)&&(f[d]=null)):hr(d)&&(d.value=null)),xt(c))Dn(c,t,12,[p,m]);else{const o=or(c),r=hr(c);if(o||r){const s=()=>{if(u.f){const i=o?Ot(f,c)?f[c]:m[c]:c.value;g?vt(i)&&va(i,h):vt(i)?i.includes(h)||i.push(h):o?(m[c]=[h],Ot(f,c)&&(f[c]=m[c])):(c.value=[h],u.k&&(m[u.k]=c.value))}else o?(m[c]=p,Ot(f,c)&&(f[c]=p)):r&&(c.value=p,u.k&&(m[u.k]=p))};p?(s.id=-1,Sr(s,n)):s()}}}const Sr=Yh;function Ef(u){return Cf(u)}function Cf(u,a){const n=Jd();n.__VUE__=!0;const{insert:e,remove:g,patchProp:h,createElement:p,createText:t,createComment:c,setText:d,setElementText:m,parentNode:f,nextSibling:o,setScopeId:r=Kr,insertStaticContent:s}=u,i=(B,F,re,$=null,ne=null,ie=null,oe=!1,pe=null,ge=!!F.dynamicChildren)=>{if(B===F)return;B&&!eo(B,F)&&($=Se(B),xe(B,ne,ie,!0),B=null),F.patchFlag===-2&&(ge=!1,F.dynamicChildren=null);const{type:he,ref:Pe,shapeFlag:Be}=F;switch(he){case Zs:l(B,F,re,$);break;case Zr:v(B,F,re,$);break;case ji:B==null&&w(F,re,$,oe);break;case Or:U(B,F,re,$,ne,ie,oe,pe,ge);break;default:Be&1?E(B,F,re,$,ne,ie,oe,pe,ge):Be&6?D(B,F,re,$,ne,ie,oe,pe,ge):(Be&64||Be&128)&&he.process(B,F,re,$,ne,ie,oe,pe,ge,G)}Pe!=null&&ne&&Gi(Pe,B&&B.ref,ie,F||B,!F)},l=(B,F,re,$)=>{if(B==null)e(F.el=t(F.children),re,$);else{const ne=F.el=B.el;F.children!==B.children&&d(ne,F.children)}},v=(B,F,re,$)=>{B==null?e(F.el=c(F.children||""),re,$):F.el=B.el},w=(B,F,re,$)=>{[B.el,B.anchor]=s(B.children,F,re,$,B.el,B.anchor)},x=({el:B,anchor:F},re,$)=>{let ne;for(;B&&B!==F;)ne=o(B),e(B,re,$),B=ne;e(F,re,$)},_=({el:B,anchor:F})=>{let re;for(;B&&B!==F;)re=o(B),g(B),B=re;g(F)},E=(B,F,re,$,ne,ie,oe,pe,ge)=>{oe=oe||F.type==="svg",B==null?C(F,re,$,ne,ie,oe,pe,ge):I(B,F,ne,ie,oe,pe,ge)},C=(B,F,re,$,ne,ie,oe,pe)=>{let ge,he;const{type:Pe,props:Be,shapeFlag:Ue,transition:Le,dirs:Ze}=B;if(ge=B.el=p(B.type,ie,Be&&Be.is,Be),Ue&8?m(ge,B.children):Ue&16&&O(B.children,ge,null,$,ne,ie&&Pe!=="foreignObject",oe,pe),Ze&&Kn(B,null,$,"created"),A(ge,B,B.scopeId,oe,$),Be){for(const Ae in Be)Ae!=="value"&&!Ts(Ae)&&h(ge,Ae,null,Be[Ae],ie,B.children,$,ne,_e);"value"in Be&&h(ge,"value",null,Be.value),(he=Be.onVnodeBeforeMount)&&on(he,$,B)}Ze&&Kn(B,null,$,"beforeMount");const Re=(!ne||ne&&!ne.pendingBranch)&&Le&&!Le.persisted;Re&&Le.beforeEnter(ge),e(ge,F,re),((he=Be&&Be.onVnodeMounted)||Re||Ze)&&Sr(()=>{he&&on(he,$,B),Re&&Le.enter(ge),Ze&&Kn(B,null,$,"mounted")},ne)},A=(B,F,re,$,ne)=>{if(re&&r(B,re),$)for(let ie=0;ie<$.length;ie++)r(B,$[ie]);if(ne){let ie=ne.subTree;if(F===ie){const oe=ne.vnode;A(B,oe,oe.scopeId,oe.slotScopeIds,ne.parent)}}},O=(B,F,re,$,ne,ie,oe,pe,ge=0)=>{for(let he=ge;he<B.length;he++){const Pe=B[he]=pe?On(B[he]):cn(B[he]);i(null,Pe,F,re,$,ne,ie,oe,pe)}},I=(B,F,re,$,ne,ie,oe)=>{const pe=F.el=B.el;let{patchFlag:ge,dynamicChildren:he,dirs:Pe}=F;ge|=B.patchFlag&16;const Be=B.props||Kt,Ue=F.props||Kt;let Le;re&&Zn(re,!1),(Le=Ue.onVnodeBeforeUpdate)&&on(Le,re,F,B),Pe&&Kn(F,B,re,"beforeUpdate"),re&&Zn(re,!0);const Ze=ne&&F.type!=="foreignObject";if(he?R(B.dynamicChildren,he,pe,re,$,Ze,ie):oe||J(B,F,pe,null,re,$,Ze,ie,!1),ge>0){if(ge&16)L(pe,F,Be,Ue,re,$,ne);else if(ge&2&&Be.class!==Ue.class&&h(pe,"class",null,Ue.class,ne),ge&4&&h(pe,"style",Be.style,Ue.style,ne),ge&8){const Re=F.dynamicProps;for(let Ae=0;Ae<Re.length;Ae++){const ze=Re[Ae],Ye=Be[ze],be=Ue[ze];(be!==Ye||ze==="value")&&h(pe,ze,Ye,be,ne,B.children,re,$,_e)}}ge&1&&B.children!==F.children&&m(pe,F.children)}else!oe&&he==null&&L(pe,F,Be,Ue,re,$,ne);((Le=Ue.onVnodeUpdated)||Pe)&&Sr(()=>{Le&&on(Le,re,F,B),Pe&&Kn(F,B,re,"updated")},$)},R=(B,F,re,$,ne,ie,oe)=>{for(let pe=0;pe<F.length;pe++){const ge=B[pe],he=F[pe],Pe=ge.el&&(ge.type===Or||!eo(ge,he)||ge.shapeFlag&70)?f(ge.el):re;i(ge,he,Pe,null,$,ne,ie,oe,!0)}},L=(B,F,re,$,ne,ie,oe)=>{if(re!==$){if(re!==Kt)for(const pe in re)!Ts(pe)&&!(pe in $)&&h(B,pe,re[pe],null,oe,F.children,ne,ie,_e);for(const pe in $){if(Ts(pe))continue;const ge=$[pe],he=re[pe];ge!==he&&pe!=="value"&&h(B,pe,he,ge,oe,F.children,ne,ie,_e)}"value"in $&&h(B,"value",re.value,$.value)}},U=(B,F,re,$,ne,ie,oe,pe,ge)=>{const he=F.el=B?B.el:t(""),Pe=F.anchor=B?B.anchor:t("");let{patchFlag:Be,dynamicChildren:Ue,slotScopeIds:Le}=F;Le&&(pe=pe?pe.concat(Le):Le),B==null?(e(he,re,$),e(Pe,re,$),O(F.children,re,Pe,ne,ie,oe,pe,ge)):Be>0&&Be&64&&Ue&&B.dynamicChildren?(R(B.dynamicChildren,Ue,re,ne,ie,oe,pe),(F.key!=null||ne&&F===ne.subTree)&&vc(B,F,!0)):J(B,F,re,Pe,ne,ie,oe,pe,ge)},D=(B,F,re,$,ne,ie,oe,pe,ge)=>{F.slotScopeIds=pe,B==null?F.shapeFlag&512?ne.ctx.activate(F,re,$,oe,ge):W(F,re,$,ne,ie,oe,ge):H(B,F,ge)},W=(B,F,re,$,ne,ie,oe)=>{const pe=B.component=Uf(B,$,ne);if($s(B)&&(pe.ctx.renderer=G),Nf(pe),pe.asyncDep){if(ne&&ne.registerDep(pe,ae),!B.el){const ge=pe.subTree=xn(Zr);v(null,ge,F,re)}return}ae(pe,B,F,re,ne,ie,oe)},H=(B,F,re)=>{const $=F.component=B.component;if(zh(B,F,re))if($.asyncDep&&!$.asyncResolved){le($,F,re);return}else $.next=F,Uh($.update),$.update();else F.el=B.el,$.vnode=F},ae=(B,F,re,$,ne,ie,oe)=>{const pe=()=>{if(B.isMounted){let{next:Pe,bu:Be,u:Ue,parent:Le,vnode:Ze}=B,Re=Pe,Ae;Zn(B,!1),Pe?(Pe.el=Ze.el,le(B,Pe,oe)):Pe=Ze,Be&&bi(Be),(Ae=Pe.props&&Pe.props.onVnodeBeforeUpdate)&&on(Ae,Le,Pe,Ze),Zn(B,!0);const ze=wi(B),Ye=B.subTree;B.subTree=ze,i(Ye,ze,f(Ye.el),Se(Ye),B,ne,ie),Pe.el=ze.el,Re===null&&qh(B,ze.el),Ue&&Sr(Ue,ne),(Ae=Pe.props&&Pe.props.onVnodeUpdated)&&Sr(()=>on(Ae,Le,Pe,Ze),ne)}else{let Pe;const{el:Be,props:Ue}=F,{bm:Le,m:Ze,parent:Re}=B,Ae=Cs(F);if(Zn(B,!1),Le&&bi(Le),!Ae&&(Pe=Ue&&Ue.onVnodeBeforeMount)&&on(Pe,Re,F),Zn(B,!0),Be&&ee){const ze=()=>{B.subTree=wi(B),ee(Be,B.subTree,B,ne,null)};Ae?F.type.__asyncLoader().then(()=>!B.isUnmounted&&ze()):ze()}else{const ze=B.subTree=wi(B);i(null,ze,re,$,B,ne,ie),F.el=ze.el}if(Ze&&Sr(Ze,ne),!Ae&&(Pe=Ue&&Ue.onVnodeMounted)){const ze=F;Sr(()=>on(Pe,Re,ze),ne)}(F.shapeFlag&256||Re&&Cs(Re.vnode)&&Re.vnode.shapeFlag&256)&&B.a&&Sr(B.a,ne),B.isMounted=!0,F=re=$=null}},ge=B.effect=new _a(pe,()=>Oa(he),B.scope),he=B.update=()=>ge.run();he.id=B.uid,Zn(B,!0),he()},le=(B,F,re)=>{F.component=B;const $=B.vnode.props;B.vnode=F,B.next=null,wf(B,F.props,$,re),Sf(B,F.children,re),Uo(),Vl(),Fo()},J=(B,F,re,$,ne,ie,oe,pe,ge=!1)=>{const he=B&&B.children,Pe=B?B.shapeFlag:0,Be=F.children,{patchFlag:Ue,shapeFlag:Le}=F;if(Ue>0){if(Ue&128){se(he,Be,re,$,ne,ie,oe,pe,ge);return}else if(Ue&256){ue(he,Be,re,$,ne,ie,oe,pe,ge);return}}Le&8?(Pe&16&&_e(he,ne,ie),Be!==he&&m(re,Be)):Pe&16?Le&16?se(he,Be,re,$,ne,ie,oe,pe,ge):_e(he,ne,ie,!0):(Pe&8&&m(re,""),Le&16&&O(Be,re,$,ne,ie,oe,pe,ge))},ue=(B,F,re,$,ne,ie,oe,pe,ge)=>{B=B||Co,F=F||Co;const he=B.length,Pe=F.length,Be=Math.min(he,Pe);let Ue;for(Ue=0;Ue<Be;Ue++){const Le=F[Ue]=ge?On(F[Ue]):cn(F[Ue]);i(B[Ue],Le,re,null,ne,ie,oe,pe,ge)}he>Pe?_e(B,ne,ie,!0,!1,Be):O(F,re,$,ne,ie,oe,pe,ge,Be)},se=(B,F,re,$,ne,ie,oe,pe,ge)=>{let he=0;const Pe=F.length;let Be=B.length-1,Ue=Pe-1;for(;he<=Be&&he<=Ue;){const Le=B[he],Ze=F[he]=ge?On(F[he]):cn(F[he]);if(eo(Le,Ze))i(Le,Ze,re,null,ne,ie,oe,pe,ge);else break;he++}for(;he<=Be&&he<=Ue;){const Le=B[Be],Ze=F[Ue]=ge?On(F[Ue]):cn(F[Ue]);if(eo(Le,Ze))i(Le,Ze,re,null,ne,ie,oe,pe,ge);else break;Be--,Ue--}if(he>Be){if(he<=Ue){const Le=Ue+1,Ze=Le<Pe?F[Le].el:$;for(;he<=Ue;)i(null,F[he]=ge?On(F[he]):cn(F[he]),re,Ze,ne,ie,oe,pe,ge),he++}}else if(he>Ue)for(;he<=Be;)xe(B[he],ne,ie,!0),he++;else{const Le=he,Ze=he,Re=new Map;for(he=Ze;he<=Ue;he++){const z=F[he]=ge?On(F[he]):cn(F[he]);z.key!=null&&Re.set(z.key,he)}let Ae,ze=0;const Ye=Ue-Ze+1;let be=!1,tt=0;const V=new Array(Ye);for(he=0;he<Ye;he++)V[he]=0;for(he=Le;he<=Be;he++){const z=B[he];if(ze>=Ye){xe(z,ne,ie,!0);continue}let K;if(z.key!=null)K=Re.get(z.key);else for(Ae=Ze;Ae<=Ue;Ae++)if(V[Ae-Ze]===0&&eo(z,F[Ae])){K=Ae;break}K===void 0?xe(z,ne,ie,!0):(V[K-Ze]=he+1,K>=tt?tt=K:be=!0,i(z,F[K],re,null,ne,ie,oe,pe,ge),ze++)}const Z=be?Mf(V):Co;for(Ae=Z.length-1,he=Ye-1;he>=0;he--){const z=Ze+he,K=F[z],de=z+1<Pe?F[z+1].el:$;V[he]===0?i(null,K,re,de,ne,ie,oe,pe,ge):be&&(Ae<0||he!==Z[Ae]?me(K,re,de,2):Ae--)}}},me=(B,F,re,$,ne=null)=>{const{el:ie,type:oe,transition:pe,children:ge,shapeFlag:he}=B;if(he&6){me(B.component.subTree,F,re,$);return}if(he&128){B.suspense.move(F,re,$);return}if(he&64){oe.move(B,F,re,G);return}if(oe===Or){e(ie,F,re);for(let Be=0;Be<ge.length;Be++)me(ge[Be],F,re,$);e(B.anchor,F,re);return}if(oe===ji){x(B,F,re);return}if($!==2&&he&1&&pe)if($===0)pe.beforeEnter(ie),e(ie,F,re),Sr(()=>pe.enter(ie),ne);else{const{leave:Be,delayLeave:Ue,afterLeave:Le}=pe,Ze=()=>e(ie,F,re),Re=()=>{Be(ie,()=>{Ze(),Le&&Le()})};Ue?Ue(ie,Ze,Re):Re()}else e(ie,F,re)},xe=(B,F,re,$=!1,ne=!1)=>{const{type:ie,props:oe,ref:pe,children:ge,dynamicChildren:he,shapeFlag:Pe,patchFlag:Be,dirs:Ue}=B;if(pe!=null&&Gi(pe,null,re,B,!0),Pe&256){F.ctx.deactivate(B);return}const Le=Pe&1&&Ue,Ze=!Cs(B);let Re;if(Ze&&(Re=oe&&oe.onVnodeBeforeUnmount)&&on(Re,F,B),Pe&6)De(B.component,re,$);else{if(Pe&128){B.suspense.unmount(re,$);return}Le&&Kn(B,null,F,"beforeUnmount"),Pe&64?B.type.remove(B,F,re,ne,G,$):he&&(ie!==Or||Be>0&&Be&64)?_e(he,F,re,!1,!0):(ie===Or&&Be&384||!ne&&Pe&16)&&_e(ge,F,re),$&&Ee(B)}(Ze&&(Re=oe&&oe.onVnodeUnmounted)||Le)&&Sr(()=>{Re&&on(Re,F,B),Le&&Kn(B,null,F,"unmounted")},re)},Ee=B=>{const{type:F,el:re,anchor:$,transition:ne}=B;if(F===Or){ve(re,$);return}if(F===ji){_(B);return}const ie=()=>{g(re),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(B.shapeFlag&1&&ne&&!ne.persisted){const{leave:oe,delayLeave:pe}=ne,ge=()=>oe(re,ie);pe?pe(B.el,ie,ge):ge()}else ie()},ve=(B,F)=>{let re;for(;B!==F;)re=o(B),g(B),B=re;g(F)},De=(B,F,re)=>{const{bum:$,scope:ne,update:ie,subTree:oe,um:pe}=B;$&&bi($),ne.stop(),ie&&(ie.active=!1,xe(oe,B,F,re)),pe&&Sr(pe,F),Sr(()=>{B.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},_e=(B,F,re,$=!1,ne=!1,ie=0)=>{for(let oe=ie;oe<B.length;oe++)xe(B[oe],F,re,$,ne)},Se=B=>B.shapeFlag&6?Se(B.component.subTree):B.shapeFlag&128?B.suspense.next():o(B.anchor||B.el),P=(B,F,re)=>{B==null?F._vnode&&xe(F._vnode,null,null,!0):i(F._vnode||null,B,F,null,null,null,re),Vl(),Ku(),F._vnode=B},G={p:i,um:xe,m:me,r:Ee,mt:W,mc:O,pc:J,pbc:R,n:Se,o:u};let Y,ee;return a&&([Y,ee]=a(G)),{render:P,hydrate:Y,createApp:Tf(P,Y)}}function Zn({effect:u,update:a},n){u.allowRecurse=a.allowRecurse=n}function vc(u,a,n=!1){const e=u.children,g=a.children;if(vt(e)&&vt(g))for(let h=0;h<e.length;h++){const p=e[h];let t=g[h];t.shapeFlag&1&&!t.dynamicChildren&&((t.patchFlag<=0||t.patchFlag===32)&&(t=g[h]=On(g[h]),t.el=p.el),n||vc(p,t)),t.type===Zs&&(t.el=p.el)}}function Mf(u){const a=u.slice(),n=[0];let e,g,h,p,t;const c=u.length;for(e=0;e<c;e++){const d=u[e];if(d!==0){if(g=n[n.length-1],u[g]<d){a[e]=g,n.push(e);continue}for(h=0,p=n.length-1;h<p;)t=h+p>>1,u[n[t]]<d?h=t+1:p=t;d<u[n[h]]&&(h>0&&(a[e]=n[h-1]),n[h]=e)}}for(h=n.length,p=n[h-1];h-- >0;)n[h]=p,p=a[p];return n}const Af=u=>u.__isTeleport,Or=Symbol(void 0),Zs=Symbol(void 0),Zr=Symbol(void 0),ji=Symbol(void 0),es=[];let $r=null;function _r(u=!1){es.push($r=u?null:[])}function Rf(){es.pop(),$r=es[es.length-1]||null}let ss=1;function Ql(u){ss+=u}function bc(u){return u.dynamicChildren=ss>0?$r||Co:null,Rf(),ss>0&&$r&&$r.push(u),u}function Xr(u,a,n,e,g,h){return bc(fr(u,a,n,e,g,h,!0))}function Qs(u,a,n,e,g){return bc(xn(u,a,n,e,g,!0))}function Of(u){return u?u.__v_isVNode===!0:!1}function eo(u,a){return u.type===a.type&&u.key===a.key}const Js="__vInternal",wc=({key:u})=>u??null,Ms=({ref:u,ref_key:a,ref_for:n})=>u!=null?or(u)||hr(u)||xt(u)?{i:Ur,r:u,k:a,f:!!n}:u:null;function fr(u,a=null,n=null,e=0,g=null,h=u===Or?0:1,p=!1,t=!1){const c={__v_isVNode:!0,__v_skip:!0,type:u,props:a,key:a&&wc(a),ref:a&&Ms(a),scopeId:Ju,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:e,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:Ur};return t?(Ia(c,n),h&128&&u.normalize(c)):n&&(c.shapeFlag|=or(n)?8:16),ss>0&&!p&&$r&&(c.patchFlag>0||h&6)&&c.patchFlag!==32&&$r.push(c),c}const xn=Pf;function Pf(u,a=null,n=null,e=0,g=null,h=!1){if((!u||u===lc)&&(u=Zr),Of(u)){const t=Bn(u,a,!0);return n&&Ia(t,n),ss>0&&!h&&$r&&(t.shapeFlag&6?$r[$r.indexOf(u)]=t:$r.push(t)),t.patchFlag|=-2,t}if(zf(u)&&(u=u.__vccOpts),a){a=kf(a);let{class:t,style:c}=a;t&&!or(t)&&(a.class=cs(t)),Qt(c)&&(Wu(c)&&!vt(c)&&(c=mr({},c)),a.style=ga(c))}const p=or(u)?1:Xh(u)?128:Af(u)?64:Qt(u)?4:xt(u)?2:0;return fr(u,a,n,e,g,p,h,!0)}function kf(u){return u?Wu(u)||Js in u?mr({},u):u:null}function Bn(u,a,n=!1){const{props:e,ref:g,patchFlag:h,children:p}=u,t=a?Df(e||{},a):e;return{__v_isVNode:!0,__v_skip:!0,type:u.type,props:t,key:t&&wc(t),ref:a&&a.ref?n&&g?vt(g)?g.concat(Ms(a)):[g,Ms(a)]:Ms(a):g,scopeId:u.scopeId,slotScopeIds:u.slotScopeIds,children:p,target:u.target,targetAnchor:u.targetAnchor,staticCount:u.staticCount,shapeFlag:u.shapeFlag,patchFlag:a&&u.type!==Or?h===-1?16:h|16:h,dynamicProps:u.dynamicProps,dynamicChildren:u.dynamicChildren,appContext:u.appContext,dirs:u.dirs,transition:u.transition,component:u.component,suspense:u.suspense,ssContent:u.ssContent&&Bn(u.ssContent),ssFallback:u.ssFallback&&Bn(u.ssFallback),el:u.el,anchor:u.anchor,ctx:u.ctx,ce:u.ce}}function Lf(u=" ",a=0){return xn(Zs,null,u,a)}function So(u="",a=!1){return a?(_r(),Qs(Zr,null,u)):xn(Zr,null,u)}function cn(u){return u==null||typeof u=="boolean"?xn(Zr):vt(u)?xn(Or,null,u.slice()):typeof u=="object"?On(u):xn(Zs,null,String(u))}function On(u){return u.el===null&&u.patchFlag!==-1||u.memo?u:Bn(u)}function Ia(u,a){let n=0;const{shapeFlag:e}=u;if(a==null)a=null;else if(vt(a))n=16;else if(typeof a=="object")if(e&65){const g=a.default;g&&(g._c&&(g._d=!1),Ia(u,g()),g._c&&(g._d=!0));return}else{n=32;const g=a._;!g&&!(Js in a)?a._ctx=Ur:g===3&&Ur&&(Ur.slots._===1?a._=1:(a._=2,u.patchFlag|=1024))}else xt(a)?(a={default:a,_ctx:Ur},n=32):(a=String(a),e&64?(n=16,a=[Lf(a)]):n=8);u.children=a,u.shapeFlag|=n}function Df(...u){const a={};for(let n=0;n<u.length;n++){const e=u[n];for(const g in e)if(g==="class")a.class!==e.class&&(a.class=cs([a.class,e.class]));else if(g==="style")a.style=ga([a.style,e.style]);else if(Vs(g)){const h=a[g],p=e[g];p&&h!==p&&!(vt(h)&&h.includes(p))&&(a[g]=h?[].concat(h,p):p)}else g!==""&&(a[g]=e[g])}return a}function on(u,a,n,e=null){Fr(u,a,7,[n,e])}const If=yc();let Bf=0;function Uf(u,a,n){const e=u.type,g=(a?a.appContext:u.appContext)||If,h={uid:Bf++,vnode:u,type:e,parent:a,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,scope:new eh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(g.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fc(e,g),emitsOptions:Qu(e,g),emit:null,emitted:null,propsDefaults:Kt,inheritAttrs:e.inheritAttrs,ctx:Kt,data:Kt,props:Kt,attrs:Kt,slots:Kt,refs:Kt,setupState:Kt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=a?a.root:h,h.emit=Gh.bind(null,h),u.ce&&u.ce(h),h}let tr=null;const Ff=()=>tr||Ur,ko=u=>{tr=u,u.scope.on()},so=()=>{tr&&tr.scope.off(),tr=null};function xc(u){return u.vnode.shapeFlag&4}let is=!1;function Nf(u,a=!1){is=a;const{props:n,children:e}=u.vnode,g=xc(u);bf(u,n,g,a),_f(u,e);const h=g?Gf(u,a):void 0;return is=!1,h}function Gf(u,a){const n=u.type;u.accessCache=Object.create(null),u.proxy=Ma(new Proxy(u.ctx,ff));const{setup:e}=n;if(e){const g=u.setupContext=e.length>1?Wf(u):null;ko(u),Uo();const h=Dn(e,u,0,[u.props,g]);if(Fo(),so(),Au(h)){if(h.then(so,so),a)return h.then(p=>{Jl(u,p,a)}).catch(p=>{Xs(p,u,0)});u.asyncDep=h}else Jl(u,h,a)}else _c(u,a)}function Jl(u,a,n){xt(a)?u.type.__ssrInlineRender?u.ssrRender=a:u.render=a:Qt(a)&&(u.setupState=qu(a)),_c(u,n)}let eu;function _c(u,a,n){const e=u.type;if(!u.render){if(!a&&eu&&!e.render){const g=e.template||La(u).template;if(g){const{isCustomElement:h,compilerOptions:p}=u.appContext.config,{delimiters:t,compilerOptions:c}=e,d=mr(mr({isCustomElement:h,delimiters:t},p),c);e.render=eu(g,d)}}u.render=e.render||Kr}ko(u),Uo(),pf(u),Fo(),so()}function Vf(u){return new Proxy(u.attrs,{get(a,n){return jr(u,"get","$attrs"),a[n]}})}function Wf(u){const a=e=>{u.exposed=e||{}};let n;return{get attrs(){return n||(n=Vf(u))},slots:u.slots,emit:u.emit,expose:a}}function Ba(u){if(u.exposed)return u.exposeProxy||(u.exposeProxy=new Proxy(qu(Ma(u.exposed)),{get(a,n){if(n in a)return a[n];if(n in Jo)return Jo[n](u)},has(a,n){return n in a||n in Jo}}))}function Hf(u,a=!0){return xt(u)?u.displayName||u.name:u.name||a&&u.__name}function zf(u){return xt(u)&&"__vccOpts"in u}const Vi=(u,a)=>Lh(u,a,is),qf=Symbol(""),Xf=()=>Es(qf),Yf="3.2.47",$f="http://www.w3.org/2000/svg",to=typeof document<"u"?document:null,tu=to&&to.createElement("template"),Kf={insert:(u,a,n)=>{a.insertBefore(u,n||null)},remove:u=>{const a=u.parentNode;a&&a.removeChild(u)},createElement:(u,a,n,e)=>{const g=a?to.createElementNS($f,u):to.createElement(u,n?{is:n}:void 0);return u==="select"&&e&&e.multiple!=null&&g.setAttribute("multiple",e.multiple),g},createText:u=>to.createTextNode(u),createComment:u=>to.createComment(u),setText:(u,a)=>{u.nodeValue=a},setElementText:(u,a)=>{u.textContent=a},parentNode:u=>u.parentNode,nextSibling:u=>u.nextSibling,querySelector:u=>to.querySelector(u),setScopeId(u,a){u.setAttribute(a,"")},insertStaticContent(u,a,n,e,g,h){const p=n?n.previousSibling:a.lastChild;if(g&&(g===h||g.nextSibling))for(;a.insertBefore(g.cloneNode(!0),n),!(g===h||!(g=g.nextSibling)););else{tu.innerHTML=e?`<svg>${u}</svg>`:u;const t=tu.content;if(e){const c=t.firstChild;for(;c.firstChild;)t.appendChild(c.firstChild);t.removeChild(c)}a.insertBefore(t,n)}return[p?p.nextSibling:a.firstChild,n?n.previousSibling:a.lastChild]}};function Zf(u,a,n){const e=u._vtc;e&&(a=(a?[a,...e]:[...e]).join(" ")),a==null?u.removeAttribute("class"):n?u.setAttribute("class",a):u.className=a}function Qf(u,a,n){const e=u.style,g=or(n);if(n&&!g){if(a&&!or(a))for(const h in a)n[h]==null&&Wi(e,h,"");for(const h in n)Wi(e,h,n[h])}else{const h=e.display;g?a!==n&&(e.cssText=n):a&&u.removeAttribute("style"),"_vod"in u&&(e.display=h)}}const ru=/\s*!important$/;function Wi(u,a,n){if(vt(n))n.forEach(e=>Wi(u,a,e));else if(n==null&&(n=""),a.startsWith("--"))u.setProperty(a,n);else{const e=Jf(u,a);ru.test(n)?u.setProperty(Bo(e),n.replace(ru,""),"important"):u[e]=n}}const nu=["Webkit","Moz","ms"],Ti={};function Jf(u,a){const n=Ti[a];if(n)return n;let e=fn(a);if(e!=="filter"&&e in u)return Ti[a]=e;e=zs(e);for(let g=0;g<nu.length;g++){const h=nu[g]+e;if(h in u)return Ti[a]=h}return a}const ou="http://www.w3.org/1999/xlink";function ep(u,a,n,e,g){if(e&&a.startsWith("xlink:"))n==null?u.removeAttributeNS(ou,a.slice(6,a.length)):u.setAttributeNS(ou,a,n);else{const h=zd(a);n==null||h&&!Eu(n)?u.removeAttribute(a):u.setAttribute(a,h?"":n)}}function tp(u,a,n,e,g,h,p){if(a==="innerHTML"||a==="textContent"){e&&p(e,g,h),u[a]=n??"";return}if(a==="value"&&u.tagName!=="PROGRESS"&&!u.tagName.includes("-")){u._value=n;const c=n??"";(u.value!==c||u.tagName==="OPTION")&&(u.value=c),n==null&&u.removeAttribute(a);return}let t=!1;if(n===""||n==null){const c=typeof u[a];c==="boolean"?n=Eu(n):n==null&&c==="string"?(n="",t=!0):c==="number"&&(n=0,t=!0)}try{u[a]=n}catch{}t&&u.removeAttribute(a)}function rp(u,a,n,e){u.addEventListener(a,n,e)}function np(u,a,n,e){u.removeEventListener(a,n,e)}function op(u,a,n,e,g=null){const h=u._vei||(u._vei={}),p=h[a];if(e&&p)p.value=e;else{const[t,c]=sp(a);if(e){const d=h[a]=lp(e,g);rp(u,t,d,c)}else p&&(np(u,t,p,c),h[a]=void 0)}}const su=/(?:Once|Passive|Capture)$/;function sp(u){let a;if(su.test(u)){a={};let e;for(;e=u.match(su);)u=u.slice(0,u.length-e[0].length),a[e[0].toLowerCase()]=!0}return[u[2]===":"?u.slice(3):Bo(u.slice(2)),a]}let Ei=0;const ip=Promise.resolve(),ap=()=>Ei||(ip.then(()=>Ei=0),Ei=Date.now());function lp(u,a){const n=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=n.attached)return;Fr(up(e,n.value),a,5,[e])};return n.value=u,n.attached=ap(),n}function up(u,a){if(vt(a)){const n=u.stopImmediatePropagation;return u.stopImmediatePropagation=()=>{n.call(u),u._stopped=!0},a.map(e=>g=>!g._stopped&&e&&e(g))}else return a}const iu=/^on[a-z]/,cp=(u,a,n,e,g=!1,h,p,t,c)=>{a==="class"?Zf(u,e,g):a==="style"?Qf(u,n,e):Vs(a)?ya(a)||op(u,a,n,e,p):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):dp(u,a,e,g))?tp(u,a,e,h,p,t,c):(a==="true-value"?u._trueValue=e:a==="false-value"&&(u._falseValue=e),ep(u,a,e,g))};function dp(u,a,n,e){return e?!!(a==="innerHTML"||a==="textContent"||a in u&&iu.test(a)&&xt(n)):a==="spellcheck"||a==="draggable"||a==="translate"||a==="form"||a==="list"&&u.tagName==="INPUT"||a==="type"&&u.tagName==="TEXTAREA"||iu.test(a)&&or(n)?!1:a in u}const hp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Jh.props;const fp=mr({patchProp:cp},Kf);let au;function pp(){return au||(au=Ef(fp))}const mp=(...u)=>{const a=pp().createApp(...u),{mount:n}=a;return a.mount=e=>{const g=gp(e);if(!g)return;const h=a._component;!xt(h)&&!h.render&&!h.template&&(h.template=g.innerHTML),g.innerHTML="";const p=n(g,!1,g instanceof SVGElement);return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),p},a};function gp(u){return or(u)?document.querySelector(u):u}var Ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yp(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function js(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hi={},vp={get exports(){return Hi},set exports(u){Hi=u}};/*! p5.js v1.4.2 July 21, 2022 */(function(u,a){(function(n){u.exports=n()})(function(){var n;return function e(g,h,p){function t(m,f){if(!h[m]){if(!g[m]){var o=typeof js=="function"&&js;if(!f&&o)return o(m,!0);if(c)return c(m,!0);var r=new Error("Cannot find module '"+m+"'");throw r.code="MODULE_NOT_FOUND",r}var s=h[m]={exports:{}};g[m][0].call(s.exports,function(i){return t(g[m][1][i]||i)},s,s.exports,e,g,h,p)}return h[m].exports}for(var c=typeof js=="function"&&js,d=0;d<p.length;d++)t(p[d]);return t}({1:[function(e,g,h){h.byteLength=function(s){var i=o(s),l=i[0],v=i[1];return 3*(l+v)/4-v},h.toByteArray=function(s){var i,l,v=o(s),w=v[0],x=v[1],_=new c(function(A,O){return 3*(A+O)/4-O}(w,x)),E=0,C=0<x?w-4:w;for(l=0;l<C;l+=4)i=t[s.charCodeAt(l)]<<18|t[s.charCodeAt(l+1)]<<12|t[s.charCodeAt(l+2)]<<6|t[s.charCodeAt(l+3)],_[E++]=i>>16&255,_[E++]=i>>8&255,_[E++]=255&i;return x===2&&(i=t[s.charCodeAt(l)]<<2|t[s.charCodeAt(l+1)]>>4,_[E++]=255&i),x===1&&(i=t[s.charCodeAt(l)]<<10|t[s.charCodeAt(l+1)]<<4|t[s.charCodeAt(l+2)]>>2,_[E++]=i>>8&255,_[E++]=255&i),_},h.fromByteArray=function(s){for(var i,l=s.length,v=l%3,w=[],x=0,_=l-v;x<_;x+=16383)w.push(r(s,x,_<x+16383?_:x+16383));return v==1?(i=s[l-1],w.push(p[i>>2]+p[i<<4&63]+"==")):v==2&&(i=(s[l-2]<<8)+s[l-1],w.push(p[i>>10]+p[i>>4&63]+p[i<<2&63]+"=")),w.join("")};for(var p=[],t=[],c=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,f=d.length;m<f;++m)p[m]=d[m],t[d.charCodeAt(m)]=m;function o(s){var i=s.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");var l=s.indexOf("=");return l===-1&&(l=i),[l,l===i?0:4-l%4]}function r(s,i,l){for(var v,w,x=[],_=i;_<l;_+=3)v=(s[_]<<16&16711680)+(s[_+1]<<8&65280)+(255&s[_+2]),x.push(p[(w=v)>>18&63]+p[w>>12&63]+p[w>>6&63]+p[63&w]);return x.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63},{}],2:[function(e,g,h){},{}],3:[function(e,g,h){arguments[4][2][0].apply(h,arguments)},{dup:2}],4:[function(e,g,h){(function(o){var t=e("base64-js"),c=e("ieee754"),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;h.Buffer=o,h.SlowBuffer=function(P){return+P!=P&&(P=0),o.alloc(+P)},h.INSPECT_MAX_BYTES=50;var m=2147483647;function f(P){if(m<P)throw new RangeError('The value "'+P+'" is invalid for option "size"');var G=new Uint8Array(P);return Object.setPrototypeOf(G,o.prototype),G}function o(P,G,Y){if(typeof P!="number")return r(P,G,Y);if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return i(P)}function r(P,G,Y){if(typeof P=="string")return function(F,re){if(typeof re=="string"&&re!==""||(re="utf8"),!o.isEncoding(re))throw new TypeError("Unknown encoding: "+re);var $=0|w(F,re),ne=f($),ie=ne.write(F,re);return ie!==$&&(ne=ne.slice(0,ie)),ne}(P,G);if(ArrayBuffer.isView(P))return l(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(De(P,ArrayBuffer)||P&&De(P.buffer,ArrayBuffer))return function(F,re,$){if(re<0||F.byteLength<re)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<re+($||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=re===void 0&&$===void 0?new Uint8Array(F):$===void 0?new Uint8Array(F,re):new Uint8Array(F,re,$),Object.setPrototypeOf(ne,o.prototype),ne}(P,G,Y);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=P.valueOf&&P.valueOf();if(ee!=null&&ee!==P)return o.from(ee,G,Y);var B=function(F){if(o.isBuffer(F)){var re=0|v(F.length),$=f(re);return $.length===0||F.copy($,0,0,re),$}if(F.length!==void 0)return typeof F.length!="number"||_e(F.length)?f(0):l(F);if(F.type==="Buffer"&&Array.isArray(F.data))return l(F.data)}(P);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return o.from(P[Symbol.toPrimitive]("string"),G,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function s(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function i(P){return s(P),f(P<0?0:0|v(P))}function l(P){for(var G=P.length<0?0:0|v(P.length),Y=f(G),ee=0;ee<G;ee+=1)Y[ee]=255&P[ee];return Y}function v(P){if(m<=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|P}function w(P,G){if(o.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||De(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var Y=P.length,ee=2<arguments.length&&arguments[2]===!0;if(!ee&&Y===0)return 0;for(var B=!1;;)switch(G){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return xe(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Y;case"hex":return Y>>>1;case"base64":return Ee(P).length;default:if(B)return ee?-1:xe(P).length;G=(""+G).toLowerCase(),B=!0}}function x(P,G,Y){var ee=P[G];P[G]=P[Y],P[Y]=ee}function _(P,G,Y,ee,B){if(P.length===0)return-1;if(typeof Y=="string"?(ee=Y,Y=0):2147483647<Y?Y=2147483647:Y<-2147483648&&(Y=-2147483648),_e(Y=+Y)&&(Y=B?0:P.length-1),Y<0&&(Y=P.length+Y),Y>=P.length){if(B)return-1;Y=P.length-1}else if(Y<0){if(!B)return-1;Y=0}if(typeof G=="string"&&(G=o.from(G,ee)),o.isBuffer(G))return G.length===0?-1:E(P,G,Y,ee,B);if(typeof G=="number")return G&=255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(P,G,Y):Uint8Array.prototype.lastIndexOf.call(P,G,Y):E(P,[G],Y,ee,B);throw new TypeError("val must be string, number or Buffer")}function E(P,G,Y,ee,B){var F,re=1,$=P.length,ne=G.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(P.length<2||G.length<2)return-1;$/=re=2,ne/=2,Y/=2}function ie(he,Pe){return re===1?he[Pe]:he.readUInt16BE(Pe*re)}if(B){var oe=-1;for(F=Y;F<$;F++)if(ie(P,F)===ie(G,oe===-1?0:F-oe)){if(oe===-1&&(oe=F),F-oe+1===ne)return oe*re}else oe!==-1&&(F-=F-oe),oe=-1}else for($<Y+ne&&(Y=$-ne),F=Y;0<=F;F--){for(var pe=!0,ge=0;ge<ne;ge++)if(ie(P,F+ge)!==ie(G,ge)){pe=!1;break}if(pe)return F}return-1}function C(P,G,Y,ee){Y=Number(Y)||0;var B=P.length-Y;ee?B<(ee=Number(ee))&&(ee=B):ee=B;var F=G.length;F/2<ee&&(ee=F/2);for(var re=0;re<ee;++re){var $=parseInt(G.substr(2*re,2),16);if(_e($))return re;P[Y+re]=$}return re}function A(P,G,Y,ee){return ve(function(B){for(var F=[],re=0;re<B.length;++re)F.push(255&B.charCodeAt(re));return F}(G),P,Y,ee)}function O(P,G,Y,ee){return ve(function(B,F){for(var re,$,ne,ie=[],oe=0;oe<B.length&&!((F-=2)<0);++oe)re=B.charCodeAt(oe),$=re>>8,ne=re%256,ie.push(ne),ie.push($);return ie}(G,P.length-Y),P,Y,ee)}function I(P,G,Y){return G===0&&Y===P.length?t.fromByteArray(P):t.fromByteArray(P.slice(G,Y))}function R(P,G,Y){Y=Math.min(P.length,Y);for(var ee=[],B=G;B<Y;){var F,re,$,ne,ie=P[B],oe=null,pe=239<ie?4:223<ie?3:191<ie?2:1;if(B+pe<=Y)switch(pe){case 1:ie<128&&(oe=ie);break;case 2:(192&(F=P[B+1]))==128&&127<(ne=(31&ie)<<6|63&F)&&(oe=ne);break;case 3:F=P[B+1],re=P[B+2],(192&F)==128&&(192&re)==128&&2047<(ne=(15&ie)<<12|(63&F)<<6|63&re)&&(ne<55296||57343<ne)&&(oe=ne);break;case 4:F=P[B+1],re=P[B+2],$=P[B+3],(192&F)==128&&(192&re)==128&&(192&$)==128&&65535<(ne=(15&ie)<<18|(63&F)<<12|(63&re)<<6|63&$)&&ne<1114112&&(oe=ne)}oe===null?(oe=65533,pe=1):65535<oe&&(oe-=65536,ee.push(oe>>>10&1023|55296),oe=56320|1023&oe),ee.push(oe),B+=pe}return function(ge){var he=ge.length;if(he<=L)return String.fromCharCode.apply(String,ge);for(var Pe="",Be=0;Be<he;)Pe+=String.fromCharCode.apply(String,ge.slice(Be,Be+=L));return Pe}(ee)}h.kMaxLength=m,(o.TYPED_ARRAY_SUPPORT=function(){try{var P=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(P,G),P.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(P,G,Y){return r(P,G,Y)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(P,G,Y){return B=G,F=Y,s(ee=P),ee<=0?f(ee):B!==void 0?typeof F=="string"?f(ee).fill(B,F):f(ee).fill(B):f(ee);var ee,B,F},o.allocUnsafe=function(P){return i(P)},o.allocUnsafeSlow=function(P){return i(P)},o.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==o.prototype},o.compare=function(P,G){if(De(P,Uint8Array)&&(P=o.from(P,P.offset,P.byteLength)),De(G,Uint8Array)&&(G=o.from(G,G.offset,G.byteLength)),!o.isBuffer(P)||!o.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===G)return 0;for(var Y=P.length,ee=G.length,B=0,F=Math.min(Y,ee);B<F;++B)if(P[B]!==G[B]){Y=P[B],ee=G[B];break}return Y<ee?-1:ee<Y?1:0},o.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(P,G){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return o.alloc(0);var Y;if(G===void 0)for(Y=G=0;Y<P.length;++Y)G+=P[Y].length;var ee=o.allocUnsafe(G),B=0;for(Y=0;Y<P.length;++Y){var F=P[Y];if(De(F,Uint8Array)&&(F=o.from(F)),!o.isBuffer(F))throw new TypeError('"list" argument must be an Array of Buffers');F.copy(ee,B),B+=F.length}return ee},o.byteLength=w,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<P;G+=2)x(this,G,G+1);return this},o.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<P;G+=4)x(this,G,G+3),x(this,G+1,G+2);return this},o.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<P;G+=8)x(this,G,G+7),x(this,G+1,G+6),x(this,G+2,G+5),x(this,G+3,G+4);return this},o.prototype.toLocaleString=o.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?R(this,0,P):function(G,Y,ee){var B=!1;if((Y===void 0||Y<0)&&(Y=0),Y>this.length||((ee===void 0||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0)<=(Y>>>=0))return"";for(G=G||"utf8";;)switch(G){case"hex":return W(this,Y,ee);case"utf8":case"utf-8":return R(this,Y,ee);case"ascii":return U(this,Y,ee);case"latin1":case"binary":return D(this,Y,ee);case"base64":return I(this,Y,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,Y,ee);default:if(B)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),B=!0}}.apply(this,arguments)},o.prototype.equals=function(P){if(!o.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P||o.compare(this,P)===0},o.prototype.inspect=function(){var P="",G=h.INSPECT_MAX_BYTES;return P=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(P+=" ... "),"<Buffer "+P+">"},d&&(o.prototype[d]=o.prototype.inspect),o.prototype.compare=function(P,G,Y,ee,B){if(De(P,Uint8Array)&&(P=o.from(P,P.offset,P.byteLength)),!o.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(G===void 0&&(G=0),Y===void 0&&(Y=P?P.length:0),ee===void 0&&(ee=0),B===void 0&&(B=this.length),G<0||Y>P.length||ee<0||B>this.length)throw new RangeError("out of range index");if(B<=ee&&Y<=G)return 0;if(B<=ee)return-1;if(Y<=G)return 1;if(this===P)return 0;for(var F=(B>>>=0)-(ee>>>=0),re=(Y>>>=0)-(G>>>=0),$=Math.min(F,re),ne=this.slice(ee,B),ie=P.slice(G,Y),oe=0;oe<$;++oe)if(ne[oe]!==ie[oe]){F=ne[oe],re=ie[oe];break}return F<re?-1:re<F?1:0},o.prototype.includes=function(P,G,Y){return this.indexOf(P,G,Y)!==-1},o.prototype.indexOf=function(P,G,Y){return _(this,P,G,Y,!0)},o.prototype.lastIndexOf=function(P,G,Y){return _(this,P,G,Y,!1)},o.prototype.write=function(P,G,Y,ee){if(G===void 0)ee="utf8",Y=this.length,G=0;else if(Y===void 0&&typeof G=="string")ee=G,Y=this.length,G=0;else{if(!isFinite(G))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");G>>>=0,isFinite(Y)?(Y>>>=0,ee===void 0&&(ee="utf8")):(ee=Y,Y=void 0)}var B=this.length-G;if((Y===void 0||B<Y)&&(Y=B),0<P.length&&(Y<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee=ee||"utf8";for(var F,re,$,ne,ie,oe,pe=!1;;)switch(ee){case"hex":return C(this,P,G,Y);case"utf8":case"utf-8":return ie=G,oe=Y,ve(xe(P,(ne=this).length-ie),ne,ie,oe);case"ascii":return A(this,P,G,Y);case"latin1":case"binary":return A(this,P,G,Y);case"base64":return F=this,re=G,$=Y,ve(Ee(P),F,re,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,P,G,Y);default:if(pe)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),pe=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function U(P,G,Y){var ee="";Y=Math.min(P.length,Y);for(var B=G;B<Y;++B)ee+=String.fromCharCode(127&P[B]);return ee}function D(P,G,Y){var ee="";Y=Math.min(P.length,Y);for(var B=G;B<Y;++B)ee+=String.fromCharCode(P[B]);return ee}function W(P,G,Y){var ee=P.length;(!G||G<0)&&(G=0),(!Y||Y<0||ee<Y)&&(Y=ee);for(var B="",F=G;F<Y;++F)B+=Se[P[F]];return B}function H(P,G,Y){for(var ee=P.slice(G,Y),B="",F=0;F<ee.length;F+=2)B+=String.fromCharCode(ee[F]+256*ee[F+1]);return B}function ae(P,G,Y){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(Y<P+G)throw new RangeError("Trying to access beyond buffer length")}function le(P,G,Y,ee,B,F){if(!o.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(B<G||G<F)throw new RangeError('"value" argument is out of bounds');if(Y+ee>P.length)throw new RangeError("Index out of range")}function J(P,G,Y,ee){if(Y+ee>P.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function ue(P,G,Y,ee,B){return G=+G,Y>>>=0,B||J(P,0,Y,4),c.write(P,G,Y,ee,23,4),Y+4}function se(P,G,Y,ee,B){return G=+G,Y>>>=0,B||J(P,0,Y,8),c.write(P,G,Y,ee,52,8),Y+8}o.prototype.slice=function(P,G){var Y=this.length;(P=~~P)<0?(P+=Y)<0&&(P=0):Y<P&&(P=Y),(G=G===void 0?Y:~~G)<0?(G+=Y)<0&&(G=0):Y<G&&(G=Y),G<P&&(G=P);var ee=this.subarray(P,G);return Object.setPrototypeOf(ee,o.prototype),ee},o.prototype.readUIntLE=function(P,G,Y){P>>>=0,G>>>=0,Y||ae(P,G,this.length);for(var ee=this[P],B=1,F=0;++F<G&&(B*=256);)ee+=this[P+F]*B;return ee},o.prototype.readUIntBE=function(P,G,Y){P>>>=0,G>>>=0,Y||ae(P,G,this.length);for(var ee=this[P+--G],B=1;0<G&&(B*=256);)ee+=this[P+--G]*B;return ee},o.prototype.readUInt8=function(P,G){return P>>>=0,G||ae(P,1,this.length),this[P]},o.prototype.readUInt16LE=function(P,G){return P>>>=0,G||ae(P,2,this.length),this[P]|this[P+1]<<8},o.prototype.readUInt16BE=function(P,G){return P>>>=0,G||ae(P,2,this.length),this[P]<<8|this[P+1]},o.prototype.readUInt32LE=function(P,G){return P>>>=0,G||ae(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},o.prototype.readUInt32BE=function(P,G){return P>>>=0,G||ae(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},o.prototype.readIntLE=function(P,G,Y){P>>>=0,G>>>=0,Y||ae(P,G,this.length);for(var ee=this[P],B=1,F=0;++F<G&&(B*=256);)ee+=this[P+F]*B;return(B*=128)<=ee&&(ee-=Math.pow(2,8*G)),ee},o.prototype.readIntBE=function(P,G,Y){P>>>=0,G>>>=0,Y||ae(P,G,this.length);for(var ee=G,B=1,F=this[P+--ee];0<ee&&(B*=256);)F+=this[P+--ee]*B;return(B*=128)<=F&&(F-=Math.pow(2,8*G)),F},o.prototype.readInt8=function(P,G){return P>>>=0,G||ae(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},o.prototype.readInt16LE=function(P,G){P>>>=0,G||ae(P,2,this.length);var Y=this[P]|this[P+1]<<8;return 32768&Y?4294901760|Y:Y},o.prototype.readInt16BE=function(P,G){P>>>=0,G||ae(P,2,this.length);var Y=this[P+1]|this[P]<<8;return 32768&Y?4294901760|Y:Y},o.prototype.readInt32LE=function(P,G){return P>>>=0,G||ae(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},o.prototype.readInt32BE=function(P,G){return P>>>=0,G||ae(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},o.prototype.readFloatLE=function(P,G){return P>>>=0,G||ae(P,4,this.length),c.read(this,P,!0,23,4)},o.prototype.readFloatBE=function(P,G){return P>>>=0,G||ae(P,4,this.length),c.read(this,P,!1,23,4)},o.prototype.readDoubleLE=function(P,G){return P>>>=0,G||ae(P,8,this.length),c.read(this,P,!0,52,8)},o.prototype.readDoubleBE=function(P,G){return P>>>=0,G||ae(P,8,this.length),c.read(this,P,!1,52,8)},o.prototype.writeUIntLE=function(P,G,Y,ee){P=+P,G>>>=0,Y>>>=0,ee||le(this,P,G,Y,Math.pow(2,8*Y)-1,0);var B=1,F=0;for(this[G]=255&P;++F<Y&&(B*=256);)this[G+F]=P/B&255;return G+Y},o.prototype.writeUIntBE=function(P,G,Y,ee){P=+P,G>>>=0,Y>>>=0,ee||le(this,P,G,Y,Math.pow(2,8*Y)-1,0);var B=Y-1,F=1;for(this[G+B]=255&P;0<=--B&&(F*=256);)this[G+B]=P/F&255;return G+Y},o.prototype.writeUInt8=function(P,G,Y){return P=+P,G>>>=0,Y||le(this,P,G,1,255,0),this[G]=255&P,G+1},o.prototype.writeUInt16LE=function(P,G,Y){return P=+P,G>>>=0,Y||le(this,P,G,2,65535,0),this[G]=255&P,this[G+1]=P>>>8,G+2},o.prototype.writeUInt16BE=function(P,G,Y){return P=+P,G>>>=0,Y||le(this,P,G,2,65535,0),this[G]=P>>>8,this[G+1]=255&P,G+2},o.prototype.writeUInt32LE=function(P,G,Y){return P=+P,G>>>=0,Y||le(this,P,G,4,4294967295,0),this[G+3]=P>>>24,this[G+2]=P>>>16,this[G+1]=P>>>8,this[G]=255&P,G+4},o.prototype.writeUInt32BE=function(P,G,Y){return P=+P,G>>>=0,Y||le(this,P,G,4,4294967295,0),this[G]=P>>>24,this[G+1]=P>>>16,this[G+2]=P>>>8,this[G+3]=255&P,G+4},o.prototype.writeIntLE=function(P,G,Y,ee){if(P=+P,G>>>=0,!ee){var B=Math.pow(2,8*Y-1);le(this,P,G,Y,B-1,-B)}var F=0,re=1,$=0;for(this[G]=255&P;++F<Y&&(re*=256);)P<0&&$===0&&this[G+F-1]!==0&&($=1),this[G+F]=(P/re>>0)-$&255;return G+Y},o.prototype.writeIntBE=function(P,G,Y,ee){if(P=+P,G>>>=0,!ee){var B=Math.pow(2,8*Y-1);le(this,P,G,Y,B-1,-B)}var F=Y-1,re=1,$=0;for(this[G+F]=255&P;0<=--F&&(re*=256);)P<0&&$===0&&this[G+F+1]!==0&&($=1),this[G+F]=(P/re>>0)-$&255;return G+Y},o.prototype.writeInt8=function(P,G,Y){return P=+P,G>>>=0,Y||le(this,P,G,1,127,-128),P<0&&(P=255+P+1),this[G]=255&P,G+1},o.prototype.writeInt16LE=function(P,G,Y){return P=+P,G>>>=0,Y||le(this,P,G,2,32767,-32768),this[G]=255&P,this[G+1]=P>>>8,G+2},o.prototype.writeInt16BE=function(P,G,Y){return P=+P,G>>>=0,Y||le(this,P,G,2,32767,-32768),this[G]=P>>>8,this[G+1]=255&P,G+2},o.prototype.writeInt32LE=function(P,G,Y){return P=+P,G>>>=0,Y||le(this,P,G,4,2147483647,-2147483648),this[G]=255&P,this[G+1]=P>>>8,this[G+2]=P>>>16,this[G+3]=P>>>24,G+4},o.prototype.writeInt32BE=function(P,G,Y){return P=+P,G>>>=0,Y||le(this,P,G,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[G]=P>>>24,this[G+1]=P>>>16,this[G+2]=P>>>8,this[G+3]=255&P,G+4},o.prototype.writeFloatLE=function(P,G,Y){return ue(this,P,G,!0,Y)},o.prototype.writeFloatBE=function(P,G,Y){return ue(this,P,G,!1,Y)},o.prototype.writeDoubleLE=function(P,G,Y){return se(this,P,G,!0,Y)},o.prototype.writeDoubleBE=function(P,G,Y){return se(this,P,G,!1,Y)},o.prototype.copy=function(P,G,Y,ee){if(!o.isBuffer(P))throw new TypeError("argument should be a Buffer");if(Y=Y||0,ee||ee===0||(ee=this.length),G>=P.length&&(G=P.length),G=G||0,0<ee&&ee<Y&&(ee=Y),ee===Y||P.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),P.length-G<ee-Y&&(ee=P.length-G+Y);var B=ee-Y;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(G,Y,ee);else if(this===P&&Y<G&&G<ee)for(var F=B-1;0<=F;--F)P[F+G]=this[F+Y];else Uint8Array.prototype.set.call(P,this.subarray(Y,ee),G);return B},o.prototype.fill=function(P,G,Y,ee){if(typeof P=="string"){if(typeof G=="string"?(ee=G,G=0,Y=this.length):typeof Y=="string"&&(ee=Y,Y=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!o.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(P.length===1){var B=P.charCodeAt(0);(ee==="utf8"&&B<128||ee==="latin1")&&(P=B)}}else typeof P=="number"?P&=255:typeof P=="boolean"&&(P=Number(P));if(G<0||this.length<G||this.length<Y)throw new RangeError("Out of range index");if(Y<=G)return this;var F;if(G>>>=0,Y=Y===void 0?this.length:Y>>>0,typeof(P=P||0)=="number")for(F=G;F<Y;++F)this[F]=P;else{var re=o.isBuffer(P)?P:o.from(P,ee),$=re.length;if($===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(F=0;F<Y-G;++F)this[F+G]=re[F%$]}return this};var me=/[^+/0-9A-Za-z-_]/g;function xe(P,G){var Y;G=G||1/0;for(var ee=P.length,B=null,F=[],re=0;re<ee;++re){if(55295<(Y=P.charCodeAt(re))&&Y<57344){if(!B){if(56319<Y){-1<(G-=3)&&F.push(239,191,189);continue}if(re+1===ee){-1<(G-=3)&&F.push(239,191,189);continue}B=Y;continue}if(Y<56320){-1<(G-=3)&&F.push(239,191,189),B=Y;continue}Y=65536+(B-55296<<10|Y-56320)}else B&&-1<(G-=3)&&F.push(239,191,189);if(B=null,Y<128){if(--G<0)break;F.push(Y)}else if(Y<2048){if((G-=2)<0)break;F.push(Y>>6|192,63&Y|128)}else if(Y<65536){if((G-=3)<0)break;F.push(Y>>12|224,Y>>6&63|128,63&Y|128)}else{if(!(Y<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;F.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,63&Y|128)}}return F}function Ee(P){return t.toByteArray(function(G){if((G=(G=G.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;G.length%4!=0;)G+="=";return G}(P))}function ve(P,G,Y,ee){for(var B=0;B<ee&&!(B+Y>=G.length||B>=P.length);++B)G[B+Y]=P[B];return B}function De(P,G){return P instanceof G||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===G.name}function _e(P){return P!=P}var Se=function(){for(var P="0123456789abcdef",G=new Array(256),Y=0;Y<16;++Y)for(var ee=16*Y,B=0;B<16;++B)G[ee+B]=P[Y]+P[B];return G}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:236}],5:[function(e,g,h){g.exports=function(p){if(typeof p!="function")throw TypeError(String(p)+" is not a function");return p}},{}],6:[function(e,g,h){var p=e("../internals/is-object");g.exports=function(t){if(!p(t)&&t!==null)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},{"../internals/is-object":74}],7:[function(e,g,h){var p=e("../internals/well-known-symbol"),t=e("../internals/object-create"),c=e("../internals/object-define-property"),d=p("unscopables"),m=Array.prototype;m[d]==null&&c.f(m,d,{configurable:!0,value:t(null)}),g.exports=function(f){m[d][f]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(e,g,h){var p=e("../internals/string-multibyte").charAt;g.exports=function(t,c,d){return c+(d?p(t,c).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,g,h){g.exports=function(p,t,c){if(!(p instanceof t))throw TypeError("Incorrect "+(c?c+" ":"")+"invocation");return p}},{}],10:[function(e,g,h){var p=e("../internals/is-object");g.exports=function(t){if(!p(t))throw TypeError(String(t)+" is not an object");return t}},{"../internals/is-object":74}],11:[function(e,g,h){g.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(e,g,h){function p(J){return f(J)&&o(le,r(J))}var t,c=e("../internals/array-buffer-native"),d=e("../internals/descriptors"),m=e("../internals/global"),f=e("../internals/is-object"),o=e("../internals/has"),r=e("../internals/classof"),s=e("../internals/create-non-enumerable-property"),i=e("../internals/redefine"),l=e("../internals/object-define-property").f,v=e("../internals/object-get-prototype-of"),w=e("../internals/object-set-prototype-of"),x=e("../internals/well-known-symbol"),_=e("../internals/uid"),E=m.Int8Array,C=E&&E.prototype,A=m.Uint8ClampedArray,O=A&&A.prototype,I=E&&v(E),R=C&&v(C),L=Object.prototype,U=L.isPrototypeOf,D=x("toStringTag"),W=_("TYPED_ARRAY_TAG"),H=c&&!!w&&r(m.opera)!=="Opera",ae=!1,le={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(t in le)m[t]||(H=!1);if((!H||typeof I!="function"||I===Function.prototype)&&(I=function(){throw TypeError("Incorrect invocation")},H))for(t in le)m[t]&&w(m[t],I);if((!H||!R||R===L)&&(R=I.prototype,H))for(t in le)m[t]&&w(m[t].prototype,R);if(H&&v(O)!==R&&w(O,R),d&&!o(R,D))for(t in ae=!0,l(R,D,{get:function(){return f(this)?this[W]:void 0}}),le)m[t]&&s(m[t],W,t);g.exports={NATIVE_ARRAY_BUFFER_VIEWS:H,TYPED_ARRAY_TAG:ae&&W,aTypedArray:function(J){if(p(J))return J;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(J){if(w){if(U.call(I,J))return J}else for(var ue in le)if(o(le,t)){var se=m[ue];if(se&&(J===se||U.call(se,J)))return J}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(J,ue,se){if(d){if(se)for(var me in le){var xe=m[me];xe&&o(xe.prototype,J)&&delete xe.prototype[J]}R[J]&&!se||i(R,J,se?ue:H&&C[J]||ue)}},exportTypedArrayStaticMethod:function(J,ue,se){var me,xe;if(d){if(w){if(se)for(me in le)(xe=m[me])&&o(xe,J)&&delete xe[J];if(I[J]&&!se)return;try{return i(I,J,se?ue:H&&E[J]||ue)}catch{}}for(me in le)!(xe=m[me])||xe[J]&&!se||i(xe,J,ue)}},isView:function(J){var ue=r(J);return ue==="DataView"||o(le,ue)},isTypedArray:p,TypedArray:I,TypedArrayPrototype:R}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(e,g,h){function p(ie){return[255&ie]}function t(ie){return[255&ie,ie>>8&255]}function c(ie){return[255&ie,ie>>8&255,ie>>16&255,ie>>24&255]}function d(ie){return ie[3]<<24|ie[2]<<16|ie[1]<<8|ie[0]}function m(ie){return G(ie,23,4)}function f(ie){return G(ie,52,8)}function o(ie,oe){D(ie[me],oe,{get:function(){return le(this)[oe]}})}function r(ie,oe,pe,ge){var he=O(pe),Pe=le(ie);if(he+oe>Pe.byteLength)throw P(xe);var Be=le(Pe.buffer).bytes,Ue=he+Pe.byteOffset,Le=Be.slice(Ue,Ue+oe);return ge?Le:Le.reverse()}function s(ie,oe,pe,ge,he,Pe){var Be=O(pe),Ue=le(ie);if(Be+oe>Ue.byteLength)throw P(xe);for(var Le=le(Ue.buffer).bytes,Ze=Be+Ue.byteOffset,Re=ge(+he),Ae=0;Ae<oe;Ae++)Le[Ze+Ae]=Re[Pe?Ae:oe-Ae-1]}var i=e("../internals/global"),l=e("../internals/descriptors"),v=e("../internals/array-buffer-native"),w=e("../internals/create-non-enumerable-property"),x=e("../internals/redefine-all"),_=e("../internals/fails"),E=e("../internals/an-instance"),C=e("../internals/to-integer"),A=e("../internals/to-length"),O=e("../internals/to-index"),I=e("../internals/ieee754"),R=e("../internals/object-get-prototype-of"),L=e("../internals/object-set-prototype-of"),U=e("../internals/object-get-own-property-names").f,D=e("../internals/object-define-property").f,W=e("../internals/array-fill"),H=e("../internals/set-to-string-tag"),ae=e("../internals/internal-state"),le=ae.get,J=ae.set,ue="ArrayBuffer",se="DataView",me="prototype",xe="Wrong index",Ee=i[ue],ve=Ee,De=i[se],_e=De&&De[me],Se=Object.prototype,P=i.RangeError,G=I.pack,Y=I.unpack;if(v){if(!_(function(){Ee(1)})||!_(function(){new Ee(-1)})||_(function(){return new Ee,new Ee(1.5),new Ee(NaN),Ee.name!=ue})){for(var ee,B=(ve=function(ie){return E(this,ve),new Ee(O(ie))})[me]=Ee[me],F=U(Ee),re=0;F.length>re;)(ee=F[re++])in ve||w(ve,ee,Ee[ee]);B.constructor=ve}L&&R(_e)!==Se&&L(_e,Se);var $=new De(new ve(2)),ne=_e.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||x(_e,{setInt8:function(ie,oe){ne.call(this,ie,oe<<24>>24)},setUint8:function(ie,oe){ne.call(this,ie,oe<<24>>24)}},{unsafe:!0})}else ve=function(ie){E(this,ve,ue);var oe=O(ie);J(this,{bytes:W.call(new Array(oe),0),byteLength:oe}),l||(this.byteLength=oe)},De=function(ie,oe,pe){E(this,De,se),E(ie,ve,se);var ge=le(ie).byteLength,he=C(oe);if(he<0||ge<he)throw P("Wrong offset");if(ge<he+(pe=pe===void 0?ge-he:A(pe)))throw P("Wrong length");J(this,{buffer:ie,byteLength:pe,byteOffset:he}),l||(this.buffer=ie,this.byteLength=pe,this.byteOffset=he)},l&&(o(ve,"byteLength"),o(De,"buffer"),o(De,"byteLength"),o(De,"byteOffset")),x(De[me],{getInt8:function(ie){return r(this,1,ie)[0]<<24>>24},getUint8:function(ie){return r(this,1,ie)[0]},getInt16:function(ie,oe){var pe=r(this,2,ie,1<arguments.length?oe:void 0);return(pe[1]<<8|pe[0])<<16>>16},getUint16:function(ie,oe){var pe=r(this,2,ie,1<arguments.length?oe:void 0);return pe[1]<<8|pe[0]},getInt32:function(ie,oe){return d(r(this,4,ie,1<arguments.length?oe:void 0))},getUint32:function(ie,oe){return d(r(this,4,ie,1<arguments.length?oe:void 0))>>>0},getFloat32:function(ie,oe){return Y(r(this,4,ie,1<arguments.length?oe:void 0),23)},getFloat64:function(ie,oe){return Y(r(this,8,ie,1<arguments.length?oe:void 0),52)},setInt8:function(ie,oe){s(this,1,ie,p,oe)},setUint8:function(ie,oe){s(this,1,ie,p,oe)},setInt16:function(ie,oe,pe){s(this,2,ie,t,oe,2<arguments.length?pe:void 0)},setUint16:function(ie,oe,pe){s(this,2,ie,t,oe,2<arguments.length?pe:void 0)},setInt32:function(ie,oe,pe){s(this,4,ie,c,oe,2<arguments.length?pe:void 0)},setUint32:function(ie,oe,pe){s(this,4,ie,c,oe,2<arguments.length?pe:void 0)},setFloat32:function(ie,oe,pe){s(this,4,ie,m,oe,2<arguments.length?pe:void 0)},setFloat64:function(ie,oe,pe){s(this,8,ie,f,oe,2<arguments.length?pe:void 0)}});H(ve,ue),H(De,se),g.exports={ArrayBuffer:ve,DataView:De}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(e,g,h){var p=e("../internals/to-object"),t=e("../internals/to-absolute-index"),c=e("../internals/to-length"),d=Math.min;g.exports=[].copyWithin||function(m,f,o){var r=p(this),s=c(r.length),i=t(m,s),l=t(f,s),v=2<arguments.length?o:void 0,w=d((v===void 0?s:t(v,s))-l,s-i),x=1;for(l<i&&i<l+w&&(x=-1,l+=w-1,i+=w-1);0<w--;)l in r?r[i]=r[l]:delete r[i],i+=x,l+=x;return r}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(e,g,h){var p=e("../internals/to-object"),t=e("../internals/to-absolute-index"),c=e("../internals/to-length");g.exports=function(d,m,f){for(var o=p(this),r=c(o.length),s=arguments.length,i=t(1<s?m:void 0,r),l=2<s?f:void 0,v=l===void 0?r:t(l,r);i<v;)o[i++]=d;return o}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(e,g,h){var p=e("../internals/array-iteration").forEach,t=e("../internals/array-method-is-strict"),c=e("../internals/array-method-uses-to-length"),d=t("forEach"),m=c("forEach");g.exports=d&&m?[].forEach:function(f,o){return p(this,f,1<arguments.length?o:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,g,h){var p=e("../internals/function-bind-context"),t=e("../internals/to-object"),c=e("../internals/call-with-safe-iteration-closing"),d=e("../internals/is-array-iterator-method"),m=e("../internals/to-length"),f=e("../internals/create-property"),o=e("../internals/get-iterator-method");g.exports=function(r,s,i){var l,v,w,x,_,E,C=t(r),A=typeof this=="function"?this:Array,O=arguments.length,I=1<O?s:void 0,R=I!==void 0,L=o(C),U=0;if(R&&(I=p(I,2<O?i:void 0,2)),L==null||A==Array&&d(L))for(v=new A(l=m(C.length));U<l;U++)E=R?I(C[U],U):C[U],f(v,U,E);else for(_=(x=L.call(C)).next,v=new A;!(w=_.call(x)).done;U++)E=R?c(x,I,[w.value,U],!0):w.value,f(v,U,E);return v.length=U,v}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(e,g,h){function p(m){return function(f,o,r){var s,i=t(f),l=c(i.length),v=d(r,l);if(m&&o!=o){for(;v<l;)if((s=i[v++])!=s)return!0}else for(;v<l;v++)if((m||v in i)&&i[v]===o)return m||v||0;return!m&&-1}}var t=e("../internals/to-indexed-object"),c=e("../internals/to-length"),d=e("../internals/to-absolute-index");g.exports={includes:p(!0),indexOf:p(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(e,g,h){function p(r){var s=r==1,i=r==2,l=r==3,v=r==4,w=r==6,x=r==5||w;return function(_,E,C,A){for(var O,I,R=d(_),L=c(R),U=t(E,C,3),D=m(L.length),W=0,H=A||f,ae=s?H(_,D):i?H(_,0):void 0;W<D;W++)if((x||W in L)&&(I=U(O=L[W],W,R),r)){if(s)ae[W]=I;else if(I)switch(r){case 3:return!0;case 5:return O;case 6:return W;case 2:o.call(ae,O)}else if(v)return!1}return w?-1:l||v?v:ae}}var t=e("../internals/function-bind-context"),c=e("../internals/indexed-object"),d=e("../internals/to-object"),m=e("../internals/to-length"),f=e("../internals/array-species-create"),o=[].push;g.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(e,g,h){var p=e("../internals/to-indexed-object"),t=e("../internals/to-integer"),c=e("../internals/to-length"),d=e("../internals/array-method-is-strict"),m=e("../internals/array-method-uses-to-length"),f=Math.min,o=[].lastIndexOf,r=!!o&&1/[1].lastIndexOf(1,-0)<0,s=d("lastIndexOf"),i=m("indexOf",{ACCESSORS:!0,1:0}),l=r||!s||!i;g.exports=l?function(v,w){if(r)return o.apply(this,arguments)||0;var x=p(this),_=c(x.length),E=_-1;for(1<arguments.length&&(E=f(E,t(w))),E<0&&(E=_+E);0<=E;E--)if(E in x&&x[E]===v)return E||0;return-1}:o},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(e,g,h){var p=e("../internals/fails"),t=e("../internals/well-known-symbol"),c=e("../internals/engine-v8-version"),d=t("species");g.exports=function(m){return 51<=c||!p(function(){var f=[];return(f.constructor={})[d]=function(){return{foo:1}},f[m](Boolean).foo!==1})}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":146}],22:[function(e,g,h){var p=e("../internals/fails");g.exports=function(t,c){var d=[][t];return!!d&&p(function(){d.call(null,c||function(){throw 1},1)})}},{"../internals/fails":50}],23:[function(e,g,h){function p(o){throw o}var t=e("../internals/descriptors"),c=e("../internals/fails"),d=e("../internals/has"),m=Object.defineProperty,f={};g.exports=function(o,r){if(d(f,o))return f[o];var s=[][o],i=!!d(r=r||{},"ACCESSORS")&&r.ACCESSORS,l=d(r,0)?r[0]:p,v=d(r,1)?r[1]:void 0;return f[o]=!!s&&!c(function(){if(i&&!t)return!0;var w={length:-1};i?m(w,1,{enumerable:!0,get:p}):w[1]=1,s.call(w,l,v)})}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":60}],24:[function(e,g,h){function p(f){return function(o,r,s,i){t(r);var l=c(o),v=d(l),w=m(l.length),x=f?w-1:0,_=f?-1:1;if(s<2)for(;;){if(x in v){i=v[x],x+=_;break}if(x+=_,f?x<0:w<=x)throw TypeError("Reduce of empty array with no initial value")}for(;f?0<=x:x<w;x+=_)x in v&&(i=r(i,v[x],x,l));return i}}var t=e("../internals/a-function"),c=e("../internals/to-object"),d=e("../internals/indexed-object"),m=e("../internals/to-length");g.exports={left:p(!1),right:p(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(e,g,h){var p=e("../internals/is-object"),t=e("../internals/is-array"),c=e("../internals/well-known-symbol")("species");g.exports=function(d,m){var f;return t(d)&&(typeof(f=d.constructor)!="function"||f!==Array&&!t(f.prototype)?p(f)&&(f=f[c])===null&&(f=void 0):f=void 0),new(f===void 0?Array:f)(m===0?0:m)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(e,g,h){var p=e("../internals/an-object");g.exports=function(t,c,d,m){try{return m?c(p(d)[0],d[1]):c(d)}catch(o){var f=t.return;throw f!==void 0&&p(f.call(t)),o}}},{"../internals/an-object":10}],27:[function(e,g,h){var p=e("../internals/well-known-symbol")("iterator"),t=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){t=!0}};d[p]=function(){return this},Array.from(d,function(){throw 2})}catch{}g.exports=function(m,f){if(!f&&!t)return!1;var o=!1;try{var r={};r[p]=function(){return{next:function(){return{done:o=!0}}}},m(r)}catch{}return o}},{"../internals/well-known-symbol":146}],28:[function(e,g,h){var p={}.toString;g.exports=function(t){return p.call(t).slice(8,-1)}},{}],29:[function(e,g,h){var p=e("../internals/to-string-tag-support"),t=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("toStringTag"),d=t(function(){return arguments}())=="Arguments";g.exports=p?t:function(m){var f,o,r;return m===void 0?"Undefined":m===null?"Null":typeof(o=function(s,i){try{return s[i]}catch{}}(f=Object(m),c))=="string"?o:d?t(f):(r=t(f))=="Object"&&typeof f.callee=="function"?"Arguments":r}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(e,g,h){var p=e("../internals/object-define-property").f,t=e("../internals/object-create"),c=e("../internals/redefine-all"),d=e("../internals/function-bind-context"),m=e("../internals/an-instance"),f=e("../internals/iterate"),o=e("../internals/define-iterator"),r=e("../internals/set-species"),s=e("../internals/descriptors"),i=e("../internals/internal-metadata").fastKey,l=e("../internals/internal-state"),v=l.set,w=l.getterFor;g.exports={getConstructor:function(x,_,E,C){function A(L,U,D){var W,H,ae=I(L),le=R(L,U);return le?le.value=D:(ae.last=le={index:H=i(U,!0),key:U,value:D,previous:W=ae.last,next:void 0,removed:!1},ae.first||(ae.first=le),W&&(W.next=le),s?ae.size++:L.size++,H!=="F"&&(ae.index[H]=le)),L}var O=x(function(L,U){m(L,O,_),v(L,{type:_,index:t(null),first:void 0,last:void 0,size:0}),s||(L.size=0),U!=null&&f(U,L[C],L,E)}),I=w(_),R=function(L,U){var D,W=I(L),H=i(U);if(H!=="F")return W.index[H];for(D=W.first;D;D=D.next)if(D.key==U)return D};return c(O.prototype,{clear:function(){for(var L=I(this),U=L.index,D=L.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete U[D.index],D=D.next;L.first=L.last=void 0,s?L.size=0:this.size=0},delete:function(L){var U=I(this),D=R(this,L);if(D){var W=D.next,H=D.previous;delete U.index[D.index],D.removed=!0,H&&(H.next=W),W&&(W.previous=H),U.first==D&&(U.first=W),U.last==D&&(U.last=H),s?U.size--:this.size--}return!!D},forEach:function(L,U){for(var D,W=I(this),H=d(L,1<arguments.length?U:void 0,3);D=D?D.next:W.first;)for(H(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(L){return!!R(this,L)}}),c(O.prototype,E?{get:function(L){var U=R(this,L);return U&&U.value},set:function(L,U){return A(this,L===0?0:L,U)}}:{add:function(L){return A(this,L=L===0?0:L,L)}}),s&&p(O.prototype,"size",{get:function(){return I(this).size}}),O},setStrong:function(x,_,E){var C=_+" Iterator",A=w(_),O=w(C);o(x,_,function(I,R){v(this,{type:C,target:I,state:A(I),kind:R,last:void 0})},function(){for(var I=O(this),R=I.kind,L=I.last;L&&L.removed;)L=L.previous;return I.target&&(I.last=L=L?L.next:I.state.first)?R=="keys"?{value:L.key,done:!1}:R=="values"?{value:L.value,done:!1}:{value:[L.key,L.value],done:!1}:{value:I.target=void 0,done:!0}},E?"entries":"values",!E,!0),r(_)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/global"),c=e("../internals/is-forced"),d=e("../internals/redefine"),m=e("../internals/internal-metadata"),f=e("../internals/iterate"),o=e("../internals/an-instance"),r=e("../internals/is-object"),s=e("../internals/fails"),i=e("../internals/check-correctness-of-iteration"),l=e("../internals/set-to-string-tag"),v=e("../internals/inherit-if-required");g.exports=function(w,x,_){function E(J){var ue=R[J];d(R,J,J=="add"?function(se){return ue.call(this,se===0?0:se),this}:J=="delete"?function(se){return!(A&&!r(se))&&ue.call(this,se===0?0:se)}:J=="get"?function(se){return A&&!r(se)?void 0:ue.call(this,se===0?0:se)}:J=="has"?function(se){return!(A&&!r(se))&&ue.call(this,se===0?0:se)}:function(se,me){return ue.call(this,se===0?0:se,me),this})}var C=w.indexOf("Map")!==-1,A=w.indexOf("Weak")!==-1,O=C?"set":"add",I=t[w],R=I&&I.prototype,L=I,U={};if(c(w,typeof I!="function"||!(A||R.forEach&&!s(function(){new I().entries().next()}))))L=_.getConstructor(x,w,C,O),m.REQUIRED=!0;else if(c(w,!0)){var D=new L,W=D[O](A?{}:-0,1)!=D,H=s(function(){D.has(1)}),ae=i(function(J){new I(J)}),le=!A&&s(function(){for(var J=new I,ue=5;ue--;)J[O](ue,ue);return!J.has(-0)});ae||(((L=x(function(J,ue){o(J,L,w);var se=v(new I,J,L);return ue!=null&&f(ue,se[O],se,C),se})).prototype=R).constructor=L),(H||le)&&(E("delete"),E("has"),C&&E("get")),(le||W)&&E(O),A&&R.clear&&delete R.clear}return U[w]=L,p({global:!0,forced:L!=I},U),l(L,w),A||_.setStrong(L,w,C),L}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],32:[function(e,g,h){var p=e("../internals/has"),t=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),d=e("../internals/object-define-property");g.exports=function(m,f){for(var o=t(f),r=d.f,s=c.f,i=0;i<o.length;i++){var l=o[i];p(m,l)||r(m,l,s(f,l))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],33:[function(e,g,h){var p=e("../internals/well-known-symbol")("match");g.exports=function(t){var c=/./;try{"/./"[t](c)}catch{try{return c[p]=!1,"/./"[t](c)}catch{}}return!1}},{"../internals/well-known-symbol":146}],34:[function(e,g,h){var p=e("../internals/fails");g.exports=!p(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},{"../internals/fails":50}],35:[function(e,g,h){var p=e("../internals/require-object-coercible"),t=/"/g;g.exports=function(c,d,m,f){var o=String(p(c)),r="<"+d;return m!==""&&(r+=" "+m+'="'+String(f).replace(t,"&quot;")+'"'),r+">"+o+"</"+d+">"}},{"../internals/require-object-coercible":113}],36:[function(e,g,h){function p(){return this}var t=e("../internals/iterators-core").IteratorPrototype,c=e("../internals/object-create"),d=e("../internals/create-property-descriptor"),m=e("../internals/set-to-string-tag"),f=e("../internals/iterators");g.exports=function(o,r,s){var i=r+" Iterator";return o.prototype=c(t,{next:d(1,s)}),m(o,i,!1,!0),f[i]=p,o}},{"../internals/create-property-descriptor":38,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],37:[function(e,g,h){var p=e("../internals/descriptors"),t=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");g.exports=p?function(d,m,f){return t.f(d,m,c(1,f))}:function(d,m,f){return d[m]=f,d}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":92}],38:[function(e,g,h){g.exports=function(p,t){return{enumerable:!(1&p),configurable:!(2&p),writable:!(4&p),value:t}}},{}],39:[function(e,g,h){var p=e("../internals/to-primitive"),t=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");g.exports=function(d,m,f){var o=p(m);o in d?t.f(d,o,c(0,f)):d[o]=f}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":92,"../internals/to-primitive":138}],40:[function(e,g,h){function p(){return this}var t=e("../internals/export"),c=e("../internals/create-iterator-constructor"),d=e("../internals/object-get-prototype-of"),m=e("../internals/object-set-prototype-of"),f=e("../internals/set-to-string-tag"),o=e("../internals/create-non-enumerable-property"),r=e("../internals/redefine"),s=e("../internals/well-known-symbol"),i=e("../internals/is-pure"),l=e("../internals/iterators"),v=e("../internals/iterators-core"),w=v.IteratorPrototype,x=v.BUGGY_SAFARI_ITERATORS,_=s("iterator"),E="values",C="entries";g.exports=function(A,O,I,R,L,U,D){c(I,O,R);function W(ve){if(ve===L&&xe)return xe;if(!x&&ve in se)return se[ve];switch(ve){case"keys":case E:case C:return function(){return new I(this,ve)}}return function(){return new I(this)}}var H,ae,le,J=O+" Iterator",ue=!1,se=A.prototype,me=se[_]||se["@@iterator"]||L&&se[L],xe=!x&&me||W(L),Ee=O=="Array"&&se.entries||me;if(Ee&&(H=d(Ee.call(new A)),w!==Object.prototype&&H.next&&(i||d(H)===w||(m?m(H,w):typeof H[_]!="function"&&o(H,_,p)),f(H,J,!0,!0),i&&(l[J]=p))),L==E&&me&&me.name!==E&&(ue=!0,xe=function(){return me.call(this)}),i&&!D||se[_]===xe||o(se,_,xe),l[O]=xe,L)if(ae={values:W(E),keys:U?xe:W("keys"),entries:W(C)},D)for(le in ae)!x&&!ue&&le in se||r(se,le,ae[le]);else t({target:O,proto:!0,forced:x||ue},ae);return ae}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],41:[function(e,g,h){var p=e("../internals/path"),t=e("../internals/has"),c=e("../internals/well-known-symbol-wrapped"),d=e("../internals/object-define-property").f;g.exports=function(m){var f=p.Symbol||(p.Symbol={});t(f,m)||d(f,m,{value:c.f(m)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],42:[function(e,g,h){var p=e("../internals/fails");g.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":50}],43:[function(e,g,h){var p=e("../internals/global"),t=e("../internals/is-object"),c=p.document,d=t(c)&&t(c.createElement);g.exports=function(m){return d?c.createElement(m):{}}},{"../internals/global":59,"../internals/is-object":74}],44:[function(e,g,h){g.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(e,g,h){var p=e("../internals/engine-user-agent");g.exports=/(iphone|ipod|ipad).*applewebkit/i.test(p)},{"../internals/engine-user-agent":46}],46:[function(e,g,h){var p=e("../internals/get-built-in");g.exports=p("navigator","userAgent")||""},{"../internals/get-built-in":56}],47:[function(e,g,h){var p,t,c=e("../internals/global"),d=e("../internals/engine-user-agent"),m=c.process,f=m&&m.versions,o=f&&f.v8;o?t=(p=o.split("."))[0]+p[1]:d&&(!(p=d.match(/Edge\/(\d+)/))||74<=p[1])&&(p=d.match(/Chrome\/(\d+)/))&&(t=p[1]),g.exports=t&&+t},{"../internals/engine-user-agent":46,"../internals/global":59}],48:[function(e,g,h){g.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(e,g,h){var p=e("../internals/global"),t=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),d=e("../internals/redefine"),m=e("../internals/set-global"),f=e("../internals/copy-constructor-properties"),o=e("../internals/is-forced");g.exports=function(r,s){var i,l,v,w,x,_=r.target,E=r.global,C=r.stat;if(i=E?p:C?p[_]||m(_,{}):(p[_]||{}).prototype)for(l in s){if(w=s[l],v=r.noTargetGet?(x=t(i,l))&&x.value:i[l],!o(E?l:_+(C?".":"#")+l,r.forced)&&v!==void 0){if(typeof w==typeof v)continue;f(w,v)}(r.sham||v&&v.sham)&&c(w,"sham",!0),d(i,l,w,r)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],50:[function(e,g,h){g.exports=function(p){try{return!!p()}catch{return!0}}},{}],51:[function(e,g,h){e("../modules/es.regexp.exec");var p=e("../internals/redefine"),t=e("../internals/fails"),c=e("../internals/well-known-symbol"),d=e("../internals/regexp-exec"),m=e("../internals/create-non-enumerable-property"),f=c("species"),o=!t(function(){var v=/./;return v.exec=function(){var w=[];return w.groups={a:"7"},w},"".replace(v,"$<a>")!=="7"}),r="a".replace(/./,"$0")==="$0",s=c("replace"),i=!!/./[s]&&/./[s]("a","$0")==="",l=!t(function(){var v=/(?:)/,w=v.exec;v.exec=function(){return w.apply(this,arguments)};var x="ab".split(v);return x.length!==2||x[0]!=="a"||x[1]!=="b"});g.exports=function(v,w,x,_){var E=c(v),C=!t(function(){var U={};return U[E]=function(){return 7},""[v](U)!=7}),A=C&&!t(function(){var U=!1,D=/a/;return v==="split"&&((D={constructor:{}}).constructor[f]=function(){return D},D.flags="",D[E]=/./[E]),D.exec=function(){return U=!0,null},D[E](""),!U});if(!C||!A||v==="replace"&&(!o||!r||i)||v==="split"&&!l){var O=/./[E],I=x(E,""[v],function(U,D,W,H,ae){return D.exec===d?C&&!ae?{done:!0,value:O.call(D,W,H)}:{done:!0,value:U.call(W,D,H)}:{done:!1}},{REPLACE_KEEPS_$0:r,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:i}),R=I[0],L=I[1];p(String.prototype,v,R),p(RegExp.prototype,E,w==2?function(U,D){return L.call(U,this,D)}:function(U){return L.call(U,this)})}_&&m(RegExp.prototype[E],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],52:[function(e,g,h){var p=e("../internals/is-array"),t=e("../internals/to-length"),c=e("../internals/function-bind-context"),d=function(m,f,o,r,s,i,l,v){for(var w,x=s,_=0,E=!!l&&c(l,v,3);_<r;){if(_ in o){if(w=E?E(o[_],_,f):o[_],0<i&&p(w))x=d(m,f,w,t(w.length),x,i-1)-1;else{if(9007199254740991<=x)throw TypeError("Exceed the acceptable array length");m[x]=w}x++}_++}return x};g.exports=d},{"../internals/function-bind-context":54,"../internals/is-array":72,"../internals/to-length":134}],53:[function(e,g,h){var p=e("../internals/fails");g.exports=!p(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":50}],54:[function(e,g,h){var p=e("../internals/a-function");g.exports=function(t,c,d){if(p(t),c===void 0)return t;switch(d){case 0:return function(){return t.call(c)};case 1:return function(m){return t.call(c,m)};case 2:return function(m,f){return t.call(c,m,f)};case 3:return function(m,f,o){return t.call(c,m,f,o)}}return function(){return t.apply(c,arguments)}}},{"../internals/a-function":5}],55:[function(e,g,h){var p=e("../internals/a-function"),t=e("../internals/is-object"),c=[].slice,d={};g.exports=Function.bind||function(m){var f=p(this),o=c.call(arguments,1),r=function(){var s=o.concat(c.call(arguments));return this instanceof r?function(i,l,v){if(!(l in d)){for(var w=[],x=0;x<l;x++)w[x]="a["+x+"]";d[l]=Function("C,a","return new C("+w.join(",")+")")}return d[l](i,v)}(f,s.length,s):f.apply(m,s)};return t(f.prototype)&&(r.prototype=f.prototype),r}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,g,h){function p(d){return typeof d=="function"?d:void 0}var t=e("../internals/path"),c=e("../internals/global");g.exports=function(d,m){return arguments.length<2?p(t[d])||p(c[d]):t[d]&&t[d][m]||c[d]&&c[d][m]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,g,h){var p=e("../internals/classof"),t=e("../internals/iterators"),c=e("../internals/well-known-symbol")("iterator");g.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||t[p(d)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(e,g,h){var p=e("../internals/an-object"),t=e("../internals/get-iterator-method");g.exports=function(c){var d=t(c);if(typeof d!="function")throw TypeError(String(c)+" is not iterable");return p(d.call(c))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,g,h){(function(p){function t(c){return c&&c.Math==Math&&c}g.exports=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof p=="object"&&p)||Function("return this")()}).call(this,typeof Ss<"u"?Ss:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(e,g,h){var p={}.hasOwnProperty;g.exports=function(t,c){return p.call(t,c)}},{}],61:[function(e,g,h){g.exports={}},{}],62:[function(e,g,h){var p=e("../internals/global");g.exports=function(t,c){var d=p.console;d&&d.error&&(arguments.length===1?d.error(t):d.error(t,c))}},{"../internals/global":59}],63:[function(e,g,h){var p=e("../internals/get-built-in");g.exports=p("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,g,h){var p=e("../internals/descriptors"),t=e("../internals/fails"),c=e("../internals/document-create-element");g.exports=!p&&!t(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],65:[function(e,g,h){var p=Math.abs,t=Math.pow,c=Math.floor,d=Math.log,m=Math.LN2;g.exports={pack:function(f,o,r){var s,i,l,v=new Array(r),w=8*r-o-1,x=(1<<w)-1,_=x>>1,E=o===23?t(2,-24)-t(2,-77):0,C=f<0||f===0&&1/f<0?1:0,A=0;for((f=p(f))!=f||f===1/0?(i=f!=f?1:0,s=x):(s=c(d(f)/m),f*(l=t(2,-s))<1&&(s--,l*=2),2<=(f+=1<=s+_?E/l:E*t(2,1-_))*l&&(s++,l/=2),x<=s+_?(i=0,s=x):1<=s+_?(i=(f*l-1)*t(2,o),s+=_):(i=f*t(2,_-1)*t(2,o),s=0));8<=o;v[A++]=255&i,i/=256,o-=8);for(s=s<<o|i,w+=o;0<w;v[A++]=255&s,s/=256,w-=8);return v[--A]|=128*C,v},unpack:function(f,o){var r,s=f.length,i=8*s-o-1,l=(1<<i)-1,v=l>>1,w=i-7,x=s-1,_=f[x--],E=127&_;for(_>>=7;0<w;E=256*E+f[x],x--,w-=8);for(r=E&(1<<-w)-1,E>>=-w,w+=o;0<w;r=256*r+f[x],x--,w-=8);if(E===0)E=1-v;else{if(E===l)return r?NaN:_?-1/0:1/0;r+=t(2,o),E-=v}return(_?-1:1)*r*t(2,E-o)}}},{}],66:[function(e,g,h){var p=e("../internals/fails"),t=e("../internals/classof-raw"),c="".split;g.exports=p(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return t(d)=="String"?c.call(d,""):Object(d)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],67:[function(e,g,h){var p=e("../internals/is-object"),t=e("../internals/object-set-prototype-of");g.exports=function(c,d,m){var f,o;return t&&typeof(f=d.constructor)=="function"&&f!==m&&p(o=f.prototype)&&o!==m.prototype&&t(c,o),c}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(e,g,h){var p=e("../internals/shared-store"),t=Function.toString;typeof p.inspectSource!="function"&&(p.inspectSource=function(c){return t.call(c)}),g.exports=p.inspectSource},{"../internals/shared-store":119}],69:[function(e,g,h){function p(v){m(v,r,{value:{objectID:"O"+ ++s,weakData:{}}})}var t=e("../internals/hidden-keys"),c=e("../internals/is-object"),d=e("../internals/has"),m=e("../internals/object-define-property").f,f=e("../internals/uid"),o=e("../internals/freezing"),r=f("meta"),s=0,i=Object.isExtensible||function(){return!0},l=g.exports={REQUIRED:!1,fastKey:function(v,w){if(!c(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!d(v,r)){if(!i(v))return"F";if(!w)return"E";p(v)}return v[r].objectID},getWeakData:function(v,w){if(!d(v,r)){if(!i(v))return!0;if(!w)return!1;p(v)}return v[r].weakData},onFreeze:function(v){return o&&l.REQUIRED&&i(v)&&!d(v,r)&&p(v),v}};t[r]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(e,g,h){var p,t,c,d=e("../internals/native-weak-map"),m=e("../internals/global"),f=e("../internals/is-object"),o=e("../internals/create-non-enumerable-property"),r=e("../internals/has"),s=e("../internals/shared-key"),i=e("../internals/hidden-keys"),l=m.WeakMap;if(d){var v=new l,w=v.get,x=v.has,_=v.set;p=function(C,A){return _.call(v,C,A),A},t=function(C){return w.call(v,C)||{}},c=function(C){return x.call(v,C)}}else{var E=s("state");i[E]=!0,p=function(C,A){return o(C,E,A),A},t=function(C){return r(C,E)?C[E]:{}},c=function(C){return r(C,E)}}g.exports={set:p,get:t,has:c,enforce:function(C){return c(C)?t(C):p(C,{})},getterFor:function(C){return function(A){var O;if(!f(A)||(O=t(A)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return O}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,g,h){var p=e("../internals/well-known-symbol"),t=e("../internals/iterators"),c=p("iterator"),d=Array.prototype;g.exports=function(m){return m!==void 0&&(t.Array===m||d[c]===m)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(e,g,h){var p=e("../internals/classof-raw");g.exports=Array.isArray||function(t){return p(t)=="Array"}},{"../internals/classof-raw":28}],73:[function(e,g,h){function p(r,s){var i=m[d(r)];return i==o||i!=f&&(typeof s=="function"?t(s):!!s)}var t=e("../internals/fails"),c=/#|\.prototype\./,d=p.normalize=function(r){return String(r).replace(c,".").toLowerCase()},m=p.data={},f=p.NATIVE="N",o=p.POLYFILL="P";g.exports=p},{"../internals/fails":50}],74:[function(e,g,h){g.exports=function(p){return typeof p=="object"?p!==null:typeof p=="function"}},{}],75:[function(e,g,h){g.exports=!1},{}],76:[function(e,g,h){var p=e("../internals/is-object"),t=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");g.exports=function(d){var m;return p(d)&&((m=d[c])!==void 0?!!m:t(d)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(e,g,h){function p(r,s){this.stopped=r,this.result=s}var t=e("../internals/an-object"),c=e("../internals/is-array-iterator-method"),d=e("../internals/to-length"),m=e("../internals/function-bind-context"),f=e("../internals/get-iterator-method"),o=e("../internals/call-with-safe-iteration-closing");(g.exports=function(r,s,i,l,v){var w,x,_,E,C,A,O,I=m(s,i,l?2:1);if(v)w=r;else{if(typeof(x=f(r))!="function")throw TypeError("Target is not iterable");if(c(x)){for(_=0,E=d(r.length);_<E;_++)if((C=l?I(t(O=r[_])[0],O[1]):I(r[_]))&&C instanceof p)return C;return new p(!1)}w=x.call(r)}for(A=w.next;!(O=A.call(w)).done;)if(typeof(C=o(w,I,O.value,l))=="object"&&C&&C instanceof p)return C;return new p(!1)}).stop=function(r){return new p(!0,r)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(e,g,h){var p,t,c,d=e("../internals/object-get-prototype-of"),m=e("../internals/create-non-enumerable-property"),f=e("../internals/has"),o=e("../internals/well-known-symbol"),r=e("../internals/is-pure"),s=o("iterator"),i=!1;[].keys&&("next"in(c=[].keys())?(t=d(d(c)))!==Object.prototype&&(p=t):i=!0),p==null&&(p={}),r||f(p,s)||m(p,s,function(){return this}),g.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:i}},{"../internals/create-non-enumerable-property":37,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(e,g,h){arguments[4][61][0].apply(h,arguments)},{dup:61}],80:[function(e,g,h){g.exports=Math.sign||function(p){return(p=+p)==0||p!=p?p:p<0?-1:1}},{}],81:[function(e,g,h){var p,t,c,d,m,f,o,r,s=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,l=e("../internals/classof-raw"),v=e("../internals/task").set,w=e("../internals/engine-is-ios"),x=s.MutationObserver||s.WebKitMutationObserver,_=s.process,E=s.Promise,C=l(_)=="process",A=i(s,"queueMicrotask"),O=A&&A.value;O||(p=function(){var I,R;for(C&&(I=_.domain)&&I.exit();t;){R=t.fn,t=t.next;try{R()}catch(L){throw t?d():c=void 0,L}}c=void 0,I&&I.enter()},d=C?function(){_.nextTick(p)}:x&&!w?(m=!0,f=document.createTextNode(""),new x(p).observe(f,{characterData:!0}),function(){f.data=m=!m}):E&&E.resolve?(o=E.resolve(void 0),r=o.then,function(){r.call(o,p)}):function(){v.call(s,p)}),g.exports=O||function(I){var R={fn:I,next:void 0};c&&(c.next=R),t||(t=R,d()),c=R}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(e,g,h){var p=e("../internals/global");g.exports=p.Promise},{"../internals/global":59}],83:[function(e,g,h){var p=e("../internals/fails");g.exports=!!Object.getOwnPropertySymbols&&!p(function(){return!String(Symbol())})},{"../internals/fails":50}],84:[function(e,g,h){var p=e("../internals/fails"),t=e("../internals/well-known-symbol"),c=e("../internals/is-pure"),d=t("iterator");g.exports=!p(function(){var m=new URL("b?a=1&b=2&c=3","http://a"),f=m.searchParams,o="";return m.pathname="c%20d",f.forEach(function(r,s){f.delete("b"),o+=s+r}),c&&!m.toJSON||!f.sort||m.href!=="http://a/c%20d?a=1&c=3"||f.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!f[d]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||o!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":50,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(e,g,h){var p=e("../internals/global"),t=e("../internals/inspect-source"),c=p.WeakMap;g.exports=typeof c=="function"&&/native code/.test(t(c))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,g,h){function p(c){var d,m;this.promise=new c(function(f,o){if(d!==void 0||m!==void 0)throw TypeError("Bad Promise constructor");d=f,m=o}),this.resolve=t(d),this.reject=t(m)}var t=e("../internals/a-function");g.exports.f=function(c){return new p(c)}},{"../internals/a-function":5}],87:[function(e,g,h){var p=e("../internals/is-regexp");g.exports=function(t){if(p(t))throw TypeError("The method doesn't accept regular expressions");return t}},{"../internals/is-regexp":76}],88:[function(e,g,h){var p=e("../internals/global").isFinite;g.exports=Number.isFinite||function(t){return typeof t=="number"&&p(t)}},{"../internals/global":59}],89:[function(e,g,h){var p=e("../internals/descriptors"),t=e("../internals/fails"),c=e("../internals/object-keys"),d=e("../internals/object-get-own-property-symbols"),m=e("../internals/object-property-is-enumerable"),f=e("../internals/to-object"),o=e("../internals/indexed-object"),r=Object.assign,s=Object.defineProperty;g.exports=!r||t(function(){if(p&&r({b:1},r(s({},"a",{enumerable:!0,get:function(){s(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var i={},l={},v=Symbol(),w="abcdefghijklmnopqrst";return i[v]=7,w.split("").forEach(function(x){l[x]=x}),r({},i)[v]!=7||c(r({},l)).join("")!=w})?function(i,l){for(var v=f(i),w=arguments.length,x=1,_=d.f,E=m.f;x<w;)for(var C,A=o(arguments[x++]),O=_?c(A).concat(_(A)):c(A),I=O.length,R=0;R<I;)C=O[R++],p&&!E.call(A,C)||(v[C]=A[C]);return v}:r},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(e,g,h){function p(){}function t(_){return"<script>"+_+"</"+v+">"}var c,d=e("../internals/an-object"),m=e("../internals/object-define-properties"),f=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),r=e("../internals/html"),s=e("../internals/document-create-element"),i=e("../internals/shared-key"),l="prototype",v="script",w=i("IE_PROTO"),x=function(){try{c=document.domain&&new ActiveXObject("htmlfile")}catch{}var _,E;x=c?function(A){A.write(t("")),A.close();var O=A.parentWindow.Object;return A=null,O}(c):((E=s("iframe")).style.display="none",r.appendChild(E),E.src=String("javascript:"),(_=E.contentWindow.document).open(),_.write(t("document.F=Object")),_.close(),_.F);for(var C=f.length;C--;)delete x[l][f[C]];return x()};o[w]=!0,g.exports=Object.create||function(_,E){var C;return _!==null?(p[l]=d(_),C=new p,p[l]=null,C[w]=_):C=x(),E===void 0?C:m(C,E)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,g,h){var p=e("../internals/descriptors"),t=e("../internals/object-define-property"),c=e("../internals/an-object"),d=e("../internals/object-keys");g.exports=p?Object.defineProperties:function(m,f){c(m);for(var o,r=d(f),s=r.length,i=0;i<s;)t.f(m,o=r[i++],f[o]);return m}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,g,h){var p=e("../internals/descriptors"),t=e("../internals/ie8-dom-define"),c=e("../internals/an-object"),d=e("../internals/to-primitive"),m=Object.defineProperty;h.f=p?m:function(f,o,r){if(c(f),o=d(o,!0),c(r),t)try{return m(f,o,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(f[o]=r.value),f}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(e,g,h){var p=e("../internals/descriptors"),t=e("../internals/object-property-is-enumerable"),c=e("../internals/create-property-descriptor"),d=e("../internals/to-indexed-object"),m=e("../internals/to-primitive"),f=e("../internals/has"),o=e("../internals/ie8-dom-define"),r=Object.getOwnPropertyDescriptor;h.f=p?r:function(s,i){if(s=d(s),i=m(i,!0),o)try{return r(s,i)}catch{}if(f(s,i))return c(!t.f.call(s,i),s[i])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(e,g,h){var p=e("../internals/to-indexed-object"),t=e("../internals/object-get-own-property-names").f,c={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];g.exports.f=function(m){return d&&c.call(m)=="[object Window]"?function(f){try{return t(f)}catch{return d.slice()}}(m):t(p(m))}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(e,g,h){var p=e("../internals/object-keys-internal"),t=e("../internals/enum-bug-keys").concat("length","prototype");h.f=Object.getOwnPropertyNames||function(c){return p(c,t)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],96:[function(e,g,h){h.f=Object.getOwnPropertySymbols},{}],97:[function(e,g,h){var p=e("../internals/has"),t=e("../internals/to-object"),c=e("../internals/shared-key"),d=e("../internals/correct-prototype-getter"),m=c("IE_PROTO"),f=Object.prototype;g.exports=d?Object.getPrototypeOf:function(o){return o=t(o),p(o,m)?o[m]:typeof o.constructor=="function"&&o instanceof o.constructor?o.constructor.prototype:o instanceof Object?f:null}},{"../internals/correct-prototype-getter":34,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(e,g,h){var p=e("../internals/has"),t=e("../internals/to-indexed-object"),c=e("../internals/array-includes").indexOf,d=e("../internals/hidden-keys");g.exports=function(m,f){var o,r=t(m),s=0,i=[];for(o in r)!p(d,o)&&p(r,o)&&i.push(o);for(;f.length>s;)p(r,o=f[s++])&&(~c(i,o)||i.push(o));return i}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(e,g,h){var p=e("../internals/object-keys-internal"),t=e("../internals/enum-bug-keys");g.exports=Object.keys||function(c){return p(c,t)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],100:[function(e,g,h){var p={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,c=t&&!p.call({1:2},1);h.f=c?function(d){var m=t(this,d);return!!m&&m.enumerable}:p},{}],101:[function(e,g,h){var p=e("../internals/an-object"),t=e("../internals/a-possible-prototype");g.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,d=!1,m={};try{(c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(m,[]),d=m instanceof Array}catch{}return function(f,o){return p(f),t(o),d?c.call(f,o):f.__proto__=o,f}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,g,h){var p=e("../internals/to-string-tag-support"),t=e("../internals/classof");g.exports=p?{}.toString:function(){return"[object "+t(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(e,g,h){var p=e("../internals/get-built-in"),t=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-symbols"),d=e("../internals/an-object");g.exports=p("Reflect","ownKeys")||function(m){var f=t.f(d(m)),o=c.f;return o?f.concat(o(m)):f}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,g,h){var p=e("../internals/global");g.exports=p},{"../internals/global":59}],105:[function(e,g,h){g.exports=function(p){try{return{error:!1,value:p()}}catch(t){return{error:!0,value:t}}}},{}],106:[function(e,g,h){var p=e("../internals/an-object"),t=e("../internals/is-object"),c=e("../internals/new-promise-capability");g.exports=function(d,m){if(p(d),t(m)&&m.constructor===d)return m;var f=c.f(d);return(0,f.resolve)(m),f.promise}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,g,h){var p=e("../internals/redefine");g.exports=function(t,c,d){for(var m in c)p(t,m,c[m],d);return t}},{"../internals/redefine":108}],108:[function(e,g,h){var p=e("../internals/global"),t=e("../internals/create-non-enumerable-property"),c=e("../internals/has"),d=e("../internals/set-global"),m=e("../internals/inspect-source"),f=e("../internals/internal-state"),o=f.get,r=f.enforce,s=String(String).split("String");(g.exports=function(i,l,v,w){var x=!!w&&!!w.unsafe,_=!!w&&!!w.enumerable,E=!!w&&!!w.noTargetGet;typeof v=="function"&&(typeof l!="string"||c(v,"name")||t(v,"name",l),r(v).source=s.join(typeof l=="string"?l:"")),i!==p?(x?!E&&i[l]&&(_=!0):delete i[l],_?i[l]=v:t(i,l,v)):_?i[l]=v:d(l,v)})(Function.prototype,"toString",function(){return typeof this=="function"&&o(this).source||m(this)})},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,g,h){var p=e("./classof-raw"),t=e("./regexp-exec");g.exports=function(c,d){var m=c.exec;if(typeof m=="function"){var f=m.call(c,d);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(p(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return t.call(c,d)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(e,g,h){var p,t,c=e("./regexp-flags"),d=e("./regexp-sticky-helpers"),m=RegExp.prototype.exec,f=String.prototype.replace,o=m,r=(p=/a/,t=/b*/g,m.call(p,"a"),m.call(t,"a"),p.lastIndex!==0||t.lastIndex!==0),s=d.UNSUPPORTED_Y||d.BROKEN_CARET,i=/()??/.exec("")[1]!==void 0;(r||i||s)&&(o=function(l){var v,w,x,_,E=this,C=s&&E.sticky,A=c.call(E),O=E.source,I=0,R=l;return C&&((A=A.replace("y","")).indexOf("g")===-1&&(A+="g"),R=String(l).slice(E.lastIndex),0<E.lastIndex&&(!E.multiline||E.multiline&&l[E.lastIndex-1]!==`
`)&&(O="(?: "+O+")",R=" "+R,I++),w=new RegExp("^(?:"+O+")",A)),i&&(w=new RegExp("^"+O+"$(?!\\s)",A)),r&&(v=E.lastIndex),x=m.call(C?w:E,R),C?x?(x.input=x.input.slice(I),x[0]=x[0].slice(I),x.index=E.lastIndex,E.lastIndex+=x[0].length):E.lastIndex=0:r&&x&&(E.lastIndex=E.global?x.index+x[0].length:v),i&&x&&1<x.length&&f.call(x[0],w,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(x[_]=void 0)}),x}),g.exports=o},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,g,h){var p=e("../internals/an-object");g.exports=function(){var t=p(this),c="";return t.global&&(c+="g"),t.ignoreCase&&(c+="i"),t.multiline&&(c+="m"),t.dotAll&&(c+="s"),t.unicode&&(c+="u"),t.sticky&&(c+="y"),c}},{"../internals/an-object":10}],112:[function(e,g,h){var p=e("./fails");function t(c,d){return RegExp(c,d)}h.UNSUPPORTED_Y=p(function(){var c=t("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),h.BROKEN_CARET=p(function(){var c=t("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},{"./fails":50}],113:[function(e,g,h){g.exports=function(p){if(p==null)throw TypeError("Can't call method on "+p);return p}},{}],114:[function(e,g,h){g.exports=Object.is||function(p,t){return p===t?p!==0||1/p==1/t:p!=p&&t!=t}},{}],115:[function(e,g,h){var p=e("../internals/global"),t=e("../internals/create-non-enumerable-property");g.exports=function(c,d){try{t(p,c,d)}catch{p[c]=d}return d}},{"../internals/create-non-enumerable-property":37,"../internals/global":59}],116:[function(e,g,h){var p=e("../internals/get-built-in"),t=e("../internals/object-define-property"),c=e("../internals/well-known-symbol"),d=e("../internals/descriptors"),m=c("species");g.exports=function(f){var o=p(f),r=t.f;d&&o&&!o[m]&&r(o,m,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(e,g,h){var p=e("../internals/object-define-property").f,t=e("../internals/has"),c=e("../internals/well-known-symbol")("toStringTag");g.exports=function(d,m,f){d&&!t(d=f?d:d.prototype,c)&&p(d,c,{configurable:!0,value:m})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(e,g,h){var p=e("../internals/shared"),t=e("../internals/uid"),c=p("keys");g.exports=function(d){return c[d]||(c[d]=t(d))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(e,g,h){var p=e("../internals/global"),t=e("../internals/set-global"),c="__core-js_shared__",d=p[c]||t(c,{});g.exports=d},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,g,h){var p=e("../internals/is-pure"),t=e("../internals/shared-store");(g.exports=function(c,d){return t[c]||(t[c]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:p?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,g,h){var p=e("../internals/an-object"),t=e("../internals/a-function"),c=e("../internals/well-known-symbol")("species");g.exports=function(d,m){var f,o=p(d).constructor;return o===void 0||(f=p(o)[c])==null?m:t(f)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(e,g,h){var p=e("../internals/fails");g.exports=function(t){return p(function(){var c=""[t]('"');return c!==c.toLowerCase()||3<c.split('"').length})}},{"../internals/fails":50}],123:[function(e,g,h){function p(d){return function(m,f){var o,r,s=String(c(m)),i=t(f),l=s.length;return i<0||l<=i?d?"":void 0:(o=s.charCodeAt(i))<55296||56319<o||i+1===l||(r=s.charCodeAt(i+1))<56320||57343<r?d?s.charAt(i):o:d?s.slice(i,i+2):r-56320+(o-55296<<10)+65536}}var t=e("../internals/to-integer"),c=e("../internals/require-object-coercible");g.exports={codeAt:p(!1),charAt:p(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(e,g,h){function p(i){return i+22+75*(i<26)}function t(i,l,v){var w=0;for(i=v?r(i/700):i>>1,i+=r(i/l);455<i;w+=36)i=r(i/35);return r(w+36*i/(i+38))}function c(i){var l,v,w=[],x=(i=function(ae){for(var le=[],J=0,ue=ae.length;J<ue;){var se=ae.charCodeAt(J++);if(55296<=se&&se<=56319&&J<ue){var me=ae.charCodeAt(J++);(64512&me)==56320?le.push(((1023&se)<<10)+(1023&me)+65536):(le.push(se),J--)}else le.push(se)}return le}(i)).length,_=128,E=0,C=72;for(l=0;l<i.length;l++)(v=i[l])<128&&w.push(s(v));var A=w.length,O=A;for(A&&w.push("-");O<x;){var I=d;for(l=0;l<i.length;l++)_<=(v=i[l])&&v<I&&(I=v);var R=O+1;if(I-_>r((d-E)/R))throw RangeError(o);for(E+=(I-_)*R,_=I,l=0;l<i.length;l++){if((v=i[l])<_&&++E>d)throw RangeError(o);if(v==_){for(var L=E,U=36;;U+=36){var D=U<=C?1:C+26<=U?26:U-C;if(L<D)break;var W=L-D,H=36-D;w.push(s(p(D+W%H))),L=r(W/H)}w.push(s(p(L))),C=t(E,R,O==A),E=0,++O}}++E,++_}return w.join("")}var d=2147483647,m=/[^\0-\u007E]/,f=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",r=Math.floor,s=String.fromCharCode;g.exports=function(i){var l,v,w=[],x=i.toLowerCase().replace(f,".").split(".");for(l=0;l<x.length;l++)v=x[l],w.push(m.test(v)?"xn--"+c(v):v);return w.join(".")}},{}],125:[function(e,g,h){var p=e("../internals/to-integer"),t=e("../internals/require-object-coercible");g.exports="".repeat||function(c){var d=String(t(this)),m="",f=p(c);if(f<0||f==1/0)throw RangeError("Wrong number of repetitions");for(;0<f;(f>>>=1)&&(d+=d))1&f&&(m+=d);return m}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(e,g,h){var p=e("../internals/fails"),t=e("../internals/whitespaces");g.exports=function(c){return p(function(){return!!t[c]()||"​᠎"[c]()!="​᠎"||t[c].name!==c})}},{"../internals/fails":50,"../internals/whitespaces":147}],127:[function(e,g,h){function p(f){return function(o){var r=String(t(o));return 1&f&&(r=r.replace(d,"")),2&f&&(r=r.replace(m,"")),r}}var t=e("../internals/require-object-coercible"),c="["+e("../internals/whitespaces")+"]",d=RegExp("^"+c+c+"*"),m=RegExp(c+c+"*$");g.exports={start:p(1),end:p(2),trim:p(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(e,g,h){function p(D){if(L.hasOwnProperty(D)){var W=L[D];delete L[D],W()}}function t(D){return function(){p(D)}}function c(D){p(D.data)}function d(D){r.postMessage(D+"",_.protocol+"//"+_.host)}var m,f,o,r=e("../internals/global"),s=e("../internals/fails"),i=e("../internals/classof-raw"),l=e("../internals/function-bind-context"),v=e("../internals/html"),w=e("../internals/document-create-element"),x=e("../internals/engine-is-ios"),_=r.location,E=r.setImmediate,C=r.clearImmediate,A=r.process,O=r.MessageChannel,I=r.Dispatch,R=0,L={},U="onreadystatechange";E&&C||(E=function(D){for(var W=[],H=1;H<arguments.length;)W.push(arguments[H++]);return L[++R]=function(){(typeof D=="function"?D:Function(D)).apply(void 0,W)},m(R),R},C=function(D){delete L[D]},i(A)=="process"?m=function(D){A.nextTick(t(D))}:I&&I.now?m=function(D){I.now(t(D))}:O&&!x?(o=(f=new O).port2,f.port1.onmessage=c,m=l(o.postMessage,o,1)):!r.addEventListener||typeof postMessage!="function"||r.importScripts||s(d)||_.protocol==="file:"?m=U in w("script")?function(D){v.appendChild(w("script"))[U]=function(){v.removeChild(this),p(D)}}:function(D){setTimeout(t(D),0)}:(m=d,r.addEventListener("message",c,!1))),g.exports={set:E,clear:C}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(e,g,h){var p=e("../internals/classof-raw");g.exports=function(t){if(typeof t!="number"&&p(t)!="Number")throw TypeError("Incorrect invocation");return+t}},{"../internals/classof-raw":28}],130:[function(e,g,h){var p=e("../internals/to-integer"),t=Math.max,c=Math.min;g.exports=function(d,m){var f=p(d);return f<0?t(f+m,0):c(f,m)}},{"../internals/to-integer":133}],131:[function(e,g,h){var p=e("../internals/to-integer"),t=e("../internals/to-length");g.exports=function(c){if(c===void 0)return 0;var d=p(c),m=t(d);if(d!==m)throw RangeError("Wrong length or index");return m}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(e,g,h){var p=e("../internals/indexed-object"),t=e("../internals/require-object-coercible");g.exports=function(c){return p(t(c))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(e,g,h){var p=Math.ceil,t=Math.floor;g.exports=function(c){return isNaN(c=+c)?0:(0<c?t:p)(c)}},{}],134:[function(e,g,h){var p=e("../internals/to-integer"),t=Math.min;g.exports=function(c){return 0<c?t(p(c),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(e,g,h){var p=e("../internals/require-object-coercible");g.exports=function(t){return Object(p(t))}},{"../internals/require-object-coercible":113}],136:[function(e,g,h){var p=e("../internals/to-positive-integer");g.exports=function(t,c){var d=p(t);if(d%c)throw RangeError("Wrong offset");return d}},{"../internals/to-positive-integer":137}],137:[function(e,g,h){var p=e("../internals/to-integer");g.exports=function(t){var c=p(t);if(c<0)throw RangeError("The argument can't be less than 0");return c}},{"../internals/to-integer":133}],138:[function(e,g,h){var p=e("../internals/is-object");g.exports=function(t,c){if(!p(t))return t;var d,m;if(c&&typeof(d=t.toString)=="function"&&!p(m=d.call(t))||typeof(d=t.valueOf)=="function"&&!p(m=d.call(t))||!c&&typeof(d=t.toString)=="function"&&!p(m=d.call(t)))return m;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(e,g,h){var p={};p[e("../internals/well-known-symbol")("toStringTag")]="z",g.exports=String(p)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(e,g,h){function p(oe,pe){for(var ge=0,he=pe.length,Pe=new(re(oe))(he);ge<he;)Pe[ge]=pe[ge++];return Pe}function t(oe,pe){ve(oe,pe,{get:function(){return xe(this)[pe]}})}function c(oe){var pe;return oe instanceof P||(pe=R(oe))=="ArrayBuffer"||pe=="SharedArrayBuffer"}function d(oe,pe){return $(oe)&&typeof pe!="symbol"&&pe in oe&&String(+pe)==String(pe)}function m(oe,pe){return d(oe,pe=O(pe,!0))?x(2,oe[pe]):De(oe,pe)}function f(oe,pe,ge){return!(d(oe,pe=O(pe,!0))&&L(ge)&&I(ge,"value"))||I(ge,"get")||I(ge,"set")||ge.configurable||I(ge,"writable")&&!ge.writable||I(ge,"enumerable")&&!ge.enumerable?ve(oe,pe,ge):(oe[pe]=ge.value,oe)}var o=e("../internals/export"),r=e("../internals/global"),s=e("../internals/descriptors"),i=e("../internals/typed-array-constructors-require-wrappers"),l=e("../internals/array-buffer-view-core"),v=e("../internals/array-buffer"),w=e("../internals/an-instance"),x=e("../internals/create-property-descriptor"),_=e("../internals/create-non-enumerable-property"),E=e("../internals/to-length"),C=e("../internals/to-index"),A=e("../internals/to-offset"),O=e("../internals/to-primitive"),I=e("../internals/has"),R=e("../internals/classof"),L=e("../internals/is-object"),U=e("../internals/object-create"),D=e("../internals/object-set-prototype-of"),W=e("../internals/object-get-own-property-names").f,H=e("../internals/typed-array-from"),ae=e("../internals/array-iteration").forEach,le=e("../internals/set-species"),J=e("../internals/object-define-property"),ue=e("../internals/object-get-own-property-descriptor"),se=e("../internals/internal-state"),me=e("../internals/inherit-if-required"),xe=se.get,Ee=se.set,ve=J.f,De=ue.f,_e=Math.round,Se=r.RangeError,P=v.ArrayBuffer,G=v.DataView,Y=l.NATIVE_ARRAY_BUFFER_VIEWS,ee=l.TYPED_ARRAY_TAG,B=l.TypedArray,F=l.TypedArrayPrototype,re=l.aTypedArrayConstructor,$=l.isTypedArray,ne="BYTES_PER_ELEMENT",ie="Wrong length";s?(Y||(ue.f=m,J.f=f,t(F,"buffer"),t(F,"byteOffset"),t(F,"byteLength"),t(F,"length")),o({target:"Object",stat:!0,forced:!Y},{getOwnPropertyDescriptor:m,defineProperty:f}),g.exports=function(oe,pe,ge){function he(Ye,be){ve(Ye,be,{get:function(){return tt=be,(V=xe(this)).view[Ue](tt*Pe+V.byteOffset,!0);var tt,V},set:function(tt){return V=be,Z=tt,z=xe(this),ge&&(Z=(Z=_e(Z))<0?0:255<Z?255:255&Z),void z.view[Le](V*Pe+z.byteOffset,Z,!0);var V,Z,z},enumerable:!0})}var Pe=oe.match(/\d+$/)[0]/8,Be=oe+(ge?"Clamped":"")+"Array",Ue="get"+oe,Le="set"+oe,Ze=r[Be],Re=Ze,Ae=Re&&Re.prototype,ze={};Y?i&&(Re=pe(function(Ye,be,tt,V){return w(Ye,Re,Be),me(L(be)?c(be)?V!==void 0?new Ze(be,A(tt,Pe),V):tt!==void 0?new Ze(be,A(tt,Pe)):new Ze(be):$(be)?p(Re,be):H.call(Re,be):new Ze(C(be)),Ye,Re)}),D&&D(Re,B),ae(W(Ze),function(Ye){Ye in Re||_(Re,Ye,Ze[Ye])}),Re.prototype=Ae):(Re=pe(function(Ye,be,tt,V){w(Ye,Re,Be);var Z,z,K,de=0,Te=0;if(L(be)){if(!c(be))return $(be)?p(Re,be):H.call(Re,be);Z=be,Te=A(tt,Pe);var ke=be.byteLength;if(V===void 0){if(ke%Pe||(z=ke-Te)<0)throw Se(ie)}else if(ke<(z=E(V)*Pe)+Te)throw Se(ie);K=z/Pe}else K=C(be),Z=new P(z=K*Pe);for(Ee(Ye,{buffer:Z,byteOffset:Te,byteLength:z,length:K,view:new G(Z)});de<K;)he(Ye,de++)}),D&&D(Re,B),Ae=Re.prototype=U(F)),Ae.constructor!==Re&&_(Ae,"constructor",Re),ee&&_(Ae,ee,Be),ze[Be]=Re,o({global:!0,forced:Re!=Ze,sham:!Y},ze),ne in Re||_(Re,ne,Pe),ne in Ae||_(Ae,ne,Pe),le(Be)}):g.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(e,g,h){var p=e("../internals/global"),t=e("../internals/fails"),c=e("../internals/check-correctness-of-iteration"),d=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,m=p.ArrayBuffer,f=p.Int8Array;g.exports=!d||!t(function(){f(1)})||!t(function(){new f(-1)})||!c(function(o){new f,new f(null),new f(1.5),new f(o)},!0)||t(function(){return new f(new m(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":59}],142:[function(e,g,h){var p=e("../internals/to-object"),t=e("../internals/to-length"),c=e("../internals/get-iterator-method"),d=e("../internals/is-array-iterator-method"),m=e("../internals/function-bind-context"),f=e("../internals/array-buffer-view-core").aTypedArrayConstructor;g.exports=function(o,r,s){var i,l,v,w,x,_,E=p(o),C=arguments.length,A=1<C?r:void 0,O=A!==void 0,I=c(E);if(I!=null&&!d(I))for(_=(x=I.call(E)).next,E=[];!(w=_.call(x)).done;)E.push(w.value);for(O&&2<C&&(A=m(A,s,2)),l=t(E.length),v=new(f(this))(l),i=0;i<l;i++)v[i]=O?A(E[i],i):E[i];return v}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(e,g,h){var p=0,t=Math.random();g.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++p+t).toString(36)}},{}],144:[function(e,g,h){var p=e("../internals/native-symbol");g.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(e,g,h){var p=e("../internals/well-known-symbol");h.f=p},{"../internals/well-known-symbol":146}],146:[function(e,g,h){var p=e("../internals/global"),t=e("../internals/shared"),c=e("../internals/has"),d=e("../internals/uid"),m=e("../internals/native-symbol"),f=e("../internals/use-symbol-as-uid"),o=t("wks"),r=p.Symbol,s=f?r:r&&r.withoutSetter||d;g.exports=function(i){return c(o,i)||(m&&c(r,i)?o[i]=r[i]:o[i]=s("Symbol."+i)),o[i]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(e,g,h){g.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],148:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/global"),c=e("../internals/array-buffer"),d=e("../internals/set-species"),m="ArrayBuffer",f=c[m];p({global:!0,forced:t[m]!==f},{ArrayBuffer:f}),d(m)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":59,"../internals/set-species":116}],149:[function(e,g,h){function p(A){if(!m(A))return!1;var O=A[w];return O!==void 0?!!O:d(A)}var t=e("../internals/export"),c=e("../internals/fails"),d=e("../internals/is-array"),m=e("../internals/is-object"),f=e("../internals/to-object"),o=e("../internals/to-length"),r=e("../internals/create-property"),s=e("../internals/array-species-create"),i=e("../internals/array-method-has-species-support"),l=e("../internals/well-known-symbol"),v=e("../internals/engine-v8-version"),w=l("isConcatSpreadable"),x=9007199254740991,_="Maximum allowed index exceeded",E=51<=v||!c(function(){var A=[];return A[w]=!1,A.concat()[0]!==A}),C=i("concat");t({target:"Array",proto:!0,forced:!E||!C},{concat:function(A){var O,I,R,L,U,D=f(this),W=s(D,0),H=0;for(O=-1,R=arguments.length;O<R;O++)if(p(U=O===-1?D:arguments[O])){if(L=o(U.length),x<H+L)throw TypeError(_);for(I=0;I<L;I++,H++)I in U&&r(W,H,U[I])}else{if(x<=H)throw TypeError(_);r(W,H++,U)}return W.length=H,W}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/array-iteration").every,c=e("../internals/array-method-is-strict"),d=e("../internals/array-method-uses-to-length"),m=c("every"),f=d("every");p({target:"Array",proto:!0,forced:!m||!f},{every:function(o,r){return t(this,o,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],151:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/array-fill"),c=e("../internals/add-to-unscopables");p({target:"Array",proto:!0},{fill:t}),c("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],152:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/array-iteration").filter,c=e("../internals/array-method-has-species-support"),d=e("../internals/array-method-uses-to-length"),m=c("filter"),f=d("filter");p({target:"Array",proto:!0,forced:!m||!f},{filter:function(o,r){return t(this,o,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],153:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/flatten-into-array"),c=e("../internals/to-object"),d=e("../internals/to-length"),m=e("../internals/a-function"),f=e("../internals/array-species-create");p({target:"Array",proto:!0},{flatMap:function(o,r){var s,i=c(this),l=d(i.length);return m(o),(s=f(i,0)).length=t(s,i,i,l,0,1,o,1<arguments.length?r:void 0),s}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":49,"../internals/flatten-into-array":52,"../internals/to-length":134,"../internals/to-object":135}],154:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/array-for-each");p({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})},{"../internals/array-for-each":16,"../internals/export":49}],155:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/array-from");p({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(c){Array.from(c)})},{from:t})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],156:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/array-includes").includes,c=e("../internals/add-to-unscopables");p({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(d,m){return t(this,d,1<arguments.length?m:void 0)}}),c("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],157:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/array-includes").indexOf,c=e("../internals/array-method-is-strict"),d=e("../internals/array-method-uses-to-length"),m=[].indexOf,f=!!m&&1/[1].indexOf(1,-0)<0,o=c("indexOf"),r=d("indexOf",{ACCESSORS:!0,1:0});p({target:"Array",proto:!0,forced:f||!o||!r},{indexOf:function(s,i){return f?m.apply(this,arguments)||0:t(this,s,1<arguments.length?i:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],158:[function(e,g,h){var p=e("../internals/to-indexed-object"),t=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),d=e("../internals/internal-state"),m=e("../internals/define-iterator"),f="Array Iterator",o=d.set,r=d.getterFor(f);g.exports=m(Array,"Array",function(s,i){o(this,{type:f,target:p(s),index:0,kind:i})},function(){var s=r(this),i=s.target,l=s.kind,v=s.index++;return!i||v>=i.length?{value:s.target=void 0,done:!0}:l=="keys"?{value:v,done:!1}:l=="values"?{value:i[v],done:!1}:{value:[v,i[v]],done:!1}},"values"),c.Arguments=c.Array,t("keys"),t("values"),t("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/indexed-object"),c=e("../internals/to-indexed-object"),d=e("../internals/array-method-is-strict"),m=[].join,f=t!=Object,o=d("join",",");p({target:"Array",proto:!0,forced:f||!o},{join:function(r){return m.call(c(this),r===void 0?",":r)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/array-last-index-of");p({target:"Array",proto:!0,forced:t!==[].lastIndexOf},{lastIndexOf:t})},{"../internals/array-last-index-of":20,"../internals/export":49}],161:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/array-iteration").map,c=e("../internals/array-method-has-species-support"),d=e("../internals/array-method-uses-to-length"),m=c("map"),f=d("map");p({target:"Array",proto:!0,forced:!m||!f},{map:function(o,r){return t(this,o,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/is-object"),c=e("../internals/is-array"),d=e("../internals/to-absolute-index"),m=e("../internals/to-length"),f=e("../internals/to-indexed-object"),o=e("../internals/create-property"),r=e("../internals/well-known-symbol"),s=e("../internals/array-method-has-species-support"),i=e("../internals/array-method-uses-to-length"),l=s("slice"),v=i("slice",{ACCESSORS:!0,0:0,1:2}),w=r("species"),x=[].slice,_=Math.max;p({target:"Array",proto:!0,forced:!l||!v},{slice:function(E,C){var A,O,I,R=f(this),L=m(R.length),U=d(E,L),D=d(C===void 0?L:C,L);if(c(R)&&(typeof(A=R.constructor)!="function"||A!==Array&&!c(A.prototype)?t(A)&&(A=A[w])===null&&(A=void 0):A=void 0,A===Array||A===void 0))return x.call(R,U,D);for(O=new(A===void 0?Array:A)(_(D-U,0)),I=0;U<D;U++,I++)U in R&&o(O,I,R[U]);return O.length=I,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/array-iteration").some,c=e("../internals/array-method-is-strict"),d=e("../internals/array-method-uses-to-length"),m=c("some"),f=d("some");p({target:"Array",proto:!0,forced:!m||!f},{some:function(o,r){return t(this,o,1<arguments.length?r:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],164:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/to-absolute-index"),c=e("../internals/to-integer"),d=e("../internals/to-length"),m=e("../internals/to-object"),f=e("../internals/array-species-create"),o=e("../internals/create-property"),r=e("../internals/array-method-has-species-support"),s=e("../internals/array-method-uses-to-length"),i=r("splice"),l=s("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,w=Math.min;p({target:"Array",proto:!0,forced:!i||!l},{splice:function(x,_){var E,C,A,O,I,R,L=m(this),U=d(L.length),D=t(x,U),W=arguments.length;if(W===0?E=C=0:C=W===1?(E=0,U-D):(E=W-2,w(v(c(_),0),U-D)),9007199254740991<U+E-C)throw TypeError("Maximum allowed length exceeded");for(A=f(L,C),O=0;O<C;O++)(I=D+O)in L&&o(A,O,L[I]);if(E<(A.length=C)){for(O=D;O<U-C;O++)R=O+E,(I=O+C)in L?L[R]=L[I]:delete L[R];for(O=U;U-C+E<O;O--)delete L[O-1]}else if(C<E)for(O=U-C;D<O;O--)R=O+E-1,(I=O+C-1)in L?L[R]=L[I]:delete L[R];for(O=0;O<E;O++)L[O+D]=arguments[O+2];return L.length=U-C+E,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(e,g,h){e("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],166:[function(e,g,h){var p=e("../internals/descriptors"),t=e("../internals/object-define-property").f,c=Function.prototype,d=c.toString,m=/^\s*function ([^ (]*)/;!p||"name"in c||t(c,"name",{configurable:!0,get:function(){try{return d.call(this).match(m)[1]}catch{return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":92}],167:[function(e,g,h){var p=e("../internals/collection"),t=e("../internals/collection-strong");g.exports=p("Map",function(c){return function(d){return c(this,arguments.length?d:void 0)}},t)},{"../internals/collection":31,"../internals/collection-strong":30}],168:[function(e,g,h){var p=e("../internals/export"),t=Math.hypot,c=Math.abs,d=Math.sqrt;p({target:"Math",stat:!0,forced:!!t&&t(1/0,NaN)!==1/0},{hypot:function(m,f){for(var o,r,s=0,i=0,l=arguments.length,v=0;i<l;)v<(o=c(arguments[i++]))?(s=s*(r=v/o)*r+1,v=o):s+=0<o?(r=o/v)*r:o;return v===1/0?1/0:v*d(s)}})},{"../internals/export":49}],169:[function(e,g,h){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":80}],170:[function(e,g,h){function p(D){var W,H,ae,le,J,ue,se,me,xe=s(D,!1);if(typeof xe=="string"&&2<xe.length){if((W=(xe=_(xe)).charCodeAt(0))===43||W===45){if((H=xe.charCodeAt(2))===88||H===120)return NaN}else if(W===48){switch(xe.charCodeAt(1)){case 66:case 98:ae=2,le=49;break;case 79:case 111:ae=8,le=55;break;default:return+xe}for(ue=(J=xe.slice(2)).length,se=0;se<ue;se++)if((me=J.charCodeAt(se))<48||le<me)return NaN;return parseInt(J,ae)}}return+xe}var t=e("../internals/descriptors"),c=e("../internals/global"),d=e("../internals/is-forced"),m=e("../internals/redefine"),f=e("../internals/has"),o=e("../internals/classof-raw"),r=e("../internals/inherit-if-required"),s=e("../internals/to-primitive"),i=e("../internals/fails"),l=e("../internals/object-create"),v=e("../internals/object-get-own-property-names").f,w=e("../internals/object-get-own-property-descriptor").f,x=e("../internals/object-define-property").f,_=e("../internals/string-trim").trim,E="Number",C=c[E],A=C.prototype,O=o(l(A))==E;if(d(E,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var I,R=function(D){var W=arguments.length<1?0:D,H=this;return H instanceof R&&(O?i(function(){A.valueOf.call(H)}):o(H)!=E)?r(new C(p(W)),H,R):p(W)},L=t?v(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),U=0;L.length>U;U++)f(C,I=L[U])&&!f(R,I)&&x(R,I,w(C,I));(R.prototype=A).constructor=R,m(c,E,R)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],171:[function(e,g,h){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":88}],172:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/to-integer"),c=e("../internals/this-number-value"),d=e("../internals/string-repeat"),m=e("../internals/fails"),f=1 .toFixed,o=Math.floor,r=function(s,i,l){return i===0?l:i%2==1?r(s,i-1,l*s):r(s*s,i/2,l)};p({target:"Number",proto:!0,forced:f&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!m(function(){f.call({})})},{toFixed:function(s){function i(L,U){for(var D=-1,W=U;++D<6;)W+=L*O[D],O[D]=W%1e7,W=o(W/1e7)}function l(L){for(var U=6,D=0;0<=--U;)D+=O[U],O[U]=o(D/L),D=D%L*1e7}function v(){for(var L=6,U="";0<=--L;)if(U!==""||L===0||O[L]!==0){var D=String(O[L]);U=U===""?D:U+d.call("0",7-D.length)+D}return U}var w,x,_,E,C=c(this),A=t(s),O=[0,0,0,0,0,0],I="",R="0";if(A<0||20<A)throw RangeError("Incorrect fraction digits");if(C!=C)return"NaN";if(C<=-1e21||1e21<=C)return String(C);if(C<0&&(I="-",C=-C),1e-21<C)if(x=(w=function(L){for(var U=0,D=L;4096<=D;)U+=12,D/=4096;for(;2<=D;)U+=1,D/=2;return U}(C*r(2,69,1))-69)<0?C*r(2,-w,1):C/r(2,w,1),x*=4503599627370496,0<(w=52-w)){for(i(0,x),_=A;7<=_;)i(1e7,0),_-=7;for(i(r(10,_,1),0),_=w-1;23<=_;)l(1<<23),_-=23;l(1<<_),i(1,1),l(2),R=v()}else i(0,x),i(1<<-w,0),R=v()+d.call("0",A);return R=0<A?I+((E=R.length)<=A?"0."+d.call("0",A-E)+R:R.slice(0,E-A)+"."+R.slice(E-A)):I+R}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],173:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/object-assign");p({target:"Object",stat:!0,forced:Object.assign!==t},{assign:t})},{"../internals/export":49,"../internals/object-assign":89}],174:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/fails"),c=e("../internals/object-get-own-property-names-external").f;p({target:"Object",stat:!0,forced:t(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:c})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":94}],175:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/fails"),c=e("../internals/to-object"),d=e("../internals/object-get-prototype-of"),m=e("../internals/correct-prototype-getter");p({target:"Object",stat:!0,forced:t(function(){d(1)}),sham:!m},{getPrototypeOf:function(f){return d(c(f))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/to-object"),c=e("../internals/object-keys");p({target:"Object",stat:!0,forced:e("../internals/fails")(function(){c(1)})},{keys:function(d){return c(t(d))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(e,g,h){var p=e("../internals/to-string-tag-support"),t=e("../internals/redefine"),c=e("../internals/object-to-string");p||t(Object.prototype,"toString",c,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(e,g,h){function p(Re){var Ae;return!(!O(Re)||typeof(Ae=Re.then)!="function")&&Ae}function t(Re,Ae,ze){if(!Ae.notified){Ae.notified=!0;var Ye=Ae.reactions;le(function(){for(var be=Ae.value,tt=Ae.state==1,V=0;Ye.length>V;){var Z,z,K,de=Ye[V++],Te=tt?de.ok:de.fail,ke=de.resolve,Ve=de.reject,we=de.domain;try{Te?(tt||(Ae.rejection===2&&Le(Re,Ae),Ae.rejection=1),Te===!0?Z=be:(we&&we.enter(),Z=Te(be),we&&(we.exit(),K=!0)),Z===de.promise?Ve(B("Promise-chain cycle")):(z=p(Z))?z.call(Z,ke,Ve):ke(Z)):Ve(be)}catch(Ke){we&&!K&&we.exit(),Ve(Ke)}}Ae.reactions=[],Ae.notified=!1,ze&&!Ae.rejection&&Be(Re,Ae)})}}function c(Re,Ae,ze){var Ye,be;pe?((Ye=F.createEvent("Event")).promise=Ae,Ye.reason=ze,Ye.initEvent(Re,!1,!0),v.dispatchEvent(Ye)):Ye={promise:Ae,reason:ze},(be=v["on"+Re])?be(Ye):Re===ge&&ue("Unhandled promise rejection",ze)}function d(Re,Ae,ze,Ye){return function(be){Re(Ae,ze,be,Ye)}}function m(Re,Ae,ze,Ye){Ae.done||(Ae.done=!0,Ye&&(Ae=Ye),Ae.value=ze,Ae.state=2,t(Re,Ae,!0))}var f,o,r,s,i=e("../internals/export"),l=e("../internals/is-pure"),v=e("../internals/global"),w=e("../internals/get-built-in"),x=e("../internals/native-promise-constructor"),_=e("../internals/redefine"),E=e("../internals/redefine-all"),C=e("../internals/set-to-string-tag"),A=e("../internals/set-species"),O=e("../internals/is-object"),I=e("../internals/a-function"),R=e("../internals/an-instance"),L=e("../internals/classof-raw"),U=e("../internals/inspect-source"),D=e("../internals/iterate"),W=e("../internals/check-correctness-of-iteration"),H=e("../internals/species-constructor"),ae=e("../internals/task").set,le=e("../internals/microtask"),J=e("../internals/promise-resolve"),ue=e("../internals/host-report-errors"),se=e("../internals/new-promise-capability"),me=e("../internals/perform"),xe=e("../internals/internal-state"),Ee=e("../internals/is-forced"),ve=e("../internals/well-known-symbol"),De=e("../internals/engine-v8-version"),_e=ve("species"),Se="Promise",P=xe.get,G=xe.set,Y=xe.getterFor(Se),ee=x,B=v.TypeError,F=v.document,re=v.process,$=w("fetch"),ne=se.f,ie=ne,oe=L(re)=="process",pe=!!(F&&F.createEvent&&v.dispatchEvent),ge="unhandledrejection",he=Ee(Se,function(){if(U(ee)===String(ee)&&(De===66||!oe&&typeof PromiseRejectionEvent!="function")||l&&!ee.prototype.finally)return!0;if(51<=De&&/native code/.test(ee))return!1;function Re(ze){ze(function(){},function(){})}var Ae=ee.resolve(1);return(Ae.constructor={})[_e]=Re,!(Ae.then(function(){})instanceof Re)}),Pe=he||!W(function(Re){ee.all(Re).catch(function(){})}),Be=function(Re,Ae){ae.call(v,function(){var ze,Ye=Ae.value;if(Ue(Ae)&&(ze=me(function(){oe?re.emit("unhandledRejection",Ye,Re):c(ge,Re,Ye)}),Ae.rejection=oe||Ue(Ae)?2:1,ze.error))throw ze.value})},Ue=function(Re){return Re.rejection!==1&&!Re.parent},Le=function(Re,Ae){ae.call(v,function(){oe?re.emit("rejectionHandled",Re):c("rejectionhandled",Re,Ae.value)})},Ze=function(Re,Ae,ze,Ye){if(!Ae.done){Ae.done=!0,Ye&&(Ae=Ye);try{if(Re===ze)throw B("Promise can't be resolved itself");var be=p(ze);be?le(function(){var tt={done:!1};try{be.call(ze,d(Ze,Re,tt,Ae),d(m,Re,tt,Ae))}catch(V){m(Re,tt,V,Ae)}}):(Ae.value=ze,Ae.state=1,t(Re,Ae,!1))}catch(tt){m(Re,{done:!1},tt,Ae)}}};he&&(ee=function(Re){R(this,ee,Se),I(Re),f.call(this);var Ae=P(this);try{Re(d(Ze,this,Ae),d(m,this,Ae))}catch(ze){m(this,Ae,ze)}},(f=function(){G(this,{type:Se,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=E(ee.prototype,{then:function(Re,Ae){var ze=Y(this),Ye=ne(H(this,ee));return Ye.ok=typeof Re!="function"||Re,Ye.fail=typeof Ae=="function"&&Ae,Ye.domain=oe?re.domain:void 0,ze.parent=!0,ze.reactions.push(Ye),ze.state!=0&&t(this,ze,!1),Ye.promise},catch:function(Re){return this.then(void 0,Re)}}),o=function(){var Re=new f,Ae=P(Re);this.promise=Re,this.resolve=d(Ze,Re,Ae),this.reject=d(m,Re,Ae)},se.f=ne=function(Re){return Re===ee||Re===r?new o(Re):ie(Re)},l||typeof x!="function"||(s=x.prototype.then,_(x.prototype,"then",function(Re,Ae){var ze=this;return new ee(function(Ye,be){s.call(ze,Ye,be)}).then(Re,Ae)},{unsafe:!0}),typeof $=="function"&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(Re){return J(ee,$.apply(v,arguments))}}))),i({global:!0,wrap:!0,forced:he},{Promise:ee}),C(ee,Se,!1,!0),A(Se),r=w(Se),i({target:Se,stat:!0,forced:he},{reject:function(Re){var Ae=ne(this);return Ae.reject.call(void 0,Re),Ae.promise}}),i({target:Se,stat:!0,forced:l||he},{resolve:function(Re){return J(l&&this===r?ee:this,Re)}}),i({target:Se,stat:!0,forced:Pe},{all:function(Re){var Ae=this,ze=ne(Ae),Ye=ze.resolve,be=ze.reject,tt=me(function(){var V=I(Ae.resolve),Z=[],z=0,K=1;D(Re,function(de){var Te=z++,ke=!1;Z.push(void 0),K++,V.call(Ae,de).then(function(Ve){ke||(ke=!0,Z[Te]=Ve,--K||Ye(Z))},be)}),--K||Ye(Z)});return tt.error&&be(tt.value),ze.promise},race:function(Re){var Ae=this,ze=ne(Ae),Ye=ze.reject,be=me(function(){var tt=I(Ae.resolve);D(Re,function(V){tt.call(Ae,V).then(ze.resolve,Ye)})});return be.error&&Ye(be.value),ze.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/get-built-in"),c=e("../internals/a-function"),d=e("../internals/an-object"),m=e("../internals/is-object"),f=e("../internals/object-create"),o=e("../internals/function-bind"),r=e("../internals/fails"),s=t("Reflect","construct"),i=r(function(){function w(){}return!(s(function(){},[],w)instanceof w)}),l=!r(function(){s(function(){})}),v=i||l;p({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(w,x,_){c(w),d(x);var E=arguments.length<3?w:c(_);if(l&&!i)return s(w,x,E);if(w==E){switch(x.length){case 0:return new w;case 1:return new w(x[0]);case 2:return new w(x[0],x[1]);case 3:return new w(x[0],x[1],x[2]);case 4:return new w(x[0],x[1],x[2],x[3])}var C=[null];return C.push.apply(C,x),new(o.apply(w,C))}var A=E.prototype,O=f(m(A)?A:Object.prototype),I=Function.apply.call(w,O,x);return m(I)?I:O}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(e,g,h){var p=e("../internals/descriptors"),t=e("../internals/global"),c=e("../internals/is-forced"),d=e("../internals/inherit-if-required"),m=e("../internals/object-define-property").f,f=e("../internals/object-get-own-property-names").f,o=e("../internals/is-regexp"),r=e("../internals/regexp-flags"),s=e("../internals/regexp-sticky-helpers"),i=e("../internals/redefine"),l=e("../internals/fails"),v=e("../internals/internal-state").set,w=e("../internals/set-species"),x=e("../internals/well-known-symbol")("match"),_=t.RegExp,E=_.prototype,C=/a/g,A=/a/g,O=new _(C)!==C,I=s.UNSUPPORTED_Y;if(p&&c("RegExp",!O||I||l(function(){return A[x]=!1,_(C)!=C||_(A)==A||_(C,"i")!="/a/i"}))){let W=function(H){H in R||m(R,H,{configurable:!0,get:function(){return _[H]},set:function(ae){_[H]=ae}})};for(var D=W,R=function(H,ae){var le,J=this instanceof R,ue=o(H),se=ae===void 0;if(!J&&ue&&H.constructor===R&&se)return H;O?ue&&!se&&(H=H.source):H instanceof R&&(se&&(ae=r.call(H)),H=H.source),I&&(le=!!ae&&-1<ae.indexOf("y"))&&(ae=ae.replace(/y/g,""));var me=d(O?new _(H,ae):_(H,ae),J?this:E,R);return I&&le&&v(me,{sticky:le}),me},L=f(_),U=0;L.length>U;)W(L[U++]);(E.constructor=R).prototype=E,i(t,"RegExp",R)}w("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/regexp-exec");p({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})},{"../internals/export":49,"../internals/regexp-exec":110}],182:[function(e,g,h){var p=e("../internals/redefine"),t=e("../internals/an-object"),c=e("../internals/fails"),d=e("../internals/regexp-flags"),m="toString",f=RegExp.prototype,o=f[m],r=c(function(){return o.call({source:"a",flags:"b"})!="/a/b"}),s=o.name!=m;(r||s)&&p(RegExp.prototype,m,function(){var i=t(this),l=String(i.source),v=i.flags;return"/"+l+"/"+String(v===void 0&&i instanceof RegExp&&!("flags"in f)?d.call(i):v)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(e,g,h){var p=e("../internals/collection"),t=e("../internals/collection-strong");g.exports=p("Set",function(c){return function(d){return c(this,arguments.length?d:void 0)}},t)},{"../internals/collection":31,"../internals/collection-strong":30}],184:[function(e,g,h){var p,t=e("../internals/export"),c=e("../internals/object-get-own-property-descriptor").f,d=e("../internals/to-length"),m=e("../internals/not-a-regexp"),f=e("../internals/require-object-coercible"),o=e("../internals/correct-is-regexp-logic"),r=e("../internals/is-pure"),s="".endsWith,i=Math.min,l=o("endsWith");t({target:"String",proto:!0,forced:!!(r||l||!(p=c(String.prototype,"endsWith"))||p.writable)&&!l},{endsWith:function(v,w){var x=String(f(this));m(v);var _=1<arguments.length?w:void 0,E=d(x.length),C=_===void 0?E:i(d(_),E),A=String(v);return s?s.call(x,A,C):x.slice(C-A.length,C)===A}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible");p({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(d,m){return!!~String(c(this)).indexOf(t(d),1<arguments.length?m:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(e,g,h){var p=e("../internals/string-multibyte").charAt,t=e("../internals/internal-state"),c=e("../internals/define-iterator"),d="String Iterator",m=t.set,f=t.getterFor(d);c(String,"String",function(o){m(this,{type:d,string:String(o),index:0})},function(){var o,r=f(this),s=r.string,i=r.index;return i>=s.length?{value:void 0,done:!0}:(o=p(s,i),r.index+=o.length,{value:o,done:!1})})},{"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(e,g,h){var p=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),c=e("../internals/to-length"),d=e("../internals/require-object-coercible"),m=e("../internals/advance-string-index"),f=e("../internals/regexp-exec-abstract");p("match",1,function(o,r,s){return[function(i){var l=d(this),v=i==null?void 0:i[o];return v!==void 0?v.call(i,l):new RegExp(i)[o](String(l))},function(i){var l=s(r,i,this);if(l.done)return l.value;var v=t(i),w=String(this);if(!v.global)return f(v,w);for(var x,_=v.unicode,E=[],C=v.lastIndex=0;(x=f(v,w))!==null;){var A=String(x[0]);(E[C]=A)===""&&(v.lastIndex=m(w,c(v.lastIndex),_)),C++}return C===0?null:E}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(e,g,h){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":125}],189:[function(e,g,h){var p=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),c=e("../internals/to-object"),d=e("../internals/to-length"),m=e("../internals/to-integer"),f=e("../internals/require-object-coercible"),o=e("../internals/advance-string-index"),r=e("../internals/regexp-exec-abstract"),s=Math.max,i=Math.min,l=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,w=/\$([$&'`]|\d\d?)/g;p("replace",2,function(x,_,E,C){var A=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,O=C.REPLACE_KEEPS_$0,I=A?"$":"$0";return[function(L,U){var D=f(this),W=L==null?void 0:L[x];return W!==void 0?W.call(L,D,U):_.call(String(D),L,U)},function(L,U){if(!A&&O||typeof U=="string"&&U.indexOf(I)===-1){var D=E(_,L,this,U);if(D.done)return D.value}var W=t(L),H=String(this),ae=typeof U=="function";ae||(U=String(U));var le=W.global;if(le){var J=W.unicode;W.lastIndex=0}for(var ue=[];;){var se=r(W,H);if(se===null||(ue.push(se),!le))break;String(se[0])===""&&(W.lastIndex=o(H,d(W.lastIndex),J))}for(var me,xe="",Ee=0,ve=0;ve<ue.length;ve++){se=ue[ve];for(var De=String(se[0]),_e=s(i(m(se.index),H.length),0),Se=[],P=1;P<se.length;P++)Se.push((me=se[P])===void 0?me:String(me));var G=se.groups;if(ae){var Y=[De].concat(Se,_e,H);G!==void 0&&Y.push(G);var ee=String(U.apply(void 0,Y))}else ee=R(De,H,_e,Se,G,U);Ee<=_e&&(xe+=H.slice(Ee,_e)+ee,Ee=_e+De.length)}return xe+H.slice(Ee)}];function R(L,U,D,W,H,ae){var le=D+L.length,J=W.length,ue=w;return H!==void 0&&(H=c(H),ue=v),_.call(ae,ue,function(se,me){var xe;switch(me.charAt(0)){case"$":return"$";case"&":return L;case"`":return U.slice(0,D);case"'":return U.slice(le);case"<":xe=H[me.slice(1,-1)];break;default:var Ee=+me;if(Ee==0)return se;if(J<Ee){var ve=l(Ee/10);return ve===0?se:ve<=J?W[ve-1]===void 0?me.charAt(1):W[ve-1]+me.charAt(1):se}xe=W[Ee-1]}return xe===void 0?"":xe})}})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(e,g,h){var p=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/an-object"),c=e("../internals/require-object-coercible"),d=e("../internals/same-value"),m=e("../internals/regexp-exec-abstract");p("search",1,function(f,o,r){return[function(s){var i=c(this),l=s==null?void 0:s[f];return l!==void 0?l.call(s,i):new RegExp(s)[f](String(i))},function(s){var i=r(o,s,this);if(i.done)return i.value;var l=t(s),v=String(this),w=l.lastIndex;d(w,0)||(l.lastIndex=0);var x=m(l,v);return d(l.lastIndex,w)||(l.lastIndex=w),x===null?-1:x.index}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(e,g,h){var p=e("../internals/fix-regexp-well-known-symbol-logic"),t=e("../internals/is-regexp"),c=e("../internals/an-object"),d=e("../internals/require-object-coercible"),m=e("../internals/species-constructor"),f=e("../internals/advance-string-index"),o=e("../internals/to-length"),r=e("../internals/regexp-exec-abstract"),s=e("../internals/regexp-exec"),i=e("../internals/fails"),l=[].push,v=Math.min,w=4294967295,x=!i(function(){return!RegExp(w,"y")});p("split",2,function(_,E,C){var A;return A="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(O,I){var R=String(d(this)),L=I===void 0?w:I>>>0;if(L==0)return[];if(O===void 0)return[R];if(!t(O))return E.call(R,O,L);for(var U,D,W,H=[],ae=(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.unicode?"u":"")+(O.sticky?"y":""),le=0,J=new RegExp(O.source,ae+"g");(U=s.call(J,R))&&!(le<(D=J.lastIndex)&&(H.push(R.slice(le,U.index)),1<U.length&&U.index<R.length&&l.apply(H,U.slice(1)),W=U[0].length,le=D,H.length>=L));)J.lastIndex===U.index&&J.lastIndex++;return le===R.length?!W&&J.test("")||H.push(""):H.push(R.slice(le)),H.length>L?H.slice(0,L):H}:"0".split(void 0,0).length?function(O,I){return O===void 0&&I===0?[]:E.call(this,O,I)}:E,[function(O,I){var R=d(this),L=O==null?void 0:O[_];return L!==void 0?L.call(O,R,I):A.call(String(R),O,I)},function(O,I){var R=C(A,O,this,I,A!==E);if(R.done)return R.value;var L=c(O),U=String(this),D=m(L,RegExp),W=L.unicode,H=(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(x?"y":"g"),ae=new D(x?L:"^(?:"+L.source+")",H),le=I===void 0?w:I>>>0;if(le==0)return[];if(U.length===0)return r(ae,U)===null?[U]:[];for(var J=0,ue=0,se=[];ue<U.length;){ae.lastIndex=x?ue:0;var me,xe=r(ae,x?U:U.slice(ue));if(xe===null||(me=v(o(ae.lastIndex+(x?0:ue)),U.length))===J)ue=f(U,ue,W);else{if(se.push(U.slice(J,ue)),se.length===le)return se;for(var Ee=1;Ee<=xe.length-1;Ee++)if(se.push(xe[Ee]),se.length===le)return se;ue=J=me}}return se.push(U.slice(J)),se}]},!x)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/create-html");p({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return t(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":122}],193:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/string-trim").trim;p({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return t(this)}})},{"../internals/export":49,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(e,g,h){var p=e("../internals/export"),t=e("../internals/descriptors"),c=e("../internals/global"),d=e("../internals/has"),m=e("../internals/is-object"),f=e("../internals/object-define-property").f,o=e("../internals/copy-constructor-properties"),r=c.Symbol;if(t&&typeof r=="function"&&(!("description"in r.prototype)||r().description!==void 0)){var s={},i=function(_){var E=arguments.length<1||_===void 0?void 0:String(_),C=this instanceof i?new r(E):E===void 0?r():r(E);return E===""&&(s[C]=!0),C};o(i,r);var l=i.prototype=r.prototype;l.constructor=i;var v=l.toString,w=String(r("test"))=="Symbol(test)",x=/^Symbol\((.*)\)[^)]+$/;f(l,"description",{configurable:!0,get:function(){var _=m(this)?this.valueOf():this,E=v.call(_);if(d(s,_))return"";var C=w?E.slice(7,-1):E.replace(x,"$1");return C===""?void 0:C}}),p({global:!0,forced:!0},{Symbol:i})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(e,g,h){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],196:[function(e,g,h){function p(z,K){var de=Be[z]=R(ie[B]);return re(de,{type:ee,tag:z,description:K}),s||(de.description=K),de}function t(z,K){E(z);var de=A(K),Te=L(de).concat(Z(de));return G(Te,function(ke){s&&!V.call(de,ke)||tt(z,ke,de[ke])}),z}function c(z,K){var de=A(z),Te=O(K,!0);if(de!==ne||!w(Be,Te)||w(Ue,Te)){var ke=pe(de,Te);return!ke||!w(Be,Te)||w(de,Y)&&de[Y][Te]||(ke.enumerable=!0),ke}}function d(z){var K=he(A(z)),de=[];return G(K,function(Te){w(Be,Te)||w(xe,Te)||de.push(Te)}),de}var m=e("../internals/export"),f=e("../internals/global"),o=e("../internals/get-built-in"),r=e("../internals/is-pure"),s=e("../internals/descriptors"),i=e("../internals/native-symbol"),l=e("../internals/use-symbol-as-uid"),v=e("../internals/fails"),w=e("../internals/has"),x=e("../internals/is-array"),_=e("../internals/is-object"),E=e("../internals/an-object"),C=e("../internals/to-object"),A=e("../internals/to-indexed-object"),O=e("../internals/to-primitive"),I=e("../internals/create-property-descriptor"),R=e("../internals/object-create"),L=e("../internals/object-keys"),U=e("../internals/object-get-own-property-names"),D=e("../internals/object-get-own-property-names-external"),W=e("../internals/object-get-own-property-symbols"),H=e("../internals/object-get-own-property-descriptor"),ae=e("../internals/object-define-property"),le=e("../internals/object-property-is-enumerable"),J=e("../internals/create-non-enumerable-property"),ue=e("../internals/redefine"),se=e("../internals/shared"),me=e("../internals/shared-key"),xe=e("../internals/hidden-keys"),Ee=e("../internals/uid"),ve=e("../internals/well-known-symbol"),De=e("../internals/well-known-symbol-wrapped"),_e=e("../internals/define-well-known-symbol"),Se=e("../internals/set-to-string-tag"),P=e("../internals/internal-state"),G=e("../internals/array-iteration").forEach,Y=me("hidden"),ee="Symbol",B="prototype",F=ve("toPrimitive"),re=P.set,$=P.getterFor(ee),ne=Object[B],ie=f.Symbol,oe=o("JSON","stringify"),pe=H.f,ge=ae.f,he=D.f,Pe=le.f,Be=se("symbols"),Ue=se("op-symbols"),Le=se("string-to-symbol-registry"),Ze=se("symbol-to-string-registry"),Re=se("wks"),Ae=f.QObject,ze=!Ae||!Ae[B]||!Ae[B].findChild,Ye=s&&v(function(){return R(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!=7})?function(z,K,de){var Te=pe(ne,K);Te&&delete ne[K],ge(z,K,de),Te&&z!==ne&&ge(ne,K,Te)}:ge,be=l?function(z){return typeof z=="symbol"}:function(z){return Object(z)instanceof ie},tt=function(z,K,de){z===ne&&tt(Ue,K,de),E(z);var Te=O(K,!0);return E(de),w(Be,Te)?(de.enumerable?(w(z,Y)&&z[Y][Te]&&(z[Y][Te]=!1),de=R(de,{enumerable:I(0,!1)})):(w(z,Y)||ge(z,Y,I(1,{})),z[Y][Te]=!0),Ye(z,Te,de)):ge(z,Te,de)},V=function(z){var K=O(z,!0),de=Pe.call(this,K);return!(this===ne&&w(Be,K)&&!w(Ue,K))&&(!(de||!w(this,K)||!w(Be,K)||w(this,Y)&&this[Y][K])||de)},Z=function(z){var K=z===ne,de=he(K?Ue:A(z)),Te=[];return G(de,function(ke){!w(Be,ke)||K&&!w(ne,ke)||Te.push(Be[ke])}),Te};i||(ue((ie=function(z){if(this instanceof ie)throw TypeError("Symbol is not a constructor");var K=arguments.length&&z!==void 0?String(z):void 0,de=Ee(K),Te=function(ke){this===ne&&Te.call(Ue,ke),w(this,Y)&&w(this[Y],de)&&(this[Y][de]=!1),Ye(this,de,I(1,ke))};return s&&ze&&Ye(ne,de,{configurable:!0,set:Te}),p(de,K)})[B],"toString",function(){return $(this).tag}),ue(ie,"withoutSetter",function(z){return p(Ee(z),z)}),le.f=V,ae.f=tt,H.f=c,U.f=D.f=d,W.f=Z,De.f=function(z){return p(ve(z),z)},s&&(ge(ie[B],"description",{configurable:!0,get:function(){return $(this).description}}),r||ue(ne,"propertyIsEnumerable",V,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!i,sham:!i},{Symbol:ie}),G(L(Re),function(z){_e(z)}),m({target:ee,stat:!0,forced:!i},{for:function(z){var K=String(z);if(w(Le,K))return Le[K];var de=ie(K);return Le[K]=de,Ze[de]=K,de},keyFor:function(z){if(!be(z))throw TypeError(z+" is not a symbol");if(w(Ze,z))return Ze[z]},useSetter:function(){ze=!0},useSimple:function(){ze=!1}}),m({target:"Object",stat:!0,forced:!i,sham:!s},{create:function(z,K){return K===void 0?R(z):t(R(z),K)},defineProperty:tt,defineProperties:t,getOwnPropertyDescriptor:c}),m({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:d,getOwnPropertySymbols:Z}),m({target:"Object",stat:!0,forced:v(function(){W.f(1)})},{getOwnPropertySymbols:function(z){return W.f(C(z))}}),oe&&m({target:"JSON",stat:!0,forced:!i||v(function(){var z=ie();return oe([z])!="[null]"||oe({a:z})!="{}"||oe(Object(z))!="{}"})},{stringify:function(z,K,de){for(var Te,ke=[z],Ve=1;Ve<arguments.length;)ke.push(arguments[Ve++]);if((_(Te=K)||z!==void 0)&&!be(z))return x(K)||(K=function(we,Ke){if(typeof Te=="function"&&(Ke=Te.call(this,we,Ke)),!be(Ke))return Ke}),ke[1]=K,oe.apply(null,ke)}}),ie[B][F]||J(ie[B],F,ie[B].valueOf),Se(ie,ee),xe[Y]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-copy-within"),c=p.aTypedArray;(0,p.exportTypedArrayMethod)("copyWithin",function(d,m,f){return t.call(c(this),d,m,2<arguments.length?f:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").every,c=p.aTypedArray;(0,p.exportTypedArrayMethod)("every",function(d,m){return t(c(this),d,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-fill"),c=p.aTypedArray;(0,p.exportTypedArrayMethod)("fill",function(d){return t.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").filter,c=e("../internals/species-constructor"),d=p.aTypedArray,m=p.aTypedArrayConstructor;(0,p.exportTypedArrayMethod)("filter",function(f,o){for(var r=t(d(this),f,1<arguments.length?o:void 0),s=c(this,this.constructor),i=0,l=r.length,v=new(m(s))(l);i<l;)v[i]=r[i++];return v})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").findIndex,c=p.aTypedArray;(0,p.exportTypedArrayMethod)("findIndex",function(d,m){return t(c(this),d,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").find,c=p.aTypedArray;(0,p.exportTypedArrayMethod)("find",function(d,m){return t(c(this),d,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,g,h){e("../internals/typed-array-constructor")("Float32",function(p){return function(t,c,d){return p(this,t,c,d)}})},{"../internals/typed-array-constructor":140}],204:[function(e,g,h){e("../internals/typed-array-constructor")("Float64",function(p){return function(t,c,d){return p(this,t,c,d)}})},{"../internals/typed-array-constructor":140}],205:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").forEach,c=p.aTypedArray;(0,p.exportTypedArrayMethod)("forEach",function(d,m){t(c(this),d,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-includes").includes,c=p.aTypedArray;(0,p.exportTypedArrayMethod)("includes",function(d,m){return t(c(this),d,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-includes").indexOf,c=p.aTypedArray;(0,p.exportTypedArrayMethod)("indexOf",function(d,m){return t(c(this),d,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(e,g,h){e("../internals/typed-array-constructor")("Int16",function(p){return function(t,c,d){return p(this,t,c,d)}})},{"../internals/typed-array-constructor":140}],209:[function(e,g,h){e("../internals/typed-array-constructor")("Int32",function(p){return function(t,c,d){return p(this,t,c,d)}})},{"../internals/typed-array-constructor":140}],210:[function(e,g,h){function p(){return o.call(i(this))}var t=e("../internals/global"),c=e("../internals/array-buffer-view-core"),d=e("../modules/es.array.iterator"),m=e("../internals/well-known-symbol")("iterator"),f=t.Uint8Array,o=d.values,r=d.keys,s=d.entries,i=c.aTypedArray,l=c.exportTypedArrayMethod,v=f&&f.prototype[m],w=!!v&&(v.name=="values"||v.name==null);l("entries",function(){return s.call(i(this))}),l("keys",function(){return r.call(i(this))}),l("values",p,!w),l(m,p,!w)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=p.aTypedArray,c=p.exportTypedArrayMethod,d=[].join;c("join",function(m){return d.apply(t(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-last-index-of"),c=p.aTypedArray;(0,p.exportTypedArrayMethod)("lastIndexOf",function(d){return t.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").map,c=e("../internals/species-constructor"),d=p.aTypedArray,m=p.aTypedArrayConstructor;(0,p.exportTypedArrayMethod)("map",function(f,o){return t(d(this),f,1<arguments.length?o:void 0,function(r,s){return new(m(c(r,r.constructor)))(s)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-reduce").right,c=p.aTypedArray;(0,p.exportTypedArrayMethod)("reduceRight",function(d,m){return t(c(this),d,arguments.length,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-reduce").left,c=p.aTypedArray;(0,p.exportTypedArrayMethod)("reduce",function(d,m){return t(c(this),d,arguments.length,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=p.aTypedArray,c=p.exportTypedArrayMethod,d=Math.floor;c("reverse",function(){for(var m,f=t(this).length,o=d(f/2),r=0;r<o;)m=this[r],this[r++]=this[--f],this[f]=m;return this})},{"../internals/array-buffer-view-core":12}],217:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/to-length"),c=e("../internals/to-offset"),d=e("../internals/to-object"),m=e("../internals/fails"),f=p.aTypedArray;(0,p.exportTypedArrayMethod)("set",function(o,r){f(this);var s=c(1<arguments.length?r:void 0,1),i=this.length,l=d(o),v=t(l.length),w=0;if(i<v+s)throw RangeError("Wrong length");for(;w<v;)this[s+w]=l[w++]},m(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/species-constructor"),c=e("../internals/fails"),d=p.aTypedArray,m=p.aTypedArrayConstructor,f=p.exportTypedArrayMethod,o=[].slice;f("slice",function(r,s){for(var i=o.call(d(this),r,s),l=t(this,this.constructor),v=0,w=i.length,x=new(m(l))(w);v<w;)x[v]=i[v++];return x},c(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":121}],219:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/array-iteration").some,c=p.aTypedArray;(0,p.exportTypedArrayMethod)("some",function(d,m){return t(c(this),d,1<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=p.aTypedArray,c=p.exportTypedArrayMethod,d=[].sort;c("sort",function(m){return d.call(t(this),m)})},{"../internals/array-buffer-view-core":12}],221:[function(e,g,h){var p=e("../internals/array-buffer-view-core"),t=e("../internals/to-length"),c=e("../internals/to-absolute-index"),d=e("../internals/species-constructor"),m=p.aTypedArray;(0,p.exportTypedArrayMethod)("subarray",function(f,o){var r=m(this),s=r.length,i=c(f,s);return new(d(r,r.constructor))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,t((o===void 0?s:c(o,s))-i))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(e,g,h){var p=e("../internals/global"),t=e("../internals/array-buffer-view-core"),c=e("../internals/fails"),d=p.Int8Array,m=t.aTypedArray,f=t.exportTypedArrayMethod,o=[].toLocaleString,r=[].slice,s=!!d&&c(function(){o.call(new d(1))});f("toLocaleString",function(){return o.apply(s?r.call(m(this)):m(this),arguments)},c(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!c(function(){d.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],223:[function(e,g,h){var p=e("../internals/array-buffer-view-core").exportTypedArrayMethod,t=e("../internals/fails"),c=e("../internals/global").Uint8Array,d=c&&c.prototype||{},m=[].toString,f=[].join;t(function(){m.call({})})&&(m=function(){return f.call(this)}),p("toString",m,d.toString!=m)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],224:[function(e,g,h){e("../internals/typed-array-constructor")("Uint16",function(p){return function(t,c,d){return p(this,t,c,d)}})},{"../internals/typed-array-constructor":140}],225:[function(e,g,h){e("../internals/typed-array-constructor")("Uint32",function(p){return function(t,c,d){return p(this,t,c,d)}})},{"../internals/typed-array-constructor":140}],226:[function(e,g,h){e("../internals/typed-array-constructor")("Uint8",function(p){return function(t,c,d){return p(this,t,c,d)}})},{"../internals/typed-array-constructor":140}],227:[function(e,g,h){e("../internals/typed-array-constructor")("Uint8",function(p){return function(t,c,d){return p(this,t,c,d)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(e,g,h){var p=e("../internals/global"),t=e("../internals/dom-iterables"),c=e("../internals/array-for-each"),d=e("../internals/create-non-enumerable-property");for(var m in t){var f=p[m],o=f&&f.prototype;if(o&&o.forEach!==c)try{d(o,"forEach",c)}catch{o.forEach=c}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59}],229:[function(e,g,h){var p=e("../internals/global"),t=e("../internals/dom-iterables"),c=e("../modules/es.array.iterator"),d=e("../internals/create-non-enumerable-property"),m=e("../internals/well-known-symbol"),f=m("iterator"),o=m("toStringTag"),r=c.values;for(var s in t){var i=p[s],l=i&&i.prototype;if(l){if(l[f]!==r)try{d(l,f,r)}catch{l[f]=r}if(l[o]||d(l,o,s),t[s]){for(var v in c)if(l[v]!==c[v])try{d(l,v,c[v])}catch{l[v]=c[v]}}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],230:[function(e,g,h){e("../modules/es.array.iterator");function p(ee){try{return decodeURIComponent(ee)}catch{return ee}}function t(ee){var B,F=ee.replace(ve," "),re=4;try{return decodeURIComponent(F)}catch{for(;re;)F=F.replace((B=re--,De[B-1]||(De[B-1]=RegExp("((?:%[\\da-f]{2}){"+B+"})","gi"))),p);return F}}function c(ee){return Se[ee]}function d(ee){return encodeURIComponent(ee).replace(_e,c)}function m(ee,B){if(B)for(var F,re,$=B.split("&"),ne=0;ne<$.length;)(F=$[ne++]).length&&(re=F.split("="),ee.push({key:t(re.shift()),value:t(re.join("="))}))}function f(ee){this.entries.length=0,m(this.entries,ee)}function o(ee,B){if(ee<B)throw TypeError("Not enough arguments")}var r=e("../internals/export"),s=e("../internals/get-built-in"),i=e("../internals/native-url"),l=e("../internals/redefine"),v=e("../internals/redefine-all"),w=e("../internals/set-to-string-tag"),x=e("../internals/create-iterator-constructor"),_=e("../internals/internal-state"),E=e("../internals/an-instance"),C=e("../internals/has"),A=e("../internals/function-bind-context"),O=e("../internals/classof"),I=e("../internals/an-object"),R=e("../internals/is-object"),L=e("../internals/object-create"),U=e("../internals/create-property-descriptor"),D=e("../internals/get-iterator"),W=e("../internals/get-iterator-method"),H=e("../internals/well-known-symbol"),ae=s("fetch"),le=s("Headers"),J=H("iterator"),ue="URLSearchParams",se=ue+"Iterator",me=_.set,xe=_.getterFor(ue),Ee=_.getterFor(se),ve=/\+/g,De=Array(4),_e=/[!'()~]|%20/g,Se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=x(function(ee,B){me(this,{type:se,iterator:D(xe(ee).entries),kind:B})},"Iterator",function(){var ee=Ee(this),B=ee.kind,F=ee.iterator.next(),re=F.value;return F.done||(F.value=B==="keys"?re.key:B==="values"?re.value:[re.key,re.value]),F}),G=function(ee){E(this,G,ue);var B,F,re,$,ne,ie,oe,pe,ge,he=0<arguments.length?ee:void 0,Pe=[];if(me(this,{type:ue,entries:Pe,updateURL:function(){},updateSearchParams:f}),he!==void 0)if(R(he))if(typeof(B=W(he))=="function")for(re=(F=B.call(he)).next;!($=re.call(F)).done;){if((oe=(ie=(ne=D(I($.value))).next).call(ne)).done||(pe=ie.call(ne)).done||!ie.call(ne).done)throw TypeError("Expected sequence with length 2");Pe.push({key:oe.value+"",value:pe.value+""})}else for(ge in he)C(he,ge)&&Pe.push({key:ge,value:he[ge]+""});else m(Pe,typeof he=="string"?he.charAt(0)==="?"?he.slice(1):he:he+"")},Y=G.prototype;v(Y,{append:function(ee,B){o(arguments.length,2);var F=xe(this);F.entries.push({key:ee+"",value:B+""}),F.updateURL()},delete:function(ee){o(arguments.length,1);for(var B=xe(this),F=B.entries,re=ee+"",$=0;$<F.length;)F[$].key===re?F.splice($,1):$++;B.updateURL()},get:function(ee){o(arguments.length,1);for(var B=xe(this).entries,F=ee+"",re=0;re<B.length;re++)if(B[re].key===F)return B[re].value;return null},getAll:function(ee){o(arguments.length,1);for(var B=xe(this).entries,F=ee+"",re=[],$=0;$<B.length;$++)B[$].key===F&&re.push(B[$].value);return re},has:function(ee){o(arguments.length,1);for(var B=xe(this).entries,F=ee+"",re=0;re<B.length;)if(B[re++].key===F)return!0;return!1},set:function(ee,B){o(arguments.length,1);for(var F,re=xe(this),$=re.entries,ne=!1,ie=ee+"",oe=B+"",pe=0;pe<$.length;pe++)(F=$[pe]).key===ie&&(ne?$.splice(pe--,1):(ne=!0,F.value=oe));ne||$.push({key:ie,value:oe}),re.updateURL()},sort:function(){var ee,B,F,re=xe(this),$=re.entries,ne=$.slice();for(F=$.length=0;F<ne.length;F++){for(ee=ne[F],B=0;B<F;B++)if($[B].key>ee.key){$.splice(B,0,ee);break}B===F&&$.push(ee)}re.updateURL()},forEach:function(ee,B){for(var F,re=xe(this).entries,$=A(ee,1<arguments.length?B:void 0,3),ne=0;ne<re.length;)$((F=re[ne++]).value,F.key,this)},keys:function(){return new P(this,"keys")},values:function(){return new P(this,"values")},entries:function(){return new P(this,"entries")}},{enumerable:!0}),l(Y,J,Y.entries),l(Y,"toString",function(){for(var ee,B=xe(this).entries,F=[],re=0;re<B.length;)ee=B[re++],F.push(d(ee.key)+"="+d(ee.value));return F.join("&")},{enumerable:!0}),w(G,ue),r({global:!0,forced:!i},{URLSearchParams:G}),i||typeof ae!="function"||typeof le!="function"||r({global:!0,enumerable:!0,forced:!0},{fetch:function(ee,B){var F,re,$,ne=[ee];return 1<arguments.length&&(R(F=B)&&(re=F.body,O(re)===ue&&(($=F.headers?new le(F.headers):new le).has("content-type")||$.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),F=L(F,{body:U(0,String(re)),headers:U(0,$)}))),ne.push(F)),ae.apply(this,ne)}}),g.exports={URLSearchParams:G,getState:xe}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(e,g,h){e("../modules/es.string.iterator");function p(fe,Ge){var Qe,qe,rt;if(Ge.charAt(0)=="["){if(Ge.charAt(Ge.length-1)!="]"||!(Qe=ie(Ge.slice(1,-1))))return Ee;fe.host=Qe}else if(Ue(fe)){if(Ge=L(Ge),B.test(Ge)||(Qe=ne(Ge))===null)return Ee;fe.host=Qe}else{if(F.test(Ge))return Ee;for(Qe="",qe=I(Ge),rt=0;rt<qe.length;rt++)Qe+=Pe(qe[rt],oe);fe.host=Qe}}function t(fe){var Ge,Qe,qe,rt;if(typeof fe=="number"){for(Ge=[],Qe=0;Qe<4;Qe++)Ge.unshift(fe%256),fe=se(fe/256);return Ge.join(".")}if(typeof fe!="object")return fe;for(Ge="",qe=function(Ne){for(var jt=null,Rt=1,Dt=null,wt=0,Je=0;Je<8;Je++)Ne[Je]!==0?(Rt<wt&&(jt=Dt,Rt=wt),Dt=null,wt=0):(Dt===null&&(Dt=Je),++wt);return Rt<wt&&(jt=Dt,Rt=wt),jt}(fe),Qe=0;Qe<8;Qe++)rt&&fe[Qe]===0||(rt=rt&&!1,qe===Qe?(Ge+=Qe?":":"::",rt=!0):(Ge+=fe[Qe].toString(16),Qe<7&&(Ge+=":")));return"["+Ge+"]"}function c(fe){return fe.username!=""||fe.password!=""}function d(fe){return!fe.host||fe.cannotBeABaseURL||fe.scheme=="file"}function m(fe,Ge){var Qe;return fe.length==2&&De.test(fe.charAt(0))&&((Qe=fe.charAt(1))==":"||!Ge&&Qe=="|")}function f(fe){var Ge;return 1<fe.length&&m(fe.slice(0,2))&&(fe.length==2||(Ge=fe.charAt(2))==="/"||Ge==="\\"||Ge==="?"||Ge==="#")}function o(fe){var Ge=fe.path,Qe=Ge.length;!Qe||fe.scheme=="file"&&Qe==1&&m(Ge[0],!0)||Ge.pop()}function r(fe,Ge,Qe,qe){var rt,Ne,jt,Rt,Dt,wt,Je=Qe||Le,zt=0,ut="",Go=!1,qn=!1,Vo=!1;for(Qe||(fe.scheme="",fe.username="",fe.password="",fe.host=null,fe.port=null,fe.path=[],fe.query=null,fe.fragment=null,fe.cannotBeABaseURL=!1,Ge=Ge.replace(re,"")),Ge=Ge.replace($,""),rt=I(Ge);zt<=rt.length;){switch(Ne=rt[zt],Je){case Le:if(!Ne||!De.test(Ne)){if(Qe)return xe;Je=Re;continue}ut+=Ne.toLowerCase(),Je=Ze;break;case Ze:if(Ne&&(_e.test(Ne)||Ne=="+"||Ne=="-"||Ne=="."))ut+=Ne.toLowerCase();else{if(Ne!=":"){if(Qe)return xe;ut="",Je=Re,zt=0;continue}if(Qe&&(Ue(fe)!=A(Be,ut)||ut=="file"&&(c(fe)||fe.port!==null)||fe.scheme=="file"&&!fe.host))return;if(fe.scheme=ut,Qe)return void(Ue(fe)&&Be[fe.scheme]==fe.port&&(fe.port=null));ut="",fe.scheme=="file"?Je=Te:Ue(fe)&&qe&&qe.scheme==fe.scheme?Je=Ae:Ue(fe)?Je=tt:rt[zt+1]=="/"?(Je=ze,zt++):(fe.cannotBeABaseURL=!0,fe.path.push(""),Je=at)}break;case Re:if(!qe||qe.cannotBeABaseURL&&Ne!="#")return xe;if(qe.cannotBeABaseURL&&Ne=="#"){fe.scheme=qe.scheme,fe.path=qe.path.slice(),fe.query=qe.query,fe.fragment="",fe.cannotBeABaseURL=!0,Je=mt;break}Je=qe.scheme=="file"?Te:Ye;continue;case Ae:if(Ne!="/"||rt[zt+1]!="/"){Je=Ye;continue}Je=V,zt++;break;case ze:if(Ne=="/"){Je=Z;break}Je=Ke;continue;case Ye:if(fe.scheme=qe.scheme,Ne==i)fe.username=qe.username,fe.password=qe.password,fe.host=qe.host,fe.port=qe.port,fe.path=qe.path.slice(),fe.query=qe.query;else if(Ne=="/"||Ne=="\\"&&Ue(fe))Je=be;else if(Ne=="?")fe.username=qe.username,fe.password=qe.password,fe.host=qe.host,fe.port=qe.port,fe.path=qe.path.slice(),fe.query="",Je=ht;else{if(Ne!="#"){fe.username=qe.username,fe.password=qe.password,fe.host=qe.host,fe.port=qe.port,fe.path=qe.path.slice(),fe.path.pop(),Je=Ke;continue}fe.username=qe.username,fe.password=qe.password,fe.host=qe.host,fe.port=qe.port,fe.path=qe.path.slice(),fe.query=qe.query,fe.fragment="",Je=mt}break;case be:if(!Ue(fe)||Ne!="/"&&Ne!="\\"){if(Ne!="/"){fe.username=qe.username,fe.password=qe.password,fe.host=qe.host,fe.port=qe.port,Je=Ke;continue}Je=Z}else Je=V;break;case tt:if(Je=V,Ne!="/"||ut.charAt(zt+1)!="/")continue;zt++;break;case V:if(Ne=="/"||Ne=="\\")break;Je=Z;continue;case Z:if(Ne=="@"){Go&&(ut="%40"+ut),Go=!0,jt=I(ut);for(var Wo=0;Wo<jt.length;Wo++){var Ho=jt[Wo];if(Ho!=":"||Vo){var po=Pe(Ho,he);Vo?fe.password+=po:fe.username+=po}else Vo=!0}ut=""}else if(Ne==i||Ne=="/"||Ne=="?"||Ne=="#"||Ne=="\\"&&Ue(fe)){if(Go&&ut=="")return"Invalid authority";zt-=I(ut).length+1,ut="",Je=z}else ut+=Ne;break;case z:case K:if(Qe&&fe.scheme=="file"){Je=Ve;continue}if(Ne!=":"||qn){if(Ne==i||Ne=="/"||Ne=="?"||Ne=="#"||Ne=="\\"&&Ue(fe)){if(Ue(fe)&&ut=="")return Ee;if(Qe&&ut==""&&(c(fe)||fe.port!==null))return;if(Rt=p(fe,ut))return Rt;if(ut="",Je=we,Qe)return;continue}Ne=="["?qn=!0:Ne=="]"&&(qn=!1),ut+=Ne}else{if(ut=="")return Ee;if(Rt=p(fe,ut))return Rt;if(ut="",Je=de,Qe==K)return}break;case de:if(!Se.test(Ne)){if(Ne==i||Ne=="/"||Ne=="?"||Ne=="#"||Ne=="\\"&&Ue(fe)||Qe){if(ut!=""){var mo=parseInt(ut,10);if(65535<mo)return ve;fe.port=Ue(fe)&&mo===Be[fe.scheme]?null:mo,ut=""}if(Qe)return;Je=we;continue}return ve}ut+=Ne;break;case Te:if(fe.scheme="file",Ne=="/"||Ne=="\\")Je=ke;else{if(!qe||qe.scheme!="file"){Je=Ke;continue}if(Ne==i)fe.host=qe.host,fe.path=qe.path.slice(),fe.query=qe.query;else if(Ne=="?")fe.host=qe.host,fe.path=qe.path.slice(),fe.query="",Je=ht;else{if(Ne!="#"){f(rt.slice(zt).join(""))||(fe.host=qe.host,fe.path=qe.path.slice(),o(fe)),Je=Ke;continue}fe.host=qe.host,fe.path=qe.path.slice(),fe.query=qe.query,fe.fragment="",Je=mt}}break;case ke:if(Ne=="/"||Ne=="\\"){Je=Ve;break}qe&&qe.scheme=="file"&&!f(rt.slice(zt).join(""))&&(m(qe.path[0],!0)?fe.path.push(qe.path[0]):fe.host=qe.host),Je=Ke;continue;case Ve:if(Ne==i||Ne=="/"||Ne=="\\"||Ne=="?"||Ne=="#"){if(!Qe&&m(ut))Je=Ke;else if(ut==""){if(fe.host="",Qe)return;Je=we}else{if(Rt=p(fe,ut))return Rt;if(fe.host=="localhost"&&(fe.host=""),Qe)return;ut="",Je=we}continue}ut+=Ne;break;case we:if(Ue(fe)){if(Je=Ke,Ne!="/"&&Ne!="\\")continue}else if(Qe||Ne!="?")if(Qe||Ne!="#"){if(Ne!=i&&(Je=Ke,Ne!="/"))continue}else fe.fragment="",Je=mt;else fe.query="",Je=ht;break;case Ke:if(Ne==i||Ne=="/"||Ne=="\\"&&Ue(fe)||!Qe&&(Ne=="?"||Ne=="#")){if((wt=(wt=ut).toLowerCase())===".."||wt==="%2e."||wt===".%2e"||wt==="%2e%2e"?(o(fe),Ne=="/"||Ne=="\\"&&Ue(fe)||fe.path.push("")):(Dt=ut)==="."||Dt.toLowerCase()==="%2e"?Ne=="/"||Ne=="\\"&&Ue(fe)||fe.path.push(""):(fe.scheme=="file"&&!fe.path.length&&m(ut)&&(fe.host&&(fe.host=""),ut=ut.charAt(0)+":"),fe.path.push(ut)),ut="",fe.scheme=="file"&&(Ne==i||Ne=="?"||Ne=="#"))for(;1<fe.path.length&&fe.path[0]==="";)fe.path.shift();Ne=="?"?(fe.query="",Je=ht):Ne=="#"&&(fe.fragment="",Je=mt)}else ut+=Pe(Ne,ge);break;case at:Ne=="?"?(fe.query="",Je=ht):Ne=="#"?(fe.fragment="",Je=mt):Ne!=i&&(fe.path[0]+=Pe(Ne,oe));break;case ht:Qe||Ne!="#"?Ne!=i&&(Ne=="'"&&Ue(fe)?fe.query+="%27":fe.query+=Ne=="#"?"%23":Pe(Ne,oe)):(fe.fragment="",Je=mt);break;case mt:Ne!=i&&(fe.fragment+=Pe(Ne,pe))}zt++}}function s(fe,Ge){return{get:fe,set:Ge,configurable:!0,enumerable:!0}}var i,l=e("../internals/export"),v=e("../internals/descriptors"),w=e("../internals/native-url"),x=e("../internals/global"),_=e("../internals/object-define-properties"),E=e("../internals/redefine"),C=e("../internals/an-instance"),A=e("../internals/has"),O=e("../internals/object-assign"),I=e("../internals/array-from"),R=e("../internals/string-multibyte").codeAt,L=e("../internals/string-punycode-to-ascii"),U=e("../internals/set-to-string-tag"),D=e("../modules/web.url-search-params"),W=e("../internals/internal-state"),H=x.URL,ae=D.URLSearchParams,le=D.getState,J=W.set,ue=W.getterFor("URL"),se=Math.floor,me=Math.pow,xe="Invalid scheme",Ee="Invalid host",ve="Invalid port",De=/[A-Za-z]/,_e=/[\d+-.A-Za-z]/,Se=/\d/,P=/^(0x|0X)/,G=/^[0-7]+$/,Y=/^\d+$/,ee=/^[\dA-Fa-f]+$/,B=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,re=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,$=/[\u0009\u000A\u000D]/g,ne=function(fe){var Ge,Qe,qe,rt,Ne,jt,Rt,Dt=fe.split(".");if(Dt.length&&Dt[Dt.length-1]==""&&Dt.pop(),4<(Ge=Dt.length))return fe;for(Qe=[],qe=0;qe<Ge;qe++){if((rt=Dt[qe])=="")return fe;if(Ne=10,1<rt.length&&rt.charAt(0)=="0"&&(Ne=P.test(rt)?16:8,rt=rt.slice(Ne==8?1:2)),rt==="")jt=0;else{if(!(Ne==10?Y:Ne==8?G:ee).test(rt))return fe;jt=parseInt(rt,Ne)}Qe.push(jt)}for(qe=0;qe<Ge;qe++)if(jt=Qe[qe],qe==Ge-1){if(jt>=me(256,5-Ge))return null}else if(255<jt)return null;for(Rt=Qe.pop(),qe=0;qe<Qe.length;qe++)Rt+=Qe[qe]*me(256,3-qe);return Rt},ie=function(fe){function Ge(){return fe.charAt(ut)}var Qe,qe,rt,Ne,jt,Rt,Dt,wt=[0,0,0,0,0,0,0,0],Je=0,zt=null,ut=0;if(Ge()==":"){if(fe.charAt(1)!=":")return;ut+=2,zt=++Je}for(;Ge();){if(Je==8)return;if(Ge()!=":"){for(Qe=qe=0;qe<4&&ee.test(Ge());)Qe=16*Qe+parseInt(Ge(),16),ut++,qe++;if(Ge()=="."){if(qe==0||(ut-=qe,6<Je))return;for(rt=0;Ge();){if(Ne=null,0<rt){if(!(Ge()=="."&&rt<4))return;ut++}if(!Se.test(Ge()))return;for(;Se.test(Ge());){if(jt=parseInt(Ge(),10),Ne===null)Ne=jt;else{if(Ne==0)return;Ne=10*Ne+jt}if(255<Ne)return;ut++}wt[Je]=256*wt[Je]+Ne,++rt!=2&&rt!=4||Je++}if(rt!=4)return;break}if(Ge()==":"){if(ut++,!Ge())return}else if(Ge())return;wt[Je++]=Qe}else{if(zt!==null)return;ut++,zt=++Je}}if(zt!==null)for(Rt=Je-zt,Je=7;Je!=0&&0<Rt;)Dt=wt[Je],wt[Je--]=wt[zt+Rt-1],wt[zt+--Rt]=Dt;else if(Je!=8)return;return wt},oe={},pe=O({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),ge=O({},pe,{"#":1,"?":1,"{":1,"}":1}),he=O({},ge,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pe=function(fe,Ge){var Qe=R(fe,0);return 32<Qe&&Qe<127&&!A(Ge,fe)?fe:encodeURIComponent(fe)},Be={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ue=function(fe){return A(Be,fe.scheme)},Le={},Ze={},Re={},Ae={},ze={},Ye={},be={},tt={},V={},Z={},z={},K={},de={},Te={},ke={},Ve={},we={},Ke={},at={},ht={},mt={},ft=function(fe,Ge){var Qe,qe,rt=C(this,ft,"URL"),Ne=1<arguments.length?Ge:void 0,jt=String(fe),Rt=J(rt,{type:"URL"});if(Ne!==void 0){if(Ne instanceof ft)Qe=ue(Ne);else if(qe=r(Qe={},String(Ne)))throw TypeError(qe)}if(qe=r(Rt,jt,null,Qe))throw TypeError(qe);var Dt=Rt.searchParams=new ae,wt=le(Dt);wt.updateSearchParams(Rt.query),wt.updateURL=function(){Rt.query=String(Dt)||null},v||(rt.href=Mt.call(rt),rt.origin=Jr.call(rt),rt.protocol=vr.call(rt),rt.username=Nn.call(rt),rt.password=mn.call(rt),rt.host=en.call(rt),rt.hostname=Gn.call(rt),rt.port=Vn.call(rt),rt.pathname=Wn.call(rt),rt.search=Hn.call(rt),rt.searchParams=zn.call(rt),rt.hash=fo.call(rt))},pt=ft.prototype,Mt=function(){var fe=ue(this),Ge=fe.scheme,Qe=fe.username,qe=fe.password,rt=fe.host,Ne=fe.port,jt=fe.path,Rt=fe.query,Dt=fe.fragment,wt=Ge+":";return rt!==null?(wt+="//",c(fe)&&(wt+=Qe+(qe?":"+qe:"")+"@"),wt+=t(rt),Ne!==null&&(wt+=":"+Ne)):Ge=="file"&&(wt+="//"),wt+=fe.cannotBeABaseURL?jt[0]:jt.length?"/"+jt.join("/"):"",Rt!==null&&(wt+="?"+Rt),Dt!==null&&(wt+="#"+Dt),wt},Jr=function(){var fe=ue(this),Ge=fe.scheme,Qe=fe.port;if(Ge=="blob")try{return new URL(Ge.path[0]).origin}catch{return"null"}return Ge!="file"&&Ue(fe)?Ge+"://"+t(fe.host)+(Qe!==null?":"+Qe:""):"null"},vr=function(){return ue(this).scheme+":"},Nn=function(){return ue(this).username},mn=function(){return ue(this).password},en=function(){var fe=ue(this),Ge=fe.host,Qe=fe.port;return Ge===null?"":Qe===null?t(Ge):t(Ge)+":"+Qe},Gn=function(){var fe=ue(this).host;return fe===null?"":t(fe)},Vn=function(){var fe=ue(this).port;return fe===null?"":String(fe)},Wn=function(){var fe=ue(this),Ge=fe.path;return fe.cannotBeABaseURL?Ge[0]:Ge.length?"/"+Ge.join("/"):""},Hn=function(){var fe=ue(this).query;return fe?"?"+fe:""},zn=function(){return ue(this).searchParams},fo=function(){var fe=ue(this).fragment;return fe?"#"+fe:""};if(v&&_(pt,{href:s(Mt,function(fe){var Ge=ue(this),Qe=String(fe),qe=r(Ge,Qe);if(qe)throw TypeError(qe);le(Ge.searchParams).updateSearchParams(Ge.query)}),origin:s(Jr),protocol:s(vr,function(fe){var Ge=ue(this);r(Ge,String(fe)+":",Le)}),username:s(Nn,function(fe){var Ge=ue(this),Qe=I(String(fe));if(!d(Ge)){Ge.username="";for(var qe=0;qe<Qe.length;qe++)Ge.username+=Pe(Qe[qe],he)}}),password:s(mn,function(fe){var Ge=ue(this),Qe=I(String(fe));if(!d(Ge)){Ge.password="";for(var qe=0;qe<Qe.length;qe++)Ge.password+=Pe(Qe[qe],he)}}),host:s(en,function(fe){var Ge=ue(this);Ge.cannotBeABaseURL||r(Ge,String(fe),z)}),hostname:s(Gn,function(fe){var Ge=ue(this);Ge.cannotBeABaseURL||r(Ge,String(fe),K)}),port:s(Vn,function(fe){var Ge=ue(this);d(Ge)||((fe=String(fe))==""?Ge.port=null:r(Ge,fe,de))}),pathname:s(Wn,function(fe){var Ge=ue(this);Ge.cannotBeABaseURL||(Ge.path=[],r(Ge,fe+"",we))}),search:s(Hn,function(fe){var Ge=ue(this);(fe=String(fe))==""?Ge.query=null:(fe.charAt(0)=="?"&&(fe=fe.slice(1)),Ge.query="",r(Ge,fe,ht)),le(Ge.searchParams).updateSearchParams(Ge.query)}),searchParams:s(zn),hash:s(fo,function(fe){var Ge=ue(this);(fe=String(fe))!=""?(fe.charAt(0)=="#"&&(fe=fe.slice(1)),Ge.fragment="",r(Ge,fe,mt)):Ge.fragment=null})}),E(pt,"toJSON",function(){return Mt.call(this)},{enumerable:!0}),E(pt,"toString",function(){return Mt.call(this)},{enumerable:!0}),H){var Tn=H.createObjectURL,En=H.revokeObjectURL;Tn&&E(ft,"createObjectURL",function(fe){return Tn.apply(H,arguments)}),En&&E(ft,"revokeObjectURL",function(fe){return En.apply(H,arguments)})}U(ft,"URL"),l({global:!0,forced:!w,sham:!v},{URL:ft})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":230}],232:[function(e,g,h){g.exports=e("./").polyfill()},{"./":233}],233:[function(e,g,h){(function(p,t){var c,d;c=this,d=function(){function m($){return typeof $=="function"}var f=Array.isArray?Array.isArray:function($){return Object.prototype.toString.call($)==="[object Array]"},o=0,r=void 0,s=void 0,i=function($,ne){C[o]=$,C[o+1]=ne,(o+=2)===2&&(s?s(A):U())},l=typeof window<"u"?window:void 0,v=l||{},w=v.MutationObserver||v.WebKitMutationObserver,x=typeof self>"u"&&p!==void 0&&{}.toString.call(p)==="[object process]",_=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function E(){var $=setTimeout;return function(){return $(A,1)}}var C=new Array(1e3);function A(){for(var $=0;$<o;$+=2)(0,C[$])(C[$+1]),C[$]=void 0,C[$+1]=void 0;o=0}var O,I,R,L,U=void 0;function D($,ne){var ie=this,oe=new this.constructor(ae);oe[H]===void 0&&Y(oe);var pe=ie._state;if(pe){var ge=arguments[pe-1];i(function(){return P(pe,oe,ge,ie._result)})}else _e(ie,oe,$,ne);return oe}function W($){if($&&typeof $=="object"&&$.constructor===this)return $;var ne=new this(ae);return xe(ne,$),ne}U=x?function(){return p.nextTick(A)}:w?(I=0,R=new w(A),L=document.createTextNode(""),R.observe(L,{characterData:!0}),function(){L.data=I=++I%2}):_?((O=new MessageChannel).port1.onmessage=A,function(){return O.port2.postMessage(0)}):l===void 0&&typeof e=="function"?function(){try{var $=Function("return this")().require("vertx");return(r=$.runOnLoop||$.runOnContext)!==void 0?function(){r(A)}:E()}catch{return E()}}():E();var H=Math.random().toString(36).substring(2);function ae(){}var le=void 0,J=1,ue=2;function se($,ne,ie){i(function(oe){var pe=!1,ge=function(he,Pe,Be,Ue){try{he.call(Pe,Be,Ue)}catch(Le){return Le}}(ie,ne,function(he){pe||(pe=!0,ne!==he?xe(oe,he):ve(oe,he))},function(he){pe||(pe=!0,De(oe,he))},oe._label);!pe&&ge&&(pe=!0,De(oe,ge))},$)}function me($,ne,ie){var oe,pe;ne.constructor===$.constructor&&ie===D&&ne.constructor.resolve===W?(oe=$,(pe=ne)._state===J?ve(oe,pe._result):pe._state===ue?De(oe,pe._result):_e(pe,void 0,function(ge){return xe(oe,ge)},function(ge){return De(oe,ge)})):ie===void 0?ve($,ne):m(ie)?se($,ne,ie):ve($,ne)}function xe($,ne){if($===ne)De($,new TypeError("You cannot resolve a promise with itself"));else if(pe=typeof(oe=ne),oe===null||pe!="object"&&pe!="function")ve($,ne);else{var ie=void 0;try{ie=ne.then}catch(ge){return void De($,ge)}me($,ne,ie)}var oe,pe}function Ee($){$._onerror&&$._onerror($._result),Se($)}function ve($,ne){$._state===le&&($._result=ne,$._state=J,$._subscribers.length!==0&&i(Se,$))}function De($,ne){$._state===le&&($._state=ue,$._result=ne,i(Ee,$))}function _e($,ne,ie,oe){var pe=$._subscribers,ge=pe.length;$._onerror=null,pe[ge]=ne,pe[ge+J]=ie,pe[ge+ue]=oe,ge===0&&$._state&&i(Se,$)}function Se($){var ne=$._subscribers,ie=$._state;if(ne.length!==0){for(var oe=void 0,pe=void 0,ge=$._result,he=0;he<ne.length;he+=3)oe=ne[he],pe=ne[he+ie],oe?P(ie,oe,pe,ge):pe(ge);$._subscribers.length=0}}function P($,ne,ie,oe){var pe=m(ie),ge=void 0,he=void 0,Pe=!0;if(pe){try{ge=ie(oe)}catch(Be){Pe=!1,he=Be}if(ne===ge)return void De(ne,new TypeError("A promises callback cannot return that same promise."))}else ge=oe;ne._state!==le||(pe&&Pe?xe(ne,ge):Pe===!1?De(ne,he):$===J?ve(ne,ge):$===ue&&De(ne,ge))}var G=0;function Y($){$[H]=G++,$._state=void 0,$._result=void 0,$._subscribers=[]}var ee=(B.prototype._enumerate=function($){for(var ne=0;this._state===le&&ne<$.length;ne++)this._eachEntry($[ne],ne)},B.prototype._eachEntry=function($,ne){var ie=this._instanceConstructor,oe=ie.resolve;if(oe===W){var pe=void 0,ge=void 0,he=!1;try{pe=$.then}catch(Be){he=!0,ge=Be}if(pe===D&&$._state!==le)this._settledAt($._state,ne,$._result);else if(typeof pe!="function")this._remaining--,this._result[ne]=$;else if(ie===F){var Pe=new ie(ae);he?De(Pe,ge):me(Pe,$,pe),this._willSettleAt(Pe,ne)}else this._willSettleAt(new ie(function(Be){return Be($)}),ne)}else this._willSettleAt(oe($),ne)},B.prototype._settledAt=function($,ne,ie){var oe=this.promise;oe._state===le&&(this._remaining--,$===ue?De(oe,ie):this._result[ne]=ie),this._remaining===0&&ve(oe,this._result)},B.prototype._willSettleAt=function($,ne){var ie=this;_e($,void 0,function(oe){return ie._settledAt(J,ne,oe)},function(oe){return ie._settledAt(ue,ne,oe)})},B);function B($,ne){this._instanceConstructor=$,this.promise=new $(ae),this.promise[H]||Y(this.promise),f(ne)?(this.length=ne.length,this._remaining=ne.length,this._result=new Array(this.length),this.length===0?ve(this.promise,this._result):(this.length=this.length||0,this._enumerate(ne),this._remaining===0&&ve(this.promise,this._result))):De(this.promise,new Error("Array Methods must be provided an Array"))}var F=(re.prototype.catch=function($){return this.then(null,$)},re.prototype.finally=function($){var ne=this.constructor;return m($)?this.then(function(ie){return ne.resolve($()).then(function(){return ie})},function(ie){return ne.resolve($()).then(function(){throw ie})}):this.then($,$)},re);function re($){this[H]=G++,this._result=this._state=void 0,this._subscribers=[],ae!==$&&(typeof $!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof re?function(ne,ie){try{ie(function(oe){xe(ne,oe)},function(oe){De(ne,oe)})}catch(oe){De(ne,oe)}}(this,$):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return F.prototype.then=D,F.all=function($){return new ee(this,$).promise},F.race=function($){var ne=this;return f($)?new ne(function(ie,oe){for(var pe=$.length,ge=0;ge<pe;ge++)ne.resolve($[ge]).then(ie,oe)}):new ne(function(ie,oe){return oe(new TypeError("You must pass an array to race."))})},F.resolve=W,F.reject=function($){var ne=new this(ae);return De(ne,$),ne},F._setScheduler=function($){s=$},F._setAsap=function($){i=$},F._asap=i,F.polyfill=function(){var $=void 0;if(t!==void 0)$=t;else if(typeof self<"u")$=self;else try{$=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ne=$.Promise;if(ne){var ie=null;try{ie=Object.prototype.toString.call(ne.resolve())}catch{}if(ie==="[object Promise]"&&!ne.cast)return}$.Promise=F},F.Promise=F},typeof h=="object"&&g!==void 0?g.exports=d():c.ES6Promise=d()}).call(this,e("_process"),typeof Ss<"u"?Ss:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:241}],234:[function(e,g,h){(function(p,t){if(h!==void 0&&g!==void 0)t(h,g);else{var c={exports:{}};t(c.exports,c),p.fetchJsonp=c.exports}})(this,function(p,t){var c=5e3,d="callback";function m(o){try{delete window[o]}catch{window[o]=void 0}}function f(o){var r=document.getElementById(o);r&&document.getElementsByTagName("head")[0].removeChild(r)}t.exports=function(o){var r=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],s=o,i=r.timeout||c,l=r.jsonpCallback||d,v=void 0;return new Promise(function(w,x){var _=r.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),E=l+"_"+_;window[_]=function(A){w({ok:!0,json:function(){return Promise.resolve(A)}}),v&&clearTimeout(v),f(E),m(_)},s+=s.indexOf("?")===-1?"?":"&";var C=document.createElement("script");C.setAttribute("src",""+s+l+"="+_),r.charset&&C.setAttribute("charset",r.charset),C.id=E,document.getElementsByTagName("head")[0].appendChild(C),v=setTimeout(function(){x(new Error("JSONP request to "+o+" timed out")),m(_),f(E),window[_]=function(){m(_)}},i),C.onerror=function(){x(new Error("JSONP request to "+o+" failed")),m(_),f(E),v&&clearTimeout(v)}})}})},{}],235:[function(e,g,h){var p=p||function(t){if(!(t===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var c=t.document,d=function(){return t.URL||t.webkitURL||t},m=c.createElementNS("http://www.w3.org/1999/xhtml","a"),f="download"in m,o=/constructor/i.test(t.HTMLElement)||t.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(x){(t.setImmediate||t.setTimeout)(function(){throw x},0)},i=function(x){setTimeout(function(){typeof x=="string"?d().revokeObjectURL(x):x.remove()},4e4)},l=function(x){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob([String.fromCharCode(65279),x],{type:x.type}):x},v=function(x,_,E){E||(x=l(x));function C(){(function(R,L,U){for(var D=(L=[].concat(L)).length;D--;){var W=R["on"+L[D]];if(typeof W=="function")try{W.call(R,U||R)}catch(H){s(H)}}})(O,"writestart progress write writeend".split(" "))}var A,O=this,I=x.type==="application/octet-stream";if(O.readyState=O.INIT,f)return A=d().createObjectURL(x),void setTimeout(function(){var R,L;m.href=A,m.download=_,R=m,L=new MouseEvent("click"),R.dispatchEvent(L),C(),i(A),O.readyState=O.DONE});(function(){if((r||I&&o)&&t.FileReader){var R=new FileReader;return R.onloadend=function(){var L=r?R.result:R.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(L,"_blank")||(t.location.href=L),L=void 0,O.readyState=O.DONE,C()},R.readAsDataURL(x),O.readyState=O.INIT}A=A||d().createObjectURL(x),I?t.location.href=A:t.open(A,"_blank")||(t.location.href=A),O.readyState=O.DONE,C(),i(A)})()},w=v.prototype;return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(x,_,E){return _=_||x.name||"download",E||(x=l(x)),navigator.msSaveOrOpenBlob(x,_)}:(w.abort=function(){},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,function(x,_,E){return new v(x,_||x.name||"download",E)})}}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);g!==void 0&&g.exports?g.exports.saveAs=p:n!=null},{}],236:[function(e,g,h){h.read=function(p,t,c,d,m){var f,o,r=8*m-d-1,s=(1<<r)-1,i=s>>1,l=-7,v=c?m-1:0,w=c?-1:1,x=p[t+v];for(v+=w,f=x&(1<<-l)-1,x>>=-l,l+=r;0<l;f=256*f+p[t+v],v+=w,l-=8);for(o=f&(1<<-l)-1,f>>=-l,l+=d;0<l;o=256*o+p[t+v],v+=w,l-=8);if(f===0)f=1-i;else{if(f===s)return o?NaN:1/0*(x?-1:1);o+=Math.pow(2,d),f-=i}return(x?-1:1)*o*Math.pow(2,f-d)},h.write=function(p,t,c,d,m,f){var o,r,s,i=8*f-m-1,l=(1<<i)-1,v=l>>1,w=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=d?0:f-1,_=d?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-o))<1&&(o--,s*=2),2<=(t+=1<=o+v?w/s:w*Math.pow(2,1-v))*s&&(o++,s/=2),l<=o+v?(r=0,o=l):1<=o+v?(r=(t*s-1)*Math.pow(2,m),o+=v):(r=t*Math.pow(2,v-1)*Math.pow(2,m),o=0));8<=m;p[c+x]=255&r,x+=_,r/=256,m-=8);for(o=o<<m|r,i+=m;0<i;p[c+x]=255&o,x+=_,o/=256,i-=8);p[c+x-_]|=128*E}},{}],237:[function(e,g,h){var p;function t(V,Z){return V.b===Z.b&&V.a===Z.a}function c(V,Z){return V.b<Z.b||V.b===Z.b&&V.a<=Z.a}function d(V,Z,z){var K=Z.b-V.b,de=z.b-Z.b;return 0<K+de?K<de?Z.a-V.a+K/(K+de)*(V.a-z.a):Z.a-z.a+de/(K+de)*(z.a-V.a):0}function m(V,Z,z){var K=Z.b-V.b,de=z.b-Z.b;return 0<K+de?(Z.a-z.a)*K+(Z.a-V.a)*de:0}function f(V,Z){return V.a<Z.a||V.a===Z.a&&V.b<=Z.b}function o(V,Z,z){var K=Z.a-V.a,de=z.a-Z.a;return 0<K+de?K<de?Z.b-V.b+K/(K+de)*(V.b-z.b):Z.b-z.b+de/(K+de)*(z.b-V.b):0}function r(V,Z,z){var K=Z.a-V.a,de=z.a-Z.a;return 0<K+de?(Z.b-z.b)*K+(Z.b-V.b)*de:0}function s(V,Z,z,K){return(V=V<0?0:V)<=(z=z<0?0:z)?z===0?(Z+K)/2:Z+V/(V+z)*(K-Z):K+z/(V+z)*(Z-K)}function i(V){var Z=_(V.b);return C(Z,V.c),C(Z.b,V.c),A(Z,V.a),Z}function l(V,Z){var z=!1,K=!1;V!==Z&&(Z.a!==V.a&&(K=!0,I(Z.a,V.a)),Z.d!==V.d&&(z=!0,R(Z.d,V.d)),E(Z,V),K||(C(Z,V.a),V.a.c=V),z||(A(Z,V.d),V.d.a=V))}function v(V){var Z=V.b,z=!1;V.d!==V.b.d&&(z=!0,R(V.d,V.b.d)),V.c===V?I(V.a,null):(V.b.d.a=oe(V),V.a.c=V.c,E(V,oe(V)),z||A(V,V.d)),Z.c===Z?(I(Z.a,null),R(Z.d,null)):(V.d.a=oe(Z),Z.a.c=Z.c,E(Z,oe(Z))),O(V)}function w(V){var Z=_(V),z=Z.b;return E(Z,V.e),Z.a=V.b.a,C(z,Z.a),Z.d=z.d=V.d,Z=Z.b,E(V.b,oe(V.b)),E(V.b,Z),V.b.a=Z.a,Z.b.a.c=Z.b,Z.b.d=V.b.d,Z.f=V.f,Z.b.f=V.b.f,Z}function x(V,Z){var z=!1,K=_(V),de=K.b;return Z.d!==V.d&&(z=!0,R(Z.d,V.d)),E(K,V.e),E(de,Z),K.a=V.b.a,de.a=Z.a,K.d=de.d=V.d,V.d.a=de,z||A(K,V.d),K}function _(V){var Z=new ie,z=new ie,K=V.b.h;return(((z.h=K).b.h=Z).h=V).b.h=z,Z.b=z,((Z.c=Z).e=z).b=Z,(z.c=z).e=Z}function E(V,Z){var z=V.c,K=Z.c;z.b.e=Z,(K.b.e=V).c=K,Z.c=z}function C(V,Z){var z=Z.f,K=new ge(Z,z);for(z.e=K,z=(Z.f=K).c=V;z.a=K,(z=z.c)!==V;);}function A(V,Z){var z=Z.d,K=new ne(Z,z);for(z.b=K,(Z.d=K).a=V,K.c=Z.c,z=V;z.d=K,(z=z.e)!==V;);}function O(V){var Z=V.h;V=V.b.h,(Z.b.h=V).b.h=Z}function I(V,Z){for(var z=V.c,K=z;K.a=Z,(K=K.c)!==z;);z=V.f,((K=V.e).f=z).e=K}function R(V,Z){for(var z=V.a,K=z;K.d=Z,(K=K.e)!==z;);z=V.d,((K=V.b).d=z).b=K}function L(V){var Z=0;return Math.abs(V[1])>Math.abs(V[0])&&(Z=1),Math.abs(V[2])>Math.abs(V[Z])&&(Z=2),Z}function U(V,Z){V.f+=Z.f,V.b.f+=Z.b.f}function D(V,Z,z){return V=V.a,Z=Z.a,z=z.a,Z.b.a===V?z.b.a===V?c(Z.a,z.a)?m(z.b.a,Z.a,z.a)<=0:0<=m(Z.b.a,z.a,Z.a):m(z.b.a,V,z.a)<=0:z.b.a===V?0<=m(Z.b.a,V,Z.a):(Z=d(Z.b.a,V,Z.a),(V=d(z.b.a,V,z.a))<=Z)}function W(V){V.a.i=null;var Z=V.e;Z.a.c=Z.c,Z.c.a=Z.a,V.e=null}function H(V,Z){v(V.a),V.c=!1,(V.a=Z).i=V}function ae(V){for(var Z=V.a.a;(V=tt(V)).a.a===Z;);return V.c&&(H(V,Z=x(be(V).a.b,V.a.e)),V=tt(V)),V}function le(V,Z,z){var K=new Ye;return K.a=z,K.e=ee(V.f,Z.e,K),z.i=K}function J(V,Z){switch(V.s){case 100130:return(1&Z)!=0;case 100131:return Z!==0;case 100132:return 0<Z;case 100133:return Z<0;case 100134:return 2<=Z||Z<=-2}return!1}function ue(V){var Z=V.a,z=Z.d;z.c=V.d,z.a=Z,W(V)}function se(V,Z,z){for(Z=(V=Z).a;V!==z;){V.c=!1;var K=be(V),de=K.a;if(de.a!==Z.a){if(!K.c){ue(V);break}H(K,de=x(Z.c.b,de.b))}Z.c!==de&&(l(oe(de),de),l(Z,de)),ue(V),Z=K.a,V=K}return Z}function me(V,Z,z,K,de,Te){for(var ke=!0;le(V,Z,z.b),(z=z.c)!==K;);for(de===null&&(de=be(Z).a.b.c);(z=(K=be(Z)).a.b).a===de.a;)z.c!==de&&(l(oe(z),z),l(oe(de),z)),K.f=Z.f-z.f,K.d=J(V,K.f),Z.b=!0,!ke&&De(V,Z)&&(U(z,de),W(Z),v(de)),ke=!1,Z=K,de=z;Z.b=!0,Te&&Se(V,Z)}function xe(V,Z,z,K,de){var Te=[Z.g[0],Z.g[1],Z.g[2]];Z.d=null,Z.d=V.o&&V.o(Te,z,K,V.c)||null,Z.d===null&&(de?V.n||($(V,100156),V.n=!0):Z.d=z[0])}function Ee(V,Z,z){var K=[null,null,null,null];K[0]=Z.a.d,K[1]=z.a.d,xe(V,Z.a,K,[.5,.5,0,0],!1),l(Z,z)}function ve(V,Z,z,K,de){var Te=Math.abs(Z.b-V.b)+Math.abs(Z.a-V.a),ke=Math.abs(z.b-V.b)+Math.abs(z.a-V.a),Ve=de+1;K[de]=.5*ke/(Te+ke),K[Ve]=.5*Te/(Te+ke),V.g[0]+=K[de]*Z.g[0]+K[Ve]*z.g[0],V.g[1]+=K[de]*Z.g[1]+K[Ve]*z.g[1],V.g[2]+=K[de]*Z.g[2]+K[Ve]*z.g[2]}function De(V,Z){var z=be(Z),K=Z.a,de=z.a;if(c(K.a,de.a)){if(0<m(de.b.a,K.a,de.a))return!1;if(t(K.a,de.a)){if(K.a!==de.a){z=V.e;var Te=K.a.h;if(0<=Te){var ke=(z=z.b).d,Ve=z.e,we=z.c,Ke=we[Te];ke[Ke]=ke[z.a],(we[ke[Ke]]=Ke)<=--z.a&&(Ke<=1||c(Ve[ke[Ke>>1]],Ve[ke[Ke]])?Ae(z,Ke):ze(z,Ke)),Ve[Te]=null,we[Te]=z.b,z.b=Te}else for(z.c[-(Te+1)]=null;0<z.a&&z.c[z.d[z.a-1]]===null;)--z.a;Ee(V,oe(de),K)}}else w(de.b),l(K,oe(de)),Z.b=z.b=!0}else{if(m(K.b.a,de.a,K.a)<0)return!1;tt(Z).b=Z.b=!0,w(K.b),l(oe(de),K)}return!0}function _e(V,Z){var z=be(Z),K=Z.a,de=z.a,Te=K.a,ke=de.a,Ve=K.b.a,we=de.b.a,Ke=new ge;if(m(Ve,V.a,Te),m(we,V.a,ke),Te===ke||Math.min(Te.a,Ve.a)>Math.max(ke.a,we.a))return!1;if(c(Te,ke)){if(0<m(we,Te,ke))return!1}else if(m(Ve,ke,Te)<0)return!1;var at,ht,mt=Ve,ft=Te,pt=we,Mt=ke;if(c(mt,ft)||(at=mt,mt=ft,ft=at),c(pt,Mt)||(at=pt,pt=Mt,Mt=at),c(mt,pt)||(at=mt,mt=pt,pt=at,at=ft,ft=Mt,Mt=at),c(pt,ft)?c(ft,Mt)?((at=d(mt,pt,ft))+(ht=d(pt,ft,Mt))<0&&(at=-at,ht=-ht),Ke.b=s(at,pt.b,ht,ft.b)):((at=m(mt,pt,ft))+(ht=-m(mt,Mt,ft))<0&&(at=-at,ht=-ht),Ke.b=s(at,pt.b,ht,Mt.b)):Ke.b=(pt.b+ft.b)/2,f(mt,ft)||(at=mt,mt=ft,ft=at),f(pt,Mt)||(at=pt,pt=Mt,Mt=at),f(mt,pt)||(at=mt,mt=pt,pt=at,at=ft,ft=Mt,Mt=at),f(pt,ft)?f(ft,Mt)?((at=o(mt,pt,ft))+(ht=o(pt,ft,Mt))<0&&(at=-at,ht=-ht),Ke.a=s(at,pt.a,ht,ft.a)):((at=r(mt,pt,ft))+(ht=-r(mt,Mt,ft))<0&&(at=-at,ht=-ht),Ke.a=s(at,pt.a,ht,Mt.a)):Ke.a=(pt.a+ft.a)/2,c(Ke,V.a)&&(Ke.b=V.a.b,Ke.a=V.a.a),mt=c(Te,ke)?Te:ke,c(mt,Ke)&&(Ke.b=mt.b,Ke.a=mt.a),t(Ke,Te)||t(Ke,ke))return De(V,Z),!1;if(!t(Ve,V.a)&&0<=m(Ve,V.a,Ke)||!t(we,V.a)&&m(we,V.a,Ke)<=0){if(we===V.a)return w(K.b),l(de.b,K),K=be(Z=ae(Z)).a,se(V,be(Z),z),me(V,Z,oe(K),K,K,!0),!0;if(Ve!==V.a)return 0<=m(Ve,V.a,Ke)&&(tt(Z).b=Z.b=!0,w(K.b),K.a.b=V.a.b,K.a.a=V.a.a),m(we,V.a,Ke)<=0&&(Z.b=z.b=!0,w(de.b),de.a.b=V.a.b,de.a.a=V.a.a),!1;for(w(de.b),l(K.e,oe(de)),ke=(Te=z=Z).a.b.a;(Te=tt(Te)).a.b.a===ke;);return Te=be(Z=Te).a.b.c,z.a=oe(de),me(V,Z,(de=se(V,z,null)).c,K.b.c,Te,!0),!0}return w(K.b),w(de.b),l(oe(de),K),K.a.b=Ke.b,K.a.a=Ke.a,K.a.h=Pe(V.e,K.a),K=K.a,de=[0,0,0,0],Ke=[Te.d,Ve.d,ke.d,we.d],K.g[0]=K.g[1]=K.g[2]=0,ve(K,Te,Ve,de,0),ve(K,ke,we,de,2),xe(V,K,Ke,de,!0),tt(Z).b=Z.b=z.b=!0,!1}function Se(V,Z){for(var z=be(Z);;){for(;z.b;)z=be(Z=z);if(!Z.b&&((Z=tt(z=Z))===null||!Z.b))break;Z.b=!1;var K,de=Z.a,Te=z.a;if(K=de.b.a!==Te.b.a)e:{var ke=be(K=Z),Ve=K.a,we=ke.a,Ke=void 0;if(c(Ve.b.a,we.b.a)){if(m(Ve.b.a,we.b.a,Ve.a)<0){K=!1;break e}tt(K).b=K.b=!0,Ke=w(Ve),l(we.b,Ke),Ke.d.c=K.d}else{if(0<m(we.b.a,Ve.b.a,we.a)){K=!1;break e}K.b=ke.b=!0,Ke=w(we),l(Ve.e,we.b),Ke.b.d.c=K.d}K=!0}if(K&&(z.c?(W(z),v(Te),Te=(z=be(Z)).a):Z.c&&(W(Z),v(de),de=(Z=tt(z)).a)),de.a!==Te.a){if(de.b.a===Te.b.a||Z.c||z.c||de.b.a!==V.a&&Te.b.a!==V.a)De(V,Z);else if(_e(V,Z))break}de.a===Te.a&&de.b.a===Te.b.a&&(U(Te,de),W(Z),v(de),Z=tt(z))}}function P(V,Z){for(var z=(V.a=Z).c;z.i===null;)if((z=z.c)===Z.c){z=V;var K=Z;(ke=new Ye).a=K.c.b;for(var de=(we=z.f).a;(de=de.a).b!==null&&!we.c(we.b,ke,de.b););var Te=be(we=de.b),ke=we.a;if(de=Te.a,m(ke.b.a,K,ke.a)===0)t((ke=we.a).a,K)||t(ke.b.a,K)||(w(ke.b),we.c&&(v(ke.c),we.c=!1),l(K.c,ke),P(z,K));else{var Ve=c(de.b.a,ke.b.a)?we:Te;Te=void 0,we.d||Ve.c?(Te=Ve===we?x(K.c.b,ke.e):x(de.b.c.b,K.c).b,Ve.c?H(Ve,Te):((we=le(ke=z,we,Te)).f=tt(we).f+we.a.f,we.d=J(ke,we.f)),P(z,K)):me(z,we,K.c,K.c,null,!0)}return}if(we=(ke=be(z=ae(z.i))).a,(ke=se(V,ke,null)).c===we){ke=(we=ke).c,de=be(z),Te=z.a,Ve=de.a;var we,Ke=!1;Te.b.a!==Ve.b.a&&_e(V,z),t(Te.a,V.a)&&(l(oe(ke),Te),ke=be(z=ae(z)).a,se(V,be(z),de),Ke=!0),t(Ve.a,V.a)&&(l(we,oe(Ve)),we=se(V,de,null),Ke=!0),Ke?me(V,z,we.c,ke,ke,!0):(K=c(Ve.a,Te.a)?oe(Ve):Te,me(V,z,K=x(we.c.b,K),K.c,K.c,!1),K.b.i.c=!0,Se(V,z))}else me(V,z,ke.c,we,we,!0)}function G(V,Z){var z=new Ye,K=i(V.b);K.a.b=4e150,K.a.a=Z,K.b.a.b=-4e150,K.b.a.a=Z,V.a=K.b.a,z.a=K,z.f=0,z.d=!1,z.c=!1,z.h=!0,z.b=!1,K=ee(K=V.f,K.a,z),z.e=K}function Y(V){this.a=new B,this.b=V,this.c=D}function ee(V,Z,z){for(;(Z=Z.c).b!==null&&!V.c(V.b,Z.b,z););return V=new B(z,Z.a,Z),Z.a.c=V,Z.a=V}function B(V,Z,z){this.b=V||null,this.a=Z||this,this.c=z||this}function F(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function re(V,Z){if(V.d!==Z)for(;V.d!==Z;)if(V.d<Z)switch(V.d){case 0:$(V,100151),V.u(null);break;case 1:$(V,100152),V.t()}else switch(V.d){case 2:$(V,100154),V.v();break;case 1:$(V,100153),V.w()}}function $(V,Z){V.p&&V.p(Z,V.c)}function ne(V,Z){this.b=V||this,this.d=Z||this,this.a=null,this.c=!1}function ie(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function oe(V){return V.b.e}function pe(){this.c=new ge,this.a=new ne,this.b=new ie,this.d=new ie,this.b.b=this.d,this.d.b=this.b}function ge(V,Z){this.e=V||this,this.f=Z||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function he(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ue}function Pe(V,Z){if(V.e){var z,K=V.b,de=++K.a;return 2*de>K.f&&(K.f*=2,K.c=Le(K.c,K.f+1)),K.b===0?z=de:(z=K.b,K.b=K.c[K.b]),K.e[z]=Z,K.c[z]=de,K.d[de]=z,K.h&&ze(K,de),z}return K=V.a++,V.c[K]=Z,-(K+1)}function Be(V){if(V.a===0)return Re(V.b);var Z=V.c[V.d[V.a-1]];if(V.b.a!==0&&c(Ze(V.b),Z))return Re(V.b);for(;--V.a,0<V.a&&V.c[V.d[V.a-1]]===null;);return Z}function Ue(){this.d=Le([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Le(V,Z){for(var z=Array(Z),K=0;K<V.length;K++)z[K]=V[K];for(;K<Z;K++)z[K]=0;return z}function Ze(V){return V.e[V.d[1]]}function Re(V){var Z=V.d,z=V.e,K=V.c,de=Z[1],Te=z[de];return 0<V.a&&(Z[1]=Z[V.a],K[Z[1]]=1,z[de]=null,K[de]=V.b,V.b=de,0<--V.a&&Ae(V,1)),Te}function Ae(V,Z){for(var z=V.d,K=V.e,de=V.c,Te=Z,ke=z[Te];;){var Ve=Te<<1;Ve<V.a&&c(K[z[Ve+1]],K[z[Ve]])&&(Ve+=1);var we=z[Ve];if(Ve>V.a||c(K[ke],K[we])){de[z[Te]=ke]=Te;break}de[z[Te]=we]=Te,Te=Ve}}function ze(V,Z){for(var z=V.d,K=V.e,de=V.c,Te=Z,ke=z[Te];;){var Ve=Te>>1,we=z[Ve];if(Ve==0||c(K[we],K[ke])){de[z[Te]=ke]=Te;break}de[z[Te]=we]=Te,Te=Ve}}function Ye(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function be(V){return V.e.c.b}function tt(V){return V.e.a.b}(p=F.prototype).x=function(){re(this,0)},p.B=function(V,Z){switch(V){case 100142:return;case 100140:switch(Z){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Z)}break;case 100141:return void(this.m=!!Z);default:return void $(this,100900)}$(this,100901)},p.y=function(V){switch(V){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:$(this,100900)}return!1},p.A=function(V,Z,z){this.j[0]=V,this.j[1]=Z,this.j[2]=z},p.z=function(V,Z){var z=Z||null;switch(V){case 100100:case 100106:this.h=z;break;case 100104:case 100110:this.l=z;break;case 100101:case 100107:this.k=z;break;case 100102:case 100108:this.i=z;break;case 100103:case 100109:this.p=z;break;case 100105:case 100111:this.o=z;break;case 100112:this.r=z;break;default:$(this,100900)}},p.C=function(V,Z){var z=!1,K=[0,0,0];re(this,2);for(var de=0;de<3;++de){var Te=V[de];Te<-1e150&&(Te=-1e150,z=!0),1e150<Te&&(Te=1e150,z=!0),K[de]=Te}z&&$(this,100155),(z=this.q)===null?l(z=i(this.b),z.b):(w(z),z=z.e),z.a.d=Z,z.a.g[0]=K[0],z.a.g[1]=K[1],z.a.g[2]=K[2],z.f=1,z.b.f=-1,this.q=z},p.u=function(V){re(this,0),this.d=1,this.b=new pe,this.c=V},p.t=function(){re(this,1),this.d=2,this.q=null},p.v=function(){re(this,2),this.d=1},p.w=function(){re(this,1),this.d=0;var V,Z,z=!1,K=[we=this.j[0],de=this.j[1],ke=this.j[2]];if(we===0&&de===0&&ke===0){for(var de=[-2e150,-2e150,-2e150],Te=[2e150,2e150,2e150],ke=[],Ve=[],we=(z=this.b.c).e;we!==z;we=we.e)for(var Ke=0;Ke<3;++Ke){var at=we.g[Ke];at<Te[Ke]&&(Te[Ke]=at,Ve[Ke]=we),at>de[Ke]&&(de[Ke]=at,ke[Ke]=we)}if(we=0,de[1]-Te[1]>de[0]-Te[0]&&(we=1),de[2]-Te[2]>de[we]-Te[we]&&(we=2),Te[we]>=de[we])K[0]=0,K[1]=0,K[2]=1;else{for(de=0,Te=Ve[we],ke=ke[we],Ve=[0,0,0],Te=[Te.g[0]-ke.g[0],Te.g[1]-ke.g[1],Te.g[2]-ke.g[2]],Ke=[0,0,0],we=z.e;we!==z;we=we.e)Ke[0]=we.g[0]-ke.g[0],Ke[1]=we.g[1]-ke.g[1],Ke[2]=we.g[2]-ke.g[2],Ve[0]=Te[1]*Ke[2]-Te[2]*Ke[1],Ve[1]=Te[2]*Ke[0]-Te[0]*Ke[2],Ve[2]=Te[0]*Ke[1]-Te[1]*Ke[0],de<(at=Ve[0]*Ve[0]+Ve[1]*Ve[1]+Ve[2]*Ve[2])&&(de=at,K[0]=Ve[0],K[1]=Ve[1],K[2]=Ve[2]);de<=0&&(K[0]=K[1]=K[2]=0,K[L(Te)]=1)}z=!0}for(Ve=L(K),we=this.b.c,de=(Ve+1)%3,ke=(Ve+2)%3,Ve=0<K[Ve]?1:-1,K=we.e;K!==we;K=K.e)K.b=K.g[de],K.a=Ve*K.g[ke];if(z){for(K=0,we=(z=this.b.a).b;we!==z;we=we.b)if(!((de=we.a).f<=0))for(;K+=(de.a.b-de.b.a.b)*(de.a.a+de.b.a.a),(de=de.e)!==we.a;);if(K<0)for(z=(K=this.b.c).e;z!==K;z=z.e)z.a=-z.a}for(this.n=!1,we=(K=this.b.b).h;we!==K;we=z)z=we.h,de=we.e,t(we.a,we.b.a)&&we.e.e!==we&&(Ee(this,de,we),v(we),de=(we=de).e),de.e===we&&(de!==we&&(de!==z&&de!==z.b||(z=z.h),v(de)),we!==z&&we!==z.b||(z=z.h),v(we));for(this.e=K=new he,we=(z=this.b.c).e;we!==z;we=we.e)we.h=Pe(K,we);for(function(ht){ht.d=[];for(var mt=0;mt<ht.a;mt++)ht.d[mt]=mt;ht.d.sort(function(ft){return function(pt,Mt){return c(ft[pt],ft[Mt])?1:-1}}(ht.c)),ht.e=!0,function(ft){for(var pt=ft.a;1<=pt;--pt)Ae(ft,pt);ft.h=!0}(ht.b)}(K),this.f=new Y(this),G(this,-4e150),G(this,4e150);(K=Be(this.e))!==null;){for(;;){e:if(we=this.e,we.a===0)z=Ze(we.b);else if(z=we.c[we.d[we.a-1]],we.b.a!==0&&(we=Ze(we.b),c(we,z))){z=we;break e}if(z===null||!t(z,K))break;z=Be(this.e),Ee(this,K.c,z.c)}P(this,K)}for(this.a=this.f.a.a.b.a.a,K=0;(z=this.f.a.a.b)!==null;)z.h||++K,W(z);for(this.f=null,(K=this.e).b=null,K.d=null,this.e=K.c=null,we=(K=this.b).a.b;we!==K.a;we=z)z=we.b,(we=we.a).e.e===we&&(U(we.c,we),v(we));if(!this.n){if(K=this.b,this.m)for(we=K.b.h;we!==K.b;we=z)z=we.h,we.b.d.c!==we.d.c?we.f=we.d.c?1:-1:v(we);else for(we=K.a.b;we!==K.a;we=z)if(z=we.b,we.c){for(we=we.a;c(we.b.a,we.a);we=we.c.b);for(;c(we.a,we.b.a);we=we.e);for(de=we.c.b,ke=void 0;we.e!==de;)if(c(we.b.a,de.a)){for(;de.e!==we&&(c((Z=de.e).b.a,Z.a)||m(de.a,de.b.a,de.e.b.a)<=0);)de=(ke=x(de.e,de)).b;de=de.c.b}else{for(;de.e!==we&&(c((V=we.c.b).a,V.b.a)||0<=m(we.b.a,we.a,we.c.b.a));)we=(ke=x(we,we.c.b)).b;we=we.e}for(;de.e.e!==we;)de=(ke=x(de.e,de)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(z=(K=this.b).a.b;z!==K.a;z=z.b)if(z.c){for(this.h&&this.h(2,this.c),we=z.a;this.k&&this.k(we.a.d,this.c),(we=we.e)!==z.a;);this.i&&this.i(this.c)}}else{for(K=this.b,z=!!this.l,we=!1,de=-1,ke=K.a.d;ke!==K.a;ke=ke.d)if(ke.c)for(we||(this.h&&this.h(4,this.c),we=!0),Ve=ke.a;z&&de!==(Te=Ve.b.d.c?0:1)&&(de=Te,this.l&&this.l(!!de,this.c)),this.k&&this.k(Ve.a.d,this.c),(Ve=Ve.e)!==ke.a;);we&&this.i&&this.i(this.c)}if(this.r){for(we=(K=this.b).a.b;we!==K.a;we=z)if(z=we.b,!we.c){for(ke=(de=we.a).e,Ve=void 0;ke=(Ve=ke).e,(Ve.d=null)===Ve.b.d&&(Ve.c===Ve?I(Ve.a,null):(Ve.a.c=Ve.c,E(Ve,oe(Ve))),(Te=Ve.b).c===Te?I(Te.a,null):(Te.a.c=Te.c,E(Te,oe(Te))),O(Ve)),Ve!==de;);de=we.d,((we=we.b).d=de).b=we}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:F,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},F.prototype.gluDeleteTess=F.prototype.x,F.prototype.gluTessProperty=F.prototype.B,F.prototype.gluGetTessProperty=F.prototype.y,F.prototype.gluTessNormal=F.prototype.A,F.prototype.gluTessCallback=F.prototype.z,F.prototype.gluTessVertex=F.prototype.C,F.prototype.gluTessBeginPolygon=F.prototype.u,F.prototype.gluTessBeginContour=F.prototype.t,F.prototype.gluTessEndContour=F.prototype.v,F.prototype.gluTessEndPolygon=F.prototype.w,g!==void 0&&(g.exports=this.libtess)},{}],238:[function(e,g,h){function p(t,c,d,m){for(var f=t[c++],o=1<<f,r=1+o,s=1+r,i=f+1,l=(1<<i)-1,v=0,w=0,x=0,_=t[c++],E=new Int32Array(4096),C=null;;){for(;v<16&&_!==0;)w|=t[c++]<<v,v+=8,_===1?_=t[c++]:--_;if(v<i)break;var A=w&l;if(w>>=i,v-=i,A!=o){if(A==r)break;for(var O=A<s?A:C,I=0,R=O;o<R;)R=E[R]>>8,++I;var L=R;if(m<x+I+(O!==A?1:0))return void console.log("Warning, gif stream longer than expected.");d[x++]=L;var U=x+=I;for(O!==A&&(d[x++]=L),R=O;I--;)R=E[R],d[--U]=255&R,R>>=8;C!==null&&s<4096&&(E[s++]=C<<8|L,l+1<=s&&i<12&&(++i,l=l<<1|1)),C=A}else s=1+r,l=(1<<(i=f+1))-1,C=null}return x!==m&&console.log("Warning, gif stream shorter than expected."),d}try{h.GifWriter=function(t,c,d,m){var f=0,o=(m=m===void 0?{}:m).loop===void 0?null:m.loop,r=m.palette===void 0?null:m.palette;if(c<=0||d<=0||65535<c||65535<d)throw new Error("Width/Height invalid.");function s(C){var A=C.length;if(A<2||256<A||A&A-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return A}t[f++]=71,t[f++]=73,t[f++]=70,t[f++]=56,t[f++]=57,t[f++]=97;var i=0,l=0;if(r!==null){for(var v=s(r);v>>=1;)++i;if(v=1<<i,--i,m.background!==void 0){if(v<=(l=m.background))throw new Error("Background index out of range.");if(l===0)throw new Error("Background index explicitly passed as 0.")}}if(t[f++]=255&c,t[f++]=c>>8&255,t[f++]=255&d,t[f++]=d>>8&255,t[f++]=(r!==null?128:0)|i,t[f++]=l,t[f++]=0,r!==null)for(var w=0,x=r.length;w<x;++w){var _=r[w];t[f++]=_>>16&255,t[f++]=_>>8&255,t[f++]=255&_}if(o!==null){if(o<0||65535<o)throw new Error("Loop count invalid.");t[f++]=33,t[f++]=255,t[f++]=11,t[f++]=78,t[f++]=69,t[f++]=84,t[f++]=83,t[f++]=67,t[f++]=65,t[f++]=80,t[f++]=69,t[f++]=50,t[f++]=46,t[f++]=48,t[f++]=3,t[f++]=1,t[f++]=255&o,t[f++]=o>>8&255,t[f++]=0}var E=!1;this.addFrame=function(C,A,O,I,R,L){if(E===!0&&(--f,E=!1),L=L===void 0?{}:L,C<0||A<0||65535<C||65535<A)throw new Error("x/y invalid.");if(O<=0||I<=0||65535<O||65535<I)throw new Error("Width/Height invalid.");if(R.length<O*I)throw new Error("Not enough pixels for the frame size.");var U=!0,D=L.palette;if(D==null&&(U=!1,D=r),D==null)throw new Error("Must supply either a local or global palette.");for(var W=s(D),H=0;W>>=1;)++H;W=1<<H;var ae=L.delay===void 0?0:L.delay,le=L.disposal===void 0?0:L.disposal;if(le<0||3<le)throw new Error("Disposal out of range.");var J=!1,ue=0;if(L.transparent!==void 0&&L.transparent!==null&&(J=!0,(ue=L.transparent)<0||W<=ue))throw new Error("Transparent color index.");if(le===0&&!J&&ae===0||(t[f++]=33,t[f++]=249,t[f++]=4,t[f++]=le<<2|(J===!0?1:0),t[f++]=255&ae,t[f++]=ae>>8&255,t[f++]=ue,t[f++]=0),t[f++]=44,t[f++]=255&C,t[f++]=C>>8&255,t[f++]=255&A,t[f++]=A>>8&255,t[f++]=255&O,t[f++]=O>>8&255,t[f++]=255&I,t[f++]=I>>8&255,t[f++]=U===!0?128|H-1:0,U===!0)for(var se=0,me=D.length;se<me;++se){var xe=D[se];t[f++]=xe>>16&255,t[f++]=xe>>8&255,t[f++]=255&xe}return f=function(Ee,ve,De,_e){Ee[ve++]=De;var Se=ve++,P=1<<De,G=P-1,Y=1+P,ee=1+Y,B=De+1,F=0,re=0;function $(Ue){for(;Ue<=F;)Ee[ve++]=255&re,re>>=8,F-=8,ve===Se+256&&(Ee[Se]=255,Se=ve++)}function ne(Ue){re|=Ue<<F,F+=B,$(8)}var ie=_e[0]&G,oe={};ne(P);for(var pe=1,ge=_e.length;pe<ge;++pe){var he=_e[pe]&G,Pe=ie<<8|he,Be=oe[Pe];if(Be===void 0){for(re|=ie<<F,F+=B;8<=F;)Ee[ve++]=255&re,re>>=8,F-=8,ve===Se+256&&(Ee[Se]=255,Se=ve++);ee===4096?(ne(P),ee=1+Y,B=De+1,oe={}):(1<<B<=ee&&++B,oe[Pe]=ee++),ie=he}else ie=Be}return ne(ie),ne(Y),$(1),Se+1===ve?Ee[Se]=0:(Ee[Se]=ve-Se-1,Ee[ve++]=0),ve}(t,f,H<2?2:H,R)},this.end=function(){return E===!1&&(t[f++]=59,E=!0),f},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(C){t=C},this.getOutputBufferPosition=function(){return f},this.setOutputBufferPosition=function(C){f=C}},h.GifReader=function(t){var c=0;if(t[c++]!==71||t[c++]!==73||t[c++]!==70||t[c++]!==56||(t[c++]+1&253)!=56||t[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var d=t[c++]|t[c++]<<8,m=t[c++]|t[c++]<<8,f=t[c++],o=f>>7,r=1<<1+(7&f);t[c++],t[c++];var s=null,i=null;o&&(s=c,c+=3*(i=r));var l=!0,v=[],w=0,x=null,_=0,E=null;for(this.width=d,this.height=m;l&&c<t.length;)switch(t[c++]){case 33:switch(t[c++]){case 255:if(t[c]!==11||t[c+1]==78&&t[c+2]==69&&t[c+3]==84&&t[c+4]==83&&t[c+5]==67&&t[c+6]==65&&t[c+7]==80&&t[c+8]==69&&t[c+9]==50&&t[c+10]==46&&t[c+11]==48&&t[c+12]==3&&t[c+13]==1&&t[c+16]==0)c+=14,E=t[c++]|t[c++]<<8,c++;else for(c+=12;;){if(!(0<=(J=t[c++])))throw Error("Invalid block size");if(J===0)break;c+=J}break;case 249:if(t[c++]!==4||t[c+4]!==0)throw new Error("Invalid graphics extension block.");var C=t[c++];w=t[c++]|t[c++]<<8,x=t[c++],!(1&C)&&(x=null),_=C>>2&7,c++;break;case 254:for(;;){if(!(0<=(J=t[c++])))throw Error("Invalid block size");if(J===0)break;c+=J}break;default:throw new Error("Unknown graphic control label: 0x"+t[c-1].toString(16))}break;case 44:var A=t[c++]|t[c++]<<8,O=t[c++]|t[c++]<<8,I=t[c++]|t[c++]<<8,R=t[c++]|t[c++]<<8,L=t[c++],U=L>>6&1,D=1<<1+(7&L),W=s,H=i,ae=!1;L>>7&&(ae=!0,W=c,c+=3*(H=D));var le=c;for(c++;;){var J;if(!(0<=(J=t[c++])))throw Error("Invalid block size");if(J===0)break;c+=J}v.push({x:A,y:O,width:I,height:R,has_local_palette:ae,palette_offset:W,palette_size:H,data_offset:le,data_length:c-le,transparent_index:x,interlaced:!!U,delay:w,disposal:_});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[c-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return E},this.frameInfo=function(ue){if(ue<0||ue>=v.length)throw new Error("Frame index out of range.");return v[ue]},this.decodeAndBlitFrameBGRA=function(ue,se){var me=this.frameInfo(ue),xe=me.width*me.height,Ee=new Uint8Array(xe);p(t,me.data_offset,Ee,xe);var ve=me.palette_offset,De=me.transparent_index;De===null&&(De=256);var _e=me.width,Se=d-_e,P=_e,G=4*(me.y*d+me.x),Y=4*((me.y+me.height)*d+me.x),ee=G,B=4*Se;me.interlaced===!0&&(B+=4*d*7);for(var F=8,re=0,$=Ee.length;re<$;++re){var ne=Ee[re];if(P===0&&(P=_e,Y<=(ee+=B)&&(B=4*Se+4*d*(F-1),ee=G+(_e+Se)*(F<<1),F>>=1)),ne===De)ee+=4;else{var ie=t[ve+3*ne],oe=t[ve+3*ne+1],pe=t[ve+3*ne+2];se[ee++]=pe,se[ee++]=oe,se[ee++]=ie,se[ee++]=255}--P}},this.decodeAndBlitFrameRGBA=function(ue,se){var me=this.frameInfo(ue),xe=me.width*me.height,Ee=new Uint8Array(xe);p(t,me.data_offset,Ee,xe);var ve=me.palette_offset,De=me.transparent_index;De===null&&(De=256);var _e=me.width,Se=d-_e,P=_e,G=4*(me.y*d+me.x),Y=4*((me.y+me.height)*d+me.x),ee=G,B=4*Se;me.interlaced===!0&&(B+=4*d*7);for(var F=8,re=0,$=Ee.length;re<$;++re){var ne=Ee[re];if(P===0&&(P=_e,Y<=(ee+=B)&&(B=4*Se+4*d*(F-1),ee=G+(_e+Se)*(F<<1),F>>=1)),ne===De)ee+=4;else{var ie=t[ve+3*ne],oe=t[ve+3*ne+1],pe=t[ve+3*ne+2];se[ee++]=ie,se[ee++]=oe,se[ee++]=pe,se[ee++]=255}--P}}}}catch{}},{}],239:[function(e,g,h){(function(p){var t,c;t=this,c=function(d){function m(y){if(this==null)throw TypeError();var b=String(this),S=b.length,T=y?Number(y):0;if(T!=T&&(T=0),!(T<0||S<=T)){var M,k=b.charCodeAt(T);return 55296<=k&&k<=56319&&T+1<S&&56320<=(M=b.charCodeAt(T+1))&&M<=57343?1024*(k-55296)+M-56320+65536:k}}var f;String.prototype.codePointAt||((f=function(){try{var y={},b=Object.defineProperty,S=b(y,y,y)&&b}catch{}return S}())?f(String.prototype,"codePointAt",{value:m,configurable:!0,writable:!0}):String.prototype.codePointAt=m);var o=0,r=-3;function s(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(y,b){this.source=y,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=b,this.destLen=0,this.ltree=new s,this.dtree=new s}var l=new s,v=new s,w=new Uint8Array(30),x=new Uint16Array(30),_=new Uint8Array(30),E=new Uint16Array(30),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A=new s,O=new Uint8Array(320);function I(y,b,S,T){var M,k;for(M=0;M<S;++M)y[M]=0;for(M=0;M<30-S;++M)y[M+S]=M/S|0;for(k=T,M=0;M<30;++M)b[M]=k,k+=1<<y[M]}var R=new Uint16Array(16);function L(y,b,S,T){var M,k;for(M=0;M<16;++M)y.table[M]=0;for(M=0;M<T;++M)y.table[b[S+M]]++;for(M=k=y.table[0]=0;M<16;++M)R[M]=k,k+=y.table[M];for(M=0;M<T;++M)b[S+M]&&(y.trans[R[b[S+M]]++]=M)}function U(y){y.bitcount--||(y.tag=y.source[y.sourceIndex++],y.bitcount=7);var b=1&y.tag;return y.tag>>>=1,b}function D(y,b,S){if(!b)return S;for(;y.bitcount<24;)y.tag|=y.source[y.sourceIndex++]<<y.bitcount,y.bitcount+=8;var T=y.tag&65535>>>16-b;return y.tag>>>=b,y.bitcount-=b,T+S}function W(y,b){for(;y.bitcount<24;)y.tag|=y.source[y.sourceIndex++]<<y.bitcount,y.bitcount+=8;for(var S=0,T=0,M=0,k=y.tag;T=2*T+(1&k),k>>>=1,++M,S+=b.table[M],0<=(T-=b.table[M]););return y.tag=k,y.bitcount-=M,b.trans[S+T]}function H(y,b,S){var T,M,k,N,X,Q;for(T=D(y,5,257),M=D(y,5,1),k=D(y,4,4),N=0;N<19;++N)O[N]=0;for(N=0;N<k;++N){var ce=D(y,3,0);O[C[N]]=ce}for(L(A,O,0,19),X=0;X<T+M;){var ye=W(y,A);switch(ye){case 16:var je=O[X-1];for(Q=D(y,2,3);Q;--Q)O[X++]=je;break;case 17:for(Q=D(y,3,3);Q;--Q)O[X++]=0;break;case 18:for(Q=D(y,7,11);Q;--Q)O[X++]=0;break;default:O[X++]=ye}}L(b,O,0,T),L(S,O,T,M)}function ae(y,b,S){for(;;){var T,M,k,N,X=W(y,b);if(X===256)return o;if(X<256)y.dest[y.destLen++]=X;else for(T=D(y,w[X-=257],x[X]),M=W(y,S),N=k=y.destLen-D(y,_[M],E[M]);N<k+T;++N)y.dest[y.destLen++]=y.dest[N]}}function le(y){for(var b,S;8<y.bitcount;)y.sourceIndex--,y.bitcount-=8;if((b=256*(b=y.source[y.sourceIndex+1])+y.source[y.sourceIndex])!==(65535&~(256*y.source[y.sourceIndex+3]+y.source[y.sourceIndex+2])))return r;for(y.sourceIndex+=4,S=b;S;--S)y.dest[y.destLen++]=y.source[y.sourceIndex++];return y.bitcount=0,o}(function(y,b){var S;for(S=0;S<7;++S)y.table[S]=0;for(y.table[7]=24,y.table[8]=152,y.table[9]=112,S=0;S<24;++S)y.trans[S]=256+S;for(S=0;S<144;++S)y.trans[24+S]=S;for(S=0;S<8;++S)y.trans[168+S]=280+S;for(S=0;S<112;++S)y.trans[176+S]=144+S;for(S=0;S<5;++S)b.table[S]=0;for(b.table[5]=32,S=0;S<32;++S)b.trans[S]=S})(l,v),I(w,x,4,3),I(_,E,2,1),w[28]=0,x[28]=258;var J=function(y,b){var S,T,M=new i(y,b);do{switch(S=U(M),D(M,2,0)){case 0:T=le(M);break;case 1:T=ae(M,l,v);break;case 2:H(M,M.ltree,M.dtree),T=ae(M,M.ltree,M.dtree);break;default:T=r}if(T!==o)throw new Error("Data error")}while(!S);return M.destLen<M.dest.length?typeof M.dest.slice=="function"?M.dest.slice(0,M.destLen):M.dest.subarray(0,M.destLen):M.dest};function ue(y,b,S,T,M){return Math.pow(1-M,3)*y+3*Math.pow(1-M,2)*M*b+3*(1-M)*Math.pow(M,2)*S+Math.pow(M,3)*T}function se(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function me(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function xe(y){throw new Error(y)}function Ee(y,b){y||xe(b)}se.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},se.prototype.addPoint=function(y,b){typeof y=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=y,this.x2=y),y<this.x1&&(this.x1=y),y>this.x2&&(this.x2=y)),typeof b=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))},se.prototype.addX=function(y){this.addPoint(y,null)},se.prototype.addY=function(y){this.addPoint(null,y)},se.prototype.addBezier=function(y,b,S,T,M,k,N,X){var Q=[y,b],ce=[S,T],ye=[M,k],je=[N,X];this.addPoint(y,b),this.addPoint(N,X);for(var te=0;te<=1;te++){var $e=6*Q[te]-12*ce[te]+6*ye[te],Xe=-3*Q[te]+9*ce[te]-9*ye[te]+3*je[te],Fe=3*ce[te]-3*Q[te];if(Xe!=0){var Me=Math.pow($e,2)-4*Fe*Xe;if(!(Me<0)){var Ie=(-$e+Math.sqrt(Me))/(2*Xe);0<Ie&&Ie<1&&(te===0&&this.addX(ue(Q[te],ce[te],ye[te],je[te],Ie)),te===1&&this.addY(ue(Q[te],ce[te],ye[te],je[te],Ie)));var ot=(-$e-Math.sqrt(Me))/(2*Xe);0<ot&&ot<1&&(te===0&&this.addX(ue(Q[te],ce[te],ye[te],je[te],ot)),te===1&&this.addY(ue(Q[te],ce[te],ye[te],je[te],ot)))}}else{if($e==0)continue;var nt=-Fe/$e;0<nt&&nt<1&&(te===0&&this.addX(ue(Q[te],ce[te],ye[te],je[te],nt)),te===1&&this.addY(ue(Q[te],ce[te],ye[te],je[te],nt)))}}},se.prototype.addQuad=function(y,b,S,T,M,k){var N=y+.6666666666666666*(S-y),X=b+2/3*(T-b),Q=N+1/3*(M-y),ce=X+1/3*(k-b);this.addBezier(y,b,N,X,Q,ce,M,k)},me.prototype.moveTo=function(y,b){this.commands.push({type:"M",x:y,y:b})},me.prototype.lineTo=function(y,b){this.commands.push({type:"L",x:y,y:b})},me.prototype.curveTo=me.prototype.bezierCurveTo=function(y,b,S,T,M,k){this.commands.push({type:"C",x1:y,y1:b,x2:S,y2:T,x:M,y:k})},me.prototype.quadTo=me.prototype.quadraticCurveTo=function(y,b,S,T){this.commands.push({type:"Q",x1:y,y1:b,x:S,y:T})},me.prototype.close=me.prototype.closePath=function(){this.commands.push({type:"Z"})},me.prototype.extend=function(y){if(y.commands)y=y.commands;else if(y instanceof se){var b=y;return this.moveTo(b.x1,b.y1),this.lineTo(b.x2,b.y1),this.lineTo(b.x2,b.y2),this.lineTo(b.x1,b.y2),void this.close()}Array.prototype.push.apply(this.commands,y)},me.prototype.getBoundingBox=function(){for(var y=new se,b=0,S=0,T=0,M=0,k=0;k<this.commands.length;k++){var N=this.commands[k];switch(N.type){case"M":y.addPoint(N.x,N.y),b=T=N.x,S=M=N.y;break;case"L":y.addPoint(N.x,N.y),T=N.x,M=N.y;break;case"Q":y.addQuad(T,M,N.x1,N.y1,N.x,N.y),T=N.x,M=N.y;break;case"C":y.addBezier(T,M,N.x1,N.y1,N.x2,N.y2,N.x,N.y),T=N.x,M=N.y;break;case"Z":T=b,M=S;break;default:throw new Error("Unexpected path command "+N.type)}}return y.isEmpty()&&y.addPoint(0,0),y},me.prototype.draw=function(y){y.beginPath();for(var b=0;b<this.commands.length;b+=1){var S=this.commands[b];S.type==="M"?y.moveTo(S.x,S.y):S.type==="L"?y.lineTo(S.x,S.y):S.type==="C"?y.bezierCurveTo(S.x1,S.y1,S.x2,S.y2,S.x,S.y):S.type==="Q"?y.quadraticCurveTo(S.x1,S.y1,S.x,S.y):S.type==="Z"&&y.closePath()}this.fill&&(y.fillStyle=this.fill,y.fill()),this.stroke&&(y.strokeStyle=this.stroke,y.lineWidth=this.strokeWidth,y.stroke())},me.prototype.toPathData=function(y){function b(){for(var k,N=arguments,X="",Q=0;Q<arguments.length;Q+=1){var ce=N[Q];0<=ce&&0<Q&&(X+=" "),X+=(k=ce,Math.round(k)===k?""+Math.round(k):k.toFixed(y))}return X}y=y!==void 0?y:2;for(var S="",T=0;T<this.commands.length;T+=1){var M=this.commands[T];M.type==="M"?S+="M"+b(M.x,M.y):M.type==="L"?S+="L"+b(M.x,M.y):M.type==="C"?S+="C"+b(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?S+="Q"+b(M.x1,M.y1,M.x,M.y):M.type==="Z"&&(S+="Z")}return S},me.prototype.toSVG=function(y){var b='<path d="';return b+=this.toPathData(y),b+='"',this.fill&&this.fill!=="black"&&(this.fill===null?b+=' fill="none"':b+=' fill="'+this.fill+'"'),this.stroke&&(b+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),b+="/>"},me.prototype.toDOMElement=function(y){var b=this.toPathData(y),S=document.createElementNS("http://www.w3.org/2000/svg","path");return S.setAttribute("d",b),S};var ve={fail:xe,argument:Ee,assert:Ee},De={},_e={},Se={};function P(y){return function(){return y}}_e.BYTE=function(y){return ve.argument(0<=y&&y<=255,"Byte value should be between 0 and 255."),[y]},Se.BYTE=P(1),_e.CHAR=function(y){return[y.charCodeAt(0)]},Se.CHAR=P(1),_e.CHARARRAY=function(y){for(var b=[],S=0;S<y.length;S+=1)b[S]=y.charCodeAt(S);return b},Se.CHARARRAY=function(y){return y.length},_e.USHORT=function(y){return[y>>8&255,255&y]},Se.USHORT=P(2),_e.SHORT=function(y){return 32768<=y&&(y=-(65536-y)),[y>>8&255,255&y]},Se.SHORT=P(2),_e.UINT24=function(y){return[y>>16&255,y>>8&255,255&y]},Se.UINT24=P(3),_e.ULONG=function(y){return[y>>24&255,y>>16&255,y>>8&255,255&y]},Se.ULONG=P(4),_e.LONG=function(y){return 2147483648<=y&&(y=-(4294967296-y)),[y>>24&255,y>>16&255,y>>8&255,255&y]},Se.LONG=P(4),_e.FIXED=_e.ULONG,Se.FIXED=Se.ULONG,_e.FWORD=_e.SHORT,Se.FWORD=Se.SHORT,_e.UFWORD=_e.USHORT,Se.UFWORD=Se.USHORT,_e.LONGDATETIME=function(y){return[0,0,0,0,y>>24&255,y>>16&255,y>>8&255,255&y]},Se.LONGDATETIME=P(8),_e.TAG=function(y){return ve.argument(y.length===4,"Tag should be exactly 4 ASCII characters."),[y.charCodeAt(0),y.charCodeAt(1),y.charCodeAt(2),y.charCodeAt(3)]},Se.TAG=P(4),_e.Card8=_e.BYTE,Se.Card8=Se.BYTE,_e.Card16=_e.USHORT,Se.Card16=Se.USHORT,_e.OffSize=_e.BYTE,Se.OffSize=Se.BYTE,_e.SID=_e.USHORT,Se.SID=Se.USHORT,_e.NUMBER=function(y){return-107<=y&&y<=107?[y+139]:108<=y&&y<=1131?[247+((y-=108)>>8),255&y]:-1131<=y&&y<=-108?[251+((y=-y-108)>>8),255&y]:-32768<=y&&y<=32767?_e.NUMBER16(y):_e.NUMBER32(y)},Se.NUMBER=function(y){return _e.NUMBER(y).length},_e.NUMBER16=function(y){return[28,y>>8&255,255&y]},Se.NUMBER16=P(3),_e.NUMBER32=function(y){return[29,y>>24&255,y>>16&255,y>>8&255,255&y]},Se.NUMBER32=P(5),_e.REAL=function(y){var b=y.toString(),S=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(b);if(S){var T=parseFloat("1e"+((S[2]?+S[2]:0)+S[1].length));b=(Math.round(y*T)/T).toString()}for(var M="",k=0,N=b.length;k<N;k+=1){var X=b[k];M+=X==="e"?b[++k]==="-"?"c":"b":X==="."?"a":X==="-"?"e":X}for(var Q=[30],ce=0,ye=(M+=1&M.length?"f":"ff").length;ce<ye;ce+=2)Q.push(parseInt(M.substr(ce,2),16));return Q},Se.REAL=function(y){return _e.REAL(y).length},_e.NAME=_e.CHARARRAY,Se.NAME=Se.CHARARRAY,_e.STRING=_e.CHARARRAY,Se.STRING=Se.CHARARRAY,De.UTF8=function(y,b,S){for(var T=[],M=S,k=0;k<M;k++,b+=1)T[k]=y.getUint8(b);return String.fromCharCode.apply(null,T)},De.UTF16=function(y,b,S){for(var T=[],M=S/2,k=0;k<M;k++,b+=2)T[k]=y.getUint16(b);return String.fromCharCode.apply(null,T)},_e.UTF16=function(y){for(var b=[],S=0;S<y.length;S+=1){var T=y.charCodeAt(S);b[b.length]=T>>8&255,b[b.length]=255&T}return b},Se.UTF16=function(y){return 2*y.length};var G={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};De.MACSTRING=function(y,b,S,T){var M=G[T];if(M!==void 0){for(var k="",N=0;N<S;N++){var X=y.getUint8(b+N);k+=X<=127?String.fromCharCode(X):M[127&X]}return k}};var Y,ee=typeof WeakMap=="function"&&new WeakMap;function B(y){return-128<=y&&y<=127}function F(y,b,S){for(var T=0,M=y.length;b<M&&T<64&&y[b]===0;)++b,++T;return S.push(128|T-1),b}function re(y,b,S){for(var T=0,M=y.length,k=b;k<M&&T<64;){var N=y[k];if(!B(N)||N===0&&k+1<M&&y[k+1]===0)break;++k,++T}S.push(T-1);for(var X=b;X<k;++X)S.push(y[X]+256&255);return k}function $(y,b,S){for(var T=0,M=y.length,k=b;k<M&&T<64;){var N=y[k];if(N===0||B(N)&&k+1<M&&B(y[k+1]))break;++k,++T}S.push(64|T-1);for(var X=b;X<k;++X){var Q=y[X];S.push(Q+65536>>8&255,Q+256&255)}return k}_e.MACSTRING=function(y,b){var S=function(N){if(!Y)for(var X in Y={},G)Y[X]=new String(X);var Q=Y[N];if(Q!==void 0){if(ee){var ce=ee.get(Q);if(ce!==void 0)return ce}var ye=G[N];if(ye!==void 0){for(var je={},te=0;te<ye.length;te++)je[ye.charCodeAt(te)]=te+128;return ee&&ee.set(Q,je),je}}}(b);if(S!==void 0){for(var T=[],M=0;M<y.length;M++){var k=y.charCodeAt(M);if(128<=k&&(k=S[k])===void 0)return;T[M]=k}return T}},Se.MACSTRING=function(y,b){var S=_e.MACSTRING(y,b);return S!==void 0?S.length:0},_e.VARDELTAS=function(y){for(var b=0,S=[];b<y.length;){var T=y[b];b=T===0?F(y,b,S):-128<=T&&T<=127?re(y,b,S):$(y,b,S)}return S},_e.INDEX=function(y){for(var b=1,S=[b],T=[],M=0;M<y.length;M+=1){var k=_e.OBJECT(y[M]);Array.prototype.push.apply(T,k),b+=k.length,S.push(b)}if(T.length===0)return[0,0];for(var N=[],X=1+Math.floor(Math.log(b)/Math.log(2))/8|0,Q=[void 0,_e.BYTE,_e.USHORT,_e.UINT24,_e.ULONG][X],ce=0;ce<S.length;ce+=1){var ye=Q(S[ce]);Array.prototype.push.apply(N,ye)}return Array.prototype.concat(_e.Card16(y.length),_e.OffSize(X),N,T)},Se.INDEX=function(y){return _e.INDEX(y).length},_e.DICT=function(y){for(var b=[],S=Object.keys(y),T=S.length,M=0;M<T;M+=1){var k=parseInt(S[M],0),N=y[k];b=(b=b.concat(_e.OPERAND(N.value,N.type))).concat(_e.OPERATOR(k))}return b},Se.DICT=function(y){return _e.DICT(y).length},_e.OPERATOR=function(y){return y<1200?[y]:[12,y-1200]},_e.OPERAND=function(y,b){var S=[];if(Array.isArray(b))for(var T=0;T<b.length;T+=1)ve.argument(y.length===b.length,"Not enough arguments given for type"+b),S=S.concat(_e.OPERAND(y[T],b[T]));else if(b==="SID")S=S.concat(_e.NUMBER(y));else if(b==="offset")S=S.concat(_e.NUMBER32(y));else if(b==="number")S=S.concat(_e.NUMBER(y));else{if(b!=="real")throw new Error("Unknown operand type "+b);S=S.concat(_e.REAL(y))}return S},_e.OP=_e.BYTE,Se.OP=Se.BYTE;var ne=typeof WeakMap=="function"&&new WeakMap;function ie(y,b,S){for(var T=0;T<b.length;T+=1){var M=b[T];this[M.name]=M.value}if(this.tableName=y,this.fields=b,S)for(var k=Object.keys(S),N=0;N<k.length;N+=1){var X=k[N],Q=S[X];this[X]!==void 0&&(this[X]=Q)}}function oe(y,b,S){S===void 0&&(S=b.length);var T=new Array(b.length+1);T[0]={name:y+"Count",type:"USHORT",value:S};for(var M=0;M<b.length;M++)T[M+1]={name:y+M,type:"USHORT",value:b[M]};return T}function pe(y,b,S){var T=b.length,M=new Array(T+1);M[0]={name:y+"Count",type:"USHORT",value:T};for(var k=0;k<T;k++)M[k+1]={name:y+k,type:"TABLE",value:S(b[k],k)};return M}function ge(y,b,S){var T=b.length,M=[];M[0]={name:y+"Count",type:"USHORT",value:T};for(var k=0;k<T;k++)M=M.concat(S(b[k],k));return M}function he(y){y.format===1?ie.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(oe("glyph",y.glyphs))):ve.assert(!1,"Can't create coverage table format 2 yet.")}function Pe(y){ie.call(this,"scriptListTable",ge("scriptRecord",y,function(b,S){var T=b.script,M=T.defaultLangSys;return ve.assert(!!M,"Unable to write GSUB: script "+b.tag+" has no default language system."),[{name:"scriptTag"+S,type:"TAG",value:b.tag},{name:"script"+S,type:"TABLE",value:new ie("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ie("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:M.reqFeatureIndex}].concat(oe("featureIndex",M.featureIndexes)))}].concat(ge("langSys",T.langSysRecords,function(k,N){var X=k.langSys;return[{name:"langSysTag"+N,type:"TAG",value:k.tag},{name:"langSys"+N,type:"TABLE",value:new ie("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:X.reqFeatureIndex}].concat(oe("featureIndex",X.featureIndexes)))}]})))}]}))}function Be(y){ie.call(this,"featureListTable",ge("featureRecord",y,function(b,S){var T=b.feature;return[{name:"featureTag"+S,type:"TAG",value:b.tag},{name:"feature"+S,type:"TABLE",value:new ie("featureTable",[{name:"featureParams",type:"USHORT",value:T.featureParams}].concat(oe("lookupListIndex",T.lookupListIndexes)))}]}))}function Ue(y,b){ie.call(this,"lookupListTable",pe("lookup",y,function(S){var T=b[S.lookupType];return ve.assert(!!T,"Unable to write GSUB lookup type "+S.lookupType+" tables."),new ie("lookupTable",[{name:"lookupType",type:"USHORT",value:S.lookupType},{name:"lookupFlag",type:"USHORT",value:S.lookupFlag}].concat(pe("subtable",S.subtables,T)))}))}_e.CHARSTRING=function(y){if(ne){var b=ne.get(y);if(b!==void 0)return b}for(var S=[],T=y.length,M=0;M<T;M+=1){var k=y[M];S=S.concat(_e[k.type](k.value))}return ne&&ne.set(y,S),S},Se.CHARSTRING=function(y){return _e.CHARSTRING(y).length},_e.OBJECT=function(y){var b=_e[y.type];return ve.argument(b!==void 0,"No encoding function for type "+y.type),b(y.value)},Se.OBJECT=function(y){var b=Se[y.type];return ve.argument(b!==void 0,"No sizeOf function for type "+y.type),b(y.value)},_e.TABLE=function(y){for(var b=[],S=y.fields.length,T=[],M=[],k=0;k<S;k+=1){var N=y.fields[k],X=_e[N.type];ve.argument(X!==void 0,"No encoding function for field type "+N.type+" ("+N.name+")");var Q=y[N.name];Q===void 0&&(Q=N.value);var ce=X(Q);N.type==="TABLE"?(M.push(b.length),b=b.concat([0,0]),T.push(ce)):b=b.concat(ce)}for(var ye=0;ye<T.length;ye+=1){var je=M[ye],te=b.length;ve.argument(te<65536,"Table "+y.tableName+" too big."),b[je]=te>>8,b[je+1]=255&te,b=b.concat(T[ye])}return b},Se.TABLE=function(y){for(var b=0,S=y.fields.length,T=0;T<S;T+=1){var M=y.fields[T],k=Se[M.type];ve.argument(k!==void 0,"No sizeOf function for field type "+M.type+" ("+M.name+")");var N=y[M.name];N===void 0&&(N=M.value),b+=k(N),M.type==="TABLE"&&(b+=2)}return b},_e.RECORD=_e.TABLE,Se.RECORD=Se.TABLE,_e.LITERAL=function(y){return y},Se.LITERAL=function(y){return y.length},ie.prototype.encode=function(){return _e.TABLE(this)},ie.prototype.sizeOf=function(){return Se.TABLE(this)};var Le={Table:ie,Record:ie,Coverage:(he.prototype=Object.create(ie.prototype)).constructor=he,ScriptList:(Pe.prototype=Object.create(ie.prototype)).constructor=Pe,FeatureList:(Be.prototype=Object.create(ie.prototype)).constructor=Be,LookupList:(Ue.prototype=Object.create(ie.prototype)).constructor=Ue,ushortList:oe,tableList:pe,recordList:ge};function Ze(y,b){return y.getUint8(b)}function Re(y,b){return y.getUint16(b,!1)}function Ae(y,b){return y.getUint32(b,!1)}function ze(y,b){return y.getInt16(b,!1)+y.getUint16(b+2,!1)/65535}var Ye={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function be(y,b){this.data=y,this.offset=b,this.relativeOffset=0}be.prototype.parseByte=function(){var y=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,y},be.prototype.parseChar=function(){var y=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,y},be.prototype.parseCard8=be.prototype.parseByte,be.prototype.parseCard16=be.prototype.parseUShort=function(){var y=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,y},be.prototype.parseSID=be.prototype.parseUShort,be.prototype.parseOffset16=be.prototype.parseUShort,be.prototype.parseShort=function(){var y=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,y},be.prototype.parseF2Dot14=function(){var y=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,y},be.prototype.parseOffset32=be.prototype.parseULong=function(){var y=Ae(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,y},be.prototype.parseFixed=function(){var y=ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,y},be.prototype.parseString=function(y){var b=this.data,S=this.offset+this.relativeOffset,T="";this.relativeOffset+=y;for(var M=0;M<y;M++)T+=String.fromCharCode(b.getUint8(S+M));return T},be.prototype.parseTag=function(){return this.parseString(4)},be.prototype.parseLongDateTime=function(){var y=Ae(this.data,this.offset+this.relativeOffset+4);return y-=2082844800,this.relativeOffset+=8,y},be.prototype.parseVersion=function(y){var b=Re(this.data,this.offset+this.relativeOffset),S=Re(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,y===void 0&&(y=4096),b+S/y/10},be.prototype.skip=function(y,b){b===void 0&&(b=1),this.relativeOffset+=Ye[y]*b},be.prototype.parseULongList=function(y){y===void 0&&(y=this.parseULong());for(var b=new Array(y),S=this.data,T=this.offset+this.relativeOffset,M=0;M<y;M++)b[M]=S.getUint32(T),T+=4;return this.relativeOffset+=4*y,b},be.prototype.parseOffset16List=be.prototype.parseUShortList=function(y){y===void 0&&(y=this.parseUShort());for(var b=new Array(y),S=this.data,T=this.offset+this.relativeOffset,M=0;M<y;M++)b[M]=S.getUint16(T),T+=2;return this.relativeOffset+=2*y,b},be.prototype.parseShortList=function(y){for(var b=new Array(y),S=this.data,T=this.offset+this.relativeOffset,M=0;M<y;M++)b[M]=S.getInt16(T),T+=2;return this.relativeOffset+=2*y,b},be.prototype.parseByteList=function(y){for(var b=new Array(y),S=this.data,T=this.offset+this.relativeOffset,M=0;M<y;M++)b[M]=S.getUint8(T++);return this.relativeOffset+=y,b},be.prototype.parseList=function(y,b){b||(b=y,y=this.parseUShort());for(var S=new Array(y),T=0;T<y;T++)S[T]=b.call(this);return S},be.prototype.parseList32=function(y,b){b||(b=y,y=this.parseULong());for(var S=new Array(y),T=0;T<y;T++)S[T]=b.call(this);return S},be.prototype.parseRecordList=function(y,b){b||(b=y,y=this.parseUShort());for(var S=new Array(y),T=Object.keys(b),M=0;M<y;M++){for(var k={},N=0;N<T.length;N++){var X=T[N],Q=b[X];k[X]=Q.call(this)}S[M]=k}return S},be.prototype.parseRecordList32=function(y,b){b||(b=y,y=this.parseULong());for(var S=new Array(y),T=Object.keys(b),M=0;M<y;M++){for(var k={},N=0;N<T.length;N++){var X=T[N],Q=b[X];k[X]=Q.call(this)}S[M]=k}return S},be.prototype.parseStruct=function(y){if(typeof y=="function")return y.call(this);for(var b=Object.keys(y),S={},T=0;T<b.length;T++){var M=b[T],k=y[M];S[M]=k.call(this)}return S},be.prototype.parseValueRecord=function(y){if(y===void 0&&(y=this.parseUShort()),y!==0){var b={};return 1&y&&(b.xPlacement=this.parseShort()),2&y&&(b.yPlacement=this.parseShort()),4&y&&(b.xAdvance=this.parseShort()),8&y&&(b.yAdvance=this.parseShort()),16&y&&(b.xPlaDevice=void 0,this.parseShort()),32&y&&(b.yPlaDevice=void 0,this.parseShort()),64&y&&(b.xAdvDevice=void 0,this.parseShort()),128&y&&(b.yAdvDevice=void 0,this.parseShort()),b}},be.prototype.parseValueRecordList=function(){for(var y=this.parseUShort(),b=this.parseUShort(),S=new Array(b),T=0;T<b;T++)S[T]=this.parseValueRecord(y);return S},be.prototype.parsePointer=function(y){var b=this.parseOffset16();if(0<b)return new be(this.data,this.offset+b).parseStruct(y)},be.prototype.parsePointer32=function(y){var b=this.parseOffset32();if(0<b)return new be(this.data,this.offset+b).parseStruct(y)},be.prototype.parseListOfLists=function(y){for(var b=this.parseOffset16List(),S=b.length,T=this.relativeOffset,M=new Array(S),k=0;k<S;k++){var N=b[k];if(N!==0)if(this.relativeOffset=N,y){for(var X=this.parseOffset16List(),Q=new Array(X.length),ce=0;ce<X.length;ce++)this.relativeOffset=N+X[ce],Q[ce]=y.call(this);M[k]=Q}else M[k]=this.parseUShortList();else M[k]=void 0}return this.relativeOffset=T,M},be.prototype.parseCoverage=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort(),S=this.parseUShort();if(b===1)return{format:1,glyphs:this.parseUShortList(S)};if(b!==2)throw new Error("0x"+y.toString(16)+": Coverage format must be 1 or 2.");for(var T=new Array(S),M=0;M<S;M++)T[M]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:T}},be.prototype.parseClassDef=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();if(b===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(b===2)return{format:2,ranges:this.parseRecordList({start:be.uShort,end:be.uShort,classId:be.uShort})};throw new Error("0x"+y.toString(16)+": ClassDef format must be 1 or 2.")},be.list=function(y,b){return function(){return this.parseList(y,b)}},be.list32=function(y,b){return function(){return this.parseList32(y,b)}},be.recordList=function(y,b){return function(){return this.parseRecordList(y,b)}},be.recordList32=function(y,b){return function(){return this.parseRecordList32(y,b)}},be.pointer=function(y){return function(){return this.parsePointer(y)}},be.pointer32=function(y){return function(){return this.parsePointer32(y)}},be.tag=be.prototype.parseTag,be.byte=be.prototype.parseByte,be.uShort=be.offset16=be.prototype.parseUShort,be.uShortList=be.prototype.parseUShortList,be.uLong=be.offset32=be.prototype.parseULong,be.uLongList=be.prototype.parseULongList,be.struct=be.prototype.parseStruct,be.coverage=be.prototype.parseCoverage,be.classDef=be.prototype.parseClassDef;var tt={reserved:be.uShort,reqFeatureIndex:be.uShort,featureIndexes:be.uShortList};be.prototype.parseScriptList=function(){return this.parsePointer(be.recordList({tag:be.tag,script:be.pointer({defaultLangSys:be.pointer(tt),langSysRecords:be.recordList({tag:be.tag,langSys:be.pointer(tt)})})}))||[]},be.prototype.parseFeatureList=function(){return this.parsePointer(be.recordList({tag:be.tag,feature:be.pointer({featureParams:be.offset16,lookupListIndexes:be.uShortList})}))||[]},be.prototype.parseLookupList=function(y){return this.parsePointer(be.list(be.pointer(function(){var b=this.parseUShort();ve.argument(1<=b&&b<=9,"GPOS/GSUB lookup type "+b+" unknown.");var S=this.parseUShort(),T=16&S;return{lookupType:b,lookupFlag:S,subtables:this.parseList(be.pointer(y[b])),markFilteringSet:T?this.parseUShort():void 0}})))||[]},be.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var y=this.parseUShort(),b=this.parseUShort();return ve.argument(y===1&&b<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:be.offset32,featureTableSubstitutionOffset:be.offset32})})||[]};var V={getByte:Ze,getCard8:Ze,getUShort:Re,getCard16:Re,getShort:function(y,b){return y.getInt16(b,!1)},getULong:Ae,getFixed:ze,getTag:function(y,b){for(var S="",T=b;T<b+4;T+=1)S+=String.fromCharCode(y.getInt8(T));return S},getOffset:function(y,b,S){for(var T=0,M=0;M<S;M+=1)T<<=8,T+=y.getUint8(b+M);return T},getBytes:function(y,b,S){for(var T=[],M=b;M<S;M+=1)T.push(y.getUint8(M));return T},bytesToString:function(y){for(var b="",S=0;S<y.length;S+=1)b+=String.fromCharCode(y[S]);return b},Parser:be},Z={parse:function(y,b){var S={};S.version=V.getUShort(y,b),ve.argument(S.version===0,"cmap table version should be 0."),S.numTables=V.getUShort(y,b+2);for(var T=-1,M=S.numTables-1;0<=M;--M){var k=V.getUShort(y,b+4+8*M),N=V.getUShort(y,b+4+8*M+2);if(k===3&&(N===0||N===1||N===10)||k===0&&(N===0||N===1||N===2||N===3||N===4)){T=V.getULong(y,b+4+8*M+4);break}}if(T===-1)throw new Error("No valid cmap sub-tables found.");var X=new V.Parser(y,b+T);if(S.format=X.parseUShort(),S.format===12)(function(Q,ce){var ye;ce.parseUShort(),Q.length=ce.parseULong(),Q.language=ce.parseULong(),Q.groupCount=ye=ce.parseULong(),Q.glyphIndexMap={};for(var je=0;je<ye;je+=1)for(var te=ce.parseULong(),$e=ce.parseULong(),Xe=ce.parseULong(),Fe=te;Fe<=$e;Fe+=1)Q.glyphIndexMap[Fe]=Xe,Xe++})(S,X);else{if(S.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+S.format+").");(function(Q,ce,ye,je,te){var $e;Q.length=ce.parseUShort(),Q.language=ce.parseUShort(),Q.segCount=$e=ce.parseUShort()>>1,ce.skip("uShort",3),Q.glyphIndexMap={};for(var Xe=new V.Parser(ye,je+te+14),Fe=new V.Parser(ye,je+te+16+2*$e),Me=new V.Parser(ye,je+te+16+4*$e),Ie=new V.Parser(ye,je+te+16+6*$e),ot=je+te+16+8*$e,nt=0;nt<$e-1;nt+=1)for(var _t=void 0,lt=Xe.parseUShort(),ct=Fe.parseUShort(),$t=Me.parseShort(),Tt=Ie.parseUShort(),St=ct;St<=lt;St+=1)Tt!==0?(ot=Ie.offset+Ie.relativeOffset-2,ot+=Tt,ot+=2*(St-ct),(_t=V.getUShort(ye,ot))!==0&&(_t=_t+$t&65535)):_t=St+$t&65535,Q.glyphIndexMap[St]=_t})(S,X,y,b,T)}return S},make:function(y){var b,S=!0;for(b=y.length-1;0<b;--b)if(65535<y.get(b).unicode){console.log("Adding CMAP format 12 (needed!)"),S=!1;break}var T=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:S?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:S?12:20}];S||(T=T.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),T=T.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var M,k,N,X=new Le.Table("cmap",T);for(X.segments=[],b=0;b<y.length;b+=1){for(var Q=y.get(b),ce=0;ce<Q.unicodes.length;ce+=1)M=X,k=Q.unicodes[ce],N=b,M.segments.push({end:k,start:k,delta:-(k-N),offset:0,glyphIndex:N});X.segments=X.segments.sort(function(_t,lt){return _t.start-lt.start})}X.segments.push({end:65535,start:65535,delta:1,offset:0});var ye=X.segments.length,je=0,te=[],$e=[],Xe=[],Fe=[],Me=[],Ie=[];for(b=0;b<ye;b+=1){var ot=X.segments[b];ot.end<=65535&&ot.start<=65535?(te=te.concat({name:"end_"+b,type:"USHORT",value:ot.end}),$e=$e.concat({name:"start_"+b,type:"USHORT",value:ot.start}),Xe=Xe.concat({name:"idDelta_"+b,type:"SHORT",value:ot.delta}),Fe=Fe.concat({name:"idRangeOffset_"+b,type:"USHORT",value:ot.offset}),ot.glyphId!==void 0&&(Me=Me.concat({name:"glyph_"+b,type:"USHORT",value:ot.glyphId}))):je+=1,S||ot.glyphIndex===void 0||(Ie=(Ie=(Ie=Ie.concat({name:"cmap12Start_"+b,type:"ULONG",value:ot.start})).concat({name:"cmap12End_"+b,type:"ULONG",value:ot.end})).concat({name:"cmap12Glyph_"+b,type:"ULONG",value:ot.glyphIndex}))}if(X.segCountX2=2*(ye-je),X.searchRange=2*Math.pow(2,Math.floor(Math.log(ye-je)/Math.log(2))),X.entrySelector=Math.log(X.searchRange/2)/Math.log(2),X.rangeShift=X.segCountX2-X.searchRange,X.fields=X.fields.concat(te),X.fields.push({name:"reservedPad",type:"USHORT",value:0}),X.fields=X.fields.concat($e),X.fields=X.fields.concat(Xe),X.fields=X.fields.concat(Fe),X.fields=X.fields.concat(Me),X.cmap4Length=14+2*te.length+2+2*$e.length+2*Xe.length+2*Fe.length+2*Me.length,!S){var nt=16+4*Ie.length;X.cmap12Offset=20+X.cmap4Length,X.fields=X.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:nt},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ie.length/3}]),X.fields=X.fields.concat(Ie)}return X}},z=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],K=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],de=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Te=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ke(y){this.font=y}function Ve(y){this.cmap=y}function we(y,b){this.encoding=y,this.charset=b}function Ke(y){switch(y.version){case 1:this.names=Te.slice();break;case 2:this.names=new Array(y.numberOfGlyphs);for(var b=0;b<y.numberOfGlyphs;b++)y.glyphNameIndex[b]<Te.length?this.names[b]=Te[y.glyphNameIndex[b]]:this.names[b]=y.names[y.glyphNameIndex[b]-Te.length];break;case 2.5:this.names=new Array(y.numberOfGlyphs);for(var S=0;S<y.numberOfGlyphs;S++)this.names[S]=Te[S+y.glyphNameIndex[S]];break;case 3:default:this.names=[]}}ke.prototype.charToGlyphIndex=function(y){var b=y.codePointAt(0),S=this.font.glyphs;if(S){for(var T=0;T<S.length;T+=1)for(var M=S.get(T),k=0;k<M.unicodes.length;k+=1)if(M.unicodes[k]===b)return T}return null},Ve.prototype.charToGlyphIndex=function(y){return this.cmap.glyphIndexMap[y.codePointAt(0)]||0},we.prototype.charToGlyphIndex=function(y){var b=y.codePointAt(0),S=this.encoding[b];return this.charset.indexOf(S)},Ke.prototype.nameToGlyphIndex=function(y){return this.names.indexOf(y)},Ke.prototype.glyphIndexToName=function(y){return this.names[y]};var at={line:function(y,b,S,T,M){y.beginPath(),y.moveTo(b,S),y.lineTo(T,M),y.stroke()}};function ht(y){this.bindConstructorValues(y)}function mt(y,b,S){Object.defineProperty(y,b,{get:function(){return y.path,y[S]},set:function(T){y[S]=T},enumerable:!0,configurable:!0})}function ft(y,b){if(this.font=y,this.glyphs={},Array.isArray(b))for(var S=0;S<b.length;S++)this.glyphs[S]=b[S];this.length=b&&b.length||0}ht.prototype.bindConstructorValues=function(y){var b,S;this.index=y.index||0,this.name=y.name||null,this.unicode=y.unicode||void 0,this.unicodes=y.unicodes||y.unicode!==void 0?[y.unicode]:[],y.xMin&&(this.xMin=y.xMin),y.yMin&&(this.yMin=y.yMin),y.xMax&&(this.xMax=y.xMax),y.yMax&&(this.yMax=y.yMax),y.advanceWidth&&(this.advanceWidth=y.advanceWidth),Object.defineProperty(this,"path",(b=y.path,S=b||new me,{configurable:!0,get:function(){return typeof S=="function"&&(S=S()),S},set:function(T){S=T}}))},ht.prototype.addUnicode=function(y){this.unicodes.length===0&&(this.unicode=y),this.unicodes.push(y)},ht.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ht.prototype.getPath=function(y,b,S,T,M){var k,N;y=y!==void 0?y:0,b=b!==void 0?b:0,S=S!==void 0?S:72;var X=(T=T||{}).xScale,Q=T.yScale;if(T.hinting&&M&&M.hinting&&(N=this.path&&M.hinting.exec(this,S)),N)k=M.hinting.getCommands(N),y=Math.round(y),b=Math.round(b),X=Q=1;else{k=this.path.commands;var ce=1/this.path.unitsPerEm*S;X===void 0&&(X=ce),Q===void 0&&(Q=ce)}for(var ye=new me,je=0;je<k.length;je+=1){var te=k[je];te.type==="M"?ye.moveTo(y+te.x*X,b+-te.y*Q):te.type==="L"?ye.lineTo(y+te.x*X,b+-te.y*Q):te.type==="Q"?ye.quadraticCurveTo(y+te.x1*X,b+-te.y1*Q,y+te.x*X,b+-te.y*Q):te.type==="C"?ye.curveTo(y+te.x1*X,b+-te.y1*Q,y+te.x2*X,b+-te.y2*Q,y+te.x*X,b+-te.y*Q):te.type==="Z"&&ye.closePath()}return ye},ht.prototype.getContours=function(){if(this.points===void 0)return[];for(var y=[],b=[],S=0;S<this.points.length;S+=1){var T=this.points[S];b.push(T),T.lastPointOfContour&&(y.push(b),b=[])}return ve.argument(b.length===0,"There are still points left in the current contour."),y},ht.prototype.getMetrics=function(){for(var y=this.path.commands,b=[],S=[],T=0;T<y.length;T+=1){var M=y[T];M.type!=="Z"&&(b.push(M.x),S.push(M.y)),M.type!=="Q"&&M.type!=="C"||(b.push(M.x1),S.push(M.y1)),M.type==="C"&&(b.push(M.x2),S.push(M.y2))}var k={xMin:Math.min.apply(null,b),yMin:Math.min.apply(null,S),xMax:Math.max.apply(null,b),yMax:Math.max.apply(null,S),leftSideBearing:this.leftSideBearing};return isFinite(k.xMin)||(k.xMin=0),isFinite(k.xMax)||(k.xMax=this.advanceWidth),isFinite(k.yMin)||(k.yMin=0),isFinite(k.yMax)||(k.yMax=0),k.rightSideBearing=this.advanceWidth-k.leftSideBearing-(k.xMax-k.xMin),k},ht.prototype.draw=function(y,b,S,T,M){this.getPath(b,S,T,M).draw(y)},ht.prototype.drawPoints=function(y,b,S,T){function M(je,te,$e,Xe){var Fe=2*Math.PI;y.beginPath();for(var Me=0;Me<je.length;Me+=1)y.moveTo(te+je[Me].x*Xe,$e+je[Me].y*Xe),y.arc(te+je[Me].x*Xe,$e+je[Me].y*Xe,2,0,Fe,!1);y.closePath(),y.fill()}b=b!==void 0?b:0,S=S!==void 0?S:0,T=T!==void 0?T:24;for(var k=1/this.path.unitsPerEm*T,N=[],X=[],Q=this.path,ce=0;ce<Q.commands.length;ce+=1){var ye=Q.commands[ce];ye.x!==void 0&&N.push({x:ye.x,y:-ye.y}),ye.x1!==void 0&&X.push({x:ye.x1,y:-ye.y1}),ye.x2!==void 0&&X.push({x:ye.x2,y:-ye.y2})}y.fillStyle="blue",M(N,b,S,k),y.fillStyle="red",M(X,b,S,k)},ht.prototype.drawMetrics=function(y,b,S,T){var M;b=b!==void 0?b:0,S=S!==void 0?S:0,T=T!==void 0?T:24,M=1/this.path.unitsPerEm*T,y.lineWidth=1,y.strokeStyle="black",at.line(y,b,-1e4,b,1e4),at.line(y,-1e4,S,1e4,S);var k=this.xMin||0,N=this.yMin||0,X=this.xMax||0,Q=this.yMax||0,ce=this.advanceWidth||0;y.strokeStyle="blue",at.line(y,b+k*M,-1e4,b+k*M,1e4),at.line(y,b+X*M,-1e4,b+X*M,1e4),at.line(y,-1e4,S+-N*M,1e4,S+-N*M),at.line(y,-1e4,S+-Q*M,1e4,S+-Q*M),y.strokeStyle="green",at.line(y,b+ce*M,-1e4,b+ce*M,1e4)},ft.prototype.get=function(y){return typeof this.glyphs[y]=="function"&&(this.glyphs[y]=this.glyphs[y]()),this.glyphs[y]},ft.prototype.push=function(y,b){this.glyphs[y]=b,this.length++};var pt={GlyphSet:ft,glyphLoader:function(y,b){return new ht({index:b,font:y})},ttfGlyphLoader:function(y,b,S,T,M,k){return function(){var N=new ht({index:b,font:y});return N.path=function(){S(N,T,M);var X=k(y.glyphs,N);return X.unitsPerEm=y.unitsPerEm,X},mt(N,"xMin","_xMin"),mt(N,"xMax","_xMax"),mt(N,"yMin","_yMin"),mt(N,"yMax","_yMax"),N}},cffGlyphLoader:function(y,b,S,T){return function(){var M=new ht({index:b,font:y});return M.path=function(){var k=S(y,M,T);return k.unitsPerEm=y.unitsPerEm,k},M}}};function Mt(y,b){if(y===b)return!0;if(Array.isArray(y)&&Array.isArray(b)){if(y.length!==b.length)return!1;for(var S=0;S<y.length;S+=1)if(!Mt(y[S],b[S]))return!1;return!0}return!1}function Jr(y){return y.length<1240?107:y.length<33900?1131:32768}function vr(y,b,S){var T,M,k=[],N=[],X=V.getCard16(y,b);if(X!==0){var Q=V.getByte(y,b+2);T=b+(X+1)*Q+2;for(var ce=b+3,ye=0;ye<X+1;ye+=1)k.push(V.getOffset(y,ce,Q)),ce+=Q;M=T+k[X]}else M=b+2;for(var je=0;je<k.length-1;je+=1){var te=V.getBytes(y,T+k[je],T+k[je+1]);S&&(te=S(te)),N.push(te)}return{objects:N,startOffset:b,endOffset:M}}function Nn(y,b){if(b===28)return y.parseByte()<<8|y.parseByte();if(b===29)return y.parseByte()<<24|y.parseByte()<<16|y.parseByte()<<8|y.parseByte();if(b===30)return function(S){for(var T="",M=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var k=S.parseByte(),N=k>>4,X=15&k;if(N==15||(T+=M[N],X==15))break;T+=M[X]}return parseFloat(T)}(y);if(32<=b&&b<=246)return b-139;if(247<=b&&b<=250)return 256*(b-247)+y.parseByte()+108;if(251<=b&&b<=254)return 256*-(b-251)-y.parseByte()-108;throw new Error("Invalid b0 "+b)}function mn(y,b,S){b=b!==void 0?b:0;var T=new V.Parser(y,b),M=[],k=[];for(S=S!==void 0?S:y.length;T.relativeOffset<S;){var N=T.parseByte();N<=21?(N===12&&(N=1200+T.parseByte()),M.push([N,k]),k=[]):k.push(Nn(T,N))}return function(X){for(var Q={},ce=0;ce<X.length;ce+=1){var ye=X[ce][0],je=X[ce][1],te=void 0;if(te=je.length===1?je[0]:je,Q.hasOwnProperty(ye)&&!isNaN(Q[ye]))throw new Error("Object "+Q+" already has key "+ye);Q[ye]=te}return Q}(M)}function en(y,b){return b=b<=390?z[b]:y[b-391]}function Gn(y,b,S){for(var T,M={},k=0;k<b.length;k+=1){var N=b[k];if(Array.isArray(N.type)){var X=[];X.length=N.type.length;for(var Q=0;Q<N.type.length;Q++)(T=y[N.op]!==void 0?y[N.op][Q]:void 0)===void 0&&(T=N.value!==void 0&&N.value[Q]!==void 0?N.value[Q]:null),N.type[Q]==="SID"&&(T=en(S,T)),X[Q]=T;M[N.name]=X}else(T=y[N.op])===void 0&&(T=N.value!==void 0?N.value:null),N.type==="SID"&&(T=en(S,T)),M[N.name]=T}return M}var Vn=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Wn=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Hn(y,b,S,T){return Gn(mn(y,b,S),Wn,T)}function zn(y,b,S,T){for(var M,k,N=[],X=0;X<S.length;X+=1){var Q=new DataView(new Uint8Array(S[X]).buffer),ce=(k=T,Gn(mn(M=Q,0,M.byteLength),Vn,k));ce._subrs=[],ce._subrsBias=0;var ye=ce.private[0],je=ce.private[1];if(ye!==0&&je!==0){var te=Hn(y,je+b,ye,T);if(ce._defaultWidthX=te.defaultWidthX,ce._nominalWidthX=te.nominalWidthX,te.subrs!==0){var $e=vr(y,je+te.subrs+b);ce._subrs=$e.objects,ce._subrsBias=Jr(ce._subrs)}ce._privateDict=te}N.push(ce)}return N}function fo(y,b,S){var T,M,k,N,X,Q,ce,ye,je=new me,te=[],$e=0,Xe=!1,Fe=!1,Me=0,Ie=0;if(y.isCIDFont){var ot=y.tables.cff.topDict._fdSelect[b.index],nt=y.tables.cff.topDict._fdArray[ot];X=nt._subrs,Q=nt._subrsBias,ce=nt._defaultWidthX,ye=nt._nominalWidthX}else X=y.tables.cff.topDict._subrs,Q=y.tables.cff.topDict._subrsBias,ce=y.tables.cff.topDict._defaultWidthX,ye=y.tables.cff.topDict._nominalWidthX;var _t=ce;function lt($t,Tt){Fe&&je.closePath(),je.moveTo($t,Tt),Fe=!0}function ct(){te.length%2==0||Xe||(_t=te.shift()+ye),$e+=te.length>>1,te.length=0,Xe=!0}return function $t(Tt){for(var St,Et,It,kt,qt,Bt,Lt,Xt,Ut,Jt,At,er,Gt=0;Gt<Tt.length;){var Wt=Tt[Gt];switch(Gt+=1,Wt){case 1:case 3:ct();break;case 4:1<te.length&&!Xe&&(_t=te.shift()+ye,Xe=!0),Ie+=te.pop(),lt(Me,Ie);break;case 5:for(;0<te.length;)Me+=te.shift(),Ie+=te.shift(),je.lineTo(Me,Ie);break;case 6:for(;0<te.length&&(Me+=te.shift(),je.lineTo(Me,Ie),te.length!==0);)Ie+=te.shift(),je.lineTo(Me,Ie);break;case 7:for(;0<te.length&&(Ie+=te.shift(),je.lineTo(Me,Ie),te.length!==0);)Me+=te.shift(),je.lineTo(Me,Ie);break;case 8:for(;0<te.length;)T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),N=M+te.shift(),Me=k+te.shift(),Ie=N+te.shift(),je.curveTo(T,M,k,N,Me,Ie);break;case 10:qt=te.pop()+Q,(Bt=X[qt])&&$t(Bt);break;case 11:return;case 12:switch(Wt=Tt[Gt],Gt+=1,Wt){case 35:T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),N=M+te.shift(),Lt=k+te.shift(),Xt=N+te.shift(),Ut=Lt+te.shift(),Jt=Xt+te.shift(),At=Ut+te.shift(),er=Jt+te.shift(),Me=At+te.shift(),Ie=er+te.shift(),te.shift(),je.curveTo(T,M,k,N,Lt,Xt),je.curveTo(Ut,Jt,At,er,Me,Ie);break;case 34:T=Me+te.shift(),M=Ie,k=T+te.shift(),N=M+te.shift(),Lt=k+te.shift(),Xt=N,Ut=Lt+te.shift(),Jt=N,At=Ut+te.shift(),er=Ie,Me=At+te.shift(),je.curveTo(T,M,k,N,Lt,Xt),je.curveTo(Ut,Jt,At,er,Me,Ie);break;case 36:T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),N=M+te.shift(),Lt=k+te.shift(),Xt=N,Ut=Lt+te.shift(),Jt=N,At=Ut+te.shift(),er=Jt+te.shift(),Me=At+te.shift(),je.curveTo(T,M,k,N,Lt,Xt),je.curveTo(Ut,Jt,At,er,Me,Ie);break;case 37:T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),N=M+te.shift(),Lt=k+te.shift(),Xt=N+te.shift(),Ut=Lt+te.shift(),Jt=Xt+te.shift(),At=Ut+te.shift(),er=Jt+te.shift(),Math.abs(At-Me)>Math.abs(er-Ie)?Me=At+te.shift():Ie=er+te.shift(),je.curveTo(T,M,k,N,Lt,Xt),je.curveTo(Ut,Jt,At,er,Me,Ie);break;default:console.log("Glyph "+b.index+": unknown operator 1200"+Wt),te.length=0}break;case 14:0<te.length&&!Xe&&(_t=te.shift()+ye,Xe=!0),Fe&&(je.closePath(),Fe=!1);break;case 18:ct();break;case 19:case 20:ct(),Gt+=$e+7>>3;break;case 21:2<te.length&&!Xe&&(_t=te.shift()+ye,Xe=!0),Ie+=te.pop(),lt(Me+=te.pop(),Ie);break;case 22:1<te.length&&!Xe&&(_t=te.shift()+ye,Xe=!0),lt(Me+=te.pop(),Ie);break;case 23:ct();break;case 24:for(;2<te.length;)T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),N=M+te.shift(),Me=k+te.shift(),Ie=N+te.shift(),je.curveTo(T,M,k,N,Me,Ie);Me+=te.shift(),Ie+=te.shift(),je.lineTo(Me,Ie);break;case 25:for(;6<te.length;)Me+=te.shift(),Ie+=te.shift(),je.lineTo(Me,Ie);T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),N=M+te.shift(),Me=k+te.shift(),Ie=N+te.shift(),je.curveTo(T,M,k,N,Me,Ie);break;case 26:for(te.length%2&&(Me+=te.shift());0<te.length;)T=Me,M=Ie+te.shift(),k=T+te.shift(),N=M+te.shift(),Me=k,Ie=N+te.shift(),je.curveTo(T,M,k,N,Me,Ie);break;case 27:for(te.length%2&&(Ie+=te.shift());0<te.length;)T=Me+te.shift(),M=Ie,k=T+te.shift(),N=M+te.shift(),Me=k+te.shift(),Ie=N,je.curveTo(T,M,k,N,Me,Ie);break;case 28:St=Tt[Gt],Et=Tt[Gt+1],te.push((St<<24|Et<<16)>>16),Gt+=2;break;case 29:qt=te.pop()+y.gsubrsBias,(Bt=y.gsubrs[qt])&&$t(Bt);break;case 30:for(;0<te.length&&(T=Me,M=Ie+te.shift(),k=T+te.shift(),N=M+te.shift(),Me=k+te.shift(),Ie=N+(te.length===1?te.shift():0),je.curveTo(T,M,k,N,Me,Ie),te.length!==0);)T=Me+te.shift(),M=Ie,k=T+te.shift(),N=M+te.shift(),Ie=N+te.shift(),Me=k+(te.length===1?te.shift():0),je.curveTo(T,M,k,N,Me,Ie);break;case 31:for(;0<te.length&&(T=Me+te.shift(),M=Ie,k=T+te.shift(),N=M+te.shift(),Ie=N+te.shift(),Me=k+(te.length===1?te.shift():0),je.curveTo(T,M,k,N,Me,Ie),te.length!==0);)T=Me,M=Ie+te.shift(),k=T+te.shift(),N=M+te.shift(),Me=k+te.shift(),Ie=N+(te.length===1?te.shift():0),je.curveTo(T,M,k,N,Me,Ie);break;default:Wt<32?console.log("Glyph "+b.index+": unknown operator "+Wt):Wt<247?te.push(Wt-139):Wt<251?(St=Tt[Gt],Gt+=1,te.push(256*(Wt-247)+St+108)):Wt<255?(St=Tt[Gt],Gt+=1,te.push(256*-(Wt-251)-St-108)):(St=Tt[Gt],Et=Tt[Gt+1],It=Tt[Gt+2],kt=Tt[Gt+3],Gt+=4,te.push((St<<24|Et<<16|It<<8|kt)/65536))}}}(S),b.advanceWidth=_t,je}function Tn(y,b){var S,T=z.indexOf(y);return 0<=T&&(S=T),0<=(T=b.indexOf(y))?S=T+z.length:(S=z.length+b.length,b.push(y)),S}function En(y,b,S){for(var T={},M=0;M<y.length;M+=1){var k=y[M],N=b[k.name];N===void 0||Mt(N,k.value)||(k.type==="SID"&&(N=Tn(N,S)),T[k.op]={name:k.name,type:k.type,value:N})}return T}function fe(y,b){var S=new Le.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return S.dict=En(Vn,y,b),S}function Ge(y){var b=new Le.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return b.topDicts=[{name:"topDict_0",type:"TABLE",value:y}],b}function Qe(y){var b=[],S=y.path;b.push({name:"width",type:"NUMBER",value:y.advanceWidth});for(var T=0,M=0,k=0;k<S.commands.length;k+=1){var N=void 0,X=void 0,Q=S.commands[k];if(Q.type==="Q"&&(Q={type:"C",x:Q.x,y:Q.y,x1:1/3*T+2/3*Q.x1,y1:1/3*M+2/3*Q.y1,x2:1/3*Q.x+2/3*Q.x1,y2:1/3*Q.y+2/3*Q.y1}),Q.type==="M")N=Math.round(Q.x-T),X=Math.round(Q.y-M),b.push({name:"dx",type:"NUMBER",value:N}),b.push({name:"dy",type:"NUMBER",value:X}),b.push({name:"rmoveto",type:"OP",value:21}),T=Math.round(Q.x),M=Math.round(Q.y);else if(Q.type==="L")N=Math.round(Q.x-T),X=Math.round(Q.y-M),b.push({name:"dx",type:"NUMBER",value:N}),b.push({name:"dy",type:"NUMBER",value:X}),b.push({name:"rlineto",type:"OP",value:5}),T=Math.round(Q.x),M=Math.round(Q.y);else if(Q.type==="C"){var ce=Math.round(Q.x1-T),ye=Math.round(Q.y1-M),je=Math.round(Q.x2-Q.x1),te=Math.round(Q.y2-Q.y1);N=Math.round(Q.x-Q.x2),X=Math.round(Q.y-Q.y2),b.push({name:"dx1",type:"NUMBER",value:ce}),b.push({name:"dy1",type:"NUMBER",value:ye}),b.push({name:"dx2",type:"NUMBER",value:je}),b.push({name:"dy2",type:"NUMBER",value:te}),b.push({name:"dx",type:"NUMBER",value:N}),b.push({name:"dy",type:"NUMBER",value:X}),b.push({name:"rrcurveto",type:"OP",value:8}),T=Math.round(Q.x),M=Math.round(Q.y)}}return b.push({name:"endchar",type:"OP",value:14}),b}var qe={parse:function(y,b,S){S.tables.cff={};var T,M,k,N=vr(y,(T=y,M=b,(k={}).formatMajor=V.getCard8(T,M),k.formatMinor=V.getCard8(T,M+1),k.size=V.getCard8(T,M+2),k.offsetSize=V.getCard8(T,M+3),k.startOffset=M,k.endOffset=M+4,k).endOffset,V.bytesToString),X=vr(y,N.endOffset),Q=vr(y,X.endOffset,V.bytesToString),ce=vr(y,Q.endOffset);S.gsubrs=ce.objects,S.gsubrsBias=Jr(S.gsubrs);var ye=zn(y,b,X.objects,Q.objects);if(ye.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ye.length);var je=ye[0];if((S.tables.cff.topDict=je)._privateDict&&(S.defaultWidthX=je._privateDict.defaultWidthX,S.nominalWidthX=je._privateDict.nominalWidthX),je.ros[0]!==void 0&&je.ros[1]!==void 0&&(S.isCIDFont=!0),S.isCIDFont){var te=je.fdArray,$e=je.fdSelect;if(te===0||$e===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var Xe=zn(y,b,vr(y,te+=b).objects,Q.objects);je._fdArray=Xe,$e+=b,je._fdSelect=function(ct,$t,Tt,St){var Et,It=[],kt=new V.Parser(ct,$t),qt=kt.parseCard8();if(qt===0)for(var Bt=0;Bt<Tt;Bt++){if(St<=(Et=kt.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Et+" (FD count "+St+")");It.push(Et)}else{if(qt!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+qt);var Lt,Xt=kt.parseCard16(),Ut=kt.parseCard16();if(Ut!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Ut);for(var Jt=0;Jt<Xt;Jt++){if(Et=kt.parseCard8(),Lt=kt.parseCard16(),St<=Et)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Et+" (FD count "+St+")");if(Tt<Lt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Lt);for(;Ut<Lt;Ut++)It.push(Et);Ut=Lt}if(Lt!==Tt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Lt)}return It}(y,$e,S.numGlyphs,Xe.length)}var Fe=b+je.private[1],Me=Hn(y,Fe,je.private[0],Q.objects);if(S.defaultWidthX=Me.defaultWidthX,S.nominalWidthX=Me.nominalWidthX,Me.subrs!==0){var Ie=vr(y,Fe+Me.subrs);S.subrs=Ie.objects,S.subrsBias=Jr(S.subrs)}else S.subrs=[],S.subrsBias=0;var ot=vr(y,b+je.charStrings);S.nGlyphs=ot.objects.length;var nt=function(ct,$t,Tt,St){var Et,It,kt=new V.Parser(ct,$t);--Tt;var qt=[".notdef"],Bt=kt.parseCard8();if(Bt===0)for(var Lt=0;Lt<Tt;Lt+=1)Et=kt.parseSID(),qt.push(en(St,Et));else if(Bt===1)for(;qt.length<=Tt;){Et=kt.parseSID(),It=kt.parseCard8();for(var Xt=0;Xt<=It;Xt+=1)qt.push(en(St,Et)),Et+=1}else{if(Bt!==2)throw new Error("Unknown charset format "+Bt);for(;qt.length<=Tt;){Et=kt.parseSID(),It=kt.parseCard16();for(var Ut=0;Ut<=It;Ut+=1)qt.push(en(St,Et)),Et+=1}}return qt}(y,b+je.charset,S.nGlyphs,Q.objects);je.encoding===0?S.cffEncoding=new we(K,nt):je.encoding===1?S.cffEncoding=new we(de,nt):S.cffEncoding=function(ct,$t,Tt){var St,Et={},It=new V.Parser(ct,$t),kt=It.parseCard8();if(kt===0)for(var qt=It.parseCard8(),Bt=0;Bt<qt;Bt+=1)Et[St=It.parseCard8()]=Bt;else{if(kt!==1)throw new Error("Unknown encoding format "+kt);var Lt=It.parseCard8();St=1;for(var Xt=0;Xt<Lt;Xt+=1)for(var Ut=It.parseCard8(),Jt=It.parseCard8(),At=Ut;At<=Ut+Jt;At+=1)Et[At]=St,St+=1}return new we(Et,Tt)}(y,b+je.encoding,nt),S.encoding=S.encoding||S.cffEncoding,S.glyphs=new pt.GlyphSet(S);for(var _t=0;_t<S.nGlyphs;_t+=1){var lt=ot.objects[_t];S.glyphs.push(_t,pt.cffGlyphLoader(S,_t,fo,lt))}},make:function(y,b){for(var S,T=new Le.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),M=1/b.unitsPerEm,k={version:b.version,fullName:b.fullName,familyName:b.familyName,weight:b.weightName,fontBBox:b.fontBBox||[0,0,0,0],fontMatrix:[M,0,0,M,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},N=[],X=1;X<y.length;X+=1)S=y.get(X),N.push(S.name);var Q=[];T.header=new Le.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),T.nameIndex=function(Xe){var Fe=new Le.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Fe.names=[];for(var Me=0;Me<Xe.length;Me+=1)Fe.names.push({name:"name_"+Me,type:"NAME",value:Xe[Me]});return Fe}([b.postScriptName]);var ce,ye,je,te=fe(k,Q);T.topDictIndex=Ge(te),T.globalSubrIndex=new Le.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),T.charsets=function(Xe,Fe){for(var Me=new Le.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ie=0;Ie<Xe.length;Ie+=1){var ot=Tn(Xe[Ie],Fe);Me.fields.push({name:"glyph_"+Ie,type:"SID",value:ot})}return Me}(N,Q),T.charStringsIndex=function(Xe){for(var Fe=new Le.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Me=0;Me<Xe.length;Me+=1){var Ie=Xe.get(Me),ot=Qe(Ie);Fe.charStrings.push({name:Ie.name,type:"CHARSTRING",value:ot})}return Fe}(y),T.privateDict=(ce={},ye=Q,(je=new Le.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=En(Wn,ce,ye),je),T.stringIndex=function(Xe){var Fe=new Le.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Fe.strings=[];for(var Me=0;Me<Xe.length;Me+=1)Fe.strings.push({name:"string_"+Me,type:"STRING",value:Xe[Me]});return Fe}(Q);var $e=T.header.sizeOf()+T.nameIndex.sizeOf()+T.topDictIndex.sizeOf()+T.stringIndex.sizeOf()+T.globalSubrIndex.sizeOf();return k.charset=$e,k.encoding=0,k.charStrings=k.charset+T.charsets.sizeOf(),k.private[1]=k.charStrings+T.charStringsIndex.sizeOf(),te=fe(k,Q),T.topDictIndex=Ge(te),T}},rt={parse:function(y,b){var S={},T=new V.Parser(y,b);return S.version=T.parseVersion(),S.fontRevision=Math.round(1e3*T.parseFixed())/1e3,S.checkSumAdjustment=T.parseULong(),S.magicNumber=T.parseULong(),ve.argument(S.magicNumber===1594834165,"Font header has wrong magic number."),S.flags=T.parseUShort(),S.unitsPerEm=T.parseUShort(),S.created=T.parseLongDateTime(),S.modified=T.parseLongDateTime(),S.xMin=T.parseShort(),S.yMin=T.parseShort(),S.xMax=T.parseShort(),S.yMax=T.parseShort(),S.macStyle=T.parseUShort(),S.lowestRecPPEM=T.parseUShort(),S.fontDirectionHint=T.parseShort(),S.indexToLocFormat=T.parseShort(),S.glyphDataFormat=T.parseShort(),S},make:function(y){var b=Math.round(new Date().getTime()/1e3)+2082844800,S=b;return y.createdTimestamp&&(S=y.createdTimestamp+2082844800),new Le.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:S},{name:"modified",type:"LONGDATETIME",value:b},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],y)}},Ne={parse:function(y,b){var S={},T=new V.Parser(y,b);return S.version=T.parseVersion(),S.ascender=T.parseShort(),S.descender=T.parseShort(),S.lineGap=T.parseShort(),S.advanceWidthMax=T.parseUShort(),S.minLeftSideBearing=T.parseShort(),S.minRightSideBearing=T.parseShort(),S.xMaxExtent=T.parseShort(),S.caretSlopeRise=T.parseShort(),S.caretSlopeRun=T.parseShort(),S.caretOffset=T.parseShort(),T.relativeOffset+=8,S.metricDataFormat=T.parseShort(),S.numberOfHMetrics=T.parseUShort(),S},make:function(y){return new Le.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],y)}},jt={parse:function(y,b,S,T,M){for(var k,N,X=new V.Parser(y,b),Q=0;Q<T;Q+=1){Q<S&&(k=X.parseUShort(),N=X.parseShort());var ce=M.get(Q);ce.advanceWidth=k,ce.leftSideBearing=N}},make:function(y){for(var b=new Le.Table("hmtx",[]),S=0;S<y.length;S+=1){var T=y.get(S),M=T.advanceWidth||0,k=T.leftSideBearing||0;b.fields.push({name:"advanceWidth_"+S,type:"USHORT",value:M}),b.fields.push({name:"leftSideBearing_"+S,type:"SHORT",value:k})}return b}},Rt={make:function(y){for(var b=new Le.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:y.length}]),S="",T=12+4*y.length,M=0;M<y.length;++M){var k=S.indexOf(y[M]);k<0&&(k=S.length,S+=y[M]),b.fields.push({name:"offset "+M,type:"USHORT",value:T+k}),b.fields.push({name:"length "+M,type:"USHORT",value:y[M].length})}return b.fields.push({name:"stringPool",type:"CHARARRAY",value:S}),b},parse:function(y,b){var S=new V.Parser(y,b),T=S.parseULong();ve.argument(T===1,"Unsupported ltag table version."),S.skip("uLong",1);for(var M=S.parseULong(),k=[],N=0;N<M;N++){for(var X="",Q=b+S.parseUShort(),ce=S.parseUShort(),ye=Q;ye<Q+ce;++ye)X+=String.fromCharCode(y.getInt8(ye));k.push(X)}return k}},Dt={parse:function(y,b){var S={},T=new V.Parser(y,b);return S.version=T.parseVersion(),S.numGlyphs=T.parseUShort(),S.version===1&&(S.maxPoints=T.parseUShort(),S.maxContours=T.parseUShort(),S.maxCompositePoints=T.parseUShort(),S.maxCompositeContours=T.parseUShort(),S.maxZones=T.parseUShort(),S.maxTwilightPoints=T.parseUShort(),S.maxStorage=T.parseUShort(),S.maxFunctionDefs=T.parseUShort(),S.maxInstructionDefs=T.parseUShort(),S.maxStackElements=T.parseUShort(),S.maxSizeOfInstructions=T.parseUShort(),S.maxComponentElements=T.parseUShort(),S.maxComponentDepth=T.parseUShort()),S},make:function(y){return new Le.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:y}])}},wt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Je={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},zt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ut={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Go(y,b,S){switch(y){case 0:if(b===65535)return"und";if(S)return S[b];break;case 1:return Je[b];case 3:return ut[b]}}var qn="utf-16",Vo={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Wo={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Ho(y,b,S){switch(y){case 0:return qn;case 1:return Wo[S]||Vo[b];case 3:if(b===1||b===10)return qn}}function po(y){var b={};for(var S in y)b[y[S]]=parseInt(S);return b}function mo(y,b,S,T,M,k){return new Le.Record("NameRecord",[{name:"platformID",type:"USHORT",value:y},{name:"encodingID",type:"USHORT",value:b},{name:"languageID",type:"USHORT",value:S},{name:"nameID",type:"USHORT",value:T},{name:"length",type:"USHORT",value:M},{name:"offset",type:"USHORT",value:k}])}function Ya(y,b){var S=function(k,N){var X=k.length,Q=N.length-X+1;e:for(var ce=0;ce<Q;ce++)for(;ce<Q;ce++){for(var ye=0;ye<X;ye++)if(N[ce+ye]!==k[ye])continue e;return ce}return-1}(y,b);if(S<0){S=b.length;for(var T=0,M=y.length;T<M;++T)b.push(y[T])}return S}var $a={parse:function(y,b,S){for(var T={},M=new V.Parser(y,b),k=M.parseUShort(),N=M.parseUShort(),X=M.offset+M.parseUShort(),Q=0;Q<N;Q++){var ce=M.parseUShort(),ye=M.parseUShort(),je=M.parseUShort(),te=M.parseUShort(),$e=wt[te]||te,Xe=M.parseUShort(),Fe=M.parseUShort(),Me=Go(ce,je,S),Ie=Ho(ce,ye,je);if(Ie!==void 0&&Me!==void 0){var ot=void 0;if(ot=Ie===qn?De.UTF16(y,X+Fe,Xe):De.MACSTRING(y,X+Fe,Xe,Ie)){var nt=T[$e];nt===void 0&&(nt=T[$e]={}),nt[Me]=ot}}}return k===1&&M.parseUShort(),T},make:function(y,b){var S,T=[],M={},k=po(wt);for(var N in y){var X=k[N];if(X===void 0&&(X=N),S=parseInt(X),isNaN(S))throw new Error('Name table entry "'+N+'" does not exist, see nameTableNames for complete list.');M[S]=y[N],T.push(S)}for(var Q=po(Je),ce=po(ut),ye=[],je=[],te=0;te<T.length;te++){var $e=M[S=T[te]];for(var Xe in $e){var Fe=$e[Xe],Me=1,Ie=Q[Xe],ot=zt[Ie],nt=Ho(Me,ot,Ie),_t=_e.MACSTRING(Fe,nt);_t===void 0&&(Me=0,(Ie=b.indexOf(Xe))<0&&(Ie=b.length,b.push(Xe)),ot=4,_t=_e.UTF16(Fe));var lt=Ya(_t,je);ye.push(mo(Me,ot,Ie,S,_t.length,lt));var ct=ce[Xe];if(ct!==void 0){var $t=_e.UTF16(Fe),Tt=Ya($t,je);ye.push(mo(3,1,ct,S,$t.length,Tt))}}}ye.sort(function(It,kt){return It.platformID-kt.platformID||It.encodingID-kt.encodingID||It.languageID-kt.languageID||It.nameID-kt.nameID});for(var St=new Le.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ye.length},{name:"stringOffset",type:"USHORT",value:6+12*ye.length}]),Et=0;Et<ye.length;Et++)St.fields.push({name:"record_"+Et,type:"RECORD",value:ye[Et]});return St.fields.push({name:"strings",type:"LITERAL",value:je}),St}},ai=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],li={parse:function(y,b){var S={},T=new V.Parser(y,b);S.version=T.parseUShort(),S.xAvgCharWidth=T.parseShort(),S.usWeightClass=T.parseUShort(),S.usWidthClass=T.parseUShort(),S.fsType=T.parseUShort(),S.ySubscriptXSize=T.parseShort(),S.ySubscriptYSize=T.parseShort(),S.ySubscriptXOffset=T.parseShort(),S.ySubscriptYOffset=T.parseShort(),S.ySuperscriptXSize=T.parseShort(),S.ySuperscriptYSize=T.parseShort(),S.ySuperscriptXOffset=T.parseShort(),S.ySuperscriptYOffset=T.parseShort(),S.yStrikeoutSize=T.parseShort(),S.yStrikeoutPosition=T.parseShort(),S.sFamilyClass=T.parseShort(),S.panose=[];for(var M=0;M<10;M++)S.panose[M]=T.parseByte();return S.ulUnicodeRange1=T.parseULong(),S.ulUnicodeRange2=T.parseULong(),S.ulUnicodeRange3=T.parseULong(),S.ulUnicodeRange4=T.parseULong(),S.achVendID=String.fromCharCode(T.parseByte(),T.parseByte(),T.parseByte(),T.parseByte()),S.fsSelection=T.parseUShort(),S.usFirstCharIndex=T.parseUShort(),S.usLastCharIndex=T.parseUShort(),S.sTypoAscender=T.parseShort(),S.sTypoDescender=T.parseShort(),S.sTypoLineGap=T.parseShort(),S.usWinAscent=T.parseUShort(),S.usWinDescent=T.parseUShort(),1<=S.version&&(S.ulCodePageRange1=T.parseULong(),S.ulCodePageRange2=T.parseULong()),2<=S.version&&(S.sxHeight=T.parseShort(),S.sCapHeight=T.parseShort(),S.usDefaultChar=T.parseUShort(),S.usBreakChar=T.parseUShort(),S.usMaxContent=T.parseUShort()),S},make:function(y){return new Le.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],y)},unicodeRanges:ai,getUnicodeRange:function(y){for(var b=0;b<ai.length;b+=1){var S=ai[b];if(y>=S.begin&&y<S.end)return b}return-1}},Ka={parse:function(y,b){var S={},T=new V.Parser(y,b);switch(S.version=T.parseVersion(),S.italicAngle=T.parseFixed(),S.underlinePosition=T.parseShort(),S.underlineThickness=T.parseShort(),S.isFixedPitch=T.parseULong(),S.minMemType42=T.parseULong(),S.maxMemType42=T.parseULong(),S.minMemType1=T.parseULong(),S.maxMemType1=T.parseULong(),S.version){case 1:S.names=Te.slice();break;case 2:S.numberOfGlyphs=T.parseUShort(),S.glyphNameIndex=new Array(S.numberOfGlyphs);for(var M=0;M<S.numberOfGlyphs;M++)S.glyphNameIndex[M]=T.parseUShort();S.names=[];for(var k=0;k<S.numberOfGlyphs;k++)if(S.glyphNameIndex[k]>=Te.length){var N=T.parseChar();S.names.push(T.parseString(N))}break;case 2.5:S.numberOfGlyphs=T.parseUShort(),S.offset=new Array(S.numberOfGlyphs);for(var X=0;X<S.numberOfGlyphs;X++)S.offset[X]=T.parseChar()}return S},make:function(){return new Le.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Gr=new Array(9);Gr[1]=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{substFormat:1,coverage:this.parsePointer(be.coverage),deltaGlyphId:this.parseUShort()}:b===2?{substFormat:2,coverage:this.parsePointer(be.coverage),substitute:this.parseOffset16List()}:void ve.assert(!1,"0x"+y.toString(16)+": lookup type 1 format must be 1 or 2.")},Gr[2]=function(){var y=this.parseUShort();return ve.argument(y===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(be.coverage),sequences:this.parseListOfLists()}},Gr[3]=function(){var y=this.parseUShort();return ve.argument(y===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(be.coverage),alternateSets:this.parseListOfLists()}},Gr[4]=function(){var y=this.parseUShort();return ve.argument(y===1,"GSUB ligature table identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(be.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var go={sequenceIndex:be.uShort,lookupListIndex:be.uShort};Gr[5]=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();if(b===1)return{substFormat:b,coverage:this.parsePointer(be.coverage),ruleSets:this.parseListOfLists(function(){var M=this.parseUShort(),k=this.parseUShort();return{input:this.parseUShortList(M-1),lookupRecords:this.parseRecordList(k,go)}})};if(b===2)return{substFormat:b,coverage:this.parsePointer(be.coverage),classDef:this.parsePointer(be.classDef),classSets:this.parseListOfLists(function(){var M=this.parseUShort(),k=this.parseUShort();return{classes:this.parseUShortList(M-1),lookupRecords:this.parseRecordList(k,go)}})};if(b===3){var S=this.parseUShort(),T=this.parseUShort();return{substFormat:b,coverages:this.parseList(S,be.pointer(be.coverage)),lookupRecords:this.parseRecordList(T,go)}}ve.assert(!1,"0x"+y.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Gr[6]=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{substFormat:1,coverage:this.parsePointer(be.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(go)}})}:b===2?{substFormat:2,coverage:this.parsePointer(be.coverage),backtrackClassDef:this.parsePointer(be.classDef),inputClassDef:this.parsePointer(be.classDef),lookaheadClassDef:this.parsePointer(be.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(go)}})}:b===3?{substFormat:3,backtrackCoverage:this.parseList(be.pointer(be.coverage)),inputCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),lookupRecords:this.parseRecordList(go)}:void ve.assert(!1,"0x"+y.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Gr[7]=function(){var y=this.parseUShort();ve.argument(y===1,"GSUB Extension Substitution subtable identifier-format must be 1");var b=this.parseUShort(),S=new be(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:b,extension:Gr[b].call(S)}},Gr[8]=function(){var y=this.parseUShort();return ve.argument(y===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(be.coverage),backtrackCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),substitutes:this.parseUShortList()}};var hs=new Array(9);hs[1]=function(y){return y.substFormat===1?new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(y.coverage)},{name:"deltaGlyphID",type:"USHORT",value:y.deltaGlyphId}]):new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Le.Coverage(y.coverage)}].concat(Le.ushortList("substitute",y.substitute)))},hs[3]=function(y){return ve.assert(y.substFormat===1,"Lookup type 3 substFormat must be 1."),new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(y.coverage)}].concat(Le.tableList("altSet",y.alternateSets,function(b){return new Le.Table("alternateSetTable",Le.ushortList("alternate",b))})))},hs[4]=function(y){return ve.assert(y.substFormat===1,"Lookup type 4 substFormat must be 1."),new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(y.coverage)}].concat(Le.tableList("ligSet",y.ligatureSets,function(b){return new Le.Table("ligatureSetTable",Le.tableList("ligature",b,function(S){return new Le.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:S.ligGlyph}].concat(Le.ushortList("component",S.components,S.components.length+1)))}))})))};var Za={parse:function(y,b){var S=new be(y,b=b||0),T=S.parseVersion(1);return ve.argument(T===1||T===1.1,"Unsupported GSUB table version."),T===1?{version:T,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Gr)}:{version:T,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Gr),variations:S.parseFeatureVariationsList()}},make:function(y){return new Le.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Le.ScriptList(y.scripts)},{name:"features",type:"TABLE",value:new Le.FeatureList(y.features)},{name:"lookups",type:"TABLE",value:new Le.LookupList(y.lookups,hs)}])}},Qa={parse:function(y,b){var S=new V.Parser(y,b),T=S.parseULong();ve.argument(T===1,"Unsupported META table version."),S.parseULong(),S.parseULong();for(var M=S.parseULong(),k={},N=0;N<M;N++){var X=S.parseTag(),Q=S.parseULong(),ce=S.parseULong(),ye=De.UTF8(y,b+Q,ce);k[X]=ye}return k},make:function(y){var b=Object.keys(y).length,S="",T=16+12*b,M=new Le.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:T},{name:"numTags",type:"ULONG",value:b}]);for(var k in y){var N=S.length;S+=y[k],M.fields.push({name:"tag "+k,type:"TAG",value:k}),M.fields.push({name:"offset "+k,type:"ULONG",value:T+N}),M.fields.push({name:"length "+k,type:"ULONG",value:y[k].length})}return M.fields.push({name:"stringPool",type:"CHARARRAY",value:S}),M}};function Ja(y){return Math.log(y)/Math.log(2)|0}function ui(y){for(;y.length%4!=0;)y.push(0);for(var b=0,S=0;S<y.length;S+=4)b+=(y[S]<<24)+(y[S+1]<<16)+(y[S+2]<<8)+y[S+3];return b%=Math.pow(2,32)}function el(y,b,S,T){return new Le.Record("Table Record",[{name:"tag",type:"TAG",value:y!==void 0?y:""},{name:"checkSum",type:"ULONG",value:b!==void 0?b:0},{name:"offset",type:"ULONG",value:S!==void 0?S:0},{name:"length",type:"ULONG",value:T!==void 0?T:0}])}function tl(y){var b=new Le.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);b.tables=y,b.numTables=y.length;var S=Math.pow(2,Ja(b.numTables));b.searchRange=16*S,b.entrySelector=Ja(S),b.rangeShift=16*b.numTables-b.searchRange;for(var T=[],M=[],k=b.sizeOf()+el().sizeOf()*b.numTables;k%4!=0;)k+=1,M.push({name:"padding",type:"BYTE",value:0});for(var N=0;N<y.length;N+=1){var X=y[N];ve.argument(X.tableName.length===4,"Table name"+X.tableName+" is invalid.");var Q=X.sizeOf(),ce=el(X.tableName,ui(X.encode()),k,Q);for(T.push({name:ce.tag+" Table Record",type:"RECORD",value:ce}),M.push({name:X.tableName+" table",type:"RECORD",value:X}),k+=Q,ve.argument(!isNaN(k),"Something went wrong calculating the offset.");k%4!=0;)k+=1,M.push({name:"padding",type:"BYTE",value:0})}return T.sort(function(ye,je){return ye.value.tag>je.value.tag?1:-1}),b.fields=b.fields.concat(T),b.fields=b.fields.concat(M),b}function rl(y,b,S){for(var T=0;T<b.length;T+=1){var M=y.charToGlyphIndex(b[T]);if(0<M)return y.glyphs.get(M).getMetrics()}return S}var vd={make:tl,fontToTable:function(y){for(var b,S=[],T=[],M=[],k=[],N=[],X=[],Q=[],ce=0,ye=0,je=0,te=0,$e=0,Xe=0;Xe<y.glyphs.length;Xe+=1){var Fe=y.glyphs.get(Xe),Me=0|Fe.unicode;if(isNaN(Fe.advanceWidth))throw new Error("Glyph "+Fe.name+" ("+Xe+"): advanceWidth is not a number.");(Me<b||b===void 0)&&0<Me&&(b=Me),ce<Me&&(ce=Me);var Ie=li.getUnicodeRange(Me);if(Ie<32)ye|=1<<Ie;else if(Ie<64)je|=1<<Ie-32;else if(Ie<96)te|=1<<Ie-64;else{if(!(Ie<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");$e|=1<<Ie-96}if(Fe.name!==".notdef"){var ot=Fe.getMetrics();S.push(ot.xMin),T.push(ot.yMin),M.push(ot.xMax),k.push(ot.yMax),X.push(ot.leftSideBearing),Q.push(ot.rightSideBearing),N.push(Fe.advanceWidth)}}var nt={xMin:Math.min.apply(null,S),yMin:Math.min.apply(null,T),xMax:Math.max.apply(null,M),yMax:Math.max.apply(null,k),advanceWidthMax:Math.max.apply(null,N),advanceWidthAvg:function(bo){for(var kl=0,yi=0;yi<bo.length;yi+=1)kl+=bo[yi];return kl/bo.length}(N),minLeftSideBearing:Math.min.apply(null,X),maxLeftSideBearing:Math.max.apply(null,X),minRightSideBearing:Math.min.apply(null,Q)};nt.ascender=y.ascender,nt.descender=y.descender;var _t=rt.make({flags:3,unitsPerEm:y.unitsPerEm,xMin:nt.xMin,yMin:nt.yMin,xMax:nt.xMax,yMax:nt.yMax,lowestRecPPEM:3,createdTimestamp:y.createdTimestamp}),lt=Ne.make({ascender:nt.ascender,descender:nt.descender,advanceWidthMax:nt.advanceWidthMax,minLeftSideBearing:nt.minLeftSideBearing,minRightSideBearing:nt.minRightSideBearing,xMaxExtent:nt.maxLeftSideBearing+(nt.xMax-nt.xMin),numberOfHMetrics:y.glyphs.length}),ct=Dt.make(y.glyphs.length),$t=li.make({xAvgCharWidth:Math.round(nt.advanceWidthAvg),usWeightClass:y.tables.os2.usWeightClass,usWidthClass:y.tables.os2.usWidthClass,usFirstCharIndex:b,usLastCharIndex:ce,ulUnicodeRange1:ye,ulUnicodeRange2:je,ulUnicodeRange3:te,ulUnicodeRange4:$e,fsSelection:y.tables.os2.fsSelection,sTypoAscender:nt.ascender,sTypoDescender:nt.descender,sTypoLineGap:0,usWinAscent:nt.yMax,usWinDescent:Math.abs(nt.yMin),ulCodePageRange1:1,sxHeight:rl(y,"xyvw",{yMax:Math.round(nt.ascender/2)}).yMax,sCapHeight:rl(y,"HIKLEFJMNTZBDPRAGOQSUVWXY",nt).yMax,usDefaultChar:y.hasChar(" ")?32:0,usBreakChar:y.hasChar(" ")?32:0}),Tt=jt.make(y.glyphs),St=Z.make(y.glyphs),Et=y.getEnglishName("fontFamily"),It=y.getEnglishName("fontSubfamily"),kt=Et+" "+It,qt=y.getEnglishName("postScriptName");qt=qt||Et.replace(/\s/g,"")+"-"+It;var Bt={};for(var Lt in y.names)Bt[Lt]=y.names[Lt];Bt.uniqueID||(Bt.uniqueID={en:y.getEnglishName("manufacturer")+":"+kt}),Bt.postScriptName||(Bt.postScriptName={en:qt}),Bt.preferredFamily||(Bt.preferredFamily=y.names.fontFamily),Bt.preferredSubfamily||(Bt.preferredSubfamily=y.names.fontSubfamily);var Xt=[],Ut=$a.make(Bt,Xt),Jt=0<Xt.length?Rt.make(Xt):void 0,At=Ka.make(),er=qe.make(y.glyphs,{version:y.getEnglishName("version"),fullName:kt,familyName:Et,weightName:It,postScriptName:qt,unitsPerEm:y.unitsPerEm,fontBBox:[0,nt.yMin,nt.ascender,nt.advanceWidthMax]}),Gt=y.metas&&0<Object.keys(y.metas).length?Qa.make(y.metas):void 0,Wt=[_t,lt,ct,$t,Ut,St,At,er,Tt];Jt&&Wt.push(Jt),y.tables.gsub&&Wt.push(Za.make(y.tables.gsub)),Gt&&Wt.push(Gt);for(var nn=tl(Wt),vo=ui(nn.encode()),Yn=nn.fields,Pr=!1,$n=0;$n<Yn.length;$n+=1)if(Yn[$n].name==="head table"){Yn[$n].value.checkSumAdjustment=2981146554-vo,Pr=!0;break}if(!Pr)throw new Error("Could not find head table with checkSum to adjust.");return nn},computeCheckSum:ui};function ci(y,b){for(var S=0,T=y.length-1;S<=T;){var M=S+T>>>1,k=y[M].tag;if(k===b)return M;k<b?S=1+M:T=M-1}return-S-1}function nl(y,b){for(var S=0,T=y.length-1;S<=T;){var M=S+T>>>1,k=y[M];if(k===b)return M;k<b?S=1+M:T=M-1}return-S-1}function ol(y,b){for(var S,T=0,M=y.length-1;T<=M;){var k=T+M>>>1,N=(S=y[k]).start;if(N===b)return S;N<b?T=1+k:M=k-1}if(0<T)return b>(S=y[T-1]).end?0:S}function fs(y,b){this.font=y,this.tableName=b}function ps(y){fs.call(this,y,"gpos")}function tn(y){fs.call(this,y,"gsub")}function bd(y,b){var S=y.length;if(S!==b.length)return!1;for(var T=0;T<S;T++)if(y[T]!==b[T])return!1;return!0}function sl(y,b,S){for(var T=y.subtables,M=0;M<T.length;M++){var k=T[M];if(k.substFormat===b)return k}if(S)return T.push(S),S}function il(y){for(var b=new ArrayBuffer(y.length),S=new Uint8Array(b),T=0;T<y.length;++T)S[T]=y[T];return b}function yo(y,b){if(!y)throw b}function al(y,b,S,T,M){var k;return k=0<(b&T)?(k=y.parseByte(),!(b&M)&&(k=-k),S+k):0<(b&M)?S:S+y.parseShort()}function wd(y,b,S){var T,M,k=new V.Parser(b,S);if(y.numberOfContours=k.parseShort(),y._xMin=k.parseShort(),y._yMin=k.parseShort(),y._xMax=k.parseShort(),y._yMax=k.parseShort(),0<y.numberOfContours){for(var N=y.endPointIndices=[],X=0;X<y.numberOfContours;X+=1)N.push(k.parseUShort());y.instructionLength=k.parseUShort(),y.instructions=[];for(var Q=0;Q<y.instructionLength;Q+=1)y.instructions.push(k.parseByte());var ce=N[N.length-1]+1;T=[];for(var ye=0;ye<ce;ye+=1)if(M=k.parseByte(),T.push(M),0<(8&M))for(var je=k.parseByte(),te=0;te<je;te+=1)T.push(M),ye+=1;if(ve.argument(T.length===ce,"Bad flags."),0<N.length){var $e,Xe=[];if(0<ce){for(var Fe=0;Fe<ce;Fe+=1)M=T[Fe],($e={}).onCurve=!!(1&M),$e.lastPointOfContour=0<=N.indexOf(Fe),Xe.push($e);for(var Me=0,Ie=0;Ie<ce;Ie+=1)M=T[Ie],($e=Xe[Ie]).x=al(k,M,Me,2,16),Me=$e.x;for(var ot=0,nt=0;nt<ce;nt+=1)M=T[nt],($e=Xe[nt]).y=al(k,M,ot,4,32),ot=$e.y}y.points=Xe}else y.points=[]}else if(y.numberOfContours===0)y.points=[];else{y.isComposite=!0,y.points=[],y.components=[];for(var _t=!0;_t;){T=k.parseUShort();var lt={glyphIndex:k.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&T)?0<(2&T)?(lt.dx=k.parseShort(),lt.dy=k.parseShort()):lt.matchedPoints=[k.parseUShort(),k.parseUShort()]:0<(2&T)?(lt.dx=k.parseChar(),lt.dy=k.parseChar()):lt.matchedPoints=[k.parseByte(),k.parseByte()],0<(8&T)?lt.xScale=lt.yScale=k.parseF2Dot14():0<(64&T)?(lt.xScale=k.parseF2Dot14(),lt.yScale=k.parseF2Dot14()):0<(128&T)&&(lt.xScale=k.parseF2Dot14(),lt.scale01=k.parseF2Dot14(),lt.scale10=k.parseF2Dot14(),lt.yScale=k.parseF2Dot14()),y.components.push(lt),_t=!!(32&T)}if(256&T){y.instructionLength=k.parseUShort(),y.instructions=[];for(var ct=0;ct<y.instructionLength;ct+=1)y.instructions.push(k.parseByte())}}}function di(y,b){for(var S=[],T=0;T<y.length;T+=1){var M=y[T],k={x:b.xScale*M.x+b.scale01*M.y+b.dx,y:b.scale10*M.x+b.yScale*M.y+b.dy,onCurve:M.onCurve,lastPointOfContour:M.lastPointOfContour};S.push(k)}return S}function ll(y){var b=new me;if(!y)return b;for(var S=function(je){for(var te=[],$e=[],Xe=0;Xe<je.length;Xe+=1){var Fe=je[Xe];$e.push(Fe),Fe.lastPointOfContour&&(te.push($e),$e=[])}return ve.argument($e.length===0,"There are still points left in the current contour."),te}(y),T=0;T<S.length;++T){var M=S[T],k=null,N=M[M.length-1],X=M[0];if(N.onCurve)b.moveTo(N.x,N.y);else if(X.onCurve)b.moveTo(X.x,X.y);else{var Q={x:.5*(N.x+X.x),y:.5*(N.y+X.y)};b.moveTo(Q.x,Q.y)}for(var ce=0;ce<M.length;++ce)if(k=N,N=X,X=M[(ce+1)%M.length],N.onCurve)b.lineTo(N.x,N.y);else{var ye=X;k.onCurve||(.5*(N.x+k.x),.5*(N.y+k.y)),X.onCurve||(ye={x:.5*(N.x+X.x),y:.5*(N.y+X.y)}),b.quadraticCurveTo(N.x,N.y,ye.x,ye.y)}b.closePath()}return b}function xd(y,b){if(b.isComposite)for(var S=0;S<b.components.length;S+=1){var T=b.components[S],M=y.get(T.glyphIndex);if(M.getPath(),M.points){var k=void 0;if(T.matchedPoints===void 0)k=di(M.points,T);else{if(T.matchedPoints[0]>b.points.length-1||T.matchedPoints[1]>M.points.length-1)throw Error("Matched points out of range in "+b.name);var N=b.points[T.matchedPoints[0]],X=M.points[T.matchedPoints[1]],Q={xScale:T.xScale,scale01:T.scale01,scale10:T.scale10,yScale:T.yScale,dx:0,dy:0};X=di([X],Q)[0],Q.dx=N.x-X.x,Q.dy=N.y-X.y,k=di(M.points,Q)}b.points=b.points.concat(k)}}return ll(b.points)}(ps.prototype=fs.prototype={searchTag:ci,binSearch:nl,getTable:function(y){var b=this.font.tables[this.tableName];return!b&&y&&(b=this.font.tables[this.tableName]=this.createDefaultTable()),b},getScriptNames:function(){var y=this.getTable();return y?y.scripts.map(function(b){return b.tag}):[]},getDefaultScriptName:function(){var y=this.getTable();if(y){for(var b=!1,S=0;S<y.scripts.length;S++){var T=y.scripts[S].tag;if(T==="DFLT")return T;T==="latn"&&(b=!0)}return b?"latn":void 0}},getScriptTable:function(y,b){var S=this.getTable(b);if(S){y=y||"DFLT";var T=S.scripts,M=ci(S.scripts,y);if(0<=M)return T[M].script;if(b){var k={tag:y,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return T.splice(-1-M,0,k),k.script}}},getLangSysTable:function(y,b,S){var T=this.getScriptTable(y,S);if(T){if(!b||b==="dflt"||b==="DFLT")return T.defaultLangSys;var M=ci(T.langSysRecords,b);if(0<=M)return T.langSysRecords[M].langSys;if(S){var k={tag:b,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return T.langSysRecords.splice(-1-M,0,k),k.langSys}}},getFeatureTable:function(y,b,S,T){var M=this.getLangSysTable(y,b,T);if(M){for(var k,N=M.featureIndexes,X=this.font.tables[this.tableName].features,Q=0;Q<N.length;Q++)if((k=X[N[Q]]).tag===S)return k.feature;if(T){var ce=X.length;return ve.assert(ce===0||S>=X[ce-1].tag,"Features must be added in alphabetical order."),k={tag:S,feature:{params:0,lookupListIndexes:[]}},X.push(k),N.push(ce),k.feature}}},getLookupTables:function(y,b,S,T,M){var k=this.getFeatureTable(y,b,S,M),N=[];if(k){for(var X,Q=k.lookupListIndexes,ce=this.font.tables[this.tableName].lookups,ye=0;ye<Q.length;ye++)(X=ce[Q[ye]]).lookupType===T&&N.push(X);if(N.length===0&&M){X={lookupType:T,lookupFlag:0,subtables:[],markFilteringSet:void 0};var je=ce.length;return ce.push(X),Q.push(je),[X]}}return N},getGlyphClass:function(y,b){switch(y.format){case 1:return y.startGlyph<=b&&b<y.startGlyph+y.classes.length?y.classes[b-y.startGlyph]:0;case 2:var S=ol(y.ranges,b);return S?S.classId:0}},getCoverageIndex:function(y,b){switch(y.format){case 1:var S=nl(y.glyphs,b);return 0<=S?S:-1;case 2:var T=ol(y.ranges,b);return T?T.index+b-T.start:-1}},expandCoverage:function(y){if(y.format===1)return y.glyphs;for(var b=[],S=y.ranges,T=0;T<S.length;T++)for(var M=S[T],k=M.start,N=M.end,X=k;X<=N;X++)b.push(X);return b}}).init=function(){var y=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(y)},ps.prototype.getKerningValue=function(y,b,S){for(var T=0;T<y.length;T++)for(var M=y[T].subtables,k=0;k<M.length;k++){var N=M[k],X=this.getCoverageIndex(N.coverage,b);if(!(X<0))switch(N.posFormat){case 1:for(var Q=N.pairSets[X],ce=0;ce<Q.length;ce++){var ye=Q[ce];if(ye.secondGlyph===S)return ye.value1&&ye.value1.xAdvance||0}break;case 2:var je=this.getGlyphClass(N.classDef1,b),te=this.getGlyphClass(N.classDef2,S),$e=N.classRecords[je][te];return $e.value1&&$e.value1.xAdvance||0}}return 0},ps.prototype.getKerningTables=function(y,b){if(this.font.tables.gpos)return this.getLookupTables(y,b,"kern",2)},(tn.prototype=fs.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},tn.prototype.getSingle=function(y,b,S){for(var T=[],M=this.getLookupTables(b,S,y,1),k=0;k<M.length;k++)for(var N=M[k].subtables,X=0;X<N.length;X++){var Q=N[X],ce=this.expandCoverage(Q.coverage),ye=void 0;if(Q.substFormat===1){var je=Q.deltaGlyphId;for(ye=0;ye<ce.length;ye++){var te=ce[ye];T.push({sub:te,by:te+je})}}else{var $e=Q.substitute;for(ye=0;ye<ce.length;ye++)T.push({sub:ce[ye],by:$e[ye]})}}return T},tn.prototype.getAlternates=function(y,b,S){for(var T=[],M=this.getLookupTables(b,S,y,3),k=0;k<M.length;k++)for(var N=M[k].subtables,X=0;X<N.length;X++)for(var Q=N[X],ce=this.expandCoverage(Q.coverage),ye=Q.alternateSets,je=0;je<ce.length;je++)T.push({sub:ce[je],by:ye[je]});return T},tn.prototype.getLigatures=function(y,b,S){for(var T=[],M=this.getLookupTables(b,S,y,4),k=0;k<M.length;k++)for(var N=M[k].subtables,X=0;X<N.length;X++)for(var Q=N[X],ce=this.expandCoverage(Q.coverage),ye=Q.ligatureSets,je=0;je<ce.length;je++)for(var te=ce[je],$e=ye[je],Xe=0;Xe<$e.length;Xe++){var Fe=$e[Xe];T.push({sub:[te].concat(Fe.components),by:Fe.ligGlyph})}return T},tn.prototype.addSingle=function(y,b,S,T){var M=sl(this.getLookupTables(S,T,y,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});ve.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format);var k=b.sub,N=this.binSearch(M.coverage.glyphs,k);N<0&&(N=-1-N,M.coverage.glyphs.splice(N,0,k),M.substitute.splice(N,0,0)),M.substitute[N]=b.by},tn.prototype.addAlternate=function(y,b,S,T){var M=sl(this.getLookupTables(S,T,y,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});ve.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format);var k=b.sub,N=this.binSearch(M.coverage.glyphs,k);N<0&&(N=-1-N,M.coverage.glyphs.splice(N,0,k),M.alternateSets.splice(N,0,0)),M.alternateSets[N]=b.by},tn.prototype.addLigature=function(y,b,S,T){var M=this.getLookupTables(S,T,y,4,!0)[0],k=M.subtables[0];k||(k={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},M.subtables[0]=k),ve.assert(k.coverage.format===1,"Ligature: unable to modify coverage table format "+k.coverage.format);var N=b.sub[0],X=b.sub.slice(1),Q={ligGlyph:b.by,components:X},ce=this.binSearch(k.coverage.glyphs,N);if(0<=ce){for(var ye=k.ligatureSets[ce],je=0;je<ye.length;je++)if(bd(ye[je].components,X))return;ye.push(Q)}else ce=-1-ce,k.coverage.glyphs.splice(ce,0,N),k.ligatureSets.splice(ce,0,[Q])},tn.prototype.getFeature=function(y,b,S){if(/ss\d\d/.test(y))return this.getSingle(y,b,S);switch(y){case"aalt":case"salt":return this.getSingle(y,b,S).concat(this.getAlternates(y,b,S));case"dlig":case"liga":case"rlig":return this.getLigatures(y,b,S)}},tn.prototype.add=function(y,b,S,T){if(/ss\d\d/.test(y))return this.addSingle(y,b,S,T);switch(y){case"aalt":case"salt":return typeof b.by=="number"?this.addSingle(y,b,S,T):this.addAlternate(y,b,S,T);case"dlig":case"liga":case"rlig":return this.addLigature(y,b,S,T)}};var ul,Xn,cl,hi,dl={getPath:ll,parse:function(y,b,S,T){for(var M=new pt.GlyphSet(T),k=0;k<S.length-1;k+=1){var N=S[k];N!==S[k+1]?M.push(k,pt.ttfGlyphLoader(T,k,wd,y,b+N,xd)):M.push(k,pt.glyphLoader(T,k))}return M}};function hl(y){this.font=y,this.getCommands=function(b){return dl.getPath(b).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function _d(y){return y}function fl(y){return Math.sign(y)*Math.round(Math.abs(y))}function Sd(y){return Math.sign(y)*Math.round(Math.abs(2*y))/2}function jd(y){return Math.sign(y)*(Math.round(Math.abs(y)+.5)-.5)}function Td(y){return Math.sign(y)*Math.ceil(Math.abs(y))}function Ed(y){return Math.sign(y)*Math.floor(Math.abs(y))}function pl(y){var b=this.srPeriod,S=this.srPhase,T=1;return y<0&&(y=-y,T=-1),y+=this.srThreshold-S,y=Math.trunc(y/b)*b,(y+=S)<0?S*T:y*T}var rn={x:1,y:0,axis:"x",distance:function(y,b,S,T){return(S?y.xo:y.x)-(T?b.xo:b.x)},interpolate:function(y,b,S,T){var M,k,N,X,Q,ce,ye;if(!T||T===this)return M=y.xo-b.xo,k=y.xo-S.xo,Q=b.x-b.xo,ce=S.x-S.xo,(ye=(N=Math.abs(M))+(X=Math.abs(k)))===0?void(y.x=y.xo+(Q+ce)/2):void(y.x=y.xo+(Q*X+ce*N)/ye);M=T.distance(y,b,!0,!0),k=T.distance(y,S,!0,!0),Q=T.distance(b,b,!1,!0),ce=T.distance(S,S,!1,!0),(ye=(N=Math.abs(M))+(X=Math.abs(k)))!==0?rn.setRelative(y,y,(Q*X+ce*N)/ye,T,!0):rn.setRelative(y,y,(Q+ce)/2,T,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(y,b,S,T,M){if(T&&T!==this){var k=M?b.xo:b.x,N=M?b.yo:b.y,X=k+S*T.x,Q=N+S*T.y;y.x=X+(y.y-Q)/T.normalSlope}else y.x=(M?b.xo:b.x)+S},slope:0,touch:function(y){y.xTouched=!0},touched:function(y){return y.xTouched},untouch:function(y){y.xTouched=!1}},gn={x:0,y:1,axis:"y",distance:function(y,b,S,T){return(S?y.yo:y.y)-(T?b.yo:b.y)},interpolate:function(y,b,S,T){var M,k,N,X,Q,ce,ye;if(!T||T===this)return M=y.yo-b.yo,k=y.yo-S.yo,Q=b.y-b.yo,ce=S.y-S.yo,(ye=(N=Math.abs(M))+(X=Math.abs(k)))===0?void(y.y=y.yo+(Q+ce)/2):void(y.y=y.yo+(Q*X+ce*N)/ye);M=T.distance(y,b,!0,!0),k=T.distance(y,S,!0,!0),Q=T.distance(b,b,!1,!0),ce=T.distance(S,S,!1,!0),(ye=(N=Math.abs(M))+(X=Math.abs(k)))!==0?gn.setRelative(y,y,(Q*X+ce*N)/ye,T,!0):gn.setRelative(y,y,(Q+ce)/2,T,!0)},normalSlope:0,setRelative:function(y,b,S,T,M){if(T&&T!==this){var k=M?b.xo:b.x,N=M?b.yo:b.y,X=k+S*T.x,Q=N+S*T.y;y.y=Q+T.normalSlope*(y.x-X)}else y.y=(M?b.yo:b.y)+S},slope:Number.POSITIVE_INFINITY,touch:function(y){y.yTouched=!0},touched:function(y){return y.yTouched},untouch:function(y){y.yTouched=!1}};function zo(y,b){this.x=y,this.y=b,this.axis=void 0,this.slope=b/y,this.normalSlope=-y/b,Object.freeze(this)}function qo(y,b){var S=Math.sqrt(y*y+b*b);return b/=S,(y/=S)===1&&b===0?rn:y===0&&b===1?gn:new zo(y,b)}function yn(y,b,S,T){this.x=this.xo=Math.round(64*y)/64,this.y=this.yo=Math.round(64*b)/64,this.lastPointOfContour=S,this.onCurve=T,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(rn),Object.freeze(gn),zo.prototype.distance=function(y,b,S,T){return this.x*rn.distance(y,b,S,T)+this.y*gn.distance(y,b,S,T)},zo.prototype.interpolate=function(y,b,S,T){var M,k,N,X,Q,ce,ye;N=T.distance(y,b,!0,!0),X=T.distance(y,S,!0,!0),M=T.distance(b,b,!1,!0),k=T.distance(S,S,!1,!0),(ye=(Q=Math.abs(N))+(ce=Math.abs(X)))!==0?this.setRelative(y,y,(M*ce+k*Q)/ye,T,!0):this.setRelative(y,y,(M+k)/2,T,!0)},zo.prototype.setRelative=function(y,b,S,T,M){T=T||this;var k=M?b.xo:b.x,N=M?b.yo:b.y,X=k+S*T.x,Q=N+S*T.y,ce=T.normalSlope,ye=this.slope,je=y.x,te=y.y;y.x=(ye*je-ce*X+Q-te)/(ye-ce),y.y=ye*(y.x-je)+te},zo.prototype.touch=function(y){y.xTouched=!0,y.yTouched=!0},yn.prototype.nextTouched=function(y){for(var b=this.nextPointOnContour;!y.touched(b)&&b!==this;)b=b.nextPointOnContour;return b},yn.prototype.prevTouched=function(y){for(var b=this.prevPointOnContour;!y.touched(b)&&b!==this;)b=b.prevPointOnContour;return b};var Xo=Object.freeze(new yn(0,0)),Cd={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Cn(y,b){switch(this.env=y,this.stack=[],this.prog=b,y){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=rn,this.round=fl}}function ms(y){for(var b=y.tZone=new Array(y.gZone.length),S=0;S<b.length;S++)b[S]=new yn(0,0)}function ml(y,b){var S,T=y.prog,M=y.ip,k=1;do if((S=T[++M])===88)k++;else if(S===89)k--;else if(S===64)M+=T[M+1]+1;else if(S===65)M+=2*T[M+1]+1;else if(176<=S&&S<=183)M+=S-176+1;else if(184<=S&&S<=191)M+=2*(S-184+1);else if(b&&k===1&&S===27)break;while(0<k);y.ip=M}function gl(y,b){d.DEBUG&&console.log(b.step,"SVTCA["+y.axis+"]"),b.fv=b.pv=b.dpv=y}function yl(y,b){d.DEBUG&&console.log(b.step,"SPVTCA["+y.axis+"]"),b.pv=b.dpv=y}function vl(y,b){d.DEBUG&&console.log(b.step,"SFVTCA["+y.axis+"]"),b.fv=y}function bl(y,b){var S,T,M=b.stack,k=M.pop(),N=M.pop(),X=b.z2[k],Q=b.z1[N];d.DEBUG&&console.log("SPVTL["+y+"]",k,N),T=y?(S=X.y-Q.y,Q.x-X.x):(S=Q.x-X.x,Q.y-X.y),b.pv=b.dpv=qo(S,T)}function wl(y,b){var S,T,M=b.stack,k=M.pop(),N=M.pop(),X=b.z2[k],Q=b.z1[N];d.DEBUG&&console.log("SFVTL["+y+"]",k,N),T=y?(S=X.y-Q.y,Q.x-X.x):(S=Q.x-X.x,Q.y-X.y),b.fv=qo(S,T)}function fi(y){d.DEBUG&&console.log(y.step,"POP[]"),y.stack.pop()}function xl(y,b){var S=b.stack.pop(),T=b.z0[S],M=b.fv,k=b.pv;d.DEBUG&&console.log(b.step,"MDAP["+y+"]",S);var N=k.distance(T,Xo);y&&(N=b.round(N)),M.setRelative(T,Xo,N,k),M.touch(T),b.rp0=b.rp1=S}function _l(y,b){var S,T,M,k=b.z2,N=k.length-2;d.DEBUG&&console.log(b.step,"IUP["+y.axis+"]");for(var X=0;X<N;X++)S=k[X],y.touched(S)||(T=S.prevTouched(y))!==S&&(T===(M=S.nextTouched(y))&&y.setRelative(S,S,y.distance(T,T,!1,!0),y,!0),y.interpolate(S,T,M,y))}function Sl(y,b){for(var S=b.stack,T=y?b.rp1:b.rp2,M=(y?b.z0:b.z1)[T],k=b.fv,N=b.pv,X=b.loop,Q=b.z2;X--;){var ce=S.pop(),ye=Q[ce],je=N.distance(M,M,!1,!0);k.setRelative(ye,ye,je,N),k.touch(ye),d.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-X)+": ":"")+"SHP["+(y?"rp1":"rp2")+"]",ce)}b.loop=1}function jl(y,b){var S=b.stack,T=y?b.rp1:b.rp2,M=(y?b.z0:b.z1)[T],k=b.fv,N=b.pv,X=S.pop(),Q=b.z2[b.contours[X]],ce=Q;d.DEBUG&&console.log(b.step,"SHC["+y+"]",X);for(var ye=N.distance(M,M,!1,!0);ce!==M&&k.setRelative(ce,ce,ye,N),(ce=ce.nextPointOnContour)!==Q;);}function Tl(y,b){var S,T,M=b.stack,k=y?b.rp1:b.rp2,N=(y?b.z0:b.z1)[k],X=b.fv,Q=b.pv,ce=M.pop();switch(d.DEBUG&&console.log(b.step,"SHZ["+y+"]",ce),ce){case 0:S=b.tZone;break;case 1:S=b.gZone;break;default:throw new Error("Invalid zone")}for(var ye=Q.distance(N,N,!1,!0),je=S.length-2,te=0;te<je;te++)T=S[te],X.setRelative(T,T,ye,Q)}function El(y,b){var S=b.stack,T=S.pop()/64,M=S.pop(),k=b.z1[M],N=b.z0[b.rp0],X=b.fv,Q=b.pv;X.setRelative(k,N,T,Q),X.touch(k),d.DEBUG&&console.log(b.step,"MSIRP["+y+"]",T,M),b.rp1=b.rp0,b.rp2=M,y&&(b.rp0=M)}function Cl(y,b){var S=b.stack,T=S.pop(),M=S.pop(),k=b.z0[M],N=b.fv,X=b.pv,Q=b.cvt[T];d.DEBUG&&console.log(b.step,"MIAP["+y+"]",T,"(",Q,")",M);var ce=X.distance(k,Xo);y&&(Math.abs(ce-Q)<b.cvCutIn&&(ce=Q),ce=b.round(ce)),N.setRelative(k,Xo,ce,X),b.zp0===0&&(k.xo=k.x,k.yo=k.y),N.touch(k),b.rp0=b.rp1=M}function Ml(y,b){var S=b.stack,T=S.pop(),M=b.z2[T];d.DEBUG&&console.log(b.step,"GC["+y+"]",T),S.push(64*b.dpv.distance(M,Xo,y,!1))}function Al(y,b){var S=b.stack,T=S.pop(),M=S.pop(),k=b.z1[T],N=b.z0[M],X=b.dpv.distance(N,k,y,y);d.DEBUG&&console.log(b.step,"MD["+y+"]",T,M,"->",X),b.stack.push(Math.round(64*X))}function pi(y,b){var S=b.stack,T=S.pop(),M=b.fv,k=b.pv,N=b.ppem,X=b.deltaBase+16*(y-1),Q=b.deltaShift,ce=b.z0;d.DEBUG&&console.log(b.step,"DELTAP["+y+"]",T,S);for(var ye=0;ye<T;ye++){var je=S.pop(),te=S.pop();if(X+((240&te)>>4)===N){var $e=(15&te)-8;0<=$e&&$e++,d.DEBUG&&console.log(b.step,"DELTAPFIX",je,"by",$e*Q);var Xe=ce[je];M.setRelative(Xe,Xe,$e*Q,k)}}}function gs(y,b){var S=b.stack,T=S.pop();d.DEBUG&&console.log(b.step,"ROUND[]"),S.push(64*b.round(T/64))}function mi(y,b){var S=b.stack,T=S.pop(),M=b.ppem,k=b.deltaBase+16*(y-1),N=b.deltaShift;d.DEBUG&&console.log(b.step,"DELTAC["+y+"]",T,S);for(var X=0;X<T;X++){var Q=S.pop(),ce=S.pop();if(k+((240&ce)>>4)===M){var ye=(15&ce)-8;0<=ye&&ye++;var je=ye*N;d.DEBUG&&console.log(b.step,"DELTACFIX",Q,"by",je),b.cvt[Q]+=je}}}function Rl(y,b){var S,T,M=b.stack,k=M.pop(),N=M.pop(),X=b.z2[k],Q=b.z1[N];d.DEBUG&&console.log(b.step,"SDPVTL["+y+"]",k,N),T=y?(S=X.y-Q.y,Q.x-X.x):(S=Q.x-X.x,Q.y-X.y),b.dpv=qo(S,T)}function Mn(y,b){var S=b.stack,T=b.prog,M=b.ip;d.DEBUG&&console.log(b.step,"PUSHB["+y+"]");for(var k=0;k<y;k++)S.push(T[++M]);b.ip=M}function An(y,b){var S=b.ip,T=b.prog,M=b.stack;d.DEBUG&&console.log(b.ip,"PUSHW["+y+"]");for(var k=0;k<y;k++){var N=T[++S]<<8|T[++S];32768&N&&(N=-(1+(65535^N))),M.push(N)}b.ip=S}function it(y,b,S,T,M,k){var N,X,Q,ce,ye=k.stack,je=y&&ye.pop(),te=ye.pop(),$e=k.rp0,Xe=k.z0[$e],Fe=k.z1[te],Me=k.minDis,Ie=k.fv,ot=k.dpv;Q=0<=(X=N=ot.distance(Fe,Xe,!0,!0))?1:-1,X=Math.abs(X),y&&(ce=k.cvt[je],T&&Math.abs(X-ce)<k.cvCutIn&&(X=ce)),S&&X<Me&&(X=Me),T&&(X=k.round(X)),Ie.setRelative(Fe,Xe,Q*X,ot),Ie.touch(Fe),d.DEBUG&&console.log(k.step,(y?"MIRP[":"MDRP[")+(b?"M":"m")+(S?">":"_")+(T?"R":"_")+(M===0?"Gr":M===1?"Bl":M===2?"Wh":"")+"]",y?je+"("+k.cvt[je]+","+ce+")":"",te,"(d =",N,"->",Q*X,")"),k.rp1=k.rp0,k.rp2=te,b&&(k.rp0=te)}hl.prototype.exec=function(y,b){if(typeof b!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var S=this.font,T=this._prepState;if(!T||T.ppem!==b){var M=this._fpgmState;if(!M){Cn.prototype=Cd,(M=this._fpgmState=new Cn("fpgm",S.tables.fpgm)).funcs=[],M.font=S,d.DEBUG&&(console.log("---EXEC FPGM---"),M.step=-1);try{Xn(M)}catch(ce){return console.log("Hinting error in FPGM:"+ce),void(this._errorState=3)}}Cn.prototype=M,(T=this._prepState=new Cn("prep",S.tables.prep)).ppem=b;var k=S.tables.cvt;if(k)for(var N=T.cvt=new Array(k.length),X=b/S.unitsPerEm,Q=0;Q<k.length;Q++)N[Q]=k[Q]*X;else T.cvt=[];d.DEBUG&&(console.log("---EXEC PREP---"),T.step=-1);try{Xn(T)}catch(ce){this._errorState<2&&console.log("Hinting error in PREP:"+ce),this._errorState=2}}if(!(1<this._errorState))try{return cl(y,T)}catch(ce){return this._errorState<1&&(console.log("Hinting error:"+ce),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},cl=function(y,b){var S,T,M,k=b.ppem/b.font.unitsPerEm,N=k,X=y.components;if(Cn.prototype=b,X){var Q=b.font;T=[],S=[];for(var ce=0;ce<X.length;ce++){var ye=X[ce],je=Q.glyphs.get(ye.glyphIndex);M=new Cn("glyf",je.instructions),d.DEBUG&&(console.log("---EXEC COMP "+ce+"---"),M.step=-1),hi(je,M,k,N);for(var te=Math.round(ye.dx*k),$e=Math.round(ye.dy*N),Xe=M.gZone,Fe=M.contours,Me=0;Me<Xe.length;Me++){var Ie=Xe[Me];Ie.xTouched=Ie.yTouched=!1,Ie.xo=Ie.x=Ie.x+te,Ie.yo=Ie.y=Ie.y+$e}var ot=T.length;T.push.apply(T,Xe);for(var nt=0;nt<Fe.length;nt++)S.push(Fe[nt]+ot)}y.instructions&&!M.inhibitGridFit&&((M=new Cn("glyf",y.instructions)).gZone=M.z0=M.z1=M.z2=T,M.contours=S,T.push(new yn(0,0),new yn(Math.round(y.advanceWidth*k),0)),d.DEBUG&&(console.log("---EXEC COMPOSITE---"),M.step=-1),Xn(M),T.length-=2)}else M=new Cn("glyf",y.instructions),d.DEBUG&&(console.log("---EXEC GLYPH---"),M.step=-1),hi(y,M,k,N),T=M.gZone;return T},hi=function(y,b,S,T){for(var M,k,N,X=y.points||[],Q=X.length,ce=b.gZone=b.z0=b.z1=b.z2=[],ye=b.contours=[],je=0;je<Q;je++)M=X[je],ce[je]=new yn(M.x*S,M.y*T,M.lastPointOfContour,M.onCurve);for(var te=0;te<Q;te++)M=ce[te],k||(k=M,ye.push(te)),M.lastPointOfContour?((M.nextPointOnContour=k).prevPointOnContour=M,k=void 0):(N=ce[te+1],(M.nextPointOnContour=N).prevPointOnContour=M);if(!b.inhibitGridFit){if(d.DEBUG){console.log("PROCESSING GLYPH",b.stack);for(var $e=0;$e<Q;$e++)console.log($e,ce[$e].x,ce[$e].y)}if(ce.push(new yn(0,0),new yn(Math.round(y.advanceWidth*S),0)),Xn(b),ce.length-=2,d.DEBUG){console.log("FINISHED GLYPH",b.stack);for(var Xe=0;Xe<Q;Xe++)console.log(Xe,ce[Xe].x,ce[Xe].y)}}},Xn=function(y){var b=y.prog;if(b){var S,T=b.length;for(y.ip=0;y.ip<T;y.ip++){if(d.DEBUG&&y.step++,!(S=ul[b[y.ip]]))throw new Error("unknown instruction: 0x"+Number(b[y.ip]).toString(16));S(y)}}},ul=[gl.bind(void 0,gn),gl.bind(void 0,rn),yl.bind(void 0,gn),yl.bind(void 0,rn),vl.bind(void 0,gn),vl.bind(void 0,rn),bl.bind(void 0,0),bl.bind(void 0,1),wl.bind(void 0,0),wl.bind(void 0,1),function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"SPVFS[]",S,T),y.pv=y.dpv=qo(T,S)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"SPVFS[]",S,T),y.fv=qo(T,S)},function(y){var b=y.stack,S=y.pv;d.DEBUG&&console.log(y.step,"GPV[]"),b.push(16384*S.x),b.push(16384*S.y)},function(y){var b=y.stack,S=y.fv;d.DEBUG&&console.log(y.step,"GFV[]"),b.push(16384*S.x),b.push(16384*S.y)},function(y){y.fv=y.pv,d.DEBUG&&console.log(y.step,"SFVTPV[]")},function(y){var b=y.stack,S=b.pop(),T=b.pop(),M=b.pop(),k=b.pop(),N=b.pop(),X=y.z0,Q=y.z1,ce=X[S],ye=X[T],je=Q[M],te=Q[k],$e=y.z2[N];d.DEBUG&&console.log("ISECT[], ",S,T,M,k,N);var Xe=ce.x,Fe=ce.y,Me=ye.x,Ie=ye.y,ot=je.x,nt=je.y,_t=te.x,lt=te.y,ct=(Xe-Me)*(nt-lt)-(Fe-Ie)*(ot-_t),$t=Xe*Ie-Fe*Me,Tt=ot*lt-nt*_t;$e.x=($t*(ot-_t)-Tt*(Xe-Me))/ct,$e.y=($t*(nt-lt)-Tt*(Fe-Ie))/ct},function(y){y.rp0=y.stack.pop(),d.DEBUG&&console.log(y.step,"SRP0[]",y.rp0)},function(y){y.rp1=y.stack.pop(),d.DEBUG&&console.log(y.step,"SRP1[]",y.rp1)},function(y){y.rp2=y.stack.pop(),d.DEBUG&&console.log(y.step,"SRP2[]",y.rp2)},function(y){var b=y.stack.pop();switch(d.DEBUG&&console.log(y.step,"SZP0[]",b),y.zp0=b){case 0:y.tZone||ms(y),y.z0=y.tZone;break;case 1:y.z0=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var b=y.stack.pop();switch(d.DEBUG&&console.log(y.step,"SZP1[]",b),y.zp1=b){case 0:y.tZone||ms(y),y.z1=y.tZone;break;case 1:y.z1=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var b=y.stack.pop();switch(d.DEBUG&&console.log(y.step,"SZP2[]",b),y.zp2=b){case 0:y.tZone||ms(y),y.z2=y.tZone;break;case 1:y.z2=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var b=y.stack.pop();switch(d.DEBUG&&console.log(y.step,"SZPS[]",b),y.zp0=y.zp1=y.zp2=b,b){case 0:y.tZone||ms(y),y.z0=y.z1=y.z2=y.tZone;break;case 1:y.z0=y.z1=y.z2=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){y.loop=y.stack.pop(),d.DEBUG&&console.log(y.step,"SLOOP[]",y.loop)},function(y){d.DEBUG&&console.log(y.step,"RTG[]"),y.round=fl},function(y){d.DEBUG&&console.log(y.step,"RTHG[]"),y.round=jd},function(y){var b=y.stack.pop();d.DEBUG&&console.log(y.step,"SMD[]",b),y.minDis=b/64},function(y){d.DEBUG&&console.log(y.step,"ELSE[]"),ml(y,!1)},function(y){var b=y.stack.pop();d.DEBUG&&console.log(y.step,"JMPR[]",b),y.ip+=b-1},function(y){var b=y.stack.pop();d.DEBUG&&console.log(y.step,"SCVTCI[]",b),y.cvCutIn=b/64},void 0,void 0,function(y){var b=y.stack;d.DEBUG&&console.log(y.step,"DUP[]"),b.push(b[b.length-1])},fi,function(y){d.DEBUG&&console.log(y.step,"CLEAR[]"),y.stack.length=0},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"SWAP[]"),b.push(S),b.push(T)},function(y){var b=y.stack;d.DEBUG&&console.log(y.step,"DEPTH[]"),b.push(b.length)},function(y){var b=y.stack,S=b.pop();d.DEBUG&&console.log(y.step,"CINDEX[]",S),b.push(b[b.length-S])},function(y){var b=y.stack,S=b.pop();d.DEBUG&&console.log(y.step,"MINDEX[]",S),b.push(b.splice(b.length-S,1)[0])},void 0,void 0,void 0,function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"LOOPCALL[]",S,T);var M=y.ip,k=y.prog;y.prog=y.funcs[S];for(var N=0;N<T;N++)Xn(y),d.DEBUG&&console.log(++y.step,N+1<T?"next loopcall":"done loopcall",N);y.ip=M,y.prog=k},function(y){var b=y.stack.pop();d.DEBUG&&console.log(y.step,"CALL[]",b);var S=y.ip,T=y.prog;y.prog=y.funcs[b],Xn(y),y.ip=S,y.prog=T,d.DEBUG&&console.log(++y.step,"returning from",b)},function(y){if(y.env!=="fpgm")throw new Error("FDEF not allowed here");var b=y.stack,S=y.prog,T=y.ip,M=b.pop(),k=T;for(d.DEBUG&&console.log(y.step,"FDEF[]",M);S[++T]!==45;);y.ip=T,y.funcs[M]=S.slice(k+1,T)},void 0,xl.bind(void 0,0),xl.bind(void 0,1),_l.bind(void 0,gn),_l.bind(void 0,rn),Sl.bind(void 0,0),Sl.bind(void 0,1),jl.bind(void 0,0),jl.bind(void 0,1),Tl.bind(void 0,0),Tl.bind(void 0,1),function(y){for(var b=y.stack,S=y.loop,T=y.fv,M=b.pop()/64,k=y.z2;S--;){var N=b.pop(),X=k[N];d.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-S)+": ":"")+"SHPIX[]",N,M),T.setRelative(X,X,M),T.touch(X)}y.loop=1},function(y){for(var b=y.stack,S=y.rp1,T=y.rp2,M=y.loop,k=y.z0[S],N=y.z1[T],X=y.fv,Q=y.dpv,ce=y.z2;M--;){var ye=b.pop(),je=ce[ye];d.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-M)+": ":"")+"IP[]",ye,S,"<->",T),X.interpolate(je,k,N,Q),X.touch(je)}y.loop=1},El.bind(void 0,0),El.bind(void 0,1),function(y){for(var b=y.stack,S=y.rp0,T=y.z0[S],M=y.loop,k=y.fv,N=y.pv,X=y.z1;M--;){var Q=b.pop(),ce=X[Q];d.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-M)+": ":"")+"ALIGNRP[]",Q),k.setRelative(ce,T,0,N),k.touch(ce)}y.loop=1},function(y){d.DEBUG&&console.log(y.step,"RTDG[]"),y.round=Sd},Cl.bind(void 0,0),Cl.bind(void 0,1),function(y){var b=y.prog,S=y.ip,T=y.stack,M=b[++S];d.DEBUG&&console.log(y.step,"NPUSHB[]",M);for(var k=0;k<M;k++)T.push(b[++S]);y.ip=S},function(y){var b=y.ip,S=y.prog,T=y.stack,M=S[++b];d.DEBUG&&console.log(y.step,"NPUSHW[]",M);for(var k=0;k<M;k++){var N=S[++b]<<8|S[++b];32768&N&&(N=-(1+(65535^N))),T.push(N)}y.ip=b},function(y){var b=y.stack,S=y.store;S=S||(y.store=[]);var T=b.pop(),M=b.pop();d.DEBUG&&console.log(y.step,"WS",T,M),S[M]=T},function(y){var b=y.stack,S=y.store,T=b.pop();d.DEBUG&&console.log(y.step,"RS",T);var M=S&&S[T]||0;b.push(M)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"WCVTP",S,T),y.cvt[T]=S/64},function(y){var b=y.stack,S=b.pop();d.DEBUG&&console.log(y.step,"RCVT",S),b.push(64*y.cvt[S])},Ml.bind(void 0,0),Ml.bind(void 0,1),void 0,Al.bind(void 0,0),Al.bind(void 0,1),function(y){d.DEBUG&&console.log(y.step,"MPPEM[]"),y.stack.push(y.ppem)},void 0,function(y){d.DEBUG&&console.log(y.step,"FLIPON[]"),y.autoFlip=!0},void 0,void 0,function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"LT[]",S,T),b.push(T<S?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"LTEQ[]",S,T),b.push(T<=S?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"GT[]",S,T),b.push(S<T?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"GTEQ[]",S,T),b.push(S<=T?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"EQ[]",S,T),b.push(S===T?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"NEQ[]",S,T),b.push(S!==T?1:0)},function(y){var b=y.stack,S=b.pop();d.DEBUG&&console.log(y.step,"ODD[]",S),b.push(Math.trunc(S)%2?1:0)},function(y){var b=y.stack,S=b.pop();d.DEBUG&&console.log(y.step,"EVEN[]",S),b.push(Math.trunc(S)%2?0:1)},function(y){var b=y.stack.pop();d.DEBUG&&console.log(y.step,"IF[]",b),b||(ml(y,!0),d.DEBUG&&console.log(y.step,"EIF[]"))},function(y){d.DEBUG&&console.log(y.step,"EIF[]")},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"AND[]",S,T),b.push(S&&T?1:0)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"OR[]",S,T),b.push(S||T?1:0)},function(y){var b=y.stack,S=b.pop();d.DEBUG&&console.log(y.step,"NOT[]",S),b.push(S?0:1)},pi.bind(void 0,1),function(y){var b=y.stack.pop();d.DEBUG&&console.log(y.step,"SDB[]",b),y.deltaBase=b},function(y){var b=y.stack.pop();d.DEBUG&&console.log(y.step,"SDS[]",b),y.deltaShift=Math.pow(.5,b)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"ADD[]",S,T),b.push(T+S)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"SUB[]",S,T),b.push(T-S)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"DIV[]",S,T),b.push(64*T/S)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"MUL[]",S,T),b.push(T*S/64)},function(y){var b=y.stack,S=b.pop();d.DEBUG&&console.log(y.step,"ABS[]",S),b.push(Math.abs(S))},function(y){var b=y.stack,S=b.pop();d.DEBUG&&console.log(y.step,"NEG[]",S),b.push(-S)},function(y){var b=y.stack,S=b.pop();d.DEBUG&&console.log(y.step,"FLOOR[]",S),b.push(64*Math.floor(S/64))},function(y){var b=y.stack,S=b.pop();d.DEBUG&&console.log(y.step,"CEILING[]",S),b.push(64*Math.ceil(S/64))},gs.bind(void 0,0),gs.bind(void 0,1),gs.bind(void 0,2),gs.bind(void 0,3),void 0,void 0,void 0,void 0,function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"WCVTF[]",S,T),y.cvt[T]=S*y.ppem/y.font.unitsPerEm},pi.bind(void 0,2),pi.bind(void 0,3),mi.bind(void 0,1),mi.bind(void 0,2),mi.bind(void 0,3),function(y){var b,S=y.stack.pop();switch(d.DEBUG&&console.log(y.step,"SROUND[]",S),y.round=pl,192&S){case 0:b=.5;break;case 64:b=1;break;case 128:b=2;break;default:throw new Error("invalid SROUND value")}switch(y.srPeriod=b,48&S){case 0:y.srPhase=0;break;case 16:y.srPhase=.25*b;break;case 32:y.srPhase=.5*b;break;case 48:y.srPhase=.75*b;break;default:throw new Error("invalid SROUND value")}S&=15,y.srThreshold=S===0?0:(S/8-.5)*b},function(y){var b,S=y.stack.pop();switch(d.DEBUG&&console.log(y.step,"S45ROUND[]",S),y.round=pl,192&S){case 0:b=Math.sqrt(2)/2;break;case 64:b=Math.sqrt(2);break;case 128:b=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(y.srPeriod=b,48&S){case 0:y.srPhase=0;break;case 16:y.srPhase=.25*b;break;case 32:y.srPhase=.5*b;break;case 48:y.srPhase=.75*b;break;default:throw new Error("invalid S45ROUND value")}S&=15,y.srThreshold=S===0?0:(S/8-.5)*b},void 0,void 0,function(y){d.DEBUG&&console.log(y.step,"ROFF[]"),y.round=_d},void 0,function(y){d.DEBUG&&console.log(y.step,"RUTG[]"),y.round=Td},function(y){d.DEBUG&&console.log(y.step,"RDTG[]"),y.round=Ed},fi,fi,void 0,void 0,void 0,void 0,void 0,function(y){var b=y.stack.pop();d.DEBUG&&console.log(y.step,"SCANCTRL[]",b)},Rl.bind(void 0,0),Rl.bind(void 0,1),function(y){var b=y.stack,S=b.pop(),T=0;d.DEBUG&&console.log(y.step,"GETINFO[]",S),1&S&&(T=35),32&S&&(T|=4096),b.push(T)},void 0,function(y){var b=y.stack,S=b.pop(),T=b.pop(),M=b.pop();d.DEBUG&&console.log(y.step,"ROLL[]"),b.push(T),b.push(S),b.push(M)},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"MAX[]",S,T),b.push(Math.max(T,S))},function(y){var b=y.stack,S=b.pop(),T=b.pop();d.DEBUG&&console.log(y.step,"MIN[]",S,T),b.push(Math.min(T,S))},function(y){var b=y.stack.pop();d.DEBUG&&console.log(y.step,"SCANTYPE[]",b)},function(y){var b=y.stack.pop(),S=y.stack.pop();switch(d.DEBUG&&console.log(y.step,"INSTCTRL[]",b,S),b){case 1:return void(y.inhibitGridFit=!!S);case 2:return void(y.ignoreCvt=!!S);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Mn.bind(void 0,1),Mn.bind(void 0,2),Mn.bind(void 0,3),Mn.bind(void 0,4),Mn.bind(void 0,5),Mn.bind(void 0,6),Mn.bind(void 0,7),Mn.bind(void 0,8),An.bind(void 0,1),An.bind(void 0,2),An.bind(void 0,3),An.bind(void 0,4),An.bind(void 0,5),An.bind(void 0,6),An.bind(void 0,7),An.bind(void 0,8),it.bind(void 0,0,0,0,0,0),it.bind(void 0,0,0,0,0,1),it.bind(void 0,0,0,0,0,2),it.bind(void 0,0,0,0,0,3),it.bind(void 0,0,0,0,1,0),it.bind(void 0,0,0,0,1,1),it.bind(void 0,0,0,0,1,2),it.bind(void 0,0,0,0,1,3),it.bind(void 0,0,0,1,0,0),it.bind(void 0,0,0,1,0,1),it.bind(void 0,0,0,1,0,2),it.bind(void 0,0,0,1,0,3),it.bind(void 0,0,0,1,1,0),it.bind(void 0,0,0,1,1,1),it.bind(void 0,0,0,1,1,2),it.bind(void 0,0,0,1,1,3),it.bind(void 0,0,1,0,0,0),it.bind(void 0,0,1,0,0,1),it.bind(void 0,0,1,0,0,2),it.bind(void 0,0,1,0,0,3),it.bind(void 0,0,1,0,1,0),it.bind(void 0,0,1,0,1,1),it.bind(void 0,0,1,0,1,2),it.bind(void 0,0,1,0,1,3),it.bind(void 0,0,1,1,0,0),it.bind(void 0,0,1,1,0,1),it.bind(void 0,0,1,1,0,2),it.bind(void 0,0,1,1,0,3),it.bind(void 0,0,1,1,1,0),it.bind(void 0,0,1,1,1,1),it.bind(void 0,0,1,1,1,2),it.bind(void 0,0,1,1,1,3),it.bind(void 0,1,0,0,0,0),it.bind(void 0,1,0,0,0,1),it.bind(void 0,1,0,0,0,2),it.bind(void 0,1,0,0,0,3),it.bind(void 0,1,0,0,1,0),it.bind(void 0,1,0,0,1,1),it.bind(void 0,1,0,0,1,2),it.bind(void 0,1,0,0,1,3),it.bind(void 0,1,0,1,0,0),it.bind(void 0,1,0,1,0,1),it.bind(void 0,1,0,1,0,2),it.bind(void 0,1,0,1,0,3),it.bind(void 0,1,0,1,1,0),it.bind(void 0,1,0,1,1,1),it.bind(void 0,1,0,1,1,2),it.bind(void 0,1,0,1,1,3),it.bind(void 0,1,1,0,0,0),it.bind(void 0,1,1,0,0,1),it.bind(void 0,1,1,0,0,2),it.bind(void 0,1,1,0,0,3),it.bind(void 0,1,1,0,1,0),it.bind(void 0,1,1,0,1,1),it.bind(void 0,1,1,0,1,2),it.bind(void 0,1,1,0,1,3),it.bind(void 0,1,1,1,0,0),it.bind(void 0,1,1,1,0,1),it.bind(void 0,1,1,1,0,2),it.bind(void 0,1,1,1,0,3),it.bind(void 0,1,1,1,1,0),it.bind(void 0,1,1,1,1,1),it.bind(void 0,1,1,1,1,2),it.bind(void 0,1,1,1,1,3)];var Md=Array.from||function(y){return y.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Nt(y){(y=y||{}).empty||(yo(y.familyName,"When creating a new Font object, familyName is required."),yo(y.styleName,"When creating a new Font object, styleName is required."),yo(y.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),yo(y.ascender,"When creating a new Font object, ascender is required."),yo(y.descender,"When creating a new Font object, descender is required."),yo(y.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:y.familyName||" "},fontSubfamily:{en:y.styleName||" "},fullName:{en:y.fullName||y.familyName+" "+y.styleName},postScriptName:{en:y.postScriptName||(y.familyName+y.styleName).replace(/\s/g,"")},designer:{en:y.designer||" "},designerURL:{en:y.designerURL||" "},manufacturer:{en:y.manufacturer||" "},manufacturerURL:{en:y.manufacturerURL||" "},license:{en:y.license||" "},licenseURL:{en:y.licenseURL||" "},version:{en:y.version||"Version 0.1"},description:{en:y.description||" "},copyright:{en:y.copyright||" "},trademark:{en:y.trademark||" "}},this.unitsPerEm=y.unitsPerEm||1e3,this.ascender=y.ascender,this.descender=y.descender,this.createdTimestamp=y.createdTimestamp,this.tables={os2:{usWeightClass:y.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:y.widthClass||this.usWidthClasses.MEDIUM,fsSelection:y.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new pt.GlyphSet(this,y.glyphs||[]),this.encoding=new ke(this),this.position=new ps(this),this.substitution=new tn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:this.outlinesFormat==="truetype"?this._hinting=new hl(this):void 0}})}function Ol(y,b){var S=JSON.stringify(y),T=256;for(var M in b){var k=parseInt(M);if(k&&!(k<256)){if(JSON.stringify(b[M])===S)return k;T<=k&&(T=k+1)}}return b[T]=y,T}function Ad(y,b,S,T){for(var M=[{name:"nameID_"+y,type:"USHORT",value:Ol(b.name,T)},{name:"flags_"+y,type:"USHORT",value:0}],k=0;k<S.length;++k){var N=S[k].tag;M.push({name:"axis_"+y+" "+N,type:"FIXED",value:b.coordinates[N]<<16})}return M}function Rd(y,b,S,T){var M={},k=new V.Parser(y,b);M.name=T[k.parseUShort()]||{},k.skip("uShort",1),M.coordinates={};for(var N=0;N<S.length;++N)M.coordinates[S[N].tag]=k.parseFixed();return M}Nt.prototype.hasChar=function(y){return this.encoding.charToGlyphIndex(y)!==null},Nt.prototype.charToGlyphIndex=function(y){return this.encoding.charToGlyphIndex(y)},Nt.prototype.charToGlyph=function(y){var b=this.charToGlyphIndex(y),S=this.glyphs.get(b);return S=S||this.glyphs.get(0)},Nt.prototype.stringToGlyphs=function(y,b){b=b||this.defaultRenderOptions;for(var S=Md(y),T=[],M=0;M<S.length;M+=1){var k=S[M];T.push(this.charToGlyphIndex(k))}var N=T.length;if(b.features){var X=b.script||this.substitution.getDefaultScriptName(),Q=[];b.features.liga&&(Q=Q.concat(this.substitution.getFeature("liga",X,b.language))),b.features.rlig&&(Q=Q.concat(this.substitution.getFeature("rlig",X,b.language)));for(var ce=0;ce<N;ce+=1)for(var ye=0;ye<Q.length;ye++){for(var je=Q[ye],te=je.sub,$e=te.length,Xe=0;Xe<$e&&te[Xe]===T[ce+Xe];)Xe++;Xe===$e&&(T.splice(ce,$e,je.by),N=N-$e+1)}}for(var Fe=new Array(N),Me=this.glyphs.get(0),Ie=0;Ie<N;Ie+=1)Fe[Ie]=this.glyphs.get(T[Ie])||Me;return Fe},Nt.prototype.nameToGlyphIndex=function(y){return this.glyphNames.nameToGlyphIndex(y)},Nt.prototype.nameToGlyph=function(y){var b=this.nameToGlyphIndex(y),S=this.glyphs.get(b);return S=S||this.glyphs.get(0)},Nt.prototype.glyphIndexToName=function(y){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(y):""},Nt.prototype.getKerningValue=function(y,b){y=y.index||y,b=b.index||b;var S=this.position.defaultKerningTables;return S?this.position.getKerningValue(S,y,b):this.kerningPairs[y+","+b]||0},Nt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Nt.prototype.forEachGlyph=function(y,b,S,T,M,k){b=b!==void 0?b:0,S=S!==void 0?S:0,T=T!==void 0?T:72,M=M||this.defaultRenderOptions;var N,X=1/this.unitsPerEm*T,Q=this.stringToGlyphs(y,M);if(M.kerning){var ce=M.script||this.position.getDefaultScriptName();N=this.position.getKerningTables(ce,M.language)}for(var ye=0;ye<Q.length;ye+=1){var je=Q[ye];k.call(this,je,b,S,T,M),je.advanceWidth&&(b+=je.advanceWidth*X),M.kerning&&ye<Q.length-1&&(b+=(N?this.position.getKerningValue(N,je.index,Q[ye+1].index):this.getKerningValue(je,Q[ye+1]))*X),M.letterSpacing?b+=M.letterSpacing*T:M.tracking&&(b+=M.tracking/1e3*T)}return b},Nt.prototype.getPath=function(y,b,S,T,M){var k=new me;return this.forEachGlyph(y,b,S,T,M,function(N,X,Q,ce){var ye=N.getPath(X,Q,ce,M,this);k.extend(ye)}),k},Nt.prototype.getPaths=function(y,b,S,T,M){var k=[];return this.forEachGlyph(y,b,S,T,M,function(N,X,Q,ce){var ye=N.getPath(X,Q,ce,M,this);k.push(ye)}),k},Nt.prototype.getAdvanceWidth=function(y,b,S){return this.forEachGlyph(y,0,0,b,S,function(){})},Nt.prototype.draw=function(y,b,S,T,M,k){this.getPath(b,S,T,M,k).draw(y)},Nt.prototype.drawPoints=function(y,b,S,T,M,k){this.forEachGlyph(b,S,T,M,k,function(N,X,Q,ce){N.drawPoints(y,X,Q,ce)})},Nt.prototype.drawMetrics=function(y,b,S,T,M,k){this.forEachGlyph(b,S,T,M,k,function(N,X,Q,ce){N.drawMetrics(y,X,Q,ce)})},Nt.prototype.getEnglishName=function(y){var b=this.names[y];if(b)return b.en},Nt.prototype.validate=function(){var y=this;function b(S){var T=y.getEnglishName(S);T&&T.trim().length}b("fontFamily"),b("weightName"),b("manufacturer"),b("copyright"),b("version"),this.unitsPerEm},Nt.prototype.toTables=function(){return vd.fontToTable(this)},Nt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Nt.prototype.toArrayBuffer=function(){for(var y=this.toTables().encode(),b=new ArrayBuffer(y.length),S=new Uint8Array(b),T=0;T<y.length;T++)S[T]=y[T];return b},Nt.prototype.download=function(y){var b=this.getEnglishName("fontFamily"),S=this.getEnglishName("fontSubfamily");y=y||b.replace(/\s/g,"")+"-"+S+".otf";var T=this.toArrayBuffer();if(typeof window<"u")window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,T.byteLength,function(N){N.root.getFile(y,{create:!0},function(X){X.createWriter(function(Q){var ce=new DataView(T),ye=new Blob([ce],{type:"font/opentype"});Q.write(ye),Q.addEventListener("writeend",function(){location.href=X.toURL()},!1)})})},function(N){throw new Error(N.name+": "+N.message)});else{var M=e("fs"),k=function(N){for(var X=new p(N.byteLength),Q=new Uint8Array(N),ce=0;ce<X.length;++ce)X[ce]=Q[ce];return X}(T);M.writeFileSync(y,k)}},Nt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Nt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Nt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Od={make:function(y,b){var S,T,M,k,N=new Le.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:y.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:y.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*y.axes.length}]);N.offsetToData=N.sizeOf();for(var X=0;X<y.axes.length;X++)N.fields=N.fields.concat((S=X,T=y.axes[X],M=b,k=Ol(T.name,M),[{name:"tag_"+S,type:"TAG",value:T.tag},{name:"minValue_"+S,type:"FIXED",value:T.minValue<<16},{name:"defaultValue_"+S,type:"FIXED",value:T.defaultValue<<16},{name:"maxValue_"+S,type:"FIXED",value:T.maxValue<<16},{name:"flags_"+S,type:"USHORT",value:0},{name:"nameID_"+S,type:"USHORT",value:k}]));for(var Q=0;Q<y.instances.length;Q++)N.fields=N.fields.concat(Ad(Q,y.instances[Q],y.axes,b));return N},parse:function(y,b,S){var T=new V.Parser(y,b),M=T.parseULong();ve.argument(M===65536,"Unsupported fvar table version.");var k=T.parseOffset16();T.skip("uShort",1);for(var N,X,Q,ce,ye,je=T.parseUShort(),te=T.parseUShort(),$e=T.parseUShort(),Xe=T.parseUShort(),Fe=[],Me=0;Me<je;Me++)Fe.push((N=y,X=b+k+Me*te,Q=S,ye=ce=void 0,ce={},ye=new V.Parser(N,X),ce.tag=ye.parseTag(),ce.minValue=ye.parseFixed(),ce.defaultValue=ye.parseFixed(),ce.maxValue=ye.parseFixed(),ye.skip("uShort",1),ce.name=Q[ye.parseUShort()]||{},ce));for(var Ie=[],ot=b+k+je*te,nt=0;nt<$e;nt++)Ie.push(Rd(y,ot+nt*Xe,Fe,S));return{axes:Fe,instances:Ie}}},Vr=new Array(10);Vr[1]=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{posFormat:1,coverage:this.parsePointer(be.coverage),value:this.parseValueRecord()}:b===2?{posFormat:2,coverage:this.parsePointer(be.coverage),values:this.parseValueRecordList()}:void ve.assert(!1,"0x"+y.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Vr[2]=function(){var y=this.offset+this.relativeOffset,b=this.parseUShort();ve.assert(b===1||b===2,"0x"+y.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var S=this.parsePointer(be.coverage),T=this.parseUShort(),M=this.parseUShort();if(b===1)return{posFormat:b,coverage:S,valueFormat1:T,valueFormat2:M,pairSets:this.parseList(be.pointer(be.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(T),value2:this.parseValueRecord(M)}})))};if(b===2){var k=this.parsePointer(be.classDef),N=this.parsePointer(be.classDef),X=this.parseUShort(),Q=this.parseUShort();return{posFormat:b,coverage:S,valueFormat1:T,valueFormat2:M,classDef1:k,classDef2:N,class1Count:X,class2Count:Q,classRecords:this.parseList(X,be.list(Q,function(){return{value1:this.parseValueRecord(T),value2:this.parseValueRecord(M)}}))}}},Vr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Vr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Vr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Vr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Vr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Vr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Vr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Pd=new Array(10),kd={parse:function(y,b){var S=new be(y,b=b||0),T=S.parseVersion(1);return ve.argument(T===1||T===1.1,"Unsupported GPOS table version "+T),T===1?{version:T,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Vr)}:{version:T,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Vr),variations:S.parseFeatureVariationsList()}},make:function(y){return new Le.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Le.ScriptList(y.scripts)},{name:"features",type:"TABLE",value:new Le.FeatureList(y.features)},{name:"lookups",type:"TABLE",value:new Le.LookupList(y.lookups,Pd)}])}},Ld={parse:function(y,b){var S=new V.Parser(y,b),T=S.parseUShort();if(T===0)return function(M){var k={};M.skip("uShort");var N=M.parseUShort();ve.argument(N===0,"Unsupported kern sub-table version."),M.skip("uShort",2);var X=M.parseUShort();M.skip("uShort",3);for(var Q=0;Q<X;Q+=1){var ce=M.parseUShort(),ye=M.parseUShort(),je=M.parseShort();k[ce+","+ye]=je}return k}(S);if(T===1)return function(M){var k={};M.skip("uShort"),1<M.parseULong()&&console.warn("Only the first kern subtable is supported."),M.skip("uLong");var N=255&M.parseUShort();if(M.skip("uShort"),N==0){var X=M.parseUShort();M.skip("uShort",3);for(var Q=0;Q<X;Q+=1){var ce=M.parseUShort(),ye=M.parseUShort(),je=M.parseShort();k[ce+","+ye]=je}}return k}(S);throw new Error("Unsupported kern table version ("+T+").")}},Dd={parse:function(y,b,S,T){for(var M=new V.Parser(y,b),k=T?M.parseUShort:M.parseULong,N=[],X=0;X<S+1;X+=1){var Q=k.call(M);T&&(Q*=2),N.push(Q)}return N}};function Id(y,b){e("fs").readFile(y,function(S,T){if(S)return b(S.message);b(null,il(T))})}function Bd(y,b){var S=new XMLHttpRequest;S.open("get",y,!0),S.responseType="arraybuffer",S.onload=function(){return S.response?b(null,S.response):b("Font could not be loaded: "+S.statusText)},S.onerror=function(){b("Font could not be loaded")},S.send()}function Pl(y,b){for(var S=[],T=12,M=0;M<b;M+=1){var k=V.getTag(y,T),N=V.getULong(y,T+4),X=V.getULong(y,T+8),Q=V.getULong(y,T+12);S.push({tag:k,checksum:N,offset:X,length:Q,compression:!1}),T+=16}return S}function rr(y,b){if(b.compression!=="WOFF")return{data:y,offset:b.offset};var S=new Uint8Array(y.buffer,b.offset+2,b.compressedLength-2),T=new Uint8Array(b.length);if(J(S,T),T.byteLength!==b.length)throw new Error("Decompression error: "+b.tag+" decompressed length doesn't match recorded length");return{data:new DataView(T.buffer,0),offset:0}}function gi(y){var b,S,T,M,k,N,X,Q,ce,ye,je,te,$e,Xe,Fe=new Nt({empty:!0}),Me=new DataView(y,0),Ie=[],ot=V.getTag(Me,0);if(ot===String.fromCharCode(0,1,0,0)||ot==="true"||ot==="typ1")Fe.outlinesFormat="truetype",Ie=Pl(Me,T=V.getUShort(Me,4));else if(ot==="OTTO")Fe.outlinesFormat="cff",Ie=Pl(Me,T=V.getUShort(Me,4));else{if(ot!=="wOFF")throw new Error("Unsupported OpenType signature "+ot);var nt=V.getTag(Me,4);if(nt===String.fromCharCode(0,1,0,0))Fe.outlinesFormat="truetype";else{if(nt!=="OTTO")throw new Error("Unsupported OpenType flavor "+ot);Fe.outlinesFormat="cff"}Ie=function(At,er){for(var Gt=[],Wt=44,nn=0;nn<er;nn+=1){var vo=V.getTag(At,Wt),Yn=V.getULong(At,Wt+4),Pr=V.getULong(At,Wt+8),$n=V.getULong(At,Wt+12),bo=void 0;bo=Pr<$n&&"WOFF",Gt.push({tag:vo,offset:Yn,compression:bo,compressedLength:Pr,length:$n}),Wt+=20}return Gt}(Me,T=V.getUShort(Me,12))}for(var _t=0;_t<T;_t+=1){var lt=Ie[_t],ct=void 0;switch(lt.tag){case"cmap":ct=rr(Me,lt),Fe.tables.cmap=Z.parse(ct.data,ct.offset),Fe.encoding=new Ve(Fe.tables.cmap);break;case"cvt ":ct=rr(Me,lt),Xe=new V.Parser(ct.data,ct.offset),Fe.tables.cvt=Xe.parseShortList(lt.length/2);break;case"fvar":k=lt;break;case"fpgm":ct=rr(Me,lt),Xe=new V.Parser(ct.data,ct.offset),Fe.tables.fpgm=Xe.parseByteList(lt.length);break;case"head":ct=rr(Me,lt),Fe.tables.head=rt.parse(ct.data,ct.offset),Fe.unitsPerEm=Fe.tables.head.unitsPerEm,b=Fe.tables.head.indexToLocFormat;break;case"hhea":ct=rr(Me,lt),Fe.tables.hhea=Ne.parse(ct.data,ct.offset),Fe.ascender=Fe.tables.hhea.ascender,Fe.descender=Fe.tables.hhea.descender,Fe.numberOfHMetrics=Fe.tables.hhea.numberOfHMetrics;break;case"hmtx":ce=lt;break;case"ltag":ct=rr(Me,lt),S=Rt.parse(ct.data,ct.offset);break;case"maxp":ct=rr(Me,lt),Fe.tables.maxp=Dt.parse(ct.data,ct.offset),Fe.numGlyphs=Fe.tables.maxp.numGlyphs;break;case"name":te=lt;break;case"OS/2":ct=rr(Me,lt),Fe.tables.os2=li.parse(ct.data,ct.offset);break;case"post":ct=rr(Me,lt),Fe.tables.post=Ka.parse(ct.data,ct.offset),Fe.glyphNames=new Ke(Fe.tables.post);break;case"prep":ct=rr(Me,lt),Xe=new V.Parser(ct.data,ct.offset),Fe.tables.prep=Xe.parseByteList(lt.length);break;case"glyf":N=lt;break;case"loca":je=lt;break;case"CFF ":M=lt;break;case"kern":ye=lt;break;case"GPOS":X=lt;break;case"GSUB":Q=lt;break;case"meta":$e=lt}}var $t=rr(Me,te);if(Fe.tables.name=$a.parse($t.data,$t.offset,S),Fe.names=Fe.tables.name,N&&je){var Tt=b===0,St=rr(Me,je),Et=Dd.parse(St.data,St.offset,Fe.numGlyphs,Tt),It=rr(Me,N);Fe.glyphs=dl.parse(It.data,It.offset,Et,Fe)}else{if(!M)throw new Error("Font doesn't contain TrueType or CFF outlines.");var kt=rr(Me,M);qe.parse(kt.data,kt.offset,Fe)}var qt=rr(Me,ce);if(jt.parse(qt.data,qt.offset,Fe.numberOfHMetrics,Fe.numGlyphs,Fe.glyphs),function(At){for(var er,Gt=At.tables.cmap.glyphIndexMap,Wt=Object.keys(Gt),nn=0;nn<Wt.length;nn+=1){var vo=Wt[nn],Yn=Gt[vo];(er=At.glyphs.get(Yn)).addUnicode(parseInt(vo))}for(var Pr=0;Pr<At.glyphs.length;Pr+=1)er=At.glyphs.get(Pr),At.cffEncoding?At.isCIDFont?er.name="gid"+Pr:er.name=At.cffEncoding.charset[Pr]:At.glyphNames.names&&(er.name=At.glyphNames.glyphIndexToName(Pr))}(Fe),ye){var Bt=rr(Me,ye);Fe.kerningPairs=Ld.parse(Bt.data,Bt.offset)}else Fe.kerningPairs={};if(X){var Lt=rr(Me,X);Fe.tables.gpos=kd.parse(Lt.data,Lt.offset),Fe.position.init()}if(Q){var Xt=rr(Me,Q);Fe.tables.gsub=Za.parse(Xt.data,Xt.offset)}if(k){var Ut=rr(Me,k);Fe.tables.fvar=Od.parse(Ut.data,Ut.offset,Fe.names)}if($e){var Jt=rr(Me,$e);Fe.tables.meta=Qa.parse(Jt.data,Jt.offset),Fe.metas=Fe.tables.meta}return Fe}d.Font=Nt,d.Glyph=ht,d.Path=me,d.BoundingBox=se,d._parse=V,d.parse=gi,d.load=function(y,b){(typeof window>"u"?Id:Bd)(y,function(S,T){if(S)return b(S);var M;try{M=gi(T)}catch(k){return b(k,null)}return b(null,M)})},d.loadSync=function(y){return gi(il(e("fs").readFileSync(y)))},Object.defineProperty(d,"__esModule",{value:!0})},c(typeof h=="object"&&g!==void 0?h:t.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],240:[function(e,g,h){(function(p){function t(m,f){for(var o=0,r=m.length-1;0<=r;r--){var s=m[r];s==="."?m.splice(r,1):s===".."?(m.splice(r,1),o++):o&&(m.splice(r,1),o--)}if(f)for(;o--;)m.unshift("..");return m}function c(m,f){if(m.filter)return m.filter(f);for(var o=[],r=0;r<m.length;r++)f(m[r],r,m)&&o.push(m[r]);return o}h.resolve=function(){for(var m="",f=!1,o=arguments.length-1;-1<=o&&!f;o--){var r=0<=o?arguments[o]:p.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");r&&(m=r+"/"+m,f=r.charAt(0)==="/")}return(f?"/":"")+(m=t(c(m.split("/"),function(s){return!!s}),!f).join("/"))||"."},h.normalize=function(m){var f=h.isAbsolute(m),o=d(m,-1)==="/";return(m=t(c(m.split("/"),function(r){return!!r}),!f).join("/"))||f||(m="."),m&&o&&(m+="/"),(f?"/":"")+m},h.isAbsolute=function(m){return m.charAt(0)==="/"},h.join=function(){var m=Array.prototype.slice.call(arguments,0);return h.normalize(c(m,function(f,o){if(typeof f!="string")throw new TypeError("Arguments to path.join must be strings");return f}).join("/"))},h.relative=function(m,f){function o(x){for(var _=0;_<x.length&&x[_]==="";_++);for(var E=x.length-1;0<=E&&x[E]==="";E--);return E<_?[]:x.slice(_,E-_+1)}m=h.resolve(m).substr(1),f=h.resolve(f).substr(1);for(var r=o(m.split("/")),s=o(f.split("/")),i=Math.min(r.length,s.length),l=i,v=0;v<i;v++)if(r[v]!==s[v]){l=v;break}var w=[];for(v=l;v<r.length;v++)w.push("..");return(w=w.concat(s.slice(l))).join("/")},h.sep="/",h.delimiter=":",h.dirname=function(m){if(typeof m!="string"&&(m+=""),m.length===0)return".";for(var f=m.charCodeAt(0),o=f===47,r=-1,s=!0,i=m.length-1;1<=i;--i)if((f=m.charCodeAt(i))===47){if(!s){r=i;break}}else s=!1;return r===-1?o?"/":".":o&&r===1?"/":m.slice(0,r)},h.basename=function(m,f){var o=function(r){typeof r!="string"&&(r+="");var s,i=0,l=-1,v=!0;for(s=r.length-1;0<=s;--s)if(r.charCodeAt(s)===47){if(!v){i=s+1;break}}else l===-1&&(v=!1,l=s+1);return l===-1?"":r.slice(i,l)}(m);return f&&o.substr(-1*f.length)===f&&(o=o.substr(0,o.length-f.length)),o},h.extname=function(m){typeof m!="string"&&(m+="");for(var f=-1,o=0,r=-1,s=!0,i=0,l=m.length-1;0<=l;--l){var v=m.charCodeAt(l);if(v===47){if(s)continue;o=l+1;break}r===-1&&(s=!1,r=l+1),v===46?f===-1?f=l:i!==1&&(i=1):f!==-1&&(i=-1)}return f===-1||r===-1||i===0||i===1&&f===r-1&&f===o+1?"":m.slice(f,r)};var d="ab".substr(-1)==="b"?function(m,f,o){return m.substr(f,o)}:function(m,f,o){return f<0&&(f=m.length+f),m.substr(f,o)}}).call(this,e("_process"))},{_process:241}],241:[function(e,g,h){var p,t,c=g.exports={};function d(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function f(_){if(p===setTimeout)return setTimeout(_,0);if((p===d||!p)&&setTimeout)return p=setTimeout,setTimeout(_,0);try{return p(_,0)}catch{try{return p.call(null,_,0)}catch{return p.call(this,_,0)}}}(function(){try{p=typeof setTimeout=="function"?setTimeout:d}catch{p=d}try{t=typeof clearTimeout=="function"?clearTimeout:m}catch{t=m}})();var o,r=[],s=!1,i=-1;function l(){s&&o&&(s=!1,o.length?r=o.concat(r):i=-1,r.length&&v())}function v(){if(!s){var _=f(l);s=!0;for(var E=r.length;E;){for(o=r,r=[];++i<E;)o&&o[i].run();i=-1,E=r.length}o=null,s=!1,function(C){if(t===clearTimeout)return clearTimeout(C);if((t===m||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(C);try{t(C)}catch{try{return t.call(null,C)}catch{return t.call(this,C)}}}(_)}}function w(_,E){this.fun=_,this.array=E}function x(){}c.nextTick=function(_){var E=new Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)E[C-1]=arguments[C];r.push(new w(_,E)),r.length!==1||s||f(v)},w.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=x,c.addListener=x,c.once=x,c.off=x,c.removeListener=x,c.removeAllListeners=x,c.emit=x,c.prependListener=x,c.prependOnceListener=x,c.listeners=function(_){return[]},c.binding=function(_){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(_){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],242:[function(e,g,h){(function(p){if(!p.fetch){var t="URLSearchParams"in p,c="Symbol"in p&&"iterator"in Symbol,d="FileReader"in p&&"Blob"in p&&function(){try{return new Blob,!0}catch{return!1}}(),m="FormData"in p,f="ArrayBuffer"in p;if(f)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(D){return D&&DataView.prototype.isPrototypeOf(D)},s=ArrayBuffer.isView||function(D){return D&&-1<o.indexOf(Object.prototype.toString.call(D))};_.prototype.append=function(D,W){D=v(D),W=w(W);var H=this.map[D];this.map[D]=H?H+","+W:W},_.prototype.delete=function(D){delete this.map[v(D)]},_.prototype.get=function(D){return D=v(D),this.has(D)?this.map[D]:null},_.prototype.has=function(D){return this.map.hasOwnProperty(v(D))},_.prototype.set=function(D,W){this.map[v(D)]=w(W)},_.prototype.forEach=function(D,W){for(var H in this.map)this.map.hasOwnProperty(H)&&D.call(W,this.map[H],H,this)},_.prototype.keys=function(){var D=[];return this.forEach(function(W,H){D.push(H)}),x(D)},_.prototype.values=function(){var D=[];return this.forEach(function(W){D.push(W)}),x(D)},_.prototype.entries=function(){var D=[];return this.forEach(function(W,H){D.push([H,W])}),x(D)},c&&(_.prototype[Symbol.iterator]=_.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];R.prototype.clone=function(){return new R(this,{body:this._bodyInit})},I.call(R.prototype),I.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},U.error=function(){var D=new U(null,{status:0,statusText:""});return D.type="error",D};var l=[301,302,303,307,308];U.redirect=function(D,W){if(l.indexOf(W)===-1)throw new RangeError("Invalid status code");return new U(null,{status:W,headers:{location:D}})},p.Headers=_,p.Request=R,p.Response=U,p.fetch=function(D,W){return new Promise(function(H,ae){var le=new R(D,W),J=new XMLHttpRequest;J.onload=function(){var ue,se,me={status:J.status,statusText:J.statusText,headers:(ue=J.getAllResponseHeaders()||"",se=new _,ue.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Ee){var ve=Ee.split(":"),De=ve.shift().trim();if(De){var _e=ve.join(":").trim();se.append(De,_e)}}),se)};me.url="responseURL"in J?J.responseURL:me.headers.get("X-Request-URL");var xe="response"in J?J.response:J.responseText;H(new U(xe,me))},J.onerror=function(){ae(new TypeError("Network request failed"))},J.ontimeout=function(){ae(new TypeError("Network request failed"))},J.open(le.method,le.url,!0),le.credentials==="include"?J.withCredentials=!0:le.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&d&&(J.responseType="blob"),le.headers.forEach(function(ue,se){J.setRequestHeader(se,ue)}),J.send(le._bodyInit===void 0?null:le._bodyInit)})},p.fetch.polyfill=!0}function v(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(D))throw new TypeError("Invalid character in header field name");return D.toLowerCase()}function w(D){return typeof D!="string"&&(D=String(D)),D}function x(D){var W={next:function(){var H=D.shift();return{done:H===void 0,value:H}}};return c&&(W[Symbol.iterator]=function(){return W}),W}function _(D){this.map={},D instanceof _?D.forEach(function(W,H){this.append(H,W)},this):Array.isArray(D)?D.forEach(function(W){this.append(W[0],W[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(W){this.append(W,D[W])},this)}function E(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function C(D){return new Promise(function(W,H){D.onload=function(){W(D.result)},D.onerror=function(){H(D.error)}})}function A(D){var W=new FileReader,H=C(W);return W.readAsArrayBuffer(D),H}function O(D){if(D.slice)return D.slice(0);var W=new Uint8Array(D.byteLength);return W.set(new Uint8Array(D)),W.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(D){if(this._bodyInit=D)if(typeof D=="string")this._bodyText=D;else if(d&&Blob.prototype.isPrototypeOf(D))this._bodyBlob=D;else if(m&&FormData.prototype.isPrototypeOf(D))this._bodyFormData=D;else if(t&&URLSearchParams.prototype.isPrototypeOf(D))this._bodyText=D.toString();else if(f&&d&&r(D))this._bodyArrayBuffer=O(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!f||!ArrayBuffer.prototype.isPrototypeOf(D)&&!s(D))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=O(D)}else this._bodyText="";this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d&&(this.blob=function(){var D=E(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?E(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var D,W,H,ae=E(this);if(ae)return ae;if(this._bodyBlob)return D=this._bodyBlob,W=new FileReader,H=C(W),W.readAsText(D),H;if(this._bodyArrayBuffer)return Promise.resolve(function(le){for(var J=new Uint8Array(le),ue=new Array(J.length),se=0;se<J.length;se++)ue[se]=String.fromCharCode(J[se]);return ue.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}function R(D,W){var H,ae,le=(W=W||{}).body;if(D instanceof R){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,W.headers||(this.headers=new _(D.headers)),this.method=D.method,this.mode=D.mode,le||D._bodyInit==null||(le=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=W.credentials||this.credentials||"omit",!W.headers&&this.headers||(this.headers=new _(W.headers)),this.method=(H=W.method||this.method||"GET",ae=H.toUpperCase(),-1<i.indexOf(ae)?ae:H),this.mode=W.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&le)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(le)}function L(D){var W=new FormData;return D.trim().split("&").forEach(function(H){if(H){var ae=H.split("="),le=ae.shift().replace(/\+/g," "),J=ae.join("=").replace(/\+/g," ");W.append(decodeURIComponent(le),decodeURIComponent(J))}}),W}function U(D,W){W=W||{},this.type="default",this.status=W.status===void 0?200:W.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in W?W.statusText:"OK",this.headers=new _(W.headers),this.url=W.url||"",this._initBody(D)}})(typeof self<"u"?self:this)},{}],243:[function(e,g,h){e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=d(e("../core/main")),c=d(e("../color/color_conversion"));function d(r){return r&&r.__esModule?r:{default:r}}var m=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],f=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];t.default.prototype._rgbColorName=function(r){var s=c.default._rgbaToHSBA(r);return function(i){var l;if(i[0]!==0){i[0]=Math.round(100*i[0]);var v=i[0].toString().split(""),w=v.length-1;v[w]=parseInt(v[w]),v[w]<2.5?v[w]=0:2.5<=v[w]&&v[w]<7.5&&(v[w]=5),v.length===2?(v[0]=parseInt(v[0]),7.5<=v[w]&&(v[w]=0,v[0]=v[0]+1),i[0]=10*v[0]+v[1]):7.5<=v[w]?i[0]=10:i[0]=v[w]}i[2]=i[2]/255;for(var x=i.length-1;1<=x;x--)i[x]<=.25?i[x]=0:.25<i[x]&&i[x]<.75?i[x]=.5:i[x]=1;if(i[0]===0&&i[1]===0&&i[2]===1){for(var _=2;0<=_;_--)p[_]=Math.round(1e4*p[_])/1e4;for(var E=0;E<m.length;E++){if(m[E].h===p[0]&&m[E].s===p[1]&&m[E].b===p[2]){l=m[E].name;break}l="white"}}else for(var C=0;C<f.length;C++)if(f[C].h===i[0]&&f[C].s===i[1]&&f[C].b===i[2]){l=f[C].name;break}return l}([(p=s)[0],s[1],s[2]])};var o=t.default;h.default=o},{"../color/color_conversion":249,"../core/main":264,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],244:[function(e,g,h){e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p},c="_Description",d="_fallbackDesc",m="_fallbackTable",f="_Label",o="_labelDesc",r="_labelTable";function s(l){if(l==="label"||l==="fallback")throw new Error("description should not be LABEL or FALLBACK");return l.endsWith(".")||l.endsWith(";")||l.endsWith(",")||l.endsWith("?")||l.endsWith("!")||(l+="."),l}t.default.prototype.describe=function(l,v){if(t.default._validateParameters("describe",arguments),typeof l=="string"){var w=this.canvas.id;l=s(l),this.dummyDOM||(this.dummyDOM=document.getElementById(w).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==l&&(this.descriptions.fallback.innerHTML=l):this._describeHTML("fallback",l),v===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==l&&(this.descriptions.label.innerHTML=l):this._describeHTML("label",l))}},t.default.prototype.describeElement=function(l,v,w){if(t.default._validateParameters("describeElement",arguments),typeof v=="string"&&typeof l=="string"){var x=this.canvas.id;v=s(v);var _=function(C){if(C==="label"||C==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return C.endsWith(".")||C.endsWith(";")||C.endsWith(",")?C=C.replace(/.$/,":"):C.endsWith(":")||(C+=":"),C}(l);l=l.replace(/[^a-zA-Z0-9]/g,"");var E='<th scope="row">'.concat(_,"</th><td>").concat(v,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(x).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[l]?this.descriptions.fallbackElements[l].innerHTML!==E&&(this.descriptions.fallbackElements[l].innerHTML=E):this._describeElementHTML("fallback",l,E),w===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[l]?this.descriptions.labelElements[l].innerHTML!==E&&(this.descriptions.labelElements[l].innerHTML=E):this._describeElementHTML("label",l,E))}},t.default.prototype._describeHTML=function(l,v){var w=this.canvas.id;if(l==="fallback"){if(this.dummyDOM.querySelector("#".concat(w+c)))this.dummyDOM.querySelector("#"+w+m).insertAdjacentHTML("beforebegin",'<p id="'.concat(w+d,'"></p>'));else{var x='<div id="'.concat(w).concat(c,'" role="region" aria-label="Canvas Description"><p id="').concat(w).concat(d,'"></p></div>');this.dummyDOM.querySelector("#".concat(w,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutput")).insertAdjacentHTML("beforebegin",x):this.dummyDOM.querySelector("#".concat(w)).innerHTML=x}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(w).concat(d)),void(this.descriptions.fallback.innerHTML=v)}if(l==="label"){if(this.dummyDOM.querySelector("#".concat(w+f)))this.dummyDOM.querySelector("#".concat(w+r))&&this.dummyDOM.querySelector("#".concat(w+r)).insertAdjacentHTML("beforebegin",'<p id="'.concat(w).concat(o,'"></p>'));else{var _='<div id="'.concat(w).concat(f,'" class="p5Label"><p id="').concat(w).concat(o,'"></p></div>');this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+w).insertAdjacentHTML("afterend",_)}return this.descriptions.label=this.dummyDOM.querySelector("#"+w+o),void(this.descriptions.label.innerHTML=v)}},t.default.prototype._describeElementHTML=function(l,v,w){var x=this.canvas.id;if(l==="fallback"){if(this.dummyDOM.querySelector("#".concat(x+c)))this.dummyDOM.querySelector("#"+x+m)||this.dummyDOM.querySelector("#"+x+d).insertAdjacentHTML("afterend",'<table id="'.concat(x).concat(m,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var _='<div id="'.concat(x).concat(c,'" role="region" aria-label="Canvas Description"><table id="').concat(x).concat(m,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(x,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutput")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+x).innerHTML=_}var E=document.createElement("tr");return E.id=x+"_fte_"+v,this.dummyDOM.querySelector("#"+x+m).appendChild(E),this.descriptions.fallbackElements[v]=this.dummyDOM.querySelector("#".concat(x).concat("_fte_").concat(v)),void(this.descriptions.fallbackElements[v].innerHTML=w)}if(l==="label"){if(this.dummyDOM.querySelector("#".concat(x+f)))this.dummyDOM.querySelector("#".concat(x+r))||this.dummyDOM.querySelector("#"+x+o).insertAdjacentHTML("afterend",'<table id="'.concat(x+r,'"></table>'));else{var C='<div id="'.concat(x).concat(f,'" class="p5Label"><table id="').concat(x).concat(r,'"></table></div>');this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",C):this.dummyDOM.querySelector("#"+x).insertAdjacentHTML("afterend",C)}var A=document.createElement("tr");A.id=x+"_lte_"+v,this.dummyDOM.querySelector("#"+x+r).appendChild(A),this.descriptions.labelElements[v]=this.dummyDOM.querySelector("#".concat(x).concat("_lte_").concat(v)),this.descriptions.labelElements[v].innerHTML=w}};var i=t.default;h.default=i},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],245:[function(e,g,h){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.prototype._updateGridOutput=function(d){if(this.dummyDOM.querySelector("#".concat(d,"_summary"))){var m=this._accessibleOutputs[d],f=function(s,i){var l="",v="",w=0;for(var x in i){var _=0;for(var E in i[x]){var C='<li id="'.concat(s,"shape").concat(w,'">').concat(i[x][E].color," ").concat(x,",");x==="line"?C+=" location = ".concat(i[x][E].pos,", length = ").concat(i[x][E].length," pixels"):(C+=" location = ".concat(i[x][E].pos),x!=="point"&&(C+=", area = ".concat(i[x][E].area," %")),C+="</li>"),l+=C,_++,w++}v=1<_?"".concat(v," ").concat(_," ").concat(x,"s"):"".concat(v," ").concat(_," ").concat(x)}return{numShapes:[w,v],details:l}}(d,this.ingredients.shapes),o=function(s,i,l,v){var w="".concat(i," canvas, ").concat(l," by ").concat(v," pixels, contains ").concat(s[0]);return w=s[0]===1?"".concat(w," shape: ").concat(s[1]):"".concat(w," shapes: ").concat(s[1]),w}(f.numShapes,this.ingredients.colors.background,this.width,this.height),r=function(s,i){var l=0,v="",w=Array.apply(null,Array(10)).map(function(){});for(var x in w)w[x]=Array.apply(null,Array(10)).map(function(){});for(var _ in i)for(var E in i[_]){var C=void 0;C=_!=="line"?'<a href="#'.concat(s,"shape").concat(l,'">').concat(i[_][E].color," ").concat(_,"</a>"):'<a href="#'.concat(s,"shape").concat(l,'">').concat(i[_][E].color," ").concat(_," midpoint</a>"),w[i[_][E].loc.locY][i[_][E].loc.locX]?w[i[_][E].loc.locY][i[_][E].loc.locX]=w[i[_][E].loc.locY][i[_][E].loc.locX]+"  "+C:w[i[_][E].loc.locY][i[_][E].loc.locX]=C,l++}for(var A in w){var O="<tr>";for(var I in w[A])O+="<td>",w[A][I]!==void 0&&(O+=w[A][I]),O+="</td>";v=v+O+"</tr>"}return v}(d,this.ingredients.shapes);o!==m.summary.innerHTML&&(m.summary.innerHTML=o),r!==m.map.innerHTML&&(m.map.innerHTML=r),f.details!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=f.details),this._accessibleOutputs[d]=m}};var c=t.default;h.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],246:[function(e,g,h){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};function c(f,o,r){return f[0]<.4*o?f[1]<.4*r?"top left":f[1]>.6*r?"bottom left":"mid left":f[0]>.6*o?f[1]<.4*r?"top right":f[1]>.6*r?"bottom right":"mid right":f[1]<.4*r?"top middle":f[1]>.6*r?"bottom middle":"middle"}function d(f,o,r){var s=Math.floor(f[0]/o*10),i=Math.floor(f[1]/r*10);return s===10&&--s,i===10&&--i,{locX:s,locY:i}}t.default.prototype.textOutput=function(f){t.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),f===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},t.default.prototype.gridOutput=function(f){t.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),f===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},t.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},t.default.prototype._createOutput=function(f,o){var r,s,i,l=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode);var v="";o==="Fallback"?(r=l+f,s=l+"accessibleOutput",this.dummyDOM.querySelector("#".concat(s))||(this.dummyDOM.querySelector("#".concat(l,"_Description"))?this.dummyDOM.querySelector("#".concat(l,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(l)).innerHTML='<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>'))):o==="Label"&&(r=l+f+(v=o),s=l+"accessibleOutput"+o,this.dummyDOM.querySelector("#".concat(s))||(this.dummyDOM.querySelector("#".concat(l,"_Label"))?this.dummyDOM.querySelector("#".concat(l,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(s,'"></div>')):this.dummyDOM.querySelector("#".concat(l)).insertAdjacentHTML("afterend",'<div id="'.concat(s,'"></div>')))),this._accessibleOutputs[r]={},f==="textOutput"?(v="#".concat(l,"gridOutput").concat(v),i='<div id="'.concat(r,'">Text Output<div id="').concat(r,'Summary" aria-label="text output summary"><p id="').concat(r,'_summary"></p><ul id="').concat(r,'_list"></ul></div><table id="').concat(r,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(v)?this.dummyDOM.querySelector(v).insertAdjacentHTML("beforebegin",i):this.dummyDOM.querySelector("#".concat(s)).innerHTML=i,this._accessibleOutputs[r].list=this.dummyDOM.querySelector("#".concat(r,"_list"))):f==="gridOutput"&&(v="#".concat(l,"textOutput").concat(v),i='<div id="'.concat(r,'">Grid Output<p id="').concat(r,'_summary" aria-label="grid output summary"><table id="').concat(r,'_map" summary="grid output content"></table><ul id="').concat(r,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(v)?this.dummyDOM.querySelector(v).insertAdjacentHTML("afterend",i):this.dummyDOM.querySelector("#".concat(s)).innerHTML=i,this._accessibleOutputs[r].map=this.dummyDOM.querySelector("#".concat(r,"_map"))),this._accessibleOutputs[r].shapeDetails=this.dummyDOM.querySelector("#".concat(r,"_shapeDetails")),this._accessibleOutputs[r].summary=this.dummyDOM.querySelector("#".concat(r,"_summary"))},t.default.prototype._updateAccsOutput=function(){var f=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(f+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(f+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(f+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(f+"gridOutputLabel"))},t.default.prototype._accsBackground=function(f){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==f&&(this.ingredients.colors.backgroundRGBA=f,this.ingredients.colors.background=this._rgbColorName(f))},t.default.prototype._accsCanvasColors=function(f,o){f==="fill"?this.ingredients.colors.fillRGBA!==o&&(this.ingredients.colors.fillRGBA=o,this.ingredients.colors.fill=this._rgbColorName(o)):f==="stroke"&&this.ingredients.colors.strokeRGBA!==o&&(this.ingredients.colors.strokeRGBA=o,this.ingredients.colors.stroke=this._rgbColorName(o))},t.default.prototype._accsOutput=function(f,o){f==="ellipse"&&o[2]===o[3]?f="circle":f==="rectangle"&&o[2]===o[3]&&(f="square");var r={},s=!0,i=function(x,_){var E,C;return C=x==="rectangle"||x==="ellipse"||x==="arc"||x==="circle"||x==="square"?(E=Math.round(_[0]+_[2]/2),Math.round(_[1]+_[3]/2)):x==="triangle"?(E=(_[0]+_[2]+_[4])/3,(_[1]+_[3]+_[5])/3):x==="quadrilateral"?(E=(_[0]+_[2]+_[4]+_[6])/4,(_[1]+_[3]+_[5]+_[7])/4):x==="line"?(E=(_[0]+_[2])/2,(_[1]+_[3])/2):(E=_[0],_[1]),[E,C]}(f,o);if(f==="line"){r.color=this.ingredients.colors.stroke,r.length=Math.round(this.dist(o[0],o[1],o[2],o[3]));var l=c([o[0],[1]],this.width,this.height),v=c([o[2],[3]],this.width,this.height);r.loc=d(i,this.width,this.height),r.pos=l===v?"at ".concat(l):"from ".concat(l," to ").concat(v)}else f==="point"?r.color=this.ingredients.colors.stroke:(r.color=this.ingredients.colors.fill,r.area=function(x,_,E,C){var A=0;if(x==="arc"){var O=((_[5]-_[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(A=O*_[2]*_[3]/8,_[6]==="open"||_[6]==="chord"){var I=_[0],R=_[1],L=_[0]+_[2]/2*Math.cos(_[4]).toFixed(2),U=_[1]+_[3]/2*Math.sin(_[4]).toFixed(2),D=_[0]+_[2]/2*Math.cos(_[5]).toFixed(2),W=_[1]+_[3]/2*Math.sin(_[5]).toFixed(2),H=Math.abs(I*(U-W)+L*(W-R)+D*(R-U))/2;O>Math.PI?A+=H:A-=H}}else x==="ellipse"||x==="circle"?A=3.14*_[2]/2*_[3]/2:x==="line"||x==="point"?A=0:x==="quadrilateral"?A=Math.abs((_[6]+_[0])*(_[7]-_[1])+(_[0]+_[2])*(_[1]-_[3])+(_[2]+_[4])*(_[3]-_[5])+(_[4]+_[6])*(_[5]-_[7]))/2:x==="rectangle"||x==="square"?A=_[2]*_[3]:x==="triangle"&&(A=Math.abs(_[0]*(_[3]-_[5])+_[2]*(_[5]-_[1])+_[4]*(_[1]-_[3]))/2);return Math.round(100*A/(E*C))}(f,o,this.width,this.height)),r.pos=c(i,this.width,this.height),r.loc=d(i,this.width,this.height);if(this.ingredients.shapes[f]){if(this.ingredients.shapes[f]!==[r]){for(var w in this.ingredients.shapes[f])JSON.stringify(this.ingredients.shapes[f][w])===JSON.stringify(r)&&(s=!1);s===!0&&this.ingredients.shapes[f].push(r)}}else this.ingredients.shapes[f]=[r]};var m=t.default;h.default=m},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":172}],247:[function(e,g,h){e("core-js/modules/es.array.concat"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.prototype._updateTextOutput=function(d){if(this.dummyDOM.querySelector("#".concat(d,"_summary"))){var m=this._accessibleOutputs[d],f=function(s,i){var l="",v=0;for(var w in i)for(var x in i[w]){var _='<li><a href="#'.concat(s,"shape").concat(v,'">').concat(i[w][x].color," ").concat(w,"</a>");w==="line"?_+=", ".concat(i[w][x].pos,", ").concat(i[w][x].length," pixels long.</li>"):(_+=", at ".concat(i[w][x].pos),w!=="point"&&(_+=", covering ".concat(i[w][x].area,"% of the canvas")),_+=".</li>"),l+=_,v++}return{numShapes:v,listShapes:l}}(d,this.ingredients.shapes),o=function(s,i,l,v){var w="Your output is a, ".concat(l," by ").concat(v," pixels, ").concat(i," canvas containing the following");return w=s===1?"".concat(w," shape:"):"".concat(w," ").concat(s," shapes:"),w}(f.numShapes,this.ingredients.colors.background,this.width,this.height),r=function(s,i){var l="",v=0;for(var w in i)for(var x in i[w]){var _='<tr id="'.concat(s,"shape").concat(v,'"><th>').concat(i[w][x].color," ").concat(w,"</th>");w==="line"?_+="<td>location = ".concat(i[w][x].pos,"</td><td>length = ").concat(i[w][x].length," pixels</td></tr>"):(_+="<td>location = ".concat(i[w][x].pos,"</td>"),w!=="point"&&(_+="<td> area = ".concat(i[w][x].area,"%</td>")),_+="</tr>"),l+=_,v++}return l}(d,this.ingredients.shapes);o!==m.summary.innerHTML&&(m.summary.innerHTML=o),f.listShapes!==m.list.innerHTML&&(m.list.innerHTML=f.listShapes),r!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=r),this._accessibleOutputs[d]=m}};var c=t.default;h.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149}],248:[function(e,g,h){var p,t=(p=e("./core/main"))&&p.__esModule?p:{default:p};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),g.exports=t.default},{"./accessibility/color_namer":243,"./accessibility/describe":244,"./accessibility/gridOutput":245,"./accessibility/outputs":246,"./accessibility/textOutput":247,"./color/color_conversion":249,"./color/creating_reading":250,"./color/p5.Color":251,"./color/setting":252,"./core/constants":253,"./core/environment":254,"./core/friendly_errors/fes_core":255,"./core/friendly_errors/file_errors":256,"./core/friendly_errors/sketch_reader":257,"./core/friendly_errors/stacktrace":258,"./core/friendly_errors/validate_params":259,"./core/helpers":260,"./core/init":261,"./core/legacy":263,"./core/main":264,"./core/p5.Element":265,"./core/p5.Graphics":266,"./core/p5.Renderer":267,"./core/p5.Renderer2D":268,"./core/preload":269,"./core/rendering":270,"./core/shape/2d_primitives":271,"./core/shape/attributes":272,"./core/shape/curves":273,"./core/shape/vertex":274,"./core/shim":275,"./core/structure":276,"./core/transform":277,"./data/local_storage.js":278,"./data/p5.TypedDict":279,"./dom/dom":280,"./events/acceleration":281,"./events/keyboard":282,"./events/mouse":283,"./events/touch":284,"./image/filters":285,"./image/image":286,"./image/loading_displaying":287,"./image/p5.Image":288,"./image/pixels":289,"./io/files":290,"./io/p5.Table":291,"./io/p5.TableRow":292,"./io/p5.XML":293,"./math/calculation":294,"./math/math":295,"./math/noise":296,"./math/p5.Vector":297,"./math/random":298,"./math/trigonometry":299,"./typography/attributes":300,"./typography/loading_displaying":301,"./typography/p5.Font":302,"./utilities/array_functions":303,"./utilities/conversion":304,"./utilities/string_functions":305,"./utilities/time_date":306,"./webgl/3d_primitives":307,"./webgl/interaction":308,"./webgl/light":309,"./webgl/loading":310,"./webgl/material":311,"./webgl/p5.Camera":312,"./webgl/p5.Geometry":313,"./webgl/p5.Matrix":314,"./webgl/p5.RenderBuffer":315,"./webgl/p5.RendererGL":318,"./webgl/p5.RendererGL.Immediate":316,"./webgl/p5.RendererGL.Retained":317,"./webgl/p5.Shader":319,"./webgl/p5.Texture":320,"./webgl/text":321}],249:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.ColorConversion={},t.default.ColorConversion._hsbaToHSLA=function(d){var m=d[0],f=d[1],o=d[2],r=(2-f)*o/2;return r!=0&&(r==1?f=0:r<.5?f/=2-f:f=f*o/(2-2*r)),[m,f,r,d[3]]},t.default.ColorConversion._hsbaToRGBA=function(d){var m=6*d[0],f=d[1],o=d[2],r=[];if(f===0)r=[o,o,o,d[3]];else{var s,i,l,v=Math.floor(m),w=o*(1-f),x=o*(1-f*(m-v)),_=o*(1-f*(1+v-m));l=v===1?(s=x,i=o,w):v===2?(s=w,i=o,_):v===3?(s=w,i=x,o):v===4?(s=_,i=w,o):v===5?(s=o,i=w,x):(s=o,i=_,w),r=[s,i,l,d[3]]}return r},t.default.ColorConversion._hslaToHSBA=function(d){var m,f=d[0],o=d[1],r=d[2];return[f,o=2*((m=r<.5?(1+o)*r:r+o-r*o)-r)/m,m,d[3]]},t.default.ColorConversion._hslaToRGBA=function(d){var m=6*d[0],f=d[1],o=d[2],r=[];if(f===0)r=[o,o,o,d[3]];else{var s,i=2*o-(s=o<.5?(1+f)*o:o+f-o*f),l=function(v,w,x){return v<0?v+=6:6<=v&&(v-=6),v<1?w+(x-w)*v:v<3?x:v<4?w+(x-w)*(4-v):w};r=[l(2+m,i,s),l(m,i,s),l(m-2,i,s),d[3]]}return r},t.default.ColorConversion._rgbaToHSBA=function(d){var m,f,o=d[0],r=d[1],s=d[2],i=Math.max(o,r,s),l=i-Math.min(o,r,s);return l==0?f=m=0:(f=l/i,o===i?m=(r-s)/l:r===i?m=2+(s-o)/l:s===i&&(m=4+(o-r)/l),m<0?m+=6:6<=m&&(m-=6)),[m/6,f,i,d[3]]},t.default.ColorConversion._rgbaToHSLA=function(d){var m,f,o=d[0],r=d[1],s=d[2],i=Math.max(o,r,s),l=Math.min(o,r,s),v=i+l,w=i-l;return w==0?f=m=0:(f=v<1?w/v:w/(2-v),o===i?m=(r-s)/w:r===i?m=2+(s-o)/w:s===i&&(m=4+(o-r)/w),m<0?m+=6:6<=m&&(m-=6)),[m/6,f,v/2,d[3]]};var c=t.default.ColorConversion;h.default=c},{"../core/main":264}],250:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}e("core-js/modules/es.array.map"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=m();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),c.default.prototype.alpha=function(o){return c.default._validateParameters("alpha",arguments),this.color(o)._getAlpha()},c.default.prototype.blue=function(o){return c.default._validateParameters("blue",arguments),this.color(o)._getBlue()},c.default.prototype.brightness=function(o){return c.default._validateParameters("brightness",arguments),this.color(o)._getBrightness()},c.default.prototype.color=function(){if(c.default._validateParameters("color",arguments),arguments[0]instanceof c.default.Color)return arguments[0];var o=arguments[0]instanceof Array?arguments[0]:arguments;return new c.default.Color(this,o)},c.default.prototype.green=function(o){return c.default._validateParameters("green",arguments),this.color(o)._getGreen()},c.default.prototype.hue=function(o){return c.default._validateParameters("hue",arguments),this.color(o)._getHue()},c.default.prototype.lerpColor=function(o,r,s){c.default._validateParameters("lerpColor",arguments);var i,l,v,w,x,_,E=this._colorMode,C=this._colorMaxes;if(E===d.RGB)x=o.levels.map(function(A){return A/255}),_=r.levels.map(function(A){return A/255});else if(E===d.HSB)o._getBrightness(),r._getBrightness(),x=o.hsba,_=r.hsba;else{if(E!==d.HSL)throw new Error("".concat(E,"cannot be used for interpolation."));o._getLightness(),r._getLightness(),x=o.hsla,_=r.hsla}return s=Math.max(Math.min(s,1),0),this.lerp===void 0&&(this.lerp=function(A,O,I){return I*(O-A)+A}),i=this.lerp(x[0],_[0],s),l=this.lerp(x[1],_[1],s),v=this.lerp(x[2],_[2],s),w=this.lerp(x[3],_[3],s),i*=C[E][0],l*=C[E][1],v*=C[E][2],w*=C[E][3],this.color(i,l,v,w)},c.default.prototype.lightness=function(o){return c.default._validateParameters("lightness",arguments),this.color(o)._getLightness()},c.default.prototype.red=function(o){return c.default._validateParameters("red",arguments),this.color(o)._getRed()},c.default.prototype.saturation=function(o){return c.default._validateParameters("saturation",arguments),this.color(o)._getSaturation()};var f=c.default;h.default=f},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.map":161}],251:[function(e,g,h){function p(x){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.trim"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t=f(e("../core/main")),c=function(x){if(x&&x.__esModule)return x;if(x===null||p(x)!=="object"&&typeof x!="function")return{default:x};var _=m();if(_&&_.has(x))return _.get(x);var E={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in x)if(Object.prototype.hasOwnProperty.call(x,A)){var O=C?Object.getOwnPropertyDescriptor(x,A):null;O&&(O.get||O.set)?Object.defineProperty(E,A,O):E[A]=x[A]}return E.default=x,_&&_.set(x,E),E}(e("../core/constants")),d=f(e("./color_conversion"));function m(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return m=function(){return x},x}function f(x){return x&&x.__esModule?x:{default:x}}t.default.Color=function(x,_){if(this._storeModeAndMaxes(x._colorMode,x._colorMaxes),this.mode!==c.RGB&&this.mode!==c.HSL&&this.mode!==c.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=t.default.Color._parseInputs.apply(this,_),this._calculateLevels(),this},t.default.Color.prototype.toString=function(x){var _=this.levels,E=this._array,C=E[3];switch(x){case"#rrggbb":return"#".concat(_[0]<16?"0".concat(_[0].toString(16)):_[0].toString(16),_[1]<16?"0".concat(_[1].toString(16)):_[1].toString(16),_[2]<16?"0".concat(_[2].toString(16)):_[2].toString(16));case"#rrggbbaa":return"#".concat(_[0]<16?"0".concat(_[0].toString(16)):_[0].toString(16),_[1]<16?"0".concat(_[1].toString(16)):_[1].toString(16),_[2]<16?"0".concat(_[2].toString(16)):_[2].toString(16),_[3]<16?"0".concat(_[3].toString(16)):_[3].toString(16));case"#rgb":return"#".concat(Math.round(15*E[0]).toString(16),Math.round(15*E[1]).toString(16),Math.round(15*E[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*E[0]).toString(16),Math.round(15*E[1]).toString(16),Math.round(15*E[2]).toString(16),Math.round(15*E[3]).toString(16));case"rgb":return"rgb(".concat(_[0],", ",_[1],", ",_[2],")");case"rgb%":return"rgb(".concat((100*E[0]).toPrecision(3),"%, ",(100*E[1]).toPrecision(3),"%, ",(100*E[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*E[0]).toPrecision(3),"%, ",(100*E[1]).toPrecision(3),"%, ",(100*E[2]).toPrecision(3),"%, ",(100*E[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",C,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*C).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",C,")");case"hsla%":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*C).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(_[0],",",_[1],",",_[2],",",C,")")}},t.default.Color.prototype.setRed=function(x){this._array[0]=x/this.maxes[c.RGB][0],this._calculateLevels()},t.default.Color.prototype.setGreen=function(x){this._array[1]=x/this.maxes[c.RGB][1],this._calculateLevels()},t.default.Color.prototype.setBlue=function(x){this._array[2]=x/this.maxes[c.RGB][2],this._calculateLevels()},t.default.Color.prototype.setAlpha=function(x){this._array[3]=x/this.maxes[this.mode][3],this._calculateLevels()},t.default.Color.prototype._calculateLevels=function(){for(var x=this._array,_=this.levels=new Array(x.length),E=x.length-1;0<=E;--E)_[E]=Math.round(255*x[E]);this.hsla=null,this.hsba=null},t.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},t.default.Color.prototype._storeModeAndMaxes=function(x,_){this.mode=x,this.maxes=_},t.default.Color.prototype._getMode=function(){return this.mode},t.default.Color.prototype._getMaxes=function(){return this.maxes},t.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[c.RGB][2]},t.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]},t.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[c.RGB][1]},t.default.Color.prototype._getHue=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])},t.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]},t.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[c.RGB][0]},t.default.Color.prototype._getSaturation=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])};var o={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},r=/\s*/,s=/(\d{1,3})/,i=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,l=new RegExp("".concat(i.source,"%")),v={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",s.source,",",s.source,",",s.source,"\\)$"].join(r.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(r.source),"i"),RGBA:new RegExp(["^rgba\\(",s.source,",",s.source,",",s.source,",",i.source,"\\)$"].join(r.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",i.source,"\\)$"].join(r.source),"i"),HSL:new RegExp(["^hsl\\(",s.source,",",l.source,",",l.source,"\\)$"].join(r.source),"i"),HSLA:new RegExp(["^hsla\\(",s.source,",",l.source,",",l.source,",",i.source,"\\)$"].join(r.source),"i"),HSB:new RegExp(["^hsb\\(",s.source,",",l.source,",",l.source,"\\)$"].join(r.source),"i"),HSBA:new RegExp(["^hsba\\(",s.source,",",l.source,",",l.source,",",i.source,"\\)$"].join(r.source),"i")};t.default.Color._parseInputs=function(x,_,E,C){var A,O=arguments.length,I=this.mode,R=this.maxes[I],L=[];if(3<=O){for(L[0]=x/R[0],L[1]=_/R[1],L[2]=E/R[2],L[3]=typeof C=="number"?C/R[3]:1,A=L.length-1;0<=A;--A){var U=L[A];U<0?L[A]=0:1<U&&(L[A]=1)}return I===c.HSL?d.default._hslaToRGBA(L):I===c.HSB?d.default._hsbaToRGBA(L):L}if(O===1&&typeof x=="string"){var D=x.trim().toLowerCase();if(o[D])return t.default.Color._parseInputs.call(this,o[D]);if(v.HEX3.test(D))return(L=v.HEX3.exec(D).slice(1).map(function(W){return parseInt(W+W,16)/255}))[3]=1,L;if(v.HEX6.test(D))return(L=v.HEX6.exec(D).slice(1).map(function(W){return parseInt(W,16)/255}))[3]=1,L;if(v.HEX4.test(D))return L=v.HEX4.exec(D).slice(1).map(function(W){return parseInt(W+W,16)/255});if(v.HEX8.test(D))return L=v.HEX8.exec(D).slice(1).map(function(W){return parseInt(W,16)/255});if(v.RGB.test(D))return(L=v.RGB.exec(D).slice(1).map(function(W){return W/255}))[3]=1,L;if(v.RGB_PERCENT.test(D))return(L=v.RGB_PERCENT.exec(D).slice(1).map(function(W){return parseFloat(W)/100}))[3]=1,L;if(v.RGBA.test(D))return L=v.RGBA.exec(D).slice(1).map(function(W,H){return H===3?parseFloat(W):W/255});if(v.RGBA_PERCENT.test(D))return L=v.RGBA_PERCENT.exec(D).slice(1).map(function(W,H){return H===3?parseFloat(W):parseFloat(W)/100});if(v.HSL.test(D)?(L=v.HSL.exec(D).slice(1).map(function(W,H){return H===0?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:v.HSLA.test(D)&&(L=v.HSLA.exec(D).slice(1).map(function(W,H){return H===0?parseInt(W,10)/360:H===3?parseFloat(W):parseInt(W,10)/100})),(L=L.map(function(W){return Math.max(Math.min(W,1),0)})).length)return d.default._hslaToRGBA(L);if(v.HSB.test(D)?(L=v.HSB.exec(D).slice(1).map(function(W,H){return H===0?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:v.HSBA.test(D)&&(L=v.HSBA.exec(D).slice(1).map(function(W,H){return H===0?parseInt(W,10)/360:H===3?parseFloat(W):parseInt(W,10)/100})),L.length){for(A=L.length-1;0<=A;--A)L[A]=Math.max(Math.min(L[A],1),0);return d.default._hsbaToRGBA(L)}L=[1,1,1,1]}else{if(O!==1&&O!==2||typeof x!="number")throw new Error("".concat(arguments,"is not a valid color representation."));L[0]=x/R[2],L[1]=x/R[2],L[2]=x/R[2],L[3]=typeof _=="number"?_/R[3]:1,L=L.map(function(W){return Math.max(Math.min(W,1),0)})}return L};var w=t.default.Color;h.default=w},{"../core/constants":253,"../core/main":264,"./color_conversion":249,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.trim":193}],252:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}e("core-js/modules/es.array.fill"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=m();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}e("./p5.Color"),c.default.prototype.background=function(){var o;return(o=this._renderer).background.apply(o,arguments),this},c.default.prototype.clear=function(){var o=(arguments.length<=0?void 0:arguments[0])||0,r=(arguments.length<=1?void 0:arguments[1])||0,s=(arguments.length<=2?void 0:arguments[2])||0,i=(arguments.length<=3?void 0:arguments[3])||0;return this._renderer.clear(o,r,s,i),this},c.default.prototype.colorMode=function(o,r,s,i,l){if(c.default._validateParameters("colorMode",arguments),o===d.RGB||o===d.HSB||o===d.HSL){this._colorMode=o;var v=this._colorMaxes[o];arguments.length===2?(v[0]=r,v[1]=r,v[2]=r,v[3]=r):arguments.length===4?(v[0]=r,v[1]=s,v[2]=i):arguments.length===5&&(v[0]=r,v[1]=s,v[2]=i,v[3]=l)}return this},c.default.prototype.fill=function(){var o;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(o=this._renderer).fill.apply(o,arguments),this},c.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},c.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},c.default.prototype.stroke=function(){var o;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(o=this._renderer).stroke.apply(o,arguments),this},c.default.prototype.erase=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255;return this._renderer.erase(o,r),this},c.default.prototype.noErase=function(){return this._renderer.noErase(),this};var f=c.default;h.default=f},{"../core/constants":253,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.fill":151}],253:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.BEZIER=h.QUADRATIC=h.LINEAR=h._CTX_MIDDLE=h._DEFAULT_LEADMULT=h._DEFAULT_TEXT_FILL=h.WORD=h.CHAR=h.BOLDITALIC=h.BOLD=h.ITALIC=h.NORMAL=h.BLUR=h.ERODE=h.DILATE=h.POSTERIZE=h.INVERT=h.OPAQUE=h.GRAY=h.THRESHOLD=h.BURN=h.DODGE=h.SOFT_LIGHT=h.HARD_LIGHT=h.OVERLAY=h.REPLACE=h.SCREEN=h.MULTIPLY=h.EXCLUSION=h.SUBTRACT=h.DIFFERENCE=h.LIGHTEST=h.DARKEST=h.ADD=h.REMOVE=h.BLEND=h.UP_ARROW=h.TAB=h.SHIFT=h.RIGHT_ARROW=h.RETURN=h.OPTION=h.LEFT_ARROW=h.ESCAPE=h.ENTER=h.DOWN_ARROW=h.DELETE=h.CONTROL=h.BACKSPACE=h.ALT=h.AUTO=h.HSL=h.HSB=h.RGB=h.MITER=h.BEVEL=h.ROUND=h.SQUARE=h.PROJECT=h.PIE=h.CHORD=h.OPEN=h.CLOSE=h.TESS=h.QUAD_STRIP=h.QUADS=h.TRIANGLE_STRIP=h.TRIANGLE_FAN=h.TRIANGLES=h.LINE_LOOP=h.LINE_STRIP=h.LINES=h.POINTS=h.BASELINE=h.BOTTOM=h.TOP=h.CENTER=h.LEFT=h.RIGHT=h.RADIUS=h.CORNERS=h.CORNER=h.RAD_TO_DEG=h.DEG_TO_RAD=h.RADIANS=h.DEGREES=h.TWO_PI=h.TAU=h.QUARTER_PI=h.PI=h.HALF_PI=h.WAIT=h.TEXT=h.MOVE=h.HAND=h.CROSS=h.ARROW=h.WEBGL=h.P2D=h.VERSION=void 0,h.FALLBACK=h.LABEL=h.AXES=h.GRID=h._DEFAULT_FILL=h._DEFAULT_STROKE=h.PORTRAIT=h.LANDSCAPE=h.MIRROR=h.CLAMP=h.REPEAT=h.NEAREST=h.IMAGE=h.IMMEDIATE=h.TEXTURE=h.FILL=h.STROKE=h.CURVE=void 0;var p=Math.PI;h.VERSION="1.4.2",h.P2D="p2d",h.WEBGL="webgl",h.ARROW="default",h.CROSS="crosshair",h.HAND="pointer",h.MOVE="move",h.TEXT="text",h.WAIT="wait";var t=p/2;h.HALF_PI=t;var c=p;h.PI=c;var d=p/4;h.QUARTER_PI=d;var m=2*p;h.TAU=m;var f=2*p;h.TWO_PI=f,h.DEGREES="degrees",h.RADIANS="radians";var o=p/180;h.DEG_TO_RAD=o;var r=180/p;h.RAD_TO_DEG=r,h.CORNER="corner",h.CORNERS="corners",h.RADIUS="radius",h.RIGHT="right",h.LEFT="left",h.CENTER="center",h.TOP="top",h.BOTTOM="bottom",h.BASELINE="alphabetic",h.POINTS=0,h.LINES=1,h.LINE_STRIP=3,h.LINE_LOOP=2,h.TRIANGLES=4,h.TRIANGLE_FAN=6,h.TRIANGLE_STRIP=5,h.QUADS="quads",h.QUAD_STRIP="quad_strip",h.TESS="tess",h.CLOSE="close",h.OPEN="open",h.CHORD="chord",h.PIE="pie",h.PROJECT="square",h.SQUARE="butt",h.ROUND="round",h.BEVEL="bevel",h.MITER="miter",h.RGB="rgb",h.HSB="hsb",h.HSL="hsl",h.AUTO="auto",h.ALT=18,h.BACKSPACE=8,h.CONTROL=17,h.DELETE=46,h.DOWN_ARROW=40,h.ENTER=13,h.ESCAPE=27,h.LEFT_ARROW=37,h.OPTION=18,h.RETURN=13,h.RIGHT_ARROW=39,h.SHIFT=16,h.TAB=9,h.UP_ARROW=38,h.BLEND="source-over",h.REMOVE="destination-out",h.ADD="lighter",h.DARKEST="darken",h.LIGHTEST="lighten",h.DIFFERENCE="difference",h.SUBTRACT="subtract",h.EXCLUSION="exclusion",h.MULTIPLY="multiply",h.SCREEN="screen",h.REPLACE="copy",h.OVERLAY="overlay",h.HARD_LIGHT="hard-light",h.SOFT_LIGHT="soft-light",h.DODGE="color-dodge",h.BURN="color-burn",h.THRESHOLD="threshold",h.GRAY="gray",h.OPAQUE="opaque",h.INVERT="invert",h.POSTERIZE="posterize",h.DILATE="dilate",h.ERODE="erode",h.BLUR="blur",h.NORMAL="normal",h.ITALIC="italic",h.BOLD="bold",h.BOLDITALIC="bold italic",h.CHAR="CHAR",h.WORD="WORD",h._DEFAULT_TEXT_FILL="#000000",h._DEFAULT_LEADMULT=1.25,h._CTX_MIDDLE="middle",h.LINEAR="linear",h.QUADRATIC="quadratic",h.BEZIER="bezier",h.CURVE="curve",h.STROKE="stroke",h.FILL="fill",h.TEXTURE="texture",h.IMMEDIATE="immediate",h.IMAGE="image",h.NEAREST="nearest",h.REPEAT="repeat",h.CLAMP="clamp",h.MIRROR="mirror",h.LANDSCAPE="landscape",h.PORTRAIT="portrait",h._DEFAULT_STROKE="#000000",h._DEFAULT_FILL="#FFFFFF",h.GRID="grid",h.AXES="axes",h.LABEL="label",h.FALLBACK="fallback"},{}],254:[function(e,g,h){function p(l){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(l)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("./main"))&&t.__esModule?t:{default:t},d=function(l){if(l&&l.__esModule)return l;if(l===null||p(l)!=="object"&&typeof l!="function")return{default:l};var v=m();if(v&&v.has(l))return v.get(l);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in l)if(Object.prototype.hasOwnProperty.call(l,_)){var E=x?Object.getOwnPropertyDescriptor(l,_):null;E&&(E.get||E.set)?Object.defineProperty(w,_,E):w[_]=l[_]}return w.default=l,v&&v.set(l,w),w}(e("./constants"));function m(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return m=function(){return l},l}var f=[d.ARROW,d.CROSS,d.HAND,d.MOVE,d.TEXT,d.WAIT];c.default.prototype._frameRate=0,c.default.prototype._lastFrameTime=window.performance.now(),c.default.prototype._targetFrameRate=60;var o=window.print;function r(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function s(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}c.default.prototype.print=function(){var l;arguments.length?(l=console).log.apply(l,arguments):o()},c.default.prototype.frameCount=0,c.default.prototype.deltaTime=0,c.default.prototype.focused=document.hasFocus(),c.default.prototype.cursor=function(l,v,w){var x="auto",_=this._curElement.elt;if(f.includes(l))x=l;else if(typeof l=="string"){var E="";v&&w&&typeof v=="number"&&typeof w=="number"&&(E="".concat(v," ").concat(w)),x=l.substring(0,7)==="http://"||l.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(l)?"url(".concat(l,") ").concat(E,", auto"):l}_.style.cursor=x},c.default.prototype.frameRate=function(l){return c.default._validateParameters("frameRate",arguments),typeof l!="number"||l<0?this._frameRate:(this._setProperty("_targetFrameRate",l),l===0&&this._setProperty("_frameRate",l),this)},c.default.prototype.getFrameRate=function(){return this.frameRate()},c.default.prototype.setFrameRate=function(l){return this.frameRate(l)},c.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},c.default.prototype.displayWidth=screen.width,c.default.prototype.displayHeight=screen.height,c.default.prototype.windowWidth=r(),c.default.prototype.windowHeight=s(),c.default.prototype._onresize=function(l){this._setProperty("windowWidth",r()),this._setProperty("windowHeight",s());var v,w=this._isGlobal?window:this;typeof w.windowResized=="function"&&((v=w.windowResized(l))===void 0||v||l.preventDefault())},c.default.prototype.width=0,c.default.prototype.height=0,c.default.prototype.fullscreen=function(l){if(c.default._validateParameters("fullscreen",arguments),l===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;l?function(v){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");v.requestFullscreen?v.requestFullscreen():v.mozRequestFullScreen?v.mozRequestFullScreen():v.webkitRequestFullscreen?v.webkitRequestFullscreen():v.msRequestFullscreen&&v.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},c.default.prototype.pixelDensity=function(l){var v;return c.default._validateParameters("pixelDensity",arguments),typeof l=="number"?(l!==this._pixelDensity&&(this._pixelDensity=l),(v=this).resizeCanvas(this.width,this.height,!0)):v=this._pixelDensity,v},c.default.prototype.displayDensity=function(){return window.devicePixelRatio},c.default.prototype.getURL=function(){return location.href},c.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(l){return l!==""})},c.default.prototype.getURLParams=function(){for(var l,v=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,w={};(l=v.exec(location.search))!=null;)l.index===v.lastIndex&&v.lastIndex++,w[l[1]]=l[2];return w};var i=c.default;h.default=i},{"./constants":253,"./main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.includes":156,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191}],255:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../main"))&&p.__esModule?p:{default:p};e("../internationalization");var c=null,d=null;t.default._friendlyError=t.default._checkForUserDefinedFunctions=t.default._fesErrorMonitor=function(){},c=null;var m="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";d=function(){function r(i){return Object.getOwnPropertyNames(i).filter(function(l){return l[0]!=="_"&&!(l in s)&&(s[l]=!0)}).map(function(l){var v;return v=typeof i[l]=="function"?"function":l===l.toUpperCase()?"constant":"variable",{name:l,type:v}})}var s={};(c=[].concat(r(t.default.prototype),r(e("../constants")))).sort(function(i,l){return l.name.length-i.name.length})};function f(r,s){s=s||console.log.bind(console),c||d(),c.some(function(i){if(r.message&&r.message.match("\\W?".concat(i.name,"\\W"))!==null){var l=i.type==="function"?"".concat(i.name,"()"):i.name;return s("Did you just try to use p5.js's ".concat(l," ").concat(i.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(m)),!0}})}t.default.prototype._helpForMisusedAtTopLevelCode=f,document.readyState!=="complete"&&(window.addEventListener("error",f,!1),window.addEventListener("load",function(){window.removeEventListener("error",f,!1)}));var o=t.default;h.default=o},{"../constants":253,"../internationalization":262,"../main":264,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":166,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],256:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../main"))&&p.__esModule?p:{default:p};e("../internationalization"),t.default._friendlyFileLoadError=function(){};var c=t.default;h.default=c},{"../internationalization":262,"../main":264}],257:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.flat-map"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.unscopables.flat-map"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t=m(e("../main"));e("../internationalization"),d(e("../constants"));function c(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return c=function(){return o},o}function d(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=c();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}function m(o){return o&&o.__esModule?o:{default:o}}t.default._fesCodeReader=function(){};var f=t.default;h.default=f},{"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.flat-map":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.unscopables.flat-map":165,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],258:[function(e,g,h){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../main"))&&p.__esModule?p:{default:p};function c(){var m=/(^|@)\S+:\d+/,f=/^\s*at .*(\S+:\d+|\(native\))/m,o=/^(eval@)?(\[native code])?$/;return{parse:function(r){return r.stacktrace!==void 0||r["opera#sourceloc"]!==void 0?this.parseOpera(r):r.stack&&r.stack.match(f)?this.parseV8OrIE(r):r.stack?this.parseFFOrSafari(r):void 0},extractLocation:function(r){if(r.indexOf(":")===-1)return[r];var s=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(r.replace(/[()]/g,""));return[s[1],s[2]||void 0,s[3]||void 0]},parseV8OrIE:function(r){return r.stack.split(`
`).filter(function(s){return!!s.match(f)},this).map(function(s){-1<s.indexOf("(eval ")&&(s=s.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var i=s.replace(/^\s+/,"").replace(/\(eval code/g,"("),l=i.match(/ (\((.+):(\d+):(\d+)\)$)/),v=(i=l?i.replace(l[0],""):i).split(/\s+/).slice(1),w=this.extractLocation(l?l[1]:v.pop());return{functionName:v.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(w[0])?void 0:w[0],lineNumber:w[1],columnNumber:w[2],source:s}},this)},parseFFOrSafari:function(r){return r.stack.split(`
`).filter(function(s){return!s.match(o)},this).map(function(s){if(-1<s.indexOf(" > eval")&&(s=s.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),s.indexOf("@")===-1&&s.indexOf(":")===-1)return{functionName:s};var i=/((.*".+"[^@]*)?[^@]*)(?:@)/,l=s.match(i),v=l&&l[1]?l[1]:void 0,w=this.extractLocation(s.replace(i,""));return{functionName:v,fileName:w[0],lineNumber:w[1],columnNumber:w[2],source:s}},this)},parseOpera:function(r){return!r.stacktrace||-1<r.message.indexOf(`
`)&&r.message.split(`
`).length>r.stacktrace.split(`
`).length?this.parseOpera9(r):r.stack?this.parseOpera11(r):this.parseOpera10(r)},parseOpera9:function(r){for(var s=/Line (\d+).*script (?:in )?(\S+)/i,i=r.message.split(`
`),l=[],v=2,w=i.length;v<w;v+=2){var x=s.exec(i[v]);x&&l.push({fileName:x[2],lineNumber:x[1],source:i[v]})}return l},parseOpera10:function(r){for(var s=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=r.stacktrace.split(`
`),l=[],v=0,w=i.length;v<w;v+=2){var x=s.exec(i[v]);x&&l.push({functionName:x[3]||void 0,fileName:x[2],lineNumber:x[1],source:i[v]})}return l},parseOpera11:function(r){return r.stack.split(`
`).filter(function(s){return!!s.match(m)&&!s.match(/^Error created at/)},this).map(function(s){var i,l=s.split("@"),v=this.extractLocation(l.pop()),w=l.shift()||"",x=w.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return w.match(/\(([^)]*)\)/)&&(i=w.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:x,args:i===void 0||i==="[arguments not available]"?void 0:i.split(","),fileName:v[0],lineNumber:v[1],columnNumber:v[2],source:s}},this)}}}t.default._getErrorStackParser=function(){return new c};var d=t.default;h.default=d},{"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],259:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../main"))&&p.__esModule?p:{default:p};(function(f){if(!(f&&f.__esModule)&&!(f===null||d(f)!=="object"&&typeof f!="function")){var o=c();if(o&&o.has(f))return o.get(f);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in f)if(Object.prototype.hasOwnProperty.call(f,i)){var l=s?Object.getOwnPropertyDescriptor(f,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=f[i]}r.default=f,o&&o.set(f,r)}})(e("../constants")),e("../internationalization");function c(){if(typeof WeakMap!="function")return null;var f=new WeakMap;return c=function(){return f},f}function d(f){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(f)}t.default._validateParameters=t.default._clearValidateParamsCache=function(){};var m=t.default;h.default=m},{"../../../docs/parameterData.json":void 0,"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.map":167,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],260:[function(e,g,h){function p(m){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(m)}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t=function(m){if(m&&m.__esModule)return m;if(m===null||p(m)!=="object"&&typeof m!="function")return{default:m};var f=c();if(f&&f.has(m))return f.get(m);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in m)if(Object.prototype.hasOwnProperty.call(m,s)){var i=r?Object.getOwnPropertyDescriptor(m,s):null;i&&(i.get||i.set)?Object.defineProperty(o,s,i):o[s]=m[s]}return o.default=m,f&&f.set(m,o),o}(e("./constants"));function c(){if(typeof WeakMap!="function")return null;var m=new WeakMap;return c=function(){return m},m}var d={modeAdjust:function(m,f,o,r,s){return s===t.CORNER?{x:m,y:f,w:o,h:r}:s===t.CORNERS?{x:m,y:f,w:o-m,h:r-f}:s===t.RADIUS?{x:m-o,y:f-r,w:2*o,h:2*r}:s===t.CENTER?{x:m-.5*o,y:f-.5*r,w:o,h:r}:void 0}};h.default=d},{"./constants":253}],261:[function(e,g,h){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};e("./internationalization");var c=Promise.resolve();Promise.all([new Promise(function(d,m){document.readyState==="complete"?d():window.addEventListener("load",d,!1)}),c]).then(function(){window._setupDone===void 0?window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!t.default.instance&&new t.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":264,"./internationalization":262,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":229}],262:[function(e,g,h){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.setTranslatorLanguage=h.currentTranslatorLanguage=h.availableTranslatorLanguages=h.initialize=h.translator=void 0;var p,t,c=m(e("i18next")),d=m(e("i18next-browser-languagedetector"));function m(s){return s&&s.__esModule?s:{default:s}}function f(s,i){for(var l=0;l<i.length;l++){var v=i[l];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}var o=function(){function s(v,w){(function(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")})(this,s),this.init(v,w)}var i,l;return i=s,(l=[{key:"fetchWithTimeout",value:function(v,w,x){var _=2<arguments.length&&x!==void 0?x:2e3;return Promise.race([fetch(v,w),new Promise(function(E,C){return setTimeout(function(){return C(new Error("timeout"))},_)})])}},{key:"init",value:function(v,w){var x=1<arguments.length&&w!==void 0?w:{};this.services=v,this.options=x}},{key:"read",value:function(v,w,x){var _=this.options.loadPath;if(v===this.options.fallback)x(null,p[v][w]);else if(t.includes(v)){var E=this.services.interpolator.interpolate(_,{lng:v,ns:w});this.loadUrl(E,x)}else x("Not found",!1)}},{key:"loadUrl",value:function(v,w){this.fetchWithTimeout(v).then(function(x){if(!x.ok)throw new Error("failed loading ".concat(v));return x.json()},function(){throw new Error("failed loading ".concat(v))}).then(function(x){return w(null,x)}).catch(w)}}])&&f(i.prototype,l),s}();o.type="backend";var r=function(s,i){console.debug("p5.js translator called before translations were loaded"),c.default.t(s,i)};h.translator=r,h.initialize=function(){return c.default.use(d.default).use(o).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:p}).then(function(s){h.translator=r=s},function(s){return console.debug("Translations failed to load (".concat(s,")"))})},h.availableTranslatorLanguages=function(){return c.default.languages},h.currentTranslatorLanguage=function(){return c.default.language},h.setTranslatorLanguage=function(s){return c.default.changeLanguage(s||void 0,function(i){return console.debug("Translations failed to load (".concat(i,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":229,i18next:3,"i18next-browser-languagedetector":3}],263:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("./main"))&&p.__esModule?p:{default:p};t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var c=t.default;h.default=c},{"./main":264}],264:[function(e,g,h){function p(r){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,e("./shim");var t=function(r){if(r&&r.__esModule)return r;if(r===null||p(r)!=="object"&&typeof r!="function")return{default:r};var s=c();if(s&&s.has(r))return s.get(r);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in r)if(Object.prototype.hasOwnProperty.call(r,v)){var w=l?Object.getOwnPropertyDescriptor(r,v):null;w&&(w.get||w.set)?Object.defineProperty(i,v,w):i[v]=r[v]}return i.default=r,s&&s.set(r,i),i}(e("./constants"));function c(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return c=function(){return r},r}function d(r,s){for(var i=0;i<s.length;i++){var l=s[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}var m=function(){function r(l,v,w){var x=this;(function(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")})(this,r),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=v,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var _=Object.getOwnPropertyNames(r.prototype._registeredMethods),E=!0,C=!1,A=void 0;try{for(var O,I=_[Symbol.iterator]();!(E=(O=I.next()).done);E=!0){var R=O.value;this._registeredMethods[R]=r.prototype._registeredMethods[R].slice()}}catch(se){C=!0,A=se}finally{try{E||I.return==null||I.return()}finally{if(C)throw A}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){x._userNode&&typeof x._userNode=="string"&&(x._userNode=document.getElementById(x._userNode));var se=x._isGlobal?window:x;if(se.preload){var me=document.getElementById(x._loadingScreenId);me||((me=document.createElement("div")).innerHTML="Loading...",me.style.position="absolute",me.id=x._loadingScreenId,(x._userNode||document.body).appendChild(me));var xe=x._preloadMethods;for(var Ee in xe){xe[Ee]=xe[Ee]||r;var ve=xe[Ee];ve!==r.prototype&&ve!==r||(x._isGlobal&&(window[Ee]=x._wrapPreload(x,Ee)),ve=x),x._registeredPreloadMethods[Ee]=ve[Ee],ve[Ee]=x._wrapPreload(ve,Ee)}se.preload(),x._runIfPreloadsAreDone()}else x._setup(),x._draw()},this._runIfPreloadsAreDone=function(){var se=this._isGlobal?window:this;if(se._preloadCount===0){var me=document.getElementById(se._loadingScreenId);me&&me.parentNode.removeChild(me),this._setupDone||(this._lastFrameTime=window.performance.now(),se._setup(),se._draw())}},this._decrementPreload=function(){var se=this._isGlobal?window:this;typeof se.preload=="function"&&(se._setProperty("_preloadCount",se._preloadCount-1),se._runIfPreloadsAreDone())},this._wrapPreload=function(se,me){var xe=this;return function(){xe._incrementPreload();for(var Ee=arguments.length,ve=new Array(Ee),De=0;De<Ee;De++)ve[De]=arguments[De];return xe._registeredPreloadMethods[me].apply(se,ve)}},this._incrementPreload=function(){var se=this._isGlobal?window:this;se._setProperty("_preloadCount",se._preloadCount+1)},this._setup=function(){x.createCanvas(x._defaultCanvasSize.width,x._defaultCanvasSize.height,"p2d");var se=x._isGlobal?window:x;if(typeof se.preload=="function")for(var me in x._preloadMethods)se[me]=x._preloadMethods[me][me],se[me]&&x&&(se[me]=se[me].bind(x));x._millisStart=window.performance.now(),typeof se.setup=="function"&&se.setup();var xe=document.getElementsByTagName("canvas"),Ee=!0,ve=!1,De=void 0;try{for(var _e,Se=xe[Symbol.iterator]();!(Ee=(_e=Se.next()).done);Ee=!0){var P=_e.value;P.dataset.hidden==="true"&&(P.style.visibility="",delete P.dataset.hidden)}}catch(G){ve=!0,De=G}finally{try{Ee||Se.return==null||Se.return()}finally{if(ve)throw De}}x._lastFrameTime=window.performance.now(),x._setupDone=!0,(x._accessibleOutputs.grid||x._accessibleOutputs.text)&&x._updateAccsOutput()},this._draw=function(){var se=window.performance.now(),me=se-x._lastFrameTime,xe=1e3/x._targetFrameRate;(!x._loop||xe-5<=me)&&(x.redraw(),x._frameRate=1e3/(se-x._lastFrameTime),x.deltaTime=se-x._lastFrameTime,x._setProperty("deltaTime",x.deltaTime),x._lastFrameTime=se,x._updateMouseCoords!==void 0&&(x._updateMouseCoords(),x._setProperty("movedX",0),x._setProperty("movedY",0))),x._loop&&(x._requestAnimId=window.requestAnimationFrame(x._draw))},this._setProperty=function(se,me){x[se]=me,x._isGlobal&&(window[se]=me)},this.remove=function(){var se=document.getElementById(x._loadingScreenId);if(se&&(se.parentNode.removeChild(se),x._incrementPreload()),x._curElement){for(var me in x._loop=!1,x._requestAnimId&&window.cancelAnimationFrame(x._requestAnimId),x._events)window.removeEventListener(me,x._events[me]);var xe=!0,Ee=!1,ve=void 0;try{for(var De,_e=x._elements[Symbol.iterator]();!(xe=(De=_e.next()).done);xe=!0){var Se=De.value;for(var P in Se.elt&&Se.elt.parentNode&&Se.elt.parentNode.removeChild(Se.elt),Se._events)Se.elt.removeEventListener(P,Se._events[P])}}catch(B){Ee=!0,ve=B}finally{try{xe||_e.return==null||_e.return()}finally{if(Ee)throw ve}}var G=x;x._registeredMethods.remove.forEach(function(B){B!==void 0&&B.call(G)})}if(x._isGlobal){for(var Y in r.prototype)try{delete window[Y]}catch{window[Y]=void 0}for(var ee in x)if(x.hasOwnProperty(ee))try{delete window[ee]}catch{window[ee]=void 0}r.instance=null}},this._registeredMethods.init.forEach(function(se){se!==void 0&&se.call(this)},this),this._setupPromisePreloads();var L=this._createFriendlyGlobalFunctionBinder();if(l)l(this),r._checkForUserDefinedFunctions(this);else{for(var U in this._isGlobal=!0,r.instance=this,r.prototype)if(typeof r.prototype[U]=="function"){var D=U.substring(2);this._events.hasOwnProperty(D)||(Math.hasOwnProperty(U)&&Math[U]===r.prototype[U]?L(U,r.prototype[U]):L(U,r.prototype[U].bind(this)))}else L(U,r.prototype[U]);for(var W in this)this.hasOwnProperty(W)&&L(W,this[W])}for(var H in this._events){var ae=this["_on".concat(H)];if(ae){var le=ae.bind(this);window.addEventListener(H,le,{passive:!1}),this._events[H]=le}}function J(){x._setProperty("focused",!0)}function ue(){x._setProperty("focused",!1)}window.addEventListener("focus",J),window.addEventListener("blur",ue),this.registerMethod("remove",function(){window.removeEventListener("focus",J),window.removeEventListener("blur",ue)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var s,i;return s=r,(i=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=t.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(l,v){r.prototype._preloadMethods.hasOwnProperty(l)||(r.prototype._preloadMethods[l]=v)}},{key:"registerMethod",value:function(l,v){var w=this||r.prototype;w._registeredMethods.hasOwnProperty(l)||(w._registeredMethods[l]=[]),w._registeredMethods[l].push(v)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(l){var v=0<arguments.length&&l!==void 0?l:{},w=v.globalObject||window;return v.log||console.log.bind(console),function(x,_){w[x]=_}}}])&&d(s.prototype,i),r}();for(var f in m.instance=null,m.disableFriendlyErrors=!1,t)m.prototype[f]=t[f];m.VERSION=t.VERSION,m.prototype._preloadMethods={loadJSON:m.prototype,loadImage:m.prototype,loadStrings:m.prototype,loadXML:m.prototype,loadBytes:m.prototype,loadTable:m.prototype,loadFont:m.prototype,loadModel:m.prototype,loadShader:m.prototype},m.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},m.prototype._registeredPreloadMethods={};var o=m;h.default=o},{"./constants":253,"./shim":275,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],265:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("./main"))&&p.__esModule?p:{default:p};t.default.Element=function(d,m){this.elt=d,this._pInst=this._pixelsState=m,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},t.default.Element.prototype.parent=function(d){return d===void 0?this.elt.parentNode:(typeof d=="string"?(d[0]==="#"&&(d=d.substring(1)),d=document.getElementById(d)):d instanceof t.default.Element&&(d=d.elt),d.appendChild(this.elt),this)},t.default.Element.prototype.id=function(d){return d===void 0?this.elt.id:(this.elt.id=d,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},t.default.Element.prototype.class=function(d){return d===void 0?this.elt.className:(this.elt.className=d,this)},t.default.Element.prototype.mousePressed=function(d){return t.default.Element._adjustListener("mousedown",function(m){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(m),d.call(this,m)},this),this},t.default.Element.prototype.doubleClicked=function(d){return t.default.Element._adjustListener("dblclick",d,this),this},t.default.Element.prototype.mouseWheel=function(d){return t.default.Element._adjustListener("wheel",d,this),this},t.default.Element.prototype.mouseReleased=function(d){return t.default.Element._adjustListener("mouseup",d,this),this},t.default.Element.prototype.mouseClicked=function(d){return t.default.Element._adjustListener("click",d,this),this},t.default.Element.prototype.mouseMoved=function(d){return t.default.Element._adjustListener("mousemove",d,this),this},t.default.Element.prototype.mouseOver=function(d){return t.default.Element._adjustListener("mouseover",d,this),this},t.default.Element.prototype.mouseOut=function(d){return t.default.Element._adjustListener("mouseout",d,this),this},t.default.Element.prototype.touchStarted=function(d){return t.default.Element._adjustListener("touchstart",d,this),this},t.default.Element.prototype.touchMoved=function(d){return t.default.Element._adjustListener("touchmove",d,this),this},t.default.Element.prototype.touchEnded=function(d){return t.default.Element._adjustListener("touchend",d,this),this},t.default.Element.prototype.dragOver=function(d){return t.default.Element._adjustListener("dragover",d,this),this},t.default.Element.prototype.dragLeave=function(d){return t.default.Element._adjustListener("dragleave",d,this),this},t.default.Element._adjustListener=function(d,m,f){return m===!1?t.default.Element._detachListener(d,f):t.default.Element._attachListener(d,m,f),this},t.default.Element._attachListener=function(d,m,f){f._events[d]&&t.default.Element._detachListener(d,f);var o=m.bind(f);f.elt.addEventListener(d,o,!1),f._events[d]=o},t.default.Element._detachListener=function(d,m){var f=m._events[d];m.elt.removeEventListener(d,f,!1),m._events[d]=null},t.default.Element.prototype._setProperty=function(d,m){this[d]=m};var c=t.default.Element;h.default=c},{"./main":264}],266:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("./main"))&&t.__esModule?t:{default:t},d=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=m();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}(e("./constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}c.default.Graphics=function(o,r,s,i){var l=s||d.P2D;this.canvas=document.createElement("canvas");var v=i._userNode||document.body;for(var w in v.appendChild(this.canvas),c.default.Element.call(this,this.canvas,i),c.default.prototype)this[w]||(typeof c.default.prototype[w]=="function"?this[w]=c.default.prototype[w].bind(this):this[w]=c.default.prototype[w]);return c.default.prototype._initializeInstanceVariables.apply(this),this.width=o,this.height=r,this._pixelDensity=i._pixelDensity,l===d.WEBGL?this._renderer=new c.default.RendererGL(this.canvas,this,!1):this._renderer=new c.default.Renderer2D(this.canvas,this,!1),i._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(o,r),this._renderer._applyDefaults(),this},c.default.Graphics.prototype=Object.create(c.default.Element.prototype),c.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},c.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var o=this._pInst._elements.indexOf(this);for(var r in o!==-1&&this._pInst._elements.splice(o,1),this._events)this.elt.removeEventListener(r,this._events[r])};var f=c.default.Graphics;h.default=f},{"./constants":253,"./main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.splice":164}],267:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("./main"))&&p.__esModule?p:{default:p},c=function(r){if(r&&r.__esModule)return r;if(r===null||m(r)!=="object"&&typeof r!="function")return{default:r};var s=d();if(s&&s.has(r))return s.get(r);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in r)if(Object.prototype.hasOwnProperty.call(r,v)){var w=l?Object.getOwnPropertyDescriptor(r,v):null;w&&(w.get||w.set)?Object.defineProperty(i,v,w):i[v]=r[v]}return i.default=r,s&&s.set(r,i),i}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return d=function(){return r},r}function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}function f(r){var s=0,i=0;if(r.offsetParent)for(;s+=r.offsetLeft,i+=r.offsetTop,r=r.offsetParent;);else s+=r.offsetLeft,i+=r.offsetTop;return[s,i]}t.default.Renderer=function(r,s,i){t.default.Element.call(this,r,s),this.canvas=r,this._pixelsState=s,i?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=c.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=c.LEFT,this._textBaseline=c.BASELINE,this._textWrap=c.WORD,this._rectMode=c.CORNER,this._ellipseMode=c.CENTER,this._curveTightness=0,this._imageMode=c.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},t.default.Renderer.prototype=Object.create(t.default.Element.prototype),t.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},t.default.Renderer.prototype.pop=function(r){r.properties&&Object.assign(this,r.properties)},t.default.Renderer.prototype.resize=function(r,s){this.width=r,this.height=s,this.elt.width=r*this._pInst._pixelDensity,this.elt.height=s*this._pInst._pixelDensity,this.elt.style.width="".concat(r,"px"),this.elt.style.height="".concat(s,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},t.default.Renderer.prototype.get=function(r,s,i,l){var v=this._pixelsState,w=v._pixelDensity,x=this.canvas;if(r===void 0&&s===void 0)r=s=0,i=v.width,l=v.height;else if(r*=w,s*=w,i===void 0&&l===void 0)return r<0||s<0||r>=x.width||s>=x.height?[0,0,0,0]:this._getPixel(r,s);var _=new t.default.Image(i,l);return _.canvas.getContext("2d").drawImage(x,r,s,i*w,l*w,0,0,i,l),_},t.default.Renderer.prototype.textLeading=function(r){return typeof r=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",r),this._pInst):this._textLeading},t.default.Renderer.prototype.textSize=function(r){return typeof r=="number"?(this._setProperty("_textSize",r),this._leadingSet||this._setProperty("_textLeading",r*c._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},t.default.Renderer.prototype.textStyle=function(r){return r?(r!==c.NORMAL&&r!==c.ITALIC&&r!==c.BOLD&&r!==c.BOLDITALIC||this._setProperty("_textStyle",r),this._applyTextProperties()):this._textStyle},t.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},t.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},t.default.Renderer.prototype.textAlign=function(r,s){return r!==void 0?(this._setProperty("_textAlign",r),s!==void 0&&this._setProperty("_textBaseline",s),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},t.default.Renderer.prototype.textWrap=function(r){return this._setProperty("_textWrap",r),this._textWrap},t.default.Renderer.prototype.text=function(r,s,i,l,v){var w,x,_,E,C,A,O,I=this._pInst,R=this._textWrap,L=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&r!==void 0){if(typeof r!="string"&&(r=r.toString()),w=(r=r.replace(/(\t)/g,"  ")).split(`
`),l!==void 0){switch(this._rectMode===c.CENTER&&(s-=l/2),this._textAlign){case c.CENTER:s+=l/2;break;case c.RIGHT:s+=l}var U=!1;if(v!==void 0){switch(this._rectMode===c.CENTER&&(i-=v/2),this._textBaseline){case c.BOTTOM:O=i+v,i=Math.max(O,i);break;case c.CENTER:O=i+v/2,i=Math.max(O,i);break;case c.BASELINE:U=!0,this._textBaseline=c.TOP}L=i+v-I.textAscent()}if(R===c.WORD){for(var D=[],W=0;W<w.length;W++){x="",C=w[W].split(" ");for(var H=0;H<C.length;H++)_="".concat(x+C[H])+" ",x=l<(E=this.textWidth(_))&&0<x.length?(D.push(x),"".concat(C[H])+" "):_;D.push(x)}var ae=0,le=I.textAlign().vertical;le===c.CENTER?ae=(D.length-1)*I.textLeading()/2:le===c.BOTTOM&&(ae=(D.length-1)*I.textLeading());for(var J=0;J<w.length;J++){x="",C=w[J].split(" ");for(var ue=0;ue<C.length;ue++)_="".concat(x+C[ue])+" ",l<(E=this.textWidth(_))&&0<x.length?(this._renderText(I,x.trim(),s,i-ae,L),x="".concat(C[ue])+" ",i+=I.textLeading()):x=_;this._renderText(I,x.trim(),s,i-ae,L),i+=I.textLeading(),U&&(this._textBaseline=c.BASELINE)}}else{for(var se=[],me=0;me<w.length;me++){x="",A=w[me].split("");for(var xe=0;xe<A.length;xe++)_="".concat(x+A[xe]),(E=this.textWidth(_))<=l?x+=A[xe]:l<E&&0<x.length&&(se.push(x),x="".concat(A[xe]))}se.push(x);var Ee=0,ve=I.textAlign().vertical;ve===c.CENTER?Ee=(se.length-1)*I.textLeading()/2:ve===c.BOTTOM&&(Ee=(se.length-1)*I.textLeading());for(var De=0;De<w.length;De++){x="",A=w[De].split("");for(var _e=0;_e<A.length;_e++)_="".concat(x+A[_e]),(E=this.textWidth(_))<=l?x+=A[_e]:l<E&&0<x.length&&(this._renderText(I,x.trim(),s,i-Ee,L),i+=I.textLeading(),x="".concat(A[_e]))}this._renderText(I,x.trim(),s,i-Ee,L),i+=I.textLeading(),U&&(this._textBaseline=c.BASELINE)}}else{var Se=0,P=I.textAlign().vertical;P===c.CENTER?Se=(w.length-1)*I.textLeading()/2:P===c.BOTTOM&&(Se=(w.length-1)*I.textLeading());for(var G=0;G<w.length;G++)this._renderText(I,w[G],s,i-Se,L),i+=I.textLeading()}return I}},t.default.Renderer.prototype._applyDefaults=function(){return this},t.default.Renderer.prototype._isOpenType=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return m(r)==="object"&&r.font&&r.font.supported},t.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var r=document.createElement("span");r.style.fontFamily=this._textFont,r.style.fontSize="".concat(this._textSize,"px"),r.innerHTML="ABCjgq|";var s=document.createElement("div");s.style.display="inline-block",s.style.width="1px",s.style.height="0px";var i=document.createElement("div");i.appendChild(r),i.appendChild(s),i.style.height="0px",i.style.overflow="hidden",document.body.appendChild(i),s.style.verticalAlign="baseline";var l=f(s),v=f(r),w=l[1]-v[1];s.style.verticalAlign="bottom",l=f(s),v=f(r);var x=l[1]-v[1]-w;return document.body.removeChild(i),this._setProperty("_textAscent",w),this._setProperty("_textDescent",x),this};var o=t.default.Renderer;h.default=o},{"../core/constants":253,"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],268:[function(e,g,h){function p(s){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t=f(e("./main")),c=function(s){if(s&&s.__esModule)return s;if(s===null||p(s)!=="object"&&typeof s!="function")return{default:s};var i=m();if(i&&i.has(s))return i.get(s);var l={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in s)if(Object.prototype.hasOwnProperty.call(s,w)){var x=v?Object.getOwnPropertyDescriptor(s,w):null;x&&(x.get||x.set)?Object.defineProperty(l,w,x):l[w]=s[w]}return l.default=s,i&&i.set(s,l),l}(e("./constants")),d=f(e("../image/filters"));function m(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return m=function(){return s},s}function f(s){return s&&s.__esModule?s:{default:s}}e("./p5.Renderer");var o="rgba(0,0,0,0)";t.default.Renderer2D=function(s,i,l){return t.default.Renderer.call(this,s,i,l),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},t.default.Renderer2D.prototype=Object.create(t.default.Renderer.prototype),t.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"},t.default.Renderer2D.prototype.resize=function(s,i){t.default.Renderer.prototype.resize.call(this,s,i),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},t.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof t.default.Image)if(0<=(arguments.length<=1?void 0:arguments[1])){var s=arguments.length<=0?void 0:arguments[0];this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(s,0,0,this.width,this.height)}else this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var i,l=this._getFill(),v=(i=this._pInst).color.apply(i,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(v.levels);var w=v.toString();this._setFill(w),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(l),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},t.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},t.default.Renderer2D.prototype.fill=function(){var s,i=(s=this._pInst).color.apply(s,arguments);this._setFill(i.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",i.levels)},t.default.Renderer2D.prototype.stroke=function(){var s,i=(s=this._pInst).color.apply(s,arguments);this._setStroke(i.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",i.levels)},t.default.Renderer2D.prototype.erase=function(s,i){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var l=this._pInst.color(255,s).toString();this.drawingContext.fillStyle=l,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var v=this._pInst.color(255,i).toString();this.drawingContext.strokeStyle=v;var w=this._cachedBlendMode;this.blendMode(c.REMOVE),this._cachedBlendMode=w,this._isErasing=!0}},t.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},t.default.Renderer2D.prototype.image=function(s,i,l,v,w,x,_,E,C){var A;s.gifProperties&&s._animateGif(this._pInst);try{this._tint&&(t.default.MediaElement&&s instanceof t.default.MediaElement&&s.loadPixels(),s.canvas&&(A=this._getTintedImageCanvas(s))),A=A||s.canvas||s.elt;var O=1;s.width&&0<s.width&&(O=A.width/s.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(A,O*i,O*l,O*v,O*w,x,_,E,C),this._isErasing&&this._pInst.erase()}catch(I){if(I.name!=="NS_ERROR_NOT_AVAILABLE")throw I}},t.default.Renderer2D.prototype._getTintedImageCanvas=function(s){if(!s.canvas)return s;var i=d.default._toPixels(s.canvas),l=document.createElement("canvas");l.width=s.canvas.width,l.height=s.canvas.height;for(var v=l.getContext("2d"),w=v.createImageData(s.canvas.width,s.canvas.height),x=w.data,_=0;_<i.length;_+=4){var E=i[_],C=i[_+1],A=i[_+2],O=i[_+3];x[_]=E*this._tint[0]/255,x[_+1]=C*this._tint[1]/255,x[_+2]=A*this._tint[2]/255,x[_+3]=O*this._tint[3]/255}return v.putImageData(w,0,0),l},t.default.Renderer2D.prototype.blendMode=function(s){if(s===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(s!==c.BLEND&&s!==c.REMOVE&&s!==c.DARKEST&&s!==c.LIGHTEST&&s!==c.DIFFERENCE&&s!==c.MULTIPLY&&s!==c.EXCLUSION&&s!==c.SCREEN&&s!==c.REPLACE&&s!==c.OVERLAY&&s!==c.HARD_LIGHT&&s!==c.SOFT_LIGHT&&s!==c.DODGE&&s!==c.BURN&&s!==c.ADD)throw new Error("Mode ".concat(s," not recognized."));this._cachedBlendMode=s,this.drawingContext.globalCompositeOperation=s}},t.default.Renderer2D.prototype.blend=function(){for(var s=this.drawingContext.globalCompositeOperation,i=arguments.length,l=new Array(i),v=0;v<i;v++)l[v]=arguments[v];var w=l[l.length-1],x=Array.prototype.slice.call(l,0,l.length-1);this.drawingContext.globalCompositeOperation=w,t.default.prototype.copy.apply(this,x),this.drawingContext.globalCompositeOperation=s},t.default.Renderer2D.prototype._getPixel=function(s,i){var l;return[(l=this.drawingContext.getImageData(s,i,1,1).data)[0],l[1],l[2],l[3]]},t.default.Renderer2D.prototype.loadPixels=function(){var s=this._pixelsState,i=s._pixelDensity,l=this.width*i,v=this.height*i,w=this.drawingContext.getImageData(0,0,l,v);s._setProperty("imageData",w),s._setProperty("pixels",w.data)},t.default.Renderer2D.prototype.set=function(s,i,l){s=Math.floor(s),i=Math.floor(i);var v=this._pixelsState;if(l instanceof t.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(v._pixelDensity,v._pixelDensity),this.drawingContext.clearRect(s,i,l.width,l.height),this.drawingContext.drawImage(l.canvas,s,i),this.drawingContext.restore();else{var w=0,x=0,_=0,E=0,C=4*(i*v._pixelDensity*(this.width*v._pixelDensity)+s*v._pixelDensity);if(v.imageData||v.loadPixels.call(v),typeof l=="number")C<v.pixels.length&&(_=x=w=l,E=255);else if(l instanceof Array){if(l.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");C<v.pixels.length&&(w=l[0],x=l[1],_=l[2],E=l[3])}else l instanceof t.default.Color&&C<v.pixels.length&&(w=l.levels[0],x=l.levels[1],_=l.levels[2],E=l.levels[3]);for(var A=0;A<v._pixelDensity;A++)for(var O=0;O<v._pixelDensity;O++)C=4*((i*v._pixelDensity+O)*this.width*v._pixelDensity+(s*v._pixelDensity+A)),v.pixels[C]=w,v.pixels[C+1]=x,v.pixels[C+2]=_,v.pixels[C+3]=E}},t.default.Renderer2D.prototype.updatePixels=function(s,i,l,v){var w=this._pixelsState,x=w._pixelDensity;s===void 0&&i===void 0&&l===void 0&&v===void 0&&(i=s=0,l=this.width,v=this.height),s*=x,i*=x,l*=x,v*=x,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=w.imageData),this.drawingContext.putImageData(w.imageData,s,i,0,0,l,v)},t.default.Renderer2D.prototype._acuteArcToBezier=function(s,i){var l=i/2,v=Math.cos(l),w=Math.sin(l),x=1/Math.tan(l),_=s+l,E=Math.cos(_),C=Math.sin(_),A=(4-v)/3,O=w+(v-A)*x;return{ax:Math.cos(s).toFixed(7),ay:Math.sin(s).toFixed(7),bx:(A*E+O*C).toFixed(7),by:(A*C-O*E).toFixed(7),cx:(A*E-O*C).toFixed(7),cy:(A*C+O*E).toFixed(7),dx:Math.cos(s+i).toFixed(7),dy:Math.sin(s+i).toFixed(7)}},t.default.Renderer2D.prototype.arc=function(s,i,l,v,w,x,_){var E=this.drawingContext,C=l/2,A=v/2,O=0,I=[];for(s+=C,i+=A;1e-5<=x-w;)O=Math.min(x-w,c.HALF_PI),I.push(this._acuteArcToBezier(w,O)),w+=O;return this._doFill&&(E.beginPath(),I.forEach(function(R,L){L===0&&E.moveTo(s+R.ax*C,i+R.ay*A),E.bezierCurveTo(s+R.bx*C,i+R.by*A,s+R.cx*C,i+R.cy*A,s+R.dx*C,i+R.dy*A)}),_!==c.PIE&&_!=null||E.lineTo(s,i),E.closePath(),E.fill()),this._doStroke&&(E.beginPath(),I.forEach(function(R,L){L===0&&E.moveTo(s+R.ax*C,i+R.ay*A),E.bezierCurveTo(s+R.bx*C,i+R.by*A,s+R.cx*C,i+R.cy*A,s+R.dx*C,i+R.dy*A)}),_===c.PIE?(E.lineTo(s,i),E.closePath()):_===c.CHORD&&E.closePath(),E.stroke()),this},t.default.Renderer2D.prototype.ellipse=function(s){var i=this.drawingContext,l=this._doFill,v=this._doStroke,w=parseFloat(s[0]),x=parseFloat(s[1]),_=parseFloat(s[2]),E=parseFloat(s[3]);if(l&&!v){if(this._getFill()===o)return this}else if(!l&&v&&this._getStroke()===o)return this;var C=_/2*.5522847498,A=E/2*.5522847498,O=w+_,I=x+E,R=w+_/2,L=x+E/2;i.beginPath(),i.moveTo(w,L),i.bezierCurveTo(w,L-A,R-C,x,R,x),i.bezierCurveTo(R+C,x,O,L-A,O,L),i.bezierCurveTo(O,L+A,R+C,I,R,I),i.bezierCurveTo(R-C,I,w,L+A,w,L),l&&i.fill(),v&&i.stroke()},t.default.Renderer2D.prototype.line=function(s,i,l,v){var w=this.drawingContext;return this._doStroke&&(this._getStroke()===o||(w.beginPath(),w.moveTo(s,i),w.lineTo(l,v),w.stroke())),this},t.default.Renderer2D.prototype.point=function(s,i){var l=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===o)return this;var v=this._getStroke(),w=this._getFill();this._setFill(v),l.beginPath(),l.arc(s,i,l.lineWidth/2,0,c.TWO_PI,!1),l.fill(),this._setFill(w)},t.default.Renderer2D.prototype.quad=function(s,i,l,v,w,x,_,E){var C=this.drawingContext,A=this._doFill,O=this._doStroke;if(A&&!O){if(this._getFill()===o)return this}else if(!A&&O&&this._getStroke()===o)return this;return C.beginPath(),C.moveTo(s,i),C.lineTo(l,v),C.lineTo(w,x),C.lineTo(_,E),C.closePath(),A&&C.fill(),O&&C.stroke(),this},t.default.Renderer2D.prototype.rect=function(s){var i=s[0],l=s[1],v=s[2],w=s[3],x=s[4],_=s[5],E=s[6],C=s[7],A=this.drawingContext,O=this._doFill,I=this._doStroke;if(O&&!I){if(this._getFill()===o)return this}else if(!O&&I&&this._getStroke()===o)return this;if(A.beginPath(),x===void 0)A.rect(i,l,v,w);else{_===void 0&&(_=x),E===void 0&&(E=_),C===void 0&&(C=E);var R=Math.abs(v),L=Math.abs(w),U=R/2,D=L/2;R<2*x&&(x=U),L<2*x&&(x=D),R<2*_&&(_=U),L<2*_&&(_=D),R<2*E&&(E=U),L<2*E&&(E=D),R<2*C&&(C=U),L<2*C&&(C=D),A.beginPath(),A.moveTo(i+x,l),A.arcTo(i+v,l,i+v,l+w,_),A.arcTo(i+v,l+w,i,l+w,E),A.arcTo(i,l+w,i,l,C),A.arcTo(i,l,i+v,l,x),A.closePath()}return this._doFill&&A.fill(),this._doStroke&&A.stroke(),this},t.default.Renderer2D.prototype.triangle=function(s){var i=this.drawingContext,l=this._doFill,v=this._doStroke,w=s[0],x=s[1],_=s[2],E=s[3],C=s[4],A=s[5];if(l&&!v){if(this._getFill()===o)return this}else if(!l&&v&&this._getStroke()===o)return this;i.beginPath(),i.moveTo(w,x),i.lineTo(_,E),i.lineTo(C,A),i.closePath(),l&&i.fill(),v&&i.stroke()},t.default.Renderer2D.prototype.endShape=function(s,i,l,v,w,x,_){if(i.length===0)return this;if(!this._doStroke&&!this._doFill)return this;var E,C,A,O=s===c.CLOSE;O&&!x&&i.push(i[0]);var I=i.length;if(!l||_!==c.POLYGON&&_!==null)if(!v||_!==c.POLYGON&&_!==null)if(!w||_!==c.POLYGON&&_!==null)if(_===c.POINTS)for(C=0;C<I;C++)E=i[C],this._doStroke&&this._pInst.stroke(E[6]),this._pInst.point(E[0],E[1]);else if(_===c.LINES)for(C=0;C+1<I;C+=2)E=i[C],this._doStroke&&this._pInst.stroke(i[C+1][6]),this._pInst.line(E[0],E[1],i[C+1][0],i[C+1][1]);else if(_===c.TRIANGLES)for(C=0;C+2<I;C+=3)E=i[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(E[0],E[1]),this.drawingContext.lineTo(i[C+1][0],i[C+1][1]),this.drawingContext.lineTo(i[C+2][0],i[C+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(i[C+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(i[C+2][6]),this.drawingContext.stroke());else if(_===c.TRIANGLE_STRIP)for(C=0;C+1<I;C++)E=i[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(i[C+1][0],i[C+1][1]),this.drawingContext.lineTo(E[0],E[1]),this._doStroke&&this._pInst.stroke(i[C+1][6]),this._doFill&&this._pInst.fill(i[C+1][5]),C+2<I&&(this.drawingContext.lineTo(i[C+2][0],i[C+2][1]),this._doStroke&&this._pInst.stroke(i[C+2][6]),this._doFill&&this._pInst.fill(i[C+2][5])),this._doFillStrokeClose(O);else if(_===c.TRIANGLE_FAN){if(2<I){for(this.drawingContext.beginPath(),C=2;C<I;C++)E=i[C],this.drawingContext.moveTo(i[0][0],i[0][1]),this.drawingContext.lineTo(i[C-1][0],i[C-1][1]),this.drawingContext.lineTo(E[0],E[1]),this.drawingContext.lineTo(i[0][0],i[0][1]),C<I-1&&(this._doFill&&E[5]!==i[C+1][5]||this._doStroke&&E[6]!==i[C+1][6])&&(this._doFill&&(this._pInst.fill(E[5]),this.drawingContext.fill(),this._pInst.fill(i[C+1][5])),this._doStroke&&(this._pInst.stroke(E[6]),this.drawingContext.stroke(),this._pInst.stroke(i[C+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(O)}}else if(_===c.QUADS)for(C=0;C+3<I;C+=4){for(E=i[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(E[0],E[1]),A=1;A<4;A++)this.drawingContext.lineTo(i[C+A][0],i[C+A][1]);this.drawingContext.lineTo(E[0],E[1]),this._doFill&&this._pInst.fill(i[C+3][5]),this._doStroke&&this._pInst.stroke(i[C+3][6]),this._doFillStrokeClose(O)}else if(_===c.QUAD_STRIP){if(3<I)for(C=0;C+1<I;C+=2)E=i[C],this.drawingContext.beginPath(),C+3<I?(this.drawingContext.moveTo(i[C+2][0],i[C+2][1]),this.drawingContext.lineTo(E[0],E[1]),this.drawingContext.lineTo(i[C+1][0],i[C+1][1]),this.drawingContext.lineTo(i[C+3][0],i[C+3][1]),this._doFill&&this._pInst.fill(i[C+3][5]),this._doStroke&&this._pInst.stroke(i[C+3][6])):(this.drawingContext.moveTo(E[0],E[1]),this.drawingContext.lineTo(i[C+1][0],i[C+1][1])),this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[0][0],i[0][1]),C=1;C<I;C++)(E=i[C]).isVert&&(E.moveTo?this.drawingContext.moveTo(E[0],E[1]):this.drawingContext.lineTo(E[0],E[1]));this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),C=0;C<I;C++)i[C].isVert?i[C].moveTo?this.drawingContext.moveTo(i[C][0],i[C][1]):this.drawingContext.lineTo(i[C][0],i[C][1]):this.drawingContext.quadraticCurveTo(i[C][0],i[C][1],i[C][2],i[C][3]);this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),C=0;C<I;C++)i[C].isVert?i[C].moveTo?this.drawingContext.moveTo(i[C][0],i[C][1]):this.drawingContext.lineTo(i[C][0],i[C][1]):this.drawingContext.bezierCurveTo(i[C][0],i[C][1],i[C][2],i[C][3],i[C][4],i[C][5]);this._doFillStrokeClose(O)}else if(3<I){var R=[],L=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[1][0],i[1][1]),C=1;C+2<I;C++)E=i[C],R[0]=[E[0],E[1]],R[1]=[E[0]+(L*i[C+1][0]-L*i[C-1][0])/6,E[1]+(L*i[C+1][1]-L*i[C-1][1])/6],R[2]=[i[C+1][0]+(L*i[C][0]-L*i[C+2][0])/6,i[C+1][1]+(L*i[C][1]-L*i[C+2][1])/6],R[3]=[i[C+1][0],i[C+1][1]],this.drawingContext.bezierCurveTo(R[1][0],R[1][1],R[2][0],R[2][1],R[3][0],R[3][1]);O&&this.drawingContext.lineTo(i[C+1][0],i[C+1][1]),this._doFillStrokeClose(O)}return x=w=v=l=!1,O&&i.pop(),this},t.default.Renderer2D.prototype.strokeCap=function(s){return s!==c.ROUND&&s!==c.SQUARE&&s!==c.PROJECT||(this.drawingContext.lineCap=s),this},t.default.Renderer2D.prototype.strokeJoin=function(s){return s!==c.ROUND&&s!==c.BEVEL&&s!==c.MITER||(this.drawingContext.lineJoin=s),this},t.default.Renderer2D.prototype.strokeWeight=function(s){return this.drawingContext.lineWidth=s===void 0||s===0?1e-4:s,this},t.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},t.default.Renderer2D.prototype._setFill=function(s){s!==this._cachedFillStyle&&(this.drawingContext.fillStyle=s,this._cachedFillStyle=s)},t.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},t.default.Renderer2D.prototype._setStroke=function(s){s!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=s,this._cachedStrokeStyle=s)},t.default.Renderer2D.prototype.bezier=function(s,i,l,v,w,x,_,E){return this._pInst.beginShape(),this._pInst.vertex(s,i),this._pInst.bezierVertex(l,v,w,x,_,E),this._pInst.endShape(),this},t.default.Renderer2D.prototype.curve=function(s,i,l,v,w,x,_,E){return this._pInst.beginShape(),this._pInst.curveVertex(s,i),this._pInst.curveVertex(l,v),this._pInst.curveVertex(w,x),this._pInst.curveVertex(_,E),this._pInst.endShape(),this},t.default.Renderer2D.prototype._doFillStrokeClose=function(s){s&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},t.default.Renderer2D.prototype.applyMatrix=function(s,i,l,v,w,x){this.drawingContext.transform(s,i,l,v,w,x)},t.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},t.default.Renderer2D.prototype.rotate=function(s){this.drawingContext.rotate(s)},t.default.Renderer2D.prototype.scale=function(s,i){return this.drawingContext.scale(s,i),this},t.default.Renderer2D.prototype.translate=function(s,i){return s instanceof t.default.Vector&&(i=s.y,s=s.x),this.drawingContext.translate(s,i),this},t.default.Renderer2D.prototype.text=function(s,i,l,v,w){var x;v!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(x=!0,this.drawingContext.textBaseline=c.TOP);var _=t.default.Renderer.prototype.text.apply(this,arguments);return x&&(this.drawingContext.textBaseline=c.BASELINE),_},t.default.Renderer2D.prototype._renderText=function(s,i,l,v,w){if(!(w<=v))return s.push(),this._isOpenType()?this._textFont._renderPath(i,l,v,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(i,l,v),this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(i,l,v))),s.pop(),s},t.default.Renderer2D.prototype.textWidth=function(s){return this._isOpenType()?this._textFont._textWidth(s,this._textSize):this.drawingContext.measureText(s).width},t.default.Renderer2D.prototype._applyTextProperties=function(){var s,i=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),s=this._textFont,this._isOpenType()&&(s=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(s||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,i},t.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),t.default.Renderer.prototype.push.apply(this)},t.default.Renderer2D.prototype.pop=function(s){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,t.default.Renderer.prototype.pop.call(this,s)};var r=t.default.Renderer2D;h.default=r},{"../image/filters":285,"./constants":253,"./main":264,"./p5.Renderer":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],269:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var p,t=(p=e("./main"))&&p.__esModule?p:{default:p};t.default.prototype._promisePreloads=[];var c=!(t.default.prototype.registerPromisePreload=function(m){t.default.prototype._promisePreloads.push(m)});t.default.prototype._setupPromisePreloads=function(){var m=!0,f=!1,o=void 0;try{for(var r,s=this._promisePreloads[Symbol.iterator]();!(m=(r=s.next()).done);m=!0){var i=r.value,l=this,v=i.method,w=i.addCallbacks,x=i.legacyPreloadSetup,_=i.target||this,E=_[v].bind(_);if(_===t.default.prototype){if(c)continue;l=null,E=_[v]}_[v]=this._wrapPromisePreload(l,E,w),x&&(_[x.method]=this._legacyPreloadGenerator(l,x,_[v]))}}catch(C){f=!0,o=C}finally{try{m||s.return==null||s.return()}finally{if(f)throw o}}c=!0},t.default.prototype._wrapPromisePreload=function(m,f,o){var r=function(){var s=this;this._incrementPreload();for(var i=null,l=null,v=arguments.length,w=new Array(v),x=0;x<v;x++)w[x]=arguments[x];if(o)for(var _=w.length-1;0<=_&&!l&&typeof w[_]=="function";_--)l=i,i=w.pop();var E=Promise.resolve(f.apply(this,w));return i&&E.then(i),l&&E.catch(l),E.then(function(){return s._decrementPreload()}),E};return m&&(r=r.bind(m)),r};function d(){return{}}t.default.prototype._legacyPreloadGenerator=function(m,f,o){var r=f.createBaseObject||d,s=function(){var i=this;this._incrementPreload();var l=r.apply(this,arguments);return o.apply(this,arguments).then(function(v){Object.assign(l,v),i._decrementPreload()}),l};return m&&(s=s.bind(m)),s}},{"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],270:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("./main"))&&p.__esModule?p:{default:p},c=function(r){if(r&&r.__esModule)return r;if(r===null||m(r)!=="object"&&typeof r!="function")return{default:r};var s=d();if(s&&s.has(r))return s.get(r);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in r)if(Object.prototype.hasOwnProperty.call(r,v)){var w=l?Object.getOwnPropertyDescriptor(r,v):null;w&&(w.get||w.set)?Object.defineProperty(i,v,w):i[v]=r[v]}return i.default=r,s&&s.set(r,i),i}(e("./constants"));function d(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return d=function(){return r},r}function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var f="defaultCanvas0";t.default.prototype.createCanvas=function(r,s,i){t.default._validateParameters("createCanvas",arguments);var l,v=i||c.P2D;if(v===c.WEBGL){if(l=document.getElementById(f)){l.parentNode.removeChild(l);var w=this._renderer;this._elements=this._elements.filter(function(E){return E!==w})}(l=document.createElement("canvas")).id=f,l.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)l=this.canvas;else{l=document.createElement("canvas");for(var x=0;document.getElementById("defaultCanvas".concat(x));)x++;f="defaultCanvas".concat(x),l.id=f,l.classList.add("p5Canvas")}if(this._setupDone||(l.dataset.hidden=!0,l.style.visibility="hidden"),this._userNode)this._userNode.appendChild(l);else{if(document.getElementsByTagName("main").length===0){var _=document.createElement("main");document.body.appendChild(_)}document.getElementsByTagName("main")[0].appendChild(l)}return v===c.WEBGL?(this._setProperty("_renderer",new t.default.RendererGL(l,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new t.default.Renderer2D(l,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(r,s),this._renderer._applyDefaults(),this._renderer},t.default.prototype.resizeCanvas=function(r,s,i){if(t.default._validateParameters("resizeCanvas",arguments),this._renderer){var l={};for(var v in this.drawingContext){var w=this.drawingContext[v];m(w)!=="object"&&typeof w!="function"&&(l[v]=w)}for(var x in this._renderer.resize(r,s),this.width=r,this.height=s,l)try{this.drawingContext[x]=l[x]}catch{}i||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},t.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},t.default.prototype.createGraphics=function(r,s,i){return t.default._validateParameters("createGraphics",arguments),new t.default.Graphics(r,s,i,this)},t.default.prototype.blendMode=function(r){t.default._validateParameters("blendMode",arguments),r===c.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),r=c.BLEND),this._renderer.blendMode(r)};var o=t.default;h.default=o},{"../webgl/p5.RendererGL":318,"./constants":253,"./main":264,"./p5.Graphics":266,"./p5.Renderer2D":268,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],271:[function(e,g,h){function p(r){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}e("core-js/modules/es.array.slice"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t=f(e("../main")),c=function(r){if(r&&r.__esModule)return r;if(r===null||p(r)!=="object"&&typeof r!="function")return{default:r};var s=m();if(s&&s.has(r))return s.get(r);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in r)if(Object.prototype.hasOwnProperty.call(r,v)){var w=l?Object.getOwnPropertyDescriptor(r,v):null;w&&(w.get||w.set)?Object.defineProperty(i,v,w):i[v]=r[v]}return i.default=r,s&&s.set(r,i),i}(e("../constants")),d=f(e("../helpers"));function m(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return m=function(){return r},r}function f(r){return r&&r.__esModule?r:{default:r}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),t.default.prototype._normalizeArcAngles=function(r,s,i,l,v){var w;return r-=c.TWO_PI*Math.floor(r/c.TWO_PI),s-=c.TWO_PI*Math.floor(s/c.TWO_PI),w=Math.min(Math.abs(r-s),c.TWO_PI-Math.abs(r-s)),v&&(r=r<=c.HALF_PI?Math.atan(i/l*Math.tan(r)):r>c.HALF_PI&&r<=3*c.HALF_PI?Math.atan(i/l*Math.tan(r))+c.PI:Math.atan(i/l*Math.tan(r))+c.TWO_PI,s=s<=c.HALF_PI?Math.atan(i/l*Math.tan(s)):s>c.HALF_PI&&s<=3*c.HALF_PI?Math.atan(i/l*Math.tan(s))+c.PI:Math.atan(i/l*Math.tan(s))+c.TWO_PI),s<r&&(s+=c.TWO_PI),{start:r,stop:s,correspondToSamePoint:w<1e-5}},t.default.prototype.arc=function(r,s,i,l,v,w,x,_){if(t.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(v===w)return this;v=this._toRadians(v),w=this._toRadians(w),i=Math.abs(i),l=Math.abs(l);var E=d.default.modeAdjust(r,s,i,l,this._renderer._ellipseMode),C=this._normalizeArcAngles(v,w,E.w,E.h,!0);return C.correspondToSamePoint?this._renderer.ellipse([E.x,E.y,E.w,E.h,_]):(this._renderer.arc(E.x,E.y,E.w,E.h,C.start,C.stop,x,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[E.x,E.y,E.w,E.h,C.start,C.stop,x])),this},t.default.prototype.ellipse=function(r,s,i,l,v){return t.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},t.default.prototype.circle=function(){t.default._validateParameters("circle",arguments);var r=Array.prototype.slice.call(arguments,0,2);return r.push(arguments[2]),r.push(arguments[2]),this._renderEllipse.apply(this,r)},t.default.prototype._renderEllipse=function(r,s,i,l,v){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;i<0&&(i=Math.abs(i)),l===void 0?l=i:l<0&&(l=Math.abs(l));var w=d.default.modeAdjust(r,s,i,l,this._renderer._ellipseMode);return this._renderer.ellipse([w.x,w.y,w.w,w.h,v]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[w.x,w.y,w.w,w.h]),this},t.default.prototype.line=function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var l;return t.default._validateParameters("line",s),this._renderer._doStroke&&(l=this._renderer).line.apply(l,s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",s),this},t.default.prototype.point=function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var l;return t.default._validateParameters("point",s),this._renderer._doStroke&&(s.length===1&&s[0]instanceof t.default.Vector?this._renderer.point.call(this._renderer,s[0].x,s[0].y,s[0].z):((l=this._renderer).point.apply(l,s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",s))),this},t.default.prototype.quad=function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var l;return t.default._validateParameters("quad",s),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&s.length<=12?this._renderer.quad.call(this._renderer,s[0],s[1],0,s[2],s[3],0,s[4],s[5],0,s[6],s[7],0,s[8],s[9]):((l=this._renderer).quad.apply(l,s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",s))),this},t.default.prototype.rect=function(){return t.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},t.default.prototype.square=function(r,s,i,l,v,w,x){return t.default._validateParameters("square",arguments),this._renderRect.call(this,r,s,i,i,l,v,w,x)},t.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var r=d.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),s=[r.x,r.y,r.w,r.h],i=4;i<arguments.length;i++)s[i]=arguments[i];this._renderer.rect(s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[r.x,r.y,r.w,r.h])}return this},t.default.prototype.triangle=function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t.default._validateParameters("triangle",s),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",s),this};var o=t.default;h.default=o},{"../constants":253,"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../helpers":260,"../main":264,"core-js/modules/es.array.slice":162}],272:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../main"))&&t.__esModule?t:{default:t},d=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=m();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}(e("../constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}c.default.prototype.ellipseMode=function(o){return c.default._validateParameters("ellipseMode",arguments),o!==d.CORNER&&o!==d.CORNERS&&o!==d.RADIUS&&o!==d.CENTER||(this._renderer._ellipseMode=o),this},c.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},c.default.prototype.rectMode=function(o){return c.default._validateParameters("rectMode",arguments),o!==d.CORNER&&o!==d.CORNERS&&o!==d.RADIUS&&o!==d.CENTER||(this._renderer._rectMode=o),this},c.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},c.default.prototype.strokeCap=function(o){return c.default._validateParameters("strokeCap",arguments),o!==d.ROUND&&o!==d.SQUARE&&o!==d.PROJECT||this._renderer.strokeCap(o),this},c.default.prototype.strokeJoin=function(o){return c.default._validateParameters("strokeJoin",arguments),o!==d.ROUND&&o!==d.BEVEL&&o!==d.MITER||this._renderer.strokeJoin(o),this},c.default.prototype.strokeWeight=function(o){return c.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(o),this};var f=c.default;h.default=f},{"../constants":253,"../main":264}],273:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../main"))&&p.__esModule?p:{default:p};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),t.default.prototype.bezier=function(){for(var d,m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];return t.default._validateParameters("bezier",f),(this._renderer._doStroke||this._renderer._doFill)&&(d=this._renderer).bezier.apply(d,f),this},t.default.prototype.bezierDetail=function(d){return t.default._validateParameters("bezierDetail",arguments),this._bezierDetail=d,this},t.default.prototype.bezierPoint=function(d,m,f,o,r){t.default._validateParameters("bezierPoint",arguments);var s=1-r;return Math.pow(s,3)*d+3*Math.pow(s,2)*r*m+3*s*Math.pow(r,2)*f+Math.pow(r,3)*o},t.default.prototype.bezierTangent=function(d,m,f,o,r){t.default._validateParameters("bezierTangent",arguments);var s=1-r;return 3*o*Math.pow(r,2)-3*f*Math.pow(r,2)+6*f*s*r-6*m*s*r+3*m*Math.pow(s,2)-3*d*Math.pow(s,2)},t.default.prototype.curve=function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];var o;return t.default._validateParameters("curve",m),this._renderer._doStroke&&(o=this._renderer).curve.apply(o,m),this},t.default.prototype.curveDetail=function(d){return t.default._validateParameters("curveDetail",arguments),this._curveDetail=d<3?3:d,this},t.default.prototype.curveTightness=function(d){return t.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=d,this},t.default.prototype.curvePoint=function(d,m,f,o,r){t.default._validateParameters("curvePoint",arguments);var s=r*r*r,i=r*r;return d*(-.5*s+i-.5*r)+m*(1.5*s-2.5*i+1)+f*(-1.5*s+2*i+.5*r)+o*(.5*s-.5*i)},t.default.prototype.curveTangent=function(d,m,f,o,r){t.default._validateParameters("curveTangent",arguments);var s=r*r;return d*(-3*s/2+2*r-.5)+m*(9*s/2-5*r)+f*(-9*s/2+4*r+.5)+o*(3*s/2-r)};var c=t.default;h.default=c},{"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../main":264}],274:[function(e,g,h){function p(_){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(_)}e("core-js/modules/es.array.slice"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../main"))&&t.__esModule?t:{default:t},d=function(_){if(_&&_.__esModule)return _;if(_===null||p(_)!=="object"&&typeof _!="function")return{default:_};var E=m();if(E&&E.has(_))return E.get(_);var C={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in _)if(Object.prototype.hasOwnProperty.call(_,O)){var I=A?Object.getOwnPropertyDescriptor(_,O):null;I&&(I.get||I.set)?Object.defineProperty(C,O,I):C[O]=_[O]}return C.default=_,E&&E.set(_,C),C}(e("../constants"));function m(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return m=function(){return _},_}var f=null,o=[],r=[],s=!1,i=!1,l=!1,v=!1,w=!0;c.default.prototype.beginContour=function(){return r=[],v=!0,this},c.default.prototype.beginShape=function(_){var E;return c.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(E=this._renderer).beginShape.apply(E,arguments):(f=_===d.POINTS||_===d.LINES||_===d.TRIANGLES||_===d.TRIANGLE_FAN||_===d.TRIANGLE_STRIP||_===d.QUADS||_===d.QUAD_STRIP?_:null,o=[],r=[]),this},c.default.prototype.bezierVertex=function(){for(var _=arguments.length,E=new Array(_),C=0;C<_;C++)E[C]=arguments[C];var A;if(c.default._validateParameters("bezierVertex",E),this._renderer.isP3D)(A=this._renderer).bezierVertex.apply(A,E);else if(o.length===0)c.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{s=!0;for(var O=[],I=0;I<E.length;I++)O[I]=E[I];O.isVert=!1,v?r.push(O):o.push(O)}return this},c.default.prototype.curveVertex=function(){for(var _=arguments.length,E=new Array(_),C=0;C<_;C++)E[C]=arguments[C];var A;return c.default._validateParameters("curveVertex",E),this._renderer.isP3D?(A=this._renderer).curveVertex.apply(A,E):(i=!0,this.vertex(E[0],E[1])),this},c.default.prototype.endContour=function(){var _=r[0].slice();_.isVert=r[0].isVert,_.moveTo=!1,r.push(_),w&&(o.push(o[0]),w=!1);for(var E=0;E<r.length;E++)o.push(r[E]);return this},c.default.prototype.endShape=function(_){if(c.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(_,i,s,l,v,f);else{if(o.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var E=_===d.CLOSE;E&&!v&&o.push(o[0]),this._renderer.endShape(_,o,i,s,l,v,f),w=!(v=l=s=i=!1),E&&o.pop()}return this},c.default.prototype.quadraticVertex=function(){for(var _=arguments.length,E=new Array(_),C=0;C<_;C++)E[C]=arguments[C];if(c.default._validateParameters("quadraticVertex",E),this._renderer.isP3D){var A;(A=this._renderer).quadraticVertex.apply(A,E)}else{if(this._contourInited){var O={};return O.x=E[0],O.y=E[1],O.x3=E[2],O.y3=E[3],O.type=d.QUADRATIC,this._contourVertices.push(O),this}if(0<o.length){l=!0;for(var I=[],R=0;R<E.length;R++)I[R]=E[R];I.isVert=!1,v?r.push(I):o.push(I)}else c.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},c.default.prototype.vertex=function(_,E,C,A,O){if(this._renderer.isP3D){var I;(I=this._renderer).vertex.apply(I,arguments)}else{var R=[];R.isVert=!0,R[0]=_,R[1]=E,R[2]=0,R[3]=0,R[4]=0,R[5]=this._renderer._getFill(),R[6]=this._renderer._getStroke(),C&&(R.moveTo=C),v?(r.length===0&&(R.moveTo=!0),r.push(R)):o.push(R)}return this},c.default.prototype.normal=function(_,E,C){var A;return this._assert3d("normal"),c.default._validateParameters("normal",arguments),(A=this._renderer).normal.apply(A,arguments),this};var x=c.default;h.default=x},{"../constants":253,"../main":264,"core-js/modules/es.array.slice":162}],275:[function(e,g,h){function p(t){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(t)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,c){window.setTimeout(t,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var t=Object.keys,c=Object.defineProperty,d=typeof Symbol=="function"&&p(Symbol())==="symbol",m=Object.prototype.propertyIsEnumerable,f=function(o){return function(r){return m.call(o,r)}};c(Object,"assign",{value:function(o,r){if(o==null)throw new TypeError("target must be an object");var s,i,l,v,w=Object(o);for(s=1;s<arguments.length;++s)for(i=Object(arguments[s]),v=t(i),d&&Object.getOwnPropertySymbols&&v.push.apply(v,Object.getOwnPropertySymbols(i).filter(f(i))),l=0;l<v.length;++l)w[v[l]]=i[v[l]];return w},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":229}],276:[function(e,g,h){e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("./main"))&&p.__esModule?p:{default:p};t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var d=this._styles.pop();d?(this._renderer.pop(d.renderer),Object.assign(this,d.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(d){if(!this._inUserDraw&&this._setupDone){var m=parseInt(d);(isNaN(m)||m<1)&&(m=1);var f=this._isGlobal?window:this;if(typeof f.draw=="function"){f.setup===void 0&&f.scale(f._pixelDensity,f._pixelDensity);for(var o=function(s){s.call(f)},r=0;r<m;r++){f.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),f._renderer.isP3D&&f._renderer._update(),f._setProperty("frameCount",f.frameCount+1),f._registeredMethods.pre.forEach(o),this._inUserDraw=!0;try{f.draw()}finally{this._inUserDraw=!1}f._registeredMethods.post.forEach(o)}}}};var c=t.default;h.default=c},{"./main":264,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":173,"core-js/modules/web.dom-collections.for-each":228}],277:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("./main"))&&p.__esModule?p:{default:p};function c(m){return function(f){if(Array.isArray(f)){for(var o=0,r=new Array(f.length);o<f.length;o++)r[o]=f[o];return r}}(m)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.default.prototype.applyMatrix=function(){var m,f,o=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||o?(m=this._renderer).applyMatrix.apply(m,c(arguments[0])):(f=this._renderer).applyMatrix.apply(f,arguments),this},t.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},t.default.prototype.rotate=function(m,f){return t.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(m),f),this},t.default.prototype.rotateX=function(m){return this._assert3d("rotateX"),t.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(m)),this},t.default.prototype.rotateY=function(m){return this._assert3d("rotateY"),t.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(m)),this},t.default.prototype.rotateZ=function(m){return this._assert3d("rotateZ"),t.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(m)),this},t.default.prototype.scale=function(m,f,o){if(t.default._validateParameters("scale",arguments),m instanceof t.default.Vector){var r=m;m=r.x,f=r.y,o=r.z}else if(m instanceof Array){var s=m;m=s[0],f=s[1],o=s[2]||1}return isNaN(f)?f=o=m:isNaN(o)&&(o=1),this._renderer.scale.call(this._renderer,m,f,o),this},t.default.prototype.shearX=function(m){t.default._validateParameters("shearX",arguments);var f=this._toRadians(m);return this._renderer.applyMatrix(1,0,Math.tan(f),1,0,0),this},t.default.prototype.shearY=function(m){t.default._validateParameters("shearY",arguments);var f=this._toRadians(m);return this._renderer.applyMatrix(1,Math.tan(f),0,1,0,0),this},t.default.prototype.translate=function(m,f,o){return t.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(m,f,o):this._renderer.translate(m,f),this};var d=t.default;h.default=d},{"./main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229}],278:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};function c(m){return function(f){if(Array.isArray(f)){for(var o=0,r=new Array(f.length);o<f.length;o++)r[o]=f[o];return r}}(m)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(m){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(m)}t.default.prototype.storeItem=function(m,f){typeof m!="string"&&console.log("The argument that you passed to storeItem() - ".concat(m," is not a string.")),m.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(m," must not end with 'p5TypeID'.")),f===void 0&&console.log("You cannot store undefined variables using storeItem().");var o=d(f);switch(o){case"number":case"boolean":f=f.toString();break;case"object":f instanceof t.default.Color?o="p5.Color":f instanceof t.default.Vector&&(o="p5.Vector",f=[f.x,f.y,f.z]),f=JSON.stringify(f)}localStorage.setItem(m,f);var r="".concat(m,"p5TypeID");localStorage.setItem(r,o)},t.default.prototype.getItem=function(m){var f=localStorage.getItem(m),o=localStorage.getItem("".concat(m,"p5TypeID"));if(o===void 0)console.log("Unable to determine type of item stored under ".concat(m,"in local storage. Did you save the item with something other than setItem()?"));else if(f!==null)switch(o){case"number":f=parseFloat(f);break;case"boolean":f=f==="true";break;case"object":f=JSON.parse(f);break;case"p5.Color":f=JSON.parse(f),f=this.color.apply(this,c(f.levels));break;case"p5.Vector":f=JSON.parse(f),f=this.createVector.apply(this,c(f))}return f},t.default.prototype.clearStorage=function(){localStorage.clear()},t.default.prototype.removeItem=function(m){typeof m!="string"&&console.log("The argument that you passed to removeItem() - ".concat(m," is not a string.")),localStorage.removeItem(m),localStorage.removeItem("".concat(m,"p5TypeID"))}},{"../core/main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],279:[function(e,g,h){e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.prototype.createStringDict=function(d,m){return t.default._validateParameters("createStringDict",arguments),new t.default.StringDict(d,m)},t.default.prototype.createNumberDict=function(d,m){return t.default._validateParameters("createNumberDict",arguments),new t.default.NumberDict(d,m)},t.default.TypedDict=function(d,m){return d instanceof Object?this.data=d:(this.data={},this.data[d]=m),this},t.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},t.default.TypedDict.prototype.hasKey=function(d){return this.data.hasOwnProperty(d)},t.default.TypedDict.prototype.get=function(d){if(this.data.hasOwnProperty(d))return this.data[d];console.log("".concat(d," does not exist in this Dictionary"))},t.default.TypedDict.prototype.set=function(d,m){this._validate(m)?this.data[d]=m:console.log("Those values dont work for this dictionary type.")},t.default.TypedDict.prototype._addObj=function(d){for(var m in d)this.set(m,d[m])},t.default.TypedDict.prototype.create=function(d,m){d instanceof Object&&m===void 0?this._addObj(d):d!==void 0?this.set(d,m):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},t.default.TypedDict.prototype.clear=function(){this.data={}},t.default.TypedDict.prototype.remove=function(d){if(!this.data.hasOwnProperty(d))throw new Error("".concat(d," does not exist in this Dictionary"));delete this.data[d]},t.default.TypedDict.prototype.print=function(){for(var d in this.data)console.log("key:".concat(d," value:").concat(this.data[d]))},t.default.TypedDict.prototype.saveTable=function(d){var m="";for(var f in this.data)m+="".concat(f,",").concat(this.data[f],`
`);var o=new Blob([m],{type:"text/csv"});t.default.prototype.downloadFile(o,d||"mycsv","csv")},t.default.TypedDict.prototype.saveJSON=function(d,m){t.default.prototype.saveJSON(this.data,d,m)},t.default.TypedDict.prototype._validate=function(d){return!0},t.default.StringDict=function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];t.default.TypedDict.apply(this,m)},t.default.StringDict.prototype=Object.create(t.default.TypedDict.prototype),t.default.StringDict.prototype._validate=function(d){return typeof d=="string"},t.default.NumberDict=function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];t.default.TypedDict.apply(this,m)},t.default.NumberDict.prototype=Object.create(t.default.TypedDict.prototype),t.default.NumberDict.prototype._validate=function(d){return typeof d=="number"},t.default.NumberDict.prototype.add=function(d,m){this.data.hasOwnProperty(d)?this.data[d]+=m:console.log("The key - ".concat(d," does not exist in this dictionary."))},t.default.NumberDict.prototype.sub=function(d,m){this.add(d,-m)},t.default.NumberDict.prototype.mult=function(d,m){this.data.hasOwnProperty(d)?this.data[d]*=m:console.log("The key - ".concat(d," does not exist in this dictionary."))},t.default.NumberDict.prototype.div=function(d,m){this.data.hasOwnProperty(d)?this.data[d]/=m:console.log("The key - ".concat(d," does not exist in this dictionary."))},t.default.NumberDict.prototype._valueTest=function(d){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var m=this.data[Object.keys(this.data)[0]];for(var f in this.data)this.data[f]*d<m*d&&(m=this.data[f]);return m},t.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},t.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},t.default.NumberDict.prototype._keyTest=function(d){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var m=Object.keys(this.data)[0],f=1;f<Object.keys(this.data).length;f++)Object.keys(this.data)[f]*d<m*d&&(m=Object.keys(this.data)[f]);return m},t.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},t.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)};var c=t.default.TypedDict;h.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],280:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};function c(r){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}function d(r,s,i){(s._userNode?s._userNode:document.body).appendChild(r);var l=i?new t.default.MediaElement(r,s):new t.default.Element(r,s);return s._elements.push(l),l}function m(r,s,i,l){var v=document.createElement(s);typeof(i=i||"")=="string"&&(i=[i]);var w=!0,x=!1,_=void 0;try{for(var E,C=i[Symbol.iterator]();!(w=(E=C.next()).done);w=!0){var A=E.value,O=document.createElement("source");O.setAttribute("src",A),v.appendChild(O)}}catch(R){x=!0,_=R}finally{try{w||C.return==null||C.return()}finally{if(x)throw _}}typeof l=="function"&&v.addEventListener("canplaythrough",function R(){l(),v.removeEventListener("canplaythrough",R)});var I=d(v,r,!0);return I.loadedmetadata=!1,v.addEventListener("loadedmetadata",function(){I.width=v.videoWidth,I.height=v.videoHeight,I.elt.width===0&&(I.elt.width=v.videoWidth),I.elt.height===0&&(I.elt.height=v.videoHeight),I.presetPlaybackRate&&(I.elt.playbackRate=I.presetPlaybackRate,delete I.presetPlaybackRate),I.loadedmetadata=!0}),I}t.default.prototype.select=function(r,s){t.default._validateParameters("select",arguments);var i=this._getContainer(s).querySelector(r);return i?this._wrapElement(i):null},t.default.prototype.selectAll=function(r,s){t.default._validateParameters("selectAll",arguments);var i=[],l=this._getContainer(s).querySelectorAll(r);if(l)for(var v=0;v<l.length;v++){var w=this._wrapElement(l[v]);i.push(w)}return i},t.default.prototype._getContainer=function(r){var s=document;return typeof r=="string"?s=document.querySelector(r)||document:r instanceof t.default.Element?s=r.elt:r instanceof HTMLElement&&(s=r),s},t.default.prototype._wrapElement=function(r){var s=Array.prototype.slice.call(r.children);if(r.tagName!=="INPUT"||r.type!=="checkbox")return r.tagName==="VIDEO"||r.tagName==="AUDIO"?new t.default.MediaElement(r,this):r.tagName==="SELECT"?this.createSelect(new t.default.Element(r,this)):0<s.length&&s.every(function(l){return l.tagName==="INPUT"||l.tagName==="LABEL"})?this.createRadio(new t.default.Element(r,this)):new t.default.Element(r,this);var i=new t.default.Element(r,this);return i.checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},i},t.default.prototype.removeElements=function(r){t.default._validateParameters("removeElements",arguments),this._elements.filter(function(s){return!(s.elt instanceof HTMLCanvasElement)}).map(function(s){return s.remove()})},t.default.Element.prototype.changed=function(r){return t.default.Element._adjustListener("change",r,this),this},t.default.Element.prototype.input=function(r){return t.default.Element._adjustListener("input",r,this),this},t.default.prototype.createDiv=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",s=document.createElement("div");return s.innerHTML=r,d(s,this)},t.default.prototype.createP=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",s=document.createElement("p");return s.innerHTML=r,d(s,this)},t.default.prototype.createSpan=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",s=document.createElement("span");return s.innerHTML=r,d(s,this)},t.default.prototype.createImg=function(){t.default._validateParameters("createImg",arguments);var r,s=document.createElement("img"),i=arguments;return 1<i.length&&typeof i[1]=="string"&&(s.alt=i[1]),2<i.length&&typeof i[2]=="string"&&(s.crossOrigin=i[2]),s.src=i[0],r=d(s,this),s.addEventListener("load",function(){r.width=s.offsetWidth||s.width,r.height=s.offsetHeight||s.height;var l=i[i.length-1];typeof l=="function"&&l(r)}),r},t.default.prototype.createA=function(r,s,i){t.default._validateParameters("createA",arguments);var l=document.createElement("a");return l.href=r,l.innerHTML=s,i&&(l.target=i),d(l,this)},t.default.prototype.createSlider=function(r,s,i,l){t.default._validateParameters("createSlider",arguments);var v=document.createElement("input");return v.type="range",v.min=r,v.max=s,l===0?v.step=1e-18:l&&(v.step=l),typeof i=="number"&&(v.value=i),d(v,this)},t.default.prototype.createButton=function(r,s){t.default._validateParameters("createButton",arguments);var i=document.createElement("button");return i.innerHTML=r,s&&(i.value=s),d(i,this)},t.default.prototype.createCheckbox=function(){t.default._validateParameters("createCheckbox",arguments);var r=document.createElement("div"),s=document.createElement("input");s.type="checkbox";var i=document.createElement("label");i.appendChild(s),r.appendChild(i);var l=d(r,this);if(l.checked=function(){var w=l.elt.firstElementChild.getElementsByTagName("input")[0];if(w){if(arguments.length===0)return w.checked;w.checked=!!arguments[0]}return l},this.value=function(w){return l.value=w,this},arguments[0]){l.value(arguments[0]);var v=document.createElement("span");v.innerHTML=arguments[0],i.appendChild(v)}return arguments[1]&&(s.checked=!0),l},t.default.prototype.createSelect=function(){var r;t.default._validateParameters("createSelect",arguments);var s=arguments[0];if(s instanceof t.default.Element&&s.elt instanceof HTMLSelectElement)r=s,this.elt=s.elt;else if(s instanceof HTMLSelectElement)r=d(s,this),this.elt=s;else{var i=document.createElement("select");s&&typeof s=="boolean"&&i.setAttribute("multiple","true"),r=d(i,this),this.elt=i}return r.option=function(l,v){var w;if(l!==void 0){for(var x=0;x<this.elt.length;x+=1)if(this.elt[x].innerHTML===l){w=x;break}if(w!==void 0)v===!1?this.elt.remove(w):this.elt[w].value=v;else{var _=document.createElement("option");_.innerHTML=l,_.value=v===void 0?l:v,this.elt.appendChild(_),this._pInst._elements.push(_)}}},r.selected=function(l){if(l!==void 0){for(var v=0;v<this.elt.length;v+=1)this.elt[v].value.toString()===l.toString()&&(this.elt.selectedIndex=v);return this}if(this.elt.getAttribute("multiple")){var w=[],x=!0,_=!1,E=void 0;try{for(var C,A=this.elt.selectedOptions[Symbol.iterator]();!(x=(C=A.next()).done);x=!0){var O=C.value;w.push(O.value)}}catch(I){_=!0,E=I}finally{try{x||A.return==null||A.return()}finally{if(_)throw E}}return w}return this.elt.value},r.disable=function(l){if(typeof l=="string")for(var v=0;v<this.elt.length;v++)this.elt[v].value.toString()===l&&(this.elt[v].disabled=!0,this.elt[v].selected=!1);else this.elt.disabled=!0;return this},r},t.default.prototype.createRadio=function(){var r,s,i=arguments[0];i instanceof HTMLDivElement||i instanceof HTMLSpanElement?(r=i,typeof arguments[1]=="string"&&(s=arguments[1])):(typeof i=="string"&&(s=i),r=document.createElement("div"));var l=d(this.elt=r,this);l._name=s||"radioOption";function v(x){return x instanceof HTMLInputElement&&x.type==="radio"}function w(x){return x instanceof HTMLLabelElement}return l._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(x){return v(x)||w(x)&&v(x.firstElementChild)}).map(function(x){return v(x)?x:x.firstElementChild})},l.option=function(x,_){var E,C,A,O=!0,I=!1,R=void 0;try{for(var L,U=l._getOptionsArray()[Symbol.iterator]();!(O=(L=U.next()).done);O=!0){var D=L.value;if(D.value===x){E=D;break}}}catch(W){I=!0,R=W}finally{try{O||U.return==null||U.return()}finally{if(I)throw R}}return E===void 0&&((E=document.createElement("input")).setAttribute("type","radio"),E.setAttribute("value",x)),E.setAttribute("name",l._name),w(E.parentElement)?C=E.parentElement:(C=document.createElement("label")).insertAdjacentElement("afterbegin",E),C.lastElementChild instanceof HTMLSpanElement?A=C.lastElementChild:(A=document.createElement("span"),E.insertAdjacentElement("afterend",A)),A.innerHTML=_===void 0?x:_,this.elt.appendChild(C),E},l.remove=function(x){var _=!0,E=!1,C=void 0;try{for(var A,O=l._getOptionsArray()[Symbol.iterator]();!(_=(A=O.next()).done);_=!0){var I=A.value;if(I.value===x)return void(w(I.parentElement)?I.parentElement.remove():I.remove())}}catch(R){E=!0,C=R}finally{try{_||O.return==null||O.return()}finally{if(E)throw C}}},l.value=function(){var x="",_=!0,E=!1,C=void 0;try{for(var A,O=l._getOptionsArray()[Symbol.iterator]();!(_=(A=O.next()).done);_=!0){var I=A.value;if(I.checked){x=I.value;break}}}catch(R){E=!0,C=R}finally{try{_||O.return==null||O.return()}finally{if(E)throw C}}return x},l.selected=function(x){var _=null;if(x===void 0){var E=!0,C=!1,A=void 0;try{for(var O,I=l._getOptionsArray()[Symbol.iterator]();!(E=(O=I.next()).done);E=!0){var R=O.value;if(R.checked){_=R;break}}}catch(le){C=!0,A=le}finally{try{E||I.return==null||I.return()}finally{if(C)throw A}}}else{l._getOptionsArray().forEach(function(le){le.checked=!1,le.removeAttribute("checked")});var L=!0,U=!1,D=void 0;try{for(var W,H=l._getOptionsArray()[Symbol.iterator]();!(L=(W=H.next()).done);L=!0){var ae=W.value;ae.value===x&&(ae.setAttribute("checked",!0),ae.checked=!0,_=ae)}}catch(le){U=!0,D=le}finally{try{L||H.return==null||H.return()}finally{if(U)throw D}}}return _},l.disable=function(){var x=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],_=!0,E=!1,C=void 0;try{for(var A,O=l._getOptionsArray()[Symbol.iterator]();!(_=(A=O.next()).done);_=!0)A.value.setAttribute("disabled",x)}catch(I){E=!0,C=I}finally{try{_||O.return==null||O.return()}finally{if(E)throw C}}},l},t.default.prototype.createColorPicker=function(r){t.default._validateParameters("createColorPicker",arguments);var s,i=document.createElement("input");return i.type="color",r?r instanceof t.default.Color?i.value=r.toString("#rrggbb"):(t.default.prototype._colorMode="rgb",t.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},i.value=t.default.prototype.color(r).toString("#rrggbb")):i.value="#000000",(s=d(i,this)).color=function(){return r&&(r.mode&&(t.default.prototype._colorMode=r.mode),r.maxes&&(t.default.prototype._colorMaxes=r.maxes)),t.default.prototype.color(this.elt.value)},s},t.default.prototype.createInput=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text";t.default._validateParameters("createInput",arguments);var i=document.createElement("input");return i.setAttribute("value",r),i.setAttribute("type",s),d(i,this)},t.default.prototype.createFileInput=function(r){var s=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(t.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var i=document.createElement("input");return i.setAttribute("type","file"),s&&i.setAttribute("multiple",!0),i.addEventListener("change",function(l){var v=!0,w=!1,x=void 0;try{for(var _,E=l.target.files[Symbol.iterator]();!(v=(_=E.next()).done);v=!0){var C=_.value;t.default.File._load(C,r)}}catch(A){w=!0,x=A}finally{try{v||E.return==null||E.return()}finally{if(w)throw x}}},!1),d(i,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},t.default.prototype.createVideo=function(r,s){return t.default._validateParameters("createVideo",arguments),m(this,"video",r,s)},t.default.prototype.createAudio=function(r,s){return t.default._validateParameters("createAudio",arguments),m(this,"audio",r,s)},t.default.prototype.VIDEO="video",t.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(r){var s=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return s?new Promise(function(i,l){s.call(navigator,r,i,l)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),t.default.prototype.createCapture=function(){if(t.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var r,s,i=!0,l=!0,v=!0,w=!1,x=void 0;try{for(var _,E=arguments[Symbol.iterator]();!(v=(_=E.next()).done);v=!0){var C=_.value;C===t.default.prototype.VIDEO?l=!1:C===t.default.prototype.AUDIO?i=!1:c(C)==="object"?r=C:typeof C=="function"&&(s=C)}}catch(I){w=!0,x=I}finally{try{v||E.return==null||E.return()}finally{if(w)throw x}}r=r||{video:i,audio:l};var A=document.createElement("video");A.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(r).then(function(I){try{"srcObject"in A?A.srcObject=I:A.src=window.URL.createObjectURL(I)}catch{A.src=I}},console.log);var O=d(A,this,!0);return O.loadedmetadata=!1,A.addEventListener("loadedmetadata",function(){A.play(),A.width?(O.width=A.width,O.height=A.height):(O.width=O.elt.width=A.videoWidth,O.height=O.elt.height=A.videoHeight),O.loadedmetadata=!0,s&&s(A.srcObject)}),O},t.default.prototype.createElement=function(r,s){t.default._validateParameters("createElement",arguments);var i=document.createElement(r);return s!==void 0&&(i.innerHTML=s),d(i,this)},t.default.Element.prototype.addClass=function(r){return this.elt.className?this.hasClass(r)||(this.elt.className=this.elt.className+" "+r):this.elt.className=r,this},t.default.Element.prototype.removeClass=function(r){return this.elt.classList.remove(r),this},t.default.Element.prototype.hasClass=function(r){return this.elt.classList.contains(r)},t.default.Element.prototype.toggleClass=function(r){return this.elt.classList.contains(r)?this.elt.classList.remove(r):this.elt.classList.add(r),this},t.default.Element.prototype.child=function(r){return r===void 0?this.elt.childNodes:(typeof r=="string"?(r[0]==="#"&&(r=r.substring(1)),r=document.getElementById(r)):r instanceof t.default.Element&&(r=r.elt),r instanceof HTMLElement&&this.elt.appendChild(r),this)},t.default.Element.prototype.center=function(r){var s=this.elt.style.display,i=this.elt.style.display==="none",l=this.parent().style.display==="none",v={x:this.elt.offsetLeft,y:this.elt.offsetTop};i&&this.show(),l&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var w=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),x=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return r==="both"||r===void 0?this.position(w/2+this.parent().offsetLeft,x/2+this.parent().offsetTop):r==="horizontal"?this.position(w/2+this.parent().offsetLeft,v.y):r==="vertical"&&this.position(v.x,x/2+this.parent().offsetTop),this.style("display",s),i&&this.hide(),l&&this.parent().hide(),this},t.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},t.default.Element.prototype.position=function(){if(arguments.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var r="absolute";return arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"||(r=arguments[2]),this.elt.style.position=r,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},t.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var r="";return this.elt.style.transform&&(r=(r=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=r,this},t.default.Element.prototype._rotate=function(){var r="";return this.elt.style.transform&&(r=(r=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=r,this},t.default.Element.prototype.style=function(r,s){if(s instanceof t.default.Color&&(s="rgba("+s.levels[0]+","+s.levels[1]+","+s.levels[2]+","+s.levels[3]/255+")"),s===void 0){if(r.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(r);for(var i=r.split(";"),l=0;l<i.length;l++){var v=i[l].split(":");v[0]&&v[1]&&(this.elt.style[v[0].trim()]=v[1].trim())}}else if(this.elt.style[r]=s,r==="width"||r==="height"||r==="left"||r==="top"){var w=window.getComputedStyle(this.elt).getPropertyValue(r).replace(/\D+/g,"");this[r]=parseInt(w,10)}return this},t.default.Element.prototype.attribute=function(r,s){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return s===void 0?this.elt.getAttribute(r):(this.elt.setAttribute(r,s),this);if(s===void 0)return this.elt.firstChild.getAttribute(r);for(var i=0;i<this.elt.childNodes.length;i++)this.elt.childNodes[i].setAttribute(r,s)},t.default.Element.prototype.removeAttribute=function(r){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var s=0;s<this.elt.childNodes.length;s++)this.elt.childNodes[s].removeAttribute(r);return this.elt.removeAttribute(r),this},t.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},t.default.Element.prototype.show=function(){return this.elt.style.display="block",this},t.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},t.default.Element.prototype.size=function(r,s){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var i=r,l=s,v=t.default.prototype.AUTO;if(i!==v||l!==v){if(i===v?i=s*this.width/this.height:l===v&&(l=r*this.height/this.width),this.elt instanceof HTMLCanvasElement){var w,x={},_=this.elt.getContext("2d");for(w in _)x[w]=_[w];for(w in this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",l*this._pInst._pixelDensity),this.elt.style.width=i+"px",this.elt.style.height=l+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),x)this.elt.getContext("2d")[w]=x[w]}else this.elt.style.width=i+"px",this.elt.style.height=l+"px",this.elt.width=i,this.elt.height=l;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},t.default.Element.prototype.remove=function(){if(this instanceof t.default.MediaElement){this.stop();var r=this.elt.srcObject;r!==null&&r.getTracks().forEach(function(l){l.stop()})}var s=this._pInst._elements.indexOf(this);for(var i in s!==-1&&this._pInst._elements.splice(s,1),this._events)this.elt.removeEventListener(i,this._events[i]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},t.default.Element.prototype.drop=function(r,s){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var i=function(l){l.preventDefault()};this.elt.addEventListener("dragover",i),this.elt.addEventListener("dragleave",i)}t.default.Element._attachListener("drop",function(l){l.preventDefault(),typeof s=="function"&&s.call(this,l);for(var v=l.dataTransfer.files,w=0;w<v.length;w++){var x=v[w];t.default.File._load(x,r)}},this)}else console.log("The File APIs are not fully supported in this browser.");return this},t.default.MediaElement=function(r,s){t.default.Element.call(this,r,s);var i=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(i,"src",{get:function(){var l=i.elt.children[0].src,v=i.elt.src===window.location.href?"":i.elt.src;return l===window.location.href?v:l},set:function(l){for(var v=0;v<i.elt.children.length;v++)i.elt.removeChild(i.elt.children[v]);var w=document.createElement("source");w.src=l,r.appendChild(w),i.elt.src=l,i.modified=!0}}),i._onended=function(){},i.elt.onended=function(){i._onended(i)}},t.default.MediaElement.prototype=Object.create(t.default.Element.prototype),t.default.MediaElement.prototype.play=function(){var r,s=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),(r=(1<this.elt.readyState||this.elt.load(),this.elt.play()))&&r.catch&&r.catch(function(i){i.name==="NotAllowedError"?t.default._friendlyAutoplayError(s.src):console.error("Media play method encountered an unexpected error",i)}),this},t.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},t.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},t.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},t.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},t.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var r=this,s=setTimeout(function(){return t.default._friendlyAutoplayError(r.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(s)},{passive:!0,once:!0})},t.default.MediaElement.prototype.autoplay=function(r){var s=this,i=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",r),r&&!i){var l=function(){return s._setupAutoplayFailDetection()};this.elt.readyState===4?l():this.elt.addEventListener("canplay",l,{passive:!0,once:!0})}return this},t.default.MediaElement.prototype.volume=function(r){if(r===void 0)return this.elt.volume;this.elt.volume=r},t.default.MediaElement.prototype.speed=function(r){if(r===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=r:this.presetPlaybackRate=r},t.default.MediaElement.prototype.time=function(r){return r===void 0?this.elt.currentTime:(this.elt.currentTime=r,this)},t.default.MediaElement.prototype.duration=function(){return this.elt.duration},t.default.MediaElement.prototype.pixels=[],t.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},t.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),t.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},t.default.MediaElement.prototype.updatePixels=function(r,s,i,l){return this.loadedmetadata&&(this._ensureCanvas(),t.default.Renderer2D.prototype.updatePixels.call(this,r,s,i,l)),this.setModified(!0),this},t.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),t.default.Renderer2D.prototype.get.apply(this,arguments)},t.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),t.default.Renderer2D.prototype._getPixel.apply(this,arguments)},t.default.MediaElement.prototype.set=function(r,s,i){this.loadedmetadata&&(this._ensureCanvas(),t.default.Renderer2D.prototype.set.call(this,r,s,i),this.setModified(!0))},t.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),t.default.prototype.copy.apply(this,arguments)},t.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),t.default.Image.prototype.mask.apply(this,arguments)},t.default.MediaElement.prototype.isModified=function(){return this._modified},t.default.MediaElement.prototype.setModified=function(r){this._modified=r},t.default.MediaElement.prototype.onended=function(r){return this._onended=r,this},t.default.MediaElement.prototype.connect=function(r){var s,i;if(typeof t.default.prototype.getAudioContext=="function")s=t.default.prototype.getAudioContext(),i=t.default.soundOut.input;else try{i=(s=r.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=s.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),r?r.input?this.audioSourceNode.connect(r.input):this.audioSourceNode.connect(r):this.audioSourceNode.connect(i)},t.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},t.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},t.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function f(r,s,i,l){this.callback=r,this.time=s,this.id=i,this.val=l}t.default.MediaElement.prototype.addCue=function(r,s,i){var l=this._cueIDCounter++,v=new f(s,r,l,i);return this._cues.push(v),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),l},t.default.MediaElement.prototype.removeCue=function(r){for(var s=0;s<this._cues.length;s++)this._cues[s].id===r&&(console.log(r),this._cues.splice(s,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},t.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},t.default.MediaElement.prototype._onTimeUpdate=function(){for(var r=this.time(),s=0;s<this._cues.length;s++){var i=this._cues[s].time,l=this._cues[s].val;this._prevTime<i&&i<=r&&this._cues[s].callback(l)}this._prevTime=r},t.default.File=function(r,s){this.file=r,this._pInst=s;var i=r.type.split("/");this.type=i[0],this.subtype=i[1],this.name=r.name,this.size=r.size,this.data=void 0},t.default.File._createLoader=function(r,s){var i=new FileReader;return i.onload=function(l){var v=new t.default.File(r);if(v.file.type==="application/json")v.data=JSON.parse(l.target.result);else if(v.file.type==="text/xml"){var w=new DOMParser().parseFromString(l.target.result,"text/xml");v.data=new t.default.XML(w.documentElement)}else v.data=l.target.result;s(v)},i},t.default.File._load=function(r,s){if(/^text\//.test(r.type)||r.type==="application/json")t.default.File._createLoader(r,s).readAsText(r);else if(/^(video|audio)\//.test(r.type)){var i=new t.default.File(r);i.data=URL.createObjectURL(r),s(i)}else t.default.File._createLoader(r,s).readAsDataURL(r)};var o=t.default;h.default=o},{"../core/main":264,"core-js/modules/es.array.every":150,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231}],281:[function(e,g,h){function p(_){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(_)}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(_){if(_&&_.__esModule)return _;if(_===null||p(_)!=="object"&&typeof _!="function")return{default:_};var E=m();if(E&&E.has(_))return E.get(_);var C={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in _)if(Object.prototype.hasOwnProperty.call(_,O)){var I=A?Object.getOwnPropertyDescriptor(_,O):null;I&&(I.get||I.set)?Object.defineProperty(C,O,I):C[O]=_[O]}return C.default=_,E&&E.set(_,C),C}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return m=function(){return _},_}c.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",c.default.prototype.accelerationX=0,c.default.prototype.accelerationY=0,c.default.prototype.accelerationZ=0,c.default.prototype.pAccelerationX=0,c.default.prototype.pAccelerationY=0,c.default.prototype.pAccelerationZ=0,c.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},c.default.prototype.rotationX=0,c.default.prototype.rotationY=0,c.default.prototype.rotationZ=0,c.default.prototype.pRotationX=0,c.default.prototype.pRotationY=0;var f=c.default.prototype.pRotationZ=0,o=0,r=0,s="clockwise",i="clockwise",l="clockwise";c.default.prototype.pRotateDirectionX=void 0,c.default.prototype.pRotateDirectionY=void 0,c.default.prototype.pRotateDirectionZ=void 0,c.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},c.default.prototype.turnAxis=void 0;var v=.5,w=30;c.default.prototype.setMoveThreshold=function(_){c.default._validateParameters("setMoveThreshold",arguments),v=_},c.default.prototype.setShakeThreshold=function(_){c.default._validateParameters("setShakeThreshold",arguments),w=_},c.default.prototype._ondeviceorientation=function(_){this._updatePRotations(),this._angleMode===d.radians&&(_.beta=_.beta*(_PI/180),_.gamma=_.gamma*(_PI/180),_.alpha=_.alpha*(_PI/180)),this._setProperty("rotationX",_.beta),this._setProperty("rotationY",_.gamma),this._setProperty("rotationZ",_.alpha),this._handleMotion()},c.default.prototype._ondevicemotion=function(_){this._updatePAccelerations(),this._setProperty("accelerationX",2*_.acceleration.x),this._setProperty("accelerationY",2*_.acceleration.y),this._setProperty("accelerationZ",2*_.acceleration.z),this._handleMotion()},c.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var _,E,C=this._isGlobal?window:this;if(typeof C.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>v||Math.abs(this.accelerationY-this.pAccelerationY)>v||Math.abs(this.accelerationZ-this.pAccelerationZ)>v)&&C.deviceMoved(),typeof C.deviceTurned=="function"){var A=this.rotationX+180,O=this.pRotationX+180,I=f+180;0<A-O&&A-O<270||A-O<-270?s="clockwise":(A-O<0||270<A-O)&&(s="counter-clockwise"),s!==this.pRotateDirectionX&&(I=A),90<Math.abs(A-I)&&Math.abs(A-I)<270&&(I=A,this._setProperty("turnAxis","X"),C.deviceTurned()),this.pRotateDirectionX=s,f=I-180;var R=this.rotationY+180,L=this.pRotationY+180,U=o+180;0<R-L&&R-L<270||R-L<-270?i="clockwise":(R-L<0||270<R-this.pRotationY)&&(i="counter-clockwise"),i!==this.pRotateDirectionY&&(U=R),90<Math.abs(R-U)&&Math.abs(R-U)<270&&(U=R,this._setProperty("turnAxis","Y"),C.deviceTurned()),this.pRotateDirectionY=i,o=U-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?l="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(l="counter-clockwise"),l!==this.pRotateDirectionZ&&(r=this.rotationZ),90<Math.abs(this.rotationZ-r)&&Math.abs(this.rotationZ-r)<270&&(r=this.rotationZ,this._setProperty("turnAxis","Z"),C.deviceTurned()),this.pRotateDirectionZ=l,this._setProperty("turnAxis",void 0)}typeof C.deviceShaken=="function"&&(this.pAccelerationX!==null&&(_=Math.abs(this.accelerationX-this.pAccelerationX),E=Math.abs(this.accelerationY-this.pAccelerationY)),w<_+E&&C.deviceShaken())};var x=c.default;h.default=x},{"../core/constants":253,"../core/main":264}],282:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.prototype.isKeyPressed=!1,t.default.prototype.keyIsPressed=!1,t.default.prototype.key="",t.default.prototype.keyCode=0,t.default.prototype._onkeydown=function(d){if(!this._downKeys[d.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",d.which),this._downKeys[d.which]=!0,this._setProperty("key",d.key||String.fromCharCode(d.which)||d.which);var m=this._isGlobal?window:this;typeof m.keyPressed=="function"&&!d.charCode&&m.keyPressed(d)===!1&&d.preventDefault()}},t.default.prototype._onkeyup=function(d){this._downKeys[d.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",d.key||String.fromCharCode(d.which)||d.which),this._setProperty("keyCode",d.which);var m=this._isGlobal?window:this;typeof m.keyReleased=="function"&&m.keyReleased(d)===!1&&d.preventDefault()},t.default.prototype._onkeypress=function(d){if(d.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",d.which),this._setProperty("key",d.key||String.fromCharCode(d.which)||d.which);var m=this._isGlobal?window:this;typeof m.keyTyped=="function"&&m.keyTyped(d)===!1&&d.preventDefault()}},t.default.prototype._onblur=function(d){this._downKeys={}},t.default.prototype.keyIsDown=function(d){return t.default._validateParameters("keyIsDown",arguments),this._downKeys[d]||!1},t.default.prototype._areDownKeys=function(){for(var d in this._downKeys)if(this._downKeys.hasOwnProperty(d)&&this._downKeys[d]===!0)return!0;return!1};var c=t.default;h.default=c},{"../core/main":264}],283:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=m();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}c.default.prototype.movedX=0,c.default.prototype.movedY=0,c.default.prototype._hasMouseInteracted=!1,c.default.prototype.mouseX=0,c.default.prototype.mouseY=0,c.default.prototype.pmouseX=0,c.default.prototype.pmouseY=0,c.default.prototype.winMouseX=0,c.default.prototype.winMouseY=0,c.default.prototype.pwinMouseX=0,c.default.prototype.pwinMouseY=0,c.default.prototype.mouseButton=0,c.default.prototype.mouseIsPressed=!1,c.default.prototype._updateNextMouseCoords=function(o){if(this._curElement!==null&&(!o.touches||0<o.touches.length)){var r=function(s,i,l,v){v&&!v.clientX&&(v.touches?v=v.touches[0]:v.changedTouches&&(v=v.changedTouches[0]));var w=s.getBoundingClientRect(),x=s.scrollWidth/i||1,_=s.scrollHeight/l||1;return{x:(v.clientX-w.left)/x,y:(v.clientY-w.top)/_,winX:v.clientX,winY:v.clientY,id:v.identifier}}(this._curElement.elt,this.width,this.height,o);this._setProperty("movedX",o.movementX),this._setProperty("movedY",o.movementY),this._setProperty("mouseX",r.x),this._setProperty("mouseY",r.y),this._setProperty("winMouseX",r.winX),this._setProperty("winMouseY",r.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},c.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},c.default.prototype._setMouseButton=function(o){o.button===1?this._setProperty("mouseButton",d.CENTER):o.button===2?this._setProperty("mouseButton",d.RIGHT):this._setProperty("mouseButton",d.LEFT)},c.default.prototype._onmousemove=function(o){var r=this._isGlobal?window:this;this._updateNextMouseCoords(o),this.mouseIsPressed?typeof r.mouseDragged=="function"?r.mouseDragged(o)===!1&&o.preventDefault():typeof r.touchMoved=="function"&&r.touchMoved(o)===!1&&o.preventDefault():typeof r.mouseMoved=="function"&&r.mouseMoved(o)===!1&&o.preventDefault()},c.default.prototype._onmousedown=function(o){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(o),this._updateNextMouseCoords(o),typeof r.mousePressed=="function"?r.mousePressed(o)===!1&&o.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof r.touchStarted=="function"&&r.touchStarted(o)===!1&&o.preventDefault()},c.default.prototype._onmouseup=function(o){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof r.mouseReleased=="function"?r.mouseReleased(o)===!1&&o.preventDefault():typeof r.touchEnded=="function"&&r.touchEnded(o)===!1&&o.preventDefault()},c.default.prototype._ondragend=c.default.prototype._onmouseup,c.default.prototype._ondragover=c.default.prototype._onmousemove,c.default.prototype._onclick=function(o){var r=this._isGlobal?window:this;typeof r.mouseClicked=="function"&&r.mouseClicked(o)===!1&&o.preventDefault()},c.default.prototype._ondblclick=function(o){var r=this._isGlobal?window:this;typeof r.doubleClicked=="function"&&r.doubleClicked(o)===!1&&o.preventDefault()},c.default.prototype._mouseWheelDeltaY=0,c.default.prototype._pmouseWheelDeltaY=0,c.default.prototype._onwheel=function(o){var r=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",o.deltaY),typeof r.mouseWheel=="function"&&(o.delta=o.deltaY,r.mouseWheel(o)===!1&&o.preventDefault())},c.default.prototype.requestPointerLock=function(){var o=this._curElement.elt;return o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock,o.requestPointerLock?(o.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},c.default.prototype.exitPointerLock=function(){document.exitPointerLock()};var f=c.default;h.default=f},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],284:[function(e,g,h){e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};function c(m,f,o,r,s){var i=4<arguments.length&&s!==void 0?s:0,l=m.getBoundingClientRect(),v=m.scrollWidth/f||1,w=m.scrollHeight/o||1,x=r.touches[i]||r.changedTouches[i];return{x:(x.clientX-l.left)/v,y:(x.clientY-l.top)/w,winX:x.clientX,winY:x.clientY,id:x.identifier}}t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(m){if(this._curElement!==null){for(var f=[],o=0;o<m.touches.length;o++)f[o]=c(this._curElement.elt,this.width,this.height,m,o);this._setProperty("touches",f)}},t.default.prototype._ontouchstart=function(m){var f=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(m),this._updateNextMouseCoords(m),this._updateMouseCoords(),typeof f.touchStarted=="function"?f.touchStarted(m)===!1&&m.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof f.mousePressed=="function"&&f.mousePressed(m)===!1&&m.preventDefault()},t.default.prototype._ontouchmove=function(m){var f=this._isGlobal?window:this;this._updateTouchCoords(m),this._updateNextMouseCoords(m),typeof f.touchMoved=="function"?f.touchMoved(m)===!1&&m.preventDefault():typeof f.mouseDragged=="function"&&f.mouseDragged(m)===!1&&m.preventDefault()},t.default.prototype._ontouchend=function(m){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(m),this._updateNextMouseCoords(m);var f=this._isGlobal?window:this;typeof f.touchEnded=="function"?f.touchEnded(m)===!1&&m.preventDefault():typeof f.mouseReleased=="function"&&f.mouseReleased(m)===!1&&m.preventDefault()};var d=t.default;h.default=d},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],285:[function(e,g,h){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t,c,d,m={};function f(r,s){for(var i,l,v,w,x,_,E,C,A,O,I=m._toPixels(r),R=r.width,L=r.height,U=R*L,D=new Int32Array(U),W=0;W<U;W++)D[W]=m._getARGB(I,W);var H,ae,le,J,ue=new Int32Array(U),se=new Int32Array(U),me=new Int32Array(U),xe=new Int32Array(U),Ee=0;for(function(De){var _e=3.5*De|0;if(p!==(_e=_e<1?1:_e<248?_e:248)){t=1+(p=_e)<<1,c=new Int32Array(t),d=new Array(t);for(var Se=0;Se<t;Se++)d[Se]=new Int32Array(256);for(var P,G,Y,ee,B=1,F=_e-1;B<_e;B++){c[_e+B]=c[F]=G=F*F,Y=d[_e+B],ee=d[F--];for(var re=0;re<256;re++)Y[re]=ee[re]=G*re}P=c[_e]=_e*_e,Y=d[_e];for(var $=0;$<256;$++)Y[$]=P*$}}(s),ae=0;ae<L;ae++){for(H=0;H<R;H++){if(w=v=l=x=i=0,(_=H-p)<0)O=-_,_=0;else{if(R<=_)break;O=0}for(le=O;le<t&&!(R<=_);le++){var ve=D[_+Ee];x+=(J=d[le])[(-16777216&ve)>>>24],l+=J[(16711680&ve)>>16],v+=J[(65280&ve)>>8],w+=J[255&ve],i+=c[le],_++}ue[E=Ee+H]=x/i,se[E]=l/i,me[E]=v/i,xe[E]=w/i}Ee+=R}for(A=(C=-p)*R,ae=Ee=0;ae<L;ae++){for(H=0;H<R;H++){if(w=v=l=x=i=0,C<0)O=E=-C,_=H;else{if(L<=C)break;O=0,E=C,_=H+A}for(le=O;le<t&&!(L<=E);le++)x+=(J=d[le])[ue[_]],l+=J[se[_]],v+=J[me[_]],w+=J[xe[_]],i+=c[le],E++,_+=R;D[H+Ee]=x/i<<24|l/i<<16|v/i<<8|w/i}Ee+=R,A+=R,C++}m._setPixels(I,D)}m._toPixels=function(r){if(r instanceof ImageData)return r.data;if(r.getContext("2d"))return r.getContext("2d").getImageData(0,0,r.width,r.height).data;if(r.getContext("webgl")){var s=r.getContext("webgl"),i=s.drawingBufferWidth*s.drawingBufferHeight*4,l=new Uint8Array(i);return s.readPixels(0,0,r.width,r.height,s.RGBA,s.UNSIGNED_BYTE,l),l}},m._getARGB=function(r,s){var i=4*s;return r[3+i]<<24&4278190080|r[i]<<16&16711680|r[1+i]<<8&65280|255&r[2+i]},m._setPixels=function(r,s){for(var i=0,l=0,v=r.length;l<v;l++)r[(i=4*l)+0]=(16711680&s[l])>>>16,r[i+1]=(65280&s[l])>>>8,r[i+2]=255&s[l],r[i+3]=(4278190080&s[l])>>>24},m._toImageData=function(r){return r instanceof ImageData?r:r.getContext("2d").getImageData(0,0,r.width,r.height)},m._createImageData=function(r,s){return m._tmpCanvas=document.createElement("canvas"),m._tmpCtx=m._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(r,s)},m.apply=function(r,s,i){var l=r.getContext("2d"),v=l.getImageData(0,0,r.width,r.height),w=s(v,i);w instanceof ImageData?l.putImageData(w,0,0,0,0,r.width,r.height):l.putImageData(v,0,0,0,0,r.width,r.height)},m.threshold=function(r,s){var i=m._toPixels(r);s===void 0&&(s=.5);for(var l=Math.floor(255*s),v=0;v<i.length;v+=4){var w=void 0;w=l<=.2126*i[v]+.7152*i[v+1]+.0722*i[v+2]?255:0,i[v]=i[v+1]=i[v+2]=w}},m.gray=function(r){for(var s=m._toPixels(r),i=0;i<s.length;i+=4){var l=.2126*s[i]+.7152*s[i+1]+.0722*s[i+2];s[i]=s[i+1]=s[i+2]=l}},m.opaque=function(r){for(var s=m._toPixels(r),i=0;i<s.length;i+=4)s[i+3]=255;return s},m.invert=function(r){for(var s=m._toPixels(r),i=0;i<s.length;i+=4)s[i]=255-s[i],s[i+1]=255-s[i+1],s[i+2]=255-s[i+2]},m.posterize=function(r,s){var i=m._toPixels(r);if(s<2||255<s)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var l=s-1,v=0;v<i.length;v+=4){var w=i[v],x=i[v+1],_=i[v+2];i[v]=255*(w*s>>8)/l,i[v+1]=255*(x*s>>8)/l,i[v+2]=255*(_*s>>8)/l}},m.dilate=function(r){for(var s,i,l,v,w,x,_,E,C,A,O,I,R,L,U,D,W,H=m._toPixels(r),ae=0,le=H.length?H.length/4:0,J=new Int32Array(le);ae<le;)for(i=(s=ae)+r.width;ae<i;)l=v=m._getARGB(H,ae),(_=ae-1)<s&&(_=ae),i<=(x=ae+1)&&(x=ae),(E=ae-r.width)<0&&(E=0),le<=(C=ae+r.width)&&(C=ae),I=m._getARGB(H,E),O=m._getARGB(H,_),R=m._getARGB(H,C),(w=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<(U=77*(O>>16&255)+151*(O>>8&255)+28*(255&O))&&(v=O,w=U),w<(L=77*((A=m._getARGB(H,x))>>16&255)+151*(A>>8&255)+28*(255&A))&&(v=A,w=L),w<(D=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))&&(v=I,w=D),w<(W=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))&&(v=R,w=W),J[ae++]=v;m._setPixels(H,J)},m.erode=function(r){for(var s,i,l,v,w,x,_,E,C,A,O,I,R,L,U,D,W,H=m._toPixels(r),ae=0,le=H.length?H.length/4:0,J=new Int32Array(le);ae<le;)for(i=(s=ae)+r.width;ae<i;)l=v=m._getARGB(H,ae),(_=ae-1)<s&&(_=ae),i<=(x=ae+1)&&(x=ae),(E=ae-r.width)<0&&(E=0),le<=(C=ae+r.width)&&(C=ae),I=m._getARGB(H,E),O=m._getARGB(H,_),R=m._getARGB(H,C),(U=77*(O>>16&255)+151*(O>>8&255)+28*(255&O))<(w=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(v=O,w=U),(L=77*((A=m._getARGB(H,x))>>16&255)+151*(A>>8&255)+28*(255&A))<w&&(v=A,w=L),(D=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))<w&&(v=I,w=D),(W=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))<w&&(v=R,w=W),J[ae++]=v;m._setPixels(H,J)},m.blur=function(r,s){f(r,s)};var o=m;h.default=o},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],286:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p=c(e("../core/main")),t=c(e("omggif"));function c(f){return f&&f.__esModule?f:{default:f}}function d(f){return function(o){if(Array.isArray(o)){for(var r=0,s=new Array(o.length);r<o.length;r++)s[r]=o[r];return s}}(f)||function(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}p.default.prototype.createImage=function(f,o){return p.default._validateParameters("createImage",arguments),new p.default.Image(f,o)},p.default.prototype.saveCanvas=function(){p.default._validateParameters("saveCanvas",arguments);var f,o,r,s,i=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(f=arguments[0],i.shift()):arguments[0]instanceof p.default.Element?(f=arguments[0].elt,i.shift()):f=this._curElement&&this._curElement.elt,1<=i.length&&(o=i[0]),2<=i.length&&(r=i[1]),r=r||p.default.prototype._checkFileExtension(o,r)[1]||"png"){default:s="image/png";break;case"jpeg":case"jpg":s="image/jpeg"}f.toBlob(function(l){p.default.prototype.downloadFile(l,o,r)},s)},p.default.prototype.saveGif=function(f,o){var r=f.gifProperties,s=r.loopLimit;s===1?s=null:s===null&&(s=0);for(var i=new Uint8Array(f.width*f.height*r.numFrames),l=[],v={},w=0;w<r.numFrames;w++){for(var x=new Set,_=r.frames[w].image.data,E=_.length,C=new Uint32Array(f.width*f.height),A=0,O=0;A<E;A+=4,O++){var I=_[A+0]<<16|_[A+1]<<8|_[A+2]<<0;x.add(I),C[O]=I}var R=d(x).sort().toString();v[R]===void 0?v[R]={freq:1,frames:[w]}:(v[R].freq+=1,v[R].frames.push(w)),l.push(C)}var L=[],U=Object.keys(v).sort(function(Se,P){return v[P].freq-v[Se].freq}),D=U[0].split(",").map(function(Se){return parseInt(Se)});L=L.concat(v[D].frames);for(var W=new Set(D),H=1;H<U.length;H++){var ae=U[H].split(",").map(function(Se){return parseInt(Se)}).filter(function(Se){return!W.has(Se)});if(D.length+ae.length<=256){for(var le=0;le<ae.length;le++)D.push(ae[le]),W.add(ae[le]);L=L.concat(v[U[H]].frames)}}L=new Set(L);for(var J={},ue=0;ue<D.length;ue++)J[D[ue]]||(J[D[ue]]=ue);for(var se=1;se<D.length;)se<<=1;D.length=se;for(var me={loop:s,palette:new Uint32Array(D)},xe=new t.default.GifWriter(i,f.width,f.height,me),Ee={},ve=function(Se){for(var P=!L.has(Se),G=P?[]:D,Y=new Uint8Array(f.width*f.height),ee={},B=new Set,F=0;F<l[Se].length;F++){var re=l[Se][F];P?(ee[re]===void 0&&(ee[re]=G.length,G.push(re)),Y[F]=ee[re]):Y[F]=J[re],0<Se&&l[Se-1][F]!==re&&B.add(re)}var $={},ne=G.filter(function(he){return!B.has(he)});if(0<ne.length){var ie=ne[0],oe=P?ee[ie]:J[ie];if(0<Se){for(var pe=0;pe<l[Se].length;pe++)l[Se-1][pe]===l[Se][pe]&&(Y[pe]=oe);$.transparent=oe,Ee.frameOpts.disposal=1}}if($.delay=r.frames[Se].delay/10,P){for(var ge=1;ge<G.length;)ge<<=1;G.length=ge,$.palette=new Uint32Array(G)}0<Se&&xe.addFrame(0,0,f.width,f.height,Ee.pixelPaletteIndex,Ee.frameOpts),Ee={pixelPaletteIndex:Y,frameOpts:$}},De=0;De<r.numFrames;De++)ve(De);Ee.frameOpts.disposal=1,xe.addFrame(0,0,f.width,f.height,Ee.pixelPaletteIndex,Ee.frameOpts);var _e=new Blob([i.slice(0,xe.end())],{type:"image/gif"});p.default.prototype.downloadFile(_e,o,"gif")},p.default.prototype.saveFrames=function(f,o,r,s,i){p.default._validateParameters("saveFrames",arguments);var l=r||3;l=p.default.prototype.constrain(l,0,15),l*=1e3;var v=s||15;v=p.default.prototype.constrain(v,0,22);var w=0,x=p.default.prototype._makeFrame,_=this._curElement.elt,E=[],C=setInterval(function(){E.push(x(f+w,o,_)),w++},1e3/v);setTimeout(function(){if(clearInterval(C),i)i(E);else{var A=!0,O=!1,I=void 0;try{for(var R,L=E[Symbol.iterator]();!(A=(R=L.next()).done);A=!0){var U=R.value;p.default.prototype.downloadFile(U.imageData,U.filename,U.ext)}}catch(D){O=!0,I=D}finally{try{A||L.return==null||L.return()}finally{if(O)throw I}}}E=[]},l+.01)},p.default.prototype._makeFrame=function(f,o,r){var s,i;if(s=this?this._curElement.elt:r,o)switch(o.toLowerCase()){case"png":i="image/png";break;case"jpeg":case"jpg":i="image/jpeg";break;default:i="image/png"}else o="png",i="image/png";var l=s.toDataURL(i);l=l.replace(i,"image/octet-stream");var v={};return v.imageData=l,v.filename=f,v.ext=o,v};var m=p.default;h.default=m},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,omggif:238}],287:[function(e,g,h){function p(l){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(l)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t=r(e("../core/main")),c=r(e("./filters")),d=r(e("../core/helpers")),m=function(l){if(l&&l.__esModule)return l;if(l===null||p(l)!=="object"&&typeof l!="function")return{default:l};var v=o();if(v&&v.has(l))return v.get(l);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in l)if(Object.prototype.hasOwnProperty.call(l,_)){var E=x?Object.getOwnPropertyDescriptor(l,_):null;E&&(E.get||E.set)?Object.defineProperty(w,_,E):w[_]=l[_]}return w.default=l,v&&v.set(l,w),w}(e("../core/constants")),f=r(e("omggif"));function o(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return o=function(){return l},l}function r(l){return l&&l.__esModule?l:{default:l}}function s(l,v){return 0<l&&l<v?l:v}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),t.default.prototype.loadImage=function(l,v,w){t.default._validateParameters("loadImage",arguments);var x=new t.default.Image(1,1,this),_=this,E=new Request(l,{method:"GET",mode:"cors"});return fetch(l,E).then(function(C){var A=C.headers.get("content-type");if(A===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),A&&A.includes("image/gif"))C.arrayBuffer().then(function(I){I&&function(R,L,U,D,W){var H=new f.default.GifReader(R);L.width=L.canvas.width=H.width,L.height=L.canvas.height=H.height;var ae=[],le=H.numFrames(),J=new Uint8ClampedArray(L.width*L.height*4);if(1<le){for(var ue=function(_e,Se){try{Se.decodeAndBlitFrameRGBA(_e,J)}catch(P){t.default._friendlyFileLoadError(8,L.src),typeof D=="function"?D(P):console.error(P)}},se=0;se<le;se++){var me=H.frameInfo(se),xe=L.drawingContext.getImageData(0,0,L.width,L.height);J=xe.data.slice(),ue(se,H);var Ee=new ImageData(J,L.width,L.height);L.drawingContext.putImageData(Ee,0,0);var ve=me.delay;ve===0&&(ve=10),ae.push({image:L.drawingContext.getImageData(0,0,L.width,L.height),delay:10*ve}),me.disposal===2?L.drawingContext.clearRect(me.x,me.y,me.width,me.height):me.disposal===3&&L.drawingContext.putImageData(xe,0,0,me.x,me.y,me.width,me.height)}var De=H.loopCount();De===null?De=1:De===0&&(De=null),L.drawingContext.putImageData(ae[0].image,0,0),L.gifProperties={displayIndex:0,loopLimit:De,loopCount:0,frames:ae,numFrames:le,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof U=="function"&&U(L),W()}(new Uint8Array(I),x,v,w,function(R){_._decrementPreload()}.bind(_))},function(I){typeof w=="function"?w(I):console.error(I)});else{var O=new Image;O.onload=function(){x.width=x.canvas.width=O.width,x.height=x.canvas.height=O.height,x.drawingContext.drawImage(O,0,0),x.modified=!0,typeof v=="function"&&v(x),_._decrementPreload()},O.onerror=function(I){t.default._friendlyFileLoadError(0,O.src),typeof w=="function"?w(I):console.error(I)},l.indexOf("data:image/")!==0&&(O.crossOrigin="Anonymous"),O.src=l}x.modified=!0}).catch(function(C){t.default._friendlyFileLoadError(0,l),typeof w=="function"?w(C):console.error(C)}),x},t.default.prototype.image=function(l,v,w,x,_,E,C,A,O){t.default._validateParameters("image",arguments);var I=l.width,R=l.height;l.elt&&l.elt.videoWidth&&!l.canvas&&(I=l.elt.videoWidth,R=l.elt.videoHeight);var L=v,U=w,D=x||I,W=_||R,H=E||0,ae=C||0,le=A||I,J=O||R;le=s(le,I),J=s(J,R);var ue=1;l.elt&&!l.canvas&&l.elt.style.width&&(ue=l.elt.videoWidth&&!x?l.elt.videoWidth:l.elt.width,ue/=parseInt(l.elt.style.width,10)),H*=ue,ae*=ue,J*=ue,le*=ue;var se=d.default.modeAdjust(L,U,D,W,this._renderer._imageMode);this._renderer.image(l,H,ae,le,J,se.x,se.y,se.w,se.h)},t.default.prototype.tint=function(){for(var l=arguments.length,v=new Array(l),w=0;w<l;w++)v[w]=arguments[w];t.default._validateParameters("tint",v);var x=this.color.apply(this,v);this._renderer._tint=x.levels},t.default.prototype.noTint=function(){this._renderer._tint=null},t.default.prototype._getTintedImageCanvas=function(l){if(!l.canvas)return l;var v=c.default._toPixels(l.canvas),w=document.createElement("canvas");w.width=l.canvas.width,w.height=l.canvas.height;for(var x=w.getContext("2d"),_=x.createImageData(l.canvas.width,l.canvas.height),E=_.data,C=0;C<v.length;C+=4){var A=v[C],O=v[C+1],I=v[C+2],R=v[C+3];E[C]=A*this._renderer._tint[0]/255,E[C+1]=O*this._renderer._tint[1]/255,E[C+2]=I*this._renderer._tint[2]/255,E[C+3]=R*this._renderer._tint[3]/255}return x.putImageData(_,0,0),w},t.default.prototype.imageMode=function(l){t.default._validateParameters("imageMode",arguments),l!==m.CORNER&&l!==m.CORNERS&&l!==m.CENTER||(this._renderer._imageMode=l)};var i=t.default;h.default=i},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/helpers":260,"../core/main":264,"./filters":285,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.includes":185,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,omggif:238}],288:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p=c(e("../core/main")),t=c(e("./filters"));function c(m){return m&&m.__esModule?m:{default:m}}p.default.Image=function(m,f){this.width=m,this.height=f,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},p.default.Image.prototype._animateGif=function(m){var f=this.gifProperties,o=m._lastFrameTime;if(f.lastChangeTime===0&&(f.lastChangeTime=o),f.playing){f.timeDisplayed=o-f.lastChangeTime;var r=f.frames[f.displayIndex].delay;if(f.timeDisplayed>=r){var s=Math.floor(f.timeDisplayed/r);if(f.timeDisplayed=0,f.lastChangeTime=o,f.displayIndex+=s,f.loopCount=Math.floor(f.displayIndex/f.numFrames),f.loopLimit!==null&&f.loopCount>=f.loopLimit)f.playing=!1;else{var i=f.displayIndex%f.numFrames;this.drawingContext.putImageData(f.frames[i].image,0,0),f.displayIndex=i,this.setModified(!0)}}}},p.default.Image.prototype._setProperty=function(m,f){this[m]=f,this.setModified(!0)},p.default.Image.prototype.loadPixels=function(){p.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},p.default.Image.prototype.updatePixels=function(m,f,o,r){p.default.Renderer2D.prototype.updatePixels.call(this,m,f,o,r),this.setModified(!0)},p.default.Image.prototype.get=function(m,f,o,r){return p.default._validateParameters("p5.Image.get",arguments),p.default.Renderer2D.prototype.get.apply(this,arguments)},p.default.Image.prototype._getPixel=p.default.Renderer2D.prototype._getPixel,p.default.Image.prototype.set=function(m,f,o){p.default.Renderer2D.prototype.set.call(this,m,f,o),this.setModified(!0)},p.default.Image.prototype.resize=function(m,f){m===0&&f===0?(m=this.canvas.width,f=this.canvas.height):m===0?m=this.canvas.width*f/this.canvas.height:f===0&&(f=this.canvas.height*m/this.canvas.width),m=Math.floor(m),f=Math.floor(f);var o=document.createElement("canvas");if(o.width=m,o.height=f,this.gifProperties)for(var r=this.gifProperties,s=function(v,w){for(var x=0,_=0;_<w.height;_++)for(var E=0;E<w.width;E++){var C=Math.floor(E*v.width/w.width),A=4*(Math.floor(_*v.height/w.height)*v.width+C);w.data[x++]=v.data[A++],w.data[x++]=v.data[A++],w.data[x++]=v.data[A++],w.data[x++]=v.data[A++]}},i=0;i<r.numFrames;i++){var l=this.drawingContext.createImageData(m,f);s(r.frames[i].image,l),r.frames[i].image=l}o.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,o.width,o.height),this.canvas.width=this.width=m,this.canvas.height=this.height=f,this.drawingContext.drawImage(o,0,0,m,f,0,0,m,f),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},p.default.Image.prototype.copy=function(){for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];p.default.prototype.copy.apply(this,f)},p.default.Image.prototype.mask=function(m){m===void 0&&(m=this);var f=this.drawingContext.globalCompositeOperation,o=1;m instanceof p.default.Renderer&&(o=m._pInst._pixelDensity);var r=[m,0,0,o*m.width,o*m.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",p.default.Image.prototype.copy.apply(this,r),this.drawingContext.globalCompositeOperation=f,this.setModified(!0)},p.default.Image.prototype.filter=function(m,f){t.default.apply(this.canvas,t.default[m],f),this.setModified(!0)},p.default.Image.prototype.blend=function(){for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];p.default._validateParameters("p5.Image.blend",arguments),p.default.prototype.blend.apply(this,f),this.setModified(!0)},p.default.Image.prototype.setModified=function(m){this._modified=m},p.default.Image.prototype.isModified=function(){return this._modified},p.default.Image.prototype.save=function(m,f){this.gifProperties?p.default.prototype.saveGif(this,m):p.default.prototype.saveCanvas(this.canvas,m,f)},p.default.Image.prototype.reset=function(){if(this.gifProperties){var m=this.gifProperties;m.playing=!0,m.timeSinceStart=0,m.timeDisplayed=0,m.lastChangeTime=0,m.loopCount=0,m.displayIndex=0,this.drawingContext.putImageData(m.frames[0].image,0,0)}},p.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var m=this.gifProperties;return m.displayIndex%m.numFrames}},p.default.Image.prototype.setFrame=function(m){if(this.gifProperties){var f=this.gifProperties;m<f.numFrames&&0<=m?(f.timeDisplayed=0,f.lastChangeTime=0,f.displayIndex=m,this.drawingContext.putImageData(f.frames[m].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},p.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},p.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},p.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},p.default.Image.prototype.delay=function(m,f){if(this.gifProperties){var o=this.gifProperties;if(f<o.numFrames&&0<=f)o.frames[f].delay=m;else{var r=!0,s=!1,i=void 0;try{for(var l,v=o.frames[Symbol.iterator]();!(r=(l=v.next()).done);r=!0)l.value.delay=m}catch(w){s=!0,i=w}finally{try{r||v.return==null||v.return()}finally{if(s)throw i}}}}};var d=p.default.Image;h.default=d},{"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],289:[function(e,g,h){e("core-js/modules/es.array.filter"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p=c(e("../core/main")),t=c(e("./filters"));function c(m){return m&&m.__esModule?m:{default:m}}e("../color/p5.Color"),p.default.prototype.pixels=[],p.default.prototype.blend=function(){for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];var r;p.default._validateParameters("blend",f),this._renderer?(r=this._renderer).blend.apply(r,f):p.default.Renderer2D.prototype.blend.apply(this,f)},p.default.prototype.copy=function(){for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];var r,s,i,l,v,w,x,_,E;if(p.default._validateParameters("copy",f),f.length===9)r=f[0],s=f[1],i=f[2],l=f[3],v=f[4],w=f[5],x=f[6],_=f[7],E=f[8];else{if(f.length!==8)throw new Error("Signature not supported");r=this,s=f[0],i=f[1],l=f[2],v=f[3],w=f[4],x=f[5],_=f[6],E=f[7]}p.default.prototype._copyHelper(this,r,s,i,l,v,w,x,_,E)},p.default.prototype._copyHelper=function(m,f,o,r,s,i,l,v,w,x){f.loadPixels();var _=f.canvas.width/f.width,E=0,C=0;f._renderer&&f._renderer.isP3D&&(E=f.width/2,C=f.height/2),m._renderer&&m._renderer.isP3D?p.default.RendererGL.prototype.image.call(m._renderer,f,o+E,r+C,s,i,l,v,w,x):m.drawingContext.drawImage(f.canvas,_*(o+E),_*(r+C),_*s,_*i,l,v,w,x)},p.default.prototype.filter=function(m,f){p.default._validateParameters("filter",arguments),this.canvas!==void 0?t.default.apply(this.canvas,t.default[m],f):t.default.apply(this.elt,t.default[m],f)},p.default.prototype.get=function(m,f,o,r){var s;return p.default._validateParameters("get",arguments),(s=this._renderer).get.apply(s,arguments)},p.default.prototype.loadPixels=function(){for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];p.default._validateParameters("loadPixels",f),this._renderer.loadPixels()},p.default.prototype.set=function(m,f,o){this._renderer.set(m,f,o)},p.default.prototype.updatePixels=function(m,f,o,r){p.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(m,f,o,r)};var d=p.default;h.default=d},{"../color/p5.Color":251,"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152}],290:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p=d(e("../core/main"));e("whatwg-fetch"),e("es6-promise/auto");var t=d(e("fetch-jsonp")),c=d(e("file-saver"));function d(i){return i&&i.__esModule?i:{default:i}}function m(i){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}function f(i,l){var v={};if((l=l||[])===void 0)for(var w=0;w<i.length;w++)l[w.toString()]=w;for(var x=0;x<l.length;x++){var _=l[x],E=i[x];v[_]=E}return v}function o(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function r(i,l){l&&l!==!0&&l!=="true"||(l="");var v="";return(i=i||"untitled")&&i.includes(".")&&(v=i.split(".").pop()),l&&v!==l&&(v=l,i="".concat(i,".").concat(v)),[i,v]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),p.default.prototype.loadJSON=function(){for(var i=arguments.length,l=new Array(i),v=0;v<i;v++)l[v]=arguments[v];p.default._validateParameters("loadJSON",l);for(var w,x,_,E=l[0],C={},A="json",O=1;O<l.length;O++){var I=l[O];typeof I=="string"?I!=="jsonp"&&I!=="json"||(A=I):typeof I=="function"?w?x=I:w=I:m(I)==="object"&&(I.hasOwnProperty("jsonpCallback")||I.hasOwnProperty("jsonpCallbackFunction"))&&(A="jsonp",_=I)}var R=this;return this.httpDo(E,"GET",_,A,function(L){for(var U in L)C[U]=L[U];w!==void 0&&w(L),R._decrementPreload()},function(L){if(p.default._friendlyFileLoadError(5,E),!x)throw L;x(L)}),C},p.default.prototype.loadStrings=function(){for(var i=arguments.length,l=new Array(i),v=0;v<i;v++)l[v]=arguments[v];p.default._validateParameters("loadStrings",l);for(var w,x,_=[],E=1;E<l.length;E++){var C=l[E];typeof C=="function"&&(w===void 0?w=C:x===void 0&&(x=C))}var A=this;return p.default.prototype.httpDo.call(this,l[0],"GET","text",function(O){for(var I=O.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),R=0,L=I.length;R<L;R+=32768)Array.prototype.push.apply(_,I.slice(R,Math.min(R+32768,L)));w!==void 0&&w(_),A._decrementPreload()},function(O){if(p.default._friendlyFileLoadError(3,O),!x)throw O;x(O)}),_},p.default.prototype.loadTable=function(i){var l,v,w,x=!1,_=i.substring(i.lastIndexOf(".")+1,i.length);_==="csv"?w=",":_==="ssv"?w=";":_==="tsv"&&(w="	");for(var E=1;E<arguments.length;E++)typeof arguments[E]=="function"?l===void 0?l=arguments[E]:v===void 0&&(v=arguments[E]):typeof arguments[E]=="string"&&(arguments[E]==="header"&&(x=!0),arguments[E]==="csv"?w=",":arguments[E]==="ssv"?w=";":arguments[E]==="tsv"&&(w="	"));var C=new p.default.Table,A=this;return this.httpDo(i,"GET","table",function(O){for(var I,R,L={},U=[],D=0,W=null,H=function(){L.currentState=0,L.token=""},ae=function(){W.push(L.token),H()},le=function(){L.currentState=4,U.push(W),W=null};;){if((I=O[D++])==null){if(L.escaped)throw new Error("Unclosed quote in file.");if(W){ae(),le();break}}if(W===null&&(L.escaped=!1,W=[],H()),L.currentState===0){if(I==='"'){L.escaped=!0,L.currentState=1;continue}L.currentState=1}if(L.currentState===1&&L.escaped)if(I==='"')O[D]==='"'?(L.token+='"',D++):(L.escaped=!1,L.currentState=2);else{if(I==="\r")continue;L.token+=I}else I==="\r"?(O[D]===`
`&&D++,ae(),le()):I===`
`?(ae(),le()):I===w?ae():L.currentState===1&&(L.token+=I)}if(x)C.columns=U.shift();else for(var J=0;J<U[0].length;J++)C.columns[J]="null";for(var ue=0;ue<U.length;ue++)(U[ue].length!==1||U[ue][0]!=="undefined"&&U[ue][0]!=="")&&((R=new p.default.TableRow).arr=U[ue],R.obj=f(U[ue],C.columns),C.addRow(R));typeof l=="function"&&l(C),A._decrementPreload()},function(O){p.default._friendlyFileLoadError(2,i),v?v(O):console.error(O)}),C},p.default.prototype.loadXML=function(){for(var i=arguments.length,l=new Array(i),v=0;v<i;v++)l[v]=arguments[v];for(var w,x,_=new p.default.XML,E=1;E<l.length;E++){var C=l[E];typeof C=="function"&&(w===void 0?w=C:x===void 0&&(x=C))}var A=this;return this.httpDo(l[0],"GET","xml",function(O){for(var I in O)_[I]=O[I];w!==void 0&&w(_),A._decrementPreload()},function(O){if(p.default._friendlyFileLoadError(1,O),!x)throw O;x(O)}),_},p.default.prototype.loadBytes=function(i,l,v){var w={},x=this;return this.httpDo(i,"GET","arrayBuffer",function(_){w.bytes=new Uint8Array(_),typeof l=="function"&&l(w),x._decrementPreload()},function(_){if(p.default._friendlyFileLoadError(6,i),!v)throw _;v(_)}),w},p.default.prototype.httpGet=function(){p.default._validateParameters("httpGet",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"GET"),p.default.prototype.httpDo.apply(this,i)},p.default.prototype.httpPost=function(){p.default._validateParameters("httpPost",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"POST"),p.default.prototype.httpDo.apply(this,i)},p.default.prototype.httpDo=function(){for(var i,l,v,w,x,_={},E=0,C="text/plain",A=arguments.length-1;0<A&&typeof(A<0||arguments.length<=A?void 0:arguments[A])=="function";A--)E++;var O=arguments.length<=0?void 0:arguments[0];if(arguments.length-E==2&&typeof O=="string"&&m(arguments.length<=1?void 0:arguments[1])==="object")w=new Request(O,arguments.length<=1?void 0:arguments[1]),l=arguments.length<=2?void 0:arguments[2],v=arguments.length<=3?void 0:arguments[3];else{for(var I,R="GET",L=1;L<arguments.length;L++){var U=L<0||arguments.length<=L?void 0:arguments[L];if(typeof U=="string")U==="GET"||U==="POST"||U==="PUT"||U==="DELETE"?R=U:U==="json"||U==="jsonp"||U==="binary"||U==="arrayBuffer"||U==="xml"||U==="text"||U==="table"?i=U:I=U;else if(typeof U=="number")I=U.toString();else if(m(U)==="object")if(U.hasOwnProperty("jsonpCallback")||U.hasOwnProperty("jsonpCallbackFunction"))for(var D in U)_[D]=U[D];else C=U instanceof p.default.XML?(I=U.serialize(),"application/xml"):(I=JSON.stringify(U),"application/json");else typeof U=="function"&&(l?v=U:l=U)}var W=R==="GET"?new Headers:new Headers({"Content-Type":C});w=new Request(O,{method:R,mode:"cors",body:I,headers:W})}return(x=(x=(i=i||(O.includes("json")?"json":O.includes("xml")?"xml":"text"))==="jsonp"?(0,t.default)(O,_):fetch(w)).then(function(H){if(!H.ok){var ae=new Error(H.body);throw ae.status=H.status,ae.ok=!1,ae}var le=0;switch(i!=="jsonp"&&(le=H.headers.get("content-length")),le&&64e6<le&&p.default._friendlyFileLoadError(7,O),i){case"json":case"jsonp":return H.json();case"binary":return H.blob();case"arrayBuffer":return H.arrayBuffer();case"xml":return H.text().then(function(J){var ue=new DOMParser().parseFromString(J,"text/xml");return new p.default.XML(ue.documentElement)});default:return H.text()}})).then(l||function(){}),x.catch(v||console.error),x},window.URL=window.URL||window.webkitURL,p.default.prototype._pWriters=[],p.default.prototype.createWriter=function(i,l){var v;for(var w in p.default.prototype._pWriters)if(p.default.prototype._pWriters[w].name===i)return v=new p.default.PrintWriter(i+this.millis(),l),p.default.prototype._pWriters.push(v),v;return v=new p.default.PrintWriter(i,l),p.default.prototype._pWriters.push(v),v},p.default.PrintWriter=function(i,l){var v=this;this.name=i,this.content="",this.write=function(w){this.content+=w},this.print=function(w){this.content+="".concat(w,`
`)},this.clear=function(){this.content=""},this.close=function(){var w=[];for(var x in w.push(this.content),p.default.prototype.writeFile(w,i,l),p.default.prototype._pWriters)p.default.prototype._pWriters[x].name===this.name&&p.default.prototype._pWriters.splice(x,1);v.clear(),v={}}},p.default.prototype.save=function(i,l,v){var w=arguments,x=this._curElement?this._curElement.elt:this.elt;if(w.length!==0)if(w[0]instanceof p.default.Renderer||w[0]instanceof p.default.Graphics)p.default.prototype.saveCanvas(w[0].elt,w[1],w[2]);else if(w.length===1&&typeof w[0]=="string")p.default.prototype.saveCanvas(x,w[0]);else switch(r(w[1],w[2])[1]){case"json":return void p.default.prototype.saveJSON(w[0],w[1],w[2]);case"txt":return void p.default.prototype.saveStrings(w[0],w[1],w[2]);default:w[0]instanceof Array?p.default.prototype.saveStrings(w[0],w[1],w[2]):w[0]instanceof p.default.Table?p.default.prototype.saveTable(w[0],w[1],w[2]):w[0]instanceof p.default.Image?p.default.prototype.saveCanvas(w[0].canvas,w[1]):w[0]instanceof p.default.SoundFile&&p.default.prototype.saveSound(w[0],w[1],w[2],w[3])}else p.default.prototype.saveCanvas(x)},p.default.prototype.saveJSON=function(i,l,v){var w;p.default._validateParameters("saveJSON",arguments),w=v?JSON.stringify(i):JSON.stringify(i,void 0,2),this.saveStrings(w.split(`
`),l,"json")},p.default.prototype.saveJSONObject=p.default.prototype.saveJSON,p.default.prototype.saveJSONArray=p.default.prototype.saveJSON,p.default.prototype.saveStrings=function(i,l,v,w){p.default._validateParameters("saveStrings",arguments);for(var x=v||"txt",_=this.createWriter(l,x),E=0;E<i.length;E++)w?_.write(i[E]+`\r
`):_.write(i[E]+`
`);_.close(),_.clear()},p.default.prototype.saveTable=function(i,l,v){var w;p.default._validateParameters("saveTable",arguments),w=v===void 0?l.substring(l.lastIndexOf(".")+1,l.length):v;var x=this.createWriter(l,w),_=i.columns,E=",";if(w==="tsv"&&(E="	"),w!=="html"){if(_[0]!=="0"){for(var C=0;C<_.length;C++)C<_.length-1?x.write(_[C]+E):x.write(_[C]);x.write(`
`)}for(var A=0;A<i.rows.length;A++){var O=void 0;for(O=0;O<i.rows[A].arr.length;O++)O<i.rows[A].arr.length-1?w==="csv"&&String(i.rows[A].arr[O]).includes(",")?x.write('"'+i.rows[A].arr[O]+'"'+E):x.write(i.rows[A].arr[O]+E):w==="csv"&&String(i.rows[A].arr[O]).includes(",")?x.write('"'+i.rows[A].arr[O]+'"'):x.write(i.rows[A].arr[O]);x.write(`
`)}}else{if(x.print("<html>"),x.print("<head>"),x.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),x.print("</head>"),x.print("<body>"),x.print("  <table>"),_[0]!=="0"){x.print("    <tr>");for(var I=0;I<_.length;I++){var R=o(_[I]);x.print("      <td>".concat(R)),x.print("      </td>")}x.print("    </tr>")}for(var L=0;L<i.rows.length;L++){x.print("    <tr>");for(var U=0;U<i.columns.length;U++){var D=o(i.rows[L].getString(U));x.print("      <td>".concat(D)),x.print("      </td>")}x.print("    </tr>")}x.print("  </table>"),x.print("</body>"),x.print("</html>")}x.close(),x.clear()},p.default.prototype.writeFile=function(i,l,v){var w="application/octet-stream";p.default.prototype._isSafari()&&(w="text/plain");var x=new Blob(i,{type:w});p.default.prototype.downloadFile(x,l,v)},p.default.prototype.downloadFile=function(i,l,v){var w=r(l,v),x=w[0];if(i instanceof Blob)c.default.saveAs(i,x);else{var _=document.createElement("a");if(_.href=i,_.download=x,_.onclick=function(C){var A;A=C,document.body.removeChild(A.target),C.stopPropagation()},_.style.display="none",document.body.appendChild(_),p.default.prototype._isSafari()){var E=`Hello, Safari user! To download this file...
`;E+=`1. Go to File --> Save As.
`,E+=`2. Choose "Page Source" as the Format.
`,E+='3. Name it with this extension: ."'.concat(w[1],'"'),alert(E)}_.click()}},p.default.prototype._checkFileExtension=r,p.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")};var s=p.default;h.default=s},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231,"es6-promise/auto":232,"fetch-jsonp":234,"file-saver":235,"whatwg-fetch":242}],291:[function(e,g,h){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.Table=function(d){this.columns=[],this.rows=[]},t.default.Table.prototype.addRow=function(d){var m=d||new t.default.TableRow;if(m.arr===void 0||m.obj===void 0)throw new Error("invalid TableRow: ".concat(m));return(m.table=this).rows.push(m),m},t.default.Table.prototype.removeRow=function(d){this.rows[d].table=null;var m=this.rows.splice(d+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(m)},t.default.Table.prototype.getRow=function(d){return this.rows[d]},t.default.Table.prototype.getRows=function(){return this.rows},t.default.Table.prototype.findRow=function(d,m){if(typeof m=="string"){for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[m]===d)return this.rows[f]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].arr[m]===d)return this.rows[o];return null},t.default.Table.prototype.findRows=function(d,m){var f=[];if(typeof m=="string")for(var o=0;o<this.rows.length;o++)this.rows[o].obj[m]===d&&f.push(this.rows[o]);else for(var r=0;r<this.rows.length;r++)this.rows[r].arr[m]===d&&f.push(this.rows[r]);return f},t.default.Table.prototype.matchRow=function(d,m){if(typeof m=="number"){for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[m].match(d))return this.rows[f]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].obj[m].match(d))return this.rows[o];return null},t.default.Table.prototype.matchRows=function(d,m){var f=[];if(typeof m=="number")for(var o=0;o<this.rows.length;o++)this.rows[o].arr[m].match(d)&&f.push(this.rows[o]);else for(var r=0;r<this.rows.length;r++)this.rows[r].obj[m].match(d)&&f.push(this.rows[r]);return f},t.default.Table.prototype.getColumn=function(d){var m=[];if(typeof d=="string")for(var f=0;f<this.rows.length;f++)m.push(this.rows[f].obj[d]);else for(var o=0;o<this.rows.length;o++)m.push(this.rows[o].arr[d]);return m},t.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},t.default.Table.prototype.addColumn=function(d){var m=d||null;this.columns.push(m)},t.default.Table.prototype.getColumnCount=function(){return this.columns.length},t.default.Table.prototype.getRowCount=function(){return this.rows.length},t.default.Table.prototype.removeTokens=function(d,m){for(var f=[],o=0;o<d.length;o++)f.push(d.charAt(o).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var r=new RegExp(f.join("|"),"g");if(m===void 0)for(var s=0;s<this.columns.length;s++)for(var i=0;i<this.rows.length;i++){var l=this.rows[i].arr[s];l=l.replace(r,""),this.rows[i].arr[s]=l,this.rows[i].obj[this.columns[s]]=l}else if(typeof m=="string")for(var v=0;v<this.rows.length;v++){var w=this.rows[v].obj[m];w=w.replace(r,""),this.rows[v].obj[m]=w;var x=this.columns.indexOf(m);this.rows[v].arr[x]=w}else for(var _=0;_<this.rows.length;_++){var E=this.rows[_].arr[m];E=E.replace(r,""),this.rows[_].arr[m]=E,this.rows[_].obj[this.columns[m]]=E}},t.default.Table.prototype.trim=function(d){var m=new RegExp(" ","g");if(d===void 0)for(var f=0;f<this.columns.length;f++)for(var o=0;o<this.rows.length;o++){var r=this.rows[o].arr[f];r=r.replace(m,""),this.rows[o].arr[f]=r,this.rows[o].obj[this.columns[f]]=r}else if(typeof d=="string")for(var s=0;s<this.rows.length;s++){var i=this.rows[s].obj[d];i=i.replace(m,""),this.rows[s].obj[d]=i;var l=this.columns.indexOf(d);this.rows[s].arr[l]=i}else for(var v=0;v<this.rows.length;v++){var w=this.rows[v].arr[d];w=w.replace(m,""),this.rows[v].arr[d]=w,this.rows[v].obj[this.columns[d]]=w}},t.default.Table.prototype.removeColumn=function(d){var m,f;typeof d=="string"?(m=d,f=this.columns.indexOf(d)):(f=d,m=this.columns[d]);var o=this.columns.splice(f+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(o);for(var r=0;r<this.rows.length;r++){var s=this.rows[r].arr,i=s.splice(f+1,s.length);s.pop(),this.rows[r].arr=s.concat(i),delete this.rows[r].obj[m]}},t.default.Table.prototype.set=function(d,m,f){this.rows[d].set(m,f)},t.default.Table.prototype.setNum=function(d,m,f){this.rows[d].setNum(m,f)},t.default.Table.prototype.setString=function(d,m,f){this.rows[d].setString(m,f)},t.default.Table.prototype.get=function(d,m){return this.rows[d].get(m)},t.default.Table.prototype.getNum=function(d,m){return this.rows[d].getNum(m)},t.default.Table.prototype.getString=function(d,m){return this.rows[d].getString(m)},t.default.Table.prototype.getObject=function(d){for(var m,f={},o=0;o<this.rows.length;o++)if(m=this.rows[o].obj,typeof d=="string"){if(!(0<=this.columns.indexOf(d)))throw new Error('This table has no column named "'.concat(d,'"'));f[m[d]]=m}else f[o]=this.rows[o].obj;return f},t.default.Table.prototype.getArray=function(){for(var d=[],m=0;m<this.rows.length;m++)d.push(this.rows[m].arr);return d};var c=t.default;h.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],292:[function(e,g,h){e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.TableRow=function(d,m){var f=[],o={};d&&(m=m||",",f=d.split(m));for(var r=0;r<f.length;r++){var s=r,i=f[r];o[s]=i}this.arr=f,this.obj=o,this.table=null},t.default.TableRow.prototype.set=function(d,m){if(typeof d=="string"){var f=this.table.columns.indexOf(d);if(!(0<=f))throw new Error('This table has no column named "'.concat(d,'"'));this.obj[d]=m,this.arr[f]=m}else{if(!(d<this.table.columns.length))throw new Error("Column #".concat(d," is out of the range of this table"));this.arr[d]=m;var o=this.table.columns[d];this.obj[o]=m}},t.default.TableRow.prototype.setNum=function(d,m){var f=parseFloat(m);this.set(d,f)},t.default.TableRow.prototype.setString=function(d,m){var f=m.toString();this.set(d,f)},t.default.TableRow.prototype.get=function(d){return typeof d=="string"?this.obj[d]:this.arr[d]},t.default.TableRow.prototype.getNum=function(d){var m;if((m=parseFloat(typeof d=="string"?this.obj[d]:this.arr[d])).toString()==="NaN")throw"Error: ".concat(this.obj[d]," is NaN (Not a Number)");return m},t.default.TableRow.prototype.getString=function(d){return typeof d=="string"?this.obj[d].toString():this.arr[d].toString()};var c=t.default;h.default=c},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],293:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};function c(m){for(var f=[],o=0;o<m.length;o++)f.push(new t.default.XML(m[o]));return f}t.default.XML=function(m){if(m)this.DOM=m;else{var f=document.implementation.createDocument(null,"doc");this.DOM=f.createElement("root")}},t.default.XML.prototype.getParent=function(){return new t.default.XML(this.DOM.parentElement)},t.default.XML.prototype.getName=function(){return this.DOM.tagName},t.default.XML.prototype.setName=function(m){var f=this.DOM.innerHTML,o=this.DOM.attributes,r=document.implementation.createDocument(null,"default").createElement(m);r.innerHTML=f;for(var s=0;s<o.length;s++)r.setAttribute(o[s].nodeName,o.nodeValue);this.DOM=r},t.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},t.default.XML.prototype.listChildren=function(){for(var m=[],f=0;f<this.DOM.childNodes.length;f++)m.push(this.DOM.childNodes[f].nodeName);return m},t.default.XML.prototype.getChildren=function(m){return c(m?this.DOM.getElementsByTagName(m):this.DOM.children)},t.default.XML.prototype.getChild=function(m){if(typeof m!="string")return new t.default.XML(this.DOM.children[m]);var f=!0,o=!1,r=void 0;try{for(var s,i=this.DOM.children[Symbol.iterator]();!(f=(s=i.next()).done);f=!0){var l=s.value;if(l.tagName===m)return new t.default.XML(l)}}catch(v){o=!0,r=v}finally{try{f||i.return==null||i.return()}finally{if(o)throw r}}},t.default.XML.prototype.addChild=function(m){m instanceof t.default.XML&&this.DOM.appendChild(m.DOM)},t.default.XML.prototype.removeChild=function(m){var f=-1;if(typeof m=="string"){for(var o=0;o<this.DOM.children.length;o++)if(this.DOM.children[o].tagName===m){f=o;break}}else f=m;f!==-1&&this.DOM.removeChild(this.DOM.children[f])},t.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},t.default.XML.prototype.listAttributes=function(){var m=[],f=!0,o=!1,r=void 0;try{for(var s,i=this.DOM.attributes[Symbol.iterator]();!(f=(s=i.next()).done);f=!0){var l=s.value;m.push(l.nodeName)}}catch(v){o=!0,r=v}finally{try{f||i.return==null||i.return()}finally{if(o)throw r}}return m},t.default.XML.prototype.hasAttribute=function(m){var f={},o=!0,r=!1,s=void 0;try{for(var i,l=this.DOM.attributes[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var v=i.value;f[v.nodeName]=v.nodeValue}}catch(w){r=!0,s=w}finally{try{o||l.return==null||l.return()}finally{if(r)throw s}}return!!f[m]},t.default.XML.prototype.getNum=function(m,f){var o={},r=!0,s=!1,i=void 0;try{for(var l,v=this.DOM.attributes[Symbol.iterator]();!(r=(l=v.next()).done);r=!0){var w=l.value;o[w.nodeName]=w.nodeValue}}catch(x){s=!0,i=x}finally{try{r||v.return==null||v.return()}finally{if(s)throw i}}return Number(o[m])||f||0},t.default.XML.prototype.getString=function(m,f){var o={},r=!0,s=!1,i=void 0;try{for(var l,v=this.DOM.attributes[Symbol.iterator]();!(r=(l=v.next()).done);r=!0){var w=l.value;o[w.nodeName]=w.nodeValue}}catch(x){s=!0,i=x}finally{try{r||v.return==null||v.return()}finally{if(s)throw i}}return o[m]?String(o[m]):f||null},t.default.XML.prototype.setAttribute=function(m,f){this.DOM.setAttribute(m,f)},t.default.XML.prototype.getContent=function(m){return this.DOM.textContent.replace(/\s\s+/g,",")||m||null},t.default.XML.prototype.setContent=function(m){this.DOM.children.length||(this.DOM.textContent=m)},t.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)};var d=t.default;h.default=d},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],294:[function(e,g,h){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};function c(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var m=arguments.length,f=[],o=0,r=0;r<m;r++){var s=arguments[r];if((s=+s)===1/0||s===-1/0)return 1/0;o<(s=Math.abs(s))&&(o=s),f[r]=s}o===0&&(o=1);for(var i=0,l=0,v=0;v<m;v++){var w=f[v]/o,x=w*w-l,_=i+x;l=_-i-x,i=_}return Math.sqrt(i)*o}t.default.prototype.abs=Math.abs,t.default.prototype.ceil=Math.ceil,t.default.prototype.constrain=function(m,f,o){return t.default._validateParameters("constrain",arguments),Math.max(Math.min(m,o),f)},t.default.prototype.dist=function(){for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];return t.default._validateParameters("dist",f),f.length===4?c(f[2]-f[0],f[3]-f[1]):f.length===6?c(f[3]-f[0],f[4]-f[1],f[5]-f[2]):void 0},t.default.prototype.exp=Math.exp,t.default.prototype.floor=Math.floor,t.default.prototype.lerp=function(m,f,o){return t.default._validateParameters("lerp",arguments),o*(f-m)+m},t.default.prototype.log=Math.log,t.default.prototype.mag=function(m,f){return t.default._validateParameters("mag",arguments),c(m,f)},t.default.prototype.map=function(m,f,o,r,s,i){t.default._validateParameters("map",arguments);var l=(m-f)/(o-f)*(s-r)+r;return i?r<s?this.constrain(l,r,s):this.constrain(l,s,r):l},t.default.prototype.max=function(){for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];return f[0]instanceof Array?Math.max.apply(null,f[0]):Math.max.apply(null,f)},t.default.prototype.min=function(){for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];return f[0]instanceof Array?Math.min.apply(null,f[0]):Math.min.apply(null,f)},t.default.prototype.norm=function(m,f,o){return t.default._validateParameters("norm",arguments),this.map(m,f,o,0,1)},t.default.prototype.pow=Math.pow,t.default.prototype.round=function(m,f){if(!f)return Math.round(m);var o=Math.pow(10,f);return Math.round(m*o)/o},t.default.prototype.sq=function(m){return m*m},t.default.prototype.sqrt=Math.sqrt,t.default.prototype.fract=function(m){t.default._validateParameters("fract",arguments);var f=0,o=Number(m);if(isNaN(o)||Math.abs(o)===1/0)return o;if(o<0&&(o=-o,f=1),!String(o).includes(".")||String(o).includes("e"))return o<1?Math.abs(f-o):0;var r=String(o);return r=Number("0"+r.slice(r.indexOf("."))),Math.abs(f-r)};var d=t.default;h.default=d},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":168,"core-js/modules/es.number.constructor":170,"core-js/modules/es.string.includes":185}],295:[function(e,g,h){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};function c(f,o,r){return(c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(s,i,l){var v=[null];v.push.apply(v,i);var w=new(Function.bind.apply(s,v));return l&&d(w,l.prototype),w}).apply(null,arguments)}function d(f,o){return(d=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r})(f,o)}t.default.prototype.createVector=function(f,o,r){return this instanceof t.default?c(t.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new t.default.Vector(f,o,r)};var m=t.default;h.default=m},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],296:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};function c(s){return .5*(1-Math.cos(s*Math.PI))}var d,m=4095,f=4,o=.5;t.default.prototype.noise=function(s){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(d==null){d=new Array(4096);for(var v=0;v<4096;v++)d[v]=Math.random()}s<0&&(s=-s),i<0&&(i=-i),l<0&&(l=-l);for(var w,x,_,E,C,A=Math.floor(s),O=Math.floor(i),I=Math.floor(l),R=s-A,L=i-O,U=l-I,D=0,W=.5,H=0;H<f;H++){var ae=A+(O<<4)+(I<<8);w=c(R),x=c(L),_=d[ae&m],_+=w*(d[ae+1&m]-_),E=d[ae+16&m],_+=x*((E+=w*(d[ae+16+1&m]-E))-_),E=d[(ae+=256)&m],E+=w*(d[ae+1&m]-E),C=d[ae+16&m],E+=x*((C+=w*(d[ae+16+1&m]-C))-E),D+=(_+=c(U)*(E-_))*W,W*=o,A<<=1,O<<=1,I<<=1,1<=(R*=2)&&(A++,R--),1<=(L*=2)&&(O++,L--),1<=(U*=2)&&(I++,U--)}return D},t.default.prototype.noiseDetail=function(s,i){0<s&&(f=s),0<i&&(o=i)},t.default.prototype.noiseSeed=function(s){var i,l,v,w=(v=4294967296,{setSeed:function(_){l=i=(_??Math.random()*v)>>>0},getSeed:function(){return i},rand:function(){return(l=(1664525*l+1013904223)%v)/v}});w.setSeed(s),d=new Array(4096);for(var x=0;x<4096;x++)d[x]=w.rand()};var r=t.default;h.default=r},{"../core/main":264}],297:[function(e,g,h){function p(s){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(s){if(s&&s.__esModule)return s;if(s===null||p(s)!=="object"&&typeof s!="function")return{default:s};var i=m();if(i&&i.has(s))return i.get(s);var l={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in s)if(Object.prototype.hasOwnProperty.call(s,w)){var x=v?Object.getOwnPropertyDescriptor(s,w):null;x&&(x.get||x.set)?Object.defineProperty(l,w,x):l[w]=s[w]}return l.default=s,i&&i.set(s,l),l}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return m=function(){return s},s}c.default.Vector=function(s,i,l,v,w){var x,_,E;E={}.toString.call(s)==="[object Function]"?(this.isPInst=!0,this._fromRadians=s,this._toRadians=i,x=l||0,_=v||0,w||0):(x=s||0,_=i||0,l||0),this.x=x,this.y=_,this.z=E},c.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},c.default.Vector.prototype.set=function(s,i,l){return s instanceof c.default.Vector?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):s instanceof Array?(this.x=s[0]||0,this.y=s[1]||0,this.z=s[2]||0):(this.x=s||0,this.y=i||0,this.z=l||0),this},c.default.Vector.prototype.copy=function(){return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new c.default.Vector(this.x,this.y,this.z)},c.default.Vector.prototype.add=function(s,i,l){return s instanceof c.default.Vector?(this.x+=s.x||0,this.y+=s.y||0,this.z+=s.z||0):s instanceof Array?(this.x+=s[0]||0,this.y+=s[1]||0,this.z+=s[2]||0):(this.x+=s||0,this.y+=i||0,this.z+=l||0),this};function f(s,i){return s!==0&&(this.x=this.x%s),i!==0&&(this.y=this.y%i),this}function o(s,i,l){return s!==0&&(this.x=this.x%s),i!==0&&(this.y=this.y%i),l!==0&&(this.z=this.z%l),this}c.default.Vector.prototype.rem=function(s,i,l){if(s instanceof c.default.Vector){if(Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)){var v=parseFloat(s.x),w=parseFloat(s.y),x=parseFloat(s.z);return o.call(this,v,w,x)}}else if(s instanceof Array){if(s.every(function(C){return Number.isFinite(C)})){if(s.length===2)return f.call(this,s[0],s[1]);if(s.length===3)return o.call(this,s[0],s[1],s[2])}}else if(arguments.length===1){if(Number.isFinite(s)&&s!==0)return this.x=this.x%s,this.y=this.y%s,this.z=this.z%s,this}else if(arguments.length===2){var _=Array.prototype.slice.call(arguments);if(_.every(function(C){return Number.isFinite(C)})&&_.length===2)return f.call(this,_[0],_[1])}else if(arguments.length===3){var E=Array.prototype.slice.call(arguments);if(E.every(function(C){return Number.isFinite(C)})&&E.length===3)return o.call(this,E[0],E[1],E[2])}},c.default.Vector.prototype.sub=function(s,i,l){return s instanceof c.default.Vector?(this.x-=s.x||0,this.y-=s.y||0,this.z-=s.z||0):s instanceof Array?(this.x-=s[0]||0,this.y-=s[1]||0,this.z-=s[2]||0):(this.x-=s||0,this.y-=i||0,this.z-=l||0),this},c.default.Vector.prototype.mult=function(s,i,l){if(s instanceof c.default.Vector)return Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.z=="number"?(this.x*=s.x,this.y*=s.y,this.z*=s.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(s instanceof Array)return s.every(function(w){return Number.isFinite(w)})&&s.every(function(w){return typeof w=="number"})?s.length===1?(this.x*=s[0],this.y*=s[0],this.z*=s[0]):s.length===2?(this.x*=s[0],this.y*=s[1]):s.length===3&&(this.x*=s[0],this.y*=s[1],this.z*=s[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var v=Array.prototype.slice.call(arguments);return v.every(function(w){return Number.isFinite(w)})&&v.every(function(w){return typeof w=="number"})?(arguments.length===1&&(this.x*=s,this.y*=s,this.z*=s),arguments.length===2&&(this.x*=s,this.y*=i),arguments.length===3&&(this.x*=s,this.y*=i,this.z*=l)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},c.default.Vector.prototype.div=function(s,i,l){if(s instanceof c.default.Vector){if(Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.z=="number"){if(s.x===0||s.y===0||s.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=s.x,this.y/=s.y,this.z/=s.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(s instanceof Array){if(s.every(function(w){return Number.isFinite(w)})&&s.every(function(w){return typeof w=="number"})){if(s.some(function(w){return w===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;s.length===1?(this.x/=s[0],this.y/=s[0],this.z/=s[0]):s.length===2?(this.x/=s[0],this.y/=s[1]):s.length===3&&(this.x/=s[0],this.y/=s[1],this.z/=s[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var v=Array.prototype.slice.call(arguments);if(v.every(function(w){return Number.isFinite(w)})&&v.every(function(w){return typeof w=="number"})){if(v.some(function(w){return w===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=s,this.y/=s,this.z/=s),arguments.length===2&&(this.x/=s,this.y/=i),arguments.length===3&&(this.x/=s,this.y/=i,this.z/=l)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},c.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},c.default.Vector.prototype.magSq=function(){var s=this.x,i=this.y,l=this.z;return s*s+i*i+l*l},c.default.Vector.prototype.dot=function(s,i,l){return s instanceof c.default.Vector?this.dot(s.x,s.y,s.z):this.x*(s||0)+this.y*(i||0)+this.z*(l||0)},c.default.Vector.prototype.cross=function(s){var i=this.y*s.z-this.z*s.y,l=this.z*s.x-this.x*s.z,v=this.x*s.y-this.y*s.x;return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,i,l,v):new c.default.Vector(i,l,v)},c.default.Vector.prototype.dist=function(s){return s.copy().sub(this).mag()},c.default.Vector.prototype.normalize=function(){var s=this.mag();return s!==0&&this.mult(1/s),this},c.default.Vector.prototype.limit=function(s){var i=this.magSq();return s*s<i&&this.div(Math.sqrt(i)).mult(s),this},c.default.Vector.prototype.setMag=function(s){return this.normalize().mult(s)},c.default.Vector.prototype.heading=function(){var s=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(s):s},c.default.Vector.prototype.setHeading=function(s){var i=this.mag();return this.x=i*Math.cos(s),this.y=i*Math.sin(s),this},c.default.Vector.prototype.rotate=function(s){var i=this.heading()+s;this.isPInst&&(i=this._toRadians(i));var l=this.mag();return this.x=Math.cos(i)*l,this.y=Math.sin(i)*l,this},c.default.Vector.prototype.angleBetween=function(s){var i,l=this.dot(s)/(this.mag()*s.mag());return i=Math.acos(Math.min(1,Math.max(-1,l))),i*=Math.sign(this.cross(s).z||1),this.isPInst&&(i=this._fromRadians(i)),i},c.default.Vector.prototype.lerp=function(s,i,l,v){return s instanceof c.default.Vector?this.lerp(s.x,s.y,s.z,i):(this.x+=(s-this.x)*v||0,this.y+=(i-this.y)*v||0,this.z+=(l-this.z)*v||0,this)},c.default.Vector.prototype.reflect=function(s){return s.normalize(),this.sub(s.mult(2*this.dot(s)))},c.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},c.default.Vector.prototype.equals=function(s,i,l){var v,w,x;return x=s instanceof c.default.Vector?(v=s.x||0,w=s.y||0,s.z||0):s instanceof Array?(v=s[0]||0,w=s[1]||0,s[2]||0):(v=s||0,w=i||0,l||0),this.x===v&&this.y===w&&this.z===x},c.default.Vector.fromAngle=function(s,i){return i===void 0&&(i=1),new c.default.Vector(i*Math.cos(s),i*Math.sin(s),0)},c.default.Vector.fromAngles=function(s,i,l){l===void 0&&(l=1);var v=Math.cos(i),w=Math.sin(i),x=Math.cos(s),_=Math.sin(s);return new c.default.Vector(l*_*w,-l*x,l*_*v)},c.default.Vector.random2D=function(){return this.fromAngle(Math.random()*d.TWO_PI)},c.default.Vector.random3D=function(){var s=Math.random()*d.TWO_PI,i=2*Math.random()-1,l=Math.sqrt(1-i*i),v=l*Math.cos(s),w=l*Math.sin(s);return new c.default.Vector(v,w,i)},c.default.Vector.add=function(s,i,l){return l?l.set(s):(l=s.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),l.add(i),l},c.default.Vector.rem=function(s,i){if(s instanceof c.default.Vector&&i instanceof c.default.Vector){var l=s.copy();return l.rem(i),l}},c.default.Vector.sub=function(s,i,l){return l?l.set(s):(l=s.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),l.sub(i),l},c.default.Vector.mult=function(s,i,l){return l?l.set(s):(l=s.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),l.mult(i),l},c.default.Vector.rotate=function(s,i,l){return arguments.length===2?l=s.copy():(l instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),l.set(s)),l.rotate(i),l},c.default.Vector.div=function(s,i,l){return l?l.set(s):(l=s.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),l.div(i),l},c.default.Vector.dot=function(s,i){return s.dot(i)},c.default.Vector.cross=function(s,i){return s.cross(i)},c.default.Vector.dist=function(s,i){return s.dist(i)},c.default.Vector.lerp=function(s,i,l,v){return v?v.set(s):(v=s.copy(),arguments.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),v.lerp(i,l),v},c.default.Vector.mag=function(s){var i=s.x,l=s.y,v=s.z,w=i*i+l*l+v*v;return Math.sqrt(w)},c.default.Vector.normalize=function(s,i){return arguments.length<2?i=s.copy():(i instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),i.set(s)),i.normalize()};var r=c.default.Vector;h.default=r},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":150,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":169,"core-js/modules/es.number.constructor":170,"core-js/modules/es.number.is-finite":171,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.sub":192}],298:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p},c="_lcg_random_state",d=4294967296,m=0;t.default.prototype._lcg=function(o){return this[o]=(1664525*this[o]+1013904223)%d,this[o]/d},t.default.prototype._lcgSetSeed=function(o,r){this[o]=(r??Math.random()*d)>>>0},t.default.prototype.randomSeed=function(o){this._lcgSetSeed(c,o),this._gaussian_previous=!1},t.default.prototype.random=function(o,r){var s;if(t.default._validateParameters("random",arguments),s=this[c]!=null?this._lcg(c):Math.random(),o===void 0)return s;if(r===void 0)return o instanceof Array?o[Math.floor(s*o.length)]:s*o;if(r<o){var i=o;o=r,r=i}return s*(r-o)+o},t.default.prototype.randomGaussian=function(o){var r,s,i,l,v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)r=m,this._gaussian_previous=!1;else{for(;1<=(l=(s=this.random(2)-1)*s+(i=this.random(2)-1)*i););r=s*(l=Math.sqrt(-2*Math.log(l)/l)),m=i*l,this._gaussian_previous=!0}return r*v+(o||0)};var f=t.default;h.default=f},{"../core/main":264}],299:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=m();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}c.default.prototype._angleMode=d.RADIANS,c.default.prototype.acos=function(o){return this._fromRadians(Math.acos(o))},c.default.prototype.asin=function(o){return this._fromRadians(Math.asin(o))},c.default.prototype.atan=function(o){return this._fromRadians(Math.atan(o))},c.default.prototype.atan2=function(o,r){return this._fromRadians(Math.atan2(o,r))},c.default.prototype.cos=function(o){return Math.cos(this._toRadians(o))},c.default.prototype.sin=function(o){return Math.sin(this._toRadians(o))},c.default.prototype.tan=function(o){return Math.tan(this._toRadians(o))},c.default.prototype.degrees=function(o){return o*d.RAD_TO_DEG},c.default.prototype.radians=function(o){return o*d.DEG_TO_RAD},c.default.prototype.angleMode=function(o){if(c.default._validateParameters("angleMode",arguments),o===void 0)return this._angleMode;o!==d.DEGREES&&o!==d.RADIANS||(this._angleMode=o)},c.default.prototype._toRadians=function(o){return this._angleMode===d.DEGREES?o*d.DEG_TO_RAD:o},c.default.prototype._toDegrees=function(o){return this._angleMode===d.RADIANS?o*d.RAD_TO_DEG:o},c.default.prototype._fromRadians=function(o){return this._angleMode===d.DEGREES?o*d.RAD_TO_DEG:o};var f=c.default;h.default=f},{"../core/constants":253,"../core/main":264}],300:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.prototype.textAlign=function(d,m){var f;return t.default._validateParameters("textAlign",arguments),(f=this._renderer).textAlign.apply(f,arguments)},t.default.prototype.textLeading=function(d){var m;return t.default._validateParameters("textLeading",arguments),(m=this._renderer).textLeading.apply(m,arguments)},t.default.prototype.textSize=function(d){var m;return t.default._validateParameters("textSize",arguments),(m=this._renderer).textSize.apply(m,arguments)},t.default.prototype.textStyle=function(d){var m;return t.default._validateParameters("textStyle",arguments),(m=this._renderer).textStyle.apply(m,arguments)},t.default.prototype.textWidth=function(){for(var d,m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];return f[0]+="",t.default._validateParameters("textWidth",f),f[0].length===0?0:(d=this._renderer).textWidth.apply(d,f)},t.default.prototype.textAscent=function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];return t.default._validateParameters("textAscent",m),this._renderer.textAscent()},t.default.prototype.textDescent=function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];return t.default._validateParameters("textDescent",m),this._renderer.textDescent()},t.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},t.default.prototype.textWrap=function(d){if(d!=="WORD"&&d!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(d)};var c=t.default;h.default=c},{"../core/main":264}],301:[function(e,g,h){function p(s){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=o(e("../core/constants")),m=o(e("opentype.js"));function f(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return f=function(){return s},s}function o(s){if(s&&s.__esModule)return s;if(s===null||p(s)!=="object"&&typeof s!="function")return{default:s};var i=f();if(i&&i.has(s))return i.get(s);var l={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in s)if(Object.prototype.hasOwnProperty.call(s,w)){var x=v?Object.getOwnPropertyDescriptor(s,w):null;x&&(x.get||x.set)?Object.defineProperty(l,w,x):l[w]=s[w]}return l.default=s,i&&i.set(s,l),l}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),c.default.prototype.loadFont=function(s,i,l){c.default._validateParameters("loadFont",arguments);var v=new c.default.Font(this),w=this;return m.load(s,function(x,_){if(x)return c.default._friendlyFileLoadError(4,s),l!==void 0?l(x):void console.error(x,s);v.font=_,i!==void 0&&i(v),w._decrementPreload();var E,C,A=s.split("\\").pop().split("/").pop(),O=A.lastIndexOf("."),I=O<1?null:A.slice(O+1);["ttf","otf","woff","woff2"].includes(I)&&(E=A.slice(0,O!==-1?O:0),(C=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(E,`;
src: url(`).concat(s,`);
}
`))),document.head.appendChild(C))}),v},c.default.prototype.text=function(s,i,l,v,w){var x;return c.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(x=this._renderer).text.apply(x,arguments):this},c.default.prototype.textFont=function(s,i){if(c.default._validateParameters("textFont",arguments),arguments.length){if(!s)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",s),i&&(this._renderer._setProperty("_textSize",i),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",i*d._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont};var r=c.default;h.default=r},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.split":191,"opentype.js":239}],302:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p},c=function(R){if(R&&R.__esModule)return R;if(R===null||m(R)!=="object"&&typeof R!="function")return{default:R};var L=d();if(L&&L.has(R))return L.get(R);var U={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in R)if(Object.prototype.hasOwnProperty.call(R,W)){var H=D?Object.getOwnPropertyDescriptor(R,W):null;H&&(H.get||H.set)?Object.defineProperty(U,W,H):U[W]=R[W]}return U.default=R,L&&L.set(R,U),U}(e("../core/constants"));function d(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return d=function(){return R},R}function m(R){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(R)}function f(R,L){for(var U=function(le,J){if(m(le)!=="object")le=J;else for(var ue in J)le[ue]===void 0&&(le[ue]=J[ue]);return le}(L,{sampleFactor:.1,simplifyThreshold:0}),D=w(R,0,1),W=D/(D*U.sampleFactor),H=[],ae=0;ae<D;ae+=W)H.push(w(R,ae));return U.simplifyThreshold&&function(le){for(var J=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ue=0,se=le.length-1;3<le.length&&0<=se;--se)i(s(le,se-1),s(le,se),s(le,se+1),J)&&(le.splice(se%le.length,1),ue++)}(H,U.simplifyThreshold),H}function o(R){for(var L,U=[],D=0;D<R.length;D++)R[D].type==="M"&&(L&&U.push(L),L=[]),L.push(r(R[D]));return U.push(L),U}function r(R){var L=[R.type];return R.type==="M"||R.type==="L"?L.push(R.x,R.y):R.type==="C"?L.push(R.x1,R.y1,R.x2,R.y2,R.x,R.y):R.type==="Q"&&L.push(R.x1,R.y1,R.x,R.y),L}function s(R,L){var U=R.length;return R[L<0?L%U+U:L%U]}function i(R,L,U,D){if(!D)return W=R,ae=U,((H=L)[0]-W[0])*(ae[1]-W[1])-(ae[0]-W[0])*(H[1]-W[1])==0;var W,H,ae;i.tmpPoint1===void 0&&(i.tmpPoint1=[],i.tmpPoint2=[]);var le=i.tmpPoint1,J=i.tmpPoint2;le.x=L.x-R.x,le.y=L.y-R.y,J.x=U.x-L.x,J.y=U.y-L.y;var ue=le.x*J.x+le.y*J.y,se=Math.sqrt(le.x*le.x+le.y*le.y),me=Math.sqrt(J.x*J.x+J.y*J.y);return Math.acos(ue/(se*me))<D}function l(R,L,U,D,W,H,ae,le,J){var ue=1-J,se=Math.pow(ue,3),me=Math.pow(ue,2),xe=J*J,Ee=xe*J,ve=se*R+3*me*J*U+3*ue*J*J*W+Ee*ae,De=se*L+3*me*J*D+3*ue*J*J*H+Ee*le,_e=R+2*J*(U-R)+xe*(W-2*U+R),Se=L+2*J*(D-L)+xe*(H-2*D+L),P=U+2*J*(W-U)+xe*(ae-2*W+U),G=D+2*J*(H-D)+xe*(le-2*H+D),Y=ue*R+J*U,ee=ue*L+J*D,B=ue*W+J*ae,F=ue*H+J*le,re=90-180*Math.atan2(_e-P,Se-G)/Math.PI;return(P<_e||Se<G)&&(re+=180),{x:ve,y:De,m:{x:_e,y:Se},n:{x:P,y:G},start:{x:Y,y:ee},end:{x:B,y:F},alpha:re}}function v(R,L,U,D,W,H,ae,le,J){return J==null?A(R,L,U,D,W,H,ae,le):l(R,L,U,D,W,H,ae,le,function(ue,se,me,xe,Ee,ve,De,_e,Se){if(!(Se<0||A(ue,se,me,xe,Ee,ve,De,_e)<Se)){var P,G=.5,Y=1-G;for(P=A(ue,se,me,xe,Ee,ve,De,_e,Y);.01<Math.abs(P-Se);)P=A(ue,se,me,xe,Ee,ve,De,_e,Y+=(P<Se?1:-1)*(G/=2));return Y}}(R,L,U,D,W,H,ae,le,J))}function w(R,L,U){for(var D,W,H,ae,le,J=0,ue=0,se=(R=function(me,xe){function Ee(ge,he,Pe){var Be,Ue;if(!ge)return["C",he.x,he.y,he.x,he.y,he.x,he.y];switch(ge[0]in{T:1,Q:1}||(he.qx=he.qy=null),ge[0]){case"M":he.X=ge[1],he.Y=ge[2];break;case"A":ge=["C"].concat(function Le(Ze,Re,Ae,ze,Ye,be,tt,V,Z,z){var K=Math.PI,de=120*K/180,Te,ke,Ve,we,Ke=K/180*(+Ye||0),at=[],ht,mt=function(Dt,wt,Je){var zt=Dt*Math.cos(Je)-wt*Math.sin(Je),ut=Dt*Math.sin(Je)+wt*Math.cos(Je);return{x:zt,y:ut}};if(z)Te=z[0],ke=z[1],Ve=z[2],we=z[3];else{ht=mt(Ze,Re,-Ke),Ze=ht.x,Re=ht.y,ht=mt(V,Z,-Ke),V=ht.x,Z=ht.y;var ft=(Ze-V)/2,pt=(Re-Z)/2,Mt=ft*ft/(Ae*Ae)+pt*pt/(ze*ze);1<Mt&&(Mt=Math.sqrt(Mt),Ae*=Mt,ze*=Mt);var Jr=Ae*Ae,vr=ze*ze,Nn=(be===tt?-1:1)*Math.sqrt(Math.abs((Jr*vr-Jr*pt*pt-vr*ft*ft)/(Jr*pt*pt+vr*ft*ft)));Ve=Nn*Ae*pt/ze+(Ze+V)/2,we=Nn*-ze*ft/Ae+(Re+Z)/2,Te=Math.asin(((Re-we)/ze).toFixed(9)),ke=Math.asin(((Z-we)/ze).toFixed(9)),(Te=Ze<Ve?K-Te:Te)<0&&(Te=2*K+Te),(ke=V<Ve?K-ke:ke)<0&&(ke=2*K+ke),tt&&ke<Te&&(Te-=2*K),!tt&&Te<ke&&(ke-=2*K)}var mn=ke-Te;if(Math.abs(mn)>de){var en=ke,Gn=V,Vn=Z;ke=Te+de*(tt&&Te<ke?1:-1),V=Ve+Ae*Math.cos(ke),Z=we+ze*Math.sin(ke),at=Le(V,Z,Ae,ze,Ye,0,tt,Gn,Vn,[ke,en,Ve,we])}mn=ke-Te;var Wn=Math.cos(Te),Hn=Math.sin(Te),zn=Math.cos(ke),fo=Math.sin(ke),Tn=Math.tan(mn/4),En=4/3*Ae*Tn,fe=4/3*ze*Tn,Ge=[Ze,Re],Qe=[Ze+En*Hn,Re-fe*Wn],qe=[V+En*fo,Z-fe*zn],rt=[V,Z];Qe[0]=2*Ge[0]-Qe[0],Qe[1]=2*Ge[1]-Qe[1];{if(z)return[Qe,qe,rt].concat(at);at=[Qe,qe,rt].concat(at).join().split(",");for(var Ne=[],jt=0,Rt=at.length;jt<Rt;jt++)Ne[jt]=jt%2?mt(at[jt-1],at[jt],Ke).y:mt(at[jt],at[jt+1],Ke).x;return Ne}}.apply(0,[he.x,he.y].concat(ge.slice(1))));break;case"S":Ue=Pe==="C"||Pe==="S"?(Be=2*he.x-he.bx,2*he.y-he.by):(Be=he.x,he.y),ge=["C",Be,Ue].concat(ge.slice(1));break;case"T":Pe==="Q"||Pe==="T"?(he.qx=2*he.x-he.qx,he.qy=2*he.y-he.qy):(he.qx=he.x,he.qy=he.y),ge=["C"].concat(C(he.x,he.y,he.qx,he.qy,ge[1],ge[2]));break;case"Q":he.qx=ge[1],he.qy=ge[2],ge=["C"].concat(C(he.x,he.y,ge[1],ge[2],ge[3],ge[4]));break;case"L":ge=["C"].concat(E(he.x,he.y,ge[1],ge[2]));break;case"H":ge=["C"].concat(E(he.x,he.y,ge[1],he.y));break;case"V":ge=["C"].concat(E(he.x,he.y,he.x,ge[1]));break;case"Z":ge=["C"].concat(E(he.x,he.y,he.X,he.Y))}return ge}function ve(ge,he){if(7<ge[he].length){ge[he].shift();for(var Pe=ge[he];Pe.length;)ee[he]="A",P&&(B[he]="A"),ge.splice(he++,0,["C"].concat(Pe.splice(0,6)));ge.splice(he,1),_e=Math.max(Se.length,P&&P.length||0)}}function De(ge,he,Pe,Be,Ue){ge&&he&&ge[Ue][0]==="M"&&he[Ue][0]!=="M"&&(he.splice(Ue,0,["M",Be.x,Be.y]),Pe.bx=0,Pe.by=0,Pe.x=ge[Ue][1],Pe.y=ge[Ue][2],_e=Math.max(Se.length,P&&P.length||0))}var _e,Se=x(me),P=xe&&x(xe),G={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Y={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee=[],B=[],F="",re="";_e=Math.max(Se.length,P&&P.length||0);for(var $=0;$<_e;$++){Se[$]&&(F=Se[$][0]),F!=="C"&&(ee[$]=F,$&&(re=ee[$-1])),Se[$]=Ee(Se[$],G,re),ee[$]!=="A"&&F==="C"&&(ee[$]="C"),ve(Se,$),P&&(P[$]&&(F=P[$][0]),F!=="C"&&(B[$]=F,$&&(re=B[$-1])),P[$]=Ee(P[$],Y,re),B[$]!=="A"&&F==="C"&&(B[$]="C"),ve(P,$)),De(Se,P,G,Y,$),De(P,Se,Y,G,$);var ne=Se[$],ie=P&&P[$],oe=ne.length,pe=P&&ie.length;G.x=ne[oe-2],G.y=ne[oe-1],G.bx=parseFloat(ne[oe-4])||G.x,G.by=parseFloat(ne[oe-3])||G.y,Y.bx=P&&(parseFloat(ie[pe-4])||Y.x),Y.by=P&&(parseFloat(ie[pe-3])||Y.y),Y.x=P&&ie[pe-2],Y.y=P&&ie[pe-1]}return P?[Se,P]:Se}(R)).length;ue<se;ue++){if((H=R[ue])[0]==="M")D=+H[1],W=+H[2];else{if(L<J+(ae=v(D,W,H[1],H[2],H[3],H[4],H[5],H[6]))&&!U)return{x:(le=v(D,W,H[1],H[2],H[3],H[4],H[5],H[6],L-J)).x,y:le.y,alpha:le.alpha};J+=ae,D=+H[5],W=+H[6]}H.shift()+H}return(le=U?J:l(D,W,H[0],H[1],H[2],H[3],H[4],H[5],1)).alpha&&(le={x:le.x,y:le.y,alpha:le.alpha}),le}function x(R){var L,U=[],D=0,W=0,H=0,ae=0,le=0;if(!R)return U;R[0][0]==="M"&&(H=D=+R[0][1],ae=W=+R[0][2],le++,U[0]=["M",D,W]);for(var J,ue,se=R.length===3&&R[0][0]==="M"&&R[1][0].toUpperCase()==="R"&&R[2][0].toUpperCase()==="Z",me=le,xe=R.length;me<xe;me++){if(U.push(J=[]),(ue=R[me])[0]!==String.prototype.toUpperCase.call(ue[0]))switch(J[0]=String.prototype.toUpperCase.call(ue[0]),J[0]){case"A":J[1]=ue[1],J[2]=ue[2],J[3]=ue[3],J[4]=ue[4],J[5]=ue[5],J[6]=+(ue[6]+D),J[7]=+(ue[7]+W);break;case"V":J[1]=+ue[1]+W;break;case"H":J[1]=+ue[1]+D;break;case"R":for(var Ee=2,ve=(L=[D,W].concat(ue.slice(1))).length;Ee<ve;Ee++)L[Ee]=+L[Ee]+D,L[++Ee]=+L[Ee]+W;U.pop(),U=U.concat(_(L,se));break;case"M":H=+ue[1]+D,ae=+ue[2]+W;break;default:for(var De=1,_e=ue.length;De<_e;De++)J[De]=+ue[De]+(De%2?D:W)}else if(ue[0]==="R")L=[D,W].concat(ue.slice(1)),U.pop(),U=U.concat(_(L,se)),J=["R"].concat(ue.slice(-2));else for(var Se=0,P=ue.length;Se<P;Se++)J[Se]=ue[Se];switch(J[0]){case"Z":D=H,W=ae;break;case"H":D=J[1];break;case"V":W=J[1];break;case"M":H=J[J.length-2],ae=J[J.length-1];break;default:D=J[J.length-2],W=J[J.length-1]}}return U}function _(R,L){for(var U=[],D=0,W=R.length;D<W-2*!L;D+=2){var H=[{x:+R[D-2],y:+R[D-1]},{x:+R[D],y:+R[D+1]},{x:+R[D+2],y:+R[D+3]},{x:+R[D+4],y:+R[D+5]}];L?D?W-4===D?H[3]={x:+R[0],y:+R[1]}:W-2===D&&(H[2]={x:+R[0],y:+R[1]},H[3]={x:+R[2],y:+R[3]}):H[0]={x:+R[W-2],y:+R[W-1]}:W-4===D?H[3]=H[2]:D||(H[0]={x:+R[D],y:+R[D+1]}),U.push(["C",(-H[0].x+6*H[1].x+H[2].x)/6,(-H[0].y+6*H[1].y+H[2].y)/6,(H[1].x+6*H[2].x-H[3].x)/6,(H[1].y+6*H[2].y-H[3].y)/6,H[2].x,H[2].y])}return U}function E(R,L,U,D){return[R,L,U,D,U,D]}function C(R,L,U,D,W,H){return[1/3*R+2/3*U,1/3*L+2/3*D,1/3*W+2/3*U,1/3*H+2/3*D,W,H]}function A(R,L,U,D,W,H,ae,le,J){J==null&&(J=1);for(var ue=(J=1<J?1:J<0?0:J)/2,se=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],me=0,xe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ee=0;Ee<12;Ee++){var ve=ue*se[Ee]+ue,De=O(ve,R,U,W,ae),_e=O(ve,L,D,H,le),Se=De*De+_e*_e;me+=xe[Ee]*Math.sqrt(Se)}return ue*me}function O(R,L,U,D,W){return R*(R*(-3*L+9*U-9*D+3*W)+6*L-12*U+6*D)-3*L+3*U}t.default.Font=function(R){this.parent=R,this.cache={},this.font=void 0},t.default.Font.prototype.textBounds=function(R){var L,U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,W=3<arguments.length?arguments[3]:void 0,H=4<arguments.length?arguments[4]:void 0,ae=H&&H.renderer&&H.renderer._pInst||this.parent,le=ae._renderer.drawingContext;if(le.textAlign||c.LEFT,le.textBaseline||c.BASELINE,W=W||ae._renderer._textSize,!L){var J,ue,se=[],me=[],xe=[];xe[0]=[];var Ee=[],ve=this._scale(W),De=ae._renderer.textLeading(),_e=0;this.font.forEachGlyph(R,U,D,W,H,function(ee,B,F,re){var $=ee.getMetrics();ee.index===0||ee.index===10?xe[_e+=1]=[]:(xe[_e].push(B+$.xMin*ve),xe[_e].push(B+$.xMax*ve),Ee.push(F+_e*De+-$.yMin*ve),Ee.push(F+_e*De+-$.yMax*ve))}),0<xe[_e].length&&(se[_e]=Math.min.apply(null,xe[_e]),me[_e]=Math.max.apply(null,xe[_e]));for(var Se=0,P=0;P<=_e;P++){se[P]=Math.min.apply(null,xe[P]),me[P]=Math.max.apply(null,xe[P]);var G=me[P]-se[P];Se<G&&(Se=G)}var Y=Math.min.apply(null,se);L={x:Y,y:J=Math.min.apply(null,Ee),h:Math.max.apply(null,Ee)-J,w:Se,advance:Y-U},ue=this._handleAlignment(ae._renderer,R,L.x,L.y,L.w+L.advance),L.x=ue.x,L.y=ue.y}return L},t.default.Font.prototype.textToPoints=function(R,L,U,D,W){var H,ae=0,le=[],J=this._getGlyphs(R);D=D||this.parent._renderer._textSize;for(var ue=0;ue<J.length;ue++){if(!(J[H=ue].name&&J[H].name==="space"||R.length===J.length&&R[H]===" "))for(var se=o(J[ue].getPath(L,U,D).commands),me=0;me<se.length;me++)for(var xe=f(se[me],W),Ee=0;Ee<xe.length;Ee++)xe[Ee].x+=ae,le.push(xe[Ee]);ae+=J[ue].advanceWidth*this._scale(D)}return le},t.default.Font.prototype._getGlyphs=function(R){return this.font.stringToGlyphs(R)},t.default.Font.prototype._getPath=function(R,L,U,D){var W=(D&&D.renderer&&D.renderer._pInst||this.parent)._renderer,H=this._handleAlignment(W,R,L,U);return this.font.getPath(R,H.x,H.y,W._textSize,D)},t.default.Font.prototype._getPathData=function(R,L,U,D){var W=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,L,U,D):m(L)==="object"&&(D=L),D&&typeof D.decimals=="number"&&(W=D.decimals),R.toPathData(W)},t.default.Font.prototype._getSVG=function(R,L,U,D){var W=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,L,U,D):m(L)==="object"&&(D=L),D&&(typeof D.decimals=="number"&&(W=D.decimals),typeof D.strokeWidth=="number"&&(R.strokeWidth=D.strokeWidth),D.fill!==void 0&&(R.fill=D.fill),D.stroke!==void 0&&(R.stroke=D.stroke)),R.toSVG(W)},t.default.Font.prototype._renderPath=function(R,L,U,D){var W,H=D&&D.renderer||this.parent._renderer,ae=H.drawingContext;W=m(R)==="object"&&R.commands?R.commands:this._getPath(R,L,U,D).commands,ae.beginPath();var le=!0,J=!1,ue=void 0;try{for(var se,me=W[Symbol.iterator]();!(le=(se=me.next()).done);le=!0){var xe=se.value;xe.type==="M"?ae.moveTo(xe.x,xe.y):xe.type==="L"?ae.lineTo(xe.x,xe.y):xe.type==="C"?ae.bezierCurveTo(xe.x1,xe.y1,xe.x2,xe.y2,xe.x,xe.y):xe.type==="Q"?ae.quadraticCurveTo(xe.x1,xe.y1,xe.x,xe.y):xe.type==="Z"&&ae.closePath()}}catch(Ee){J=!0,ue=Ee}finally{try{le||me.return==null||me.return()}finally{if(J)throw ue}}return H._doStroke&&H._strokeSet&&ae.stroke(),H._doFill&&(H._fillSet||H._setFill(c._DEFAULT_TEXT_FILL),ae.fill()),this},t.default.Font.prototype._textWidth=function(R,L){return this.font.getAdvanceWidth(R,L)},t.default.Font.prototype._textAscent=function(R){return this.font.ascender*this._scale(R)},t.default.Font.prototype._textDescent=function(R){return-this.font.descender*this._scale(R)},t.default.Font.prototype._scale=function(R){return 1/this.font.unitsPerEm*(R||this.parent._renderer._textSize)},t.default.Font.prototype._handleAlignment=function(R,L,U,D,W){var H=R._textSize;switch(W===void 0&&(W=this._textWidth(L,H)),R._textAlign){case c.CENTER:U-=W/2;break;case c.RIGHT:U-=W}switch(R._textBaseline){case c.TOP:D+=this._textAscent(H);break;case c.CENTER:D+=this._textAscent(H)/2;break;case c.BOTTOM:D-=this._textDescent(H)}return{x:U,y:D}};var I=t.default;h.default=I},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],303:[function(e,g,h){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.prototype.append=function(d,m){return d.push(m),d},t.default.prototype.arrayCopy=function(d,m,f,o,r){var s,i;d=r!==void 0?(i=Math.min(r,d.length),s=o,d.slice(m,i+m)):(i=f!==void 0?(i=f,Math.min(i,d.length)):d.length,s=0,f=m,d.slice(0,i)),Array.prototype.splice.apply(f,[s,i].concat(d))},t.default.prototype.concat=function(d,m){return d.concat(m)},t.default.prototype.reverse=function(d){return d.reverse()},t.default.prototype.shorten=function(d){return d.pop(),d},t.default.prototype.shuffle=function(d,m){for(var f,o,r=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(d),s=(d=m||r?d:d.slice()).length;1<s;)f=this.random(0,1)*s|0,o=d[--s],d[s]=d[f],d[f]=o;return d},t.default.prototype.sort=function(d,m){var f=m?d.slice(0,Math.min(m,d.length)):d,o=m?d.slice(Math.min(m,d.length)):[];return(f=typeof f[0]=="string"?f.sort():f.sort(function(r,s){return r-s})).concat(o)},t.default.prototype.splice=function(d,m,f){return Array.prototype.splice.apply(d,[f,0].concat(m)),d},t.default.prototype.subset=function(d,m,f){return f!==void 0?d.slice(m,m+f):d.slice(m,d.length)};var c=t.default;h.default=c},{"../core/main":264,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],304:[function(e,g,h){e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.prototype.float=function(d){return d instanceof Array?d.map(parseFloat):parseFloat(d)},t.default.prototype.int=function(d){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return d===1/0||d==="Infinity"?1/0:d===-1/0||d==="-Infinity"?-1/0:typeof d=="string"?parseInt(d,m):typeof d=="number"?0|d:typeof d=="boolean"?d?1:0:d instanceof Array?d.map(function(f){return t.default.prototype.int(f,m)}):void 0},t.default.prototype.str=function(d){return d instanceof Array?d.map(t.default.prototype.str):String(d)},t.default.prototype.boolean=function(d){return typeof d=="number"?d!==0:typeof d=="string"?d.toLowerCase()==="true":typeof d=="boolean"?d:d instanceof Array?d.map(t.default.prototype.boolean):void 0},t.default.prototype.byte=function(d){var m=t.default.prototype.int(d,10);return typeof m=="number"?(m+128)%256-128:m instanceof Array?m.map(t.default.prototype.byte):void 0},t.default.prototype.char=function(d){return typeof d!="number"||isNaN(d)?d instanceof Array?d.map(t.default.prototype.char):typeof d=="string"?t.default.prototype.char(parseInt(d,10)):void 0:String.fromCharCode(d)},t.default.prototype.unchar=function(d){return typeof d=="string"&&d.length===1?d.charCodeAt(0):d instanceof Array?d.map(t.default.prototype.unchar):void 0},t.default.prototype.hex=function(d,m){if(m=m??(m=8),d instanceof Array)return d.map(function(o){return t.default.prototype.hex(o,m)});if(d===1/0||d===-1/0)return(d===1/0?"F":"0").repeat(m);if(typeof d=="number"){d<0&&(d=4294967295+d+1);for(var f=Number(d).toString(16).toUpperCase();f.length<m;)f="0".concat(f);return f.length>=m&&(f=f.substring(f.length-m,f.length)),f}},t.default.prototype.unhex=function(d){return d instanceof Array?d.map(t.default.prototype.unhex):parseInt("0x".concat(d),16)};var c=t.default;h.default=c},{"../core/main":264,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],305:[function(e,g,h){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};function c(r,s,i){var l=r<0,v=l?r.toString().substring(1):r.toString(),w=v.indexOf("."),x=w!==-1?v.substring(0,w):v,_=w!==-1?v.substring(w+1):"",E=l?"-":"";if(i!==void 0){var C="";(w!==-1||0<i-_.length)&&(C="."),_.length>i&&(_=_.substring(0,i));for(var A=0;A<s-x.length;A++)E+="0";E+=x,E+=C,E+=_;for(var O=0;O<i-_.length;O++)E+="0";return E}for(var I=0;I<Math.max(s-x.length,0);I++)E+="0";return E+=v}function d(r,s){var i=(r=r.toString()).indexOf("."),l=i!==-1?r.substring(i):"",v=i!==-1?r.substring(0,i):r;if(v=v.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),s===0)l="";else if(s!==void 0)if(s>l.length)for(var w=s-(l+=i===-1?".":"").length+1,x=0;x<w;x++)l+="0";else l=l.substring(0,s+1);return v+l}function m(r){return 0<parseFloat(r)?"+".concat(r.toString()):r.toString()}function f(r){return 0<=parseFloat(r)?" ".concat(r.toString()):r.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),t.default.prototype.join=function(r,s){return t.default._validateParameters("join",arguments),r.join(s)},t.default.prototype.match=function(r,s){return t.default._validateParameters("match",arguments),r.match(s)},t.default.prototype.matchAll=function(r,s){t.default._validateParameters("matchAll",arguments);for(var i=new RegExp(s,"g"),l=i.exec(r),v=[];l!==null;)v.push(l),l=i.exec(r);return v},t.default.prototype.nf=function(r,s,i){return t.default._validateParameters("nf",arguments),r instanceof Array?r.map(function(l){return c(l,s,i)}):Object.prototype.toString.call(r)==="[object Arguments]"?r.length===3?this.nf(r[0],r[1],r[2]):r.length===2?this.nf(r[0],r[1]):this.nf(r[0]):c(r,s,i)},t.default.prototype.nfc=function(r,s){return t.default._validateParameters("nfc",arguments),r instanceof Array?r.map(function(i){return d(i,s)}):d(r,s)},t.default.prototype.nfp=function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];t.default._validateParameters("nfp",s);var l=t.default.prototype.nf.apply(this,s);return l instanceof Array?l.map(m):m(l)},t.default.prototype.nfs=function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];t.default._validateParameters("nfs",s);var l=t.default.prototype.nf.apply(this,s);return l instanceof Array?l.map(f):f(l)},t.default.prototype.split=function(r,s){return t.default._validateParameters("split",arguments),r.split(s)},t.default.prototype.splitTokens=function(r,s){var i;if(t.default._validateParameters("splitTokens",arguments),s!==void 0){var l=s,v=/\]/g.exec(l),w=/\[/g.exec(l);i=w&&v?(l=l.slice(0,v.index)+l.slice(v.index+1),w=/\[/g.exec(l),l=l.slice(0,w.index)+l.slice(w.index+1),new RegExp("[\\[".concat(l,"\\]]"),"g")):v?(l=l.slice(0,v.index)+l.slice(v.index+1),new RegExp("[".concat(l,"\\]]"),"g")):w?(l=l.slice(0,w.index)+l.slice(w.index+1),new RegExp("[".concat(l,"\\[]"),"g")):new RegExp("[".concat(l,"]"),"g")}else i=/\s/g;return r.split(i).filter(function(x){return x})},t.default.prototype.trim=function(r){return t.default._validateParameters("trim",arguments),r instanceof Array?r.map(this.trim):r.trim()};var o=t.default;h.default=o},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],306:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()};var c=t.default;h.default=c},{"../core/main":264}],307:[function(e,g,h){function p(r){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t};e("./p5.Geometry");var d=function(r){if(r&&r.__esModule)return r;if(r===null||p(r)!=="object"&&typeof r!="function")return{default:r};var s=m();if(s&&s.has(r))return s.get(r);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in r)if(Object.prototype.hasOwnProperty.call(r,v)){var w=l?Object.getOwnPropertyDescriptor(r,v):null;w&&(w.get||w.set)?Object.defineProperty(i,v,w):i[v]=r[v]}return i.default=r,s&&s.set(r,i),i}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return m=function(){return r},r}c.default.prototype.plane=function(r,s,i,l){this._assert3d("plane"),c.default._validateParameters("plane",arguments),r===void 0&&(r=50),s===void 0&&(s=r),i===void 0&&(i=1),l===void 0&&(l=1);var v="plane|".concat(i,"|").concat(l);if(!this._renderer.geometryInHash(v)){var w=new c.default.Geometry(i,l,function(){for(var x,_,E,C=0;C<=this.detailY;C++){_=C/this.detailY;for(var A=0;A<=this.detailX;A++)x=A/this.detailX,E=new c.default.Vector(x-.5,_-.5,0),this.vertices.push(E),this.uvs.push(x,_)}});w.computeFaces().computeNormals(),i<=1&&l<=1?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,w)}return this._renderer.drawBuffersScaled(v,r,s,1),this},c.default.prototype.box=function(r,s,i,l,v){this._assert3d("box"),c.default._validateParameters("box",arguments),r===void 0&&(r=50),s===void 0&&(s=r),i===void 0&&(i=s);var w=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;l===void 0&&(l=w?1:4),v===void 0&&(v=w?1:4);var x="box|".concat(l,"|").concat(v);if(!this._renderer.geometryInHash(x)){var _=new c.default.Geometry(l,v,function(){var E=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var C=0;C<E.length;C++){for(var A=E[C],O=4*C,I=0;I<4;I++){var R=A[I],L=new c.default.Vector((2*(1&R)-1)/2,((2&R)-1)/2,((4&R)/2-1)/2);this.vertices.push(L),this.uvs.push(1&I,(2&I)/2)}this.faces.push([O,1+O,2+O]),this.faces.push([2+O,1+O,3+O])}});_.computeNormals(),l<=4&&v<=4?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(x,_)}return this._renderer.drawBuffersScaled(x,r,s,i),this},c.default.prototype.sphere=function(r,s,i){return this._assert3d("sphere"),c.default._validateParameters("sphere",arguments),r===void 0&&(r=50),s===void 0&&(s=24),i===void 0&&(i=16),this.ellipsoid(r,r,r,s,i),this};function f(r,s,i,l,v,w,x){r=r<=0?1:r,s=s<0?0:s,i=i<=0?r:i,l=l<3?3:l;var _,E,C,A=(w=w===void 0||w)?-2:0,O=(v=v<1?1:v)+((x=x===void 0?s!==0:x)?2:0),I=Math.atan2(r-s,i),R=Math.sin(I),L=Math.cos(I);for(_=A;_<=O;++_){var U=_/v,D=i*U,W=void 0;for(W=_<0?(U=D=0,r):v<_?(D=i,U=1,s):r+(s-r)*U,_!==-2&&_!==v+2||(W=0),D-=i/2,E=0;E<l;++E){var H=E/(l-1),ae=2*Math.PI*H,le=Math.sin(ae),J=Math.cos(ae);this.vertices.push(new c.default.Vector(le*W,D,J*W));var ue=void 0;ue=_<0?new c.default.Vector(0,-1,0):v<_&&s?new c.default.Vector(0,1,0):new c.default.Vector(le*L,R,J*L),this.vertexNormals.push(ue),this.uvs.push(H,U)}}var se=0;if(w){for(C=0;C<l;++C){var me=(C+1)%l;this.faces.push([se+C,se+l+me,se+l+C])}se+=2*l}for(_=0;_<v;++_){for(E=0;E<l;++E){var xe=(E+1)%l;this.faces.push([se+E,se+xe,se+l+xe]),this.faces.push([se+E,se+l+xe,se+l+E])}se+=l}if(x)for(se+=l,E=0;E<l;++E)this.faces.push([se+E,se+(E+1)%l,se+l])}c.default.prototype.cylinder=function(r,s,i,l,v,w){this._assert3d("cylinder"),c.default._validateParameters("cylinder",arguments),r===void 0&&(r=50),s===void 0&&(s=r),i===void 0&&(i=24),l===void 0&&(l=1),w===void 0&&(w=!0),v===void 0&&(v=!0);var x="cylinder|".concat(i,"|").concat(l,"|").concat(v,"|").concat(w);if(!this._renderer.geometryInHash(x)){var _=new c.default.Geometry(i,l);f.call(_,1,1,1,i,l,v,w),i<=24&&l<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,_)}return this._renderer.drawBuffersScaled(x,r,s,r),this},c.default.prototype.cone=function(r,s,i,l,v){this._assert3d("cone"),c.default._validateParameters("cone",arguments),r===void 0&&(r=50),s===void 0&&(s=r),i===void 0&&(i=24),l===void 0&&(l=1),v===void 0&&(v=!0);var w="cone|".concat(i,"|").concat(l,"|").concat(v);if(!this._renderer.geometryInHash(w)){var x=new c.default.Geometry(i,l);f.call(x,1,0,1,i,l,v,!1),i<=24&&l<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,r,s,r),this},c.default.prototype.ellipsoid=function(r,s,i,l,v){this._assert3d("ellipsoid"),c.default._validateParameters("ellipsoid",arguments),r===void 0&&(r=50),s===void 0&&(s=r),i===void 0&&(i=r),l===void 0&&(l=24),v===void 0&&(v=16);var w="ellipsoid|".concat(l,"|").concat(v);if(!this._renderer.geometryInHash(w)){var x=new c.default.Geometry(l,v,function(){for(var _=0;_<=this.detailY;_++)for(var E=_/this.detailY,C=Math.PI*E-Math.PI/2,A=Math.cos(C),O=Math.sin(C),I=0;I<=this.detailX;I++){var R=I/this.detailX,L=2*Math.PI*R,U=Math.cos(L),D=Math.sin(L),W=new c.default.Vector(A*D,O,A*U);this.vertices.push(W),this.vertexNormals.push(W),this.uvs.push(R,E)}});x.computeFaces(),l<=24&&v<=24?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,r,s,i),this},c.default.prototype.torus=function(r,s,i,l){if(this._assert3d("torus"),c.default._validateParameters("torus",arguments),r===void 0)r=50;else if(!r)return;if(s===void 0)s=10;else if(!s)return;i===void 0&&(i=24),l===void 0&&(l=16);var v=(s/r).toPrecision(4),w="torus|".concat(v,"|").concat(i,"|").concat(l);if(!this._renderer.geometryInHash(w)){var x=new c.default.Geometry(i,l,function(){for(var _=0;_<=this.detailY;_++)for(var E=_/this.detailY,C=2*Math.PI*E,A=Math.cos(C),O=Math.sin(C),I=1+v*A,R=0;R<=this.detailX;R++){var L=R/this.detailX,U=2*Math.PI*L,D=Math.cos(U),W=Math.sin(U),H=new c.default.Vector(I*D,I*W,v*O),ae=new c.default.Vector(A*D,A*W,O);this.vertices.push(H),this.vertexNormals.push(ae),this.uvs.push(L,E)}});x.computeFaces(),i<=24&&l<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,r,r,r),this},c.default.RendererGL.prototype.point=function(r,s,i){i===void 0&&(i=0);var l=[];return l.push(new c.default.Vector(r,s,i)),this._drawPoints(l,this.immediateMode.buffers.point),this},c.default.RendererGL.prototype.triangle=function(r){var s=r[0],i=r[1],l=r[2],v=r[3],w=r[4],x=r[5];if(!this.geometryInHash("tri")){var _=new c.default.Geometry(1,1,function(){var A=[];A.push(new c.default.Vector(0,0,0)),A.push(new c.default.Vector(0,1,0)),A.push(new c.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=A,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});_._makeTriangleEdges()._edgesToVertices(),_.computeNormals(),this.createBuffers("tri",_)}var E=this.uMVMatrix.copy();try{var C=new c.default.Matrix([l-s,v-i,0,0,w-s,x-i,0,0,0,0,1,0,s,i,0,1]).mult(this.uMVMatrix);this.uMVMatrix=C,this.drawBuffers("tri")}finally{this.uMVMatrix=E}return this},c.default.RendererGL.prototype.ellipse=function(r){this.arc(r[0],r[1],r[2],r[3],0,d.TWO_PI,d.OPEN,r[4])},c.default.RendererGL.prototype.arc=function(r){var s,i,l=r,v=arguments[1],w=arguments[2],x=arguments[3],_=arguments[4],E=arguments[5],C=arguments[6],A=arguments[7]||25;if(i=Math.abs(E-_)>=d.TWO_PI?"".concat(s="ellipse","|").concat(A,"|"):"".concat(s="arc","|").concat(_,"|").concat(E,"|").concat(C,"|").concat(A,"|"),!this.geometryInHash(i)){var O=new c.default.Geometry(A,1,function(){if(this.strokeIndices=[],_.toFixed(10)!==E.toFixed(10)){C!==d.PIE&&C!==void 0||(this.vertices.push(new c.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var R=0;R<=A;R++){var L=(E-_)*(R/A)+_,U=.5+Math.cos(L)/2,D=.5+Math.sin(L)/2;this.vertices.push(new c.default.Vector(U,D,0)),this.uvs.push([U,D]),R<A-1&&(this.faces.push([0,R+1,R+2]),this.strokeIndices.push([R+1,R+2]))}switch(C){case d.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case d.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case d.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});O.computeNormals(),A<=50?O._makeTriangleEdges()._edgesToVertices(O):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(s," with more than 50 detail")),this.createBuffers(i,O)}var I=this.uMVMatrix.copy();try{this.uMVMatrix.translate([l,v,0]),this.uMVMatrix.scale(w,x,1),this.drawBuffers(i)}finally{this.uMVMatrix=I}return this},c.default.RendererGL.prototype.rect=function(r){var s=this._pInst._glAttributes.perPixelLighting,i=r[0],l=r[1],v=r[2],w=r[3],x=r[4]||(s?1:24),_=r[5]||(s?1:16),E="rect|".concat(x,"|").concat(_);if(!this.geometryInHash(E)){var C=new c.default.Geometry(x,_,function(){for(var O=0;O<=this.detailY;O++)for(var I=O/this.detailY,R=0;R<=this.detailX;R++){var L=R/this.detailX,U=new c.default.Vector(L,I,0);this.vertices.push(U),this.uvs.push(L,I)}0<x&&0<_&&(this.strokeIndices=[[0,x],[x,(x+1)*(_+1)-1],[(x+1)*(_+1)-1,(x+1)*_],[(x+1)*_,0]])});C.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(E,C)}var A=this.uMVMatrix.copy();try{this.uMVMatrix.translate([i,l,0]),this.uMVMatrix.scale(v,w,1),this.drawBuffers(E)}finally{this.uMVMatrix=A}return this},c.default.RendererGL.prototype.quad=function(r,s,i,l,v,w,x,_,E,C,A,O,I,R){I===void 0&&(I=2),R===void 0&&(R=2);var L="quad|".concat(r,"|").concat(s,"|").concat(i,"|").concat(l,"|").concat(v,"|").concat(w,"|").concat(x,"|").concat(_,"|").concat(E,"|").concat(C,"|").concat(A,"|").concat(O,"|").concat(I,"|").concat(R);if(!this.geometryInHash(L)){var U=new c.default.Geometry(I,R,function(){for(var ue=1/(this.detailX-1),se=1/(this.detailY-1),me=0;me<this.detailY;me++)for(var xe=0;xe<this.detailX;xe++){var Ee=xe*ue,ve=me*se,De=(1-Ee)*((1-ve)*r+ve*C)+Ee*((1-ve)*l+ve*x),_e=(1-Ee)*((1-ve)*s+ve*A)+Ee*((1-ve)*v+ve*_),Se=(1-Ee)*((1-ve)*i+ve*O)+Ee*((1-ve)*w+ve*E);this.vertices.push(new c.default.Vector(De,_e,Se)),this.uvs.push([Ee,ve])}});U.faces=[];for(var D=0;D<R-1;D++)for(var W=0;W<I-1;W++){var H=W+D*I,ae=W+1+D*I,le=W+1+(D+1)*I,J=W+(D+1)*I;U.faces.push([H,ae,le]),U.faces.push([H,le,J])}U.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(L,U)}return this.drawBuffers(L),this},c.default.RendererGL.prototype.bezier=function(r,s,i,l,v,w,x,_,E,C,A,O){arguments.length===8&&(A=_,C=x,_=w,x=v,v=l,l=i,i=w=E=O=0);var I=this._pInst._bezierDetail||20;this.beginShape();for(var R=0;R<=I;R++){var L=Math.pow(1-R/I,3),U=R/I*3*Math.pow(1-R/I,2),D=3*Math.pow(R/I,2)*(1-R/I),W=Math.pow(R/I,3);this.vertex(r*L+l*U+x*D+C*W,s*L+v*U+_*D+A*W,i*L+w*U+E*D+O*W)}return this.endShape(),this},c.default.RendererGL.prototype.curve=function(r,s,i,l,v,w,x,_,E,C,A,O){arguments.length===8&&(C=x,A=_,x=v,_=l,v=l=i,i=w=E=O=0);var I=this._pInst._curveDetail;this.beginShape();for(var R=0;R<=I;R++){var L=.5*Math.pow(R/I,3),U=.5*Math.pow(R/I,2),D=R/I*.5,W=L*(3*l-r-3*x+C)+U*(2*r-5*l+4*x-C)+D*(-r+x)+2*l*.5,H=L*(3*v-s-3*_+A)+U*(2*s-5*v+4*_-A)+D*(-s+_)+2*v*.5,ae=L*(3*w-i-3*E+O)+U*(2*i-5*w+4*E-O)+D*(-i+E)+2*w*.5;this.vertex(W,H,ae)}return this.endShape(),this},c.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},c.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var r,s,i,l,v,w=[],x=[],_=[],E=arguments.length;if((r=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,A=0,O=1,I=0;A<1;){if(r=parseFloat(A.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(r),O.toFixed(6)===C.toFixed(6)){r=parseFloat(O.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(r);break}A+=C,O-=C,++I}}var R=this._lookUpTableBezier.length;if(E===6){for(this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],v=0;v<R;v++)s=w[0]*this._lookUpTableBezier[v][0]+w[1]*this._lookUpTableBezier[v][1]+w[2]*this._lookUpTableBezier[v][2]+w[3]*this._lookUpTableBezier[v][3],i=x[0]*this._lookUpTableBezier[v][0]+x[1]*this._lookUpTableBezier[v][1]+x[2]*this._lookUpTableBezier[v][2]+x[3]*this._lookUpTableBezier[v][3],this.vertex(s,i);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(E===9){for(this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],_=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],v=0;v<R;v++)s=w[0]*this._lookUpTableBezier[v][0]+w[1]*this._lookUpTableBezier[v][1]+w[2]*this._lookUpTableBezier[v][2]+w[3]*this._lookUpTableBezier[v][3],i=x[0]*this._lookUpTableBezier[v][0]+x[1]*this._lookUpTableBezier[v][1]+x[2]*this._lookUpTableBezier[v][2]+x[3]*this._lookUpTableBezier[v][3],l=_[0]*this._lookUpTableBezier[v][0]+_[1]*this._lookUpTableBezier[v][1]+_[2]*this._lookUpTableBezier[v][2]+_[3]*this._lookUpTableBezier[v][3],this.vertex(s,i,l);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},c.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var r,s,i,l,v,w=[],x=[],_=[],E=arguments.length;if((r=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var C=1/this._lutQuadraticDetail,A=0,O=1,I=0;A<1;){if(r=parseFloat(A.toFixed(6)),this._lookUpTableQuadratic[I]=this._quadraticCoefficients(r),O.toFixed(6)===C.toFixed(6)){r=parseFloat(O.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableQuadratic[I]=this._quadraticCoefficients(r);break}A+=C,O-=C,++I}}var R=this._lookUpTableQuadratic.length;if(E===4){for(this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],v=0;v<R;v++)s=w[0]*this._lookUpTableQuadratic[v][0]+w[1]*this._lookUpTableQuadratic[v][1]+w[2]*this._lookUpTableQuadratic[v][2],i=x[0]*this._lookUpTableQuadratic[v][0]+x[1]*this._lookUpTableQuadratic[v][1]+x[2]*this._lookUpTableQuadratic[v][2],this.vertex(s,i);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(E===6){for(this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],_=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],v=0;v<R;v++)s=w[0]*this._lookUpTableQuadratic[v][0]+w[1]*this._lookUpTableQuadratic[v][1]+w[2]*this._lookUpTableQuadratic[v][2],i=x[0]*this._lookUpTableQuadratic[v][0]+x[1]*this._lookUpTableQuadratic[v][1]+x[2]*this._lookUpTableQuadratic[v][2],l=_[0]*this._lookUpTableQuadratic[v][0]+_[1]*this._lookUpTableQuadratic[v][1]+_[2]*this._lookUpTableQuadratic[v][2],this.vertex(s,i,l);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},c.default.RendererGL.prototype.curveVertex=function(){var r,s,i,l,v,w=[],x=[],_=[],E=arguments.length;if((r=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,A=0,O=1,I=0;A<1;){if(r=parseFloat(A.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(r),O.toFixed(6)===C.toFixed(6)){r=parseFloat(O.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(r);break}A+=C,O-=C,++I}}var R=this._lookUpTableBezier.length;if(E===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),v=0;v<R;v++)s=w[0]*this._lookUpTableBezier[v][0]+w[1]*this._lookUpTableBezier[v][1]+w[2]*this._lookUpTableBezier[v][2]+w[3]*this._lookUpTableBezier[v][3],i=x[0]*this._lookUpTableBezier[v][0]+x[1]*this._lookUpTableBezier[v][1]+x[2]*this._lookUpTableBezier[v][2]+x[3]*this._lookUpTableBezier[v][3],this.vertex(s,i);for(v=0;v<E;v++)this.immediateMode._curveVertex.shift()}}else if(E===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),v=0;v<R;v++)s=w[0]*this._lookUpTableBezier[v][0]+w[1]*this._lookUpTableBezier[v][1]+w[2]*this._lookUpTableBezier[v][2]+w[3]*this._lookUpTableBezier[v][3],i=x[0]*this._lookUpTableBezier[v][0]+x[1]*this._lookUpTableBezier[v][1]+x[2]*this._lookUpTableBezier[v][2]+x[3]*this._lookUpTableBezier[v][3],l=_[0]*this._lookUpTableBezier[v][0]+_[1]*this._lookUpTableBezier[v][1]+_[2]*this._lookUpTableBezier[v][2]+_[3]*this._lookUpTableBezier[v][3],this.vertex(s,i,l);for(v=0;v<E;v++)this.immediateMode._curveVertex.shift()}},c.default.RendererGL.prototype.image=function(r,s,i,l,v,w,x,_,E){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(r),this._pInst.textureMode(d.NORMAL);var C=0;s<=r.width&&(C=s/r.width);var A=1;s+l<=r.width&&(A=(s+l)/r.width);var O=0;i<=r.height&&(O=i/r.height);var I=1;i+v<=r.height&&(I=(i+v)/r.height),this.beginShape(),this.vertex(w,x,0,C,O),this.vertex(w+_,x,0,A,O),this.vertex(w+_,x+E,0,A,I),this.vertex(w,x+E,0,C,I),this.endShape(d.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(d.REMOVE)};var o=c.default;h.default=o},{"../core/constants":253,"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.number.to-fixed":172}],308:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=m();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}c.default.prototype.orbitControl=function(o,r,s){if(this._assert3d("orbitControl"),c.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var i=this._renderer._curCamera;o===void 0&&(o=1),r===void 0&&(r=o),s===void 0&&(s=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var l=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,s*l):this._renderer._curCamera._orbit(0,0,-s*l)),this.mouseIsPressed){if(this.mouseButton===this.LEFT){var v=-o*(this.mouseX-this.pmouseX)/l,w=r*(this.mouseY-this.pmouseY)/l;this._renderer._curCamera._orbit(v,w,0)}else if(this.mouseButton===this.RIGHT){var x=i._getLocalAxes(),_=Math.sqrt(x.x[0]*x.x[0]+x.x[2]*x.x[2]);_!==0&&(x.x[0]/=_,x.x[2]/=_);var E=Math.sqrt(x.y[0]*x.y[0]+x.y[2]*x.y[2]);E!==0&&(x.y[0]/=E,x.y[2]/=E);var C=-1*o*(this.mouseX-this.pmouseX),A=-1*r*(this.mouseY-this.pmouseY);i.setPosition(i.eyeX+C*x.x[0]+A*x.z[0],i.eyeY,i.eyeZ+C*x.x[2]+A*x.z[2])}}return this}},c.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];c.default._validateParameters("debugMode",r);for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1);r[0]===d.GRID?this.registerMethod("post",this._grid.call(this,r[1],r[2],r[3],r[4],r[5])):r[0]===d.AXES?this.registerMethod("post",this._axesIcon.call(this,r[1],r[2],r[3],r[4])):(this.registerMethod("post",this._grid.call(this,r[0],r[1],r[2],r[3],r[4])),this.registerMethod("post",this._axesIcon.call(this,r[5],r[6],r[7],r[8])))},c.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var o=this._registeredMethods.post.length-1;0<=o;o--)this._registeredMethods.post[o].toString()!==this._grid().toString()&&this._registeredMethods.post[o].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(o,1)},c.default.prototype._grid=function(o,r,s,i,l){o===void 0&&(o=this.width/2),r===void 0&&(r=Math.round(o/30)<4?4:Math.round(o/30)),s===void 0&&(s=0),i===void 0&&(i=0),l===void 0&&(l=0);var v=o/r,w=o/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var x=0;x<=r;x++)this.beginShape(this.LINES),this.vertex(-w+s,i,x*v-w+l),this.vertex(+w+s,i,x*v-w+l),this.endShape();for(var _=0;_<=r;_++)this.beginShape(this.LINES),this.vertex(_*v-w+s,i,-w+l),this.vertex(_*v-w+s,i,+w+l),this.endShape();this.pop()}},c.default.prototype._axesIcon=function(o,r,s,i){return o===void 0&&(o=40<this.width/20?this.width/20:40),r===void 0&&(r=-this.width/4),s===void 0&&(s=r),i===void 0&&(i=r),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(r,s,i),this.vertex(r+o,s,i),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(r,s,i),this.vertex(r,s+o,i),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(r,s,i),this.vertex(r,s,i+o),this.endShape(),this.pop()}};var f=c.default;h.default=f},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],309:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=m();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}c.default.prototype.ambientLight=function(o,r,s,i){this._assert3d("ambientLight"),c.default._validateParameters("ambientLight",arguments);var l=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(l._array[0],l._array[1],l._array[2]),this._renderer._enableLighting=!0,this},c.default.prototype.specularColor=function(o,r,s){this._assert3d("specularColor"),c.default._validateParameters("specularColor",arguments);var i=this.color.apply(this,arguments);return this._renderer.specularColors=[i._array[0],i._array[1],i._array[2]],this},c.default.prototype.directionalLight=function(o,r,s,i,l,v){var w,x,_,E;this._assert3d("directionalLight"),c.default._validateParameters("directionalLight",arguments),w=o instanceof c.default.Color?o:this.color(o,r,s);var C=arguments[arguments.length-1];E=typeof C=="number"?(x=arguments[arguments.length-3],_=arguments[arguments.length-2],arguments[arguments.length-1]):(x=C.x,_=C.y,C.z);var A=Math.sqrt(x*x+_*_+E*E);return this._renderer.directionalLightDirections.push(x/A,_/A,E/A),this._renderer.directionalLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},c.default.prototype.pointLight=function(o,r,s,i,l,v){var w,x,_,E;this._assert3d("pointLight"),c.default._validateParameters("pointLight",arguments),w=o instanceof c.default.Color?o:this.color(o,r,s);var C=arguments[arguments.length-1];return E=typeof C=="number"?(x=arguments[arguments.length-3],_=arguments[arguments.length-2],arguments[arguments.length-1]):(x=C.x,_=C.y,C.z),this._renderer.pointLightPositions.push(x,_,E),this._renderer.pointLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},c.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===d.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var o=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,o),this.directionalLight(0,0,o,0,0,-1)}return this},c.default.prototype.lightFalloff=function(o,r,s){return this._assert3d("lightFalloff"),c.default._validateParameters("lightFalloff",arguments),o<0&&(o=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),r<0&&(r=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),o===0&&r===0&&s===0&&(o=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=o,this._renderer.linearAttenuation=r,this._renderer.quadraticAttenuation=s,this},c.default.prototype.spotLight=function(o,r,s,i,l,v,w,x,_,E,C){var A,O,I;this._assert3d("spotLight"),c.default._validateParameters("spotLight",arguments);var R=arguments.length;switch(R){case 11:case 10:A=this.color(o,r,s),O=new c.default.Vector(i,l,v),I=new c.default.Vector(w,x,_);break;case 9:o instanceof c.default.Color?(A=o,O=new c.default.Vector(r,s,i),I=new c.default.Vector(l,v,w),E=x,C=_):i instanceof c.default.Vector?(A=this.color(o,r,s),O=i,I=new c.default.Vector(l,v,w),E=x,C=_):w instanceof c.default.Vector?(A=this.color(o,r,s),O=new c.default.Vector(i,l,v),I=w,E=x,C=_):(A=this.color(o,r,s),O=new c.default.Vector(i,l,v),I=new c.default.Vector(w,x,_));break;case 8:E=(I=o instanceof c.default.Color?(A=o,O=new c.default.Vector(r,s,i),new c.default.Vector(l,v,w)):i instanceof c.default.Vector?(A=this.color(o,r,s),O=i,new c.default.Vector(l,v,w)):(A=this.color(o,r,s),O=new c.default.Vector(i,l,v),w),x);break;case 7:o instanceof c.default.Color&&r instanceof c.default.Vector?(A=o,O=r,I=new c.default.Vector(s,i,l),E=v,C=w):o instanceof c.default.Color&&l instanceof c.default.Vector?(A=o,O=new c.default.Vector(r,s,i),I=l,E=v,C=w):i instanceof c.default.Vector&&l instanceof c.default.Vector?(A=this.color(o,r,s),O=i,I=l,E=v,C=w):I=o instanceof c.default.Color?(A=o,O=new c.default.Vector(r,s,i),new c.default.Vector(l,v,w)):i instanceof c.default.Vector?(A=this.color(o,r,s),O=i,new c.default.Vector(l,v,w)):(A=this.color(o,r,s),O=new c.default.Vector(i,l,v),w);break;case 6:i instanceof c.default.Vector&&l instanceof c.default.Vector?(A=this.color(o,r,s),O=i,I=l,E=v):o instanceof c.default.Color&&l instanceof c.default.Vector?(A=o,O=new c.default.Vector(r,s,i),I=l,E=v):o instanceof c.default.Color&&r instanceof c.default.Vector&&(A=o,O=r,I=new c.default.Vector(s,i,l),E=v);break;case 5:o instanceof c.default.Color&&r instanceof c.default.Vector&&s instanceof c.default.Vector?(A=o,O=r,I=s,E=i,C=l):i instanceof c.default.Vector&&l instanceof c.default.Vector?(A=this.color(o,r,s),O=i,I=l):o instanceof c.default.Color&&l instanceof c.default.Vector?(A=o,O=new c.default.Vector(r,s,i),I=l):o instanceof c.default.Color&&r instanceof c.default.Vector&&(A=o,O=r,I=new c.default.Vector(s,i,l));break;case 4:A=o,O=r,I=s,E=i;break;case 3:A=o,O=r,I=s;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(R<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(A._array[0],A._array[1],A._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(O.x,O.y,O.z),I.normalize(),this._renderer.spotLightDirections.push(I.x,I.y,I.z),E===void 0&&(E=Math.PI/3),C!==void 0&&C<1?(C=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):C===void 0&&(C=100),E=this._renderer._pInst._toRadians(E),this._renderer.spotLightAngle.push(Math.cos(E)),this._renderer.spotLightConc.push(C),this._renderer._enableLighting=!0,this},c.default.prototype.noLights=function(){return this._assert3d("noLights"),c.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var f=c.default;h.default=f},{"../core/constants":253,"../core/main":264}],310:[function(e,g,h){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};function c(m,f,o){for(var r=0,s=m.length;r<s;r++)if(m[r]!==f.getUint8(o+r,!1))return!1;return!0}e("./p5.Geometry"),t.default.prototype.loadModel=function(m){var f,o,r;t.default._validateParameters("loadModel",arguments);var s=m.slice(-4);typeof arguments[1]=="boolean"?(f=arguments[1],o=arguments[2],r=arguments[3],arguments[4]!==void 0&&(s=arguments[4])):(f=!1,o=arguments[1],r=arguments[2],arguments[3]!==void 0&&(s=arguments[3]));var i=new t.default.Geometry;i.gid="".concat(m,"|").concat(f);var l=this;return s.match(/\.stl$/i)?this.httpDo(m,"GET","arrayBuffer",function(v){(function(w,x){if(function(C){for(var A=new DataView(C),O=[115,111,108,105,100],I=0;I<5;I++)if(c(O,A,I))return!1;return!0}(x))(function(C,A){for(var O,I,R,L,U,D,W,H=new DataView(A),ae=H.getUint32(80,!0),le=!1,J=0;J<70;J++)H.getUint32(J,!1)===1129270351&&H.getUint8(J+4)===82&&H.getUint8(J+5)===61&&(le=!0,L=[],U=H.getUint8(J+6)/255,D=H.getUint8(J+7)/255,W=H.getUint8(J+8)/255);for(var ue=0;ue<ae;ue++){var se=84+50*ue,me=H.getFloat32(se,!0),xe=H.getFloat32(4+se,!0),Ee=H.getFloat32(8+se,!0);if(le){var ve=H.getUint16(48+se,!0);R=32768&ve?(O=U,I=D,W):(O=(31&ve)/31,I=(ve>>5&31)/31,(ve>>10&31)/31)}for(var De=new t.default.Vector(me,xe,Ee),_e=1;_e<=3;_e++){var Se=se+12*_e,P=new t.default.Vector(H.getFloat32(Se,!0),H.getFloat32(4+Se,!0),H.getFloat32(8+Se,!0));C.vertices.push(P),C.vertexNormals.push(De),le&&L.push(O,I,R)}C.faces.push([3*ue,3*ue+1,3*ue+2]),C.uvs.push([0,0],[0,0],[0,0])}})(w,x);else{var _=new DataView(x);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");var E=new TextDecoder("utf-8").decode(_).split(`
`);(function(C,A){for(var O,I,R="",L=[],U=0;U<A.length;++U){for(var D=A[U].trim(),W=D.split(" "),H=0;H<W.length;++H)W[H]===""&&W.splice(H,1);if(W.length!==0)switch(R){case"":if(W[0]!=="solid")return console.error(D),console.error('Invalid state "'.concat(W[0],'", should be "solid"'));R="solid";break;case"solid":if(W[0]!=="facet"||W[1]!=="normal")return console.error(D),console.error('Invalid state "'.concat(W[0],'", should be "facet normal"'));O=new t.default.Vector(parseFloat(W[2]),parseFloat(W[3]),parseFloat(W[4])),C.vertexNormals.push(O,O,O),R="facet normal";break;case"facet normal":if(W[0]!=="outer"||W[1]!=="loop")return console.error(D),console.error('Invalid state "'.concat(W[0],'", should be "outer loop"'));R="vertex";break;case"vertex":if(W[0]==="vertex")I=new t.default.Vector(parseFloat(W[1]),parseFloat(W[2]),parseFloat(W[3])),C.vertices.push(I),C.uvs.push([0,0]),L.push(C.vertices.indexOf(I));else{if(W[0]!=="endloop")return console.error(D),console.error('Invalid state "'.concat(W[0],'", should be "vertex" or "endloop"'));C.faces.push(L),L=[],R="endloop"}break;case"endloop":if(W[0]!=="endfacet")return console.error(D),console.error('Invalid state "'.concat(W[0],'", should be "endfacet"'));R="endfacet";break;case"endfacet":if(W[0]!=="endsolid"){if(W[0]!=="facet"||W[1]!=="normal")return console.error(D),console.error('Invalid state "'.concat(W[0],'", should be "endsolid" or "facet normal"'));O=new t.default.Vector(parseFloat(W[2]),parseFloat(W[3]),parseFloat(W[4])),C.vertexNormals.push(O,O,O),R="facet normal"}break;default:console.error('Invalid state "'.concat(R,'"'))}}})(w,E)}})(i,v),f&&i.normalize(),l._decrementPreload(),typeof o=="function"&&o(i)},r):s.match(/\.obj$/i)?this.loadStrings(m,function(v){(function(w,x){for(var _={v:[],vt:[],vn:[]},E={},C=0;C<x.length;++C){var A=x[C].trim().split(/\b\s+/);if(0<A.length){if(A[0]==="v"||A[0]==="vn"){var O=new t.default.Vector(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));_[A[0]].push(O)}else if(A[0]==="vt"){var I=[parseFloat(A[1]),1-parseFloat(A[2])];_[A[0]].push(I)}else if(A[0]==="f")for(var R=3;R<A.length;++R){for(var L=[],U=[1,R-1,R],D=0;D<U.length;++D){var W=A[U[D]],H=0;if(E[W]!==void 0)H=E[W];else{for(var ae=W.split("/"),le=0;le<ae.length;le++)ae[le]=parseInt(ae[le])-1;H=E[W]=w.vertices.length,w.vertices.push(_.v[ae[0]].copy()),_.vt[ae[1]]?w.uvs.push(_.vt[ae[1]].slice()):w.uvs.push([0,0]),_.vn[ae[2]]&&w.vertexNormals.push(_.vn[ae[2]].copy())}L.push(H)}L[0]!==L[1]&&L[0]!==L[2]&&L[1]!==L[2]&&w.faces.push(L)}}}w.vertexNormals.length===0&&w.computeNormals()})(i,v),f&&i.normalize(),l._decrementPreload(),typeof o=="function"&&o(i)},r):(t.default._friendlyFileLoadError(3,m),r?r():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),i},t.default.prototype.model=function(m){this._assert3d("model"),t.default._validateParameters("model",arguments),0<m.vertices.length&&(this._renderer.geometryInHash(m.gid)||(m._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(m.gid,m)),this._renderer.drawBuffers(m.gid))};var d=t.default;h.default=d},{"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],311:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}e("core-js/modules/es.array.join"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=m();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}e("./p5.Texture"),c.default.prototype.loadShader=function(o,r,s,i){c.default._validateParameters("loadShader",arguments),i=i||console.error;function l(){w._decrementPreload(),s&&s(v)}var v=new c.default.Shader,w=this,x=!1,_=!1;return this.loadStrings(o,function(E){v._vertSrc=E.join(`
`),_=!0,x&&l()},i),this.loadStrings(r,function(E){v._fragSrc=E.join(`
`),x=!0,_&&l()},i),v},c.default.prototype.createShader=function(o,r){return this._assert3d("createShader"),c.default._validateParameters("createShader",arguments),new c.default.Shader(this._renderer,o,r)},c.default.prototype.shader=function(o){return this._assert3d("shader"),c.default._validateParameters("shader",arguments),o._renderer===void 0&&(o._renderer=this._renderer),o.init(),o.isStrokeShader()?this._renderer.userStrokeShader=o:(this._renderer.userFillShader=o,this._renderer._useNormalMaterial=!1),this},c.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},c.default.prototype.texture=function(o){return this._assert3d("texture"),c.default._validateParameters("texture",arguments),o.gifProperties&&o._animateGif(this),this._renderer.drawMode=d.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=o,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.textureMode=function(o){o!==d.IMAGE&&o!==d.NORMAL?console.warn("You tried to set ".concat(o," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=o},c.default.prototype.textureWrap=function(o){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o;this._renderer.textureWrapX=o,this._renderer.textureWrapY=r;for(var s=this._renderer.textures,i=0;i<s.length;i++)s[i].setWrapMode(o,r)},c.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return c.default._validateParameters("normalMaterial",r),this._renderer.drawMode=d.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},c.default.prototype.ambientMaterial=function(o,r,s){this._assert3d("ambientMaterial"),c.default._validateParameters("ambientMaterial",arguments);var i=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=i._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.emissiveMaterial=function(o,r,s,i){this._assert3d("emissiveMaterial"),c.default._validateParameters("emissiveMaterial",arguments);var l=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=l._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},c.default.prototype.specularMaterial=function(o,r,s,i){this._assert3d("specularMaterial"),c.default._validateParameters("specularMaterial",arguments);var l=c.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=l._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},c.default.prototype.shininess=function(o){return this._assert3d("shininess"),c.default._validateParameters("shininess",arguments),o<1&&(o=1),this._renderer._useShininess=o,this},c.default.RendererGL.prototype._applyColorBlend=function(o){var r=this.GL,s=this.drawMode===d.TEXTURE||o[o.length-1]<1||this._isErasing;return s!==this._isBlending&&(s||this.curBlendMode!==d.BLEND&&this.curBlendMode!==d.ADD?r.enable(r.BLEND):r.disable(r.BLEND),r.depthMask(!0),this._isBlending=s),this._applyBlendMode(),o},c.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var o=this.GL;switch(this.curBlendMode){case d.BLEND:case d.ADD:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA);break;case d.REMOVE:o.blendEquation(o.FUNC_REVERSE_SUBTRACT),o.blendFunc(o.SRC_ALPHA,o.DST_ALPHA);break;case d.MULTIPLY:o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD),o.blendFuncSeparate(o.ZERO,o.SRC_COLOR,o.ONE,o.ONE);break;case d.SCREEN:o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD),o.blendFuncSeparate(o.ONE_MINUS_DST_COLOR,o.ONE,o.ONE,o.ONE);break;case d.EXCLUSION:o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD),o.blendFuncSeparate(o.ONE_MINUS_DST_COLOR,o.ONE_MINUS_SRC_COLOR,o.ONE,o.ONE);break;case d.REPLACE:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ZERO);break;case d.SUBTRACT:o.blendEquationSeparate(o.FUNC_REVERSE_SUBTRACT,o.FUNC_ADD),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE,o.ONE,o.ONE);break;case d.DARKEST:this.blendExt?(o.blendEquationSeparate(this.blendExt.MIN_EXT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case d.LIGHTEST:this.blendExt?(o.blendEquationSeparate(this.blendExt.MAX_EXT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var f=c.default;h.default=f},{"../core/constants":253,"../core/main":264,"./p5.Texture":320,"core-js/modules/es.array.join":159}],312:[function(e,g,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.prototype.camera=function(){var d;this._assert3d("camera");for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];return t.default._validateParameters("camera",f),(d=this._renderer._curCamera).camera.apply(d,f),this},t.default.prototype.perspective=function(){var d;this._assert3d("perspective");for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];return t.default._validateParameters("perspective",f),(d=this._renderer._curCamera).perspective.apply(d,f),this},t.default.prototype.ortho=function(){var d;this._assert3d("ortho");for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];return t.default._validateParameters("ortho",f),(d=this._renderer._curCamera).ortho.apply(d,f),this},t.default.prototype.frustum=function(){var d;this._assert3d("frustum");for(var m=arguments.length,f=new Array(m),o=0;o<m;o++)f[o]=arguments[o];return t.default._validateParameters("frustum",f),(d=this._renderer._curCamera).frustum.apply(d,f),this},t.default.prototype.createCamera=function(){this._assert3d("createCamera");var d=new t.default.Camera(this._renderer);return d._computeCameraDefaultSettings(),d._setDefaultCamera(),this._renderer._curCamera=d},t.default.Camera=function(d){this._renderer=d,this.cameraType="default",this.cameraMatrix=new t.default.Matrix,this.projMatrix=new t.default.Matrix},t.default.Camera.prototype.perspective=function(d,m,f,o){this.cameraType=0<arguments.length?"custom":"default",d===void 0?(d=this.defaultCameraFOV,this.cameraFOV=d):this.cameraFOV=this._renderer._pInst._toRadians(d),m===void 0&&(m=this.defaultAspectRatio),f===void 0&&(f=this.defaultCameraNear),o===void 0&&(o=this.defaultCameraFar),f<=1e-4&&(f=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),o<f&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=m,this.cameraNear=f,this.cameraFar=o,this.projMatrix=t.default.Matrix.identity();var r=1/Math.tan(this.cameraFOV/2),s=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(r/m,0,0,0,0,-r,0,0,0,0,(o+f)*s,-1,0,0,2*o*f*s,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},t.default.Camera.prototype.ortho=function(d,m,f,o,r,s){d===void 0&&(d=-this._renderer.width/2),m===void 0&&(m=this._renderer.width/2),f===void 0&&(f=-this._renderer.height/2),o===void 0&&(o=this._renderer.height/2),r===void 0&&(r=0),s===void 0&&(s=Math.max(this._renderer.width,this._renderer.height));var i=m-d,l=o-f,v=s-r,w=2/i,x=2/l,_=-2/v,E=-(m+d)/i,C=-(o+f)/l,A=-(s+r)/v;this.projMatrix=t.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-x,0,0,0,0,_,0,E,C,A,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},t.default.Camera.prototype.frustum=function(d,m,f,o,r,s){d===void 0&&(d=-this._renderer.width/2),m===void 0&&(m=this._renderer.width/2),f===void 0&&(f=-this._renderer.height/2),o===void 0&&(o=this._renderer.height/2),r===void 0&&(r=0),s===void 0&&(s=Math.max(this._renderer.width,this._renderer.height));var i=m-d,l=o-f,v=s-r,w=2*r/i,x=2*r/l,_=-2*s*r/v,E=(m+d)/i,C=(o+f)/l,A=-(s+r)/v;this.projMatrix=t.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,x,0,0,E,C,A,-1,0,0,_,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},t.default.Camera.prototype._rotateView=function(d,m,f,o){var r=this.centerX,s=this.centerY,i=this.centerZ;r-=this.eyeX,s-=this.eyeY,i-=this.eyeZ;var l=t.default.Matrix.identity(this._renderer._pInst);l.rotate(this._renderer._pInst._toRadians(d),m,f,o);var v=[r*l.mat4[0]+s*l.mat4[4]+i*l.mat4[8],r*l.mat4[1]+s*l.mat4[5]+i*l.mat4[9],r*l.mat4[2]+s*l.mat4[6]+i*l.mat4[10]];v[0]+=this.eyeX,v[1]+=this.eyeY,v[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,v[0],v[1],v[2],this.upX,this.upY,this.upZ)},t.default.Camera.prototype.pan=function(d){var m=this._getLocalAxes();this._rotateView(d,m.y[0],m.y[1],m.y[2])},t.default.Camera.prototype.tilt=function(d){var m=this._getLocalAxes();this._rotateView(d,m.x[0],m.x[1],m.x[2])},t.default.Camera.prototype.lookAt=function(d,m,f){this.camera(this.eyeX,this.eyeY,this.eyeZ,d,m,f,this.upX,this.upY,this.upZ)},t.default.Camera.prototype.camera=function(d,m,f,o,r,s,i,l,v){d===void 0&&(d=this.defaultEyeX,m=this.defaultEyeY,f=this.defaultEyeZ,o=d,r=m,l=1,v=i=s=0),this.eyeX=d,this.eyeY=m,this.eyeZ=f,o!==void 0&&(this.centerX=o,this.centerY=r,this.centerZ=s),i!==void 0&&(this.upX=i,this.upY=l,this.upZ=v);var w=this._getLocalAxes();this.cameraMatrix.set(w.x[0],w.y[0],w.z[0],0,w.x[1],w.y[1],w.z[1],0,w.x[2],w.y[2],w.z[2],0,0,0,0,1);var x=-d,_=-m,E=-f;return this.cameraMatrix.translate([x,_,E]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},t.default.Camera.prototype.move=function(d,m,f){var o=this._getLocalAxes(),r=[o.x[0]*d,o.x[1]*d,o.x[2]*d],s=[o.y[0]*m,o.y[1]*m,o.y[2]*m],i=[o.z[0]*f,o.z[1]*f,o.z[2]*f];this.camera(this.eyeX+r[0]+s[0]+i[0],this.eyeY+r[1]+s[1]+i[1],this.eyeZ+r[2]+s[2]+i[2],this.centerX+r[0]+s[0]+i[0],this.centerY+r[1]+s[1]+i[1],this.centerZ+r[2]+s[2]+i[2],0,1,0)},t.default.Camera.prototype.setPosition=function(d,m,f){var o=d-this.eyeX,r=m-this.eyeY,s=f-this.eyeZ;this.camera(d,m,f,this.centerX+o,this.centerY+r,this.centerZ+s,0,1,0)},t.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},t.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},t.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},t.default.Camera.prototype.copy=function(){var d=new t.default.Camera(this._renderer);return d.cameraFOV=this.cameraFOV,d.aspectRatio=this.aspectRatio,d.eyeX=this.eyeX,d.eyeY=this.eyeY,d.eyeZ=this.eyeZ,d.centerX=this.centerX,d.centerY=this.centerY,d.centerZ=this.centerZ,d.cameraNear=this.cameraNear,d.cameraFar=this.cameraFar,d.cameraType=this.cameraType,d.cameraMatrix=this.cameraMatrix.copy(),d.projMatrix=this.projMatrix.copy(),d},t.default.Camera.prototype._getLocalAxes=function(){var d=this.eyeX-this.centerX,m=this.eyeY-this.centerY,f=this.eyeZ-this.centerZ,o=Math.sqrt(d*d+m*m+f*f);o!==0&&(d/=o,m/=o,f/=o);var r=this.upX,s=this.upY,i=this.upZ,l=s*f-i*m,v=-r*f+i*d,w=r*m-s*d;r=m*w-f*v,s=-d*w+f*l,i=d*v-m*l;var x=Math.sqrt(l*l+v*v+w*w);x!==0&&(l/=x,v/=x,w/=x);var _=Math.sqrt(r*r+s*s+i*i);return _!==0&&(r/=_,s/=_,i/=_),{x:[l,v,w],y:[r,s,i],z:[d,m,f]}},t.default.Camera.prototype._orbit=function(d,m,f){var o=this.eyeX-this.centerX,r=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,i=Math.sqrt(o*o+r*r+s*s),l=Math.atan2(o,s),v=Math.acos(Math.max(-1,Math.min(1,r/i)));l+=d,(i+=f)<0&&(i=.1),(v+=m)>Math.PI?v=Math.PI:v<=0&&(v=.001);var w=Math.sin(v)*i*Math.sin(l),x=Math.cos(v)*i,_=Math.sin(v)*i*Math.cos(l);this.camera(w+this.centerX,x+this.centerY,_+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},t.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},t.default.prototype.setCamera=function(d){this._renderer._curCamera=d,this._renderer.uPMatrix.set(d.projMatrix.mat4[0],d.projMatrix.mat4[1],d.projMatrix.mat4[2],d.projMatrix.mat4[3],d.projMatrix.mat4[4],d.projMatrix.mat4[5],d.projMatrix.mat4[6],d.projMatrix.mat4[7],d.projMatrix.mat4[8],d.projMatrix.mat4[9],d.projMatrix.mat4[10],d.projMatrix.mat4[11],d.projMatrix.mat4[12],d.projMatrix.mat4[13],d.projMatrix.mat4[14],d.projMatrix.mat4[15])};var c=t.default.Camera;h.default=c},{"../core/main":264}],313:[function(e,g,h){e("core-js/modules/es.string.sub"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.Geometry=function(d,m,f){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=d!==void 0?d:1,this.detailY=m!==void 0?m:1,this.dirtyFlags={},f instanceof Function&&f.call(this),this},t.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},t.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var d,m,f,o,r=this.detailX+1,s=0;s<this.detailY;s++)for(var i=0;i<this.detailX;i++)m=(d=s*r+i)+1,f=(s+1)*r+i+1,o=(s+1)*r+i,this.faces.push([d,m,o]),this.faces.push([o,m,f]);return this},t.default.Geometry.prototype._getFaceNormal=function(d){var m=this.faces[d],f=this.vertices[m[0]],o=this.vertices[m[1]],r=this.vertices[m[2]],s=t.default.Vector.sub(o,f),i=t.default.Vector.sub(r,f),l=t.default.Vector.cross(s,i),v=t.default.Vector.mag(l),w=v/(t.default.Vector.mag(s)*t.default.Vector.mag(i));return w===0||isNaN(w)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),l):(1<w&&(w=1),l.mult(Math.asin(w)/v))},t.default.Geometry.prototype.computeNormals=function(){var d,m=this.vertexNormals,f=this.vertices,o=this.faces;for(d=m.length=0;d<f.length;++d)m.push(new t.default.Vector);for(var r=0;r<o.length;++r)for(var s=o[r],i=this._getFaceNormal(r),l=0;l<3;++l)m[s[l]].add(i);for(d=0;d<f.length;++d)m[d].normalize();return this},t.default.Geometry.prototype.averageNormals=function(){for(var d=0;d<=this.detailY;d++){var m=this.detailX+1,f=t.default.Vector.add(this.vertexNormals[d*m],this.vertexNormals[d*m+this.detailX]);f=t.default.Vector.div(f,2),this.vertexNormals[d*m]=f,this.vertexNormals[d*m+this.detailX]=f}return this},t.default.Geometry.prototype.averagePoleNormals=function(){for(var d=new t.default.Vector(0,0,0),m=0;m<this.detailX;m++)d.add(this.vertexNormals[m]);d=t.default.Vector.div(d,this.detailX);for(var f=0;f<this.detailX;f++)this.vertexNormals[f]=d;d=new t.default.Vector(0,0,0);for(var o=this.vertices.length-1;o>this.vertices.length-1-this.detailX;o--)d.add(this.vertexNormals[o]);d=t.default.Vector.div(d,this.detailX);for(var r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)this.vertexNormals[r]=d;return this},t.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var d=0,m=this.strokeIndices.length;d<m;d++)this.edges.push(this.strokeIndices[d]);else for(var f=0;f<this.faces.length;f++)this.edges.push([this.faces[f][0],this.faces[f][1]]),this.edges.push([this.faces[f][1],this.faces[f][2]]),this.edges.push([this.faces[f][2],this.faces[f][0]]);return this},t.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var d=this.lineNormals.length=0;d<this.edges.length;d++){var m=this.vertices[this.edges[d][0]],f=this.vertices[this.edges[d][1]],o=f.copy().sub(m).normalize(),r=m.array(),s=m.array(),i=f.array(),l=f.array(),v=o.array(),w=o.array();v.push(1),w.push(-1),this.lineNormals.push(v,w,v,v,w,w),this.lineVertices.push(r,s,i,i,s,l)}return this},t.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var d=this.vertices[0].copy(),m=this.vertices[0].copy(),f=0;f<this.vertices.length;f++)d.x=Math.max(d.x,this.vertices[f].x),m.x=Math.min(m.x,this.vertices[f].x),d.y=Math.max(d.y,this.vertices[f].y),m.y=Math.min(m.y,this.vertices[f].y),d.z=Math.max(d.z,this.vertices[f].z),m.z=Math.min(m.z,this.vertices[f].z);for(var o=t.default.Vector.lerp(d,m,.5),r=t.default.Vector.sub(d,m),s=200/Math.max(Math.max(r.x,r.y),r.z),i=0;i<this.vertices.length;i++)this.vertices[i].sub(o),this.vertices[i].mult(s)}return this};var c=t.default.Geometry;h.default=c},{"../core/main":264,"core-js/modules/es.string.sub":192}],314:[function(e,g,h){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p},c=Array,d=function(f){return f instanceof Array};typeof Float32Array<"u"&&(c=Float32Array,d=function(f){return f instanceof Array||f instanceof Float32Array}),t.default.Matrix=function(){for(var f=new Array(arguments.length),o=0;o<f.length;++o)f[o]=arguments[o];return f.length&&f[f.length-1]instanceof t.default&&(this.p5=f[f.length-1]),f[0]==="mat3"?this.mat3=Array.isArray(f[1])?f[1]:new c([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(f[0])?f[0]:new c([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},t.default.Matrix.prototype.set=function(f){return f instanceof t.default.Matrix?this.mat4=f.mat4:d(f)?this.mat4=f:arguments.length===16&&(this.mat4[0]=f,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},t.default.Matrix.prototype.get=function(){return new t.default.Matrix(this.mat4,this.p5)},t.default.Matrix.prototype.copy=function(){var f=new t.default.Matrix(this.p5);return f.mat4[0]=this.mat4[0],f.mat4[1]=this.mat4[1],f.mat4[2]=this.mat4[2],f.mat4[3]=this.mat4[3],f.mat4[4]=this.mat4[4],f.mat4[5]=this.mat4[5],f.mat4[6]=this.mat4[6],f.mat4[7]=this.mat4[7],f.mat4[8]=this.mat4[8],f.mat4[9]=this.mat4[9],f.mat4[10]=this.mat4[10],f.mat4[11]=this.mat4[11],f.mat4[12]=this.mat4[12],f.mat4[13]=this.mat4[13],f.mat4[14]=this.mat4[14],f.mat4[15]=this.mat4[15],f},t.default.Matrix.identity=function(f){return new t.default.Matrix(f)},t.default.Matrix.prototype.transpose=function(f){var o,r,s,i,l,v;return f instanceof t.default.Matrix?(o=f.mat4[1],r=f.mat4[2],s=f.mat4[3],i=f.mat4[6],l=f.mat4[7],v=f.mat4[11],this.mat4[0]=f.mat4[0],this.mat4[1]=f.mat4[4],this.mat4[2]=f.mat4[8],this.mat4[3]=f.mat4[12],this.mat4[4]=o,this.mat4[5]=f.mat4[5],this.mat4[6]=f.mat4[9],this.mat4[7]=f.mat4[13],this.mat4[8]=r,this.mat4[9]=i,this.mat4[10]=f.mat4[10],this.mat4[11]=f.mat4[14],this.mat4[12]=s,this.mat4[13]=l,this.mat4[14]=v,this.mat4[15]=f.mat4[15]):d(f)&&(o=f[1],r=f[2],s=f[3],i=f[6],l=f[7],v=f[11],this.mat4[0]=f[0],this.mat4[1]=f[4],this.mat4[2]=f[8],this.mat4[3]=f[12],this.mat4[4]=o,this.mat4[5]=f[5],this.mat4[6]=f[9],this.mat4[7]=f[13],this.mat4[8]=r,this.mat4[9]=i,this.mat4[10]=f[10],this.mat4[11]=f[14],this.mat4[12]=s,this.mat4[13]=l,this.mat4[14]=v,this.mat4[15]=f[15]),this},t.default.Matrix.prototype.invert=function(f){var o,r,s,i,l,v,w,x,_,E,C,A,O,I,R,L;f instanceof t.default.Matrix?(o=f.mat4[0],r=f.mat4[1],s=f.mat4[2],i=f.mat4[3],l=f.mat4[4],v=f.mat4[5],w=f.mat4[6],x=f.mat4[7],_=f.mat4[8],E=f.mat4[9],C=f.mat4[10],A=f.mat4[11],O=f.mat4[12],I=f.mat4[13],R=f.mat4[14],L=f.mat4[15]):d(f)&&(o=f[0],r=f[1],s=f[2],i=f[3],l=f[4],v=f[5],w=f[6],x=f[7],_=f[8],E=f[9],C=f[10],A=f[11],O=f[12],I=f[13],R=f[14],L=f[15]);var U=o*v-r*l,D=o*w-s*l,W=o*x-i*l,H=r*w-s*v,ae=r*x-i*v,le=s*x-i*w,J=_*I-E*O,ue=_*R-C*O,se=_*L-A*O,me=E*R-C*I,xe=E*L-A*I,Ee=C*L-A*R,ve=U*Ee-D*xe+W*me+H*se-ae*ue+le*J;return ve?(ve=1/ve,this.mat4[0]=(v*Ee-w*xe+x*me)*ve,this.mat4[1]=(s*xe-r*Ee-i*me)*ve,this.mat4[2]=(I*le-R*ae+L*H)*ve,this.mat4[3]=(C*ae-E*le-A*H)*ve,this.mat4[4]=(w*se-l*Ee-x*ue)*ve,this.mat4[5]=(o*Ee-s*se+i*ue)*ve,this.mat4[6]=(R*W-O*le-L*D)*ve,this.mat4[7]=(_*le-C*W+A*D)*ve,this.mat4[8]=(l*xe-v*se+x*J)*ve,this.mat4[9]=(r*se-o*xe-i*J)*ve,this.mat4[10]=(O*ae-I*W+L*U)*ve,this.mat4[11]=(E*W-_*ae-A*U)*ve,this.mat4[12]=(v*ue-l*me-w*J)*ve,this.mat4[13]=(o*me-r*ue+s*J)*ve,this.mat4[14]=(I*D-O*H-R*U)*ve,this.mat4[15]=(_*H-E*D+C*U)*ve,this):null},t.default.Matrix.prototype.invert3x3=function(){var f=this.mat3[0],o=this.mat3[1],r=this.mat3[2],s=this.mat3[3],i=this.mat3[4],l=this.mat3[5],v=this.mat3[6],w=this.mat3[7],x=this.mat3[8],_=x*i-l*w,E=-x*s+l*v,C=w*s-i*v,A=f*_+o*E+r*C;return A?(A=1/A,this.mat3[0]=_*A,this.mat3[1]=(-x*o+r*w)*A,this.mat3[2]=(l*o-r*i)*A,this.mat3[3]=E*A,this.mat3[4]=(x*f-r*v)*A,this.mat3[5]=(-l*f+r*s)*A,this.mat3[6]=C*A,this.mat3[7]=(-w*f+o*v)*A,this.mat3[8]=(i*f-o*s)*A,this):null},t.default.Matrix.prototype.transpose3x3=function(f){var o=f[1],r=f[2],s=f[5];return this.mat3[1]=f[3],this.mat3[2]=f[6],this.mat3[3]=o,this.mat3[5]=f[7],this.mat3[6]=r,this.mat3[7]=s,this},t.default.Matrix.prototype.inverseTranspose=function(f){this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=f.mat4[0],this.mat3[1]=f.mat4[1],this.mat3[2]=f.mat4[2],this.mat3[3]=f.mat4[4],this.mat3[4]=f.mat4[5],this.mat3[5]=f.mat4[6],this.mat3[6]=f.mat4[8],this.mat3[7]=f.mat4[9],this.mat3[8]=f.mat4[10]);var o=this.invert3x3();if(o)o.transpose3x3(this.mat3);else for(var r=0;r<9;r++)this.mat3[r]=0;return this},t.default.Matrix.prototype.determinant=function(){var f=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],o=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],s=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],i=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],l=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],v=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],w=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],x=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],_=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],E=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return f*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-o*E+r*_+s*x-i*w+l*v},t.default.Matrix.prototype.mult=function(f){var o;if(f===this||f===this.mat4)o=this.copy().mat4;else if(f instanceof t.default.Matrix)o=f.mat4;else if(d(f))o=f;else{if(arguments.length!==16)return;o=arguments}var r=this.mat4[0],s=this.mat4[1],i=this.mat4[2],l=this.mat4[3];return this.mat4[0]=r*o[0]+s*o[4]+i*o[8]+l*o[12],this.mat4[1]=r*o[1]+s*o[5]+i*o[9]+l*o[13],this.mat4[2]=r*o[2]+s*o[6]+i*o[10]+l*o[14],this.mat4[3]=r*o[3]+s*o[7]+i*o[11]+l*o[15],r=this.mat4[4],s=this.mat4[5],i=this.mat4[6],l=this.mat4[7],this.mat4[4]=r*o[0]+s*o[4]+i*o[8]+l*o[12],this.mat4[5]=r*o[1]+s*o[5]+i*o[9]+l*o[13],this.mat4[6]=r*o[2]+s*o[6]+i*o[10]+l*o[14],this.mat4[7]=r*o[3]+s*o[7]+i*o[11]+l*o[15],r=this.mat4[8],s=this.mat4[9],i=this.mat4[10],l=this.mat4[11],this.mat4[8]=r*o[0]+s*o[4]+i*o[8]+l*o[12],this.mat4[9]=r*o[1]+s*o[5]+i*o[9]+l*o[13],this.mat4[10]=r*o[2]+s*o[6]+i*o[10]+l*o[14],this.mat4[11]=r*o[3]+s*o[7]+i*o[11]+l*o[15],r=this.mat4[12],s=this.mat4[13],i=this.mat4[14],l=this.mat4[15],this.mat4[12]=r*o[0]+s*o[4]+i*o[8]+l*o[12],this.mat4[13]=r*o[1]+s*o[5]+i*o[9]+l*o[13],this.mat4[14]=r*o[2]+s*o[6]+i*o[10]+l*o[14],this.mat4[15]=r*o[3]+s*o[7]+i*o[11]+l*o[15],this},t.default.Matrix.prototype.apply=function(f){var o;if(f===this||f===this.mat4)o=this.copy().mat4;else if(f instanceof t.default.Matrix)o=f.mat4;else if(d(f))o=f;else{if(arguments.length!==16)return;o=arguments}var r=this.mat4,s=r[0],i=r[4],l=r[8],v=r[12];r[0]=o[0]*s+o[1]*i+o[2]*l+o[3]*v,r[4]=o[4]*s+o[5]*i+o[6]*l+o[7]*v,r[8]=o[8]*s+o[9]*i+o[10]*l+o[11]*v,r[12]=o[12]*s+o[13]*i+o[14]*l+o[15]*v;var w=r[1],x=r[5],_=r[9],E=r[13];r[1]=o[0]*w+o[1]*x+o[2]*_+o[3]*E,r[5]=o[4]*w+o[5]*x+o[6]*_+o[7]*E,r[9]=o[8]*w+o[9]*x+o[10]*_+o[11]*E,r[13]=o[12]*w+o[13]*x+o[14]*_+o[15]*E;var C=r[2],A=r[6],O=r[10],I=r[14];r[2]=o[0]*C+o[1]*A+o[2]*O+o[3]*I,r[6]=o[4]*C+o[5]*A+o[6]*O+o[7]*I,r[10]=o[8]*C+o[9]*A+o[10]*O+o[11]*I,r[14]=o[12]*C+o[13]*A+o[14]*O+o[15]*I;var R=r[3],L=r[7],U=r[11],D=r[15];return r[3]=o[0]*R+o[1]*L+o[2]*U+o[3]*D,r[7]=o[4]*R+o[5]*L+o[6]*U+o[7]*D,r[11]=o[8]*R+o[9]*L+o[10]*U+o[11]*D,r[15]=o[12]*R+o[13]*L+o[14]*U+o[15]*D,this},t.default.Matrix.prototype.scale=function(f,o,r){return f instanceof t.default.Vector?(o=f.y,r=f.z,f=f.x):f instanceof Array&&(o=f[1],r=f[2],f=f[0]),this.mat4[0]*=f,this.mat4[1]*=f,this.mat4[2]*=f,this.mat4[3]*=f,this.mat4[4]*=o,this.mat4[5]*=o,this.mat4[6]*=o,this.mat4[7]*=o,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this},t.default.Matrix.prototype.rotate=function(f,o,r,s){o instanceof t.default.Vector?(r=o.y,s=o.z,o=o.x):o instanceof Array&&(r=o[1],s=o[2],o=o[0]);var i=Math.sqrt(o*o+r*r+s*s);o*=1/i,r*=1/i,s*=1/i;var l=this.mat4[0],v=this.mat4[1],w=this.mat4[2],x=this.mat4[3],_=this.mat4[4],E=this.mat4[5],C=this.mat4[6],A=this.mat4[7],O=this.mat4[8],I=this.mat4[9],R=this.mat4[10],L=this.mat4[11],U=Math.sin(f),D=Math.cos(f),W=1-D,H=o*o*W+D,ae=r*o*W+s*U,le=s*o*W-r*U,J=o*r*W-s*U,ue=r*r*W+D,se=s*r*W+o*U,me=o*s*W+r*U,xe=r*s*W-o*U,Ee=s*s*W+D;return this.mat4[0]=l*H+_*ae+O*le,this.mat4[1]=v*H+E*ae+I*le,this.mat4[2]=w*H+C*ae+R*le,this.mat4[3]=x*H+A*ae+L*le,this.mat4[4]=l*J+_*ue+O*se,this.mat4[5]=v*J+E*ue+I*se,this.mat4[6]=w*J+C*ue+R*se,this.mat4[7]=x*J+A*ue+L*se,this.mat4[8]=l*me+_*xe+O*Ee,this.mat4[9]=v*me+E*xe+I*Ee,this.mat4[10]=w*me+C*xe+R*Ee,this.mat4[11]=x*me+A*xe+L*Ee,this},t.default.Matrix.prototype.translate=function(f){var o=f[0],r=f[1],s=f[2]||0;this.mat4[12]+=this.mat4[0]*o+this.mat4[4]*r+this.mat4[8]*s,this.mat4[13]+=this.mat4[1]*o+this.mat4[5]*r+this.mat4[9]*s,this.mat4[14]+=this.mat4[2]*o+this.mat4[6]*r+this.mat4[10]*s,this.mat4[15]+=this.mat4[3]*o+this.mat4[7]*r+this.mat4[11]*s},t.default.Matrix.prototype.rotateX=function(f){this.rotate(f,1,0,0)},t.default.Matrix.prototype.rotateY=function(f){this.rotate(f,0,1,0)},t.default.Matrix.prototype.rotateZ=function(f){this.rotate(f,0,0,1)},t.default.Matrix.prototype.perspective=function(f,o,r,s){var i=1/Math.tan(f/2),l=1/(r-s);return this.mat4[0]=i/o,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=i,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(s+r)*l,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*s*r*l,this.mat4[15]=0,this},t.default.Matrix.prototype.ortho=function(f,o,r,s,i,l){var v=1/(f-o),w=1/(r-s),x=1/(i-l);return this.mat4[0]=-2*v,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*w,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*x,this.mat4[11]=0,this.mat4[12]=(f+o)*v,this.mat4[13]=(s+r)*w,this.mat4[14]=(l+i)*x,this.mat4[15]=1,this};var m=t.default.Matrix;h.default=m},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],315:[function(e,g,h){e("core-js/modules/es.array.map"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.RenderBuffer=function(d,m,f,o,r,s){this.size=d,this.src=m,this.dst=f,this.attr=o,this._renderer=r,this.map=s},t.default.RenderBuffer.prototype._prepareBuffer=function(d,m){var f,o=m.attributes,r=this._renderer.GL;f=d.model?d.model:d;var s=o[this.attr];if(s){var i=d[this.dst],l=f[this.src];if(0<l.length){var v=!i;if(v&&(d[this.dst]=i=r.createBuffer()),r.bindBuffer(r.ARRAY_BUFFER,i),v||f.dirtyFlags[this.src]!==!1){var w=this.map,x=w?w(l):l;this._renderer._bindBuffer(i,r.ARRAY_BUFFER,x),f.dirtyFlags[this.src]=!1}m.enableAttrib(s,this.size)}}};var c=t.default.RenderBuffer;h.default=c},{"../core/main":264,"core-js/modules/es.array.map":161}],316:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=m();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}e("./p5.RenderBuffer"),c.default.RendererGL.prototype.beginShape=function(o){return this.immediateMode.shapeMode=o!==void 0?o:d.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},c.default.RendererGL.prototype.vertex=function(o,r){var s,i,l;s=i=l=0,arguments.length===3?s=arguments[2]:arguments.length===4?(i=arguments[2],l=arguments[3]):arguments.length===5&&(s=arguments[2],i=arguments[3],l=arguments[4]);var v=new c.default.Vector(o,r,s);this.immediateMode.geometry.vertices.push(v),this.immediateMode.geometry.vertexNormals.push(this._currentNormal);var w=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(w[0],w[1],w[2],w[3]),this.textureMode===d.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(i/=this._tex.width,l/=this._tex.height):this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(i,l),this.immediateMode._bezierVertex[0]=o,this.immediateMode._bezierVertex[1]=r,this.immediateMode._bezierVertex[2]=s,this.immediateMode._quadraticVertex[0]=o,this.immediateMode._quadraticVertex[1]=r,this.immediateMode._quadraticVertex[2]=s,this},c.default.RendererGL.prototype.normal=function(o,r,s){return o instanceof c.default.Vector?this._currentNormal=o:this._currentNormal=new c.default.Vector(o,r,s),this},c.default.RendererGL.prototype.endShape=function(o,r,s,i,l,v){return this.immediateMode.shapeMode===d.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},c.default.RendererGL.prototype._processVertices=function(o){if(this.immediateMode.geometry.vertices.length!==0){var r=this._doStroke&&this.drawMode!==d.TEXTURE,s=o===d.CLOSE;r&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,s),this.immediateMode.geometry._edgesToVertices());var i=this.immediateMode.shapeMode===d.TESS;(this.isBezier||this.isQuadratic||this.isCurve||i)&&this.immediateMode.shapeMode!==d.LINES&&this._tesselateShape()}},c.default.RendererGL.prototype._calculateEdges=function(o,r,s){var i=[],l=0;switch(o){case d.TRIANGLE_STRIP:for(l=0;l<r.length-2;l++)i.push([l,l+1]),i.push([l,l+2]);i.push([l,l+1]);break;case d.TRIANGLES:for(l=0;l<r.length-2;l+=3)i.push([l,l+1]),i.push([l+1,l+2]),i.push([l+2,l]);break;case d.LINES:for(l=0;l<r.length-1;l+=2)i.push([l,l+1]);break;default:for(l=0;l<r.length-1;l++)i.push([l,l+1])}return s&&i.push([r.length-1,0]),i},c.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=d.TRIANGLES;var o=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],r=this._triangulate(o);this.immediateMode.geometry.vertices=[];for(var s=0,i=r.length;s<i;s+=3)this.vertex(r[s],r[s+1],r[s+2])},c.default.RendererGL.prototype._drawImmediateFill=function(){var o=this.GL,r=this._getImmediateFillShader();this._setFillUniforms(r);var s=!0,i=!1,l=void 0;try{for(var v,w=this.immediateMode.buffers.fill[Symbol.iterator]();!(s=(v=w.next()).done);s=!0)v.value._prepareBuffer(this.immediateMode.geometry,r)}catch(x){i=!0,l=x}finally{try{s||w.return==null||w.return()}finally{if(i)throw l}}this.immediateMode.shapeMode!==d.LINE_STRIP&&this.immediateMode.shapeMode!==d.LINES||(this.immediateMode.shapeMode=d.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),o.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),r.unbindShader()},c.default.RendererGL.prototype._drawImmediateStroke=function(){var o=this.GL,r=this._getImmediateStrokeShader();this._setStrokeUniforms(r);var s=!0,i=!1,l=void 0;try{for(var v,w=this.immediateMode.buffers.stroke[Symbol.iterator]();!(s=(v=w.next()).done);s=!0)v.value._prepareBuffer(this.immediateMode.geometry,r)}catch(x){i=!0,l=x}finally{try{s||w.return==null||w.return()}finally{if(i)throw l}}this._applyColorBlend(this.curStrokeColor),o.drawArrays(o.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),r.unbindShader()};var f=c.default.RendererGL;h.default=f},{"../core/constants":253,"../core/main":264,"./p5.RenderBuffer":315,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/web.dom-collections.iterator":229}],317:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};e("./p5.RendererGL"),e("./p5.RenderBuffer");var c=0;t.default.RendererGL.prototype._initBufferDefaults=function(m){if(this._freeBuffers(m),1e3<++c){var f=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[f],c--}return this.retainedMode.geometry[m]={}},t.default.RendererGL.prototype._freeBuffers=function(m){var f=this.retainedMode.geometry[m];if(f){delete this.retainedMode.geometry[m],c--;var o=this.GL;f.indexBuffer&&o.deleteBuffer(f.indexBuffer),r(this.retainedMode.buffers.stroke),r(this.retainedMode.buffers.fill)}function r(s){var i=!0,l=!1,v=void 0;try{for(var w,x=s[Symbol.iterator]();!(i=(w=x.next()).done);i=!0){var _=w.value;f[_.dst]&&(o.deleteBuffer(f[_.dst]),f[_.dst]=null)}}catch(E){l=!0,v=E}finally{try{i||x.return==null||x.return()}finally{if(l)throw v}}}},t.default.RendererGL.prototype.createBuffers=function(m,f){var o=this.GL,r=this._initBufferDefaults(m);r.model=f;var s=r.indexBuffer;if(f.faces.length){s=s||(r.indexBuffer=o.createBuffer());var i=t.default.RendererGL.prototype._flatten(f.faces),l=i.some(function(w){return 65535<w}),v=l?Uint32Array:Uint16Array;this._bindBuffer(s,o.ELEMENT_ARRAY_BUFFER,i,v),r.indexBufferType=l?o.UNSIGNED_INT:o.UNSIGNED_SHORT,r.vertexCount=3*f.faces.length}else s&&(o.deleteBuffer(s),r.indexBuffer=null),r.vertexCount=f.vertices?f.vertices.length:0;return r.lineVertexCount=f.lineVertices?f.lineVertices.length:0,r},t.default.RendererGL.prototype.drawBuffers=function(m){var f=this.GL,o=this.retainedMode.geometry[m];if(this._doStroke&&0<o.lineVertexCount){var r=this._getRetainedStrokeShader();this._setStrokeUniforms(r);var s=!0,i=!1,l=void 0;try{for(var v,w=this.retainedMode.buffers.stroke[Symbol.iterator]();!(s=(v=w.next()).done);s=!0)v.value._prepareBuffer(o,r)}catch(I){i=!0,l=I}finally{try{s||w.return==null||w.return()}finally{if(i)throw l}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(f.TRIANGLES,m),r.unbindShader()}if(this._doFill){var x=this._getRetainedFillShader();this._setFillUniforms(x);var _=!0,E=!1,C=void 0;try{for(var A,O=this.retainedMode.buffers.fill[Symbol.iterator]();!(_=(A=O.next()).done);_=!0)A.value._prepareBuffer(o,x)}catch(I){E=!0,C=I}finally{try{_||O.return==null||O.return()}finally{if(E)throw C}}o.indexBuffer&&this._bindBuffer(o.indexBuffer,f.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(f.TRIANGLES,m),x.unbindShader()}return this},t.default.RendererGL.prototype.drawBuffersScaled=function(m,f,o,r){var s=this.uMVMatrix.copy();try{this.uMVMatrix.scale(f,o,r),this.drawBuffers(m)}finally{this.uMVMatrix=s}},t.default.RendererGL.prototype._drawArrays=function(m,f){return this.GL.drawArrays(m,0,this.retainedMode.geometry[f].lineVertexCount),this},t.default.RendererGL.prototype._drawElements=function(m,f){var o=this.retainedMode.geometry[f],r=this.GL;if(o.indexBuffer){if(o.indexBufferType===r.UNSIGNED_INT&&!r.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");r.drawElements(r.TRIANGLES,o.vertexCount,o.indexBufferType,0)}else r.drawArrays(m||r.TRIANGLES,0,o.vertexCount)},t.default.RendererGL.prototype._drawPoints=function(m,f){var o=this.GL,r=this._getImmediatePointShader();this._setPointUniforms(r),this._bindBuffer(f,o.ARRAY_BUFFER,this._vToNArray(m),Float32Array,o.STATIC_DRAW),r.enableAttrib(r.attributes.aPosition,3),o.drawArrays(o.Points,0,m.length),r.unbindShader()};var d=t.default.RendererGL;h.default=d},{"../core/main":264,"./p5.RenderBuffer":315,"./p5.RendererGL":318,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":229}],318:[function(e,g,h){function p(l){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(l)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t=f(e("../core/main")),c=function(l){if(l&&l.__esModule)return l;if(l===null||p(l)!=="object"&&typeof l!="function")return{default:l};var v=m();if(v&&v.has(l))return v.get(l);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in l)if(Object.prototype.hasOwnProperty.call(l,_)){var E=x?Object.getOwnPropertyDescriptor(l,_):null;E&&(E.get||E.set)?Object.defineProperty(w,_,E):w[_]=l[_]}return w.default=l,v&&v.set(l,w),w}(e("../core/constants")),d=f(e("libtess"));e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix"),e("path");function m(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return m=function(){return l},l}function f(l){return l&&l.__esModule?l:{default:l}}function o(l){return function(v){if(Array.isArray(v)){for(var w=0,x=new Array(v.length);w<v.length;w++)x[w]=v[w];return x}}(l)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,s={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vColor;
}`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
uniform vec4 uMaterialColor;
void main(void) {
  gl_FragColor = uMaterialColor;
}`,lightVert:r+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;
  }
}`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
}
`,phongFrag:r+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;
  }
}`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = uMaterialColor;
  gl_FragColor.a *= saturate(max(antialias, cover));
}`,lineVert:`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform vec4 uViewport;
uniform int uPerspective;

attribute vec4 aPosition;
attribute vec4 aDirection;
  
void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posq.xyz = posq.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 q = uProjectionMatrix * posq;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);

  // flip tangent to normal (it's already normalized)
  vec2 normal = vec2(-tangent.y, tangent.x);

  float thickness = aDirection.w * uStrokeWeight;
  vec2 offset = normal * thickness / 2.0;

  vec2 curPerspScale;

  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
}
`,lineFrag:`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;

void main() {
  gl_FragColor = uMaterialColor;
}`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
	float mask = 0.0;

	// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

	mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

	// if strokeWeight is 1 or less lets just draw a square
	// this prevents weird artifacting from carving circles when our points are really small
	// if strokeWeight is larger than 1, we just use it as is

	mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

	// throw away the borders of the mask
    // otherwise we get weird alpha blending issues

	if(mask > 0.98){
      discard;
  	}

  	gl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;
}`};t.default.RendererGL=function(l,v,w,x){return t.default.Renderer.call(this,l,v,w),this._setAttributeDefaults(v),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=c.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=c.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new t.default.Matrix,this.uPMatrix=new t.default.Matrix,this.uNMatrix=new t.default.Matrix("mat3"),this._currentNormal=new t.default.Vector(0,0,1),this._curCamera=new t.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new t.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new t.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new t.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new t.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new t.default.Geometry,shapeMode:c.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new t.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new t.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new t.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new t.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new t.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new t.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new t.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=c.IMAGE,this.textureWrapX=c.CLAMP,this.textureWrapY=c.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},t.default.RendererGL.prototype=Object.create(t.default.Renderer.prototype),t.default.RendererGL.prototype._setAttributeDefaults=function(l){var v={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};l._glAttributes===null?l._glAttributes=v:l._glAttributes=Object.assign(v,l._glAttributes)},t.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var l=this.drawingContext;l.enable(l.DEPTH_TEST),l.depthFunc(l.LEQUAL),l.viewport(0,0,l.drawingBufferWidth,l.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(v){throw v}},t.default.RendererGL.prototype._resetContext=function(l,v){var w=this.width,x=this.height,_=this.canvas.id,E=this._pInst instanceof t.default.Graphics;if(E){var C=this._pInst;C.canvas.parentNode.removeChild(C.canvas),C.canvas=document.createElement("canvas"),(C._pInst._userNode||document.body).appendChild(C.canvas),t.default.Element.call(C,C.canvas,C._pInst),C.width=w,C.height=x}else{var A=this.canvas;A&&A.parentNode.removeChild(A),(A=document.createElement("canvas")).id=_,this._pInst._userNode?this._pInst._userNode.appendChild(A):document.body.appendChild(A),this._pInst.canvas=A}var O=new t.default.RendererGL(this._pInst.canvas,this._pInst,!E);this._pInst._setProperty("_renderer",O),O.resize(w,x),O._applyDefaults(),E||this._pInst._elements.push(O),typeof v=="function"&&setTimeout(function(){v.apply(window._renderer,l)},0)},t.default.prototype.setAttributes=function(l,v){if(this._glAttributes!==void 0){var w=!0;if(v!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[l]!==v&&(this._glAttributes[l]=v,w=!1)):l instanceof Object&&this._glAttributes!==l&&(this._glAttributes=l,w=!1),this._renderer.isP3D&&!w){if(!this._setupDone){for(var x in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(x))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},t.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},t.default.RendererGL.prototype.background=function(){var l,v=(l=this._pInst).color.apply(l,arguments),w=v.levels[0]/255,x=v.levels[1]/255,_=v.levels[2]/255,E=v.levels[3]/255;this.GL.clearColor(w,x,_,E),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},t.default.RendererGL.prototype.fill=function(l,v,w,x){var _=t.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=_._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null},t.default.RendererGL.prototype.stroke=function(l,v,w,x){arguments[3]=255;var _=t.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=_._array},t.default.RendererGL.prototype.strokeCap=function(l){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},t.default.RendererGL.prototype.strokeJoin=function(l){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},t.default.RendererGL.prototype.filter=function(l){console.error("filter() does not work in WEBGL mode")},t.default.RendererGL.prototype.blendMode=function(l){l===c.DARKEST||l===c.LIGHTEST||l===c.ADD||l===c.BLEND||l===c.SUBTRACT||l===c.SCREEN||l===c.EXCLUSION||l===c.REPLACE||l===c.MULTIPLY||l===c.REMOVE?this.curBlendMode=l:l!==c.BURN&&l!==c.OVERLAY&&l!==c.HARD_LIGHT&&l!==c.SOFT_LIGHT&&l!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},t.default.RendererGL.prototype.erase=function(l,v){this._isErasing||(this._applyBlendMode(c.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,l/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,v/255])},t.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},t.default.RendererGL.prototype.strokeWeight=function(l){this.curStrokeWeight!==l&&(this.pointSize=l,this.curStrokeWeight=l)},t.default.RendererGL.prototype._getPixel=function(l,v){var w;return w=new Uint8Array(4),this.drawingContext.readPixels(l,v,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,w),[w[0],w[1],w[2],w[3]]},t.default.RendererGL.prototype.loadPixels=function(){var l=this._pixelsState;if(this._pInst._glAttributes.preserveDrawingBuffer===!0){var v=l.pixels,w=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;v instanceof Uint8Array&&v.length===w||(v=new Uint8Array(w),this._pixelsState._setProperty("pixels",v));var x=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*x,this.height*x,this.GL.RGBA,this.GL.UNSIGNED_BYTE,v)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},t.default.RendererGL.prototype.geometryInHash=function(l){return this.retainedMode.geometry[l]!==void 0},t.default.RendererGL.prototype.resize=function(l,v){t.default.Renderer.prototype.resize.call(this,l,v),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var w=this._pixelsState;w.pixels!==void 0&&w._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},t.default.RendererGL.prototype.clear=function(){var l=(arguments.length<=0?void 0:arguments[0])||0,v=(arguments.length<=1?void 0:arguments[1])||0,w=(arguments.length<=2?void 0:arguments[2])||0,x=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(l,v,w,x),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},t.default.RendererGL.prototype.applyMatrix=function(l,v,w,x,_,E){arguments.length===16?t.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([l,v,0,0,w,x,0,0,0,0,1,0,_,E,0,1])},t.default.RendererGL.prototype.translate=function(l,v,w){return l instanceof t.default.Vector&&(w=l.z,v=l.y,l=l.x),this.uMVMatrix.translate([l,v,w]),this},t.default.RendererGL.prototype.scale=function(l,v,w){return this.uMVMatrix.scale(l,v,w),this},t.default.RendererGL.prototype.rotate=function(l,v){return v===void 0?this.rotateZ(l):(t.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},t.default.RendererGL.prototype.rotateX=function(l){return this.rotate(l,1,0,0),this},t.default.RendererGL.prototype.rotateY=function(l){return this.rotate(l,0,1,0),this},t.default.RendererGL.prototype.rotateZ=function(l){return this.rotate(l,0,0,1),this},t.default.RendererGL.prototype.push=function(){var l=t.default.Renderer.prototype.push.apply(this),v=l.properties;return v.uMVMatrix=this.uMVMatrix.copy(),v.uPMatrix=this.uPMatrix.copy(),v._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),v.ambientLightColors=this.ambientLightColors.slice(),v.specularColors=this.specularColors.slice(),v.directionalLightDirections=this.directionalLightDirections.slice(),v.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),v.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),v.pointLightPositions=this.pointLightPositions.slice(),v.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),v.pointLightSpecularColors=this.pointLightSpecularColors.slice(),v.spotLightPositions=this.spotLightPositions.slice(),v.spotLightDirections=this.spotLightDirections.slice(),v.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),v.spotLightSpecularColors=this.spotLightSpecularColors.slice(),v.spotLightAngle=this.spotLightAngle.slice(),v.spotLightConc=this.spotLightConc.slice(),v.userFillShader=this.userFillShader,v.userStrokeShader=this.userStrokeShader,v.userPointShader=this.userPointShader,v.pointSize=this.pointSize,v.curStrokeWeight=this.curStrokeWeight,v.curStrokeColor=this.curStrokeColor,v.curFillColor=this.curFillColor,v._useSpecularMaterial=this._useSpecularMaterial,v._useEmissiveMaterial=this._useEmissiveMaterial,v._useShininess=this._useShininess,v.constantAttenuation=this.constantAttenuation,v.linearAttenuation=this.linearAttenuation,v.quadraticAttenuation=this.quadraticAttenuation,v._enableLighting=this._enableLighting,v._useNormalMaterial=this._useNormalMaterial,v._tex=this._tex,v.drawMode=this.drawMode,v._currentNormal=this._currentNormal,l},t.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=t.default.Matrix.identity(this._pInst),this},t.default.RendererGL.prototype._getImmediateStrokeShader=function(){var l=this.userStrokeShader;return l&&l.isStrokeShader()?l:this._getLineShader()},t.default.RendererGL.prototype._getRetainedStrokeShader=t.default.RendererGL.prototype._getImmediateStrokeShader,t.default.RendererGL.prototype._getImmediateFillShader=function(){var l=this.userFillShader;if(this._useNormalMaterial&&(!l||!l.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!l||!l.isLightShader())return this._getLightShader()}else if(this._tex){if(!l||!l.isTextureShader())return this._getLightShader()}else if(!l)return this._getImmediateModeShader();return l},t.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var l=this.userFillShader;if(this._enableLighting){if(!l||!l.isLightShader())return this._getLightShader()}else if(this._tex){if(!l||!l.isTextureShader())return this._getLightShader()}else if(!l)return this._getColorShader();return l},t.default.RendererGL.prototype._getImmediatePointShader=function(){var l=this.userPointShader;return l&&l.isPointShader()?l:this._getPointShader()},t.default.RendererGL.prototype._getRetainedLineShader=t.default.RendererGL.prototype._getImmediateLineShader,t.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new t.default.Shader(this,s.phongVert,s.phongFrag):this._defaultLightShader=new t.default.Shader(this,s.lightVert,s.lightTextureFrag)),this._defaultLightShader},t.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new t.default.Shader(this,s.immediateVert,s.vertexColorFrag)),this._defaultImmediateModeShader},t.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new t.default.Shader(this,s.normalVert,s.normalFrag)),this._defaultNormalShader},t.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new t.default.Shader(this,s.normalVert,s.basicFrag)),this._defaultColorShader},t.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new t.default.Shader(this,s.pointVert,s.pointFrag)),this._defaultPointShader},t.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new t.default.Shader(this,s.lineVert,s.lineFrag)),this._defaultLineShader},t.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new t.default.Shader(this,s.fontVert,s.fontFrag)),this._defaultFontShader},t.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var l=new t.default.Image(1,1);l.set(0,0,255),this._emptyTexture=new t.default.Texture(this,l)}return this._emptyTexture},t.default.RendererGL.prototype.getTexture=function(l){var v=this.textures,w=!0,x=!1,_=void 0;try{for(var E,C=v[Symbol.iterator]();!(w=(E=C.next()).done);w=!0){var A=E.value;if(A.src===l)return A}}catch(I){x=!0,_=I}finally{try{w||C.return==null||C.return()}finally{if(x)throw _}}var O=new t.default.Texture(this,l);return v.push(O),O},t.default.RendererGL.prototype._setStrokeUniforms=function(l){l.bindShader(),l.setUniform("uMaterialColor",this.curStrokeColor),l.setUniform("uStrokeWeight",this.curStrokeWeight)},t.default.RendererGL.prototype._setFillUniforms=function(l){l.bindShader(),l.setUniform("uMaterialColor",this.curFillColor),l.setUniform("isTexture",!!this._tex),this._tex&&l.setUniform("uSampler",this._tex),l.setUniform("uTint",this._tint),l.setUniform("uSpecular",this._useSpecularMaterial),l.setUniform("uEmissive",this._useEmissiveMaterial),l.setUniform("uShininess",this._useShininess),l.setUniform("uUseLighting",this._enableLighting);var v=this.pointLightDiffuseColors.length/3;l.setUniform("uPointLightCount",v),l.setUniform("uPointLightLocation",this.pointLightPositions),l.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),l.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var w=this.directionalLightDiffuseColors.length/3;l.setUniform("uDirectionalLightCount",w),l.setUniform("uLightingDirection",this.directionalLightDirections),l.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),l.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var x=this.ambientLightColors.length/3;l.setUniform("uAmbientLightCount",x),l.setUniform("uAmbientColor",this.ambientLightColors);var _=this.spotLightDiffuseColors.length/3;l.setUniform("uSpotLightCount",_),l.setUniform("uSpotLightAngle",this.spotLightAngle),l.setUniform("uSpotLightConc",this.spotLightConc),l.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),l.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),l.setUniform("uSpotLightLocation",this.spotLightPositions),l.setUniform("uSpotLightDirection",this.spotLightDirections),l.setUniform("uConstantAttenuation",this.constantAttenuation),l.setUniform("uLinearAttenuation",this.linearAttenuation),l.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),l.bindTextures()},t.default.RendererGL.prototype._setPointUniforms=function(l){l.bindShader(),l.setUniform("uMaterialColor",this.curStrokeColor),l.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},t.default.RendererGL.prototype._bindBuffer=function(l,v,w,x,_){if(v=v||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(v,l),w!==void 0){var E=new(x||Float32Array)(w);this.GL.bufferData(v,E,_||this.GL.STATIC_DRAW)}},t.default.RendererGL.prototype._arraysEqual=function(l,v){var w=l.length;if(w!==v.length)return!1;for(var x=0;x<w;x++)if(l[x]!==v[x])return!1;return!0},t.default.RendererGL.prototype._isTypedArray=function(l){return l instanceof Uint32Array},t.default.RendererGL.prototype._flatten=function(l){if(l.length===0)return[];if(2e4<l.length){var v,w=Object.prototype.toString,x=[],_=l.slice();for(v=_.pop();w.call(v)==="[object Array]"?_.push.apply(_,o(v)):x.push(v),_.length&&(v=_.pop())!==void 0;);return x.reverse(),x}var E;return(E=[]).concat.apply(E,o(l))},t.default.RendererGL.prototype._vToNArray=function(l){var v=[],w=!0,x=!1,_=void 0;try{for(var E,C=l[Symbol.iterator]();!(w=(E=C.next()).done);w=!0){var A=E.value;v.push(A.x,A.y,A.z)}}catch(O){x=!0,_=O}finally{try{w||C.return==null||C.return()}finally{if(x)throw _}}return v},t.default.prototype._assert3d=function(l){if(!this._renderer.isP3D)throw new Error("".concat(l,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},t.default.RendererGL.prototype._initTessy=function(){var l=new d.default.GluTesselator;return l.gluTessCallback(d.default.gluEnum.GLU_TESS_VERTEX_DATA,function(v,w){w[w.length]=v[0],w[w.length]=v[1],w[w.length]=v[2]}),l.gluTessCallback(d.default.gluEnum.GLU_TESS_BEGIN,function(v){v!==d.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(v))}),l.gluTessCallback(d.default.gluEnum.GLU_TESS_ERROR,function(v){console.log("error callback"),console.log("error number: ".concat(v))}),l.gluTessCallback(d.default.gluEnum.GLU_TESS_COMBINE,function(v,w,x){return[v[0],v[1],v[2]]}),l.gluTessCallback(d.default.gluEnum.GLU_TESS_EDGE_FLAG,function(v){}),l},t.default.RendererGL.prototype._triangulate=function(l){this._tessy.gluTessNormal(0,0,1);var v=[];this._tessy.gluTessBeginPolygon(v);for(var w=0;w<l.length;w++){this._tessy.gluTessBeginContour();for(var x=l[w],_=0;_<x.length;_+=3){var E=[x[_],x[_+1],x[_+2]];this._tessy.gluTessVertex(E,E)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),v},t.default.RendererGL.prototype._bezierCoefficients=function(l){var v=l*l,w=1-l,x=w*w;return[x*w,3*x*l,3*w*v,v*l]},t.default.RendererGL.prototype._quadraticCoefficients=function(l){var v=1-l;return[v*v,2*v*l,l*l]},t.default.RendererGL.prototype._bezierToCatmull=function(l){return[l[1],l[1]+(l[2]-l[0])/this._curveTightness,l[2]-(l[3]-l[1])/this._curveTightness,l[2]]};var i=t.default.RendererGL;h.default=i},{"../core/constants":253,"../core/main":264,"../core/p5.Renderer":267,"./p5.Camera":312,"./p5.Matrix":314,"./p5.Shader":319,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,libtess:237,path:240}],319:[function(e,g,h){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p,t=(p=e("../core/main"))&&p.__esModule?p:{default:p};t.default.Shader=function(d,m,f){this._renderer=d,this._vertSrc=m,this._fragSrc=f,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},t.default.Shader.prototype.init=function(){if(this._glProgram===0){var d=this._renderer.GL;if(this._vertShader=d.createShader(d.VERTEX_SHADER),d.shaderSource(this._vertShader,this._vertSrc),d.compileShader(this._vertShader),!d.getShaderParameter(this._vertShader,d.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(d.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=d.createShader(d.FRAGMENT_SHADER),d.shaderSource(this._fragShader,this._fragSrc),d.compileShader(this._fragShader),!d.getShaderParameter(this._fragShader,d.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(d.getShaderInfoLog(this._fragShader))),null;this._glProgram=d.createProgram(),d.attachShader(this._glProgram,this._vertShader),d.attachShader(this._glProgram,this._fragShader),d.linkProgram(this._glProgram),d.getProgramParameter(this._glProgram,d.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(d.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},t.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var d=this._renderer.GL,m=d.getProgramParameter(this._glProgram,d.ACTIVE_ATTRIBUTES),f=0;f<m;++f){var o=d.getActiveAttrib(this._glProgram,f),r=o.name,s=d.getAttribLocation(this._glProgram,r),i={};i.name=r,i.location=s,i.index=f,i.type=o.type,i.size=o.size,this.attributes[r]=i}this._loadedAttributes=!0}},t.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var d=this._renderer.GL,m=d.getProgramParameter(this._glProgram,d.ACTIVE_UNIFORMS),f=0,o=0;o<m;++o){var r=d.getActiveUniform(this._glProgram,o),s={};s.location=d.getUniformLocation(this._glProgram,r.name),s.size=r.size;var i=r.name;1<r.size&&(i=i.substring(0,i.indexOf("[0]"))),s.name=i,s.type=r.type,s._cachedData=void 0,s.type===d.SAMPLER_2D&&(s.samplerIndex=f,f++,this.samplers.push(s)),s.isArray=1<r.size||s.type===d.FLOAT_MAT3||s.type===d.FLOAT_MAT4||s.type===d.FLOAT_VEC2||s.type===d.FLOAT_VEC3||s.type===d.FLOAT_VEC4||s.type===d.INT_VEC2||s.type===d.INT_VEC4||s.type===d.INT_VEC3,this.uniforms[i]=s}this._loadedUniforms=!0}},t.default.Shader.prototype.compile=function(){},t.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},t.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},t.default.Shader.prototype.bindTextures=function(){var d=this._renderer.GL,m=!0,f=!1,o=void 0;try{for(var r,s=this.samplers[Symbol.iterator]();!(m=(r=s.next()).done);m=!0){var i=r.value,l=i.texture;l===void 0&&(l=this._renderer._getEmptyTexture()),d.activeTexture(d.TEXTURE0+i.samplerIndex),l.bindTexture(),l.update(),d.uniform1i(i.location,i.samplerIndex)}}catch(v){f=!0,o=v}finally{try{m||s.return==null||s.return()}finally{if(f)throw o}}},t.default.Shader.prototype.updateTextures=function(){var d=!0,m=!1,f=void 0;try{for(var o,r=this.samplers[Symbol.iterator]();!(d=(o=r.next()).done);d=!0){var s=o.value.texture;s&&s.update()}}catch(i){m=!0,f=i}finally{try{d||r.return==null||r.return()}finally{if(m)throw f}}},t.default.Shader.prototype.unbindTextures=function(){},t.default.Shader.prototype._setMatrixUniforms=function(){var d=this._renderer._curCamera.cameraMatrix,m=this._renderer.uPMatrix,f=this._renderer.uMVMatrix,o=f.copy();o.mult(m),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",d.mat4),this.setUniform("uProjectionMatrix",m.mat4),this.setUniform("uModelViewMatrix",f.mat4),this.setUniform("uModelViewProjectionMatrix",o.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},t.default.Shader.prototype.useProgram=function(){var d=this._renderer.GL;return this._renderer._curShader!==this&&(d.useProgram(this._glProgram),this._renderer._curShader=this),this},t.default.Shader.prototype.setUniform=function(d,m){var f=this.uniforms[d];if(f){var o=this._renderer.GL;if(f.isArray){if(f._cachedData&&this._renderer._arraysEqual(f._cachedData,m))return;f._cachedData=m.slice(0)}else{if(f._cachedData&&f._cachedData===m)return;Array.isArray(m)?f._cachedData=m.slice(0):f._cachedData=m}var r=f.location;switch(this.useProgram(),f.type){case o.BOOL:m===!0?o.uniform1i(r,1):o.uniform1i(r,0);break;case o.INT:1<f.size?m.length&&o.uniform1iv(r,m):o.uniform1i(r,m);break;case o.FLOAT:1<f.size?m.length&&o.uniform1fv(r,m):o.uniform1f(r,m);break;case o.FLOAT_MAT3:o.uniformMatrix3fv(r,!1,m);break;case o.FLOAT_MAT4:o.uniformMatrix4fv(r,!1,m);break;case o.FLOAT_VEC2:1<f.size?m.length&&o.uniform2fv(r,m):o.uniform2f(r,m[0],m[1]);break;case o.FLOAT_VEC3:1<f.size?m.length&&o.uniform3fv(r,m):o.uniform3f(r,m[0],m[1],m[2]);break;case o.FLOAT_VEC4:1<f.size?m.length&&o.uniform4fv(r,m):o.uniform4f(r,m[0],m[1],m[2],m[3]);break;case o.INT_VEC2:1<f.size?m.length&&o.uniform2iv(r,m):o.uniform2i(r,m[0],m[1]);break;case o.INT_VEC3:1<f.size?m.length&&o.uniform3iv(r,m):o.uniform3i(r,m[0],m[1],m[2]);break;case o.INT_VEC4:1<f.size?m.length&&o.uniform4iv(r,m):o.uniform4i(r,m[0],m[1],m[2],m[3]);break;case o.SAMPLER_2D:o.activeTexture(o.TEXTURE0+f.samplerIndex),f.texture=m instanceof t.default.Texture?m:this._renderer.getTexture(m),o.uniform1i(r,f.samplerIndex)}return this}},t.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},t.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},t.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},t.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},t.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},t.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},t.default.Shader.prototype.enableAttrib=function(d,m,f,o,r,s){if(d){var i=d.location;if(i!==-1){var l=this._renderer.GL;d.enabled||(l.enableVertexAttribArray(i),d.enabled=!0),this._renderer.GL.vertexAttribPointer(i,m,f||l.FLOAT,o||!1,r||0,s||0)}}return this};var c=t.default.Shader;h.default=c},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],320:[function(e,g,h){function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(o){if(o&&o.__esModule)return o;if(o===null||p(o)!=="object"&&typeof o!="function")return{default:o};var r=m();if(r&&r.has(o))return r.get(o);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var v=i?Object.getOwnPropertyDescriptor(o,l):null;v&&(v.get||v.set)?Object.defineProperty(s,l,v):s[l]=o[l]}return s.default=o,r&&r.set(o,s),s}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return m=function(){return o},o}c.default.Texture=function(o,r,s){this._renderer=o;var i=this._renderer.GL;(s=s||{}).dataType===i.FLOAT&&(i.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),i.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=r,this.glTex=void 0,this.glTarget=i.TEXTURE_2D,this.glFormat=s.format||i.RGBA,this.mipmaps=!1,this.glMinFilter=s.minFilter||i.LINEAR,this.glMagFilter=s.magFilter||i.LINEAR,this.glWrapS=s.wrapS||i.CLAMP_TO_EDGE,this.glWrapT=s.wrapT||i.CLAMP_TO_EDGE,this.glDataType=s.dataType||i.UNSIGNED_BYTE,this.isSrcMediaElement=c.default.MediaElement!==void 0&&r instanceof c.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=c.default.Element!==void 0&&r instanceof c.default.Element&&!(r instanceof c.default.Graphics),this.isSrcP5Image=r instanceof c.default.Image,this.isSrcP5Graphics=r instanceof c.default.Graphics,this.isImageData=typeof ImageData<"u"&&r instanceof ImageData;var l=this._getTextureDataFromSource();return this.width=l.width,this.height=l.height,this.init(l),this},c.default.Texture.prototype._getTextureDataFromSource=function(){var o;return this.isSrcP5Image?o=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?o=this.src.elt:this.isImageData&&(o=this.src),o},c.default.Texture.prototype.init=function(o){var r=this._renderer.GL;if(this.glTex=r.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){var s=new Uint8Array([1,1,1,1]);r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,s)}else r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,o)},c.default.Texture.prototype.update=function(){var o=this.src;if(o.width===0||o.height===0)return!1;var r=this._getTextureDataFromSource(),s=!1,i=this._renderer.GL;return r.width!==this.width||r.height!==this.height?(s=!0,this.width=r.width,this.height=r.height,this.isSrcP5Image?o.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&o.setModified(!0)):this.isSrcP5Image?o.isModified()&&(s=!0,o.setModified(!1)):this.isSrcMediaElement?o.isModified()?(s=!0,o.setModified(!1)):o.loadedmetadata&&this._videoPrevUpdateTime!==o.time()&&(this._videoPrevUpdateTime=o.time(),s=!0):this.isImageData?o._dirty&&(s=!(o._dirty=!1)):s=!0,s&&(this.bindTexture(),i.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,r)),s},c.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},c.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},c.default.Texture.prototype.setInterpolation=function(o,r){var s=this._renderer.GL;o===d.NEAREST?this.glMinFilter=s.NEAREST:this.glMinFilter=s.LINEAR,r===d.NEAREST?this.glMagFilter=s.NEAREST:this.glMagFilter=s.LINEAR,this.bindTexture(),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.glMinFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},c.default.Texture.prototype.setWrapMode=function(o,r){function s(w){return(w&w-1)==0}var i=this._renderer.GL,l=s(this.width),v=s(this.height);o===d.REPEAT?l&&v?this.glWrapS=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):o===d.MIRROR?l&&v?this.glWrapS=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):this.glWrapS=i.CLAMP_TO_EDGE,r===d.REPEAT?l&&v?this.glWrapT=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):r===d.MIRROR?l&&v?this.glWrapT=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):this.glWrapT=i.CLAMP_TO_EDGE,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.glWrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var f=c.default.Texture;h.default=f},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],321:[function(e,g,h){function p(i){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var t,c=(t=e("../core/main"))&&t.__esModule?t:{default:t},d=function(i){if(i&&i.__esModule)return i;if(i===null||p(i)!=="object"&&typeof i!="function")return{default:i};var l=m();if(l&&l.has(i))return l.get(i);var v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in i)if(Object.prototype.hasOwnProperty.call(i,x)){var _=w?Object.getOwnPropertyDescriptor(i,x):null;_&&(_.get||_.set)?Object.defineProperty(v,x,_):v[x]=i[x]}return v.default=i,l&&l.set(i,v),v}(e("../core/constants"));function m(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return m=function(){return i},i}e("./p5.Shader"),e("./p5.RendererGL.Retained"),c.default.RendererGL.prototype._applyTextProperties=function(){},c.default.RendererGL.prototype.textWidth=function(i){return this._isOpenType()?this._textFont._textWidth(i,this._textSize):0};function f(i,l){this.width=i,this.height=l,this.infos=[],this.findImage=function(v){var w,x,_=this.width*this.height;if(_<v)throw new Error("font is too complex to render in 3D");for(var E=this.infos.length-1;0<=E;--E){var C=this.infos[E];if(C.index+v<_){x=(w=C).imageData;break}}if(!w){try{x=new ImageData(this.width,this.height)}catch{var A=document.getElementsByTagName("canvas")[0],O=!A;A||((A=document.createElement("canvas")).style.display="none",document.body.appendChild(A));var I=A.getContext("2d");I&&(x=I.createImageData(this.width,this.height)),O&&document.body.removeChild(A)}w={index:0,imageData:x},this.infos.push(w)}var R=w.index;return w.index+=v,x._dirty=!0,{imageData:x,index:R}}}function o(i,l,v,w,x){var _=i.imageData.data,E=4*i.index++;_[E++]=l,_[E++]=v,_[E++]=w,_[E++]=x}function r(i){this.font=i,this.strokeImageInfos=new f(64,64),this.colDimImageInfos=new f(64,64),this.rowDimImageInfos=new f(64,64),this.colCellImageInfos=new f(64,64),this.rowCellImageInfos=new f(64,64),this.glyphInfos={},this.getGlyphInfo=function(l){var v=this.glyphInfos[l.index];if(v)return v;var w,x=l.getBoundingBox(),_=x.x1,E=x.y1,C=x.x2-_,A=x.y2-E,O=l.path.commands;if(C==0||A==0||!O.length)return this.glyphInfos[l.index]={};var I,R,L,U,D=[],W=[],H=[];for(w=8;0<=w;--w)H.push([]);for(w=8;0<=w;--w)W.push([]);function ae(he,Pe,Be){var Ue=D.length;function Le(Z,z,K){for(var de=Z.length;0<de--;){var Te=Z[de];Te<z&&(z=Te),K<Te&&(K=Te)}return{min:z,max:K}}D.push(Be);for(var Ze=Le(he,1,0),Re=Math.max(Math.floor(9*Ze.min),0),Ae=Math.min(Math.ceil(9*Ze.max),9),ze=Re;ze<Ae;++ze)H[ze].push(Ue);for(var Ye=Le(Pe,1,0),be=Math.max(Math.floor(9*Ye.min),0),tt=Math.min(Math.ceil(9*Ye.max),9),V=be;V<tt;++V)W[V].push(Ue)}function le(he){return(Pe=(Ue=255)*he)<(Be=0)?Be:Ue<Pe?Ue:Pe;var Pe,Be,Ue}function J(he,Pe,Be,Ue){this.p0=he,this.c0=Pe,this.c1=Be,this.p1=Ue,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return c.default.Vector.sub(c.default.Vector.sub(this.p1,this.p0),c.default.Vector.mult(c.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Le){var Ze=c.default.Vector.lerp(this.p0,this.c0,Le),Re=c.default.Vector.lerp(this.c0,this.c1,Le),Ae=c.default.Vector.lerp(Ze,Re,Le);this.c1=c.default.Vector.lerp(this.c1,this.p1,Le),this.c0=c.default.Vector.lerp(Re,this.c1,Le);var ze=c.default.Vector.lerp(Ae,this.c0,Le),Ye=new J(this.p0,Ze,Ae,ze);return this.p0=ze,Ye},this.splitInflections=function(){var Le=c.default.Vector.sub(this.c0,this.p0),Ze=c.default.Vector.sub(c.default.Vector.sub(this.c1,this.c0),Le),Re=c.default.Vector.sub(c.default.Vector.sub(c.default.Vector.sub(this.p1,this.c1),Le),c.default.Vector.mult(Ze,2)),Ae=[],ze=Ze.x*Re.y-Ze.y*Re.x;if(ze!==0){var Ye=Le.x*Re.y-Le.y*Re.x,be=Le.x*Ze.y-Le.y*Ze.x,tt=Ye*Ye-4*ze*be;if(0<=tt){ze<0&&(ze=-ze,Ye=-Ye,be=-be);var V=Math.sqrt(tt),Z=(-Ye-V)/(2*ze),z=(-Ye+V)/(2*ze);0<Z&&Z<1&&(Ae.push(this.split(Z)),z=1-(1-z)/(1-Z)),0<z&&z<1&&Ae.push(this.split(z))}}return Ae.push(this),Ae}}function ue(he,Pe,Be,Ue,Le,Ze,Re,Ae){var ze=new J(new c.default.Vector(he,Pe),new c.default.Vector(Be,Ue),new c.default.Vector(Le,Ze),new c.default.Vector(Re,Ae)).splitInflections(),Ye=[],be=30/s,tt=!0,V=!1,Z=void 0;try{for(var z,K=ze[Symbol.iterator]();!(tt=(z=K.next()).done);tt=!0){for(var de=z.value,Te=[],ke=void 0;!(.125<=(ke=be/de.quadError()));){var Ve=Math.pow(ke,.3333333333333333),we=de.split(Ve),Ke=de.split(1-Ve/(1-Ve));Ye.push(we),Te.push(de),de=Ke}ke<1&&Ye.push(de.split(.5)),Ye.push(de),Array.prototype.push.apply(Ye,Te.reverse())}}catch(at){V=!0,Z=at}finally{try{tt||K.return==null||K.return()}finally{if(V)throw Z}}return Ye}function se(he,Pe,Be,Ue){ae([he,Be],[Pe,Ue],{x:he,y:Pe,cx:(he+Be)/2,cy:(Pe+Ue)/2})}function me(he,Pe,Be,Ue){return Math.abs(Be-he)<1e-5&&Math.abs(Ue-Pe)<1e-5}var xe=!0,Ee=!1,ve=void 0;try{for(var De,_e=O[Symbol.iterator]();!(xe=(De=_e.next()).done);xe=!0){var Se=De.value,P=(Se.x-_)/C,G=(Se.y-E)/A;if(!me(I,R,P,G)){switch(Se.type){case"M":L=P,U=G;break;case"L":se(I,R,P,G);break;case"Q":var Y=(Se.x1-_)/C,ee=(Se.y1-E)/A;ae([I,P,Y],[R,G,ee],{x:I,y:R,cx:Y,cy:ee});break;case"Z":me(I,R,L,U)?D.push({x:I,y:R}):(se(I,R,L,U),D.push({x:L,y:U}));break;case"C":for(var B=ue(I,R,(Se.x1-_)/C,(Se.y1-E)/A,(Se.x2-_)/C,(Se.y2-E)/A,P,G),F=0;F<B.length;F++){var re=B[F].toQuadratic();ae([re.x,re.x1,re.cx],[re.y,re.y1,re.cy],re)}break;default:throw new Error("unknown command type: ".concat(Se.type))}I=P,R=G}}}catch(he){Ee=!0,ve=he}finally{try{xe||_e.return==null||_e.return()}finally{if(Ee)throw ve}}for(var $=D.length,ne=this.strokeImageInfos.findImage($),ie=ne.index,oe=0;oe<$;++oe){var pe=D[oe];o(ne,le(pe.x),le(pe.y),le(pe.cx),le(pe.cy))}function ge(he,Pe,Be){for(var Ue=he.length,Le=Pe.findImage(Ue),Ze=Le.index,Re=0,Ae=0;Ae<Ue;++Ae)Re+=he[Ae].length;for(var ze=Be.findImage(Re),Ye=0;Ye<Ue;++Ye){var be=he[Ye],tt=be.length,V=ze.index;o(Le,V>>7,127&V,tt>>7,127&tt);for(var Z=0;Z<tt;++Z){var z=be[Z]+ie;o(ze,z>>7,127&z,0,0)}}return{cellImageInfo:ze,dimOffset:Ze,dimImageInfo:Le}}return(v=this.glyphInfos[l.index]={glyph:l,uGlyphRect:[x.x1,-x.y1,x.x2,-x.y2],strokeImageInfo:ne,strokes:D,colInfo:ge(H,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ge(W,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset],v}}var s=Math.sqrt(3);c.default.RendererGL.prototype._renderText=function(i,l,v,w,x){if(this._textFont&&typeof this._textFont!="string"){if(!(x<=w)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),i;i.push();var _=this._doStroke,E=this.drawMode;this._doStroke=!1,this.drawMode=d.TEXTURE;var C=this._textFont.font,A=this._textFont._fontInfo;A=A||(this._textFont._fontInfo=new r(C));var O=this._textFont._handleAlignment(this,l,v,w),I=this._textSize/C.unitsPerEm;this.translate(O.x,O.y,0),this.scale(I,I,1);var R=this.GL,L=!this._defaultFontShader,U=this._getFontShader();U.init(),U.bindShader(),L&&(U.setUniform("uGridImageSize",[64,64]),U.setUniform("uCellsImageSize",[64,64]),U.setUniform("uStrokeImageSize",[64,64]),U.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var D=this.retainedMode.geometry.glyph;if(!D){var W=this._textGeom=new c.default.Geometry(1,1,function(){for(var B=0;B<=1;B++)for(var F=0;F<=1;F++)this.vertices.push(new c.default.Vector(F,B,0)),this.uvs.push(F,B)});W.computeFaces().computeNormals(),D=this.createBuffers("glyph",W)}var H=!0,ae=!1,le=void 0;try{for(var J,ue=this.retainedMode.buffers.text[Symbol.iterator]();!(H=(J=ue.next()).done);H=!0)J.value._prepareBuffer(D,U)}catch(B){ae=!0,le=B}finally{try{H||ue.return==null||ue.return()}finally{if(ae)throw le}}this._bindBuffer(D.indexBuffer,R.ELEMENT_ARRAY_BUFFER),U.setUniform("uMaterialColor",this.curFillColor);try{var se=0,me=null,xe=C.stringToGlyphs(l),Ee=!0,ve=!1,De=void 0;try{for(var _e,Se=xe[Symbol.iterator]();!(Ee=(_e=Se.next()).done);Ee=!0){var P=_e.value;me&&(se+=C.getKerningValue(me,P));var G=A.getGlyphInfo(P);if(G.uGlyphRect){var Y=G.rowInfo,ee=G.colInfo;U.setUniform("uSamplerStrokes",G.strokeImageInfo.imageData),U.setUniform("uSamplerRowStrokes",Y.cellImageInfo.imageData),U.setUniform("uSamplerRows",Y.dimImageInfo.imageData),U.setUniform("uSamplerColStrokes",ee.cellImageInfo.imageData),U.setUniform("uSamplerCols",ee.dimImageInfo.imageData),U.setUniform("uGridOffset",G.uGridOffset),U.setUniform("uGlyphRect",G.uGlyphRect),U.setUniform("uGlyphOffset",se),U.bindTextures(),R.drawElements(R.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}se+=P.advanceWidth,me=P}}catch(B){ve=!0,De=B}finally{try{Ee||Se.return==null||Se.return()}finally{if(ve)throw De}}}finally{U.unbindShader(),this._doStroke=_,this.drawMode=E,i.pop()}return i}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":253,"../core/main":264,"./p5.RendererGL.Retained":317,"./p5.Shader":319,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}]},{},[248])(248)})})(vp);const dt=yp(Hi),j=new dt(u=>{}),He=j.windowWidth/80,gr=He*(2/3),yt=He/24,bp=13,wp=3/8,xp=1/2,_p=1,Ua=3600,No=9999999999,zi=500,lu="0.0.1",Nr=[255,0,0],Sc=[200,0,0],Fa=[247,52,43],qi=[153,117,112],Sp=[217,33,33],jp=[117,13,13],Na=[0,255,0],jc=[200,200,0],uu=[144,238,144],Tp=[3,192,74],Ep=[74,176,150],Cp=[255,145,164],Mp=[41,110,1],Tc=[152,208,35],Ap=[65,245,25],Rp=[70,125,93],Ec=[150,221,126],Cc=[0,0,255],cu=[50,148,235],as=[163,214,251],Ga=[14,135,204],Mc=[11,11,69],Ac=[76,80,169],Op=[0,90,156],Pp=[192,192,195],ei=[152,118,82],ao=[64,224,208],Tr=[255,255,255],Ft=[0,0,0],kp=[15],ti=[10],Rc=[20],Oc=[55],Pc=[100],kc=[120],Lc=[90,90,90],Dc=[150,150,150],Lp=[255,255,0],Dp=[255,191,0],ls=[255,223,0],Va=[255,217,61],Fs=[255,179,0],Ip=[216,187,93],Un=[255,150,45],Ns=[255,69,0],Lo=[251,139,35],Ic=[197,177,160],Bp=[101,67,33],ds=[200,0,200],Up=[100,0,100],Fp=[60,0,60],Np=[177,156,217],Gp=[177,156,217,155];var gt=(u=>(u[u.EMPTY=0]="EMPTY",u[u.HILL=1]="HILL",u[u.UNSTABLE=2]="UNSTABLE",u[u.WALL=3]="WALL",u[u.WATER=4]="WATER",u[u.LAVA=5]="LAVA",u[u.SPAWN=6]="SPAWN",u[u.BASE=7]="BASE",u[u.TELEPORTER_ONE=8]="TELEPORTER_ONE",u[u.TELEPORTER_TWO=9]="TELEPORTER_TWO",u))(gt||{});const Vp={name:"Empty",description:"An empty tile",hotkey:"e",keycode:69,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:as},Wp={name:"Hill",description:"A slightly elevated tile",hotkey:"h",keycode:72,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:ei},Hp={name:"Unstable",description:"An unstable tile",hotkey:"u",keycode:85,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Ic},zp={name:"Wall",description:"A wall tile",hotkey:"w",keycode:87,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:Oc},qp={name:"Water",description:"A water tile",hotkey:"a",keycode:65,canTower:!1,canWaterTower:!0,canLavaTower:!1,canUnit:!1,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Ga},Xp={name:"Lava",description:"A lava tile",hotkey:"l",keycode:76,canTower:!1,canWaterTower:!1,canLavaTower:!0,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Fa},Yp={name:"Spawn",description:"An enemy spawn point",hotkey:"s",keycode:83,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!0,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:Nr},$p={name:"Base",description:"A Maou base to be protected",hotkey:"b",keycode:66,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!0,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:ds},Kp={name:"Teleporter Type One",description:"A teleporter connected to all other teleporters of the same type",hotkey:"t",keycode:84,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:1,rgb:Tp},Zp={name:"Teleporter Type Two",description:"A teleporter connected to all other teleporters of the same type",hotkey:"y",keycode:89,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:2,rgb:Cp},Fn={[0]:Vp,[1]:Wp,[2]:Hp,[3]:zp,[4]:qp,[5]:Xp,[6]:Yp,[7]:$p,[8]:Kp,[9]:Zp},ir=(u,a,n,e=!1,g=j)=>{const h=e?0:30;g.beginShape();for(let p=0;p<6;p++){const t=g.PI/180*(h+p*60),c=u+g.cos(t)*n,d=a+g.sin(t)*n;g.vertex(c,d)}g.endShape(g.CLOSE)},Qp=(u,a,n,e,g,h=!1,p=j)=>{let t=h?-p.TWO_PI/3:-p.PI/2,c=u+p.cos(t)*n,d=a+p.sin(t)*n;p.beginShape();for(let o=0;o<=e;o++)c=u+p.cos(t)*n,d=a+p.sin(t)*n,p.vertex(c,d),t+=p.PI/3;p.endShape();const m=u+p.cos(t)*n,f=a+p.sin(t)*n;p.line(c,d,j.lerp(c,m,g),j.lerp(d,f,g))},Jp=3,jo=(u,a,n=Jp)=>{j.push();const e=u.x+a.x,g=u.y+a.y,h=a.heading(),p=a.mag(),t=dt.Vector.fromAngle(h-j.PI/4),c=dt.Vector.fromAngle(h+j.PI/4);t.mult(-(p/3)),c.mult(-(p/3)),j.strokeWeight(n),j.line(u.x,u.y,e,g),j.line(e,g,e+t.x,g+t.y),j.line(e,g,e+c.x,g+c.y),j.pop()};class us{constructor(a,n,e,g,h,p={}){q(this,"pos");q(this,"r");q(this,"q");q(this,"size");q(this,"collisionRadius");q(this,"vertices");q(this,"color");q(this,"wall");q(this,"canTower");q(this,"canWaterTower");q(this,"canLavaTower");q(this,"canUnit");q(this,"canWaterUnit");q(this,"isTower");q(this,"isSpawn");q(this,"isTeleporter");q(this,"teleporterType");q(this,"type");q(this,"data");q(this,"buffs");q(this,"timedBuffs");q(this,"appliedEffects");this.pos=j.createVector(a,n),this.r=e,this.q=g,this.size=h,this.collisionRadius=h*(2+j.sqrt(3))/4,this.vertices=[],this.color=p.color?j.color(p.color.levels):j.color(as),this.wall=p.wall??!1,this.canTower=p.canTower??!0,this.canWaterTower=p.canWaterTower??!1,this.canLavaTower=p.canLavaTower??!1,this.canUnit=p.canUnit??!0,this.canWaterUnit=p.canWaterUnit??!0,this.isSpawn=p.isSpawn??!1,this.isTower=p.isTower??!1,this.isTeleporter=p.isTeleporter??!1,this.teleporterType=p.teleporterType??0,this.type=p.type??To.EMPTY,this.buffs=[],this.timedBuffs=[],this.appliedEffects={},this.data=p.data??{}}show(a=this.pos){j.push(),j.fill(this.color),j.stroke(10),j.strokeWeight(1),ir(a.x,a.y,this.size),j.pop()}showDebug(){if(j.push(),j.strokeWeight(3),this.data.floodPathVector&&(j.stroke(0,0,255),jo(this.pos,this.data.floodPathVector.copy().mult(.3))),this.data.floodNext&&(j.stroke(255,0,255),j.line(this.pos.x,this.pos.y,this.data.floodNext.pos.x,this.data.floodNext.pos.y),jo(this.pos,this.data.floodPathVector.copy().mult(.4))),this.data["scout-1-vector"]&&(j.stroke(0,255,255),jo(this.pos,this.data["scout-1-vector"].copy().mult(.3))),this.data["scout-1-prev"]){const a=dt.Vector.sub(j.createVector(this.data["scout-1-prev"].pos.x,this.data["scout-1-prev"].pos.y),j.createVector(this.pos.x,this.pos.y));j.stroke(255,0,0),jo(this.pos,a.copy().mult(.3))}j.pop()}preCalculateVertices(a=!1){const n=a?0:30;for(let e=0;e<6;e++){const g=j.PI/180*(n+e*60),h=this.pos.x+j.cos(g)*this.size,p=this.pos.y+j.sin(g)*this.size;this.vertices.push(j.createVector(h,p))}}applyBuff(a){this.buffs.push(a)}removeBuff(a){for(let n=0;n<this.buffs.length;n++)if(this.buffs[n].id===a){this.buffs.splice(n,1);return}}onCollision(){return null}}class e0 extends us{constructor(n,e,g,h,p,t,c={}){super(n,e,g,h,p,{color:j.color(ds),...c});q(this,"maxHp");q(this,"hp");this.maxHp=t,this.hp=t}show(){j.push(),j.stroke(10),j.strokeWeight(2),j.fill(this.color),ir(this.pos.x,this.pos.y,this.size),ir(this.pos.x,this.pos.y,this.size-5),ir(this.pos.x,this.pos.y,this.size-10),j.pop()}update(){return!0}}var To=(u=>(u[u.EMPTY=0]="EMPTY",u[u.HILL=1]="HILL",u[u.UNSTABLE=2]="UNSTABLE",u[u.WALL=3]="WALL",u[u.WATER=4]="WATER",u[u.LAVA=5]="LAVA",u[u.SPAWN=6]="SPAWN",u[u.BASE=7]="BASE",u))(To||{});class t0{constructor(a,n,e,g,h={}){q(this,"seed");q(this,"midPos");q(this,"rings");q(this,"maxR");q(this,"maxQ");q(this,"midR");q(this,"midQ");q(this,"minR");q(this,"minQ");q(this,"hexSize");q(this,"xDiff");q(this,"yDiff");q(this,"wallRing");q(this,"grid");q(this,"tileTypeColors",{[0]:j.color(as),[1]:j.color(ei),[2]:j.color(Ic),[3]:j.color(Oc),[4]:j.color(Ga),[5]:j.color(Fa),[6]:j.color(Nr),[7]:j.color(ds)});q(this,"neighborVectorsRQ",[j.createVector(-1,1),j.createVector(0,1),j.createVector(1,0),j.createVector(1,-1),j.createVector(0,-1),j.createVector(-1,0)]);q(this,"teleporters",{});this.seed="",this.midPos=j.createVector(a,n),this.rings=e,this.maxR=e*2,this.maxQ=e*2,this.midR=e,this.midQ=e,this.minR=0,this.minQ=0,this.hexSize=g,this.xDiff=j.sqrt(3)*g,this.yDiff=1.5*g,this.grid=[],this.wallRing=h.wallRing??1,this.constructGrid(h.wallRing??1)}constructGrid(a=this.wallRing){for(let n=this.minR;n<=this.maxR;n++){this.grid.push([]);for(let e=this.minQ;e<=this.maxQ;e++){const g=this.getDiffVectorFromRQ(this.midR,this.midQ,n,e);if(g.add(this.midPos),this.grid[n].push(new us(g.x,g.y,n,e,this.hexSize,{type:0,color:this.tileTypeColors[0]})),n+e<this.rings||n+e>this.rings*3)continue;const h=a;n>=this.minR+h&&n<=this.maxR-h&&e>=this.minQ+h&&e<=this.maxQ-h&&n+e>=this.rings+h&&n+e<=this.rings*3-h||this.setBuilderTileType(this.grid[n][e],gt.WALL)}}}reConstructGrid(a=this.wallRing){this.grid=[],this.teleporters={},this.constructGrid(a)}getDiffVectorFromRQ(a,n,e,g){const h=e-a,p=g-n;return j.createVector(this.xDiff*p+this.xDiff/2*h,this.yDiff*h)}getHexVectorFromXY(a,n){const e=a-this.midPos.x,g=n-this.midPos.y,h=j.createVector(g/this.yDiff,(j.sqrt(3)/3*e-1/3*g)/this.hexSize),p=this.axialRound(h);return p.x+=this.midR,p.y+=this.midQ,p}rqVectorIsOnGrid(a,n=0){const e=a.x,g=a.y,h=n;return e>=this.minR+h&&e<=this.maxR-h&&g>=this.minQ+h&&g<=this.maxQ-h&&e+g>=this.rings+h&&e+g<=this.rings*3-h}axialRound(a){let n=j.round(a.x),e=j.round(a.y);const g=j.round(-a.x-a.y),h=j.abs(a.x-n),p=j.abs(a.y-e),t=j.abs(-a.x-a.y-g);return h>p&&h>t?n=-e-g:p>t&&(e=-n-g),j.createVector(n,e)}show(){for(let a=0;a<=this.maxR;a++)for(let n=0;n<=this.maxQ;n++)a+n<this.rings||a+n>this.rings*3||this.grid[a][n].show()}showDebug(){for(let a=0;a<=this.maxR;a++)for(let n=0;n<=this.maxQ;n++)a+n<this.rings||a+n>this.rings*3||this.grid[a][n].showDebug()}getNeighbors(a,n,e=!1){const g=e?this.getTeleporterNeighbors(a,n):[];for(let h of this.neighborVectorsRQ){const p=a+h.x,t=n+h.y;p<this.minR||p>this.maxR||t<this.minQ||t>this.maxQ||p+t<this.rings||p+t>this.rings*3||g.push(this.grid[p][t])}return g}getNeighborsArea(a,n,e){const g=[];for(let h=0;h<6;h++)for(let p=1;p<=e;p++){const t=a+this.neighborVectorsRQ[h].x*p,c=n+this.neighborVectorsRQ[h].y*p;for(let d=1;d<p;d++){const m=(h+2)%6,f=t+this.neighborVectorsRQ[m].x*d,o=c+this.neighborVectorsRQ[m].y*d;this.rqVectorIsOnGrid(j.createVector(f,o),this.wallRing)&&g.push(this.grid[f][o])}this.rqVectorIsOnGrid(j.createVector(t,c),this.wallRing)&&g.push(this.grid[t][c])}return g}getGrandNeighbors(a,n,e=0){const g=[];for(let h=0;h<6;h++){const p=a+this.neighborVectorsRQ[h].x,t=n+this.neighborVectorsRQ[h].y;for(let c=h;c<h+2;c++){const d=p+this.neighborVectorsRQ[c%6].x,m=t+this.neighborVectorsRQ[c%6].y;this.rqVectorIsOnGrid(j.createVector(d,m),e)&&g.push(this.grid[d][m])}}return g}getTeleporterNeighbors(a,n){const e=this.grid[a][n],g=[];if(!e.isTeleporter)return g;for(const h of this.teleporters[e.teleporterType])h.r===a&&h.q===n||g.push(h);return g}getAllTiles(a=!0){const n=[];for(let e=this.minR;e<=this.maxR;e++)for(let g=this.minQ;g<=this.maxQ;g++)e+g<this.rings||e+g>this.rings*3||(a||!this.grid[e][g].wall)&&n.push(this.grid[e][g]);return n}hexInArray(a,n){for(const e of n)if(e.r===a.r&&e.q===a.q)return!0;return!1}addRandomWalls(a=50,n=gt.HILL,e=1){for(let g=0;g<=this.maxR;g++)for(let h=0;h<=this.maxQ;h++)g+h<this.rings||g+h>this.rings*3||j.random(100)<a&&this.rqVectorIsOnGrid(j.createVector(g,h),e)&&this.setBuilderTileType(this.grid[g][h],n)}breakWallsInArray(a,n=gt.EMPTY){for(const e of a)this.setBuilderTileType(e,n)}aStar(a,n,e,g){const h=this.grid[a][n],p=this.getDiffVectorFromRQ(a,n,e,g);h.data={...h.data,g:0,h:p.mag(),f:p.mag(),prev:void 0};const t=this.grid[e][g],c=this.xDiff,d=c*(this.rings*2)**2;let m;const f=[h],o=[];for(;f.length>0;){m=f[0];let r=0;for(let i=1;i<f.length;i++)f[i].data.f<m.data.f&&(m=f[i],r=i);const s=this.getNeighbors(m.r,m.q);for(const i of s){if(this.hexInArray(i,o))continue;if(this.hexInArray(i,[t])){const v=[i,m];for(;m.data.prev;)v.push(m.data.prev),m=m.data.prev;return v}let l=c;if(i.canUnit||(l=d),this.hexInArray(i,f)){if(i.data.g<=m.data.g+l)continue}else i.data.h=this.getDiffVectorFromRQ(i.r,i.q,e,g).mag(),f.push(i);i.data.g=m.data.g+l,i.data.f=i.data.g+i.data.h,i.data.prev=m}f.splice(r,1),o.push(m)}return[]}resetColors(a=!0,n=j.color(as)){for(let e=0;e<=this.maxR;e++)for(let g=0;g<=this.maxQ;g++)e+g<this.rings||e+g>this.rings*3||(a?this.grid[e][g].color=this.tileTypeColors[this.grid[e][g].type]:this.grid[e][g].color=n)}resetData(a={}){for(let n=0;n<=this.maxR;n++)for(let e=0;e<=this.maxQ;e++)n+e<this.rings||n+e>this.rings*3||(this.grid[n][e].data={...a})}resetSpecificData(a){for(let n=0;n<=this.maxR;n++)for(let e=0;e<=this.maxQ;e++)n+e<this.rings||n+e>this.rings*3||(this.grid[n][e].data[a]=null)}generateAllPathsThroughFloodFill(a,n,e=!1,g="flood",h=1e6,p=1e6){const t=`${g}Steps`,c=`${g}Next`,d=`${g}PathVector`;this.resetSpecificData("testFloodSteps"),e||(this.resetSpecificData(t),this.resetSpecificData(c),this.resetSpecificData(d));for(const m of n){const f=m;e?f.data={...f.data,testFloodSteps:0}:f.data={...f.data,testFloodSteps:0,[t]:0,[c]:f,[d]:j.createVector(0,0)};let o;const r=[f],s=[];for(;r.length>0;){o=r[0];let i=0;for(let v=1;v<r.length;v++)r[v].data.testFloodSteps<o.data.testFloodSteps&&(o=r[v],i=v);if(o.data.testFloodSteps>p)break;const l=this.getNeighbors(o.r,o.q,!0);for(const v of l){if(this.hexInArray(v,[...s,...r])||!(v.canUnit||v.canWaterUnit)||v.isTower||v.wall)continue;r.push(v);const w=dt.Vector.sub(j.createVector(o.pos.x,o.pos.y),j.createVector(v.pos.x,v.pos.y)),x=v.canUnit?1:h;(!v.data.testFloodSteps||v.data.testFloodSteps>o.data.testFloodSteps)&&(v.data.testFloodSteps=o.data.testFloodSteps+x,e||(v.data[t]=o.data[t]+x,v.data[c]=o,v.data[d]=w))}r.splice(i,1),s.push(o)}}for(const m of a)if(e){if(!m.data.testFloodSteps||m.data.testFloodSteps>h)return!1}else if(!m.data[t]||m.data[t]>h)return!1;return!0}setTileType(a,n){const e=Fn[n];a.type=n,a.color=this.tileTypeColors[n],a.wall=n===1||n===3,a.canTower=e.canTower,a.canWaterTower=e.canWaterTower,a.canLavaTower=e.canLavaTower,a.canUnit=e.canUnit,a.canWaterUnit=e.canWaterUnit}setBuilderTileType(a,n){const e=Fn[n];a.type=n,a.color=j.color(e.rgb),a.wall=n===gt.HILL||n===gt.WALL||n===gt.LAVA,a.canTower=e.canTower,a.canWaterTower=e.canWaterTower,a.canLavaTower=e.canLavaTower,a.canUnit=e.canUnit,a.canWaterUnit=e.canWaterUnit,a.isSpawn=e.isSpawn,a.isTeleporter=e.isTeleporter,a.teleporterType=e.teleporterType}addSpawnerToGrid(a){this.grid[a.r][a.q]=a}addMaouBaseToGrid(a){this.grid[a.r][a.q]=a}addTowerToGrid(a){this.grid[a.r][a.q]=a}removeTowerFromGrid(a){const n=new us(a.pos.x,a.pos.y,a.r,a.q,a.size,{isTower:!1,data:a.data});this.setTileType(n,a.type),this.grid[a.r][a.q]=n}generateJsonableMap(){const a=[];for(const n of this.grid){const e=[];for(const g of n)e.push(g.type);a.push(e)}return a}buildMapFromJson(a,n,e){this.resetData();for(let g=0;g<this.grid.length;g++)for(let h=0;h<this.grid[g].length;h++){if(a[g][h]===gt.SPAWN&&(e.addSpawn(this.grid[g][h].pos.x,this.grid[g][h].pos.y,He,{gridR:g,gridQ:h}),e.waveReader.setActiveSpawners(e.spawners),this.addSpawnerToGrid(e.spawners[e.spawners.length-1])),a[g][h]===gt.BASE){const p=new e0(this.grid[g][h].pos.x,this.grid[g][h].pos.y,g,h,He,100);n.addBaseToMaou(p),this.addMaouBaseToGrid(p)}a[g][h],gt.TELEPORTER_ONE,this.setBuilderTileType(this.grid[g][h],a[g][h])}this.addAllTeleports()}addTeleporterToGrid(a){this.grid[a.r][a.q]=a}addAllTeleports(){for(let a=this.minR;a<=this.maxR;a++)for(let n=this.minQ;n<=this.maxQ;n++){if(a+n<this.rings||a+n>this.rings*3)continue;const e=this.grid[a][n];e.isTeleporter&&(e.teleporterType in this.teleporters||(this.teleporters[e.teleporterType]=[]),this.teleporters[e.teleporterType].push(e))}}}const Ce=new t0(j.windowWidth*wp,j.windowHeight*xp,bp,He,{wallRing:_p}),du=(u,a,n,e=1)=>{const g=n*2/9;j.push(),j.translate(u.x,u.y),j.rotate(a.heading()),j.triangle(2*g,-g,2*g,g,3*g,0),j.fill(Tr),j.circle(0,0,n),j.pop(),j.push(),j.noStroke(),j.circle(u.x,u.y,n*e),j.pop()},Vt=(u,a)=>(u.x-a.x)*(u.x-a.x)+(u.y-a.y)*(u.y-a.y),hu=(u,a,n)=>j.min(n,j.max(a,u)),r0=(u,a,n=255)=>j.color(j.random(u[0],a[0]),j.random(u[1],a[1]),j.random(u[2],a[2]),n),Bc=(u,a,n,e=255)=>{const g=1-n;return j.color(u[0]*n+a[0]*g,u[1]*n+a[1]*g,u[2]*n+a[2]*g,e)},lo=u=>j.color(j.red(u),j.green(u),j.blue(u),j.alpha(u)),Pn=(u,a,n)=>(a.x-u.x)*(n.y-u.y)-(n.x-u.x)*(a.y-u.y),io=(u,a)=>{const n=a.indexOf(u);a.splice(n,1)};class Xi{constructor(a,n){q(this,"pos");q(this,"data");this.pos=a,this.data=n}}class kn{constructor(a,n,e,g,h=2,p=10){q(this,"pos");q(this,"width");q(this,"height");q(this,"capacity");q(this,"maxDepth");q(this,"split");q(this,"list");q(this,"northEast");q(this,"southEast");q(this,"southWest");q(this,"northWest");this.pos=j.createVector(a,n),this.width=e,this.height=g,this.capacity=h,this.maxDepth=p,this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}getDir(){return[this.northEast,this.southEast,this.southWest,this.northWest]}show(){if(this.split)for(const a of this.getDir())a.show();j.push(),j.strokeWeight(1),j.stroke(Nr),j.noFill(),j.rect(this.pos.x,this.pos.y,this.width,this.height),j.pop()}insert(a){this.maxDepth<=0?this.list.push(a):this.split?(this.northEast.contains(a.pos)&&this.northEast.insert(a),this.southEast.contains(a.pos)&&this.southEast.insert(a),this.southWest.contains(a.pos)&&this.southWest.insert(a),this.northWest.contains(a.pos)&&this.northWest.insert(a)):(this.list.push(a),this.list.length>this.capacity&&this.subDivide())}subDivide(){const a=this.width/2,n=this.height/2;this.northEast=new kn(this.pos.x+a,this.pos.y,a,n,this.capacity,this.maxDepth-1),this.southEast=new kn(this.pos.x+a,this.pos.y+n,a,n,this.capacity,this.maxDepth-1),this.southWest=new kn(this.pos.x,this.pos.y+n,a,n,this.capacity,this.maxDepth-1),this.northWest=new kn(this.pos.x,this.pos.y,a,n,this.capacity,this.maxDepth-1),this.split=!0;for(let e=this.list.length-1;e>=0;e--)this.insert(this.list[e]),this.list.splice(e,1)}contains(a){return a.x>=this.pos.x&&a.x<this.pos.x+this.width&&a.y>=this.pos.y&&a.y<this.pos.y+this.height}inRangeCircle(a,n){const e=n**2;if(!this.intersectsCirlce(a,e))return[];const g=[];if(this.split)for(const h of this.getDir())g.push(...h.inRangeCircle(a,n));else for(const h of this.list)Vt(h.pos,a)>e||g.push(h.data);return g}inRangeCircleFromMin(a,n,e){const g=n**2,h=e**2;if(!this.intersectsCirlce(a,g))return[];const p=[];if(this.split)for(const t of this.getDir())p.push(...t.inRangeCircleFromMin(a,n,e));else for(const t of this.list)Vt(t.pos,a)>g||Vt(t.pos,a)<h||p.push(t.data);return p}inRangeCirclePart(a,n,e,g){const h=n**2;if(!this.intersectsCirlce(a,h))return[];const p=[];if(this.split)for(const t of this.getDir())p.push(...t.inRangeCirclePart(a,n,e,g));else for(const t of this.list){if(Vt(t.pos,a)>h)continue;const c=(dt.Vector.sub(t.pos,a).heading()+j.TWO_PI)%j.TWO_PI,d=e-c;d>-g&&d<g&&p.push(t.data)}return p}inRangePath(a,n,e){const g=[],h=[],p=dt.Vector.sub(n,a),t=dt.Vector.fromAngle(p.heading()+j.PI/2);t.setMag(e),h.push(dt.Vector.add(t,a)),t.mult(-1),h.push(dt.Vector.add(t,a)),h.push(dt.Vector.add(t,n)),t.mult(-1),h.push(dt.Vector.add(t,n));const c=(p.heading()+j.TWO_PI)%j.TWO_PI;g.push(...this.inRangeCirclePart(n,e,c,j.PI/2));const d=(p.heading()+j.PI*3)%j.TWO_PI;return g.push(...this.inRangeCirclePart(a,e,d,j.PI/2)),g.push(...this.inRangeRotatedRect(h)),g}inRangeRect(a,n,e){if(!this.intersectsRect(a,n,e))return[];const g=[];if(this.split)for(const h of this.getDir())g.push(...h.inRangeRect(a,n,e));else for(const h of this.list)h.pos.x>a.x+n||h.pos.x<a.x||h.pos.y>a.y+e||h.pos.y<a.y||g.push(h.data);return g}inRangeRotatedRect(a){const n=[];if(this.split)for(const e of this.getDir())n.push(...e.inRangeRotatedRect(a));else for(const e of this.list)Pn(a[0],a[1],e.pos)>0&&Pn(a[1],a[2],e.pos)>0&&Pn(a[2],a[3],e.pos)>0&&Pn(a[3],a[0],e.pos)>0&&n.push(e.data);return n}intersectsCirlce(a,n){const e=j.createVector(hu(a.x,this.pos.x,this.pos.x+this.width),hu(a.y,this.pos.y,this.pos.y+this.height));return Vt(e,a)<=n}intersectsRect(a,n,e){return!(a.x>this.pos.x+this.width||a.x+n<this.pos.x||a.y>this.pos.y+this.height||a.y+e<this.pos.y)}emptyQuadTree(){this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}}const Gs=new kn(0,0,j.windowWidth,j.windowHeight,3,7);class yr{constructor(a,n){q(this,"type");q(this,"amount");this.type=a,this.amount=n}}const n0={name:"Easy",UNIT_HP_MOD:.8,UNIT_SPEED_MOD:.9,UNIT_FORCE_MOD:.75,MAOU_HP_MOD:2,TOWER_COST_MOD:.75,TOWER_SELL_MOD:1,FINAL_WAVE:40},un={name:"Normal",UNIT_HP_MOD:1,UNIT_SPEED_MOD:1,UNIT_FORCE_MOD:1,MAOU_HP_MOD:1,TOWER_COST_MOD:1,TOWER_SELL_MOD:.9,FINAL_WAVE:60},o0={Easy:n0,Normal:un};let nr={name:un.name,UNIT_HP_MOD:un.UNIT_HP_MOD,UNIT_SPEED_MOD:un.UNIT_SPEED_MOD,UNIT_FORCE_MOD:un.UNIT_FORCE_MOD,MAOU_HP_MOD:un.MAOU_HP_MOD,TOWER_COST_MOD:un.TOWER_COST_MOD,TOWER_SELL_MOD:un.TOWER_SELL_MOD,FINAL_WAVE:un.FINAL_WAVE};const s0=u=>{nr.name=u.name,nr.UNIT_HP_MOD=u.UNIT_HP_MOD,nr.UNIT_SPEED_MOD=u.UNIT_SPEED_MOD,nr.UNIT_FORCE_MOD=u.UNIT_FORCE_MOD,nr.MAOU_HP_MOD=u.MAOU_HP_MOD,nr.TOWER_COST_MOD=u.TOWER_COST_MOD,nr.TOWER_SELL_MOD=u.TOWER_SELL_MOD,nr.FINAL_WAVE=u.FINAL_WAVE};class Er{constructor(a,n,e,g={}){q(this,"pos");q(this,"hexPos");q(this,"prevPos");q(this,"vel");q(this,"acc");q(this,"accumulatedFrictionMag");q(this,"futurePos");q(this,"desiredSpeed");q(this,"baseDesiredSpeed");q(this,"baseForce");q(this,"maxForce");q(this,"baseMaxForce");q(this,"additiveMaxForceBuffs");q(this,"multiplicativeMaxForceBuffs");q(this,"size");q(this,"radius");q(this,"mass");q(this,"baseMass");q(this,"maxHp");q(this,"hp");q(this,"damage");q(this,"goldValue");q(this,"xpValue");q(this,"dead");q(this,"color");q(this,"pathGoal");q(this,"id");q(this,"statuses");q(this,"level");q(this,"visionRadius");q(this,"attackRadius");q(this,"attackCooldown");q(this,"attackCurrentCooldown");q(this,"currentFlowField");q(this,"originalFlowField");q(this,"canSwim");q(this,"framesAlive");q(this,"rage");q(this,"rageTimer");q(this,"rageTimerOnRefresh");q(this,"rageForceIncreasePercent");q(this,"abilityCounters");q(this,"armor");this.pos=j.createVector(a,n),this.hexPos=j.createVector(0,0),this.prevPos=j.createVector(a,n),this.vel=j.createVector(0,0),this.acc=j.createVector(0,0),this.accumulatedFrictionMag=0,this.futurePos=j.createVector(0,0),this.desiredSpeed=(g.desiredSpeed??2)*(g.otherDifficulty??nr).UNIT_SPEED_MOD,this.baseDesiredSpeed=this.desiredSpeed,this.baseForce=(g.maxForce??.1)*(g.otherDifficulty??nr).UNIT_FORCE_MOD,this.maxForce=this.baseForce,this.baseMaxForce=this.maxForce,this.additiveMaxForceBuffs=[],this.multiplicativeMaxForceBuffs=[],this.size=e,this.radius=e/2,this.mass=g.mass??1,this.baseMass=g.mass??1,this.maxHp=(g.hp??50)*(g.otherDifficulty??nr).UNIT_HP_MOD,this.hp=this.maxHp,this.damage=g.damage??10,this.goldValue=g.goldValue??50,this.dead=!1,this.color=g.color??j.color(Sc),this.pathGoal=void 0,this.id=g.id??j.random(),this.statuses={NORMAL:[],ON_DEATH:[],PASSIVE:[],ON_TAKE_DAMAGE:[]},this.level=g.level??1,this.visionRadius=g.visionRadius??He*3,this.attackRadius=g.attackRadius??this.radius,this.attackCooldown=g.attackCooldown??50,this.attackCurrentCooldown=this.attackCooldown,this.currentFlowField=g.flowField??"floodNext",this.originalFlowField=g.flowField??"floodNext",this.canSwim=g.canSwim??!1,this.framesAlive=0,this.rage=0,this.rageTimer=5e3,this.rageTimerOnRefresh=500,this.rageForceIncreasePercent=1.1,this.abilityCounters=[],this.xpValue=g.xpValue??10,this.armor=null}show(){j.push(),j.strokeWeight(2),j.stroke(0),j.fill(this.color),du(this.pos,this.vel,this.size,j.max(this.hp/this.maxHp,0)),this.showStatusEffects(),this.armor&&this.armor.show(this.pos,this.size,this.vel.heading()),j.pop()}showDot(){j.strokeWeight(5),j.point(this.pos.x,this.pos.y)}showDebug(){j.push(),j.strokeWeight(5),j.stroke(0,255,0),j.fill(this.color),du(this.pos,this.vel,this.size,j.max(this.hp/this.maxHp,0)),j.pop()}update(){const a=this.getTarget();this.hexPos=Ce.getHexVectorFromXY(this.pos.x,this.pos.y),a!==void 0?this.followPathAndSeekTarget(a,Ce.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField):this.followPathField(Ce.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField),this.checkAndApplyRage(),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.applyStatusEffects("NORMAL"),this.pos.add(this.vel),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.pos),this.acc.mult(0),this.accumulatedFrictionMag=0,this.detectCollisions(),this.detectDrowning(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(a),this.hp<=0&&this.die(),this.decreaseStatusTimers(),this.framesAlive++}applyStatusEffects(a,n={}){for(let e=this.statuses[a].length-1;e>=0;e--)this.statuses[a][e].effectUnit(this,this.statuses[a][e],n)}showStatusEffects(){const a=[];for(const h in this.statuses)a.push(...this.statuses[h]);const n=this.size/3,e=this.pos.x+(a.length/2+.5)*-n,g=j.createVector(e,this.pos.y-this.size);for(let h=a.length-1;h>=0;h--)g.x+=n,a[h].show(this,g)}decreaseStatusTimers(){for(const a in this.statuses){const n=this.statuses[a];for(let e=n.length-1;e>=0;e--){const g=n[e];g.duration--,g.duration<=0&&(this.statuses[a].splice(e,1),g.onRemoval(this))}}}applyStatus(a,n=!1){for(let g=this.statuses[a.timing].length-1;g>=0;g--)if(this.statuses[a.timing][g].name===a.name)return n?(this.statuses[a.timing][g].duration=a.duration,!0):!1;const e=a.copy();return this.statuses[a.timing].push(e),e.onApply(this),!0}edges(a=0){this.pos.x>j.width-a&&(this.pos.x-=j.width-2*a),this.pos.x<a&&(this.pos.x+=j.width-2*a),this.pos.y>j.height-a&&(this.pos.y-=j.height-2*a),this.pos.y<a&&(this.pos.y+=j.height-2*a)}bouncyEdges(a=0){this.pos.x>j.width-a&&this.vel.x>0&&(this.pos.x=j.width-a,this.vel.mult([-1,1])),this.pos.x<a&&this.vel.x<0&&(this.pos.x=a,this.vel.mult([-1,1])),this.pos.y>j.height-a&&this.vel.y>0&&(this.pos.y=j.height-a,this.vel.mult([1,-1])),this.pos.y<a&&this.vel.y<0&&(this.pos.y=a,this.vel.mult([1,-1]))}findPositionThroughEdges(a,n=0){const e=dt.Vector.sub(a,this.pos);return e.x>j.width/2-n&&(e.x-=j.width-2*n),e.x<-j.width/2+n&&(e.x+=j.width-2*n),e.y>j.height/2-n&&(e.y-=j.height-2*n),e.y<-j.height/2+n&&(e.y+=j.height-2*n),e.add(this.pos)}applyForce(a){const n=a.copy().div(this.mass);this.acc.add(n)}friction(a=.1){let n=j.min(a,1);n*=this.vel.mag()-this.accumulatedFrictionMag,this.accumulatedFrictionMag+=n}applyAccumulatedFriction(){const a=this.vel.copy();a.normalize(),a.mult(-1),a.setMag(this.accumulatedFrictionMag*this.mass),this.applyForce(a)}drag(a=1){const n=this.vel.copy();n.normalize(),n.mult(-1);const e=this.vel.mag(),g=.1;n.setMag(a*g*e*e),this.applyForce(n)}getDesire(a){const n=dt.Vector.sub(a,this.pos);return n.setMag(this.desiredSpeed),n}seek(a){const n=this.getDesire(a);return n.sub(this.vel),n.limit(this.maxForce),n}arrive(a){const n=this.getDesire(a),e=j.dist(this.pos.x,this.pos.y,a.x,a.y);return e<200&&n.setMag(j.map(e,0,200,0,this.desiredSpeed)),n.sub(this.vel),n.limit(this.maxForce),n}flee(a){const n=this.getDesire(a).mult(-1);return n.sub(this.vel),n.limit(this.maxForce),n}pursue(a){return Vt(this.pos,a.pos)>a.futurePos.mag()**2?this.seek(this.findPositionThroughEdges(a.futurePos,100)):this.seek(this.findPositionThroughEdges(a.pos,100))}evade(a){return Vt(this.pos,a.pos)>a.futurePos.mag()**2?this.flee(this.findPositionThroughEdges(a.futurePos,100)):this.flee(this.findPositionThroughEdges(a.pos,100))}catch(a){this.size/2+a.size/2>j.dist(a.pos.x,a.pos.y,this.pos.x,this.pos.y)&&(this.hp=j.min(this.maxHp,this.hp+80),a.hp-=80,a.pos.x=j.random(j.width),a.pos.y=j.random(j.height),a.die())}takeDamage(a){this.applyStatusEffects("ON_TAKE_DAMAGE",{damage:a}),this.armor&&(a=this.armor.reduceDamage(a),this.checkArmor()),this.hp-=a.amount,this.hp<=0&&this.die()}getHeal(a){this.hp=j.min(this.maxHp,this.hp+a)}die(){this.dead||(this.dead=!0,this.applyStatusEffects("ON_DEATH"))}reachedMaou(){}getCurrentTile(){const a=Ce.getHexVectorFromXY(this.pos.x,this.pos.y);return Ce.rqVectorIsOnGrid(a)?Ce.grid[a.x][a.y]:(this.outOfBoundsCheckAndCorrection(),this.getCurrentTile())}detectCollisions(){const a=this.getCurrentTile();if(a===void 0)return;const n=Ce.getNeighbors(a.r,a.q);a.isSpawn;for(const e of[...n,a])if((e.wall||e.isSpawn)&&Vt(this.pos,e.pos)<(this.radius+e.collisionRadius)**2){const g=dt.Vector.sub(this.pos,e.pos),h=g.angleBetween(this.vel),p=dt.Vector.fromAngle(g.heading()+(j.PI-h));p.setMag(this.vel.mag()*1),this.vel.set(p),g.setMag(this.radius+e.collisionRadius),g.add(e.pos),this.pos.set(g);const t=e.onCollision();t!==null&&this.takeDamage(t)}}detectDrowning(){const a=this.getCurrentTile();a===void 0||!a.canWaterTower||this.drown()}drown(){this.takeDamage(new yr("DROWN",this.maxHp/200)),this.friction(.15)}outOfBoundsCheckAndCorrection(){const a=Ce.getHexVectorFromXY(this.pos.x,this.pos.y);Ce.rqVectorIsOnGrid(a)||(this.pos=this.prevPos.copy(),this.vel=j.createVector(0,0))}readPathField(a,n=this.currentFlowField){return a.data[n]?(Vt(this.pos,a.pos)<(a.collisionRadius-this.radius)**2&&(this.pathGoal=a.data[n]),this.pathGoal||(this.pathGoal=a.data[n]),this.pathGoal.pos):a.pos}followPathField(a,n=this.currentFlowField){if(this.tryTeleport(a,n))return;const g=this.readPathField(a,n),h=this.seek(g);this.applyForce(h)}tryTeleport(a,n=this.currentFlowField){if(!a.isTeleporter||!a.data[n]||!a.data[n].isTeleporter)return!1;const e=dt.Vector.sub(this.pos,a.pos),g=dt.Vector.add(a.data[n].pos,e);return this.pos=g,this.pathGoal=a.data[n].data[n],!0}getTarget(a=Gs){const n=a.inRangeCircle(this.pos,this.visionRadius);if(n.length<1)return;let e=0,g=99999;for(let h=0;h<n.length;h++){const p=Vt(n[h].pos,this.pos);p<g&&(g=p,e=h)}return n[e]}seekTargetWithoutApplyForce(a){const n=this.getCurrentTile(),e=a.getCurrentTile();let g=this.seek(a.pos);if(n!==e){const h=Ce.aStar(n.r,n.q,e.r,e.q);g=this.seek(h[h.length-2].pos)}return g}seekTarget(a){this.applyForce(this.seekTargetWithoutApplyForce(a))}followPathAndSeekTarget(a,n,e=this.currentFlowField){const g=this.readPathField(n,e),h=this.seek(g),p=this.seekTargetWithoutApplyForce(a),t=dt.Vector.add(h,p);t.limit(this.maxForce),this.applyForce(t)}tryAttack(a){this.attackCurrentCooldown--,a!==void 0&&(this.attackCurrentCooldown>0||Vt(this.pos,a.pos)>(gr/2+this.attackRadius)**2||(this.attack(a),this.attackCurrentCooldown=this.attackCooldown))}attack(a){a.takeDamage(new yr("PHYSICAL",this.damage))}checkAndApplyRage(){this.rageTimer--,this.rageTimer<1&&(this.rageTimer=this.rageTimerOnRefresh,this.rage++,this.multiplicativeMaxForceBuffs.push(this.rageForceIncreasePercent),this.recalcMaxForceBuffs())}addArmor(a){this.armor=a,this.mass+=a.weight,this.baseMass+=a.weight}removeArmor(){this.armor!==null&&(this.mass-=this.armor.weight,this.baseMass-=this.armor.weight,this.armor=null)}checkArmor(){this.armor!==null&&this.armor.hp<=0&&this.removeArmor()}recalcMaxForceBuffs(){this.maxForce=this.baseMaxForce;for(const a of this.additiveMaxForceBuffs)this.maxForce+=a;for(const a of this.multiplicativeMaxForceBuffs)this.maxForce*=a}}class i0 extends us{constructor(n,e,g,h={}){super(n,e,h.gridR??0,h.gridQ??0,g,{color:j.color(Nr),...h});q(this,"flat");q(this,"exitDir");q(this,"unitSize");this.flat=h.flat??!1,this.exitDir=h.exitDir??this.flat?-j.PI/6:0,this.unitSize=h.unitSize??20}spawnUnit(n={}){const e=new Er(this.pos.x,this.pos.y,this.unitSize,{color:n.color??lo(n.color),...n});return e.vel=dt.Vector.fromAngle(this.exitDir,0),e}spawnUnitViaWaveReader(n){return n.vel=dt.Vector.fromAngle(this.exitDir,0),n}show(){j.stroke(0),j.strokeWeight(2),j.fill(this.color),ir(this.pos.x,this.pos.y,this.size,this.flat),j.ellipse(this.pos.x,this.pos.y,this.size*1.6)}update(){return!0}}const Ar=Object.freeze({name:"Berserker",discription:"The Berserker gets stronger and faster the more damage she has sustained.",hp:300,hpScaling:25,damage:40,speed:yt*1.5,force:yt*.12,attackCooldown:50,mass:1,gold:50,xp:40,baseLevel:13,rgb:kp});class a0 extends Er{constructor(a,n,e,g={}){super(a,n,e,g)}update(){const a=j.min(this.maxHp/j.max(this.hp,1),4);this.desiredSpeed=Ar.speed*a,this.maxForce=Ar.force*(a*1.5),this.attackCooldown=Ar.attackCooldown/a,super.update()}}const l0=(u,a)=>new a0(u.x,u.y,gr,{desiredSpeed:Ar.speed,maxForce:Ar.force,hp:Ar.hp+(a-Ar.baseLevel)*Ar.hpScaling,damage:Ar.damage,goldValue:j.max(Ar.gold-(a-Ar.baseLevel),1),xpValue:Ar.xp,color:j.color(Ar.rgb)}),Ht=new kn(0,0,j.windowWidth,j.windowHeight,3,7),u0=(u,a,n,e)=>{const g=n/2,h=n*(3/8);j.strokeWeight(e),j.beginShape(),j.vertex(u-g,a-h),j.quadraticVertex(u-g,a-g,u-h,a-g),j.vertex(u+h,a-g),j.quadraticVertex(u+g,a-g,u+g,a-h),j.vertex(u+g,a+h),j.quadraticVertex(u+g,a+g,u+h,a+g),j.vertex(u-h,a+g),j.quadraticVertex(u-g,a+g,u-g,a+h),j.endShape(j.CLOSE),j.strokeWeight(e*3),j.line(u-h,a-h,u+h,a+h),j.line(u+h,a-h,u-h,a+h)},Do=(u,a,n)=>{const e=n/2,g=n/8;j.push(),j.circle(u,a,n*2),j.noFill(),j.beginShape(),j.vertex(u-e,a-e),j.vertex(u+e,a-e),j.vertex(u-e,a+e),j.vertex(u+e,a+e),j.endShape(),j.line(u-g,a-(e+g),u-g,a-e),j.line(u+g,a-(e+g),u+g,a-e),j.line(u-g,a+(e+g),u-g,a+e),j.line(u+g,a+(e+g),u+g,a+e),j.pop()},c0=(u,a,n)=>{const e=n/2,g=n*(3/8),h={x:u,y:a-e},p={x:u,y:a+e},t={x:u+g,y:a-g},c={x:u-g,y:a-g};j.noFill(),j.curve(h.x,h.y-e,h.x,h.y,t.x,t.y,t.x+g,t.y-g),j.curve(t.x,t.y-e,t.x,t.y,p.x,p.y,p.x-n*3,p.y),j.curve(p.x+n*3,p.y,p.x,p.y,c.x,c.y,c.x,c.y-e),j.curve(c.x-g,c.y-g,c.x,c.y,h.x,h.y,h.x,h.y-e)};class jn{constructor(a,n,e,g,h,p,t,c={}){q(this,"origin");q(this,"pos");q(this,"prevPos");q(this,"vel");q(this,"acc");q(this,"size");q(this,"radius");q(this,"damage");q(this,"damageType");q(this,"pierce");q(this,"critChance");q(this,"critMultiplier");q(this,"statuses");q(this,"lifeSpan");q(this,"color");q(this,"alreadyHitEnemyIds");q(this,"extraDamageCalc");q(this,"extraActionOnHit");q(this,"extraActionOnMove");this.origin=a,this.pos=n.copy(),this.prevPos=n.copy(),this.vel=e.copy(),this.acc=j.createVector(0,0),this.size=g,this.radius=g/2,this.damage=h,this.damageType=p,this.pierce=c.pierce??1,this.critChance=c.critChance??0,this.critMultiplier=c.critMultiplier??2,this.statuses=c.statuses??[],this.lifeSpan=t,this.color=c.color??j.color(Rc),this.alreadyHitEnemyIds=[],this.extraDamageCalc=c.extraDamageCalc??(()=>0),this.extraActionOnHit=c.extraActionOnHit??(()=>{}),this.extraActionOnMove=c.extraActionOnMove??(()=>{})}show(){j.push();const a=this.vel.copy();a.setMag(this.size);const n=dt.Vector.add(this.pos,a.copy().mult(-.5));j.stroke(this.color),jo(n,a,2),j.pop()}showDebug(){j.stroke(this.color),j.strokeWeight(5),j.point(this.pos.x,this.pos.y)}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const a=Ht.inRangePath(this.prevPos,this.pos,this.size);for(const n of a)this.hit(n);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}applyForce(a){this.acc.add(a)}hit(a){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(a.id))return;this.alreadyHitEnemyIds.push(a.id);const n=this.damage*(j.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(a);this.updateOriginUsageDataSingle(a,n),a.takeDamage(new yr(this.damageType,n));for(let e=0;e<this.statuses.length;e++)a.applyStatus(this.statuses[e]);this.extraActionOnHit({pos:this.pos,vel:this.vel,target:a}),this.pierce--}updateOriginUsageData(a,n){this.origin.usageData.totalDamageDone+=n,this.origin.usageData.unitsHit++,this.origin.usageData.highestDamageHit<n&&(this.origin.usageData.highestDamageHit=n),n>=a.hp&&(this.origin.usageData.unitsKilled++,this.origin.usageData.overkillDamageDone+=n-a.hp)}updateOriginUsageDataSingle(a,n){this.origin.usageData.totalHits++,this.updateOriginUsageData(a,n)}updateOriginUsageDataAoe(a,n){this.origin.usageData.totalHits++;for(const e of a)this.updateOriginUsageData(e,n)}}const d0=u=>({totalDamageDone:0,totalHits:0,highestDamageHit:0,overkillDamageDone:0,unitsKilled:0,unitsHit:0,framesExists:0,totalCost:u,killsPerCost:0,damagePerCost:0,killsPerFrame:0,damagePerFrame:0,killsPerCostPerFrame:0,damagePerCoastPerFrame:0}),h0=u=>{u.killsPerCost=j.round(u.unitsKilled/u.totalCost,2),u.damagePerCost=j.round(u.totalDamageDone/u.totalCost,2),u.killsPerFrame=j.round(u.unitsKilled/u.framesExists,2),u.damagePerFrame=j.round(u.totalDamageDone/u.framesExists,2),u.killsPerCostPerFrame=j.round(u.unitsKilled/u.totalCost/u.framesExists,2),u.damagePerCoastPerFrame=j.round(u.totalDamageDone/u.totalCost/u.framesExists,2)};var bn=(u=>(u[u.CLOSEST=0]="CLOSEST",u[u.FURTHEST=1]="FURTHEST",u[u.FIRST=2]="FIRST",u[u.LAST=3]="LAST",u[u.STRONGEST=4]="STRONGEST",u[u.WEAKEST=5]="WEAKEST",u))(bn||{});const f0={name:"Closest",description:"Target the enemy closest to the tower.",function:(u,a)=>{let n=0,e=99999;for(let g=0;g<a.length;g++){const h=Vt(a[g].pos,u);h<e&&(e=h,n=g)}return a[n]}},p0={name:"Furthest",description:"Target the enemy furthest from the tower.",function:(u,a)=>{let n=0,e=0;for(let g=0;g<a.length;g++){const h=Vt(a[g].pos,u);h>e&&(e=h,n=g)}return a[n]}},m0={name:"First",description:"Target the enemy closest to reaching the base.",function:(u,a)=>{let n=0,e=99999;for(let g=0;g<a.length;g++){const h=a[g].getCurrentTile();h.data.floodSteps<e&&(e=h.data.floodSteps,n=g)}return a[n]}},g0={name:"Last",description:"Target the enemy closest to the spawn.",function:(u,a)=>{let n=0,e=0;for(let g=0;g<a.length;g++){const h=a[g].getCurrentTile();h.data.floodSteps>e&&(e=h.data.floodSteps,n=g)}return a[n]}},y0={name:"Strongest",description:"Target the strongest enemy.",function:(u,a)=>{let n=0,e=0;for(let g=0;g<a.length;g++){const h=a[g].hp;e<h&&(e=h,n=g)}return a[n]}},v0={name:"Weakest",description:"Target the weakest enemy.",function:(u,a)=>{let n=0,e=99999999;for(let g=0;g<a.length;g++){const h=a[g].hp;e>h&&(e=h,n=g)}return a[n]}},Wa={[0]:f0,[1]:p0,[2]:m0,[3]:g0,[4]:y0,[5]:v0};class pn extends us{constructor(n,e,g,h,p,t,c,d,m,f,o,r){super(n,e,g,h,p,{color:j.color(jc),...r});q(this,"range");q(this,"baseRange");q(this,"rangeBuffsAdditive");q(this,"rangeBuffsMultiplicative");q(this,"name");q(this,"cooldown");q(this,"baseCooldown");q(this,"cooldownBuffsAdditive");q(this,"currentCooldown");q(this,"cost");q(this,"spendValue");q(this,"damage");q(this,"baseDamage");q(this,"damageBuffsMultiplicative");q(this,"projectileSpeed");q(this,"projectilePierce");q(this,"projectileSize");q(this,"projectileNumber");q(this,"critChance");q(this,"critMultiplier");q(this,"lastShotAngle");q(this,"targetingType");q(this,"availableTargetingTypes");q(this,"upgradesPurchased");q(this,"purchasedUpgrades");q(this,"upgrades");q(this,"projectileColor");q(this,"ultimate");q(this,"ultCooldown");q(this,"ultCurrentCooldown");q(this,"extraActionsOnHit");q(this,"extraActionsOnMove");q(this,"buffsThisApplied");q(this,"usageData");this.name=t,this.range=c,this.baseRange=c,this.rangeBuffsAdditive=[],this.rangeBuffsMultiplicative=[],this.cooldown=f,this.baseCooldown=f,this.cooldownBuffsAdditive=[],this.currentCooldown=f,this.cost=o,this.spendValue=r.spendValue??o,this.damage=d,this.baseDamage=d,this.damageBuffsMultiplicative=[],this.projectileSpeed=m,this.critChance=r.critChance??0,this.critMultiplier=r.critMultiplier??1,this.projectilePierce=r.projectilePierce??1,this.projectileColor=r.projectileColor??j.color(Rc),this.projectileSize=r.projectileSize??He*(2/3),this.projectileNumber=1,this.lastShotAngle=0,this.targetingType=bn.CLOSEST,this.availableTargetingTypes=[bn.CLOSEST,bn.FURTHEST,bn.FIRST,bn.LAST,bn.STRONGEST,bn.WEAKEST],this.upgradesPurchased=0,this.ultimate=()=>{},this.ultCooldown=0,this.ultCurrentCooldown=0,this.purchasedUpgrades=[],this.upgrades=r.upgrades,this.extraActionsOnHit=[],this.extraActionsOnMove=[],this.buffsThisApplied=[],this.usageData=d0(r.spendValue??o)}show(n=this.pos){j.push(),j.stroke(0),j.strokeWeight(2),j.fill(this.color),ir(n.x,n.y,this.size),this.upgradesPurchased>3&&(j.strokeWeight(1),ir(n.x,n.y,this.size-3),this.upgradesPurchased>7&&(j.stroke(0),ir(n.x,n.y,this.size-6))),this.showSymbol(n),this.shouldShowUltCooldown(),j.pop()}showSymbol(n=this.pos){}shouldShowUltCooldown(){}showUltCooldown(){if(this.ultCurrentCooldown<=0){let h=this.ultCurrentCooldown*-1%100;h>50&&(h=100-h),h/=50,j.push(),j.noFill(),j.strokeWeight(2),j.stroke(Bc(Fs,Tr,h)),ir(this.pos.x,this.pos.y,this.size-1),j.pop();return}const n=(this.ultCooldown-this.ultCurrentCooldown)/this.ultCooldown*6,e=j.floor(n),g=n%1;j.push(),j.noFill(),j.strokeWeight(2),j.stroke(Fs),Qp(this.pos.x,this.pos.y,this.size-1,e,g),j.pop()}applyBuff(n){n.onApply(this),this.buffs.push(n)}applyTimedBuff(n){n.onApply(this),this.timedBuffs.push(n)}applyAllMyBuffs(){for(const n of this.buffs)n.onApply(this)}removeBuff(n){for(let e=0;e<this.buffs.length;e++)if(this.buffs[e].id===n){this.buffs[e].onRemove(this),this.buffs.splice(e,1);return}}recalcCooldownBuffs(){this.cooldown=this.baseCooldown;for(const n of this.cooldownBuffsAdditive)this.cooldown+=n}recalcRangeBuffs(){this.range=this.baseRange;for(const n of this.rangeBuffsAdditive)this.range+=n;for(const n of this.rangeBuffsMultiplicative)this.range*=n}recalcDamageBuffs(){this.damage=this.baseDamage;for(const n of this.damageBuffsMultiplicative)this.damage*=n}showRange(){if(this.range>0){const n=lo(this.color);n.setAlpha(100),j.fill(n),j.circle(this.pos.x,this.pos.y,this.range*2)}}update(){return this.currentCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.ultCurrentCooldown--,this.handleBuffs(),this.usageData.framesExists++,!0}handleBuffs(){for(let n=this.timedBuffs.length-1;n>=0;n--){const e=this.timedBuffs[n];e.duration--,e.duration<=0&&(e.onRemove(this),this.timedBuffs.splice(n,1))}}castUlt(){this.ultCurrentCooldown>0||(this.ultCurrentCooldown=this.ultCooldown,this.ultimate())}getDamage(){return this.damage}baseShoot(){const n=Ht.inRangeCircle(this.pos,this.range);if(n.length<1)return;const e=Wa[this.targetingType].function(this.pos,n),g=this.range/this.projectileSpeed,h=e.pos.copy();for(let c=1;c<=g&&(h.add(e.vel),!(Vt(h,this.pos)<(this.projectileSpeed*c)**2));c++);const p=dt.Vector.sub(h,this.pos);return p.setMag(this.projectileSpeed),new jn(this,this.pos.copy(),p,10,this.getDamage(),"PHYSICAL",g,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier})}shoot(){const n=this.baseShoot();return n===void 0?!1:(this.lastShotAngle=n.vel.heading(),st.addProjectile(n),!0)}purchaseUpgrade(n){const e=j.round(n.cost*nr.TOWER_COST_MOD);if(!(st.gold<e)){st.gold-=e,n.onPurchase(this),n.purchased=!0,this.purchasedUpgrades.push(n.id);for(const g in this.upgrades){const h=this.upgrades[g];h.available=h.isAvailable(this.purchasedUpgrades)}this.spendValue+=e,this.usageData.totalCost+=e,this.upgradesPurchased++}}changeRange(n){this.range+=n,this.onRangeChange()}onRangeChange(){}onSell(){}increaseDamage(n){this.damage+=n,this.baseDamage+=n,this.recalcDamageBuffs()}increaseRange(n){this.range+=n,this.baseRange+=n,this.recalcRangeBuffs()}}class Oe{constructor(a,n,e,g,h,p=!1){q(this,"id");q(this,"name");q(this,"cost");q(this,"description");q(this,"onPurchase");q(this,"available");q(this,"purchased");this.id=a,this.name=n,this.cost=e,this.description=g,this.onPurchase=h,this.available=p,this.purchased=!1}isAvailable(a){if(this.purchased||a.length>7)return!1;switch(this.id){case"A":case"B":case"C":return!0;case"A+":return a.includes("A");case"B+":return a.includes("B");case"C+":return a.includes("C");case"AB":return a.includes("A")&&a.includes("B");case"BC":return a.includes("B")&&a.includes("C");case"CA":return a.includes("C")&&a.includes("A");case"AB+":return a.includes("AB")||a.includes("A+")&&a.includes("B+");case"BC+":return a.includes("BC")||a.includes("B+")&&a.includes("C+");case"CA+":return a.includes("CA")||a.includes("C+")&&a.includes("A+");case"AB++":return a.includes("AB+");case"BC++":return a.includes("BC+");case"CA++":return a.includes("CA+");default:return!1}}}const Uc=(u,a,n,e=j)=>{const g=[];for(let h=0;h<8;h++){const p=e.PI/4*h;g.push(e.createVector(e.cos(p)*n,e.sin(p)*n))}e.noFill(),e.strokeWeight(1);for(let h=1;h<4;h++){e.beginShape();for(const p of g)h===1&&e.line(u,a,u+p.x,a+p.y),p.setMag(n*.3*h),e.vertex(u+p.x,a+p.y);e.endShape(e.CLOSE)}},b0=(u,a,n,e,g=j)=>{const h=dt.Vector.fromAngle(n);h.setMag(a/2);const p=dt.Vector.fromAngle(n);p.setMag(a),g.push(),g.beginShape(),g.vertex(u.x,u.y);const t=dt.Vector.add(u,h);g.vertex(t.x,t.y),p.rotate(e),t.add(p),g.vertex(t.x,t.y),p.rotate(e).mult(.5),t.add(p),g.vertex(t.x,t.y),p.rotate(g.PI*1.02),t.add(p),g.vertex(t.x,t.y),p.rotate(-e).mult(2),t.add(p),g.vertex(t.x,t.y),p.rotate(-e).mult(.5),t.add(p),g.vertex(t.x,t.y),g.endShape(g.CLOSE),g.pop()},ri=(u,a,n,e=!0,g=j,h=Nr,p=0,t=8)=>{const c=n*.4,d=n/10,m=n*(3/5),f=c*2;g.push(),g.translate(u,a),g.rotate(p),g.noStroke();for(let o=0;o<2;o++)for(let r=-4;r<7;r+=3){if(t<=0)continue;const s=o*(j.PI-2*r*j.PI*.05)+r*j.PI*.05,i=g.createVector(g.cos(s)*c,g.sin(s)*c);let l=-g.PI/5;r>0&&(l*=-1),o>0&&(l*=-1),b0(i,f,s,l,g),t--}g.circle(0,-m,m),g.circle(0,0,n),g.fill(h),g.circle(-d,-f,d),g.circle(d,-f,d),e&&(g.stroke(Tr),g.strokeWeight(1),Uc(0,0,c,g)),g.pop()};class w0 extends jn{constructor(n,e,g,h,p,t,c,d,m,f,o={}){super(n,e,g,h,p,t,c,o);q(this,"hexes");q(this,"frictionSlow");q(this,"corrosion");this.pierce=d,this.hexes=m,this.frictionSlow=f,this.color=o.color??j.color(Tr),this.corrosion=o.corrosion??0}show(){j.push(),j.stroke(this.color);for(const n of this.hexes)Uc(n.pos.x,n.pos.y,n.size);j.pop()}update(){const n=[];for(const e of this.hexes){const g=Ht.inRangeCircle(e.pos,e.size);n.push(...g)}n.length>0&&this.origin.usageData.totalHits++;for(const e of n){if(this.pierce<1)break;for(const g of this.statuses)e.applyStatus(g,!0);this.updateOriginUsageData(e,this.damage),e.takeDamage(new yr(this.damageType,this.damage)),e.friction(this.frictionSlow),this.pierce--}return this.pierce-=this.corrosion,this.pierce<1}}class x0 extends Er{constructor(n,e,g,h={}){super(n,e,g,{...h,otherDifficulty:un});q(this,"hpLossPerFrame");this.hpLossPerFrame=h.hpLossPerFrame??.1}update(){this.hp-=this.hpLossPerFrame;const n=this.getTarget(Ht);return n!==void 0?this.seekTarget(n):this.friction(.01),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.pos),this.acc.mult(0),this.accumulatedFrictionMag=0,this.detectCollisions(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(n),this.hp<=0&&this.die(),this.hp<=0}show(){j.push(),j.fill(this.color),j.circle(this.pos.x,this.pos.y,this.size),j.pop()}}class _0 extends x0{constructor(a,n,e,g={}){super(a,n,e,g)}show(){const a=this.vel.heading()+j.PI/2;j.push(),j.fill(this.color),ri(this.pos.x,this.pos.y,this.size,!1,j,Nr,a,j.ceil(this.hp/this.maxHp*10)),j.pop()}}const Fc=(u,a={})=>new _0(u.x,u.y,gr*.4,{desiredSpeed:yt*2,maxForce:yt*.2,hp:a.hp??100,hpLossPerFrame:a.hpLoss??.1,damage:a.damage??10,mass:1,goldValue:0,color:j.color(a.color??Ft),visionRadius:a.vision??He*5,attackRadius:a.attackRadius??gr/2,attackCooldown:a.attackCooldown??20});class Qr{constructor(a,n,e,g,h,p,t){q(this,"name");q(this,"timing");q(this,"duration");q(this,"effect");q(this,"show");q(this,"onApply");q(this,"onRemoval");this.name=a,this.duration=n,this.timing=e,this.effect=g,this.show=h,this.onApply=p??(()=>{}),this.onRemoval=t??(()=>{})}effectUnit(a,n,e){this.effect(a,n,e)}copy(){return new Qr(this.name,this.duration,this.timing,this.effect,this.show,this.onApply,this.onRemoval)}}const S0=(u=.25,a={},n="spider food")=>new Qr(n,2,"ON_DEATH",e=>{j.random()<u&&st.addMinion(Fc(e.pos,a))},(e,g)=>{j.fill(Ft),ri(g.x,g.y,e.size/3)},e=>{},e=>{}),Zt=Object.freeze({name:"Arachne",description:"Arachne",hotkey:"w",keycode:87,range:1,cooldown:450,cost:600,damage:0,projectileSpeed:0,towerType:"NORMAL",rgb:Tr,webDurability:1e3,webSlow:.25,spiderlingCooldown:250,spiderlingOnDeathChance:.2,spiderlingHp:100,spiderlingDamage:10,spiderlingHpDecay:.1,rareSpiderlingChance:0,rareSpiderlingHp:2e3,rareSpiderlingDamage:100,rareSpiderlingHpDecay:.01,showSymbol:(u,a,n={})=>{j.push(),j.fill(Ft),ri(u.x,u.y,a*.7,!1),j.pop()}});class j0 extends pn{constructor(n,e,g,h,p,t,c,d,m,f,o,r,s){super(n,e,g,h,p,Zt.name,t,c,d,m,f,s);q(this,"webDurability");q(this,"webSlow");q(this,"activeWeb");q(this,"corrosion");q(this,"spiderlingCooldown");q(this,"currentSpiderlingCooldown");q(this,"spiderlingOnDeathChance");q(this,"spiderlingHp");q(this,"spiderlingDamage");q(this,"spiderlingBaseDamage");q(this,"spiderlingHpDecay");q(this,"rareSpiderlingChance");q(this,"rareSpiderlingHp");q(this,"rareSpiderlingDamage");q(this,"rareSpiderlingBaseDamage");q(this,"rareSpiderlingHpDecay");q(this,"getWebProjectile",(n,e=this.corrosion)=>{const g=this.getStatuses();return new w0(this,this.pos,j.createVector(0,0),this.size,this.damage,"PHYSICAL",this.webDurability,this.webDurability,n,this.webSlow,{color:this.projectileColor,corrosion:e,statuses:g})});this.webDurability=o,this.webSlow=r,this.activeWeb=null,this.corrosion=0,this.spiderlingCooldown=Zt.spiderlingCooldown,this.currentSpiderlingCooldown=Zt.spiderlingCooldown,this.spiderlingOnDeathChance=Zt.spiderlingOnDeathChance,this.spiderlingHp=Zt.spiderlingHp,this.spiderlingDamage=Zt.spiderlingDamage,this.spiderlingBaseDamage=Zt.spiderlingDamage,this.spiderlingHpDecay=Zt.spiderlingHpDecay,this.rareSpiderlingChance=Zt.rareSpiderlingChance,this.rareSpiderlingHp=Zt.rareSpiderlingHp,this.rareSpiderlingDamage=Zt.rareSpiderlingDamage,this.rareSpiderlingBaseDamage=Zt.rareSpiderlingDamage,this.rareSpiderlingHpDecay=Zt.rareSpiderlingHpDecay}showSymbol(n=this.pos){j.push(),j.fill(Ft),ri(n.x,n.y,this.size*.7,!1),j.pop()}showRange(){const n=lo(this.color);n.setAlpha(100),j.fill(n),j.circle(this.pos.x,this.pos.y,this.range*4*this.size)}update(){return this.activeWeb===null?(this.currentCooldown--,this.currentCooldown<=0&&(this.shoot(),this.currentCooldown=this.cooldown)):this.activeWeb.pierce<=0&&(this.activeWeb=null),this.ultCurrentCooldown--,this.spiderling(),this.handleBuffs(),this.usageData.framesExists++,!0}spiderling(){}spawnSpiderling(){const n=[];for(const h of Ce.getNeighborsArea(this.r,this.q,this.range))h.canUnit&&n.push(h);const e=j.random(n),g=Fc(e.pos,this.getSpiderlingOptions());st.addMinion(g)}getSpiderlingOptions(){const n=j.random()<this.rareSpiderlingChance;return{damage:n?this.rareSpiderlingDamage:this.spiderlingDamage,hp:n?this.rareSpiderlingHp:this.spiderlingHp,hpLoss:n?this.rareSpiderlingHpDecay:this.spiderlingHpDecay,color:n?Nr:Ft}}shoot(){const n=Ce.getNeighborsArea(this.r,this.q,this.range);for(let g=n.length-1;g>=0;g--)n[g].wall&&n.splice(g,1);const e=this.getWebProjectile(n);return this.activeWeb=e,st.addProjectile(e),!0}getStatuses(){return[]}getSpiderFood(){return S0(this.spiderlingOnDeathChance,this.getSpiderlingOptions())}recalcDamageBuffs(){super.recalcDamageBuffs(),this.spiderlingDamage=this.spiderlingBaseDamage,this.rareSpiderlingDamage=this.rareSpiderlingBaseDamage;for(const n of this.damageBuffsMultiplicative)this.spiderlingDamage*=n,this.rareSpiderlingDamage*=n}recalcRangeBuffs(){this.range=this.baseRange;for(const n of this.rangeBuffsAdditive)this.range+=n/He;for(const n of this.rangeBuffsMultiplicative)this.damage*=n;this.range=j.round(this.range)}}const T0=(u,a={})=>new j0(u.pos.x,u.pos.y,u.r,u.q,u.size,Zt.range,Zt.damage,Zt.projectileSpeed,Zt.cooldown,Zt.cost,Zt.webDurability,Zt.webSlow,{color:j.color(Zt.rgb),projectileColor:j.color(Tr),wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:a.changedCost??Zt.cost,upgrades:{A:new Oe("A","Stickier webs",600,"Stickier webs slow enemies down even more.",n=>{n.webSlow+=.1},!0),B:new Oe("B","Steel thread",400,"Makes your web more durable.",n=>{n.webDurability+=900},!0),C:new Oe("C","Spinning talent",800,"Spin new webs faster.",n=>{n.cooldown-=150,n.baseCooldown-=150},!0),"A+":new Oe("A+","Nether glue",1400,"Magic infused glue makes webs unnaturally sticky.",n=>{n.webSlow+=.15}),"B+":new Oe("B+","Titanium thread",1500,"Makes your web way more durable.",n=>{n.webDurability+=1500}),"C+":new Oe("C+","Spinning prodigy",1700,"Spin new webs at top speed.",n=>{n.cooldown-=150,n.baseCooldown-=150}),AB:new Oe("AB","Spiky silk",1300,"How can silk be spiky?",n=>{n.increaseDamage(1)}),BC:new Oe("BC","Great web",1e3,"Make your web even larger.",n=>{n.range+=1,n.baseRange+=1}),CA:new Oe("CA","Spiderlings",1200,"The Arachne gives birth to spiderlings who damage and distract heroes.",n=>{n.spiderling=()=>{n.currentSpiderlingCooldown--,n.currentSpiderlingCooldown<=0&&(n.currentSpiderlingCooldown=n.spiderlingCooldown,n.spawnSpiderling())}}),"AB+":new Oe("AB+","Suffocating silk",2200,"Hope you don't have claustrophobia, or arachnophobia... Increases damage",n=>{n.increaseDamage(3)}),"BC+":new Oe("BC+","Greatest web",1500,"Spin your web between mountains.",n=>{n.range+=1,n.baseRange+=1}),"CA+":new Oe("CA+","Brood Parasite",2e3,"Nope nope nope nope nope nope nope nope nope nope nope. (Has a chance to birth a spiderling when a hero dies in the arachnes web)",n=>{n.getStatuses=()=>[n.getSpiderFood()]}),"AB++":new Oe("AB++","Corrosive silk",6600,"Silk corrodes away enemies and the web alike.",n=>{n.increaseDamage(16),n.projectileColor=j.color(Mp),n.corrosion=5}),"BC++":new Oe("BC++","World wide web (Ability)",7500,"The entire world is my domain.",n=>{n.ultCooldown=Ua,n.ultCurrentCooldown=n.ultCooldown,n.ultimate=()=>{const e=Ce.getAllTiles(!1);for(let g=e.length-1;g>=0;g--){const h=n.getWebProjectile([e[g]],n.corrosion+5);st.addProjectile(h)}},n.shouldShowUltCooldown=()=>{n.showUltCooldown()}}),"CA++":new Oe("CA++","One Big Happy Family",6660,"These spiderlings were all raised with love and care, and only a minimal amount of cannibalism. Spawn more and stronger spiderlings, as well as rare super spiderlings every now and then. Motherhood is so fulfilling.",n=>{n.spiderlingCooldown-=100,n.spiderlingOnDeathChance+=.25,n.spiderlingHp+=150,n.spiderlingDamage+=15,n.spiderlingBaseDamage+=15,n.rareSpiderlingChance+=.01})}}),E0=0,C0=1,Nc=(u,a,n,e=E0,g=C0)=>{j.push(),j.translate(u,a),j.rotate(e);const h=n/2,p={x:0,y:-h},t={x:0,y:h},c=j.createVector(-n/4,0),d=j.createVector(n*(5/6),0);j.strokeWeight(g),j.noFill(),j.line(p.x,p.y,t.x,t.y),jo(c,d,g*1.5),j.strokeWeight(g*2),j.curve(p.x-2.5*n,p.y,p.x,p.y,t.x,t.y,t.x-2.5*n,t.y),j.pop()},wn=Object.freeze({name:"Archer",description:"",hotkey:"a",keycode:65,range:He*6,cooldown:150,cost:200,damage:25,projectileSpeed:yt*10,towerType:"NORMAL",rgb:Dp,showSymbol:(u,a,n={angle:0})=>{Nc(u.x,u.y,a,n.angle,1)}});class M0 extends pn{constructor(n,e,g,h,p,t,c,d,m,f,o){super(n,e,g,h,p,wn.name,t,c,d,m,f,o);q(this,"arrowNumber");this.arrowNumber=1}showSymbol(n=this.pos){Nc(n.x,n.y,this.size,this.lastShotAngle,1)}shoot(){const n=this.baseShoot();if(n===void 0)return!1;const e=j.floor(this.arrowNumber/2)*-1;this.lastShotAngle=n.vel.heading();const g=j.PI/9;for(let h=e;h<e+this.arrowNumber;h++){const p=this.lastShotAngle+h*g,t=dt.Vector.fromAngle(p);t.setMag(n.vel.mag());const c=[];for(let m=0;m<n.statuses.length;m++)c.push(n.statuses[m].copy());const d=new jn(this,this.pos.copy(),t,n.size,n.damage,"PHYSICAL",n.lifeSpan,{color:this.projectileColor,pierce:n.pierce,critChance:n.critChance,critMultiplier:n.critMultiplier,statuses:c});st.addProjectile(d)}return!0}}const A0=(u,a={})=>new M0(u.pos.x,u.pos.y,u.r,u.q,u.size,wn.range,wn.damage,wn.projectileSpeed,wn.cooldown,wn.cost,{color:j.color(wn.rgb),wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:a.changedCost??wn.cost,upgrades:{A:new Oe("A","Sharper Arrows",150,"Even sharper arrows deal more damage.",n=>{n.increaseDamage(15)},!0),B:new Oe("B","Sunglasses",100,"You'd think the protection from the sun gives this archer a range increase, but it's really the confidence boost.",n=>{n.range+=He,n.baseRange+=He},!0),C:new Oe("C","Faster firing",300,"Shorter cooldown between arrows.",n=>{n.cooldown-=40,n.baseCooldown-=40},!0),"A+":new Oe("A+","Dark Arrows",700,"Arrows made from metal mined deep in the underworld. They deal alot more damage",n=>{n.increaseDamage(35),n.projectileColor=j.color(Fp)}),"B+":new Oe("B+","Scope",500,"How do you put a scope on a bow? Doesn't matter, more range.",n=>{n.range+=He*2,n.baseRange+=He*2}),"C+":new Oe("C+","Faster firing festival",750,"Gotta go fast.",n=>{n.cooldown-=40,n.baseCooldown-=40}),AB:new Oe("AB","Aimed shot",150,"Until now, aiming was more of a suggestion... Faster projectiles",n=>{n.projectileSpeed+=yt*10}),BC:new Oe("BC","Triple shot",700,"Trying to emulate some cool moves you saw eh.",n=>{n.arrowNumber+=2}),CA:new Oe("CA","Line em up",250,"Three birds one arrow.",n=>{n.projectilePierce+=2}),"AB+":new Oe("AB+","Great shot",1600,"Faster, further, friendlier, if by that you mean deadlier.",n=>{n.projectileSpeed+=yt*10,n.increaseDamage(25),n.range+=He,n.baseRange+=He}),"BC+":new Oe("BC+","More arrows",1e3,"More arrows more better.",n=>{n.arrowNumber+=2}),"CA+":new Oe("CA+","Spot Weakspot",500,"Hit them in their weakspot for critical damage.",n=>{n.critChance+=.2,n.critMultiplier+=1}),"AB++":new Oe("AB++","Charged shot",3250,"Even more powerful shot, deal bonus damage based on the time since the last shot.",n=>{n.increaseDamage(50),n.getDamage=()=>{const e=-n.currentCooldown+n.cooldown;return n.damage+e}}),"BC++":new Oe("BC++","Blot out the sun",3e3,"Let them fight in the shadow.",n=>{n.arrowNumber+=13}),"CA++":new Oe("CA++","Luck is also a skill",1900,"Rely entirely on luck for those nice and big numbers.",n=>{n.critChance+=.2,n.critMultiplier+=2,n.projectilePierce+=1})}});class ho{constructor(a,n,e,g,h,p,t){q(this,"name");q(this,"id");q(this,"duration");q(this,"onApply");q(this,"onRemove");q(this,"onPurchase");q(this,"onSkillPurchase");this.name=a,this.id=t??j.random(),this.duration=p??99999,this.onApply=n,this.onRemove=e,this.onPurchase=g,this.onSkillPurchase=h}copy(a){return new ho(this.name,this.onApply,this.onRemove,this.onPurchase,this.onSkillPurchase,a??this.id)}}const fu=(u="FreeBarricade")=>new ho(u,a=>{},a=>{},(a,n,e)=>(e||a.name)!==hn[Ir.BARRIER].name?n:0,(a,n,e)=>n),Gc=(u,a,n,e=j)=>{const g=n/2,h=n/3,p=n/4,t=n*(3/10);e.push(),e.translate(u,a),e.stroke(Ft),e.strokeWeight(1),e.beginShape(),e.vertex(0,-g),e.quadraticVertex(h/2*1.1,-g/2*1.1,p,0),e.quadraticVertex(t,t,0,h),e.quadraticVertex(-t,t,-p,0),e.quadraticVertex(-h/2*1.1,-g/2*1.1,0,-g),e.endShape(),e.pop()},R0=(u,a,n,e="oiled")=>new Qr(e,u,"ON_TAKE_DAMAGE",(g,h,p={damage:new yr("PHYSICAL",0)})=>{p.damage.type==="FIRE"&&(p.damage.amount*=a)},(g,h)=>{j.fill(Tr),Gc(h.x,h.y,g.size/2)},g=>{g.multiplicativeMaxForceBuffs.push(n),g.recalcMaxForceBuffs()},g=>{io(n,g.multiplicativeMaxForceBuffs),g.recalcMaxForceBuffs()}),Ci=(u,a,n)=>{const e=n/2,g=e-n/4,h=e-n/6,p=j.PI/40,t=j.PI/10;let c=0,d=0,m=!0;const f=[];for(;c<j.TWO_PI;){m?d=j.random(g,h):d=j.random(h,e);const o=u+j.cos(c)*d,r=a+j.sin(c)*d;f.push(j.createVector(o,r)),c+=j.random(p,t),m=!m}return f},Mi=(u,a=j)=>{a.push(),a.noStroke(),a.beginShape();for(const n of u)a.vertex(n.x,n.y);a.endShape(a.CLOSE),a.pop()};class Oo{constructor(a,n,e,g,h,p,t,c){q(this,"duration");q(this,"color");q(this,"size");q(this,"pos");q(this,"vertices");q(this,"show");q(this,"onExpire");q(this,"vel");this.pos=a.copy(),this.vel=(c==null?void 0:c.copy())??j.createVector(0,0),this.size=n,this.duration=e,this.color=g,this.vertices=h,this.show=p,this.onExpire=t}update(){return this.duration--,this.show(this),this.pos.add(this.vel),this.duration<=0}}const ni=(u,a,n=5,e=j.color(Un))=>{const g=Ci(u.x,u.y,a);return new Oo(u,a,n,e,g,()=>{j.fill(e),Mi(g)},()=>{const p=Ci(u.x,u.y,a*.6666666666666666);return new Oo(u,a*(2/3),n,e,p,()=>{j.fill(e),Mi(p)},()=>{const t=Ci(u.x,u.y,a/2);return new Oo(u,a/2,n,e,t,()=>{j.fill(e),Mi(t)},()=>{})})})},uo=(u,a,n,e=0,g=1,h=j)=>{const p=n/2,t=n/3,c=n/4,d=n*(3/10);h.push(),h.translate(u,a),h.rotate(e),h.stroke(Ft),h.strokeWeight(g),h.beginShape(),h.vertex(0,-p),h.quadraticVertex(t/2*1.1,-p/2*1.1,c,0),h.quadraticVertex(d,d,0,t),h.quadraticVertex(-d,d,-c,0),h.quadraticVertex(-t/2*1.1,-p/2*1.1,0,-p),h.endShape(),h.pop()},Vc=(u,a,n,e="burn")=>new Qr(e,a,"NORMAL",h=>{h.takeDamage(new yr("FIRE",u));const p=dt.Vector.random2D().setMag(j.min(h.maxForce,h.desiredSpeed)*n);h.applyForce(p)},(h,p)=>{j.fill(Lo),uo(p.x,p.y,h.size/2)},h=>{},h=>{}),O0=(u,a,n,e=1,g=j.color(Pc))=>new Oo(u,a,e,g,[],()=>{const p=j.TWO_PI/42;let t=a,c=0,d=!0,m=[j.createVector(u.x+j.cos(c)*t,u.y+j.sin(c)*t)];j.push(),j.noStroke(),j.fill(g),j.beginShape();for(let f=0;f<42;f++){for(let o=1;o<3;o++)d?t=n:t=a,m[o]=j.createVector(u.x+j.cos(c)*t,u.y+j.sin(c)*t),d=!d,c+=p;j.triangle(m[0].x,m[0].y,m[1].x,m[1].y,m[2].x,m[2].y),m[0]=m[2]}j.endShape(j.CLOSE),j.pop()},()=>{}),P0=(u,a,n="BuildDiscount")=>new ho(n,e=>{},e=>{},(e,g,h)=>{const p=h||e.name;return a&&p!==a?g:j.ceil(g*u)},(e,g,h)=>g),k0=(u,a="TowerRangeBuffMulti")=>new ho(a,n=>{n.rangeBuffsMultiplicative.push(u),n.recalcRangeBuffs()},n=>{io(u,n.rangeBuffsMultiplicative),n.recalcRangeBuffs()},(n,e)=>e,(n,e)=>e),sr=Object.freeze({name:"Barricade",description:"",hotkey:"b",keycode:66,range:0,cooldown:200,cost:50,damage:5,oilForceDebuff:.8,oilFireBuff:1.2,oilDuration:100,burnDamage:1,burnDuration:50,burnPanicSpeedIncrease:1.5,neighborBuildDiscount:.9,neighborRangeBuffPercent:1.2,projectileSpeed:0,towerType:"NORMAL",rgb:Pc,showSymbol:(u,a)=>{}});class L0 extends pn{constructor(n,e,g,h,p,t,c,d,m,f,o){super(n,e,g,h,p,sr.name,t,c,d,m,f,o);q(this,"oilForceDebuff");q(this,"oilFireBuff");q(this,"oilDuration");q(this,"burnDamage");q(this,"baseBurnDamage");q(this,"burnDuration");q(this,"burnPanicSpeedIncrease");q(this,"neighborBuildDiscount");q(this,"neighborRangeBuffPercent");this.oilForceDebuff=sr.oilForceDebuff,this.oilFireBuff=sr.oilFireBuff,this.oilDuration=sr.oilDuration,this.burnDamage=sr.burnDamage,this.baseBurnDamage=sr.burnDamage,this.burnDuration=sr.burnDuration,this.burnPanicSpeedIncrease=sr.burnPanicSpeedIncrease,this.neighborBuildDiscount=sr.neighborBuildDiscount,this.neighborRangeBuffPercent=sr.neighborRangeBuffPercent}showSymbol(n=this.pos){}update(){return this.showSpikes(),super.update()}showSpikes(){}shoot(){return!1}getStatuses(){return[this.getOiled()]}getOiled(){return R0(this.oilDuration,this.oilFireBuff,this.oilForceDebuff)}getBurn(){return Vc(this.burnDamage,this.burnDuration,this.burnPanicSpeedIncrease)}recalcDamageBuffs(){super.recalcDamageBuffs(),this.burnDamage=this.baseBurnDamage;for(const n of this.damageBuffsMultiplicative)this.burnDamage*=n}}const pu=(u,a={})=>new L0(u.pos.x,u.pos.y,u.r,u.q,u.size,sr.range,sr.damage,sr.projectileSpeed,sr.cooldown,sr.cost,{color:j.color(sr.rgb),wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:a.changedCost??sr.cost,projectileColor:j.color(Tr),upgrades:{A:new Oe("A","Oil Vats",200,"Imps on top of the Barricade pour oil down periodically, covering those passing beneath, making them slightly less coordinated and more susceptible to fire damage.",n=>{n.increaseRange(He*1.7),n.shoot=()=>{const e=Ht.inRangeCircle(n.pos,n.range);if(e.length<1)return!1;const g=Wa[n.targetingType].function(n.pos,e),h=Ht.inRangeCircle(g.pos,He),p=n.getStatuses();for(const t of h)for(const c of p)t.applyStatus(c);return st.addVisual(ni(g.pos,He,3,n.projectileColor)),!0}},!0),B:new Oe("B","Barricraze",50,"Makes building Barricades adjecent to this one free. That's crazy!",n=>{const e=Ce.getNeighbors(n.r,n.q);for(const g of e){const h=fu();g.applyBuff(h),n.buffsThisApplied.push(h)}n.onSell=()=>{const g=Ce.getNeighbors(n.r,n.q);for(const h of n.buffsThisApplied)for(const p of g)p.removeBuff(h.id)}},!0),C:new Oe("C","Spikes",75,"Put some spikes all over the surface of the Barricade, so enemies hurt themselves if they run into it. Or if you make them do so.",n=>{n.onCollision=()=>new yr("PHYSICAL",n.damage),n.showSpikes=()=>{st.addVisual(O0(n.pos.copy(),n.size*.9,n.collisionRadius*1.2,2,j.color(Ft)))}},!0),"A+":new Oe("A+","Burning Oil",250,"The imps pour burning oil instead of regular, burning enemies instead of getting them oiled up.",n=>{n.projectileColor=j.color(Lo),n.getStatuses=()=>[n.getBurn()]}),"B+":new Oe("B+","Barricade Town",100,"Makes every new Barricade in a three tile radius free. 'Heh, this is just one small step towards the completion of my master plan.'",n=>{const e=Ce.getNeighborsArea(n.r,n.q,3);for(const g of e){const h=fu();g.applyBuff(h),n.buffsThisApplied.push(h)}n.onSell=()=>{const g=Ce.getNeighborsArea(n.r,n.q,3);for(const h of n.buffsThisApplied)for(const p of g)p.removeBuff(h.id)}}),"C+":new Oe("C+","Giant Spikes",400,"Adds rather oversized spikes to the sides of the Barricade, increasing collision damage, and slightly increases size, so those collisions happen more easily.",n=>{n.increaseDamage(5),n.collisionRadius*=1.2}),AB:new Oe("AB","Strong Foundation",150,"The strong foundation provided by the Barricade makes it cheaper to build towers adjecent to it.",n=>{const e=Ce.getNeighbors(n.r,n.q);for(const g of e){const h=P0(n.neighborBuildDiscount);g.applyBuff(h),n.buffsThisApplied.push(h)}}),BC:new Oe("BC","Rooftop Garden",0,"Still just a barrier.",n=>{}),CA:new Oe("CA","Nothing",0,"Still just a barrier.",n=>{}),"AB+":new Oe("AB+","Neighborhood Watch",350,"The vigilant imps on top of the Barricade keep watch for their entire neighborhood, slightly increasing their range. Wouldn't want any undesirables fouling up our pristine community now would we",n=>{const e=Ce.getNeighbors(n.r,n.q);for(const g of e){const h=k0(n.neighborRangeBuffPercent);g.applyBuff(h),n.buffsThisApplied.push(h)}}),"BC+":new Oe("BC+","Nothing",0,"Still just a barrier.",n=>{}),"CA+":new Oe("CA+","Nothing",0,"Still just a barrier.",n=>{}),"AB++":new Oe("AB++","Community Pool",1700,"Still just a barrier.",n=>{}),"BC++":new Oe("BC++","Great Gate",0,"Still just a barrier.",n=>{}),"CA++":new Oe("CA++","Nothing",0,"Still just a barrier.",n=>{})}}),Wc=(u,a,n,e=0,g=j)=>{const h=n/2,p=n/3,t=84,c=g.TWO_PI/t,d=6;let m=p,f=e,o=!0;g.push(),g.stroke(Ft),g.strokeWeight(1),g.beginShape();for(let r=0;r<t;r++){o?m=h:m=p;const s=u+g.cos(f)*m,i=a+g.sin(f)*m;g.vertex(s,i),r%d===0&&(o=!o),f+=c}g.endShape(g.CLOSE),g.pop()},Lr={name:"Gravi-tech Tower",description:"",hotkey:"g",keycode:71,range:He*4,cooldown:1e3,cost:1200,damage:0,projectileSpeed:6,towerType:"NORMAL",rgb:ao,attractionForce:yt*.1,capacity:5,showSymbol:(u,a,n={angle:0})=>{j.fill(kc),Wc(u.x,u.y,a,n.angle)}};class D0 extends pn{constructor(n,e,g,h,p,t,c,d,m,f,o,r,s){super(n,e,g,h,p,Lr.name,t,c,d,m,f,s);q(this,"attractionForce");q(this,"active");q(this,"capacity");this.attractionForce=o,this.capacity=r,this.active=!0}showSymbol(n=this.pos){j.push(),j.fill(kc),Wc(n.x,n.y,this.size,this.lastShotAngle),j.pop()}update(){return this.active?(this.lastShotAngle+=.03,this.shoot()):(this.currentCooldown--,this.currentCooldown<=0&&(this.currentCooldown=this.cooldown,this.active=!0)),this.handleBuffs(),this.ultCooldown--,!0}baseShoot(){const n=Ht.inRangeCircle(this.pos,this.range);if(!(n.length<1)){for(let e=0;e<n.length;e++){const g=dt.Vector.sub(this.pos,n[e].pos).setMag(this.attractionForce*n[e].mass);n[e].applyForce(g)}n.length>this.capacity&&(this.active=!1)}}shoot(){return this.baseShoot(),!0}}const I0=(u,a={})=>new D0(u.pos.x,u.pos.y,u.r,u.q,u.size,Lr.range,Lr.damage,Lr.projectileSpeed,Lr.cooldown,Lr.cost,Lr.attractionForce,Lr.capacity,{color:j.color(Lr.rgb),projectileColor:j.color(Lr.rgb),projectilePierce:100,wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:a.changedCost??Lr.cost,upgrades:{A:new Oe("A","Field stabilizer",1300,"Stabilize the gravitational field to increase it's capacity to hold units.",n=>{n.capacity+=5},!0),B:new Oe("B","Reserve cell",500,"By keeping a center gravity cell in reserve the tower can be restarted after failure twice as fast.",n=>{n.cooldown-=500,n.baseCooldown-=500},!0),C:new Oe("C","Greater field",1e3,"Affect a slightly bigger area.",n=>{n.increaseRange(He/2)},!0),"A+":new Oe("A+","Micromanage flow",4e3,"Strengthen the field in places with a lot of units by weakening parts that aren't being used, increasing capacity beyond it's limits.",n=>{n.capacity+=10}),"B+":new Oe("B+","Placeholder",0,"Gotta think of somehing.",n=>{}),"C+":new Oe("C+","Grand field",2e3,"Spread the field as far as possible without letting it collapse.",n=>{n.increaseRange(He)}),AB:new Oe("AB","Repulsion wave",0,"Gotta.",n=>{}),BC:new Oe("BC","Placeholder",0,"Gotta think of somehing.",n=>{}),CA:new Oe("CA","Placeholder",0,"Gotta think of somehing.",n=>{}),"AB+":new Oe("AB+","Placeholder",0,"Gotta think of somehing.",n=>{}),"BC+":new Oe("BC+","Placeholder",0,"Gotta think of somehing.",n=>{}),"CA+":new Oe("CA+","Placeholder",0,"Gotta think of somehing.",n=>{}),"AB++":new Oe("AB++","Placeholder",0,"Gotta think of somehing.",n=>{}),"BC++":new Oe("BC++","Placeholder",0,"Gotta think of somehing.",n=>{}),"CA++":new Oe("CA++","Placeholder",0,"Gotta think of somehing.",n=>{})}}),B0=(u,a,n)=>{const e=n/2,g=n/4;j.push(),j.rectMode(j.CENTER),j.rect(u,a,e,e),j.rect(u,a+g,n,n/15),j.pop()},Hc=(u,a,n,e=j.color(Tr))=>{const g=n/2,h=n*(1/4),p=n*(1/12),t=n*(3/4),c=n/3,d=n*(2/3),m=j.createVector(u+p,a+p),f=j.PI,o=j.createVector(m.x+j.cos(f)*p*2,m.y+j.sin(f)*p*2),r=j.createVector(m.x+j.cos(f)*p*6,m.y+j.sin(f)*p*6),s=j.PI*(3/5),i=j.createVector(m.x+j.cos(s)*h,m.y+j.sin(s)*h),l=j.PI*(11/12),v=j.createVector(m.x+j.cos(l)*p*6,m.y+j.sin(l)*p*6),w=j.PI*(5/6),x=j.createVector(m.x+j.cos(w)*d,m.y+j.sin(w)*d),_=j.PI*-4/5,E=j.createVector(m.x+j.cos(_)*p,m.y+j.sin(_)*p);j.strokeWeight(1),j.circle(m.x,m.y,g),j.beginShape(),j.vertex(o.x,o.y),j.quadraticVertex(r.x,r.y,x.x,x.y),j.quadraticVertex(v.x,v.y,i.x,i.y),j.endShape(),j.fill(ti),j.stroke(0),B0(m.x,m.y-c,t),j.fill(e),j.circle(E.x,E.y,p)},U0=-.5*j.PI,F0=j.color(jc),mu=(u,a,n)=>{const e=n/2,g=n/10,h=e-g;j.beginShape(),j.vertex(u+e,a-g),j.vertex(u-h,a-g),j.quadraticVertex(u-e,a-g,u-e,a),j.quadraticVertex(u-e,a+g,u-h,a+g),j.vertex(u+e,a+g),j.endShape(j.CLOSE)},N0=(u,a,n,e=F0,g=U0)=>{const h=n/20,p=n*(9/11),t=n/2,c=n/4;j.push(),j.translate(u,a),j.rotate(g),j.rectMode(j.CENTER),j.fill(Tr),mu(0,0,n),j.rect(t,0,h,c),j.fill(e),mu(-h,0,p),j.pop()};class gu extends jn{constructor(n,e,g,h,p,t,c,d,m,f,o,r={}){super(n,e,g,c,m,f,o,r);q(this,"showAngle");q(this,"changeAngle");q(this,"zPos");q(this,"zVel");q(this,"zAcc");q(this,"explosionRadius");this.zPos=h,this.zVel=p,this.zAcc=t,this.showAngle=-j.PI/2,this.changeAngle=j.random(-j.PI/4,j.PI/4),this.explosionRadius=d}show(){j.push(),N0(this.pos.x,this.pos.y,this.size+this.zPos/(He*.1),this.color,this.showAngle),j.pop()}update(){return this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0),this.zVel+=this.zAcc,this.zPos+=this.zVel,this.zPos<=0?(this.hit(),!0):(this.showAngle+=this.changeAngle,!1)}hit(){st.addVisual(ni(this.pos,this.explosionRadius*2,2,j.color(this.color)));const n=Ht.inRangeCircle(this.pos,this.explosionRadius);for(const e of n){if(this.pierce<=0)break;const g=this.damage*(j.random()<this.critChance?this.critMultiplier:1);e.takeDamage(new yr(this.damageType,g));for(let h=0;h<this.statuses.length;h++)e.applyStatus(this.statuses[h]);this.pierce--}}}const Yi=(u,a,n="poison")=>new Qr(n,a,"NORMAL",g=>{g.takeDamage(new yr("POISON",u))},(g,h)=>{j.fill(Ap),Gc(h.x,h.y,g.size/2)}),G0=(u,a,n,e=0,g=j)=>{const h=n/2,p=n/20,t=n/12,c=t*2;g.push(),g.translate(u,a),g.rotate(e),g.stroke(Ft),g.strokeWeight(1),g.beginShape(),g.vertex(c,-h),g.vertex(p,-t),g.vertex(c,-t),g.vertex(-c,h),g.vertex(-p,t),g.vertex(-c,t),g.endShape(g.CLOSE),g.pop()},V0=5,zc=(u,a,n,e=V0,g=j)=>{e%2==0&&(e+=1);let h=-g.PI/2;g.beginShape();for(let p=0;p<e;p++){h+=g.TWO_PI*(g.ceil(e/2)/e);const t=u+g.cos(h)*n,c=a+g.sin(h)*n;g.vertex(t,c)}g.endShape(g.CLOSE)},qc=(u,a,n="PASSIVE")=>new Qr(a,u,n,g=>{},(g,h)=>{j.push(),j.fill(Tr),j.noStroke(),zc(h.x,h.y,g.size*.3333333333333333,8),j.pop()},g=>{},g=>{}),W0=(u,a="paralysis")=>new Qr(a,u,"NORMAL",e=>{e.acc.setMag(0),e.vel.setMag(0)},(e,g)=>{j.fill(Va),G0(g.x,g.y,e.size*.6666666666666666)},e=>{},e=>{e.applyStatus(qc(u/2,a,"NORMAL"))}),Dr=Object.freeze({name:"Plague Slinger",description:"",hotkey:"p",keycode:80,range:He*4,cooldown:120,cost:500,damage:10,poisonDuration:500,poisonDamage:.2,projectileSpeed:yt*6,towerType:"NORMAL",explosionRadius:He,rgb:Tc,showSymbol:(u,a,n={})=>{j.fill(Ft),Hc(u.x,u.y,a*1.5)}});class H0 extends pn{constructor(n,e,g,h,p,t,c,d,m,f,o,r,s,i){super(n,e,g,h,p,Dr.name,t,c,f,o,r,i);q(this,"vialNumber");q(this,"poisonName");q(this,"poisonDamage");q(this,"poisonBaseDamage");q(this,"poisonDuration");q(this,"paralysisDuration");q(this,"explosionRadius");this.vialNumber=1,this.poisonName="Slinger",this.poisonDamage=d,this.poisonBaseDamage=d,this.poisonDuration=m,this.paralysisDuration=0,this.explosionRadius=s}showSymbol(n=this.pos){j.push(),j.fill(Ft),Hc(n.x,n.y,this.size*1.5),j.pop()}getStatuses(){return[this.getPoison()]}getPoison(){return Yi(this.poisonDamage,this.poisonDuration,this.poisonName)}getParalysis(){return W0(this.paralysisDuration)}baseShoot(){const n=Ht.inRangeCircle(this.pos,this.range);if(n.length<1)return;let e=0,g=this.range**2;for(let r=0;r<n.length;r++){const s=Vt(n[r].pos,this.pos);s<g&&(g=s,e=r)}const h=n[e],p=this.getStatuses(),t=this.range/this.projectileSpeed,c=h.pos.copy();for(let r=1;r<=t;r++){c.add(h.vel);const s=Vt(c,this.pos);if(s<(this.projectileSpeed*r)**2||s>this.range*this.range)break}const d=dt.Vector.sub(c,this.pos),m=j.floor(d.mag()/this.projectileSpeed);d.setMag(this.projectileSpeed);const f=-1*(2*He/m);return new gu(this,this.pos.copy(),d,0,He,f,20,this.explosionRadius,this.getDamage(),"EXPLOSION",t,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:p})}shoot(){const n=this.baseShoot();if(n===void 0)return!1;st.addProjectile(n);const e=this.vialNumber-1;this.lastShotAngle=n.vel.heading();const g=j.PI/4,h=.5;for(let p=0;p<e;p++){const t=this.lastShotAngle+j.random(-g,g),c=dt.Vector.fromAngle(t);c.setMag(n.vel.mag());const d=n.zAcc*1+j.random(-h,h),m=[];for(let o=0;o<n.statuses.length;o++)m.push(n.statuses[o].copy());const f=new gu(this,this.pos.copy(),c,n.zPos,n.zVel,d,n.size,n.explosionRadius,n.damage,"EXPLOSION",n.lifeSpan,{color:this.projectileColor,pierce:n.pierce,critChance:n.critChance,critMultiplier:n.critMultiplier,statuses:m});st.addProjectile(f)}return!0}increasePoisonDamage(n){this.poisonBaseDamage+=n,this.poisonDamage+=n}recalcDamageBuffs(){super.recalcDamageBuffs(),this.poisonDamage=this.poisonBaseDamage;for(const n of this.damageBuffsMultiplicative)this.poisonDamage*=n}}const z0=(u,a={})=>new H0(u.pos.x,u.pos.y,u.r,u.q,u.size,Dr.range,Dr.damage,Dr.poisonDamage,Dr.poisonDuration,Dr.projectileSpeed,Dr.cooldown,Dr.cost,Dr.explosionRadius,{color:j.color(Dr.rgb),projectileColor:j.color(Tc),projectilePierce:100,wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:a.changedCost??Dr.cost,upgrades:{A:new Oe("A","Extra vial",300,"Poison is all in the dose, so let's dubble that shall we.",n=>{n.vialNumber+=1},!0),B:new Oe("B","Vile pitcher",250,"This slinger just got promoted to pitcher in the Mad Scientist Inc. office team.",n=>{n.range+=He,n.baseRange+=He,n.projectileSpeed+=yt*1},!0),C:new Oe("C","Paralysis coating",200,"Coats the vials with a paralizing agent.",n=>{n.paralysisDuration+=16,n.getStatuses=()=>[n.getPoison(),n.getParalysis()]},!0),"A+":new Oe("A+","Handful of vials",2400,"Don't worry about the costs, Mad Scientist Inc. buys all its glasswork wholesale.",n=>{n.vialNumber+=3}),"B+":new Oe("B+","Mecha arm",3100,"Mechanical arms allow for even further and faster throwing.",n=>{n.explosionRadius+=He/5,n.range+=He,n.baseRange+=He,n.projectileSpeed+=yt*2}),"C+":new Oe("C+","Coma inducer",2e3,"Many vipers were harmed in the production of this stronger coating.",n=>{n.paralysisDuration+=24}),AB:new Oe("AB","Unstable concoction",1e3,"The unstable contends of the vials react violently with the air, increasing explosion damage and radius.",n=>{n.explosionRadius+=He/3,n.increaseDamage(15)}),BC:new Oe("BC","Mad prodigy",1700,"Works faster and deadlier than a normal prodigy.",n=>{n.cooldown-=20,n.baseCooldown-=20,n.increasePoisonDamage(.2)}),CA:new Oe("CA","Antibody killer",750,"The poison aggresively attacks antibodies, increasing its duration and damage.",n=>{n.poisonDuration+=400,n.increasePoisonDamage(.1)}),"AB+":new Oe("AB+","Killer combustion",1200,"Make them vials go BOOM.",n=>{n.explosionRadius+=He/3,n.increaseDamage(15)}),"BC+":new Oe("BC+","Patented pathogen",1800,"This patented formula isn't available to any other plague slinger, and obviously better than anything those amateurs could have produced.",n=>{n.increasePoisonDamage(.3),n.poisonName=`Slinger-P${String(j.random())}`}),"CA+":new Oe("CA+","Mutating virus",1200,"The virus keeps mutating, making recovery incredibly slow.",n=>{n.poisonDuration+=1e3}),"AB++":new Oe("AB++","BOOOOM!",4900,"Just go boom, who cares about poison.",n=>{n.projectileColor=j.color(Un),n.explosionRadius+=He/3,n.increaseDamage(30),n.vialNumber+=1,n.poisonDamage=0,n.poisonBaseDamage=0,n.poisonDuration=0,n.getPoison=()=>Yi(0,0,"Nope")}),"BC++":new Oe("BC++","Unique strain",7e3,"Every vial is filled with it's own unique strain of the virus, each having it's own deadly effect on the victim. No one else could have done this, Muhahaha... ehem",n=>{n.increasePoisonDamage(.2),n.getPoison=()=>Yi(n.poisonDamage,n.poisonDuration,`Slinger-P-Unique-${String(j.random())}`)}),"CA++":new Oe("CA++","Eternal suffering",16e3,"The virus hijacks part of it's victems DNA to become a part of them, never to be cured.",n=>{n.poisonDuration+=998e3})}}),q0=-.5*j.PI,X0=j.color(ei),Xc=(u,a=!1)=>{const n=u/2,e=n-u/4,g=n-u/6,h=j.PI/20,p=j.PI/5;let t=0,c=0,d=!0;const m=[];for(;t<j.TWO_PI;){d&&a?c=j.random(e,g):c=j.random(g,n);const f=j.cos(t)*c,o=j.sin(t)*c;m.push(j.createVector(f,o)),t+=j.random(h,p),d=!d}return m},oi=(u,a,n,e=q0,g=X0)=>{j.push(),j.translate(u,a),j.rotate(e),j.strokeWeight(1),j.stroke(Ft),j.fill(g),j.beginShape();for(const h of n)j.vertex(h.x,h.y);j.endShape(j.CLOSE),j.pop()};class Yc extends jn{constructor(n,e,g,h,p,t,c,d={}){super(n,e,g,h,p,t,c,d);q(this,"rockVertices");this.rockVertices=Xc(h,d.spikyRocks??!1)}show(){oi(this.pos.x,this.pos.y,this.rockVertices)}}class $i extends Yc{constructor(n,e,g,h,p,t,c,d={}){super(n,e,g,h,p,t,c,d);q(this,"explosionRadius");q(this,"explosionVisualDuration");q(this,"explosionColor");this.explosionRadius=d.explosionRadius??He/2,this.explosionVisualDuration=d.explosionVisualDuration??3,this.explosionColor=d.explosionColor??Un}hit(n){if(this.pierce<=0)return;st.addVisual(ni(this.pos,this.explosionRadius*2,this.explosionVisualDuration,j.color(this.explosionColor)));const e=Ht.inRangeCircle(this.pos,this.explosionRadius);for(const g of e){const h=this.damage*(j.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(g);g.takeDamage(new yr(this.damageType,h));for(let p=0;p<this.statuses.length;p++)g.applyStatus(this.statuses[p])}this.extraActionOnHit&&this.extraActionOnHit({pos:this.pos,radius:this.explosionRadius}),this.pierce--}}const $c=(u,a,n,e=0,g=ei,h=j)=>{const p=n/3,t=h.TWO_PI/5;let c=e;h.push(),h.stroke(Ft),h.strokeWeight(1),h.circle(u,a,n*1.1);for(let d=0;d<5;d++){const m=u+h.cos(c)*p,f=a+h.sin(c)*p;h.fill(g),h.circle(m,f,p),c+=t}h.pop()},Y0=(u="KoboldTeamwork")=>new ho(u,a=>{a.name===cr.name&&(a.cooldownBuffsAdditive.push(-5),a.rangeBuffsAdditive.push(He),a.maxSpoolHeatBuffsAdditive.push(500),a.recalcCooldownBuffs(),a.recalcRangeBuffs(),a.recalcHeatBuffs())},a=>{a.name===cr.name&&(io(-5,a.cooldownBuffsAdditive),io(He,a.rangeBuffsAdditive),io(500,a.maxSpoolHeatBuffsAdditive),a.recalcCooldownBuffs(),a.recalcRangeBuffs(),a.recalcHeatBuffs())},(a,n)=>n,(a,n)=>n),$0=(u="KoboldFriends",a=250)=>new ho(u,n=>{n.damageBuffsMultiplicative.push(1.5),n.rangeBuffsAdditive.push(He*.2),n.recalcRangeBuffs(),n.recalcDamageBuffs()},n=>{io(1.5,n.damageBuffsMultiplicative),io(He*.2,n.rangeBuffsAdditive),n.recalcRangeBuffs(),n.recalcDamageBuffs()},(n,e)=>e,(n,e)=>e,a),cr=Object.freeze({name:"Kobold",description:"The Kobold supports your defense with its own invention, a spool driven catapult! Every shot fires faster than the last, until the spool overheats or no target can be found.",hotkey:"k",keycode:75,range:He*3.5,cooldown:70,lowestCooldown:20,maxSpoolHeat:400,cost:300,damage:10,projectileSpeed:yt*5,towerType:"NORMAL",rgb:Rp,showSymbol:(u,a,n={angle:0,heat:0})=>{j.fill(Lc),$c(u.x,u.y,a,n.angle)}});class K0 extends pn{constructor(n,e,g,h,p,t,c,d,m,f,o){super(n,e,g,h,p,cr.name,t,c,d,m,f,o);q(this,"currentMaxCooldown");q(this,"lowestCooldown");q(this,"baseLowestCooldown");q(this,"lowestCooldownBuffsAdditive");q(this,"spoolHeat");q(this,"baseMaxSpoolHeat");q(this,"maxSpoolHeat");q(this,"maxSpoolHeatBuffsAdditive");q(this,"explosionRadius");q(this,"heatGenerationSpeed");q(this,"heatPerDamage");q(this,"spikyRocks");q(this,"extraDamageCalc",n=>0);this.currentMaxCooldown=m,this.lowestCooldown=cr.lowestCooldown,this.baseLowestCooldown=cr.lowestCooldown,this.lowestCooldownBuffsAdditive=[],this.spoolHeat=0,this.maxSpoolHeat=cr.maxSpoolHeat,this.baseMaxSpoolHeat=cr.maxSpoolHeat,this.maxSpoolHeatBuffsAdditive=[],this.heatGenerationSpeed=1,this.heatPerDamage=30,this.explosionRadius=He/2,this.spikyRocks=!1}showSymbol(n=this.pos){j.push(),j.fill(Bc(Nr,Lc,this.spoolHeat/1e3)),$c(n.x,n.y,this.size,this.lastShotAngle),j.pop()}update(){return this.currentCooldown--,this.currentCooldown<=0&&(this.shoot()?(this.currentCooldown=this.currentMaxCooldown,this.spoolHeat+=j.max(this.cooldown-this.currentMaxCooldown,0)*this.heatGenerationSpeed,this.currentMaxCooldown=j.max(this.currentMaxCooldown-5,this.lowestCooldown),this.spoolHeat>this.maxSpoolHeat&&this.resetSpool()):this.resetSpool(),this.updateRange()),this.lastShotAngle-=.002*(cr.cooldown-this.currentMaxCooldown+10),this.ultCurrentCooldown--,this.handleBuffs(),!0}updateRange(){this.recalcRangeBuffs()}resetSpool(){this.currentMaxCooldown=this.cooldown,this.spoolHeat=0}getProjectile(n,e){return new Yc(this,this.pos.copy(),n,this.projectileSize,this.getDamage(),"PHYSICAL",e,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,spikyRocks:this.spikyRocks,extraDamageCalc:this.extraDamageCalc})}baseShoot(){const n=Ht.inRangeCircle(this.pos,this.range);if(n.length<1)return;let e=0,g=this.range**2;for(let m=0;m<n.length;m++){const f=Vt(n[m].pos,this.pos);f<g&&(g=f,e=m)}const h=n[e],p=this.range/this.projectileSpeed,t=h.pos.copy();for(let m=1;m<=p&&(t.add(h.vel),!(Vt(t,this.pos)<(this.projectileSpeed*m)**2));m++);const c=dt.Vector.sub(t,this.pos);return c.setMag(this.projectileSpeed),this.getProjectile(c,p)}shoot(){const n=this.baseShoot();if(n===void 0)return!1;st.addProjectile(n);const e=this.projectileNumber-1,g=j.PI;for(let h=0;h<e;h++){const p=j.random(-g,g),t=dt.Vector.fromAngle(p);t.setMag(n.vel.mag());const c=[];for(let m=0;m<n.statuses.length;m++)c.push(n.statuses[m].copy());const d=this.getProjectile(t,n.lifeSpan);st.addProjectile(d)}return!0}recalcCooldownBuffs(){super.recalcCooldownBuffs(),this.lowestCooldown=this.baseLowestCooldown;for(const n of this.lowestCooldownBuffsAdditive)this.lowestCooldown+=n}recalcHeatBuffs(){this.maxSpoolHeat=this.baseMaxSpoolHeat;for(const n of this.maxSpoolHeatBuffsAdditive)this.maxSpoolHeat+=n}findAllConnected(){const n=[this],e=[],g=[];for(;n.length>0;){const h=n[0],p=Ce.getNeighbors(h.r,h.q);for(const t of p)!t.isTower||Ce.hexInArray(t,[...e,...n])||(g.push(t),t.name===this.name?n.push(t):e.push(t));e.push(h),n.splice(0,1)}return g}}const Z0=(u,a={})=>new K0(u.pos.x,u.pos.y,u.r,u.q,u.size,cr.range,cr.damage,cr.projectileSpeed,cr.cooldown,cr.cost,{color:j.color(cr.rgb),wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:a.changedCost??cr.cost,upgrades:{A:new Oe("A","Bigger Rocks",200,"Bigger rock deal more damage, and hit slightly easier. Not really rocket science is it.",n=>{n.increaseDamage(10),n.projectileSize+=He/4},!0),B:new Oe("B","Fans",300,"The type that cools you off, not the type that brings the heat.",n=>{n.maxSpoolHeat+=200,n.baseMaxSpoolHeat+=200},!0),C:new Oe("C","Balanced Speed",350,"Longest cooldown is faster, because control is king.",n=>{n.cooldown-=10,n.baseCooldown-=10},!0),"A+":new Oe("A+","Spiky Rocks",550,"Hand selected spiky rocks, spikier than normal rocks, the spikiest really!",n=>{n.increaseDamage(30),n.spikyRocks=!0}),"B+":new Oe("B+","Heat Sink",1200,"A giant heat sink, allowing the kobold to fire at maximum speed for a long time.",n=>{n.maxSpoolHeat+=1400,n.baseMaxSpoolHeat+=1400}),"C+":new Oe("C+","Min Maxing",750,"Optimize your spool, increase both the minimum and maximum speed.",n=>{n.cooldown-=10,n.baseCooldown-=10,n.lowestCooldown-=10,n.baseLowestCooldown-=10}),AB:new Oe("AB","Packing Heat",650,"Packs the rocks with explosive powder, dealing damage in a small area around the impact.",n=>{n.explosionRadius+=He/2,n.getProjectile=(e,g)=>new $i(n,n.pos.copy(),e,n.projectileSize,n.getDamage(),"EXPLOSION",g,{color:n.projectileColor,pierce:n.projectilePierce,critChance:n.critChance,critMultiplier:n.critMultiplier,explosionRadius:n.explosionRadius,spikyRocks:n.spikyRocks,extraDamageCalc:n.extraDamageCalc})}),BC:new Oe("BC","Harness the Heat",1500,"As the spool heats up the rocks get hotter and fire faster, dealing increased damage.",n=>{n.heatPerDamage-=5,n.getDamage=()=>n.damage+n.spoolHeat/n.heatPerDamage}),CA:new Oe("CA","Bully",600,"Deal extra damage based on missing health of your target. Like the big man you are.",n=>{n.extraDamageCalc=e=>{const g=1-e.hp/e.maxHp;return n.getDamage()*g}}),"AB+":new Oe("AB+","Agent of chaos",666,"Bigger explosions, extra rocks, and juicy crits, let chaos reign!",n=>{n.critChance+=.25,n.explosionRadius+=He/2,n.projectileNumber+=1,n.getProjectile=(e,g)=>new $i(n,n.pos.copy(),e,n.projectileSize,n.getDamage(),"EXPLOSION",g,{color:n.projectileColor,pierce:n.projectilePierce,critChance:n.critChance,critMultiplier:n.critMultiplier,explosionRadius:n.explosionRadius,spikyRocks:n.spikyRocks,extraDamageCalc:n.extraDamageCalc})}),"BC+":new Oe("BC+","It's a Feature",2e3,"The Kobold incorporates heat generation in all aspects of the catapults desgin, increasing heat generation, but also damage and range at higher heat.",n=>{n.heatGenerationSpeed+=1,n.heatPerDamage-=5,n.getDamage=()=>n.damage+n.spoolHeat/n.heatPerDamage,n.updateRange=()=>{n.recalcRangeBuffs(),n.range+=n.spoolHeat/500*He}}),"CA+":new Oe("CA+","Team-up",1e3,"Helps out all adjecent Kobolds, Let's work together to stomp those pesky heroes!",n=>{const e=Ce.getNeighbors(n.r,n.q);for(const g of e){const h=Y0();g.applyBuff(h),n.buffsThisApplied.push(h)}n.onSell=()=>{const g=Ce.getNeighbors(n.r,n.q);for(const h of n.buffsThisApplied)for(const p of g)p.removeBuff(h.id)}}),"AB++":new Oe("AB++","Chaos Incarnate",2500,"More chaos! MOAR!.",n=>{n.critChance+=.1,n.critMultiplier+=1,n.explosionRadius+=He/2,n.projectileNumber+=2}),"BC++":new Oe("BC++","Miniature Sun",6800,"The Kobold builds a giant heat sink, resembling a miniature sun, building power to an overwhelming degree, until it fails... And then you do it all over again.",n=>{n.maxSpoolHeat+=5500,n.baseMaxSpoolHeat+=5500,n.increaseDamage(10),n.projectileSpeed+=yt*5}),"CA++":new Oe("CA++","Kobold And Friends (Ability)",3350,"Together we are unstoppable! Buffs every tower connected to himself via Kobolds for a short time.",n=>{n.ultCooldown=Ua,n.ultCurrentCooldown=n.ultCooldown,n.ultimate=()=>{const e=n.findAllConnected();for(const g of e){const h=$0();g.applyTimedBuff(h)}},n.shouldShowUltCooldown=()=>{n.showUltCooldown()}})}}),Q0=(u,a,n,e=25,g=j.color(Lo))=>new Oo(u,n,e,g,[],h=>{j.push();const p=lo(g);p.setAlpha(h.duration*10),j.stroke(p),j.strokeWeight(h.size),j.point(h.pos),j.pop()},()=>{},a);class J0 extends $i{constructor(a,n,e,g,h,p,t,c={}){super(a,n,e,g,h,p,t,c),this.explosionRadius=c.explosionRadius??He*2}show(){j.push(),oi(this.pos.x,this.pos.y,this.rockVertices),j.fill(this.color),uo(this.pos.x,this.pos.y-this.size/2,this.size),j.pop()}update(){return this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0),this.lifeSpan--,this.lifeSpan===0&&this.hit(this.lifeSpan),this.lifeSpan<=0||this.pierce<=0}}class em extends jn{constructor(n,e,g,h,p,t,c,d={}){super(n,e,g,h,p,t,c,d);q(this,"width");q(this,"corners");this.width=d.width??3,this.corners=[],this.setCorners()}setCorners(){const n=this.vel.heading(),e=this.vel.copy();e.setMag(-this.size/2);const g=dt.Vector.fromAngle(n+j.PI/2);g.setMag(this.width*this.size/2),this.corners.push(dt.Vector.add(g,e)),g.mult(-1),this.corners.push(dt.Vector.add(g,e)),e.mult(-1),this.corners.push(dt.Vector.add(g,e)),g.mult(-1),this.corners.push(dt.Vector.add(g,e))}show(){const n=this.vel.heading(),e=dt.Vector.fromAngle(n+j.PI/2),g=n-j.PI/2;j.push(),j.strokeWeight(1),j.fill(this.color);for(let h=this.width-1;h>=0;h--)for(let p=0;p<2;p++){e.setMag(this.size/2*-h);const t=this.pos.x+e.x+j.random(-this.size/16,this.size/16),c=this.pos.y+e.y+j.random(-this.size/16,this.size/16);uo(t,c,this.size,g)}j.pop()}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const n=[];for(const g of this.corners)n.push(j.createVector(g.x+this.pos.x,g.y+this.pos.y));const e=Ht.inRangeRotatedRect(n);for(const g of e)this.hit(g);return this.extraActionOnMove({pos:this.pos,corners:n}),this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}}class Kc extends jn{constructor(a,n,e,g,h,p,t,c={}){super(a,n,e,g,h,p,t,c),this.color=c.color??j.color(Lo)}show(){j.push(),j.noStroke(),j.fill(this.color);let a=j.PI/2;for(let n=0;n<6;n++){a+=j.PI/3;const e=this.pos.x+j.cos(a)*this.size*2/3,g=this.pos.y+j.sin(a)*this.size*2/3;uo(e,g,this.size/2,0,0)}uo(this.pos.x,this.pos.y,this.size/2,0,0),j.pop()}update(){const a=Ht.inRangeCircle(this.pos,this.size);for(const n of a){if(this.lifeSpan<1)break;n.takeDamage(new yr(this.damageType,this.damage));for(const e of this.statuses)n.applyStatus(e);this.lifeSpan--}if(this.lifeSpan-=10,this.lifeSpan<1){const n=Ce.getHexVectorFromXY(this.pos.x,this.pos.y),e=Ce.grid[n.x][n.y];delete e.appliedEffects.burningLand}return this.lifeSpan<1}}const Ct=Object.freeze({name:"Pyromaniac",description:"The Pyromaniac lets loose various fire attacks to burn your enemies to a crisp.",hotkey:"f",keycode:70,range:He*2.5,wallRange:He*5,cometRange:He*6,flameThrowerAngle:j.PI/6,cooldown:1,cometCooldown:500,wallCooldown:200,cost:1600,damage:1,wallDamage:30,cometDamage:400,cometExplosionRadius:He*2,baseWallSize:He*.6,wallWidthMultiplier:3,wallPierce:8,pushForce:yt*2,projectileSpeed:yt*2,towerType:"NORMAL",burnDamage:1,burnDuration:20,burnPanicSpeedIncrease:1.5,burningLandLifespan:1500,rgb:Nr,flameRgb:Lo,showSymbol:(u,a,n={angle:0})=>{j.push(),j.fill(Lo),uo(u.x,u.y,a),j.pop()}});class tm extends pn{constructor(n,e,g,h,p,t,c,d,m,f,o){super(n,e,g,h,p,Ct.name,t,c,d,m,f,o);q(this,"cometCooldown");q(this,"currentCometCooldown");q(this,"wallCooldown");q(this,"currentWallCooldown");q(this,"flameThrowerAngle");q(this,"fireColor");q(this,"flameColor");q(this,"wallRange");q(this,"baseWallRange");q(this,"cometRange");q(this,"baseCometRange");q(this,"wallDamage");q(this,"baseWallDamage");q(this,"cometDamage");q(this,"baseCometDamage");q(this,"cometExplosionRadius");q(this,"baseWallSize");q(this,"wallWidthMultiplier");q(this,"wallPierce");q(this,"ultInProgress");q(this,"burnDamage");q(this,"baseBurnDamage");q(this,"burnDuration");q(this,"burnPanicSpeedIncrease");q(this,"pushForce");q(this,"extraDamageCalc",n=>0);q(this,"extraActionOnHit",n=>{for(let e of this.extraActionsOnHit)e(n)});q(this,"extraActionOnMove",n=>{for(let e of this.extraActionsOnMove)e(n)});this.cometCooldown=Ct.cometCooldown,this.currentCometCooldown=Ct.cometCooldown,this.wallCooldown=Ct.wallCooldown,this.currentWallCooldown=Ct.wallCooldown,this.flameThrowerAngle=Ct.flameThrowerAngle,this.fireColor=Ct.rgb,this.flameColor=Ct.flameRgb,this.wallRange=Ct.wallRange,this.baseWallRange=Ct.wallRange,this.cometRange=Ct.cometRange,this.baseCometRange=Ct.cometRange,this.wallDamage=Ct.wallDamage,this.baseWallDamage=Ct.wallDamage,this.cometDamage=Ct.cometDamage,this.baseCometDamage=Ct.cometDamage,this.cometExplosionRadius=Ct.cometExplosionRadius,this.baseWallSize=Ct.baseWallSize,this.wallWidthMultiplier=Ct.wallWidthMultiplier,this.wallPierce=Ct.wallPierce,this.burnDamage=Ct.burnDamage,this.baseBurnDamage=Ct.burnDamage,this.burnDuration=Ct.burnDuration,this.burnPanicSpeedIncrease=Ct.burnPanicSpeedIncrease,this.pushForce=Ct.pushForce,this.ultInProgress=0}showSymbol(n=this.pos){j.push(),j.fill(this.flameColor),uo(n.x,n.y,this.size),j.pop()}showRange(){j.push();let n=85;n=this.showCometRange(n),n=this.showWallRange(n);const e=lo(this.color);e.setAlpha(n),j.fill(e),j.circle(this.pos.x,this.pos.y,this.range*2),j.pop()}showWallRange(n){return n}showCometRange(n){return n}update(){return this.currentCooldown--,this.currentWallCooldown--,this.currentCometCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.currentWallCooldown<=0&&this.baseWall()&&(this.currentWallCooldown=this.wallCooldown),this.currentCometCooldown<=0&&this.baseComet()&&(this.currentCometCooldown=this.cometCooldown),this.progressUlt(),this.ultCurrentCooldown--,this.handleBuffs(),!0}baseShoot(){const n=Ht.inRangeCircle(this.pos,this.range);if(n.length<1)return;let e=0,g=this.range**2;for(let c=0;c<n.length;c++){const d=Vt(n[c].pos,this.pos);d<g&&(g=d,e=c)}const h=n[e],p=(dt.Vector.sub(h.pos,this.pos).heading()+j.TWO_PI)%j.TWO_PI;this.addFlameThrowerParticlesToMaou(p,8);const t=this.getStatuses();for(let c=0;c<n.length;c++){const d=(dt.Vector.sub(n[c].pos,this.pos).heading()+j.TWO_PI)%j.TWO_PI,m=p-d;if(m>-this.flameThrowerAngle&&m<this.flameThrowerAngle){n[c].takeDamage(new yr("FIRE",this.getFlameThrowerDamage()));for(let f=0;f<t.length;f++)n[c].applyStatus(t[f]);this.flameThrowerPush(n[c])}}this.burningLand(h,p)}shoot(){return this.baseShoot(),!0}burningLand(n,e){}applyBurningLand(n,e){const g=Ce.getHexVectorFromXY(n.pos.x,n.pos.y),h=Ce.grid[g.x][g.y],p=[...Ce.getNeighborsArea(h.r,h.q,2),h];for(let t=0;t<p.length;t++){const c=(dt.Vector.sub(p[t].pos,this.pos).heading()+j.TWO_PI)%j.TWO_PI,d=e-c;Vt(this.pos,p[t].pos)<this.range**2&&d>-this.flameThrowerAngle&&d<this.flameThrowerAngle&&this.applyBurningLandToTile(p[t])}}applyBurningLandToTile(n){if(!n.canUnit||n.isTower||n.appliedEffects.burningLand)return;const e=this.getBurningTileProjectile(n.pos,Ct.burningLandLifespan);st.addProjectile(e),n.appliedEffects.burningLand=e}flameThrowerPush(n){}applyFlameThrowerPush(n){const e=dt.Vector.sub(n.pos,this.pos).setMag(.02*this.pushForce);n.applyForce(e)}baseComet(){return!0}shootComet(){const n=Ht.inRangeCircle(this.pos,this.cometRange);if(n.length<1)return!1;let e=0,g=0;for(let p=0;p<n.length;p++){const t=n[p].hp;g<t&&(g=t,e=p)}const h=n[e];return this.shootCometAtTarget(h),!0}shootCometAtTarget(n){const e=n.pos.copy(),g=30;e.add(dt.Vector.mult(n.vel,g));const h=j.createVector(j.windowHeight/4,-j.windowWidth).add(e),p=dt.Vector.sub(e,h);p.mult(1/g);const t=this.getCometProjectile(p,h,g);st.addProjectile(t)}progressUlt(){}baseWall(){return!0}shootWall(){const n=Ht.inRangeCircle(this.pos,this.wallRange);if(n.length<1)return!1;let e=0,g=this.range**2;for(let m=0;m<n.length;m++){const f=Vt(n[m].pos,this.pos);f<g&&(g=f,e=m)}const h=n[e],p=this.wallRange*1.5/this.projectileSpeed,t=h.pos.copy();for(let m=1;m<=p&&(t.add(h.vel),!(Vt(t,this.pos)<(this.projectileSpeed*m)**2));m++);const c=dt.Vector.sub(t,this.pos);c.setMag(this.projectileSpeed);const d=this.getWallProjectile(c,this.pos,p);return st.addProjectile(d),!0}addFlameThrowerParticlesToMaou(n,e){for(let g=0;g<e;g++){const h=dt.Vector.fromAngle(n+j.random(-this.flameThrowerAngle,this.flameThrowerAngle),this.range/j.random(5,15));st.addVisual(Q0(this.pos,h,5,j.random(8,15),r0(this.fireColor,this.flameColor)))}}getCometProjectile(n,e,g){return new J0(this,e,n,this.projectileSize*2,this.getCometDamage(),"EXPLOSION",g,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,explosionRadius:this.cometExplosionRadius,explosionColor:this.flameColor,explosionVisualDuration:4,statuses:this.getStatuses()})}getWallProjectile(n,e,g){return new em(this,e,n,this.baseWallSize,this.getWallDamage(),"FIRE",g,{color:this.projectileColor,pierce:this.wallPierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnMove:this.extraActionOnMove,extraActionOnHit:this.extraActionOnHit,width:this.wallWidthMultiplier,statuses:this.getStatuses()})}getBurningTileProjectile(n,e){const g=[...this.flameColor,80];return new Kc(this,n,j.createVector(0,0),He,this.getDamage(),"FIRE",e,{color:j.color(g),statuses:this.getStatuses()})}getFlameThrowerDamage(){return this.damage}getCometDamage(){return this.cometDamage}getWallDamage(){return this.wallDamage}getStatuses(){return[]}getBurn(){return Vc(this.burnDamage,this.burnDuration,this.burnPanicSpeedIncrease)}increaseCometRange(n){this.cometRange+=n,this.baseCometRange+=n}increaseWallRange(n){this.wallRange+=n,this.baseWallRange+=n}increaseCometDamage(n){this.cometDamage+=n,this.baseCometDamage+=n}increaseWallDamage(n){this.wallDamage+=n,this.baseWallDamage+=n}increaseBurnDamage(n){this.burnDamage+=n,this.baseBurnDamage+=n}recalcDamageBuffs(){super.recalcDamageBuffs(),this.cometDamage=this.baseCometDamage;for(const n of this.damageBuffsMultiplicative)this.cometDamage*=n;this.wallDamage=this.baseWallDamage;for(const n of this.damageBuffsMultiplicative)this.wallDamage*=n;this.burnDamage=this.baseBurnDamage;for(const n of this.damageBuffsMultiplicative)this.burnDamage*=n}recalcRangeBuffs(){super.recalcRangeBuffs(),this.cometRange=this.baseCometRange,this.wallRange=this.baseWallRange;for(const n of this.rangeBuffsAdditive)this.cometRange+=n,this.wallRange+=n;for(const n of this.rangeBuffsMultiplicative)this.cometRange*=n,this.wallRange*=n}}const rm=(u,a={})=>new tm(u.pos.x,u.pos.y,u.r,u.q,u.size,Ct.range,Ct.damage,Ct.projectileSpeed,Ct.cooldown,Ct.cost,{color:j.color(Ct.rgb),projectileColor:Ct.flameRgb,wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:a.changedCost??Ct.cost,upgrades:{A:new Oe("A","Hotter Fire",800,"They die quicker, so it's a mercy really.",n=>{n.increaseDamage(1),n.increaseWallDamage(30)},!0),B:new Oe("B","Wide Flame",600,"Increase the area of effect radius of the Pyromaniac.",n=>{n.flameThrowerAngle+=j.PI/12},!0),C:new Oe("C","Burning Vision",500,"Slightly increases range. I have a vision, of a world where no hero goes unburned.",n=>{n.increaseRange(He*.25),n.increaseCometRange(He)},!0),"A+":new Oe("A+","Blue Flame",3600,"Blue flames are both hotter and cooler.",n=>{n.increaseDamage(2),n.increaseCometDamage(400),n.increaseWallDamage(50),n.projectileColor=j.color(cu),n.fireColor=Cc,n.flameColor=cu}),"B+":new Oe("B+","Inferno Grande",2050,"Increases the size of the Pyromaniacs flames even further. There is no escaping the infero!",n=>{n.flameThrowerAngle+=j.PI/12,n.cometExplosionRadius+=He,n.wallWidthMultiplier+=2}),"C+":new Oe("C+","See The World",1750,"increase Pyromaniac range even more.",n=>{n.increaseRange(He*.25),n.increaseCometRange(He*1.5),n.increaseWallRange(He*1.5)}),AB:new Oe("AB","Comet",1850,"Shoots a mighty comet from the sky, dealing devastating damage in a large area.",n=>{n.baseComet=()=>n.shootComet(),n.showCometRange=e=>{const g=lo(n.color);return g.setAlpha(e),j.fill(g),j.circle(n.pos.x,n.pos.y,n.cometRange*2),e-40}}),BC:new Oe("BC","Flame Wall",2300,"Shoots out a wall of flames that moves slowly towards its target.",n=>{n.baseWall=()=>n.shootWall(),n.showWallRange=e=>{const g=lo(n.color);return g.setAlpha(e),j.fill(g),j.circle(n.pos.x,n.pos.y,n.wallRange*2),e-40}}),CA:new Oe("CA","Feel The Burn",2100,"Inflicts every enemy hit with a burning status effect.",n=>{n.increaseBurnDamage(1),n.burnDuration+=30,n.getStatuses=()=>[n.getBurn()]}),"AB+":new Oe("AB+","Inner Fire",3900,"The Pyromaniac builds their inner fire, increasing damage dealt based on attack cooldown.",n=>{n.increaseDamage(n.cooldown),n.increaseWallDamage(n.wallCooldown/2),n.increaseCometDamage(n.cometCooldown/2)}),"BC+":new Oe("BC+","Expulsion",1800,"Fire hits enemies with such force they are thrown backwards.",n=>{n.flameThrowerPush=e=>{n.applyFlameThrowerPush(e)},n.extraActionsOnHit.push(e=>{if("target"in e){const h=e.vel.copy().setMag(n.pushForce);e.target.applyForce(h);return}const g=Ht.inRangeCircle(e.pos,e.radius);for(const h of g){const p=dt.Vector.sub(h.pos,e.pos).setMag(n.pushForce);h.applyForce(p)}})}),"CA+":new Oe("CA+","Hell Fire",3250,"The flames of hell burn brighter, longer, and cause more panic than beofer.",n=>{n.burnDuration+=50,n.increaseBurnDamage(1),n.burnPanicSpeedIncrease+=.5,n.getStatuses=()=>[n.getBurn()]}),"AB++":new Oe("AB++","Apocalypse (Ability)",6500,"Pyromaniac rains down countless comets, cleansing the world in the fires of apocalypse.",n=>{n.ultCooldown=Ua,n.ultCurrentCooldown=n.ultCooldown,n.ultimate=()=>{n.progressUlt=()=>{if(n.ultInProgress<=0&&(n.progressUlt=()=>{}),Yt.units.length<1)return;const e=j.random(Yt.units);n.shootCometAtTarget(e),n.ultInProgress--},n.ultInProgress=30},n.shouldShowUltCooldown=()=>{n.showUltCooldown()}}),"BC++":new Oe("BC++","Isolationism",5500,"Don't allow anything near, flames hit harder and with more force. Also increases wall pierce and comet explosion radius a bit.",n=>{n.increaseDamage(1),n.increaseWallDamage(30),n.increaseCometDamage(200),n.cometExplosionRaidus+=He/2,n.pushForce+=yt*2,n.wallPierce+=7}),"CA++":new Oe("CA++","Burning Earth",13500,"All Pyromaniacs attacks leave burning earth behind, dealing damage and inflicting burn.",n=>{n.burningLand=(e,g)=>{n.applyBurningLand(e,g)},n.extraActionsOnHit.push(e=>{if(!("radius"in e))return;const g=Ce.getHexVectorFromXY(e.pos.x,e.pos.y);if(!Ce.rqVectorIsOnGrid(g))return;const h=Ce.grid[g.x][g.y],p=[...Ce.getNeighborsArea(h.r,h.q,2),h];for(let t=0;t<p.length;t++)Vt(e.pos,p[t].pos)<e.radius**2&&n.applyBurningLandToTile(p[t])}),n.extraActionsOnMove.push(e=>{const g=Ce.getHexVectorFromXY(e.pos.x,e.pos.y);if(!Ce.rqVectorIsOnGrid(g))return;const h=Ce.grid[g.x][g.y],p=[...Ce.getNeighborsArea(h.r,h.q,2),h];for(const t of p)Pn(e.corners[0],e.corners[1],t.pos)>0&&Pn(e.corners[1],e.corners[2],t.pos)>0&&Pn(e.corners[2],e.corners[3],t.pos)>0&&Pn(e.corners[3],e.corners[0],t.pos)>0&&n.applyBurningLandToTile(t)})})}}),Rr=Object.freeze({name:"Dragon Hoard",description:"A Dragons hoard seems to imbued with a special magic, growing over time without outside interference, truly misterious.",hotkey:"d",keycode:68,range:0,cooldown:0,cost:2500,damage:0,hoardCapacity:1e3,hoardFillPerRound:200,hoardInterest:0,projectileSpeed:0,towerType:"NORMAL",rgb:Fs,showSymbol:(u,a)=>{j.push(),j.fill(ls),j.strokeWeight(2);const n=a*.1;Do(u.x-n,u.y+n,a*.5),Do(u.x+n,u.y-n,a*.5),j.pop()}});class nm extends pn{constructor(n,e,g,h,p,t,c,d,m,f,o){super(n,e,g,h,p,Rr.name,t,c,d,m,f,o);q(this,"goldInHoard");q(this,"hoardCapacity");q(this,"hoardFillPerRound");q(this,"hoardInterest");q(this,"hoardFilledThisRound");q(this,"shouldFillHoardThisRound");q(this,"timeOverFullFill");this.goldInHoard=0,this.hoardCapacity=Rr.hoardCapacity,this.hoardFillPerRound=Rr.hoardFillPerRound,this.hoardInterest=Rr.hoardInterest,this.hoardFilledThisRound=0,this.shouldFillHoardThisRound=Rr.hoardFillPerRound,this.timeOverFullFill=1e3}showSymbol(n=this.pos){j.push(),j.fill(ls),j.strokeWeight(2);const e=this.size*.1;Do(n.x-e,n.y+e,this.size*.5),Do(n.x+e,n.y-e,this.size*.5),j.pop()}update(){if(super.update(),this.shouldFillHoardThisRound>this.hoardFilledThisRound){const n=this.hoardFillPerRound/this.timeOverFullFill;this.goldInHoard=j.min(this.goldInHoard+n,this.hoardCapacity),this.hoardFilledThisRound+=n}return!0}}const om=(u,a={})=>new nm(u.pos.x,u.pos.y,u.r,u.q,u.size,Rr.range,Rr.damage,Rr.projectileSpeed,Rr.cooldown,Rr.cost,{color:j.color(Rr.rgb),wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:a.changedCost??Rr.cost,upgrades:{A:new Oe("A","Nothing",0,"Still just a barrier.",n=>{},!0),B:new Oe("B","Nothing",0,"Still just a barrier.",n=>{},!0),C:new Oe("C","Bigger Basement",250,"Just dump all that extra gold in the basement. More capacity.",n=>{n.hoardCapacity+=1e3},!0),"A+":new Oe("A+","Nothing",0,"Still just a barrier.",n=>{}),"B+":new Oe("B+","Nothing",0,"Still just a barrier.",n=>{}),"C+":new Oe("C+","Nothing",0,"Still just a barrier.",n=>{}),AB:new Oe("AB","Nothing",0,"Still just a barrier.",n=>{}),BC:new Oe("BC","Nothing",0,"Still just a barrier.",n=>{}),CA:new Oe("CA","Nothing",0,"Still just a barrier.",n=>{}),"AB+":new Oe("AB+","Nothing",0,"Still just a barrier.",n=>{}),"BC+":new Oe("BC+","Nothing",0,"Still just a barrier.",n=>{}),"CA+":new Oe("CA+","Nothing",0,"Still just a barrier.",n=>{}),"AB++":new Oe("AB++","Nothing",0,"Still just a barrier.",n=>{}),"BC++":new Oe("BC++","Nothing",0,"Still just a barrier.",n=>{}),"CA++":new Oe("CA++","Nothing",0,"Still just a barrier.",n=>{})}}),si=(u,a,n,e=0,g=j)=>{const h=n/2,p=n/3,t=n/6;g.push(),g.translate(u,a),g.rotate(e),g.stroke(Ft),g.strokeWeight(2),g.beginShape(),g.vertex(0,-h),g.vertex(h,-t),g.vertex(h,t),g.vertex(0,-p),g.vertex(0,h),g.endShape(g.CLOSE),g.ellipse(-p*.8,h*.8,h,p),g.pop()};class Ha extends jn{constructor(n,e,g,h,p,t,c,d={}){super(n,e,g,h,p,t,c,d);q(this,"splitOnHit");this.splitOnHit=d.splitOnHit??!1}show(){j.push(),j.fill(this.color),si(this.pos.x,this.pos.y,this.size),j.pop()}showDebug(){j.stroke(this.color),j.strokeWeight(5),j.point(this.pos.x,this.pos.y)}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const n=this.alreadyHitEnemyIds.length,e=Ht.inRangePath(this.prevPos,this.pos,this.size);for(const g of e)this.hit(g);if(this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0)return!0;if(this.splitOnHit&&this.alreadyHitEnemyIds.length>n)for(let g=0;g<this.alreadyHitEnemyIds.length-n;g++)for(let h=0;h<3;h++){const p=this.copy();p.vel=dt.Vector.random2D().setMag(p.vel.mag()),st.addProjectile(p)}return!1}copy(){const n=[];for(const g of this.statuses)n.push(g.copy());const e=new Ha(this.origin,this.pos.copy(),this.vel.copy(),this.size,this.damage,this.damageType,this.lifeSpan-1,{color:this.color,pierce:this.pierce-1,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:n,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,extraActionOnMove:this.extraActionOnMove,splitOnHit:this.splitOnHit});return e.alreadyHitEnemyIds=this.alreadyHitEnemyIds,e}}const Zc=(u,a,n=1,e="trance",g=250)=>new Qr(e,u,"ON_TAKE_DAMAGE",(h,p,t={damage:new yr("PHYSICAL",0)})=>{const c=t.damage.amount/h.maxHp;j.random()<n*c&&p&&(p.duration=0)},(h,p)=>{j.fill(Mc),si(p.x,p.y,h.size/2)},h=>{h.currentFlowField=a},h=>{h.currentFlowField=h.originalFlowField,h.applyStatus(qc(g,e,"ON_TAKE_DAMAGE"))}),sm=(u,a,n,e=Nr,g=0,h=j)=>{const p=n/2,t=n/3;h.push(),h.translate(u,a),h.rotate(g),h.stroke(Ft),h.strokeWeight(2),h.line(0,-p,0,p),h.ellipse(-t*.8,p*.8,p,t),h.strokeWeight(1),h.stroke(e),h.line(-p,-p,p,p),h.line(p,-p,-p,p),h.pop()},im=(u,a="silence")=>new Qr(a,u,"NORMAL",(n,e,g={damage:new yr("PHYSICAL",0)})=>{for(const h of n.abilityCounters)n[h]++},(n,e)=>{j.fill(Ft),sm(e.x,e.y,n.size/2)},n=>{},n=>{}),xr=Object.freeze({name:"Siren",description:"The Siren entrances heroes with her song, leading them to wander mindlessely to her.",hotkey:"z",keycode:90,range:He*7,cooldown:110,cost:900,damage:10,projectileSpeed:yt*3,tranceDuration:150,breakoutChance:5,extraProjectileAngle:j.PI/8,towerType:"WATER",rgb:Ga,noteColor:Mc,showSymbol:(u,a,n={angle:0})=>{j.push(),j.fill(xr.noteColor),si(u.x,u.y,a),j.pop()}});class am extends pn{constructor(n,e,g,h,p,t,c,d,m,f,o){super(n,e,g,h,p,xr.name,t,c,d,m,f,o);q(this,"noteColor");q(this,"extraProjectileLifespan");q(this,"pathName");q(this,"pathNameNext");q(this,"tranceDuration");q(this,"breakoutChance");q(this,"splitOnHit");q(this,"extraProjectileAngle");this.noteColor=xr.noteColor,this.extraProjectileLifespan=1,this.extraProjectileAngle=xr.extraProjectileAngle,this.tranceDuration=xr.tranceDuration,this.breakoutChance=xr.breakoutChance,this.pathName=`Siren${j.random()}`,this.pathNameNext=`${this.pathName}Next`,st.pathsToGenerate.push({origin:[this],name:this.pathName,waterCost:1,stopAfter:10}),this.targetingType=bn.FIRST,this.splitOnHit=!1}showSymbol(n=this.pos){j.push(),j.fill(this.noteColor),si(n.x,n.y,this.size),j.pop()}shoot(){const n=this.baseShoot();if(n===void 0)return!1;const e=j.floor(this.projectileNumber/2)*-1;this.lastShotAngle=n.vel.heading();for(let g=e;g<e+this.projectileNumber;g++){const h=this.lastShotAngle+g*this.extraProjectileAngle,p=dt.Vector.fromAngle(h);p.setMag(n.vel.mag());const t=this.getProjectile(p,n.lifeSpan);st.addProjectile(t)}return!0}baseShoot(){const n=Ht.inRangeCircle(this.pos,this.range);if(n.length<1)return;const e=Wa[this.targetingType].function(this.pos,n),g=this.range/this.projectileSpeed*this.extraProjectileLifespan,h=e.pos.copy();for(let c=1;c<=g&&(h.add(e.vel),!(Vt(h,this.pos)<(this.projectileSpeed*c)**2));c++);const p=dt.Vector.sub(h,this.pos);return p.setMag(this.projectileSpeed),this.getProjectile(p,g)}getProjectile(n,e){return new Ha(this,this.pos.copy(),n,this.projectileSize,this.getDamage(),"PHYSICAL",e,{color:j.color(this.noteColor),pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),splitOnHit:this.splitOnHit})}getStatuses(){return[this.getTrance()]}getTrance(){return Zc(this.tranceDuration,this.pathNameNext,this.breakoutChance,"trance",250)}getSilence(){return im(this.tranceDuration,"silence")}onSell(){for(let n=0;n<st.pathsToGenerate.length;n++)if(st.pathsToGenerate[n].name===this.pathName){st.pathsToGenerate.splice(n,1);return}}}const lm=(u,a={})=>new am(u.pos.x,u.pos.y,u.r,u.q,u.size,xr.range,xr.damage,xr.projectileSpeed,xr.cooldown,xr.cost,{color:j.color(xr.rgb),wall:!0,isTower:!0,type:u.type,data:u.data,projectileColor:xr.noteColor,spendValue:a.changedCost??xr.cost,upgrades:{A:new Oe("A","Piercing Voice",300,"Song pierces through its target to the next.",n=>{n.projectilePierce+=1,n.extraProjectileLifespan+=.2},!0),B:new Oe("B","Tireless",550,"If you don't keep singing till you drop you'll never make it in showbizz. Lower cooldown",n=>{n.cooldown-=20,n.baseCooldown-=20},!0),C:new Oe("C","Entancing Song",400,"Increases the duration of the trance, and slightly decreases the chance heroes break out of the spell when damaged.",n=>{n.tranceDuraton+=100,n.breakoutChance-=1},!0),"A+":new Oe("A+","Optimize Acoustics",2100,"Siren magically changes the properties of the space around her to optimize its acoustics. It is honestly kind of a waste to use magic capable of changing physics on something like this, but at least it increases the amount of people who hear her song...",n=>{n.projectilePierce+=2,n.extraProjectileLifespan+=.3,n.increaseRange(He/2)}),"B+":new Oe("B+","Endless Encores",1700,"Song after song, you'll never escape this concert. Even lower cooldown",n=>{n.cooldown-=20,n.baseCooldown-=20}),"C+":new Oe("C+","Unbreakable Obsession",2900,"A song so beautifull it takes ages to break free of its spell. That or a very hard blow to the head.",n=>{n.tranceDutaion+=150,n.breakoutChance-=1}),AB:new Oe("AB","Rock Song",666,"Not all Sirens are into that classical shit. Increases damage",n=>{n.increaseDamage(10)}),BC:new Oe("BC","Authority",2500,"My authority, you will respect it. Siren magically controls the entire area around her, increasing trance duration, lowering breakout chance, and making sure her song always reacher her target.",n=>{n.tranceDutaion+=100,n.breakoutChance-=.5}),CA:new Oe("CA","Crowd Pleaser",3600,"They want to hear, Siren wants to sing more songs, everyone gets what they want.",n=>{n.projectileNumber+=3}),"AB+":new Oe("AB+","Hard Rock",5200,"More rock. More range. More bleeding ears.",n=>{n.increaseDamage(30),n.increaseRange(He),n.noteColor=Sc}),"BC+":new Oe("BC+","Placeholder",0,"Placeholder.",n=>{}),"CA+":new Oe("CA+","Sound Wave",6900,"Every song is like a sound wave. More projectiles, closer together, reaching further.",n=>{n.projectileNumber+=3,n.extraProjectileLifespan+=.2,n.extraProjectileAngle=j.PI/15}),"AB++":new Oe("AB++","Rock The World",6e3,"Siren rocks so hard her song reaches more people then ever. The song is so loud it ruptures eardrums all over, dealing more damage, but sadly breaking the trance, and deaf ears can't be charmed by other Sirens either.",n=>{n.projectilePierce+=1,n.projectileSize+=He/3,n.extraProjectileLifespan+=.3,n.increaseRange(He/2),n.increaseDamage(50),n.projectileNumber+=2,n.getTrance=()=>Zc(0,n.pathNameNext,n.breakoutChance,"trance",500)}),"BC++":new Oe("BC++","Chorus",0,"Placeholder.",n=>{n.color=j.color(Ep)}),"CA++":new Oe("CA++","Echo Chamber",7750,"Songs echo around whenever they hit a hero. Look it's a magical song, its echos could work this way.",n=>{n.projectilePierce+=3,n.splitOnHit=!0})}}),Qc=(u,a,n,e=0,g=j)=>{let h=n*.8,p=0;const t=n/50,c=(h-t)/100,m=(13/20*n-t)/100;g.push(),g.translate(u,a),g.rotate(e),g.stroke(Ft),g.strokeWeight(1),g.beginShape();for(let f=0;f<100;f++){const o=g.cos(p)*h,r=g.sin(p)*h;g.vertex(o,r),p+=g.PI/20,h-=c}for(let f=0;f<100;f++){const o=g.cos(p)*h,r=g.sin(p)*h;g.vertex(o,r),p-=g.PI/20,h+=m}g.endShape(),g.triangle(n*6/10,n/10,n*8/10,n/10,n*7/10,n*-1/5),g.pop()};class um extends pn{constructor(n,e,g,h,p,t,c,d,m,f,o,r,s){super(n,e,g,h,p,t,c,d,m,f,o,s);q(this,"burnUpTimer");q(this,"lastWaveCheck");this.burnUpTimer=r,this.lastWaveCheck=Yt.waveReader.currentWaveNumber}show(n=this.pos){j.push(),j.stroke(0),j.strokeWeight(2),j.fill(this.color),ir(n.x,n.y,this.size),this.upgradesPurchased>3&&(j.strokeWeight(1),ir(n.x,n.y,this.size-3),this.upgradesPurchased>7&&(j.stroke(0),ir(n.x,n.y,this.size-6))),j.stroke(Ft),j.fill(Ns),j.strokeWeight(1);let e=-j.PI/2;for(let g=0;g<j.min(this.burnUpTimer,10);g++){const h=this.pos.x+j.cos(e)*this.size*.7,p=this.pos.y+j.sin(e)*this.size*.7;zc(h,p,He/10,5),e+=j.TWO_PI/10}this.showSymbol(n),this.shouldShowUltCooldown(),j.pop()}update(){return super.update(),this.lastWaveCheck!==Yt.waveReader.currentWaveNumber&&(this.lastWaveCheck=Yt.waveReader.currentWaveNumber,this.burnUpTimer--),this.burnUpTimer>0}onSell(){this.spendValue=0,Ce.setBuilderTileType(this,gt.UNSTABLE)}}class Jc extends jn{constructor(n,e,g,h,p,t,c,d={}){super(n,e,g,h,p,t,c,d);q(this,"rockVertices");q(this,"pushForce");q(this,"angle");q(this,"extendLife");this.rockVertices=Xc(h),this.pushForce=d.pushForce??0,this.angle=0,this.extendLife=d.extendLife??!1}show(){oi(this.pos.x,this.pos.y,this.rockVertices,this.angle,this.color)}update(){return this.angle+=.01,super.update()}hit(n){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(n.id))return;this.alreadyHitEnemyIds.push(n.id);const e=this.damage*(j.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(n);this.updateOriginUsageDataSingle(n,e),n.takeDamage(new yr(this.damageType,e)),this.extendLife&&n.hp<=0&&this.origin.lastLifeExtension<Yt.waveReader.currentWaveNumber&&(this.origin.burnUpTimer++,this.origin.lastLifeExtension=Yt.waveReader.currentWaveNumber),n.applyForce(this.vel.copy().setMag(this.pushForce));for(let g=0;g<this.statuses.length;g++)n.applyStatus(this.statuses[g]);this.extraActionOnHit({pos:this.pos,vel:this.vel,target:n}),this.pierce--}}class cm extends Jc{constructor(n,e,g,h,p,t,c,d={}){super(n,e,g,h,p,t,c,d);q(this,"target");q(this,"desiredSpeed");q(this,"maxForce");this.target=d.target??null,this.desiredSpeed=this.vel.mag(),this.maxForce=this.vel.mag()/20}show(){oi(this.pos.x,this.pos.y,this.rockVertices,this.angle,this.color)}update(){this.angle+=.01,(this.target===null||this.alreadyHitEnemyIds.includes(this.target.id)||this.target.hp<=0)&&this.findNewTarget(),this.prevPos=this.pos.copy(),this.vel.add(this.getAccThroughHoming()),this.vel.add(this.acc),this.pos.add(this.vel),this.acc.mult(0);const n=Ht.inRangePath(this.prevPos,this.pos,this.size);for(const e of n)this.hit(e);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}findNewTarget(){const n=Ht.inRangeCircle(this.pos,this.origin.range/3);let e=null,g=99999;const h=this.vel.copy().mult(5);h.add(this.pos);for(const p of n){const t=Vt(p.pos,h);t<g&&(g=t,e=p)}this.target=e}getAccThroughHoming(){if(this.target===null)return j.createVector(0,0);const n=dt.Vector.sub(this.target.pos,this.pos);return n.setMag(this.desiredSpeed),n.sub(this.vel),n.limit(this.maxForce),n}}const Br=Object.freeze({name:"Magma Wyrm",description:"The Magma Wyrm lives a turbulent life surrounded by lava. It dies soon after its birth when its enviroment can no longer sustain it and crumbles.",hotkey:"m",keycode:77,range:He*5,cooldown:15,cost:100,damage:15,projectileSpeed:3,towerType:"LAVA",baseBurnUpDuration:2,rgb:Fa,flameRgb:Ns,showSymbol:(u,a,n={angle:0})=>{j.push(),j.fill(Ns),Qc(u.x,u.y,a),j.pop()}});class dm extends um{constructor(n,e,g,h,p,t,c,d,m,f,o){super(n,e,g,h,p,Br.name,t,c,d,m,f,Br.baseBurnUpDuration,o);q(this,"flameColor");q(this,"pushForce");q(this,"burningLandLifespan");q(this,"homingProjectiles");q(this,"extendLifeOnKill");q(this,"lastLifeExtension");this.flameColor=Br.flameRgb,this.pushForce=0,this.burningLandLifespan=0,this.homingProjectiles=!1,this.extendLifeOnKill=!1,this.lastLifeExtension=Yt.waveReader.currentWaveNumber-1}showSymbol(n=this.pos){j.push(),j.fill(this.flameColor),Qc(n.x,n.y,this.size,this.lastShotAngle),j.pop()}update(){return this.lastShotAngle-=.017,super.update()}baseShoot(n=0){const e=dt.Vector.fromAngle(n);e.setMag(this.projectileSpeed);const g=this.range/this.projectileSpeed,h=this.getMagmaBlobProjectile(e,g);st.addProjectile(h)}shoot(){for(let n=0;n<this.projectileNumber;n++){const e=this.lastShotAngle+j.TWO_PI*(n/this.projectileNumber);this.baseShoot(e)}return!0}getMagmaBlobProjectile(n,e){return new Jc(this,this.pos,n,this.projectileSize,this.getDamage(),"FIRE",e,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),pushForce:this.pushForce,extendLife:this.extendLifeOnKill})}getDamage(){return this.damage}getStatuses(){return[]}applyBurningLandToTile(n){if(!n.canUnit||n.isTower||n.appliedEffects.burningLand)return;const e=this.getBurningTileProjectile(n.pos,this.burningLandLifespan);st.addProjectile(e),n.appliedEffects.burningLand=e}getBurningTileProjectile(n,e){const g=[...this.flameColor,80];return new Kc(this,n,j.createVector(0,0),He,this.getDamage(),"FIRE",e,{color:j.color(g),statuses:this.getStatuses()})}}const hm=(u,a={})=>new dm(u.pos.x,u.pos.y,u.r,u.q,u.size,Br.range,Br.damage,Br.projectileSpeed,Br.cooldown,Br.cost,{color:j.color(Br.rgb),projectileColor:Br.flameRgb,wall:!0,isTower:!0,type:u.type,data:u.data,spendValue:a.changedCost??Br.cost,upgrades:{A:new Oe("A","Short Fuse",200,"The Wyrms anger about its unfair position in life heats up its shots, increasing damage.",n=>{n.burnUpTimer+=1,n.increaseDamage(15)},!0),B:new Oe("B","Stability",150,"The Wyrm embraces a stable lifestyle, decent job, happy family, little wyrm on the way. Pushes away the inevitable demise a bit.",n=>{n.burnUpTimer+=3},!0),C:new Oe("C","Vision",250,"Wyrm has a vision for the future, and whishes to share it with as many heroes as possible while it is still able.",n=>{n.burnUpTimer+=1,n.range+=He,n.baseRange+=He},!0),"A+":new Oe("A+","Burning Hatred",500,"Wyrms hatred burns brighter than a thousand suns.",n=>{n.burnUpTimer+=1,n.increaseDamage(20)}),"B+":new Oe("B+","Controlled Entropy",550,"The wyrm masters entropic decay to delay the inevitable even longer.",n=>{n.burnUpTimer+=6}),"C+":new Oe("C+","Longing Gaze",400,"Wyrm wants to see as much of the world as possible before the end.",n=>{n.burnUpTimer+=1,n.range+=He,n.baseRange+=He}),AB:new Oe("AB","Loniliness",450,"Wyrm pushes everyone away, unable to accept company in the face of its approaching doom.",n=>{n.pushForce+=yt*1.5}),BC:new Oe("BC","The Other End",700,"More projectiles is better, just don't ask where they are coming from, seriously, don't.",n=>{n.projectileNumber+=1}),CA:new Oe("CA","Live Fast",600,"Live fast and dangerous is this Wyrms motto. Faster firing, but at the cost of a shorter life.",n=>{n.cooldown-=4,n.baseCooldown-=4,n.burnUpTimer-=1}),"AB+":new Oe("AB+","Heat Seeking Heroes",950,"The heroes look for a comforting and warm magma blob to the face, or well, that's what Wyrm tells himself.",n=>{n.getMagmaBlobProjectile=(e,g)=>new cm(n,n.pos,e,n.projectileSize,n.getDamage(),"FIRE",g*1.2,{color:n.projectileColor,pierce:n.projectilePierce,critChance:n.critChance,critMultiplier:n.critMultiplier,statuses:n.getStatuses(),pushForce:n.pushForce,extendLife:n.extendLifeOnKill})}),"BC+":new Oe("BC+","Dubble Or Nothing",1150,"Dubbles the amount of magma blobs fired.",n=>{n.projectileNumber+=2}),"CA+":new Oe("CA+","Yolo",800,"Wyrm puts its everything into firing faster and harder, you only live once, so you gotta take as many as possible with you.",n=>{n.cooldown-=4,n.baseCooldown-=4,n.increaseDamage(10),n.burnUpTimer-=1}),"AB++":new Oe("AB++","Lease On Life",3e3,"Through dark deals best not spoken of, thought Wyrm is not really capable of speaking to begin with, Wyrm extends his life by one wave, on his first kill of every wave.",n=>{n.burnUpTimer+=2,n.extendLifeOnKill=!0}),"BC++":new Oe("BC++","Solitude",1600,"Keeps all away, awaiting the end in fiery solitude.",n=>{n.projectileNumber+=5,n.projectilePierce+=2,n.range+=He/2,n.baseRange+=He/2}),"CA++":new Oe("CA++","Curtain Call",1500,'"When the darkness comes, I will not go alone." Creates a devastating explosion when the Wyrm dies, leaving nothing but fire in its wake. Also allows to call the curtain early through the ult.',n=>{n.ultCooldown=1,n.ultCurrentCooldown=n.ultCooldown,n.ultimate=()=>{n.burnUpTimer=0},n.shouldShowUltCooldown=()=>{n.showUltCooldown()},n.onSell=()=>{n.spendValue=0,Ce.setBuilderTileType(n,gt.UNSTABLE),n.burningLandLifespan=5e3;const e=Ce.getNeighborsArea(n.r,n.q,3);for(const g of e)n.applyBurningLandToTile(g);n.damage=1e3,n.projectileNumber=50,n.projectilePierce=10,n.projectileSize+=He,n.range=He*20,n.shoot()}})}});var Ir=(u=>(u[u.ARCHER=0]="ARCHER",u[u.BARRIER=1]="BARRIER",u[u.KOBOLD=2]="KOBOLD",u[u.ARACHNE=3]="ARACHNE",u[u.PLAGUE=4]="PLAGUE",u[u.SIREN=5]="SIREN",u[u.PYRO=6]="PYRO",u[u.GRAVI=7]="GRAVI",u[u.DRAGON_HOARD=8]="DRAGON_HOARD",u[u.MAGMA_WYRM=9]="MAGMA_WYRM",u))(Ir||{});const hn={[0]:wn,[1]:sr,[2]:cr,[3]:Zt,[4]:Dr,[5]:xr,[6]:Ct,[7]:Lr,[8]:Rr,[9]:Br};class fm{constructor(){}static getTower(a,n,e={}){switch(typeof a=="string"?parseInt(a):a){case Ir.BARRIER:return pu(n,e);case Ir.ARCHER:return A0(n,e);case Ir.ARACHNE:return T0(n,e);case Ir.PLAGUE:return z0(n,e);case Ir.GRAVI:return I0(n,e);case Ir.KOBOLD:return Z0(n,e);case Ir.PYRO:return rm(n,e);case Ir.DRAGON_HOARD:return om(n,e);case Ir.SIREN:return lm(n,e);case Ir.MAGMA_WYRM:return hm(n,e);default:console.log("Wrong input");break}return pu(n,e)}}const yu={0:{0:{0:u=>{},1:u=>{u.resetData()}}}},pm=(u,a,n,e=!1)=>{const g=n/2,h=n*(2/3);j.push(),j.fill(Na),j.circle(u,a,n*2),j.fill(ti),e&&(j.fill(Tr),j.strokeWeight(3)),j.triangle(u-g,a-h,u-g,a+h,u+h,a),j.pop()},mm=(u,a,n,e=!1)=>{const g=n/2,h=n/3,p=n/5;j.push(),j.fill(Cc),j.circle(u,a,n*2),j.fill(ti),e&&(j.fill(Tr),j.strokeWeight(3)),j.triangle(u-h-p,a-g,u-h-p,a+g,u+g-p,a),j.triangle(u-h+p,a-g,u-h+p,a+g,u+g+p,a),j.pop()},gm=1,ym=(u,a,n,e,g=gm)=>{const h=n*.9,p=dt.Vector.fromAngle(1.75*j.PI).setMag(h);j.push(),j.strokeWeight(g),j.fill(Lp),j.circle(u,a,n*2),j.fill(ti),j.textSize(h*2),j.text("A",u-p.x,a-p.y),e||(j.strokeWeight(5*g),j.line(u-p.x,a-p.y,u+p.x,a+p.y)),j.pop()},ed=10,vm=50,td=j.height-vm,rd=20,bm=10,Ki=2.5,wm=3,xm=(u=ed,a=td,n=rd,e=1,g=!1)=>{let h=u+n;const p=a+n;ym(h,p,n,g),h+=n*Ki,pm(h,p,n,e===1),h+=n*Ki,mm(h,p,n,e>1)},_m=(u,a=ed,n=td,e=rd,g=!1,h=bm)=>{const p=j.createVector(j.mouseX,j.mouseY),t=2;for(let c=0;c<wm;c++){const d=j.createVector(a+Ki*e*c+e,n+e);if(Vt(d,p)<e*e){if(c===0)return[u,!g];if(c===1)return[1,g];if(c===2)return u*2<=h&&u!==0?[u*2,g]:[t,g]}}return[u,g]};class pr{constructor(a,n,e,g,h,p=He,t=j.color(Un),c=j.color(Ft),d=j.CENTER){q(this,"pos");q(this,"width");q(this,"height");q(this,"text");q(this,"onClick");q(this,"textSize");q(this,"buttonColor");q(this,"textColor");q(this,"mode");q(this,"id");this.pos=a,this.width=n,this.height=e,this.text=g,this.onClick=h,this.textSize=p,this.buttonColor=t,this.textColor=c,this.mode=d,this.id=j.random()}show(a=j){a.push(),a.strokeWeight(1),a.fill(this.buttonColor),a.rectMode(this.mode),a.rect(this.pos.x,this.pos.y,this.width,this.height),a.strokeWeight(0),a.textSize(this.textSize),a.textAlign(j.CENTER,j.CENTER),a.fill(this.textColor),a.text(`${this.text}`,this.pos.x,this.pos.y,this.width,this.height),a.pop()}clicked(){return j.mouseX>this.pos.x-this.width/2&&j.mouseX<this.pos.x+this.width/2&&j.mouseY>this.pos.y-this.height/2&&j.mouseY<this.pos.y+this.height/2}}const nd=(u,a,n,e)=>{const g=n/5;j.push(),j.strokeWeight(1),j.stroke(Ft),j.fill(Tr),j.rect(u-n/2,a-g/2,n+2,g+2),j.strokeWeight(0),j.fill(Na),j.rect(u-n/2+1,a-g/2+1,n*e,g),j.pop()},Io=Qo(!1),Eo=Qo(),Sm=()=>{const u=new pr(j.createVector(j.width/2,j.height/2),j.width*.8,j.height*.8,"",g=>{},He*2,j.color(ds)),a=new pr(j.createVector(j.width/2,j.height/3),j.width*.7,j.height*.2,"Congratulation! You beat back those pesky heroes and won the day!",g=>{},He*2,j.color(Ec)),n=new pr(j.createVector(j.width*.3,j.height*.7),j.width*.3,j.height*.2,"Go back to the main menu",g=>{j.createCanvas(0,0),Io.value=!1,Eo.value=void 0},He*2),e=new pr(j.createVector(j.width*.7,j.height*.7),j.width*.3,j.height*.2,"Continue in freeplay",g=>{et.buttonsDisabled=!1,et.removeButton(u.id),et.removeButton(a.id),et.removeButton(n.id),et.removeButton(e.id)},He*2);et.buttons.push(u,a,n,e)},jm=()=>{const u=new pr(j.createVector(j.width/2,j.height/2),j.width*.8,j.height*.8,"",g=>{},He*2,j.color(qi)),a=new pr(j.createVector(j.width/2,j.height/3),j.width*.7,j.height*.2,"Game over! The heroes got you. With the demons and monsters out of the way, the age of infighting for mankind can begin!",g=>{},He*2,j.color(Va)),n=new pr(j.createVector(j.width*.3,j.height*.7),j.width*.3,j.height*.2,"Go back to the main menu",g=>{j.createCanvas(0,0),Io.value=!1,Eo.value=void 0},He*2),e=new pr(j.createVector(j.width*.7,j.height*.7),j.width*.3,j.height*.2,"Retry",g=>{et.removeButton(u.id),et.removeButton(a.id),et.removeButton(n.id),et.removeButton(e.id),et.retry()},He*2);et.buttons.push(u,a,n,e)};class Tm{constructor(){q(this,"gameSpeed",0);q(this,"buttonsDisabled",!1);q(this,"autoStartNextWave",!1);q(this,"drawCount",0);q(this,"frameRateSum",0);q(this,"averageFrameRate",0);q(this,"buttons",[]);q(this,"messageButton");q(this,"showMessage",!0);q(this,"beforeMapMade",!1);q(this,"debugOn",!1);q(this,"map",null);this.messageButton=null}reconstruct(a,n){Ce.buildMapFromJson(a.map.map,st,Yt),st.maxHp=zi*nr.MAOU_HP_MOD,st.hp=zi*nr.MAOU_HP_MOD,this.map=a,this.messageButton=null,s0(n),this.retry(),this.setup(),j.draw=()=>this.draw(),j.mousePressed=()=>this.mousePressed(),j.doubleClicked=()=>this.doubleClicked(),j.keyPressed=e=>this.keyPressed(e)}retry(){this.buttonsDisabled=!1,this.beforeMapMade=!0,this.messageButton=null,this.buttons=[],st.reset(),Yt.reset(),Ce.reConstructGrid(),Ce.buildMapFromJson(this.map.map.map,st,Yt),Ce.generateAllPathsThroughFloodFill(Yt.spawners,st.bases)}setup(){j.createCanvas(j.windowWidth,j.windowHeight),j.background(Un),Ce.generateAllPathsThroughFloodFill(Yt.spawners,st.bases)}draw(){j.background(Un),j.strokeWeight(1),xm(10,j.height-50,20,this.gameSpeed,this.autoStartNextWave),Ce.show(),this.debugOn&&Ce.showDebug(),st.show();for(let n=0;n<this.gameSpeed;n++){const e=Yt.updateAndShow();st.updateTowers(),st.updateProjectiles(),st.showProjectiles(),st.updateMinions(),st.showMinions(),st.updateAndShowVisuals(),e&&(st.addXpToCurrentTowers(),Yt.waveReader.currentWaveNumber===nr.FINAL_WAVE+1&&(Sm(),this.gameSpeed=0,this.buttonsDisabled=!0),this.autoStartNextWave||(this.gameSpeed=0,this.showMessage=!0),od()),st.hp<=0&&(jm(),this.gameSpeed=0,this.buttonsDisabled=!0)}if(this.gameSpeed===0&&(Yt.showUnits(),st.showProjectiles(),st.showMinions(),st.onlyShowVisuals(),this.showMessage)){const n=Yt.waveReader.getMessage(),e=j.height*((n.length*He*.5>j.width*(11/16)?2:1)/24);this.messageButton=new pr(j.createVector(j.width*(3/8),j.height*(7/8)),j.min(n.length*He*.5,j.width*(11/16)),e,n,()=>{this.showMessage=!1},He,j.color([...ao,200])),this.messageButton.show()}j.fill(0),j.textSize(32),j.strokeWeight(He/16),j.text(`Wave: ${Yt.waveReader.currentWaveNumber}`,50,50),j.textSize(16),j.strokeWeight(1),j.text(`Player Level: ${bt.level}`,30,75),nd(30+He*3,90,He*5,bt.getXp()/bt.getRequiredXp()),j.text("Hold s to sell",j.width*(3/4)-130,20),j.text("Hold u to update",j.width*(3/4)-130,40),j.text(`Seed: ${st.currentSeed}`,j.width*(3/4)-160,j.height-10);const a=Ce.getHexVectorFromXY(j.mouseX,j.mouseY);for(const n in hn){const e=hn[n];if(j.keyIsDown(e.keycode)&&st.gold>=e.cost&&Ce.rqVectorIsOnGrid(a,Ce.wallRing)){const g=Ce.grid[a.x][a.y];j.push(),j.fill([...e.rgb,100]),j.strokeWeight(3),ir(g.pos.x,g.pos.y,Ce.hexSize),e.range>0&&(e.range<10?j.circle(g.pos.x,g.pos.y,e.range*4*He):j.circle(g.pos.x,g.pos.y,e.range*2)),j.pop()}}if(j.keyIsDown(83)&&Ce.rqVectorIsOnGrid(a,Ce.wallRing)&&Ce.grid[a.x][a.y].isTower){const n=Ce.grid[a.x][a.y];j.push(),j.fill([...ls,50]),j.strokeWeight(1),ir(n.pos.x,n.pos.y,Ce.hexSize),j.fill(ls),j.strokeWeight(2),Do(n.pos.x,n.pos.y,Ce.hexSize*.6),j.pop()}if(j.keyIsDown(85)&&Ce.rqVectorIsOnGrid(a,Ce.wallRing)&&Ce.grid[a.x][a.y].isTower){const n=Ce.grid[a.x][a.y];h0(n.usageData);let e=`
`;for(const t in n.usageData)e+=`${t}: ${n.usageData[t]}
`;const g=He*16,h=He*19;j.push(),new pr(j.createVector(j.mouseX+g/2,j.mouseY+h/2),g,h,e,()=>{},He,j.color([...ao,200])).show(),j.pop()}for(const n of this.buttons)n.show()}mousePressed(){for(const n of this.buttons)n.clicked()&&n.onClick(n);this.messageButton&&this.messageButton.clicked()&&this.messageButton.onClick();const a=Ce.getHexVectorFromXY(j.mouseX,j.mouseY);for(const n in hn){const e=hn[n];if(j.keyIsDown(e.keycode)&&st.gold>=e.cost&&Ce.rqVectorIsOnGrid(a,Ce.wallRing)){const g=Ce.grid[a.x][a.y],h=g.wall;g.wall=!0;const p=g.canUnit;g.canUnit=!1;const t=g.canWaterUnit;g.canWaterUnit=!1,Ce.generateAllPathsThroughFloodFill(Yt.spawners,st.bases,!0)&&!g.isTower&&st.placeTower(parseInt(n),g)||(g.wall=h,g.canUnit=p,g.canWaterUnit=t);return}}if(j.keyIsDown(83)&&Ce.rqVectorIsOnGrid(a,1)&&Ce.grid[a.x][a.y].isTower){const n=Ce.grid[a.x][a.y];st.sellTower(n),Ce.generateAllPathsThroughFloodFill(Yt.spawners,st.bases);return}if(Ce.rqVectorIsOnGrid(a,Ce.wallRing)&&Ce.grid[a.x][a.y].isTower){st.selectTower(Ce.grid[a.x][a.y]);return}st.clickUpgrade(j.keyIsDown(85)),this.buttonsDisabled||([this.gameSpeed,this.autoStartNextWave]=_m(this.gameSpeed,10,j.height-50,20,this.autoStartNextWave)),j.mouseX<j.width*(3/4)&&st.deSelectTower()}doubleClicked(){const a=Ce.getHexVectorFromXY(j.mouseX,j.mouseY);if(Ce.rqVectorIsOnGrid(a,Ce.wallRing)&&Ce.grid[a.x][a.y].isTower){Ce.grid[a.x][a.y].castUlt();return}}keyPressed(a){if(!a.ctrlKey||!j.keyIsDown(67))return;const n=prompt("What cheat would you like to use? (money, lives, ult, xp, wave:<number> aka wave:5)","");if(n==="money"&&(st.gold+=1e5),n==="lives"&&(st.hp+=1e5),n==="xp"&&bt.addXp(1e9,st.towers),n==="reset"&&Mm(),n==="debug"&&(this.debugOn=!this.debugOn),n==="ult")for(const e of st.towers)e.ultCurrentCooldown=0;if((n==null?void 0:n.substring(0,4))==="wave"){const e=parseInt(n.substring(5));!Number.isNaN(e)&&e<1e3&&(Yt.waveReader.currentWaveNumber=e-1)}if((n==null?void 0:n.substring(0,1))==="w"){const e=parseInt(n.substring(1));!Number.isNaN(e)&&e<1e3&&(st.gold+=Yt.waveReader.skipToWaveWithProperGold(e))}}addLevelUpMessage(a){this.gameSpeed=0,this.buttons.push(new pr(j.createVector(j.width/2,j.height/2),j.width*(2/3),j.height/2,a,n=>{this.removeButton((n==null?void 0:n.id)??0),this.gameSpeed=1},He*2,j.color(Fs)))}removeButton(a){for(let n=0;n<this.buttons.length;n++)if(this.buttons[n].id===a){this.buttons.splice(n,1);return}}}let et=new Tm;const Em=(u,a)=>{et.reconstruct(u,a)},vu={2:()=>{bt.towersData.Barricade.unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Barricade! You can use it to set up your maze cheaply and early.")},3:()=>{bt.towersData.Kobold.unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Kobold! It fires fast in a small radius, and fires even faster when it gets fired up.")},4:()=>{bt.towersData.Arachne.unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Arachne! She can spin webs that slow your enemies.")},5:()=>{bt.towersData["Plague Slinger"].unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Plague Slinger! Plague Slingers throw vials of poison at your enemies, slow working, but high damage potential, especially against armor.")},6:()=>{bt.towersData.Siren.unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Siren! Only place this tower in the water! The Siren sings a song that entrances your enemies into abandoning their quest and seeking the Siren, sadly damage can break the trance.")},7:()=>{bt.towersData.Pyromaniac.unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Pyromaniac! Armed with a short range flame thrower and the ability to learn various other fire attacks, the Pyro is a high damage elite.")},8:()=>{bt.towersData["Gravi-tech Tower"].unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Gravi-tech Tower! The Gravi-tech emits a gravitational field around itself that pulls enemies in, the heavier the unit, the stronger the effect, but overcharges when too many enemies enter its field.")},9:()=>{bt.towersData["Dragon Hoard"].unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Dragon Hoard! Dragon Hoards are expensive, but magically generate more gold every round. And who knows, you might even be able to attract a dragon.")},10:()=>{bt.towersData["Magma Wyrm"].unlocked=!0,et==null||et.addLevelUpMessage("Level up! Congratulations, you unlocked the Magma Wyrm! You can only place this tower in lava! Like all lava towers, the Magma Wyrm expires after a certain number of turns, visible through the stars around its symbol, turning the lava tile into an unstable one. A cheap and strong tower, but only for a short time. You get no money back for selling Lava towers!")},11:()=>{bt.transmutationEssence+=110,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},12:()=>{bt.transmutationEssence+=120,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},13:()=>{bt.transmutationEssence+=130,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},14:()=>{bt.transmutationEssence+=140,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},15:()=>{bt.transmutationEssence+=150,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},16:()=>{bt.transmutationEssence+=160,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},17:()=>{bt.transmutationEssence+=170,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},18:()=>{bt.transmutationEssence+=180,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},19:()=>{bt.transmutationEssence+=190,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},20:()=>{bt.transmutationEssence+=200,et==null||et.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")}};class ii{constructor(a,n,e){q(this,"username");q(this,"password");q(this,"email");q(this,"lastUpdatedVersion");q(this,"transmutationEssence");q(this,"level");q(this,"levelUpExponent");q(this,"levelUpScalar");q(this,"xp");q(this,"xpRequired");q(this,"towersData");this.username=a,this.password=n,this.email=e,this.lastUpdatedVersion="0.0.0",this.level=1,this.levelUpExponent=1.5,this.levelUpScalar=100,this.xp=0,this.xpRequired=Math.pow(this.level,this.levelUpExponent+this.level/10)*this.levelUpScalar,this.towersData={};for(const g in hn)this.towersData[hn[g].name]={unlocked:!1,xp:0,xpRequired:Math.pow(1,this.levelUpExponent+1/10)*this.levelUpScalar,unlocksAvailable:0,upgradesUnlocked:["A","B","C"],mods:{1:null,2:null,3:null}};this.towersData.Archer.unlocked=!0,this.transmutationEssence=0}addXp(a,n){this.xp+=a,this.xp>=this.xpRequired&&this.levelUp();const e=a/n.length;for(const g of n)this.towersData[g.name].xp+=e,this.towersData[g.name].xp>=this.towersData[g.name].xpRequired&&this.towerAddUnlock(this.towersData[g.name])}levelUp(){this.xp-=this.xpRequired,this.level++,this.xpRequired=Math.pow(this.level,this.levelUpExponent+this.level/10)*this.levelUpScalar,this.level in vu&&vu[this.level]()}towerAddUnlock(a){a.xp-=a.xpRequired,a.unlocksAvailable++;const n=a.unlocksAvailable+a.upgradesUnlocked.length-2;a.xpRequired=Math.pow(n,this.levelUpExponent+n/10)*this.levelUpScalar}getXp(){return j.floor(this.xp)}getRequiredXp(){return j.ceil(this.xpRequired)}towerUnlockUpgrade(a,n){return this.towersData[a].unlocksAvailable<1||n in this.towersData[a].upgradesUnlocked?!1:(this.towersData[a].upgradesUnlocked.push(n),this.towersData[a].unlocksAvailable--,!0)}checkAndRunVersionUpdates(){if(this.lastUpdatedVersion===lu)return;const a=this.lastUpdatedVersion.split(".");for(const n in yu){const e=yu[n];for(const g in e){const h=e[g];for(const p in h)(parseInt(n)>parseInt(a[0])||parseInt(n)===parseInt(a[0])&&(parseInt(g)>parseInt(a[1])||parseInt(g)===parseInt(a[1])&&parseInt(p)>parseInt(a[2])))&&h[p](this)}}this.lastUpdatedVersion=lu}resetData(){const a=new ii(this.username,this.password,this.email);for(const n in a)this[n]=a[n]}}const Cm=(u="Nameless",a="guest",n="tester@hotmail.com")=>{const e=new ii(u,a,n);if(localStorage.getItem("user")){const g=JSON.parse(localStorage.getItem("user"));for(const h in g)e[h]=g[h]}return e.checkAndRunVersionUpdates(),e},od=()=>{localStorage.setItem("user",JSON.stringify(bt))},Mm=(u="Nameless",a="guest",n="tester@hotmail.com")=>{const e=new ii(u,a,n);for(const g in e)bt[g]=e[g];bt.checkAndRunVersionUpdates(),od()},Am=Cm(),bt=Am,Rm=0,Om=1,bu=(u,a,n,e=Rm,g=ao,h=Om)=>{const p=n/2,t=n/4,c=n*(3/8);j.push(),j.strokeWeight(h),j.fill(Ft),j.translate(u,a),j.rotate(e),j.beginShape(),j.vertex(-p,-c),j.quadraticVertex(-p,-p,-c,-p),j.vertex(c,-p),j.quadraticVertex(p,-p,p,-c),j.vertex(p,c),j.quadraticVertex(p,p,c,p),j.vertex(-c,p),j.quadraticVertex(-p,p,-p,c),j.endShape(j.CLOSE),j.noFill(),j.strokeWeight(h*4),j.curve(-t*1.3,n*2.5,-t*1.3,-p,t*1.3,-p,t*1.3,n*2.5),j.strokeWeight(0),j.fill(g),j.circle(0,-t/2,t),j.rect(-n/16,-t/2,n/8,n/3),j.pop()},Zi=new kn(0,0,j.windowWidth,j.windowHeight,3,7);class Pm{constructor(a,n={}){q(this,"maxHp");q(this,"hp");q(this,"gold");q(this,"color");q(this,"menuColor");q(this,"hexSize");q(this,"selectedTower");q(this,"selectedUpgrade");q(this,"bases");q(this,"towers");q(this,"projectiles");q(this,"minions");q(this,"visualEffects");q(this,"pathsToGenerate");q(this,"currentSeed");q(this,"accumulatedXp");q(this,"upgradeButton");this.maxHp=a*nr.MAOU_HP_MOD,this.hp=this.maxHp,this.gold=1500,this.color=n.color??j.color(ds),this.menuColor=n.menuColor??j.color(Gp),this.hexSize=n.hexSize??He,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedUpgrade=null,this.projectiles=[],this.visualEffects=[],this.minions=[],this.pathsToGenerate=[],this.currentSeed="",this.accumulatedXp=0,this.upgradeButton=new pr(j.createVector(0,0),0,0,"",()=>{})}reset(){this.hp=this.maxHp,this.gold=1500,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedUpgrade=null,this.projectiles=[],this.visualEffects=[],this.minions=[],this.pathsToGenerate=[],this.accumulatedXp=0,this.upgradeButton=new pr(j.createVector(0,0),0,0,"",()=>{})}show(){const a=j.width*.75,n=j.width-a,e=n/100,g=j.height/100,h=g*15;if(j.height-h,j.strokeWeight(this.hexSize/12),j.fill(this.menuColor),j.stroke(Ft),j.rect(a,0,n,j.height),j.line(a,h,j.width,h),j.textSize(this.hexSize*1.5),j.fill(0),j.text(`${this.gold}`,a+e*10,g*8),j.text(`${this.hp}`,a+e*60,g*8),j.fill(ls),Do(a+e*40,g*8-this.hexSize*.5,this.hexSize*.8),c0(a+e*90,g*8-this.hexSize*.5,this.hexSize*1.4),this.selectedTower)this.showSelectedTower();else{j.textSize(this.hexSize*1.2);for(const p in hn){const t=parseInt(p),c=hn[t],d=j.createVector(a+e*15,h+g*(8+8*t));j.strokeWeight(1),j.fill(c.rgb),ir(d.x,d.y,this.hexSize*1.2),j.fill(0),j.strokeWeight(0),j.text(`${c.name}: ${j.round(c.cost*nr.TOWER_COST_MOD)} (${c.hotkey})`,d.x+e*10,d.y+this.hexSize/3),bt.towersData[c.name].unlocked?c.showSymbol(j.createVector(d.x,d.y),this.hexSize*1.2,{}):(j.push(),j.fill(Ft),bu(d.x,d.y,this.hexSize),j.pop())}}}showSelectedTower(){if(!this.selectedTower)return;const a=j.width*(3/4),n=j.width-a,e=n/100,g=j.height/100,h=g*15,p=j.height-h;j.push(),this.selectedTower.showRange();const t=j.createVector(j.width-this.hexSize*2,h+this.hexSize*2),c=this.hexSize,d=j.createVector(a+n/2,h+p/4),m=h+p/2;j.fill(Nr),u0(t.x+c/2,t.y-c/2,c,1),j.textAlign(j.CENTER,j.CENTER),j.strokeWeight(1),bt.towersData[this.selectedTower.name].upgradesUnlocked.length<15&&(j.textSize(this.hexSize),j.fill(Ft),j.text(`Unlocks Available: ${bt.towersData[this.selectedTower.name].unlocksAvailable}`,d.x-e*10,d.y+g*19),nd(d.x+e*30,d.y+g*19,e*20,j.min(bt.towersData[this.selectedTower.name].xp/bt.towersData[this.selectedTower.name].xpRequired,1))),this.selectedTower.show(d),j.textSize(this.hexSize*.6);let f=0,o=0,r=this.hexSize*2;for(const s in this.selectedTower.upgrades){const i=this.selectedTower.upgrades[s],l=j.createVector(d.x+j.cos(o)*r,d.y+j.sin(o)*r);i.purchased?j.fill(Na):i.available?j.fill(uu):j.fill(qi),j.strokeWeight(1),this.selectedUpgrade===i&&j.strokeWeight(3),ir(l.x,l.y,this.hexSize),j.fill(Ft),j.strokeWeight(1),bt.towersData[this.selectedTower.name].upgradesUnlocked.includes(s)?j.text(s,l.x,l.y):bu(l.x,l.y,this.hexSize*.8),o+=j.TWO_PI/3,f++,f%3===0&&(r+=this.hexSize*2,f===6&&(r-=this.hexSize*4,o+=j.PI/3))}if(j.strokeWeight(2),j.line(a,m,j.width,m),this.selectedUpgrade){const s=a+e*50;j.strokeWeight(1),j.textSize(this.hexSize*.8),j.text(`${this.selectedUpgrade.name}`,s,m+g*6),j.text(`Cost: ${j.round(this.selectedUpgrade.cost*nr.TOWER_COST_MOD)}`,s,m+g*12),j.rectMode(j.CENTER),j.text(`${this.selectedUpgrade.description}`,s,m+g*25,e*80,g*25),this.upgradeButton=new pr(j.createVector(s,m+g*35),e*35,g*5,bt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedUpgrade.purchased?"Obtained":"Purchase":"Unlock",()=>{!this.selectedTower||!this.selectedUpgrade||!this.selectedUpgrade.available||(bt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedTower.purchaseUpgrade(this.selectedUpgrade):bt.towersData[this.selectedTower.name].unlocksAvailable>0&&bt.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id))},this.hexSize*1.2,this.selectedUpgrade.available?j.color(uu):j.color(qi),j.color(Ft)),this.upgradeButton.show()}j.pop()}update(){return!0}generateAllNeccesaryPaths(){Ce.generateAllPathsThroughFloodFill(Yt.spawners,this.bases);for(const a of this.pathsToGenerate)Ce.generateAllPathsThroughFloodFill(Yt.spawners,a.origin,!1,a.name,a.waterCost,a.stopAfter)}moveBuffs(a,n){for(const e of a.buffs)n.applyBuff(e)}placeTower(a,n){const e=hn[a];let g="canTower";if(e.towerType==="WATER"&&(g="canWaterTower"),e.towerType==="LAVA"&&(g="canLavaTower"),n.isTower||!n[g]||!bt.towersData[e.name].unlocked)return!1;const h=this.checkCostThroughBuffs(n,j.round(e.cost*nr.TOWER_COST_MOD),e.name),p=fm.getTower(a,n,{changedCost:h});return this.towers.push(p),Ce.addTowerToGrid(p),this.moveBuffs(n,p),this.gold-=h,this.generateAllNeccesaryPaths(),!0}checkCostThroughBuffs(a,n,e){let g=n;for(const h of a.buffs)g=h.onPurchase(a,g,e);return g}sellTower(a){if(!a.isTower)return!1;for(let n=this.towers.length-1;n>=0;n--)this.towers[n].r===a.r&&this.towers[n].q===a.q&&(this.towers[n].onSell(),this.gold+=j.round(this.towers[n].spendValue*nr.TOWER_SELL_MOD),this.towers.splice(n,1));return Ce.removeTowerFromGrid(a),this.moveBuffs(a,Ce.grid[a.r][a.q]),!0}selectTower(a){this.selectedUpgrade=null,this.selectedTower=a}deSelectTower(){this.selectedTower=null,this.selectedUpgrade=null}clickUpgrade(a=!1){if(this.upgradeButton.clicked()&&this.upgradeButton.onClick(),!this.selectedTower)return;const n=j.width*(3/4),e=j.width-n,h=j.height/100*15,p=j.height-h,t=j.createVector(n+e/2,h+p/4);let c=0,d=0,m=this.hexSize*2;for(const f in this.selectedTower.upgrades){const o=this.selectedTower.upgrades[f],r=j.createVector(t.x+j.cos(d)*m,t.y+j.sin(d)*m);Vt(j.createVector(j.mouseX,j.mouseY),r)<this.hexSize*this.hexSize&&(this.selectedUpgrade=o,a&&!o.purchased&&o.available&&(bt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedTower.purchaseUpgrade(this.selectedUpgrade):bt.towersData[this.selectedTower.name].unlocksAvailable>0&&bt.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id))),d+=j.TWO_PI/3,c++,c%3===0&&(m+=this.hexSize*2,c===6&&(m-=this.hexSize*4,d+=j.PI/3))}}updateTowers(){for(const a of this.towers)a.update()||this.sellTower(Ce.grid[a.r][a.q])}addProjectile(a){this.projectiles.push(a)}updateProjectiles(){Zi.emptyQuadTree();for(let a=this.projectiles.length-1;a>=0;a--){if(this.projectiles[a].update()){this.projectiles.splice(a,1);continue}Zi.insert(new Xi(this.projectiles[a].pos,this.projectiles[a]))}}showProjectiles(){for(let a=this.projectiles.length-1;a>=0;a--)this.projectiles[a].show()}addMinion(a){this.minions.push(a)}updateMinions(){for(let a=this.minions.length-1;a>=0;a--)this.minions[a].update()&&this.minions.splice(a,1);Gs.emptyQuadTree();for(let a=this.minions.length-1;a>=0;a--)Gs.insert(new Xi(this.minions[a].pos,this.minions[a]))}showMinions(){for(let a=this.minions.length-1;a>=0;a--)this.minions[a].show()}addVisual(a){this.visualEffects.push(a)}updateAndShowVisuals(){for(let a=this.visualEffects.length-1;a>=0;a--)if(this.visualEffects[a].update()){const e=this.visualEffects[a].onExpire();this.visualEffects.splice(a,1),e&&this.addVisual(e)}}onlyShowVisuals(){for(let a=this.visualEffects.length-1;a>=0;a--)this.visualEffects[a].show(this.visualEffects[a])}addBaseToMaou(a){this.bases.push(a)}unitReachedBase(a,n){const e=n.getHexVectorFromXY(a.pos.x,a.pos.y);return n.hexInArray(n.grid[e.x][e.y],this.bases)?(this.hp-=a.damage,!0):!1}unitDied(a){this.gold+=a.goldValue,this.accumulatedXp+=a.xpValue,this.addXpToCurrentTowers()}addXpToCurrentTowers(){bt.addXp(this.accumulatedXp,this.towers),this.accumulatedXp=0}}const km=new Pm(zi),st=km,zr={name:"Bomber",discription:"Bombers run quickly, and deal high damage, but are a danger to their friends on death.",hp:50,hpScaling:4,damage:75,speed:yt*2,force:yt*.2,mass:1,gold:5,xp:10,baseLevel:8,rgb:Ns,explosionRadius:He};class Lm extends Er{constructor(n,e,g,h={}){super(n,e,g,h);q(this,"explosionRadius");this.explosionRadius=zr.explosionRadius}die(){if(this.dead)return;super.die();const n=Ht.inRangeCircle(this.pos,this.explosionRadius),e=Gs.inRangeCircle(this.pos,this.explosionRadius),g=[...n,...e];for(const h of g){const p=this.maxHp/2;h.takeDamage(new yr("EXPLOSION",p))}st.addVisual(ni(this.pos,this.explosionRadius*2,4))}}const Dm=(u,a)=>new Lm(u.x,u.y,gr,{desiredSpeed:zr.speed,maxForce:zr.force,hp:zr.hp+(a-zr.baseLevel)*zr.hpScaling,damage:zr.damage,goldValue:j.max(zr.gold-(a-zr.baseLevel),1),xpValue:zr.xp,color:j.color(zr.rgb)}),sn={name:"Farmer",discription:"A simple farmer, recruited to get rid of a low level threat.",hp:40,hpScaling:5,damage:10,speed:yt*1,force:yt*.1,mass:1,gold:25,xp:10,baseLevel:1,rgb:Bp};class Im extends Er{constructor(a,n,e,g={}){super(a,n,e,g)}}const wu=(u,a)=>new Im(u.x,u.y,gr,{desiredSpeed:sn.speed,maxForce:sn.force,hp:sn.hp+(a-sn.baseLevel)*sn.hpScaling,damage:sn.damage,goldValue:j.max(sn.gold-(a-sn.baseLevel),1),xpValue:sn.xp,color:j.color(sn.rgb)}),an={name:"Swordsman",discription:"A simple swordsman, slightly trained, unlike the farmers.",hp:120,hpScaling:8,damage:20,speed:yt*1.5,force:yt*.12,mass:1,gold:32,xp:20,baseLevel:3,rgb:Sp};class Bm extends Er{constructor(a,n,e,g={}){super(a,n,e,g)}}const Um=(u,a)=>new Bm(u.x,u.y,gr,{desiredSpeed:an.speed,maxForce:an.force,hp:an.hp+(a-an.baseLevel)*an.hpScaling,damage:an.damage,goldValue:j.max(an.gold-(a-an.baseLevel),1),xpValue:an.xp,color:j.color(an.rgb)}),Wr={name:"Heavy Weight",discription:"A heavy unit, moves slowly, but with great bulk comes great health.",hp:500,hpScaling:35,damage:25,speed:yt*.8,force:yt*.05,mass:2,gold:50,xp:35,baseLevel:6,rgb:Op};class Fm extends Er{constructor(a,n,e,g={}){super(a,n,e,g)}}const Nm=(u,a)=>new Fm(u.x,u.y,gr,{desiredSpeed:Wr.speed,maxForce:Wr.force,hp:Wr.hp+(a-Wr.baseLevel)*Wr.hpScaling,damage:Wr.damage,mass:Wr.mass,goldValue:j.max(Wr.gold-(a-Wr.baseLevel),1),xpValue:Wr.xp,color:j.color(Wr.rgb)}),ar={name:"Paladin",discription:"A heavyly armored holy warrior, heals himself by the blessing of the divine.",hp:2e3,hpScaling:110,damage:250,speed:yt*.6,force:yt*.25,mass:2.5,gold:150,xp:100,baseLevel:10,healBy:1,healScaling:.25,healCooldown:10,rgb:Pp};class Gm extends Er{constructor(n,e,g,h={}){super(n,e,g,h);q(this,"currentHealCooldown");q(this,"healCooldown");q(this,"healBy");this.currentHealCooldown=ar.healCooldown,this.healCooldown=ar.healCooldown,this.healBy=h.healAmount,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.healSelf())}healSelf(){this.getHeal(this.healBy)}}const Vm=(u,a)=>new Gm(u.x,u.y,gr,{desiredSpeed:ar.speed,maxForce:ar.force,hp:ar.hp+(a-ar.baseLevel)*ar.hpScaling,damage:ar.damage,mass:ar.mass,goldValue:j.max(ar.gold-(a-ar.baseLevel),1),xpValue:ar.xp,color:j.color(ar.rgb),healAmount:ar.healBy+(a-ar.baseLevel)*ar.healScaling}),Hr={name:"Rusher",discription:"Rushers sprint right through your defenses.",hp:270,hpScaling:15,damage:30,speed:yt*3.2,force:yt*.4,mass:.75,gold:33,xp:55,baseLevel:16,rgb:Va};class Wm extends Er{constructor(a,n,e,g={}){super(a,n,e,g)}}const sd=(u,a,n=!1)=>new Wm(u.x,u.y,gr,{desiredSpeed:Hr.speed,maxForce:Hr.force,hp:Hr.hp+(a-Hr.baseLevel)*Hr.hpScaling,damage:Hr.damage,mass:Hr.mass,goldValue:n?0:j.max(Hr.gold-(a-Hr.baseLevel),1),xpValue:Hr.xp,color:j.color(Hr.rgb)}),lr={name:"Healer",discription:"The Healer heals everyone in around them.",hp:400,hpScaling:20,damage:10,speed:yt*1.3,force:yt*.1,mass:1,gold:50,xp:60,baseLevel:17,healAmount:20,healScaling:2,healCooldown:100,healRange:He*4,rgb:Ec};class Hm extends Er{constructor(n,e,g,h={}){super(n,e,g,h);q(this,"currentHealCooldown");q(this,"healCooldown");q(this,"healAmount");q(this,"healRange");this.currentHealCooldown=lr.healCooldown,this.healCooldown=lr.healCooldown,this.healAmount=h.healAmount,this.healRange=lr.healRange,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.heal())}heal(){const n=Ht.inRangeCircle(this.pos,this.healRange);for(const e of n)e.getHeal(this.healAmount)}}const zm=(u,a)=>new Hm(u.x,u.y,gr,{desiredSpeed:lr.speed,maxForce:lr.force,hp:lr.hp+(a-lr.baseLevel)*lr.hpScaling,damage:lr.damage,goldValue:j.max(lr.gold-(a-lr.baseLevel),1),xpValue:lr.xp,color:j.color(lr.rgb),healAmount:lr.healAmount+(a-lr.baseLevel)*lr.healScaling}),Mr={name:"Summoner",discription:"Slow moving unit that summons rushers as long as she lives.",hp:4e3,hpScaling:75,damage:100,speed:yt*.5,force:yt*.3,mass:2,gold:200,xp:200,baseLevel:20,summonCooldown:160,rgb:Up};class qm extends Er{constructor(n,e,g,h={}){super(n,e,g,h);q(this,"currentSummonCooldown");q(this,"summonCooldown");this.currentSummonCooldown=Mr.summonCooldown,this.summonCooldown=Mr.summonCooldown,this.abilityCounters=["currentSummonCooldown"]}update(){super.update(),this.currentSummonCooldown--,this.currentSummonCooldown<=0&&(this.currentSummonCooldown=this.summonCooldown,this.summonRusher())}summonRusher(){Yt.units.push(sd(this.pos.copy(),this.level,!0))}}const Xm=(u,a)=>new qm(u.x,u.y,gr,{desiredSpeed:Mr.speed,maxForce:Mr.force,hp:Mr.hp+(a-Mr.baseLevel)*Mr.hpScaling,damage:Mr.damage,mass:Mr.mass,goldValue:j.max(Mr.gold-(a-Mr.baseLevel),1),xpValue:Mr.xp,color:j.color(Mr.rgb),level:a}),ln={name:"Knight",discription:"A knight on a quest to slay an evil monster. Apparantly you qualify",hp:1100,hpScaling:50,damage:50,speed:yt*1.7,force:yt*.18,mass:1,gold:75,xp:100,baseLevel:23,rgb:jp};class Ym extends Er{constructor(a,n,e,g={}){super(a,n,e,g)}}const $m=(u,a)=>new Ym(u.x,u.y,gr,{desiredSpeed:ln.speed,maxForce:ln.force,hp:ln.hp+(a-ln.baseLevel)*ln.hpScaling,damage:ln.damage,goldValue:j.max(ln.gold-(a-ln.baseLevel),1),xpValue:ln.xp,color:j.color(ln.rgb)}),Km=(u,a,n=25,e=j.color(Ac))=>new Oo(u,a,n,e,[],g=>{j.push(),j.stroke(e),j.strokeWeight(3),j.noFill(),j.circle(g.pos.x,g.pos.y,2*a*((n-g.duration)/n)),j.pop()},()=>{}),ur=Object.freeze({name:"Protector",discription:"The Protector sends out a wave that repels projectiles.",hp:250,hpScaling:10,damage:15,speed:yt*1.5,force:yt*.15,mass:1,gold:55,xp:55,baseLevel:25,pulseRange:He*4,pulseForce:yt*10,pulseDuration:25,pulseCooldown:75,rgb:Ac});class Zm extends Er{constructor(n,e,g,h={}){super(n,e,g,h);q(this,"currentPulseCooldown");q(this,"pulseCooldown");q(this,"pulseRange");q(this,"pulseDuration");q(this,"currentPulseDuration");q(this,"pulseForce");q(this,"pulseOrigin");this.currentPulseCooldown=ur.pulseCooldown,this.pulseCooldown=ur.pulseCooldown,this.pulseRange=ur.pulseRange,this.abilityCounters=["currentPulseCooldown"],this.pulseDuration=ur.pulseDuration,this.currentPulseDuration=ur.pulseDuration,this.pulseForce=ur.pulseForce,this.pulseOrigin=this.pos}update(){super.update(),this.currentPulseCooldown--,this.currentPulseCooldown<=0&&(this.currentPulseCooldown=this.pulseCooldown,this.castPulse()),this.currentPulseDuration>0&&(this.currentPulseDuration--,this.advancePulse())}castPulse(){this.pulseOrigin=this.pos.copy(),this.currentPulseDuration=this.pulseDuration,st.addVisual(Km(this.pulseOrigin,this.pulseRange,this.pulseDuration))}advancePulse(){const n=this.pulseRange*((this.pulseDuration-this.currentPulseDuration)/this.pulseDuration),e=this.pulseRange*(j.max(this.pulseDuration-(this.currentPulseDuration+3),0)/this.pulseDuration),g=Zi.inRangeCircleFromMin(this.pulseOrigin,n,e);for(const h of g){const p=dt.Vector.sub(h.pos,this.pulseOrigin).setMag(this.pulseForce);h.applyForce(p)}}}const Qm=(u,a)=>new Zm(u.x,u.y,gr,{desiredSpeed:ur.speed,maxForce:ur.force,hp:ur.hp+(a-ur.baseLevel)*ur.hpScaling,damage:ur.damage,goldValue:j.max(ur.gold-(a-ur.baseLevel),1),xpValue:ur.xp,color:j.color(ur.rgb)}),Jm=0,eg=2,xu=(u,a,n,e=Jm,g=eg)=>{const h=n*.2;j.push(),j.translate(u,a),j.rotate(e),j.triangle(0,-h*4,h*.8,h*2,-h*.8,h*2),j.strokeWeight(g*1.5),j.line(0,h*3.5,0,h*2.1),j.strokeWeight(g),j.line(h,h*2,-h,h*2),j.pop()},tg=(u,a,n,e="Command",g="PASSIVE")=>new Qr(e,u,g,h=>{},(h,p)=>{j.push(),j.fill(Dc),j.stroke(0),j.strokeWeight(0),xu(p.x,p.y,h.size*(1/3),j.PI/4,.5),xu(p.x,p.y,h.size*(1/3),-j.PI/4,.5),j.pop()},h=>{h.desiredSpeed=a,h.additiveMaxForceBuffs.push(n),h.recalcMaxForceBuffs()},h=>{h.desiredSpeed=h.baseDesiredSpeed;for(let p=0;p<h.additiveMaxForceBuffs.length;p++)if(h.additiveMaxForceBuffs[p]===n){h.additiveMaxForceBuffs.splice(p,1);break}h.recalcMaxForceBuffs()}),wr=Object.freeze({name:"Commander",discription:"The Commander leads those around her to work together, combining a loose militia into an effective force.",hp:4500,hpScaling:110,damage:200,speed:yt*1.6,force:yt*.2,mass:2,gold:350,xp:450,baseLevel:30,commandCooldown:10,commandSpeed:yt*1.6,commandExtraForce:yt*.2,commandRange:He*5,rgb:Ip});class rg extends Er{constructor(n,e,g,h={}){super(n,e,g,h);q(this,"currentCommandCooldown");q(this,"commandCooldown");q(this,"commandSpeed");q(this,"commandExtraForce");q(this,"commandRange");this.currentCommandCooldown=wr.commandCooldown,this.commandCooldown=wr.commandCooldown,this.commandSpeed=wr.commandSpeed,this.commandExtraForce=wr.commandExtraForce,this.commandRange=wr.commandRange,this.abilityCounters=["currentCommandCooldown"]}update(){super.update(),this.currentCommandCooldown--,this.currentCommandCooldown<=0&&(this.currentCommandCooldown=this.commandCooldown,this.command())}command(){const n=Ht.inRangeCircle(this.pos,this.commandRange);for(const e of n)e.applyStatus(tg(this.commandCooldown*2,this.commandSpeed,this.commandExtraForce),!0)}}const ng=(u,a)=>new rg(u.x,u.y,gr,{desiredSpeed:wr.speed,maxForce:wr.force,hp:wr.hp+(a-wr.baseLevel)*wr.hpScaling,damage:wr.damage,goldValue:j.max(wr.gold-(a-wr.baseLevel),1),xpValue:wr.xp,color:j.color(wr.rgb)});var We=(u=>(u[u.FARMER=0]="FARMER",u[u.SWORDSMAN=1]="SWORDSMAN",u[u.HEAVYWEIGHT=2]="HEAVYWEIGHT",u[u.BOMBER=3]="BOMBER",u[u.PALADIN=4]="PALADIN",u[u.BERSERKER=5]="BERSERKER",u[u.RUSHER=6]="RUSHER",u[u.HEALER=7]="HEALER",u[u.SUMMONER=8]="SUMMONER",u[u.KNIGHT=9]="KNIGHT",u[u.PROTECTOR=10]="PROTECTOR",u[u.COMMANDER=11]="COMMANDER",u))(We||{});const og=(u,a,n,e=0,g=j)=>{const h=n/2,p=n*(3/8),t=n*(1/11),c={x:0,y:-h},d={x:0,y:h},m={x:p,y:-p},f={x:-p,y:-p};g.push(),g.translate(u,a),g.rotate(e),g.beginShape(),g.vertex(f.x,f.y),g.quadraticVertex(-t*2,-t*3,c.x,c.y),g.quadraticVertex(t*2,-t*3,m.x,m.y),g.quadraticVertex(t*4,t*5,d.x,d.y),g.quadraticVertex(-t*4,t*5,f.x,f.y),g.endShape(g.CLOSE),g.pop()},wo={STEEL:{hpMultiplier:1.5,damageReductionFlatPerType:{PHYSICAL:2,POISON:0,FIRE:1,EXPLOSION:2,DROWN:0},damageReductionPercentPerType:{PHYSICAL:.5,POISON:0,FIRE:.5,EXPLOSION:1,DROWN:0},weight:1,color:Dc},MITHRIL:{hpMultiplier:3,damageReductionFlatPerType:{PHYSICAL:10,POISON:1,FIRE:5,EXPLOSION:10,DROWN:0},damageReductionPercentPerType:{PHYSICAL:2/3,POISON:.25,FIRE:2/3,EXPLOSION:1,DROWN:0},weight:.2,color:as}};class sg{constructor(a,n){q(this,"type");q(this,"hp");q(this,"maxHp");q(this,"hpPercentToAlpha");q(this,"damageReductionFlatPerType");q(this,"damageReductionPercentPerType");q(this,"weight");q(this,"color");this.type=a,this.maxHp=n*wo[a].hpMultiplier,this.hp=n*wo[a].hpMultiplier,this.hpPercentToAlpha=255,this.damageReductionFlatPerType=wo[a].damageReductionFlatPerType,this.damageReductionPercentPerType=wo[a].damageReductionPercentPerType,this.weight=wo[a].weight,this.color=wo[a].color}reduceDamage(a){a.amount=j.max(a.amount-this.damageReductionFlatPerType[a.type],0);const n=a.amount*this.damageReductionPercentPerType[a.type];return this.hp-=n,a.amount=j.max(a.amount-n,0),this.hpPercentToAlpha=55+this.hp/this.maxHp*200,a}show(a,n,e){j.push(),j.strokeWeight(1),j.stroke(this.color),j.fill([...this.color,this.hpPercentToAlpha]),og(a.x,a.y,n*.8),j.pop()}}class _u{constructor(){}static getUnit(a,n,e,g){let h;switch(a){case We.FARMER:h=wu(n,e);break;case We.SWORDSMAN:h=Um(n,e);break;case We.HEAVYWEIGHT:h=Nm(n,e);break;case We.BOMBER:h=Dm(n,e);break;case We.PALADIN:h=Vm(n,e);break;case We.BERSERKER:h=l0(n,e);break;case We.RUSHER:h=sd(n,e);break;case We.HEALER:h=zm(n,e);break;case We.SUMMONER:h=Xm(n,e);break;case We.KNIGHT:h=$m(n,e);break;case We.PROTECTOR:h=Qm(n,e);break;case We.COMMANDER:h=ng(n,e);break;default:console.log("Wrong input"),h=wu(n,e);break}if(!g)return h;const p=new sg(g,h.hp);return h.addArmor(p),h}}const id={wave:[],message:"First come just some lowly Farmers, should be no issue."};for(let u=0;u<12;u++)id.wave.push({unit:We.FARMER,cooldown:100});const ad={wave:[],message:"More of the same thing, just slightly closer together."};for(let u=0;u<15;u++)ad.wave.push({unit:We.FARMER,cooldown:70});const ld={wave:[],message:"Swordsmen are slightly stronger than farmers, still though, no self respecting overlord should be having issues at this point."};for(let u=0;u<12;u++)ld.wave.push({unit:We.SWORDSMAN,cooldown:90});const Qi={wave:[],message:"This time they're both coming at you."};for(let u=0;u<7;u++){for(let a=0;a<2;a++)Qi.wave.push({unit:We.FARMER,cooldown:35});Qi.wave.push({unit:We.SWORDSMAN,cooldown:100})}const Ji={wave:[],message:"Those cowardly Farmers think they're safer in groups. Let's show them how wrong they are."};for(let u=0;u<7;u++){for(let a=0;a<5;a++)Ji.wave.push({unit:We.FARMER,cooldown:5});Ji.wave.push({unit:We.FARMER,cooldown:160})}const ro={wave:[],message:"The first Heavyweights are about to show up, they can take a hit, but are vulnerable to slow and push effects."};for(let u=0;u<2;u++)ro.wave.push({unit:We.HEAVYWEIGHT,cooldown:200}),ro.wave.push({unit:We.SWORDSMAN,cooldown:25}),ro.wave.push({unit:We.SWORDSMAN,cooldown:25}),ro.wave.push({unit:We.SWORDSMAN,cooldown:220});ro.wave.push({unit:We.HEAVYWEIGHT,cooldown:125});ro.wave.push({unit:We.HEAVYWEIGHT,cooldown:125});const ud={wave:[],message:"So many Swordsmen almost make an army. Good thing overlords make a business out of squasing those."};for(let u=0;u<20;u++)ud.wave.push({unit:We.SWORDSMAN,cooldown:45});const cd={wave:[],message:"Those Bombers carry explosives to blow up our base, but if you blow them up they'll damage their own allies."};for(let u=0;u<40;u++)cd.wave.push({unit:We.BOMBER,cooldown:12});const As={wave:[],message:"Next is a nice mix of lots of weaklings and a few strong ones."};for(let u=0;u<4;u++){As.wave.push({unit:We.HEAVYWEIGHT,cooldown:30});for(let a=0;a<15;a++)As.wave.push({unit:We.FARMER,cooldown:60});As.wave.push({unit:We.FARMER,cooldown:30})}const dd={wave:[],message:"A bonefide Paladin has heard of the 'evil' you've been up to, and has decided that should end. Look out for his divine blessing which slowly regenerates his health."};dd.wave.push({unit:We.PALADIN,cooldown:10});const hd={wave:[],message:"That's a lot of Swordsmen. They never learn do they."};for(let u=0;u<50;u++)hd.wave.push({unit:We.SWORDSMAN,cooldown:35});const Rs={wave:[],message:"Groups of heavies are a pain, but I bet you could use those bombers to your advantage."};for(let u=0;u<4;u++){for(let a=0;a<3;a++)Rs.wave.push({unit:We.HEAVYWEIGHT,cooldown:4});Rs.wave.push({unit:We.HEAVYWEIGHT,cooldown:210});for(let a=0;a<12;a++)Rs.wave.push({unit:We.BOMBER,cooldown:45})}const ea={wave:[],message:"Berserkers turn pain into pleasure, uhh, I mean, into a rage they use to rush right through your defenses."};for(let u=0;u<9;u++)ea.wave.push({unit:We.BERSERKER,cooldown:10}),ea.wave.push({unit:We.BERSERKER,cooldown:190});const ta={wave:[],message:"Next wave benefits from those sweet big hits me thinks."};for(let u=0;u<12;u++)ta.wave.push({unit:We.BERSERKER,cooldown:40}),ta.wave.push({unit:We.HEAVYWEIGHT,cooldown:40});const ra={wave:[],message:"Slow and high health, this wave takes a while."};for(let u=0;u<3;u++){ra.wave.push({unit:We.PALADIN,cooldown:280});for(let a=0;a<8;a++)ra.wave.push({unit:We.HEAVYWEIGHT,cooldown:130})}const fd={wave:[],message:"The first Rushers are about to show, they are a bit hard to deal with, but a few good hits should do the trick."};for(let u=0;u<22;u++)fd.wave.push({unit:We.RUSHER,cooldown:60});const Os={wave:[],message:"Those Swordsmen mobs are still not giving up. This time they brought some Healers along."};for(let u=0;u<5;u++){Os.wave.push({unit:We.HEALER,cooldown:35});for(let a=0;a<7;a++)Os.wave.push({unit:We.SWORDSMAN,cooldown:25});Os.wave.push({unit:We.SWORDSMAN,cooldown:190})}const Ps={wave:[],message:"Don't let those Healers do their thing!"};for(let u=0;u<13;u++)Ps.wave.push({unit:We.HEALER,cooldown:45}),Ps.wave.push({unit:We.HEAVYWEIGHT,cooldown:45}),Ps.wave.push({unit:We.HEALER,cooldown:195});const $o={wave:[],message:"Rushers and Berserkers, it's a hectic round."};for(let u=0;u<7;u++)$o.wave.push({unit:We.BERSERKER,cooldown:30}),$o.wave.push({unit:We.RUSHER,cooldown:60}),$o.wave.push({unit:We.RUSHER,cooldown:60}),$o.wave.push({unit:We.RUSHER,cooldown:30});const pd={wave:[],message:"Best kill this Summoner quickly if you don't want to be overrun."};pd.wave.push({unit:We.SUMMONER,cooldown:10});const ks={wave:[],message:"It seems one of these geniuses came up with the idea of actually wearing armor. And here I thought they all shared their one braincell."};for(let u=0;u<4;u++){for(let a=0;a<4;a++)ks.wave.push({unit:We.SWORDSMAN,cooldown:40,armor:"STEEL"}),ks.wave.push({unit:We.SWORDSMAN,cooldown:40});ks.wave.push({unit:We.HEAVYWEIGHT,cooldown:150,armor:"STEEL"})}const Cr={wave:[],message:"Some actual armor tidbits this time, you look like you need it :p. Armor mitigates small hits more than large ones, however poison goes straight through. Explosions on the other hand get fully absorbed."};for(let u=0;u<1;u++){for(let a=0;a<6;a++)Cr.wave.push({unit:We.FARMER,cooldown:25});Cr.wave.push({unit:We.FARMER,cooldown:300,armor:"STEEL"});for(let a=0;a<5;a++)Cr.wave.push({unit:We.SWORDSMAN,cooldown:25});Cr.wave.push({unit:We.SWORDSMAN,cooldown:300,armor:"STEEL"});for(let a=0;a<4;a++)Cr.wave.push({unit:We.BOMBER,cooldown:25});Cr.wave.push({unit:We.BOMBER,cooldown:300,armor:"STEEL"});for(let a=0;a<3;a++)Cr.wave.push({unit:We.BERSERKER,cooldown:25});Cr.wave.push({unit:We.BERSERKER,cooldown:300,armor:"STEEL"});for(let a=0;a<2;a++)Cr.wave.push({unit:We.RUSHER,cooldown:25});Cr.wave.push({unit:We.RUSHER,cooldown:300,armor:"STEEL"});for(let a=0;a<1;a++)Cr.wave.push({unit:We.HEALER,cooldown:25});Cr.wave.push({unit:We.HEALER,cooldown:300,armor:"STEEL"})}const na={wave:[],message:"The Knights are coming. They are pretty strong allrounders, their weakness however, is that they are friggin boring. Go have skill or quirk! Pathetic."};for(let u=0;u<4;u++){for(let a=0;a<2;a++)na.wave.push({unit:We.KNIGHT,cooldown:90});na.wave.push({unit:We.KNIGHT,cooldown:250})}const oa={wave:[],message:"Not sure they thought this combo through..."};for(let u=0;u<12;u++){oa.wave.push({unit:We.HEALER,cooldown:75});for(let a=0;a<3;a++)oa.wave.push({unit:We.BERSERKER,cooldown:100,armor:"STEEL"})}const co={wave:[],message:"The Protectors figured out we like to shoot things at them, and will try to defend themselves and others. Rather weak once you do get them good though."};for(let u=0;u<5;u++)co.wave.push({unit:We.PROTECTOR,cooldown:80});for(let u=0;u<5;u++)co.wave.push({unit:We.PROTECTOR,cooldown:40}),co.wave.push({unit:We.SWORDSMAN,cooldown:40,armor:"STEEL"});co.wave.push({unit:We.PROTECTOR,cooldown:240});for(let u=0;u<1;u++){for(let a=0;a<5;a++)co.wave.push({unit:We.PROTECTOR,cooldown:30,armor:"STEEL"});co.wave.push({unit:We.KNIGHT,cooldown:20})}const Ls={wave:[],message:"Their armor gives them a little protection from their own explosions, but if you have some aoe this wave should be no issue."};for(let u=0;u<2;u++){Ls.wave.push({unit:We.PROTECTOR,cooldown:5,armor:"STEEL"});for(let a=0;a<100;a++)Ls.wave.push({unit:We.BOMBER,cooldown:3,armor:"STEEL"}),Ls.wave.push({unit:We.BOMBER,cooldown:3})}const sa={wave:[],message:"Looks like a Knight finally managed to find some armor shiny enough to suit his station."};for(let u=0;u<1;u++){for(let a=0;a<10;a++)sa.wave.push({unit:We.PROTECTOR,cooldown:35,armor:"STEEL"});sa.wave.push({unit:We.KNIGHT,cooldown:5,armor:"STEEL"})}const ia={wave:[],message:"Armored heavies don't have much of a chance of making it through, but this paladin has figured out they make pretty decent meat shields. Holy warrior indeed."};for(let u=0;u<1;u++){ia.wave.push({unit:We.PALADIN,cooldown:5});for(let a=0;a<8;a++)ia.wave.push({unit:We.HEAVYWEIGHT,cooldown:200,armor:"STEEL"})}const Ko={wave:[],message:"It's a military march huh, some big shot's gonna show soon."};for(let u=0;u<1;u++){for(let a=0;a<2;a++){for(let n=0;n<4;n++){for(let e=0;e<5;e++)Ko.wave.push({unit:We.FARMER,cooldown:30,armor:"STEEL"});Ko.wave.push({unit:We.SWORDSMAN,cooldown:60,armor:"STEEL"})}Ko.wave.push({unit:We.HEAVYWEIGHT,cooldown:120,armor:"STEEL"})}Ko.wave.push({unit:We.KNIGHT,cooldown:240,armor:"STEEL"})}const Zo={wave:[],message:"You know I actually kind of respect this Commander. She manages to turn a random band of idiots into an effective force. Reminds me a little of myself."};for(let u=0;u<1;u++)Zo.wave.push({unit:We.HEAVYWEIGHT,cooldown:55}),Zo.wave.push({unit:We.PROTECTOR,cooldown:15}),Zo.wave.push({unit:We.COMMANDER,cooldown:8}),Zo.wave.push({unit:We.HEAVYWEIGHT,cooldown:15});const md={wave:[],message:"The bad news is that that's a lot of Knights, the good news is that we can sell their stuff for a nice price."};for(let u=100;u>0;u--)md.wave.push({unit:We.KNIGHT,cooldown:u+50});const aa={wave:[],message:"Would you like to meet an armored Paladin? How about an armored Summoner?.. How about both..."};for(let u=0;u<1;u++)aa.wave.push({unit:We.PALADIN,cooldown:250,armor:"STEEL"}),aa.wave.push({unit:We.SUMMONER,cooldown:250,armor:"STEEL"});const la={wave:[],message:"Would you like to meet an armored Paladin? How about an armored Summoner?.. How about both..."};for(let u=0;u<1;u++)la.wave.push({unit:We.PALADIN,cooldown:250,armor:"STEEL"}),la.wave.push({unit:We.SUMMONER,cooldown:250,armor:"STEEL"});const ua={wave:[],message:"Would you like to meet an armored Paladin? How about an armored Summoner?.. How about both..."};for(let u=0;u<1;u++)ua.wave.push({unit:We.PALADIN,cooldown:250,armor:"STEEL"}),ua.wave.push({unit:We.SUMMONER,cooldown:250,armor:"STEEL"});const xo={wave:[],message:"Well aren't we lucky, a few Commanders squabbling over the best way to approach our base. Best kill them quick before reinforcements arrive."};for(let u=0;u<1;u++){for(let a=0;a<2;a++)xo.wave.push({unit:We.COMMANDER,cooldown:10});xo.wave.push({unit:We.COMMANDER,cooldown:500});for(let a=0;a<7;a++)xo.wave.push({unit:We.KNIGHT,cooldown:20});xo.wave.push({unit:We.KNIGHT,cooldown:200});for(let a=0;a<20;a++)xo.wave.push({unit:We.RUSHER,cooldown:10})}const ca={wave:[],message:"Those cowardly Farmers think they're safer in groups. Let's show them how wrong they are."};for(let u=0;u<6;u++){for(let a=0;a<5;a++)ca.wave.push({unit:We.FARMER,cooldown:5});ca.wave.push({unit:We.FARMER,cooldown:140})}const da={wave:[],message:"Those cowardly Farmers think they're safer in groups. Let's show them how wrong they are."};for(let u=0;u<6;u++){for(let a=0;a<5;a++)da.wave.push({unit:We.FARMER,cooldown:5});da.wave.push({unit:We.FARMER,cooldown:140})}const ha={wave:[],message:"Those cowardly Farmers think they're safer in groups. Let's show them how wrong they are."};for(let u=0;u<6;u++){for(let a=0;a<5;a++)ha.wave.push({unit:We.FARMER,cooldown:5});ha.wave.push({unit:We.FARMER,cooldown:140})}const fa={wave:[],message:"Those cowardly Farmers think they're safer in groups. Let's show them how wrong they are."};for(let u=0;u<6;u++){for(let a=0;a<5;a++)fa.wave.push({unit:We.FARMER,cooldown:5});fa.wave.push({unit:We.FARMER,cooldown:140})}const pa={wave:[],message:"Those cowardly Farmers think they're safer in groups. Let's show them how wrong they are."};for(let u=0;u<6;u++){for(let a=0;a<5;a++)pa.wave.push({unit:We.FARMER,cooldown:5});pa.wave.push({unit:We.FARMER,cooldown:140})}const Su={1:id,2:ad,3:ld,4:Qi,5:Ji,6:ro,7:ud,8:cd,9:As,10:dd,11:hd,12:Rs,13:ea,14:ta,15:ra,16:fd,17:Os,18:Ps,19:$o,20:pd,21:ks,22:Cr,23:na,24:oa,25:co,26:Ls,27:sa,28:ia,29:Ko,30:Zo,31:md,32:aa,33:la,34:ua,35:xo,36:ca,37:da,38:ha,39:fa,40:pa},ig=u=>u in Su?Su[u]:-1,gd="waveDone",yd="waveUpdated";class ju{constructor(){q(this,"currentCooldown");q(this,"spawns");q(this,"currentSpawn");q(this,"currentWave");q(this,"currentMessage");q(this,"nextWaveSpawnIndex");q(this,"currentWaveNumber");q(this,"baseWaveReward");q(this,"flatWaveReward");this.currentCooldown=10,this.spawns=[],this.currentSpawn=0,this.currentWaveNumber=0,this.nextWaveSpawnIndex=0,this.baseWaveReward=250,this.flatWaveReward=500,this.currentWave=[],this.currentMessage="",this.startNextWave()}update(){const a=this.currentWave[this.nextWaveSpawnIndex];if(a===void 0)return gd;if(this.currentCooldown--,this.currentCooldown>0)return yd;const n=_u.getUnit(a.unit,this.spawns[this.currentSpawn].pos,this.currentWaveNumber,a.armor);return this.nextWaveSpawnIndex++,this.currentCooldown=a.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,n}setActiveSpawners(a){this.spawns=a,this.currentSpawn=0}startNextWave(){this.nextWaveSpawnIndex=0,this.currentWaveNumber++;const a=ig(this.currentWaveNumber);a===-1?(this.currentWave=this.generateRandomWave(),this.currentMessage="Random waves from now on. How far can you get?"):(this.currentWave=a.wave,this.currentMessage=a.message)}generateRandomWave(){const a=Object.keys(We).length/2,n=120,e=[];let g=this.currentWaveNumber**2*100;for(;g>0;){const h={unit:Math.floor(Math.random()*a),cooldown:j.max(Math.ceil(Math.random()*n-e.length),2)},p=h.unit**2*10+(n-h.cooldown);e.push(h),g-=p}return e}endWave(){return this.currentCooldown=10,this.flatWaveReward}getMessage(){return this.currentMessage}killCurrentWaveWithGold(){let a=0;for(;this.nextWaveSpawnIndex<this.currentWave.length;){const n=this.currentWave[this.nextWaveSpawnIndex];if(n===void 0)return a;const e=_u.getUnit(n.unit,this.spawns[this.currentSpawn].pos,this.currentWaveNumber,n.armor);this.nextWaveSpawnIndex++,this.currentCooldown=n.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,a+=e.goldValue}return a}skipToWaveWithProperGold(a){let n=this.killCurrentWaveWithGold();for(let e=this.currentWaveNumber;e<a-1;e++)n+=this.endWave(),this.startNextWave(),n+=this.killCurrentWaveWithGold();return this.currentWaveNumber=a-1,n}}class ag{constructor(a={}){q(this,"units");q(this,"spawners");q(this,"spawnSize");q(this,"spawnFlat");q(this,"unitSize");q(this,"color");q(this,"nextId");q(this,"waveReader");this.units=[],this.spawners=[],this.spawnSize=a.spawnSize??32,this.spawnFlat=a.spawnFlat??!1,this.unitSize=a.unitSize??20,this.color=a.color??j.color(ao),this.nextId=0,this.waveReader=new ju}reset(){this.units=[],this.spawners=[],this.nextId=0,this.waveReader=new ju}addSpawn(a,n,e=this.spawnSize,g={}){this.spawners.push(new i0(a,n,e,{unitSize:this.unitSize,flat:this.spawnFlat,color:this.color,...g}))}addUnit(a={}){const n=a.fromSpawn??j.floor(j.random(this.spawners.length));this.spawners[n]!==void 0&&(this.units.push(this.spawners[n].spawnUnit({color:a.color,id:this.nextId,...a})),this.nextId++)}addUnitViaWaveReader(a,n={}){const e=n.fromSpawn??j.floor(j.random(this.spawners.length));this.spawners[e]!==void 0&&(this.units.push(this.spawners[e].spawnUnitViaWaveReader(a)),this.nextId++)}update(){this.updateWaveReader(),this.updateSpawns(),this.updateUnits()}updateSpawns(){for(let a=this.spawners.length-1;a>=0;a--)this.spawners[a].update()}updateUnits(){for(let a=this.units.length-1;a>=0;a--)this.units[a].update()}show(){this.showSpawns(),this.showUnits()}showSpawns(){for(let a=this.spawners.length-1;a>=0;a--)this.spawners[a].show()}showUnits(){for(let a=this.units.length-1;a>=0;a--)this.units[a].show()}updateAndShow(){const a=this.updateWaveReader();return this.updateAndShowSpawns(),this.updateAndShowUnits(),a}updateAndShowSpawns(){for(let a=this.spawners.length-1;a>=0;a--)this.spawners[a].update(),this.spawners[a].show()}updateAndShowUnits(){for(let a=this.units.length-1;a>=0;a--)this.units[a].update(),this.units[a].show();Ht.emptyQuadTree();for(let a=this.units.length-1;a>=0;a--){const n=this.units[a];st.unitReachedBase(n,Ce)?this.units.splice(a,1):n.dead?(st.unitDied(n),this.units.splice(a,1)):Ht.insert(new Xi(n.pos,n))}}updateWaveReader(){const a=this.waveReader.update();if(a===gd){if(this.units.length===0)return this.waveCleared(),!0}else a!==yd&&this.addUnitViaWaveReader(a);return!1}waveCleared(){const a=this.waveReader.endWave();st.gold+=a,this.waveReader.startNextWave()}}const lg=new ag({color:j.color(Nr),spawnSize:He,unitSize:gr}),Yt=lg,ug=(u,a,n,e,g=j.random(No),h=Ce.wallRing,p=gt.HILL)=>{za(g,"A"),Ce.resetData(),Ce.addRandomWalls(100,p);const t=Ce.grid[u][a];t.data={...t.data,prev:void 0,visited:!0},Ce.setTileType(t,To.EMPTY);const c=Ce.grid[n][e];Ce.setTileType(c,To.EMPTY);let d=t;for(;d!==void 0;){const m=Ce.getNeighbors(d.r,d.q);for(const r of m)r.data.visited=!0;const f=Ce.getGrandNeighbors(d.r,d.q,h);for(let r=f.length-1;r>=0;r--)f[r].data.visited&&f.splice(r,1);const o=j.random(f);if(o===void 0){if(d=d.data.prev,d===void 0)return Ce.resetData(),!0}else{o.data.visited=!0,Ce.setTileType(o,To.EMPTY),o.data.prev=d;const r=j.createVector(d.r,d.q),s=o.r-d.r,i=o.q-d.q;if(j.abs(s)%2===0?r.x+=s/2:j.random()>.5&&(r.x+=s),j.abs(i)%2===0)r.y+=i/2;else{let v=0;j.random()>.5&&(v=i),r.y+=v,(d.r===r.x&&d.q===r.y||o.r===r.x&&o.q===r.y)&&(v===0?r.y+=i:r.y+=i*-1)}const l=Ce.grid[r.x][r.y];Ce.setTileType(l,To.EMPTY),d=o}}return!1},cg=(u,a,n,e,g=j.random(No),h=gt.HILL,p=gt.EMPTY)=>{za(g,"B"),Ce.addRandomWalls(5,gt.LAVA),Ce.addRandomWalls(30,h),Ce.addRandomWalls(20,gt.WATER);const t=Ce.aStar(u,a,n,e);Ce.breakWallsInArray(t,p),Ce.resetData()},za=(u,a)=>{const n=j.floor(u);j.randomSeed(n),console.log(`${a}${n}`)},qa=()=>{Ce.setBuilderTileType(Ce.grid[Ce.midR][Ce.maxQ],gt.BASE),Ce.setBuilderTileType(Ce.grid[Ce.midR][Ce.minQ],gt.SPAWN)},dg=(u=j.random(No),a=void 0,n=gt.HILL)=>{za(u,"C"),Ce.resetData(),Ce.addRandomWalls(100,n);const e=Ce.grid[Ce.midR][Ce.midQ];e.data={...e.data,prev:void 0,visited:!0},Ce.setBuilderTileType(e,gt.BASE);let g=e;const h=Ce.getNeighborsArea(g.r,g.q,2);for(const o of h)Ce.setBuilderTileType(o,gt.EMPTY);a===void 0&&(a=j.ceil(j.random(19,30)));let p=0,t=2,c=0,d=0;for(;g!==void 0&&p<a;){const o=j.random(Ce.neighborVectorsRQ),r=j.round(j.random(4,10));let s=gt.EMPTY;j.random()<.3&&(s=j.random()<.2?gt.UNSTABLE:gt.WATER);let i=!1;for(let w=0;w<r;w++){const x=g.r+o.x,_=g.q+o.y;if(!Ce.rqVectorIsOnGrid(j.createVector(x,_),Ce.wallRing)||x===e.r&&_===e.q){i=!0,g=e;break}g=Ce.grid[x][_],!(w<t)&&Ce.setBuilderTileType(g,s)}if(i)continue;t=j.random()<.15?2:1;let l=gt.EMPTY;j.random()<.3?(l=j.random()<.3?gt.LAVA:gt.WATER,Ce.setBuilderTileType(g,l)):j.random()<.2?j.random()<.5?Ce.setBuilderTileType(g,gt.TELEPORTER_ONE):Ce.setBuilderTileType(g,gt.TELEPORTER_TWO):Ce.setBuilderTileType(g,l);const v=Ce.getNeighborsArea(g.r,g.q,t);if(Ce.hexInArray(e,v)){g=e;continue}for(const w of v)Ce.setBuilderTileType(w,l);if(p++,p===a){const w=Ce.getAllTiles();let x=0,_=0;for(const E of w)E.type===gt.EMPTY&&_++,E.type===gt.HILL&&x++;x>_&&p--}}const m=Ce.getAllTiles();for(const o of m)o.type===gt.TELEPORTER_ONE&&c++,o.type===gt.TELEPORTER_TWO&&d++;if(c===1)for(;;){const o=j.random(m);if(!(o.type===gt.WALL||o.type===gt.BASE||o.isTeleporter)){Ce.setBuilderTileType(o,gt.TELEPORTER_ONE);break}}if(d===1)for(;;){const o=j.random(m);if(!(o.type===gt.WALL||o.type===gt.BASE||o.isTeleporter)){Ce.setBuilderTileType(o,gt.TELEPORTER_TWO);break}}Ce.addAllTeleports();let f=!1;for(;!f;)for(let o=0;o<3;o++){const r=j.random(m),s=Ce.aStar(r.r,r.q,e.r,e.q);if(s.length<8)continue;let i=!0;for(const l of s)if(!l.canUnit){i=!1;break}i&&(Ce.setBuilderTileType(r,gt.SPAWN),f=!0)}return!0},hg=()=>{Ce.reConstructGrid(),qa();const u=Ce.generateJsonableMap();return Ce.reConstructGrid(),u},fg={name:"Open",map:hg()},pg=()=>{Ce.reConstructGrid(),ug(Ce.rings,1,Ce.rings,Ce.rings*2-1,j.random(No),1),qa();const u=Ce.generateJsonableMap();return Ce.reConstructGrid(),u},mg={name:"Random Pathways",map:pg()},gg=()=>{Ce.reConstructGrid(),cg(Ce.rings,1,Ce.rings,Ce.rings*2-1,j.random(No),gt.HILL),qa();const u=Ce.generateJsonableMap();return Ce.reConstructGrid(),u},yg={name:"Random Caverns",map:gg()},vg=()=>{Ce.reConstructGrid(),dg(j.random(No));const u=Ce.generateJsonableMap();return Ce.reConstructGrid(),u},bg={name:"Random Chambers",map:vg()},wg={name:"Lake Base",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3],[0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3],[0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3],[6,0,0,0,4,4,4,4,4,4,4,4,4,7,0,0,0,0,0,0,0,1,0,0,0,0,3],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},xg={name:"Lakes Race",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,1,1,1,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3],[0,0,0,0,0,0,0,0,0,3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3],[0,0,0,0,0,0,0,0,3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3],[0,0,0,0,3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3],[0,0,0,3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3,0,0],[3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3,0,0,0],[3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3,0,0,0,0],[3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3,0,0,0,0,0],[3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3,0,0,0,0,0,0,0,0],[3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,1,1,1,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},_g={name:"The Wheel",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3],[0,0,0,0,0,3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3],[0,0,0,0,3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3],[0,0,0,3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3],[0,0,3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[6,0,1,1,1,1,1,1,1,1,1,1,0,7,0,1,1,1,1,1,1,1,1,1,1,0,3],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3,0,0],[3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3,0,0,0],[3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3,0,0,0,0],[3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3,0,0,0,0,0],[3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3,0,0,0,0,0,0,0],[3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3,0,0,0,0,0,0,0,0],[3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Sg={name:"Time Moves Ever Onward",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3],[0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3],[0,0,0,0,0,0,0,0,3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3],[0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3],[0,0,0,0,0,0,3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3],[0,0,0,0,3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3],[0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3],[0,0,3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3],[0,3,4,1,4,4,4,1,4,4,1,4,3,0,0,3,4,1,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,4,1,4,4,4,1,4,3,2,3,4,1,4,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,1,4,4,4,1,4,3,0,0,3,4,1,4,4,4,1,4,4,1,4,3,0],[3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3,0,0],[3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0],[3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0],[3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3,0,0,0,0,0,0],[3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0],[3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3,0,0,0,0,0,0,0,0],[3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0],[3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3,0,0,0,0,0,0,0,0,0,0],[3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,7,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},jg={name:"Hillside Flowers",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,2,0,0,0,0,0,0,0,0,0,0,0,2,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,1,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,1,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,1,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,1,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,1,0,1,0,1,1,1,1,0,0,1,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,5,0,0,0,2,2,0,3],[6,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,7,2,0,0,2,0,2,2,3],[3,0,0,0,0,0,1,0,1,0,1,0,1,0,0,1,0,5,5,2,0,2,0,0,0,3,0],[3,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,0,0,2,2,0,0,0,3,0,0],[3,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,3,0,0,0,0],[3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,2,0,0,0,0,0,0,0,0,0,0,0,2,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Tg={name:"Big Nope",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3],[0,3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3],[6,0,0,0,1,0,7,0,5,0,4,4,0,1,0,4,4,0,5,0,7,0,1,0,0,0,6],[3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3,0],[3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[6,3,3,3,3,3,3,3,3,3,3,3,3,6,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Eg={name:"Cross Over",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,6,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,4,4,4,4,4,4,4,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,1,0,0,4,4,4,4,4,4,0,0,0,0,0,1,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,0,1,0,0,4,4,4,4,0,1,0,1,0,1,0,0,3],[0,0,0,0,0,0,0,3,0,1,0,1,0,0,4,4,4,0,1,0,1,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,1,0,0,4,4,0,0,0,1,0,1,0,4,4,0,3],[0,0,0,0,0,3,0,1,0,1,0,1,0,0,4,0,0,0,0,0,1,0,4,0,4,0,3],[0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,4,0,0,4,0,3],[0,0,0,3,0,1,0,1,0,1,0,1,0,0,0,1,0,0,1,0,4,0,4,0,4,0,3],[0,0,3,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,4,0,4,4,0,4,0,3],[0,3,0,1,0,1,0,1,0,1,0,1,0,0,0,0,1,0,4,0,4,0,4,0,4,0,3],[6,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,4,0,0,4,0,0,0,7],[3,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,0,4,4,0,0,0,4,4,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,0,0,0,0,3,0,0],[3,1,0,1,0,1,0,1,0,0,0,1,1,0,4,0,0,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,0,4,0,0,0,3,0,0,0,0],[3,1,0,1,0,1,0,0,0,0,1,1,0,0,4,4,0,0,4,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0],[3,1,0,1,0,0,0,0,1,0,0,1,0,4,4,4,0,4,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0],[3,1,0,0,0,0,1,0,0,0,0,1,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,5,5,0,1,0,0,0,0,0,1,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,1,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,1,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,7,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Cg={name:"Island Temple",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3],[0,0,0,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3],[0,0,0,3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3],[0,0,3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3],[0,3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3],[3,4,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,4,3,4,4,5,4,4,3],[3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3,0],[3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3,0,0],[3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3,0,0,0],[3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Mg={name:"Whirlpool",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,1,1,1,1,1,1,1,1,1,1,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,4,4,4,4,4,4,4,4,4,4,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,4,0,0,0,0,0,0,0,0,0,4,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,4,0,1,1,1,1,1,1,1,1,0,4,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,4,0,1,0,0,0,0,0,0,0,1,0,4,0,1,0,3],[0,0,0,0,0,3,0,1,0,4,0,1,0,4,4,4,4,4,4,0,1,0,4,0,1,0,3],[0,0,0,0,3,0,1,0,4,0,1,0,4,0,0,0,0,0,4,0,1,0,4,0,1,0,3],[0,0,0,3,0,1,0,4,0,1,0,4,0,1,1,1,1,0,4,0,1,0,4,0,1,0,3],[0,0,3,0,1,0,4,0,1,0,4,0,1,5,0,0,1,0,4,0,1,0,4,0,1,0,3],[0,3,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,3],[7,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,6],[3,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,3,0],[3,0,4,0,1,0,4,0,1,0,4,0,0,5,4,0,1,0,4,0,1,0,4,0,3,0,0],[3,0,4,0,1,0,4,0,1,0,4,4,4,4,0,1,0,4,0,1,0,4,0,3,0,0,0],[3,0,4,0,1,0,4,0,1,0,0,0,0,0,1,0,4,0,1,0,4,0,3,0,0,0,0],[3,0,4,0,1,0,4,0,1,1,1,1,1,1,0,4,0,1,0,4,0,3,0,0,0,0,0],[3,0,4,0,1,0,4,0,0,0,0,0,0,0,4,0,1,0,4,0,3,0,0,0,0,0,0],[3,0,4,0,1,0,4,4,4,4,4,4,4,4,0,1,0,4,0,3,0,0,0,0,0,0,0],[3,0,4,0,1,0,0,0,0,0,0,0,0,0,1,0,4,0,3,0,0,0,0,0,0,0,0],[3,0,4,0,1,1,1,1,1,1,1,1,1,1,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,4,4,4,4,4,4,4,4,4,4,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Ag={name:"Tri Hard",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,4,0,0,0,0,6,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,9,3,4,0,0,0,0,0,0,0,0,0,3,8,3],[0,0,0,0,0,0,0,0,0,0,3,0,3,4,4,4,4,0,0,0,0,0,0,0,3,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,3,4,4,4,4,0,0,0,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,3,0,4,4,4,0,0,0,5,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,3,0,4,4,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,5,5,5,0,3,0,0,0,0,3],[0,0,0,0,3,0,0,5,5,3,0,1,1,1,1,1,0,0,0,0,0,3,4,4,0,0,3],[0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3],[0,0,3,5,5,5,0,0,3,0,0,0,1,1,0,0,1,1,0,0,3,0,0,4,4,4,3],[0,3,0,0,0,0,0,0,3,0,0,1,4,1,0,1,4,1,0,3,0,0,0,0,0,0,3],[3,0,0,5,5,5,5,3,0,0,0,1,1,0,0,1,1,0,0,3,4,4,4,4,0,0,3],[3,0,0,0,0,0,0,3,0,0,0,0,0,5,0,0,0,0,3,0,0,0,0,0,0,3,0],[3,5,5,5,0,0,3,0,0,0,0,0,0,5,0,0,0,0,3,0,0,4,4,4,3,0,0],[3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0],[3,0,0,5,5,3,0,0,0,0,1,0,1,0,0,0,0,3,4,4,0,0,3,0,0,0,0],[3,0,0,0,0,3,0,0,2,2,0,0,2,2,0,0,3,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,3,0,0,0,1,2,7,2,1,0,0,0,3,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,3,0,0,0,0,2,2,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,1,0,1,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,3,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0],[3,6,3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,0],[3,3,9,0,0,0,0,0,0,0,0,0,8,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Rg={name:"Hero's Journey",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,0,5,0,0,8,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,0,0,8,8,8,3],[0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,8,3],[0,0,0,0,0,0,0,0,3,4,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,5,5,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,0,5,4,5,0,5,5,5,0,5,5,5,5,5,5,5,0,0,3],[0,0,0,0,0,3,0,5,0,5,5,0,5,5,5,0,5,5,0,0,0,0,0,5,0,0,3],[0,0,0,0,3,0,5,5,0,0,0,5,5,5,5,0,5,0,5,5,5,5,0,5,0,0,3],[0,0,0,3,0,5,5,5,5,5,5,5,5,5,0,0,0,5,5,5,0,0,5,0,0,0,3],[0,0,3,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,5,5,0,0,0,0,3],[0,3,5,0,0,0,0,0,5,5,5,5,5,5,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,7,5,5,5,5,5,0,5,5,5,0,0,0,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,0,0,0,5,5,5,0,5,5,0,5,5,0,5,5,5,5,0,5,0,0,0,0,0,3,0],[3,5,5,0,5,5,5,0,0,0,5,5,5,0,5,5,5,0,5,0,0,0,0,0,3,0,0],[3,5,5,0,0,0,5,5,5,5,5,5,5,0,5,5,5,0,5,0,0,0,0,3,0,0,0],[3,5,5,5,5,0,5,5,5,5,5,0,0,5,5,0,0,5,0,0,0,0,3,0,0,0,0],[3,5,0,0,5,0,5,5,0,0,0,5,5,0,0,5,5,0,0,0,0,3,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,5,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,5,5,5,0,0,5,0,0,0,5,5,0,0,0,0,0,8,3,0,0,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,0,0,0,8,8,3,0,0,0,0,0,0,0,0],[3,0,0,5,5,0,0,5,0,0,0,0,0,0,8,8,8,3,0,0,0,0,0,0,0,0,0],[3,5,5,0,0,5,5,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,5,5,0,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0],[3,6,5,0,0,0,0,0,0,8,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Og={name:"Royal Road",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,0,0,0,0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,0,0,3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3],[0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0],[3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3,0,0,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Pg={name:"Long Way Around",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,8,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,3,3,9,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,3,0,3,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,3,3,5,5,3,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,3,3,5,5,0,5,3,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,3,3,5,5,0,0,5,3,0,4,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,0,3,3,5,5,0,5,5,0,5,3,0,4,0,3],[0,0,0,0,0,3,0,0,0,0,0,3,3,5,5,0,0,5,0,5,5,3,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,3,3,5,5,0,5,5,0,5,5,0,5,3,0,0,0,0,3],[0,0,0,3,0,0,0,3,3,0,5,0,0,5,0,5,5,0,0,5,3,0,4,0,0,0,3],[0,0,3,0,0,3,3,0,0,0,5,5,0,5,5,0,5,5,0,5,3,0,4,0,4,0,3],[0,3,6,3,3,0,0,1,0,0,0,5,5,0,0,5,0,5,5,3,0,4,0,4,0,0,3],[3,3,3,0,0,0,0,0,0,0,0,0,5,5,0,5,5,0,0,3,0,4,0,4,0,0,3],[3,7,0,1,0,1,0,1,0,1,0,0,0,5,5,0,0,0,3,0,4,0,4,0,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,4,0,3,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,3,0,4,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,3,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,3,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,3,0,4,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,3,8,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,9,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},kg={name:"Betrayal",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,8,0,0,0,0,0,0,0,0,0,9,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,8,3,0,0,0,0,0,0,0,0,0,0,3,9,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,3],[3,6,0,0,0,0,0,0,0,0,0,0,9,7,8,0,0,0,0,0,0,0,0,0,0,6,3],[3,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,8,3,0,0,0,0,0,0,0,0,0,0,3,9,3,0,0,0,0,0,0,0,0,0,0,0],[3,3,8,0,0,0,0,0,0,0,0,0,9,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Lg="/assets/Open-bc45d700.png",Dg="/assets/Pathways-fa8baac1.png",Ig="/assets/Caverns-57f8e0cb.png",Bg="/assets/Chambers-c72833e5.png",Ug="/assets/Lake Base-cadaed5e.png",Fg="/assets/Lakes Race-cb1400b3.png",Ng="/assets/The Wheel-5d281f5a.png",Gg="/assets/Time Moves Ever Onward-c9082887.png",Vg="/assets/Hillside Flowers-7e2294fa.png",Wg="/assets/Big Nope-a0d1f9ab.png",Hg="/assets/Cross Over-108367c2.png",zg="/assets/Island Temple-a4299b0b.png",qg="/assets/Whirlpool-38be4ce4.png",Xg="/assets/Tri Hard-c2de4389.png",Yg="/assets/Hero's Journey-91334804.png",$g="/assets/Royal Road-c45d9ac4.png",Kg="/assets/Long Way Around-dbc21f2e.png",Zg="/assets/Betrayal-417fa407.png",Tu=[{map:fg,image:Lg,complexity:"Simple"},{map:mg,image:Dg,complexity:"Simple"},{map:Mg,image:qg,complexity:"Simple"},{map:Pg,image:Kg,complexity:"Simple"},{map:wg,image:Ug,complexity:"Simple"},{map:_g,image:Ng,complexity:"Simple"},{map:yg,image:Ig,complexity:"Average"},{map:bg,image:Bg,complexity:"Average"},{map:xg,image:Fg,complexity:"Average"},{map:Sg,image:Gg,complexity:"Average"},{map:jg,image:Vg,complexity:"Average"},{map:Eg,image:Hg,complexity:"Average"},{map:Cg,image:zg,complexity:"Average"},{map:Og,image:$g,complexity:"Average"},{map:Tg,image:Wg,complexity:"Complex"},{map:Ag,image:Xg,complexity:"Complex"},{map:Rg,image:Yg,complexity:"Complex"},{map:kg,image:Zg,complexity:"Evil"}],Qg={class:"difficulty-select"},Jg={class:"button-div"},ey=["onClick"],ty={class:"button-div"},ry=fr("h3",null,"Select other map",-1),ny=[ry],oy=Pa({__name:"SelectDifficulty",emits:["selectedDifficulty","reselectMap"],setup(u,{emit:a}){const n=e=>{a("selectedDifficulty",e)};return(e,g)=>(_r(),Xr("div",Qg,[(_r(!0),Xr(Or,null,cc(oo(o0),h=>(_r(),Xr("div",Jg,[fr("button",{class:cs("button "+h.name),onClick:p=>n(h)},[fr("h3",null,Ai(h.name),1)],10,ey)]))),256)),fr("div",ty,[fr("button",{class:"button cancel",onClick:g[0]||(g[0]=h=>a("reselectMap"))},ny)])]))}});const sy={key:1},iy={class:"all-maps"},ay=["onClick"],ly=["src"],uy=fr("h1",null,"<",-1),cy=[uy],dy=fr("h1",null,">",-1),hy=[dy],fy=Pa({__name:"SelectMap",setup(u){const a=Qo(1),n=Vi(()=>(a.value-1)*6),e=Vi(()=>Tu.slice(n.value,n.value+6)),g=Qo(null),h=Qo(!1),p=f=>{g.value=f,h.value=!0},t=()=>{g.value=null,h.value=!1},c=f=>{g.value!==null&&(h.value=!1,Io.value=!0,a.value=0,Em(g.value,f))},d=()=>{a.value--},m=()=>{a.value++};return(f,o)=>(_r(),Xr(Or,null,[h.value?(_r(),Qs(oy,{key:0,onSelectedDifficulty:c,onReselectMap:t})):So("",!0),h.value?So("",!0):(_r(),Xr("div",sy,[fr("div",iy,[(_r(!0),Xr(Or,null,cc(oo(e),r=>(_r(),Xr("div",{class:cs(`map map-${r.complexity}`),onClick:s=>p(r)},[fr("h3",null,Ai(r.map.name)+" -- "+Ai(r.complexity),1),fr("img",{src:r.image,alt:"Map Preview",class:"map-image"},null,8,ly)],10,ay))),256)),a.value>1?(_r(),Xr("div",{key:0,class:"previous-maps maps-button",onClick:o[0]||(o[0]=r=>d())},cy)):So("",!0),a.value<oo(Tu).length/6?(_r(),Xr("div",{key:1,class:"next-maps maps-button",onClick:o[1]||(o[1]=r=>m())},hy)):So("",!0)])]))],64))}});let Xa=[];const py=()=>{j.createCanvas(j.windowWidth,j.windowHeight),j.background(Un),Xa.push(new pr(j.createVector(j.width*(1/11),j.height*(16/17)),j.width*(1/6),j.height*(1/10),"Save map",()=>{const u=wy();if(u!==!0){alert(u);return}const a=prompt("What should this map be called?","Nameless here forever more"),n={name:a,map:Ce.generateJsonableMap()};j.saveJSON(n,`${a}.json`,!0)},He*2,j.color(ao)),new pr(j.createVector(j.width*(9/13),j.height*(16/17)),j.width*(2/10),j.height*(1/10),"Return to main menu",()=>{_y()},He*1.5,j.color(ao))),Ce.reConstructGrid(),j.draw=()=>my(),j.mousePressed=()=>gy(),j.doubleClicked=()=>yy(),j.keyPressed=u=>vy()},my=()=>{j.background(Un),j.strokeWeight(1),Ce.show(),Ce.showDebug(),by();for(const a of Xa)a.show();const u=Ce.getHexVectorFromXY(j.mouseX,j.mouseY);for(const a in Fn){const n=Fn[a],e=n.isBase||n.isSpawn?0:1;if(j.keyIsDown(n.keycode)&&Ce.rqVectorIsOnGrid(u,e)){const g=Ce.grid[u.x][u.y];j.push(),j.fill([...n.rgb,100]),j.strokeWeight(2),ir(g.pos.x,g.pos.y,Ce.hexSize),j.pop()}}},gy=()=>{for(const a of Xa)a.clicked()&&a.onClick();const u=Ce.getHexVectorFromXY(j.mouseX,j.mouseY);for(const a in Fn){const n=Fn[a],e=n.buildInOuterRing?0:1;if(j.keyIsDown(n.keycode)&&Ce.rqVectorIsOnGrid(u,e)){const g=Ce.grid[u.x][u.y];Ce.setBuilderTileType(g,parseInt(a));return}}},yy=()=>{},vy=u=>{},by=()=>{const u=j.width*.8,a=j.width-u,n=a/100,e=j.height/100,g=e*5;j.strokeWeight(He/12),j.fill(Np),j.stroke(Ft),j.rect(u,0,a,j.height),j.textSize(He*1.2);for(const h in Fn){const p=parseInt(h),t=Fn[p],c=j.createVector(u+n*15,g+e*(5+9*p));j.strokeWeight(1),j.fill(t.rgb),ir(c.x,c.y,He),j.fill(0),j.strokeWeight(0),j.textSize(He),j.text(`${t.name}: ${t.hotkey}`,c.x+n*10,c.y+He/3)}},wy=()=>{const u=[],a=[];for(const e of Ce.grid)for(const g of e)g.type===gt.SPAWN&&a.push(g),g.type===gt.BASE&&u.push(g);return u.length<1||a.length<1?"You need at least one base and one spawn":u.length>6||a.length>6?"Too many bases or spawns":xy(a,u)?!0:"Not all spawns can reach a base"},xy=(u,a)=>{Ce.resetData(),Ce.addAllTeleports();for(const n of u){let e=!1,g;const h=[n],p=[];for(;h.length>0;){if(g=h[0],Ce.hexInArray(g,a)||g.data.flooded){e=!0;break}const t=Ce.getNeighbors(g.r,g.q,!0);for(const c of t)Ce.hexInArray(c,[...p,...h])||!c.canUnit||h.push(c);h.splice(0,1),p.push(g),g.data.flooded=!0}if(!e)return!1}return!0},_y=()=>{j.createCanvas(0,0),Io.value=!1},Sy={key:0,class:"main-menu"},jy=fr("header",null,[fr("h1",null,"Hexa Towers")],-1),Ty={key:0,class:"menu"},Ey=Pa({__name:"MainMenu",setup(u){const a=()=>{Eo.value=Ma(fy)},n=()=>{py(),Eo.value=void 0,Io.value=!0};return(e,g)=>oo(Io)?So("",!0):(_r(),Xr("div",Sy,[jy,oo(Eo)===void 0?(_r(),Xr("div",Ty,[fr("button",{class:"menu-button",onClick:a},"Free Play"),fr("button",{class:"menu-button",onClick:n},"Map Builder")])):So("",!0),(_r(),Qs(hf(oo(Eo))))]))}});const Cy=(u,a)=>{const n=u.__vccOpts||u;for(const[e,g]of a)n[e]=g;return n},My={components:{MainMenu:Ey}};function Ay(u,a,n,e,g,h){const p=df("main-menu");return _r(),Qs(p)}const Ry=Cy(My,[["render",Ay]]);mp(Ry).mount("#app");

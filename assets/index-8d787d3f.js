var Vf=Object.defineProperty;var Gf=(o,r,t)=>r in o?Vf(o,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[r]=t;var G=(o,r,t)=>(Gf(o,typeof r!="symbol"?r+"":r,t),t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))e(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&e(h)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerpolicy&&(u.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?u.credentials="include":l.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function e(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();function Tl(o,r){const t=Object.create(null),e=o.split(",");for(let l=0;l<e.length;l++)t[e[l]]=!0;return r?l=>!!t[l.toLowerCase()]:l=>!!t[l]}function El(o){if(wt(o)){const r={};for(let t=0;t<o.length;t++){const e=o[t],l=yr(e)?qf(e):El(e);if(l)for(const u in l)r[u]=l[u]}return r}else{if(yr(o))return o;if(sr(o))return o}}const Hf=/;(?![^(]*\))/g,Wf=/:([^]+)/,zf=/\/\*.*?\*\//gs;function qf(o){const r={};return o.replace(zf,"").split(Hf).forEach(t=>{if(t){const e=t.split(Wf);e.length>1&&(r[e[0].trim()]=e[1].trim())}}),r}function fs(o){let r="";if(yr(o))r=o;else if(wt(o))for(let t=0;t<o.length;t++){const e=fs(o[t]);e&&(r+=e+" ")}else if(sr(o))for(const t in o)o[t]&&(r+=t+" ");return r.trim()}const Yf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xf=Tl(Yf);function Zc(o){return!!o||o===""}const Pi=o=>yr(o)?o:o==null?"":wt(o)||sr(o)&&(o.toString===rd||!xt(o.toString))?JSON.stringify(o,Jc,2):String(o),Jc=(o,r)=>r&&r.__v_isRef?Jc(o,r.value):ts(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((t,[e,l])=>(t[`${e} =>`]=l,t),{})}:ed(r)?{[`Set(${r.size})`]:[...r.values()]}:sr(r)&&!wt(r)&&!nd(r)?String(r):r,rr={},es=[],hn=()=>{},$f=()=>!1,Kf=/^on[^a-z]/,Vi=o=>Kf.test(o),jl=o=>o.startsWith("onUpdate:"),Ar=Object.assign,Cl=(o,r)=>{const t=o.indexOf(r);t>-1&&o.splice(t,1)},Qf=Object.prototype.hasOwnProperty,Dt=(o,r)=>Qf.call(o,r),wt=Array.isArray,ts=o=>Gi(o)==="[object Map]",ed=o=>Gi(o)==="[object Set]",xt=o=>typeof o=="function",yr=o=>typeof o=="string",Ml=o=>typeof o=="symbol",sr=o=>o!==null&&typeof o=="object",td=o=>sr(o)&&xt(o.then)&&xt(o.catch),rd=Object.prototype.toString,Gi=o=>rd.call(o),Zf=o=>Gi(o).slice(8,-1),nd=o=>Gi(o)==="[object Object]",Rl=o=>yr(o)&&o!=="NaN"&&o[0]!=="-"&&""+parseInt(o,10)===o,hi=Tl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hi=o=>{const r=Object.create(null);return t=>r[t]||(r[t]=o(t))},Jf=/-(\w)/g,jn=Hi(o=>o.replace(Jf,(r,t)=>t?t.toUpperCase():"")),ep=/\B([A-Z])/g,ps=Hi(o=>o.replace(ep,"-$1").toLowerCase()),Wi=Hi(o=>o.charAt(0).toUpperCase()+o.slice(1)),Sa=Hi(o=>o?`on${Wi(o)}`:""),Is=(o,r)=>!Object.is(o,r),fi=(o,r)=>{for(let t=0;t<o.length;t++)o[t](r)},Oi=(o,r,t)=>{Object.defineProperty(o,r,{configurable:!0,enumerable:!1,value:t})},Ba=o=>{const r=parseFloat(o);return isNaN(r)?o:r};let $u;const tp=()=>$u||($u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let un;class rp{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=un,!r&&un&&(this.index=(un.scopes||(un.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const t=un;try{return un=this,r()}finally{un=t}}}on(){un=this}off(){un=this.parent}stop(r){if(this._active){let t,e;for(t=0,e=this.effects.length;t<e;t++)this.effects[t].stop();for(t=0,e=this.cleanups.length;t<e;t++)this.cleanups[t]();if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!r){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function np(o,r=un){r&&r.active&&r.effects.push(o)}function op(){return un}const Al=o=>{const r=new Set(o);return r.w=0,r.n=0,r},od=o=>(o.w&io)>0,sd=o=>(o.n&io)>0,sp=({deps:o})=>{if(o.length)for(let r=0;r<o.length;r++)o[r].w|=io},ip=o=>{const{deps:r}=o;if(r.length){let t=0;for(let e=0;e<r.length;e++){const l=r[e];od(l)&&!sd(l)?l.delete(o):r[t++]=l,l.w&=~io,l.n&=~io}r.length=t}},Na=new WeakMap;let Ms=0,io=1;const Ua=30;let cn;const Oo=Symbol(""),Fa=Symbol("");class Pl{constructor(r,t=null,e){this.fn=r,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,np(this,e)}run(){if(!this.active)return this.fn();let r=cn,t=ro;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=cn,cn=this,ro=!0,io=1<<++Ms,Ms<=Ua?sp(this):Ku(this),this.fn()}finally{Ms<=Ua&&ip(this),io=1<<--Ms,cn=this.parent,ro=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){cn===this?this.deferStop=!0:this.active&&(Ku(this),this.onStop&&this.onStop(),this.active=!1)}}function Ku(o){const{deps:r}=o;if(r.length){for(let t=0;t<r.length;t++)r[t].delete(o);r.length=0}}let ro=!0;const id=[];function ms(){id.push(ro),ro=!1}function gs(){const o=id.pop();ro=o===void 0?!0:o}function Nr(o,r,t){if(ro&&cn){let e=Na.get(o);e||Na.set(o,e=new Map);let l=e.get(t);l||e.set(t,l=Al()),ad(l)}}function ad(o,r){let t=!1;Ms<=Ua?sd(o)||(o.n|=io,t=!od(o)):t=!o.has(cn),t&&(o.add(cn),cn.deps.push(o))}function Vn(o,r,t,e,l,u){const h=Na.get(o);if(!h)return;let n=[];if(r==="clear")n=[...h.values()];else if(t==="length"&&wt(o)){const p=Number(e);h.forEach((f,g)=>{(g==="length"||g>=p)&&n.push(f)})}else switch(t!==void 0&&n.push(h.get(t)),r){case"add":wt(o)?Rl(t)&&n.push(h.get("length")):(n.push(h.get(Oo)),ts(o)&&n.push(h.get(Fa)));break;case"delete":wt(o)||(n.push(h.get(Oo)),ts(o)&&n.push(h.get(Fa)));break;case"set":ts(o)&&n.push(h.get(Oo));break}if(n.length===1)n[0]&&Va(n[0]);else{const p=[];for(const f of n)f&&p.push(...f);Va(Al(p))}}function Va(o,r){const t=wt(o)?o:[...o];for(const e of t)e.computed&&Qu(e);for(const e of t)e.computed||Qu(e)}function Qu(o,r){(o!==cn||o.allowRecurse)&&(o.scheduler?o.scheduler():o.run())}const ap=Tl("__proto__,__v_isRef,__isVue"),ld=new Set(Object.getOwnPropertyNames(Symbol).filter(o=>o!=="arguments"&&o!=="caller").map(o=>Symbol[o]).filter(Ml)),lp=Ol(),up=Ol(!1,!0),cp=Ol(!0),Zu=dp();function dp(){const o={};return["includes","indexOf","lastIndexOf"].forEach(r=>{o[r]=function(...t){const e=Bt(this);for(let u=0,h=this.length;u<h;u++)Nr(e,"get",u+"");const l=e[r](...t);return l===-1||l===!1?e[r](...t.map(Bt)):l}}),["push","pop","shift","unshift","splice"].forEach(r=>{o[r]=function(...t){ms();const e=Bt(this)[r].apply(this,t);return gs(),e}}),o}function hp(o){const r=Bt(this);return Nr(r,"has",o),r.hasOwnProperty(o)}function Ol(o=!1,r=!1){return function(e,l,u){if(l==="__v_isReactive")return!o;if(l==="__v_isReadonly")return o;if(l==="__v_isShallow")return r;if(l==="__v_raw"&&u===(o?r?Mp:fd:r?hd:dd).get(e))return e;const h=wt(e);if(!o){if(h&&Dt(Zu,l))return Reflect.get(Zu,l,u);if(l==="hasOwnProperty")return hp}const n=Reflect.get(e,l,u);return(Ml(l)?ld.has(l):ap(l))||(o||Nr(e,"get",l),r)?n:Rr(n)?h&&Rl(l)?n:n.value:sr(n)?o?pd(n):Ll(n):n}}const fp=ud(),pp=ud(!0);function ud(o=!1){return function(t,e,l,u){let h=t[e];if(ss(h)&&Rr(h)&&!Rr(l))return!1;if(!o&&(!ki(l)&&!ss(l)&&(h=Bt(h),l=Bt(l)),!wt(t)&&Rr(h)&&!Rr(l)))return h.value=l,!0;const n=wt(t)&&Rl(e)?Number(e)<t.length:Dt(t,e),p=Reflect.set(t,e,l,u);return t===Bt(u)&&(n?Is(l,h)&&Vn(t,"set",e,l):Vn(t,"add",e,l)),p}}function mp(o,r){const t=Dt(o,r);o[r];const e=Reflect.deleteProperty(o,r);return e&&t&&Vn(o,"delete",r,void 0),e}function gp(o,r){const t=Reflect.has(o,r);return(!Ml(r)||!ld.has(r))&&Nr(o,"has",r),t}function yp(o){return Nr(o,"iterate",wt(o)?"length":Oo),Reflect.ownKeys(o)}const cd={get:lp,set:fp,deleteProperty:mp,has:gp,ownKeys:yp},vp={get:cp,set(o,r){return!0},deleteProperty(o,r){return!0}},bp=Ar({},cd,{get:up,set:pp}),kl=o=>o,zi=o=>Reflect.getPrototypeOf(o);function oi(o,r,t=!1,e=!1){o=o.__v_raw;const l=Bt(o),u=Bt(r);t||(r!==u&&Nr(l,"get",r),Nr(l,"get",u));const{has:h}=zi(l),n=e?kl:t?Nl:Bs;if(h.call(l,r))return n(o.get(r));if(h.call(l,u))return n(o.get(u));o!==l&&o.get(r)}function si(o,r=!1){const t=this.__v_raw,e=Bt(t),l=Bt(o);return r||(o!==l&&Nr(e,"has",o),Nr(e,"has",l)),o===l?t.has(o):t.has(o)||t.has(l)}function ii(o,r=!1){return o=o.__v_raw,!r&&Nr(Bt(o),"iterate",Oo),Reflect.get(o,"size",o)}function Ju(o){o=Bt(o);const r=Bt(this);return zi(r).has.call(r,o)||(r.add(o),Vn(r,"add",o,o)),this}function ec(o,r){r=Bt(r);const t=Bt(this),{has:e,get:l}=zi(t);let u=e.call(t,o);u||(o=Bt(o),u=e.call(t,o));const h=l.call(t,o);return t.set(o,r),u?Is(r,h)&&Vn(t,"set",o,r):Vn(t,"add",o,r),this}function tc(o){const r=Bt(this),{has:t,get:e}=zi(r);let l=t.call(r,o);l||(o=Bt(o),l=t.call(r,o)),e&&e.call(r,o);const u=r.delete(o);return l&&Vn(r,"delete",o,void 0),u}function rc(){const o=Bt(this),r=o.size!==0,t=o.clear();return r&&Vn(o,"clear",void 0,void 0),t}function ai(o,r){return function(e,l){const u=this,h=u.__v_raw,n=Bt(h),p=r?kl:o?Nl:Bs;return!o&&Nr(n,"iterate",Oo),h.forEach((f,g)=>e.call(l,p(f),p(g),u))}}function li(o,r,t){return function(...e){const l=this.__v_raw,u=Bt(l),h=ts(u),n=o==="entries"||o===Symbol.iterator&&h,p=o==="keys"&&h,f=l[o](...e),g=t?kl:r?Nl:Bs;return!r&&Nr(u,"iterate",p?Fa:Oo),{next(){const{value:m,done:i}=f.next();return i?{value:m,done:i}:{value:n?[g(m[0]),g(m[1])]:g(m),done:i}},[Symbol.iterator](){return this}}}}function Qn(o){return function(...r){return o==="delete"?!1:this}}function wp(){const o={get(u){return oi(this,u)},get size(){return ii(this)},has:si,add:Ju,set:ec,delete:tc,clear:rc,forEach:ai(!1,!1)},r={get(u){return oi(this,u,!1,!0)},get size(){return ii(this)},has:si,add:Ju,set:ec,delete:tc,clear:rc,forEach:ai(!1,!0)},t={get(u){return oi(this,u,!0)},get size(){return ii(this,!0)},has(u){return si.call(this,u,!0)},add:Qn("add"),set:Qn("set"),delete:Qn("delete"),clear:Qn("clear"),forEach:ai(!0,!1)},e={get(u){return oi(this,u,!0,!0)},get size(){return ii(this,!0)},has(u){return si.call(this,u,!0)},add:Qn("add"),set:Qn("set"),delete:Qn("delete"),clear:Qn("clear"),forEach:ai(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{o[u]=li(u,!1,!1),t[u]=li(u,!0,!1),r[u]=li(u,!1,!0),e[u]=li(u,!0,!0)}),[o,t,r,e]}const[xp,_p,Sp,Tp]=wp();function Dl(o,r){const t=r?o?Tp:Sp:o?_p:xp;return(e,l,u)=>l==="__v_isReactive"?!o:l==="__v_isReadonly"?o:l==="__v_raw"?e:Reflect.get(Dt(t,l)&&l in e?t:e,l,u)}const Ep={get:Dl(!1,!1)},jp={get:Dl(!1,!0)},Cp={get:Dl(!0,!1)},dd=new WeakMap,hd=new WeakMap,fd=new WeakMap,Mp=new WeakMap;function Rp(o){switch(o){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ap(o){return o.__v_skip||!Object.isExtensible(o)?0:Rp(Zf(o))}function Ll(o){return ss(o)?o:Il(o,!1,cd,Ep,dd)}function Pp(o){return Il(o,!1,bp,jp,hd)}function pd(o){return Il(o,!0,vp,Cp,fd)}function Il(o,r,t,e,l){if(!sr(o)||o.__v_raw&&!(r&&o.__v_isReactive))return o;const u=l.get(o);if(u)return u;const h=Ap(o);if(h===0)return o;const n=new Proxy(o,h===2?e:t);return l.set(o,n),n}function rs(o){return ss(o)?rs(o.__v_raw):!!(o&&o.__v_isReactive)}function ss(o){return!!(o&&o.__v_isReadonly)}function ki(o){return!!(o&&o.__v_isShallow)}function md(o){return rs(o)||ss(o)}function Bt(o){const r=o&&o.__v_raw;return r?Bt(r):o}function Bl(o){return Oi(o,"__v_skip",!0),o}const Bs=o=>sr(o)?Ll(o):o,Nl=o=>sr(o)?pd(o):o;function gd(o){ro&&cn&&(o=Bt(o),ad(o.dep||(o.dep=Al())))}function yd(o,r){o=Bt(o);const t=o.dep;t&&Va(t)}function Rr(o){return!!(o&&o.__v_isRef===!0)}function Bn(o){return Op(o,!1)}function Op(o,r){return Rr(o)?o:new kp(o,r)}class kp{constructor(r,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?r:Bt(r),this._value=t?r:Bs(r)}get value(){return gd(this),this._value}set value(r){const t=this.__v_isShallow||ki(r)||ss(r);r=t?r:Bt(r),Is(r,this._rawValue)&&(this._rawValue=r,this._value=t?r:Bs(r),yd(this))}}function tn(o){return Rr(o)?o.value:o}const Dp={get:(o,r,t)=>tn(Reflect.get(o,r,t)),set:(o,r,t,e)=>{const l=o[r];return Rr(l)&&!Rr(t)?(l.value=t,!0):Reflect.set(o,r,t,e)}};function vd(o){return rs(o)?o:new Proxy(o,Dp)}var bd;class Lp{constructor(r,t,e,l){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[bd]=!1,this._dirty=!0,this.effect=new Pl(r,()=>{this._dirty||(this._dirty=!0,yd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=e}get value(){const r=Bt(this);return gd(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}bd="__v_isReadonly";function Ip(o,r,t=!1){let e,l;const u=xt(o);return u?(e=o,l=hn):(e=o.get,l=o.set),new Lp(e,l,u||!l,t)}function no(o,r,t,e){let l;try{l=e?o(...e):o()}catch(u){qi(u,r,t)}return l}function rn(o,r,t,e){if(xt(o)){const u=no(o,r,t,e);return u&&td(u)&&u.catch(h=>{qi(h,r,t)}),u}const l=[];for(let u=0;u<o.length;u++)l.push(rn(o[u],r,t,e));return l}function qi(o,r,t,e=!0){const l=r?r.vnode:null;if(r){let u=r.parent;const h=r.proxy,n=t;for(;u;){const f=u.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](o,h,n)===!1)return}u=u.parent}const p=r.appContext.config.errorHandler;if(p){no(p,null,10,[o,h,n]);return}}Bp(o,t,l,e)}function Bp(o,r,t,e=!0){console.error(o)}let Ns=!1,Ga=!1;const Mr=[];let Tn=0;const ns=[];let Dn=null,jo=0;const wd=Promise.resolve();let Ul=null;function Np(o){const r=Ul||wd;return o?r.then(this?o.bind(this):o):r}function Up(o){let r=Tn+1,t=Mr.length;for(;r<t;){const e=r+t>>>1;Us(Mr[e])<o?r=e+1:t=e}return r}function Fl(o){(!Mr.length||!Mr.includes(o,Ns&&o.allowRecurse?Tn+1:Tn))&&(o.id==null?Mr.push(o):Mr.splice(Up(o.id),0,o),xd())}function xd(){!Ns&&!Ga&&(Ga=!0,Ul=wd.then(Sd))}function Fp(o){const r=Mr.indexOf(o);r>Tn&&Mr.splice(r,1)}function Vp(o){wt(o)?ns.push(...o):(!Dn||!Dn.includes(o,o.allowRecurse?jo+1:jo))&&ns.push(o),xd()}function nc(o,r=Ns?Tn+1:0){for(;r<Mr.length;r++){const t=Mr[r];t&&t.pre&&(Mr.splice(r,1),r--,t())}}function _d(o){if(ns.length){const r=[...new Set(ns)];if(ns.length=0,Dn){Dn.push(...r);return}for(Dn=r,Dn.sort((t,e)=>Us(t)-Us(e)),jo=0;jo<Dn.length;jo++)Dn[jo]();Dn=null,jo=0}}const Us=o=>o.id==null?1/0:o.id,Gp=(o,r)=>{const t=Us(o)-Us(r);if(t===0){if(o.pre&&!r.pre)return-1;if(r.pre&&!o.pre)return 1}return t};function Sd(o){Ga=!1,Ns=!0,Mr.sort(Gp);const r=hn;try{for(Tn=0;Tn<Mr.length;Tn++){const t=Mr[Tn];t&&t.active!==!1&&no(t,null,14)}}finally{Tn=0,Mr.length=0,_d(),Ns=!1,Ul=null,(Mr.length||ns.length)&&Sd()}}function Hp(o,r,...t){if(o.isUnmounted)return;const e=o.vnode.props||rr;let l=t;const u=r.startsWith("update:"),h=u&&r.slice(7);if(h&&h in e){const g=`${h==="modelValue"?"model":h}Modifiers`,{number:m,trim:i}=e[g]||rr;i&&(l=t.map(s=>yr(s)?s.trim():s)),m&&(l=t.map(Ba))}let n,p=e[n=Sa(r)]||e[n=Sa(jn(r))];!p&&u&&(p=e[n=Sa(ps(r))]),p&&rn(p,o,6,l);const f=e[n+"Once"];if(f){if(!o.emitted)o.emitted={};else if(o.emitted[n])return;o.emitted[n]=!0,rn(f,o,6,l)}}function Td(o,r,t=!1){const e=r.emitsCache,l=e.get(o);if(l!==void 0)return l;const u=o.emits;let h={},n=!1;if(!xt(o)){const p=f=>{const g=Td(f,r,!0);g&&(n=!0,Ar(h,g))};!t&&r.mixins.length&&r.mixins.forEach(p),o.extends&&p(o.extends),o.mixins&&o.mixins.forEach(p)}return!u&&!n?(sr(o)&&e.set(o,null),null):(wt(u)?u.forEach(p=>h[p]=null):Ar(h,u),sr(o)&&e.set(o,h),h)}function Yi(o,r){return!o||!Vi(r)?!1:(r=r.slice(2).replace(/Once$/,""),Dt(o,r[0].toLowerCase()+r.slice(1))||Dt(o,ps(r))||Dt(o,r))}let Hr=null,Ed=null;function Di(o){const r=Hr;return Hr=o,Ed=o&&o.type.__scopeId||null,r}function Wp(o,r=Hr,t){if(!r||o._n)return o;const e=(...l)=>{e._d&&fc(-1);const u=Di(r);let h;try{h=o(...l)}finally{Di(u),e._d&&fc(1)}return h};return e._n=!0,e._c=!0,e._d=!0,e}function Ta(o){const{type:r,vnode:t,proxy:e,withProxy:l,props:u,propsOptions:[h],slots:n,attrs:p,emit:f,render:g,renderCache:m,data:i,setupState:s,ctx:a,inheritAttrs:c}=o;let d,y;const w=Di(o);try{if(t.shapeFlag&4){const S=l||e;d=Sn(g.call(S,S,m,u,s,i,a)),y=p}else{const S=r;d=Sn(S.length>1?S(u,{attrs:p,slots:n,emit:f}):S(u,null)),y=r.props?p:zp(p)}}catch(S){Ls.length=0,qi(S,o,1),d=Nn(fn)}let _=d;if(y&&c!==!1){const S=Object.keys(y),{shapeFlag:j}=_;S.length&&j&7&&(h&&S.some(jl)&&(y=qp(y,h)),_=ao(_,y))}return t.dirs&&(_=ao(_),_.dirs=_.dirs?_.dirs.concat(t.dirs):t.dirs),t.transition&&(_.transition=t.transition),d=_,Di(w),d}const zp=o=>{let r;for(const t in o)(t==="class"||t==="style"||Vi(t))&&((r||(r={}))[t]=o[t]);return r},qp=(o,r)=>{const t={};for(const e in o)(!jl(e)||!(e.slice(9)in r))&&(t[e]=o[e]);return t};function Yp(o,r,t){const{props:e,children:l,component:u}=o,{props:h,children:n,patchFlag:p}=r,f=u.emitsOptions;if(r.dirs||r.transition)return!0;if(t&&p>=0){if(p&1024)return!0;if(p&16)return e?oc(e,h,f):!!h;if(p&8){const g=r.dynamicProps;for(let m=0;m<g.length;m++){const i=g[m];if(h[i]!==e[i]&&!Yi(f,i))return!0}}}else return(l||n)&&(!n||!n.$stable)?!0:e===h?!1:e?h?oc(e,h,f):!0:!!h;return!1}function oc(o,r,t){const e=Object.keys(r);if(e.length!==Object.keys(o).length)return!0;for(let l=0;l<e.length;l++){const u=e[l];if(r[u]!==o[u]&&!Yi(t,u))return!0}return!1}function Xp({vnode:o,parent:r},t){for(;r&&r.subTree===o;)(o=r.vnode).el=t,r=r.parent}const $p=o=>o.__isSuspense;function Kp(o,r){r&&r.pendingBranch?wt(o)?r.effects.push(...o):r.effects.push(o):Vp(o)}function Qp(o,r){if(cr){let t=cr.provides;const e=cr.parent&&cr.parent.provides;e===t&&(t=cr.provides=Object.create(e)),t[o]=r}}function pi(o,r,t=!1){const e=cr||Hr;if(e){const l=e.parent==null?e.vnode.appContext&&e.vnode.appContext.provides:e.parent.provides;if(l&&o in l)return l[o];if(arguments.length>1)return t&&xt(r)?r.call(e.proxy):r}}const ui={};function Ea(o,r,t){return jd(o,r,t)}function jd(o,r,{immediate:t,deep:e,flush:l,onTrack:u,onTrigger:h}=rr){const n=op()===(cr==null?void 0:cr.scope)?cr:null;let p,f=!1,g=!1;if(Rr(o)?(p=()=>o.value,f=ki(o)):rs(o)?(p=()=>o,e=!0):wt(o)?(g=!0,f=o.some(_=>rs(_)||ki(_)),p=()=>o.map(_=>{if(Rr(_))return _.value;if(rs(_))return Ao(_);if(xt(_))return no(_,n,2)})):xt(o)?r?p=()=>no(o,n,2):p=()=>{if(!(n&&n.isUnmounted))return m&&m(),rn(o,n,3,[i])}:p=hn,r&&e){const _=p;p=()=>Ao(_())}let m,i=_=>{m=y.onStop=()=>{no(_,n,4)}},s;if(Vs)if(i=hn,r?t&&rn(r,n,3,[p(),g?[]:void 0,i]):p(),l==="sync"){const _=X0();s=_.__watcherHandles||(_.__watcherHandles=[])}else return hn;let a=g?new Array(o.length).fill(ui):ui;const c=()=>{if(y.active)if(r){const _=y.run();(e||f||(g?_.some((S,j)=>Is(S,a[j])):Is(_,a)))&&(m&&m(),rn(r,n,3,[_,a===ui?void 0:g&&a[0]===ui?[]:a,i]),a=_)}else y.run()};c.allowRecurse=!!r;let d;l==="sync"?d=c:l==="post"?d=()=>Lr(c,n&&n.suspense):(c.pre=!0,n&&(c.id=n.uid),d=()=>Fl(c));const y=new Pl(p,d);r?t?c():a=y.run():l==="post"?Lr(y.run.bind(y),n&&n.suspense):y.run();const w=()=>{y.stop(),n&&n.scope&&Cl(n.scope.effects,y)};return s&&s.push(w),w}function Zp(o,r,t){const e=this.proxy,l=yr(o)?o.includes(".")?Cd(e,o):()=>e[o]:o.bind(e,e);let u;xt(r)?u=r:(u=r.handler,t=r);const h=cr;is(this);const n=jd(l,u.bind(e),t);return h?is(h):ko(),n}function Cd(o,r){const t=r.split(".");return()=>{let e=o;for(let l=0;l<t.length&&e;l++)e=e[t[l]];return e}}function Ao(o,r){if(!sr(o)||o.__v_skip||(r=r||new Set,r.has(o)))return o;if(r.add(o),Rr(o))Ao(o.value,r);else if(wt(o))for(let t=0;t<o.length;t++)Ao(o[t],r);else if(ed(o)||ts(o))o.forEach(t=>{Ao(t,r)});else if(nd(o))for(const t in o)Ao(o[t],r);return o}function Jp(){const o={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pd(()=>{o.isMounted=!0}),Od(()=>{o.isUnmounting=!0}),o}const Yr=[Function,Array],e0={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Yr,onEnter:Yr,onAfterEnter:Yr,onEnterCancelled:Yr,onBeforeLeave:Yr,onLeave:Yr,onAfterLeave:Yr,onLeaveCancelled:Yr,onBeforeAppear:Yr,onAppear:Yr,onAfterAppear:Yr,onAppearCancelled:Yr},setup(o,{slots:r}){const t=F0(),e=Jp();let l;return()=>{const u=r.default&&Rd(r.default(),!0);if(!u||!u.length)return;let h=u[0];if(u.length>1){for(const c of u)if(c.type!==fn){h=c;break}}const n=Bt(o),{mode:p}=n;if(e.isLeaving)return ja(h);const f=sc(h);if(!f)return ja(h);const g=Ha(f,n,e,t);Wa(f,g);const m=t.subTree,i=m&&sc(m);let s=!1;const{getTransitionKey:a}=f.type;if(a){const c=a();l===void 0?l=c:c!==l&&(l=c,s=!0)}if(i&&i.type!==fn&&(!Co(f,i)||s)){const c=Ha(i,n,e,t);if(Wa(i,c),p==="out-in")return e.isLeaving=!0,c.afterLeave=()=>{e.isLeaving=!1,t.update.active!==!1&&t.update()},ja(h);p==="in-out"&&f.type!==fn&&(c.delayLeave=(d,y,w)=>{const _=Md(e,i);_[String(i.key)]=i,d._leaveCb=()=>{y(),d._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=w})}return h}}},t0=e0;function Md(o,r){const{leavingVNodes:t}=o;let e=t.get(r.type);return e||(e=Object.create(null),t.set(r.type,e)),e}function Ha(o,r,t,e){const{appear:l,mode:u,persisted:h=!1,onBeforeEnter:n,onEnter:p,onAfterEnter:f,onEnterCancelled:g,onBeforeLeave:m,onLeave:i,onAfterLeave:s,onLeaveCancelled:a,onBeforeAppear:c,onAppear:d,onAfterAppear:y,onAppearCancelled:w}=r,_=String(o.key),S=Md(t,o),j=(P,I)=>{P&&rn(P,e,9,I)},C=(P,I)=>{const A=I[1];j(P,I),wt(P)?P.every(D=>D.length<=1)&&A():P.length<=1&&A()},R={mode:u,persisted:h,beforeEnter(P){let I=n;if(!t.isMounted)if(l)I=c||n;else return;P._leaveCb&&P._leaveCb(!0);const A=S[_];A&&Co(o,A)&&A.el._leaveCb&&A.el._leaveCb(),j(I,[P])},enter(P){let I=p,A=f,D=g;if(!t.isMounted)if(l)I=d||p,A=y||f,D=w||g;else return;let N=!1;const L=P._enterCb=W=>{N||(N=!0,W?j(D,[P]):j(A,[P]),R.delayedLeave&&R.delayedLeave(),P._enterCb=void 0)};I?C(I,[P,L]):L()},leave(P,I){const A=String(o.key);if(P._enterCb&&P._enterCb(!0),t.isUnmounting)return I();j(m,[P]);let D=!1;const N=P._leaveCb=L=>{D||(D=!0,I(),L?j(a,[P]):j(s,[P]),P._leaveCb=void 0,S[A]===o&&delete S[A])};S[A]=o,i?C(i,[P,N]):N()},clone(P){return Ha(P,r,t,e)}};return R}function ja(o){if(Xi(o))return o=ao(o),o.children=null,o}function sc(o){return Xi(o)?o.children?o.children[0]:void 0:o}function Wa(o,r){o.shapeFlag&6&&o.component?Wa(o.component.subTree,r):o.shapeFlag&128?(o.ssContent.transition=r.clone(o.ssContent),o.ssFallback.transition=r.clone(o.ssFallback)):o.transition=r}function Rd(o,r=!1,t){let e=[],l=0;for(let u=0;u<o.length;u++){let h=o[u];const n=t==null?h.key:String(t)+String(h.key!=null?h.key:u);h.type===Br?(h.patchFlag&128&&l++,e=e.concat(Rd(h.children,r,n))):(r||h.type!==fn)&&e.push(n!=null?ao(h,{key:n}):h)}if(l>1)for(let u=0;u<e.length;u++)e[u].patchFlag=-2;return e}function Uo(o){return xt(o)?{setup:o,name:o.name}:o}const mi=o=>!!o.type.__asyncLoader,Xi=o=>o.type.__isKeepAlive;function r0(o,r){Ad(o,"a",r)}function n0(o,r){Ad(o,"da",r)}function Ad(o,r,t=cr){const e=o.__wdc||(o.__wdc=()=>{let l=t;for(;l;){if(l.isDeactivated)return;l=l.parent}return o()});if($i(r,e,t),t){let l=t.parent;for(;l&&l.parent;)Xi(l.parent.vnode)&&o0(e,r,t,l),l=l.parent}}function o0(o,r,t,e){const l=$i(r,o,e,!0);kd(()=>{Cl(e[r],l)},t)}function $i(o,r,t=cr,e=!1){if(t){const l=t[o]||(t[o]=[]),u=r.__weh||(r.__weh=(...h)=>{if(t.isUnmounted)return;ms(),is(t);const n=rn(r,t,o,h);return ko(),gs(),n});return e?l.unshift(u):l.push(u),u}}const Gn=o=>(r,t=cr)=>(!Vs||o==="sp")&&$i(o,(...e)=>r(...e),t),s0=Gn("bm"),Pd=Gn("m"),i0=Gn("bu"),a0=Gn("u"),Od=Gn("bum"),kd=Gn("um"),l0=Gn("sp"),u0=Gn("rtg"),c0=Gn("rtc");function d0(o,r=cr){$i("ec",o,r)}function Ko(o,r){const t=Hr;if(t===null)return o;const e=Zi(t)||t.proxy,l=o.dirs||(o.dirs=[]);for(let u=0;u<r.length;u++){let[h,n,p,f=rr]=r[u];h&&(xt(h)&&(h={mounted:h,updated:h}),h.deep&&Ao(n),l.push({dir:h,instance:e,value:n,oldValue:void 0,arg:p,modifiers:f}))}return o}function So(o,r,t,e){const l=o.dirs,u=r&&r.dirs;for(let h=0;h<l.length;h++){const n=l[h];u&&(n.oldValue=u[h].value);let p=n.dir[e];p&&(ms(),rn(p,t,8,[o.el,n,o,r]),gs())}}const Dd="components",Ld=Symbol();function h0(o){return yr(o)?f0(Dd,o,!1)||o:o||Ld}function f0(o,r,t=!0,e=!1){const l=Hr||cr;if(l){const u=l.type;if(o===Dd){const n=z0(u,!1);if(n&&(n===r||n===jn(r)||n===Wi(jn(r))))return u}const h=ic(l[o]||u[o],r)||ic(l.appContext[o],r);return!h&&e?u:h}}function ic(o,r){return o&&(o[r]||o[jn(r)]||o[Wi(jn(r))])}function Id(o,r,t,e){let l;const u=t&&t[e];if(wt(o)||yr(o)){l=new Array(o.length);for(let h=0,n=o.length;h<n;h++)l[h]=r(o[h],h,void 0,u&&u[h])}else if(typeof o=="number"){l=new Array(o);for(let h=0;h<o;h++)l[h]=r(h+1,h,void 0,u&&u[h])}else if(sr(o))if(o[Symbol.iterator])l=Array.from(o,(h,n)=>r(h,n,void 0,u&&u[n]));else{const h=Object.keys(o);l=new Array(h.length);for(let n=0,p=h.length;n<p;n++){const f=h[n];l[n]=r(o[f],f,n,u&&u[n])}}else l=[];return t&&(t[e]=l),l}const za=o=>o?Yd(o)?Zi(o)||o.proxy:za(o.parent):null,Ds=Ar(Object.create(null),{$:o=>o,$el:o=>o.vnode.el,$data:o=>o.data,$props:o=>o.props,$attrs:o=>o.attrs,$slots:o=>o.slots,$refs:o=>o.refs,$parent:o=>za(o.parent),$root:o=>za(o.root),$emit:o=>o.emit,$options:o=>Vl(o),$forceUpdate:o=>o.f||(o.f=()=>Fl(o.update)),$nextTick:o=>o.n||(o.n=Np.bind(o.proxy)),$watch:o=>Zp.bind(o)}),Ca=(o,r)=>o!==rr&&!o.__isScriptSetup&&Dt(o,r),p0={get({_:o},r){const{ctx:t,setupState:e,data:l,props:u,accessCache:h,type:n,appContext:p}=o;let f;if(r[0]!=="$"){const s=h[r];if(s!==void 0)switch(s){case 1:return e[r];case 2:return l[r];case 4:return t[r];case 3:return u[r]}else{if(Ca(e,r))return h[r]=1,e[r];if(l!==rr&&Dt(l,r))return h[r]=2,l[r];if((f=o.propsOptions[0])&&Dt(f,r))return h[r]=3,u[r];if(t!==rr&&Dt(t,r))return h[r]=4,t[r];qa&&(h[r]=0)}}const g=Ds[r];let m,i;if(g)return r==="$attrs"&&Nr(o,"get",r),g(o);if((m=n.__cssModules)&&(m=m[r]))return m;if(t!==rr&&Dt(t,r))return h[r]=4,t[r];if(i=p.config.globalProperties,Dt(i,r))return i[r]},set({_:o},r,t){const{data:e,setupState:l,ctx:u}=o;return Ca(l,r)?(l[r]=t,!0):e!==rr&&Dt(e,r)?(e[r]=t,!0):Dt(o.props,r)||r[0]==="$"&&r.slice(1)in o?!1:(u[r]=t,!0)},has({_:{data:o,setupState:r,accessCache:t,ctx:e,appContext:l,propsOptions:u}},h){let n;return!!t[h]||o!==rr&&Dt(o,h)||Ca(r,h)||(n=u[0])&&Dt(n,h)||Dt(e,h)||Dt(Ds,h)||Dt(l.config.globalProperties,h)},defineProperty(o,r,t){return t.get!=null?o._.accessCache[r]=0:Dt(t,"value")&&this.set(o,r,t.value,null),Reflect.defineProperty(o,r,t)}};let qa=!0;function m0(o){const r=Vl(o),t=o.proxy,e=o.ctx;qa=!1,r.beforeCreate&&ac(r.beforeCreate,o,"bc");const{data:l,computed:u,methods:h,watch:n,provide:p,inject:f,created:g,beforeMount:m,mounted:i,beforeUpdate:s,updated:a,activated:c,deactivated:d,beforeDestroy:y,beforeUnmount:w,destroyed:_,unmounted:S,render:j,renderTracked:C,renderTriggered:R,errorCaptured:P,serverPrefetch:I,expose:A,inheritAttrs:D,components:N,directives:L,filters:W}=r;if(f&&g0(f,e,null,o.appContext.config.unwrapInjectedRef),h)for(const ue in h){const J=h[ue];xt(J)&&(e[ue]=J.bind(t))}if(l){const ue=l.call(t,t);sr(ue)&&(o.data=Ll(ue))}if(qa=!0,u)for(const ue in u){const J=u[ue],ce=xt(J)?J.bind(t,t):xt(J.get)?J.get.bind(t,t):hn,se=!xt(J)&&xt(J.set)?J.set.bind(t):hn,ge=Ii({get:ce,set:se});Object.defineProperty(e,ue,{enumerable:!0,configurable:!0,get:()=>ge.value,set:_e=>ge.value=_e})}if(n)for(const ue in n)Bd(n[ue],e,t,ue);if(p){const ue=xt(p)?p.call(t):p;Reflect.ownKeys(ue).forEach(J=>{Qp(J,ue[J])})}g&&ac(g,o,"c");function le(ue,J){wt(J)?J.forEach(ce=>ue(ce.bind(t))):J&&ue(J.bind(t))}if(le(s0,m),le(Pd,i),le(i0,s),le(a0,a),le(r0,c),le(n0,d),le(d0,P),le(c0,C),le(u0,R),le(Od,w),le(kd,S),le(l0,I),wt(A))if(A.length){const ue=o.exposed||(o.exposed={});A.forEach(J=>{Object.defineProperty(ue,J,{get:()=>t[J],set:ce=>t[J]=ce})})}else o.exposed||(o.exposed={});j&&o.render===hn&&(o.render=j),D!=null&&(o.inheritAttrs=D),N&&(o.components=N),L&&(o.directives=L)}function g0(o,r,t=hn,e=!1){wt(o)&&(o=Ya(o));for(const l in o){const u=o[l];let h;sr(u)?"default"in u?h=pi(u.from||l,u.default,!0):h=pi(u.from||l):h=pi(u),Rr(h)&&e?Object.defineProperty(r,l,{enumerable:!0,configurable:!0,get:()=>h.value,set:n=>h.value=n}):r[l]=h}}function ac(o,r,t){rn(wt(o)?o.map(e=>e.bind(r.proxy)):o.bind(r.proxy),r,t)}function Bd(o,r,t,e){const l=e.includes(".")?Cd(t,e):()=>t[e];if(yr(o)){const u=r[o];xt(u)&&Ea(l,u)}else if(xt(o))Ea(l,o.bind(t));else if(sr(o))if(wt(o))o.forEach(u=>Bd(u,r,t,e));else{const u=xt(o.handler)?o.handler.bind(t):r[o.handler];xt(u)&&Ea(l,u,o)}}function Vl(o){const r=o.type,{mixins:t,extends:e}=r,{mixins:l,optionsCache:u,config:{optionMergeStrategies:h}}=o.appContext,n=u.get(r);let p;return n?p=n:!l.length&&!t&&!e?p=r:(p={},l.length&&l.forEach(f=>Li(p,f,h,!0)),Li(p,r,h)),sr(r)&&u.set(r,p),p}function Li(o,r,t,e=!1){const{mixins:l,extends:u}=r;u&&Li(o,u,t,!0),l&&l.forEach(h=>Li(o,h,t,!0));for(const h in r)if(!(e&&h==="expose")){const n=y0[h]||t&&t[h];o[h]=n?n(o[h],r[h]):r[h]}return o}const y0={data:lc,props:Eo,emits:Eo,methods:Eo,computed:Eo,beforeCreate:Or,created:Or,beforeMount:Or,mounted:Or,beforeUpdate:Or,updated:Or,beforeDestroy:Or,beforeUnmount:Or,destroyed:Or,unmounted:Or,activated:Or,deactivated:Or,errorCaptured:Or,serverPrefetch:Or,components:Eo,directives:Eo,watch:b0,provide:lc,inject:v0};function lc(o,r){return r?o?function(){return Ar(xt(o)?o.call(this,this):o,xt(r)?r.call(this,this):r)}:r:o}function v0(o,r){return Eo(Ya(o),Ya(r))}function Ya(o){if(wt(o)){const r={};for(let t=0;t<o.length;t++)r[o[t]]=o[t];return r}return o}function Or(o,r){return o?[...new Set([].concat(o,r))]:r}function Eo(o,r){return o?Ar(Ar(Object.create(null),o),r):r}function b0(o,r){if(!o)return r;if(!r)return o;const t=Ar(Object.create(null),o);for(const e in r)t[e]=Or(o[e],r[e]);return t}function w0(o,r,t,e=!1){const l={},u={};Oi(u,Qi,1),o.propsDefaults=Object.create(null),Nd(o,r,l,u);for(const h in o.propsOptions[0])h in l||(l[h]=void 0);t?o.props=e?l:Pp(l):o.type.props?o.props=l:o.props=u,o.attrs=u}function x0(o,r,t,e){const{props:l,attrs:u,vnode:{patchFlag:h}}=o,n=Bt(l),[p]=o.propsOptions;let f=!1;if((e||h>0)&&!(h&16)){if(h&8){const g=o.vnode.dynamicProps;for(let m=0;m<g.length;m++){let i=g[m];if(Yi(o.emitsOptions,i))continue;const s=r[i];if(p)if(Dt(u,i))s!==u[i]&&(u[i]=s,f=!0);else{const a=jn(i);l[a]=Xa(p,n,a,s,o,!1)}else s!==u[i]&&(u[i]=s,f=!0)}}}else{Nd(o,r,l,u)&&(f=!0);let g;for(const m in n)(!r||!Dt(r,m)&&((g=ps(m))===m||!Dt(r,g)))&&(p?t&&(t[m]!==void 0||t[g]!==void 0)&&(l[m]=Xa(p,n,m,void 0,o,!0)):delete l[m]);if(u!==n)for(const m in u)(!r||!Dt(r,m))&&(delete u[m],f=!0)}f&&Vn(o,"set","$attrs")}function Nd(o,r,t,e){const[l,u]=o.propsOptions;let h=!1,n;if(r)for(let p in r){if(hi(p))continue;const f=r[p];let g;l&&Dt(l,g=jn(p))?!u||!u.includes(g)?t[g]=f:(n||(n={}))[g]=f:Yi(o.emitsOptions,p)||(!(p in e)||f!==e[p])&&(e[p]=f,h=!0)}if(u){const p=Bt(t),f=n||rr;for(let g=0;g<u.length;g++){const m=u[g];t[m]=Xa(l,p,m,f[m],o,!Dt(f,m))}}return h}function Xa(o,r,t,e,l,u){const h=o[t];if(h!=null){const n=Dt(h,"default");if(n&&e===void 0){const p=h.default;if(h.type!==Function&&xt(p)){const{propsDefaults:f}=l;t in f?e=f[t]:(is(l),e=f[t]=p.call(null,r),ko())}else e=p}h[0]&&(u&&!n?e=!1:h[1]&&(e===""||e===ps(t))&&(e=!0))}return e}function Ud(o,r,t=!1){const e=r.propsCache,l=e.get(o);if(l)return l;const u=o.props,h={},n=[];let p=!1;if(!xt(o)){const g=m=>{p=!0;const[i,s]=Ud(m,r,!0);Ar(h,i),s&&n.push(...s)};!t&&r.mixins.length&&r.mixins.forEach(g),o.extends&&g(o.extends),o.mixins&&o.mixins.forEach(g)}if(!u&&!p)return sr(o)&&e.set(o,es),es;if(wt(u))for(let g=0;g<u.length;g++){const m=jn(u[g]);uc(m)&&(h[m]=rr)}else if(u)for(const g in u){const m=jn(g);if(uc(m)){const i=u[g],s=h[m]=wt(i)||xt(i)?{type:i}:Object.assign({},i);if(s){const a=hc(Boolean,s.type),c=hc(String,s.type);s[0]=a>-1,s[1]=c<0||a<c,(a>-1||Dt(s,"default"))&&n.push(m)}}}const f=[h,n];return sr(o)&&e.set(o,f),f}function uc(o){return o[0]!=="$"}function cc(o){const r=o&&o.toString().match(/^\s*(function|class) (\w+)/);return r?r[2]:o===null?"null":""}function dc(o,r){return cc(o)===cc(r)}function hc(o,r){return wt(r)?r.findIndex(t=>dc(t,o)):xt(r)&&dc(r,o)?0:-1}const Fd=o=>o[0]==="_"||o==="$stable",Gl=o=>wt(o)?o.map(Sn):[Sn(o)],_0=(o,r,t)=>{if(r._n)return r;const e=Wp((...l)=>Gl(r(...l)),t);return e._c=!1,e},Vd=(o,r,t)=>{const e=o._ctx;for(const l in o){if(Fd(l))continue;const u=o[l];if(xt(u))r[l]=_0(l,u,e);else if(u!=null){const h=Gl(u);r[l]=()=>h}}},Gd=(o,r)=>{const t=Gl(r);o.slots.default=()=>t},S0=(o,r)=>{if(o.vnode.shapeFlag&32){const t=r._;t?(o.slots=Bt(r),Oi(r,"_",t)):Vd(r,o.slots={})}else o.slots={},r&&Gd(o,r);Oi(o.slots,Qi,1)},T0=(o,r,t)=>{const{vnode:e,slots:l}=o;let u=!0,h=rr;if(e.shapeFlag&32){const n=r._;n?t&&n===1?u=!1:(Ar(l,r),!t&&n===1&&delete l._):(u=!r.$stable,Vd(r,l)),h=r}else r&&(Gd(o,r),h={default:1});if(u)for(const n in l)!Fd(n)&&!(n in h)&&delete l[n]};function Hd(){return{app:null,config:{isNativeTag:$f,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let E0=0;function j0(o,r){return function(e,l=null){xt(e)||(e=Object.assign({},e)),l!=null&&!sr(l)&&(l=null);const u=Hd(),h=new Set;let n=!1;const p=u.app={_uid:E0++,_component:e,_props:l,_container:null,_context:u,_instance:null,version:$0,get config(){return u.config},set config(f){},use(f,...g){return h.has(f)||(f&&xt(f.install)?(h.add(f),f.install(p,...g)):xt(f)&&(h.add(f),f(p,...g))),p},mixin(f){return u.mixins.includes(f)||u.mixins.push(f),p},component(f,g){return g?(u.components[f]=g,p):u.components[f]},directive(f,g){return g?(u.directives[f]=g,p):u.directives[f]},mount(f,g,m){if(!n){const i=Nn(e,l);return i.appContext=u,g&&r?r(i,f):o(i,f,m),n=!0,p._container=f,f.__vue_app__=p,Zi(i.component)||i.component.proxy}},unmount(){n&&(o(null,p._container),delete p._container.__vue_app__)},provide(f,g){return u.provides[f]=g,p}};return p}}function $a(o,r,t,e,l=!1){if(wt(o)){o.forEach((i,s)=>$a(i,r&&(wt(r)?r[s]:r),t,e,l));return}if(mi(e)&&!l)return;const u=e.shapeFlag&4?Zi(e.component)||e.component.proxy:e.el,h=l?null:u,{i:n,r:p}=o,f=r&&r.r,g=n.refs===rr?n.refs={}:n.refs,m=n.setupState;if(f!=null&&f!==p&&(yr(f)?(g[f]=null,Dt(m,f)&&(m[f]=null)):Rr(f)&&(f.value=null)),xt(p))no(p,n,12,[h,g]);else{const i=yr(p),s=Rr(p);if(i||s){const a=()=>{if(o.f){const c=i?Dt(m,p)?m[p]:g[p]:p.value;l?wt(c)&&Cl(c,u):wt(c)?c.includes(u)||c.push(u):i?(g[p]=[u],Dt(m,p)&&(m[p]=g[p])):(p.value=[u],o.k&&(g[o.k]=p.value))}else i?(g[p]=h,Dt(m,p)&&(m[p]=h)):s&&(p.value=h,o.k&&(g[o.k]=h))};h?(a.id=-1,Lr(a,t)):a()}}}const Lr=Kp;function C0(o){return M0(o)}function M0(o,r){const t=tp();t.__VUE__=!0;const{insert:e,remove:l,patchProp:u,createElement:h,createText:n,createComment:p,setText:f,setElementText:g,parentNode:m,nextSibling:i,setScopeId:s=hn,insertStaticContent:a}=o,c=(B,U,re,$=null,ne=null,ie=null,oe=!1,me=null,ye=!!U.dynamicChildren)=>{if(B===U)return;B&&!Co(B,U)&&($=Te(B),_e(B,ne,ie,!0),B=null),U.patchFlag===-2&&(ye=!1,U.dynamicChildren=null);const{type:fe,ref:ke,shapeFlag:Ne}=U;switch(fe){case Ki:d(B,U,re,$);break;case fn:y(B,U,re,$);break;case Ma:B==null&&w(U,re,$,oe);break;case Br:N(B,U,re,$,ne,ie,oe,me,ye);break;default:Ne&1?j(B,U,re,$,ne,ie,oe,me,ye):Ne&6?L(B,U,re,$,ne,ie,oe,me,ye):(Ne&64||Ne&128)&&fe.process(B,U,re,$,ne,ie,oe,me,ye,V)}ke!=null&&ne&&$a(ke,B&&B.ref,ie,U||B,!U)},d=(B,U,re,$)=>{if(B==null)e(U.el=n(U.children),re,$);else{const ne=U.el=B.el;U.children!==B.children&&f(ne,U.children)}},y=(B,U,re,$)=>{B==null?e(U.el=p(U.children||""),re,$):U.el=B.el},w=(B,U,re,$)=>{[B.el,B.anchor]=a(B.children,U,re,$,B.el,B.anchor)},_=({el:B,anchor:U},re,$)=>{let ne;for(;B&&B!==U;)ne=i(B),e(B,re,$),B=ne;e(U,re,$)},S=({el:B,anchor:U})=>{let re;for(;B&&B!==U;)re=i(B),l(B),B=re;l(U)},j=(B,U,re,$,ne,ie,oe,me,ye)=>{oe=oe||U.type==="svg",B==null?C(U,re,$,ne,ie,oe,me,ye):I(B,U,ne,ie,oe,me,ye)},C=(B,U,re,$,ne,ie,oe,me)=>{let ye,fe;const{type:ke,props:Ne,shapeFlag:Ue,transition:Le,dirs:Ze}=B;if(ye=B.el=h(B.type,ie,Ne&&Ne.is,Ne),Ue&8?g(ye,B.children):Ue&16&&P(B.children,ye,null,$,ne,ie&&ke!=="foreignObject",oe,me),Ze&&So(B,null,$,"created"),R(ye,B,B.scopeId,oe,$),Ne){for(const Re in Ne)Re!=="value"&&!hi(Re)&&u(ye,Re,null,Ne[Re],ie,B.children,$,ne,Se);"value"in Ne&&u(ye,"value",null,Ne.value),(fe=Ne.onVnodeBeforeMount)&&wn(fe,$,B)}Ze&&So(B,null,$,"beforeMount");const Ae=(!ne||ne&&!ne.pendingBranch)&&Le&&!Le.persisted;Ae&&Le.beforeEnter(ye),e(ye,U,re),((fe=Ne&&Ne.onVnodeMounted)||Ae||Ze)&&Lr(()=>{fe&&wn(fe,$,B),Ae&&Le.enter(ye),Ze&&So(B,null,$,"mounted")},ne)},R=(B,U,re,$,ne)=>{if(re&&s(B,re),$)for(let ie=0;ie<$.length;ie++)s(B,$[ie]);if(ne){let ie=ne.subTree;if(U===ie){const oe=ne.vnode;R(B,oe,oe.scopeId,oe.slotScopeIds,ne.parent)}}},P=(B,U,re,$,ne,ie,oe,me,ye=0)=>{for(let fe=ye;fe<B.length;fe++){const ke=B[fe]=me?Jn(B[fe]):Sn(B[fe]);c(null,ke,U,re,$,ne,ie,oe,me)}},I=(B,U,re,$,ne,ie,oe)=>{const me=U.el=B.el;let{patchFlag:ye,dynamicChildren:fe,dirs:ke}=U;ye|=B.patchFlag&16;const Ne=B.props||rr,Ue=U.props||rr;let Le;re&&To(re,!1),(Le=Ue.onVnodeBeforeUpdate)&&wn(Le,re,U,B),ke&&So(U,B,re,"beforeUpdate"),re&&To(re,!0);const Ze=ne&&U.type!=="foreignObject";if(fe?A(B.dynamicChildren,fe,me,re,$,Ze,ie):oe||J(B,U,me,null,re,$,Ze,ie,!1),ye>0){if(ye&16)D(me,U,Ne,Ue,re,$,ne);else if(ye&2&&Ne.class!==Ue.class&&u(me,"class",null,Ue.class,ne),ye&4&&u(me,"style",Ne.style,Ue.style,ne),ye&8){const Ae=U.dynamicProps;for(let Re=0;Re<Ae.length;Re++){const qe=Ae[Re],$e=Ne[qe],we=Ue[qe];(we!==$e||qe==="value")&&u(me,qe,$e,we,ne,B.children,re,$,Se)}}ye&1&&B.children!==U.children&&g(me,U.children)}else!oe&&fe==null&&D(me,U,Ne,Ue,re,$,ne);((Le=Ue.onVnodeUpdated)||ke)&&Lr(()=>{Le&&wn(Le,re,U,B),ke&&So(U,B,re,"updated")},$)},A=(B,U,re,$,ne,ie,oe)=>{for(let me=0;me<U.length;me++){const ye=B[me],fe=U[me],ke=ye.el&&(ye.type===Br||!Co(ye,fe)||ye.shapeFlag&70)?m(ye.el):re;c(ye,fe,ke,null,$,ne,ie,oe,!0)}},D=(B,U,re,$,ne,ie,oe)=>{if(re!==$){if(re!==rr)for(const me in re)!hi(me)&&!(me in $)&&u(B,me,re[me],null,oe,U.children,ne,ie,Se);for(const me in $){if(hi(me))continue;const ye=$[me],fe=re[me];ye!==fe&&me!=="value"&&u(B,me,fe,ye,oe,U.children,ne,ie,Se)}"value"in $&&u(B,"value",re.value,$.value)}},N=(B,U,re,$,ne,ie,oe,me,ye)=>{const fe=U.el=B?B.el:n(""),ke=U.anchor=B?B.anchor:n("");let{patchFlag:Ne,dynamicChildren:Ue,slotScopeIds:Le}=U;Le&&(me=me?me.concat(Le):Le),B==null?(e(fe,re,$),e(ke,re,$),P(U.children,re,ke,ne,ie,oe,me,ye)):Ne>0&&Ne&64&&Ue&&B.dynamicChildren?(A(B.dynamicChildren,Ue,re,ne,ie,oe,me),(U.key!=null||ne&&U===ne.subTree)&&Wd(B,U,!0)):J(B,U,re,ke,ne,ie,oe,me,ye)},L=(B,U,re,$,ne,ie,oe,me,ye)=>{U.slotScopeIds=me,B==null?U.shapeFlag&512?ne.ctx.activate(U,re,$,oe,ye):W(U,re,$,ne,ie,oe,ye):z(B,U,ye)},W=(B,U,re,$,ne,ie,oe)=>{const me=B.component=U0(B,$,ne);if(Xi(B)&&(me.ctx.renderer=V),V0(me),me.asyncDep){if(ne&&ne.registerDep(me,le),!B.el){const ye=me.subTree=Nn(fn);y(null,ye,U,re)}return}le(me,B,U,re,ne,ie,oe)},z=(B,U,re)=>{const $=U.component=B.component;if(Yp(B,U,re))if($.asyncDep&&!$.asyncResolved){ue($,U,re);return}else $.next=U,Fp($.update),$.update();else U.el=B.el,$.vnode=U},le=(B,U,re,$,ne,ie,oe)=>{const me=()=>{if(B.isMounted){let{next:ke,bu:Ne,u:Ue,parent:Le,vnode:Ze}=B,Ae=ke,Re;To(B,!1),ke?(ke.el=Ze.el,ue(B,ke,oe)):ke=Ze,Ne&&fi(Ne),(Re=ke.props&&ke.props.onVnodeBeforeUpdate)&&wn(Re,Le,ke,Ze),To(B,!0);const qe=Ta(B),$e=B.subTree;B.subTree=qe,c($e,qe,m($e.el),Te($e),B,ne,ie),ke.el=qe.el,Ae===null&&Xp(B,qe.el),Ue&&Lr(Ue,ne),(Re=ke.props&&ke.props.onVnodeUpdated)&&Lr(()=>wn(Re,Le,ke,Ze),ne)}else{let ke;const{el:Ne,props:Ue}=U,{bm:Le,m:Ze,parent:Ae}=B,Re=mi(U);if(To(B,!1),Le&&fi(Le),!Re&&(ke=Ue&&Ue.onVnodeBeforeMount)&&wn(ke,Ae,U),To(B,!0),Ne&&ee){const qe=()=>{B.subTree=Ta(B),ee(Ne,B.subTree,B,ne,null)};Re?U.type.__asyncLoader().then(()=>!B.isUnmounted&&qe()):qe()}else{const qe=B.subTree=Ta(B);c(null,qe,re,$,B,ne,ie),U.el=qe.el}if(Ze&&Lr(Ze,ne),!Re&&(ke=Ue&&Ue.onVnodeMounted)){const qe=U;Lr(()=>wn(ke,Ae,qe),ne)}(U.shapeFlag&256||Ae&&mi(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&B.a&&Lr(B.a,ne),B.isMounted=!0,U=re=$=null}},ye=B.effect=new Pl(me,()=>Fl(fe),B.scope),fe=B.update=()=>ye.run();fe.id=B.uid,To(B,!0),fe()},ue=(B,U,re)=>{U.component=B;const $=B.vnode.props;B.vnode=U,B.next=null,x0(B,U.props,$,re),T0(B,U.children,re),ms(),nc(),gs()},J=(B,U,re,$,ne,ie,oe,me,ye=!1)=>{const fe=B&&B.children,ke=B?B.shapeFlag:0,Ne=U.children,{patchFlag:Ue,shapeFlag:Le}=U;if(Ue>0){if(Ue&128){se(fe,Ne,re,$,ne,ie,oe,me,ye);return}else if(Ue&256){ce(fe,Ne,re,$,ne,ie,oe,me,ye);return}}Le&8?(ke&16&&Se(fe,ne,ie),Ne!==fe&&g(re,Ne)):ke&16?Le&16?se(fe,Ne,re,$,ne,ie,oe,me,ye):Se(fe,ne,ie,!0):(ke&8&&g(re,""),Le&16&&P(Ne,re,$,ne,ie,oe,me,ye))},ce=(B,U,re,$,ne,ie,oe,me,ye)=>{B=B||es,U=U||es;const fe=B.length,ke=U.length,Ne=Math.min(fe,ke);let Ue;for(Ue=0;Ue<Ne;Ue++){const Le=U[Ue]=ye?Jn(U[Ue]):Sn(U[Ue]);c(B[Ue],Le,re,null,ne,ie,oe,me,ye)}fe>ke?Se(B,ne,ie,!0,!1,Ne):P(U,re,$,ne,ie,oe,me,ye,Ne)},se=(B,U,re,$,ne,ie,oe,me,ye)=>{let fe=0;const ke=U.length;let Ne=B.length-1,Ue=ke-1;for(;fe<=Ne&&fe<=Ue;){const Le=B[fe],Ze=U[fe]=ye?Jn(U[fe]):Sn(U[fe]);if(Co(Le,Ze))c(Le,Ze,re,null,ne,ie,oe,me,ye);else break;fe++}for(;fe<=Ne&&fe<=Ue;){const Le=B[Ne],Ze=U[Ue]=ye?Jn(U[Ue]):Sn(U[Ue]);if(Co(Le,Ze))c(Le,Ze,re,null,ne,ie,oe,me,ye);else break;Ne--,Ue--}if(fe>Ne){if(fe<=Ue){const Le=Ue+1,Ze=Le<ke?U[Le].el:$;for(;fe<=Ue;)c(null,U[fe]=ye?Jn(U[fe]):Sn(U[fe]),re,Ze,ne,ie,oe,me,ye),fe++}}else if(fe>Ue)for(;fe<=Ne;)_e(B[fe],ne,ie,!0),fe++;else{const Le=fe,Ze=fe,Ae=new Map;for(fe=Ze;fe<=Ue;fe++){const q=U[fe]=ye?Jn(U[fe]):Sn(U[fe]);q.key!=null&&Ae.set(q.key,fe)}let Re,qe=0;const $e=Ue-Ze+1;let we=!1,ot=0;const H=new Array($e);for(fe=0;fe<$e;fe++)H[fe]=0;for(fe=Le;fe<=Ne;fe++){const q=B[fe];if(qe>=$e){_e(q,ne,ie,!0);continue}let K;if(q.key!=null)K=Ae.get(q.key);else for(Re=Ze;Re<=Ue;Re++)if(H[Re-Ze]===0&&Co(q,U[Re])){K=Re;break}K===void 0?_e(q,ne,ie,!0):(H[K-Ze]=fe+1,K>=ot?ot=K:we=!0,c(q,U[K],re,null,ne,ie,oe,me,ye),qe++)}const Q=we?R0(H):es;for(Re=Q.length-1,fe=$e-1;fe>=0;fe--){const q=Ze+fe,K=U[q],he=q+1<ke?U[q+1].el:$;H[fe]===0?c(null,K,re,he,ne,ie,oe,me,ye):we&&(Re<0||fe!==Q[Re]?ge(K,re,he,2):Re--)}}},ge=(B,U,re,$,ne=null)=>{const{el:ie,type:oe,transition:me,children:ye,shapeFlag:fe}=B;if(fe&6){ge(B.component.subTree,U,re,$);return}if(fe&128){B.suspense.move(U,re,$);return}if(fe&64){oe.move(B,U,re,V);return}if(oe===Br){e(ie,U,re);for(let Ne=0;Ne<ye.length;Ne++)ge(ye[Ne],U,re,$);e(B.anchor,U,re);return}if(oe===Ma){_(B,U,re);return}if($!==2&&fe&1&&me)if($===0)me.beforeEnter(ie),e(ie,U,re),Lr(()=>me.enter(ie),ne);else{const{leave:Ne,delayLeave:Ue,afterLeave:Le}=me,Ze=()=>e(ie,U,re),Ae=()=>{Ne(ie,()=>{Ze(),Le&&Le()})};Ue?Ue(ie,Ze,Ae):Ae()}else e(ie,U,re)},_e=(B,U,re,$=!1,ne=!1)=>{const{type:ie,props:oe,ref:me,children:ye,dynamicChildren:fe,shapeFlag:ke,patchFlag:Ne,dirs:Ue}=B;if(me!=null&&$a(me,null,re,B,!0),ke&256){U.ctx.deactivate(B);return}const Le=ke&1&&Ue,Ze=!mi(B);let Ae;if(Ze&&(Ae=oe&&oe.onVnodeBeforeUnmount)&&wn(Ae,U,B),ke&6)Ie(B.component,re,$);else{if(ke&128){B.suspense.unmount(re,$);return}Le&&So(B,null,U,"beforeUnmount"),ke&64?B.type.remove(B,U,re,ne,V,$):fe&&(ie!==Br||Ne>0&&Ne&64)?Se(fe,U,re,!1,!0):(ie===Br&&Ne&384||!ne&&ke&16)&&Se(ye,U,re),$&&Ce(B)}(Ze&&(Ae=oe&&oe.onVnodeUnmounted)||Le)&&Lr(()=>{Ae&&wn(Ae,U,B),Le&&So(B,null,U,"unmounted")},re)},Ce=B=>{const{type:U,el:re,anchor:$,transition:ne}=B;if(U===Br){be(re,$);return}if(U===Ma){S(B);return}const ie=()=>{l(re),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(B.shapeFlag&1&&ne&&!ne.persisted){const{leave:oe,delayLeave:me}=ne,ye=()=>oe(re,ie);me?me(B.el,ie,ye):ye()}else ie()},be=(B,U)=>{let re;for(;B!==U;)re=i(B),l(B),B=re;l(U)},Ie=(B,U,re)=>{const{bum:$,scope:ne,update:ie,subTree:oe,um:me}=B;$&&fi($),ne.stop(),ie&&(ie.active=!1,_e(oe,B,U,re)),me&&Lr(me,U),Lr(()=>{B.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},Se=(B,U,re,$=!1,ne=!1,ie=0)=>{for(let oe=ie;oe<B.length;oe++)_e(B[oe],U,re,$,ne)},Te=B=>B.shapeFlag&6?Te(B.component.subTree):B.shapeFlag&128?B.suspense.next():i(B.anchor||B.el),O=(B,U,re)=>{B==null?U._vnode&&_e(U._vnode,null,null,!0):c(U._vnode||null,B,U,null,null,null,re),nc(),_d(),U._vnode=B},V={p:c,um:_e,m:ge,r:Ce,mt:W,mc:P,pc:J,pbc:A,n:Te,o};let X,ee;return r&&([X,ee]=r(V)),{render:O,hydrate:X,createApp:j0(O,X)}}function To({effect:o,update:r},t){o.allowRecurse=r.allowRecurse=t}function Wd(o,r,t=!1){const e=o.children,l=r.children;if(wt(e)&&wt(l))for(let u=0;u<e.length;u++){const h=e[u];let n=l[u];n.shapeFlag&1&&!n.dynamicChildren&&((n.patchFlag<=0||n.patchFlag===32)&&(n=l[u]=Jn(l[u]),n.el=h.el),t||Wd(h,n)),n.type===Ki&&(n.el=h.el)}}function R0(o){const r=o.slice(),t=[0];let e,l,u,h,n;const p=o.length;for(e=0;e<p;e++){const f=o[e];if(f!==0){if(l=t[t.length-1],o[l]<f){r[e]=l,t.push(e);continue}for(u=0,h=t.length-1;u<h;)n=u+h>>1,o[t[n]]<f?u=n+1:h=n;f<o[t[u]]&&(u>0&&(r[e]=t[u-1]),t[u]=e)}}for(u=t.length,h=t[u-1];u-- >0;)t[u]=h,h=r[h];return t}const A0=o=>o.__isTeleport,Br=Symbol(void 0),Ki=Symbol(void 0),fn=Symbol(void 0),Ma=Symbol(void 0),Ls=[];let dn=null;function Kt(o=!1){Ls.push(dn=o?null:[])}function P0(){Ls.pop(),dn=Ls[Ls.length-1]||null}let Fs=1;function fc(o){Fs+=o}function zd(o){return o.dynamicChildren=Fs>0?dn||es:null,P0(),Fs>0&&dn&&dn.push(o),o}function gr(o,r,t,e,l,u){return zd(At(o,r,t,e,l,u,!0))}function Lo(o,r,t,e,l){return zd(Nn(o,r,t,e,l,!0))}function O0(o){return o?o.__v_isVNode===!0:!1}function Co(o,r){return o.type===r.type&&o.key===r.key}const Qi="__vInternal",qd=({key:o})=>o??null,gi=({ref:o,ref_key:r,ref_for:t})=>o!=null?yr(o)||Rr(o)||xt(o)?{i:Hr,r:o,k:r,f:!!t}:o:null;function At(o,r=null,t=null,e=0,l=null,u=o===Br?0:1,h=!1,n=!1){const p={__v_isVNode:!0,__v_skip:!0,type:o,props:r,key:r&&qd(r),ref:r&&gi(r),scopeId:Ed,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:e,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Hr};return n?(Hl(p,t),u&128&&o.normalize(p)):t&&(p.shapeFlag|=yr(t)?8:16),Fs>0&&!h&&dn&&(p.patchFlag>0||u&6)&&p.patchFlag!==32&&dn.push(p),p}const Nn=k0;function k0(o,r=null,t=null,e=0,l=null,u=!1){if((!o||o===Ld)&&(o=fn),O0(o)){const n=ao(o,r,!0);return t&&Hl(n,t),Fs>0&&!u&&dn&&(n.shapeFlag&6?dn[dn.indexOf(o)]=n:dn.push(n)),n.patchFlag|=-2,n}if(q0(o)&&(o=o.__vccOpts),r){r=D0(r);let{class:n,style:p}=r;n&&!yr(n)&&(r.class=fs(n)),sr(p)&&(md(p)&&!wt(p)&&(p=Ar({},p)),r.style=El(p))}const h=yr(o)?1:$p(o)?128:A0(o)?64:sr(o)?4:xt(o)?2:0;return At(o,r,t,e,l,h,u,!0)}function D0(o){return o?md(o)||Qi in o?Ar({},o):o:null}function ao(o,r,t=!1){const{props:e,ref:l,patchFlag:u,children:h}=o,n=r?I0(e||{},r):e;return{__v_isVNode:!0,__v_skip:!0,type:o.type,props:n,key:n&&qd(n),ref:r&&r.ref?t&&l?wt(l)?l.concat(gi(r)):[l,gi(r)]:gi(r):l,scopeId:o.scopeId,slotScopeIds:o.slotScopeIds,children:h,target:o.target,targetAnchor:o.targetAnchor,staticCount:o.staticCount,shapeFlag:o.shapeFlag,patchFlag:r&&o.type!==Br?u===-1?16:u|16:u,dynamicProps:o.dynamicProps,dynamicChildren:o.dynamicChildren,appContext:o.appContext,dirs:o.dirs,transition:o.transition,component:o.component,suspense:o.suspense,ssContent:o.ssContent&&ao(o.ssContent),ssFallback:o.ssFallback&&ao(o.ssFallback),el:o.el,anchor:o.anchor,ctx:o.ctx,ce:o.ce}}function L0(o=" ",r=0){return Nn(Ki,null,o,r)}function Wr(o="",r=!1){return r?(Kt(),Lo(fn,null,o)):Nn(fn,null,o)}function Sn(o){return o==null||typeof o=="boolean"?Nn(fn):wt(o)?Nn(Br,null,o.slice()):typeof o=="object"?Jn(o):Nn(Ki,null,String(o))}function Jn(o){return o.el===null&&o.patchFlag!==-1||o.memo?o:ao(o)}function Hl(o,r){let t=0;const{shapeFlag:e}=o;if(r==null)r=null;else if(wt(r))t=16;else if(typeof r=="object")if(e&65){const l=r.default;l&&(l._c&&(l._d=!1),Hl(o,l()),l._c&&(l._d=!0));return}else{t=32;const l=r._;!l&&!(Qi in r)?r._ctx=Hr:l===3&&Hr&&(Hr.slots._===1?r._=1:(r._=2,o.patchFlag|=1024))}else xt(r)?(r={default:r,_ctx:Hr},t=32):(r=String(r),e&64?(t=16,r=[L0(r)]):t=8);o.children=r,o.shapeFlag|=t}function I0(...o){const r={};for(let t=0;t<o.length;t++){const e=o[t];for(const l in e)if(l==="class")r.class!==e.class&&(r.class=fs([r.class,e.class]));else if(l==="style")r.style=El([r.style,e.style]);else if(Vi(l)){const u=r[l],h=e[l];h&&u!==h&&!(wt(u)&&u.includes(h))&&(r[l]=u?[].concat(u,h):h)}else l!==""&&(r[l]=e[l])}return r}function wn(o,r,t,e=null){rn(o,r,7,[t,e])}const B0=Hd();let N0=0;function U0(o,r,t){const e=o.type,l=(r?r.appContext:o.appContext)||B0,u={uid:N0++,vnode:o,type:e,parent:r,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new rp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ud(e,l),emitsOptions:Td(e,l),emit:null,emitted:null,propsDefaults:rr,inheritAttrs:e.inheritAttrs,ctx:rr,data:rr,props:rr,attrs:rr,slots:rr,refs:rr,setupState:rr,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=r?r.root:u,u.emit=Hp.bind(null,u),o.ce&&o.ce(u),u}let cr=null;const F0=()=>cr||Hr,is=o=>{cr=o,o.scope.on()},ko=()=>{cr&&cr.scope.off(),cr=null};function Yd(o){return o.vnode.shapeFlag&4}let Vs=!1;function V0(o,r=!1){Vs=r;const{props:t,children:e}=o.vnode,l=Yd(o);w0(o,t,l,r),S0(o,e);const u=l?G0(o,r):void 0;return Vs=!1,u}function G0(o,r){const t=o.type;o.accessCache=Object.create(null),o.proxy=Bl(new Proxy(o.ctx,p0));const{setup:e}=t;if(e){const l=o.setupContext=e.length>1?W0(o):null;is(o),ms();const u=no(e,o,0,[o.props,l]);if(gs(),ko(),td(u)){if(u.then(ko,ko),r)return u.then(h=>{pc(o,h,r)}).catch(h=>{qi(h,o,0)});o.asyncDep=u}else pc(o,u,r)}else Xd(o,r)}function pc(o,r,t){xt(r)?o.type.__ssrInlineRender?o.ssrRender=r:o.render=r:sr(r)&&(o.setupState=vd(r)),Xd(o,t)}let mc;function Xd(o,r,t){const e=o.type;if(!o.render){if(!r&&mc&&!e.render){const l=e.template||Vl(o).template;if(l){const{isCustomElement:u,compilerOptions:h}=o.appContext.config,{delimiters:n,compilerOptions:p}=e,f=Ar(Ar({isCustomElement:u,delimiters:n},h),p);e.render=mc(l,f)}}o.render=e.render||hn}is(o),ms(),m0(o),gs(),ko()}function H0(o){return new Proxy(o.attrs,{get(r,t){return Nr(o,"get","$attrs"),r[t]}})}function W0(o){const r=e=>{o.exposed=e||{}};let t;return{get attrs(){return t||(t=H0(o))},slots:o.slots,emit:o.emit,expose:r}}function Zi(o){if(o.exposed)return o.exposeProxy||(o.exposeProxy=new Proxy(vd(Bl(o.exposed)),{get(r,t){if(t in r)return r[t];if(t in Ds)return Ds[t](o)},has(r,t){return t in r||t in Ds}}))}function z0(o,r=!0){return xt(o)?o.displayName||o.name:o.name||r&&o.__name}function q0(o){return xt(o)&&"__vccOpts"in o}const Ii=(o,r)=>Ip(o,r,Vs),Y0=Symbol(""),X0=()=>pi(Y0),$0="3.2.47",K0="http://www.w3.org/2000/svg",Mo=typeof document<"u"?document:null,gc=Mo&&Mo.createElement("template"),Q0={insert:(o,r,t)=>{r.insertBefore(o,t||null)},remove:o=>{const r=o.parentNode;r&&r.removeChild(o)},createElement:(o,r,t,e)=>{const l=r?Mo.createElementNS(K0,o):Mo.createElement(o,t?{is:t}:void 0);return o==="select"&&e&&e.multiple!=null&&l.setAttribute("multiple",e.multiple),l},createText:o=>Mo.createTextNode(o),createComment:o=>Mo.createComment(o),setText:(o,r)=>{o.nodeValue=r},setElementText:(o,r)=>{o.textContent=r},parentNode:o=>o.parentNode,nextSibling:o=>o.nextSibling,querySelector:o=>Mo.querySelector(o),setScopeId(o,r){o.setAttribute(r,"")},insertStaticContent(o,r,t,e,l,u){const h=t?t.previousSibling:r.lastChild;if(l&&(l===u||l.nextSibling))for(;r.insertBefore(l.cloneNode(!0),t),!(l===u||!(l=l.nextSibling)););else{gc.innerHTML=e?`<svg>${o}</svg>`:o;const n=gc.content;if(e){const p=n.firstChild;for(;p.firstChild;)n.appendChild(p.firstChild);n.removeChild(p)}r.insertBefore(n,t)}return[h?h.nextSibling:r.firstChild,t?t.previousSibling:r.lastChild]}};function Z0(o,r,t){const e=o._vtc;e&&(r=(r?[r,...e]:[...e]).join(" ")),r==null?o.removeAttribute("class"):t?o.setAttribute("class",r):o.className=r}function J0(o,r,t){const e=o.style,l=yr(t);if(t&&!l){if(r&&!yr(r))for(const u in r)t[u]==null&&Ka(e,u,"");for(const u in t)Ka(e,u,t[u])}else{const u=e.display;l?r!==t&&(e.cssText=t):r&&o.removeAttribute("style"),"_vod"in o&&(e.display=u)}}const yc=/\s*!important$/;function Ka(o,r,t){if(wt(t))t.forEach(e=>Ka(o,r,e));else if(t==null&&(t=""),r.startsWith("--"))o.setProperty(r,t);else{const e=em(o,r);yc.test(t)?o.setProperty(ps(e),t.replace(yc,""),"important"):o[e]=t}}const vc=["Webkit","Moz","ms"],Ra={};function em(o,r){const t=Ra[r];if(t)return t;let e=jn(r);if(e!=="filter"&&e in o)return Ra[r]=e;e=Wi(e);for(let l=0;l<vc.length;l++){const u=vc[l]+e;if(u in o)return Ra[r]=u}return r}const bc="http://www.w3.org/1999/xlink";function tm(o,r,t,e,l){if(e&&r.startsWith("xlink:"))t==null?o.removeAttributeNS(bc,r.slice(6,r.length)):o.setAttributeNS(bc,r,t);else{const u=Xf(r);t==null||u&&!Zc(t)?o.removeAttribute(r):o.setAttribute(r,u?"":t)}}function rm(o,r,t,e,l,u,h){if(r==="innerHTML"||r==="textContent"){e&&h(e,l,u),o[r]=t??"";return}if(r==="value"&&o.tagName!=="PROGRESS"&&!o.tagName.includes("-")){o._value=t;const p=t??"";(o.value!==p||o.tagName==="OPTION")&&(o.value=p),t==null&&o.removeAttribute(r);return}let n=!1;if(t===""||t==null){const p=typeof o[r];p==="boolean"?t=Zc(t):t==null&&p==="string"?(t="",n=!0):p==="number"&&(t=0,n=!0)}try{o[r]=t}catch{}n&&o.removeAttribute(r)}function Xo(o,r,t,e){o.addEventListener(r,t,e)}function nm(o,r,t,e){o.removeEventListener(r,t,e)}function om(o,r,t,e,l=null){const u=o._vei||(o._vei={}),h=u[r];if(e&&h)h.value=e;else{const[n,p]=sm(r);if(e){const f=u[r]=lm(e,l);Xo(o,n,f,p)}else h&&(nm(o,n,h,p),u[r]=void 0)}}const wc=/(?:Once|Passive|Capture)$/;function sm(o){let r;if(wc.test(o)){r={};let e;for(;e=o.match(wc);)o=o.slice(0,o.length-e[0].length),r[e[0].toLowerCase()]=!0}return[o[2]===":"?o.slice(3):ps(o.slice(2)),r]}let Aa=0;const im=Promise.resolve(),am=()=>Aa||(im.then(()=>Aa=0),Aa=Date.now());function lm(o,r){const t=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=t.attached)return;rn(um(e,t.value),r,5,[e])};return t.value=o,t.attached=am(),t}function um(o,r){if(wt(r)){const t=o.stopImmediatePropagation;return o.stopImmediatePropagation=()=>{t.call(o),o._stopped=!0},r.map(e=>l=>!l._stopped&&e&&e(l))}else return r}const xc=/^on[a-z]/,cm=(o,r,t,e,l=!1,u,h,n,p)=>{r==="class"?Z0(o,e,l):r==="style"?J0(o,t,e):Vi(r)?jl(r)||om(o,r,t,e,h):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):dm(o,r,e,l))?rm(o,r,e,u,h,n,p):(r==="true-value"?o._trueValue=e:r==="false-value"&&(o._falseValue=e),tm(o,r,e,l))};function dm(o,r,t,e){return e?!!(r==="innerHTML"||r==="textContent"||r in o&&xc.test(r)&&xt(t)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&o.tagName==="INPUT"||r==="type"&&o.tagName==="TEXTAREA"||xc.test(r)&&yr(t)?!1:r in o}const hm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};t0.props;const _c=o=>{const r=o.props["onUpdate:modelValue"]||!1;return wt(r)?t=>fi(r,t):r};function fm(o){o.target.composing=!0}function Sc(o){const r=o.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const Qo={created(o,{modifiers:{lazy:r,trim:t,number:e}},l){o._assign=_c(l);const u=e||l.props&&l.props.type==="number";Xo(o,r?"change":"input",h=>{if(h.target.composing)return;let n=o.value;t&&(n=n.trim()),u&&(n=Ba(n)),o._assign(n)}),t&&Xo(o,"change",()=>{o.value=o.value.trim()}),r||(Xo(o,"compositionstart",fm),Xo(o,"compositionend",Sc),Xo(o,"change",Sc))},mounted(o,{value:r}){o.value=r??""},beforeUpdate(o,{value:r,modifiers:{lazy:t,trim:e,number:l}},u){if(o._assign=_c(u),o.composing||document.activeElement===o&&o.type!=="range"&&(t||e&&o.value.trim()===r||(l||o.type==="number")&&Ba(o.value)===r))return;const h=r??"";o.value!==h&&(o.value=h)}},pm=["ctrl","shift","alt","meta"],mm={stop:o=>o.stopPropagation(),prevent:o=>o.preventDefault(),self:o=>o.target!==o.currentTarget,ctrl:o=>!o.ctrlKey,shift:o=>!o.shiftKey,alt:o=>!o.altKey,meta:o=>!o.metaKey,left:o=>"button"in o&&o.button!==0,middle:o=>"button"in o&&o.button!==1,right:o=>"button"in o&&o.button!==2,exact:(o,r)=>pm.some(t=>o[`${t}Key`]&&!r.includes(t))},$d=(o,r)=>(t,...e)=>{for(let l=0;l<r.length;l++){const u=mm[r[l]];if(u&&u(t,r))return}return o(t,...e)},gm=Ar({patchProp:cm},Q0);let Tc;function ym(){return Tc||(Tc=C0(gm))}const vm=(...o)=>{const r=ym().createApp(...o),{mount:t}=r;return r.mount=e=>{const l=bm(e);if(!l)return;const u=r._component;!xt(u)&&!u.render&&!u.template&&(u.template=l.innerHTML),l.innerHTML="";const h=t(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),h},r};function bm(o){return yr(o)?document.querySelector(o):o}var ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wm(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function di(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qa={},xm={get exports(){return Qa},set exports(o){Qa=o}};/*! p5.js v1.4.2 July 21, 2022 */(function(o,r){(function(t){o.exports=t()})(function(){var t;return function e(l,u,h){function n(g,m){if(!u[g]){if(!l[g]){var i=typeof di=="function"&&di;if(!m&&i)return i(g,!0);if(p)return p(g,!0);var s=new Error("Cannot find module '"+g+"'");throw s.code="MODULE_NOT_FOUND",s}var a=u[g]={exports:{}};l[g][0].call(a.exports,function(c){return n(l[g][1][c]||c)},a,a.exports,e,l,u,h)}return u[g].exports}for(var p=typeof di=="function"&&di,f=0;f<h.length;f++)n(h[f]);return n}({1:[function(e,l,u){u.byteLength=function(a){var c=i(a),d=c[0],y=c[1];return 3*(d+y)/4-y},u.toByteArray=function(a){var c,d,y=i(a),w=y[0],_=y[1],S=new p(function(R,P){return 3*(R+P)/4-P}(w,_)),j=0,C=0<_?w-4:w;for(d=0;d<C;d+=4)c=n[a.charCodeAt(d)]<<18|n[a.charCodeAt(d+1)]<<12|n[a.charCodeAt(d+2)]<<6|n[a.charCodeAt(d+3)],S[j++]=c>>16&255,S[j++]=c>>8&255,S[j++]=255&c;return _===2&&(c=n[a.charCodeAt(d)]<<2|n[a.charCodeAt(d+1)]>>4,S[j++]=255&c),_===1&&(c=n[a.charCodeAt(d)]<<10|n[a.charCodeAt(d+1)]<<4|n[a.charCodeAt(d+2)]>>2,S[j++]=c>>8&255,S[j++]=255&c),S},u.fromByteArray=function(a){for(var c,d=a.length,y=d%3,w=[],_=0,S=d-y;_<S;_+=16383)w.push(s(a,_,S<_+16383?S:_+16383));return y==1?(c=a[d-1],w.push(h[c>>2]+h[c<<4&63]+"==")):y==2&&(c=(a[d-2]<<8)+a[d-1],w.push(h[c>>10]+h[c>>4&63]+h[c<<2&63]+"=")),w.join("")};for(var h=[],n=[],p=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,m=f.length;g<m;++g)h[g]=f[g],n[f.charCodeAt(g)]=g;function i(a){var c=a.length;if(0<c%4)throw new Error("Invalid string. Length must be a multiple of 4");var d=a.indexOf("=");return d===-1&&(d=c),[d,d===c?0:4-d%4]}function s(a,c,d){for(var y,w,_=[],S=c;S<d;S+=3)y=(a[S]<<16&16711680)+(a[S+1]<<8&65280)+(255&a[S+2]),_.push(h[(w=y)>>18&63]+h[w>>12&63]+h[w>>6&63]+h[63&w]);return _.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},{}],2:[function(e,l,u){},{}],3:[function(e,l,u){arguments[4][2][0].apply(u,arguments)},{dup:2}],4:[function(e,l,u){(function(i){var n=e("base64-js"),p=e("ieee754"),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=i,u.SlowBuffer=function(O){return+O!=O&&(O=0),i.alloc(+O)},u.INSPECT_MAX_BYTES=50;var g=2147483647;function m(O){if(g<O)throw new RangeError('The value "'+O+'" is invalid for option "size"');var V=new Uint8Array(O);return Object.setPrototypeOf(V,i.prototype),V}function i(O,V,X){if(typeof O!="number")return s(O,V,X);if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(O)}function s(O,V,X){if(typeof O=="string")return function(U,re){if(typeof re=="string"&&re!==""||(re="utf8"),!i.isEncoding(re))throw new TypeError("Unknown encoding: "+re);var $=0|w(U,re),ne=m($),ie=ne.write(U,re);return ie!==$&&(ne=ne.slice(0,ie)),ne}(O,V);if(ArrayBuffer.isView(O))return d(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(Ie(O,ArrayBuffer)||O&&Ie(O.buffer,ArrayBuffer))return function(U,re,$){if(re<0||U.byteLength<re)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<re+($||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=re===void 0&&$===void 0?new Uint8Array(U):$===void 0?new Uint8Array(U,re):new Uint8Array(U,re,$),Object.setPrototypeOf(ne,i.prototype),ne}(O,V,X);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=O.valueOf&&O.valueOf();if(ee!=null&&ee!==O)return i.from(ee,V,X);var B=function(U){if(i.isBuffer(U)){var re=0|y(U.length),$=m(re);return $.length===0||U.copy($,0,0,re),$}if(U.length!==void 0)return typeof U.length!="number"||Se(U.length)?m(0):d(U);if(U.type==="Buffer"&&Array.isArray(U.data))return d(U.data)}(O);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return i.from(O[Symbol.toPrimitive]("string"),V,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}function a(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function c(O){return a(O),m(O<0?0:0|y(O))}function d(O){for(var V=O.length<0?0:0|y(O.length),X=m(V),ee=0;ee<V;ee+=1)X[ee]=255&O[ee];return X}function y(O){if(g<=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return 0|O}function w(O,V){if(i.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||Ie(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var X=O.length,ee=2<arguments.length&&arguments[2]===!0;if(!ee&&X===0)return 0;for(var B=!1;;)switch(V){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return _e(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return Ce(O).length;default:if(B)return ee?-1:_e(O).length;V=(""+V).toLowerCase(),B=!0}}function _(O,V,X){var ee=O[V];O[V]=O[X],O[X]=ee}function S(O,V,X,ee,B){if(O.length===0)return-1;if(typeof X=="string"?(ee=X,X=0):2147483647<X?X=2147483647:X<-2147483648&&(X=-2147483648),Se(X=+X)&&(X=B?0:O.length-1),X<0&&(X=O.length+X),X>=O.length){if(B)return-1;X=O.length-1}else if(X<0){if(!B)return-1;X=0}if(typeof V=="string"&&(V=i.from(V,ee)),i.isBuffer(V))return V.length===0?-1:j(O,V,X,ee,B);if(typeof V=="number")return V&=255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(O,V,X):Uint8Array.prototype.lastIndexOf.call(O,V,X):j(O,[V],X,ee,B);throw new TypeError("val must be string, number or Buffer")}function j(O,V,X,ee,B){var U,re=1,$=O.length,ne=V.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(O.length<2||V.length<2)return-1;$/=re=2,ne/=2,X/=2}function ie(fe,ke){return re===1?fe[ke]:fe.readUInt16BE(ke*re)}if(B){var oe=-1;for(U=X;U<$;U++)if(ie(O,U)===ie(V,oe===-1?0:U-oe)){if(oe===-1&&(oe=U),U-oe+1===ne)return oe*re}else oe!==-1&&(U-=U-oe),oe=-1}else for($<X+ne&&(X=$-ne),U=X;0<=U;U--){for(var me=!0,ye=0;ye<ne;ye++)if(ie(O,U+ye)!==ie(V,ye)){me=!1;break}if(me)return U}return-1}function C(O,V,X,ee){X=Number(X)||0;var B=O.length-X;ee?B<(ee=Number(ee))&&(ee=B):ee=B;var U=V.length;U/2<ee&&(ee=U/2);for(var re=0;re<ee;++re){var $=parseInt(V.substr(2*re,2),16);if(Se($))return re;O[X+re]=$}return re}function R(O,V,X,ee){return be(function(B){for(var U=[],re=0;re<B.length;++re)U.push(255&B.charCodeAt(re));return U}(V),O,X,ee)}function P(O,V,X,ee){return be(function(B,U){for(var re,$,ne,ie=[],oe=0;oe<B.length&&!((U-=2)<0);++oe)re=B.charCodeAt(oe),$=re>>8,ne=re%256,ie.push(ne),ie.push($);return ie}(V,O.length-X),O,X,ee)}function I(O,V,X){return V===0&&X===O.length?n.fromByteArray(O):n.fromByteArray(O.slice(V,X))}function A(O,V,X){X=Math.min(O.length,X);for(var ee=[],B=V;B<X;){var U,re,$,ne,ie=O[B],oe=null,me=239<ie?4:223<ie?3:191<ie?2:1;if(B+me<=X)switch(me){case 1:ie<128&&(oe=ie);break;case 2:(192&(U=O[B+1]))==128&&127<(ne=(31&ie)<<6|63&U)&&(oe=ne);break;case 3:U=O[B+1],re=O[B+2],(192&U)==128&&(192&re)==128&&2047<(ne=(15&ie)<<12|(63&U)<<6|63&re)&&(ne<55296||57343<ne)&&(oe=ne);break;case 4:U=O[B+1],re=O[B+2],$=O[B+3],(192&U)==128&&(192&re)==128&&(192&$)==128&&65535<(ne=(15&ie)<<18|(63&U)<<12|(63&re)<<6|63&$)&&ne<1114112&&(oe=ne)}oe===null?(oe=65533,me=1):65535<oe&&(oe-=65536,ee.push(oe>>>10&1023|55296),oe=56320|1023&oe),ee.push(oe),B+=me}return function(ye){var fe=ye.length;if(fe<=D)return String.fromCharCode.apply(String,ye);for(var ke="",Ne=0;Ne<fe;)ke+=String.fromCharCode.apply(String,ye.slice(Ne,Ne+=D));return ke}(ee)}u.kMaxLength=g,(i.TYPED_ARRAY_SUPPORT=function(){try{var O=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(O,V),O.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(O,V,X){return s(O,V,X)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(O,V,X){return B=V,U=X,a(ee=O),ee<=0?m(ee):B!==void 0?typeof U=="string"?m(ee).fill(B,U):m(ee).fill(B):m(ee);var ee,B,U},i.allocUnsafe=function(O){return c(O)},i.allocUnsafeSlow=function(O){return c(O)},i.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==i.prototype},i.compare=function(O,V){if(Ie(O,Uint8Array)&&(O=i.from(O,O.offset,O.byteLength)),Ie(V,Uint8Array)&&(V=i.from(V,V.offset,V.byteLength)),!i.isBuffer(O)||!i.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===V)return 0;for(var X=O.length,ee=V.length,B=0,U=Math.min(X,ee);B<U;++B)if(O[B]!==V[B]){X=O[B],ee=V[B];break}return X<ee?-1:ee<X?1:0},i.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(O,V){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return i.alloc(0);var X;if(V===void 0)for(X=V=0;X<O.length;++X)V+=O[X].length;var ee=i.allocUnsafe(V),B=0;for(X=0;X<O.length;++X){var U=O[X];if(Ie(U,Uint8Array)&&(U=i.from(U)),!i.isBuffer(U))throw new TypeError('"list" argument must be an Array of Buffers');U.copy(ee,B),B+=U.length}return ee},i.byteLength=w,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<O;V+=2)_(this,V,V+1);return this},i.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<O;V+=4)_(this,V,V+3),_(this,V+1,V+2);return this},i.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<O;V+=8)_(this,V,V+7),_(this,V+1,V+6),_(this,V+2,V+5),_(this,V+3,V+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?A(this,0,O):function(V,X,ee){var B=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((ee===void 0||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0)<=(X>>>=0))return"";for(V=V||"utf8";;)switch(V){case"hex":return W(this,X,ee);case"utf8":case"utf-8":return A(this,X,ee);case"ascii":return N(this,X,ee);case"latin1":case"binary":return L(this,X,ee);case"base64":return I(this,X,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,X,ee);default:if(B)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),B=!0}}.apply(this,arguments)},i.prototype.equals=function(O){if(!i.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O||i.compare(this,O)===0},i.prototype.inspect=function(){var O="",V=u.INSPECT_MAX_BYTES;return O=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(O+=" ... "),"<Buffer "+O+">"},f&&(i.prototype[f]=i.prototype.inspect),i.prototype.compare=function(O,V,X,ee,B){if(Ie(O,Uint8Array)&&(O=i.from(O,O.offset,O.byteLength)),!i.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(V===void 0&&(V=0),X===void 0&&(X=O?O.length:0),ee===void 0&&(ee=0),B===void 0&&(B=this.length),V<0||X>O.length||ee<0||B>this.length)throw new RangeError("out of range index");if(B<=ee&&X<=V)return 0;if(B<=ee)return-1;if(X<=V)return 1;if(this===O)return 0;for(var U=(B>>>=0)-(ee>>>=0),re=(X>>>=0)-(V>>>=0),$=Math.min(U,re),ne=this.slice(ee,B),ie=O.slice(V,X),oe=0;oe<$;++oe)if(ne[oe]!==ie[oe]){U=ne[oe],re=ie[oe];break}return U<re?-1:re<U?1:0},i.prototype.includes=function(O,V,X){return this.indexOf(O,V,X)!==-1},i.prototype.indexOf=function(O,V,X){return S(this,O,V,X,!0)},i.prototype.lastIndexOf=function(O,V,X){return S(this,O,V,X,!1)},i.prototype.write=function(O,V,X,ee){if(V===void 0)ee="utf8",X=this.length,V=0;else if(X===void 0&&typeof V=="string")ee=V,X=this.length,V=0;else{if(!isFinite(V))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");V>>>=0,isFinite(X)?(X>>>=0,ee===void 0&&(ee="utf8")):(ee=X,X=void 0)}var B=this.length-V;if((X===void 0||B<X)&&(X=B),0<O.length&&(X<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee=ee||"utf8";for(var U,re,$,ne,ie,oe,me=!1;;)switch(ee){case"hex":return C(this,O,V,X);case"utf8":case"utf-8":return ie=V,oe=X,be(_e(O,(ne=this).length-ie),ne,ie,oe);case"ascii":return R(this,O,V,X);case"latin1":case"binary":return R(this,O,V,X);case"base64":return U=this,re=V,$=X,be(Ce(O),U,re,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,O,V,X);default:if(me)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),me=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function N(O,V,X){var ee="";X=Math.min(O.length,X);for(var B=V;B<X;++B)ee+=String.fromCharCode(127&O[B]);return ee}function L(O,V,X){var ee="";X=Math.min(O.length,X);for(var B=V;B<X;++B)ee+=String.fromCharCode(O[B]);return ee}function W(O,V,X){var ee=O.length;(!V||V<0)&&(V=0),(!X||X<0||ee<X)&&(X=ee);for(var B="",U=V;U<X;++U)B+=Te[O[U]];return B}function z(O,V,X){for(var ee=O.slice(V,X),B="",U=0;U<ee.length;U+=2)B+=String.fromCharCode(ee[U]+256*ee[U+1]);return B}function le(O,V,X){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(X<O+V)throw new RangeError("Trying to access beyond buffer length")}function ue(O,V,X,ee,B,U){if(!i.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(B<V||V<U)throw new RangeError('"value" argument is out of bounds');if(X+ee>O.length)throw new RangeError("Index out of range")}function J(O,V,X,ee){if(X+ee>O.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function ce(O,V,X,ee,B){return V=+V,X>>>=0,B||J(O,0,X,4),p.write(O,V,X,ee,23,4),X+4}function se(O,V,X,ee,B){return V=+V,X>>>=0,B||J(O,0,X,8),p.write(O,V,X,ee,52,8),X+8}i.prototype.slice=function(O,V){var X=this.length;(O=~~O)<0?(O+=X)<0&&(O=0):X<O&&(O=X),(V=V===void 0?X:~~V)<0?(V+=X)<0&&(V=0):X<V&&(V=X),V<O&&(V=O);var ee=this.subarray(O,V);return Object.setPrototypeOf(ee,i.prototype),ee},i.prototype.readUIntLE=function(O,V,X){O>>>=0,V>>>=0,X||le(O,V,this.length);for(var ee=this[O],B=1,U=0;++U<V&&(B*=256);)ee+=this[O+U]*B;return ee},i.prototype.readUIntBE=function(O,V,X){O>>>=0,V>>>=0,X||le(O,V,this.length);for(var ee=this[O+--V],B=1;0<V&&(B*=256);)ee+=this[O+--V]*B;return ee},i.prototype.readUInt8=function(O,V){return O>>>=0,V||le(O,1,this.length),this[O]},i.prototype.readUInt16LE=function(O,V){return O>>>=0,V||le(O,2,this.length),this[O]|this[O+1]<<8},i.prototype.readUInt16BE=function(O,V){return O>>>=0,V||le(O,2,this.length),this[O]<<8|this[O+1]},i.prototype.readUInt32LE=function(O,V){return O>>>=0,V||le(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},i.prototype.readUInt32BE=function(O,V){return O>>>=0,V||le(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},i.prototype.readIntLE=function(O,V,X){O>>>=0,V>>>=0,X||le(O,V,this.length);for(var ee=this[O],B=1,U=0;++U<V&&(B*=256);)ee+=this[O+U]*B;return(B*=128)<=ee&&(ee-=Math.pow(2,8*V)),ee},i.prototype.readIntBE=function(O,V,X){O>>>=0,V>>>=0,X||le(O,V,this.length);for(var ee=V,B=1,U=this[O+--ee];0<ee&&(B*=256);)U+=this[O+--ee]*B;return(B*=128)<=U&&(U-=Math.pow(2,8*V)),U},i.prototype.readInt8=function(O,V){return O>>>=0,V||le(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},i.prototype.readInt16LE=function(O,V){O>>>=0,V||le(O,2,this.length);var X=this[O]|this[O+1]<<8;return 32768&X?4294901760|X:X},i.prototype.readInt16BE=function(O,V){O>>>=0,V||le(O,2,this.length);var X=this[O+1]|this[O]<<8;return 32768&X?4294901760|X:X},i.prototype.readInt32LE=function(O,V){return O>>>=0,V||le(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},i.prototype.readInt32BE=function(O,V){return O>>>=0,V||le(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},i.prototype.readFloatLE=function(O,V){return O>>>=0,V||le(O,4,this.length),p.read(this,O,!0,23,4)},i.prototype.readFloatBE=function(O,V){return O>>>=0,V||le(O,4,this.length),p.read(this,O,!1,23,4)},i.prototype.readDoubleLE=function(O,V){return O>>>=0,V||le(O,8,this.length),p.read(this,O,!0,52,8)},i.prototype.readDoubleBE=function(O,V){return O>>>=0,V||le(O,8,this.length),p.read(this,O,!1,52,8)},i.prototype.writeUIntLE=function(O,V,X,ee){O=+O,V>>>=0,X>>>=0,ee||ue(this,O,V,X,Math.pow(2,8*X)-1,0);var B=1,U=0;for(this[V]=255&O;++U<X&&(B*=256);)this[V+U]=O/B&255;return V+X},i.prototype.writeUIntBE=function(O,V,X,ee){O=+O,V>>>=0,X>>>=0,ee||ue(this,O,V,X,Math.pow(2,8*X)-1,0);var B=X-1,U=1;for(this[V+B]=255&O;0<=--B&&(U*=256);)this[V+B]=O/U&255;return V+X},i.prototype.writeUInt8=function(O,V,X){return O=+O,V>>>=0,X||ue(this,O,V,1,255,0),this[V]=255&O,V+1},i.prototype.writeUInt16LE=function(O,V,X){return O=+O,V>>>=0,X||ue(this,O,V,2,65535,0),this[V]=255&O,this[V+1]=O>>>8,V+2},i.prototype.writeUInt16BE=function(O,V,X){return O=+O,V>>>=0,X||ue(this,O,V,2,65535,0),this[V]=O>>>8,this[V+1]=255&O,V+2},i.prototype.writeUInt32LE=function(O,V,X){return O=+O,V>>>=0,X||ue(this,O,V,4,4294967295,0),this[V+3]=O>>>24,this[V+2]=O>>>16,this[V+1]=O>>>8,this[V]=255&O,V+4},i.prototype.writeUInt32BE=function(O,V,X){return O=+O,V>>>=0,X||ue(this,O,V,4,4294967295,0),this[V]=O>>>24,this[V+1]=O>>>16,this[V+2]=O>>>8,this[V+3]=255&O,V+4},i.prototype.writeIntLE=function(O,V,X,ee){if(O=+O,V>>>=0,!ee){var B=Math.pow(2,8*X-1);ue(this,O,V,X,B-1,-B)}var U=0,re=1,$=0;for(this[V]=255&O;++U<X&&(re*=256);)O<0&&$===0&&this[V+U-1]!==0&&($=1),this[V+U]=(O/re>>0)-$&255;return V+X},i.prototype.writeIntBE=function(O,V,X,ee){if(O=+O,V>>>=0,!ee){var B=Math.pow(2,8*X-1);ue(this,O,V,X,B-1,-B)}var U=X-1,re=1,$=0;for(this[V+U]=255&O;0<=--U&&(re*=256);)O<0&&$===0&&this[V+U+1]!==0&&($=1),this[V+U]=(O/re>>0)-$&255;return V+X},i.prototype.writeInt8=function(O,V,X){return O=+O,V>>>=0,X||ue(this,O,V,1,127,-128),O<0&&(O=255+O+1),this[V]=255&O,V+1},i.prototype.writeInt16LE=function(O,V,X){return O=+O,V>>>=0,X||ue(this,O,V,2,32767,-32768),this[V]=255&O,this[V+1]=O>>>8,V+2},i.prototype.writeInt16BE=function(O,V,X){return O=+O,V>>>=0,X||ue(this,O,V,2,32767,-32768),this[V]=O>>>8,this[V+1]=255&O,V+2},i.prototype.writeInt32LE=function(O,V,X){return O=+O,V>>>=0,X||ue(this,O,V,4,2147483647,-2147483648),this[V]=255&O,this[V+1]=O>>>8,this[V+2]=O>>>16,this[V+3]=O>>>24,V+4},i.prototype.writeInt32BE=function(O,V,X){return O=+O,V>>>=0,X||ue(this,O,V,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[V]=O>>>24,this[V+1]=O>>>16,this[V+2]=O>>>8,this[V+3]=255&O,V+4},i.prototype.writeFloatLE=function(O,V,X){return ce(this,O,V,!0,X)},i.prototype.writeFloatBE=function(O,V,X){return ce(this,O,V,!1,X)},i.prototype.writeDoubleLE=function(O,V,X){return se(this,O,V,!0,X)},i.prototype.writeDoubleBE=function(O,V,X){return se(this,O,V,!1,X)},i.prototype.copy=function(O,V,X,ee){if(!i.isBuffer(O))throw new TypeError("argument should be a Buffer");if(X=X||0,ee||ee===0||(ee=this.length),V>=O.length&&(V=O.length),V=V||0,0<ee&&ee<X&&(ee=X),ee===X||O.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),O.length-V<ee-X&&(ee=O.length-V+X);var B=ee-X;if(this===O&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(V,X,ee);else if(this===O&&X<V&&V<ee)for(var U=B-1;0<=U;--U)O[U+V]=this[U+X];else Uint8Array.prototype.set.call(O,this.subarray(X,ee),V);return B},i.prototype.fill=function(O,V,X,ee){if(typeof O=="string"){if(typeof V=="string"?(ee=V,V=0,X=this.length):typeof X=="string"&&(ee=X,X=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!i.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(O.length===1){var B=O.charCodeAt(0);(ee==="utf8"&&B<128||ee==="latin1")&&(O=B)}}else typeof O=="number"?O&=255:typeof O=="boolean"&&(O=Number(O));if(V<0||this.length<V||this.length<X)throw new RangeError("Out of range index");if(X<=V)return this;var U;if(V>>>=0,X=X===void 0?this.length:X>>>0,typeof(O=O||0)=="number")for(U=V;U<X;++U)this[U]=O;else{var re=i.isBuffer(O)?O:i.from(O,ee),$=re.length;if($===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(U=0;U<X-V;++U)this[U+V]=re[U%$]}return this};var ge=/[^+/0-9A-Za-z-_]/g;function _e(O,V){var X;V=V||1/0;for(var ee=O.length,B=null,U=[],re=0;re<ee;++re){if(55295<(X=O.charCodeAt(re))&&X<57344){if(!B){if(56319<X){-1<(V-=3)&&U.push(239,191,189);continue}if(re+1===ee){-1<(V-=3)&&U.push(239,191,189);continue}B=X;continue}if(X<56320){-1<(V-=3)&&U.push(239,191,189),B=X;continue}X=65536+(B-55296<<10|X-56320)}else B&&-1<(V-=3)&&U.push(239,191,189);if(B=null,X<128){if(--V<0)break;U.push(X)}else if(X<2048){if((V-=2)<0)break;U.push(X>>6|192,63&X|128)}else if(X<65536){if((V-=3)<0)break;U.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((V-=4)<0)break;U.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return U}function Ce(O){return n.toByteArray(function(V){if((V=(V=V.split("=")[0]).trim().replace(ge,"")).length<2)return"";for(;V.length%4!=0;)V+="=";return V}(O))}function be(O,V,X,ee){for(var B=0;B<ee&&!(B+X>=V.length||B>=O.length);++B)V[B+X]=O[B];return B}function Ie(O,V){return O instanceof V||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===V.name}function Se(O){return O!=O}var Te=function(){for(var O="0123456789abcdef",V=new Array(256),X=0;X<16;++X)for(var ee=16*X,B=0;B<16;++B)V[ee+B]=O[X]+O[B];return V}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:236}],5:[function(e,l,u){l.exports=function(h){if(typeof h!="function")throw TypeError(String(h)+" is not a function");return h}},{}],6:[function(e,l,u){var h=e("../internals/is-object");l.exports=function(n){if(!h(n)&&n!==null)throw TypeError("Can't set "+String(n)+" as a prototype");return n}},{"../internals/is-object":74}],7:[function(e,l,u){var h=e("../internals/well-known-symbol"),n=e("../internals/object-create"),p=e("../internals/object-define-property"),f=h("unscopables"),g=Array.prototype;g[f]==null&&p.f(g,f,{configurable:!0,value:n(null)}),l.exports=function(m){g[f][m]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(e,l,u){var h=e("../internals/string-multibyte").charAt;l.exports=function(n,p,f){return p+(f?h(n,p).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,l,u){l.exports=function(h,n,p){if(!(h instanceof n))throw TypeError("Incorrect "+(p?p+" ":"")+"invocation");return h}},{}],10:[function(e,l,u){var h=e("../internals/is-object");l.exports=function(n){if(!h(n))throw TypeError(String(n)+" is not an object");return n}},{"../internals/is-object":74}],11:[function(e,l,u){l.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(e,l,u){function h(J){return m(J)&&i(ue,s(J))}var n,p=e("../internals/array-buffer-native"),f=e("../internals/descriptors"),g=e("../internals/global"),m=e("../internals/is-object"),i=e("../internals/has"),s=e("../internals/classof"),a=e("../internals/create-non-enumerable-property"),c=e("../internals/redefine"),d=e("../internals/object-define-property").f,y=e("../internals/object-get-prototype-of"),w=e("../internals/object-set-prototype-of"),_=e("../internals/well-known-symbol"),S=e("../internals/uid"),j=g.Int8Array,C=j&&j.prototype,R=g.Uint8ClampedArray,P=R&&R.prototype,I=j&&y(j),A=C&&y(C),D=Object.prototype,N=D.isPrototypeOf,L=_("toStringTag"),W=S("TYPED_ARRAY_TAG"),z=p&&!!w&&s(g.opera)!=="Opera",le=!1,ue={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(n in ue)g[n]||(z=!1);if((!z||typeof I!="function"||I===Function.prototype)&&(I=function(){throw TypeError("Incorrect invocation")},z))for(n in ue)g[n]&&w(g[n],I);if((!z||!A||A===D)&&(A=I.prototype,z))for(n in ue)g[n]&&w(g[n].prototype,A);if(z&&y(P)!==A&&w(P,A),f&&!i(A,L))for(n in le=!0,d(A,L,{get:function(){return m(this)?this[W]:void 0}}),ue)g[n]&&a(g[n],W,n);l.exports={NATIVE_ARRAY_BUFFER_VIEWS:z,TYPED_ARRAY_TAG:le&&W,aTypedArray:function(J){if(h(J))return J;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(J){if(w){if(N.call(I,J))return J}else for(var ce in ue)if(i(ue,n)){var se=g[ce];if(se&&(J===se||N.call(se,J)))return J}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(J,ce,se){if(f){if(se)for(var ge in ue){var _e=g[ge];_e&&i(_e.prototype,J)&&delete _e.prototype[J]}A[J]&&!se||c(A,J,se?ce:z&&C[J]||ce)}},exportTypedArrayStaticMethod:function(J,ce,se){var ge,_e;if(f){if(w){if(se)for(ge in ue)(_e=g[ge])&&i(_e,J)&&delete _e[J];if(I[J]&&!se)return;try{return c(I,J,se?ce:z&&j[J]||ce)}catch{}}for(ge in ue)!(_e=g[ge])||_e[J]&&!se||c(_e,J,ce)}},isView:function(J){var ce=s(J);return ce==="DataView"||i(ue,ce)},isTypedArray:h,TypedArray:I,TypedArrayPrototype:A}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(e,l,u){function h(ie){return[255&ie]}function n(ie){return[255&ie,ie>>8&255]}function p(ie){return[255&ie,ie>>8&255,ie>>16&255,ie>>24&255]}function f(ie){return ie[3]<<24|ie[2]<<16|ie[1]<<8|ie[0]}function g(ie){return V(ie,23,4)}function m(ie){return V(ie,52,8)}function i(ie,oe){L(ie[ge],oe,{get:function(){return ue(this)[oe]}})}function s(ie,oe,me,ye){var fe=P(me),ke=ue(ie);if(fe+oe>ke.byteLength)throw O(_e);var Ne=ue(ke.buffer).bytes,Ue=fe+ke.byteOffset,Le=Ne.slice(Ue,Ue+oe);return ye?Le:Le.reverse()}function a(ie,oe,me,ye,fe,ke){var Ne=P(me),Ue=ue(ie);if(Ne+oe>Ue.byteLength)throw O(_e);for(var Le=ue(Ue.buffer).bytes,Ze=Ne+Ue.byteOffset,Ae=ye(+fe),Re=0;Re<oe;Re++)Le[Ze+Re]=Ae[ke?Re:oe-Re-1]}var c=e("../internals/global"),d=e("../internals/descriptors"),y=e("../internals/array-buffer-native"),w=e("../internals/create-non-enumerable-property"),_=e("../internals/redefine-all"),S=e("../internals/fails"),j=e("../internals/an-instance"),C=e("../internals/to-integer"),R=e("../internals/to-length"),P=e("../internals/to-index"),I=e("../internals/ieee754"),A=e("../internals/object-get-prototype-of"),D=e("../internals/object-set-prototype-of"),N=e("../internals/object-get-own-property-names").f,L=e("../internals/object-define-property").f,W=e("../internals/array-fill"),z=e("../internals/set-to-string-tag"),le=e("../internals/internal-state"),ue=le.get,J=le.set,ce="ArrayBuffer",se="DataView",ge="prototype",_e="Wrong index",Ce=c[ce],be=Ce,Ie=c[se],Se=Ie&&Ie[ge],Te=Object.prototype,O=c.RangeError,V=I.pack,X=I.unpack;if(y){if(!S(function(){Ce(1)})||!S(function(){new Ce(-1)})||S(function(){return new Ce,new Ce(1.5),new Ce(NaN),Ce.name!=ce})){for(var ee,B=(be=function(ie){return j(this,be),new Ce(P(ie))})[ge]=Ce[ge],U=N(Ce),re=0;U.length>re;)(ee=U[re++])in be||w(be,ee,Ce[ee]);B.constructor=be}D&&A(Se)!==Te&&D(Se,Te);var $=new Ie(new be(2)),ne=Se.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||_(Se,{setInt8:function(ie,oe){ne.call(this,ie,oe<<24>>24)},setUint8:function(ie,oe){ne.call(this,ie,oe<<24>>24)}},{unsafe:!0})}else be=function(ie){j(this,be,ce);var oe=P(ie);J(this,{bytes:W.call(new Array(oe),0),byteLength:oe}),d||(this.byteLength=oe)},Ie=function(ie,oe,me){j(this,Ie,se),j(ie,be,se);var ye=ue(ie).byteLength,fe=C(oe);if(fe<0||ye<fe)throw O("Wrong offset");if(ye<fe+(me=me===void 0?ye-fe:R(me)))throw O("Wrong length");J(this,{buffer:ie,byteLength:me,byteOffset:fe}),d||(this.buffer=ie,this.byteLength=me,this.byteOffset=fe)},d&&(i(be,"byteLength"),i(Ie,"buffer"),i(Ie,"byteLength"),i(Ie,"byteOffset")),_(Ie[ge],{getInt8:function(ie){return s(this,1,ie)[0]<<24>>24},getUint8:function(ie){return s(this,1,ie)[0]},getInt16:function(ie,oe){var me=s(this,2,ie,1<arguments.length?oe:void 0);return(me[1]<<8|me[0])<<16>>16},getUint16:function(ie,oe){var me=s(this,2,ie,1<arguments.length?oe:void 0);return me[1]<<8|me[0]},getInt32:function(ie,oe){return f(s(this,4,ie,1<arguments.length?oe:void 0))},getUint32:function(ie,oe){return f(s(this,4,ie,1<arguments.length?oe:void 0))>>>0},getFloat32:function(ie,oe){return X(s(this,4,ie,1<arguments.length?oe:void 0),23)},getFloat64:function(ie,oe){return X(s(this,8,ie,1<arguments.length?oe:void 0),52)},setInt8:function(ie,oe){a(this,1,ie,h,oe)},setUint8:function(ie,oe){a(this,1,ie,h,oe)},setInt16:function(ie,oe,me){a(this,2,ie,n,oe,2<arguments.length?me:void 0)},setUint16:function(ie,oe,me){a(this,2,ie,n,oe,2<arguments.length?me:void 0)},setInt32:function(ie,oe,me){a(this,4,ie,p,oe,2<arguments.length?me:void 0)},setUint32:function(ie,oe,me){a(this,4,ie,p,oe,2<arguments.length?me:void 0)},setFloat32:function(ie,oe,me){a(this,4,ie,g,oe,2<arguments.length?me:void 0)},setFloat64:function(ie,oe,me){a(this,8,ie,m,oe,2<arguments.length?me:void 0)}});z(be,ce),z(Ie,se),l.exports={ArrayBuffer:be,DataView:Ie}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(e,l,u){var h=e("../internals/to-object"),n=e("../internals/to-absolute-index"),p=e("../internals/to-length"),f=Math.min;l.exports=[].copyWithin||function(g,m,i){var s=h(this),a=p(s.length),c=n(g,a),d=n(m,a),y=2<arguments.length?i:void 0,w=f((y===void 0?a:n(y,a))-d,a-c),_=1;for(d<c&&c<d+w&&(_=-1,d+=w-1,c+=w-1);0<w--;)d in s?s[c]=s[d]:delete s[c],c+=_,d+=_;return s}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(e,l,u){var h=e("../internals/to-object"),n=e("../internals/to-absolute-index"),p=e("../internals/to-length");l.exports=function(f,g,m){for(var i=h(this),s=p(i.length),a=arguments.length,c=n(1<a?g:void 0,s),d=2<a?m:void 0,y=d===void 0?s:n(d,s);c<y;)i[c++]=f;return i}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(e,l,u){var h=e("../internals/array-iteration").forEach,n=e("../internals/array-method-is-strict"),p=e("../internals/array-method-uses-to-length"),f=n("forEach"),g=p("forEach");l.exports=f&&g?[].forEach:function(m,i){return h(this,m,1<arguments.length?i:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,l,u){var h=e("../internals/function-bind-context"),n=e("../internals/to-object"),p=e("../internals/call-with-safe-iteration-closing"),f=e("../internals/is-array-iterator-method"),g=e("../internals/to-length"),m=e("../internals/create-property"),i=e("../internals/get-iterator-method");l.exports=function(s,a,c){var d,y,w,_,S,j,C=n(s),R=typeof this=="function"?this:Array,P=arguments.length,I=1<P?a:void 0,A=I!==void 0,D=i(C),N=0;if(A&&(I=h(I,2<P?c:void 0,2)),D==null||R==Array&&f(D))for(y=new R(d=g(C.length));N<d;N++)j=A?I(C[N],N):C[N],m(y,N,j);else for(S=(_=D.call(C)).next,y=new R;!(w=S.call(_)).done;N++)j=A?p(_,I,[w.value,N],!0):w.value,m(y,N,j);return y.length=N,y}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(e,l,u){function h(g){return function(m,i,s){var a,c=n(m),d=p(c.length),y=f(s,d);if(g&&i!=i){for(;y<d;)if((a=c[y++])!=a)return!0}else for(;y<d;y++)if((g||y in c)&&c[y]===i)return g||y||0;return!g&&-1}}var n=e("../internals/to-indexed-object"),p=e("../internals/to-length"),f=e("../internals/to-absolute-index");l.exports={includes:h(!0),indexOf:h(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(e,l,u){function h(s){var a=s==1,c=s==2,d=s==3,y=s==4,w=s==6,_=s==5||w;return function(S,j,C,R){for(var P,I,A=f(S),D=p(A),N=n(j,C,3),L=g(D.length),W=0,z=R||m,le=a?z(S,L):c?z(S,0):void 0;W<L;W++)if((_||W in D)&&(I=N(P=D[W],W,A),s)){if(a)le[W]=I;else if(I)switch(s){case 3:return!0;case 5:return P;case 6:return W;case 2:i.call(le,P)}else if(y)return!1}return w?-1:d||y?y:le}}var n=e("../internals/function-bind-context"),p=e("../internals/indexed-object"),f=e("../internals/to-object"),g=e("../internals/to-length"),m=e("../internals/array-species-create"),i=[].push;l.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(e,l,u){var h=e("../internals/to-indexed-object"),n=e("../internals/to-integer"),p=e("../internals/to-length"),f=e("../internals/array-method-is-strict"),g=e("../internals/array-method-uses-to-length"),m=Math.min,i=[].lastIndexOf,s=!!i&&1/[1].lastIndexOf(1,-0)<0,a=f("lastIndexOf"),c=g("indexOf",{ACCESSORS:!0,1:0}),d=s||!a||!c;l.exports=d?function(y,w){if(s)return i.apply(this,arguments)||0;var _=h(this),S=p(_.length),j=S-1;for(1<arguments.length&&(j=m(j,n(w))),j<0&&(j=S+j);0<=j;j--)if(j in _&&_[j]===y)return j||0;return-1}:i},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(e,l,u){var h=e("../internals/fails"),n=e("../internals/well-known-symbol"),p=e("../internals/engine-v8-version"),f=n("species");l.exports=function(g){return 51<=p||!h(function(){var m=[];return(m.constructor={})[f]=function(){return{foo:1}},m[g](Boolean).foo!==1})}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":146}],22:[function(e,l,u){var h=e("../internals/fails");l.exports=function(n,p){var f=[][n];return!!f&&h(function(){f.call(null,p||function(){throw 1},1)})}},{"../internals/fails":50}],23:[function(e,l,u){function h(i){throw i}var n=e("../internals/descriptors"),p=e("../internals/fails"),f=e("../internals/has"),g=Object.defineProperty,m={};l.exports=function(i,s){if(f(m,i))return m[i];var a=[][i],c=!!f(s=s||{},"ACCESSORS")&&s.ACCESSORS,d=f(s,0)?s[0]:h,y=f(s,1)?s[1]:void 0;return m[i]=!!a&&!p(function(){if(c&&!n)return!0;var w={length:-1};c?g(w,1,{enumerable:!0,get:h}):w[1]=1,a.call(w,d,y)})}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":60}],24:[function(e,l,u){function h(m){return function(i,s,a,c){n(s);var d=p(i),y=f(d),w=g(d.length),_=m?w-1:0,S=m?-1:1;if(a<2)for(;;){if(_ in y){c=y[_],_+=S;break}if(_+=S,m?_<0:w<=_)throw TypeError("Reduce of empty array with no initial value")}for(;m?0<=_:_<w;_+=S)_ in y&&(c=s(c,y[_],_,d));return c}}var n=e("../internals/a-function"),p=e("../internals/to-object"),f=e("../internals/indexed-object"),g=e("../internals/to-length");l.exports={left:h(!1),right:h(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(e,l,u){var h=e("../internals/is-object"),n=e("../internals/is-array"),p=e("../internals/well-known-symbol")("species");l.exports=function(f,g){var m;return n(f)&&(typeof(m=f.constructor)!="function"||m!==Array&&!n(m.prototype)?h(m)&&(m=m[p])===null&&(m=void 0):m=void 0),new(m===void 0?Array:m)(g===0?0:g)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(e,l,u){var h=e("../internals/an-object");l.exports=function(n,p,f,g){try{return g?p(h(f)[0],f[1]):p(f)}catch(i){var m=n.return;throw m!==void 0&&h(m.call(n)),i}}},{"../internals/an-object":10}],27:[function(e,l,u){var h=e("../internals/well-known-symbol")("iterator"),n=!1;try{var p=0,f={next:function(){return{done:!!p++}},return:function(){n=!0}};f[h]=function(){return this},Array.from(f,function(){throw 2})}catch{}l.exports=function(g,m){if(!m&&!n)return!1;var i=!1;try{var s={};s[h]=function(){return{next:function(){return{done:i=!0}}}},g(s)}catch{}return i}},{"../internals/well-known-symbol":146}],28:[function(e,l,u){var h={}.toString;l.exports=function(n){return h.call(n).slice(8,-1)}},{}],29:[function(e,l,u){var h=e("../internals/to-string-tag-support"),n=e("../internals/classof-raw"),p=e("../internals/well-known-symbol")("toStringTag"),f=n(function(){return arguments}())=="Arguments";l.exports=h?n:function(g){var m,i,s;return g===void 0?"Undefined":g===null?"Null":typeof(i=function(a,c){try{return a[c]}catch{}}(m=Object(g),p))=="string"?i:f?n(m):(s=n(m))=="Object"&&typeof m.callee=="function"?"Arguments":s}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(e,l,u){var h=e("../internals/object-define-property").f,n=e("../internals/object-create"),p=e("../internals/redefine-all"),f=e("../internals/function-bind-context"),g=e("../internals/an-instance"),m=e("../internals/iterate"),i=e("../internals/define-iterator"),s=e("../internals/set-species"),a=e("../internals/descriptors"),c=e("../internals/internal-metadata").fastKey,d=e("../internals/internal-state"),y=d.set,w=d.getterFor;l.exports={getConstructor:function(_,S,j,C){function R(D,N,L){var W,z,le=I(D),ue=A(D,N);return ue?ue.value=L:(le.last=ue={index:z=c(N,!0),key:N,value:L,previous:W=le.last,next:void 0,removed:!1},le.first||(le.first=ue),W&&(W.next=ue),a?le.size++:D.size++,z!=="F"&&(le.index[z]=ue)),D}var P=_(function(D,N){g(D,P,S),y(D,{type:S,index:n(null),first:void 0,last:void 0,size:0}),a||(D.size=0),N!=null&&m(N,D[C],D,j)}),I=w(S),A=function(D,N){var L,W=I(D),z=c(N);if(z!=="F")return W.index[z];for(L=W.first;L;L=L.next)if(L.key==N)return L};return p(P.prototype,{clear:function(){for(var D=I(this),N=D.index,L=D.first;L;)L.removed=!0,L.previous&&(L.previous=L.previous.next=void 0),delete N[L.index],L=L.next;D.first=D.last=void 0,a?D.size=0:this.size=0},delete:function(D){var N=I(this),L=A(this,D);if(L){var W=L.next,z=L.previous;delete N.index[L.index],L.removed=!0,z&&(z.next=W),W&&(W.previous=z),N.first==L&&(N.first=W),N.last==L&&(N.last=z),a?N.size--:this.size--}return!!L},forEach:function(D,N){for(var L,W=I(this),z=f(D,1<arguments.length?N:void 0,3);L=L?L.next:W.first;)for(z(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(D){return!!A(this,D)}}),p(P.prototype,j?{get:function(D){var N=A(this,D);return N&&N.value},set:function(D,N){return R(this,D===0?0:D,N)}}:{add:function(D){return R(this,D=D===0?0:D,D)}}),a&&h(P.prototype,"size",{get:function(){return I(this).size}}),P},setStrong:function(_,S,j){var C=S+" Iterator",R=w(S),P=w(C);i(_,S,function(I,A){y(this,{type:C,target:I,state:R(I),kind:A,last:void 0})},function(){for(var I=P(this),A=I.kind,D=I.last;D&&D.removed;)D=D.previous;return I.target&&(I.last=D=D?D.next:I.state.first)?A=="keys"?{value:D.key,done:!1}:A=="values"?{value:D.value,done:!1}:{value:[D.key,D.value],done:!1}:{value:I.target=void 0,done:!0}},j?"entries":"values",!j,!0),s(S)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/global"),p=e("../internals/is-forced"),f=e("../internals/redefine"),g=e("../internals/internal-metadata"),m=e("../internals/iterate"),i=e("../internals/an-instance"),s=e("../internals/is-object"),a=e("../internals/fails"),c=e("../internals/check-correctness-of-iteration"),d=e("../internals/set-to-string-tag"),y=e("../internals/inherit-if-required");l.exports=function(w,_,S){function j(J){var ce=A[J];f(A,J,J=="add"?function(se){return ce.call(this,se===0?0:se),this}:J=="delete"?function(se){return!(R&&!s(se))&&ce.call(this,se===0?0:se)}:J=="get"?function(se){return R&&!s(se)?void 0:ce.call(this,se===0?0:se)}:J=="has"?function(se){return!(R&&!s(se))&&ce.call(this,se===0?0:se)}:function(se,ge){return ce.call(this,se===0?0:se,ge),this})}var C=w.indexOf("Map")!==-1,R=w.indexOf("Weak")!==-1,P=C?"set":"add",I=n[w],A=I&&I.prototype,D=I,N={};if(p(w,typeof I!="function"||!(R||A.forEach&&!a(function(){new I().entries().next()}))))D=S.getConstructor(_,w,C,P),g.REQUIRED=!0;else if(p(w,!0)){var L=new D,W=L[P](R?{}:-0,1)!=L,z=a(function(){L.has(1)}),le=c(function(J){new I(J)}),ue=!R&&a(function(){for(var J=new I,ce=5;ce--;)J[P](ce,ce);return!J.has(-0)});le||(((D=_(function(J,ce){i(J,D,w);var se=y(new I,J,D);return ce!=null&&m(ce,se[P],se,C),se})).prototype=A).constructor=D),(z||ue)&&(j("delete"),j("has"),C&&j("get")),(ue||W)&&j(P),R&&A.clear&&delete A.clear}return N[w]=D,h({global:!0,forced:D!=I},N),d(D,w),R||S.setStrong(D,w,C),D}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],32:[function(e,l,u){var h=e("../internals/has"),n=e("../internals/own-keys"),p=e("../internals/object-get-own-property-descriptor"),f=e("../internals/object-define-property");l.exports=function(g,m){for(var i=n(m),s=f.f,a=p.f,c=0;c<i.length;c++){var d=i[c];h(g,d)||s(g,d,a(m,d))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],33:[function(e,l,u){var h=e("../internals/well-known-symbol")("match");l.exports=function(n){var p=/./;try{"/./"[n](p)}catch{try{return p[h]=!1,"/./"[n](p)}catch{}}return!1}},{"../internals/well-known-symbol":146}],34:[function(e,l,u){var h=e("../internals/fails");l.exports=!h(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},{"../internals/fails":50}],35:[function(e,l,u){var h=e("../internals/require-object-coercible"),n=/"/g;l.exports=function(p,f,g,m){var i=String(h(p)),s="<"+f;return g!==""&&(s+=" "+g+'="'+String(m).replace(n,"&quot;")+'"'),s+">"+i+"</"+f+">"}},{"../internals/require-object-coercible":113}],36:[function(e,l,u){function h(){return this}var n=e("../internals/iterators-core").IteratorPrototype,p=e("../internals/object-create"),f=e("../internals/create-property-descriptor"),g=e("../internals/set-to-string-tag"),m=e("../internals/iterators");l.exports=function(i,s,a){var c=s+" Iterator";return i.prototype=p(n,{next:f(1,a)}),g(i,c,!1,!0),m[c]=h,i}},{"../internals/create-property-descriptor":38,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],37:[function(e,l,u){var h=e("../internals/descriptors"),n=e("../internals/object-define-property"),p=e("../internals/create-property-descriptor");l.exports=h?function(f,g,m){return n.f(f,g,p(1,m))}:function(f,g,m){return f[g]=m,f}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":92}],38:[function(e,l,u){l.exports=function(h,n){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:n}}},{}],39:[function(e,l,u){var h=e("../internals/to-primitive"),n=e("../internals/object-define-property"),p=e("../internals/create-property-descriptor");l.exports=function(f,g,m){var i=h(g);i in f?n.f(f,i,p(0,m)):f[i]=m}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":92,"../internals/to-primitive":138}],40:[function(e,l,u){function h(){return this}var n=e("../internals/export"),p=e("../internals/create-iterator-constructor"),f=e("../internals/object-get-prototype-of"),g=e("../internals/object-set-prototype-of"),m=e("../internals/set-to-string-tag"),i=e("../internals/create-non-enumerable-property"),s=e("../internals/redefine"),a=e("../internals/well-known-symbol"),c=e("../internals/is-pure"),d=e("../internals/iterators"),y=e("../internals/iterators-core"),w=y.IteratorPrototype,_=y.BUGGY_SAFARI_ITERATORS,S=a("iterator"),j="values",C="entries";l.exports=function(R,P,I,A,D,N,L){p(I,P,A);function W(be){if(be===D&&_e)return _e;if(!_&&be in se)return se[be];switch(be){case"keys":case j:case C:return function(){return new I(this,be)}}return function(){return new I(this)}}var z,le,ue,J=P+" Iterator",ce=!1,se=R.prototype,ge=se[S]||se["@@iterator"]||D&&se[D],_e=!_&&ge||W(D),Ce=P=="Array"&&se.entries||ge;if(Ce&&(z=f(Ce.call(new R)),w!==Object.prototype&&z.next&&(c||f(z)===w||(g?g(z,w):typeof z[S]!="function"&&i(z,S,h)),m(z,J,!0,!0),c&&(d[J]=h))),D==j&&ge&&ge.name!==j&&(ce=!0,_e=function(){return ge.call(this)}),c&&!L||se[S]===_e||i(se,S,_e),d[P]=_e,D)if(le={values:W(j),keys:N?_e:W("keys"),entries:W(C)},L)for(ue in le)!_&&!ce&&ue in se||s(se,ue,le[ue]);else n({target:P,proto:!0,forced:_||ce},le);return le}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],41:[function(e,l,u){var h=e("../internals/path"),n=e("../internals/has"),p=e("../internals/well-known-symbol-wrapped"),f=e("../internals/object-define-property").f;l.exports=function(g){var m=h.Symbol||(h.Symbol={});n(m,g)||f(m,g,{value:p.f(g)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],42:[function(e,l,u){var h=e("../internals/fails");l.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":50}],43:[function(e,l,u){var h=e("../internals/global"),n=e("../internals/is-object"),p=h.document,f=n(p)&&n(p.createElement);l.exports=function(g){return f?p.createElement(g):{}}},{"../internals/global":59,"../internals/is-object":74}],44:[function(e,l,u){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(e,l,u){var h=e("../internals/engine-user-agent");l.exports=/(iphone|ipod|ipad).*applewebkit/i.test(h)},{"../internals/engine-user-agent":46}],46:[function(e,l,u){var h=e("../internals/get-built-in");l.exports=h("navigator","userAgent")||""},{"../internals/get-built-in":56}],47:[function(e,l,u){var h,n,p=e("../internals/global"),f=e("../internals/engine-user-agent"),g=p.process,m=g&&g.versions,i=m&&m.v8;i?n=(h=i.split("."))[0]+h[1]:f&&(!(h=f.match(/Edge\/(\d+)/))||74<=h[1])&&(h=f.match(/Chrome\/(\d+)/))&&(n=h[1]),l.exports=n&&+n},{"../internals/engine-user-agent":46,"../internals/global":59}],48:[function(e,l,u){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(e,l,u){var h=e("../internals/global"),n=e("../internals/object-get-own-property-descriptor").f,p=e("../internals/create-non-enumerable-property"),f=e("../internals/redefine"),g=e("../internals/set-global"),m=e("../internals/copy-constructor-properties"),i=e("../internals/is-forced");l.exports=function(s,a){var c,d,y,w,_,S=s.target,j=s.global,C=s.stat;if(c=j?h:C?h[S]||g(S,{}):(h[S]||{}).prototype)for(d in a){if(w=a[d],y=s.noTargetGet?(_=n(c,d))&&_.value:c[d],!i(j?d:S+(C?".":"#")+d,s.forced)&&y!==void 0){if(typeof w==typeof y)continue;m(w,y)}(s.sham||y&&y.sham)&&p(w,"sham",!0),f(c,d,w,s)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],50:[function(e,l,u){l.exports=function(h){try{return!!h()}catch{return!0}}},{}],51:[function(e,l,u){e("../modules/es.regexp.exec");var h=e("../internals/redefine"),n=e("../internals/fails"),p=e("../internals/well-known-symbol"),f=e("../internals/regexp-exec"),g=e("../internals/create-non-enumerable-property"),m=p("species"),i=!n(function(){var y=/./;return y.exec=function(){var w=[];return w.groups={a:"7"},w},"".replace(y,"$<a>")!=="7"}),s="a".replace(/./,"$0")==="$0",a=p("replace"),c=!!/./[a]&&/./[a]("a","$0")==="",d=!n(function(){var y=/(?:)/,w=y.exec;y.exec=function(){return w.apply(this,arguments)};var _="ab".split(y);return _.length!==2||_[0]!=="a"||_[1]!=="b"});l.exports=function(y,w,_,S){var j=p(y),C=!n(function(){var N={};return N[j]=function(){return 7},""[y](N)!=7}),R=C&&!n(function(){var N=!1,L=/a/;return y==="split"&&((L={constructor:{}}).constructor[m]=function(){return L},L.flags="",L[j]=/./[j]),L.exec=function(){return N=!0,null},L[j](""),!N});if(!C||!R||y==="replace"&&(!i||!s||c)||y==="split"&&!d){var P=/./[j],I=_(j,""[y],function(N,L,W,z,le){return L.exec===f?C&&!le?{done:!0,value:P.call(L,W,z)}:{done:!0,value:N.call(W,L,z)}:{done:!1}},{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:c}),A=I[0],D=I[1];h(String.prototype,y,A),h(RegExp.prototype,j,w==2?function(N,L){return D.call(N,this,L)}:function(N){return D.call(N,this)})}S&&g(RegExp.prototype[j],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],52:[function(e,l,u){var h=e("../internals/is-array"),n=e("../internals/to-length"),p=e("../internals/function-bind-context"),f=function(g,m,i,s,a,c,d,y){for(var w,_=a,S=0,j=!!d&&p(d,y,3);S<s;){if(S in i){if(w=j?j(i[S],S,m):i[S],0<c&&h(w))_=f(g,m,w,n(w.length),_,c-1)-1;else{if(9007199254740991<=_)throw TypeError("Exceed the acceptable array length");g[_]=w}_++}S++}return _};l.exports=f},{"../internals/function-bind-context":54,"../internals/is-array":72,"../internals/to-length":134}],53:[function(e,l,u){var h=e("../internals/fails");l.exports=!h(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":50}],54:[function(e,l,u){var h=e("../internals/a-function");l.exports=function(n,p,f){if(h(n),p===void 0)return n;switch(f){case 0:return function(){return n.call(p)};case 1:return function(g){return n.call(p,g)};case 2:return function(g,m){return n.call(p,g,m)};case 3:return function(g,m,i){return n.call(p,g,m,i)}}return function(){return n.apply(p,arguments)}}},{"../internals/a-function":5}],55:[function(e,l,u){var h=e("../internals/a-function"),n=e("../internals/is-object"),p=[].slice,f={};l.exports=Function.bind||function(g){var m=h(this),i=p.call(arguments,1),s=function(){var a=i.concat(p.call(arguments));return this instanceof s?function(c,d,y){if(!(d in f)){for(var w=[],_=0;_<d;_++)w[_]="a["+_+"]";f[d]=Function("C,a","return new C("+w.join(",")+")")}return f[d](c,y)}(m,a.length,a):m.apply(g,a)};return n(m.prototype)&&(s.prototype=m.prototype),s}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,l,u){function h(f){return typeof f=="function"?f:void 0}var n=e("../internals/path"),p=e("../internals/global");l.exports=function(f,g){return arguments.length<2?h(n[f])||h(p[f]):n[f]&&n[f][g]||p[f]&&p[f][g]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,l,u){var h=e("../internals/classof"),n=e("../internals/iterators"),p=e("../internals/well-known-symbol")("iterator");l.exports=function(f){if(f!=null)return f[p]||f["@@iterator"]||n[h(f)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(e,l,u){var h=e("../internals/an-object"),n=e("../internals/get-iterator-method");l.exports=function(p){var f=n(p);if(typeof f!="function")throw TypeError(String(p)+" is not iterable");return h(f.call(p))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,l,u){(function(h){function n(p){return p&&p.Math==Math&&p}l.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof h=="object"&&h)||Function("return this")()}).call(this,typeof ci<"u"?ci:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(e,l,u){var h={}.hasOwnProperty;l.exports=function(n,p){return h.call(n,p)}},{}],61:[function(e,l,u){l.exports={}},{}],62:[function(e,l,u){var h=e("../internals/global");l.exports=function(n,p){var f=h.console;f&&f.error&&(arguments.length===1?f.error(n):f.error(n,p))}},{"../internals/global":59}],63:[function(e,l,u){var h=e("../internals/get-built-in");l.exports=h("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,l,u){var h=e("../internals/descriptors"),n=e("../internals/fails"),p=e("../internals/document-create-element");l.exports=!h&&!n(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],65:[function(e,l,u){var h=Math.abs,n=Math.pow,p=Math.floor,f=Math.log,g=Math.LN2;l.exports={pack:function(m,i,s){var a,c,d,y=new Array(s),w=8*s-i-1,_=(1<<w)-1,S=_>>1,j=i===23?n(2,-24)-n(2,-77):0,C=m<0||m===0&&1/m<0?1:0,R=0;for((m=h(m))!=m||m===1/0?(c=m!=m?1:0,a=_):(a=p(f(m)/g),m*(d=n(2,-a))<1&&(a--,d*=2),2<=(m+=1<=a+S?j/d:j*n(2,1-S))*d&&(a++,d/=2),_<=a+S?(c=0,a=_):1<=a+S?(c=(m*d-1)*n(2,i),a+=S):(c=m*n(2,S-1)*n(2,i),a=0));8<=i;y[R++]=255&c,c/=256,i-=8);for(a=a<<i|c,w+=i;0<w;y[R++]=255&a,a/=256,w-=8);return y[--R]|=128*C,y},unpack:function(m,i){var s,a=m.length,c=8*a-i-1,d=(1<<c)-1,y=d>>1,w=c-7,_=a-1,S=m[_--],j=127&S;for(S>>=7;0<w;j=256*j+m[_],_--,w-=8);for(s=j&(1<<-w)-1,j>>=-w,w+=i;0<w;s=256*s+m[_],_--,w-=8);if(j===0)j=1-y;else{if(j===d)return s?NaN:S?-1/0:1/0;s+=n(2,i),j-=y}return(S?-1:1)*s*n(2,j-i)}}},{}],66:[function(e,l,u){var h=e("../internals/fails"),n=e("../internals/classof-raw"),p="".split;l.exports=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return n(f)=="String"?p.call(f,""):Object(f)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],67:[function(e,l,u){var h=e("../internals/is-object"),n=e("../internals/object-set-prototype-of");l.exports=function(p,f,g){var m,i;return n&&typeof(m=f.constructor)=="function"&&m!==g&&h(i=m.prototype)&&i!==g.prototype&&n(p,i),p}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(e,l,u){var h=e("../internals/shared-store"),n=Function.toString;typeof h.inspectSource!="function"&&(h.inspectSource=function(p){return n.call(p)}),l.exports=h.inspectSource},{"../internals/shared-store":119}],69:[function(e,l,u){function h(y){g(y,s,{value:{objectID:"O"+ ++a,weakData:{}}})}var n=e("../internals/hidden-keys"),p=e("../internals/is-object"),f=e("../internals/has"),g=e("../internals/object-define-property").f,m=e("../internals/uid"),i=e("../internals/freezing"),s=m("meta"),a=0,c=Object.isExtensible||function(){return!0},d=l.exports={REQUIRED:!1,fastKey:function(y,w){if(!p(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!f(y,s)){if(!c(y))return"F";if(!w)return"E";h(y)}return y[s].objectID},getWeakData:function(y,w){if(!f(y,s)){if(!c(y))return!0;if(!w)return!1;h(y)}return y[s].weakData},onFreeze:function(y){return i&&d.REQUIRED&&c(y)&&!f(y,s)&&h(y),y}};n[s]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(e,l,u){var h,n,p,f=e("../internals/native-weak-map"),g=e("../internals/global"),m=e("../internals/is-object"),i=e("../internals/create-non-enumerable-property"),s=e("../internals/has"),a=e("../internals/shared-key"),c=e("../internals/hidden-keys"),d=g.WeakMap;if(f){var y=new d,w=y.get,_=y.has,S=y.set;h=function(C,R){return S.call(y,C,R),R},n=function(C){return w.call(y,C)||{}},p=function(C){return _.call(y,C)}}else{var j=a("state");c[j]=!0,h=function(C,R){return i(C,j,R),R},n=function(C){return s(C,j)?C[j]:{}},p=function(C){return s(C,j)}}l.exports={set:h,get:n,has:p,enforce:function(C){return p(C)?n(C):h(C,{})},getterFor:function(C){return function(R){var P;if(!m(R)||(P=n(R)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return P}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,l,u){var h=e("../internals/well-known-symbol"),n=e("../internals/iterators"),p=h("iterator"),f=Array.prototype;l.exports=function(g){return g!==void 0&&(n.Array===g||f[p]===g)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(e,l,u){var h=e("../internals/classof-raw");l.exports=Array.isArray||function(n){return h(n)=="Array"}},{"../internals/classof-raw":28}],73:[function(e,l,u){function h(s,a){var c=g[f(s)];return c==i||c!=m&&(typeof a=="function"?n(a):!!a)}var n=e("../internals/fails"),p=/#|\.prototype\./,f=h.normalize=function(s){return String(s).replace(p,".").toLowerCase()},g=h.data={},m=h.NATIVE="N",i=h.POLYFILL="P";l.exports=h},{"../internals/fails":50}],74:[function(e,l,u){l.exports=function(h){return typeof h=="object"?h!==null:typeof h=="function"}},{}],75:[function(e,l,u){l.exports=!1},{}],76:[function(e,l,u){var h=e("../internals/is-object"),n=e("../internals/classof-raw"),p=e("../internals/well-known-symbol")("match");l.exports=function(f){var g;return h(f)&&((g=f[p])!==void 0?!!g:n(f)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(e,l,u){function h(s,a){this.stopped=s,this.result=a}var n=e("../internals/an-object"),p=e("../internals/is-array-iterator-method"),f=e("../internals/to-length"),g=e("../internals/function-bind-context"),m=e("../internals/get-iterator-method"),i=e("../internals/call-with-safe-iteration-closing");(l.exports=function(s,a,c,d,y){var w,_,S,j,C,R,P,I=g(a,c,d?2:1);if(y)w=s;else{if(typeof(_=m(s))!="function")throw TypeError("Target is not iterable");if(p(_)){for(S=0,j=f(s.length);S<j;S++)if((C=d?I(n(P=s[S])[0],P[1]):I(s[S]))&&C instanceof h)return C;return new h(!1)}w=_.call(s)}for(R=w.next;!(P=R.call(w)).done;)if(typeof(C=i(w,I,P.value,d))=="object"&&C&&C instanceof h)return C;return new h(!1)}).stop=function(s){return new h(!0,s)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(e,l,u){var h,n,p,f=e("../internals/object-get-prototype-of"),g=e("../internals/create-non-enumerable-property"),m=e("../internals/has"),i=e("../internals/well-known-symbol"),s=e("../internals/is-pure"),a=i("iterator"),c=!1;[].keys&&("next"in(p=[].keys())?(n=f(f(p)))!==Object.prototype&&(h=n):c=!0),h==null&&(h={}),s||m(h,a)||g(h,a,function(){return this}),l.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:c}},{"../internals/create-non-enumerable-property":37,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(e,l,u){arguments[4][61][0].apply(u,arguments)},{dup:61}],80:[function(e,l,u){l.exports=Math.sign||function(h){return(h=+h)==0||h!=h?h:h<0?-1:1}},{}],81:[function(e,l,u){var h,n,p,f,g,m,i,s,a=e("../internals/global"),c=e("../internals/object-get-own-property-descriptor").f,d=e("../internals/classof-raw"),y=e("../internals/task").set,w=e("../internals/engine-is-ios"),_=a.MutationObserver||a.WebKitMutationObserver,S=a.process,j=a.Promise,C=d(S)=="process",R=c(a,"queueMicrotask"),P=R&&R.value;P||(h=function(){var I,A;for(C&&(I=S.domain)&&I.exit();n;){A=n.fn,n=n.next;try{A()}catch(D){throw n?f():p=void 0,D}}p=void 0,I&&I.enter()},f=C?function(){S.nextTick(h)}:_&&!w?(g=!0,m=document.createTextNode(""),new _(h).observe(m,{characterData:!0}),function(){m.data=g=!g}):j&&j.resolve?(i=j.resolve(void 0),s=i.then,function(){s.call(i,h)}):function(){y.call(a,h)}),l.exports=P||function(I){var A={fn:I,next:void 0};p&&(p.next=A),n||(n=A,f()),p=A}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(e,l,u){var h=e("../internals/global");l.exports=h.Promise},{"../internals/global":59}],83:[function(e,l,u){var h=e("../internals/fails");l.exports=!!Object.getOwnPropertySymbols&&!h(function(){return!String(Symbol())})},{"../internals/fails":50}],84:[function(e,l,u){var h=e("../internals/fails"),n=e("../internals/well-known-symbol"),p=e("../internals/is-pure"),f=n("iterator");l.exports=!h(function(){var g=new URL("b?a=1&b=2&c=3","http://a"),m=g.searchParams,i="";return g.pathname="c%20d",m.forEach(function(s,a){m.delete("b"),i+=a+s}),p&&!g.toJSON||!m.sort||g.href!=="http://a/c%20d?a=1&c=3"||m.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!m[f]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||i!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":50,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(e,l,u){var h=e("../internals/global"),n=e("../internals/inspect-source"),p=h.WeakMap;l.exports=typeof p=="function"&&/native code/.test(n(p))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,l,u){function h(p){var f,g;this.promise=new p(function(m,i){if(f!==void 0||g!==void 0)throw TypeError("Bad Promise constructor");f=m,g=i}),this.resolve=n(f),this.reject=n(g)}var n=e("../internals/a-function");l.exports.f=function(p){return new h(p)}},{"../internals/a-function":5}],87:[function(e,l,u){var h=e("../internals/is-regexp");l.exports=function(n){if(h(n))throw TypeError("The method doesn't accept regular expressions");return n}},{"../internals/is-regexp":76}],88:[function(e,l,u){var h=e("../internals/global").isFinite;l.exports=Number.isFinite||function(n){return typeof n=="number"&&h(n)}},{"../internals/global":59}],89:[function(e,l,u){var h=e("../internals/descriptors"),n=e("../internals/fails"),p=e("../internals/object-keys"),f=e("../internals/object-get-own-property-symbols"),g=e("../internals/object-property-is-enumerable"),m=e("../internals/to-object"),i=e("../internals/indexed-object"),s=Object.assign,a=Object.defineProperty;l.exports=!s||n(function(){if(h&&s({b:1},s(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var c={},d={},y=Symbol(),w="abcdefghijklmnopqrst";return c[y]=7,w.split("").forEach(function(_){d[_]=_}),s({},c)[y]!=7||p(s({},d)).join("")!=w})?function(c,d){for(var y=m(c),w=arguments.length,_=1,S=f.f,j=g.f;_<w;)for(var C,R=i(arguments[_++]),P=S?p(R).concat(S(R)):p(R),I=P.length,A=0;A<I;)C=P[A++],h&&!j.call(R,C)||(y[C]=R[C]);return y}:s},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(e,l,u){function h(){}function n(S){return"<script>"+S+"</"+y+">"}var p,f=e("../internals/an-object"),g=e("../internals/object-define-properties"),m=e("../internals/enum-bug-keys"),i=e("../internals/hidden-keys"),s=e("../internals/html"),a=e("../internals/document-create-element"),c=e("../internals/shared-key"),d="prototype",y="script",w=c("IE_PROTO"),_=function(){try{p=document.domain&&new ActiveXObject("htmlfile")}catch{}var S,j;_=p?function(R){R.write(n("")),R.close();var P=R.parentWindow.Object;return R=null,P}(p):((j=a("iframe")).style.display="none",s.appendChild(j),j.src=String("javascript:"),(S=j.contentWindow.document).open(),S.write(n("document.F=Object")),S.close(),S.F);for(var C=m.length;C--;)delete _[d][m[C]];return _()};i[w]=!0,l.exports=Object.create||function(S,j){var C;return S!==null?(h[d]=f(S),C=new h,h[d]=null,C[w]=S):C=_(),j===void 0?C:g(C,j)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,l,u){var h=e("../internals/descriptors"),n=e("../internals/object-define-property"),p=e("../internals/an-object"),f=e("../internals/object-keys");l.exports=h?Object.defineProperties:function(g,m){p(g);for(var i,s=f(m),a=s.length,c=0;c<a;)n.f(g,i=s[c++],m[i]);return g}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,l,u){var h=e("../internals/descriptors"),n=e("../internals/ie8-dom-define"),p=e("../internals/an-object"),f=e("../internals/to-primitive"),g=Object.defineProperty;u.f=h?g:function(m,i,s){if(p(m),i=f(i,!0),p(s),n)try{return g(m,i,s)}catch{}if("get"in s||"set"in s)throw TypeError("Accessors not supported");return"value"in s&&(m[i]=s.value),m}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(e,l,u){var h=e("../internals/descriptors"),n=e("../internals/object-property-is-enumerable"),p=e("../internals/create-property-descriptor"),f=e("../internals/to-indexed-object"),g=e("../internals/to-primitive"),m=e("../internals/has"),i=e("../internals/ie8-dom-define"),s=Object.getOwnPropertyDescriptor;u.f=h?s:function(a,c){if(a=f(a),c=g(c,!0),i)try{return s(a,c)}catch{}if(m(a,c))return p(!n.f.call(a,c),a[c])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(e,l,u){var h=e("../internals/to-indexed-object"),n=e("../internals/object-get-own-property-names").f,p={}.toString,f=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];l.exports.f=function(g){return f&&p.call(g)=="[object Window]"?function(m){try{return n(m)}catch{return f.slice()}}(g):n(h(g))}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(e,l,u){var h=e("../internals/object-keys-internal"),n=e("../internals/enum-bug-keys").concat("length","prototype");u.f=Object.getOwnPropertyNames||function(p){return h(p,n)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],96:[function(e,l,u){u.f=Object.getOwnPropertySymbols},{}],97:[function(e,l,u){var h=e("../internals/has"),n=e("../internals/to-object"),p=e("../internals/shared-key"),f=e("../internals/correct-prototype-getter"),g=p("IE_PROTO"),m=Object.prototype;l.exports=f?Object.getPrototypeOf:function(i){return i=n(i),h(i,g)?i[g]:typeof i.constructor=="function"&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?m:null}},{"../internals/correct-prototype-getter":34,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(e,l,u){var h=e("../internals/has"),n=e("../internals/to-indexed-object"),p=e("../internals/array-includes").indexOf,f=e("../internals/hidden-keys");l.exports=function(g,m){var i,s=n(g),a=0,c=[];for(i in s)!h(f,i)&&h(s,i)&&c.push(i);for(;m.length>a;)h(s,i=m[a++])&&(~p(c,i)||c.push(i));return c}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(e,l,u){var h=e("../internals/object-keys-internal"),n=e("../internals/enum-bug-keys");l.exports=Object.keys||function(p){return h(p,n)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],100:[function(e,l,u){var h={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,p=n&&!h.call({1:2},1);u.f=p?function(f){var g=n(this,f);return!!g&&g.enumerable}:h},{}],101:[function(e,l,u){var h=e("../internals/an-object"),n=e("../internals/a-possible-prototype");l.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,f=!1,g={};try{(p=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(g,[]),f=g instanceof Array}catch{}return function(m,i){return h(m),n(i),f?p.call(m,i):m.__proto__=i,m}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,l,u){var h=e("../internals/to-string-tag-support"),n=e("../internals/classof");l.exports=h?{}.toString:function(){return"[object "+n(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(e,l,u){var h=e("../internals/get-built-in"),n=e("../internals/object-get-own-property-names"),p=e("../internals/object-get-own-property-symbols"),f=e("../internals/an-object");l.exports=h("Reflect","ownKeys")||function(g){var m=n.f(f(g)),i=p.f;return i?m.concat(i(g)):m}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,l,u){var h=e("../internals/global");l.exports=h},{"../internals/global":59}],105:[function(e,l,u){l.exports=function(h){try{return{error:!1,value:h()}}catch(n){return{error:!0,value:n}}}},{}],106:[function(e,l,u){var h=e("../internals/an-object"),n=e("../internals/is-object"),p=e("../internals/new-promise-capability");l.exports=function(f,g){if(h(f),n(g)&&g.constructor===f)return g;var m=p.f(f);return(0,m.resolve)(g),m.promise}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,l,u){var h=e("../internals/redefine");l.exports=function(n,p,f){for(var g in p)h(n,g,p[g],f);return n}},{"../internals/redefine":108}],108:[function(e,l,u){var h=e("../internals/global"),n=e("../internals/create-non-enumerable-property"),p=e("../internals/has"),f=e("../internals/set-global"),g=e("../internals/inspect-source"),m=e("../internals/internal-state"),i=m.get,s=m.enforce,a=String(String).split("String");(l.exports=function(c,d,y,w){var _=!!w&&!!w.unsafe,S=!!w&&!!w.enumerable,j=!!w&&!!w.noTargetGet;typeof y=="function"&&(typeof d!="string"||p(y,"name")||n(y,"name",d),s(y).source=a.join(typeof d=="string"?d:"")),c!==h?(_?!j&&c[d]&&(S=!0):delete c[d],S?c[d]=y:n(c,d,y)):S?c[d]=y:f(d,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&i(this).source||g(this)})},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,l,u){var h=e("./classof-raw"),n=e("./regexp-exec");l.exports=function(p,f){var g=p.exec;if(typeof g=="function"){var m=g.call(p,f);if(typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(h(p)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return n.call(p,f)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(e,l,u){var h,n,p=e("./regexp-flags"),f=e("./regexp-sticky-helpers"),g=RegExp.prototype.exec,m=String.prototype.replace,i=g,s=(h=/a/,n=/b*/g,g.call(h,"a"),g.call(n,"a"),h.lastIndex!==0||n.lastIndex!==0),a=f.UNSUPPORTED_Y||f.BROKEN_CARET,c=/()??/.exec("")[1]!==void 0;(s||c||a)&&(i=function(d){var y,w,_,S,j=this,C=a&&j.sticky,R=p.call(j),P=j.source,I=0,A=d;return C&&((R=R.replace("y","")).indexOf("g")===-1&&(R+="g"),A=String(d).slice(j.lastIndex),0<j.lastIndex&&(!j.multiline||j.multiline&&d[j.lastIndex-1]!==`
`)&&(P="(?: "+P+")",A=" "+A,I++),w=new RegExp("^(?:"+P+")",R)),c&&(w=new RegExp("^"+P+"$(?!\\s)",R)),s&&(y=j.lastIndex),_=g.call(C?w:j,A),C?_?(_.input=_.input.slice(I),_[0]=_[0].slice(I),_.index=j.lastIndex,j.lastIndex+=_[0].length):j.lastIndex=0:s&&_&&(j.lastIndex=j.global?_.index+_[0].length:y),c&&_&&1<_.length&&m.call(_[0],w,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(_[S]=void 0)}),_}),l.exports=i},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,l,u){var h=e("../internals/an-object");l.exports=function(){var n=h(this),p="";return n.global&&(p+="g"),n.ignoreCase&&(p+="i"),n.multiline&&(p+="m"),n.dotAll&&(p+="s"),n.unicode&&(p+="u"),n.sticky&&(p+="y"),p}},{"../internals/an-object":10}],112:[function(e,l,u){var h=e("./fails");function n(p,f){return RegExp(p,f)}u.UNSUPPORTED_Y=h(function(){var p=n("a","y");return p.lastIndex=2,p.exec("abcd")!=null}),u.BROKEN_CARET=h(function(){var p=n("^r","gy");return p.lastIndex=2,p.exec("str")!=null})},{"./fails":50}],113:[function(e,l,u){l.exports=function(h){if(h==null)throw TypeError("Can't call method on "+h);return h}},{}],114:[function(e,l,u){l.exports=Object.is||function(h,n){return h===n?h!==0||1/h==1/n:h!=h&&n!=n}},{}],115:[function(e,l,u){var h=e("../internals/global"),n=e("../internals/create-non-enumerable-property");l.exports=function(p,f){try{n(h,p,f)}catch{h[p]=f}return f}},{"../internals/create-non-enumerable-property":37,"../internals/global":59}],116:[function(e,l,u){var h=e("../internals/get-built-in"),n=e("../internals/object-define-property"),p=e("../internals/well-known-symbol"),f=e("../internals/descriptors"),g=p("species");l.exports=function(m){var i=h(m),s=n.f;f&&i&&!i[g]&&s(i,g,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(e,l,u){var h=e("../internals/object-define-property").f,n=e("../internals/has"),p=e("../internals/well-known-symbol")("toStringTag");l.exports=function(f,g,m){f&&!n(f=m?f:f.prototype,p)&&h(f,p,{configurable:!0,value:g})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(e,l,u){var h=e("../internals/shared"),n=e("../internals/uid"),p=h("keys");l.exports=function(f){return p[f]||(p[f]=n(f))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(e,l,u){var h=e("../internals/global"),n=e("../internals/set-global"),p="__core-js_shared__",f=h[p]||n(p,{});l.exports=f},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,l,u){var h=e("../internals/is-pure"),n=e("../internals/shared-store");(l.exports=function(p,f){return n[p]||(n[p]=f!==void 0?f:{})})("versions",[]).push({version:"3.6.5",mode:h?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,l,u){var h=e("../internals/an-object"),n=e("../internals/a-function"),p=e("../internals/well-known-symbol")("species");l.exports=function(f,g){var m,i=h(f).constructor;return i===void 0||(m=h(i)[p])==null?g:n(m)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(e,l,u){var h=e("../internals/fails");l.exports=function(n){return h(function(){var p=""[n]('"');return p!==p.toLowerCase()||3<p.split('"').length})}},{"../internals/fails":50}],123:[function(e,l,u){function h(f){return function(g,m){var i,s,a=String(p(g)),c=n(m),d=a.length;return c<0||d<=c?f?"":void 0:(i=a.charCodeAt(c))<55296||56319<i||c+1===d||(s=a.charCodeAt(c+1))<56320||57343<s?f?a.charAt(c):i:f?a.slice(c,c+2):s-56320+(i-55296<<10)+65536}}var n=e("../internals/to-integer"),p=e("../internals/require-object-coercible");l.exports={codeAt:h(!1),charAt:h(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(e,l,u){function h(c){return c+22+75*(c<26)}function n(c,d,y){var w=0;for(c=y?s(c/700):c>>1,c+=s(c/d);455<c;w+=36)c=s(c/35);return s(w+36*c/(c+38))}function p(c){var d,y,w=[],_=(c=function(le){for(var ue=[],J=0,ce=le.length;J<ce;){var se=le.charCodeAt(J++);if(55296<=se&&se<=56319&&J<ce){var ge=le.charCodeAt(J++);(64512&ge)==56320?ue.push(((1023&se)<<10)+(1023&ge)+65536):(ue.push(se),J--)}else ue.push(se)}return ue}(c)).length,S=128,j=0,C=72;for(d=0;d<c.length;d++)(y=c[d])<128&&w.push(a(y));var R=w.length,P=R;for(R&&w.push("-");P<_;){var I=f;for(d=0;d<c.length;d++)S<=(y=c[d])&&y<I&&(I=y);var A=P+1;if(I-S>s((f-j)/A))throw RangeError(i);for(j+=(I-S)*A,S=I,d=0;d<c.length;d++){if((y=c[d])<S&&++j>f)throw RangeError(i);if(y==S){for(var D=j,N=36;;N+=36){var L=N<=C?1:C+26<=N?26:N-C;if(D<L)break;var W=D-L,z=36-L;w.push(a(h(L+W%z))),D=s(W/z)}w.push(a(h(D))),C=n(j,A,P==R),j=0,++P}}++j,++S}return w.join("")}var f=2147483647,g=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",s=Math.floor,a=String.fromCharCode;l.exports=function(c){var d,y,w=[],_=c.toLowerCase().replace(m,".").split(".");for(d=0;d<_.length;d++)y=_[d],w.push(g.test(y)?"xn--"+p(y):y);return w.join(".")}},{}],125:[function(e,l,u){var h=e("../internals/to-integer"),n=e("../internals/require-object-coercible");l.exports="".repeat||function(p){var f=String(n(this)),g="",m=h(p);if(m<0||m==1/0)throw RangeError("Wrong number of repetitions");for(;0<m;(m>>>=1)&&(f+=f))1&m&&(g+=f);return g}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(e,l,u){var h=e("../internals/fails"),n=e("../internals/whitespaces");l.exports=function(p){return h(function(){return!!n[p]()||""[p]()!=""||n[p].name!==p})}},{"../internals/fails":50,"../internals/whitespaces":147}],127:[function(e,l,u){function h(m){return function(i){var s=String(n(i));return 1&m&&(s=s.replace(f,"")),2&m&&(s=s.replace(g,"")),s}}var n=e("../internals/require-object-coercible"),p="["+e("../internals/whitespaces")+"]",f=RegExp("^"+p+p+"*"),g=RegExp(p+p+"*$");l.exports={start:h(1),end:h(2),trim:h(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(e,l,u){function h(L){if(D.hasOwnProperty(L)){var W=D[L];delete D[L],W()}}function n(L){return function(){h(L)}}function p(L){h(L.data)}function f(L){s.postMessage(L+"",S.protocol+"//"+S.host)}var g,m,i,s=e("../internals/global"),a=e("../internals/fails"),c=e("../internals/classof-raw"),d=e("../internals/function-bind-context"),y=e("../internals/html"),w=e("../internals/document-create-element"),_=e("../internals/engine-is-ios"),S=s.location,j=s.setImmediate,C=s.clearImmediate,R=s.process,P=s.MessageChannel,I=s.Dispatch,A=0,D={},N="onreadystatechange";j&&C||(j=function(L){for(var W=[],z=1;z<arguments.length;)W.push(arguments[z++]);return D[++A]=function(){(typeof L=="function"?L:Function(L)).apply(void 0,W)},g(A),A},C=function(L){delete D[L]},c(R)=="process"?g=function(L){R.nextTick(n(L))}:I&&I.now?g=function(L){I.now(n(L))}:P&&!_?(i=(m=new P).port2,m.port1.onmessage=p,g=d(i.postMessage,i,1)):!s.addEventListener||typeof postMessage!="function"||s.importScripts||a(f)||S.protocol==="file:"?g=N in w("script")?function(L){y.appendChild(w("script"))[N]=function(){y.removeChild(this),h(L)}}:function(L){setTimeout(n(L),0)}:(g=f,s.addEventListener("message",p,!1))),l.exports={set:j,clear:C}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(e,l,u){var h=e("../internals/classof-raw");l.exports=function(n){if(typeof n!="number"&&h(n)!="Number")throw TypeError("Incorrect invocation");return+n}},{"../internals/classof-raw":28}],130:[function(e,l,u){var h=e("../internals/to-integer"),n=Math.max,p=Math.min;l.exports=function(f,g){var m=h(f);return m<0?n(m+g,0):p(m,g)}},{"../internals/to-integer":133}],131:[function(e,l,u){var h=e("../internals/to-integer"),n=e("../internals/to-length");l.exports=function(p){if(p===void 0)return 0;var f=h(p),g=n(f);if(f!==g)throw RangeError("Wrong length or index");return g}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(e,l,u){var h=e("../internals/indexed-object"),n=e("../internals/require-object-coercible");l.exports=function(p){return h(n(p))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(e,l,u){var h=Math.ceil,n=Math.floor;l.exports=function(p){return isNaN(p=+p)?0:(0<p?n:h)(p)}},{}],134:[function(e,l,u){var h=e("../internals/to-integer"),n=Math.min;l.exports=function(p){return 0<p?n(h(p),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(e,l,u){var h=e("../internals/require-object-coercible");l.exports=function(n){return Object(h(n))}},{"../internals/require-object-coercible":113}],136:[function(e,l,u){var h=e("../internals/to-positive-integer");l.exports=function(n,p){var f=h(n);if(f%p)throw RangeError("Wrong offset");return f}},{"../internals/to-positive-integer":137}],137:[function(e,l,u){var h=e("../internals/to-integer");l.exports=function(n){var p=h(n);if(p<0)throw RangeError("The argument can't be less than 0");return p}},{"../internals/to-integer":133}],138:[function(e,l,u){var h=e("../internals/is-object");l.exports=function(n,p){if(!h(n))return n;var f,g;if(p&&typeof(f=n.toString)=="function"&&!h(g=f.call(n))||typeof(f=n.valueOf)=="function"&&!h(g=f.call(n))||!p&&typeof(f=n.toString)=="function"&&!h(g=f.call(n)))return g;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(e,l,u){var h={};h[e("../internals/well-known-symbol")("toStringTag")]="z",l.exports=String(h)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(e,l,u){function h(oe,me){for(var ye=0,fe=me.length,ke=new(re(oe))(fe);ye<fe;)ke[ye]=me[ye++];return ke}function n(oe,me){be(oe,me,{get:function(){return _e(this)[me]}})}function p(oe){var me;return oe instanceof O||(me=A(oe))=="ArrayBuffer"||me=="SharedArrayBuffer"}function f(oe,me){return $(oe)&&typeof me!="symbol"&&me in oe&&String(+me)==String(me)}function g(oe,me){return f(oe,me=P(me,!0))?_(2,oe[me]):Ie(oe,me)}function m(oe,me,ye){return!(f(oe,me=P(me,!0))&&D(ye)&&I(ye,"value"))||I(ye,"get")||I(ye,"set")||ye.configurable||I(ye,"writable")&&!ye.writable||I(ye,"enumerable")&&!ye.enumerable?be(oe,me,ye):(oe[me]=ye.value,oe)}var i=e("../internals/export"),s=e("../internals/global"),a=e("../internals/descriptors"),c=e("../internals/typed-array-constructors-require-wrappers"),d=e("../internals/array-buffer-view-core"),y=e("../internals/array-buffer"),w=e("../internals/an-instance"),_=e("../internals/create-property-descriptor"),S=e("../internals/create-non-enumerable-property"),j=e("../internals/to-length"),C=e("../internals/to-index"),R=e("../internals/to-offset"),P=e("../internals/to-primitive"),I=e("../internals/has"),A=e("../internals/classof"),D=e("../internals/is-object"),N=e("../internals/object-create"),L=e("../internals/object-set-prototype-of"),W=e("../internals/object-get-own-property-names").f,z=e("../internals/typed-array-from"),le=e("../internals/array-iteration").forEach,ue=e("../internals/set-species"),J=e("../internals/object-define-property"),ce=e("../internals/object-get-own-property-descriptor"),se=e("../internals/internal-state"),ge=e("../internals/inherit-if-required"),_e=se.get,Ce=se.set,be=J.f,Ie=ce.f,Se=Math.round,Te=s.RangeError,O=y.ArrayBuffer,V=y.DataView,X=d.NATIVE_ARRAY_BUFFER_VIEWS,ee=d.TYPED_ARRAY_TAG,B=d.TypedArray,U=d.TypedArrayPrototype,re=d.aTypedArrayConstructor,$=d.isTypedArray,ne="BYTES_PER_ELEMENT",ie="Wrong length";a?(X||(ce.f=g,J.f=m,n(U,"buffer"),n(U,"byteOffset"),n(U,"byteLength"),n(U,"length")),i({target:"Object",stat:!0,forced:!X},{getOwnPropertyDescriptor:g,defineProperty:m}),l.exports=function(oe,me,ye){function fe($e,we){be($e,we,{get:function(){return ot=we,(H=_e(this)).view[Ue](ot*ke+H.byteOffset,!0);var ot,H},set:function(ot){return H=we,Q=ot,q=_e(this),ye&&(Q=(Q=Se(Q))<0?0:255<Q?255:255&Q),void q.view[Le](H*ke+q.byteOffset,Q,!0);var H,Q,q},enumerable:!0})}var ke=oe.match(/\d+$/)[0]/8,Ne=oe+(ye?"Clamped":"")+"Array",Ue="get"+oe,Le="set"+oe,Ze=s[Ne],Ae=Ze,Re=Ae&&Ae.prototype,qe={};X?c&&(Ae=me(function($e,we,ot,H){return w($e,Ae,Ne),ge(D(we)?p(we)?H!==void 0?new Ze(we,R(ot,ke),H):ot!==void 0?new Ze(we,R(ot,ke)):new Ze(we):$(we)?h(Ae,we):z.call(Ae,we):new Ze(C(we)),$e,Ae)}),L&&L(Ae,B),le(W(Ze),function($e){$e in Ae||S(Ae,$e,Ze[$e])}),Ae.prototype=Re):(Ae=me(function($e,we,ot,H){w($e,Ae,Ne);var Q,q,K,he=0,je=0;if(D(we)){if(!p(we))return $(we)?h(Ae,we):z.call(Ae,we);Q=we,je=R(ot,ke);var De=we.byteLength;if(H===void 0){if(De%ke||(q=De-je)<0)throw Te(ie)}else if(De<(q=j(H)*ke)+je)throw Te(ie);K=q/ke}else K=C(we),Q=new O(q=K*ke);for(Ce($e,{buffer:Q,byteOffset:je,byteLength:q,length:K,view:new V(Q)});he<K;)fe($e,he++)}),L&&L(Ae,B),Re=Ae.prototype=N(U)),Re.constructor!==Ae&&S(Re,"constructor",Ae),ee&&S(Re,ee,Ne),qe[Ne]=Ae,i({global:!0,forced:Ae!=Ze,sham:!X},qe),ne in Ae||S(Ae,ne,ke),ne in Re||S(Re,ne,ke),ue(Ne)}):l.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(e,l,u){var h=e("../internals/global"),n=e("../internals/fails"),p=e("../internals/check-correctness-of-iteration"),f=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,g=h.ArrayBuffer,m=h.Int8Array;l.exports=!f||!n(function(){m(1)})||!n(function(){new m(-1)})||!p(function(i){new m,new m(null),new m(1.5),new m(i)},!0)||n(function(){return new m(new g(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":59}],142:[function(e,l,u){var h=e("../internals/to-object"),n=e("../internals/to-length"),p=e("../internals/get-iterator-method"),f=e("../internals/is-array-iterator-method"),g=e("../internals/function-bind-context"),m=e("../internals/array-buffer-view-core").aTypedArrayConstructor;l.exports=function(i,s,a){var c,d,y,w,_,S,j=h(i),C=arguments.length,R=1<C?s:void 0,P=R!==void 0,I=p(j);if(I!=null&&!f(I))for(S=(_=I.call(j)).next,j=[];!(w=S.call(_)).done;)j.push(w.value);for(P&&2<C&&(R=g(R,a,2)),d=n(j.length),y=new(m(this))(d),c=0;c<d;c++)y[c]=P?R(j[c],c):j[c];return y}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(e,l,u){var h=0,n=Math.random();l.exports=function(p){return"Symbol("+String(p===void 0?"":p)+")_"+(++h+n).toString(36)}},{}],144:[function(e,l,u){var h=e("../internals/native-symbol");l.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(e,l,u){var h=e("../internals/well-known-symbol");u.f=h},{"../internals/well-known-symbol":146}],146:[function(e,l,u){var h=e("../internals/global"),n=e("../internals/shared"),p=e("../internals/has"),f=e("../internals/uid"),g=e("../internals/native-symbol"),m=e("../internals/use-symbol-as-uid"),i=n("wks"),s=h.Symbol,a=m?s:s&&s.withoutSetter||f;l.exports=function(c){return p(i,c)||(g&&p(s,c)?i[c]=s[c]:i[c]=a("Symbol."+c)),i[c]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(e,l,u){l.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],148:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/global"),p=e("../internals/array-buffer"),f=e("../internals/set-species"),g="ArrayBuffer",m=p[g];h({global:!0,forced:n[g]!==m},{ArrayBuffer:m}),f(g)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":59,"../internals/set-species":116}],149:[function(e,l,u){function h(R){if(!g(R))return!1;var P=R[w];return P!==void 0?!!P:f(R)}var n=e("../internals/export"),p=e("../internals/fails"),f=e("../internals/is-array"),g=e("../internals/is-object"),m=e("../internals/to-object"),i=e("../internals/to-length"),s=e("../internals/create-property"),a=e("../internals/array-species-create"),c=e("../internals/array-method-has-species-support"),d=e("../internals/well-known-symbol"),y=e("../internals/engine-v8-version"),w=d("isConcatSpreadable"),_=9007199254740991,S="Maximum allowed index exceeded",j=51<=y||!p(function(){var R=[];return R[w]=!1,R.concat()[0]!==R}),C=c("concat");n({target:"Array",proto:!0,forced:!j||!C},{concat:function(R){var P,I,A,D,N,L=m(this),W=a(L,0),z=0;for(P=-1,A=arguments.length;P<A;P++)if(h(N=P===-1?L:arguments[P])){if(D=i(N.length),_<z+D)throw TypeError(S);for(I=0;I<D;I++,z++)I in N&&s(W,z,N[I])}else{if(_<=z)throw TypeError(S);s(W,z++,N)}return W.length=z,W}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/array-iteration").every,p=e("../internals/array-method-is-strict"),f=e("../internals/array-method-uses-to-length"),g=p("every"),m=f("every");h({target:"Array",proto:!0,forced:!g||!m},{every:function(i,s){return n(this,i,1<arguments.length?s:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],151:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/array-fill"),p=e("../internals/add-to-unscopables");h({target:"Array",proto:!0},{fill:n}),p("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],152:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/array-iteration").filter,p=e("../internals/array-method-has-species-support"),f=e("../internals/array-method-uses-to-length"),g=p("filter"),m=f("filter");h({target:"Array",proto:!0,forced:!g||!m},{filter:function(i,s){return n(this,i,1<arguments.length?s:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],153:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/flatten-into-array"),p=e("../internals/to-object"),f=e("../internals/to-length"),g=e("../internals/a-function"),m=e("../internals/array-species-create");h({target:"Array",proto:!0},{flatMap:function(i,s){var a,c=p(this),d=f(c.length);return g(i),(a=m(c,0)).length=n(a,c,c,d,0,1,i,1<arguments.length?s:void 0),a}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":49,"../internals/flatten-into-array":52,"../internals/to-length":134,"../internals/to-object":135}],154:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/array-for-each");h({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},{"../internals/array-for-each":16,"../internals/export":49}],155:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/array-from");h({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(p){Array.from(p)})},{from:n})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],156:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/array-includes").includes,p=e("../internals/add-to-unscopables");h({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(f,g){return n(this,f,1<arguments.length?g:void 0)}}),p("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],157:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/array-includes").indexOf,p=e("../internals/array-method-is-strict"),f=e("../internals/array-method-uses-to-length"),g=[].indexOf,m=!!g&&1/[1].indexOf(1,-0)<0,i=p("indexOf"),s=f("indexOf",{ACCESSORS:!0,1:0});h({target:"Array",proto:!0,forced:m||!i||!s},{indexOf:function(a,c){return m?g.apply(this,arguments)||0:n(this,a,1<arguments.length?c:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],158:[function(e,l,u){var h=e("../internals/to-indexed-object"),n=e("../internals/add-to-unscopables"),p=e("../internals/iterators"),f=e("../internals/internal-state"),g=e("../internals/define-iterator"),m="Array Iterator",i=f.set,s=f.getterFor(m);l.exports=g(Array,"Array",function(a,c){i(this,{type:m,target:h(a),index:0,kind:c})},function(){var a=s(this),c=a.target,d=a.kind,y=a.index++;return!c||y>=c.length?{value:a.target=void 0,done:!0}:d=="keys"?{value:y,done:!1}:d=="values"?{value:c[y],done:!1}:{value:[y,c[y]],done:!1}},"values"),p.Arguments=p.Array,n("keys"),n("values"),n("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/indexed-object"),p=e("../internals/to-indexed-object"),f=e("../internals/array-method-is-strict"),g=[].join,m=n!=Object,i=f("join",",");h({target:"Array",proto:!0,forced:m||!i},{join:function(s){return g.call(p(this),s===void 0?",":s)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/array-last-index-of");h({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},{"../internals/array-last-index-of":20,"../internals/export":49}],161:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/array-iteration").map,p=e("../internals/array-method-has-species-support"),f=e("../internals/array-method-uses-to-length"),g=p("map"),m=f("map");h({target:"Array",proto:!0,forced:!g||!m},{map:function(i,s){return n(this,i,1<arguments.length?s:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/is-object"),p=e("../internals/is-array"),f=e("../internals/to-absolute-index"),g=e("../internals/to-length"),m=e("../internals/to-indexed-object"),i=e("../internals/create-property"),s=e("../internals/well-known-symbol"),a=e("../internals/array-method-has-species-support"),c=e("../internals/array-method-uses-to-length"),d=a("slice"),y=c("slice",{ACCESSORS:!0,0:0,1:2}),w=s("species"),_=[].slice,S=Math.max;h({target:"Array",proto:!0,forced:!d||!y},{slice:function(j,C){var R,P,I,A=m(this),D=g(A.length),N=f(j,D),L=f(C===void 0?D:C,D);if(p(A)&&(typeof(R=A.constructor)!="function"||R!==Array&&!p(R.prototype)?n(R)&&(R=R[w])===null&&(R=void 0):R=void 0,R===Array||R===void 0))return _.call(A,N,L);for(P=new(R===void 0?Array:R)(S(L-N,0)),I=0;N<L;N++,I++)N in A&&i(P,I,A[N]);return P.length=I,P}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/array-iteration").some,p=e("../internals/array-method-is-strict"),f=e("../internals/array-method-uses-to-length"),g=p("some"),m=f("some");h({target:"Array",proto:!0,forced:!g||!m},{some:function(i,s){return n(this,i,1<arguments.length?s:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],164:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/to-absolute-index"),p=e("../internals/to-integer"),f=e("../internals/to-length"),g=e("../internals/to-object"),m=e("../internals/array-species-create"),i=e("../internals/create-property"),s=e("../internals/array-method-has-species-support"),a=e("../internals/array-method-uses-to-length"),c=s("splice"),d=a("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,w=Math.min;h({target:"Array",proto:!0,forced:!c||!d},{splice:function(_,S){var j,C,R,P,I,A,D=g(this),N=f(D.length),L=n(_,N),W=arguments.length;if(W===0?j=C=0:C=W===1?(j=0,N-L):(j=W-2,w(y(p(S),0),N-L)),9007199254740991<N+j-C)throw TypeError("Maximum allowed length exceeded");for(R=m(D,C),P=0;P<C;P++)(I=L+P)in D&&i(R,P,D[I]);if(j<(R.length=C)){for(P=L;P<N-C;P++)A=P+j,(I=P+C)in D?D[A]=D[I]:delete D[A];for(P=N;N-C+j<P;P--)delete D[P-1]}else if(C<j)for(P=N-C;L<P;P--)A=P+j-1,(I=P+C-1)in D?D[A]=D[I]:delete D[A];for(P=0;P<j;P++)D[P+L]=arguments[P+2];return D.length=N-C+j,R}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(e,l,u){e("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],166:[function(e,l,u){var h=e("../internals/descriptors"),n=e("../internals/object-define-property").f,p=Function.prototype,f=p.toString,g=/^\s*function ([^ (]*)/;!h||"name"in p||n(p,"name",{configurable:!0,get:function(){try{return f.call(this).match(g)[1]}catch{return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":92}],167:[function(e,l,u){var h=e("../internals/collection"),n=e("../internals/collection-strong");l.exports=h("Map",function(p){return function(f){return p(this,arguments.length?f:void 0)}},n)},{"../internals/collection":31,"../internals/collection-strong":30}],168:[function(e,l,u){var h=e("../internals/export"),n=Math.hypot,p=Math.abs,f=Math.sqrt;h({target:"Math",stat:!0,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(g,m){for(var i,s,a=0,c=0,d=arguments.length,y=0;c<d;)y<(i=p(arguments[c++]))?(a=a*(s=y/i)*s+1,y=i):a+=0<i?(s=i/y)*s:i;return y===1/0?1/0:y*f(a)}})},{"../internals/export":49}],169:[function(e,l,u){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":80}],170:[function(e,l,u){function h(L){var W,z,le,ue,J,ce,se,ge,_e=a(L,!1);if(typeof _e=="string"&&2<_e.length){if((W=(_e=S(_e)).charCodeAt(0))===43||W===45){if((z=_e.charCodeAt(2))===88||z===120)return NaN}else if(W===48){switch(_e.charCodeAt(1)){case 66:case 98:le=2,ue=49;break;case 79:case 111:le=8,ue=55;break;default:return+_e}for(ce=(J=_e.slice(2)).length,se=0;se<ce;se++)if((ge=J.charCodeAt(se))<48||ue<ge)return NaN;return parseInt(J,le)}}return+_e}var n=e("../internals/descriptors"),p=e("../internals/global"),f=e("../internals/is-forced"),g=e("../internals/redefine"),m=e("../internals/has"),i=e("../internals/classof-raw"),s=e("../internals/inherit-if-required"),a=e("../internals/to-primitive"),c=e("../internals/fails"),d=e("../internals/object-create"),y=e("../internals/object-get-own-property-names").f,w=e("../internals/object-get-own-property-descriptor").f,_=e("../internals/object-define-property").f,S=e("../internals/string-trim").trim,j="Number",C=p[j],R=C.prototype,P=i(d(R))==j;if(f(j,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var I,A=function(L){var W=arguments.length<1?0:L,z=this;return z instanceof A&&(P?c(function(){R.valueOf.call(z)}):i(z)!=j)?s(new C(h(W)),z,A):h(W)},D=n?y(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;D.length>N;N++)m(C,I=D[N])&&!m(A,I)&&_(A,I,w(C,I));(A.prototype=R).constructor=A,g(p,j,A)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],171:[function(e,l,u){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":88}],172:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/to-integer"),p=e("../internals/this-number-value"),f=e("../internals/string-repeat"),g=e("../internals/fails"),m=1 .toFixed,i=Math.floor,s=function(a,c,d){return c===0?d:c%2==1?s(a,c-1,d*a):s(a*a,c/2,d)};h({target:"Number",proto:!0,forced:m&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!g(function(){m.call({})})},{toFixed:function(a){function c(D,N){for(var L=-1,W=N;++L<6;)W+=D*P[L],P[L]=W%1e7,W=i(W/1e7)}function d(D){for(var N=6,L=0;0<=--N;)L+=P[N],P[N]=i(L/D),L=L%D*1e7}function y(){for(var D=6,N="";0<=--D;)if(N!==""||D===0||P[D]!==0){var L=String(P[D]);N=N===""?L:N+f.call("0",7-L.length)+L}return N}var w,_,S,j,C=p(this),R=n(a),P=[0,0,0,0,0,0],I="",A="0";if(R<0||20<R)throw RangeError("Incorrect fraction digits");if(C!=C)return"NaN";if(C<=-1e21||1e21<=C)return String(C);if(C<0&&(I="-",C=-C),1e-21<C)if(_=(w=function(D){for(var N=0,L=D;4096<=L;)N+=12,L/=4096;for(;2<=L;)N+=1,L/=2;return N}(C*s(2,69,1))-69)<0?C*s(2,-w,1):C/s(2,w,1),_*=4503599627370496,0<(w=52-w)){for(c(0,_),S=R;7<=S;)c(1e7,0),S-=7;for(c(s(10,S,1),0),S=w-1;23<=S;)d(1<<23),S-=23;d(1<<S),c(1,1),d(2),A=y()}else c(0,_),c(1<<-w,0),A=y()+f.call("0",R);return A=0<R?I+((j=A.length)<=R?"0."+f.call("0",R-j)+A:A.slice(0,j-R)+"."+A.slice(j-R)):I+A}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],173:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/object-assign");h({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},{"../internals/export":49,"../internals/object-assign":89}],174:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/fails"),p=e("../internals/object-get-own-property-names-external").f;h({target:"Object",stat:!0,forced:n(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:p})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":94}],175:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/fails"),p=e("../internals/to-object"),f=e("../internals/object-get-prototype-of"),g=e("../internals/correct-prototype-getter");h({target:"Object",stat:!0,forced:n(function(){f(1)}),sham:!g},{getPrototypeOf:function(m){return f(p(m))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/to-object"),p=e("../internals/object-keys");h({target:"Object",stat:!0,forced:e("../internals/fails")(function(){p(1)})},{keys:function(f){return p(n(f))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(e,l,u){var h=e("../internals/to-string-tag-support"),n=e("../internals/redefine"),p=e("../internals/object-to-string");h||n(Object.prototype,"toString",p,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(e,l,u){function h(Ae){var Re;return!(!P(Ae)||typeof(Re=Ae.then)!="function")&&Re}function n(Ae,Re,qe){if(!Re.notified){Re.notified=!0;var $e=Re.reactions;ue(function(){for(var we=Re.value,ot=Re.state==1,H=0;$e.length>H;){var Q,q,K,he=$e[H++],je=ot?he.ok:he.fail,De=he.resolve,We=he.reject,xe=he.domain;try{je?(ot||(Re.rejection===2&&Le(Ae,Re),Re.rejection=1),je===!0?Q=we:(xe&&xe.enter(),Q=je(we),xe&&(xe.exit(),K=!0)),Q===he.promise?We(B("Promise-chain cycle")):(q=h(Q))?q.call(Q,De,We):De(Q)):We(we)}catch(Qe){xe&&!K&&xe.exit(),We(Qe)}}Re.reactions=[],Re.notified=!1,qe&&!Re.rejection&&Ne(Ae,Re)})}}function p(Ae,Re,qe){var $e,we;me?(($e=U.createEvent("Event")).promise=Re,$e.reason=qe,$e.initEvent(Ae,!1,!0),y.dispatchEvent($e)):$e={promise:Re,reason:qe},(we=y["on"+Ae])?we($e):Ae===ye&&ce("Unhandled promise rejection",qe)}function f(Ae,Re,qe,$e){return function(we){Ae(Re,qe,we,$e)}}function g(Ae,Re,qe,$e){Re.done||(Re.done=!0,$e&&(Re=$e),Re.value=qe,Re.state=2,n(Ae,Re,!0))}var m,i,s,a,c=e("../internals/export"),d=e("../internals/is-pure"),y=e("../internals/global"),w=e("../internals/get-built-in"),_=e("../internals/native-promise-constructor"),S=e("../internals/redefine"),j=e("../internals/redefine-all"),C=e("../internals/set-to-string-tag"),R=e("../internals/set-species"),P=e("../internals/is-object"),I=e("../internals/a-function"),A=e("../internals/an-instance"),D=e("../internals/classof-raw"),N=e("../internals/inspect-source"),L=e("../internals/iterate"),W=e("../internals/check-correctness-of-iteration"),z=e("../internals/species-constructor"),le=e("../internals/task").set,ue=e("../internals/microtask"),J=e("../internals/promise-resolve"),ce=e("../internals/host-report-errors"),se=e("../internals/new-promise-capability"),ge=e("../internals/perform"),_e=e("../internals/internal-state"),Ce=e("../internals/is-forced"),be=e("../internals/well-known-symbol"),Ie=e("../internals/engine-v8-version"),Se=be("species"),Te="Promise",O=_e.get,V=_e.set,X=_e.getterFor(Te),ee=_,B=y.TypeError,U=y.document,re=y.process,$=w("fetch"),ne=se.f,ie=ne,oe=D(re)=="process",me=!!(U&&U.createEvent&&y.dispatchEvent),ye="unhandledrejection",fe=Ce(Te,function(){if(N(ee)===String(ee)&&(Ie===66||!oe&&typeof PromiseRejectionEvent!="function")||d&&!ee.prototype.finally)return!0;if(51<=Ie&&/native code/.test(ee))return!1;function Ae(qe){qe(function(){},function(){})}var Re=ee.resolve(1);return(Re.constructor={})[Se]=Ae,!(Re.then(function(){})instanceof Ae)}),ke=fe||!W(function(Ae){ee.all(Ae).catch(function(){})}),Ne=function(Ae,Re){le.call(y,function(){var qe,$e=Re.value;if(Ue(Re)&&(qe=ge(function(){oe?re.emit("unhandledRejection",$e,Ae):p(ye,Ae,$e)}),Re.rejection=oe||Ue(Re)?2:1,qe.error))throw qe.value})},Ue=function(Ae){return Ae.rejection!==1&&!Ae.parent},Le=function(Ae,Re){le.call(y,function(){oe?re.emit("rejectionHandled",Ae):p("rejectionhandled",Ae,Re.value)})},Ze=function(Ae,Re,qe,$e){if(!Re.done){Re.done=!0,$e&&(Re=$e);try{if(Ae===qe)throw B("Promise can't be resolved itself");var we=h(qe);we?ue(function(){var ot={done:!1};try{we.call(qe,f(Ze,Ae,ot,Re),f(g,Ae,ot,Re))}catch(H){g(Ae,ot,H,Re)}}):(Re.value=qe,Re.state=1,n(Ae,Re,!1))}catch(ot){g(Ae,{done:!1},ot,Re)}}};fe&&(ee=function(Ae){A(this,ee,Te),I(Ae),m.call(this);var Re=O(this);try{Ae(f(Ze,this,Re),f(g,this,Re))}catch(qe){g(this,Re,qe)}},(m=function(){V(this,{type:Te,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=j(ee.prototype,{then:function(Ae,Re){var qe=X(this),$e=ne(z(this,ee));return $e.ok=typeof Ae!="function"||Ae,$e.fail=typeof Re=="function"&&Re,$e.domain=oe?re.domain:void 0,qe.parent=!0,qe.reactions.push($e),qe.state!=0&&n(this,qe,!1),$e.promise},catch:function(Ae){return this.then(void 0,Ae)}}),i=function(){var Ae=new m,Re=O(Ae);this.promise=Ae,this.resolve=f(Ze,Ae,Re),this.reject=f(g,Ae,Re)},se.f=ne=function(Ae){return Ae===ee||Ae===s?new i(Ae):ie(Ae)},d||typeof _!="function"||(a=_.prototype.then,S(_.prototype,"then",function(Ae,Re){var qe=this;return new ee(function($e,we){a.call(qe,$e,we)}).then(Ae,Re)},{unsafe:!0}),typeof $=="function"&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(Ae){return J(ee,$.apply(y,arguments))}}))),c({global:!0,wrap:!0,forced:fe},{Promise:ee}),C(ee,Te,!1,!0),R(Te),s=w(Te),c({target:Te,stat:!0,forced:fe},{reject:function(Ae){var Re=ne(this);return Re.reject.call(void 0,Ae),Re.promise}}),c({target:Te,stat:!0,forced:d||fe},{resolve:function(Ae){return J(d&&this===s?ee:this,Ae)}}),c({target:Te,stat:!0,forced:ke},{all:function(Ae){var Re=this,qe=ne(Re),$e=qe.resolve,we=qe.reject,ot=ge(function(){var H=I(Re.resolve),Q=[],q=0,K=1;L(Ae,function(he){var je=q++,De=!1;Q.push(void 0),K++,H.call(Re,he).then(function(We){De||(De=!0,Q[je]=We,--K||$e(Q))},we)}),--K||$e(Q)});return ot.error&&we(ot.value),qe.promise},race:function(Ae){var Re=this,qe=ne(Re),$e=qe.reject,we=ge(function(){var ot=I(Re.resolve);L(Ae,function(H){ot.call(Re,H).then(qe.resolve,$e)})});return we.error&&$e(we.value),qe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/get-built-in"),p=e("../internals/a-function"),f=e("../internals/an-object"),g=e("../internals/is-object"),m=e("../internals/object-create"),i=e("../internals/function-bind"),s=e("../internals/fails"),a=n("Reflect","construct"),c=s(function(){function w(){}return!(a(function(){},[],w)instanceof w)}),d=!s(function(){a(function(){})}),y=c||d;h({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(w,_,S){p(w),f(_);var j=arguments.length<3?w:p(S);if(d&&!c)return a(w,_,j);if(w==j){switch(_.length){case 0:return new w;case 1:return new w(_[0]);case 2:return new w(_[0],_[1]);case 3:return new w(_[0],_[1],_[2]);case 4:return new w(_[0],_[1],_[2],_[3])}var C=[null];return C.push.apply(C,_),new(i.apply(w,C))}var R=j.prototype,P=m(g(R)?R:Object.prototype),I=Function.apply.call(w,P,_);return g(I)?I:P}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(e,l,u){var h=e("../internals/descriptors"),n=e("../internals/global"),p=e("../internals/is-forced"),f=e("../internals/inherit-if-required"),g=e("../internals/object-define-property").f,m=e("../internals/object-get-own-property-names").f,i=e("../internals/is-regexp"),s=e("../internals/regexp-flags"),a=e("../internals/regexp-sticky-helpers"),c=e("../internals/redefine"),d=e("../internals/fails"),y=e("../internals/internal-state").set,w=e("../internals/set-species"),_=e("../internals/well-known-symbol")("match"),S=n.RegExp,j=S.prototype,C=/a/g,R=/a/g,P=new S(C)!==C,I=a.UNSUPPORTED_Y;if(h&&p("RegExp",!P||I||d(function(){return R[_]=!1,S(C)!=C||S(R)==R||S(C,"i")!="/a/i"}))){let W=function(z){z in A||g(A,z,{configurable:!0,get:function(){return S[z]},set:function(le){S[z]=le}})};for(var L=W,A=function(z,le){var ue,J=this instanceof A,ce=i(z),se=le===void 0;if(!J&&ce&&z.constructor===A&&se)return z;P?ce&&!se&&(z=z.source):z instanceof A&&(se&&(le=s.call(z)),z=z.source),I&&(ue=!!le&&-1<le.indexOf("y"))&&(le=le.replace(/y/g,""));var ge=f(P?new S(z,le):S(z,le),J?this:j,A);return I&&ue&&y(ge,{sticky:ue}),ge},D=m(S),N=0;D.length>N;)W(D[N++]);(j.constructor=A).prototype=j,c(n,"RegExp",A)}w("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/regexp-exec");h({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},{"../internals/export":49,"../internals/regexp-exec":110}],182:[function(e,l,u){var h=e("../internals/redefine"),n=e("../internals/an-object"),p=e("../internals/fails"),f=e("../internals/regexp-flags"),g="toString",m=RegExp.prototype,i=m[g],s=p(function(){return i.call({source:"a",flags:"b"})!="/a/b"}),a=i.name!=g;(s||a)&&h(RegExp.prototype,g,function(){var c=n(this),d=String(c.source),y=c.flags;return"/"+d+"/"+String(y===void 0&&c instanceof RegExp&&!("flags"in m)?f.call(c):y)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(e,l,u){var h=e("../internals/collection"),n=e("../internals/collection-strong");l.exports=h("Set",function(p){return function(f){return p(this,arguments.length?f:void 0)}},n)},{"../internals/collection":31,"../internals/collection-strong":30}],184:[function(e,l,u){var h,n=e("../internals/export"),p=e("../internals/object-get-own-property-descriptor").f,f=e("../internals/to-length"),g=e("../internals/not-a-regexp"),m=e("../internals/require-object-coercible"),i=e("../internals/correct-is-regexp-logic"),s=e("../internals/is-pure"),a="".endsWith,c=Math.min,d=i("endsWith");n({target:"String",proto:!0,forced:!!(s||d||!(h=p(String.prototype,"endsWith"))||h.writable)&&!d},{endsWith:function(y,w){var _=String(m(this));g(y);var S=1<arguments.length?w:void 0,j=f(_.length),C=S===void 0?j:c(f(S),j),R=String(y);return a?a.call(_,R,C):_.slice(C-R.length,C)===R}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/not-a-regexp"),p=e("../internals/require-object-coercible");h({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(f,g){return!!~String(p(this)).indexOf(n(f),1<arguments.length?g:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(e,l,u){var h=e("../internals/string-multibyte").charAt,n=e("../internals/internal-state"),p=e("../internals/define-iterator"),f="String Iterator",g=n.set,m=n.getterFor(f);p(String,"String",function(i){g(this,{type:f,string:String(i),index:0})},function(){var i,s=m(this),a=s.string,c=s.index;return c>=a.length?{value:void 0,done:!0}:(i=h(a,c),s.index+=i.length,{value:i,done:!1})})},{"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(e,l,u){var h=e("../internals/fix-regexp-well-known-symbol-logic"),n=e("../internals/an-object"),p=e("../internals/to-length"),f=e("../internals/require-object-coercible"),g=e("../internals/advance-string-index"),m=e("../internals/regexp-exec-abstract");h("match",1,function(i,s,a){return[function(c){var d=f(this),y=c==null?void 0:c[i];return y!==void 0?y.call(c,d):new RegExp(c)[i](String(d))},function(c){var d=a(s,c,this);if(d.done)return d.value;var y=n(c),w=String(this);if(!y.global)return m(y,w);for(var _,S=y.unicode,j=[],C=y.lastIndex=0;(_=m(y,w))!==null;){var R=String(_[0]);(j[C]=R)===""&&(y.lastIndex=g(w,p(y.lastIndex),S)),C++}return C===0?null:j}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(e,l,u){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":125}],189:[function(e,l,u){var h=e("../internals/fix-regexp-well-known-symbol-logic"),n=e("../internals/an-object"),p=e("../internals/to-object"),f=e("../internals/to-length"),g=e("../internals/to-integer"),m=e("../internals/require-object-coercible"),i=e("../internals/advance-string-index"),s=e("../internals/regexp-exec-abstract"),a=Math.max,c=Math.min,d=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,w=/\$([$&'`]|\d\d?)/g;h("replace",2,function(_,S,j,C){var R=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,P=C.REPLACE_KEEPS_$0,I=R?"$":"$0";return[function(D,N){var L=m(this),W=D==null?void 0:D[_];return W!==void 0?W.call(D,L,N):S.call(String(L),D,N)},function(D,N){if(!R&&P||typeof N=="string"&&N.indexOf(I)===-1){var L=j(S,D,this,N);if(L.done)return L.value}var W=n(D),z=String(this),le=typeof N=="function";le||(N=String(N));var ue=W.global;if(ue){var J=W.unicode;W.lastIndex=0}for(var ce=[];;){var se=s(W,z);if(se===null||(ce.push(se),!ue))break;String(se[0])===""&&(W.lastIndex=i(z,f(W.lastIndex),J))}for(var ge,_e="",Ce=0,be=0;be<ce.length;be++){se=ce[be];for(var Ie=String(se[0]),Se=a(c(g(se.index),z.length),0),Te=[],O=1;O<se.length;O++)Te.push((ge=se[O])===void 0?ge:String(ge));var V=se.groups;if(le){var X=[Ie].concat(Te,Se,z);V!==void 0&&X.push(V);var ee=String(N.apply(void 0,X))}else ee=A(Ie,z,Se,Te,V,N);Ce<=Se&&(_e+=z.slice(Ce,Se)+ee,Ce=Se+Ie.length)}return _e+z.slice(Ce)}];function A(D,N,L,W,z,le){var ue=L+D.length,J=W.length,ce=w;return z!==void 0&&(z=p(z),ce=y),S.call(le,ce,function(se,ge){var _e;switch(ge.charAt(0)){case"$":return"$";case"&":return D;case"`":return N.slice(0,L);case"'":return N.slice(ue);case"<":_e=z[ge.slice(1,-1)];break;default:var Ce=+ge;if(Ce==0)return se;if(J<Ce){var be=d(Ce/10);return be===0?se:be<=J?W[be-1]===void 0?ge.charAt(1):W[be-1]+ge.charAt(1):se}_e=W[Ce-1]}return _e===void 0?"":_e})}})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(e,l,u){var h=e("../internals/fix-regexp-well-known-symbol-logic"),n=e("../internals/an-object"),p=e("../internals/require-object-coercible"),f=e("../internals/same-value"),g=e("../internals/regexp-exec-abstract");h("search",1,function(m,i,s){return[function(a){var c=p(this),d=a==null?void 0:a[m];return d!==void 0?d.call(a,c):new RegExp(a)[m](String(c))},function(a){var c=s(i,a,this);if(c.done)return c.value;var d=n(a),y=String(this),w=d.lastIndex;f(w,0)||(d.lastIndex=0);var _=g(d,y);return f(d.lastIndex,w)||(d.lastIndex=w),_===null?-1:_.index}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(e,l,u){var h=e("../internals/fix-regexp-well-known-symbol-logic"),n=e("../internals/is-regexp"),p=e("../internals/an-object"),f=e("../internals/require-object-coercible"),g=e("../internals/species-constructor"),m=e("../internals/advance-string-index"),i=e("../internals/to-length"),s=e("../internals/regexp-exec-abstract"),a=e("../internals/regexp-exec"),c=e("../internals/fails"),d=[].push,y=Math.min,w=4294967295,_=!c(function(){return!RegExp(w,"y")});h("split",2,function(S,j,C){var R;return R="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(P,I){var A=String(f(this)),D=I===void 0?w:I>>>0;if(D==0)return[];if(P===void 0)return[A];if(!n(P))return j.call(A,P,D);for(var N,L,W,z=[],le=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(P.sticky?"y":""),ue=0,J=new RegExp(P.source,le+"g");(N=a.call(J,A))&&!(ue<(L=J.lastIndex)&&(z.push(A.slice(ue,N.index)),1<N.length&&N.index<A.length&&d.apply(z,N.slice(1)),W=N[0].length,ue=L,z.length>=D));)J.lastIndex===N.index&&J.lastIndex++;return ue===A.length?!W&&J.test("")||z.push(""):z.push(A.slice(ue)),z.length>D?z.slice(0,D):z}:"0".split(void 0,0).length?function(P,I){return P===void 0&&I===0?[]:j.call(this,P,I)}:j,[function(P,I){var A=f(this),D=P==null?void 0:P[S];return D!==void 0?D.call(P,A,I):R.call(String(A),P,I)},function(P,I){var A=C(R,P,this,I,R!==j);if(A.done)return A.value;var D=p(P),N=String(this),L=g(D,RegExp),W=D.unicode,z=(D.ignoreCase?"i":"")+(D.multiline?"m":"")+(D.unicode?"u":"")+(_?"y":"g"),le=new L(_?D:"^(?:"+D.source+")",z),ue=I===void 0?w:I>>>0;if(ue==0)return[];if(N.length===0)return s(le,N)===null?[N]:[];for(var J=0,ce=0,se=[];ce<N.length;){le.lastIndex=_?ce:0;var ge,_e=s(le,_?N:N.slice(ce));if(_e===null||(ge=y(i(le.lastIndex+(_?0:ce)),N.length))===J)ce=m(N,ce,W);else{if(se.push(N.slice(J,ce)),se.length===ue)return se;for(var Ce=1;Ce<=_e.length-1;Ce++)if(se.push(_e[Ce]),se.length===ue)return se;ce=J=ge}}return se.push(N.slice(J)),se}]},!_)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/create-html");h({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return n(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":122}],193:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/string-trim").trim;h({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return n(this)}})},{"../internals/export":49,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(e,l,u){var h=e("../internals/export"),n=e("../internals/descriptors"),p=e("../internals/global"),f=e("../internals/has"),g=e("../internals/is-object"),m=e("../internals/object-define-property").f,i=e("../internals/copy-constructor-properties"),s=p.Symbol;if(n&&typeof s=="function"&&(!("description"in s.prototype)||s().description!==void 0)){var a={},c=function(S){var j=arguments.length<1||S===void 0?void 0:String(S),C=this instanceof c?new s(j):j===void 0?s():s(j);return j===""&&(a[C]=!0),C};i(c,s);var d=c.prototype=s.prototype;d.constructor=c;var y=d.toString,w=String(s("test"))=="Symbol(test)",_=/^Symbol\((.*)\)[^)]+$/;m(d,"description",{configurable:!0,get:function(){var S=g(this)?this.valueOf():this,j=y.call(S);if(f(a,S))return"";var C=w?j.slice(7,-1):j.replace(_,"$1");return C===""?void 0:C}}),h({global:!0,forced:!0},{Symbol:c})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(e,l,u){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],196:[function(e,l,u){function h(q,K){var he=Ne[q]=A(ie[B]);return re(he,{type:ee,tag:q,description:K}),a||(he.description=K),he}function n(q,K){j(q);var he=R(K),je=D(he).concat(Q(he));return V(je,function(De){a&&!H.call(he,De)||ot(q,De,he[De])}),q}function p(q,K){var he=R(q),je=P(K,!0);if(he!==ne||!w(Ne,je)||w(Ue,je)){var De=me(he,je);return!De||!w(Ne,je)||w(he,X)&&he[X][je]||(De.enumerable=!0),De}}function f(q){var K=fe(R(q)),he=[];return V(K,function(je){w(Ne,je)||w(_e,je)||he.push(je)}),he}var g=e("../internals/export"),m=e("../internals/global"),i=e("../internals/get-built-in"),s=e("../internals/is-pure"),a=e("../internals/descriptors"),c=e("../internals/native-symbol"),d=e("../internals/use-symbol-as-uid"),y=e("../internals/fails"),w=e("../internals/has"),_=e("../internals/is-array"),S=e("../internals/is-object"),j=e("../internals/an-object"),C=e("../internals/to-object"),R=e("../internals/to-indexed-object"),P=e("../internals/to-primitive"),I=e("../internals/create-property-descriptor"),A=e("../internals/object-create"),D=e("../internals/object-keys"),N=e("../internals/object-get-own-property-names"),L=e("../internals/object-get-own-property-names-external"),W=e("../internals/object-get-own-property-symbols"),z=e("../internals/object-get-own-property-descriptor"),le=e("../internals/object-define-property"),ue=e("../internals/object-property-is-enumerable"),J=e("../internals/create-non-enumerable-property"),ce=e("../internals/redefine"),se=e("../internals/shared"),ge=e("../internals/shared-key"),_e=e("../internals/hidden-keys"),Ce=e("../internals/uid"),be=e("../internals/well-known-symbol"),Ie=e("../internals/well-known-symbol-wrapped"),Se=e("../internals/define-well-known-symbol"),Te=e("../internals/set-to-string-tag"),O=e("../internals/internal-state"),V=e("../internals/array-iteration").forEach,X=ge("hidden"),ee="Symbol",B="prototype",U=be("toPrimitive"),re=O.set,$=O.getterFor(ee),ne=Object[B],ie=m.Symbol,oe=i("JSON","stringify"),me=z.f,ye=le.f,fe=L.f,ke=ue.f,Ne=se("symbols"),Ue=se("op-symbols"),Le=se("string-to-symbol-registry"),Ze=se("symbol-to-string-registry"),Ae=se("wks"),Re=m.QObject,qe=!Re||!Re[B]||!Re[B].findChild,$e=a&&y(function(){return A(ye({},"a",{get:function(){return ye(this,"a",{value:7}).a}})).a!=7})?function(q,K,he){var je=me(ne,K);je&&delete ne[K],ye(q,K,he),je&&q!==ne&&ye(ne,K,je)}:ye,we=d?function(q){return typeof q=="symbol"}:function(q){return Object(q)instanceof ie},ot=function(q,K,he){q===ne&&ot(Ue,K,he),j(q);var je=P(K,!0);return j(he),w(Ne,je)?(he.enumerable?(w(q,X)&&q[X][je]&&(q[X][je]=!1),he=A(he,{enumerable:I(0,!1)})):(w(q,X)||ye(q,X,I(1,{})),q[X][je]=!0),$e(q,je,he)):ye(q,je,he)},H=function(q){var K=P(q,!0),he=ke.call(this,K);return!(this===ne&&w(Ne,K)&&!w(Ue,K))&&(!(he||!w(this,K)||!w(Ne,K)||w(this,X)&&this[X][K])||he)},Q=function(q){var K=q===ne,he=fe(K?Ue:R(q)),je=[];return V(he,function(De){!w(Ne,De)||K&&!w(ne,De)||je.push(Ne[De])}),je};c||(ce((ie=function(q){if(this instanceof ie)throw TypeError("Symbol is not a constructor");var K=arguments.length&&q!==void 0?String(q):void 0,he=Ce(K),je=function(De){this===ne&&je.call(Ue,De),w(this,X)&&w(this[X],he)&&(this[X][he]=!1),$e(this,he,I(1,De))};return a&&qe&&$e(ne,he,{configurable:!0,set:je}),h(he,K)})[B],"toString",function(){return $(this).tag}),ce(ie,"withoutSetter",function(q){return h(Ce(q),q)}),ue.f=H,le.f=ot,z.f=p,N.f=L.f=f,W.f=Q,Ie.f=function(q){return h(be(q),q)},a&&(ye(ie[B],"description",{configurable:!0,get:function(){return $(this).description}}),s||ce(ne,"propertyIsEnumerable",H,{unsafe:!0}))),g({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:ie}),V(D(Ae),function(q){Se(q)}),g({target:ee,stat:!0,forced:!c},{for:function(q){var K=String(q);if(w(Le,K))return Le[K];var he=ie(K);return Le[K]=he,Ze[he]=K,he},keyFor:function(q){if(!we(q))throw TypeError(q+" is not a symbol");if(w(Ze,q))return Ze[q]},useSetter:function(){qe=!0},useSimple:function(){qe=!1}}),g({target:"Object",stat:!0,forced:!c,sham:!a},{create:function(q,K){return K===void 0?A(q):n(A(q),K)},defineProperty:ot,defineProperties:n,getOwnPropertyDescriptor:p}),g({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:f,getOwnPropertySymbols:Q}),g({target:"Object",stat:!0,forced:y(function(){W.f(1)})},{getOwnPropertySymbols:function(q){return W.f(C(q))}}),oe&&g({target:"JSON",stat:!0,forced:!c||y(function(){var q=ie();return oe([q])!="[null]"||oe({a:q})!="{}"||oe(Object(q))!="{}"})},{stringify:function(q,K,he){for(var je,De=[q],We=1;We<arguments.length;)De.push(arguments[We++]);if((S(je=K)||q!==void 0)&&!we(q))return _(K)||(K=function(xe,Qe){if(typeof je=="function"&&(Qe=je.call(this,xe,Qe)),!we(Qe))return Qe}),De[1]=K,oe.apply(null,De)}}),ie[B][U]||J(ie[B],U,ie[B].valueOf),Te(ie,ee),_e[X]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-copy-within"),p=h.aTypedArray;(0,h.exportTypedArrayMethod)("copyWithin",function(f,g,m){return n.call(p(this),f,g,2<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-iteration").every,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("every",function(f,g){return n(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-fill"),p=h.aTypedArray;(0,h.exportTypedArrayMethod)("fill",function(f){return n.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-iteration").filter,p=e("../internals/species-constructor"),f=h.aTypedArray,g=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("filter",function(m,i){for(var s=n(f(this),m,1<arguments.length?i:void 0),a=p(this,this.constructor),c=0,d=s.length,y=new(g(a))(d);c<d;)y[c]=s[c++];return y})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-iteration").findIndex,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("findIndex",function(f,g){return n(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-iteration").find,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("find",function(f,g){return n(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,l,u){e("../internals/typed-array-constructor")("Float32",function(h){return function(n,p,f){return h(this,n,p,f)}})},{"../internals/typed-array-constructor":140}],204:[function(e,l,u){e("../internals/typed-array-constructor")("Float64",function(h){return function(n,p,f){return h(this,n,p,f)}})},{"../internals/typed-array-constructor":140}],205:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-iteration").forEach,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("forEach",function(f,g){n(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-includes").includes,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("includes",function(f,g){return n(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-includes").indexOf,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("indexOf",function(f,g){return n(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(e,l,u){e("../internals/typed-array-constructor")("Int16",function(h){return function(n,p,f){return h(this,n,p,f)}})},{"../internals/typed-array-constructor":140}],209:[function(e,l,u){e("../internals/typed-array-constructor")("Int32",function(h){return function(n,p,f){return h(this,n,p,f)}})},{"../internals/typed-array-constructor":140}],210:[function(e,l,u){function h(){return i.call(c(this))}var n=e("../internals/global"),p=e("../internals/array-buffer-view-core"),f=e("../modules/es.array.iterator"),g=e("../internals/well-known-symbol")("iterator"),m=n.Uint8Array,i=f.values,s=f.keys,a=f.entries,c=p.aTypedArray,d=p.exportTypedArrayMethod,y=m&&m.prototype[g],w=!!y&&(y.name=="values"||y.name==null);d("entries",function(){return a.call(c(this))}),d("keys",function(){return s.call(c(this))}),d("values",h,!w),d(g,h,!w)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=h.aTypedArray,p=h.exportTypedArrayMethod,f=[].join;p("join",function(g){return f.apply(n(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-last-index-of"),p=h.aTypedArray;(0,h.exportTypedArrayMethod)("lastIndexOf",function(f){return n.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-iteration").map,p=e("../internals/species-constructor"),f=h.aTypedArray,g=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("map",function(m,i){return n(f(this),m,1<arguments.length?i:void 0,function(s,a){return new(g(p(s,s.constructor)))(a)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-reduce").right,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduceRight",function(f,g){return n(p(this),f,arguments.length,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-reduce").left,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduce",function(f,g){return n(p(this),f,arguments.length,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=h.aTypedArray,p=h.exportTypedArrayMethod,f=Math.floor;p("reverse",function(){for(var g,m=n(this).length,i=f(m/2),s=0;s<i;)g=this[s],this[s++]=this[--m],this[m]=g;return this})},{"../internals/array-buffer-view-core":12}],217:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/to-length"),p=e("../internals/to-offset"),f=e("../internals/to-object"),g=e("../internals/fails"),m=h.aTypedArray;(0,h.exportTypedArrayMethod)("set",function(i,s){m(this);var a=p(1<arguments.length?s:void 0,1),c=this.length,d=f(i),y=n(d.length),w=0;if(c<y+a)throw RangeError("Wrong length");for(;w<y;)this[a+w]=d[w++]},g(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/species-constructor"),p=e("../internals/fails"),f=h.aTypedArray,g=h.aTypedArrayConstructor,m=h.exportTypedArrayMethod,i=[].slice;m("slice",function(s,a){for(var c=i.call(f(this),s,a),d=n(this,this.constructor),y=0,w=c.length,_=new(g(d))(w);y<w;)_[y]=c[y++];return _},p(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":121}],219:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/array-iteration").some,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("some",function(f,g){return n(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=h.aTypedArray,p=h.exportTypedArrayMethod,f=[].sort;p("sort",function(g){return f.call(n(this),g)})},{"../internals/array-buffer-view-core":12}],221:[function(e,l,u){var h=e("../internals/array-buffer-view-core"),n=e("../internals/to-length"),p=e("../internals/to-absolute-index"),f=e("../internals/species-constructor"),g=h.aTypedArray;(0,h.exportTypedArrayMethod)("subarray",function(m,i){var s=g(this),a=s.length,c=p(m,a);return new(f(s,s.constructor))(s.buffer,s.byteOffset+c*s.BYTES_PER_ELEMENT,n((i===void 0?a:p(i,a))-c))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(e,l,u){var h=e("../internals/global"),n=e("../internals/array-buffer-view-core"),p=e("../internals/fails"),f=h.Int8Array,g=n.aTypedArray,m=n.exportTypedArrayMethod,i=[].toLocaleString,s=[].slice,a=!!f&&p(function(){i.call(new f(1))});m("toLocaleString",function(){return i.apply(a?s.call(g(this)):g(this),arguments)},p(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!p(function(){f.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],223:[function(e,l,u){var h=e("../internals/array-buffer-view-core").exportTypedArrayMethod,n=e("../internals/fails"),p=e("../internals/global").Uint8Array,f=p&&p.prototype||{},g=[].toString,m=[].join;n(function(){g.call({})})&&(g=function(){return m.call(this)}),h("toString",g,f.toString!=g)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],224:[function(e,l,u){e("../internals/typed-array-constructor")("Uint16",function(h){return function(n,p,f){return h(this,n,p,f)}})},{"../internals/typed-array-constructor":140}],225:[function(e,l,u){e("../internals/typed-array-constructor")("Uint32",function(h){return function(n,p,f){return h(this,n,p,f)}})},{"../internals/typed-array-constructor":140}],226:[function(e,l,u){e("../internals/typed-array-constructor")("Uint8",function(h){return function(n,p,f){return h(this,n,p,f)}})},{"../internals/typed-array-constructor":140}],227:[function(e,l,u){e("../internals/typed-array-constructor")("Uint8",function(h){return function(n,p,f){return h(this,n,p,f)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(e,l,u){var h=e("../internals/global"),n=e("../internals/dom-iterables"),p=e("../internals/array-for-each"),f=e("../internals/create-non-enumerable-property");for(var g in n){var m=h[g],i=m&&m.prototype;if(i&&i.forEach!==p)try{f(i,"forEach",p)}catch{i.forEach=p}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59}],229:[function(e,l,u){var h=e("../internals/global"),n=e("../internals/dom-iterables"),p=e("../modules/es.array.iterator"),f=e("../internals/create-non-enumerable-property"),g=e("../internals/well-known-symbol"),m=g("iterator"),i=g("toStringTag"),s=p.values;for(var a in n){var c=h[a],d=c&&c.prototype;if(d){if(d[m]!==s)try{f(d,m,s)}catch{d[m]=s}if(d[i]||f(d,i,a),n[a]){for(var y in p)if(d[y]!==p[y])try{f(d,y,p[y])}catch{d[y]=p[y]}}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],230:[function(e,l,u){e("../modules/es.array.iterator");function h(ee){try{return decodeURIComponent(ee)}catch{return ee}}function n(ee){var B,U=ee.replace(be," "),re=4;try{return decodeURIComponent(U)}catch{for(;re;)U=U.replace((B=re--,Ie[B-1]||(Ie[B-1]=RegExp("((?:%[\\da-f]{2}){"+B+"})","gi"))),h);return U}}function p(ee){return Te[ee]}function f(ee){return encodeURIComponent(ee).replace(Se,p)}function g(ee,B){if(B)for(var U,re,$=B.split("&"),ne=0;ne<$.length;)(U=$[ne++]).length&&(re=U.split("="),ee.push({key:n(re.shift()),value:n(re.join("="))}))}function m(ee){this.entries.length=0,g(this.entries,ee)}function i(ee,B){if(ee<B)throw TypeError("Not enough arguments")}var s=e("../internals/export"),a=e("../internals/get-built-in"),c=e("../internals/native-url"),d=e("../internals/redefine"),y=e("../internals/redefine-all"),w=e("../internals/set-to-string-tag"),_=e("../internals/create-iterator-constructor"),S=e("../internals/internal-state"),j=e("../internals/an-instance"),C=e("../internals/has"),R=e("../internals/function-bind-context"),P=e("../internals/classof"),I=e("../internals/an-object"),A=e("../internals/is-object"),D=e("../internals/object-create"),N=e("../internals/create-property-descriptor"),L=e("../internals/get-iterator"),W=e("../internals/get-iterator-method"),z=e("../internals/well-known-symbol"),le=a("fetch"),ue=a("Headers"),J=z("iterator"),ce="URLSearchParams",se=ce+"Iterator",ge=S.set,_e=S.getterFor(ce),Ce=S.getterFor(se),be=/\+/g,Ie=Array(4),Se=/[!'()~]|%20/g,Te={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},O=_(function(ee,B){ge(this,{type:se,iterator:L(_e(ee).entries),kind:B})},"Iterator",function(){var ee=Ce(this),B=ee.kind,U=ee.iterator.next(),re=U.value;return U.done||(U.value=B==="keys"?re.key:B==="values"?re.value:[re.key,re.value]),U}),V=function(ee){j(this,V,ce);var B,U,re,$,ne,ie,oe,me,ye,fe=0<arguments.length?ee:void 0,ke=[];if(ge(this,{type:ce,entries:ke,updateURL:function(){},updateSearchParams:m}),fe!==void 0)if(A(fe))if(typeof(B=W(fe))=="function")for(re=(U=B.call(fe)).next;!($=re.call(U)).done;){if((oe=(ie=(ne=L(I($.value))).next).call(ne)).done||(me=ie.call(ne)).done||!ie.call(ne).done)throw TypeError("Expected sequence with length 2");ke.push({key:oe.value+"",value:me.value+""})}else for(ye in fe)C(fe,ye)&&ke.push({key:ye,value:fe[ye]+""});else g(ke,typeof fe=="string"?fe.charAt(0)==="?"?fe.slice(1):fe:fe+"")},X=V.prototype;y(X,{append:function(ee,B){i(arguments.length,2);var U=_e(this);U.entries.push({key:ee+"",value:B+""}),U.updateURL()},delete:function(ee){i(arguments.length,1);for(var B=_e(this),U=B.entries,re=ee+"",$=0;$<U.length;)U[$].key===re?U.splice($,1):$++;B.updateURL()},get:function(ee){i(arguments.length,1);for(var B=_e(this).entries,U=ee+"",re=0;re<B.length;re++)if(B[re].key===U)return B[re].value;return null},getAll:function(ee){i(arguments.length,1);for(var B=_e(this).entries,U=ee+"",re=[],$=0;$<B.length;$++)B[$].key===U&&re.push(B[$].value);return re},has:function(ee){i(arguments.length,1);for(var B=_e(this).entries,U=ee+"",re=0;re<B.length;)if(B[re++].key===U)return!0;return!1},set:function(ee,B){i(arguments.length,1);for(var U,re=_e(this),$=re.entries,ne=!1,ie=ee+"",oe=B+"",me=0;me<$.length;me++)(U=$[me]).key===ie&&(ne?$.splice(me--,1):(ne=!0,U.value=oe));ne||$.push({key:ie,value:oe}),re.updateURL()},sort:function(){var ee,B,U,re=_e(this),$=re.entries,ne=$.slice();for(U=$.length=0;U<ne.length;U++){for(ee=ne[U],B=0;B<U;B++)if($[B].key>ee.key){$.splice(B,0,ee);break}B===U&&$.push(ee)}re.updateURL()},forEach:function(ee,B){for(var U,re=_e(this).entries,$=R(ee,1<arguments.length?B:void 0,3),ne=0;ne<re.length;)$((U=re[ne++]).value,U.key,this)},keys:function(){return new O(this,"keys")},values:function(){return new O(this,"values")},entries:function(){return new O(this,"entries")}},{enumerable:!0}),d(X,J,X.entries),d(X,"toString",function(){for(var ee,B=_e(this).entries,U=[],re=0;re<B.length;)ee=B[re++],U.push(f(ee.key)+"="+f(ee.value));return U.join("&")},{enumerable:!0}),w(V,ce),s({global:!0,forced:!c},{URLSearchParams:V}),c||typeof le!="function"||typeof ue!="function"||s({global:!0,enumerable:!0,forced:!0},{fetch:function(ee,B){var U,re,$,ne=[ee];return 1<arguments.length&&(A(U=B)&&(re=U.body,P(re)===ce&&(($=U.headers?new ue(U.headers):new ue).has("content-type")||$.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),U=D(U,{body:N(0,String(re)),headers:N(0,$)}))),ne.push(U)),le.apply(this,ne)}}),l.exports={URLSearchParams:V,getState:_e}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(e,l,u){e("../modules/es.string.iterator");function h(pe,Ge){var Je,Ye,st;if(Ge.charAt(0)=="["){if(Ge.charAt(Ge.length-1)!="]"||!(Je=ie(Ge.slice(1,-1))))return Ce;pe.host=Je}else if(Ue(pe)){if(Ge=D(Ge),B.test(Ge)||(Je=ne(Ge))===null)return Ce;pe.host=Je}else{if(U.test(Ge))return Ce;for(Je="",Ye=I(Ge),st=0;st<Ye.length;st++)Je+=ke(Ye[st],oe);pe.host=Je}}function n(pe){var Ge,Je,Ye,st;if(typeof pe=="number"){for(Ge=[],Je=0;Je<4;Je++)Ge.unshift(pe%256),pe=se(pe/256);return Ge.join(".")}if(typeof pe!="object")return pe;for(Ge="",Ye=function(Ve){for(var Et=null,kt=1,Vt=null,_t=0,rt=0;rt<8;rt++)Ve[rt]!==0?(kt<_t&&(Et=Vt,kt=_t),Vt=null,_t=0):(Vt===null&&(Vt=rt),++_t);return kt<_t&&(Et=Vt,kt=_t),Et}(pe),Je=0;Je<8;Je++)st&&pe[Je]===0||(st=st&&!1,Ye===Je?(Ge+=Je?":":"::",st=!0):(Ge+=pe[Je].toString(16),Je<7&&(Ge+=":")));return"["+Ge+"]"}function p(pe){return pe.username!=""||pe.password!=""}function f(pe){return!pe.host||pe.cannotBeABaseURL||pe.scheme=="file"}function g(pe,Ge){var Je;return pe.length==2&&Ie.test(pe.charAt(0))&&((Je=pe.charAt(1))==":"||!Ge&&Je=="|")}function m(pe){var Ge;return 1<pe.length&&g(pe.slice(0,2))&&(pe.length==2||(Ge=pe.charAt(2))==="/"||Ge==="\\"||Ge==="?"||Ge==="#")}function i(pe){var Ge=pe.path,Je=Ge.length;!Je||pe.scheme=="file"&&Je==1&&g(Ge[0],!0)||Ge.pop()}function s(pe,Ge,Je,Ye){var st,Ve,Et,kt,Vt,_t,rt=Je||Le,Jt=0,ft="",ws=!1,bo=!1,xs=!1;for(Je||(pe.scheme="",pe.username="",pe.password="",pe.host=null,pe.port=null,pe.path=[],pe.query=null,pe.fragment=null,pe.cannotBeABaseURL=!1,Ge=Ge.replace(re,"")),Ge=Ge.replace($,""),st=I(Ge);Jt<=st.length;){switch(Ve=st[Jt],rt){case Le:if(!Ve||!Ie.test(Ve)){if(Je)return _e;rt=Ae;continue}ft+=Ve.toLowerCase(),rt=Ze;break;case Ze:if(Ve&&(Se.test(Ve)||Ve=="+"||Ve=="-"||Ve=="."))ft+=Ve.toLowerCase();else{if(Ve!=":"){if(Je)return _e;ft="",rt=Ae,Jt=0;continue}if(Je&&(Ue(pe)!=R(Ne,ft)||ft=="file"&&(p(pe)||pe.port!==null)||pe.scheme=="file"&&!pe.host))return;if(pe.scheme=ft,Je)return void(Ue(pe)&&Ne[pe.scheme]==pe.port&&(pe.port=null));ft="",pe.scheme=="file"?rt=je:Ue(pe)&&Ye&&Ye.scheme==pe.scheme?rt=Re:Ue(pe)?rt=ot:st[Jt+1]=="/"?(rt=qe,Jt++):(pe.cannotBeABaseURL=!0,pe.path.push(""),rt=ut)}break;case Ae:if(!Ye||Ye.cannotBeABaseURL&&Ve!="#")return _e;if(Ye.cannotBeABaseURL&&Ve=="#"){pe.scheme=Ye.scheme,pe.path=Ye.path.slice(),pe.query=Ye.query,pe.fragment="",pe.cannotBeABaseURL=!0,rt=bt;break}rt=Ye.scheme=="file"?je:$e;continue;case Re:if(Ve!="/"||st[Jt+1]!="/"){rt=$e;continue}rt=H,Jt++;break;case qe:if(Ve=="/"){rt=Q;break}rt=Qe;continue;case $e:if(pe.scheme=Ye.scheme,Ve==c)pe.username=Ye.username,pe.password=Ye.password,pe.host=Ye.host,pe.port=Ye.port,pe.path=Ye.path.slice(),pe.query=Ye.query;else if(Ve=="/"||Ve=="\\"&&Ue(pe))rt=we;else if(Ve=="?")pe.username=Ye.username,pe.password=Ye.password,pe.host=Ye.host,pe.port=Ye.port,pe.path=Ye.path.slice(),pe.query="",rt=mt;else{if(Ve!="#"){pe.username=Ye.username,pe.password=Ye.password,pe.host=Ye.host,pe.port=Ye.port,pe.path=Ye.path.slice(),pe.path.pop(),rt=Qe;continue}pe.username=Ye.username,pe.password=Ye.password,pe.host=Ye.host,pe.port=Ye.port,pe.path=Ye.path.slice(),pe.query=Ye.query,pe.fragment="",rt=bt}break;case we:if(!Ue(pe)||Ve!="/"&&Ve!="\\"){if(Ve!="/"){pe.username=Ye.username,pe.password=Ye.password,pe.host=Ye.host,pe.port=Ye.port,rt=Qe;continue}rt=Q}else rt=H;break;case ot:if(rt=H,Ve!="/"||ft.charAt(Jt+1)!="/")continue;Jt++;break;case H:if(Ve=="/"||Ve=="\\")break;rt=Q;continue;case Q:if(Ve=="@"){ws&&(ft="%40"+ft),ws=!0,Et=I(ft);for(var _s=0;_s<Et.length;_s++){var Ss=Et[_s];if(Ss!=":"||xs){var Vo=ke(Ss,fe);xs?pe.password+=Vo:pe.username+=Vo}else xs=!0}ft=""}else if(Ve==c||Ve=="/"||Ve=="?"||Ve=="#"||Ve=="\\"&&Ue(pe)){if(ws&&ft=="")return"Invalid authority";Jt-=I(ft).length+1,ft="",rt=q}else ft+=Ve;break;case q:case K:if(Je&&pe.scheme=="file"){rt=We;continue}if(Ve!=":"||bo){if(Ve==c||Ve=="/"||Ve=="?"||Ve=="#"||Ve=="\\"&&Ue(pe)){if(Ue(pe)&&ft=="")return Ce;if(Je&&ft==""&&(p(pe)||pe.port!==null))return;if(kt=h(pe,ft))return kt;if(ft="",rt=xe,Je)return;continue}Ve=="["?bo=!0:Ve=="]"&&(bo=!1),ft+=Ve}else{if(ft=="")return Ce;if(kt=h(pe,ft))return kt;if(ft="",rt=he,Je==K)return}break;case he:if(!Te.test(Ve)){if(Ve==c||Ve=="/"||Ve=="?"||Ve=="#"||Ve=="\\"&&Ue(pe)||Je){if(ft!=""){var Go=parseInt(ft,10);if(65535<Go)return be;pe.port=Ue(pe)&&Go===Ne[pe.scheme]?null:Go,ft=""}if(Je)return;rt=xe;continue}return be}ft+=Ve;break;case je:if(pe.scheme="file",Ve=="/"||Ve=="\\")rt=De;else{if(!Ye||Ye.scheme!="file"){rt=Qe;continue}if(Ve==c)pe.host=Ye.host,pe.path=Ye.path.slice(),pe.query=Ye.query;else if(Ve=="?")pe.host=Ye.host,pe.path=Ye.path.slice(),pe.query="",rt=mt;else{if(Ve!="#"){m(st.slice(Jt).join(""))||(pe.host=Ye.host,pe.path=Ye.path.slice(),i(pe)),rt=Qe;continue}pe.host=Ye.host,pe.path=Ye.path.slice(),pe.query=Ye.query,pe.fragment="",rt=bt}}break;case De:if(Ve=="/"||Ve=="\\"){rt=We;break}Ye&&Ye.scheme=="file"&&!m(st.slice(Jt).join(""))&&(g(Ye.path[0],!0)?pe.path.push(Ye.path[0]):pe.host=Ye.host),rt=Qe;continue;case We:if(Ve==c||Ve=="/"||Ve=="\\"||Ve=="?"||Ve=="#"){if(!Je&&g(ft))rt=Qe;else if(ft==""){if(pe.host="",Je)return;rt=xe}else{if(kt=h(pe,ft))return kt;if(pe.host=="localhost"&&(pe.host=""),Je)return;ft="",rt=xe}continue}ft+=Ve;break;case xe:if(Ue(pe)){if(rt=Qe,Ve!="/"&&Ve!="\\")continue}else if(Je||Ve!="?")if(Je||Ve!="#"){if(Ve!=c&&(rt=Qe,Ve!="/"))continue}else pe.fragment="",rt=bt;else pe.query="",rt=mt;break;case Qe:if(Ve==c||Ve=="/"||Ve=="\\"&&Ue(pe)||!Je&&(Ve=="?"||Ve=="#")){if((_t=(_t=ft).toLowerCase())===".."||_t==="%2e."||_t===".%2e"||_t==="%2e%2e"?(i(pe),Ve=="/"||Ve=="\\"&&Ue(pe)||pe.path.push("")):(Vt=ft)==="."||Vt.toLowerCase()==="%2e"?Ve=="/"||Ve=="\\"&&Ue(pe)||pe.path.push(""):(pe.scheme=="file"&&!pe.path.length&&g(ft)&&(pe.host&&(pe.host=""),ft=ft.charAt(0)+":"),pe.path.push(ft)),ft="",pe.scheme=="file"&&(Ve==c||Ve=="?"||Ve=="#"))for(;1<pe.path.length&&pe.path[0]==="";)pe.path.shift();Ve=="?"?(pe.query="",rt=mt):Ve=="#"&&(pe.fragment="",rt=bt)}else ft+=ke(Ve,ye);break;case ut:Ve=="?"?(pe.query="",rt=mt):Ve=="#"?(pe.fragment="",rt=bt):Ve!=c&&(pe.path[0]+=ke(Ve,oe));break;case mt:Je||Ve!="#"?Ve!=c&&(Ve=="'"&&Ue(pe)?pe.query+="%27":pe.query+=Ve=="#"?"%23":ke(Ve,oe)):(pe.fragment="",rt=bt);break;case bt:Ve!=c&&(pe.fragment+=ke(Ve,me))}Jt++}}function a(pe,Ge){return{get:pe,set:Ge,configurable:!0,enumerable:!0}}var c,d=e("../internals/export"),y=e("../internals/descriptors"),w=e("../internals/native-url"),_=e("../internals/global"),S=e("../internals/object-define-properties"),j=e("../internals/redefine"),C=e("../internals/an-instance"),R=e("../internals/has"),P=e("../internals/object-assign"),I=e("../internals/array-from"),A=e("../internals/string-multibyte").codeAt,D=e("../internals/string-punycode-to-ascii"),N=e("../internals/set-to-string-tag"),L=e("../modules/web.url-search-params"),W=e("../internals/internal-state"),z=_.URL,le=L.URLSearchParams,ue=L.getState,J=W.set,ce=W.getterFor("URL"),se=Math.floor,ge=Math.pow,_e="Invalid scheme",Ce="Invalid host",be="Invalid port",Ie=/[A-Za-z]/,Se=/[\d+-.A-Za-z]/,Te=/\d/,O=/^(0x|0X)/,V=/^[0-7]+$/,X=/^\d+$/,ee=/^[\dA-Fa-f]+$/,B=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,U=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,re=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,$=/[\u0009\u000A\u000D]/g,ne=function(pe){var Ge,Je,Ye,st,Ve,Et,kt,Vt=pe.split(".");if(Vt.length&&Vt[Vt.length-1]==""&&Vt.pop(),4<(Ge=Vt.length))return pe;for(Je=[],Ye=0;Ye<Ge;Ye++){if((st=Vt[Ye])=="")return pe;if(Ve=10,1<st.length&&st.charAt(0)=="0"&&(Ve=O.test(st)?16:8,st=st.slice(Ve==8?1:2)),st==="")Et=0;else{if(!(Ve==10?X:Ve==8?V:ee).test(st))return pe;Et=parseInt(st,Ve)}Je.push(Et)}for(Ye=0;Ye<Ge;Ye++)if(Et=Je[Ye],Ye==Ge-1){if(Et>=ge(256,5-Ge))return null}else if(255<Et)return null;for(kt=Je.pop(),Ye=0;Ye<Je.length;Ye++)kt+=Je[Ye]*ge(256,3-Ye);return kt},ie=function(pe){function Ge(){return pe.charAt(ft)}var Je,Ye,st,Ve,Et,kt,Vt,_t=[0,0,0,0,0,0,0,0],rt=0,Jt=null,ft=0;if(Ge()==":"){if(pe.charAt(1)!=":")return;ft+=2,Jt=++rt}for(;Ge();){if(rt==8)return;if(Ge()!=":"){for(Je=Ye=0;Ye<4&&ee.test(Ge());)Je=16*Je+parseInt(Ge(),16),ft++,Ye++;if(Ge()=="."){if(Ye==0||(ft-=Ye,6<rt))return;for(st=0;Ge();){if(Ve=null,0<st){if(!(Ge()=="."&&st<4))return;ft++}if(!Te.test(Ge()))return;for(;Te.test(Ge());){if(Et=parseInt(Ge(),10),Ve===null)Ve=Et;else{if(Ve==0)return;Ve=10*Ve+Et}if(255<Ve)return;ft++}_t[rt]=256*_t[rt]+Ve,++st!=2&&st!=4||rt++}if(st!=4)return;break}if(Ge()==":"){if(ft++,!Ge())return}else if(Ge())return;_t[rt++]=Je}else{if(Jt!==null)return;ft++,Jt=++rt}}if(Jt!==null)for(kt=rt-Jt,rt=7;rt!=0&&0<kt;)Vt=_t[rt],_t[rt--]=_t[Jt+kt-1],_t[Jt+--kt]=Vt;else if(rt!=8)return;return _t},oe={},me=P({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),ye=P({},me,{"#":1,"?":1,"{":1,"}":1}),fe=P({},ye,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ke=function(pe,Ge){var Je=A(pe,0);return 32<Je&&Je<127&&!R(Ge,pe)?pe:encodeURIComponent(pe)},Ne={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ue=function(pe){return R(Ne,pe.scheme)},Le={},Ze={},Ae={},Re={},qe={},$e={},we={},ot={},H={},Q={},q={},K={},he={},je={},De={},We={},xe={},Qe={},ut={},mt={},bt={},gt=function(pe,Ge){var Je,Ye,st=C(this,gt,"URL"),Ve=1<arguments.length?Ge:void 0,Et=String(pe),kt=J(st,{type:"URL"});if(Ve!==void 0){if(Ve instanceof gt)Je=ce(Ve);else if(Ye=s(Je={},String(Ve)))throw TypeError(Ye)}if(Ye=s(kt,Et,null,Je))throw TypeError(Ye);var Vt=kt.searchParams=new le,_t=ue(Vt);_t.updateSearchParams(kt.query),_t.updateURL=function(){kt.query=String(Vt)||null},y||(st.href=Pt.call(st),st.origin=mn.call(st),st.protocol=Pr.call(st),st.username=fo.call(st),st.password=An.call(st),st.host=gn.call(st),st.hostname=po.call(st),st.port=mo.call(st),st.pathname=go.call(st),st.search=yo.call(st),st.searchParams=vo.call(st),st.hash=Fo.call(st))},vt=gt.prototype,Pt=function(){var pe=ce(this),Ge=pe.scheme,Je=pe.username,Ye=pe.password,st=pe.host,Ve=pe.port,Et=pe.path,kt=pe.query,Vt=pe.fragment,_t=Ge+":";return st!==null?(_t+="//",p(pe)&&(_t+=Je+(Ye?":"+Ye:"")+"@"),_t+=n(st),Ve!==null&&(_t+=":"+Ve)):Ge=="file"&&(_t+="//"),_t+=pe.cannotBeABaseURL?Et[0]:Et.length?"/"+Et.join("/"):"",kt!==null&&(_t+="?"+kt),Vt!==null&&(_t+="#"+Vt),_t},mn=function(){var pe=ce(this),Ge=pe.scheme,Je=pe.port;if(Ge=="blob")try{return new URL(Ge.path[0]).origin}catch{return"null"}return Ge!="file"&&Ue(pe)?Ge+"://"+n(pe.host)+(Je!==null?":"+Je:""):"null"},Pr=function(){return ce(this).scheme+":"},fo=function(){return ce(this).username},An=function(){return ce(this).password},gn=function(){var pe=ce(this),Ge=pe.host,Je=pe.port;return Ge===null?"":Je===null?n(Ge):n(Ge)+":"+Je},po=function(){var pe=ce(this).host;return pe===null?"":n(pe)},mo=function(){var pe=ce(this).port;return pe===null?"":String(pe)},go=function(){var pe=ce(this),Ge=pe.path;return pe.cannotBeABaseURL?Ge[0]:Ge.length?"/"+Ge.join("/"):""},yo=function(){var pe=ce(this).query;return pe?"?"+pe:""},vo=function(){return ce(this).searchParams},Fo=function(){var pe=ce(this).fragment;return pe?"#"+pe:""};if(y&&S(vt,{href:a(Pt,function(pe){var Ge=ce(this),Je=String(pe),Ye=s(Ge,Je);if(Ye)throw TypeError(Ye);ue(Ge.searchParams).updateSearchParams(Ge.query)}),origin:a(mn),protocol:a(Pr,function(pe){var Ge=ce(this);s(Ge,String(pe)+":",Le)}),username:a(fo,function(pe){var Ge=ce(this),Je=I(String(pe));if(!f(Ge)){Ge.username="";for(var Ye=0;Ye<Je.length;Ye++)Ge.username+=ke(Je[Ye],fe)}}),password:a(An,function(pe){var Ge=ce(this),Je=I(String(pe));if(!f(Ge)){Ge.password="";for(var Ye=0;Ye<Je.length;Ye++)Ge.password+=ke(Je[Ye],fe)}}),host:a(gn,function(pe){var Ge=ce(this);Ge.cannotBeABaseURL||s(Ge,String(pe),q)}),hostname:a(po,function(pe){var Ge=ce(this);Ge.cannotBeABaseURL||s(Ge,String(pe),K)}),port:a(mo,function(pe){var Ge=ce(this);f(Ge)||((pe=String(pe))==""?Ge.port=null:s(Ge,pe,he))}),pathname:a(go,function(pe){var Ge=ce(this);Ge.cannotBeABaseURL||(Ge.path=[],s(Ge,pe+"",xe))}),search:a(yo,function(pe){var Ge=ce(this);(pe=String(pe))==""?Ge.query=null:(pe.charAt(0)=="?"&&(pe=pe.slice(1)),Ge.query="",s(Ge,pe,mt)),ue(Ge.searchParams).updateSearchParams(Ge.query)}),searchParams:a(vo),hash:a(Fo,function(pe){var Ge=ce(this);(pe=String(pe))!=""?(pe.charAt(0)=="#"&&(pe=pe.slice(1)),Ge.fragment="",s(Ge,pe,bt)):Ge.fragment=null})}),j(vt,"toJSON",function(){return Pt.call(this)},{enumerable:!0}),j(vt,"toString",function(){return Pt.call(this)},{enumerable:!0}),z){var qn=z.createObjectURL,Yn=z.revokeObjectURL;qn&&j(gt,"createObjectURL",function(pe){return qn.apply(z,arguments)}),Yn&&j(gt,"revokeObjectURL",function(pe){return Yn.apply(z,arguments)})}N(gt,"URL"),d({global:!0,forced:!w,sham:!y},{URL:gt})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":230}],232:[function(e,l,u){l.exports=e("./").polyfill()},{"./":233}],233:[function(e,l,u){(function(h,n){var p,f;p=this,f=function(){function g($){return typeof $=="function"}var m=Array.isArray?Array.isArray:function($){return Object.prototype.toString.call($)==="[object Array]"},i=0,s=void 0,a=void 0,c=function($,ne){C[i]=$,C[i+1]=ne,(i+=2)===2&&(a?a(R):N())},d=typeof window<"u"?window:void 0,y=d||{},w=y.MutationObserver||y.WebKitMutationObserver,_=typeof self>"u"&&h!==void 0&&{}.toString.call(h)==="[object process]",S=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function j(){var $=setTimeout;return function(){return $(R,1)}}var C=new Array(1e3);function R(){for(var $=0;$<i;$+=2)(0,C[$])(C[$+1]),C[$]=void 0,C[$+1]=void 0;i=0}var P,I,A,D,N=void 0;function L($,ne){var ie=this,oe=new this.constructor(le);oe[z]===void 0&&X(oe);var me=ie._state;if(me){var ye=arguments[me-1];c(function(){return O(me,oe,ye,ie._result)})}else Se(ie,oe,$,ne);return oe}function W($){if($&&typeof $=="object"&&$.constructor===this)return $;var ne=new this(le);return _e(ne,$),ne}N=_?function(){return h.nextTick(R)}:w?(I=0,A=new w(R),D=document.createTextNode(""),A.observe(D,{characterData:!0}),function(){D.data=I=++I%2}):S?((P=new MessageChannel).port1.onmessage=R,function(){return P.port2.postMessage(0)}):d===void 0&&typeof e=="function"?function(){try{var $=Function("return this")().require("vertx");return(s=$.runOnLoop||$.runOnContext)!==void 0?function(){s(R)}:j()}catch{return j()}}():j();var z=Math.random().toString(36).substring(2);function le(){}var ue=void 0,J=1,ce=2;function se($,ne,ie){c(function(oe){var me=!1,ye=function(fe,ke,Ne,Ue){try{fe.call(ke,Ne,Ue)}catch(Le){return Le}}(ie,ne,function(fe){me||(me=!0,ne!==fe?_e(oe,fe):be(oe,fe))},function(fe){me||(me=!0,Ie(oe,fe))},oe._label);!me&&ye&&(me=!0,Ie(oe,ye))},$)}function ge($,ne,ie){var oe,me;ne.constructor===$.constructor&&ie===L&&ne.constructor.resolve===W?(oe=$,(me=ne)._state===J?be(oe,me._result):me._state===ce?Ie(oe,me._result):Se(me,void 0,function(ye){return _e(oe,ye)},function(ye){return Ie(oe,ye)})):ie===void 0?be($,ne):g(ie)?se($,ne,ie):be($,ne)}function _e($,ne){if($===ne)Ie($,new TypeError("You cannot resolve a promise with itself"));else if(me=typeof(oe=ne),oe===null||me!="object"&&me!="function")be($,ne);else{var ie=void 0;try{ie=ne.then}catch(ye){return void Ie($,ye)}ge($,ne,ie)}var oe,me}function Ce($){$._onerror&&$._onerror($._result),Te($)}function be($,ne){$._state===ue&&($._result=ne,$._state=J,$._subscribers.length!==0&&c(Te,$))}function Ie($,ne){$._state===ue&&($._state=ce,$._result=ne,c(Ce,$))}function Se($,ne,ie,oe){var me=$._subscribers,ye=me.length;$._onerror=null,me[ye]=ne,me[ye+J]=ie,me[ye+ce]=oe,ye===0&&$._state&&c(Te,$)}function Te($){var ne=$._subscribers,ie=$._state;if(ne.length!==0){for(var oe=void 0,me=void 0,ye=$._result,fe=0;fe<ne.length;fe+=3)oe=ne[fe],me=ne[fe+ie],oe?O(ie,oe,me,ye):me(ye);$._subscribers.length=0}}function O($,ne,ie,oe){var me=g(ie),ye=void 0,fe=void 0,ke=!0;if(me){try{ye=ie(oe)}catch(Ne){ke=!1,fe=Ne}if(ne===ye)return void Ie(ne,new TypeError("A promises callback cannot return that same promise."))}else ye=oe;ne._state!==ue||(me&&ke?_e(ne,ye):ke===!1?Ie(ne,fe):$===J?be(ne,ye):$===ce&&Ie(ne,ye))}var V=0;function X($){$[z]=V++,$._state=void 0,$._result=void 0,$._subscribers=[]}var ee=(B.prototype._enumerate=function($){for(var ne=0;this._state===ue&&ne<$.length;ne++)this._eachEntry($[ne],ne)},B.prototype._eachEntry=function($,ne){var ie=this._instanceConstructor,oe=ie.resolve;if(oe===W){var me=void 0,ye=void 0,fe=!1;try{me=$.then}catch(Ne){fe=!0,ye=Ne}if(me===L&&$._state!==ue)this._settledAt($._state,ne,$._result);else if(typeof me!="function")this._remaining--,this._result[ne]=$;else if(ie===U){var ke=new ie(le);fe?Ie(ke,ye):ge(ke,$,me),this._willSettleAt(ke,ne)}else this._willSettleAt(new ie(function(Ne){return Ne($)}),ne)}else this._willSettleAt(oe($),ne)},B.prototype._settledAt=function($,ne,ie){var oe=this.promise;oe._state===ue&&(this._remaining--,$===ce?Ie(oe,ie):this._result[ne]=ie),this._remaining===0&&be(oe,this._result)},B.prototype._willSettleAt=function($,ne){var ie=this;Se($,void 0,function(oe){return ie._settledAt(J,ne,oe)},function(oe){return ie._settledAt(ce,ne,oe)})},B);function B($,ne){this._instanceConstructor=$,this.promise=new $(le),this.promise[z]||X(this.promise),m(ne)?(this.length=ne.length,this._remaining=ne.length,this._result=new Array(this.length),this.length===0?be(this.promise,this._result):(this.length=this.length||0,this._enumerate(ne),this._remaining===0&&be(this.promise,this._result))):Ie(this.promise,new Error("Array Methods must be provided an Array"))}var U=(re.prototype.catch=function($){return this.then(null,$)},re.prototype.finally=function($){var ne=this.constructor;return g($)?this.then(function(ie){return ne.resolve($()).then(function(){return ie})},function(ie){return ne.resolve($()).then(function(){throw ie})}):this.then($,$)},re);function re($){this[z]=V++,this._result=this._state=void 0,this._subscribers=[],le!==$&&(typeof $!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof re?function(ne,ie){try{ie(function(oe){_e(ne,oe)},function(oe){Ie(ne,oe)})}catch(oe){Ie(ne,oe)}}(this,$):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return U.prototype.then=L,U.all=function($){return new ee(this,$).promise},U.race=function($){var ne=this;return m($)?new ne(function(ie,oe){for(var me=$.length,ye=0;ye<me;ye++)ne.resolve($[ye]).then(ie,oe)}):new ne(function(ie,oe){return oe(new TypeError("You must pass an array to race."))})},U.resolve=W,U.reject=function($){var ne=new this(le);return Ie(ne,$),ne},U._setScheduler=function($){a=$},U._setAsap=function($){c=$},U._asap=c,U.polyfill=function(){var $=void 0;if(n!==void 0)$=n;else if(typeof self<"u")$=self;else try{$=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ne=$.Promise;if(ne){var ie=null;try{ie=Object.prototype.toString.call(ne.resolve())}catch{}if(ie==="[object Promise]"&&!ne.cast)return}$.Promise=U},U.Promise=U},typeof u=="object"&&l!==void 0?l.exports=f():p.ES6Promise=f()}).call(this,e("_process"),typeof ci<"u"?ci:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:241}],234:[function(e,l,u){(function(h,n){if(u!==void 0&&l!==void 0)n(u,l);else{var p={exports:{}};n(p.exports,p),h.fetchJsonp=p.exports}})(this,function(h,n){var p=5e3,f="callback";function g(i){try{delete window[i]}catch{window[i]=void 0}}function m(i){var s=document.getElementById(i);s&&document.getElementsByTagName("head")[0].removeChild(s)}n.exports=function(i){var s=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],a=i,c=s.timeout||p,d=s.jsonpCallback||f,y=void 0;return new Promise(function(w,_){var S=s.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),j=d+"_"+S;window[S]=function(R){w({ok:!0,json:function(){return Promise.resolve(R)}}),y&&clearTimeout(y),m(j),g(S)},a+=a.indexOf("?")===-1?"?":"&";var C=document.createElement("script");C.setAttribute("src",""+a+d+"="+S),s.charset&&C.setAttribute("charset",s.charset),C.id=j,document.getElementsByTagName("head")[0].appendChild(C),y=setTimeout(function(){_(new Error("JSONP request to "+i+" timed out")),g(S),m(j),window[S]=function(){g(S)}},c),C.onerror=function(){_(new Error("JSONP request to "+i+" failed")),g(S),m(j),y&&clearTimeout(y)}})}})},{}],235:[function(e,l,u){var h=h||function(n){if(!(n===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var p=n.document,f=function(){return n.URL||n.webkitURL||n},g=p.createElementNS("http://www.w3.org/1999/xhtml","a"),m="download"in g,i=/constructor/i.test(n.HTMLElement)||n.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(_){(n.setImmediate||n.setTimeout)(function(){throw _},0)},c=function(_){setTimeout(function(){typeof _=="string"?f().revokeObjectURL(_):_.remove()},4e4)},d=function(_){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob([String.fromCharCode(65279),_],{type:_.type}):_},y=function(_,S,j){j||(_=d(_));function C(){(function(A,D,N){for(var L=(D=[].concat(D)).length;L--;){var W=A["on"+D[L]];if(typeof W=="function")try{W.call(A,N||A)}catch(z){a(z)}}})(P,"writestart progress write writeend".split(" "))}var R,P=this,I=_.type==="application/octet-stream";if(P.readyState=P.INIT,m)return R=f().createObjectURL(_),void setTimeout(function(){var A,D;g.href=R,g.download=S,A=g,D=new MouseEvent("click"),A.dispatchEvent(D),C(),c(R),P.readyState=P.DONE});(function(){if((s||I&&i)&&n.FileReader){var A=new FileReader;return A.onloadend=function(){var D=s?A.result:A.result.replace(/^data:[^;]*;/,"data:attachment/file;");n.open(D,"_blank")||(n.location.href=D),D=void 0,P.readyState=P.DONE,C()},A.readAsDataURL(_),P.readyState=P.INIT}R=R||f().createObjectURL(_),I?n.location.href=R:n.open(R,"_blank")||(n.location.href=R),P.readyState=P.DONE,C(),c(R)})()},w=y.prototype;return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(_,S,j){return S=S||_.name||"download",j||(_=d(_)),navigator.msSaveOrOpenBlob(_,S)}:(w.abort=function(){},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,function(_,S,j){return new y(_,S||_.name||"download",j)})}}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);l!==void 0&&l.exports?l.exports.saveAs=h:t!=null},{}],236:[function(e,l,u){u.read=function(h,n,p,f,g){var m,i,s=8*g-f-1,a=(1<<s)-1,c=a>>1,d=-7,y=p?g-1:0,w=p?-1:1,_=h[n+y];for(y+=w,m=_&(1<<-d)-1,_>>=-d,d+=s;0<d;m=256*m+h[n+y],y+=w,d-=8);for(i=m&(1<<-d)-1,m>>=-d,d+=f;0<d;i=256*i+h[n+y],y+=w,d-=8);if(m===0)m=1-c;else{if(m===a)return i?NaN:1/0*(_?-1:1);i+=Math.pow(2,f),m-=c}return(_?-1:1)*i*Math.pow(2,m-f)},u.write=function(h,n,p,f,g,m){var i,s,a,c=8*m-g-1,d=(1<<c)-1,y=d>>1,w=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=f?0:m-1,S=f?1:-1,j=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(s=isNaN(n)?1:0,i=d):(i=Math.floor(Math.log(n)/Math.LN2),n*(a=Math.pow(2,-i))<1&&(i--,a*=2),2<=(n+=1<=i+y?w/a:w*Math.pow(2,1-y))*a&&(i++,a/=2),d<=i+y?(s=0,i=d):1<=i+y?(s=(n*a-1)*Math.pow(2,g),i+=y):(s=n*Math.pow(2,y-1)*Math.pow(2,g),i=0));8<=g;h[p+_]=255&s,_+=S,s/=256,g-=8);for(i=i<<g|s,c+=g;0<c;h[p+_]=255&i,_+=S,i/=256,c-=8);h[p+_-S]|=128*j}},{}],237:[function(e,l,u){var h;function n(H,Q){return H.b===Q.b&&H.a===Q.a}function p(H,Q){return H.b<Q.b||H.b===Q.b&&H.a<=Q.a}function f(H,Q,q){var K=Q.b-H.b,he=q.b-Q.b;return 0<K+he?K<he?Q.a-H.a+K/(K+he)*(H.a-q.a):Q.a-q.a+he/(K+he)*(q.a-H.a):0}function g(H,Q,q){var K=Q.b-H.b,he=q.b-Q.b;return 0<K+he?(Q.a-q.a)*K+(Q.a-H.a)*he:0}function m(H,Q){return H.a<Q.a||H.a===Q.a&&H.b<=Q.b}function i(H,Q,q){var K=Q.a-H.a,he=q.a-Q.a;return 0<K+he?K<he?Q.b-H.b+K/(K+he)*(H.b-q.b):Q.b-q.b+he/(K+he)*(q.b-H.b):0}function s(H,Q,q){var K=Q.a-H.a,he=q.a-Q.a;return 0<K+he?(Q.b-q.b)*K+(Q.b-H.b)*he:0}function a(H,Q,q,K){return(H=H<0?0:H)<=(q=q<0?0:q)?q===0?(Q+K)/2:Q+H/(H+q)*(K-Q):K+q/(H+q)*(Q-K)}function c(H){var Q=S(H.b);return C(Q,H.c),C(Q.b,H.c),R(Q,H.a),Q}function d(H,Q){var q=!1,K=!1;H!==Q&&(Q.a!==H.a&&(K=!0,I(Q.a,H.a)),Q.d!==H.d&&(q=!0,A(Q.d,H.d)),j(Q,H),K||(C(Q,H.a),H.a.c=H),q||(R(Q,H.d),H.d.a=H))}function y(H){var Q=H.b,q=!1;H.d!==H.b.d&&(q=!0,A(H.d,H.b.d)),H.c===H?I(H.a,null):(H.b.d.a=oe(H),H.a.c=H.c,j(H,oe(H)),q||R(H,H.d)),Q.c===Q?(I(Q.a,null),A(Q.d,null)):(H.d.a=oe(Q),Q.a.c=Q.c,j(Q,oe(Q))),P(H)}function w(H){var Q=S(H),q=Q.b;return j(Q,H.e),Q.a=H.b.a,C(q,Q.a),Q.d=q.d=H.d,Q=Q.b,j(H.b,oe(H.b)),j(H.b,Q),H.b.a=Q.a,Q.b.a.c=Q.b,Q.b.d=H.b.d,Q.f=H.f,Q.b.f=H.b.f,Q}function _(H,Q){var q=!1,K=S(H),he=K.b;return Q.d!==H.d&&(q=!0,A(Q.d,H.d)),j(K,H.e),j(he,Q),K.a=H.b.a,he.a=Q.a,K.d=he.d=H.d,H.d.a=he,q||R(K,H.d),K}function S(H){var Q=new ie,q=new ie,K=H.b.h;return(((q.h=K).b.h=Q).h=H).b.h=q,Q.b=q,((Q.c=Q).e=q).b=Q,(q.c=q).e=Q}function j(H,Q){var q=H.c,K=Q.c;q.b.e=Q,(K.b.e=H).c=K,Q.c=q}function C(H,Q){var q=Q.f,K=new ye(Q,q);for(q.e=K,q=(Q.f=K).c=H;q.a=K,(q=q.c)!==H;);}function R(H,Q){var q=Q.d,K=new ne(Q,q);for(q.b=K,(Q.d=K).a=H,K.c=Q.c,q=H;q.d=K,(q=q.e)!==H;);}function P(H){var Q=H.h;H=H.b.h,(Q.b.h=H).b.h=Q}function I(H,Q){for(var q=H.c,K=q;K.a=Q,(K=K.c)!==q;);q=H.f,((K=H.e).f=q).e=K}function A(H,Q){for(var q=H.a,K=q;K.d=Q,(K=K.e)!==q;);q=H.d,((K=H.b).d=q).b=K}function D(H){var Q=0;return Math.abs(H[1])>Math.abs(H[0])&&(Q=1),Math.abs(H[2])>Math.abs(H[Q])&&(Q=2),Q}function N(H,Q){H.f+=Q.f,H.b.f+=Q.b.f}function L(H,Q,q){return H=H.a,Q=Q.a,q=q.a,Q.b.a===H?q.b.a===H?p(Q.a,q.a)?g(q.b.a,Q.a,q.a)<=0:0<=g(Q.b.a,q.a,Q.a):g(q.b.a,H,q.a)<=0:q.b.a===H?0<=g(Q.b.a,H,Q.a):(Q=f(Q.b.a,H,Q.a),(H=f(q.b.a,H,q.a))<=Q)}function W(H){H.a.i=null;var Q=H.e;Q.a.c=Q.c,Q.c.a=Q.a,H.e=null}function z(H,Q){y(H.a),H.c=!1,(H.a=Q).i=H}function le(H){for(var Q=H.a.a;(H=ot(H)).a.a===Q;);return H.c&&(z(H,Q=_(we(H).a.b,H.a.e)),H=ot(H)),H}function ue(H,Q,q){var K=new $e;return K.a=q,K.e=ee(H.f,Q.e,K),q.i=K}function J(H,Q){switch(H.s){case 100130:return(1&Q)!=0;case 100131:return Q!==0;case 100132:return 0<Q;case 100133:return Q<0;case 100134:return 2<=Q||Q<=-2}return!1}function ce(H){var Q=H.a,q=Q.d;q.c=H.d,q.a=Q,W(H)}function se(H,Q,q){for(Q=(H=Q).a;H!==q;){H.c=!1;var K=we(H),he=K.a;if(he.a!==Q.a){if(!K.c){ce(H);break}z(K,he=_(Q.c.b,he.b))}Q.c!==he&&(d(oe(he),he),d(Q,he)),ce(H),Q=K.a,H=K}return Q}function ge(H,Q,q,K,he,je){for(var De=!0;ue(H,Q,q.b),(q=q.c)!==K;);for(he===null&&(he=we(Q).a.b.c);(q=(K=we(Q)).a.b).a===he.a;)q.c!==he&&(d(oe(q),q),d(oe(he),q)),K.f=Q.f-q.f,K.d=J(H,K.f),Q.b=!0,!De&&Ie(H,Q)&&(N(q,he),W(Q),y(he)),De=!1,Q=K,he=q;Q.b=!0,je&&Te(H,Q)}function _e(H,Q,q,K,he){var je=[Q.g[0],Q.g[1],Q.g[2]];Q.d=null,Q.d=H.o&&H.o(je,q,K,H.c)||null,Q.d===null&&(he?H.n||($(H,100156),H.n=!0):Q.d=q[0])}function Ce(H,Q,q){var K=[null,null,null,null];K[0]=Q.a.d,K[1]=q.a.d,_e(H,Q.a,K,[.5,.5,0,0],!1),d(Q,q)}function be(H,Q,q,K,he){var je=Math.abs(Q.b-H.b)+Math.abs(Q.a-H.a),De=Math.abs(q.b-H.b)+Math.abs(q.a-H.a),We=he+1;K[he]=.5*De/(je+De),K[We]=.5*je/(je+De),H.g[0]+=K[he]*Q.g[0]+K[We]*q.g[0],H.g[1]+=K[he]*Q.g[1]+K[We]*q.g[1],H.g[2]+=K[he]*Q.g[2]+K[We]*q.g[2]}function Ie(H,Q){var q=we(Q),K=Q.a,he=q.a;if(p(K.a,he.a)){if(0<g(he.b.a,K.a,he.a))return!1;if(n(K.a,he.a)){if(K.a!==he.a){q=H.e;var je=K.a.h;if(0<=je){var De=(q=q.b).d,We=q.e,xe=q.c,Qe=xe[je];De[Qe]=De[q.a],(xe[De[Qe]]=Qe)<=--q.a&&(Qe<=1||p(We[De[Qe>>1]],We[De[Qe]])?Re(q,Qe):qe(q,Qe)),We[je]=null,xe[je]=q.b,q.b=je}else for(q.c[-(je+1)]=null;0<q.a&&q.c[q.d[q.a-1]]===null;)--q.a;Ce(H,oe(he),K)}}else w(he.b),d(K,oe(he)),Q.b=q.b=!0}else{if(g(K.b.a,he.a,K.a)<0)return!1;ot(Q).b=Q.b=!0,w(K.b),d(oe(he),K)}return!0}function Se(H,Q){var q=we(Q),K=Q.a,he=q.a,je=K.a,De=he.a,We=K.b.a,xe=he.b.a,Qe=new ye;if(g(We,H.a,je),g(xe,H.a,De),je===De||Math.min(je.a,We.a)>Math.max(De.a,xe.a))return!1;if(p(je,De)){if(0<g(xe,je,De))return!1}else if(g(We,De,je)<0)return!1;var ut,mt,bt=We,gt=je,vt=xe,Pt=De;if(p(bt,gt)||(ut=bt,bt=gt,gt=ut),p(vt,Pt)||(ut=vt,vt=Pt,Pt=ut),p(bt,vt)||(ut=bt,bt=vt,vt=ut,ut=gt,gt=Pt,Pt=ut),p(vt,gt)?p(gt,Pt)?((ut=f(bt,vt,gt))+(mt=f(vt,gt,Pt))<0&&(ut=-ut,mt=-mt),Qe.b=a(ut,vt.b,mt,gt.b)):((ut=g(bt,vt,gt))+(mt=-g(bt,Pt,gt))<0&&(ut=-ut,mt=-mt),Qe.b=a(ut,vt.b,mt,Pt.b)):Qe.b=(vt.b+gt.b)/2,m(bt,gt)||(ut=bt,bt=gt,gt=ut),m(vt,Pt)||(ut=vt,vt=Pt,Pt=ut),m(bt,vt)||(ut=bt,bt=vt,vt=ut,ut=gt,gt=Pt,Pt=ut),m(vt,gt)?m(gt,Pt)?((ut=i(bt,vt,gt))+(mt=i(vt,gt,Pt))<0&&(ut=-ut,mt=-mt),Qe.a=a(ut,vt.a,mt,gt.a)):((ut=s(bt,vt,gt))+(mt=-s(bt,Pt,gt))<0&&(ut=-ut,mt=-mt),Qe.a=a(ut,vt.a,mt,Pt.a)):Qe.a=(vt.a+gt.a)/2,p(Qe,H.a)&&(Qe.b=H.a.b,Qe.a=H.a.a),bt=p(je,De)?je:De,p(bt,Qe)&&(Qe.b=bt.b,Qe.a=bt.a),n(Qe,je)||n(Qe,De))return Ie(H,Q),!1;if(!n(We,H.a)&&0<=g(We,H.a,Qe)||!n(xe,H.a)&&g(xe,H.a,Qe)<=0){if(xe===H.a)return w(K.b),d(he.b,K),K=we(Q=le(Q)).a,se(H,we(Q),q),ge(H,Q,oe(K),K,K,!0),!0;if(We!==H.a)return 0<=g(We,H.a,Qe)&&(ot(Q).b=Q.b=!0,w(K.b),K.a.b=H.a.b,K.a.a=H.a.a),g(xe,H.a,Qe)<=0&&(Q.b=q.b=!0,w(he.b),he.a.b=H.a.b,he.a.a=H.a.a),!1;for(w(he.b),d(K.e,oe(he)),De=(je=q=Q).a.b.a;(je=ot(je)).a.b.a===De;);return je=we(Q=je).a.b.c,q.a=oe(he),ge(H,Q,(he=se(H,q,null)).c,K.b.c,je,!0),!0}return w(K.b),w(he.b),d(oe(he),K),K.a.b=Qe.b,K.a.a=Qe.a,K.a.h=ke(H.e,K.a),K=K.a,he=[0,0,0,0],Qe=[je.d,We.d,De.d,xe.d],K.g[0]=K.g[1]=K.g[2]=0,be(K,je,We,he,0),be(K,De,xe,he,2),_e(H,K,Qe,he,!0),ot(Q).b=Q.b=q.b=!0,!1}function Te(H,Q){for(var q=we(Q);;){for(;q.b;)q=we(Q=q);if(!Q.b&&((Q=ot(q=Q))===null||!Q.b))break;Q.b=!1;var K,he=Q.a,je=q.a;if(K=he.b.a!==je.b.a)e:{var De=we(K=Q),We=K.a,xe=De.a,Qe=void 0;if(p(We.b.a,xe.b.a)){if(g(We.b.a,xe.b.a,We.a)<0){K=!1;break e}ot(K).b=K.b=!0,Qe=w(We),d(xe.b,Qe),Qe.d.c=K.d}else{if(0<g(xe.b.a,We.b.a,xe.a)){K=!1;break e}K.b=De.b=!0,Qe=w(xe),d(We.e,xe.b),Qe.b.d.c=K.d}K=!0}if(K&&(q.c?(W(q),y(je),je=(q=we(Q)).a):Q.c&&(W(Q),y(he),he=(Q=ot(q)).a)),he.a!==je.a){if(he.b.a===je.b.a||Q.c||q.c||he.b.a!==H.a&&je.b.a!==H.a)Ie(H,Q);else if(Se(H,Q))break}he.a===je.a&&he.b.a===je.b.a&&(N(je,he),W(Q),y(he),Q=ot(q))}}function O(H,Q){for(var q=(H.a=Q).c;q.i===null;)if((q=q.c)===Q.c){q=H;var K=Q;(De=new $e).a=K.c.b;for(var he=(xe=q.f).a;(he=he.a).b!==null&&!xe.c(xe.b,De,he.b););var je=we(xe=he.b),De=xe.a;if(he=je.a,g(De.b.a,K,De.a)===0)n((De=xe.a).a,K)||n(De.b.a,K)||(w(De.b),xe.c&&(y(De.c),xe.c=!1),d(K.c,De),O(q,K));else{var We=p(he.b.a,De.b.a)?xe:je;je=void 0,xe.d||We.c?(je=We===xe?_(K.c.b,De.e):_(he.b.c.b,K.c).b,We.c?z(We,je):((xe=ue(De=q,xe,je)).f=ot(xe).f+xe.a.f,xe.d=J(De,xe.f)),O(q,K)):ge(q,xe,K.c,K.c,null,!0)}return}if(xe=(De=we(q=le(q.i))).a,(De=se(H,De,null)).c===xe){De=(xe=De).c,he=we(q),je=q.a,We=he.a;var xe,Qe=!1;je.b.a!==We.b.a&&Se(H,q),n(je.a,H.a)&&(d(oe(De),je),De=we(q=le(q)).a,se(H,we(q),he),Qe=!0),n(We.a,H.a)&&(d(xe,oe(We)),xe=se(H,he,null),Qe=!0),Qe?ge(H,q,xe.c,De,De,!0):(K=p(We.a,je.a)?oe(We):je,ge(H,q,K=_(xe.c.b,K),K.c,K.c,!1),K.b.i.c=!0,Te(H,q))}else ge(H,q,De.c,xe,xe,!0)}function V(H,Q){var q=new $e,K=c(H.b);K.a.b=4e150,K.a.a=Q,K.b.a.b=-4e150,K.b.a.a=Q,H.a=K.b.a,q.a=K,q.f=0,q.d=!1,q.c=!1,q.h=!0,q.b=!1,K=ee(K=H.f,K.a,q),q.e=K}function X(H){this.a=new B,this.b=H,this.c=L}function ee(H,Q,q){for(;(Q=Q.c).b!==null&&!H.c(H.b,Q.b,q););return H=new B(q,Q.a,Q),Q.a.c=H,Q.a=H}function B(H,Q,q){this.b=H||null,this.a=Q||this,this.c=q||this}function U(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function re(H,Q){if(H.d!==Q)for(;H.d!==Q;)if(H.d<Q)switch(H.d){case 0:$(H,100151),H.u(null);break;case 1:$(H,100152),H.t()}else switch(H.d){case 2:$(H,100154),H.v();break;case 1:$(H,100153),H.w()}}function $(H,Q){H.p&&H.p(Q,H.c)}function ne(H,Q){this.b=H||this,this.d=Q||this,this.a=null,this.c=!1}function ie(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function oe(H){return H.b.e}function me(){this.c=new ye,this.a=new ne,this.b=new ie,this.d=new ie,this.b.b=this.d,this.d.b=this.b}function ye(H,Q){this.e=H||this,this.f=Q||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function fe(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ue}function ke(H,Q){if(H.e){var q,K=H.b,he=++K.a;return 2*he>K.f&&(K.f*=2,K.c=Le(K.c,K.f+1)),K.b===0?q=he:(q=K.b,K.b=K.c[K.b]),K.e[q]=Q,K.c[q]=he,K.d[he]=q,K.h&&qe(K,he),q}return K=H.a++,H.c[K]=Q,-(K+1)}function Ne(H){if(H.a===0)return Ae(H.b);var Q=H.c[H.d[H.a-1]];if(H.b.a!==0&&p(Ze(H.b),Q))return Ae(H.b);for(;--H.a,0<H.a&&H.c[H.d[H.a-1]]===null;);return Q}function Ue(){this.d=Le([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Le(H,Q){for(var q=Array(Q),K=0;K<H.length;K++)q[K]=H[K];for(;K<Q;K++)q[K]=0;return q}function Ze(H){return H.e[H.d[1]]}function Ae(H){var Q=H.d,q=H.e,K=H.c,he=Q[1],je=q[he];return 0<H.a&&(Q[1]=Q[H.a],K[Q[1]]=1,q[he]=null,K[he]=H.b,H.b=he,0<--H.a&&Re(H,1)),je}function Re(H,Q){for(var q=H.d,K=H.e,he=H.c,je=Q,De=q[je];;){var We=je<<1;We<H.a&&p(K[q[We+1]],K[q[We]])&&(We+=1);var xe=q[We];if(We>H.a||p(K[De],K[xe])){he[q[je]=De]=je;break}he[q[je]=xe]=je,je=We}}function qe(H,Q){for(var q=H.d,K=H.e,he=H.c,je=Q,De=q[je];;){var We=je>>1,xe=q[We];if(We==0||p(K[xe],K[De])){he[q[je]=De]=je;break}he[q[je]=xe]=je,je=We}}function $e(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function we(H){return H.e.c.b}function ot(H){return H.e.a.b}(h=U.prototype).x=function(){re(this,0)},h.B=function(H,Q){switch(H){case 100142:return;case 100140:switch(Q){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Q)}break;case 100141:return void(this.m=!!Q);default:return void $(this,100900)}$(this,100901)},h.y=function(H){switch(H){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:$(this,100900)}return!1},h.A=function(H,Q,q){this.j[0]=H,this.j[1]=Q,this.j[2]=q},h.z=function(H,Q){var q=Q||null;switch(H){case 100100:case 100106:this.h=q;break;case 100104:case 100110:this.l=q;break;case 100101:case 100107:this.k=q;break;case 100102:case 100108:this.i=q;break;case 100103:case 100109:this.p=q;break;case 100105:case 100111:this.o=q;break;case 100112:this.r=q;break;default:$(this,100900)}},h.C=function(H,Q){var q=!1,K=[0,0,0];re(this,2);for(var he=0;he<3;++he){var je=H[he];je<-1e150&&(je=-1e150,q=!0),1e150<je&&(je=1e150,q=!0),K[he]=je}q&&$(this,100155),(q=this.q)===null?d(q=c(this.b),q.b):(w(q),q=q.e),q.a.d=Q,q.a.g[0]=K[0],q.a.g[1]=K[1],q.a.g[2]=K[2],q.f=1,q.b.f=-1,this.q=q},h.u=function(H){re(this,0),this.d=1,this.b=new me,this.c=H},h.t=function(){re(this,1),this.d=2,this.q=null},h.v=function(){re(this,2),this.d=1},h.w=function(){re(this,1),this.d=0;var H,Q,q=!1,K=[xe=this.j[0],he=this.j[1],De=this.j[2]];if(xe===0&&he===0&&De===0){for(var he=[-2e150,-2e150,-2e150],je=[2e150,2e150,2e150],De=[],We=[],xe=(q=this.b.c).e;xe!==q;xe=xe.e)for(var Qe=0;Qe<3;++Qe){var ut=xe.g[Qe];ut<je[Qe]&&(je[Qe]=ut,We[Qe]=xe),ut>he[Qe]&&(he[Qe]=ut,De[Qe]=xe)}if(xe=0,he[1]-je[1]>he[0]-je[0]&&(xe=1),he[2]-je[2]>he[xe]-je[xe]&&(xe=2),je[xe]>=he[xe])K[0]=0,K[1]=0,K[2]=1;else{for(he=0,je=We[xe],De=De[xe],We=[0,0,0],je=[je.g[0]-De.g[0],je.g[1]-De.g[1],je.g[2]-De.g[2]],Qe=[0,0,0],xe=q.e;xe!==q;xe=xe.e)Qe[0]=xe.g[0]-De.g[0],Qe[1]=xe.g[1]-De.g[1],Qe[2]=xe.g[2]-De.g[2],We[0]=je[1]*Qe[2]-je[2]*Qe[1],We[1]=je[2]*Qe[0]-je[0]*Qe[2],We[2]=je[0]*Qe[1]-je[1]*Qe[0],he<(ut=We[0]*We[0]+We[1]*We[1]+We[2]*We[2])&&(he=ut,K[0]=We[0],K[1]=We[1],K[2]=We[2]);he<=0&&(K[0]=K[1]=K[2]=0,K[D(je)]=1)}q=!0}for(We=D(K),xe=this.b.c,he=(We+1)%3,De=(We+2)%3,We=0<K[We]?1:-1,K=xe.e;K!==xe;K=K.e)K.b=K.g[he],K.a=We*K.g[De];if(q){for(K=0,xe=(q=this.b.a).b;xe!==q;xe=xe.b)if(!((he=xe.a).f<=0))for(;K+=(he.a.b-he.b.a.b)*(he.a.a+he.b.a.a),(he=he.e)!==xe.a;);if(K<0)for(q=(K=this.b.c).e;q!==K;q=q.e)q.a=-q.a}for(this.n=!1,xe=(K=this.b.b).h;xe!==K;xe=q)q=xe.h,he=xe.e,n(xe.a,xe.b.a)&&xe.e.e!==xe&&(Ce(this,he,xe),y(xe),he=(xe=he).e),he.e===xe&&(he!==xe&&(he!==q&&he!==q.b||(q=q.h),y(he)),xe!==q&&xe!==q.b||(q=q.h),y(xe));for(this.e=K=new fe,xe=(q=this.b.c).e;xe!==q;xe=xe.e)xe.h=ke(K,xe);for(function(mt){mt.d=[];for(var bt=0;bt<mt.a;bt++)mt.d[bt]=bt;mt.d.sort(function(gt){return function(vt,Pt){return p(gt[vt],gt[Pt])?1:-1}}(mt.c)),mt.e=!0,function(gt){for(var vt=gt.a;1<=vt;--vt)Re(gt,vt);gt.h=!0}(mt.b)}(K),this.f=new X(this),V(this,-4e150),V(this,4e150);(K=Ne(this.e))!==null;){for(;;){e:if(xe=this.e,xe.a===0)q=Ze(xe.b);else if(q=xe.c[xe.d[xe.a-1]],xe.b.a!==0&&(xe=Ze(xe.b),p(xe,q))){q=xe;break e}if(q===null||!n(q,K))break;q=Ne(this.e),Ce(this,K.c,q.c)}O(this,K)}for(this.a=this.f.a.a.b.a.a,K=0;(q=this.f.a.a.b)!==null;)q.h||++K,W(q);for(this.f=null,(K=this.e).b=null,K.d=null,this.e=K.c=null,xe=(K=this.b).a.b;xe!==K.a;xe=q)q=xe.b,(xe=xe.a).e.e===xe&&(N(xe.c,xe),y(xe));if(!this.n){if(K=this.b,this.m)for(xe=K.b.h;xe!==K.b;xe=q)q=xe.h,xe.b.d.c!==xe.d.c?xe.f=xe.d.c?1:-1:y(xe);else for(xe=K.a.b;xe!==K.a;xe=q)if(q=xe.b,xe.c){for(xe=xe.a;p(xe.b.a,xe.a);xe=xe.c.b);for(;p(xe.a,xe.b.a);xe=xe.e);for(he=xe.c.b,De=void 0;xe.e!==he;)if(p(xe.b.a,he.a)){for(;he.e!==xe&&(p((Q=he.e).b.a,Q.a)||g(he.a,he.b.a,he.e.b.a)<=0);)he=(De=_(he.e,he)).b;he=he.c.b}else{for(;he.e!==xe&&(p((H=xe.c.b).a,H.b.a)||0<=g(xe.b.a,xe.a,xe.c.b.a));)xe=(De=_(xe,xe.c.b)).b;xe=xe.e}for(;he.e.e!==xe;)he=(De=_(he.e,he)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(q=(K=this.b).a.b;q!==K.a;q=q.b)if(q.c){for(this.h&&this.h(2,this.c),xe=q.a;this.k&&this.k(xe.a.d,this.c),(xe=xe.e)!==q.a;);this.i&&this.i(this.c)}}else{for(K=this.b,q=!!this.l,xe=!1,he=-1,De=K.a.d;De!==K.a;De=De.d)if(De.c)for(xe||(this.h&&this.h(4,this.c),xe=!0),We=De.a;q&&he!==(je=We.b.d.c?0:1)&&(he=je,this.l&&this.l(!!he,this.c)),this.k&&this.k(We.a.d,this.c),(We=We.e)!==De.a;);xe&&this.i&&this.i(this.c)}if(this.r){for(xe=(K=this.b).a.b;xe!==K.a;xe=q)if(q=xe.b,!xe.c){for(De=(he=xe.a).e,We=void 0;De=(We=De).e,(We.d=null)===We.b.d&&(We.c===We?I(We.a,null):(We.a.c=We.c,j(We,oe(We))),(je=We.b).c===je?I(je.a,null):(je.a.c=je.c,j(je,oe(je))),P(We)),We!==he;);he=xe.d,((xe=xe.b).d=he).b=xe}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:U,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},U.prototype.gluDeleteTess=U.prototype.x,U.prototype.gluTessProperty=U.prototype.B,U.prototype.gluGetTessProperty=U.prototype.y,U.prototype.gluTessNormal=U.prototype.A,U.prototype.gluTessCallback=U.prototype.z,U.prototype.gluTessVertex=U.prototype.C,U.prototype.gluTessBeginPolygon=U.prototype.u,U.prototype.gluTessBeginContour=U.prototype.t,U.prototype.gluTessEndContour=U.prototype.v,U.prototype.gluTessEndPolygon=U.prototype.w,l!==void 0&&(l.exports=this.libtess)},{}],238:[function(e,l,u){function h(n,p,f,g){for(var m=n[p++],i=1<<m,s=1+i,a=1+s,c=m+1,d=(1<<c)-1,y=0,w=0,_=0,S=n[p++],j=new Int32Array(4096),C=null;;){for(;y<16&&S!==0;)w|=n[p++]<<y,y+=8,S===1?S=n[p++]:--S;if(y<c)break;var R=w&d;if(w>>=c,y-=c,R!=i){if(R==s)break;for(var P=R<a?R:C,I=0,A=P;i<A;)A=j[A]>>8,++I;var D=A;if(g<_+I+(P!==R?1:0))return void console.log("Warning, gif stream longer than expected.");f[_++]=D;var N=_+=I;for(P!==R&&(f[_++]=D),A=P;I--;)A=j[A],f[--N]=255&A,A>>=8;C!==null&&a<4096&&(j[a++]=C<<8|D,d+1<=a&&c<12&&(++c,d=d<<1|1)),C=R}else a=1+s,d=(1<<(c=m+1))-1,C=null}return _!==g&&console.log("Warning, gif stream shorter than expected."),f}try{u.GifWriter=function(n,p,f,g){var m=0,i=(g=g===void 0?{}:g).loop===void 0?null:g.loop,s=g.palette===void 0?null:g.palette;if(p<=0||f<=0||65535<p||65535<f)throw new Error("Width/Height invalid.");function a(C){var R=C.length;if(R<2||256<R||R&R-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return R}n[m++]=71,n[m++]=73,n[m++]=70,n[m++]=56,n[m++]=57,n[m++]=97;var c=0,d=0;if(s!==null){for(var y=a(s);y>>=1;)++c;if(y=1<<c,--c,g.background!==void 0){if(y<=(d=g.background))throw new Error("Background index out of range.");if(d===0)throw new Error("Background index explicitly passed as 0.")}}if(n[m++]=255&p,n[m++]=p>>8&255,n[m++]=255&f,n[m++]=f>>8&255,n[m++]=(s!==null?128:0)|c,n[m++]=d,n[m++]=0,s!==null)for(var w=0,_=s.length;w<_;++w){var S=s[w];n[m++]=S>>16&255,n[m++]=S>>8&255,n[m++]=255&S}if(i!==null){if(i<0||65535<i)throw new Error("Loop count invalid.");n[m++]=33,n[m++]=255,n[m++]=11,n[m++]=78,n[m++]=69,n[m++]=84,n[m++]=83,n[m++]=67,n[m++]=65,n[m++]=80,n[m++]=69,n[m++]=50,n[m++]=46,n[m++]=48,n[m++]=3,n[m++]=1,n[m++]=255&i,n[m++]=i>>8&255,n[m++]=0}var j=!1;this.addFrame=function(C,R,P,I,A,D){if(j===!0&&(--m,j=!1),D=D===void 0?{}:D,C<0||R<0||65535<C||65535<R)throw new Error("x/y invalid.");if(P<=0||I<=0||65535<P||65535<I)throw new Error("Width/Height invalid.");if(A.length<P*I)throw new Error("Not enough pixels for the frame size.");var N=!0,L=D.palette;if(L==null&&(N=!1,L=s),L==null)throw new Error("Must supply either a local or global palette.");for(var W=a(L),z=0;W>>=1;)++z;W=1<<z;var le=D.delay===void 0?0:D.delay,ue=D.disposal===void 0?0:D.disposal;if(ue<0||3<ue)throw new Error("Disposal out of range.");var J=!1,ce=0;if(D.transparent!==void 0&&D.transparent!==null&&(J=!0,(ce=D.transparent)<0||W<=ce))throw new Error("Transparent color index.");if(ue===0&&!J&&le===0||(n[m++]=33,n[m++]=249,n[m++]=4,n[m++]=ue<<2|(J===!0?1:0),n[m++]=255&le,n[m++]=le>>8&255,n[m++]=ce,n[m++]=0),n[m++]=44,n[m++]=255&C,n[m++]=C>>8&255,n[m++]=255&R,n[m++]=R>>8&255,n[m++]=255&P,n[m++]=P>>8&255,n[m++]=255&I,n[m++]=I>>8&255,n[m++]=N===!0?128|z-1:0,N===!0)for(var se=0,ge=L.length;se<ge;++se){var _e=L[se];n[m++]=_e>>16&255,n[m++]=_e>>8&255,n[m++]=255&_e}return m=function(Ce,be,Ie,Se){Ce[be++]=Ie;var Te=be++,O=1<<Ie,V=O-1,X=1+O,ee=1+X,B=Ie+1,U=0,re=0;function $(Ue){for(;Ue<=U;)Ce[be++]=255&re,re>>=8,U-=8,be===Te+256&&(Ce[Te]=255,Te=be++)}function ne(Ue){re|=Ue<<U,U+=B,$(8)}var ie=Se[0]&V,oe={};ne(O);for(var me=1,ye=Se.length;me<ye;++me){var fe=Se[me]&V,ke=ie<<8|fe,Ne=oe[ke];if(Ne===void 0){for(re|=ie<<U,U+=B;8<=U;)Ce[be++]=255&re,re>>=8,U-=8,be===Te+256&&(Ce[Te]=255,Te=be++);ee===4096?(ne(O),ee=1+X,B=Ie+1,oe={}):(1<<B<=ee&&++B,oe[ke]=ee++),ie=fe}else ie=Ne}return ne(ie),ne(X),$(1),Te+1===be?Ce[Te]=0:(Ce[Te]=be-Te-1,Ce[be++]=0),be}(n,m,z<2?2:z,A)},this.end=function(){return j===!1&&(n[m++]=59,j=!0),m},this.getOutputBuffer=function(){return n},this.setOutputBuffer=function(C){n=C},this.getOutputBufferPosition=function(){return m},this.setOutputBufferPosition=function(C){m=C}},u.GifReader=function(n){var p=0;if(n[p++]!==71||n[p++]!==73||n[p++]!==70||n[p++]!==56||(n[p++]+1&253)!=56||n[p++]!==97)throw new Error("Invalid GIF 87a/89a header.");var f=n[p++]|n[p++]<<8,g=n[p++]|n[p++]<<8,m=n[p++],i=m>>7,s=1<<1+(7&m);n[p++],n[p++];var a=null,c=null;i&&(a=p,p+=3*(c=s));var d=!0,y=[],w=0,_=null,S=0,j=null;for(this.width=f,this.height=g;d&&p<n.length;)switch(n[p++]){case 33:switch(n[p++]){case 255:if(n[p]!==11||n[p+1]==78&&n[p+2]==69&&n[p+3]==84&&n[p+4]==83&&n[p+5]==67&&n[p+6]==65&&n[p+7]==80&&n[p+8]==69&&n[p+9]==50&&n[p+10]==46&&n[p+11]==48&&n[p+12]==3&&n[p+13]==1&&n[p+16]==0)p+=14,j=n[p++]|n[p++]<<8,p++;else for(p+=12;;){if(!(0<=(J=n[p++])))throw Error("Invalid block size");if(J===0)break;p+=J}break;case 249:if(n[p++]!==4||n[p+4]!==0)throw new Error("Invalid graphics extension block.");var C=n[p++];w=n[p++]|n[p++]<<8,_=n[p++],!(1&C)&&(_=null),S=C>>2&7,p++;break;case 254:for(;;){if(!(0<=(J=n[p++])))throw Error("Invalid block size");if(J===0)break;p+=J}break;default:throw new Error("Unknown graphic control label: 0x"+n[p-1].toString(16))}break;case 44:var R=n[p++]|n[p++]<<8,P=n[p++]|n[p++]<<8,I=n[p++]|n[p++]<<8,A=n[p++]|n[p++]<<8,D=n[p++],N=D>>6&1,L=1<<1+(7&D),W=a,z=c,le=!1;D>>7&&(le=!0,W=p,p+=3*(z=L));var ue=p;for(p++;;){var J;if(!(0<=(J=n[p++])))throw Error("Invalid block size");if(J===0)break;p+=J}y.push({x:R,y:P,width:I,height:A,has_local_palette:le,palette_offset:W,palette_size:z,data_offset:ue,data_length:p-ue,transparent_index:_,interlaced:!!N,delay:w,disposal:S});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[p-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return j},this.frameInfo=function(ce){if(ce<0||ce>=y.length)throw new Error("Frame index out of range.");return y[ce]},this.decodeAndBlitFrameBGRA=function(ce,se){var ge=this.frameInfo(ce),_e=ge.width*ge.height,Ce=new Uint8Array(_e);h(n,ge.data_offset,Ce,_e);var be=ge.palette_offset,Ie=ge.transparent_index;Ie===null&&(Ie=256);var Se=ge.width,Te=f-Se,O=Se,V=4*(ge.y*f+ge.x),X=4*((ge.y+ge.height)*f+ge.x),ee=V,B=4*Te;ge.interlaced===!0&&(B+=4*f*7);for(var U=8,re=0,$=Ce.length;re<$;++re){var ne=Ce[re];if(O===0&&(O=Se,X<=(ee+=B)&&(B=4*Te+4*f*(U-1),ee=V+(Se+Te)*(U<<1),U>>=1)),ne===Ie)ee+=4;else{var ie=n[be+3*ne],oe=n[be+3*ne+1],me=n[be+3*ne+2];se[ee++]=me,se[ee++]=oe,se[ee++]=ie,se[ee++]=255}--O}},this.decodeAndBlitFrameRGBA=function(ce,se){var ge=this.frameInfo(ce),_e=ge.width*ge.height,Ce=new Uint8Array(_e);h(n,ge.data_offset,Ce,_e);var be=ge.palette_offset,Ie=ge.transparent_index;Ie===null&&(Ie=256);var Se=ge.width,Te=f-Se,O=Se,V=4*(ge.y*f+ge.x),X=4*((ge.y+ge.height)*f+ge.x),ee=V,B=4*Te;ge.interlaced===!0&&(B+=4*f*7);for(var U=8,re=0,$=Ce.length;re<$;++re){var ne=Ce[re];if(O===0&&(O=Se,X<=(ee+=B)&&(B=4*Te+4*f*(U-1),ee=V+(Se+Te)*(U<<1),U>>=1)),ne===Ie)ee+=4;else{var ie=n[be+3*ne],oe=n[be+3*ne+1],me=n[be+3*ne+2];se[ee++]=ie,se[ee++]=oe,se[ee++]=me,se[ee++]=255}--O}}}}catch{}},{}],239:[function(e,l,u){(function(h){var n,p;n=this,p=function(f){function g(v){if(this==null)throw TypeError();var x=String(this),T=x.length,E=v?Number(v):0;if(E!=E&&(E=0),!(E<0||T<=E)){var M,k=x.charCodeAt(E);return 55296<=k&&k<=56319&&E+1<T&&56320<=(M=x.charCodeAt(E+1))&&M<=57343?1024*(k-55296)+M-56320+65536:k}}var m;String.prototype.codePointAt||((m=function(){try{var v={},x=Object.defineProperty,T=x(v,v,v)&&x}catch{}return T}())?m(String.prototype,"codePointAt",{value:g,configurable:!0,writable:!0}):String.prototype.codePointAt=g);var i=0,s=-3;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function c(v,x){this.source=v,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=x,this.destLen=0,this.ltree=new a,this.dtree=new a}var d=new a,y=new a,w=new Uint8Array(30),_=new Uint16Array(30),S=new Uint8Array(30),j=new Uint16Array(30),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),R=new a,P=new Uint8Array(320);function I(v,x,T,E){var M,k;for(M=0;M<T;++M)v[M]=0;for(M=0;M<30-T;++M)v[M+T]=M/T|0;for(k=E,M=0;M<30;++M)x[M]=k,k+=1<<v[M]}var A=new Uint16Array(16);function D(v,x,T,E){var M,k;for(M=0;M<16;++M)v.table[M]=0;for(M=0;M<E;++M)v.table[x[T+M]]++;for(M=k=v.table[0]=0;M<16;++M)A[M]=k,k+=v.table[M];for(M=0;M<E;++M)x[T+M]&&(v.trans[A[x[T+M]]++]=M)}function N(v){v.bitcount--||(v.tag=v.source[v.sourceIndex++],v.bitcount=7);var x=1&v.tag;return v.tag>>>=1,x}function L(v,x,T){if(!x)return T;for(;v.bitcount<24;)v.tag|=v.source[v.sourceIndex++]<<v.bitcount,v.bitcount+=8;var E=v.tag&65535>>>16-x;return v.tag>>>=x,v.bitcount-=x,E+T}function W(v,x){for(;v.bitcount<24;)v.tag|=v.source[v.sourceIndex++]<<v.bitcount,v.bitcount+=8;for(var T=0,E=0,M=0,k=v.tag;E=2*E+(1&k),k>>>=1,++M,T+=x.table[M],0<=(E-=x.table[M]););return v.tag=k,v.bitcount-=M,x.trans[T+E]}function z(v,x,T){var E,M,k,F,Y,Z;for(E=L(v,5,257),M=L(v,5,1),k=L(v,4,4),F=0;F<19;++F)P[F]=0;for(F=0;F<k;++F){var de=L(v,3,0);P[C[F]]=de}for(D(R,P,0,19),Y=0;Y<E+M;){var ve=W(v,R);switch(ve){case 16:var Ee=P[Y-1];for(Z=L(v,2,3);Z;--Z)P[Y++]=Ee;break;case 17:for(Z=L(v,3,3);Z;--Z)P[Y++]=0;break;case 18:for(Z=L(v,7,11);Z;--Z)P[Y++]=0;break;default:P[Y++]=ve}}D(x,P,0,E),D(T,P,E,M)}function le(v,x,T){for(;;){var E,M,k,F,Y=W(v,x);if(Y===256)return i;if(Y<256)v.dest[v.destLen++]=Y;else for(E=L(v,w[Y-=257],_[Y]),M=W(v,T),F=k=v.destLen-L(v,S[M],j[M]);F<k+E;++F)v.dest[v.destLen++]=v.dest[F]}}function ue(v){for(var x,T;8<v.bitcount;)v.sourceIndex--,v.bitcount-=8;if((x=256*(x=v.source[v.sourceIndex+1])+v.source[v.sourceIndex])!==(65535&~(256*v.source[v.sourceIndex+3]+v.source[v.sourceIndex+2])))return s;for(v.sourceIndex+=4,T=x;T;--T)v.dest[v.destLen++]=v.source[v.sourceIndex++];return v.bitcount=0,i}(function(v,x){var T;for(T=0;T<7;++T)v.table[T]=0;for(v.table[7]=24,v.table[8]=152,v.table[9]=112,T=0;T<24;++T)v.trans[T]=256+T;for(T=0;T<144;++T)v.trans[24+T]=T;for(T=0;T<8;++T)v.trans[168+T]=280+T;for(T=0;T<112;++T)v.trans[176+T]=144+T;for(T=0;T<5;++T)x.table[T]=0;for(x.table[5]=32,T=0;T<32;++T)x.trans[T]=T})(d,y),I(w,_,4,3),I(S,j,2,1),w[28]=0,_[28]=258;var J=function(v,x){var T,E,M=new c(v,x);do{switch(T=N(M),L(M,2,0)){case 0:E=ue(M);break;case 1:E=le(M,d,y);break;case 2:z(M,M.ltree,M.dtree),E=le(M,M.ltree,M.dtree);break;default:E=s}if(E!==i)throw new Error("Data error")}while(!T);return M.destLen<M.dest.length?typeof M.dest.slice=="function"?M.dest.slice(0,M.destLen):M.dest.subarray(0,M.destLen):M.dest};function ce(v,x,T,E,M){return Math.pow(1-M,3)*v+3*Math.pow(1-M,2)*M*x+3*(1-M)*Math.pow(M,2)*T+Math.pow(M,3)*E}function se(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ge(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function _e(v){throw new Error(v)}function Ce(v,x){v||_e(x)}se.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},se.prototype.addPoint=function(v,x){typeof v=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=v,this.x2=v),v<this.x1&&(this.x1=v),v>this.x2&&(this.x2=v)),typeof x=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=x,this.y2=x),x<this.y1&&(this.y1=x),x>this.y2&&(this.y2=x))},se.prototype.addX=function(v){this.addPoint(v,null)},se.prototype.addY=function(v){this.addPoint(null,v)},se.prototype.addBezier=function(v,x,T,E,M,k,F,Y){var Z=[v,x],de=[T,E],ve=[M,k],Ee=[F,Y];this.addPoint(v,x),this.addPoint(F,Y);for(var te=0;te<=1;te++){var Ke=6*Z[te]-12*de[te]+6*ve[te],Xe=-3*Z[te]+9*de[te]-9*ve[te]+3*Ee[te],Fe=3*de[te]-3*Z[te];if(Xe!=0){var Me=Math.pow(Ke,2)-4*Fe*Xe;if(!(Me<0)){var Be=(-Ke+Math.sqrt(Me))/(2*Xe);0<Be&&Be<1&&(te===0&&this.addX(ce(Z[te],de[te],ve[te],Ee[te],Be)),te===1&&this.addY(ce(Z[te],de[te],ve[te],Ee[te],Be)));var at=(-Ke-Math.sqrt(Me))/(2*Xe);0<at&&at<1&&(te===0&&this.addX(ce(Z[te],de[te],ve[te],Ee[te],at)),te===1&&this.addY(ce(Z[te],de[te],ve[te],Ee[te],at)))}}else{if(Ke==0)continue;var it=-Fe/Ke;0<it&&it<1&&(te===0&&this.addX(ce(Z[te],de[te],ve[te],Ee[te],it)),te===1&&this.addY(ce(Z[te],de[te],ve[te],Ee[te],it)))}}},se.prototype.addQuad=function(v,x,T,E,M,k){var F=v+.6666666666666666*(T-v),Y=x+2/3*(E-x),Z=F+1/3*(M-v),de=Y+1/3*(k-x);this.addBezier(v,x,F,Y,Z,de,M,k)},ge.prototype.moveTo=function(v,x){this.commands.push({type:"M",x:v,y:x})},ge.prototype.lineTo=function(v,x){this.commands.push({type:"L",x:v,y:x})},ge.prototype.curveTo=ge.prototype.bezierCurveTo=function(v,x,T,E,M,k){this.commands.push({type:"C",x1:v,y1:x,x2:T,y2:E,x:M,y:k})},ge.prototype.quadTo=ge.prototype.quadraticCurveTo=function(v,x,T,E){this.commands.push({type:"Q",x1:v,y1:x,x:T,y:E})},ge.prototype.close=ge.prototype.closePath=function(){this.commands.push({type:"Z"})},ge.prototype.extend=function(v){if(v.commands)v=v.commands;else if(v instanceof se){var x=v;return this.moveTo(x.x1,x.y1),this.lineTo(x.x2,x.y1),this.lineTo(x.x2,x.y2),this.lineTo(x.x1,x.y2),void this.close()}Array.prototype.push.apply(this.commands,v)},ge.prototype.getBoundingBox=function(){for(var v=new se,x=0,T=0,E=0,M=0,k=0;k<this.commands.length;k++){var F=this.commands[k];switch(F.type){case"M":v.addPoint(F.x,F.y),x=E=F.x,T=M=F.y;break;case"L":v.addPoint(F.x,F.y),E=F.x,M=F.y;break;case"Q":v.addQuad(E,M,F.x1,F.y1,F.x,F.y),E=F.x,M=F.y;break;case"C":v.addBezier(E,M,F.x1,F.y1,F.x2,F.y2,F.x,F.y),E=F.x,M=F.y;break;case"Z":E=x,M=T;break;default:throw new Error("Unexpected path command "+F.type)}}return v.isEmpty()&&v.addPoint(0,0),v},ge.prototype.draw=function(v){v.beginPath();for(var x=0;x<this.commands.length;x+=1){var T=this.commands[x];T.type==="M"?v.moveTo(T.x,T.y):T.type==="L"?v.lineTo(T.x,T.y):T.type==="C"?v.bezierCurveTo(T.x1,T.y1,T.x2,T.y2,T.x,T.y):T.type==="Q"?v.quadraticCurveTo(T.x1,T.y1,T.x,T.y):T.type==="Z"&&v.closePath()}this.fill&&(v.fillStyle=this.fill,v.fill()),this.stroke&&(v.strokeStyle=this.stroke,v.lineWidth=this.strokeWidth,v.stroke())},ge.prototype.toPathData=function(v){function x(){for(var k,F=arguments,Y="",Z=0;Z<arguments.length;Z+=1){var de=F[Z];0<=de&&0<Z&&(Y+=" "),Y+=(k=de,Math.round(k)===k?""+Math.round(k):k.toFixed(v))}return Y}v=v!==void 0?v:2;for(var T="",E=0;E<this.commands.length;E+=1){var M=this.commands[E];M.type==="M"?T+="M"+x(M.x,M.y):M.type==="L"?T+="L"+x(M.x,M.y):M.type==="C"?T+="C"+x(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?T+="Q"+x(M.x1,M.y1,M.x,M.y):M.type==="Z"&&(T+="Z")}return T},ge.prototype.toSVG=function(v){var x='<path d="';return x+=this.toPathData(v),x+='"',this.fill&&this.fill!=="black"&&(this.fill===null?x+=' fill="none"':x+=' fill="'+this.fill+'"'),this.stroke&&(x+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),x+="/>"},ge.prototype.toDOMElement=function(v){var x=this.toPathData(v),T=document.createElementNS("http://www.w3.org/2000/svg","path");return T.setAttribute("d",x),T};var be={fail:_e,argument:Ce,assert:Ce},Ie={},Se={},Te={};function O(v){return function(){return v}}Se.BYTE=function(v){return be.argument(0<=v&&v<=255,"Byte value should be between 0 and 255."),[v]},Te.BYTE=O(1),Se.CHAR=function(v){return[v.charCodeAt(0)]},Te.CHAR=O(1),Se.CHARARRAY=function(v){for(var x=[],T=0;T<v.length;T+=1)x[T]=v.charCodeAt(T);return x},Te.CHARARRAY=function(v){return v.length},Se.USHORT=function(v){return[v>>8&255,255&v]},Te.USHORT=O(2),Se.SHORT=function(v){return 32768<=v&&(v=-(65536-v)),[v>>8&255,255&v]},Te.SHORT=O(2),Se.UINT24=function(v){return[v>>16&255,v>>8&255,255&v]},Te.UINT24=O(3),Se.ULONG=function(v){return[v>>24&255,v>>16&255,v>>8&255,255&v]},Te.ULONG=O(4),Se.LONG=function(v){return 2147483648<=v&&(v=-(4294967296-v)),[v>>24&255,v>>16&255,v>>8&255,255&v]},Te.LONG=O(4),Se.FIXED=Se.ULONG,Te.FIXED=Te.ULONG,Se.FWORD=Se.SHORT,Te.FWORD=Te.SHORT,Se.UFWORD=Se.USHORT,Te.UFWORD=Te.USHORT,Se.LONGDATETIME=function(v){return[0,0,0,0,v>>24&255,v>>16&255,v>>8&255,255&v]},Te.LONGDATETIME=O(8),Se.TAG=function(v){return be.argument(v.length===4,"Tag should be exactly 4 ASCII characters."),[v.charCodeAt(0),v.charCodeAt(1),v.charCodeAt(2),v.charCodeAt(3)]},Te.TAG=O(4),Se.Card8=Se.BYTE,Te.Card8=Te.BYTE,Se.Card16=Se.USHORT,Te.Card16=Te.USHORT,Se.OffSize=Se.BYTE,Te.OffSize=Te.BYTE,Se.SID=Se.USHORT,Te.SID=Te.USHORT,Se.NUMBER=function(v){return-107<=v&&v<=107?[v+139]:108<=v&&v<=1131?[247+((v-=108)>>8),255&v]:-1131<=v&&v<=-108?[251+((v=-v-108)>>8),255&v]:-32768<=v&&v<=32767?Se.NUMBER16(v):Se.NUMBER32(v)},Te.NUMBER=function(v){return Se.NUMBER(v).length},Se.NUMBER16=function(v){return[28,v>>8&255,255&v]},Te.NUMBER16=O(3),Se.NUMBER32=function(v){return[29,v>>24&255,v>>16&255,v>>8&255,255&v]},Te.NUMBER32=O(5),Se.REAL=function(v){var x=v.toString(),T=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(x);if(T){var E=parseFloat("1e"+((T[2]?+T[2]:0)+T[1].length));x=(Math.round(v*E)/E).toString()}for(var M="",k=0,F=x.length;k<F;k+=1){var Y=x[k];M+=Y==="e"?x[++k]==="-"?"c":"b":Y==="."?"a":Y==="-"?"e":Y}for(var Z=[30],de=0,ve=(M+=1&M.length?"f":"ff").length;de<ve;de+=2)Z.push(parseInt(M.substr(de,2),16));return Z},Te.REAL=function(v){return Se.REAL(v).length},Se.NAME=Se.CHARARRAY,Te.NAME=Te.CHARARRAY,Se.STRING=Se.CHARARRAY,Te.STRING=Te.CHARARRAY,Ie.UTF8=function(v,x,T){for(var E=[],M=T,k=0;k<M;k++,x+=1)E[k]=v.getUint8(x);return String.fromCharCode.apply(null,E)},Ie.UTF16=function(v,x,T){for(var E=[],M=T/2,k=0;k<M;k++,x+=2)E[k]=v.getUint16(x);return String.fromCharCode.apply(null,E)},Se.UTF16=function(v){for(var x=[],T=0;T<v.length;T+=1){var E=v.charCodeAt(T);x[x.length]=E>>8&255,x[x.length]=255&E}return x},Te.UTF16=function(v){return 2*v.length};var V={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};Ie.MACSTRING=function(v,x,T,E){var M=V[E];if(M!==void 0){for(var k="",F=0;F<T;F++){var Y=v.getUint8(x+F);k+=Y<=127?String.fromCharCode(Y):M[127&Y]}return k}};var X,ee=typeof WeakMap=="function"&&new WeakMap;function B(v){return-128<=v&&v<=127}function U(v,x,T){for(var E=0,M=v.length;x<M&&E<64&&v[x]===0;)++x,++E;return T.push(128|E-1),x}function re(v,x,T){for(var E=0,M=v.length,k=x;k<M&&E<64;){var F=v[k];if(!B(F)||F===0&&k+1<M&&v[k+1]===0)break;++k,++E}T.push(E-1);for(var Y=x;Y<k;++Y)T.push(v[Y]+256&255);return k}function $(v,x,T){for(var E=0,M=v.length,k=x;k<M&&E<64;){var F=v[k];if(F===0||B(F)&&k+1<M&&B(v[k+1]))break;++k,++E}T.push(64|E-1);for(var Y=x;Y<k;++Y){var Z=v[Y];T.push(Z+65536>>8&255,Z+256&255)}return k}Se.MACSTRING=function(v,x){var T=function(F){if(!X)for(var Y in X={},V)X[Y]=new String(Y);var Z=X[F];if(Z!==void 0){if(ee){var de=ee.get(Z);if(de!==void 0)return de}var ve=V[F];if(ve!==void 0){for(var Ee={},te=0;te<ve.length;te++)Ee[ve.charCodeAt(te)]=te+128;return ee&&ee.set(Z,Ee),Ee}}}(x);if(T!==void 0){for(var E=[],M=0;M<v.length;M++){var k=v.charCodeAt(M);if(128<=k&&(k=T[k])===void 0)return;E[M]=k}return E}},Te.MACSTRING=function(v,x){var T=Se.MACSTRING(v,x);return T!==void 0?T.length:0},Se.VARDELTAS=function(v){for(var x=0,T=[];x<v.length;){var E=v[x];x=E===0?U(v,x,T):-128<=E&&E<=127?re(v,x,T):$(v,x,T)}return T},Se.INDEX=function(v){for(var x=1,T=[x],E=[],M=0;M<v.length;M+=1){var k=Se.OBJECT(v[M]);Array.prototype.push.apply(E,k),x+=k.length,T.push(x)}if(E.length===0)return[0,0];for(var F=[],Y=1+Math.floor(Math.log(x)/Math.log(2))/8|0,Z=[void 0,Se.BYTE,Se.USHORT,Se.UINT24,Se.ULONG][Y],de=0;de<T.length;de+=1){var ve=Z(T[de]);Array.prototype.push.apply(F,ve)}return Array.prototype.concat(Se.Card16(v.length),Se.OffSize(Y),F,E)},Te.INDEX=function(v){return Se.INDEX(v).length},Se.DICT=function(v){for(var x=[],T=Object.keys(v),E=T.length,M=0;M<E;M+=1){var k=parseInt(T[M],0),F=v[k];x=(x=x.concat(Se.OPERAND(F.value,F.type))).concat(Se.OPERATOR(k))}return x},Te.DICT=function(v){return Se.DICT(v).length},Se.OPERATOR=function(v){return v<1200?[v]:[12,v-1200]},Se.OPERAND=function(v,x){var T=[];if(Array.isArray(x))for(var E=0;E<x.length;E+=1)be.argument(v.length===x.length,"Not enough arguments given for type"+x),T=T.concat(Se.OPERAND(v[E],x[E]));else if(x==="SID")T=T.concat(Se.NUMBER(v));else if(x==="offset")T=T.concat(Se.NUMBER32(v));else if(x==="number")T=T.concat(Se.NUMBER(v));else{if(x!=="real")throw new Error("Unknown operand type "+x);T=T.concat(Se.REAL(v))}return T},Se.OP=Se.BYTE,Te.OP=Te.BYTE;var ne=typeof WeakMap=="function"&&new WeakMap;function ie(v,x,T){for(var E=0;E<x.length;E+=1){var M=x[E];this[M.name]=M.value}if(this.tableName=v,this.fields=x,T)for(var k=Object.keys(T),F=0;F<k.length;F+=1){var Y=k[F],Z=T[Y];this[Y]!==void 0&&(this[Y]=Z)}}function oe(v,x,T){T===void 0&&(T=x.length);var E=new Array(x.length+1);E[0]={name:v+"Count",type:"USHORT",value:T};for(var M=0;M<x.length;M++)E[M+1]={name:v+M,type:"USHORT",value:x[M]};return E}function me(v,x,T){var E=x.length,M=new Array(E+1);M[0]={name:v+"Count",type:"USHORT",value:E};for(var k=0;k<E;k++)M[k+1]={name:v+k,type:"TABLE",value:T(x[k],k)};return M}function ye(v,x,T){var E=x.length,M=[];M[0]={name:v+"Count",type:"USHORT",value:E};for(var k=0;k<E;k++)M=M.concat(T(x[k],k));return M}function fe(v){v.format===1?ie.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(oe("glyph",v.glyphs))):be.assert(!1,"Can't create coverage table format 2 yet.")}function ke(v){ie.call(this,"scriptListTable",ye("scriptRecord",v,function(x,T){var E=x.script,M=E.defaultLangSys;return be.assert(!!M,"Unable to write GSUB: script "+x.tag+" has no default language system."),[{name:"scriptTag"+T,type:"TAG",value:x.tag},{name:"script"+T,type:"TABLE",value:new ie("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ie("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:M.reqFeatureIndex}].concat(oe("featureIndex",M.featureIndexes)))}].concat(ye("langSys",E.langSysRecords,function(k,F){var Y=k.langSys;return[{name:"langSysTag"+F,type:"TAG",value:k.tag},{name:"langSys"+F,type:"TABLE",value:new ie("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Y.reqFeatureIndex}].concat(oe("featureIndex",Y.featureIndexes)))}]})))}]}))}function Ne(v){ie.call(this,"featureListTable",ye("featureRecord",v,function(x,T){var E=x.feature;return[{name:"featureTag"+T,type:"TAG",value:x.tag},{name:"feature"+T,type:"TABLE",value:new ie("featureTable",[{name:"featureParams",type:"USHORT",value:E.featureParams}].concat(oe("lookupListIndex",E.lookupListIndexes)))}]}))}function Ue(v,x){ie.call(this,"lookupListTable",me("lookup",v,function(T){var E=x[T.lookupType];return be.assert(!!E,"Unable to write GSUB lookup type "+T.lookupType+" tables."),new ie("lookupTable",[{name:"lookupType",type:"USHORT",value:T.lookupType},{name:"lookupFlag",type:"USHORT",value:T.lookupFlag}].concat(me("subtable",T.subtables,E)))}))}Se.CHARSTRING=function(v){if(ne){var x=ne.get(v);if(x!==void 0)return x}for(var T=[],E=v.length,M=0;M<E;M+=1){var k=v[M];T=T.concat(Se[k.type](k.value))}return ne&&ne.set(v,T),T},Te.CHARSTRING=function(v){return Se.CHARSTRING(v).length},Se.OBJECT=function(v){var x=Se[v.type];return be.argument(x!==void 0,"No encoding function for type "+v.type),x(v.value)},Te.OBJECT=function(v){var x=Te[v.type];return be.argument(x!==void 0,"No sizeOf function for type "+v.type),x(v.value)},Se.TABLE=function(v){for(var x=[],T=v.fields.length,E=[],M=[],k=0;k<T;k+=1){var F=v.fields[k],Y=Se[F.type];be.argument(Y!==void 0,"No encoding function for field type "+F.type+" ("+F.name+")");var Z=v[F.name];Z===void 0&&(Z=F.value);var de=Y(Z);F.type==="TABLE"?(M.push(x.length),x=x.concat([0,0]),E.push(de)):x=x.concat(de)}for(var ve=0;ve<E.length;ve+=1){var Ee=M[ve],te=x.length;be.argument(te<65536,"Table "+v.tableName+" too big."),x[Ee]=te>>8,x[Ee+1]=255&te,x=x.concat(E[ve])}return x},Te.TABLE=function(v){for(var x=0,T=v.fields.length,E=0;E<T;E+=1){var M=v.fields[E],k=Te[M.type];be.argument(k!==void 0,"No sizeOf function for field type "+M.type+" ("+M.name+")");var F=v[M.name];F===void 0&&(F=M.value),x+=k(F),M.type==="TABLE"&&(x+=2)}return x},Se.RECORD=Se.TABLE,Te.RECORD=Te.TABLE,Se.LITERAL=function(v){return v},Te.LITERAL=function(v){return v.length},ie.prototype.encode=function(){return Se.TABLE(this)},ie.prototype.sizeOf=function(){return Te.TABLE(this)};var Le={Table:ie,Record:ie,Coverage:(fe.prototype=Object.create(ie.prototype)).constructor=fe,ScriptList:(ke.prototype=Object.create(ie.prototype)).constructor=ke,FeatureList:(Ne.prototype=Object.create(ie.prototype)).constructor=Ne,LookupList:(Ue.prototype=Object.create(ie.prototype)).constructor=Ue,ushortList:oe,tableList:me,recordList:ye};function Ze(v,x){return v.getUint8(x)}function Ae(v,x){return v.getUint16(x,!1)}function Re(v,x){return v.getUint32(x,!1)}function qe(v,x){return v.getInt16(x,!1)+v.getUint16(x+2,!1)/65535}var $e={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function we(v,x){this.data=v,this.offset=x,this.relativeOffset=0}we.prototype.parseByte=function(){var v=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,v},we.prototype.parseChar=function(){var v=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,v},we.prototype.parseCard8=we.prototype.parseByte,we.prototype.parseCard16=we.prototype.parseUShort=function(){var v=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,v},we.prototype.parseSID=we.prototype.parseUShort,we.prototype.parseOffset16=we.prototype.parseUShort,we.prototype.parseShort=function(){var v=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,v},we.prototype.parseF2Dot14=function(){var v=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,v},we.prototype.parseOffset32=we.prototype.parseULong=function(){var v=Re(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,v},we.prototype.parseFixed=function(){var v=qe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,v},we.prototype.parseString=function(v){var x=this.data,T=this.offset+this.relativeOffset,E="";this.relativeOffset+=v;for(var M=0;M<v;M++)E+=String.fromCharCode(x.getUint8(T+M));return E},we.prototype.parseTag=function(){return this.parseString(4)},we.prototype.parseLongDateTime=function(){var v=Re(this.data,this.offset+this.relativeOffset+4);return v-=2082844800,this.relativeOffset+=8,v},we.prototype.parseVersion=function(v){var x=Ae(this.data,this.offset+this.relativeOffset),T=Ae(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,v===void 0&&(v=4096),x+T/v/10},we.prototype.skip=function(v,x){x===void 0&&(x=1),this.relativeOffset+=$e[v]*x},we.prototype.parseULongList=function(v){v===void 0&&(v=this.parseULong());for(var x=new Array(v),T=this.data,E=this.offset+this.relativeOffset,M=0;M<v;M++)x[M]=T.getUint32(E),E+=4;return this.relativeOffset+=4*v,x},we.prototype.parseOffset16List=we.prototype.parseUShortList=function(v){v===void 0&&(v=this.parseUShort());for(var x=new Array(v),T=this.data,E=this.offset+this.relativeOffset,M=0;M<v;M++)x[M]=T.getUint16(E),E+=2;return this.relativeOffset+=2*v,x},we.prototype.parseShortList=function(v){for(var x=new Array(v),T=this.data,E=this.offset+this.relativeOffset,M=0;M<v;M++)x[M]=T.getInt16(E),E+=2;return this.relativeOffset+=2*v,x},we.prototype.parseByteList=function(v){for(var x=new Array(v),T=this.data,E=this.offset+this.relativeOffset,M=0;M<v;M++)x[M]=T.getUint8(E++);return this.relativeOffset+=v,x},we.prototype.parseList=function(v,x){x||(x=v,v=this.parseUShort());for(var T=new Array(v),E=0;E<v;E++)T[E]=x.call(this);return T},we.prototype.parseList32=function(v,x){x||(x=v,v=this.parseULong());for(var T=new Array(v),E=0;E<v;E++)T[E]=x.call(this);return T},we.prototype.parseRecordList=function(v,x){x||(x=v,v=this.parseUShort());for(var T=new Array(v),E=Object.keys(x),M=0;M<v;M++){for(var k={},F=0;F<E.length;F++){var Y=E[F],Z=x[Y];k[Y]=Z.call(this)}T[M]=k}return T},we.prototype.parseRecordList32=function(v,x){x||(x=v,v=this.parseULong());for(var T=new Array(v),E=Object.keys(x),M=0;M<v;M++){for(var k={},F=0;F<E.length;F++){var Y=E[F],Z=x[Y];k[Y]=Z.call(this)}T[M]=k}return T},we.prototype.parseStruct=function(v){if(typeof v=="function")return v.call(this);for(var x=Object.keys(v),T={},E=0;E<x.length;E++){var M=x[E],k=v[M];T[M]=k.call(this)}return T},we.prototype.parseValueRecord=function(v){if(v===void 0&&(v=this.parseUShort()),v!==0){var x={};return 1&v&&(x.xPlacement=this.parseShort()),2&v&&(x.yPlacement=this.parseShort()),4&v&&(x.xAdvance=this.parseShort()),8&v&&(x.yAdvance=this.parseShort()),16&v&&(x.xPlaDevice=void 0,this.parseShort()),32&v&&(x.yPlaDevice=void 0,this.parseShort()),64&v&&(x.xAdvDevice=void 0,this.parseShort()),128&v&&(x.yAdvDevice=void 0,this.parseShort()),x}},we.prototype.parseValueRecordList=function(){for(var v=this.parseUShort(),x=this.parseUShort(),T=new Array(x),E=0;E<x;E++)T[E]=this.parseValueRecord(v);return T},we.prototype.parsePointer=function(v){var x=this.parseOffset16();if(0<x)return new we(this.data,this.offset+x).parseStruct(v)},we.prototype.parsePointer32=function(v){var x=this.parseOffset32();if(0<x)return new we(this.data,this.offset+x).parseStruct(v)},we.prototype.parseListOfLists=function(v){for(var x=this.parseOffset16List(),T=x.length,E=this.relativeOffset,M=new Array(T),k=0;k<T;k++){var F=x[k];if(F!==0)if(this.relativeOffset=F,v){for(var Y=this.parseOffset16List(),Z=new Array(Y.length),de=0;de<Y.length;de++)this.relativeOffset=F+Y[de],Z[de]=v.call(this);M[k]=Z}else M[k]=this.parseUShortList();else M[k]=void 0}return this.relativeOffset=E,M},we.prototype.parseCoverage=function(){var v=this.offset+this.relativeOffset,x=this.parseUShort(),T=this.parseUShort();if(x===1)return{format:1,glyphs:this.parseUShortList(T)};if(x!==2)throw new Error("0x"+v.toString(16)+": Coverage format must be 1 or 2.");for(var E=new Array(T),M=0;M<T;M++)E[M]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:E}},we.prototype.parseClassDef=function(){var v=this.offset+this.relativeOffset,x=this.parseUShort();if(x===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(x===2)return{format:2,ranges:this.parseRecordList({start:we.uShort,end:we.uShort,classId:we.uShort})};throw new Error("0x"+v.toString(16)+": ClassDef format must be 1 or 2.")},we.list=function(v,x){return function(){return this.parseList(v,x)}},we.list32=function(v,x){return function(){return this.parseList32(v,x)}},we.recordList=function(v,x){return function(){return this.parseRecordList(v,x)}},we.recordList32=function(v,x){return function(){return this.parseRecordList32(v,x)}},we.pointer=function(v){return function(){return this.parsePointer(v)}},we.pointer32=function(v){return function(){return this.parsePointer32(v)}},we.tag=we.prototype.parseTag,we.byte=we.prototype.parseByte,we.uShort=we.offset16=we.prototype.parseUShort,we.uShortList=we.prototype.parseUShortList,we.uLong=we.offset32=we.prototype.parseULong,we.uLongList=we.prototype.parseULongList,we.struct=we.prototype.parseStruct,we.coverage=we.prototype.parseCoverage,we.classDef=we.prototype.parseClassDef;var ot={reserved:we.uShort,reqFeatureIndex:we.uShort,featureIndexes:we.uShortList};we.prototype.parseScriptList=function(){return this.parsePointer(we.recordList({tag:we.tag,script:we.pointer({defaultLangSys:we.pointer(ot),langSysRecords:we.recordList({tag:we.tag,langSys:we.pointer(ot)})})}))||[]},we.prototype.parseFeatureList=function(){return this.parsePointer(we.recordList({tag:we.tag,feature:we.pointer({featureParams:we.offset16,lookupListIndexes:we.uShortList})}))||[]},we.prototype.parseLookupList=function(v){return this.parsePointer(we.list(we.pointer(function(){var x=this.parseUShort();be.argument(1<=x&&x<=9,"GPOS/GSUB lookup type "+x+" unknown.");var T=this.parseUShort(),E=16&T;return{lookupType:x,lookupFlag:T,subtables:this.parseList(we.pointer(v[x])),markFilteringSet:E?this.parseUShort():void 0}})))||[]},we.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var v=this.parseUShort(),x=this.parseUShort();return be.argument(v===1&&x<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:we.offset32,featureTableSubstitutionOffset:we.offset32})})||[]};var H={getByte:Ze,getCard8:Ze,getUShort:Ae,getCard16:Ae,getShort:function(v,x){return v.getInt16(x,!1)},getULong:Re,getFixed:qe,getTag:function(v,x){for(var T="",E=x;E<x+4;E+=1)T+=String.fromCharCode(v.getInt8(E));return T},getOffset:function(v,x,T){for(var E=0,M=0;M<T;M+=1)E<<=8,E+=v.getUint8(x+M);return E},getBytes:function(v,x,T){for(var E=[],M=x;M<T;M+=1)E.push(v.getUint8(M));return E},bytesToString:function(v){for(var x="",T=0;T<v.length;T+=1)x+=String.fromCharCode(v[T]);return x},Parser:we},Q={parse:function(v,x){var T={};T.version=H.getUShort(v,x),be.argument(T.version===0,"cmap table version should be 0."),T.numTables=H.getUShort(v,x+2);for(var E=-1,M=T.numTables-1;0<=M;--M){var k=H.getUShort(v,x+4+8*M),F=H.getUShort(v,x+4+8*M+2);if(k===3&&(F===0||F===1||F===10)||k===0&&(F===0||F===1||F===2||F===3||F===4)){E=H.getULong(v,x+4+8*M+4);break}}if(E===-1)throw new Error("No valid cmap sub-tables found.");var Y=new H.Parser(v,x+E);if(T.format=Y.parseUShort(),T.format===12)(function(Z,de){var ve;de.parseUShort(),Z.length=de.parseULong(),Z.language=de.parseULong(),Z.groupCount=ve=de.parseULong(),Z.glyphIndexMap={};for(var Ee=0;Ee<ve;Ee+=1)for(var te=de.parseULong(),Ke=de.parseULong(),Xe=de.parseULong(),Fe=te;Fe<=Ke;Fe+=1)Z.glyphIndexMap[Fe]=Xe,Xe++})(T,Y);else{if(T.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+T.format+").");(function(Z,de,ve,Ee,te){var Ke;Z.length=de.parseUShort(),Z.language=de.parseUShort(),Z.segCount=Ke=de.parseUShort()>>1,de.skip("uShort",3),Z.glyphIndexMap={};for(var Xe=new H.Parser(ve,Ee+te+14),Fe=new H.Parser(ve,Ee+te+16+2*Ke),Me=new H.Parser(ve,Ee+te+16+4*Ke),Be=new H.Parser(ve,Ee+te+16+6*Ke),at=Ee+te+16+8*Ke,it=0;it<Ke-1;it+=1)for(var St=void 0,dt=Xe.parseUShort(),pt=Fe.parseUShort(),nr=Me.parseShort(),jt=Be.parseUShort(),Tt=pt;Tt<=dt;Tt+=1)jt!==0?(at=Be.offset+Be.relativeOffset-2,at+=jt,at+=2*(Tt-pt),(St=H.getUShort(ve,at))!==0&&(St=St+nr&65535)):St=Tt+nr&65535,Z.glyphIndexMap[Tt]=St})(T,Y,v,x,E)}return T},make:function(v){var x,T=!0;for(x=v.length-1;0<x;--x)if(65535<v.get(x).unicode){console.log("Adding CMAP format 12 (needed!)"),T=!1;break}var E=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:T?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:T?12:20}];T||(E=E.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),E=E.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var M,k,F,Y=new Le.Table("cmap",E);for(Y.segments=[],x=0;x<v.length;x+=1){for(var Z=v.get(x),de=0;de<Z.unicodes.length;de+=1)M=Y,k=Z.unicodes[de],F=x,M.segments.push({end:k,start:k,delta:-(k-F),offset:0,glyphIndex:F});Y.segments=Y.segments.sort(function(St,dt){return St.start-dt.start})}Y.segments.push({end:65535,start:65535,delta:1,offset:0});var ve=Y.segments.length,Ee=0,te=[],Ke=[],Xe=[],Fe=[],Me=[],Be=[];for(x=0;x<ve;x+=1){var at=Y.segments[x];at.end<=65535&&at.start<=65535?(te=te.concat({name:"end_"+x,type:"USHORT",value:at.end}),Ke=Ke.concat({name:"start_"+x,type:"USHORT",value:at.start}),Xe=Xe.concat({name:"idDelta_"+x,type:"SHORT",value:at.delta}),Fe=Fe.concat({name:"idRangeOffset_"+x,type:"USHORT",value:at.offset}),at.glyphId!==void 0&&(Me=Me.concat({name:"glyph_"+x,type:"USHORT",value:at.glyphId}))):Ee+=1,T||at.glyphIndex===void 0||(Be=(Be=(Be=Be.concat({name:"cmap12Start_"+x,type:"ULONG",value:at.start})).concat({name:"cmap12End_"+x,type:"ULONG",value:at.end})).concat({name:"cmap12Glyph_"+x,type:"ULONG",value:at.glyphIndex}))}if(Y.segCountX2=2*(ve-Ee),Y.searchRange=2*Math.pow(2,Math.floor(Math.log(ve-Ee)/Math.log(2))),Y.entrySelector=Math.log(Y.searchRange/2)/Math.log(2),Y.rangeShift=Y.segCountX2-Y.searchRange,Y.fields=Y.fields.concat(te),Y.fields.push({name:"reservedPad",type:"USHORT",value:0}),Y.fields=Y.fields.concat(Ke),Y.fields=Y.fields.concat(Xe),Y.fields=Y.fields.concat(Fe),Y.fields=Y.fields.concat(Me),Y.cmap4Length=14+2*te.length+2+2*Ke.length+2*Xe.length+2*Fe.length+2*Me.length,!T){var it=16+4*Be.length;Y.cmap12Offset=20+Y.cmap4Length,Y.fields=Y.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:it},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Be.length/3}]),Y.fields=Y.fields.concat(Be)}return Y}},q=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],K=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],he=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],je=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function De(v){this.font=v}function We(v){this.cmap=v}function xe(v,x){this.encoding=v,this.charset=x}function Qe(v){switch(v.version){case 1:this.names=je.slice();break;case 2:this.names=new Array(v.numberOfGlyphs);for(var x=0;x<v.numberOfGlyphs;x++)v.glyphNameIndex[x]<je.length?this.names[x]=je[v.glyphNameIndex[x]]:this.names[x]=v.names[v.glyphNameIndex[x]-je.length];break;case 2.5:this.names=new Array(v.numberOfGlyphs);for(var T=0;T<v.numberOfGlyphs;T++)this.names[T]=je[T+v.glyphNameIndex[T]];break;case 3:default:this.names=[]}}De.prototype.charToGlyphIndex=function(v){var x=v.codePointAt(0),T=this.font.glyphs;if(T){for(var E=0;E<T.length;E+=1)for(var M=T.get(E),k=0;k<M.unicodes.length;k+=1)if(M.unicodes[k]===x)return E}return null},We.prototype.charToGlyphIndex=function(v){return this.cmap.glyphIndexMap[v.codePointAt(0)]||0},xe.prototype.charToGlyphIndex=function(v){var x=v.codePointAt(0),T=this.encoding[x];return this.charset.indexOf(T)},Qe.prototype.nameToGlyphIndex=function(v){return this.names.indexOf(v)},Qe.prototype.glyphIndexToName=function(v){return this.names[v]};var ut={line:function(v,x,T,E,M){v.beginPath(),v.moveTo(x,T),v.lineTo(E,M),v.stroke()}};function mt(v){this.bindConstructorValues(v)}function bt(v,x,T){Object.defineProperty(v,x,{get:function(){return v.path,v[T]},set:function(E){v[T]=E},enumerable:!0,configurable:!0})}function gt(v,x){if(this.font=v,this.glyphs={},Array.isArray(x))for(var T=0;T<x.length;T++)this.glyphs[T]=x[T];this.length=x&&x.length||0}mt.prototype.bindConstructorValues=function(v){var x,T;this.index=v.index||0,this.name=v.name||null,this.unicode=v.unicode||void 0,this.unicodes=v.unicodes||v.unicode!==void 0?[v.unicode]:[],v.xMin&&(this.xMin=v.xMin),v.yMin&&(this.yMin=v.yMin),v.xMax&&(this.xMax=v.xMax),v.yMax&&(this.yMax=v.yMax),v.advanceWidth&&(this.advanceWidth=v.advanceWidth),Object.defineProperty(this,"path",(x=v.path,T=x||new ge,{configurable:!0,get:function(){return typeof T=="function"&&(T=T()),T},set:function(E){T=E}}))},mt.prototype.addUnicode=function(v){this.unicodes.length===0&&(this.unicode=v),this.unicodes.push(v)},mt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},mt.prototype.getPath=function(v,x,T,E,M){var k,F;v=v!==void 0?v:0,x=x!==void 0?x:0,T=T!==void 0?T:72;var Y=(E=E||{}).xScale,Z=E.yScale;if(E.hinting&&M&&M.hinting&&(F=this.path&&M.hinting.exec(this,T)),F)k=M.hinting.getCommands(F),v=Math.round(v),x=Math.round(x),Y=Z=1;else{k=this.path.commands;var de=1/this.path.unitsPerEm*T;Y===void 0&&(Y=de),Z===void 0&&(Z=de)}for(var ve=new ge,Ee=0;Ee<k.length;Ee+=1){var te=k[Ee];te.type==="M"?ve.moveTo(v+te.x*Y,x+-te.y*Z):te.type==="L"?ve.lineTo(v+te.x*Y,x+-te.y*Z):te.type==="Q"?ve.quadraticCurveTo(v+te.x1*Y,x+-te.y1*Z,v+te.x*Y,x+-te.y*Z):te.type==="C"?ve.curveTo(v+te.x1*Y,x+-te.y1*Z,v+te.x2*Y,x+-te.y2*Z,v+te.x*Y,x+-te.y*Z):te.type==="Z"&&ve.closePath()}return ve},mt.prototype.getContours=function(){if(this.points===void 0)return[];for(var v=[],x=[],T=0;T<this.points.length;T+=1){var E=this.points[T];x.push(E),E.lastPointOfContour&&(v.push(x),x=[])}return be.argument(x.length===0,"There are still points left in the current contour."),v},mt.prototype.getMetrics=function(){for(var v=this.path.commands,x=[],T=[],E=0;E<v.length;E+=1){var M=v[E];M.type!=="Z"&&(x.push(M.x),T.push(M.y)),M.type!=="Q"&&M.type!=="C"||(x.push(M.x1),T.push(M.y1)),M.type==="C"&&(x.push(M.x2),T.push(M.y2))}var k={xMin:Math.min.apply(null,x),yMin:Math.min.apply(null,T),xMax:Math.max.apply(null,x),yMax:Math.max.apply(null,T),leftSideBearing:this.leftSideBearing};return isFinite(k.xMin)||(k.xMin=0),isFinite(k.xMax)||(k.xMax=this.advanceWidth),isFinite(k.yMin)||(k.yMin=0),isFinite(k.yMax)||(k.yMax=0),k.rightSideBearing=this.advanceWidth-k.leftSideBearing-(k.xMax-k.xMin),k},mt.prototype.draw=function(v,x,T,E,M){this.getPath(x,T,E,M).draw(v)},mt.prototype.drawPoints=function(v,x,T,E){function M(Ee,te,Ke,Xe){var Fe=2*Math.PI;v.beginPath();for(var Me=0;Me<Ee.length;Me+=1)v.moveTo(te+Ee[Me].x*Xe,Ke+Ee[Me].y*Xe),v.arc(te+Ee[Me].x*Xe,Ke+Ee[Me].y*Xe,2,0,Fe,!1);v.closePath(),v.fill()}x=x!==void 0?x:0,T=T!==void 0?T:0,E=E!==void 0?E:24;for(var k=1/this.path.unitsPerEm*E,F=[],Y=[],Z=this.path,de=0;de<Z.commands.length;de+=1){var ve=Z.commands[de];ve.x!==void 0&&F.push({x:ve.x,y:-ve.y}),ve.x1!==void 0&&Y.push({x:ve.x1,y:-ve.y1}),ve.x2!==void 0&&Y.push({x:ve.x2,y:-ve.y2})}v.fillStyle="blue",M(F,x,T,k),v.fillStyle="red",M(Y,x,T,k)},mt.prototype.drawMetrics=function(v,x,T,E){var M;x=x!==void 0?x:0,T=T!==void 0?T:0,E=E!==void 0?E:24,M=1/this.path.unitsPerEm*E,v.lineWidth=1,v.strokeStyle="black",ut.line(v,x,-1e4,x,1e4),ut.line(v,-1e4,T,1e4,T);var k=this.xMin||0,F=this.yMin||0,Y=this.xMax||0,Z=this.yMax||0,de=this.advanceWidth||0;v.strokeStyle="blue",ut.line(v,x+k*M,-1e4,x+k*M,1e4),ut.line(v,x+Y*M,-1e4,x+Y*M,1e4),ut.line(v,-1e4,T+-F*M,1e4,T+-F*M),ut.line(v,-1e4,T+-Z*M,1e4,T+-Z*M),v.strokeStyle="green",ut.line(v,x+de*M,-1e4,x+de*M,1e4)},gt.prototype.get=function(v){return typeof this.glyphs[v]=="function"&&(this.glyphs[v]=this.glyphs[v]()),this.glyphs[v]},gt.prototype.push=function(v,x){this.glyphs[v]=x,this.length++};var vt={GlyphSet:gt,glyphLoader:function(v,x){return new mt({index:x,font:v})},ttfGlyphLoader:function(v,x,T,E,M,k){return function(){var F=new mt({index:x,font:v});return F.path=function(){T(F,E,M);var Y=k(v.glyphs,F);return Y.unitsPerEm=v.unitsPerEm,Y},bt(F,"xMin","_xMin"),bt(F,"xMax","_xMax"),bt(F,"yMin","_yMin"),bt(F,"yMax","_yMax"),F}},cffGlyphLoader:function(v,x,T,E){return function(){var M=new mt({index:x,font:v});return M.path=function(){var k=T(v,M,E);return k.unitsPerEm=v.unitsPerEm,k},M}}};function Pt(v,x){if(v===x)return!0;if(Array.isArray(v)&&Array.isArray(x)){if(v.length!==x.length)return!1;for(var T=0;T<v.length;T+=1)if(!Pt(v[T],x[T]))return!1;return!0}return!1}function mn(v){return v.length<1240?107:v.length<33900?1131:32768}function Pr(v,x,T){var E,M,k=[],F=[],Y=H.getCard16(v,x);if(Y!==0){var Z=H.getByte(v,x+2);E=x+(Y+1)*Z+2;for(var de=x+3,ve=0;ve<Y+1;ve+=1)k.push(H.getOffset(v,de,Z)),de+=Z;M=E+k[Y]}else M=x+2;for(var Ee=0;Ee<k.length-1;Ee+=1){var te=H.getBytes(v,E+k[Ee],E+k[Ee+1]);T&&(te=T(te)),F.push(te)}return{objects:F,startOffset:x,endOffset:M}}function fo(v,x){if(x===28)return v.parseByte()<<8|v.parseByte();if(x===29)return v.parseByte()<<24|v.parseByte()<<16|v.parseByte()<<8|v.parseByte();if(x===30)return function(T){for(var E="",M=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var k=T.parseByte(),F=k>>4,Y=15&k;if(F==15||(E+=M[F],Y==15))break;E+=M[Y]}return parseFloat(E)}(v);if(32<=x&&x<=246)return x-139;if(247<=x&&x<=250)return 256*(x-247)+v.parseByte()+108;if(251<=x&&x<=254)return 256*-(x-251)-v.parseByte()-108;throw new Error("Invalid b0 "+x)}function An(v,x,T){x=x!==void 0?x:0;var E=new H.Parser(v,x),M=[],k=[];for(T=T!==void 0?T:v.length;E.relativeOffset<T;){var F=E.parseByte();F<=21?(F===12&&(F=1200+E.parseByte()),M.push([F,k]),k=[]):k.push(fo(E,F))}return function(Y){for(var Z={},de=0;de<Y.length;de+=1){var ve=Y[de][0],Ee=Y[de][1],te=void 0;if(te=Ee.length===1?Ee[0]:Ee,Z.hasOwnProperty(ve)&&!isNaN(Z[ve]))throw new Error("Object "+Z+" already has key "+ve);Z[ve]=te}return Z}(M)}function gn(v,x){return x=x<=390?q[x]:v[x-391]}function po(v,x,T){for(var E,M={},k=0;k<x.length;k+=1){var F=x[k];if(Array.isArray(F.type)){var Y=[];Y.length=F.type.length;for(var Z=0;Z<F.type.length;Z++)(E=v[F.op]!==void 0?v[F.op][Z]:void 0)===void 0&&(E=F.value!==void 0&&F.value[Z]!==void 0?F.value[Z]:null),F.type[Z]==="SID"&&(E=gn(T,E)),Y[Z]=E;M[F.name]=Y}else(E=v[F.op])===void 0&&(E=F.value!==void 0?F.value:null),F.type==="SID"&&(E=gn(T,E)),M[F.name]=E}return M}var mo=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],go=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function yo(v,x,T,E){return po(An(v,x,T),go,E)}function vo(v,x,T,E){for(var M,k,F=[],Y=0;Y<T.length;Y+=1){var Z=new DataView(new Uint8Array(T[Y]).buffer),de=(k=E,po(An(M=Z,0,M.byteLength),mo,k));de._subrs=[],de._subrsBias=0;var ve=de.private[0],Ee=de.private[1];if(ve!==0&&Ee!==0){var te=yo(v,Ee+x,ve,E);if(de._defaultWidthX=te.defaultWidthX,de._nominalWidthX=te.nominalWidthX,te.subrs!==0){var Ke=Pr(v,Ee+te.subrs+x);de._subrs=Ke.objects,de._subrsBias=mn(de._subrs)}de._privateDict=te}F.push(de)}return F}function Fo(v,x,T){var E,M,k,F,Y,Z,de,ve,Ee=new ge,te=[],Ke=0,Xe=!1,Fe=!1,Me=0,Be=0;if(v.isCIDFont){var at=v.tables.cff.topDict._fdSelect[x.index],it=v.tables.cff.topDict._fdArray[at];Y=it._subrs,Z=it._subrsBias,de=it._defaultWidthX,ve=it._nominalWidthX}else Y=v.tables.cff.topDict._subrs,Z=v.tables.cff.topDict._subrsBias,de=v.tables.cff.topDict._defaultWidthX,ve=v.tables.cff.topDict._nominalWidthX;var St=de;function dt(nr,jt){Fe&&Ee.closePath(),Ee.moveTo(nr,jt),Fe=!0}function pt(){te.length%2==0||Xe||(St=te.shift()+ve),Ke+=te.length>>1,te.length=0,Xe=!0}return function nr(jt){for(var Tt,Ct,Gt,Ut,er,Ht,Ft,tr,Wt,ir,Ot,lr,$t=0;$t<jt.length;){var Qt=jt[$t];switch($t+=1,Qt){case 1:case 3:pt();break;case 4:1<te.length&&!Xe&&(St=te.shift()+ve,Xe=!0),Be+=te.pop(),dt(Me,Be);break;case 5:for(;0<te.length;)Me+=te.shift(),Be+=te.shift(),Ee.lineTo(Me,Be);break;case 6:for(;0<te.length&&(Me+=te.shift(),Ee.lineTo(Me,Be),te.length!==0);)Be+=te.shift(),Ee.lineTo(Me,Be);break;case 7:for(;0<te.length&&(Be+=te.shift(),Ee.lineTo(Me,Be),te.length!==0);)Me+=te.shift(),Ee.lineTo(Me,Be);break;case 8:for(;0<te.length;)E=Me+te.shift(),M=Be+te.shift(),k=E+te.shift(),F=M+te.shift(),Me=k+te.shift(),Be=F+te.shift(),Ee.curveTo(E,M,k,F,Me,Be);break;case 10:er=te.pop()+Z,(Ht=Y[er])&&nr(Ht);break;case 11:return;case 12:switch(Qt=jt[$t],$t+=1,Qt){case 35:E=Me+te.shift(),M=Be+te.shift(),k=E+te.shift(),F=M+te.shift(),Ft=k+te.shift(),tr=F+te.shift(),Wt=Ft+te.shift(),ir=tr+te.shift(),Ot=Wt+te.shift(),lr=ir+te.shift(),Me=Ot+te.shift(),Be=lr+te.shift(),te.shift(),Ee.curveTo(E,M,k,F,Ft,tr),Ee.curveTo(Wt,ir,Ot,lr,Me,Be);break;case 34:E=Me+te.shift(),M=Be,k=E+te.shift(),F=M+te.shift(),Ft=k+te.shift(),tr=F,Wt=Ft+te.shift(),ir=F,Ot=Wt+te.shift(),lr=Be,Me=Ot+te.shift(),Ee.curveTo(E,M,k,F,Ft,tr),Ee.curveTo(Wt,ir,Ot,lr,Me,Be);break;case 36:E=Me+te.shift(),M=Be+te.shift(),k=E+te.shift(),F=M+te.shift(),Ft=k+te.shift(),tr=F,Wt=Ft+te.shift(),ir=F,Ot=Wt+te.shift(),lr=ir+te.shift(),Me=Ot+te.shift(),Ee.curveTo(E,M,k,F,Ft,tr),Ee.curveTo(Wt,ir,Ot,lr,Me,Be);break;case 37:E=Me+te.shift(),M=Be+te.shift(),k=E+te.shift(),F=M+te.shift(),Ft=k+te.shift(),tr=F+te.shift(),Wt=Ft+te.shift(),ir=tr+te.shift(),Ot=Wt+te.shift(),lr=ir+te.shift(),Math.abs(Ot-Me)>Math.abs(lr-Be)?Me=Ot+te.shift():Be=lr+te.shift(),Ee.curveTo(E,M,k,F,Ft,tr),Ee.curveTo(Wt,ir,Ot,lr,Me,Be);break;default:console.log("Glyph "+x.index+": unknown operator 1200"+Qt),te.length=0}break;case 14:0<te.length&&!Xe&&(St=te.shift()+ve,Xe=!0),Fe&&(Ee.closePath(),Fe=!1);break;case 18:pt();break;case 19:case 20:pt(),$t+=Ke+7>>3;break;case 21:2<te.length&&!Xe&&(St=te.shift()+ve,Xe=!0),Be+=te.pop(),dt(Me+=te.pop(),Be);break;case 22:1<te.length&&!Xe&&(St=te.shift()+ve,Xe=!0),dt(Me+=te.pop(),Be);break;case 23:pt();break;case 24:for(;2<te.length;)E=Me+te.shift(),M=Be+te.shift(),k=E+te.shift(),F=M+te.shift(),Me=k+te.shift(),Be=F+te.shift(),Ee.curveTo(E,M,k,F,Me,Be);Me+=te.shift(),Be+=te.shift(),Ee.lineTo(Me,Be);break;case 25:for(;6<te.length;)Me+=te.shift(),Be+=te.shift(),Ee.lineTo(Me,Be);E=Me+te.shift(),M=Be+te.shift(),k=E+te.shift(),F=M+te.shift(),Me=k+te.shift(),Be=F+te.shift(),Ee.curveTo(E,M,k,F,Me,Be);break;case 26:for(te.length%2&&(Me+=te.shift());0<te.length;)E=Me,M=Be+te.shift(),k=E+te.shift(),F=M+te.shift(),Me=k,Be=F+te.shift(),Ee.curveTo(E,M,k,F,Me,Be);break;case 27:for(te.length%2&&(Be+=te.shift());0<te.length;)E=Me+te.shift(),M=Be,k=E+te.shift(),F=M+te.shift(),Me=k+te.shift(),Be=F,Ee.curveTo(E,M,k,F,Me,Be);break;case 28:Tt=jt[$t],Ct=jt[$t+1],te.push((Tt<<24|Ct<<16)>>16),$t+=2;break;case 29:er=te.pop()+v.gsubrsBias,(Ht=v.gsubrs[er])&&nr(Ht);break;case 30:for(;0<te.length&&(E=Me,M=Be+te.shift(),k=E+te.shift(),F=M+te.shift(),Me=k+te.shift(),Be=F+(te.length===1?te.shift():0),Ee.curveTo(E,M,k,F,Me,Be),te.length!==0);)E=Me+te.shift(),M=Be,k=E+te.shift(),F=M+te.shift(),Be=F+te.shift(),Me=k+(te.length===1?te.shift():0),Ee.curveTo(E,M,k,F,Me,Be);break;case 31:for(;0<te.length&&(E=Me+te.shift(),M=Be,k=E+te.shift(),F=M+te.shift(),Be=F+te.shift(),Me=k+(te.length===1?te.shift():0),Ee.curveTo(E,M,k,F,Me,Be),te.length!==0);)E=Me,M=Be+te.shift(),k=E+te.shift(),F=M+te.shift(),Me=k+te.shift(),Be=F+(te.length===1?te.shift():0),Ee.curveTo(E,M,k,F,Me,Be);break;default:Qt<32?console.log("Glyph "+x.index+": unknown operator "+Qt):Qt<247?te.push(Qt-139):Qt<251?(Tt=jt[$t],$t+=1,te.push(256*(Qt-247)+Tt+108)):Qt<255?(Tt=jt[$t],$t+=1,te.push(256*-(Qt-251)-Tt-108)):(Tt=jt[$t],Ct=jt[$t+1],Gt=jt[$t+2],Ut=jt[$t+3],$t+=4,te.push((Tt<<24|Ct<<16|Gt<<8|Ut)/65536))}}}(T),x.advanceWidth=St,Ee}function qn(v,x){var T,E=q.indexOf(v);return 0<=E&&(T=E),0<=(E=x.indexOf(v))?T=E+q.length:(T=q.length+x.length,x.push(v)),T}function Yn(v,x,T){for(var E={},M=0;M<v.length;M+=1){var k=v[M],F=x[k.name];F===void 0||Pt(F,k.value)||(k.type==="SID"&&(F=qn(F,T)),E[k.op]={name:k.name,type:k.type,value:F})}return E}function pe(v,x){var T=new Le.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return T.dict=Yn(mo,v,x),T}function Ge(v){var x=new Le.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return x.topDicts=[{name:"topDict_0",type:"TABLE",value:v}],x}function Je(v){var x=[],T=v.path;x.push({name:"width",type:"NUMBER",value:v.advanceWidth});for(var E=0,M=0,k=0;k<T.commands.length;k+=1){var F=void 0,Y=void 0,Z=T.commands[k];if(Z.type==="Q"&&(Z={type:"C",x:Z.x,y:Z.y,x1:1/3*E+2/3*Z.x1,y1:1/3*M+2/3*Z.y1,x2:1/3*Z.x+2/3*Z.x1,y2:1/3*Z.y+2/3*Z.y1}),Z.type==="M")F=Math.round(Z.x-E),Y=Math.round(Z.y-M),x.push({name:"dx",type:"NUMBER",value:F}),x.push({name:"dy",type:"NUMBER",value:Y}),x.push({name:"rmoveto",type:"OP",value:21}),E=Math.round(Z.x),M=Math.round(Z.y);else if(Z.type==="L")F=Math.round(Z.x-E),Y=Math.round(Z.y-M),x.push({name:"dx",type:"NUMBER",value:F}),x.push({name:"dy",type:"NUMBER",value:Y}),x.push({name:"rlineto",type:"OP",value:5}),E=Math.round(Z.x),M=Math.round(Z.y);else if(Z.type==="C"){var de=Math.round(Z.x1-E),ve=Math.round(Z.y1-M),Ee=Math.round(Z.x2-Z.x1),te=Math.round(Z.y2-Z.y1);F=Math.round(Z.x-Z.x2),Y=Math.round(Z.y-Z.y2),x.push({name:"dx1",type:"NUMBER",value:de}),x.push({name:"dy1",type:"NUMBER",value:ve}),x.push({name:"dx2",type:"NUMBER",value:Ee}),x.push({name:"dy2",type:"NUMBER",value:te}),x.push({name:"dx",type:"NUMBER",value:F}),x.push({name:"dy",type:"NUMBER",value:Y}),x.push({name:"rrcurveto",type:"OP",value:8}),E=Math.round(Z.x),M=Math.round(Z.y)}}return x.push({name:"endchar",type:"OP",value:14}),x}var Ye={parse:function(v,x,T){T.tables.cff={};var E,M,k,F=Pr(v,(E=v,M=x,(k={}).formatMajor=H.getCard8(E,M),k.formatMinor=H.getCard8(E,M+1),k.size=H.getCard8(E,M+2),k.offsetSize=H.getCard8(E,M+3),k.startOffset=M,k.endOffset=M+4,k).endOffset,H.bytesToString),Y=Pr(v,F.endOffset),Z=Pr(v,Y.endOffset,H.bytesToString),de=Pr(v,Z.endOffset);T.gsubrs=de.objects,T.gsubrsBias=mn(T.gsubrs);var ve=vo(v,x,Y.objects,Z.objects);if(ve.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ve.length);var Ee=ve[0];if((T.tables.cff.topDict=Ee)._privateDict&&(T.defaultWidthX=Ee._privateDict.defaultWidthX,T.nominalWidthX=Ee._privateDict.nominalWidthX),Ee.ros[0]!==void 0&&Ee.ros[1]!==void 0&&(T.isCIDFont=!0),T.isCIDFont){var te=Ee.fdArray,Ke=Ee.fdSelect;if(te===0||Ke===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var Xe=vo(v,x,Pr(v,te+=x).objects,Z.objects);Ee._fdArray=Xe,Ke+=x,Ee._fdSelect=function(pt,nr,jt,Tt){var Ct,Gt=[],Ut=new H.Parser(pt,nr),er=Ut.parseCard8();if(er===0)for(var Ht=0;Ht<jt;Ht++){if(Tt<=(Ct=Ut.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ct+" (FD count "+Tt+")");Gt.push(Ct)}else{if(er!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+er);var Ft,tr=Ut.parseCard16(),Wt=Ut.parseCard16();if(Wt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Wt);for(var ir=0;ir<tr;ir++){if(Ct=Ut.parseCard8(),Ft=Ut.parseCard16(),Tt<=Ct)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ct+" (FD count "+Tt+")");if(jt<Ft)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Ft);for(;Wt<Ft;Wt++)Gt.push(Ct);Wt=Ft}if(Ft!==jt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Ft)}return Gt}(v,Ke,T.numGlyphs,Xe.length)}var Fe=x+Ee.private[1],Me=yo(v,Fe,Ee.private[0],Z.objects);if(T.defaultWidthX=Me.defaultWidthX,T.nominalWidthX=Me.nominalWidthX,Me.subrs!==0){var Be=Pr(v,Fe+Me.subrs);T.subrs=Be.objects,T.subrsBias=mn(T.subrs)}else T.subrs=[],T.subrsBias=0;var at=Pr(v,x+Ee.charStrings);T.nGlyphs=at.objects.length;var it=function(pt,nr,jt,Tt){var Ct,Gt,Ut=new H.Parser(pt,nr);--jt;var er=[".notdef"],Ht=Ut.parseCard8();if(Ht===0)for(var Ft=0;Ft<jt;Ft+=1)Ct=Ut.parseSID(),er.push(gn(Tt,Ct));else if(Ht===1)for(;er.length<=jt;){Ct=Ut.parseSID(),Gt=Ut.parseCard8();for(var tr=0;tr<=Gt;tr+=1)er.push(gn(Tt,Ct)),Ct+=1}else{if(Ht!==2)throw new Error("Unknown charset format "+Ht);for(;er.length<=jt;){Ct=Ut.parseSID(),Gt=Ut.parseCard16();for(var Wt=0;Wt<=Gt;Wt+=1)er.push(gn(Tt,Ct)),Ct+=1}}return er}(v,x+Ee.charset,T.nGlyphs,Z.objects);Ee.encoding===0?T.cffEncoding=new xe(K,it):Ee.encoding===1?T.cffEncoding=new xe(he,it):T.cffEncoding=function(pt,nr,jt){var Tt,Ct={},Gt=new H.Parser(pt,nr),Ut=Gt.parseCard8();if(Ut===0)for(var er=Gt.parseCard8(),Ht=0;Ht<er;Ht+=1)Ct[Tt=Gt.parseCard8()]=Ht;else{if(Ut!==1)throw new Error("Unknown encoding format "+Ut);var Ft=Gt.parseCard8();Tt=1;for(var tr=0;tr<Ft;tr+=1)for(var Wt=Gt.parseCard8(),ir=Gt.parseCard8(),Ot=Wt;Ot<=Wt+ir;Ot+=1)Ct[Ot]=Tt,Tt+=1}return new xe(Ct,jt)}(v,x+Ee.encoding,it),T.encoding=T.encoding||T.cffEncoding,T.glyphs=new vt.GlyphSet(T);for(var St=0;St<T.nGlyphs;St+=1){var dt=at.objects[St];T.glyphs.push(St,vt.cffGlyphLoader(T,St,Fo,dt))}},make:function(v,x){for(var T,E=new Le.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),M=1/x.unitsPerEm,k={version:x.version,fullName:x.fullName,familyName:x.familyName,weight:x.weightName,fontBBox:x.fontBBox||[0,0,0,0],fontMatrix:[M,0,0,M,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},F=[],Y=1;Y<v.length;Y+=1)T=v.get(Y),F.push(T.name);var Z=[];E.header=new Le.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),E.nameIndex=function(Xe){var Fe=new Le.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Fe.names=[];for(var Me=0;Me<Xe.length;Me+=1)Fe.names.push({name:"name_"+Me,type:"NAME",value:Xe[Me]});return Fe}([x.postScriptName]);var de,ve,Ee,te=pe(k,Z);E.topDictIndex=Ge(te),E.globalSubrIndex=new Le.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),E.charsets=function(Xe,Fe){for(var Me=new Le.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Be=0;Be<Xe.length;Be+=1){var at=qn(Xe[Be],Fe);Me.fields.push({name:"glyph_"+Be,type:"SID",value:at})}return Me}(F,Z),E.charStringsIndex=function(Xe){for(var Fe=new Le.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Me=0;Me<Xe.length;Me+=1){var Be=Xe.get(Me),at=Je(Be);Fe.charStrings.push({name:Be.name,type:"CHARSTRING",value:at})}return Fe}(v),E.privateDict=(de={},ve=Z,(Ee=new Le.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Yn(go,de,ve),Ee),E.stringIndex=function(Xe){var Fe=new Le.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Fe.strings=[];for(var Me=0;Me<Xe.length;Me+=1)Fe.strings.push({name:"string_"+Me,type:"STRING",value:Xe[Me]});return Fe}(Z);var Ke=E.header.sizeOf()+E.nameIndex.sizeOf()+E.topDictIndex.sizeOf()+E.stringIndex.sizeOf()+E.globalSubrIndex.sizeOf();return k.charset=Ke,k.encoding=0,k.charStrings=k.charset+E.charsets.sizeOf(),k.private[1]=k.charStrings+E.charStringsIndex.sizeOf(),te=pe(k,Z),E.topDictIndex=Ge(te),E}},st={parse:function(v,x){var T={},E=new H.Parser(v,x);return T.version=E.parseVersion(),T.fontRevision=Math.round(1e3*E.parseFixed())/1e3,T.checkSumAdjustment=E.parseULong(),T.magicNumber=E.parseULong(),be.argument(T.magicNumber===1594834165,"Font header has wrong magic number."),T.flags=E.parseUShort(),T.unitsPerEm=E.parseUShort(),T.created=E.parseLongDateTime(),T.modified=E.parseLongDateTime(),T.xMin=E.parseShort(),T.yMin=E.parseShort(),T.xMax=E.parseShort(),T.yMax=E.parseShort(),T.macStyle=E.parseUShort(),T.lowestRecPPEM=E.parseUShort(),T.fontDirectionHint=E.parseShort(),T.indexToLocFormat=E.parseShort(),T.glyphDataFormat=E.parseShort(),T},make:function(v){var x=Math.round(new Date().getTime()/1e3)+2082844800,T=x;return v.createdTimestamp&&(T=v.createdTimestamp+2082844800),new Le.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:T},{name:"modified",type:"LONGDATETIME",value:x},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],v)}},Ve={parse:function(v,x){var T={},E=new H.Parser(v,x);return T.version=E.parseVersion(),T.ascender=E.parseShort(),T.descender=E.parseShort(),T.lineGap=E.parseShort(),T.advanceWidthMax=E.parseUShort(),T.minLeftSideBearing=E.parseShort(),T.minRightSideBearing=E.parseShort(),T.xMaxExtent=E.parseShort(),T.caretSlopeRise=E.parseShort(),T.caretSlopeRun=E.parseShort(),T.caretOffset=E.parseShort(),E.relativeOffset+=8,T.metricDataFormat=E.parseShort(),T.numberOfHMetrics=E.parseUShort(),T},make:function(v){return new Le.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],v)}},Et={parse:function(v,x,T,E,M){for(var k,F,Y=new H.Parser(v,x),Z=0;Z<E;Z+=1){Z<T&&(k=Y.parseUShort(),F=Y.parseShort());var de=M.get(Z);de.advanceWidth=k,de.leftSideBearing=F}},make:function(v){for(var x=new Le.Table("hmtx",[]),T=0;T<v.length;T+=1){var E=v.get(T),M=E.advanceWidth||0,k=E.leftSideBearing||0;x.fields.push({name:"advanceWidth_"+T,type:"USHORT",value:M}),x.fields.push({name:"leftSideBearing_"+T,type:"SHORT",value:k})}return x}},kt={make:function(v){for(var x=new Le.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:v.length}]),T="",E=12+4*v.length,M=0;M<v.length;++M){var k=T.indexOf(v[M]);k<0&&(k=T.length,T+=v[M]),x.fields.push({name:"offset "+M,type:"USHORT",value:E+k}),x.fields.push({name:"length "+M,type:"USHORT",value:v[M].length})}return x.fields.push({name:"stringPool",type:"CHARARRAY",value:T}),x},parse:function(v,x){var T=new H.Parser(v,x),E=T.parseULong();be.argument(E===1,"Unsupported ltag table version."),T.skip("uLong",1);for(var M=T.parseULong(),k=[],F=0;F<M;F++){for(var Y="",Z=x+T.parseUShort(),de=T.parseUShort(),ve=Z;ve<Z+de;++ve)Y+=String.fromCharCode(v.getInt8(ve));k.push(Y)}return k}},Vt={parse:function(v,x){var T={},E=new H.Parser(v,x);return T.version=E.parseVersion(),T.numGlyphs=E.parseUShort(),T.version===1&&(T.maxPoints=E.parseUShort(),T.maxContours=E.parseUShort(),T.maxCompositePoints=E.parseUShort(),T.maxCompositeContours=E.parseUShort(),T.maxZones=E.parseUShort(),T.maxTwilightPoints=E.parseUShort(),T.maxStorage=E.parseUShort(),T.maxFunctionDefs=E.parseUShort(),T.maxInstructionDefs=E.parseUShort(),T.maxStackElements=E.parseUShort(),T.maxSizeOfInstructions=E.parseUShort(),T.maxComponentElements=E.parseUShort(),T.maxComponentDepth=E.parseUShort()),T},make:function(v){return new Le.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:v}])}},_t=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],rt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Jt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ft={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function ws(v,x,T){switch(v){case 0:if(x===65535)return"und";if(T)return T[x];break;case 1:return rt[x];case 3:return ft[x]}}var bo="utf-16",xs={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},_s={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Ss(v,x,T){switch(v){case 0:return bo;case 1:return _s[T]||xs[x];case 3:if(x===1||x===10)return bo}}function Vo(v){var x={};for(var T in v)x[v[T]]=parseInt(T);return x}function Go(v,x,T,E,M,k){return new Le.Record("NameRecord",[{name:"platformID",type:"USHORT",value:v},{name:"encodingID",type:"USHORT",value:x},{name:"languageID",type:"USHORT",value:T},{name:"nameID",type:"USHORT",value:E},{name:"length",type:"USHORT",value:M},{name:"offset",type:"USHORT",value:k}])}function uu(v,x){var T=function(k,F){var Y=k.length,Z=F.length-Y+1;e:for(var de=0;de<Z;de++)for(;de<Z;de++){for(var ve=0;ve<Y;ve++)if(F[de+ve]!==k[ve])continue e;return de}return-1}(v,x);if(T<0){T=x.length;for(var E=0,M=v.length;E<M;++E)x.push(v[E])}return T}var cu={parse:function(v,x,T){for(var E={},M=new H.Parser(v,x),k=M.parseUShort(),F=M.parseUShort(),Y=M.offset+M.parseUShort(),Z=0;Z<F;Z++){var de=M.parseUShort(),ve=M.parseUShort(),Ee=M.parseUShort(),te=M.parseUShort(),Ke=_t[te]||te,Xe=M.parseUShort(),Fe=M.parseUShort(),Me=ws(de,Ee,T),Be=Ss(de,ve,Ee);if(Be!==void 0&&Me!==void 0){var at=void 0;if(at=Be===bo?Ie.UTF16(v,Y+Fe,Xe):Ie.MACSTRING(v,Y+Fe,Xe,Be)){var it=E[Ke];it===void 0&&(it=E[Ke]={}),it[Me]=at}}}return k===1&&M.parseUShort(),E},make:function(v,x){var T,E=[],M={},k=Vo(_t);for(var F in v){var Y=k[F];if(Y===void 0&&(Y=F),T=parseInt(Y),isNaN(T))throw new Error('Name table entry "'+F+'" does not exist, see nameTableNames for complete list.');M[T]=v[F],E.push(T)}for(var Z=Vo(rt),de=Vo(ft),ve=[],Ee=[],te=0;te<E.length;te++){var Ke=M[T=E[te]];for(var Xe in Ke){var Fe=Ke[Xe],Me=1,Be=Z[Xe],at=Jt[Be],it=Ss(Me,at,Be),St=Se.MACSTRING(Fe,it);St===void 0&&(Me=0,(Be=x.indexOf(Xe))<0&&(Be=x.length,x.push(Xe)),at=4,St=Se.UTF16(Fe));var dt=uu(St,Ee);ve.push(Go(Me,at,Be,T,St.length,dt));var pt=de[Xe];if(pt!==void 0){var nr=Se.UTF16(Fe),jt=uu(nr,Ee);ve.push(Go(3,1,pt,T,nr.length,jt))}}}ve.sort(function(Gt,Ut){return Gt.platformID-Ut.platformID||Gt.encodingID-Ut.encodingID||Gt.languageID-Ut.languageID||Gt.nameID-Ut.nameID});for(var Tt=new Le.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ve.length},{name:"stringOffset",type:"USHORT",value:6+12*ve.length}]),Ct=0;Ct<ve.length;Ct++)Tt.fields.push({name:"record_"+Ct,type:"RECORD",value:ve[Ct]});return Tt.fields.push({name:"strings",type:"LITERAL",value:Ee}),Tt}},ha=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],fa={parse:function(v,x){var T={},E=new H.Parser(v,x);T.version=E.parseUShort(),T.xAvgCharWidth=E.parseShort(),T.usWeightClass=E.parseUShort(),T.usWidthClass=E.parseUShort(),T.fsType=E.parseUShort(),T.ySubscriptXSize=E.parseShort(),T.ySubscriptYSize=E.parseShort(),T.ySubscriptXOffset=E.parseShort(),T.ySubscriptYOffset=E.parseShort(),T.ySuperscriptXSize=E.parseShort(),T.ySuperscriptYSize=E.parseShort(),T.ySuperscriptXOffset=E.parseShort(),T.ySuperscriptYOffset=E.parseShort(),T.yStrikeoutSize=E.parseShort(),T.yStrikeoutPosition=E.parseShort(),T.sFamilyClass=E.parseShort(),T.panose=[];for(var M=0;M<10;M++)T.panose[M]=E.parseByte();return T.ulUnicodeRange1=E.parseULong(),T.ulUnicodeRange2=E.parseULong(),T.ulUnicodeRange3=E.parseULong(),T.ulUnicodeRange4=E.parseULong(),T.achVendID=String.fromCharCode(E.parseByte(),E.parseByte(),E.parseByte(),E.parseByte()),T.fsSelection=E.parseUShort(),T.usFirstCharIndex=E.parseUShort(),T.usLastCharIndex=E.parseUShort(),T.sTypoAscender=E.parseShort(),T.sTypoDescender=E.parseShort(),T.sTypoLineGap=E.parseShort(),T.usWinAscent=E.parseUShort(),T.usWinDescent=E.parseUShort(),1<=T.version&&(T.ulCodePageRange1=E.parseULong(),T.ulCodePageRange2=E.parseULong()),2<=T.version&&(T.sxHeight=E.parseShort(),T.sCapHeight=E.parseShort(),T.usDefaultChar=E.parseUShort(),T.usBreakChar=E.parseUShort(),T.usMaxContent=E.parseUShort()),T},make:function(v){return new Le.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],v)},unicodeRanges:ha,getUnicodeRange:function(v){for(var x=0;x<ha.length;x+=1){var T=ha[x];if(v>=T.begin&&v<T.end)return x}return-1}},du={parse:function(v,x){var T={},E=new H.Parser(v,x);switch(T.version=E.parseVersion(),T.italicAngle=E.parseFixed(),T.underlinePosition=E.parseShort(),T.underlineThickness=E.parseShort(),T.isFixedPitch=E.parseULong(),T.minMemType42=E.parseULong(),T.maxMemType42=E.parseULong(),T.minMemType1=E.parseULong(),T.maxMemType1=E.parseULong(),T.version){case 1:T.names=je.slice();break;case 2:T.numberOfGlyphs=E.parseUShort(),T.glyphNameIndex=new Array(T.numberOfGlyphs);for(var M=0;M<T.numberOfGlyphs;M++)T.glyphNameIndex[M]=E.parseUShort();T.names=[];for(var k=0;k<T.numberOfGlyphs;k++)if(T.glyphNameIndex[k]>=je.length){var F=E.parseChar();T.names.push(E.parseString(F))}break;case 2.5:T.numberOfGlyphs=E.parseUShort(),T.offset=new Array(T.numberOfGlyphs);for(var Y=0;Y<T.numberOfGlyphs;Y++)T.offset[Y]=E.parseChar()}return T},make:function(){return new Le.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},on=new Array(9);on[1]=function(){var v=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{substFormat:1,coverage:this.parsePointer(we.coverage),deltaGlyphId:this.parseUShort()}:x===2?{substFormat:2,coverage:this.parsePointer(we.coverage),substitute:this.parseOffset16List()}:void be.assert(!1,"0x"+v.toString(16)+": lookup type 1 format must be 1 or 2.")},on[2]=function(){var v=this.parseUShort();return be.argument(v===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(we.coverage),sequences:this.parseListOfLists()}},on[3]=function(){var v=this.parseUShort();return be.argument(v===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(we.coverage),alternateSets:this.parseListOfLists()}},on[4]=function(){var v=this.parseUShort();return be.argument(v===1,"GSUB ligature table identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(we.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Ho={sequenceIndex:we.uShort,lookupListIndex:we.uShort};on[5]=function(){var v=this.offset+this.relativeOffset,x=this.parseUShort();if(x===1)return{substFormat:x,coverage:this.parsePointer(we.coverage),ruleSets:this.parseListOfLists(function(){var M=this.parseUShort(),k=this.parseUShort();return{input:this.parseUShortList(M-1),lookupRecords:this.parseRecordList(k,Ho)}})};if(x===2)return{substFormat:x,coverage:this.parsePointer(we.coverage),classDef:this.parsePointer(we.classDef),classSets:this.parseListOfLists(function(){var M=this.parseUShort(),k=this.parseUShort();return{classes:this.parseUShortList(M-1),lookupRecords:this.parseRecordList(k,Ho)}})};if(x===3){var T=this.parseUShort(),E=this.parseUShort();return{substFormat:x,coverages:this.parseList(T,we.pointer(we.coverage)),lookupRecords:this.parseRecordList(E,Ho)}}be.assert(!1,"0x"+v.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},on[6]=function(){var v=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{substFormat:1,coverage:this.parsePointer(we.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ho)}})}:x===2?{substFormat:2,coverage:this.parsePointer(we.coverage),backtrackClassDef:this.parsePointer(we.classDef),inputClassDef:this.parsePointer(we.classDef),lookaheadClassDef:this.parsePointer(we.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ho)}})}:x===3?{substFormat:3,backtrackCoverage:this.parseList(we.pointer(we.coverage)),inputCoverage:this.parseList(we.pointer(we.coverage)),lookaheadCoverage:this.parseList(we.pointer(we.coverage)),lookupRecords:this.parseRecordList(Ho)}:void be.assert(!1,"0x"+v.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},on[7]=function(){var v=this.parseUShort();be.argument(v===1,"GSUB Extension Substitution subtable identifier-format must be 1");var x=this.parseUShort(),T=new we(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:x,extension:on[x].call(T)}},on[8]=function(){var v=this.parseUShort();return be.argument(v===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(we.coverage),backtrackCoverage:this.parseList(we.pointer(we.coverage)),lookaheadCoverage:this.parseList(we.pointer(we.coverage)),substitutes:this.parseUShortList()}};var Js=new Array(9);Js[1]=function(v){return v.substFormat===1?new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(v.coverage)},{name:"deltaGlyphID",type:"USHORT",value:v.deltaGlyphId}]):new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Le.Coverage(v.coverage)}].concat(Le.ushortList("substitute",v.substitute)))},Js[3]=function(v){return be.assert(v.substFormat===1,"Lookup type 3 substFormat must be 1."),new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(v.coverage)}].concat(Le.tableList("altSet",v.alternateSets,function(x){return new Le.Table("alternateSetTable",Le.ushortList("alternate",x))})))},Js[4]=function(v){return be.assert(v.substFormat===1,"Lookup type 4 substFormat must be 1."),new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(v.coverage)}].concat(Le.tableList("ligSet",v.ligatureSets,function(x){return new Le.Table("ligatureSetTable",Le.tableList("ligature",x,function(T){return new Le.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:T.ligGlyph}].concat(Le.ushortList("component",T.components,T.components.length+1)))}))})))};var hu={parse:function(v,x){var T=new we(v,x=x||0),E=T.parseVersion(1);return be.argument(E===1||E===1.1,"Unsupported GSUB table version."),E===1?{version:E,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(on)}:{version:E,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(on),variations:T.parseFeatureVariationsList()}},make:function(v){return new Le.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Le.ScriptList(v.scripts)},{name:"features",type:"TABLE",value:new Le.FeatureList(v.features)},{name:"lookups",type:"TABLE",value:new Le.LookupList(v.lookups,Js)}])}},fu={parse:function(v,x){var T=new H.Parser(v,x),E=T.parseULong();be.argument(E===1,"Unsupported META table version."),T.parseULong(),T.parseULong();for(var M=T.parseULong(),k={},F=0;F<M;F++){var Y=T.parseTag(),Z=T.parseULong(),de=T.parseULong(),ve=Ie.UTF8(v,x+Z,de);k[Y]=ve}return k},make:function(v){var x=Object.keys(v).length,T="",E=16+12*x,M=new Le.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:E},{name:"numTags",type:"ULONG",value:x}]);for(var k in v){var F=T.length;T+=v[k],M.fields.push({name:"tag "+k,type:"TAG",value:k}),M.fields.push({name:"offset "+k,type:"ULONG",value:E+F}),M.fields.push({name:"length "+k,type:"ULONG",value:v[k].length})}return M.fields.push({name:"stringPool",type:"CHARARRAY",value:T}),M}};function pu(v){return Math.log(v)/Math.log(2)|0}function pa(v){for(;v.length%4!=0;)v.push(0);for(var x=0,T=0;T<v.length;T+=4)x+=(v[T]<<24)+(v[T+1]<<16)+(v[T+2]<<8)+v[T+3];return x%=Math.pow(2,32)}function mu(v,x,T,E){return new Le.Record("Table Record",[{name:"tag",type:"TAG",value:v!==void 0?v:""},{name:"checkSum",type:"ULONG",value:x!==void 0?x:0},{name:"offset",type:"ULONG",value:T!==void 0?T:0},{name:"length",type:"ULONG",value:E!==void 0?E:0}])}function gu(v){var x=new Le.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);x.tables=v,x.numTables=v.length;var T=Math.pow(2,pu(x.numTables));x.searchRange=16*T,x.entrySelector=pu(T),x.rangeShift=16*x.numTables-x.searchRange;for(var E=[],M=[],k=x.sizeOf()+mu().sizeOf()*x.numTables;k%4!=0;)k+=1,M.push({name:"padding",type:"BYTE",value:0});for(var F=0;F<v.length;F+=1){var Y=v[F];be.argument(Y.tableName.length===4,"Table name"+Y.tableName+" is invalid.");var Z=Y.sizeOf(),de=mu(Y.tableName,pa(Y.encode()),k,Z);for(E.push({name:de.tag+" Table Record",type:"RECORD",value:de}),M.push({name:Y.tableName+" table",type:"RECORD",value:Y}),k+=Z,be.argument(!isNaN(k),"Something went wrong calculating the offset.");k%4!=0;)k+=1,M.push({name:"padding",type:"BYTE",value:0})}return E.sort(function(ve,Ee){return ve.value.tag>Ee.value.tag?1:-1}),x.fields=x.fields.concat(E),x.fields=x.fields.concat(M),x}function yu(v,x,T){for(var E=0;E<x.length;E+=1){var M=v.charToGlyphIndex(x[E]);if(0<M)return v.glyphs.get(M).getMetrics()}return T}var xf={make:gu,fontToTable:function(v){for(var x,T=[],E=[],M=[],k=[],F=[],Y=[],Z=[],de=0,ve=0,Ee=0,te=0,Ke=0,Xe=0;Xe<v.glyphs.length;Xe+=1){var Fe=v.glyphs.get(Xe),Me=0|Fe.unicode;if(isNaN(Fe.advanceWidth))throw new Error("Glyph "+Fe.name+" ("+Xe+"): advanceWidth is not a number.");(Me<x||x===void 0)&&0<Me&&(x=Me),de<Me&&(de=Me);var Be=fa.getUnicodeRange(Me);if(Be<32)ve|=1<<Be;else if(Be<64)Ee|=1<<Be-32;else if(Be<96)te|=1<<Be-64;else{if(!(Be<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Ke|=1<<Be-96}if(Fe.name!==".notdef"){var at=Fe.getMetrics();T.push(at.xMin),E.push(at.yMin),M.push(at.xMax),k.push(at.yMax),Y.push(at.leftSideBearing),Z.push(at.rightSideBearing),F.push(Fe.advanceWidth)}}var it={xMin:Math.min.apply(null,T),yMin:Math.min.apply(null,E),xMax:Math.max.apply(null,M),yMax:Math.max.apply(null,k),advanceWidthMax:Math.max.apply(null,F),advanceWidthAvg:function(qo){for(var Xu=0,_a=0;_a<qo.length;_a+=1)Xu+=qo[_a];return Xu/qo.length}(F),minLeftSideBearing:Math.min.apply(null,Y),maxLeftSideBearing:Math.max.apply(null,Y),minRightSideBearing:Math.min.apply(null,Z)};it.ascender=v.ascender,it.descender=v.descender;var St=st.make({flags:3,unitsPerEm:v.unitsPerEm,xMin:it.xMin,yMin:it.yMin,xMax:it.xMax,yMax:it.yMax,lowestRecPPEM:3,createdTimestamp:v.createdTimestamp}),dt=Ve.make({ascender:it.ascender,descender:it.descender,advanceWidthMax:it.advanceWidthMax,minLeftSideBearing:it.minLeftSideBearing,minRightSideBearing:it.minRightSideBearing,xMaxExtent:it.maxLeftSideBearing+(it.xMax-it.xMin),numberOfHMetrics:v.glyphs.length}),pt=Vt.make(v.glyphs.length),nr=fa.make({xAvgCharWidth:Math.round(it.advanceWidthAvg),usWeightClass:v.tables.os2.usWeightClass,usWidthClass:v.tables.os2.usWidthClass,usFirstCharIndex:x,usLastCharIndex:de,ulUnicodeRange1:ve,ulUnicodeRange2:Ee,ulUnicodeRange3:te,ulUnicodeRange4:Ke,fsSelection:v.tables.os2.fsSelection,sTypoAscender:it.ascender,sTypoDescender:it.descender,sTypoLineGap:0,usWinAscent:it.yMax,usWinDescent:Math.abs(it.yMin),ulCodePageRange1:1,sxHeight:yu(v,"xyvw",{yMax:Math.round(it.ascender/2)}).yMax,sCapHeight:yu(v,"HIKLEFJMNTZBDPRAGOQSUVWXY",it).yMax,usDefaultChar:v.hasChar(" ")?32:0,usBreakChar:v.hasChar(" ")?32:0}),jt=Et.make(v.glyphs),Tt=Q.make(v.glyphs),Ct=v.getEnglishName("fontFamily"),Gt=v.getEnglishName("fontSubfamily"),Ut=Ct+" "+Gt,er=v.getEnglishName("postScriptName");er=er||Ct.replace(/\s/g,"")+"-"+Gt;var Ht={};for(var Ft in v.names)Ht[Ft]=v.names[Ft];Ht.uniqueID||(Ht.uniqueID={en:v.getEnglishName("manufacturer")+":"+Ut}),Ht.postScriptName||(Ht.postScriptName={en:er}),Ht.preferredFamily||(Ht.preferredFamily=v.names.fontFamily),Ht.preferredSubfamily||(Ht.preferredSubfamily=v.names.fontSubfamily);var tr=[],Wt=cu.make(Ht,tr),ir=0<tr.length?kt.make(tr):void 0,Ot=du.make(),lr=Ye.make(v.glyphs,{version:v.getEnglishName("version"),fullName:Ut,familyName:Ct,weightName:Gt,postScriptName:er,unitsPerEm:v.unitsPerEm,fontBBox:[0,it.yMin,it.ascender,it.advanceWidthMax]}),$t=v.metas&&0<Object.keys(v.metas).length?fu.make(v.metas):void 0,Qt=[St,dt,pt,nr,Wt,Tt,Ot,lr,jt];ir&&Qt.push(ir),v.tables.gsub&&Qt.push(hu.make(v.tables.gsub)),$t&&Qt.push($t);for(var bn=gu(Qt),zo=pa(bn.encode()),xo=bn.fields,qr=!1,_o=0;_o<xo.length;_o+=1)if(xo[_o].name==="head table"){xo[_o].value.checkSumAdjustment=2981146554-zo,qr=!0;break}if(!qr)throw new Error("Could not find head table with checkSum to adjust.");return bn},computeCheckSum:pa};function ma(v,x){for(var T=0,E=v.length-1;T<=E;){var M=T+E>>>1,k=v[M].tag;if(k===x)return M;k<x?T=1+M:E=M-1}return-T-1}function vu(v,x){for(var T=0,E=v.length-1;T<=E;){var M=T+E>>>1,k=v[M];if(k===x)return M;k<x?T=1+M:E=M-1}return-T-1}function bu(v,x){for(var T,E=0,M=v.length-1;E<=M;){var k=E+M>>>1,F=(T=v[k]).start;if(F===x)return T;F<x?E=1+k:M=k-1}if(0<E)return x>(T=v[E-1]).end?0:T}function ei(v,x){this.font=v,this.tableName=x}function ti(v){ei.call(this,v,"gpos")}function yn(v){ei.call(this,v,"gsub")}function _f(v,x){var T=v.length;if(T!==x.length)return!1;for(var E=0;E<T;E++)if(v[E]!==x[E])return!1;return!0}function wu(v,x,T){for(var E=v.subtables,M=0;M<E.length;M++){var k=E[M];if(k.substFormat===x)return k}if(T)return E.push(T),T}function xu(v){for(var x=new ArrayBuffer(v.length),T=new Uint8Array(x),E=0;E<v.length;++E)T[E]=v[E];return x}function Wo(v,x){if(!v)throw x}function _u(v,x,T,E,M){var k;return k=0<(x&E)?(k=v.parseByte(),!(x&M)&&(k=-k),T+k):0<(x&M)?T:T+v.parseShort()}function Sf(v,x,T){var E,M,k=new H.Parser(x,T);if(v.numberOfContours=k.parseShort(),v._xMin=k.parseShort(),v._yMin=k.parseShort(),v._xMax=k.parseShort(),v._yMax=k.parseShort(),0<v.numberOfContours){for(var F=v.endPointIndices=[],Y=0;Y<v.numberOfContours;Y+=1)F.push(k.parseUShort());v.instructionLength=k.parseUShort(),v.instructions=[];for(var Z=0;Z<v.instructionLength;Z+=1)v.instructions.push(k.parseByte());var de=F[F.length-1]+1;E=[];for(var ve=0;ve<de;ve+=1)if(M=k.parseByte(),E.push(M),0<(8&M))for(var Ee=k.parseByte(),te=0;te<Ee;te+=1)E.push(M),ve+=1;if(be.argument(E.length===de,"Bad flags."),0<F.length){var Ke,Xe=[];if(0<de){for(var Fe=0;Fe<de;Fe+=1)M=E[Fe],(Ke={}).onCurve=!!(1&M),Ke.lastPointOfContour=0<=F.indexOf(Fe),Xe.push(Ke);for(var Me=0,Be=0;Be<de;Be+=1)M=E[Be],(Ke=Xe[Be]).x=_u(k,M,Me,2,16),Me=Ke.x;for(var at=0,it=0;it<de;it+=1)M=E[it],(Ke=Xe[it]).y=_u(k,M,at,4,32),at=Ke.y}v.points=Xe}else v.points=[]}else if(v.numberOfContours===0)v.points=[];else{v.isComposite=!0,v.points=[],v.components=[];for(var St=!0;St;){E=k.parseUShort();var dt={glyphIndex:k.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&E)?0<(2&E)?(dt.dx=k.parseShort(),dt.dy=k.parseShort()):dt.matchedPoints=[k.parseUShort(),k.parseUShort()]:0<(2&E)?(dt.dx=k.parseChar(),dt.dy=k.parseChar()):dt.matchedPoints=[k.parseByte(),k.parseByte()],0<(8&E)?dt.xScale=dt.yScale=k.parseF2Dot14():0<(64&E)?(dt.xScale=k.parseF2Dot14(),dt.yScale=k.parseF2Dot14()):0<(128&E)&&(dt.xScale=k.parseF2Dot14(),dt.scale01=k.parseF2Dot14(),dt.scale10=k.parseF2Dot14(),dt.yScale=k.parseF2Dot14()),v.components.push(dt),St=!!(32&E)}if(256&E){v.instructionLength=k.parseUShort(),v.instructions=[];for(var pt=0;pt<v.instructionLength;pt+=1)v.instructions.push(k.parseByte())}}}function ga(v,x){for(var T=[],E=0;E<v.length;E+=1){var M=v[E],k={x:x.xScale*M.x+x.scale01*M.y+x.dx,y:x.scale10*M.x+x.yScale*M.y+x.dy,onCurve:M.onCurve,lastPointOfContour:M.lastPointOfContour};T.push(k)}return T}function Su(v){var x=new ge;if(!v)return x;for(var T=function(Ee){for(var te=[],Ke=[],Xe=0;Xe<Ee.length;Xe+=1){var Fe=Ee[Xe];Ke.push(Fe),Fe.lastPointOfContour&&(te.push(Ke),Ke=[])}return be.argument(Ke.length===0,"There are still points left in the current contour."),te}(v),E=0;E<T.length;++E){var M=T[E],k=null,F=M[M.length-1],Y=M[0];if(F.onCurve)x.moveTo(F.x,F.y);else if(Y.onCurve)x.moveTo(Y.x,Y.y);else{var Z={x:.5*(F.x+Y.x),y:.5*(F.y+Y.y)};x.moveTo(Z.x,Z.y)}for(var de=0;de<M.length;++de)if(k=F,F=Y,Y=M[(de+1)%M.length],F.onCurve)x.lineTo(F.x,F.y);else{var ve=Y;k.onCurve||(.5*(F.x+k.x),.5*(F.y+k.y)),Y.onCurve||(ve={x:.5*(F.x+Y.x),y:.5*(F.y+Y.y)}),x.quadraticCurveTo(F.x,F.y,ve.x,ve.y)}x.closePath()}return x}function Tf(v,x){if(x.isComposite)for(var T=0;T<x.components.length;T+=1){var E=x.components[T],M=v.get(E.glyphIndex);if(M.getPath(),M.points){var k=void 0;if(E.matchedPoints===void 0)k=ga(M.points,E);else{if(E.matchedPoints[0]>x.points.length-1||E.matchedPoints[1]>M.points.length-1)throw Error("Matched points out of range in "+x.name);var F=x.points[E.matchedPoints[0]],Y=M.points[E.matchedPoints[1]],Z={xScale:E.xScale,scale01:E.scale01,scale10:E.scale10,yScale:E.yScale,dx:0,dy:0};Y=ga([Y],Z)[0],Z.dx=F.x-Y.x,Z.dy=F.y-Y.y,k=ga(M.points,Z)}x.points=x.points.concat(k)}}return Su(x.points)}(ti.prototype=ei.prototype={searchTag:ma,binSearch:vu,getTable:function(v){var x=this.font.tables[this.tableName];return!x&&v&&(x=this.font.tables[this.tableName]=this.createDefaultTable()),x},getScriptNames:function(){var v=this.getTable();return v?v.scripts.map(function(x){return x.tag}):[]},getDefaultScriptName:function(){var v=this.getTable();if(v){for(var x=!1,T=0;T<v.scripts.length;T++){var E=v.scripts[T].tag;if(E==="DFLT")return E;E==="latn"&&(x=!0)}return x?"latn":void 0}},getScriptTable:function(v,x){var T=this.getTable(x);if(T){v=v||"DFLT";var E=T.scripts,M=ma(T.scripts,v);if(0<=M)return E[M].script;if(x){var k={tag:v,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return E.splice(-1-M,0,k),k.script}}},getLangSysTable:function(v,x,T){var E=this.getScriptTable(v,T);if(E){if(!x||x==="dflt"||x==="DFLT")return E.defaultLangSys;var M=ma(E.langSysRecords,x);if(0<=M)return E.langSysRecords[M].langSys;if(T){var k={tag:x,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return E.langSysRecords.splice(-1-M,0,k),k.langSys}}},getFeatureTable:function(v,x,T,E){var M=this.getLangSysTable(v,x,E);if(M){for(var k,F=M.featureIndexes,Y=this.font.tables[this.tableName].features,Z=0;Z<F.length;Z++)if((k=Y[F[Z]]).tag===T)return k.feature;if(E){var de=Y.length;return be.assert(de===0||T>=Y[de-1].tag,"Features must be added in alphabetical order."),k={tag:T,feature:{params:0,lookupListIndexes:[]}},Y.push(k),F.push(de),k.feature}}},getLookupTables:function(v,x,T,E,M){var k=this.getFeatureTable(v,x,T,M),F=[];if(k){for(var Y,Z=k.lookupListIndexes,de=this.font.tables[this.tableName].lookups,ve=0;ve<Z.length;ve++)(Y=de[Z[ve]]).lookupType===E&&F.push(Y);if(F.length===0&&M){Y={lookupType:E,lookupFlag:0,subtables:[],markFilteringSet:void 0};var Ee=de.length;return de.push(Y),Z.push(Ee),[Y]}}return F},getGlyphClass:function(v,x){switch(v.format){case 1:return v.startGlyph<=x&&x<v.startGlyph+v.classes.length?v.classes[x-v.startGlyph]:0;case 2:var T=bu(v.ranges,x);return T?T.classId:0}},getCoverageIndex:function(v,x){switch(v.format){case 1:var T=vu(v.glyphs,x);return 0<=T?T:-1;case 2:var E=bu(v.ranges,x);return E?E.index+x-E.start:-1}},expandCoverage:function(v){if(v.format===1)return v.glyphs;for(var x=[],T=v.ranges,E=0;E<T.length;E++)for(var M=T[E],k=M.start,F=M.end,Y=k;Y<=F;Y++)x.push(Y);return x}}).init=function(){var v=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(v)},ti.prototype.getKerningValue=function(v,x,T){for(var E=0;E<v.length;E++)for(var M=v[E].subtables,k=0;k<M.length;k++){var F=M[k],Y=this.getCoverageIndex(F.coverage,x);if(!(Y<0))switch(F.posFormat){case 1:for(var Z=F.pairSets[Y],de=0;de<Z.length;de++){var ve=Z[de];if(ve.secondGlyph===T)return ve.value1&&ve.value1.xAdvance||0}break;case 2:var Ee=this.getGlyphClass(F.classDef1,x),te=this.getGlyphClass(F.classDef2,T),Ke=F.classRecords[Ee][te];return Ke.value1&&Ke.value1.xAdvance||0}}return 0},ti.prototype.getKerningTables=function(v,x){if(this.font.tables.gpos)return this.getLookupTables(v,x,"kern",2)},(yn.prototype=ei.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},yn.prototype.getSingle=function(v,x,T){for(var E=[],M=this.getLookupTables(x,T,v,1),k=0;k<M.length;k++)for(var F=M[k].subtables,Y=0;Y<F.length;Y++){var Z=F[Y],de=this.expandCoverage(Z.coverage),ve=void 0;if(Z.substFormat===1){var Ee=Z.deltaGlyphId;for(ve=0;ve<de.length;ve++){var te=de[ve];E.push({sub:te,by:te+Ee})}}else{var Ke=Z.substitute;for(ve=0;ve<de.length;ve++)E.push({sub:de[ve],by:Ke[ve]})}}return E},yn.prototype.getAlternates=function(v,x,T){for(var E=[],M=this.getLookupTables(x,T,v,3),k=0;k<M.length;k++)for(var F=M[k].subtables,Y=0;Y<F.length;Y++)for(var Z=F[Y],de=this.expandCoverage(Z.coverage),ve=Z.alternateSets,Ee=0;Ee<de.length;Ee++)E.push({sub:de[Ee],by:ve[Ee]});return E},yn.prototype.getLigatures=function(v,x,T){for(var E=[],M=this.getLookupTables(x,T,v,4),k=0;k<M.length;k++)for(var F=M[k].subtables,Y=0;Y<F.length;Y++)for(var Z=F[Y],de=this.expandCoverage(Z.coverage),ve=Z.ligatureSets,Ee=0;Ee<de.length;Ee++)for(var te=de[Ee],Ke=ve[Ee],Xe=0;Xe<Ke.length;Xe++){var Fe=Ke[Xe];E.push({sub:[te].concat(Fe.components),by:Fe.ligGlyph})}return E},yn.prototype.addSingle=function(v,x,T,E){var M=wu(this.getLookupTables(T,E,v,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});be.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format);var k=x.sub,F=this.binSearch(M.coverage.glyphs,k);F<0&&(F=-1-F,M.coverage.glyphs.splice(F,0,k),M.substitute.splice(F,0,0)),M.substitute[F]=x.by},yn.prototype.addAlternate=function(v,x,T,E){var M=wu(this.getLookupTables(T,E,v,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});be.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format);var k=x.sub,F=this.binSearch(M.coverage.glyphs,k);F<0&&(F=-1-F,M.coverage.glyphs.splice(F,0,k),M.alternateSets.splice(F,0,0)),M.alternateSets[F]=x.by},yn.prototype.addLigature=function(v,x,T,E){var M=this.getLookupTables(T,E,v,4,!0)[0],k=M.subtables[0];k||(k={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},M.subtables[0]=k),be.assert(k.coverage.format===1,"Ligature: unable to modify coverage table format "+k.coverage.format);var F=x.sub[0],Y=x.sub.slice(1),Z={ligGlyph:x.by,components:Y},de=this.binSearch(k.coverage.glyphs,F);if(0<=de){for(var ve=k.ligatureSets[de],Ee=0;Ee<ve.length;Ee++)if(_f(ve[Ee].components,Y))return;ve.push(Z)}else de=-1-de,k.coverage.glyphs.splice(de,0,F),k.ligatureSets.splice(de,0,[Z])},yn.prototype.getFeature=function(v,x,T){if(/ss\d\d/.test(v))return this.getSingle(v,x,T);switch(v){case"aalt":case"salt":return this.getSingle(v,x,T).concat(this.getAlternates(v,x,T));case"dlig":case"liga":case"rlig":return this.getLigatures(v,x,T)}},yn.prototype.add=function(v,x,T,E){if(/ss\d\d/.test(v))return this.addSingle(v,x,T,E);switch(v){case"aalt":case"salt":return typeof x.by=="number"?this.addSingle(v,x,T,E):this.addAlternate(v,x,T,E);case"dlig":case"liga":case"rlig":return this.addLigature(v,x,T,E)}};var Tu,wo,Eu,ya,ju={getPath:Su,parse:function(v,x,T,E){for(var M=new vt.GlyphSet(E),k=0;k<T.length-1;k+=1){var F=T[k];F!==T[k+1]?M.push(k,vt.ttfGlyphLoader(E,k,Sf,v,x+F,Tf)):M.push(k,vt.glyphLoader(E,k))}return M}};function Cu(v){this.font=v,this.getCommands=function(x){return ju.getPath(x).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Ef(v){return v}function Mu(v){return Math.sign(v)*Math.round(Math.abs(v))}function jf(v){return Math.sign(v)*Math.round(Math.abs(2*v))/2}function Cf(v){return Math.sign(v)*(Math.round(Math.abs(v)+.5)-.5)}function Mf(v){return Math.sign(v)*Math.ceil(Math.abs(v))}function Rf(v){return Math.sign(v)*Math.floor(Math.abs(v))}function Ru(v){var x=this.srPeriod,T=this.srPhase,E=1;return v<0&&(v=-v,E=-1),v+=this.srThreshold-T,v=Math.trunc(v/x)*x,(v+=T)<0?T*E:v*E}var vn={x:1,y:0,axis:"x",distance:function(v,x,T,E){return(T?v.xo:v.x)-(E?x.xo:x.x)},interpolate:function(v,x,T,E){var M,k,F,Y,Z,de,ve;if(!E||E===this)return M=v.xo-x.xo,k=v.xo-T.xo,Z=x.x-x.xo,de=T.x-T.xo,(ve=(F=Math.abs(M))+(Y=Math.abs(k)))===0?void(v.x=v.xo+(Z+de)/2):void(v.x=v.xo+(Z*Y+de*F)/ve);M=E.distance(v,x,!0,!0),k=E.distance(v,T,!0,!0),Z=E.distance(x,x,!1,!0),de=E.distance(T,T,!1,!0),(ve=(F=Math.abs(M))+(Y=Math.abs(k)))!==0?vn.setRelative(v,v,(Z*Y+de*F)/ve,E,!0):vn.setRelative(v,v,(Z+de)/2,E,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(v,x,T,E,M){if(E&&E!==this){var k=M?x.xo:x.x,F=M?x.yo:x.y,Y=k+T*E.x,Z=F+T*E.y;v.x=Y+(v.y-Z)/E.normalSlope}else v.x=(M?x.xo:x.x)+T},slope:0,touch:function(v){v.xTouched=!0},touched:function(v){return v.xTouched},untouch:function(v){v.xTouched=!1}},Pn={x:0,y:1,axis:"y",distance:function(v,x,T,E){return(T?v.yo:v.y)-(E?x.yo:x.y)},interpolate:function(v,x,T,E){var M,k,F,Y,Z,de,ve;if(!E||E===this)return M=v.yo-x.yo,k=v.yo-T.yo,Z=x.y-x.yo,de=T.y-T.yo,(ve=(F=Math.abs(M))+(Y=Math.abs(k)))===0?void(v.y=v.yo+(Z+de)/2):void(v.y=v.yo+(Z*Y+de*F)/ve);M=E.distance(v,x,!0,!0),k=E.distance(v,T,!0,!0),Z=E.distance(x,x,!1,!0),de=E.distance(T,T,!1,!0),(ve=(F=Math.abs(M))+(Y=Math.abs(k)))!==0?Pn.setRelative(v,v,(Z*Y+de*F)/ve,E,!0):Pn.setRelative(v,v,(Z+de)/2,E,!0)},normalSlope:0,setRelative:function(v,x,T,E,M){if(E&&E!==this){var k=M?x.xo:x.x,F=M?x.yo:x.y,Y=k+T*E.x,Z=F+T*E.y;v.y=Z+E.normalSlope*(v.x-Y)}else v.y=(M?x.yo:x.y)+T},slope:Number.POSITIVE_INFINITY,touch:function(v){v.yTouched=!0},touched:function(v){return v.yTouched},untouch:function(v){v.yTouched=!1}};function Ts(v,x){this.x=v,this.y=x,this.axis=void 0,this.slope=x/v,this.normalSlope=-v/x,Object.freeze(this)}function Es(v,x){var T=Math.sqrt(v*v+x*x);return x/=T,(v/=T)===1&&x===0?vn:v===0&&x===1?Pn:new Ts(v,x)}function On(v,x,T,E){this.x=this.xo=Math.round(64*v)/64,this.y=this.yo=Math.round(64*x)/64,this.lastPointOfContour=T,this.onCurve=E,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(vn),Object.freeze(Pn),Ts.prototype.distance=function(v,x,T,E){return this.x*vn.distance(v,x,T,E)+this.y*Pn.distance(v,x,T,E)},Ts.prototype.interpolate=function(v,x,T,E){var M,k,F,Y,Z,de,ve;F=E.distance(v,x,!0,!0),Y=E.distance(v,T,!0,!0),M=E.distance(x,x,!1,!0),k=E.distance(T,T,!1,!0),(ve=(Z=Math.abs(F))+(de=Math.abs(Y)))!==0?this.setRelative(v,v,(M*de+k*Z)/ve,E,!0):this.setRelative(v,v,(M+k)/2,E,!0)},Ts.prototype.setRelative=function(v,x,T,E,M){E=E||this;var k=M?x.xo:x.x,F=M?x.yo:x.y,Y=k+T*E.x,Z=F+T*E.y,de=E.normalSlope,ve=this.slope,Ee=v.x,te=v.y;v.x=(ve*Ee-de*Y+Z-te)/(ve-de),v.y=ve*(v.x-Ee)+te},Ts.prototype.touch=function(v){v.xTouched=!0,v.yTouched=!0},On.prototype.nextTouched=function(v){for(var x=this.nextPointOnContour;!v.touched(x)&&x!==this;)x=x.nextPointOnContour;return x},On.prototype.prevTouched=function(v){for(var x=this.prevPointOnContour;!v.touched(x)&&x!==this;)x=x.prevPointOnContour;return x};var js=Object.freeze(new On(0,0)),Af={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Xn(v,x){switch(this.env=v,this.stack=[],this.prog=x,v){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=vn,this.round=Mu}}function ri(v){for(var x=v.tZone=new Array(v.gZone.length),T=0;T<x.length;T++)x[T]=new On(0,0)}function Au(v,x){var T,E=v.prog,M=v.ip,k=1;do if((T=E[++M])===88)k++;else if(T===89)k--;else if(T===64)M+=E[M+1]+1;else if(T===65)M+=2*E[M+1]+1;else if(176<=T&&T<=183)M+=T-176+1;else if(184<=T&&T<=191)M+=2*(T-184+1);else if(x&&k===1&&T===27)break;while(0<k);v.ip=M}function Pu(v,x){f.DEBUG&&console.log(x.step,"SVTCA["+v.axis+"]"),x.fv=x.pv=x.dpv=v}function Ou(v,x){f.DEBUG&&console.log(x.step,"SPVTCA["+v.axis+"]"),x.pv=x.dpv=v}function ku(v,x){f.DEBUG&&console.log(x.step,"SFVTCA["+v.axis+"]"),x.fv=v}function Du(v,x){var T,E,M=x.stack,k=M.pop(),F=M.pop(),Y=x.z2[k],Z=x.z1[F];f.DEBUG&&console.log("SPVTL["+v+"]",k,F),E=v?(T=Y.y-Z.y,Z.x-Y.x):(T=Z.x-Y.x,Z.y-Y.y),x.pv=x.dpv=Es(T,E)}function Lu(v,x){var T,E,M=x.stack,k=M.pop(),F=M.pop(),Y=x.z2[k],Z=x.z1[F];f.DEBUG&&console.log("SFVTL["+v+"]",k,F),E=v?(T=Y.y-Z.y,Z.x-Y.x):(T=Z.x-Y.x,Z.y-Y.y),x.fv=Es(T,E)}function va(v){f.DEBUG&&console.log(v.step,"POP[]"),v.stack.pop()}function Iu(v,x){var T=x.stack.pop(),E=x.z0[T],M=x.fv,k=x.pv;f.DEBUG&&console.log(x.step,"MDAP["+v+"]",T);var F=k.distance(E,js);v&&(F=x.round(F)),M.setRelative(E,js,F,k),M.touch(E),x.rp0=x.rp1=T}function Bu(v,x){var T,E,M,k=x.z2,F=k.length-2;f.DEBUG&&console.log(x.step,"IUP["+v.axis+"]");for(var Y=0;Y<F;Y++)T=k[Y],v.touched(T)||(E=T.prevTouched(v))!==T&&(E===(M=T.nextTouched(v))&&v.setRelative(T,T,v.distance(E,E,!1,!0),v,!0),v.interpolate(T,E,M,v))}function Nu(v,x){for(var T=x.stack,E=v?x.rp1:x.rp2,M=(v?x.z0:x.z1)[E],k=x.fv,F=x.pv,Y=x.loop,Z=x.z2;Y--;){var de=T.pop(),ve=Z[de],Ee=F.distance(M,M,!1,!0);k.setRelative(ve,ve,Ee,F),k.touch(ve),f.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-Y)+": ":"")+"SHP["+(v?"rp1":"rp2")+"]",de)}x.loop=1}function Uu(v,x){var T=x.stack,E=v?x.rp1:x.rp2,M=(v?x.z0:x.z1)[E],k=x.fv,F=x.pv,Y=T.pop(),Z=x.z2[x.contours[Y]],de=Z;f.DEBUG&&console.log(x.step,"SHC["+v+"]",Y);for(var ve=F.distance(M,M,!1,!0);de!==M&&k.setRelative(de,de,ve,F),(de=de.nextPointOnContour)!==Z;);}function Fu(v,x){var T,E,M=x.stack,k=v?x.rp1:x.rp2,F=(v?x.z0:x.z1)[k],Y=x.fv,Z=x.pv,de=M.pop();switch(f.DEBUG&&console.log(x.step,"SHZ["+v+"]",de),de){case 0:T=x.tZone;break;case 1:T=x.gZone;break;default:throw new Error("Invalid zone")}for(var ve=Z.distance(F,F,!1,!0),Ee=T.length-2,te=0;te<Ee;te++)E=T[te],Y.setRelative(E,E,ve,Z)}function Vu(v,x){var T=x.stack,E=T.pop()/64,M=T.pop(),k=x.z1[M],F=x.z0[x.rp0],Y=x.fv,Z=x.pv;Y.setRelative(k,F,E,Z),Y.touch(k),f.DEBUG&&console.log(x.step,"MSIRP["+v+"]",E,M),x.rp1=x.rp0,x.rp2=M,v&&(x.rp0=M)}function Gu(v,x){var T=x.stack,E=T.pop(),M=T.pop(),k=x.z0[M],F=x.fv,Y=x.pv,Z=x.cvt[E];f.DEBUG&&console.log(x.step,"MIAP["+v+"]",E,"(",Z,")",M);var de=Y.distance(k,js);v&&(Math.abs(de-Z)<x.cvCutIn&&(de=Z),de=x.round(de)),F.setRelative(k,js,de,Y),x.zp0===0&&(k.xo=k.x,k.yo=k.y),F.touch(k),x.rp0=x.rp1=M}function Hu(v,x){var T=x.stack,E=T.pop(),M=x.z2[E];f.DEBUG&&console.log(x.step,"GC["+v+"]",E),T.push(64*x.dpv.distance(M,js,v,!1))}function Wu(v,x){var T=x.stack,E=T.pop(),M=T.pop(),k=x.z1[E],F=x.z0[M],Y=x.dpv.distance(F,k,v,v);f.DEBUG&&console.log(x.step,"MD["+v+"]",E,M,"->",Y),x.stack.push(Math.round(64*Y))}function ba(v,x){var T=x.stack,E=T.pop(),M=x.fv,k=x.pv,F=x.ppem,Y=x.deltaBase+16*(v-1),Z=x.deltaShift,de=x.z0;f.DEBUG&&console.log(x.step,"DELTAP["+v+"]",E,T);for(var ve=0;ve<E;ve++){var Ee=T.pop(),te=T.pop();if(Y+((240&te)>>4)===F){var Ke=(15&te)-8;0<=Ke&&Ke++,f.DEBUG&&console.log(x.step,"DELTAPFIX",Ee,"by",Ke*Z);var Xe=de[Ee];M.setRelative(Xe,Xe,Ke*Z,k)}}}function ni(v,x){var T=x.stack,E=T.pop();f.DEBUG&&console.log(x.step,"ROUND[]"),T.push(64*x.round(E/64))}function wa(v,x){var T=x.stack,E=T.pop(),M=x.ppem,k=x.deltaBase+16*(v-1),F=x.deltaShift;f.DEBUG&&console.log(x.step,"DELTAC["+v+"]",E,T);for(var Y=0;Y<E;Y++){var Z=T.pop(),de=T.pop();if(k+((240&de)>>4)===M){var ve=(15&de)-8;0<=ve&&ve++;var Ee=ve*F;f.DEBUG&&console.log(x.step,"DELTACFIX",Z,"by",Ee),x.cvt[Z]+=Ee}}}function zu(v,x){var T,E,M=x.stack,k=M.pop(),F=M.pop(),Y=x.z2[k],Z=x.z1[F];f.DEBUG&&console.log(x.step,"SDPVTL["+v+"]",k,F),E=v?(T=Y.y-Z.y,Z.x-Y.x):(T=Z.x-Y.x,Z.y-Y.y),x.dpv=Es(T,E)}function $n(v,x){var T=x.stack,E=x.prog,M=x.ip;f.DEBUG&&console.log(x.step,"PUSHB["+v+"]");for(var k=0;k<v;k++)T.push(E[++M]);x.ip=M}function Kn(v,x){var T=x.ip,E=x.prog,M=x.stack;f.DEBUG&&console.log(x.ip,"PUSHW["+v+"]");for(var k=0;k<v;k++){var F=E[++T]<<8|E[++T];32768&F&&(F=-(1+(65535^F))),M.push(F)}x.ip=T}function lt(v,x,T,E,M,k){var F,Y,Z,de,ve=k.stack,Ee=v&&ve.pop(),te=ve.pop(),Ke=k.rp0,Xe=k.z0[Ke],Fe=k.z1[te],Me=k.minDis,Be=k.fv,at=k.dpv;Z=0<=(Y=F=at.distance(Fe,Xe,!0,!0))?1:-1,Y=Math.abs(Y),v&&(de=k.cvt[Ee],E&&Math.abs(Y-de)<k.cvCutIn&&(Y=de)),T&&Y<Me&&(Y=Me),E&&(Y=k.round(Y)),Be.setRelative(Fe,Xe,Z*Y,at),Be.touch(Fe),f.DEBUG&&console.log(k.step,(v?"MIRP[":"MDRP[")+(x?"M":"m")+(T?">":"_")+(E?"R":"_")+(M===0?"Gr":M===1?"Bl":M===2?"Wh":"")+"]",v?Ee+"("+k.cvt[Ee]+","+de+")":"",te,"(d =",F,"->",Z*Y,")"),k.rp1=k.rp0,k.rp2=te,x&&(k.rp0=te)}Cu.prototype.exec=function(v,x){if(typeof x!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var T=this.font,E=this._prepState;if(!E||E.ppem!==x){var M=this._fpgmState;if(!M){Xn.prototype=Af,(M=this._fpgmState=new Xn("fpgm",T.tables.fpgm)).funcs=[],M.font=T,f.DEBUG&&(console.log("---EXEC FPGM---"),M.step=-1);try{wo(M)}catch(de){return console.log("Hinting error in FPGM:"+de),void(this._errorState=3)}}Xn.prototype=M,(E=this._prepState=new Xn("prep",T.tables.prep)).ppem=x;var k=T.tables.cvt;if(k)for(var F=E.cvt=new Array(k.length),Y=x/T.unitsPerEm,Z=0;Z<k.length;Z++)F[Z]=k[Z]*Y;else E.cvt=[];f.DEBUG&&(console.log("---EXEC PREP---"),E.step=-1);try{wo(E)}catch(de){this._errorState<2&&console.log("Hinting error in PREP:"+de),this._errorState=2}}if(!(1<this._errorState))try{return Eu(v,E)}catch(de){return this._errorState<1&&(console.log("Hinting error:"+de),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},Eu=function(v,x){var T,E,M,k=x.ppem/x.font.unitsPerEm,F=k,Y=v.components;if(Xn.prototype=x,Y){var Z=x.font;E=[],T=[];for(var de=0;de<Y.length;de++){var ve=Y[de],Ee=Z.glyphs.get(ve.glyphIndex);M=new Xn("glyf",Ee.instructions),f.DEBUG&&(console.log("---EXEC COMP "+de+"---"),M.step=-1),ya(Ee,M,k,F);for(var te=Math.round(ve.dx*k),Ke=Math.round(ve.dy*F),Xe=M.gZone,Fe=M.contours,Me=0;Me<Xe.length;Me++){var Be=Xe[Me];Be.xTouched=Be.yTouched=!1,Be.xo=Be.x=Be.x+te,Be.yo=Be.y=Be.y+Ke}var at=E.length;E.push.apply(E,Xe);for(var it=0;it<Fe.length;it++)T.push(Fe[it]+at)}v.instructions&&!M.inhibitGridFit&&((M=new Xn("glyf",v.instructions)).gZone=M.z0=M.z1=M.z2=E,M.contours=T,E.push(new On(0,0),new On(Math.round(v.advanceWidth*k),0)),f.DEBUG&&(console.log("---EXEC COMPOSITE---"),M.step=-1),wo(M),E.length-=2)}else M=new Xn("glyf",v.instructions),f.DEBUG&&(console.log("---EXEC GLYPH---"),M.step=-1),ya(v,M,k,F),E=M.gZone;return E},ya=function(v,x,T,E){for(var M,k,F,Y=v.points||[],Z=Y.length,de=x.gZone=x.z0=x.z1=x.z2=[],ve=x.contours=[],Ee=0;Ee<Z;Ee++)M=Y[Ee],de[Ee]=new On(M.x*T,M.y*E,M.lastPointOfContour,M.onCurve);for(var te=0;te<Z;te++)M=de[te],k||(k=M,ve.push(te)),M.lastPointOfContour?((M.nextPointOnContour=k).prevPointOnContour=M,k=void 0):(F=de[te+1],(M.nextPointOnContour=F).prevPointOnContour=M);if(!x.inhibitGridFit){if(f.DEBUG){console.log("PROCESSING GLYPH",x.stack);for(var Ke=0;Ke<Z;Ke++)console.log(Ke,de[Ke].x,de[Ke].y)}if(de.push(new On(0,0),new On(Math.round(v.advanceWidth*T),0)),wo(x),de.length-=2,f.DEBUG){console.log("FINISHED GLYPH",x.stack);for(var Xe=0;Xe<Z;Xe++)console.log(Xe,de[Xe].x,de[Xe].y)}}},wo=function(v){var x=v.prog;if(x){var T,E=x.length;for(v.ip=0;v.ip<E;v.ip++){if(f.DEBUG&&v.step++,!(T=Tu[x[v.ip]]))throw new Error("unknown instruction: 0x"+Number(x[v.ip]).toString(16));T(v)}}},Tu=[Pu.bind(void 0,Pn),Pu.bind(void 0,vn),Ou.bind(void 0,Pn),Ou.bind(void 0,vn),ku.bind(void 0,Pn),ku.bind(void 0,vn),Du.bind(void 0,0),Du.bind(void 0,1),Lu.bind(void 0,0),Lu.bind(void 0,1),function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"SPVFS[]",T,E),v.pv=v.dpv=Es(E,T)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"SPVFS[]",T,E),v.fv=Es(E,T)},function(v){var x=v.stack,T=v.pv;f.DEBUG&&console.log(v.step,"GPV[]"),x.push(16384*T.x),x.push(16384*T.y)},function(v){var x=v.stack,T=v.fv;f.DEBUG&&console.log(v.step,"GFV[]"),x.push(16384*T.x),x.push(16384*T.y)},function(v){v.fv=v.pv,f.DEBUG&&console.log(v.step,"SFVTPV[]")},function(v){var x=v.stack,T=x.pop(),E=x.pop(),M=x.pop(),k=x.pop(),F=x.pop(),Y=v.z0,Z=v.z1,de=Y[T],ve=Y[E],Ee=Z[M],te=Z[k],Ke=v.z2[F];f.DEBUG&&console.log("ISECT[], ",T,E,M,k,F);var Xe=de.x,Fe=de.y,Me=ve.x,Be=ve.y,at=Ee.x,it=Ee.y,St=te.x,dt=te.y,pt=(Xe-Me)*(it-dt)-(Fe-Be)*(at-St),nr=Xe*Be-Fe*Me,jt=at*dt-it*St;Ke.x=(nr*(at-St)-jt*(Xe-Me))/pt,Ke.y=(nr*(it-dt)-jt*(Fe-Be))/pt},function(v){v.rp0=v.stack.pop(),f.DEBUG&&console.log(v.step,"SRP0[]",v.rp0)},function(v){v.rp1=v.stack.pop(),f.DEBUG&&console.log(v.step,"SRP1[]",v.rp1)},function(v){v.rp2=v.stack.pop(),f.DEBUG&&console.log(v.step,"SRP2[]",v.rp2)},function(v){var x=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"SZP0[]",x),v.zp0=x){case 0:v.tZone||ri(v),v.z0=v.tZone;break;case 1:v.z0=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){var x=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"SZP1[]",x),v.zp1=x){case 0:v.tZone||ri(v),v.z1=v.tZone;break;case 1:v.z1=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){var x=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"SZP2[]",x),v.zp2=x){case 0:v.tZone||ri(v),v.z2=v.tZone;break;case 1:v.z2=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){var x=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"SZPS[]",x),v.zp0=v.zp1=v.zp2=x,x){case 0:v.tZone||ri(v),v.z0=v.z1=v.z2=v.tZone;break;case 1:v.z0=v.z1=v.z2=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){v.loop=v.stack.pop(),f.DEBUG&&console.log(v.step,"SLOOP[]",v.loop)},function(v){f.DEBUG&&console.log(v.step,"RTG[]"),v.round=Mu},function(v){f.DEBUG&&console.log(v.step,"RTHG[]"),v.round=Cf},function(v){var x=v.stack.pop();f.DEBUG&&console.log(v.step,"SMD[]",x),v.minDis=x/64},function(v){f.DEBUG&&console.log(v.step,"ELSE[]"),Au(v,!1)},function(v){var x=v.stack.pop();f.DEBUG&&console.log(v.step,"JMPR[]",x),v.ip+=x-1},function(v){var x=v.stack.pop();f.DEBUG&&console.log(v.step,"SCVTCI[]",x),v.cvCutIn=x/64},void 0,void 0,function(v){var x=v.stack;f.DEBUG&&console.log(v.step,"DUP[]"),x.push(x[x.length-1])},va,function(v){f.DEBUG&&console.log(v.step,"CLEAR[]"),v.stack.length=0},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"SWAP[]"),x.push(T),x.push(E)},function(v){var x=v.stack;f.DEBUG&&console.log(v.step,"DEPTH[]"),x.push(x.length)},function(v){var x=v.stack,T=x.pop();f.DEBUG&&console.log(v.step,"CINDEX[]",T),x.push(x[x.length-T])},function(v){var x=v.stack,T=x.pop();f.DEBUG&&console.log(v.step,"MINDEX[]",T),x.push(x.splice(x.length-T,1)[0])},void 0,void 0,void 0,function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"LOOPCALL[]",T,E);var M=v.ip,k=v.prog;v.prog=v.funcs[T];for(var F=0;F<E;F++)wo(v),f.DEBUG&&console.log(++v.step,F+1<E?"next loopcall":"done loopcall",F);v.ip=M,v.prog=k},function(v){var x=v.stack.pop();f.DEBUG&&console.log(v.step,"CALL[]",x);var T=v.ip,E=v.prog;v.prog=v.funcs[x],wo(v),v.ip=T,v.prog=E,f.DEBUG&&console.log(++v.step,"returning from",x)},function(v){if(v.env!=="fpgm")throw new Error("FDEF not allowed here");var x=v.stack,T=v.prog,E=v.ip,M=x.pop(),k=E;for(f.DEBUG&&console.log(v.step,"FDEF[]",M);T[++E]!==45;);v.ip=E,v.funcs[M]=T.slice(k+1,E)},void 0,Iu.bind(void 0,0),Iu.bind(void 0,1),Bu.bind(void 0,Pn),Bu.bind(void 0,vn),Nu.bind(void 0,0),Nu.bind(void 0,1),Uu.bind(void 0,0),Uu.bind(void 0,1),Fu.bind(void 0,0),Fu.bind(void 0,1),function(v){for(var x=v.stack,T=v.loop,E=v.fv,M=x.pop()/64,k=v.z2;T--;){var F=x.pop(),Y=k[F];f.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-T)+": ":"")+"SHPIX[]",F,M),E.setRelative(Y,Y,M),E.touch(Y)}v.loop=1},function(v){for(var x=v.stack,T=v.rp1,E=v.rp2,M=v.loop,k=v.z0[T],F=v.z1[E],Y=v.fv,Z=v.dpv,de=v.z2;M--;){var ve=x.pop(),Ee=de[ve];f.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-M)+": ":"")+"IP[]",ve,T,"<->",E),Y.interpolate(Ee,k,F,Z),Y.touch(Ee)}v.loop=1},Vu.bind(void 0,0),Vu.bind(void 0,1),function(v){for(var x=v.stack,T=v.rp0,E=v.z0[T],M=v.loop,k=v.fv,F=v.pv,Y=v.z1;M--;){var Z=x.pop(),de=Y[Z];f.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-M)+": ":"")+"ALIGNRP[]",Z),k.setRelative(de,E,0,F),k.touch(de)}v.loop=1},function(v){f.DEBUG&&console.log(v.step,"RTDG[]"),v.round=jf},Gu.bind(void 0,0),Gu.bind(void 0,1),function(v){var x=v.prog,T=v.ip,E=v.stack,M=x[++T];f.DEBUG&&console.log(v.step,"NPUSHB[]",M);for(var k=0;k<M;k++)E.push(x[++T]);v.ip=T},function(v){var x=v.ip,T=v.prog,E=v.stack,M=T[++x];f.DEBUG&&console.log(v.step,"NPUSHW[]",M);for(var k=0;k<M;k++){var F=T[++x]<<8|T[++x];32768&F&&(F=-(1+(65535^F))),E.push(F)}v.ip=x},function(v){var x=v.stack,T=v.store;T=T||(v.store=[]);var E=x.pop(),M=x.pop();f.DEBUG&&console.log(v.step,"WS",E,M),T[M]=E},function(v){var x=v.stack,T=v.store,E=x.pop();f.DEBUG&&console.log(v.step,"RS",E);var M=T&&T[E]||0;x.push(M)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"WCVTP",T,E),v.cvt[E]=T/64},function(v){var x=v.stack,T=x.pop();f.DEBUG&&console.log(v.step,"RCVT",T),x.push(64*v.cvt[T])},Hu.bind(void 0,0),Hu.bind(void 0,1),void 0,Wu.bind(void 0,0),Wu.bind(void 0,1),function(v){f.DEBUG&&console.log(v.step,"MPPEM[]"),v.stack.push(v.ppem)},void 0,function(v){f.DEBUG&&console.log(v.step,"FLIPON[]"),v.autoFlip=!0},void 0,void 0,function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"LT[]",T,E),x.push(E<T?1:0)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"LTEQ[]",T,E),x.push(E<=T?1:0)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"GT[]",T,E),x.push(T<E?1:0)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"GTEQ[]",T,E),x.push(T<=E?1:0)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"EQ[]",T,E),x.push(T===E?1:0)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"NEQ[]",T,E),x.push(T!==E?1:0)},function(v){var x=v.stack,T=x.pop();f.DEBUG&&console.log(v.step,"ODD[]",T),x.push(Math.trunc(T)%2?1:0)},function(v){var x=v.stack,T=x.pop();f.DEBUG&&console.log(v.step,"EVEN[]",T),x.push(Math.trunc(T)%2?0:1)},function(v){var x=v.stack.pop();f.DEBUG&&console.log(v.step,"IF[]",x),x||(Au(v,!0),f.DEBUG&&console.log(v.step,"EIF[]"))},function(v){f.DEBUG&&console.log(v.step,"EIF[]")},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"AND[]",T,E),x.push(T&&E?1:0)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"OR[]",T,E),x.push(T||E?1:0)},function(v){var x=v.stack,T=x.pop();f.DEBUG&&console.log(v.step,"NOT[]",T),x.push(T?0:1)},ba.bind(void 0,1),function(v){var x=v.stack.pop();f.DEBUG&&console.log(v.step,"SDB[]",x),v.deltaBase=x},function(v){var x=v.stack.pop();f.DEBUG&&console.log(v.step,"SDS[]",x),v.deltaShift=Math.pow(.5,x)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"ADD[]",T,E),x.push(E+T)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"SUB[]",T,E),x.push(E-T)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"DIV[]",T,E),x.push(64*E/T)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"MUL[]",T,E),x.push(E*T/64)},function(v){var x=v.stack,T=x.pop();f.DEBUG&&console.log(v.step,"ABS[]",T),x.push(Math.abs(T))},function(v){var x=v.stack,T=x.pop();f.DEBUG&&console.log(v.step,"NEG[]",T),x.push(-T)},function(v){var x=v.stack,T=x.pop();f.DEBUG&&console.log(v.step,"FLOOR[]",T),x.push(64*Math.floor(T/64))},function(v){var x=v.stack,T=x.pop();f.DEBUG&&console.log(v.step,"CEILING[]",T),x.push(64*Math.ceil(T/64))},ni.bind(void 0,0),ni.bind(void 0,1),ni.bind(void 0,2),ni.bind(void 0,3),void 0,void 0,void 0,void 0,function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"WCVTF[]",T,E),v.cvt[E]=T*v.ppem/v.font.unitsPerEm},ba.bind(void 0,2),ba.bind(void 0,3),wa.bind(void 0,1),wa.bind(void 0,2),wa.bind(void 0,3),function(v){var x,T=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"SROUND[]",T),v.round=Ru,192&T){case 0:x=.5;break;case 64:x=1;break;case 128:x=2;break;default:throw new Error("invalid SROUND value")}switch(v.srPeriod=x,48&T){case 0:v.srPhase=0;break;case 16:v.srPhase=.25*x;break;case 32:v.srPhase=.5*x;break;case 48:v.srPhase=.75*x;break;default:throw new Error("invalid SROUND value")}T&=15,v.srThreshold=T===0?0:(T/8-.5)*x},function(v){var x,T=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"S45ROUND[]",T),v.round=Ru,192&T){case 0:x=Math.sqrt(2)/2;break;case 64:x=Math.sqrt(2);break;case 128:x=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(v.srPeriod=x,48&T){case 0:v.srPhase=0;break;case 16:v.srPhase=.25*x;break;case 32:v.srPhase=.5*x;break;case 48:v.srPhase=.75*x;break;default:throw new Error("invalid S45ROUND value")}T&=15,v.srThreshold=T===0?0:(T/8-.5)*x},void 0,void 0,function(v){f.DEBUG&&console.log(v.step,"ROFF[]"),v.round=Ef},void 0,function(v){f.DEBUG&&console.log(v.step,"RUTG[]"),v.round=Mf},function(v){f.DEBUG&&console.log(v.step,"RDTG[]"),v.round=Rf},va,va,void 0,void 0,void 0,void 0,void 0,function(v){var x=v.stack.pop();f.DEBUG&&console.log(v.step,"SCANCTRL[]",x)},zu.bind(void 0,0),zu.bind(void 0,1),function(v){var x=v.stack,T=x.pop(),E=0;f.DEBUG&&console.log(v.step,"GETINFO[]",T),1&T&&(E=35),32&T&&(E|=4096),x.push(E)},void 0,function(v){var x=v.stack,T=x.pop(),E=x.pop(),M=x.pop();f.DEBUG&&console.log(v.step,"ROLL[]"),x.push(E),x.push(T),x.push(M)},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"MAX[]",T,E),x.push(Math.max(E,T))},function(v){var x=v.stack,T=x.pop(),E=x.pop();f.DEBUG&&console.log(v.step,"MIN[]",T,E),x.push(Math.min(E,T))},function(v){var x=v.stack.pop();f.DEBUG&&console.log(v.step,"SCANTYPE[]",x)},function(v){var x=v.stack.pop(),T=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"INSTCTRL[]",x,T),x){case 1:return void(v.inhibitGridFit=!!T);case 2:return void(v.ignoreCvt=!!T);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,$n.bind(void 0,1),$n.bind(void 0,2),$n.bind(void 0,3),$n.bind(void 0,4),$n.bind(void 0,5),$n.bind(void 0,6),$n.bind(void 0,7),$n.bind(void 0,8),Kn.bind(void 0,1),Kn.bind(void 0,2),Kn.bind(void 0,3),Kn.bind(void 0,4),Kn.bind(void 0,5),Kn.bind(void 0,6),Kn.bind(void 0,7),Kn.bind(void 0,8),lt.bind(void 0,0,0,0,0,0),lt.bind(void 0,0,0,0,0,1),lt.bind(void 0,0,0,0,0,2),lt.bind(void 0,0,0,0,0,3),lt.bind(void 0,0,0,0,1,0),lt.bind(void 0,0,0,0,1,1),lt.bind(void 0,0,0,0,1,2),lt.bind(void 0,0,0,0,1,3),lt.bind(void 0,0,0,1,0,0),lt.bind(void 0,0,0,1,0,1),lt.bind(void 0,0,0,1,0,2),lt.bind(void 0,0,0,1,0,3),lt.bind(void 0,0,0,1,1,0),lt.bind(void 0,0,0,1,1,1),lt.bind(void 0,0,0,1,1,2),lt.bind(void 0,0,0,1,1,3),lt.bind(void 0,0,1,0,0,0),lt.bind(void 0,0,1,0,0,1),lt.bind(void 0,0,1,0,0,2),lt.bind(void 0,0,1,0,0,3),lt.bind(void 0,0,1,0,1,0),lt.bind(void 0,0,1,0,1,1),lt.bind(void 0,0,1,0,1,2),lt.bind(void 0,0,1,0,1,3),lt.bind(void 0,0,1,1,0,0),lt.bind(void 0,0,1,1,0,1),lt.bind(void 0,0,1,1,0,2),lt.bind(void 0,0,1,1,0,3),lt.bind(void 0,0,1,1,1,0),lt.bind(void 0,0,1,1,1,1),lt.bind(void 0,0,1,1,1,2),lt.bind(void 0,0,1,1,1,3),lt.bind(void 0,1,0,0,0,0),lt.bind(void 0,1,0,0,0,1),lt.bind(void 0,1,0,0,0,2),lt.bind(void 0,1,0,0,0,3),lt.bind(void 0,1,0,0,1,0),lt.bind(void 0,1,0,0,1,1),lt.bind(void 0,1,0,0,1,2),lt.bind(void 0,1,0,0,1,3),lt.bind(void 0,1,0,1,0,0),lt.bind(void 0,1,0,1,0,1),lt.bind(void 0,1,0,1,0,2),lt.bind(void 0,1,0,1,0,3),lt.bind(void 0,1,0,1,1,0),lt.bind(void 0,1,0,1,1,1),lt.bind(void 0,1,0,1,1,2),lt.bind(void 0,1,0,1,1,3),lt.bind(void 0,1,1,0,0,0),lt.bind(void 0,1,1,0,0,1),lt.bind(void 0,1,1,0,0,2),lt.bind(void 0,1,1,0,0,3),lt.bind(void 0,1,1,0,1,0),lt.bind(void 0,1,1,0,1,1),lt.bind(void 0,1,1,0,1,2),lt.bind(void 0,1,1,0,1,3),lt.bind(void 0,1,1,1,0,0),lt.bind(void 0,1,1,1,0,1),lt.bind(void 0,1,1,1,0,2),lt.bind(void 0,1,1,1,0,3),lt.bind(void 0,1,1,1,1,0),lt.bind(void 0,1,1,1,1,1),lt.bind(void 0,1,1,1,1,2),lt.bind(void 0,1,1,1,1,3)];var Pf=Array.from||function(v){return v.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Xt(v){(v=v||{}).empty||(Wo(v.familyName,"When creating a new Font object, familyName is required."),Wo(v.styleName,"When creating a new Font object, styleName is required."),Wo(v.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Wo(v.ascender,"When creating a new Font object, ascender is required."),Wo(v.descender,"When creating a new Font object, descender is required."),Wo(v.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:v.familyName||" "},fontSubfamily:{en:v.styleName||" "},fullName:{en:v.fullName||v.familyName+" "+v.styleName},postScriptName:{en:v.postScriptName||(v.familyName+v.styleName).replace(/\s/g,"")},designer:{en:v.designer||" "},designerURL:{en:v.designerURL||" "},manufacturer:{en:v.manufacturer||" "},manufacturerURL:{en:v.manufacturerURL||" "},license:{en:v.license||" "},licenseURL:{en:v.licenseURL||" "},version:{en:v.version||"Version 0.1"},description:{en:v.description||" "},copyright:{en:v.copyright||" "},trademark:{en:v.trademark||" "}},this.unitsPerEm=v.unitsPerEm||1e3,this.ascender=v.ascender,this.descender=v.descender,this.createdTimestamp=v.createdTimestamp,this.tables={os2:{usWeightClass:v.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:v.widthClass||this.usWidthClasses.MEDIUM,fsSelection:v.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new vt.GlyphSet(this,v.glyphs||[]),this.encoding=new De(this),this.position=new ti(this),this.substitution=new yn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:this.outlinesFormat==="truetype"?this._hinting=new Cu(this):void 0}})}function qu(v,x){var T=JSON.stringify(v),E=256;for(var M in x){var k=parseInt(M);if(k&&!(k<256)){if(JSON.stringify(x[M])===T)return k;E<=k&&(E=k+1)}}return x[E]=v,E}function Of(v,x,T,E){for(var M=[{name:"nameID_"+v,type:"USHORT",value:qu(x.name,E)},{name:"flags_"+v,type:"USHORT",value:0}],k=0;k<T.length;++k){var F=T[k].tag;M.push({name:"axis_"+v+" "+F,type:"FIXED",value:x.coordinates[F]<<16})}return M}function kf(v,x,T,E){var M={},k=new H.Parser(v,x);M.name=E[k.parseUShort()]||{},k.skip("uShort",1),M.coordinates={};for(var F=0;F<T.length;++F)M.coordinates[T[F].tag]=k.parseFixed();return M}Xt.prototype.hasChar=function(v){return this.encoding.charToGlyphIndex(v)!==null},Xt.prototype.charToGlyphIndex=function(v){return this.encoding.charToGlyphIndex(v)},Xt.prototype.charToGlyph=function(v){var x=this.charToGlyphIndex(v),T=this.glyphs.get(x);return T=T||this.glyphs.get(0)},Xt.prototype.stringToGlyphs=function(v,x){x=x||this.defaultRenderOptions;for(var T=Pf(v),E=[],M=0;M<T.length;M+=1){var k=T[M];E.push(this.charToGlyphIndex(k))}var F=E.length;if(x.features){var Y=x.script||this.substitution.getDefaultScriptName(),Z=[];x.features.liga&&(Z=Z.concat(this.substitution.getFeature("liga",Y,x.language))),x.features.rlig&&(Z=Z.concat(this.substitution.getFeature("rlig",Y,x.language)));for(var de=0;de<F;de+=1)for(var ve=0;ve<Z.length;ve++){for(var Ee=Z[ve],te=Ee.sub,Ke=te.length,Xe=0;Xe<Ke&&te[Xe]===E[de+Xe];)Xe++;Xe===Ke&&(E.splice(de,Ke,Ee.by),F=F-Ke+1)}}for(var Fe=new Array(F),Me=this.glyphs.get(0),Be=0;Be<F;Be+=1)Fe[Be]=this.glyphs.get(E[Be])||Me;return Fe},Xt.prototype.nameToGlyphIndex=function(v){return this.glyphNames.nameToGlyphIndex(v)},Xt.prototype.nameToGlyph=function(v){var x=this.nameToGlyphIndex(v),T=this.glyphs.get(x);return T=T||this.glyphs.get(0)},Xt.prototype.glyphIndexToName=function(v){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(v):""},Xt.prototype.getKerningValue=function(v,x){v=v.index||v,x=x.index||x;var T=this.position.defaultKerningTables;return T?this.position.getKerningValue(T,v,x):this.kerningPairs[v+","+x]||0},Xt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Xt.prototype.forEachGlyph=function(v,x,T,E,M,k){x=x!==void 0?x:0,T=T!==void 0?T:0,E=E!==void 0?E:72,M=M||this.defaultRenderOptions;var F,Y=1/this.unitsPerEm*E,Z=this.stringToGlyphs(v,M);if(M.kerning){var de=M.script||this.position.getDefaultScriptName();F=this.position.getKerningTables(de,M.language)}for(var ve=0;ve<Z.length;ve+=1){var Ee=Z[ve];k.call(this,Ee,x,T,E,M),Ee.advanceWidth&&(x+=Ee.advanceWidth*Y),M.kerning&&ve<Z.length-1&&(x+=(F?this.position.getKerningValue(F,Ee.index,Z[ve+1].index):this.getKerningValue(Ee,Z[ve+1]))*Y),M.letterSpacing?x+=M.letterSpacing*E:M.tracking&&(x+=M.tracking/1e3*E)}return x},Xt.prototype.getPath=function(v,x,T,E,M){var k=new ge;return this.forEachGlyph(v,x,T,E,M,function(F,Y,Z,de){var ve=F.getPath(Y,Z,de,M,this);k.extend(ve)}),k},Xt.prototype.getPaths=function(v,x,T,E,M){var k=[];return this.forEachGlyph(v,x,T,E,M,function(F,Y,Z,de){var ve=F.getPath(Y,Z,de,M,this);k.push(ve)}),k},Xt.prototype.getAdvanceWidth=function(v,x,T){return this.forEachGlyph(v,0,0,x,T,function(){})},Xt.prototype.draw=function(v,x,T,E,M,k){this.getPath(x,T,E,M,k).draw(v)},Xt.prototype.drawPoints=function(v,x,T,E,M,k){this.forEachGlyph(x,T,E,M,k,function(F,Y,Z,de){F.drawPoints(v,Y,Z,de)})},Xt.prototype.drawMetrics=function(v,x,T,E,M,k){this.forEachGlyph(x,T,E,M,k,function(F,Y,Z,de){F.drawMetrics(v,Y,Z,de)})},Xt.prototype.getEnglishName=function(v){var x=this.names[v];if(x)return x.en},Xt.prototype.validate=function(){var v=this;function x(T){var E=v.getEnglishName(T);E&&E.trim().length}x("fontFamily"),x("weightName"),x("manufacturer"),x("copyright"),x("version"),this.unitsPerEm},Xt.prototype.toTables=function(){return xf.fontToTable(this)},Xt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Xt.prototype.toArrayBuffer=function(){for(var v=this.toTables().encode(),x=new ArrayBuffer(v.length),T=new Uint8Array(x),E=0;E<v.length;E++)T[E]=v[E];return x},Xt.prototype.download=function(v){var x=this.getEnglishName("fontFamily"),T=this.getEnglishName("fontSubfamily");v=v||x.replace(/\s/g,"")+"-"+T+".otf";var E=this.toArrayBuffer();if(typeof window<"u")window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,E.byteLength,function(F){F.root.getFile(v,{create:!0},function(Y){Y.createWriter(function(Z){var de=new DataView(E),ve=new Blob([de],{type:"font/opentype"});Z.write(ve),Z.addEventListener("writeend",function(){location.href=Y.toURL()},!1)})})},function(F){throw new Error(F.name+": "+F.message)});else{var M=e("fs"),k=function(F){for(var Y=new h(F.byteLength),Z=new Uint8Array(F),de=0;de<Y.length;++de)Y[de]=Z[de];return Y}(E);M.writeFileSync(v,k)}},Xt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Xt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Xt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Df={make:function(v,x){var T,E,M,k,F=new Le.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:v.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:v.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*v.axes.length}]);F.offsetToData=F.sizeOf();for(var Y=0;Y<v.axes.length;Y++)F.fields=F.fields.concat((T=Y,E=v.axes[Y],M=x,k=qu(E.name,M),[{name:"tag_"+T,type:"TAG",value:E.tag},{name:"minValue_"+T,type:"FIXED",value:E.minValue<<16},{name:"defaultValue_"+T,type:"FIXED",value:E.defaultValue<<16},{name:"maxValue_"+T,type:"FIXED",value:E.maxValue<<16},{name:"flags_"+T,type:"USHORT",value:0},{name:"nameID_"+T,type:"USHORT",value:k}]));for(var Z=0;Z<v.instances.length;Z++)F.fields=F.fields.concat(Of(Z,v.instances[Z],v.axes,x));return F},parse:function(v,x,T){var E=new H.Parser(v,x),M=E.parseULong();be.argument(M===65536,"Unsupported fvar table version.");var k=E.parseOffset16();E.skip("uShort",1);for(var F,Y,Z,de,ve,Ee=E.parseUShort(),te=E.parseUShort(),Ke=E.parseUShort(),Xe=E.parseUShort(),Fe=[],Me=0;Me<Ee;Me++)Fe.push((F=v,Y=x+k+Me*te,Z=T,ve=de=void 0,de={},ve=new H.Parser(F,Y),de.tag=ve.parseTag(),de.minValue=ve.parseFixed(),de.defaultValue=ve.parseFixed(),de.maxValue=ve.parseFixed(),ve.skip("uShort",1),de.name=Z[ve.parseUShort()]||{},de));for(var Be=[],at=x+k+Ee*te,it=0;it<Ke;it++)Be.push(kf(v,at+it*Xe,Fe,T));return{axes:Fe,instances:Be}}},sn=new Array(10);sn[1]=function(){var v=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{posFormat:1,coverage:this.parsePointer(we.coverage),value:this.parseValueRecord()}:x===2?{posFormat:2,coverage:this.parsePointer(we.coverage),values:this.parseValueRecordList()}:void be.assert(!1,"0x"+v.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},sn[2]=function(){var v=this.offset+this.relativeOffset,x=this.parseUShort();be.assert(x===1||x===2,"0x"+v.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var T=this.parsePointer(we.coverage),E=this.parseUShort(),M=this.parseUShort();if(x===1)return{posFormat:x,coverage:T,valueFormat1:E,valueFormat2:M,pairSets:this.parseList(we.pointer(we.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(E),value2:this.parseValueRecord(M)}})))};if(x===2){var k=this.parsePointer(we.classDef),F=this.parsePointer(we.classDef),Y=this.parseUShort(),Z=this.parseUShort();return{posFormat:x,coverage:T,valueFormat1:E,valueFormat2:M,classDef1:k,classDef2:F,class1Count:Y,class2Count:Z,classRecords:this.parseList(Y,we.list(Z,function(){return{value1:this.parseValueRecord(E),value2:this.parseValueRecord(M)}}))}}},sn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},sn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},sn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},sn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},sn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},sn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},sn[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Lf=new Array(10),If={parse:function(v,x){var T=new we(v,x=x||0),E=T.parseVersion(1);return be.argument(E===1||E===1.1,"Unsupported GPOS table version "+E),E===1?{version:E,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(sn)}:{version:E,scripts:T.parseScriptList(),features:T.parseFeatureList(),lookups:T.parseLookupList(sn),variations:T.parseFeatureVariationsList()}},make:function(v){return new Le.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Le.ScriptList(v.scripts)},{name:"features",type:"TABLE",value:new Le.FeatureList(v.features)},{name:"lookups",type:"TABLE",value:new Le.LookupList(v.lookups,Lf)}])}},Bf={parse:function(v,x){var T=new H.Parser(v,x),E=T.parseUShort();if(E===0)return function(M){var k={};M.skip("uShort");var F=M.parseUShort();be.argument(F===0,"Unsupported kern sub-table version."),M.skip("uShort",2);var Y=M.parseUShort();M.skip("uShort",3);for(var Z=0;Z<Y;Z+=1){var de=M.parseUShort(),ve=M.parseUShort(),Ee=M.parseShort();k[de+","+ve]=Ee}return k}(T);if(E===1)return function(M){var k={};M.skip("uShort"),1<M.parseULong()&&console.warn("Only the first kern subtable is supported."),M.skip("uLong");var F=255&M.parseUShort();if(M.skip("uShort"),F==0){var Y=M.parseUShort();M.skip("uShort",3);for(var Z=0;Z<Y;Z+=1){var de=M.parseUShort(),ve=M.parseUShort(),Ee=M.parseShort();k[de+","+ve]=Ee}}return k}(T);throw new Error("Unsupported kern table version ("+E+").")}},Nf={parse:function(v,x,T,E){for(var M=new H.Parser(v,x),k=E?M.parseUShort:M.parseULong,F=[],Y=0;Y<T+1;Y+=1){var Z=k.call(M);E&&(Z*=2),F.push(Z)}return F}};function Uf(v,x){e("fs").readFile(v,function(T,E){if(T)return x(T.message);x(null,xu(E))})}function Ff(v,x){var T=new XMLHttpRequest;T.open("get",v,!0),T.responseType="arraybuffer",T.onload=function(){return T.response?x(null,T.response):x("Font could not be loaded: "+T.statusText)},T.onerror=function(){x("Font could not be loaded")},T.send()}function Yu(v,x){for(var T=[],E=12,M=0;M<x;M+=1){var k=H.getTag(v,E),F=H.getULong(v,E+4),Y=H.getULong(v,E+8),Z=H.getULong(v,E+12);T.push({tag:k,checksum:F,offset:Y,length:Z,compression:!1}),E+=16}return T}function pr(v,x){if(x.compression!=="WOFF")return{data:v,offset:x.offset};var T=new Uint8Array(v.buffer,x.offset+2,x.compressedLength-2),E=new Uint8Array(x.length);if(J(T,E),E.byteLength!==x.length)throw new Error("Decompression error: "+x.tag+" decompressed length doesn't match recorded length");return{data:new DataView(E.buffer,0),offset:0}}function xa(v){var x,T,E,M,k,F,Y,Z,de,ve,Ee,te,Ke,Xe,Fe=new Xt({empty:!0}),Me=new DataView(v,0),Be=[],at=H.getTag(Me,0);if(at===String.fromCharCode(0,1,0,0)||at==="true"||at==="typ1")Fe.outlinesFormat="truetype",Be=Yu(Me,E=H.getUShort(Me,4));else if(at==="OTTO")Fe.outlinesFormat="cff",Be=Yu(Me,E=H.getUShort(Me,4));else{if(at!=="wOFF")throw new Error("Unsupported OpenType signature "+at);var it=H.getTag(Me,4);if(it===String.fromCharCode(0,1,0,0))Fe.outlinesFormat="truetype";else{if(it!=="OTTO")throw new Error("Unsupported OpenType flavor "+at);Fe.outlinesFormat="cff"}Be=function(Ot,lr){for(var $t=[],Qt=44,bn=0;bn<lr;bn+=1){var zo=H.getTag(Ot,Qt),xo=H.getULong(Ot,Qt+4),qr=H.getULong(Ot,Qt+8),_o=H.getULong(Ot,Qt+12),qo=void 0;qo=qr<_o&&"WOFF",$t.push({tag:zo,offset:xo,compression:qo,compressedLength:qr,length:_o}),Qt+=20}return $t}(Me,E=H.getUShort(Me,12))}for(var St=0;St<E;St+=1){var dt=Be[St],pt=void 0;switch(dt.tag){case"cmap":pt=pr(Me,dt),Fe.tables.cmap=Q.parse(pt.data,pt.offset),Fe.encoding=new We(Fe.tables.cmap);break;case"cvt ":pt=pr(Me,dt),Xe=new H.Parser(pt.data,pt.offset),Fe.tables.cvt=Xe.parseShortList(dt.length/2);break;case"fvar":k=dt;break;case"fpgm":pt=pr(Me,dt),Xe=new H.Parser(pt.data,pt.offset),Fe.tables.fpgm=Xe.parseByteList(dt.length);break;case"head":pt=pr(Me,dt),Fe.tables.head=st.parse(pt.data,pt.offset),Fe.unitsPerEm=Fe.tables.head.unitsPerEm,x=Fe.tables.head.indexToLocFormat;break;case"hhea":pt=pr(Me,dt),Fe.tables.hhea=Ve.parse(pt.data,pt.offset),Fe.ascender=Fe.tables.hhea.ascender,Fe.descender=Fe.tables.hhea.descender,Fe.numberOfHMetrics=Fe.tables.hhea.numberOfHMetrics;break;case"hmtx":de=dt;break;case"ltag":pt=pr(Me,dt),T=kt.parse(pt.data,pt.offset);break;case"maxp":pt=pr(Me,dt),Fe.tables.maxp=Vt.parse(pt.data,pt.offset),Fe.numGlyphs=Fe.tables.maxp.numGlyphs;break;case"name":te=dt;break;case"OS/2":pt=pr(Me,dt),Fe.tables.os2=fa.parse(pt.data,pt.offset);break;case"post":pt=pr(Me,dt),Fe.tables.post=du.parse(pt.data,pt.offset),Fe.glyphNames=new Qe(Fe.tables.post);break;case"prep":pt=pr(Me,dt),Xe=new H.Parser(pt.data,pt.offset),Fe.tables.prep=Xe.parseByteList(dt.length);break;case"glyf":F=dt;break;case"loca":Ee=dt;break;case"CFF ":M=dt;break;case"kern":ve=dt;break;case"GPOS":Y=dt;break;case"GSUB":Z=dt;break;case"meta":Ke=dt}}var nr=pr(Me,te);if(Fe.tables.name=cu.parse(nr.data,nr.offset,T),Fe.names=Fe.tables.name,F&&Ee){var jt=x===0,Tt=pr(Me,Ee),Ct=Nf.parse(Tt.data,Tt.offset,Fe.numGlyphs,jt),Gt=pr(Me,F);Fe.glyphs=ju.parse(Gt.data,Gt.offset,Ct,Fe)}else{if(!M)throw new Error("Font doesn't contain TrueType or CFF outlines.");var Ut=pr(Me,M);Ye.parse(Ut.data,Ut.offset,Fe)}var er=pr(Me,de);if(Et.parse(er.data,er.offset,Fe.numberOfHMetrics,Fe.numGlyphs,Fe.glyphs),function(Ot){for(var lr,$t=Ot.tables.cmap.glyphIndexMap,Qt=Object.keys($t),bn=0;bn<Qt.length;bn+=1){var zo=Qt[bn],xo=$t[zo];(lr=Ot.glyphs.get(xo)).addUnicode(parseInt(zo))}for(var qr=0;qr<Ot.glyphs.length;qr+=1)lr=Ot.glyphs.get(qr),Ot.cffEncoding?Ot.isCIDFont?lr.name="gid"+qr:lr.name=Ot.cffEncoding.charset[qr]:Ot.glyphNames.names&&(lr.name=Ot.glyphNames.glyphIndexToName(qr))}(Fe),ve){var Ht=pr(Me,ve);Fe.kerningPairs=Bf.parse(Ht.data,Ht.offset)}else Fe.kerningPairs={};if(Y){var Ft=pr(Me,Y);Fe.tables.gpos=If.parse(Ft.data,Ft.offset),Fe.position.init()}if(Z){var tr=pr(Me,Z);Fe.tables.gsub=hu.parse(tr.data,tr.offset)}if(k){var Wt=pr(Me,k);Fe.tables.fvar=Df.parse(Wt.data,Wt.offset,Fe.names)}if(Ke){var ir=pr(Me,Ke);Fe.tables.meta=fu.parse(ir.data,ir.offset),Fe.metas=Fe.tables.meta}return Fe}f.Font=Xt,f.Glyph=mt,f.Path=ge,f.BoundingBox=se,f._parse=H,f.parse=xa,f.load=function(v,x){(typeof window>"u"?Uf:Ff)(v,function(T,E){if(T)return x(T);var M;try{M=xa(E)}catch(k){return x(k,null)}return x(null,M)})},f.loadSync=function(v){return xa(xu(e("fs").readFileSync(v)))},Object.defineProperty(f,"__esModule",{value:!0})},p(typeof u=="object"&&l!==void 0?u:n.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],240:[function(e,l,u){(function(h){function n(g,m){for(var i=0,s=g.length-1;0<=s;s--){var a=g[s];a==="."?g.splice(s,1):a===".."?(g.splice(s,1),i++):i&&(g.splice(s,1),i--)}if(m)for(;i--;)g.unshift("..");return g}function p(g,m){if(g.filter)return g.filter(m);for(var i=[],s=0;s<g.length;s++)m(g[s],s,g)&&i.push(g[s]);return i}u.resolve=function(){for(var g="",m=!1,i=arguments.length-1;-1<=i&&!m;i--){var s=0<=i?arguments[i]:h.cwd();if(typeof s!="string")throw new TypeError("Arguments to path.resolve must be strings");s&&(g=s+"/"+g,m=s.charAt(0)==="/")}return(m?"/":"")+(g=n(p(g.split("/"),function(a){return!!a}),!m).join("/"))||"."},u.normalize=function(g){var m=u.isAbsolute(g),i=f(g,-1)==="/";return(g=n(p(g.split("/"),function(s){return!!s}),!m).join("/"))||m||(g="."),g&&i&&(g+="/"),(m?"/":"")+g},u.isAbsolute=function(g){return g.charAt(0)==="/"},u.join=function(){var g=Array.prototype.slice.call(arguments,0);return u.normalize(p(g,function(m,i){if(typeof m!="string")throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},u.relative=function(g,m){function i(_){for(var S=0;S<_.length&&_[S]==="";S++);for(var j=_.length-1;0<=j&&_[j]==="";j--);return j<S?[]:_.slice(S,j-S+1)}g=u.resolve(g).substr(1),m=u.resolve(m).substr(1);for(var s=i(g.split("/")),a=i(m.split("/")),c=Math.min(s.length,a.length),d=c,y=0;y<c;y++)if(s[y]!==a[y]){d=y;break}var w=[];for(y=d;y<s.length;y++)w.push("..");return(w=w.concat(a.slice(d))).join("/")},u.sep="/",u.delimiter=":",u.dirname=function(g){if(typeof g!="string"&&(g+=""),g.length===0)return".";for(var m=g.charCodeAt(0),i=m===47,s=-1,a=!0,c=g.length-1;1<=c;--c)if((m=g.charCodeAt(c))===47){if(!a){s=c;break}}else a=!1;return s===-1?i?"/":".":i&&s===1?"/":g.slice(0,s)},u.basename=function(g,m){var i=function(s){typeof s!="string"&&(s+="");var a,c=0,d=-1,y=!0;for(a=s.length-1;0<=a;--a)if(s.charCodeAt(a)===47){if(!y){c=a+1;break}}else d===-1&&(y=!1,d=a+1);return d===-1?"":s.slice(c,d)}(g);return m&&i.substr(-1*m.length)===m&&(i=i.substr(0,i.length-m.length)),i},u.extname=function(g){typeof g!="string"&&(g+="");for(var m=-1,i=0,s=-1,a=!0,c=0,d=g.length-1;0<=d;--d){var y=g.charCodeAt(d);if(y===47){if(a)continue;i=d+1;break}s===-1&&(a=!1,s=d+1),y===46?m===-1?m=d:c!==1&&(c=1):m!==-1&&(c=-1)}return m===-1||s===-1||c===0||c===1&&m===s-1&&m===i+1?"":g.slice(m,s)};var f="ab".substr(-1)==="b"?function(g,m,i){return g.substr(m,i)}:function(g,m,i){return m<0&&(m=g.length+m),g.substr(m,i)}}).call(this,e("_process"))},{_process:241}],241:[function(e,l,u){var h,n,p=l.exports={};function f(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function m(S){if(h===setTimeout)return setTimeout(S,0);if((h===f||!h)&&setTimeout)return h=setTimeout,setTimeout(S,0);try{return h(S,0)}catch{try{return h.call(null,S,0)}catch{return h.call(this,S,0)}}}(function(){try{h=typeof setTimeout=="function"?setTimeout:f}catch{h=f}try{n=typeof clearTimeout=="function"?clearTimeout:g}catch{n=g}})();var i,s=[],a=!1,c=-1;function d(){a&&i&&(a=!1,i.length?s=i.concat(s):c=-1,s.length&&y())}function y(){if(!a){var S=m(d);a=!0;for(var j=s.length;j;){for(i=s,s=[];++c<j;)i&&i[c].run();c=-1,j=s.length}i=null,a=!1,function(C){if(n===clearTimeout)return clearTimeout(C);if((n===g||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(C);try{n(C)}catch{try{return n.call(null,C)}catch{return n.call(this,C)}}}(S)}}function w(S,j){this.fun=S,this.array=j}function _(){}p.nextTick=function(S){var j=new Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)j[C-1]=arguments[C];s.push(new w(S,j)),s.length!==1||a||m(y)},w.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=_,p.addListener=_,p.once=_,p.off=_,p.removeListener=_,p.removeAllListeners=_,p.emit=_,p.prependListener=_,p.prependOnceListener=_,p.listeners=function(S){return[]},p.binding=function(S){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(S){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],242:[function(e,l,u){(function(h){if(!h.fetch){var n="URLSearchParams"in h,p="Symbol"in h&&"iterator"in Symbol,f="FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),g="FormData"in h,m="ArrayBuffer"in h;if(m)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(L){return L&&DataView.prototype.isPrototypeOf(L)},a=ArrayBuffer.isView||function(L){return L&&-1<i.indexOf(Object.prototype.toString.call(L))};S.prototype.append=function(L,W){L=y(L),W=w(W);var z=this.map[L];this.map[L]=z?z+","+W:W},S.prototype.delete=function(L){delete this.map[y(L)]},S.prototype.get=function(L){return L=y(L),this.has(L)?this.map[L]:null},S.prototype.has=function(L){return this.map.hasOwnProperty(y(L))},S.prototype.set=function(L,W){this.map[y(L)]=w(W)},S.prototype.forEach=function(L,W){for(var z in this.map)this.map.hasOwnProperty(z)&&L.call(W,this.map[z],z,this)},S.prototype.keys=function(){var L=[];return this.forEach(function(W,z){L.push(z)}),_(L)},S.prototype.values=function(){var L=[];return this.forEach(function(W){L.push(W)}),_(L)},S.prototype.entries=function(){var L=[];return this.forEach(function(W,z){L.push([z,W])}),_(L)},p&&(S.prototype[Symbol.iterator]=S.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},I.call(A.prototype),I.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},N.error=function(){var L=new N(null,{status:0,statusText:""});return L.type="error",L};var d=[301,302,303,307,308];N.redirect=function(L,W){if(d.indexOf(W)===-1)throw new RangeError("Invalid status code");return new N(null,{status:W,headers:{location:L}})},h.Headers=S,h.Request=A,h.Response=N,h.fetch=function(L,W){return new Promise(function(z,le){var ue=new A(L,W),J=new XMLHttpRequest;J.onload=function(){var ce,se,ge={status:J.status,statusText:J.statusText,headers:(ce=J.getAllResponseHeaders()||"",se=new S,ce.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Ce){var be=Ce.split(":"),Ie=be.shift().trim();if(Ie){var Se=be.join(":").trim();se.append(Ie,Se)}}),se)};ge.url="responseURL"in J?J.responseURL:ge.headers.get("X-Request-URL");var _e="response"in J?J.response:J.responseText;z(new N(_e,ge))},J.onerror=function(){le(new TypeError("Network request failed"))},J.ontimeout=function(){le(new TypeError("Network request failed"))},J.open(ue.method,ue.url,!0),ue.credentials==="include"?J.withCredentials=!0:ue.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&f&&(J.responseType="blob"),ue.headers.forEach(function(ce,se){J.setRequestHeader(se,ce)}),J.send(ue._bodyInit===void 0?null:ue._bodyInit)})},h.fetch.polyfill=!0}function y(L){if(typeof L!="string"&&(L=String(L)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(L))throw new TypeError("Invalid character in header field name");return L.toLowerCase()}function w(L){return typeof L!="string"&&(L=String(L)),L}function _(L){var W={next:function(){var z=L.shift();return{done:z===void 0,value:z}}};return p&&(W[Symbol.iterator]=function(){return W}),W}function S(L){this.map={},L instanceof S?L.forEach(function(W,z){this.append(z,W)},this):Array.isArray(L)?L.forEach(function(W){this.append(W[0],W[1])},this):L&&Object.getOwnPropertyNames(L).forEach(function(W){this.append(W,L[W])},this)}function j(L){if(L.bodyUsed)return Promise.reject(new TypeError("Already read"));L.bodyUsed=!0}function C(L){return new Promise(function(W,z){L.onload=function(){W(L.result)},L.onerror=function(){z(L.error)}})}function R(L){var W=new FileReader,z=C(W);return W.readAsArrayBuffer(L),z}function P(L){if(L.slice)return L.slice(0);var W=new Uint8Array(L.byteLength);return W.set(new Uint8Array(L)),W.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(L){if(this._bodyInit=L)if(typeof L=="string")this._bodyText=L;else if(f&&Blob.prototype.isPrototypeOf(L))this._bodyBlob=L;else if(g&&FormData.prototype.isPrototypeOf(L))this._bodyFormData=L;else if(n&&URLSearchParams.prototype.isPrototypeOf(L))this._bodyText=L.toString();else if(m&&f&&s(L))this._bodyArrayBuffer=P(L.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(L)&&!a(L))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=P(L)}else this._bodyText="";this.headers.get("content-type")||(typeof L=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(L)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f&&(this.blob=function(){var L=j(this);if(L)return L;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?j(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(R)}),this.text=function(){var L,W,z,le=j(this);if(le)return le;if(this._bodyBlob)return L=this._bodyBlob,W=new FileReader,z=C(W),W.readAsText(L),z;if(this._bodyArrayBuffer)return Promise.resolve(function(ue){for(var J=new Uint8Array(ue),ce=new Array(J.length),se=0;se<J.length;se++)ce[se]=String.fromCharCode(J[se]);return ce.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}function A(L,W){var z,le,ue=(W=W||{}).body;if(L instanceof A){if(L.bodyUsed)throw new TypeError("Already read");this.url=L.url,this.credentials=L.credentials,W.headers||(this.headers=new S(L.headers)),this.method=L.method,this.mode=L.mode,ue||L._bodyInit==null||(ue=L._bodyInit,L.bodyUsed=!0)}else this.url=String(L);if(this.credentials=W.credentials||this.credentials||"omit",!W.headers&&this.headers||(this.headers=new S(W.headers)),this.method=(z=W.method||this.method||"GET",le=z.toUpperCase(),-1<c.indexOf(le)?le:z),this.mode=W.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ue)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(ue)}function D(L){var W=new FormData;return L.trim().split("&").forEach(function(z){if(z){var le=z.split("="),ue=le.shift().replace(/\+/g," "),J=le.join("=").replace(/\+/g," ");W.append(decodeURIComponent(ue),decodeURIComponent(J))}}),W}function N(L,W){W=W||{},this.type="default",this.status=W.status===void 0?200:W.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in W?W.statusText:"OK",this.headers=new S(W.headers),this.url=W.url||"",this._initBody(L)}})(typeof self<"u"?self:this)},{}],243:[function(e,l,u){e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=f(e("../core/main")),p=f(e("../color/color_conversion"));function f(s){return s&&s.__esModule?s:{default:s}}var g=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],m=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];n.default.prototype._rgbColorName=function(s){var a=p.default._rgbaToHSBA(s);return function(c){var d;if(c[0]!==0){c[0]=Math.round(100*c[0]);var y=c[0].toString().split(""),w=y.length-1;y[w]=parseInt(y[w]),y[w]<2.5?y[w]=0:2.5<=y[w]&&y[w]<7.5&&(y[w]=5),y.length===2?(y[0]=parseInt(y[0]),7.5<=y[w]&&(y[w]=0,y[0]=y[0]+1),c[0]=10*y[0]+y[1]):7.5<=y[w]?c[0]=10:c[0]=y[w]}c[2]=c[2]/255;for(var _=c.length-1;1<=_;_--)c[_]<=.25?c[_]=0:.25<c[_]&&c[_]<.75?c[_]=.5:c[_]=1;if(c[0]===0&&c[1]===0&&c[2]===1){for(var S=2;0<=S;S--)h[S]=Math.round(1e4*h[S])/1e4;for(var j=0;j<g.length;j++){if(g[j].h===h[0]&&g[j].s===h[1]&&g[j].b===h[2]){d=g[j].name;break}d="white"}}else for(var C=0;C<m.length;C++)if(m[C].h===c[0]&&m[C].s===c[1]&&m[C].b===c[2]){d=m[C].name;break}return d}([(h=a)[0],a[1],a[2]])};var i=n.default;u.default=i},{"../color/color_conversion":249,"../core/main":264,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],244:[function(e,l,u){e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h},p="_Description",f="_fallbackDesc",g="_fallbackTable",m="_Label",i="_labelDesc",s="_labelTable";function a(d){if(d==="label"||d==="fallback")throw new Error("description should not be LABEL or FALLBACK");return d.endsWith(".")||d.endsWith(";")||d.endsWith(",")||d.endsWith("?")||d.endsWith("!")||(d+="."),d}n.default.prototype.describe=function(d,y){if(n.default._validateParameters("describe",arguments),typeof d=="string"){var w=this.canvas.id;d=a(d),this.dummyDOM||(this.dummyDOM=document.getElementById(w).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==d&&(this.descriptions.fallback.innerHTML=d):this._describeHTML("fallback",d),y===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==d&&(this.descriptions.label.innerHTML=d):this._describeHTML("label",d))}},n.default.prototype.describeElement=function(d,y,w){if(n.default._validateParameters("describeElement",arguments),typeof y=="string"&&typeof d=="string"){var _=this.canvas.id;y=a(y);var S=function(C){if(C==="label"||C==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return C.endsWith(".")||C.endsWith(";")||C.endsWith(",")?C=C.replace(/.$/,":"):C.endsWith(":")||(C+=":"),C}(d);d=d.replace(/[^a-zA-Z0-9]/g,"");var j='<th scope="row">'.concat(S,"</th><td>").concat(y,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(_).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[d]?this.descriptions.fallbackElements[d].innerHTML!==j&&(this.descriptions.fallbackElements[d].innerHTML=j):this._describeElementHTML("fallback",d,j),w===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[d]?this.descriptions.labelElements[d].innerHTML!==j&&(this.descriptions.labelElements[d].innerHTML=j):this._describeElementHTML("label",d,j))}},n.default.prototype._describeHTML=function(d,y){var w=this.canvas.id;if(d==="fallback"){if(this.dummyDOM.querySelector("#".concat(w+p)))this.dummyDOM.querySelector("#"+w+g).insertAdjacentHTML("beforebegin",'<p id="'.concat(w+f,'"></p>'));else{var _='<div id="'.concat(w).concat(p,'" role="region" aria-label="Canvas Description"><p id="').concat(w).concat(f,'"></p></div>');this.dummyDOM.querySelector("#".concat(w,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutput")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#".concat(w)).innerHTML=_}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(w).concat(f)),void(this.descriptions.fallback.innerHTML=y)}if(d==="label"){if(this.dummyDOM.querySelector("#".concat(w+m)))this.dummyDOM.querySelector("#".concat(w+s))&&this.dummyDOM.querySelector("#".concat(w+s)).insertAdjacentHTML("beforebegin",'<p id="'.concat(w).concat(i,'"></p>'));else{var S='<div id="'.concat(w).concat(m,'" class="p5Label"><p id="').concat(w).concat(i,'"></p></div>');this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",S):this.dummyDOM.querySelector("#"+w).insertAdjacentHTML("afterend",S)}return this.descriptions.label=this.dummyDOM.querySelector("#"+w+i),void(this.descriptions.label.innerHTML=y)}},n.default.prototype._describeElementHTML=function(d,y,w){var _=this.canvas.id;if(d==="fallback"){if(this.dummyDOM.querySelector("#".concat(_+p)))this.dummyDOM.querySelector("#"+_+g)||this.dummyDOM.querySelector("#"+_+f).insertAdjacentHTML("afterend",'<table id="'.concat(_).concat(g,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var S='<div id="'.concat(_).concat(p,'" role="region" aria-label="Canvas Description"><table id="').concat(_).concat(g,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(_,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutput")).insertAdjacentHTML("beforebegin",S):this.dummyDOM.querySelector("#"+_).innerHTML=S}var j=document.createElement("tr");return j.id=_+"_fte_"+y,this.dummyDOM.querySelector("#"+_+g).appendChild(j),this.descriptions.fallbackElements[y]=this.dummyDOM.querySelector("#".concat(_).concat("_fte_").concat(y)),void(this.descriptions.fallbackElements[y].innerHTML=w)}if(d==="label"){if(this.dummyDOM.querySelector("#".concat(_+m)))this.dummyDOM.querySelector("#".concat(_+s))||this.dummyDOM.querySelector("#"+_+i).insertAdjacentHTML("afterend",'<table id="'.concat(_+s,'"></table>'));else{var C='<div id="'.concat(_).concat(m,'" class="p5Label"><table id="').concat(_).concat(s,'"></table></div>');this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",C):this.dummyDOM.querySelector("#"+_).insertAdjacentHTML("afterend",C)}var R=document.createElement("tr");R.id=_+"_lte_"+y,this.dummyDOM.querySelector("#"+_+s).appendChild(R),this.descriptions.labelElements[y]=this.dummyDOM.querySelector("#".concat(_).concat("_lte_").concat(y)),this.descriptions.labelElements[y].innerHTML=w}};var c=n.default;u.default=c},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],245:[function(e,l,u){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.prototype._updateGridOutput=function(f){if(this.dummyDOM.querySelector("#".concat(f,"_summary"))){var g=this._accessibleOutputs[f],m=function(a,c){var d="",y="",w=0;for(var _ in c){var S=0;for(var j in c[_]){var C='<li id="'.concat(a,"shape").concat(w,'">').concat(c[_][j].color," ").concat(_,",");_==="line"?C+=" location = ".concat(c[_][j].pos,", length = ").concat(c[_][j].length," pixels"):(C+=" location = ".concat(c[_][j].pos),_!=="point"&&(C+=", area = ".concat(c[_][j].area," %")),C+="</li>"),d+=C,S++,w++}y=1<S?"".concat(y," ").concat(S," ").concat(_,"s"):"".concat(y," ").concat(S," ").concat(_)}return{numShapes:[w,y],details:d}}(f,this.ingredients.shapes),i=function(a,c,d,y){var w="".concat(c," canvas, ").concat(d," by ").concat(y," pixels, contains ").concat(a[0]);return w=a[0]===1?"".concat(w," shape: ").concat(a[1]):"".concat(w," shapes: ").concat(a[1]),w}(m.numShapes,this.ingredients.colors.background,this.width,this.height),s=function(a,c){var d=0,y="",w=Array.apply(null,Array(10)).map(function(){});for(var _ in w)w[_]=Array.apply(null,Array(10)).map(function(){});for(var S in c)for(var j in c[S]){var C=void 0;C=S!=="line"?'<a href="#'.concat(a,"shape").concat(d,'">').concat(c[S][j].color," ").concat(S,"</a>"):'<a href="#'.concat(a,"shape").concat(d,'">').concat(c[S][j].color," ").concat(S," midpoint</a>"),w[c[S][j].loc.locY][c[S][j].loc.locX]?w[c[S][j].loc.locY][c[S][j].loc.locX]=w[c[S][j].loc.locY][c[S][j].loc.locX]+"  "+C:w[c[S][j].loc.locY][c[S][j].loc.locX]=C,d++}for(var R in w){var P="<tr>";for(var I in w[R])P+="<td>",w[R][I]!==void 0&&(P+=w[R][I]),P+="</td>";y=y+P+"</tr>"}return y}(f,this.ingredients.shapes);i!==g.summary.innerHTML&&(g.summary.innerHTML=i),s!==g.map.innerHTML&&(g.map.innerHTML=s),m.details!==g.shapeDetails.innerHTML&&(g.shapeDetails.innerHTML=m.details),this._accessibleOutputs[f]=g}};var p=n.default;u.default=p},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],246:[function(e,l,u){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(m,i,s){return m[0]<.4*i?m[1]<.4*s?"top left":m[1]>.6*s?"bottom left":"mid left":m[0]>.6*i?m[1]<.4*s?"top right":m[1]>.6*s?"bottom right":"mid right":m[1]<.4*s?"top middle":m[1]>.6*s?"bottom middle":"middle"}function f(m,i,s){var a=Math.floor(m[0]/i*10),c=Math.floor(m[1]/s*10);return a===10&&--a,c===10&&--c,{locX:a,locY:c}}n.default.prototype.textOutput=function(m){n.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),m===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},n.default.prototype.gridOutput=function(m){n.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),m===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},n.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},n.default.prototype._createOutput=function(m,i){var s,a,c,d=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode);var y="";i==="Fallback"?(s=d+m,a=d+"accessibleOutput",this.dummyDOM.querySelector("#".concat(a))||(this.dummyDOM.querySelector("#".concat(d,"_Description"))?this.dummyDOM.querySelector("#".concat(d,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(d)).innerHTML='<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>'))):i==="Label"&&(s=d+m+(y=i),a=d+"accessibleOutput"+i,this.dummyDOM.querySelector("#".concat(a))||(this.dummyDOM.querySelector("#".concat(d,"_Label"))?this.dummyDOM.querySelector("#".concat(d,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(a,'"></div>')):this.dummyDOM.querySelector("#".concat(d)).insertAdjacentHTML("afterend",'<div id="'.concat(a,'"></div>')))),this._accessibleOutputs[s]={},m==="textOutput"?(y="#".concat(d,"gridOutput").concat(y),c='<div id="'.concat(s,'">Text Output<div id="').concat(s,'Summary" aria-label="text output summary"><p id="').concat(s,'_summary"></p><ul id="').concat(s,'_list"></ul></div><table id="').concat(s,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(y)?this.dummyDOM.querySelector(y).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(a)).innerHTML=c,this._accessibleOutputs[s].list=this.dummyDOM.querySelector("#".concat(s,"_list"))):m==="gridOutput"&&(y="#".concat(d,"textOutput").concat(y),c='<div id="'.concat(s,'">Grid Output<p id="').concat(s,'_summary" aria-label="grid output summary"><table id="').concat(s,'_map" summary="grid output content"></table><ul id="').concat(s,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(y)?this.dummyDOM.querySelector(y).insertAdjacentHTML("afterend",c):this.dummyDOM.querySelector("#".concat(a)).innerHTML=c,this._accessibleOutputs[s].map=this.dummyDOM.querySelector("#".concat(s,"_map"))),this._accessibleOutputs[s].shapeDetails=this.dummyDOM.querySelector("#".concat(s,"_shapeDetails")),this._accessibleOutputs[s].summary=this.dummyDOM.querySelector("#".concat(s,"_summary"))},n.default.prototype._updateAccsOutput=function(){var m=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(m+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(m+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(m+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(m+"gridOutputLabel"))},n.default.prototype._accsBackground=function(m){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==m&&(this.ingredients.colors.backgroundRGBA=m,this.ingredients.colors.background=this._rgbColorName(m))},n.default.prototype._accsCanvasColors=function(m,i){m==="fill"?this.ingredients.colors.fillRGBA!==i&&(this.ingredients.colors.fillRGBA=i,this.ingredients.colors.fill=this._rgbColorName(i)):m==="stroke"&&this.ingredients.colors.strokeRGBA!==i&&(this.ingredients.colors.strokeRGBA=i,this.ingredients.colors.stroke=this._rgbColorName(i))},n.default.prototype._accsOutput=function(m,i){m==="ellipse"&&i[2]===i[3]?m="circle":m==="rectangle"&&i[2]===i[3]&&(m="square");var s={},a=!0,c=function(_,S){var j,C;return C=_==="rectangle"||_==="ellipse"||_==="arc"||_==="circle"||_==="square"?(j=Math.round(S[0]+S[2]/2),Math.round(S[1]+S[3]/2)):_==="triangle"?(j=(S[0]+S[2]+S[4])/3,(S[1]+S[3]+S[5])/3):_==="quadrilateral"?(j=(S[0]+S[2]+S[4]+S[6])/4,(S[1]+S[3]+S[5]+S[7])/4):_==="line"?(j=(S[0]+S[2])/2,(S[1]+S[3])/2):(j=S[0],S[1]),[j,C]}(m,i);if(m==="line"){s.color=this.ingredients.colors.stroke,s.length=Math.round(this.dist(i[0],i[1],i[2],i[3]));var d=p([i[0],[1]],this.width,this.height),y=p([i[2],[3]],this.width,this.height);s.loc=f(c,this.width,this.height),s.pos=d===y?"at ".concat(d):"from ".concat(d," to ").concat(y)}else m==="point"?s.color=this.ingredients.colors.stroke:(s.color=this.ingredients.colors.fill,s.area=function(_,S,j,C){var R=0;if(_==="arc"){var P=((S[5]-S[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(R=P*S[2]*S[3]/8,S[6]==="open"||S[6]==="chord"){var I=S[0],A=S[1],D=S[0]+S[2]/2*Math.cos(S[4]).toFixed(2),N=S[1]+S[3]/2*Math.sin(S[4]).toFixed(2),L=S[0]+S[2]/2*Math.cos(S[5]).toFixed(2),W=S[1]+S[3]/2*Math.sin(S[5]).toFixed(2),z=Math.abs(I*(N-W)+D*(W-A)+L*(A-N))/2;P>Math.PI?R+=z:R-=z}}else _==="ellipse"||_==="circle"?R=3.14*S[2]/2*S[3]/2:_==="line"||_==="point"?R=0:_==="quadrilateral"?R=Math.abs((S[6]+S[0])*(S[7]-S[1])+(S[0]+S[2])*(S[1]-S[3])+(S[2]+S[4])*(S[3]-S[5])+(S[4]+S[6])*(S[5]-S[7]))/2:_==="rectangle"||_==="square"?R=S[2]*S[3]:_==="triangle"&&(R=Math.abs(S[0]*(S[3]-S[5])+S[2]*(S[5]-S[1])+S[4]*(S[1]-S[3]))/2);return Math.round(100*R/(j*C))}(m,i,this.width,this.height)),s.pos=p(c,this.width,this.height),s.loc=f(c,this.width,this.height);if(this.ingredients.shapes[m]){if(this.ingredients.shapes[m]!==[s]){for(var w in this.ingredients.shapes[m])JSON.stringify(this.ingredients.shapes[m][w])===JSON.stringify(s)&&(a=!1);a===!0&&this.ingredients.shapes[m].push(s)}}else this.ingredients.shapes[m]=[s]};var g=n.default;u.default=g},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":172}],247:[function(e,l,u){e("core-js/modules/es.array.concat"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.prototype._updateTextOutput=function(f){if(this.dummyDOM.querySelector("#".concat(f,"_summary"))){var g=this._accessibleOutputs[f],m=function(a,c){var d="",y=0;for(var w in c)for(var _ in c[w]){var S='<li><a href="#'.concat(a,"shape").concat(y,'">').concat(c[w][_].color," ").concat(w,"</a>");w==="line"?S+=", ".concat(c[w][_].pos,", ").concat(c[w][_].length," pixels long.</li>"):(S+=", at ".concat(c[w][_].pos),w!=="point"&&(S+=", covering ".concat(c[w][_].area,"% of the canvas")),S+=".</li>"),d+=S,y++}return{numShapes:y,listShapes:d}}(f,this.ingredients.shapes),i=function(a,c,d,y){var w="Your output is a, ".concat(d," by ").concat(y," pixels, ").concat(c," canvas containing the following");return w=a===1?"".concat(w," shape:"):"".concat(w," ").concat(a," shapes:"),w}(m.numShapes,this.ingredients.colors.background,this.width,this.height),s=function(a,c){var d="",y=0;for(var w in c)for(var _ in c[w]){var S='<tr id="'.concat(a,"shape").concat(y,'"><th>').concat(c[w][_].color," ").concat(w,"</th>");w==="line"?S+="<td>location = ".concat(c[w][_].pos,"</td><td>length = ").concat(c[w][_].length," pixels</td></tr>"):(S+="<td>location = ".concat(c[w][_].pos,"</td>"),w!=="point"&&(S+="<td> area = ".concat(c[w][_].area,"%</td>")),S+="</tr>"),d+=S,y++}return d}(f,this.ingredients.shapes);i!==g.summary.innerHTML&&(g.summary.innerHTML=i),m.listShapes!==g.list.innerHTML&&(g.list.innerHTML=m.listShapes),s!==g.shapeDetails.innerHTML&&(g.shapeDetails.innerHTML=s),this._accessibleOutputs[f]=g}};var p=n.default;u.default=p},{"../core/main":264,"core-js/modules/es.array.concat":149}],248:[function(e,l,u){var h,n=(h=e("./core/main"))&&h.__esModule?h:{default:h};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),l.exports=n.default},{"./accessibility/color_namer":243,"./accessibility/describe":244,"./accessibility/gridOutput":245,"./accessibility/outputs":246,"./accessibility/textOutput":247,"./color/color_conversion":249,"./color/creating_reading":250,"./color/p5.Color":251,"./color/setting":252,"./core/constants":253,"./core/environment":254,"./core/friendly_errors/fes_core":255,"./core/friendly_errors/file_errors":256,"./core/friendly_errors/sketch_reader":257,"./core/friendly_errors/stacktrace":258,"./core/friendly_errors/validate_params":259,"./core/helpers":260,"./core/init":261,"./core/legacy":263,"./core/main":264,"./core/p5.Element":265,"./core/p5.Graphics":266,"./core/p5.Renderer":267,"./core/p5.Renderer2D":268,"./core/preload":269,"./core/rendering":270,"./core/shape/2d_primitives":271,"./core/shape/attributes":272,"./core/shape/curves":273,"./core/shape/vertex":274,"./core/shim":275,"./core/structure":276,"./core/transform":277,"./data/local_storage.js":278,"./data/p5.TypedDict":279,"./dom/dom":280,"./events/acceleration":281,"./events/keyboard":282,"./events/mouse":283,"./events/touch":284,"./image/filters":285,"./image/image":286,"./image/loading_displaying":287,"./image/p5.Image":288,"./image/pixels":289,"./io/files":290,"./io/p5.Table":291,"./io/p5.TableRow":292,"./io/p5.XML":293,"./math/calculation":294,"./math/math":295,"./math/noise":296,"./math/p5.Vector":297,"./math/random":298,"./math/trigonometry":299,"./typography/attributes":300,"./typography/loading_displaying":301,"./typography/p5.Font":302,"./utilities/array_functions":303,"./utilities/conversion":304,"./utilities/string_functions":305,"./utilities/time_date":306,"./webgl/3d_primitives":307,"./webgl/interaction":308,"./webgl/light":309,"./webgl/loading":310,"./webgl/material":311,"./webgl/p5.Camera":312,"./webgl/p5.Geometry":313,"./webgl/p5.Matrix":314,"./webgl/p5.RenderBuffer":315,"./webgl/p5.RendererGL":318,"./webgl/p5.RendererGL.Immediate":316,"./webgl/p5.RendererGL.Retained":317,"./webgl/p5.Shader":319,"./webgl/p5.Texture":320,"./webgl/text":321}],249:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.ColorConversion={},n.default.ColorConversion._hsbaToHSLA=function(f){var g=f[0],m=f[1],i=f[2],s=(2-m)*i/2;return s!=0&&(s==1?m=0:s<.5?m/=2-m:m=m*i/(2-2*s)),[g,m,s,f[3]]},n.default.ColorConversion._hsbaToRGBA=function(f){var g=6*f[0],m=f[1],i=f[2],s=[];if(m===0)s=[i,i,i,f[3]];else{var a,c,d,y=Math.floor(g),w=i*(1-m),_=i*(1-m*(g-y)),S=i*(1-m*(1+y-g));d=y===1?(a=_,c=i,w):y===2?(a=w,c=i,S):y===3?(a=w,c=_,i):y===4?(a=S,c=w,i):y===5?(a=i,c=w,_):(a=i,c=S,w),s=[a,c,d,f[3]]}return s},n.default.ColorConversion._hslaToHSBA=function(f){var g,m=f[0],i=f[1],s=f[2];return[m,i=2*((g=s<.5?(1+i)*s:s+i-s*i)-s)/g,g,f[3]]},n.default.ColorConversion._hslaToRGBA=function(f){var g=6*f[0],m=f[1],i=f[2],s=[];if(m===0)s=[i,i,i,f[3]];else{var a,c=2*i-(a=i<.5?(1+m)*i:i+m-i*m),d=function(y,w,_){return y<0?y+=6:6<=y&&(y-=6),y<1?w+(_-w)*y:y<3?_:y<4?w+(_-w)*(4-y):w};s=[d(2+g,c,a),d(g,c,a),d(g-2,c,a),f[3]]}return s},n.default.ColorConversion._rgbaToHSBA=function(f){var g,m,i=f[0],s=f[1],a=f[2],c=Math.max(i,s,a),d=c-Math.min(i,s,a);return d==0?m=g=0:(m=d/c,i===c?g=(s-a)/d:s===c?g=2+(a-i)/d:a===c&&(g=4+(i-s)/d),g<0?g+=6:6<=g&&(g-=6)),[g/6,m,c,f[3]]},n.default.ColorConversion._rgbaToHSLA=function(f){var g,m,i=f[0],s=f[1],a=f[2],c=Math.max(i,s,a),d=Math.min(i,s,a),y=c+d,w=c-d;return w==0?m=g=0:(m=y<1?w/y:w/(2-y),i===c?g=(s-a)/w:s===c?g=2+(a-i)/w:a===c&&(g=4+(i-s)/w),g<0?g+=6:6<=g&&(g-=6)),[g/6,m,y/2,f[3]]};var p=n.default.ColorConversion;u.default=p},{"../core/main":264}],250:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}e("core-js/modules/es.array.map"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=g();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),p.default.prototype.alpha=function(i){return p.default._validateParameters("alpha",arguments),this.color(i)._getAlpha()},p.default.prototype.blue=function(i){return p.default._validateParameters("blue",arguments),this.color(i)._getBlue()},p.default.prototype.brightness=function(i){return p.default._validateParameters("brightness",arguments),this.color(i)._getBrightness()},p.default.prototype.color=function(){if(p.default._validateParameters("color",arguments),arguments[0]instanceof p.default.Color)return arguments[0];var i=arguments[0]instanceof Array?arguments[0]:arguments;return new p.default.Color(this,i)},p.default.prototype.green=function(i){return p.default._validateParameters("green",arguments),this.color(i)._getGreen()},p.default.prototype.hue=function(i){return p.default._validateParameters("hue",arguments),this.color(i)._getHue()},p.default.prototype.lerpColor=function(i,s,a){p.default._validateParameters("lerpColor",arguments);var c,d,y,w,_,S,j=this._colorMode,C=this._colorMaxes;if(j===f.RGB)_=i.levels.map(function(R){return R/255}),S=s.levels.map(function(R){return R/255});else if(j===f.HSB)i._getBrightness(),s._getBrightness(),_=i.hsba,S=s.hsba;else{if(j!==f.HSL)throw new Error("".concat(j,"cannot be used for interpolation."));i._getLightness(),s._getLightness(),_=i.hsla,S=s.hsla}return a=Math.max(Math.min(a,1),0),this.lerp===void 0&&(this.lerp=function(R,P,I){return I*(P-R)+R}),c=this.lerp(_[0],S[0],a),d=this.lerp(_[1],S[1],a),y=this.lerp(_[2],S[2],a),w=this.lerp(_[3],S[3],a),c*=C[j][0],d*=C[j][1],y*=C[j][2],w*=C[j][3],this.color(c,d,y,w)},p.default.prototype.lightness=function(i){return p.default._validateParameters("lightness",arguments),this.color(i)._getLightness()},p.default.prototype.red=function(i){return p.default._validateParameters("red",arguments),this.color(i)._getRed()},p.default.prototype.saturation=function(i){return p.default._validateParameters("saturation",arguments),this.color(i)._getSaturation()};var m=p.default;u.default=m},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.map":161}],251:[function(e,l,u){function h(_){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(_)}e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.trim"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n=m(e("../core/main")),p=function(_){if(_&&_.__esModule)return _;if(_===null||h(_)!=="object"&&typeof _!="function")return{default:_};var S=g();if(S&&S.has(_))return S.get(_);var j={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in _)if(Object.prototype.hasOwnProperty.call(_,R)){var P=C?Object.getOwnPropertyDescriptor(_,R):null;P&&(P.get||P.set)?Object.defineProperty(j,R,P):j[R]=_[R]}return j.default=_,S&&S.set(_,j),j}(e("../core/constants")),f=m(e("./color_conversion"));function g(){if(typeof WeakMap!="function")return null;var _=new WeakMap;return g=function(){return _},_}function m(_){return _&&_.__esModule?_:{default:_}}n.default.Color=function(_,S){if(this._storeModeAndMaxes(_._colorMode,_._colorMaxes),this.mode!==p.RGB&&this.mode!==p.HSL&&this.mode!==p.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=n.default.Color._parseInputs.apply(this,S),this._calculateLevels(),this},n.default.Color.prototype.toString=function(_){var S=this.levels,j=this._array,C=j[3];switch(_){case"#rrggbb":return"#".concat(S[0]<16?"0".concat(S[0].toString(16)):S[0].toString(16),S[1]<16?"0".concat(S[1].toString(16)):S[1].toString(16),S[2]<16?"0".concat(S[2].toString(16)):S[2].toString(16));case"#rrggbbaa":return"#".concat(S[0]<16?"0".concat(S[0].toString(16)):S[0].toString(16),S[1]<16?"0".concat(S[1].toString(16)):S[1].toString(16),S[2]<16?"0".concat(S[2].toString(16)):S[2].toString(16),S[3]<16?"0".concat(S[3].toString(16)):S[3].toString(16));case"#rgb":return"#".concat(Math.round(15*j[0]).toString(16),Math.round(15*j[1]).toString(16),Math.round(15*j[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*j[0]).toString(16),Math.round(15*j[1]).toString(16),Math.round(15*j[2]).toString(16),Math.round(15*j[3]).toString(16));case"rgb":return"rgb(".concat(S[0],", ",S[1],", ",S[2],")");case"rgb%":return"rgb(".concat((100*j[0]).toPrecision(3),"%, ",(100*j[1]).toPrecision(3),"%, ",(100*j[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*j[0]).toPrecision(3),"%, ",(100*j[1]).toPrecision(3),"%, ",(100*j[2]).toPrecision(3),"%, ",(100*j[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[p.HSB][0],", ",this.hsba[1]*this.maxes[p.HSB][1],", ",this.hsba[2]*this.maxes[p.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[p.HSB][0],", ",this.hsba[1]*this.maxes[p.HSB][1],", ",this.hsba[2]*this.maxes[p.HSB][2],", ",C,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*C).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[p.HSL][0],", ",this.hsla[1]*this.maxes[p.HSL][1],", ",this.hsla[2]*this.maxes[p.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[p.HSL][0],", ",this.hsla[1]*this.maxes[p.HSL][1],", ",this.hsla[2]*this.maxes[p.HSL][2],", ",C,")");case"hsla%":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*C).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(S[0],",",S[1],",",S[2],",",C,")")}},n.default.Color.prototype.setRed=function(_){this._array[0]=_/this.maxes[p.RGB][0],this._calculateLevels()},n.default.Color.prototype.setGreen=function(_){this._array[1]=_/this.maxes[p.RGB][1],this._calculateLevels()},n.default.Color.prototype.setBlue=function(_){this._array[2]=_/this.maxes[p.RGB][2],this._calculateLevels()},n.default.Color.prototype.setAlpha=function(_){this._array[3]=_/this.maxes[this.mode][3],this._calculateLevels()},n.default.Color.prototype._calculateLevels=function(){for(var _=this._array,S=this.levels=new Array(_.length),j=_.length-1;0<=j;--j)S[j]=Math.round(255*_[j]);this.hsla=null,this.hsba=null},n.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},n.default.Color.prototype._storeModeAndMaxes=function(_,S){this.mode=_,this.maxes=S},n.default.Color.prototype._getMode=function(){return this.mode},n.default.Color.prototype._getMaxes=function(){return this.maxes},n.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[p.RGB][2]},n.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[p.HSB][2]},n.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[p.RGB][1]},n.default.Color.prototype._getHue=function(){return this.mode===p.HSB?(this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[p.HSB][0]):(this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[p.HSL][0])},n.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[p.HSL][2]},n.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[p.RGB][0]},n.default.Color.prototype._getSaturation=function(){return this.mode===p.HSB?(this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[p.HSB][1]):(this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[p.HSL][1])};var i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},s=/\s*/,a=/(\d{1,3})/,c=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,d=new RegExp("".concat(c.source,"%")),y={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",a.source,",",a.source,",",a.source,"\\)$"].join(s.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",d.source,",",d.source,",",d.source,"\\)$"].join(s.source),"i"),RGBA:new RegExp(["^rgba\\(",a.source,",",a.source,",",a.source,",",c.source,"\\)$"].join(s.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",d.source,",",d.source,",",d.source,",",c.source,"\\)$"].join(s.source),"i"),HSL:new RegExp(["^hsl\\(",a.source,",",d.source,",",d.source,"\\)$"].join(s.source),"i"),HSLA:new RegExp(["^hsla\\(",a.source,",",d.source,",",d.source,",",c.source,"\\)$"].join(s.source),"i"),HSB:new RegExp(["^hsb\\(",a.source,",",d.source,",",d.source,"\\)$"].join(s.source),"i"),HSBA:new RegExp(["^hsba\\(",a.source,",",d.source,",",d.source,",",c.source,"\\)$"].join(s.source),"i")};n.default.Color._parseInputs=function(_,S,j,C){var R,P=arguments.length,I=this.mode,A=this.maxes[I],D=[];if(3<=P){for(D[0]=_/A[0],D[1]=S/A[1],D[2]=j/A[2],D[3]=typeof C=="number"?C/A[3]:1,R=D.length-1;0<=R;--R){var N=D[R];N<0?D[R]=0:1<N&&(D[R]=1)}return I===p.HSL?f.default._hslaToRGBA(D):I===p.HSB?f.default._hsbaToRGBA(D):D}if(P===1&&typeof _=="string"){var L=_.trim().toLowerCase();if(i[L])return n.default.Color._parseInputs.call(this,i[L]);if(y.HEX3.test(L))return(D=y.HEX3.exec(L).slice(1).map(function(W){return parseInt(W+W,16)/255}))[3]=1,D;if(y.HEX6.test(L))return(D=y.HEX6.exec(L).slice(1).map(function(W){return parseInt(W,16)/255}))[3]=1,D;if(y.HEX4.test(L))return D=y.HEX4.exec(L).slice(1).map(function(W){return parseInt(W+W,16)/255});if(y.HEX8.test(L))return D=y.HEX8.exec(L).slice(1).map(function(W){return parseInt(W,16)/255});if(y.RGB.test(L))return(D=y.RGB.exec(L).slice(1).map(function(W){return W/255}))[3]=1,D;if(y.RGB_PERCENT.test(L))return(D=y.RGB_PERCENT.exec(L).slice(1).map(function(W){return parseFloat(W)/100}))[3]=1,D;if(y.RGBA.test(L))return D=y.RGBA.exec(L).slice(1).map(function(W,z){return z===3?parseFloat(W):W/255});if(y.RGBA_PERCENT.test(L))return D=y.RGBA_PERCENT.exec(L).slice(1).map(function(W,z){return z===3?parseFloat(W):parseFloat(W)/100});if(y.HSL.test(L)?(D=y.HSL.exec(L).slice(1).map(function(W,z){return z===0?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:y.HSLA.test(L)&&(D=y.HSLA.exec(L).slice(1).map(function(W,z){return z===0?parseInt(W,10)/360:z===3?parseFloat(W):parseInt(W,10)/100})),(D=D.map(function(W){return Math.max(Math.min(W,1),0)})).length)return f.default._hslaToRGBA(D);if(y.HSB.test(L)?(D=y.HSB.exec(L).slice(1).map(function(W,z){return z===0?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:y.HSBA.test(L)&&(D=y.HSBA.exec(L).slice(1).map(function(W,z){return z===0?parseInt(W,10)/360:z===3?parseFloat(W):parseInt(W,10)/100})),D.length){for(R=D.length-1;0<=R;--R)D[R]=Math.max(Math.min(D[R],1),0);return f.default._hsbaToRGBA(D)}D=[1,1,1,1]}else{if(P!==1&&P!==2||typeof _!="number")throw new Error("".concat(arguments,"is not a valid color representation."));D[0]=_/A[2],D[1]=_/A[2],D[2]=_/A[2],D[3]=typeof S=="number"?S/A[3]:1,D=D.map(function(W){return Math.max(Math.min(W,1),0)})}return D};var w=n.default.Color;u.default=w},{"../core/constants":253,"../core/main":264,"./color_conversion":249,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.trim":193}],252:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}e("core-js/modules/es.array.fill"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=g();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}e("./p5.Color"),p.default.prototype.background=function(){var i;return(i=this._renderer).background.apply(i,arguments),this},p.default.prototype.clear=function(){var i=(arguments.length<=0?void 0:arguments[0])||0,s=(arguments.length<=1?void 0:arguments[1])||0,a=(arguments.length<=2?void 0:arguments[2])||0,c=(arguments.length<=3?void 0:arguments[3])||0;return this._renderer.clear(i,s,a,c),this},p.default.prototype.colorMode=function(i,s,a,c,d){if(p.default._validateParameters("colorMode",arguments),i===f.RGB||i===f.HSB||i===f.HSL){this._colorMode=i;var y=this._colorMaxes[i];arguments.length===2?(y[0]=s,y[1]=s,y[2]=s,y[3]=s):arguments.length===4?(y[0]=s,y[1]=a,y[2]=c):arguments.length===5&&(y[0]=s,y[1]=a,y[2]=c,y[3]=d)}return this},p.default.prototype.fill=function(){var i;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(i=this._renderer).fill.apply(i,arguments),this},p.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},p.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},p.default.prototype.stroke=function(){var i;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(i=this._renderer).stroke.apply(i,arguments),this},p.default.prototype.erase=function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255;return this._renderer.erase(i,s),this},p.default.prototype.noErase=function(){return this._renderer.noErase(),this};var m=p.default;u.default=m},{"../core/constants":253,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.fill":151}],253:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.BEZIER=u.QUADRATIC=u.LINEAR=u._CTX_MIDDLE=u._DEFAULT_LEADMULT=u._DEFAULT_TEXT_FILL=u.WORD=u.CHAR=u.BOLDITALIC=u.BOLD=u.ITALIC=u.NORMAL=u.BLUR=u.ERODE=u.DILATE=u.POSTERIZE=u.INVERT=u.OPAQUE=u.GRAY=u.THRESHOLD=u.BURN=u.DODGE=u.SOFT_LIGHT=u.HARD_LIGHT=u.OVERLAY=u.REPLACE=u.SCREEN=u.MULTIPLY=u.EXCLUSION=u.SUBTRACT=u.DIFFERENCE=u.LIGHTEST=u.DARKEST=u.ADD=u.REMOVE=u.BLEND=u.UP_ARROW=u.TAB=u.SHIFT=u.RIGHT_ARROW=u.RETURN=u.OPTION=u.LEFT_ARROW=u.ESCAPE=u.ENTER=u.DOWN_ARROW=u.DELETE=u.CONTROL=u.BACKSPACE=u.ALT=u.AUTO=u.HSL=u.HSB=u.RGB=u.MITER=u.BEVEL=u.ROUND=u.SQUARE=u.PROJECT=u.PIE=u.CHORD=u.OPEN=u.CLOSE=u.TESS=u.QUAD_STRIP=u.QUADS=u.TRIANGLE_STRIP=u.TRIANGLE_FAN=u.TRIANGLES=u.LINE_LOOP=u.LINE_STRIP=u.LINES=u.POINTS=u.BASELINE=u.BOTTOM=u.TOP=u.CENTER=u.LEFT=u.RIGHT=u.RADIUS=u.CORNERS=u.CORNER=u.RAD_TO_DEG=u.DEG_TO_RAD=u.RADIANS=u.DEGREES=u.TWO_PI=u.TAU=u.QUARTER_PI=u.PI=u.HALF_PI=u.WAIT=u.TEXT=u.MOVE=u.HAND=u.CROSS=u.ARROW=u.WEBGL=u.P2D=u.VERSION=void 0,u.FALLBACK=u.LABEL=u.AXES=u.GRID=u._DEFAULT_FILL=u._DEFAULT_STROKE=u.PORTRAIT=u.LANDSCAPE=u.MIRROR=u.CLAMP=u.REPEAT=u.NEAREST=u.IMAGE=u.IMMEDIATE=u.TEXTURE=u.FILL=u.STROKE=u.CURVE=void 0;var h=Math.PI;u.VERSION="1.4.2",u.P2D="p2d",u.WEBGL="webgl",u.ARROW="default",u.CROSS="crosshair",u.HAND="pointer",u.MOVE="move",u.TEXT="text",u.WAIT="wait";var n=h/2;u.HALF_PI=n;var p=h;u.PI=p;var f=h/4;u.QUARTER_PI=f;var g=2*h;u.TAU=g;var m=2*h;u.TWO_PI=m,u.DEGREES="degrees",u.RADIANS="radians";var i=h/180;u.DEG_TO_RAD=i;var s=180/h;u.RAD_TO_DEG=s,u.CORNER="corner",u.CORNERS="corners",u.RADIUS="radius",u.RIGHT="right",u.LEFT="left",u.CENTER="center",u.TOP="top",u.BOTTOM="bottom",u.BASELINE="alphabetic",u.POINTS=0,u.LINES=1,u.LINE_STRIP=3,u.LINE_LOOP=2,u.TRIANGLES=4,u.TRIANGLE_FAN=6,u.TRIANGLE_STRIP=5,u.QUADS="quads",u.QUAD_STRIP="quad_strip",u.TESS="tess",u.CLOSE="close",u.OPEN="open",u.CHORD="chord",u.PIE="pie",u.PROJECT="square",u.SQUARE="butt",u.ROUND="round",u.BEVEL="bevel",u.MITER="miter",u.RGB="rgb",u.HSB="hsb",u.HSL="hsl",u.AUTO="auto",u.ALT=18,u.BACKSPACE=8,u.CONTROL=17,u.DELETE=46,u.DOWN_ARROW=40,u.ENTER=13,u.ESCAPE=27,u.LEFT_ARROW=37,u.OPTION=18,u.RETURN=13,u.RIGHT_ARROW=39,u.SHIFT=16,u.TAB=9,u.UP_ARROW=38,u.BLEND="source-over",u.REMOVE="destination-out",u.ADD="lighter",u.DARKEST="darken",u.LIGHTEST="lighten",u.DIFFERENCE="difference",u.SUBTRACT="subtract",u.EXCLUSION="exclusion",u.MULTIPLY="multiply",u.SCREEN="screen",u.REPLACE="copy",u.OVERLAY="overlay",u.HARD_LIGHT="hard-light",u.SOFT_LIGHT="soft-light",u.DODGE="color-dodge",u.BURN="color-burn",u.THRESHOLD="threshold",u.GRAY="gray",u.OPAQUE="opaque",u.INVERT="invert",u.POSTERIZE="posterize",u.DILATE="dilate",u.ERODE="erode",u.BLUR="blur",u.NORMAL="normal",u.ITALIC="italic",u.BOLD="bold",u.BOLDITALIC="bold italic",u.CHAR="CHAR",u.WORD="WORD",u._DEFAULT_TEXT_FILL="#000000",u._DEFAULT_LEADMULT=1.25,u._CTX_MIDDLE="middle",u.LINEAR="linear",u.QUADRATIC="quadratic",u.BEZIER="bezier",u.CURVE="curve",u.STROKE="stroke",u.FILL="fill",u.TEXTURE="texture",u.IMMEDIATE="immediate",u.IMAGE="image",u.NEAREST="nearest",u.REPEAT="repeat",u.CLAMP="clamp",u.MIRROR="mirror",u.LANDSCAPE="landscape",u.PORTRAIT="portrait",u._DEFAULT_STROKE="#000000",u._DEFAULT_FILL="#FFFFFF",u.GRID="grid",u.AXES="axes",u.LABEL="label",u.FALLBACK="fallback"},{}],254:[function(e,l,u){function h(d){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(d)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("./main"))&&n.__esModule?n:{default:n},f=function(d){if(d&&d.__esModule)return d;if(d===null||h(d)!=="object"&&typeof d!="function")return{default:d};var y=g();if(y&&y.has(d))return y.get(d);var w={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in d)if(Object.prototype.hasOwnProperty.call(d,S)){var j=_?Object.getOwnPropertyDescriptor(d,S):null;j&&(j.get||j.set)?Object.defineProperty(w,S,j):w[S]=d[S]}return w.default=d,y&&y.set(d,w),w}(e("./constants"));function g(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return g=function(){return d},d}var m=[f.ARROW,f.CROSS,f.HAND,f.MOVE,f.TEXT,f.WAIT];p.default.prototype._frameRate=0,p.default.prototype._lastFrameTime=window.performance.now(),p.default.prototype._targetFrameRate=60;var i=window.print;function s(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function a(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}p.default.prototype.print=function(){var d;arguments.length?(d=console).log.apply(d,arguments):i()},p.default.prototype.frameCount=0,p.default.prototype.deltaTime=0,p.default.prototype.focused=document.hasFocus(),p.default.prototype.cursor=function(d,y,w){var _="auto",S=this._curElement.elt;if(m.includes(d))_=d;else if(typeof d=="string"){var j="";y&&w&&typeof y=="number"&&typeof w=="number"&&(j="".concat(y," ").concat(w)),_=d.substring(0,7)==="http://"||d.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(d)?"url(".concat(d,") ").concat(j,", auto"):d}S.style.cursor=_},p.default.prototype.frameRate=function(d){return p.default._validateParameters("frameRate",arguments),typeof d!="number"||d<0?this._frameRate:(this._setProperty("_targetFrameRate",d),d===0&&this._setProperty("_frameRate",d),this)},p.default.prototype.getFrameRate=function(){return this.frameRate()},p.default.prototype.setFrameRate=function(d){return this.frameRate(d)},p.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},p.default.prototype.displayWidth=screen.width,p.default.prototype.displayHeight=screen.height,p.default.prototype.windowWidth=s(),p.default.prototype.windowHeight=a(),p.default.prototype._onresize=function(d){this._setProperty("windowWidth",s()),this._setProperty("windowHeight",a());var y,w=this._isGlobal?window:this;typeof w.windowResized=="function"&&((y=w.windowResized(d))===void 0||y||d.preventDefault())},p.default.prototype.width=0,p.default.prototype.height=0,p.default.prototype.fullscreen=function(d){if(p.default._validateParameters("fullscreen",arguments),d===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;d?function(y){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");y.requestFullscreen?y.requestFullscreen():y.mozRequestFullScreen?y.mozRequestFullScreen():y.webkitRequestFullscreen?y.webkitRequestFullscreen():y.msRequestFullscreen&&y.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},p.default.prototype.pixelDensity=function(d){var y;return p.default._validateParameters("pixelDensity",arguments),typeof d=="number"?(d!==this._pixelDensity&&(this._pixelDensity=d),(y=this).resizeCanvas(this.width,this.height,!0)):y=this._pixelDensity,y},p.default.prototype.displayDensity=function(){return window.devicePixelRatio},p.default.prototype.getURL=function(){return location.href},p.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(d){return d!==""})},p.default.prototype.getURLParams=function(){for(var d,y=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,w={};(d=y.exec(location.search))!=null;)d.index===y.lastIndex&&y.lastIndex++,w[d[1]]=d[2];return w};var c=p.default;u.default=c},{"./constants":253,"./main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.includes":156,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191}],255:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../main"))&&h.__esModule?h:{default:h};e("../internationalization");var p=null,f=null;n.default._friendlyError=n.default._checkForUserDefinedFunctions=n.default._fesErrorMonitor=function(){},p=null;var g="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";f=function(){function s(c){return Object.getOwnPropertyNames(c).filter(function(d){return d[0]!=="_"&&!(d in a)&&(a[d]=!0)}).map(function(d){var y;return y=typeof c[d]=="function"?"function":d===d.toUpperCase()?"constant":"variable",{name:d,type:y}})}var a={};(p=[].concat(s(n.default.prototype),s(e("../constants")))).sort(function(c,d){return d.name.length-c.name.length})};function m(s,a){a=a||console.log.bind(console),p||f(),p.some(function(c){if(s.message&&s.message.match("\\W?".concat(c.name,"\\W"))!==null){var d=c.type==="function"?"".concat(c.name,"()"):c.name;return a("Did you just try to use p5.js's ".concat(d," ").concat(c.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(g)),!0}})}n.default.prototype._helpForMisusedAtTopLevelCode=m,document.readyState!=="complete"&&(window.addEventListener("error",m,!1),window.addEventListener("load",function(){window.removeEventListener("error",m,!1)}));var i=n.default;u.default=i},{"../constants":253,"../internationalization":262,"../main":264,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":166,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],256:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../main"))&&h.__esModule?h:{default:h};e("../internationalization"),n.default._friendlyFileLoadError=function(){};var p=n.default;u.default=p},{"../internationalization":262,"../main":264}],257:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.flat-map"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.unscopables.flat-map"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n=g(e("../main"));e("../internationalization"),f(e("../constants"));function p(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return p=function(){return i},i}function f(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=p();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}function g(i){return i&&i.__esModule?i:{default:i}}n.default._fesCodeReader=function(){};var m=n.default;u.default=m},{"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.flat-map":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.unscopables.flat-map":165,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],258:[function(e,l,u){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../main"))&&h.__esModule?h:{default:h};function p(){var g=/(^|@)\S+:\d+/,m=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(s){return s.stacktrace!==void 0||s["opera#sourceloc"]!==void 0?this.parseOpera(s):s.stack&&s.stack.match(m)?this.parseV8OrIE(s):s.stack?this.parseFFOrSafari(s):void 0},extractLocation:function(s){if(s.indexOf(":")===-1)return[s];var a=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(s.replace(/[()]/g,""));return[a[1],a[2]||void 0,a[3]||void 0]},parseV8OrIE:function(s){return s.stack.split(`
`).filter(function(a){return!!a.match(m)},this).map(function(a){-1<a.indexOf("(eval ")&&(a=a.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var c=a.replace(/^\s+/,"").replace(/\(eval code/g,"("),d=c.match(/ (\((.+):(\d+):(\d+)\)$)/),y=(c=d?c.replace(d[0],""):c).split(/\s+/).slice(1),w=this.extractLocation(d?d[1]:y.pop());return{functionName:y.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(w[0])?void 0:w[0],lineNumber:w[1],columnNumber:w[2],source:a}},this)},parseFFOrSafari:function(s){return s.stack.split(`
`).filter(function(a){return!a.match(i)},this).map(function(a){if(-1<a.indexOf(" > eval")&&(a=a.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),a.indexOf("@")===-1&&a.indexOf(":")===-1)return{functionName:a};var c=/((.*".+"[^@]*)?[^@]*)(?:@)/,d=a.match(c),y=d&&d[1]?d[1]:void 0,w=this.extractLocation(a.replace(c,""));return{functionName:y,fileName:w[0],lineNumber:w[1],columnNumber:w[2],source:a}},this)},parseOpera:function(s){return!s.stacktrace||-1<s.message.indexOf(`
`)&&s.message.split(`
`).length>s.stacktrace.split(`
`).length?this.parseOpera9(s):s.stack?this.parseOpera11(s):this.parseOpera10(s)},parseOpera9:function(s){for(var a=/Line (\d+).*script (?:in )?(\S+)/i,c=s.message.split(`
`),d=[],y=2,w=c.length;y<w;y+=2){var _=a.exec(c[y]);_&&d.push({fileName:_[2],lineNumber:_[1],source:c[y]})}return d},parseOpera10:function(s){for(var a=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=s.stacktrace.split(`
`),d=[],y=0,w=c.length;y<w;y+=2){var _=a.exec(c[y]);_&&d.push({functionName:_[3]||void 0,fileName:_[2],lineNumber:_[1],source:c[y]})}return d},parseOpera11:function(s){return s.stack.split(`
`).filter(function(a){return!!a.match(g)&&!a.match(/^Error created at/)},this).map(function(a){var c,d=a.split("@"),y=this.extractLocation(d.pop()),w=d.shift()||"",_=w.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return w.match(/\(([^)]*)\)/)&&(c=w.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:_,args:c===void 0||c==="[arguments not available]"?void 0:c.split(","),fileName:y[0],lineNumber:y[1],columnNumber:y[2],source:a}},this)}}}n.default._getErrorStackParser=function(){return new p};var f=n.default;u.default=f},{"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],259:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../main"))&&h.__esModule?h:{default:h};(function(m){if(!(m&&m.__esModule)&&!(m===null||f(m)!=="object"&&typeof m!="function")){var i=p();if(i&&i.has(m))return i.get(m);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in m)if(Object.prototype.hasOwnProperty.call(m,c)){var d=a?Object.getOwnPropertyDescriptor(m,c):null;d&&(d.get||d.set)?Object.defineProperty(s,c,d):s[c]=m[c]}s.default=m,i&&i.set(m,s)}})(e("../constants")),e("../internationalization");function p(){if(typeof WeakMap!="function")return null;var m=new WeakMap;return p=function(){return m},m}function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(m)}n.default._validateParameters=n.default._clearValidateParamsCache=function(){};var g=n.default;u.default=g},{"../../../docs/parameterData.json":void 0,"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.map":167,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],260:[function(e,l,u){function h(g){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n=function(g){if(g&&g.__esModule)return g;if(g===null||h(g)!=="object"&&typeof g!="function")return{default:g};var m=p();if(m&&m.has(g))return m.get(g);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in g)if(Object.prototype.hasOwnProperty.call(g,a)){var c=s?Object.getOwnPropertyDescriptor(g,a):null;c&&(c.get||c.set)?Object.defineProperty(i,a,c):i[a]=g[a]}return i.default=g,m&&m.set(g,i),i}(e("./constants"));function p(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return p=function(){return g},g}var f={modeAdjust:function(g,m,i,s,a){return a===n.CORNER?{x:g,y:m,w:i,h:s}:a===n.CORNERS?{x:g,y:m,w:i-g,h:s-m}:a===n.RADIUS?{x:g-i,y:m-s,w:2*i,h:2*s}:a===n.CENTER?{x:g-.5*i,y:m-.5*s,w:i,h:s}:void 0}};u.default=f},{"./constants":253}],261:[function(e,l,u){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};e("./internationalization");var p=Promise.resolve();Promise.all([new Promise(function(f,g){document.readyState==="complete"?f():window.addEventListener("load",f,!1)}),p]).then(function(){window._setupDone===void 0?window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!n.default.instance&&new n.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":264,"./internationalization":262,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":229}],262:[function(e,l,u){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.setTranslatorLanguage=u.currentTranslatorLanguage=u.availableTranslatorLanguages=u.initialize=u.translator=void 0;var h,n,p=g(e("i18next")),f=g(e("i18next-browser-languagedetector"));function g(a){return a&&a.__esModule?a:{default:a}}function m(a,c){for(var d=0;d<c.length;d++){var y=c[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}var i=function(){function a(y,w){(function(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")})(this,a),this.init(y,w)}var c,d;return c=a,(d=[{key:"fetchWithTimeout",value:function(y,w,_){var S=2<arguments.length&&_!==void 0?_:2e3;return Promise.race([fetch(y,w),new Promise(function(j,C){return setTimeout(function(){return C(new Error("timeout"))},S)})])}},{key:"init",value:function(y,w){var _=1<arguments.length&&w!==void 0?w:{};this.services=y,this.options=_}},{key:"read",value:function(y,w,_){var S=this.options.loadPath;if(y===this.options.fallback)_(null,h[y][w]);else if(n.includes(y)){var j=this.services.interpolator.interpolate(S,{lng:y,ns:w});this.loadUrl(j,_)}else _("Not found",!1)}},{key:"loadUrl",value:function(y,w){this.fetchWithTimeout(y).then(function(_){if(!_.ok)throw new Error("failed loading ".concat(y));return _.json()},function(){throw new Error("failed loading ".concat(y))}).then(function(_){return w(null,_)}).catch(w)}}])&&m(c.prototype,d),a}();i.type="backend";var s=function(a,c){console.debug("p5.js translator called before translations were loaded"),p.default.t(a,c)};u.translator=s,u.initialize=function(){return p.default.use(f.default).use(i).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:h}).then(function(a){u.translator=s=a},function(a){return console.debug("Translations failed to load (".concat(a,")"))})},u.availableTranslatorLanguages=function(){return p.default.languages},u.currentTranslatorLanguage=function(){return p.default.language},u.setTranslatorLanguage=function(a){return p.default.changeLanguage(a||void 0,function(c){return console.debug("Translations failed to load (".concat(c,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":229,i18next:3,"i18next-browser-languagedetector":3}],263:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("./main"))&&h.__esModule?h:{default:h};n.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},n.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},n.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},n.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var p=n.default;u.default=p},{"./main":264}],264:[function(e,l,u){function h(s){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,e("./shim");var n=function(s){if(s&&s.__esModule)return s;if(s===null||h(s)!=="object"&&typeof s!="function")return{default:s};var a=p();if(a&&a.has(s))return a.get(s);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in s)if(Object.prototype.hasOwnProperty.call(s,y)){var w=d?Object.getOwnPropertyDescriptor(s,y):null;w&&(w.get||w.set)?Object.defineProperty(c,y,w):c[y]=s[y]}return c.default=s,a&&a.set(s,c),c}(e("./constants"));function p(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return p=function(){return s},s}function f(s,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}var g=function(){function s(d,y,w){var _=this;(function(se,ge){if(!(se instanceof ge))throw new TypeError("Cannot call a class as a function")})(this,s),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=y,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var S=Object.getOwnPropertyNames(s.prototype._registeredMethods),j=!0,C=!1,R=void 0;try{for(var P,I=S[Symbol.iterator]();!(j=(P=I.next()).done);j=!0){var A=P.value;this._registeredMethods[A]=s.prototype._registeredMethods[A].slice()}}catch(se){C=!0,R=se}finally{try{j||I.return==null||I.return()}finally{if(C)throw R}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){_._userNode&&typeof _._userNode=="string"&&(_._userNode=document.getElementById(_._userNode));var se=_._isGlobal?window:_;if(se.preload){var ge=document.getElementById(_._loadingScreenId);ge||((ge=document.createElement("div")).innerHTML="Loading...",ge.style.position="absolute",ge.id=_._loadingScreenId,(_._userNode||document.body).appendChild(ge));var _e=_._preloadMethods;for(var Ce in _e){_e[Ce]=_e[Ce]||s;var be=_e[Ce];be!==s.prototype&&be!==s||(_._isGlobal&&(window[Ce]=_._wrapPreload(_,Ce)),be=_),_._registeredPreloadMethods[Ce]=be[Ce],be[Ce]=_._wrapPreload(be,Ce)}se.preload(),_._runIfPreloadsAreDone()}else _._setup(),_._draw()},this._runIfPreloadsAreDone=function(){var se=this._isGlobal?window:this;if(se._preloadCount===0){var ge=document.getElementById(se._loadingScreenId);ge&&ge.parentNode.removeChild(ge),this._setupDone||(this._lastFrameTime=window.performance.now(),se._setup(),se._draw())}},this._decrementPreload=function(){var se=this._isGlobal?window:this;typeof se.preload=="function"&&(se._setProperty("_preloadCount",se._preloadCount-1),se._runIfPreloadsAreDone())},this._wrapPreload=function(se,ge){var _e=this;return function(){_e._incrementPreload();for(var Ce=arguments.length,be=new Array(Ce),Ie=0;Ie<Ce;Ie++)be[Ie]=arguments[Ie];return _e._registeredPreloadMethods[ge].apply(se,be)}},this._incrementPreload=function(){var se=this._isGlobal?window:this;se._setProperty("_preloadCount",se._preloadCount+1)},this._setup=function(){_.createCanvas(_._defaultCanvasSize.width,_._defaultCanvasSize.height,"p2d");var se=_._isGlobal?window:_;if(typeof se.preload=="function")for(var ge in _._preloadMethods)se[ge]=_._preloadMethods[ge][ge],se[ge]&&_&&(se[ge]=se[ge].bind(_));_._millisStart=window.performance.now(),typeof se.setup=="function"&&se.setup();var _e=document.getElementsByTagName("canvas"),Ce=!0,be=!1,Ie=void 0;try{for(var Se,Te=_e[Symbol.iterator]();!(Ce=(Se=Te.next()).done);Ce=!0){var O=Se.value;O.dataset.hidden==="true"&&(O.style.visibility="",delete O.dataset.hidden)}}catch(V){be=!0,Ie=V}finally{try{Ce||Te.return==null||Te.return()}finally{if(be)throw Ie}}_._lastFrameTime=window.performance.now(),_._setupDone=!0,(_._accessibleOutputs.grid||_._accessibleOutputs.text)&&_._updateAccsOutput()},this._draw=function(){var se=window.performance.now(),ge=se-_._lastFrameTime,_e=1e3/_._targetFrameRate;(!_._loop||_e-5<=ge)&&(_.redraw(),_._frameRate=1e3/(se-_._lastFrameTime),_.deltaTime=se-_._lastFrameTime,_._setProperty("deltaTime",_.deltaTime),_._lastFrameTime=se,_._updateMouseCoords!==void 0&&(_._updateMouseCoords(),_._setProperty("movedX",0),_._setProperty("movedY",0))),_._loop&&(_._requestAnimId=window.requestAnimationFrame(_._draw))},this._setProperty=function(se,ge){_[se]=ge,_._isGlobal&&(window[se]=ge)},this.remove=function(){var se=document.getElementById(_._loadingScreenId);if(se&&(se.parentNode.removeChild(se),_._incrementPreload()),_._curElement){for(var ge in _._loop=!1,_._requestAnimId&&window.cancelAnimationFrame(_._requestAnimId),_._events)window.removeEventListener(ge,_._events[ge]);var _e=!0,Ce=!1,be=void 0;try{for(var Ie,Se=_._elements[Symbol.iterator]();!(_e=(Ie=Se.next()).done);_e=!0){var Te=Ie.value;for(var O in Te.elt&&Te.elt.parentNode&&Te.elt.parentNode.removeChild(Te.elt),Te._events)Te.elt.removeEventListener(O,Te._events[O])}}catch(B){Ce=!0,be=B}finally{try{_e||Se.return==null||Se.return()}finally{if(Ce)throw be}}var V=_;_._registeredMethods.remove.forEach(function(B){B!==void 0&&B.call(V)})}if(_._isGlobal){for(var X in s.prototype)try{delete window[X]}catch{window[X]=void 0}for(var ee in _)if(_.hasOwnProperty(ee))try{delete window[ee]}catch{window[ee]=void 0}s.instance=null}},this._registeredMethods.init.forEach(function(se){se!==void 0&&se.call(this)},this),this._setupPromisePreloads();var D=this._createFriendlyGlobalFunctionBinder();if(d)d(this),s._checkForUserDefinedFunctions(this);else{for(var N in this._isGlobal=!0,s.instance=this,s.prototype)if(typeof s.prototype[N]=="function"){var L=N.substring(2);this._events.hasOwnProperty(L)||(Math.hasOwnProperty(N)&&Math[N]===s.prototype[N]?D(N,s.prototype[N]):D(N,s.prototype[N].bind(this)))}else D(N,s.prototype[N]);for(var W in this)this.hasOwnProperty(W)&&D(W,this[W])}for(var z in this._events){var le=this["_on".concat(z)];if(le){var ue=le.bind(this);window.addEventListener(z,ue,{passive:!1}),this._events[z]=ue}}function J(){_._setProperty("focused",!0)}function ce(){_._setProperty("focused",!1)}window.addEventListener("focus",J),window.addEventListener("blur",ce),this.registerMethod("remove",function(){window.removeEventListener("focus",J),window.removeEventListener("blur",ce)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var a,c;return a=s,(c=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=n.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(d,y){s.prototype._preloadMethods.hasOwnProperty(d)||(s.prototype._preloadMethods[d]=y)}},{key:"registerMethod",value:function(d,y){var w=this||s.prototype;w._registeredMethods.hasOwnProperty(d)||(w._registeredMethods[d]=[]),w._registeredMethods[d].push(y)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(d){var y=0<arguments.length&&d!==void 0?d:{},w=y.globalObject||window;return y.log||console.log.bind(console),function(_,S){w[_]=S}}}])&&f(a.prototype,c),s}();for(var m in g.instance=null,g.disableFriendlyErrors=!1,n)g.prototype[m]=n[m];g.VERSION=n.VERSION,g.prototype._preloadMethods={loadJSON:g.prototype,loadImage:g.prototype,loadStrings:g.prototype,loadXML:g.prototype,loadBytes:g.prototype,loadTable:g.prototype,loadFont:g.prototype,loadModel:g.prototype,loadShader:g.prototype},g.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},g.prototype._registeredPreloadMethods={};var i=g;u.default=i},{"./constants":253,"./shim":275,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],265:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("./main"))&&h.__esModule?h:{default:h};n.default.Element=function(f,g){this.elt=f,this._pInst=this._pixelsState=g,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},n.default.Element.prototype.parent=function(f){return f===void 0?this.elt.parentNode:(typeof f=="string"?(f[0]==="#"&&(f=f.substring(1)),f=document.getElementById(f)):f instanceof n.default.Element&&(f=f.elt),f.appendChild(this.elt),this)},n.default.Element.prototype.id=function(f){return f===void 0?this.elt.id:(this.elt.id=f,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},n.default.Element.prototype.class=function(f){return f===void 0?this.elt.className:(this.elt.className=f,this)},n.default.Element.prototype.mousePressed=function(f){return n.default.Element._adjustListener("mousedown",function(g){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(g),f.call(this,g)},this),this},n.default.Element.prototype.doubleClicked=function(f){return n.default.Element._adjustListener("dblclick",f,this),this},n.default.Element.prototype.mouseWheel=function(f){return n.default.Element._adjustListener("wheel",f,this),this},n.default.Element.prototype.mouseReleased=function(f){return n.default.Element._adjustListener("mouseup",f,this),this},n.default.Element.prototype.mouseClicked=function(f){return n.default.Element._adjustListener("click",f,this),this},n.default.Element.prototype.mouseMoved=function(f){return n.default.Element._adjustListener("mousemove",f,this),this},n.default.Element.prototype.mouseOver=function(f){return n.default.Element._adjustListener("mouseover",f,this),this},n.default.Element.prototype.mouseOut=function(f){return n.default.Element._adjustListener("mouseout",f,this),this},n.default.Element.prototype.touchStarted=function(f){return n.default.Element._adjustListener("touchstart",f,this),this},n.default.Element.prototype.touchMoved=function(f){return n.default.Element._adjustListener("touchmove",f,this),this},n.default.Element.prototype.touchEnded=function(f){return n.default.Element._adjustListener("touchend",f,this),this},n.default.Element.prototype.dragOver=function(f){return n.default.Element._adjustListener("dragover",f,this),this},n.default.Element.prototype.dragLeave=function(f){return n.default.Element._adjustListener("dragleave",f,this),this},n.default.Element._adjustListener=function(f,g,m){return g===!1?n.default.Element._detachListener(f,m):n.default.Element._attachListener(f,g,m),this},n.default.Element._attachListener=function(f,g,m){m._events[f]&&n.default.Element._detachListener(f,m);var i=g.bind(m);m.elt.addEventListener(f,i,!1),m._events[f]=i},n.default.Element._detachListener=function(f,g){var m=g._events[f];g.elt.removeEventListener(f,m,!1),g._events[f]=null},n.default.Element.prototype._setProperty=function(f,g){this[f]=g};var p=n.default.Element;u.default=p},{"./main":264}],266:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("./main"))&&n.__esModule?n:{default:n},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=g();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}(e("./constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.Graphics=function(i,s,a,c){var d=a||f.P2D;this.canvas=document.createElement("canvas");var y=c._userNode||document.body;for(var w in y.appendChild(this.canvas),p.default.Element.call(this,this.canvas,c),p.default.prototype)this[w]||(typeof p.default.prototype[w]=="function"?this[w]=p.default.prototype[w].bind(this):this[w]=p.default.prototype[w]);return p.default.prototype._initializeInstanceVariables.apply(this),this.width=i,this.height=s,this._pixelDensity=c._pixelDensity,d===f.WEBGL?this._renderer=new p.default.RendererGL(this.canvas,this,!1):this._renderer=new p.default.Renderer2D(this.canvas,this,!1),c._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(i,s),this._renderer._applyDefaults(),this},p.default.Graphics.prototype=Object.create(p.default.Element.prototype),p.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},p.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var i=this._pInst._elements.indexOf(this);for(var s in i!==-1&&this._pInst._elements.splice(i,1),this._events)this.elt.removeEventListener(s,this._events[s])};var m=p.default.Graphics;u.default=m},{"./constants":253,"./main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.splice":164}],267:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("./main"))&&h.__esModule?h:{default:h},p=function(s){if(s&&s.__esModule)return s;if(s===null||g(s)!=="object"&&typeof s!="function")return{default:s};var a=f();if(a&&a.has(s))return a.get(s);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in s)if(Object.prototype.hasOwnProperty.call(s,y)){var w=d?Object.getOwnPropertyDescriptor(s,y):null;w&&(w.get||w.set)?Object.defineProperty(c,y,w):c[y]=s[y]}return c.default=s,a&&a.set(s,c),c}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return f=function(){return s},s}function g(s){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function m(s){var a=0,c=0;if(s.offsetParent)for(;a+=s.offsetLeft,c+=s.offsetTop,s=s.offsetParent;);else a+=s.offsetLeft,c+=s.offsetTop;return[a,c]}n.default.Renderer=function(s,a,c){n.default.Element.call(this,s,a),this.canvas=s,this._pixelsState=a,c?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=p.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=p.LEFT,this._textBaseline=p.BASELINE,this._textWrap=p.WORD,this._rectMode=p.CORNER,this._ellipseMode=p.CENTER,this._curveTightness=0,this._imageMode=p.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},n.default.Renderer.prototype=Object.create(n.default.Element.prototype),n.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},n.default.Renderer.prototype.pop=function(s){s.properties&&Object.assign(this,s.properties)},n.default.Renderer.prototype.resize=function(s,a){this.width=s,this.height=a,this.elt.width=s*this._pInst._pixelDensity,this.elt.height=a*this._pInst._pixelDensity,this.elt.style.width="".concat(s,"px"),this.elt.style.height="".concat(a,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},n.default.Renderer.prototype.get=function(s,a,c,d){var y=this._pixelsState,w=y._pixelDensity,_=this.canvas;if(s===void 0&&a===void 0)s=a=0,c=y.width,d=y.height;else if(s*=w,a*=w,c===void 0&&d===void 0)return s<0||a<0||s>=_.width||a>=_.height?[0,0,0,0]:this._getPixel(s,a);var S=new n.default.Image(c,d);return S.canvas.getContext("2d").drawImage(_,s,a,c*w,d*w,0,0,c,d),S},n.default.Renderer.prototype.textLeading=function(s){return typeof s=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",s),this._pInst):this._textLeading},n.default.Renderer.prototype.textSize=function(s){return typeof s=="number"?(this._setProperty("_textSize",s),this._leadingSet||this._setProperty("_textLeading",s*p._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},n.default.Renderer.prototype.textStyle=function(s){return s?(s!==p.NORMAL&&s!==p.ITALIC&&s!==p.BOLD&&s!==p.BOLDITALIC||this._setProperty("_textStyle",s),this._applyTextProperties()):this._textStyle},n.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},n.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},n.default.Renderer.prototype.textAlign=function(s,a){return s!==void 0?(this._setProperty("_textAlign",s),a!==void 0&&this._setProperty("_textBaseline",a),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},n.default.Renderer.prototype.textWrap=function(s){return this._setProperty("_textWrap",s),this._textWrap},n.default.Renderer.prototype.text=function(s,a,c,d,y){var w,_,S,j,C,R,P,I=this._pInst,A=this._textWrap,D=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&s!==void 0){if(typeof s!="string"&&(s=s.toString()),w=(s=s.replace(/(\t)/g,"  ")).split(`
`),d!==void 0){switch(this._rectMode===p.CENTER&&(a-=d/2),this._textAlign){case p.CENTER:a+=d/2;break;case p.RIGHT:a+=d}var N=!1;if(y!==void 0){switch(this._rectMode===p.CENTER&&(c-=y/2),this._textBaseline){case p.BOTTOM:P=c+y,c=Math.max(P,c);break;case p.CENTER:P=c+y/2,c=Math.max(P,c);break;case p.BASELINE:N=!0,this._textBaseline=p.TOP}D=c+y-I.textAscent()}if(A===p.WORD){for(var L=[],W=0;W<w.length;W++){_="",C=w[W].split(" ");for(var z=0;z<C.length;z++)S="".concat(_+C[z])+" ",_=d<(j=this.textWidth(S))&&0<_.length?(L.push(_),"".concat(C[z])+" "):S;L.push(_)}var le=0,ue=I.textAlign().vertical;ue===p.CENTER?le=(L.length-1)*I.textLeading()/2:ue===p.BOTTOM&&(le=(L.length-1)*I.textLeading());for(var J=0;J<w.length;J++){_="",C=w[J].split(" ");for(var ce=0;ce<C.length;ce++)S="".concat(_+C[ce])+" ",d<(j=this.textWidth(S))&&0<_.length?(this._renderText(I,_.trim(),a,c-le,D),_="".concat(C[ce])+" ",c+=I.textLeading()):_=S;this._renderText(I,_.trim(),a,c-le,D),c+=I.textLeading(),N&&(this._textBaseline=p.BASELINE)}}else{for(var se=[],ge=0;ge<w.length;ge++){_="",R=w[ge].split("");for(var _e=0;_e<R.length;_e++)S="".concat(_+R[_e]),(j=this.textWidth(S))<=d?_+=R[_e]:d<j&&0<_.length&&(se.push(_),_="".concat(R[_e]))}se.push(_);var Ce=0,be=I.textAlign().vertical;be===p.CENTER?Ce=(se.length-1)*I.textLeading()/2:be===p.BOTTOM&&(Ce=(se.length-1)*I.textLeading());for(var Ie=0;Ie<w.length;Ie++){_="",R=w[Ie].split("");for(var Se=0;Se<R.length;Se++)S="".concat(_+R[Se]),(j=this.textWidth(S))<=d?_+=R[Se]:d<j&&0<_.length&&(this._renderText(I,_.trim(),a,c-Ce,D),c+=I.textLeading(),_="".concat(R[Se]))}this._renderText(I,_.trim(),a,c-Ce,D),c+=I.textLeading(),N&&(this._textBaseline=p.BASELINE)}}else{var Te=0,O=I.textAlign().vertical;O===p.CENTER?Te=(w.length-1)*I.textLeading()/2:O===p.BOTTOM&&(Te=(w.length-1)*I.textLeading());for(var V=0;V<w.length;V++)this._renderText(I,w[V],a,c-Te,D),c+=I.textLeading()}return I}},n.default.Renderer.prototype._applyDefaults=function(){return this},n.default.Renderer.prototype._isOpenType=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return g(s)==="object"&&s.font&&s.font.supported},n.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var s=document.createElement("span");s.style.fontFamily=this._textFont,s.style.fontSize="".concat(this._textSize,"px"),s.innerHTML="ABCjgq|";var a=document.createElement("div");a.style.display="inline-block",a.style.width="1px",a.style.height="0px";var c=document.createElement("div");c.appendChild(s),c.appendChild(a),c.style.height="0px",c.style.overflow="hidden",document.body.appendChild(c),a.style.verticalAlign="baseline";var d=m(a),y=m(s),w=d[1]-y[1];a.style.verticalAlign="bottom",d=m(a),y=m(s);var _=d[1]-y[1]-w;return document.body.removeChild(c),this._setProperty("_textAscent",w),this._setProperty("_textDescent",_),this};var i=n.default.Renderer;u.default=i},{"../core/constants":253,"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],268:[function(e,l,u){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n=m(e("./main")),p=function(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var c=g();if(c&&c.has(a))return c.get(a);var d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in a)if(Object.prototype.hasOwnProperty.call(a,w)){var _=y?Object.getOwnPropertyDescriptor(a,w):null;_&&(_.get||_.set)?Object.defineProperty(d,w,_):d[w]=a[w]}return d.default=a,c&&c.set(a,d),d}(e("./constants")),f=m(e("../image/filters"));function g(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return g=function(){return a},a}function m(a){return a&&a.__esModule?a:{default:a}}e("./p5.Renderer");var i="rgba(0,0,0,0)";n.default.Renderer2D=function(a,c,d){return n.default.Renderer.call(this,a,c,d),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},n.default.Renderer2D.prototype=Object.create(n.default.Renderer.prototype),n.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=p.BLEND,this._setFill(p._DEFAULT_FILL),this._setStroke(p._DEFAULT_STROKE),this.drawingContext.lineCap=p.ROUND,this.drawingContext.font="normal 12px sans-serif"},n.default.Renderer2D.prototype.resize=function(a,c){n.default.Renderer.prototype.resize.call(this,a,c),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},n.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof n.default.Image)if(0<=(arguments.length<=1?void 0:arguments[1])){var a=arguments.length<=0?void 0:arguments[0];this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(a,0,0,this.width,this.height)}else this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var c,d=this._getFill(),y=(c=this._pInst).color.apply(c,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(y.levels);var w=y.toString();this._setFill(w),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(d),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},n.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},n.default.Renderer2D.prototype.fill=function(){var a,c=(a=this._pInst).color.apply(a,arguments);this._setFill(c.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",c.levels)},n.default.Renderer2D.prototype.stroke=function(){var a,c=(a=this._pInst).color.apply(a,arguments);this._setStroke(c.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",c.levels)},n.default.Renderer2D.prototype.erase=function(a,c){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var d=this._pInst.color(255,a).toString();this.drawingContext.fillStyle=d,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var y=this._pInst.color(255,c).toString();this.drawingContext.strokeStyle=y;var w=this._cachedBlendMode;this.blendMode(p.REMOVE),this._cachedBlendMode=w,this._isErasing=!0}},n.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},n.default.Renderer2D.prototype.image=function(a,c,d,y,w,_,S,j,C){var R;a.gifProperties&&a._animateGif(this._pInst);try{this._tint&&(n.default.MediaElement&&a instanceof n.default.MediaElement&&a.loadPixels(),a.canvas&&(R=this._getTintedImageCanvas(a))),R=R||a.canvas||a.elt;var P=1;a.width&&0<a.width&&(P=R.width/a.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(R,P*c,P*d,P*y,P*w,_,S,j,C),this._isErasing&&this._pInst.erase()}catch(I){if(I.name!=="NS_ERROR_NOT_AVAILABLE")throw I}},n.default.Renderer2D.prototype._getTintedImageCanvas=function(a){if(!a.canvas)return a;var c=f.default._toPixels(a.canvas),d=document.createElement("canvas");d.width=a.canvas.width,d.height=a.canvas.height;for(var y=d.getContext("2d"),w=y.createImageData(a.canvas.width,a.canvas.height),_=w.data,S=0;S<c.length;S+=4){var j=c[S],C=c[S+1],R=c[S+2],P=c[S+3];_[S]=j*this._tint[0]/255,_[S+1]=C*this._tint[1]/255,_[S+2]=R*this._tint[2]/255,_[S+3]=P*this._tint[3]/255}return y.putImageData(w,0,0),d},n.default.Renderer2D.prototype.blendMode=function(a){if(a===p.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(a!==p.BLEND&&a!==p.REMOVE&&a!==p.DARKEST&&a!==p.LIGHTEST&&a!==p.DIFFERENCE&&a!==p.MULTIPLY&&a!==p.EXCLUSION&&a!==p.SCREEN&&a!==p.REPLACE&&a!==p.OVERLAY&&a!==p.HARD_LIGHT&&a!==p.SOFT_LIGHT&&a!==p.DODGE&&a!==p.BURN&&a!==p.ADD)throw new Error("Mode ".concat(a," not recognized."));this._cachedBlendMode=a,this.drawingContext.globalCompositeOperation=a}},n.default.Renderer2D.prototype.blend=function(){for(var a=this.drawingContext.globalCompositeOperation,c=arguments.length,d=new Array(c),y=0;y<c;y++)d[y]=arguments[y];var w=d[d.length-1],_=Array.prototype.slice.call(d,0,d.length-1);this.drawingContext.globalCompositeOperation=w,n.default.prototype.copy.apply(this,_),this.drawingContext.globalCompositeOperation=a},n.default.Renderer2D.prototype._getPixel=function(a,c){var d;return[(d=this.drawingContext.getImageData(a,c,1,1).data)[0],d[1],d[2],d[3]]},n.default.Renderer2D.prototype.loadPixels=function(){var a=this._pixelsState,c=a._pixelDensity,d=this.width*c,y=this.height*c,w=this.drawingContext.getImageData(0,0,d,y);a._setProperty("imageData",w),a._setProperty("pixels",w.data)},n.default.Renderer2D.prototype.set=function(a,c,d){a=Math.floor(a),c=Math.floor(c);var y=this._pixelsState;if(d instanceof n.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(y._pixelDensity,y._pixelDensity),this.drawingContext.clearRect(a,c,d.width,d.height),this.drawingContext.drawImage(d.canvas,a,c),this.drawingContext.restore();else{var w=0,_=0,S=0,j=0,C=4*(c*y._pixelDensity*(this.width*y._pixelDensity)+a*y._pixelDensity);if(y.imageData||y.loadPixels.call(y),typeof d=="number")C<y.pixels.length&&(S=_=w=d,j=255);else if(d instanceof Array){if(d.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");C<y.pixels.length&&(w=d[0],_=d[1],S=d[2],j=d[3])}else d instanceof n.default.Color&&C<y.pixels.length&&(w=d.levels[0],_=d.levels[1],S=d.levels[2],j=d.levels[3]);for(var R=0;R<y._pixelDensity;R++)for(var P=0;P<y._pixelDensity;P++)C=4*((c*y._pixelDensity+P)*this.width*y._pixelDensity+(a*y._pixelDensity+R)),y.pixels[C]=w,y.pixels[C+1]=_,y.pixels[C+2]=S,y.pixels[C+3]=j}},n.default.Renderer2D.prototype.updatePixels=function(a,c,d,y){var w=this._pixelsState,_=w._pixelDensity;a===void 0&&c===void 0&&d===void 0&&y===void 0&&(c=a=0,d=this.width,y=this.height),a*=_,c*=_,d*=_,y*=_,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=w.imageData),this.drawingContext.putImageData(w.imageData,a,c,0,0,d,y)},n.default.Renderer2D.prototype._acuteArcToBezier=function(a,c){var d=c/2,y=Math.cos(d),w=Math.sin(d),_=1/Math.tan(d),S=a+d,j=Math.cos(S),C=Math.sin(S),R=(4-y)/3,P=w+(y-R)*_;return{ax:Math.cos(a).toFixed(7),ay:Math.sin(a).toFixed(7),bx:(R*j+P*C).toFixed(7),by:(R*C-P*j).toFixed(7),cx:(R*j-P*C).toFixed(7),cy:(R*C+P*j).toFixed(7),dx:Math.cos(a+c).toFixed(7),dy:Math.sin(a+c).toFixed(7)}},n.default.Renderer2D.prototype.arc=function(a,c,d,y,w,_,S){var j=this.drawingContext,C=d/2,R=y/2,P=0,I=[];for(a+=C,c+=R;1e-5<=_-w;)P=Math.min(_-w,p.HALF_PI),I.push(this._acuteArcToBezier(w,P)),w+=P;return this._doFill&&(j.beginPath(),I.forEach(function(A,D){D===0&&j.moveTo(a+A.ax*C,c+A.ay*R),j.bezierCurveTo(a+A.bx*C,c+A.by*R,a+A.cx*C,c+A.cy*R,a+A.dx*C,c+A.dy*R)}),S!==p.PIE&&S!=null||j.lineTo(a,c),j.closePath(),j.fill()),this._doStroke&&(j.beginPath(),I.forEach(function(A,D){D===0&&j.moveTo(a+A.ax*C,c+A.ay*R),j.bezierCurveTo(a+A.bx*C,c+A.by*R,a+A.cx*C,c+A.cy*R,a+A.dx*C,c+A.dy*R)}),S===p.PIE?(j.lineTo(a,c),j.closePath()):S===p.CHORD&&j.closePath(),j.stroke()),this},n.default.Renderer2D.prototype.ellipse=function(a){var c=this.drawingContext,d=this._doFill,y=this._doStroke,w=parseFloat(a[0]),_=parseFloat(a[1]),S=parseFloat(a[2]),j=parseFloat(a[3]);if(d&&!y){if(this._getFill()===i)return this}else if(!d&&y&&this._getStroke()===i)return this;var C=S/2*.5522847498,R=j/2*.5522847498,P=w+S,I=_+j,A=w+S/2,D=_+j/2;c.beginPath(),c.moveTo(w,D),c.bezierCurveTo(w,D-R,A-C,_,A,_),c.bezierCurveTo(A+C,_,P,D-R,P,D),c.bezierCurveTo(P,D+R,A+C,I,A,I),c.bezierCurveTo(A-C,I,w,D+R,w,D),d&&c.fill(),y&&c.stroke()},n.default.Renderer2D.prototype.line=function(a,c,d,y){var w=this.drawingContext;return this._doStroke&&(this._getStroke()===i||(w.beginPath(),w.moveTo(a,c),w.lineTo(d,y),w.stroke())),this},n.default.Renderer2D.prototype.point=function(a,c){var d=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===i)return this;var y=this._getStroke(),w=this._getFill();this._setFill(y),d.beginPath(),d.arc(a,c,d.lineWidth/2,0,p.TWO_PI,!1),d.fill(),this._setFill(w)},n.default.Renderer2D.prototype.quad=function(a,c,d,y,w,_,S,j){var C=this.drawingContext,R=this._doFill,P=this._doStroke;if(R&&!P){if(this._getFill()===i)return this}else if(!R&&P&&this._getStroke()===i)return this;return C.beginPath(),C.moveTo(a,c),C.lineTo(d,y),C.lineTo(w,_),C.lineTo(S,j),C.closePath(),R&&C.fill(),P&&C.stroke(),this},n.default.Renderer2D.prototype.rect=function(a){var c=a[0],d=a[1],y=a[2],w=a[3],_=a[4],S=a[5],j=a[6],C=a[7],R=this.drawingContext,P=this._doFill,I=this._doStroke;if(P&&!I){if(this._getFill()===i)return this}else if(!P&&I&&this._getStroke()===i)return this;if(R.beginPath(),_===void 0)R.rect(c,d,y,w);else{S===void 0&&(S=_),j===void 0&&(j=S),C===void 0&&(C=j);var A=Math.abs(y),D=Math.abs(w),N=A/2,L=D/2;A<2*_&&(_=N),D<2*_&&(_=L),A<2*S&&(S=N),D<2*S&&(S=L),A<2*j&&(j=N),D<2*j&&(j=L),A<2*C&&(C=N),D<2*C&&(C=L),R.beginPath(),R.moveTo(c+_,d),R.arcTo(c+y,d,c+y,d+w,S),R.arcTo(c+y,d+w,c,d+w,j),R.arcTo(c,d+w,c,d,C),R.arcTo(c,d,c+y,d,_),R.closePath()}return this._doFill&&R.fill(),this._doStroke&&R.stroke(),this},n.default.Renderer2D.prototype.triangle=function(a){var c=this.drawingContext,d=this._doFill,y=this._doStroke,w=a[0],_=a[1],S=a[2],j=a[3],C=a[4],R=a[5];if(d&&!y){if(this._getFill()===i)return this}else if(!d&&y&&this._getStroke()===i)return this;c.beginPath(),c.moveTo(w,_),c.lineTo(S,j),c.lineTo(C,R),c.closePath(),d&&c.fill(),y&&c.stroke()},n.default.Renderer2D.prototype.endShape=function(a,c,d,y,w,_,S){if(c.length===0)return this;if(!this._doStroke&&!this._doFill)return this;var j,C,R,P=a===p.CLOSE;P&&!_&&c.push(c[0]);var I=c.length;if(!d||S!==p.POLYGON&&S!==null)if(!y||S!==p.POLYGON&&S!==null)if(!w||S!==p.POLYGON&&S!==null)if(S===p.POINTS)for(C=0;C<I;C++)j=c[C],this._doStroke&&this._pInst.stroke(j[6]),this._pInst.point(j[0],j[1]);else if(S===p.LINES)for(C=0;C+1<I;C+=2)j=c[C],this._doStroke&&this._pInst.stroke(c[C+1][6]),this._pInst.line(j[0],j[1],c[C+1][0],c[C+1][1]);else if(S===p.TRIANGLES)for(C=0;C+2<I;C+=3)j=c[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(j[0],j[1]),this.drawingContext.lineTo(c[C+1][0],c[C+1][1]),this.drawingContext.lineTo(c[C+2][0],c[C+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(c[C+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(c[C+2][6]),this.drawingContext.stroke());else if(S===p.TRIANGLE_STRIP)for(C=0;C+1<I;C++)j=c[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(c[C+1][0],c[C+1][1]),this.drawingContext.lineTo(j[0],j[1]),this._doStroke&&this._pInst.stroke(c[C+1][6]),this._doFill&&this._pInst.fill(c[C+1][5]),C+2<I&&(this.drawingContext.lineTo(c[C+2][0],c[C+2][1]),this._doStroke&&this._pInst.stroke(c[C+2][6]),this._doFill&&this._pInst.fill(c[C+2][5])),this._doFillStrokeClose(P);else if(S===p.TRIANGLE_FAN){if(2<I){for(this.drawingContext.beginPath(),C=2;C<I;C++)j=c[C],this.drawingContext.moveTo(c[0][0],c[0][1]),this.drawingContext.lineTo(c[C-1][0],c[C-1][1]),this.drawingContext.lineTo(j[0],j[1]),this.drawingContext.lineTo(c[0][0],c[0][1]),C<I-1&&(this._doFill&&j[5]!==c[C+1][5]||this._doStroke&&j[6]!==c[C+1][6])&&(this._doFill&&(this._pInst.fill(j[5]),this.drawingContext.fill(),this._pInst.fill(c[C+1][5])),this._doStroke&&(this._pInst.stroke(j[6]),this.drawingContext.stroke(),this._pInst.stroke(c[C+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(P)}}else if(S===p.QUADS)for(C=0;C+3<I;C+=4){for(j=c[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(j[0],j[1]),R=1;R<4;R++)this.drawingContext.lineTo(c[C+R][0],c[C+R][1]);this.drawingContext.lineTo(j[0],j[1]),this._doFill&&this._pInst.fill(c[C+3][5]),this._doStroke&&this._pInst.stroke(c[C+3][6]),this._doFillStrokeClose(P)}else if(S===p.QUAD_STRIP){if(3<I)for(C=0;C+1<I;C+=2)j=c[C],this.drawingContext.beginPath(),C+3<I?(this.drawingContext.moveTo(c[C+2][0],c[C+2][1]),this.drawingContext.lineTo(j[0],j[1]),this.drawingContext.lineTo(c[C+1][0],c[C+1][1]),this.drawingContext.lineTo(c[C+3][0],c[C+3][1]),this._doFill&&this._pInst.fill(c[C+3][5]),this._doStroke&&this._pInst.stroke(c[C+3][6])):(this.drawingContext.moveTo(j[0],j[1]),this.drawingContext.lineTo(c[C+1][0],c[C+1][1])),this._doFillStrokeClose(P)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(c[0][0],c[0][1]),C=1;C<I;C++)(j=c[C]).isVert&&(j.moveTo?this.drawingContext.moveTo(j[0],j[1]):this.drawingContext.lineTo(j[0],j[1]));this._doFillStrokeClose(P)}else{for(this.drawingContext.beginPath(),C=0;C<I;C++)c[C].isVert?c[C].moveTo?this.drawingContext.moveTo(c[C][0],c[C][1]):this.drawingContext.lineTo(c[C][0],c[C][1]):this.drawingContext.quadraticCurveTo(c[C][0],c[C][1],c[C][2],c[C][3]);this._doFillStrokeClose(P)}else{for(this.drawingContext.beginPath(),C=0;C<I;C++)c[C].isVert?c[C].moveTo?this.drawingContext.moveTo(c[C][0],c[C][1]):this.drawingContext.lineTo(c[C][0],c[C][1]):this.drawingContext.bezierCurveTo(c[C][0],c[C][1],c[C][2],c[C][3],c[C][4],c[C][5]);this._doFillStrokeClose(P)}else if(3<I){var A=[],D=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(c[1][0],c[1][1]),C=1;C+2<I;C++)j=c[C],A[0]=[j[0],j[1]],A[1]=[j[0]+(D*c[C+1][0]-D*c[C-1][0])/6,j[1]+(D*c[C+1][1]-D*c[C-1][1])/6],A[2]=[c[C+1][0]+(D*c[C][0]-D*c[C+2][0])/6,c[C+1][1]+(D*c[C][1]-D*c[C+2][1])/6],A[3]=[c[C+1][0],c[C+1][1]],this.drawingContext.bezierCurveTo(A[1][0],A[1][1],A[2][0],A[2][1],A[3][0],A[3][1]);P&&this.drawingContext.lineTo(c[C+1][0],c[C+1][1]),this._doFillStrokeClose(P)}return _=w=y=d=!1,P&&c.pop(),this},n.default.Renderer2D.prototype.strokeCap=function(a){return a!==p.ROUND&&a!==p.SQUARE&&a!==p.PROJECT||(this.drawingContext.lineCap=a),this},n.default.Renderer2D.prototype.strokeJoin=function(a){return a!==p.ROUND&&a!==p.BEVEL&&a!==p.MITER||(this.drawingContext.lineJoin=a),this},n.default.Renderer2D.prototype.strokeWeight=function(a){return this.drawingContext.lineWidth=a===void 0||a===0?1e-4:a,this},n.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},n.default.Renderer2D.prototype._setFill=function(a){a!==this._cachedFillStyle&&(this.drawingContext.fillStyle=a,this._cachedFillStyle=a)},n.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},n.default.Renderer2D.prototype._setStroke=function(a){a!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=a,this._cachedStrokeStyle=a)},n.default.Renderer2D.prototype.bezier=function(a,c,d,y,w,_,S,j){return this._pInst.beginShape(),this._pInst.vertex(a,c),this._pInst.bezierVertex(d,y,w,_,S,j),this._pInst.endShape(),this},n.default.Renderer2D.prototype.curve=function(a,c,d,y,w,_,S,j){return this._pInst.beginShape(),this._pInst.curveVertex(a,c),this._pInst.curveVertex(d,y),this._pInst.curveVertex(w,_),this._pInst.curveVertex(S,j),this._pInst.endShape(),this},n.default.Renderer2D.prototype._doFillStrokeClose=function(a){a&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},n.default.Renderer2D.prototype.applyMatrix=function(a,c,d,y,w,_){this.drawingContext.transform(a,c,d,y,w,_)},n.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},n.default.Renderer2D.prototype.rotate=function(a){this.drawingContext.rotate(a)},n.default.Renderer2D.prototype.scale=function(a,c){return this.drawingContext.scale(a,c),this},n.default.Renderer2D.prototype.translate=function(a,c){return a instanceof n.default.Vector&&(c=a.y,a=a.x),this.drawingContext.translate(a,c),this},n.default.Renderer2D.prototype.text=function(a,c,d,y,w){var _;y!==void 0&&this.drawingContext.textBaseline===p.BASELINE&&(_=!0,this.drawingContext.textBaseline=p.TOP);var S=n.default.Renderer.prototype.text.apply(this,arguments);return _&&(this.drawingContext.textBaseline=p.BASELINE),S},n.default.Renderer2D.prototype._renderText=function(a,c,d,y,w){if(!(w<=y))return a.push(),this._isOpenType()?this._textFont._renderPath(c,d,y,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(c,d,y),this._doFill&&(this._fillSet||this._setFill(p._DEFAULT_TEXT_FILL),this.drawingContext.fillText(c,d,y))),a.pop(),a},n.default.Renderer2D.prototype.textWidth=function(a){return this._isOpenType()?this._textFont._textWidth(a,this._textSize):this.drawingContext.measureText(a).width},n.default.Renderer2D.prototype._applyTextProperties=function(){var a,c=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),a=this._textFont,this._isOpenType()&&(a=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(a||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===p.CENTER?this.drawingContext.textBaseline=p._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,c},n.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),n.default.Renderer.prototype.push.apply(this)},n.default.Renderer2D.prototype.pop=function(a){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,n.default.Renderer.prototype.pop.call(this,a)};var s=n.default.Renderer2D;u.default=s},{"../image/filters":285,"./constants":253,"./main":264,"./p5.Renderer":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],269:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,n=(h=e("./main"))&&h.__esModule?h:{default:h};n.default.prototype._promisePreloads=[];var p=!(n.default.prototype.registerPromisePreload=function(g){n.default.prototype._promisePreloads.push(g)});n.default.prototype._setupPromisePreloads=function(){var g=!0,m=!1,i=void 0;try{for(var s,a=this._promisePreloads[Symbol.iterator]();!(g=(s=a.next()).done);g=!0){var c=s.value,d=this,y=c.method,w=c.addCallbacks,_=c.legacyPreloadSetup,S=c.target||this,j=S[y].bind(S);if(S===n.default.prototype){if(p)continue;d=null,j=S[y]}S[y]=this._wrapPromisePreload(d,j,w),_&&(S[_.method]=this._legacyPreloadGenerator(d,_,S[y]))}}catch(C){m=!0,i=C}finally{try{g||a.return==null||a.return()}finally{if(m)throw i}}p=!0},n.default.prototype._wrapPromisePreload=function(g,m,i){var s=function(){var a=this;this._incrementPreload();for(var c=null,d=null,y=arguments.length,w=new Array(y),_=0;_<y;_++)w[_]=arguments[_];if(i)for(var S=w.length-1;0<=S&&!d&&typeof w[S]=="function";S--)d=c,c=w.pop();var j=Promise.resolve(m.apply(this,w));return c&&j.then(c),d&&j.catch(d),j.then(function(){return a._decrementPreload()}),j};return g&&(s=s.bind(g)),s};function f(){return{}}n.default.prototype._legacyPreloadGenerator=function(g,m,i){var s=m.createBaseObject||f,a=function(){var c=this;this._incrementPreload();var d=s.apply(this,arguments);return i.apply(this,arguments).then(function(y){Object.assign(d,y),c._decrementPreload()}),d};return g&&(a=a.bind(g)),a}},{"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],270:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("./main"))&&h.__esModule?h:{default:h},p=function(s){if(s&&s.__esModule)return s;if(s===null||g(s)!=="object"&&typeof s!="function")return{default:s};var a=f();if(a&&a.has(s))return a.get(s);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in s)if(Object.prototype.hasOwnProperty.call(s,y)){var w=d?Object.getOwnPropertyDescriptor(s,y):null;w&&(w.get||w.set)?Object.defineProperty(c,y,w):c[y]=s[y]}return c.default=s,a&&a.set(s,c),c}(e("./constants"));function f(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return f=function(){return s},s}function g(s){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var m="defaultCanvas0";n.default.prototype.createCanvas=function(s,a,c){n.default._validateParameters("createCanvas",arguments);var d,y=c||p.P2D;if(y===p.WEBGL){if(d=document.getElementById(m)){d.parentNode.removeChild(d);var w=this._renderer;this._elements=this._elements.filter(function(j){return j!==w})}(d=document.createElement("canvas")).id=m,d.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)d=this.canvas;else{d=document.createElement("canvas");for(var _=0;document.getElementById("defaultCanvas".concat(_));)_++;m="defaultCanvas".concat(_),d.id=m,d.classList.add("p5Canvas")}if(this._setupDone||(d.dataset.hidden=!0,d.style.visibility="hidden"),this._userNode)this._userNode.appendChild(d);else{if(document.getElementsByTagName("main").length===0){var S=document.createElement("main");document.body.appendChild(S)}document.getElementsByTagName("main")[0].appendChild(d)}return y===p.WEBGL?(this._setProperty("_renderer",new n.default.RendererGL(d,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new n.default.Renderer2D(d,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(s,a),this._renderer._applyDefaults(),this._renderer},n.default.prototype.resizeCanvas=function(s,a,c){if(n.default._validateParameters("resizeCanvas",arguments),this._renderer){var d={};for(var y in this.drawingContext){var w=this.drawingContext[y];g(w)!=="object"&&typeof w!="function"&&(d[y]=w)}for(var _ in this._renderer.resize(s,a),this.width=s,this.height=a,d)try{this.drawingContext[_]=d[_]}catch{}c||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},n.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},n.default.prototype.createGraphics=function(s,a,c){return n.default._validateParameters("createGraphics",arguments),new n.default.Graphics(s,a,c,this)},n.default.prototype.blendMode=function(s){n.default._validateParameters("blendMode",arguments),s===p.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),s=p.BLEND),this._renderer.blendMode(s)};var i=n.default;u.default=i},{"../webgl/p5.RendererGL":318,"./constants":253,"./main":264,"./p5.Graphics":266,"./p5.Renderer2D":268,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],271:[function(e,l,u){function h(s){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}e("core-js/modules/es.array.slice"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n=m(e("../main")),p=function(s){if(s&&s.__esModule)return s;if(s===null||h(s)!=="object"&&typeof s!="function")return{default:s};var a=g();if(a&&a.has(s))return a.get(s);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in s)if(Object.prototype.hasOwnProperty.call(s,y)){var w=d?Object.getOwnPropertyDescriptor(s,y):null;w&&(w.get||w.set)?Object.defineProperty(c,y,w):c[y]=s[y]}return c.default=s,a&&a.set(s,c),c}(e("../constants")),f=m(e("../helpers"));function g(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return g=function(){return s},s}function m(s){return s&&s.__esModule?s:{default:s}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),n.default.prototype._normalizeArcAngles=function(s,a,c,d,y){var w;return s-=p.TWO_PI*Math.floor(s/p.TWO_PI),a-=p.TWO_PI*Math.floor(a/p.TWO_PI),w=Math.min(Math.abs(s-a),p.TWO_PI-Math.abs(s-a)),y&&(s=s<=p.HALF_PI?Math.atan(c/d*Math.tan(s)):s>p.HALF_PI&&s<=3*p.HALF_PI?Math.atan(c/d*Math.tan(s))+p.PI:Math.atan(c/d*Math.tan(s))+p.TWO_PI,a=a<=p.HALF_PI?Math.atan(c/d*Math.tan(a)):a>p.HALF_PI&&a<=3*p.HALF_PI?Math.atan(c/d*Math.tan(a))+p.PI:Math.atan(c/d*Math.tan(a))+p.TWO_PI),a<s&&(a+=p.TWO_PI),{start:s,stop:a,correspondToSamePoint:w<1e-5}},n.default.prototype.arc=function(s,a,c,d,y,w,_,S){if(n.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(y===w)return this;y=this._toRadians(y),w=this._toRadians(w),c=Math.abs(c),d=Math.abs(d);var j=f.default.modeAdjust(s,a,c,d,this._renderer._ellipseMode),C=this._normalizeArcAngles(y,w,j.w,j.h,!0);return C.correspondToSamePoint?this._renderer.ellipse([j.x,j.y,j.w,j.h,S]):(this._renderer.arc(j.x,j.y,j.w,j.h,C.start,C.stop,_,S),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[j.x,j.y,j.w,j.h,C.start,C.stop,_])),this},n.default.prototype.ellipse=function(s,a,c,d,y){return n.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},n.default.prototype.circle=function(){n.default._validateParameters("circle",arguments);var s=Array.prototype.slice.call(arguments,0,2);return s.push(arguments[2]),s.push(arguments[2]),this._renderEllipse.apply(this,s)},n.default.prototype._renderEllipse=function(s,a,c,d,y){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;c<0&&(c=Math.abs(c)),d===void 0?d=c:d<0&&(d=Math.abs(d));var w=f.default.modeAdjust(s,a,c,d,this._renderer._ellipseMode);return this._renderer.ellipse([w.x,w.y,w.w,w.h,y]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[w.x,w.y,w.w,w.h]),this},n.default.prototype.line=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];var d;return n.default._validateParameters("line",a),this._renderer._doStroke&&(d=this._renderer).line.apply(d,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",a),this},n.default.prototype.point=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];var d;return n.default._validateParameters("point",a),this._renderer._doStroke&&(a.length===1&&a[0]instanceof n.default.Vector?this._renderer.point.call(this._renderer,a[0].x,a[0].y,a[0].z):((d=this._renderer).point.apply(d,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",a))),this},n.default.prototype.quad=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];var d;return n.default._validateParameters("quad",a),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&a.length<=12?this._renderer.quad.call(this._renderer,a[0],a[1],0,a[2],a[3],0,a[4],a[5],0,a[6],a[7],0,a[8],a[9]):((d=this._renderer).quad.apply(d,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",a))),this},n.default.prototype.rect=function(){return n.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},n.default.prototype.square=function(s,a,c,d,y,w,_){return n.default._validateParameters("square",arguments),this._renderRect.call(this,s,a,c,c,d,y,w,_)},n.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var s=f.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),a=[s.x,s.y,s.w,s.h],c=4;c<arguments.length;c++)a[c]=arguments[c];this._renderer.rect(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[s.x,s.y,s.w,s.h])}return this},n.default.prototype.triangle=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return n.default._validateParameters("triangle",a),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",a),this};var i=n.default;u.default=i},{"../constants":253,"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../helpers":260,"../main":264,"core-js/modules/es.array.slice":162}],272:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../main"))&&n.__esModule?n:{default:n},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=g();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}(e("../constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.prototype.ellipseMode=function(i){return p.default._validateParameters("ellipseMode",arguments),i!==f.CORNER&&i!==f.CORNERS&&i!==f.RADIUS&&i!==f.CENTER||(this._renderer._ellipseMode=i),this},p.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},p.default.prototype.rectMode=function(i){return p.default._validateParameters("rectMode",arguments),i!==f.CORNER&&i!==f.CORNERS&&i!==f.RADIUS&&i!==f.CENTER||(this._renderer._rectMode=i),this},p.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},p.default.prototype.strokeCap=function(i){return p.default._validateParameters("strokeCap",arguments),i!==f.ROUND&&i!==f.SQUARE&&i!==f.PROJECT||this._renderer.strokeCap(i),this},p.default.prototype.strokeJoin=function(i){return p.default._validateParameters("strokeJoin",arguments),i!==f.ROUND&&i!==f.BEVEL&&i!==f.MITER||this._renderer.strokeJoin(i),this},p.default.prototype.strokeWeight=function(i){return p.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(i),this};var m=p.default;u.default=m},{"../constants":253,"../main":264}],273:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../main"))&&h.__esModule?h:{default:h};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),n.default.prototype.bezier=function(){for(var f,g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return n.default._validateParameters("bezier",m),(this._renderer._doStroke||this._renderer._doFill)&&(f=this._renderer).bezier.apply(f,m),this},n.default.prototype.bezierDetail=function(f){return n.default._validateParameters("bezierDetail",arguments),this._bezierDetail=f,this},n.default.prototype.bezierPoint=function(f,g,m,i,s){n.default._validateParameters("bezierPoint",arguments);var a=1-s;return Math.pow(a,3)*f+3*Math.pow(a,2)*s*g+3*a*Math.pow(s,2)*m+Math.pow(s,3)*i},n.default.prototype.bezierTangent=function(f,g,m,i,s){n.default._validateParameters("bezierTangent",arguments);var a=1-s;return 3*i*Math.pow(s,2)-3*m*Math.pow(s,2)+6*m*a*s-6*g*a*s+3*g*Math.pow(a,2)-3*f*Math.pow(a,2)},n.default.prototype.curve=function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];var i;return n.default._validateParameters("curve",g),this._renderer._doStroke&&(i=this._renderer).curve.apply(i,g),this},n.default.prototype.curveDetail=function(f){return n.default._validateParameters("curveDetail",arguments),this._curveDetail=f<3?3:f,this},n.default.prototype.curveTightness=function(f){return n.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=f,this},n.default.prototype.curvePoint=function(f,g,m,i,s){n.default._validateParameters("curvePoint",arguments);var a=s*s*s,c=s*s;return f*(-.5*a+c-.5*s)+g*(1.5*a-2.5*c+1)+m*(-1.5*a+2*c+.5*s)+i*(.5*a-.5*c)},n.default.prototype.curveTangent=function(f,g,m,i,s){n.default._validateParameters("curveTangent",arguments);var a=s*s;return f*(-3*a/2+2*s-.5)+g*(9*a/2-5*s)+m*(-9*a/2+4*s+.5)+i*(3*a/2-s)};var p=n.default;u.default=p},{"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../main":264}],274:[function(e,l,u){function h(S){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(S)}e("core-js/modules/es.array.slice"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../main"))&&n.__esModule?n:{default:n},f=function(S){if(S&&S.__esModule)return S;if(S===null||h(S)!=="object"&&typeof S!="function")return{default:S};var j=g();if(j&&j.has(S))return j.get(S);var C={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in S)if(Object.prototype.hasOwnProperty.call(S,P)){var I=R?Object.getOwnPropertyDescriptor(S,P):null;I&&(I.get||I.set)?Object.defineProperty(C,P,I):C[P]=S[P]}return C.default=S,j&&j.set(S,C),C}(e("../constants"));function g(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return g=function(){return S},S}var m=null,i=[],s=[],a=!1,c=!1,d=!1,y=!1,w=!0;p.default.prototype.beginContour=function(){return s=[],y=!0,this},p.default.prototype.beginShape=function(S){var j;return p.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(j=this._renderer).beginShape.apply(j,arguments):(m=S===f.POINTS||S===f.LINES||S===f.TRIANGLES||S===f.TRIANGLE_FAN||S===f.TRIANGLE_STRIP||S===f.QUADS||S===f.QUAD_STRIP?S:null,i=[],s=[]),this},p.default.prototype.bezierVertex=function(){for(var S=arguments.length,j=new Array(S),C=0;C<S;C++)j[C]=arguments[C];var R;if(p.default._validateParameters("bezierVertex",j),this._renderer.isP3D)(R=this._renderer).bezierVertex.apply(R,j);else if(i.length===0)p.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{a=!0;for(var P=[],I=0;I<j.length;I++)P[I]=j[I];P.isVert=!1,y?s.push(P):i.push(P)}return this},p.default.prototype.curveVertex=function(){for(var S=arguments.length,j=new Array(S),C=0;C<S;C++)j[C]=arguments[C];var R;return p.default._validateParameters("curveVertex",j),this._renderer.isP3D?(R=this._renderer).curveVertex.apply(R,j):(c=!0,this.vertex(j[0],j[1])),this},p.default.prototype.endContour=function(){var S=s[0].slice();S.isVert=s[0].isVert,S.moveTo=!1,s.push(S),w&&(i.push(i[0]),w=!1);for(var j=0;j<s.length;j++)i.push(s[j]);return this},p.default.prototype.endShape=function(S){if(p.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(S,c,a,d,y,m);else{if(i.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var j=S===f.CLOSE;j&&!y&&i.push(i[0]),this._renderer.endShape(S,i,c,a,d,y,m),w=!(y=d=a=c=!1),j&&i.pop()}return this},p.default.prototype.quadraticVertex=function(){for(var S=arguments.length,j=new Array(S),C=0;C<S;C++)j[C]=arguments[C];if(p.default._validateParameters("quadraticVertex",j),this._renderer.isP3D){var R;(R=this._renderer).quadraticVertex.apply(R,j)}else{if(this._contourInited){var P={};return P.x=j[0],P.y=j[1],P.x3=j[2],P.y3=j[3],P.type=f.QUADRATIC,this._contourVertices.push(P),this}if(0<i.length){d=!0;for(var I=[],A=0;A<j.length;A++)I[A]=j[A];I.isVert=!1,y?s.push(I):i.push(I)}else p.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},p.default.prototype.vertex=function(S,j,C,R,P){if(this._renderer.isP3D){var I;(I=this._renderer).vertex.apply(I,arguments)}else{var A=[];A.isVert=!0,A[0]=S,A[1]=j,A[2]=0,A[3]=0,A[4]=0,A[5]=this._renderer._getFill(),A[6]=this._renderer._getStroke(),C&&(A.moveTo=C),y?(s.length===0&&(A.moveTo=!0),s.push(A)):i.push(A)}return this},p.default.prototype.normal=function(S,j,C){var R;return this._assert3d("normal"),p.default._validateParameters("normal",arguments),(R=this._renderer).normal.apply(R,arguments),this};var _=p.default;u.default=_},{"../constants":253,"../main":264,"core-js/modules/es.array.slice":162}],275:[function(e,l,u){function h(n){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n,p){window.setTimeout(n,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var n=Object.keys,p=Object.defineProperty,f=typeof Symbol=="function"&&h(Symbol())==="symbol",g=Object.prototype.propertyIsEnumerable,m=function(i){return function(s){return g.call(i,s)}};p(Object,"assign",{value:function(i,s){if(i==null)throw new TypeError("target must be an object");var a,c,d,y,w=Object(i);for(a=1;a<arguments.length;++a)for(c=Object(arguments[a]),y=n(c),f&&Object.getOwnPropertySymbols&&y.push.apply(y,Object.getOwnPropertySymbols(c).filter(m(c))),d=0;d<y.length;++d)w[y[d]]=c[y[d]];return w},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":229}],276:[function(e,l,u){e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("./main"))&&h.__esModule?h:{default:h};n.default.prototype.noLoop=function(){this._loop=!1},n.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},n.default.prototype.isLooping=function(){return this._loop},n.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},n.default.prototype.pop=function(){var f=this._styles.pop();f?(this._renderer.pop(f.renderer),Object.assign(this,f.props)):console.warn("pop() was called without matching push()")},n.default.prototype.redraw=function(f){if(!this._inUserDraw&&this._setupDone){var g=parseInt(f);(isNaN(g)||g<1)&&(g=1);var m=this._isGlobal?window:this;if(typeof m.draw=="function"){m.setup===void 0&&m.scale(m._pixelDensity,m._pixelDensity);for(var i=function(a){a.call(m)},s=0;s<g;s++){m.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),m._renderer.isP3D&&m._renderer._update(),m._setProperty("frameCount",m.frameCount+1),m._registeredMethods.pre.forEach(i),this._inUserDraw=!0;try{m.draw()}finally{this._inUserDraw=!1}m._registeredMethods.post.forEach(i)}}}};var p=n.default;u.default=p},{"./main":264,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":173,"core-js/modules/web.dom-collections.for-each":228}],277:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("./main"))&&h.__esModule?h:{default:h};function p(g){return function(m){if(Array.isArray(m)){for(var i=0,s=new Array(m.length);i<m.length;i++)s[i]=m[i];return s}}(g)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default.prototype.applyMatrix=function(){var g,m,i=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||i?(g=this._renderer).applyMatrix.apply(g,p(arguments[0])):(m=this._renderer).applyMatrix.apply(m,arguments),this},n.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},n.default.prototype.rotate=function(g,m){return n.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(g),m),this},n.default.prototype.rotateX=function(g){return this._assert3d("rotateX"),n.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(g)),this},n.default.prototype.rotateY=function(g){return this._assert3d("rotateY"),n.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(g)),this},n.default.prototype.rotateZ=function(g){return this._assert3d("rotateZ"),n.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(g)),this},n.default.prototype.scale=function(g,m,i){if(n.default._validateParameters("scale",arguments),g instanceof n.default.Vector){var s=g;g=s.x,m=s.y,i=s.z}else if(g instanceof Array){var a=g;g=a[0],m=a[1],i=a[2]||1}return isNaN(m)?m=i=g:isNaN(i)&&(i=1),this._renderer.scale.call(this._renderer,g,m,i),this},n.default.prototype.shearX=function(g){n.default._validateParameters("shearX",arguments);var m=this._toRadians(g);return this._renderer.applyMatrix(1,0,Math.tan(m),1,0,0),this},n.default.prototype.shearY=function(g){n.default._validateParameters("shearY",arguments);var m=this._toRadians(g);return this._renderer.applyMatrix(1,Math.tan(m),0,1,0,0),this},n.default.prototype.translate=function(g,m,i){return n.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(g,m,i):this._renderer.translate(g,m),this};var f=n.default;u.default=f},{"./main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229}],278:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(g){return function(m){if(Array.isArray(m)){for(var i=0,s=new Array(m.length);i<m.length;i++)s[i]=m[i];return s}}(g)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}n.default.prototype.storeItem=function(g,m){typeof g!="string"&&console.log("The argument that you passed to storeItem() - ".concat(g," is not a string.")),g.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(g," must not end with 'p5TypeID'.")),m===void 0&&console.log("You cannot store undefined variables using storeItem().");var i=f(m);switch(i){case"number":case"boolean":m=m.toString();break;case"object":m instanceof n.default.Color?i="p5.Color":m instanceof n.default.Vector&&(i="p5.Vector",m=[m.x,m.y,m.z]),m=JSON.stringify(m)}localStorage.setItem(g,m);var s="".concat(g,"p5TypeID");localStorage.setItem(s,i)},n.default.prototype.getItem=function(g){var m=localStorage.getItem(g),i=localStorage.getItem("".concat(g,"p5TypeID"));if(i===void 0)console.log("Unable to determine type of item stored under ".concat(g,"in local storage. Did you save the item with something other than setItem()?"));else if(m!==null)switch(i){case"number":m=parseFloat(m);break;case"boolean":m=m==="true";break;case"object":m=JSON.parse(m);break;case"p5.Color":m=JSON.parse(m),m=this.color.apply(this,p(m.levels));break;case"p5.Vector":m=JSON.parse(m),m=this.createVector.apply(this,p(m))}return m},n.default.prototype.clearStorage=function(){localStorage.clear()},n.default.prototype.removeItem=function(g){typeof g!="string"&&console.log("The argument that you passed to removeItem() - ".concat(g," is not a string.")),localStorage.removeItem(g),localStorage.removeItem("".concat(g,"p5TypeID"))}},{"../core/main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],279:[function(e,l,u){e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.prototype.createStringDict=function(f,g){return n.default._validateParameters("createStringDict",arguments),new n.default.StringDict(f,g)},n.default.prototype.createNumberDict=function(f,g){return n.default._validateParameters("createNumberDict",arguments),new n.default.NumberDict(f,g)},n.default.TypedDict=function(f,g){return f instanceof Object?this.data=f:(this.data={},this.data[f]=g),this},n.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},n.default.TypedDict.prototype.hasKey=function(f){return this.data.hasOwnProperty(f)},n.default.TypedDict.prototype.get=function(f){if(this.data.hasOwnProperty(f))return this.data[f];console.log("".concat(f," does not exist in this Dictionary"))},n.default.TypedDict.prototype.set=function(f,g){this._validate(g)?this.data[f]=g:console.log("Those values dont work for this dictionary type.")},n.default.TypedDict.prototype._addObj=function(f){for(var g in f)this.set(g,f[g])},n.default.TypedDict.prototype.create=function(f,g){f instanceof Object&&g===void 0?this._addObj(f):f!==void 0?this.set(f,g):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},n.default.TypedDict.prototype.clear=function(){this.data={}},n.default.TypedDict.prototype.remove=function(f){if(!this.data.hasOwnProperty(f))throw new Error("".concat(f," does not exist in this Dictionary"));delete this.data[f]},n.default.TypedDict.prototype.print=function(){for(var f in this.data)console.log("key:".concat(f," value:").concat(this.data[f]))},n.default.TypedDict.prototype.saveTable=function(f){var g="";for(var m in this.data)g+="".concat(m,",").concat(this.data[m],`
`);var i=new Blob([g],{type:"text/csv"});n.default.prototype.downloadFile(i,f||"mycsv","csv")},n.default.TypedDict.prototype.saveJSON=function(f,g){n.default.prototype.saveJSON(this.data,f,g)},n.default.TypedDict.prototype._validate=function(f){return!0},n.default.StringDict=function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];n.default.TypedDict.apply(this,g)},n.default.StringDict.prototype=Object.create(n.default.TypedDict.prototype),n.default.StringDict.prototype._validate=function(f){return typeof f=="string"},n.default.NumberDict=function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];n.default.TypedDict.apply(this,g)},n.default.NumberDict.prototype=Object.create(n.default.TypedDict.prototype),n.default.NumberDict.prototype._validate=function(f){return typeof f=="number"},n.default.NumberDict.prototype.add=function(f,g){this.data.hasOwnProperty(f)?this.data[f]+=g:console.log("The key - ".concat(f," does not exist in this dictionary."))},n.default.NumberDict.prototype.sub=function(f,g){this.add(f,-g)},n.default.NumberDict.prototype.mult=function(f,g){this.data.hasOwnProperty(f)?this.data[f]*=g:console.log("The key - ".concat(f," does not exist in this dictionary."))},n.default.NumberDict.prototype.div=function(f,g){this.data.hasOwnProperty(f)?this.data[f]/=g:console.log("The key - ".concat(f," does not exist in this dictionary."))},n.default.NumberDict.prototype._valueTest=function(f){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var g=this.data[Object.keys(this.data)[0]];for(var m in this.data)this.data[m]*f<g*f&&(g=this.data[m]);return g},n.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},n.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},n.default.NumberDict.prototype._keyTest=function(f){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var g=Object.keys(this.data)[0],m=1;m<Object.keys(this.data).length;m++)Object.keys(this.data)[m]*f<g*f&&(g=Object.keys(this.data)[m]);return g},n.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},n.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)};var p=n.default.TypedDict;u.default=p},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],280:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(s){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function f(s,a,c){(a._userNode?a._userNode:document.body).appendChild(s);var d=c?new n.default.MediaElement(s,a):new n.default.Element(s,a);return a._elements.push(d),d}function g(s,a,c,d){var y=document.createElement(a);typeof(c=c||"")=="string"&&(c=[c]);var w=!0,_=!1,S=void 0;try{for(var j,C=c[Symbol.iterator]();!(w=(j=C.next()).done);w=!0){var R=j.value,P=document.createElement("source");P.setAttribute("src",R),y.appendChild(P)}}catch(A){_=!0,S=A}finally{try{w||C.return==null||C.return()}finally{if(_)throw S}}typeof d=="function"&&y.addEventListener("canplaythrough",function A(){d(),y.removeEventListener("canplaythrough",A)});var I=f(y,s,!0);return I.loadedmetadata=!1,y.addEventListener("loadedmetadata",function(){I.width=y.videoWidth,I.height=y.videoHeight,I.elt.width===0&&(I.elt.width=y.videoWidth),I.elt.height===0&&(I.elt.height=y.videoHeight),I.presetPlaybackRate&&(I.elt.playbackRate=I.presetPlaybackRate,delete I.presetPlaybackRate),I.loadedmetadata=!0}),I}n.default.prototype.select=function(s,a){n.default._validateParameters("select",arguments);var c=this._getContainer(a).querySelector(s);return c?this._wrapElement(c):null},n.default.prototype.selectAll=function(s,a){n.default._validateParameters("selectAll",arguments);var c=[],d=this._getContainer(a).querySelectorAll(s);if(d)for(var y=0;y<d.length;y++){var w=this._wrapElement(d[y]);c.push(w)}return c},n.default.prototype._getContainer=function(s){var a=document;return typeof s=="string"?a=document.querySelector(s)||document:s instanceof n.default.Element?a=s.elt:s instanceof HTMLElement&&(a=s),a},n.default.prototype._wrapElement=function(s){var a=Array.prototype.slice.call(s.children);if(s.tagName!=="INPUT"||s.type!=="checkbox")return s.tagName==="VIDEO"||s.tagName==="AUDIO"?new n.default.MediaElement(s,this):s.tagName==="SELECT"?this.createSelect(new n.default.Element(s,this)):0<a.length&&a.every(function(d){return d.tagName==="INPUT"||d.tagName==="LABEL"})?this.createRadio(new n.default.Element(s,this)):new n.default.Element(s,this);var c=new n.default.Element(s,this);return c.checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},c},n.default.prototype.removeElements=function(s){n.default._validateParameters("removeElements",arguments),this._elements.filter(function(a){return!(a.elt instanceof HTMLCanvasElement)}).map(function(a){return a.remove()})},n.default.Element.prototype.changed=function(s){return n.default.Element._adjustListener("change",s,this),this},n.default.Element.prototype.input=function(s){return n.default.Element._adjustListener("input",s,this),this},n.default.prototype.createDiv=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",a=document.createElement("div");return a.innerHTML=s,f(a,this)},n.default.prototype.createP=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",a=document.createElement("p");return a.innerHTML=s,f(a,this)},n.default.prototype.createSpan=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",a=document.createElement("span");return a.innerHTML=s,f(a,this)},n.default.prototype.createImg=function(){n.default._validateParameters("createImg",arguments);var s,a=document.createElement("img"),c=arguments;return 1<c.length&&typeof c[1]=="string"&&(a.alt=c[1]),2<c.length&&typeof c[2]=="string"&&(a.crossOrigin=c[2]),a.src=c[0],s=f(a,this),a.addEventListener("load",function(){s.width=a.offsetWidth||a.width,s.height=a.offsetHeight||a.height;var d=c[c.length-1];typeof d=="function"&&d(s)}),s},n.default.prototype.createA=function(s,a,c){n.default._validateParameters("createA",arguments);var d=document.createElement("a");return d.href=s,d.innerHTML=a,c&&(d.target=c),f(d,this)},n.default.prototype.createSlider=function(s,a,c,d){n.default._validateParameters("createSlider",arguments);var y=document.createElement("input");return y.type="range",y.min=s,y.max=a,d===0?y.step=1e-18:d&&(y.step=d),typeof c=="number"&&(y.value=c),f(y,this)},n.default.prototype.createButton=function(s,a){n.default._validateParameters("createButton",arguments);var c=document.createElement("button");return c.innerHTML=s,a&&(c.value=a),f(c,this)},n.default.prototype.createCheckbox=function(){n.default._validateParameters("createCheckbox",arguments);var s=document.createElement("div"),a=document.createElement("input");a.type="checkbox";var c=document.createElement("label");c.appendChild(a),s.appendChild(c);var d=f(s,this);if(d.checked=function(){var w=d.elt.firstElementChild.getElementsByTagName("input")[0];if(w){if(arguments.length===0)return w.checked;w.checked=!!arguments[0]}return d},this.value=function(w){return d.value=w,this},arguments[0]){d.value(arguments[0]);var y=document.createElement("span");y.innerHTML=arguments[0],c.appendChild(y)}return arguments[1]&&(a.checked=!0),d},n.default.prototype.createSelect=function(){var s;n.default._validateParameters("createSelect",arguments);var a=arguments[0];if(a instanceof n.default.Element&&a.elt instanceof HTMLSelectElement)s=a,this.elt=a.elt;else if(a instanceof HTMLSelectElement)s=f(a,this),this.elt=a;else{var c=document.createElement("select");a&&typeof a=="boolean"&&c.setAttribute("multiple","true"),s=f(c,this),this.elt=c}return s.option=function(d,y){var w;if(d!==void 0){for(var _=0;_<this.elt.length;_+=1)if(this.elt[_].innerHTML===d){w=_;break}if(w!==void 0)y===!1?this.elt.remove(w):this.elt[w].value=y;else{var S=document.createElement("option");S.innerHTML=d,S.value=y===void 0?d:y,this.elt.appendChild(S),this._pInst._elements.push(S)}}},s.selected=function(d){if(d!==void 0){for(var y=0;y<this.elt.length;y+=1)this.elt[y].value.toString()===d.toString()&&(this.elt.selectedIndex=y);return this}if(this.elt.getAttribute("multiple")){var w=[],_=!0,S=!1,j=void 0;try{for(var C,R=this.elt.selectedOptions[Symbol.iterator]();!(_=(C=R.next()).done);_=!0){var P=C.value;w.push(P.value)}}catch(I){S=!0,j=I}finally{try{_||R.return==null||R.return()}finally{if(S)throw j}}return w}return this.elt.value},s.disable=function(d){if(typeof d=="string")for(var y=0;y<this.elt.length;y++)this.elt[y].value.toString()===d&&(this.elt[y].disabled=!0,this.elt[y].selected=!1);else this.elt.disabled=!0;return this},s},n.default.prototype.createRadio=function(){var s,a,c=arguments[0];c instanceof HTMLDivElement||c instanceof HTMLSpanElement?(s=c,typeof arguments[1]=="string"&&(a=arguments[1])):(typeof c=="string"&&(a=c),s=document.createElement("div"));var d=f(this.elt=s,this);d._name=a||"radioOption";function y(_){return _ instanceof HTMLInputElement&&_.type==="radio"}function w(_){return _ instanceof HTMLLabelElement}return d._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(_){return y(_)||w(_)&&y(_.firstElementChild)}).map(function(_){return y(_)?_:_.firstElementChild})},d.option=function(_,S){var j,C,R,P=!0,I=!1,A=void 0;try{for(var D,N=d._getOptionsArray()[Symbol.iterator]();!(P=(D=N.next()).done);P=!0){var L=D.value;if(L.value===_){j=L;break}}}catch(W){I=!0,A=W}finally{try{P||N.return==null||N.return()}finally{if(I)throw A}}return j===void 0&&((j=document.createElement("input")).setAttribute("type","radio"),j.setAttribute("value",_)),j.setAttribute("name",d._name),w(j.parentElement)?C=j.parentElement:(C=document.createElement("label")).insertAdjacentElement("afterbegin",j),C.lastElementChild instanceof HTMLSpanElement?R=C.lastElementChild:(R=document.createElement("span"),j.insertAdjacentElement("afterend",R)),R.innerHTML=S===void 0?_:S,this.elt.appendChild(C),j},d.remove=function(_){var S=!0,j=!1,C=void 0;try{for(var R,P=d._getOptionsArray()[Symbol.iterator]();!(S=(R=P.next()).done);S=!0){var I=R.value;if(I.value===_)return void(w(I.parentElement)?I.parentElement.remove():I.remove())}}catch(A){j=!0,C=A}finally{try{S||P.return==null||P.return()}finally{if(j)throw C}}},d.value=function(){var _="",S=!0,j=!1,C=void 0;try{for(var R,P=d._getOptionsArray()[Symbol.iterator]();!(S=(R=P.next()).done);S=!0){var I=R.value;if(I.checked){_=I.value;break}}}catch(A){j=!0,C=A}finally{try{S||P.return==null||P.return()}finally{if(j)throw C}}return _},d.selected=function(_){var S=null;if(_===void 0){var j=!0,C=!1,R=void 0;try{for(var P,I=d._getOptionsArray()[Symbol.iterator]();!(j=(P=I.next()).done);j=!0){var A=P.value;if(A.checked){S=A;break}}}catch(ue){C=!0,R=ue}finally{try{j||I.return==null||I.return()}finally{if(C)throw R}}}else{d._getOptionsArray().forEach(function(ue){ue.checked=!1,ue.removeAttribute("checked")});var D=!0,N=!1,L=void 0;try{for(var W,z=d._getOptionsArray()[Symbol.iterator]();!(D=(W=z.next()).done);D=!0){var le=W.value;le.value===_&&(le.setAttribute("checked",!0),le.checked=!0,S=le)}}catch(ue){N=!0,L=ue}finally{try{D||z.return==null||z.return()}finally{if(N)throw L}}}return S},d.disable=function(){var _=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],S=!0,j=!1,C=void 0;try{for(var R,P=d._getOptionsArray()[Symbol.iterator]();!(S=(R=P.next()).done);S=!0)R.value.setAttribute("disabled",_)}catch(I){j=!0,C=I}finally{try{S||P.return==null||P.return()}finally{if(j)throw C}}},d},n.default.prototype.createColorPicker=function(s){n.default._validateParameters("createColorPicker",arguments);var a,c=document.createElement("input");return c.type="color",s?s instanceof n.default.Color?c.value=s.toString("#rrggbb"):(n.default.prototype._colorMode="rgb",n.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},c.value=n.default.prototype.color(s).toString("#rrggbb")):c.value="#000000",(a=f(c,this)).color=function(){return s&&(s.mode&&(n.default.prototype._colorMode=s.mode),s.maxes&&(n.default.prototype._colorMaxes=s.maxes)),n.default.prototype.color(this.elt.value)},a},n.default.prototype.createInput=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text";n.default._validateParameters("createInput",arguments);var c=document.createElement("input");return c.setAttribute("value",s),c.setAttribute("type",a),f(c,this)},n.default.prototype.createFileInput=function(s){var a=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(n.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var c=document.createElement("input");return c.setAttribute("type","file"),a&&c.setAttribute("multiple",!0),c.addEventListener("change",function(d){var y=!0,w=!1,_=void 0;try{for(var S,j=d.target.files[Symbol.iterator]();!(y=(S=j.next()).done);y=!0){var C=S.value;n.default.File._load(C,s)}}catch(R){w=!0,_=R}finally{try{y||j.return==null||j.return()}finally{if(w)throw _}}},!1),f(c,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},n.default.prototype.createVideo=function(s,a){return n.default._validateParameters("createVideo",arguments),g(this,"video",s,a)},n.default.prototype.createAudio=function(s,a){return n.default._validateParameters("createAudio",arguments),g(this,"audio",s,a)},n.default.prototype.VIDEO="video",n.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(s){var a=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return a?new Promise(function(c,d){a.call(navigator,s,c,d)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),n.default.prototype.createCapture=function(){if(n.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var s,a,c=!0,d=!0,y=!0,w=!1,_=void 0;try{for(var S,j=arguments[Symbol.iterator]();!(y=(S=j.next()).done);y=!0){var C=S.value;C===n.default.prototype.VIDEO?d=!1:C===n.default.prototype.AUDIO?c=!1:p(C)==="object"?s=C:typeof C=="function"&&(a=C)}}catch(I){w=!0,_=I}finally{try{y||j.return==null||j.return()}finally{if(w)throw _}}s=s||{video:c,audio:d};var R=document.createElement("video");R.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(s).then(function(I){try{"srcObject"in R?R.srcObject=I:R.src=window.URL.createObjectURL(I)}catch{R.src=I}},console.log);var P=f(R,this,!0);return P.loadedmetadata=!1,R.addEventListener("loadedmetadata",function(){R.play(),R.width?(P.width=R.width,P.height=R.height):(P.width=P.elt.width=R.videoWidth,P.height=P.elt.height=R.videoHeight),P.loadedmetadata=!0,a&&a(R.srcObject)}),P},n.default.prototype.createElement=function(s,a){n.default._validateParameters("createElement",arguments);var c=document.createElement(s);return a!==void 0&&(c.innerHTML=a),f(c,this)},n.default.Element.prototype.addClass=function(s){return this.elt.className?this.hasClass(s)||(this.elt.className=this.elt.className+" "+s):this.elt.className=s,this},n.default.Element.prototype.removeClass=function(s){return this.elt.classList.remove(s),this},n.default.Element.prototype.hasClass=function(s){return this.elt.classList.contains(s)},n.default.Element.prototype.toggleClass=function(s){return this.elt.classList.contains(s)?this.elt.classList.remove(s):this.elt.classList.add(s),this},n.default.Element.prototype.child=function(s){return s===void 0?this.elt.childNodes:(typeof s=="string"?(s[0]==="#"&&(s=s.substring(1)),s=document.getElementById(s)):s instanceof n.default.Element&&(s=s.elt),s instanceof HTMLElement&&this.elt.appendChild(s),this)},n.default.Element.prototype.center=function(s){var a=this.elt.style.display,c=this.elt.style.display==="none",d=this.parent().style.display==="none",y={x:this.elt.offsetLeft,y:this.elt.offsetTop};c&&this.show(),d&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var w=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),_=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return s==="both"||s===void 0?this.position(w/2+this.parent().offsetLeft,_/2+this.parent().offsetTop):s==="horizontal"?this.position(w/2+this.parent().offsetLeft,y.y):s==="vertical"&&this.position(y.x,_/2+this.parent().offsetTop),this.style("display",a),c&&this.hide(),d&&this.parent().hide(),this},n.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},n.default.Element.prototype.position=function(){if(arguments.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var s="absolute";return arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"||(s=arguments[2]),this.elt.style.position=s,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},n.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var s="";return this.elt.style.transform&&(s=(s=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=s,this},n.default.Element.prototype._rotate=function(){var s="";return this.elt.style.transform&&(s=(s=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=s,this},n.default.Element.prototype.style=function(s,a){if(a instanceof n.default.Color&&(a="rgba("+a.levels[0]+","+a.levels[1]+","+a.levels[2]+","+a.levels[3]/255+")"),a===void 0){if(s.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(s);for(var c=s.split(";"),d=0;d<c.length;d++){var y=c[d].split(":");y[0]&&y[1]&&(this.elt.style[y[0].trim()]=y[1].trim())}}else if(this.elt.style[s]=a,s==="width"||s==="height"||s==="left"||s==="top"){var w=window.getComputedStyle(this.elt).getPropertyValue(s).replace(/\D+/g,"");this[s]=parseInt(w,10)}return this},n.default.Element.prototype.attribute=function(s,a){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return a===void 0?this.elt.getAttribute(s):(this.elt.setAttribute(s,a),this);if(a===void 0)return this.elt.firstChild.getAttribute(s);for(var c=0;c<this.elt.childNodes.length;c++)this.elt.childNodes[c].setAttribute(s,a)},n.default.Element.prototype.removeAttribute=function(s){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var a=0;a<this.elt.childNodes.length;a++)this.elt.childNodes[a].removeAttribute(s);return this.elt.removeAttribute(s),this},n.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},n.default.Element.prototype.show=function(){return this.elt.style.display="block",this},n.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},n.default.Element.prototype.size=function(s,a){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var c=s,d=a,y=n.default.prototype.AUTO;if(c!==y||d!==y){if(c===y?c=a*this.width/this.height:d===y&&(d=s*this.height/this.width),this.elt instanceof HTMLCanvasElement){var w,_={},S=this.elt.getContext("2d");for(w in S)_[w]=S[w];for(w in this.elt.setAttribute("width",c*this._pInst._pixelDensity),this.elt.setAttribute("height",d*this._pInst._pixelDensity),this.elt.style.width=c+"px",this.elt.style.height=d+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),_)this.elt.getContext("2d")[w]=_[w]}else this.elt.style.width=c+"px",this.elt.style.height=d+"px",this.elt.width=c,this.elt.height=d;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},n.default.Element.prototype.remove=function(){if(this instanceof n.default.MediaElement){this.stop();var s=this.elt.srcObject;s!==null&&s.getTracks().forEach(function(d){d.stop()})}var a=this._pInst._elements.indexOf(this);for(var c in a!==-1&&this._pInst._elements.splice(a,1),this._events)this.elt.removeEventListener(c,this._events[c]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},n.default.Element.prototype.drop=function(s,a){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var c=function(d){d.preventDefault()};this.elt.addEventListener("dragover",c),this.elt.addEventListener("dragleave",c)}n.default.Element._attachListener("drop",function(d){d.preventDefault(),typeof a=="function"&&a.call(this,d);for(var y=d.dataTransfer.files,w=0;w<y.length;w++){var _=y[w];n.default.File._load(_,s)}},this)}else console.log("The File APIs are not fully supported in this browser.");return this},n.default.MediaElement=function(s,a){n.default.Element.call(this,s,a);var c=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(c,"src",{get:function(){var d=c.elt.children[0].src,y=c.elt.src===window.location.href?"":c.elt.src;return d===window.location.href?y:d},set:function(d){for(var y=0;y<c.elt.children.length;y++)c.elt.removeChild(c.elt.children[y]);var w=document.createElement("source");w.src=d,s.appendChild(w),c.elt.src=d,c.modified=!0}}),c._onended=function(){},c.elt.onended=function(){c._onended(c)}},n.default.MediaElement.prototype=Object.create(n.default.Element.prototype),n.default.MediaElement.prototype.play=function(){var s,a=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),(s=(1<this.elt.readyState||this.elt.load(),this.elt.play()))&&s.catch&&s.catch(function(c){c.name==="NotAllowedError"?n.default._friendlyAutoplayError(a.src):console.error("Media play method encountered an unexpected error",c)}),this},n.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},n.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},n.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},n.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},n.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var s=this,a=setTimeout(function(){return n.default._friendlyAutoplayError(s.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(a)},{passive:!0,once:!0})},n.default.MediaElement.prototype.autoplay=function(s){var a=this,c=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",s),s&&!c){var d=function(){return a._setupAutoplayFailDetection()};this.elt.readyState===4?d():this.elt.addEventListener("canplay",d,{passive:!0,once:!0})}return this},n.default.MediaElement.prototype.volume=function(s){if(s===void 0)return this.elt.volume;this.elt.volume=s},n.default.MediaElement.prototype.speed=function(s){if(s===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=s:this.presetPlaybackRate=s},n.default.MediaElement.prototype.time=function(s){return s===void 0?this.elt.currentTime:(this.elt.currentTime=s,this)},n.default.MediaElement.prototype.duration=function(){return this.elt.duration},n.default.MediaElement.prototype.pixels=[],n.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},n.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),n.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},n.default.MediaElement.prototype.updatePixels=function(s,a,c,d){return this.loadedmetadata&&(this._ensureCanvas(),n.default.Renderer2D.prototype.updatePixels.call(this,s,a,c,d)),this.setModified(!0),this},n.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),n.default.Renderer2D.prototype.get.apply(this,arguments)},n.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),n.default.Renderer2D.prototype._getPixel.apply(this,arguments)},n.default.MediaElement.prototype.set=function(s,a,c){this.loadedmetadata&&(this._ensureCanvas(),n.default.Renderer2D.prototype.set.call(this,s,a,c),this.setModified(!0))},n.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),n.default.prototype.copy.apply(this,arguments)},n.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),n.default.Image.prototype.mask.apply(this,arguments)},n.default.MediaElement.prototype.isModified=function(){return this._modified},n.default.MediaElement.prototype.setModified=function(s){this._modified=s},n.default.MediaElement.prototype.onended=function(s){return this._onended=s,this},n.default.MediaElement.prototype.connect=function(s){var a,c;if(typeof n.default.prototype.getAudioContext=="function")a=n.default.prototype.getAudioContext(),c=n.default.soundOut.input;else try{c=(a=s.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=a.createMediaElementSource(this.elt),this.audioSourceNode.connect(c)),s?s.input?this.audioSourceNode.connect(s.input):this.audioSourceNode.connect(s):this.audioSourceNode.connect(c)},n.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},n.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},n.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function m(s,a,c,d){this.callback=s,this.time=a,this.id=c,this.val=d}n.default.MediaElement.prototype.addCue=function(s,a,c){var d=this._cueIDCounter++,y=new m(a,s,d,c);return this._cues.push(y),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),d},n.default.MediaElement.prototype.removeCue=function(s){for(var a=0;a<this._cues.length;a++)this._cues[a].id===s&&(console.log(s),this._cues.splice(a,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},n.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},n.default.MediaElement.prototype._onTimeUpdate=function(){for(var s=this.time(),a=0;a<this._cues.length;a++){var c=this._cues[a].time,d=this._cues[a].val;this._prevTime<c&&c<=s&&this._cues[a].callback(d)}this._prevTime=s},n.default.File=function(s,a){this.file=s,this._pInst=a;var c=s.type.split("/");this.type=c[0],this.subtype=c[1],this.name=s.name,this.size=s.size,this.data=void 0},n.default.File._createLoader=function(s,a){var c=new FileReader;return c.onload=function(d){var y=new n.default.File(s);if(y.file.type==="application/json")y.data=JSON.parse(d.target.result);else if(y.file.type==="text/xml"){var w=new DOMParser().parseFromString(d.target.result,"text/xml");y.data=new n.default.XML(w.documentElement)}else y.data=d.target.result;a(y)},c},n.default.File._load=function(s,a){if(/^text\//.test(s.type)||s.type==="application/json")n.default.File._createLoader(s,a).readAsText(s);else if(/^(video|audio)\//.test(s.type)){var c=new n.default.File(s);c.data=URL.createObjectURL(s),a(c)}else n.default.File._createLoader(s,a).readAsDataURL(s)};var i=n.default;u.default=i},{"../core/main":264,"core-js/modules/es.array.every":150,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231}],281:[function(e,l,u){function h(S){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(S)}Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(S){if(S&&S.__esModule)return S;if(S===null||h(S)!=="object"&&typeof S!="function")return{default:S};var j=g();if(j&&j.has(S))return j.get(S);var C={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in S)if(Object.prototype.hasOwnProperty.call(S,P)){var I=R?Object.getOwnPropertyDescriptor(S,P):null;I&&(I.get||I.set)?Object.defineProperty(C,P,I):C[P]=S[P]}return C.default=S,j&&j.set(S,C),C}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return g=function(){return S},S}p.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",p.default.prototype.accelerationX=0,p.default.prototype.accelerationY=0,p.default.prototype.accelerationZ=0,p.default.prototype.pAccelerationX=0,p.default.prototype.pAccelerationY=0,p.default.prototype.pAccelerationZ=0,p.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},p.default.prototype.rotationX=0,p.default.prototype.rotationY=0,p.default.prototype.rotationZ=0,p.default.prototype.pRotationX=0,p.default.prototype.pRotationY=0;var m=p.default.prototype.pRotationZ=0,i=0,s=0,a="clockwise",c="clockwise",d="clockwise";p.default.prototype.pRotateDirectionX=void 0,p.default.prototype.pRotateDirectionY=void 0,p.default.prototype.pRotateDirectionZ=void 0,p.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},p.default.prototype.turnAxis=void 0;var y=.5,w=30;p.default.prototype.setMoveThreshold=function(S){p.default._validateParameters("setMoveThreshold",arguments),y=S},p.default.prototype.setShakeThreshold=function(S){p.default._validateParameters("setShakeThreshold",arguments),w=S},p.default.prototype._ondeviceorientation=function(S){this._updatePRotations(),this._angleMode===f.radians&&(S.beta=S.beta*(_PI/180),S.gamma=S.gamma*(_PI/180),S.alpha=S.alpha*(_PI/180)),this._setProperty("rotationX",S.beta),this._setProperty("rotationY",S.gamma),this._setProperty("rotationZ",S.alpha),this._handleMotion()},p.default.prototype._ondevicemotion=function(S){this._updatePAccelerations(),this._setProperty("accelerationX",2*S.acceleration.x),this._setProperty("accelerationY",2*S.acceleration.y),this._setProperty("accelerationZ",2*S.acceleration.z),this._handleMotion()},p.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var S,j,C=this._isGlobal?window:this;if(typeof C.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>y||Math.abs(this.accelerationY-this.pAccelerationY)>y||Math.abs(this.accelerationZ-this.pAccelerationZ)>y)&&C.deviceMoved(),typeof C.deviceTurned=="function"){var R=this.rotationX+180,P=this.pRotationX+180,I=m+180;0<R-P&&R-P<270||R-P<-270?a="clockwise":(R-P<0||270<R-P)&&(a="counter-clockwise"),a!==this.pRotateDirectionX&&(I=R),90<Math.abs(R-I)&&Math.abs(R-I)<270&&(I=R,this._setProperty("turnAxis","X"),C.deviceTurned()),this.pRotateDirectionX=a,m=I-180;var A=this.rotationY+180,D=this.pRotationY+180,N=i+180;0<A-D&&A-D<270||A-D<-270?c="clockwise":(A-D<0||270<A-this.pRotationY)&&(c="counter-clockwise"),c!==this.pRotateDirectionY&&(N=A),90<Math.abs(A-N)&&Math.abs(A-N)<270&&(N=A,this._setProperty("turnAxis","Y"),C.deviceTurned()),this.pRotateDirectionY=c,i=N-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?d="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(d="counter-clockwise"),d!==this.pRotateDirectionZ&&(s=this.rotationZ),90<Math.abs(this.rotationZ-s)&&Math.abs(this.rotationZ-s)<270&&(s=this.rotationZ,this._setProperty("turnAxis","Z"),C.deviceTurned()),this.pRotateDirectionZ=d,this._setProperty("turnAxis",void 0)}typeof C.deviceShaken=="function"&&(this.pAccelerationX!==null&&(S=Math.abs(this.accelerationX-this.pAccelerationX),j=Math.abs(this.accelerationY-this.pAccelerationY)),w<S+j&&C.deviceShaken())};var _=p.default;u.default=_},{"../core/constants":253,"../core/main":264}],282:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.prototype.isKeyPressed=!1,n.default.prototype.keyIsPressed=!1,n.default.prototype.key="",n.default.prototype.keyCode=0,n.default.prototype._onkeydown=function(f){if(!this._downKeys[f.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",f.which),this._downKeys[f.which]=!0,this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which);var g=this._isGlobal?window:this;typeof g.keyPressed=="function"&&!f.charCode&&g.keyPressed(f)===!1&&f.preventDefault()}},n.default.prototype._onkeyup=function(f){this._downKeys[f.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which),this._setProperty("keyCode",f.which);var g=this._isGlobal?window:this;typeof g.keyReleased=="function"&&g.keyReleased(f)===!1&&f.preventDefault()},n.default.prototype._onkeypress=function(f){if(f.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",f.which),this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which);var g=this._isGlobal?window:this;typeof g.keyTyped=="function"&&g.keyTyped(f)===!1&&f.preventDefault()}},n.default.prototype._onblur=function(f){this._downKeys={}},n.default.prototype.keyIsDown=function(f){return n.default._validateParameters("keyIsDown",arguments),this._downKeys[f]||!1},n.default.prototype._areDownKeys=function(){for(var f in this._downKeys)if(this._downKeys.hasOwnProperty(f)&&this._downKeys[f]===!0)return!0;return!1};var p=n.default;u.default=p},{"../core/main":264}],283:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=g();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.prototype.movedX=0,p.default.prototype.movedY=0,p.default.prototype._hasMouseInteracted=!1,p.default.prototype.mouseX=0,p.default.prototype.mouseY=0,p.default.prototype.pmouseX=0,p.default.prototype.pmouseY=0,p.default.prototype.winMouseX=0,p.default.prototype.winMouseY=0,p.default.prototype.pwinMouseX=0,p.default.prototype.pwinMouseY=0,p.default.prototype.mouseButton=0,p.default.prototype.mouseIsPressed=!1,p.default.prototype._updateNextMouseCoords=function(i){if(this._curElement!==null&&(!i.touches||0<i.touches.length)){var s=function(a,c,d,y){y&&!y.clientX&&(y.touches?y=y.touches[0]:y.changedTouches&&(y=y.changedTouches[0]));var w=a.getBoundingClientRect(),_=a.scrollWidth/c||1,S=a.scrollHeight/d||1;return{x:(y.clientX-w.left)/_,y:(y.clientY-w.top)/S,winX:y.clientX,winY:y.clientY,id:y.identifier}}(this._curElement.elt,this.width,this.height,i);this._setProperty("movedX",i.movementX),this._setProperty("movedY",i.movementY),this._setProperty("mouseX",s.x),this._setProperty("mouseY",s.y),this._setProperty("winMouseX",s.winX),this._setProperty("winMouseY",s.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},p.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},p.default.prototype._setMouseButton=function(i){i.button===1?this._setProperty("mouseButton",f.CENTER):i.button===2?this._setProperty("mouseButton",f.RIGHT):this._setProperty("mouseButton",f.LEFT)},p.default.prototype._onmousemove=function(i){var s=this._isGlobal?window:this;this._updateNextMouseCoords(i),this.mouseIsPressed?typeof s.mouseDragged=="function"?s.mouseDragged(i)===!1&&i.preventDefault():typeof s.touchMoved=="function"&&s.touchMoved(i)===!1&&i.preventDefault():typeof s.mouseMoved=="function"&&s.mouseMoved(i)===!1&&i.preventDefault()},p.default.prototype._onmousedown=function(i){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(i),this._updateNextMouseCoords(i),typeof s.mousePressed=="function"?s.mousePressed(i)===!1&&i.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof s.touchStarted=="function"&&s.touchStarted(i)===!1&&i.preventDefault()},p.default.prototype._onmouseup=function(i){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof s.mouseReleased=="function"?s.mouseReleased(i)===!1&&i.preventDefault():typeof s.touchEnded=="function"&&s.touchEnded(i)===!1&&i.preventDefault()},p.default.prototype._ondragend=p.default.prototype._onmouseup,p.default.prototype._ondragover=p.default.prototype._onmousemove,p.default.prototype._onclick=function(i){var s=this._isGlobal?window:this;typeof s.mouseClicked=="function"&&s.mouseClicked(i)===!1&&i.preventDefault()},p.default.prototype._ondblclick=function(i){var s=this._isGlobal?window:this;typeof s.doubleClicked=="function"&&s.doubleClicked(i)===!1&&i.preventDefault()},p.default.prototype._mouseWheelDeltaY=0,p.default.prototype._pmouseWheelDeltaY=0,p.default.prototype._onwheel=function(i){var s=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",i.deltaY),typeof s.mouseWheel=="function"&&(i.delta=i.deltaY,s.mouseWheel(i)===!1&&i.preventDefault())},p.default.prototype.requestPointerLock=function(){var i=this._curElement.elt;return i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock,i.requestPointerLock?(i.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},p.default.prototype.exitPointerLock=function(){document.exitPointerLock()};var m=p.default;u.default=m},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],284:[function(e,l,u){e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(g,m,i,s,a){var c=4<arguments.length&&a!==void 0?a:0,d=g.getBoundingClientRect(),y=g.scrollWidth/m||1,w=g.scrollHeight/i||1,_=s.touches[c]||s.changedTouches[c];return{x:(_.clientX-d.left)/y,y:(_.clientY-d.top)/w,winX:_.clientX,winY:_.clientY,id:_.identifier}}n.default.prototype.touches=[],n.default.prototype._updateTouchCoords=function(g){if(this._curElement!==null){for(var m=[],i=0;i<g.touches.length;i++)m[i]=p(this._curElement.elt,this.width,this.height,g,i);this._setProperty("touches",m)}},n.default.prototype._ontouchstart=function(g){var m=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(g),this._updateNextMouseCoords(g),this._updateMouseCoords(),typeof m.touchStarted=="function"?m.touchStarted(g)===!1&&g.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof m.mousePressed=="function"&&m.mousePressed(g)===!1&&g.preventDefault()},n.default.prototype._ontouchmove=function(g){var m=this._isGlobal?window:this;this._updateTouchCoords(g),this._updateNextMouseCoords(g),typeof m.touchMoved=="function"?m.touchMoved(g)===!1&&g.preventDefault():typeof m.mouseDragged=="function"&&m.mouseDragged(g)===!1&&g.preventDefault()},n.default.prototype._ontouchend=function(g){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(g),this._updateNextMouseCoords(g);var m=this._isGlobal?window:this;typeof m.touchEnded=="function"?m.touchEnded(g)===!1&&g.preventDefault():typeof m.mouseReleased=="function"&&m.mouseReleased(g)===!1&&g.preventDefault()};var f=n.default;u.default=f},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],285:[function(e,l,u){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n,p,f,g={};function m(s,a){for(var c,d,y,w,_,S,j,C,R,P,I=g._toPixels(s),A=s.width,D=s.height,N=A*D,L=new Int32Array(N),W=0;W<N;W++)L[W]=g._getARGB(I,W);var z,le,ue,J,ce=new Int32Array(N),se=new Int32Array(N),ge=new Int32Array(N),_e=new Int32Array(N),Ce=0;for(function(Ie){var Se=3.5*Ie|0;if(h!==(Se=Se<1?1:Se<248?Se:248)){n=1+(h=Se)<<1,p=new Int32Array(n),f=new Array(n);for(var Te=0;Te<n;Te++)f[Te]=new Int32Array(256);for(var O,V,X,ee,B=1,U=Se-1;B<Se;B++){p[Se+B]=p[U]=V=U*U,X=f[Se+B],ee=f[U--];for(var re=0;re<256;re++)X[re]=ee[re]=V*re}O=p[Se]=Se*Se,X=f[Se];for(var $=0;$<256;$++)X[$]=O*$}}(a),le=0;le<D;le++){for(z=0;z<A;z++){if(w=y=d=_=c=0,(S=z-h)<0)P=-S,S=0;else{if(A<=S)break;P=0}for(ue=P;ue<n&&!(A<=S);ue++){var be=L[S+Ce];_+=(J=f[ue])[(-16777216&be)>>>24],d+=J[(16711680&be)>>16],y+=J[(65280&be)>>8],w+=J[255&be],c+=p[ue],S++}ce[j=Ce+z]=_/c,se[j]=d/c,ge[j]=y/c,_e[j]=w/c}Ce+=A}for(R=(C=-h)*A,le=Ce=0;le<D;le++){for(z=0;z<A;z++){if(w=y=d=_=c=0,C<0)P=j=-C,S=z;else{if(D<=C)break;P=0,j=C,S=z+R}for(ue=P;ue<n&&!(D<=j);ue++)_+=(J=f[ue])[ce[S]],d+=J[se[S]],y+=J[ge[S]],w+=J[_e[S]],c+=p[ue],j++,S+=A;L[z+Ce]=_/c<<24|d/c<<16|y/c<<8|w/c}Ce+=A,R+=A,C++}g._setPixels(I,L)}g._toPixels=function(s){if(s instanceof ImageData)return s.data;if(s.getContext("2d"))return s.getContext("2d").getImageData(0,0,s.width,s.height).data;if(s.getContext("webgl")){var a=s.getContext("webgl"),c=a.drawingBufferWidth*a.drawingBufferHeight*4,d=new Uint8Array(c);return a.readPixels(0,0,s.width,s.height,a.RGBA,a.UNSIGNED_BYTE,d),d}},g._getARGB=function(s,a){var c=4*a;return s[3+c]<<24&4278190080|s[c]<<16&16711680|s[1+c]<<8&65280|255&s[2+c]},g._setPixels=function(s,a){for(var c=0,d=0,y=s.length;d<y;d++)s[(c=4*d)+0]=(16711680&a[d])>>>16,s[c+1]=(65280&a[d])>>>8,s[c+2]=255&a[d],s[c+3]=(4278190080&a[d])>>>24},g._toImageData=function(s){return s instanceof ImageData?s:s.getContext("2d").getImageData(0,0,s.width,s.height)},g._createImageData=function(s,a){return g._tmpCanvas=document.createElement("canvas"),g._tmpCtx=g._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(s,a)},g.apply=function(s,a,c){var d=s.getContext("2d"),y=d.getImageData(0,0,s.width,s.height),w=a(y,c);w instanceof ImageData?d.putImageData(w,0,0,0,0,s.width,s.height):d.putImageData(y,0,0,0,0,s.width,s.height)},g.threshold=function(s,a){var c=g._toPixels(s);a===void 0&&(a=.5);for(var d=Math.floor(255*a),y=0;y<c.length;y+=4){var w=void 0;w=d<=.2126*c[y]+.7152*c[y+1]+.0722*c[y+2]?255:0,c[y]=c[y+1]=c[y+2]=w}},g.gray=function(s){for(var a=g._toPixels(s),c=0;c<a.length;c+=4){var d=.2126*a[c]+.7152*a[c+1]+.0722*a[c+2];a[c]=a[c+1]=a[c+2]=d}},g.opaque=function(s){for(var a=g._toPixels(s),c=0;c<a.length;c+=4)a[c+3]=255;return a},g.invert=function(s){for(var a=g._toPixels(s),c=0;c<a.length;c+=4)a[c]=255-a[c],a[c+1]=255-a[c+1],a[c+2]=255-a[c+2]},g.posterize=function(s,a){var c=g._toPixels(s);if(a<2||255<a)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var d=a-1,y=0;y<c.length;y+=4){var w=c[y],_=c[y+1],S=c[y+2];c[y]=255*(w*a>>8)/d,c[y+1]=255*(_*a>>8)/d,c[y+2]=255*(S*a>>8)/d}},g.dilate=function(s){for(var a,c,d,y,w,_,S,j,C,R,P,I,A,D,N,L,W,z=g._toPixels(s),le=0,ue=z.length?z.length/4:0,J=new Int32Array(ue);le<ue;)for(c=(a=le)+s.width;le<c;)d=y=g._getARGB(z,le),(S=le-1)<a&&(S=le),c<=(_=le+1)&&(_=le),(j=le-s.width)<0&&(j=0),ue<=(C=le+s.width)&&(C=le),I=g._getARGB(z,j),P=g._getARGB(z,S),A=g._getARGB(z,C),(w=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(N=77*(P>>16&255)+151*(P>>8&255)+28*(255&P))&&(y=P,w=N),w<(D=77*((R=g._getARGB(z,_))>>16&255)+151*(R>>8&255)+28*(255&R))&&(y=R,w=D),w<(L=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))&&(y=I,w=L),w<(W=77*(A>>16&255)+151*(A>>8&255)+28*(255&A))&&(y=A,w=W),J[le++]=y;g._setPixels(z,J)},g.erode=function(s){for(var a,c,d,y,w,_,S,j,C,R,P,I,A,D,N,L,W,z=g._toPixels(s),le=0,ue=z.length?z.length/4:0,J=new Int32Array(ue);le<ue;)for(c=(a=le)+s.width;le<c;)d=y=g._getARGB(z,le),(S=le-1)<a&&(S=le),c<=(_=le+1)&&(_=le),(j=le-s.width)<0&&(j=0),ue<=(C=le+s.width)&&(C=le),I=g._getARGB(z,j),P=g._getARGB(z,S),A=g._getARGB(z,C),(N=77*(P>>16&255)+151*(P>>8&255)+28*(255&P))<(w=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(y=P,w=N),(D=77*((R=g._getARGB(z,_))>>16&255)+151*(R>>8&255)+28*(255&R))<w&&(y=R,w=D),(L=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))<w&&(y=I,w=L),(W=77*(A>>16&255)+151*(A>>8&255)+28*(255&A))<w&&(y=A,w=W),J[le++]=y;g._setPixels(z,J)},g.blur=function(s,a){m(s,a)};var i=g;u.default=i},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],286:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h=p(e("../core/main")),n=p(e("omggif"));function p(m){return m&&m.__esModule?m:{default:m}}function f(m){return function(i){if(Array.isArray(i)){for(var s=0,a=new Array(i.length);s<i.length;s++)a[s]=i[s];return a}}(m)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}h.default.prototype.createImage=function(m,i){return h.default._validateParameters("createImage",arguments),new h.default.Image(m,i)},h.default.prototype.saveCanvas=function(){h.default._validateParameters("saveCanvas",arguments);var m,i,s,a,c=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(m=arguments[0],c.shift()):arguments[0]instanceof h.default.Element?(m=arguments[0].elt,c.shift()):m=this._curElement&&this._curElement.elt,1<=c.length&&(i=c[0]),2<=c.length&&(s=c[1]),s=s||h.default.prototype._checkFileExtension(i,s)[1]||"png"){default:a="image/png";break;case"jpeg":case"jpg":a="image/jpeg"}m.toBlob(function(d){h.default.prototype.downloadFile(d,i,s)},a)},h.default.prototype.saveGif=function(m,i){var s=m.gifProperties,a=s.loopLimit;a===1?a=null:a===null&&(a=0);for(var c=new Uint8Array(m.width*m.height*s.numFrames),d=[],y={},w=0;w<s.numFrames;w++){for(var _=new Set,S=s.frames[w].image.data,j=S.length,C=new Uint32Array(m.width*m.height),R=0,P=0;R<j;R+=4,P++){var I=S[R+0]<<16|S[R+1]<<8|S[R+2]<<0;_.add(I),C[P]=I}var A=f(_).sort().toString();y[A]===void 0?y[A]={freq:1,frames:[w]}:(y[A].freq+=1,y[A].frames.push(w)),d.push(C)}var D=[],N=Object.keys(y).sort(function(Te,O){return y[O].freq-y[Te].freq}),L=N[0].split(",").map(function(Te){return parseInt(Te)});D=D.concat(y[L].frames);for(var W=new Set(L),z=1;z<N.length;z++){var le=N[z].split(",").map(function(Te){return parseInt(Te)}).filter(function(Te){return!W.has(Te)});if(L.length+le.length<=256){for(var ue=0;ue<le.length;ue++)L.push(le[ue]),W.add(le[ue]);D=D.concat(y[N[z]].frames)}}D=new Set(D);for(var J={},ce=0;ce<L.length;ce++)J[L[ce]]||(J[L[ce]]=ce);for(var se=1;se<L.length;)se<<=1;L.length=se;for(var ge={loop:a,palette:new Uint32Array(L)},_e=new n.default.GifWriter(c,m.width,m.height,ge),Ce={},be=function(Te){for(var O=!D.has(Te),V=O?[]:L,X=new Uint8Array(m.width*m.height),ee={},B=new Set,U=0;U<d[Te].length;U++){var re=d[Te][U];O?(ee[re]===void 0&&(ee[re]=V.length,V.push(re)),X[U]=ee[re]):X[U]=J[re],0<Te&&d[Te-1][U]!==re&&B.add(re)}var $={},ne=V.filter(function(fe){return!B.has(fe)});if(0<ne.length){var ie=ne[0],oe=O?ee[ie]:J[ie];if(0<Te){for(var me=0;me<d[Te].length;me++)d[Te-1][me]===d[Te][me]&&(X[me]=oe);$.transparent=oe,Ce.frameOpts.disposal=1}}if($.delay=s.frames[Te].delay/10,O){for(var ye=1;ye<V.length;)ye<<=1;V.length=ye,$.palette=new Uint32Array(V)}0<Te&&_e.addFrame(0,0,m.width,m.height,Ce.pixelPaletteIndex,Ce.frameOpts),Ce={pixelPaletteIndex:X,frameOpts:$}},Ie=0;Ie<s.numFrames;Ie++)be(Ie);Ce.frameOpts.disposal=1,_e.addFrame(0,0,m.width,m.height,Ce.pixelPaletteIndex,Ce.frameOpts);var Se=new Blob([c.slice(0,_e.end())],{type:"image/gif"});h.default.prototype.downloadFile(Se,i,"gif")},h.default.prototype.saveFrames=function(m,i,s,a,c){h.default._validateParameters("saveFrames",arguments);var d=s||3;d=h.default.prototype.constrain(d,0,15),d*=1e3;var y=a||15;y=h.default.prototype.constrain(y,0,22);var w=0,_=h.default.prototype._makeFrame,S=this._curElement.elt,j=[],C=setInterval(function(){j.push(_(m+w,i,S)),w++},1e3/y);setTimeout(function(){if(clearInterval(C),c)c(j);else{var R=!0,P=!1,I=void 0;try{for(var A,D=j[Symbol.iterator]();!(R=(A=D.next()).done);R=!0){var N=A.value;h.default.prototype.downloadFile(N.imageData,N.filename,N.ext)}}catch(L){P=!0,I=L}finally{try{R||D.return==null||D.return()}finally{if(P)throw I}}}j=[]},d+.01)},h.default.prototype._makeFrame=function(m,i,s){var a,c;if(a=this?this._curElement.elt:s,i)switch(i.toLowerCase()){case"png":c="image/png";break;case"jpeg":case"jpg":c="image/jpeg";break;default:c="image/png"}else i="png",c="image/png";var d=a.toDataURL(c);d=d.replace(c,"image/octet-stream");var y={};return y.imageData=d,y.filename=m,y.ext=i,y};var g=h.default;u.default=g},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,omggif:238}],287:[function(e,l,u){function h(d){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(d)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n=s(e("../core/main")),p=s(e("./filters")),f=s(e("../core/helpers")),g=function(d){if(d&&d.__esModule)return d;if(d===null||h(d)!=="object"&&typeof d!="function")return{default:d};var y=i();if(y&&y.has(d))return y.get(d);var w={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in d)if(Object.prototype.hasOwnProperty.call(d,S)){var j=_?Object.getOwnPropertyDescriptor(d,S):null;j&&(j.get||j.set)?Object.defineProperty(w,S,j):w[S]=d[S]}return w.default=d,y&&y.set(d,w),w}(e("../core/constants")),m=s(e("omggif"));function i(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return i=function(){return d},d}function s(d){return d&&d.__esModule?d:{default:d}}function a(d,y){return 0<d&&d<y?d:y}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),n.default.prototype.loadImage=function(d,y,w){n.default._validateParameters("loadImage",arguments);var _=new n.default.Image(1,1,this),S=this,j=new Request(d,{method:"GET",mode:"cors"});return fetch(d,j).then(function(C){var R=C.headers.get("content-type");if(R===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),R&&R.includes("image/gif"))C.arrayBuffer().then(function(I){I&&function(A,D,N,L,W){var z=new m.default.GifReader(A);D.width=D.canvas.width=z.width,D.height=D.canvas.height=z.height;var le=[],ue=z.numFrames(),J=new Uint8ClampedArray(D.width*D.height*4);if(1<ue){for(var ce=function(Se,Te){try{Te.decodeAndBlitFrameRGBA(Se,J)}catch(O){n.default._friendlyFileLoadError(8,D.src),typeof L=="function"?L(O):console.error(O)}},se=0;se<ue;se++){var ge=z.frameInfo(se),_e=D.drawingContext.getImageData(0,0,D.width,D.height);J=_e.data.slice(),ce(se,z);var Ce=new ImageData(J,D.width,D.height);D.drawingContext.putImageData(Ce,0,0);var be=ge.delay;be===0&&(be=10),le.push({image:D.drawingContext.getImageData(0,0,D.width,D.height),delay:10*be}),ge.disposal===2?D.drawingContext.clearRect(ge.x,ge.y,ge.width,ge.height):ge.disposal===3&&D.drawingContext.putImageData(_e,0,0,ge.x,ge.y,ge.width,ge.height)}var Ie=z.loopCount();Ie===null?Ie=1:Ie===0&&(Ie=null),D.drawingContext.putImageData(le[0].image,0,0),D.gifProperties={displayIndex:0,loopLimit:Ie,loopCount:0,frames:le,numFrames:ue,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof N=="function"&&N(D),W()}(new Uint8Array(I),_,y,w,function(A){S._decrementPreload()}.bind(S))},function(I){typeof w=="function"?w(I):console.error(I)});else{var P=new Image;P.onload=function(){_.width=_.canvas.width=P.width,_.height=_.canvas.height=P.height,_.drawingContext.drawImage(P,0,0),_.modified=!0,typeof y=="function"&&y(_),S._decrementPreload()},P.onerror=function(I){n.default._friendlyFileLoadError(0,P.src),typeof w=="function"?w(I):console.error(I)},d.indexOf("data:image/")!==0&&(P.crossOrigin="Anonymous"),P.src=d}_.modified=!0}).catch(function(C){n.default._friendlyFileLoadError(0,d),typeof w=="function"?w(C):console.error(C)}),_},n.default.prototype.image=function(d,y,w,_,S,j,C,R,P){n.default._validateParameters("image",arguments);var I=d.width,A=d.height;d.elt&&d.elt.videoWidth&&!d.canvas&&(I=d.elt.videoWidth,A=d.elt.videoHeight);var D=y,N=w,L=_||I,W=S||A,z=j||0,le=C||0,ue=R||I,J=P||A;ue=a(ue,I),J=a(J,A);var ce=1;d.elt&&!d.canvas&&d.elt.style.width&&(ce=d.elt.videoWidth&&!_?d.elt.videoWidth:d.elt.width,ce/=parseInt(d.elt.style.width,10)),z*=ce,le*=ce,J*=ce,ue*=ce;var se=f.default.modeAdjust(D,N,L,W,this._renderer._imageMode);this._renderer.image(d,z,le,ue,J,se.x,se.y,se.w,se.h)},n.default.prototype.tint=function(){for(var d=arguments.length,y=new Array(d),w=0;w<d;w++)y[w]=arguments[w];n.default._validateParameters("tint",y);var _=this.color.apply(this,y);this._renderer._tint=_.levels},n.default.prototype.noTint=function(){this._renderer._tint=null},n.default.prototype._getTintedImageCanvas=function(d){if(!d.canvas)return d;var y=p.default._toPixels(d.canvas),w=document.createElement("canvas");w.width=d.canvas.width,w.height=d.canvas.height;for(var _=w.getContext("2d"),S=_.createImageData(d.canvas.width,d.canvas.height),j=S.data,C=0;C<y.length;C+=4){var R=y[C],P=y[C+1],I=y[C+2],A=y[C+3];j[C]=R*this._renderer._tint[0]/255,j[C+1]=P*this._renderer._tint[1]/255,j[C+2]=I*this._renderer._tint[2]/255,j[C+3]=A*this._renderer._tint[3]/255}return _.putImageData(S,0,0),w},n.default.prototype.imageMode=function(d){n.default._validateParameters("imageMode",arguments),d!==g.CORNER&&d!==g.CORNERS&&d!==g.CENTER||(this._renderer._imageMode=d)};var c=n.default;u.default=c},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/helpers":260,"../core/main":264,"./filters":285,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.includes":185,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,omggif:238}],288:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h=p(e("../core/main")),n=p(e("./filters"));function p(g){return g&&g.__esModule?g:{default:g}}h.default.Image=function(g,m){this.width=g,this.height=m,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},h.default.Image.prototype._animateGif=function(g){var m=this.gifProperties,i=g._lastFrameTime;if(m.lastChangeTime===0&&(m.lastChangeTime=i),m.playing){m.timeDisplayed=i-m.lastChangeTime;var s=m.frames[m.displayIndex].delay;if(m.timeDisplayed>=s){var a=Math.floor(m.timeDisplayed/s);if(m.timeDisplayed=0,m.lastChangeTime=i,m.displayIndex+=a,m.loopCount=Math.floor(m.displayIndex/m.numFrames),m.loopLimit!==null&&m.loopCount>=m.loopLimit)m.playing=!1;else{var c=m.displayIndex%m.numFrames;this.drawingContext.putImageData(m.frames[c].image,0,0),m.displayIndex=c,this.setModified(!0)}}}},h.default.Image.prototype._setProperty=function(g,m){this[g]=m,this.setModified(!0)},h.default.Image.prototype.loadPixels=function(){h.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},h.default.Image.prototype.updatePixels=function(g,m,i,s){h.default.Renderer2D.prototype.updatePixels.call(this,g,m,i,s),this.setModified(!0)},h.default.Image.prototype.get=function(g,m,i,s){return h.default._validateParameters("p5.Image.get",arguments),h.default.Renderer2D.prototype.get.apply(this,arguments)},h.default.Image.prototype._getPixel=h.default.Renderer2D.prototype._getPixel,h.default.Image.prototype.set=function(g,m,i){h.default.Renderer2D.prototype.set.call(this,g,m,i),this.setModified(!0)},h.default.Image.prototype.resize=function(g,m){g===0&&m===0?(g=this.canvas.width,m=this.canvas.height):g===0?g=this.canvas.width*m/this.canvas.height:m===0&&(m=this.canvas.height*g/this.canvas.width),g=Math.floor(g),m=Math.floor(m);var i=document.createElement("canvas");if(i.width=g,i.height=m,this.gifProperties)for(var s=this.gifProperties,a=function(y,w){for(var _=0,S=0;S<w.height;S++)for(var j=0;j<w.width;j++){var C=Math.floor(j*y.width/w.width),R=4*(Math.floor(S*y.height/w.height)*y.width+C);w.data[_++]=y.data[R++],w.data[_++]=y.data[R++],w.data[_++]=y.data[R++],w.data[_++]=y.data[R++]}},c=0;c<s.numFrames;c++){var d=this.drawingContext.createImageData(g,m);a(s.frames[c].image,d),s.frames[c].image=d}i.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,i.width,i.height),this.canvas.width=this.width=g,this.canvas.height=this.height=m,this.drawingContext.drawImage(i,0,0,g,m,0,0,g,m),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},h.default.Image.prototype.copy=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];h.default.prototype.copy.apply(this,m)},h.default.Image.prototype.mask=function(g){g===void 0&&(g=this);var m=this.drawingContext.globalCompositeOperation,i=1;g instanceof h.default.Renderer&&(i=g._pInst._pixelDensity);var s=[g,0,0,i*g.width,i*g.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",h.default.Image.prototype.copy.apply(this,s),this.drawingContext.globalCompositeOperation=m,this.setModified(!0)},h.default.Image.prototype.filter=function(g,m){n.default.apply(this.canvas,n.default[g],m),this.setModified(!0)},h.default.Image.prototype.blend=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];h.default._validateParameters("p5.Image.blend",arguments),h.default.prototype.blend.apply(this,m),this.setModified(!0)},h.default.Image.prototype.setModified=function(g){this._modified=g},h.default.Image.prototype.isModified=function(){return this._modified},h.default.Image.prototype.save=function(g,m){this.gifProperties?h.default.prototype.saveGif(this,g):h.default.prototype.saveCanvas(this.canvas,g,m)},h.default.Image.prototype.reset=function(){if(this.gifProperties){var g=this.gifProperties;g.playing=!0,g.timeSinceStart=0,g.timeDisplayed=0,g.lastChangeTime=0,g.loopCount=0,g.displayIndex=0,this.drawingContext.putImageData(g.frames[0].image,0,0)}},h.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var g=this.gifProperties;return g.displayIndex%g.numFrames}},h.default.Image.prototype.setFrame=function(g){if(this.gifProperties){var m=this.gifProperties;g<m.numFrames&&0<=g?(m.timeDisplayed=0,m.lastChangeTime=0,m.displayIndex=g,this.drawingContext.putImageData(m.frames[g].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},h.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},h.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},h.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},h.default.Image.prototype.delay=function(g,m){if(this.gifProperties){var i=this.gifProperties;if(m<i.numFrames&&0<=m)i.frames[m].delay=g;else{var s=!0,a=!1,c=void 0;try{for(var d,y=i.frames[Symbol.iterator]();!(s=(d=y.next()).done);s=!0)d.value.delay=g}catch(w){a=!0,c=w}finally{try{s||y.return==null||y.return()}finally{if(a)throw c}}}}};var f=h.default.Image;u.default=f},{"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],289:[function(e,l,u){e("core-js/modules/es.array.filter"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h=p(e("../core/main")),n=p(e("./filters"));function p(g){return g&&g.__esModule?g:{default:g}}e("../color/p5.Color"),h.default.prototype.pixels=[],h.default.prototype.blend=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];var s;h.default._validateParameters("blend",m),this._renderer?(s=this._renderer).blend.apply(s,m):h.default.Renderer2D.prototype.blend.apply(this,m)},h.default.prototype.copy=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];var s,a,c,d,y,w,_,S,j;if(h.default._validateParameters("copy",m),m.length===9)s=m[0],a=m[1],c=m[2],d=m[3],y=m[4],w=m[5],_=m[6],S=m[7],j=m[8];else{if(m.length!==8)throw new Error("Signature not supported");s=this,a=m[0],c=m[1],d=m[2],y=m[3],w=m[4],_=m[5],S=m[6],j=m[7]}h.default.prototype._copyHelper(this,s,a,c,d,y,w,_,S,j)},h.default.prototype._copyHelper=function(g,m,i,s,a,c,d,y,w,_){m.loadPixels();var S=m.canvas.width/m.width,j=0,C=0;m._renderer&&m._renderer.isP3D&&(j=m.width/2,C=m.height/2),g._renderer&&g._renderer.isP3D?h.default.RendererGL.prototype.image.call(g._renderer,m,i+j,s+C,a,c,d,y,w,_):g.drawingContext.drawImage(m.canvas,S*(i+j),S*(s+C),S*a,S*c,d,y,w,_)},h.default.prototype.filter=function(g,m){h.default._validateParameters("filter",arguments),this.canvas!==void 0?n.default.apply(this.canvas,n.default[g],m):n.default.apply(this.elt,n.default[g],m)},h.default.prototype.get=function(g,m,i,s){var a;return h.default._validateParameters("get",arguments),(a=this._renderer).get.apply(a,arguments)},h.default.prototype.loadPixels=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];h.default._validateParameters("loadPixels",m),this._renderer.loadPixels()},h.default.prototype.set=function(g,m,i){this._renderer.set(g,m,i)},h.default.prototype.updatePixels=function(g,m,i,s){h.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(g,m,i,s)};var f=h.default;u.default=f},{"../color/p5.Color":251,"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152}],290:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h=f(e("../core/main"));e("whatwg-fetch"),e("es6-promise/auto");var n=f(e("fetch-jsonp")),p=f(e("file-saver"));function f(c){return c&&c.__esModule?c:{default:c}}function g(c){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function m(c,d){var y={};if((d=d||[])===void 0)for(var w=0;w<c.length;w++)d[w.toString()]=w;for(var _=0;_<d.length;_++){var S=d[_],j=c[_];y[S]=j}return y}function i(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function s(c,d){d&&d!==!0&&d!=="true"||(d="");var y="";return(c=c||"untitled")&&c.includes(".")&&(y=c.split(".").pop()),d&&y!==d&&(y=d,c="".concat(c,".").concat(y)),[c,y]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),h.default.prototype.loadJSON=function(){for(var c=arguments.length,d=new Array(c),y=0;y<c;y++)d[y]=arguments[y];h.default._validateParameters("loadJSON",d);for(var w,_,S,j=d[0],C={},R="json",P=1;P<d.length;P++){var I=d[P];typeof I=="string"?I!=="jsonp"&&I!=="json"||(R=I):typeof I=="function"?w?_=I:w=I:g(I)==="object"&&(I.hasOwnProperty("jsonpCallback")||I.hasOwnProperty("jsonpCallbackFunction"))&&(R="jsonp",S=I)}var A=this;return this.httpDo(j,"GET",S,R,function(D){for(var N in D)C[N]=D[N];w!==void 0&&w(D),A._decrementPreload()},function(D){if(h.default._friendlyFileLoadError(5,j),!_)throw D;_(D)}),C},h.default.prototype.loadStrings=function(){for(var c=arguments.length,d=new Array(c),y=0;y<c;y++)d[y]=arguments[y];h.default._validateParameters("loadStrings",d);for(var w,_,S=[],j=1;j<d.length;j++){var C=d[j];typeof C=="function"&&(w===void 0?w=C:_===void 0&&(_=C))}var R=this;return h.default.prototype.httpDo.call(this,d[0],"GET","text",function(P){for(var I=P.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),A=0,D=I.length;A<D;A+=32768)Array.prototype.push.apply(S,I.slice(A,Math.min(A+32768,D)));w!==void 0&&w(S),R._decrementPreload()},function(P){if(h.default._friendlyFileLoadError(3,P),!_)throw P;_(P)}),S},h.default.prototype.loadTable=function(c){var d,y,w,_=!1,S=c.substring(c.lastIndexOf(".")+1,c.length);S==="csv"?w=",":S==="ssv"?w=";":S==="tsv"&&(w="	");for(var j=1;j<arguments.length;j++)typeof arguments[j]=="function"?d===void 0?d=arguments[j]:y===void 0&&(y=arguments[j]):typeof arguments[j]=="string"&&(arguments[j]==="header"&&(_=!0),arguments[j]==="csv"?w=",":arguments[j]==="ssv"?w=";":arguments[j]==="tsv"&&(w="	"));var C=new h.default.Table,R=this;return this.httpDo(c,"GET","table",function(P){for(var I,A,D={},N=[],L=0,W=null,z=function(){D.currentState=0,D.token=""},le=function(){W.push(D.token),z()},ue=function(){D.currentState=4,N.push(W),W=null};;){if((I=P[L++])==null){if(D.escaped)throw new Error("Unclosed quote in file.");if(W){le(),ue();break}}if(W===null&&(D.escaped=!1,W=[],z()),D.currentState===0){if(I==='"'){D.escaped=!0,D.currentState=1;continue}D.currentState=1}if(D.currentState===1&&D.escaped)if(I==='"')P[L]==='"'?(D.token+='"',L++):(D.escaped=!1,D.currentState=2);else{if(I==="\r")continue;D.token+=I}else I==="\r"?(P[L]===`
`&&L++,le(),ue()):I===`
`?(le(),ue()):I===w?le():D.currentState===1&&(D.token+=I)}if(_)C.columns=N.shift();else for(var J=0;J<N[0].length;J++)C.columns[J]="null";for(var ce=0;ce<N.length;ce++)(N[ce].length!==1||N[ce][0]!=="undefined"&&N[ce][0]!=="")&&((A=new h.default.TableRow).arr=N[ce],A.obj=m(N[ce],C.columns),C.addRow(A));typeof d=="function"&&d(C),R._decrementPreload()},function(P){h.default._friendlyFileLoadError(2,c),y?y(P):console.error(P)}),C},h.default.prototype.loadXML=function(){for(var c=arguments.length,d=new Array(c),y=0;y<c;y++)d[y]=arguments[y];for(var w,_,S=new h.default.XML,j=1;j<d.length;j++){var C=d[j];typeof C=="function"&&(w===void 0?w=C:_===void 0&&(_=C))}var R=this;return this.httpDo(d[0],"GET","xml",function(P){for(var I in P)S[I]=P[I];w!==void 0&&w(S),R._decrementPreload()},function(P){if(h.default._friendlyFileLoadError(1,P),!_)throw P;_(P)}),S},h.default.prototype.loadBytes=function(c,d,y){var w={},_=this;return this.httpDo(c,"GET","arrayBuffer",function(S){w.bytes=new Uint8Array(S),typeof d=="function"&&d(w),_._decrementPreload()},function(S){if(h.default._friendlyFileLoadError(6,c),!y)throw S;y(S)}),w},h.default.prototype.httpGet=function(){h.default._validateParameters("httpGet",arguments);var c=Array.prototype.slice.call(arguments);return c.splice(1,0,"GET"),h.default.prototype.httpDo.apply(this,c)},h.default.prototype.httpPost=function(){h.default._validateParameters("httpPost",arguments);var c=Array.prototype.slice.call(arguments);return c.splice(1,0,"POST"),h.default.prototype.httpDo.apply(this,c)},h.default.prototype.httpDo=function(){for(var c,d,y,w,_,S={},j=0,C="text/plain",R=arguments.length-1;0<R&&typeof(R<0||arguments.length<=R?void 0:arguments[R])=="function";R--)j++;var P=arguments.length<=0?void 0:arguments[0];if(arguments.length-j==2&&typeof P=="string"&&g(arguments.length<=1?void 0:arguments[1])==="object")w=new Request(P,arguments.length<=1?void 0:arguments[1]),d=arguments.length<=2?void 0:arguments[2],y=arguments.length<=3?void 0:arguments[3];else{for(var I,A="GET",D=1;D<arguments.length;D++){var N=D<0||arguments.length<=D?void 0:arguments[D];if(typeof N=="string")N==="GET"||N==="POST"||N==="PUT"||N==="DELETE"?A=N:N==="json"||N==="jsonp"||N==="binary"||N==="arrayBuffer"||N==="xml"||N==="text"||N==="table"?c=N:I=N;else if(typeof N=="number")I=N.toString();else if(g(N)==="object")if(N.hasOwnProperty("jsonpCallback")||N.hasOwnProperty("jsonpCallbackFunction"))for(var L in N)S[L]=N[L];else C=N instanceof h.default.XML?(I=N.serialize(),"application/xml"):(I=JSON.stringify(N),"application/json");else typeof N=="function"&&(d?y=N:d=N)}var W=A==="GET"?new Headers:new Headers({"Content-Type":C});w=new Request(P,{method:A,mode:"cors",body:I,headers:W})}return(_=(_=(c=c||(P.includes("json")?"json":P.includes("xml")?"xml":"text"))==="jsonp"?(0,n.default)(P,S):fetch(w)).then(function(z){if(!z.ok){var le=new Error(z.body);throw le.status=z.status,le.ok=!1,le}var ue=0;switch(c!=="jsonp"&&(ue=z.headers.get("content-length")),ue&&64e6<ue&&h.default._friendlyFileLoadError(7,P),c){case"json":case"jsonp":return z.json();case"binary":return z.blob();case"arrayBuffer":return z.arrayBuffer();case"xml":return z.text().then(function(J){var ce=new DOMParser().parseFromString(J,"text/xml");return new h.default.XML(ce.documentElement)});default:return z.text()}})).then(d||function(){}),_.catch(y||console.error),_},window.URL=window.URL||window.webkitURL,h.default.prototype._pWriters=[],h.default.prototype.createWriter=function(c,d){var y;for(var w in h.default.prototype._pWriters)if(h.default.prototype._pWriters[w].name===c)return y=new h.default.PrintWriter(c+this.millis(),d),h.default.prototype._pWriters.push(y),y;return y=new h.default.PrintWriter(c,d),h.default.prototype._pWriters.push(y),y},h.default.PrintWriter=function(c,d){var y=this;this.name=c,this.content="",this.write=function(w){this.content+=w},this.print=function(w){this.content+="".concat(w,`
`)},this.clear=function(){this.content=""},this.close=function(){var w=[];for(var _ in w.push(this.content),h.default.prototype.writeFile(w,c,d),h.default.prototype._pWriters)h.default.prototype._pWriters[_].name===this.name&&h.default.prototype._pWriters.splice(_,1);y.clear(),y={}}},h.default.prototype.save=function(c,d,y){var w=arguments,_=this._curElement?this._curElement.elt:this.elt;if(w.length!==0)if(w[0]instanceof h.default.Renderer||w[0]instanceof h.default.Graphics)h.default.prototype.saveCanvas(w[0].elt,w[1],w[2]);else if(w.length===1&&typeof w[0]=="string")h.default.prototype.saveCanvas(_,w[0]);else switch(s(w[1],w[2])[1]){case"json":return void h.default.prototype.saveJSON(w[0],w[1],w[2]);case"txt":return void h.default.prototype.saveStrings(w[0],w[1],w[2]);default:w[0]instanceof Array?h.default.prototype.saveStrings(w[0],w[1],w[2]):w[0]instanceof h.default.Table?h.default.prototype.saveTable(w[0],w[1],w[2]):w[0]instanceof h.default.Image?h.default.prototype.saveCanvas(w[0].canvas,w[1]):w[0]instanceof h.default.SoundFile&&h.default.prototype.saveSound(w[0],w[1],w[2],w[3])}else h.default.prototype.saveCanvas(_)},h.default.prototype.saveJSON=function(c,d,y){var w;h.default._validateParameters("saveJSON",arguments),w=y?JSON.stringify(c):JSON.stringify(c,void 0,2),this.saveStrings(w.split(`
`),d,"json")},h.default.prototype.saveJSONObject=h.default.prototype.saveJSON,h.default.prototype.saveJSONArray=h.default.prototype.saveJSON,h.default.prototype.saveStrings=function(c,d,y,w){h.default._validateParameters("saveStrings",arguments);for(var _=y||"txt",S=this.createWriter(d,_),j=0;j<c.length;j++)w?S.write(c[j]+`\r
`):S.write(c[j]+`
`);S.close(),S.clear()},h.default.prototype.saveTable=function(c,d,y){var w;h.default._validateParameters("saveTable",arguments),w=y===void 0?d.substring(d.lastIndexOf(".")+1,d.length):y;var _=this.createWriter(d,w),S=c.columns,j=",";if(w==="tsv"&&(j="	"),w!=="html"){if(S[0]!=="0"){for(var C=0;C<S.length;C++)C<S.length-1?_.write(S[C]+j):_.write(S[C]);_.write(`
`)}for(var R=0;R<c.rows.length;R++){var P=void 0;for(P=0;P<c.rows[R].arr.length;P++)P<c.rows[R].arr.length-1?w==="csv"&&String(c.rows[R].arr[P]).includes(",")?_.write('"'+c.rows[R].arr[P]+'"'+j):_.write(c.rows[R].arr[P]+j):w==="csv"&&String(c.rows[R].arr[P]).includes(",")?_.write('"'+c.rows[R].arr[P]+'"'):_.write(c.rows[R].arr[P]);_.write(`
`)}}else{if(_.print("<html>"),_.print("<head>"),_.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),_.print("</head>"),_.print("<body>"),_.print("  <table>"),S[0]!=="0"){_.print("    <tr>");for(var I=0;I<S.length;I++){var A=i(S[I]);_.print("      <td>".concat(A)),_.print("      </td>")}_.print("    </tr>")}for(var D=0;D<c.rows.length;D++){_.print("    <tr>");for(var N=0;N<c.columns.length;N++){var L=i(c.rows[D].getString(N));_.print("      <td>".concat(L)),_.print("      </td>")}_.print("    </tr>")}_.print("  </table>"),_.print("</body>"),_.print("</html>")}_.close(),_.clear()},h.default.prototype.writeFile=function(c,d,y){var w="application/octet-stream";h.default.prototype._isSafari()&&(w="text/plain");var _=new Blob(c,{type:w});h.default.prototype.downloadFile(_,d,y)},h.default.prototype.downloadFile=function(c,d,y){var w=s(d,y),_=w[0];if(c instanceof Blob)p.default.saveAs(c,_);else{var S=document.createElement("a");if(S.href=c,S.download=_,S.onclick=function(C){var R;R=C,document.body.removeChild(R.target),C.stopPropagation()},S.style.display="none",document.body.appendChild(S),h.default.prototype._isSafari()){var j=`Hello, Safari user! To download this file...
`;j+=`1. Go to File --> Save As.
`,j+=`2. Choose "Page Source" as the Format.
`,j+='3. Name it with this extension: ."'.concat(w[1],'"'),alert(j)}S.click()}},h.default.prototype._checkFileExtension=s,h.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")};var a=h.default;u.default=a},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231,"es6-promise/auto":232,"fetch-jsonp":234,"file-saver":235,"whatwg-fetch":242}],291:[function(e,l,u){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.Table=function(f){this.columns=[],this.rows=[]},n.default.Table.prototype.addRow=function(f){var g=f||new n.default.TableRow;if(g.arr===void 0||g.obj===void 0)throw new Error("invalid TableRow: ".concat(g));return(g.table=this).rows.push(g),g},n.default.Table.prototype.removeRow=function(f){this.rows[f].table=null;var g=this.rows.splice(f+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(g)},n.default.Table.prototype.getRow=function(f){return this.rows[f]},n.default.Table.prototype.getRows=function(){return this.rows},n.default.Table.prototype.findRow=function(f,g){if(typeof g=="string"){for(var m=0;m<this.rows.length;m++)if(this.rows[m].obj[g]===f)return this.rows[m]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[g]===f)return this.rows[i];return null},n.default.Table.prototype.findRows=function(f,g){var m=[];if(typeof g=="string")for(var i=0;i<this.rows.length;i++)this.rows[i].obj[g]===f&&m.push(this.rows[i]);else for(var s=0;s<this.rows.length;s++)this.rows[s].arr[g]===f&&m.push(this.rows[s]);return m},n.default.Table.prototype.matchRow=function(f,g){if(typeof g=="number"){for(var m=0;m<this.rows.length;m++)if(this.rows[m].arr[g].match(f))return this.rows[m]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[g].match(f))return this.rows[i];return null},n.default.Table.prototype.matchRows=function(f,g){var m=[];if(typeof g=="number")for(var i=0;i<this.rows.length;i++)this.rows[i].arr[g].match(f)&&m.push(this.rows[i]);else for(var s=0;s<this.rows.length;s++)this.rows[s].obj[g].match(f)&&m.push(this.rows[s]);return m},n.default.Table.prototype.getColumn=function(f){var g=[];if(typeof f=="string")for(var m=0;m<this.rows.length;m++)g.push(this.rows[m].obj[f]);else for(var i=0;i<this.rows.length;i++)g.push(this.rows[i].arr[f]);return g},n.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},n.default.Table.prototype.addColumn=function(f){var g=f||null;this.columns.push(g)},n.default.Table.prototype.getColumnCount=function(){return this.columns.length},n.default.Table.prototype.getRowCount=function(){return this.rows.length},n.default.Table.prototype.removeTokens=function(f,g){for(var m=[],i=0;i<f.length;i++)m.push(f.charAt(i).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var s=new RegExp(m.join("|"),"g");if(g===void 0)for(var a=0;a<this.columns.length;a++)for(var c=0;c<this.rows.length;c++){var d=this.rows[c].arr[a];d=d.replace(s,""),this.rows[c].arr[a]=d,this.rows[c].obj[this.columns[a]]=d}else if(typeof g=="string")for(var y=0;y<this.rows.length;y++){var w=this.rows[y].obj[g];w=w.replace(s,""),this.rows[y].obj[g]=w;var _=this.columns.indexOf(g);this.rows[y].arr[_]=w}else for(var S=0;S<this.rows.length;S++){var j=this.rows[S].arr[g];j=j.replace(s,""),this.rows[S].arr[g]=j,this.rows[S].obj[this.columns[g]]=j}},n.default.Table.prototype.trim=function(f){var g=new RegExp(" ","g");if(f===void 0)for(var m=0;m<this.columns.length;m++)for(var i=0;i<this.rows.length;i++){var s=this.rows[i].arr[m];s=s.replace(g,""),this.rows[i].arr[m]=s,this.rows[i].obj[this.columns[m]]=s}else if(typeof f=="string")for(var a=0;a<this.rows.length;a++){var c=this.rows[a].obj[f];c=c.replace(g,""),this.rows[a].obj[f]=c;var d=this.columns.indexOf(f);this.rows[a].arr[d]=c}else for(var y=0;y<this.rows.length;y++){var w=this.rows[y].arr[f];w=w.replace(g,""),this.rows[y].arr[f]=w,this.rows[y].obj[this.columns[f]]=w}},n.default.Table.prototype.removeColumn=function(f){var g,m;typeof f=="string"?(g=f,m=this.columns.indexOf(f)):(m=f,g=this.columns[f]);var i=this.columns.splice(m+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(i);for(var s=0;s<this.rows.length;s++){var a=this.rows[s].arr,c=a.splice(m+1,a.length);a.pop(),this.rows[s].arr=a.concat(c),delete this.rows[s].obj[g]}},n.default.Table.prototype.set=function(f,g,m){this.rows[f].set(g,m)},n.default.Table.prototype.setNum=function(f,g,m){this.rows[f].setNum(g,m)},n.default.Table.prototype.setString=function(f,g,m){this.rows[f].setString(g,m)},n.default.Table.prototype.get=function(f,g){return this.rows[f].get(g)},n.default.Table.prototype.getNum=function(f,g){return this.rows[f].getNum(g)},n.default.Table.prototype.getString=function(f,g){return this.rows[f].getString(g)},n.default.Table.prototype.getObject=function(f){for(var g,m={},i=0;i<this.rows.length;i++)if(g=this.rows[i].obj,typeof f=="string"){if(!(0<=this.columns.indexOf(f)))throw new Error('This table has no column named "'.concat(f,'"'));m[g[f]]=g}else m[i]=this.rows[i].obj;return m},n.default.Table.prototype.getArray=function(){for(var f=[],g=0;g<this.rows.length;g++)f.push(this.rows[g].arr);return f};var p=n.default;u.default=p},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],292:[function(e,l,u){e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.TableRow=function(f,g){var m=[],i={};f&&(g=g||",",m=f.split(g));for(var s=0;s<m.length;s++){var a=s,c=m[s];i[a]=c}this.arr=m,this.obj=i,this.table=null},n.default.TableRow.prototype.set=function(f,g){if(typeof f=="string"){var m=this.table.columns.indexOf(f);if(!(0<=m))throw new Error('This table has no column named "'.concat(f,'"'));this.obj[f]=g,this.arr[m]=g}else{if(!(f<this.table.columns.length))throw new Error("Column #".concat(f," is out of the range of this table"));this.arr[f]=g;var i=this.table.columns[f];this.obj[i]=g}},n.default.TableRow.prototype.setNum=function(f,g){var m=parseFloat(g);this.set(f,m)},n.default.TableRow.prototype.setString=function(f,g){var m=g.toString();this.set(f,m)},n.default.TableRow.prototype.get=function(f){return typeof f=="string"?this.obj[f]:this.arr[f]},n.default.TableRow.prototype.getNum=function(f){var g;if((g=parseFloat(typeof f=="string"?this.obj[f]:this.arr[f])).toString()==="NaN")throw"Error: ".concat(this.obj[f]," is NaN (Not a Number)");return g},n.default.TableRow.prototype.getString=function(f){return typeof f=="string"?this.obj[f].toString():this.arr[f].toString()};var p=n.default;u.default=p},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],293:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(g){for(var m=[],i=0;i<g.length;i++)m.push(new n.default.XML(g[i]));return m}n.default.XML=function(g){if(g)this.DOM=g;else{var m=document.implementation.createDocument(null,"doc");this.DOM=m.createElement("root")}},n.default.XML.prototype.getParent=function(){return new n.default.XML(this.DOM.parentElement)},n.default.XML.prototype.getName=function(){return this.DOM.tagName},n.default.XML.prototype.setName=function(g){var m=this.DOM.innerHTML,i=this.DOM.attributes,s=document.implementation.createDocument(null,"default").createElement(g);s.innerHTML=m;for(var a=0;a<i.length;a++)s.setAttribute(i[a].nodeName,i.nodeValue);this.DOM=s},n.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},n.default.XML.prototype.listChildren=function(){for(var g=[],m=0;m<this.DOM.childNodes.length;m++)g.push(this.DOM.childNodes[m].nodeName);return g},n.default.XML.prototype.getChildren=function(g){return p(g?this.DOM.getElementsByTagName(g):this.DOM.children)},n.default.XML.prototype.getChild=function(g){if(typeof g!="string")return new n.default.XML(this.DOM.children[g]);var m=!0,i=!1,s=void 0;try{for(var a,c=this.DOM.children[Symbol.iterator]();!(m=(a=c.next()).done);m=!0){var d=a.value;if(d.tagName===g)return new n.default.XML(d)}}catch(y){i=!0,s=y}finally{try{m||c.return==null||c.return()}finally{if(i)throw s}}},n.default.XML.prototype.addChild=function(g){g instanceof n.default.XML&&this.DOM.appendChild(g.DOM)},n.default.XML.prototype.removeChild=function(g){var m=-1;if(typeof g=="string"){for(var i=0;i<this.DOM.children.length;i++)if(this.DOM.children[i].tagName===g){m=i;break}}else m=g;m!==-1&&this.DOM.removeChild(this.DOM.children[m])},n.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},n.default.XML.prototype.listAttributes=function(){var g=[],m=!0,i=!1,s=void 0;try{for(var a,c=this.DOM.attributes[Symbol.iterator]();!(m=(a=c.next()).done);m=!0){var d=a.value;g.push(d.nodeName)}}catch(y){i=!0,s=y}finally{try{m||c.return==null||c.return()}finally{if(i)throw s}}return g},n.default.XML.prototype.hasAttribute=function(g){var m={},i=!0,s=!1,a=void 0;try{for(var c,d=this.DOM.attributes[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){var y=c.value;m[y.nodeName]=y.nodeValue}}catch(w){s=!0,a=w}finally{try{i||d.return==null||d.return()}finally{if(s)throw a}}return!!m[g]},n.default.XML.prototype.getNum=function(g,m){var i={},s=!0,a=!1,c=void 0;try{for(var d,y=this.DOM.attributes[Symbol.iterator]();!(s=(d=y.next()).done);s=!0){var w=d.value;i[w.nodeName]=w.nodeValue}}catch(_){a=!0,c=_}finally{try{s||y.return==null||y.return()}finally{if(a)throw c}}return Number(i[g])||m||0},n.default.XML.prototype.getString=function(g,m){var i={},s=!0,a=!1,c=void 0;try{for(var d,y=this.DOM.attributes[Symbol.iterator]();!(s=(d=y.next()).done);s=!0){var w=d.value;i[w.nodeName]=w.nodeValue}}catch(_){a=!0,c=_}finally{try{s||y.return==null||y.return()}finally{if(a)throw c}}return i[g]?String(i[g]):m||null},n.default.XML.prototype.setAttribute=function(g,m){this.DOM.setAttribute(g,m)},n.default.XML.prototype.getContent=function(g){return this.DOM.textContent.replace(/\s\s+/g,",")||g||null},n.default.XML.prototype.setContent=function(g){this.DOM.children.length||(this.DOM.textContent=g)},n.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)};var f=n.default;u.default=f},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],294:[function(e,l,u){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var g=arguments.length,m=[],i=0,s=0;s<g;s++){var a=arguments[s];if((a=+a)===1/0||a===-1/0)return 1/0;i<(a=Math.abs(a))&&(i=a),m[s]=a}i===0&&(i=1);for(var c=0,d=0,y=0;y<g;y++){var w=m[y]/i,_=w*w-d,S=c+_;d=S-c-_,c=S}return Math.sqrt(c)*i}n.default.prototype.abs=Math.abs,n.default.prototype.ceil=Math.ceil,n.default.prototype.constrain=function(g,m,i){return n.default._validateParameters("constrain",arguments),Math.max(Math.min(g,i),m)},n.default.prototype.dist=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return n.default._validateParameters("dist",m),m.length===4?p(m[2]-m[0],m[3]-m[1]):m.length===6?p(m[3]-m[0],m[4]-m[1],m[5]-m[2]):void 0},n.default.prototype.exp=Math.exp,n.default.prototype.floor=Math.floor,n.default.prototype.lerp=function(g,m,i){return n.default._validateParameters("lerp",arguments),i*(m-g)+g},n.default.prototype.log=Math.log,n.default.prototype.mag=function(g,m){return n.default._validateParameters("mag",arguments),p(g,m)},n.default.prototype.map=function(g,m,i,s,a,c){n.default._validateParameters("map",arguments);var d=(g-m)/(i-m)*(a-s)+s;return c?s<a?this.constrain(d,s,a):this.constrain(d,a,s):d},n.default.prototype.max=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return m[0]instanceof Array?Math.max.apply(null,m[0]):Math.max.apply(null,m)},n.default.prototype.min=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return m[0]instanceof Array?Math.min.apply(null,m[0]):Math.min.apply(null,m)},n.default.prototype.norm=function(g,m,i){return n.default._validateParameters("norm",arguments),this.map(g,m,i,0,1)},n.default.prototype.pow=Math.pow,n.default.prototype.round=function(g,m){if(!m)return Math.round(g);var i=Math.pow(10,m);return Math.round(g*i)/i},n.default.prototype.sq=function(g){return g*g},n.default.prototype.sqrt=Math.sqrt,n.default.prototype.fract=function(g){n.default._validateParameters("fract",arguments);var m=0,i=Number(g);if(isNaN(i)||Math.abs(i)===1/0)return i;if(i<0&&(i=-i,m=1),!String(i).includes(".")||String(i).includes("e"))return i<1?Math.abs(m-i):0;var s=String(i);return s=Number("0"+s.slice(s.indexOf("."))),Math.abs(m-s)};var f=n.default;u.default=f},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":168,"core-js/modules/es.number.constructor":170,"core-js/modules/es.string.includes":185}],295:[function(e,l,u){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(m,i,s){return(p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(a,c,d){var y=[null];y.push.apply(y,c);var w=new(Function.bind.apply(a,y));return d&&f(w,d.prototype),w}).apply(null,arguments)}function f(m,i){return(f=Object.setPrototypeOf||function(s,a){return s.__proto__=a,s})(m,i)}n.default.prototype.createVector=function(m,i,s){return this instanceof n.default?p(n.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new n.default.Vector(m,i,s)};var g=n.default;u.default=g},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],296:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(a){return .5*(1-Math.cos(a*Math.PI))}var f,g=4095,m=4,i=.5;n.default.prototype.noise=function(a){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(f==null){f=new Array(4096);for(var y=0;y<4096;y++)f[y]=Math.random()}a<0&&(a=-a),c<0&&(c=-c),d<0&&(d=-d);for(var w,_,S,j,C,R=Math.floor(a),P=Math.floor(c),I=Math.floor(d),A=a-R,D=c-P,N=d-I,L=0,W=.5,z=0;z<m;z++){var le=R+(P<<4)+(I<<8);w=p(A),_=p(D),S=f[le&g],S+=w*(f[le+1&g]-S),j=f[le+16&g],S+=_*((j+=w*(f[le+16+1&g]-j))-S),j=f[(le+=256)&g],j+=w*(f[le+1&g]-j),C=f[le+16&g],j+=_*((C+=w*(f[le+16+1&g]-C))-j),L+=(S+=p(N)*(j-S))*W,W*=i,R<<=1,P<<=1,I<<=1,1<=(A*=2)&&(R++,A--),1<=(D*=2)&&(P++,D--),1<=(N*=2)&&(I++,N--)}return L},n.default.prototype.noiseDetail=function(a,c){0<a&&(m=a),0<c&&(i=c)},n.default.prototype.noiseSeed=function(a){var c,d,y,w=(y=4294967296,{setSeed:function(S){d=c=(S??Math.random()*y)>>>0},getSeed:function(){return c},rand:function(){return(d=(1664525*d+1013904223)%y)/y}});w.setSeed(a),f=new Array(4096);for(var _=0;_<4096;_++)f[_]=w.rand()};var s=n.default;u.default=s},{"../core/main":264}],297:[function(e,l,u){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var c=g();if(c&&c.has(a))return c.get(a);var d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in a)if(Object.prototype.hasOwnProperty.call(a,w)){var _=y?Object.getOwnPropertyDescriptor(a,w):null;_&&(_.get||_.set)?Object.defineProperty(d,w,_):d[w]=a[w]}return d.default=a,c&&c.set(a,d),d}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return g=function(){return a},a}p.default.Vector=function(a,c,d,y,w){var _,S,j;j={}.toString.call(a)==="[object Function]"?(this.isPInst=!0,this._fromRadians=a,this._toRadians=c,_=d||0,S=y||0,w||0):(_=a||0,S=c||0,d||0),this.x=_,this.y=S,this.z=j},p.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},p.default.Vector.prototype.set=function(a,c,d){return a instanceof p.default.Vector?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):a instanceof Array?(this.x=a[0]||0,this.y=a[1]||0,this.z=a[2]||0):(this.x=a||0,this.y=c||0,this.z=d||0),this},p.default.Vector.prototype.copy=function(){return this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new p.default.Vector(this.x,this.y,this.z)},p.default.Vector.prototype.add=function(a,c,d){return a instanceof p.default.Vector?(this.x+=a.x||0,this.y+=a.y||0,this.z+=a.z||0):a instanceof Array?(this.x+=a[0]||0,this.y+=a[1]||0,this.z+=a[2]||0):(this.x+=a||0,this.y+=c||0,this.z+=d||0),this};function m(a,c){return a!==0&&(this.x=this.x%a),c!==0&&(this.y=this.y%c),this}function i(a,c,d){return a!==0&&(this.x=this.x%a),c!==0&&(this.y=this.y%c),d!==0&&(this.z=this.z%d),this}p.default.Vector.prototype.rem=function(a,c,d){if(a instanceof p.default.Vector){if(Number.isFinite(a.x)&&Number.isFinite(a.y)&&Number.isFinite(a.z)){var y=parseFloat(a.x),w=parseFloat(a.y),_=parseFloat(a.z);return i.call(this,y,w,_)}}else if(a instanceof Array){if(a.every(function(C){return Number.isFinite(C)})){if(a.length===2)return m.call(this,a[0],a[1]);if(a.length===3)return i.call(this,a[0],a[1],a[2])}}else if(arguments.length===1){if(Number.isFinite(a)&&a!==0)return this.x=this.x%a,this.y=this.y%a,this.z=this.z%a,this}else if(arguments.length===2){var S=Array.prototype.slice.call(arguments);if(S.every(function(C){return Number.isFinite(C)})&&S.length===2)return m.call(this,S[0],S[1])}else if(arguments.length===3){var j=Array.prototype.slice.call(arguments);if(j.every(function(C){return Number.isFinite(C)})&&j.length===3)return i.call(this,j[0],j[1],j[2])}},p.default.Vector.prototype.sub=function(a,c,d){return a instanceof p.default.Vector?(this.x-=a.x||0,this.y-=a.y||0,this.z-=a.z||0):a instanceof Array?(this.x-=a[0]||0,this.y-=a[1]||0,this.z-=a[2]||0):(this.x-=a||0,this.y-=c||0,this.z-=d||0),this},p.default.Vector.prototype.mult=function(a,c,d){if(a instanceof p.default.Vector)return Number.isFinite(a.x)&&Number.isFinite(a.y)&&Number.isFinite(a.z)&&typeof a.x=="number"&&typeof a.y=="number"&&typeof a.z=="number"?(this.x*=a.x,this.y*=a.y,this.z*=a.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(a instanceof Array)return a.every(function(w){return Number.isFinite(w)})&&a.every(function(w){return typeof w=="number"})?a.length===1?(this.x*=a[0],this.y*=a[0],this.z*=a[0]):a.length===2?(this.x*=a[0],this.y*=a[1]):a.length===3&&(this.x*=a[0],this.y*=a[1],this.z*=a[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var y=Array.prototype.slice.call(arguments);return y.every(function(w){return Number.isFinite(w)})&&y.every(function(w){return typeof w=="number"})?(arguments.length===1&&(this.x*=a,this.y*=a,this.z*=a),arguments.length===2&&(this.x*=a,this.y*=c),arguments.length===3&&(this.x*=a,this.y*=c,this.z*=d)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},p.default.Vector.prototype.div=function(a,c,d){if(a instanceof p.default.Vector){if(Number.isFinite(a.x)&&Number.isFinite(a.y)&&Number.isFinite(a.z)&&typeof a.x=="number"&&typeof a.y=="number"&&typeof a.z=="number"){if(a.x===0||a.y===0||a.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=a.x,this.y/=a.y,this.z/=a.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(a instanceof Array){if(a.every(function(w){return Number.isFinite(w)})&&a.every(function(w){return typeof w=="number"})){if(a.some(function(w){return w===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;a.length===1?(this.x/=a[0],this.y/=a[0],this.z/=a[0]):a.length===2?(this.x/=a[0],this.y/=a[1]):a.length===3&&(this.x/=a[0],this.y/=a[1],this.z/=a[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var y=Array.prototype.slice.call(arguments);if(y.every(function(w){return Number.isFinite(w)})&&y.every(function(w){return typeof w=="number"})){if(y.some(function(w){return w===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=a,this.y/=a,this.z/=a),arguments.length===2&&(this.x/=a,this.y/=c),arguments.length===3&&(this.x/=a,this.y/=c,this.z/=d)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},p.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},p.default.Vector.prototype.magSq=function(){var a=this.x,c=this.y,d=this.z;return a*a+c*c+d*d},p.default.Vector.prototype.dot=function(a,c,d){return a instanceof p.default.Vector?this.dot(a.x,a.y,a.z):this.x*(a||0)+this.y*(c||0)+this.z*(d||0)},p.default.Vector.prototype.cross=function(a){var c=this.y*a.z-this.z*a.y,d=this.z*a.x-this.x*a.z,y=this.x*a.y-this.y*a.x;return this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,c,d,y):new p.default.Vector(c,d,y)},p.default.Vector.prototype.dist=function(a){return a.copy().sub(this).mag()},p.default.Vector.prototype.normalize=function(){var a=this.mag();return a!==0&&this.mult(1/a),this},p.default.Vector.prototype.limit=function(a){var c=this.magSq();return a*a<c&&this.div(Math.sqrt(c)).mult(a),this},p.default.Vector.prototype.setMag=function(a){return this.normalize().mult(a)},p.default.Vector.prototype.heading=function(){var a=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(a):a},p.default.Vector.prototype.setHeading=function(a){var c=this.mag();return this.x=c*Math.cos(a),this.y=c*Math.sin(a),this},p.default.Vector.prototype.rotate=function(a){var c=this.heading()+a;this.isPInst&&(c=this._toRadians(c));var d=this.mag();return this.x=Math.cos(c)*d,this.y=Math.sin(c)*d,this},p.default.Vector.prototype.angleBetween=function(a){var c,d=this.dot(a)/(this.mag()*a.mag());return c=Math.acos(Math.min(1,Math.max(-1,d))),c*=Math.sign(this.cross(a).z||1),this.isPInst&&(c=this._fromRadians(c)),c},p.default.Vector.prototype.lerp=function(a,c,d,y){return a instanceof p.default.Vector?this.lerp(a.x,a.y,a.z,c):(this.x+=(a-this.x)*y||0,this.y+=(c-this.y)*y||0,this.z+=(d-this.z)*y||0,this)},p.default.Vector.prototype.reflect=function(a){return a.normalize(),this.sub(a.mult(2*this.dot(a)))},p.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},p.default.Vector.prototype.equals=function(a,c,d){var y,w,_;return _=a instanceof p.default.Vector?(y=a.x||0,w=a.y||0,a.z||0):a instanceof Array?(y=a[0]||0,w=a[1]||0,a[2]||0):(y=a||0,w=c||0,d||0),this.x===y&&this.y===w&&this.z===_},p.default.Vector.fromAngle=function(a,c){return c===void 0&&(c=1),new p.default.Vector(c*Math.cos(a),c*Math.sin(a),0)},p.default.Vector.fromAngles=function(a,c,d){d===void 0&&(d=1);var y=Math.cos(c),w=Math.sin(c),_=Math.cos(a),S=Math.sin(a);return new p.default.Vector(d*S*w,-d*_,d*S*y)},p.default.Vector.random2D=function(){return this.fromAngle(Math.random()*f.TWO_PI)},p.default.Vector.random3D=function(){var a=Math.random()*f.TWO_PI,c=2*Math.random()-1,d=Math.sqrt(1-c*c),y=d*Math.cos(a),w=d*Math.sin(a);return new p.default.Vector(y,w,c)},p.default.Vector.add=function(a,c,d){return d?d.set(a):(d=a.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),d.add(c),d},p.default.Vector.rem=function(a,c){if(a instanceof p.default.Vector&&c instanceof p.default.Vector){var d=a.copy();return d.rem(c),d}},p.default.Vector.sub=function(a,c,d){return d?d.set(a):(d=a.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),d.sub(c),d},p.default.Vector.mult=function(a,c,d){return d?d.set(a):(d=a.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),d.mult(c),d},p.default.Vector.rotate=function(a,c,d){return arguments.length===2?d=a.copy():(d instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),d.set(a)),d.rotate(c),d},p.default.Vector.div=function(a,c,d){return d?d.set(a):(d=a.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),d.div(c),d},p.default.Vector.dot=function(a,c){return a.dot(c)},p.default.Vector.cross=function(a,c){return a.cross(c)},p.default.Vector.dist=function(a,c){return a.dist(c)},p.default.Vector.lerp=function(a,c,d,y){return y?y.set(a):(y=a.copy(),arguments.length===4&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),y.lerp(c,d),y},p.default.Vector.mag=function(a){var c=a.x,d=a.y,y=a.z,w=c*c+d*d+y*y;return Math.sqrt(w)},p.default.Vector.normalize=function(a,c){return arguments.length<2?c=a.copy():(c instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),c.set(a)),c.normalize()};var s=p.default.Vector;u.default=s},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":150,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":169,"core-js/modules/es.number.constructor":170,"core-js/modules/es.number.is-finite":171,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.sub":192}],298:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h},p="_lcg_random_state",f=4294967296,g=0;n.default.prototype._lcg=function(i){return this[i]=(1664525*this[i]+1013904223)%f,this[i]/f},n.default.prototype._lcgSetSeed=function(i,s){this[i]=(s??Math.random()*f)>>>0},n.default.prototype.randomSeed=function(i){this._lcgSetSeed(p,i),this._gaussian_previous=!1},n.default.prototype.random=function(i,s){var a;if(n.default._validateParameters("random",arguments),a=this[p]!=null?this._lcg(p):Math.random(),i===void 0)return a;if(s===void 0)return i instanceof Array?i[Math.floor(a*i.length)]:a*i;if(s<i){var c=i;i=s,s=c}return a*(s-i)+i},n.default.prototype.randomGaussian=function(i){var s,a,c,d,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)s=g,this._gaussian_previous=!1;else{for(;1<=(d=(a=this.random(2)-1)*a+(c=this.random(2)-1)*c););s=a*(d=Math.sqrt(-2*Math.log(d)/d)),g=c*d,this._gaussian_previous=!0}return s*y+(i||0)};var m=n.default;u.default=m},{"../core/main":264}],299:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=g();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.prototype._angleMode=f.RADIANS,p.default.prototype.acos=function(i){return this._fromRadians(Math.acos(i))},p.default.prototype.asin=function(i){return this._fromRadians(Math.asin(i))},p.default.prototype.atan=function(i){return this._fromRadians(Math.atan(i))},p.default.prototype.atan2=function(i,s){return this._fromRadians(Math.atan2(i,s))},p.default.prototype.cos=function(i){return Math.cos(this._toRadians(i))},p.default.prototype.sin=function(i){return Math.sin(this._toRadians(i))},p.default.prototype.tan=function(i){return Math.tan(this._toRadians(i))},p.default.prototype.degrees=function(i){return i*f.RAD_TO_DEG},p.default.prototype.radians=function(i){return i*f.DEG_TO_RAD},p.default.prototype.angleMode=function(i){if(p.default._validateParameters("angleMode",arguments),i===void 0)return this._angleMode;i!==f.DEGREES&&i!==f.RADIANS||(this._angleMode=i)},p.default.prototype._toRadians=function(i){return this._angleMode===f.DEGREES?i*f.DEG_TO_RAD:i},p.default.prototype._toDegrees=function(i){return this._angleMode===f.RADIANS?i*f.RAD_TO_DEG:i},p.default.prototype._fromRadians=function(i){return this._angleMode===f.DEGREES?i*f.RAD_TO_DEG:i};var m=p.default;u.default=m},{"../core/constants":253,"../core/main":264}],300:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.prototype.textAlign=function(f,g){var m;return n.default._validateParameters("textAlign",arguments),(m=this._renderer).textAlign.apply(m,arguments)},n.default.prototype.textLeading=function(f){var g;return n.default._validateParameters("textLeading",arguments),(g=this._renderer).textLeading.apply(g,arguments)},n.default.prototype.textSize=function(f){var g;return n.default._validateParameters("textSize",arguments),(g=this._renderer).textSize.apply(g,arguments)},n.default.prototype.textStyle=function(f){var g;return n.default._validateParameters("textStyle",arguments),(g=this._renderer).textStyle.apply(g,arguments)},n.default.prototype.textWidth=function(){for(var f,g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return m[0]+="",n.default._validateParameters("textWidth",m),m[0].length===0?0:(f=this._renderer).textWidth.apply(f,m)},n.default.prototype.textAscent=function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return n.default._validateParameters("textAscent",g),this._renderer.textAscent()},n.default.prototype.textDescent=function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return n.default._validateParameters("textDescent",g),this._renderer.textDescent()},n.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},n.default.prototype.textWrap=function(f){if(f!=="WORD"&&f!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(f)};var p=n.default;u.default=p},{"../core/main":264}],301:[function(e,l,u){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=i(e("../core/constants")),g=i(e("opentype.js"));function m(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return m=function(){return a},a}function i(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var c=m();if(c&&c.has(a))return c.get(a);var d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in a)if(Object.prototype.hasOwnProperty.call(a,w)){var _=y?Object.getOwnPropertyDescriptor(a,w):null;_&&(_.get||_.set)?Object.defineProperty(d,w,_):d[w]=a[w]}return d.default=a,c&&c.set(a,d),d}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),p.default.prototype.loadFont=function(a,c,d){p.default._validateParameters("loadFont",arguments);var y=new p.default.Font(this),w=this;return g.load(a,function(_,S){if(_)return p.default._friendlyFileLoadError(4,a),d!==void 0?d(_):void console.error(_,a);y.font=S,c!==void 0&&c(y),w._decrementPreload();var j,C,R=a.split("\\").pop().split("/").pop(),P=R.lastIndexOf("."),I=P<1?null:R.slice(P+1);["ttf","otf","woff","woff2"].includes(I)&&(j=R.slice(0,P!==-1?P:0),(C=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(j,`;
src: url(`).concat(a,`);
}
`))),document.head.appendChild(C))}),y},p.default.prototype.text=function(a,c,d,y,w){var _;return p.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(_=this._renderer).text.apply(_,arguments):this},p.default.prototype.textFont=function(a,c){if(p.default._validateParameters("textFont",arguments),arguments.length){if(!a)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",a),c&&(this._renderer._setProperty("_textSize",c),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",c*f._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont};var s=p.default;u.default=s},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.split":191,"opentype.js":239}],302:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h},p=function(A){if(A&&A.__esModule)return A;if(A===null||g(A)!=="object"&&typeof A!="function")return{default:A};var D=f();if(D&&D.has(A))return D.get(A);var N={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in A)if(Object.prototype.hasOwnProperty.call(A,W)){var z=L?Object.getOwnPropertyDescriptor(A,W):null;z&&(z.get||z.set)?Object.defineProperty(N,W,z):N[W]=A[W]}return N.default=A,D&&D.set(A,N),N}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return f=function(){return A},A}function g(A){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(A)}function m(A,D){for(var N=function(ue,J){if(g(ue)!=="object")ue=J;else for(var ce in J)ue[ce]===void 0&&(ue[ce]=J[ce]);return ue}(D,{sampleFactor:.1,simplifyThreshold:0}),L=w(A,0,1),W=L/(L*N.sampleFactor),z=[],le=0;le<L;le+=W)z.push(w(A,le));return N.simplifyThreshold&&function(ue){for(var J=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ce=0,se=ue.length-1;3<ue.length&&0<=se;--se)c(a(ue,se-1),a(ue,se),a(ue,se+1),J)&&(ue.splice(se%ue.length,1),ce++)}(z,N.simplifyThreshold),z}function i(A){for(var D,N=[],L=0;L<A.length;L++)A[L].type==="M"&&(D&&N.push(D),D=[]),D.push(s(A[L]));return N.push(D),N}function s(A){var D=[A.type];return A.type==="M"||A.type==="L"?D.push(A.x,A.y):A.type==="C"?D.push(A.x1,A.y1,A.x2,A.y2,A.x,A.y):A.type==="Q"&&D.push(A.x1,A.y1,A.x,A.y),D}function a(A,D){var N=A.length;return A[D<0?D%N+N:D%N]}function c(A,D,N,L){if(!L)return W=A,le=N,((z=D)[0]-W[0])*(le[1]-W[1])-(le[0]-W[0])*(z[1]-W[1])==0;var W,z,le;c.tmpPoint1===void 0&&(c.tmpPoint1=[],c.tmpPoint2=[]);var ue=c.tmpPoint1,J=c.tmpPoint2;ue.x=D.x-A.x,ue.y=D.y-A.y,J.x=N.x-D.x,J.y=N.y-D.y;var ce=ue.x*J.x+ue.y*J.y,se=Math.sqrt(ue.x*ue.x+ue.y*ue.y),ge=Math.sqrt(J.x*J.x+J.y*J.y);return Math.acos(ce/(se*ge))<L}function d(A,D,N,L,W,z,le,ue,J){var ce=1-J,se=Math.pow(ce,3),ge=Math.pow(ce,2),_e=J*J,Ce=_e*J,be=se*A+3*ge*J*N+3*ce*J*J*W+Ce*le,Ie=se*D+3*ge*J*L+3*ce*J*J*z+Ce*ue,Se=A+2*J*(N-A)+_e*(W-2*N+A),Te=D+2*J*(L-D)+_e*(z-2*L+D),O=N+2*J*(W-N)+_e*(le-2*W+N),V=L+2*J*(z-L)+_e*(ue-2*z+L),X=ce*A+J*N,ee=ce*D+J*L,B=ce*W+J*le,U=ce*z+J*ue,re=90-180*Math.atan2(Se-O,Te-V)/Math.PI;return(O<Se||Te<V)&&(re+=180),{x:be,y:Ie,m:{x:Se,y:Te},n:{x:O,y:V},start:{x:X,y:ee},end:{x:B,y:U},alpha:re}}function y(A,D,N,L,W,z,le,ue,J){return J==null?R(A,D,N,L,W,z,le,ue):d(A,D,N,L,W,z,le,ue,function(ce,se,ge,_e,Ce,be,Ie,Se,Te){if(!(Te<0||R(ce,se,ge,_e,Ce,be,Ie,Se)<Te)){var O,V=.5,X=1-V;for(O=R(ce,se,ge,_e,Ce,be,Ie,Se,X);.01<Math.abs(O-Te);)O=R(ce,se,ge,_e,Ce,be,Ie,Se,X+=(O<Te?1:-1)*(V/=2));return X}}(A,D,N,L,W,z,le,ue,J))}function w(A,D,N){for(var L,W,z,le,ue,J=0,ce=0,se=(A=function(ge,_e){function Ce(ye,fe,ke){var Ne,Ue;if(!ye)return["C",fe.x,fe.y,fe.x,fe.y,fe.x,fe.y];switch(ye[0]in{T:1,Q:1}||(fe.qx=fe.qy=null),ye[0]){case"M":fe.X=ye[1],fe.Y=ye[2];break;case"A":ye=["C"].concat(function Le(Ze,Ae,Re,qe,$e,we,ot,H,Q,q){var K=Math.PI,he=120*K/180,je,De,We,xe,Qe=K/180*(+$e||0),ut=[],mt,bt=function(Vt,_t,rt){var Jt=Vt*Math.cos(rt)-_t*Math.sin(rt),ft=Vt*Math.sin(rt)+_t*Math.cos(rt);return{x:Jt,y:ft}};if(q)je=q[0],De=q[1],We=q[2],xe=q[3];else{mt=bt(Ze,Ae,-Qe),Ze=mt.x,Ae=mt.y,mt=bt(H,Q,-Qe),H=mt.x,Q=mt.y;var gt=(Ze-H)/2,vt=(Ae-Q)/2,Pt=gt*gt/(Re*Re)+vt*vt/(qe*qe);1<Pt&&(Pt=Math.sqrt(Pt),Re*=Pt,qe*=Pt);var mn=Re*Re,Pr=qe*qe,fo=(we===ot?-1:1)*Math.sqrt(Math.abs((mn*Pr-mn*vt*vt-Pr*gt*gt)/(mn*vt*vt+Pr*gt*gt)));We=fo*Re*vt/qe+(Ze+H)/2,xe=fo*-qe*gt/Re+(Ae+Q)/2,je=Math.asin(((Ae-xe)/qe).toFixed(9)),De=Math.asin(((Q-xe)/qe).toFixed(9)),(je=Ze<We?K-je:je)<0&&(je=2*K+je),(De=H<We?K-De:De)<0&&(De=2*K+De),ot&&De<je&&(je-=2*K),!ot&&je<De&&(De-=2*K)}var An=De-je;if(Math.abs(An)>he){var gn=De,po=H,mo=Q;De=je+he*(ot&&je<De?1:-1),H=We+Re*Math.cos(De),Q=xe+qe*Math.sin(De),ut=Le(H,Q,Re,qe,$e,0,ot,po,mo,[De,gn,We,xe])}An=De-je;var go=Math.cos(je),yo=Math.sin(je),vo=Math.cos(De),Fo=Math.sin(De),qn=Math.tan(An/4),Yn=4/3*Re*qn,pe=4/3*qe*qn,Ge=[Ze,Ae],Je=[Ze+Yn*yo,Ae-pe*go],Ye=[H+Yn*Fo,Q-pe*vo],st=[H,Q];Je[0]=2*Ge[0]-Je[0],Je[1]=2*Ge[1]-Je[1];{if(q)return[Je,Ye,st].concat(ut);ut=[Je,Ye,st].concat(ut).join().split(",");for(var Ve=[],Et=0,kt=ut.length;Et<kt;Et++)Ve[Et]=Et%2?bt(ut[Et-1],ut[Et],Qe).y:bt(ut[Et],ut[Et+1],Qe).x;return Ve}}.apply(0,[fe.x,fe.y].concat(ye.slice(1))));break;case"S":Ue=ke==="C"||ke==="S"?(Ne=2*fe.x-fe.bx,2*fe.y-fe.by):(Ne=fe.x,fe.y),ye=["C",Ne,Ue].concat(ye.slice(1));break;case"T":ke==="Q"||ke==="T"?(fe.qx=2*fe.x-fe.qx,fe.qy=2*fe.y-fe.qy):(fe.qx=fe.x,fe.qy=fe.y),ye=["C"].concat(C(fe.x,fe.y,fe.qx,fe.qy,ye[1],ye[2]));break;case"Q":fe.qx=ye[1],fe.qy=ye[2],ye=["C"].concat(C(fe.x,fe.y,ye[1],ye[2],ye[3],ye[4]));break;case"L":ye=["C"].concat(j(fe.x,fe.y,ye[1],ye[2]));break;case"H":ye=["C"].concat(j(fe.x,fe.y,ye[1],fe.y));break;case"V":ye=["C"].concat(j(fe.x,fe.y,fe.x,ye[1]));break;case"Z":ye=["C"].concat(j(fe.x,fe.y,fe.X,fe.Y))}return ye}function be(ye,fe){if(7<ye[fe].length){ye[fe].shift();for(var ke=ye[fe];ke.length;)ee[fe]="A",O&&(B[fe]="A"),ye.splice(fe++,0,["C"].concat(ke.splice(0,6)));ye.splice(fe,1),Se=Math.max(Te.length,O&&O.length||0)}}function Ie(ye,fe,ke,Ne,Ue){ye&&fe&&ye[Ue][0]==="M"&&fe[Ue][0]!=="M"&&(fe.splice(Ue,0,["M",Ne.x,Ne.y]),ke.bx=0,ke.by=0,ke.x=ye[Ue][1],ke.y=ye[Ue][2],Se=Math.max(Te.length,O&&O.length||0))}var Se,Te=_(ge),O=_e&&_(_e),V={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},X={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee=[],B=[],U="",re="";Se=Math.max(Te.length,O&&O.length||0);for(var $=0;$<Se;$++){Te[$]&&(U=Te[$][0]),U!=="C"&&(ee[$]=U,$&&(re=ee[$-1])),Te[$]=Ce(Te[$],V,re),ee[$]!=="A"&&U==="C"&&(ee[$]="C"),be(Te,$),O&&(O[$]&&(U=O[$][0]),U!=="C"&&(B[$]=U,$&&(re=B[$-1])),O[$]=Ce(O[$],X,re),B[$]!=="A"&&U==="C"&&(B[$]="C"),be(O,$)),Ie(Te,O,V,X,$),Ie(O,Te,X,V,$);var ne=Te[$],ie=O&&O[$],oe=ne.length,me=O&&ie.length;V.x=ne[oe-2],V.y=ne[oe-1],V.bx=parseFloat(ne[oe-4])||V.x,V.by=parseFloat(ne[oe-3])||V.y,X.bx=O&&(parseFloat(ie[me-4])||X.x),X.by=O&&(parseFloat(ie[me-3])||X.y),X.x=O&&ie[me-2],X.y=O&&ie[me-1]}return O?[Te,O]:Te}(A)).length;ce<se;ce++){if((z=A[ce])[0]==="M")L=+z[1],W=+z[2];else{if(D<J+(le=y(L,W,z[1],z[2],z[3],z[4],z[5],z[6]))&&!N)return{x:(ue=y(L,W,z[1],z[2],z[3],z[4],z[5],z[6],D-J)).x,y:ue.y,alpha:ue.alpha};J+=le,L=+z[5],W=+z[6]}z.shift()+z}return(ue=N?J:d(L,W,z[0],z[1],z[2],z[3],z[4],z[5],1)).alpha&&(ue={x:ue.x,y:ue.y,alpha:ue.alpha}),ue}function _(A){var D,N=[],L=0,W=0,z=0,le=0,ue=0;if(!A)return N;A[0][0]==="M"&&(z=L=+A[0][1],le=W=+A[0][2],ue++,N[0]=["M",L,W]);for(var J,ce,se=A.length===3&&A[0][0]==="M"&&A[1][0].toUpperCase()==="R"&&A[2][0].toUpperCase()==="Z",ge=ue,_e=A.length;ge<_e;ge++){if(N.push(J=[]),(ce=A[ge])[0]!==String.prototype.toUpperCase.call(ce[0]))switch(J[0]=String.prototype.toUpperCase.call(ce[0]),J[0]){case"A":J[1]=ce[1],J[2]=ce[2],J[3]=ce[3],J[4]=ce[4],J[5]=ce[5],J[6]=+(ce[6]+L),J[7]=+(ce[7]+W);break;case"V":J[1]=+ce[1]+W;break;case"H":J[1]=+ce[1]+L;break;case"R":for(var Ce=2,be=(D=[L,W].concat(ce.slice(1))).length;Ce<be;Ce++)D[Ce]=+D[Ce]+L,D[++Ce]=+D[Ce]+W;N.pop(),N=N.concat(S(D,se));break;case"M":z=+ce[1]+L,le=+ce[2]+W;break;default:for(var Ie=1,Se=ce.length;Ie<Se;Ie++)J[Ie]=+ce[Ie]+(Ie%2?L:W)}else if(ce[0]==="R")D=[L,W].concat(ce.slice(1)),N.pop(),N=N.concat(S(D,se)),J=["R"].concat(ce.slice(-2));else for(var Te=0,O=ce.length;Te<O;Te++)J[Te]=ce[Te];switch(J[0]){case"Z":L=z,W=le;break;case"H":L=J[1];break;case"V":W=J[1];break;case"M":z=J[J.length-2],le=J[J.length-1];break;default:L=J[J.length-2],W=J[J.length-1]}}return N}function S(A,D){for(var N=[],L=0,W=A.length;L<W-2*!D;L+=2){var z=[{x:+A[L-2],y:+A[L-1]},{x:+A[L],y:+A[L+1]},{x:+A[L+2],y:+A[L+3]},{x:+A[L+4],y:+A[L+5]}];D?L?W-4===L?z[3]={x:+A[0],y:+A[1]}:W-2===L&&(z[2]={x:+A[0],y:+A[1]},z[3]={x:+A[2],y:+A[3]}):z[0]={x:+A[W-2],y:+A[W-1]}:W-4===L?z[3]=z[2]:L||(z[0]={x:+A[L],y:+A[L+1]}),N.push(["C",(-z[0].x+6*z[1].x+z[2].x)/6,(-z[0].y+6*z[1].y+z[2].y)/6,(z[1].x+6*z[2].x-z[3].x)/6,(z[1].y+6*z[2].y-z[3].y)/6,z[2].x,z[2].y])}return N}function j(A,D,N,L){return[A,D,N,L,N,L]}function C(A,D,N,L,W,z){return[1/3*A+2/3*N,1/3*D+2/3*L,1/3*W+2/3*N,1/3*z+2/3*L,W,z]}function R(A,D,N,L,W,z,le,ue,J){J==null&&(J=1);for(var ce=(J=1<J?1:J<0?0:J)/2,se=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ge=0,_e=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ce=0;Ce<12;Ce++){var be=ce*se[Ce]+ce,Ie=P(be,A,N,W,le),Se=P(be,D,L,z,ue),Te=Ie*Ie+Se*Se;ge+=_e[Ce]*Math.sqrt(Te)}return ce*ge}function P(A,D,N,L,W){return A*(A*(-3*D+9*N-9*L+3*W)+6*D-12*N+6*L)-3*D+3*N}n.default.Font=function(A){this.parent=A,this.cache={},this.font=void 0},n.default.Font.prototype.textBounds=function(A){var D,N=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,W=3<arguments.length?arguments[3]:void 0,z=4<arguments.length?arguments[4]:void 0,le=z&&z.renderer&&z.renderer._pInst||this.parent,ue=le._renderer.drawingContext;if(ue.textAlign||p.LEFT,ue.textBaseline||p.BASELINE,W=W||le._renderer._textSize,!D){var J,ce,se=[],ge=[],_e=[];_e[0]=[];var Ce=[],be=this._scale(W),Ie=le._renderer.textLeading(),Se=0;this.font.forEachGlyph(A,N,L,W,z,function(ee,B,U,re){var $=ee.getMetrics();ee.index===0||ee.index===10?_e[Se+=1]=[]:(_e[Se].push(B+$.xMin*be),_e[Se].push(B+$.xMax*be),Ce.push(U+Se*Ie+-$.yMin*be),Ce.push(U+Se*Ie+-$.yMax*be))}),0<_e[Se].length&&(se[Se]=Math.min.apply(null,_e[Se]),ge[Se]=Math.max.apply(null,_e[Se]));for(var Te=0,O=0;O<=Se;O++){se[O]=Math.min.apply(null,_e[O]),ge[O]=Math.max.apply(null,_e[O]);var V=ge[O]-se[O];Te<V&&(Te=V)}var X=Math.min.apply(null,se);D={x:X,y:J=Math.min.apply(null,Ce),h:Math.max.apply(null,Ce)-J,w:Te,advance:X-N},ce=this._handleAlignment(le._renderer,A,D.x,D.y,D.w+D.advance),D.x=ce.x,D.y=ce.y}return D},n.default.Font.prototype.textToPoints=function(A,D,N,L,W){var z,le=0,ue=[],J=this._getGlyphs(A);L=L||this.parent._renderer._textSize;for(var ce=0;ce<J.length;ce++){if(!(J[z=ce].name&&J[z].name==="space"||A.length===J.length&&A[z]===" "))for(var se=i(J[ce].getPath(D,N,L).commands),ge=0;ge<se.length;ge++)for(var _e=m(se[ge],W),Ce=0;Ce<_e.length;Ce++)_e[Ce].x+=le,ue.push(_e[Ce]);le+=J[ce].advanceWidth*this._scale(L)}return ue},n.default.Font.prototype._getGlyphs=function(A){return this.font.stringToGlyphs(A)},n.default.Font.prototype._getPath=function(A,D,N,L){var W=(L&&L.renderer&&L.renderer._pInst||this.parent)._renderer,z=this._handleAlignment(W,A,D,N);return this.font.getPath(A,z.x,z.y,W._textSize,L)},n.default.Font.prototype._getPathData=function(A,D,N,L){var W=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,D,N,L):g(D)==="object"&&(L=D),L&&typeof L.decimals=="number"&&(W=L.decimals),A.toPathData(W)},n.default.Font.prototype._getSVG=function(A,D,N,L){var W=3;return typeof A=="string"&&2<arguments.length?A=this._getPath(A,D,N,L):g(D)==="object"&&(L=D),L&&(typeof L.decimals=="number"&&(W=L.decimals),typeof L.strokeWidth=="number"&&(A.strokeWidth=L.strokeWidth),L.fill!==void 0&&(A.fill=L.fill),L.stroke!==void 0&&(A.stroke=L.stroke)),A.toSVG(W)},n.default.Font.prototype._renderPath=function(A,D,N,L){var W,z=L&&L.renderer||this.parent._renderer,le=z.drawingContext;W=g(A)==="object"&&A.commands?A.commands:this._getPath(A,D,N,L).commands,le.beginPath();var ue=!0,J=!1,ce=void 0;try{for(var se,ge=W[Symbol.iterator]();!(ue=(se=ge.next()).done);ue=!0){var _e=se.value;_e.type==="M"?le.moveTo(_e.x,_e.y):_e.type==="L"?le.lineTo(_e.x,_e.y):_e.type==="C"?le.bezierCurveTo(_e.x1,_e.y1,_e.x2,_e.y2,_e.x,_e.y):_e.type==="Q"?le.quadraticCurveTo(_e.x1,_e.y1,_e.x,_e.y):_e.type==="Z"&&le.closePath()}}catch(Ce){J=!0,ce=Ce}finally{try{ue||ge.return==null||ge.return()}finally{if(J)throw ce}}return z._doStroke&&z._strokeSet&&le.stroke(),z._doFill&&(z._fillSet||z._setFill(p._DEFAULT_TEXT_FILL),le.fill()),this},n.default.Font.prototype._textWidth=function(A,D){return this.font.getAdvanceWidth(A,D)},n.default.Font.prototype._textAscent=function(A){return this.font.ascender*this._scale(A)},n.default.Font.prototype._textDescent=function(A){return-this.font.descender*this._scale(A)},n.default.Font.prototype._scale=function(A){return 1/this.font.unitsPerEm*(A||this.parent._renderer._textSize)},n.default.Font.prototype._handleAlignment=function(A,D,N,L,W){var z=A._textSize;switch(W===void 0&&(W=this._textWidth(D,z)),A._textAlign){case p.CENTER:N-=W/2;break;case p.RIGHT:N-=W}switch(A._textBaseline){case p.TOP:L+=this._textAscent(z);break;case p.CENTER:L+=this._textAscent(z)/2;break;case p.BOTTOM:L-=this._textDescent(z)}return{x:N,y:L}};var I=n.default;u.default=I},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],303:[function(e,l,u){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.prototype.append=function(f,g){return f.push(g),f},n.default.prototype.arrayCopy=function(f,g,m,i,s){var a,c;f=s!==void 0?(c=Math.min(s,f.length),a=i,f.slice(g,c+g)):(c=m!==void 0?(c=m,Math.min(c,f.length)):f.length,a=0,m=g,f.slice(0,c)),Array.prototype.splice.apply(m,[a,c].concat(f))},n.default.prototype.concat=function(f,g){return f.concat(g)},n.default.prototype.reverse=function(f){return f.reverse()},n.default.prototype.shorten=function(f){return f.pop(),f},n.default.prototype.shuffle=function(f,g){for(var m,i,s=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(f),a=(f=g||s?f:f.slice()).length;1<a;)m=this.random(0,1)*a|0,i=f[--a],f[a]=f[m],f[m]=i;return f},n.default.prototype.sort=function(f,g){var m=g?f.slice(0,Math.min(g,f.length)):f,i=g?f.slice(Math.min(g,f.length)):[];return(m=typeof m[0]=="string"?m.sort():m.sort(function(s,a){return s-a})).concat(i)},n.default.prototype.splice=function(f,g,m){return Array.prototype.splice.apply(f,[m,0].concat(g)),f},n.default.prototype.subset=function(f,g,m){return m!==void 0?f.slice(g,g+m):f.slice(g,f.length)};var p=n.default;u.default=p},{"../core/main":264,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],304:[function(e,l,u){e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.prototype.float=function(f){return f instanceof Array?f.map(parseFloat):parseFloat(f)},n.default.prototype.int=function(f){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return f===1/0||f==="Infinity"?1/0:f===-1/0||f==="-Infinity"?-1/0:typeof f=="string"?parseInt(f,g):typeof f=="number"?0|f:typeof f=="boolean"?f?1:0:f instanceof Array?f.map(function(m){return n.default.prototype.int(m,g)}):void 0},n.default.prototype.str=function(f){return f instanceof Array?f.map(n.default.prototype.str):String(f)},n.default.prototype.boolean=function(f){return typeof f=="number"?f!==0:typeof f=="string"?f.toLowerCase()==="true":typeof f=="boolean"?f:f instanceof Array?f.map(n.default.prototype.boolean):void 0},n.default.prototype.byte=function(f){var g=n.default.prototype.int(f,10);return typeof g=="number"?(g+128)%256-128:g instanceof Array?g.map(n.default.prototype.byte):void 0},n.default.prototype.char=function(f){return typeof f!="number"||isNaN(f)?f instanceof Array?f.map(n.default.prototype.char):typeof f=="string"?n.default.prototype.char(parseInt(f,10)):void 0:String.fromCharCode(f)},n.default.prototype.unchar=function(f){return typeof f=="string"&&f.length===1?f.charCodeAt(0):f instanceof Array?f.map(n.default.prototype.unchar):void 0},n.default.prototype.hex=function(f,g){if(g=g??(g=8),f instanceof Array)return f.map(function(i){return n.default.prototype.hex(i,g)});if(f===1/0||f===-1/0)return(f===1/0?"F":"0").repeat(g);if(typeof f=="number"){f<0&&(f=4294967295+f+1);for(var m=Number(f).toString(16).toUpperCase();m.length<g;)m="0".concat(m);return m.length>=g&&(m=m.substring(m.length-g,m.length)),m}},n.default.prototype.unhex=function(f){return f instanceof Array?f.map(n.default.prototype.unhex):parseInt("0x".concat(f),16)};var p=n.default;u.default=p},{"../core/main":264,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],305:[function(e,l,u){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(s,a,c){var d=s<0,y=d?s.toString().substring(1):s.toString(),w=y.indexOf("."),_=w!==-1?y.substring(0,w):y,S=w!==-1?y.substring(w+1):"",j=d?"-":"";if(c!==void 0){var C="";(w!==-1||0<c-S.length)&&(C="."),S.length>c&&(S=S.substring(0,c));for(var R=0;R<a-_.length;R++)j+="0";j+=_,j+=C,j+=S;for(var P=0;P<c-S.length;P++)j+="0";return j}for(var I=0;I<Math.max(a-_.length,0);I++)j+="0";return j+=y}function f(s,a){var c=(s=s.toString()).indexOf("."),d=c!==-1?s.substring(c):"",y=c!==-1?s.substring(0,c):s;if(y=y.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),a===0)d="";else if(a!==void 0)if(a>d.length)for(var w=a-(d+=c===-1?".":"").length+1,_=0;_<w;_++)d+="0";else d=d.substring(0,a+1);return y+d}function g(s){return 0<parseFloat(s)?"+".concat(s.toString()):s.toString()}function m(s){return 0<=parseFloat(s)?" ".concat(s.toString()):s.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),n.default.prototype.join=function(s,a){return n.default._validateParameters("join",arguments),s.join(a)},n.default.prototype.match=function(s,a){return n.default._validateParameters("match",arguments),s.match(a)},n.default.prototype.matchAll=function(s,a){n.default._validateParameters("matchAll",arguments);for(var c=new RegExp(a,"g"),d=c.exec(s),y=[];d!==null;)y.push(d),d=c.exec(s);return y},n.default.prototype.nf=function(s,a,c){return n.default._validateParameters("nf",arguments),s instanceof Array?s.map(function(d){return p(d,a,c)}):Object.prototype.toString.call(s)==="[object Arguments]"?s.length===3?this.nf(s[0],s[1],s[2]):s.length===2?this.nf(s[0],s[1]):this.nf(s[0]):p(s,a,c)},n.default.prototype.nfc=function(s,a){return n.default._validateParameters("nfc",arguments),s instanceof Array?s.map(function(c){return f(c,a)}):f(s,a)},n.default.prototype.nfp=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];n.default._validateParameters("nfp",a);var d=n.default.prototype.nf.apply(this,a);return d instanceof Array?d.map(g):g(d)},n.default.prototype.nfs=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];n.default._validateParameters("nfs",a);var d=n.default.prototype.nf.apply(this,a);return d instanceof Array?d.map(m):m(d)},n.default.prototype.split=function(s,a){return n.default._validateParameters("split",arguments),s.split(a)},n.default.prototype.splitTokens=function(s,a){var c;if(n.default._validateParameters("splitTokens",arguments),a!==void 0){var d=a,y=/\]/g.exec(d),w=/\[/g.exec(d);c=w&&y?(d=d.slice(0,y.index)+d.slice(y.index+1),w=/\[/g.exec(d),d=d.slice(0,w.index)+d.slice(w.index+1),new RegExp("[\\[".concat(d,"\\]]"),"g")):y?(d=d.slice(0,y.index)+d.slice(y.index+1),new RegExp("[".concat(d,"\\]]"),"g")):w?(d=d.slice(0,w.index)+d.slice(w.index+1),new RegExp("[".concat(d,"\\[]"),"g")):new RegExp("[".concat(d,"]"),"g")}else c=/\s/g;return s.split(c).filter(function(_){return _})},n.default.prototype.trim=function(s){return n.default._validateParameters("trim",arguments),s instanceof Array?s.map(this.trim):s.trim()};var i=n.default;u.default=i},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],306:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.prototype.day=function(){return new Date().getDate()},n.default.prototype.hour=function(){return new Date().getHours()},n.default.prototype.minute=function(){return new Date().getMinutes()},n.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},n.default.prototype.month=function(){return new Date().getMonth()+1},n.default.prototype.second=function(){return new Date().getSeconds()},n.default.prototype.year=function(){return new Date().getFullYear()};var p=n.default;u.default=p},{"../core/main":264}],307:[function(e,l,u){function h(s){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n};e("./p5.Geometry");var f=function(s){if(s&&s.__esModule)return s;if(s===null||h(s)!=="object"&&typeof s!="function")return{default:s};var a=g();if(a&&a.has(s))return a.get(s);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in s)if(Object.prototype.hasOwnProperty.call(s,y)){var w=d?Object.getOwnPropertyDescriptor(s,y):null;w&&(w.get||w.set)?Object.defineProperty(c,y,w):c[y]=s[y]}return c.default=s,a&&a.set(s,c),c}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return g=function(){return s},s}p.default.prototype.plane=function(s,a,c,d){this._assert3d("plane"),p.default._validateParameters("plane",arguments),s===void 0&&(s=50),a===void 0&&(a=s),c===void 0&&(c=1),d===void 0&&(d=1);var y="plane|".concat(c,"|").concat(d);if(!this._renderer.geometryInHash(y)){var w=new p.default.Geometry(c,d,function(){for(var _,S,j,C=0;C<=this.detailY;C++){S=C/this.detailY;for(var R=0;R<=this.detailX;R++)_=R/this.detailX,j=new p.default.Vector(_-.5,S-.5,0),this.vertices.push(j),this.uvs.push(_,S)}});w.computeFaces().computeNormals(),c<=1&&d<=1?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(y,w)}return this._renderer.drawBuffersScaled(y,s,a,1),this},p.default.prototype.box=function(s,a,c,d,y){this._assert3d("box"),p.default._validateParameters("box",arguments),s===void 0&&(s=50),a===void 0&&(a=s),c===void 0&&(c=a);var w=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;d===void 0&&(d=w?1:4),y===void 0&&(y=w?1:4);var _="box|".concat(d,"|").concat(y);if(!this._renderer.geometryInHash(_)){var S=new p.default.Geometry(d,y,function(){var j=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var C=0;C<j.length;C++){for(var R=j[C],P=4*C,I=0;I<4;I++){var A=R[I],D=new p.default.Vector((2*(1&A)-1)/2,((2&A)-1)/2,((4&A)/2-1)/2);this.vertices.push(D),this.uvs.push(1&I,(2&I)/2)}this.faces.push([P,1+P,2+P]),this.faces.push([2+P,1+P,3+P])}});S.computeNormals(),d<=4&&y<=4?S._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(_,S)}return this._renderer.drawBuffersScaled(_,s,a,c),this},p.default.prototype.sphere=function(s,a,c){return this._assert3d("sphere"),p.default._validateParameters("sphere",arguments),s===void 0&&(s=50),a===void 0&&(a=24),c===void 0&&(c=16),this.ellipsoid(s,s,s,a,c),this};function m(s,a,c,d,y,w,_){s=s<=0?1:s,a=a<0?0:a,c=c<=0?s:c,d=d<3?3:d;var S,j,C,R=(w=w===void 0||w)?-2:0,P=(y=y<1?1:y)+((_=_===void 0?a!==0:_)?2:0),I=Math.atan2(s-a,c),A=Math.sin(I),D=Math.cos(I);for(S=R;S<=P;++S){var N=S/y,L=c*N,W=void 0;for(W=S<0?(N=L=0,s):y<S?(L=c,N=1,a):s+(a-s)*N,S!==-2&&S!==y+2||(W=0),L-=c/2,j=0;j<d;++j){var z=j/(d-1),le=2*Math.PI*z,ue=Math.sin(le),J=Math.cos(le);this.vertices.push(new p.default.Vector(ue*W,L,J*W));var ce=void 0;ce=S<0?new p.default.Vector(0,-1,0):y<S&&a?new p.default.Vector(0,1,0):new p.default.Vector(ue*D,A,J*D),this.vertexNormals.push(ce),this.uvs.push(z,N)}}var se=0;if(w){for(C=0;C<d;++C){var ge=(C+1)%d;this.faces.push([se+C,se+d+ge,se+d+C])}se+=2*d}for(S=0;S<y;++S){for(j=0;j<d;++j){var _e=(j+1)%d;this.faces.push([se+j,se+_e,se+d+_e]),this.faces.push([se+j,se+d+_e,se+d+j])}se+=d}if(_)for(se+=d,j=0;j<d;++j)this.faces.push([se+j,se+(j+1)%d,se+d])}p.default.prototype.cylinder=function(s,a,c,d,y,w){this._assert3d("cylinder"),p.default._validateParameters("cylinder",arguments),s===void 0&&(s=50),a===void 0&&(a=s),c===void 0&&(c=24),d===void 0&&(d=1),w===void 0&&(w=!0),y===void 0&&(y=!0);var _="cylinder|".concat(c,"|").concat(d,"|").concat(y,"|").concat(w);if(!this._renderer.geometryInHash(_)){var S=new p.default.Geometry(c,d);m.call(S,1,1,1,c,d,y,w),c<=24&&d<=16?S._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,S)}return this._renderer.drawBuffersScaled(_,s,a,s),this},p.default.prototype.cone=function(s,a,c,d,y){this._assert3d("cone"),p.default._validateParameters("cone",arguments),s===void 0&&(s=50),a===void 0&&(a=s),c===void 0&&(c=24),d===void 0&&(d=1),y===void 0&&(y=!0);var w="cone|".concat(c,"|").concat(d,"|").concat(y);if(!this._renderer.geometryInHash(w)){var _=new p.default.Geometry(c,d);m.call(_,1,0,1,c,d,y,!1),c<=24&&d<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,_)}return this._renderer.drawBuffersScaled(w,s,a,s),this},p.default.prototype.ellipsoid=function(s,a,c,d,y){this._assert3d("ellipsoid"),p.default._validateParameters("ellipsoid",arguments),s===void 0&&(s=50),a===void 0&&(a=s),c===void 0&&(c=s),d===void 0&&(d=24),y===void 0&&(y=16);var w="ellipsoid|".concat(d,"|").concat(y);if(!this._renderer.geometryInHash(w)){var _=new p.default.Geometry(d,y,function(){for(var S=0;S<=this.detailY;S++)for(var j=S/this.detailY,C=Math.PI*j-Math.PI/2,R=Math.cos(C),P=Math.sin(C),I=0;I<=this.detailX;I++){var A=I/this.detailX,D=2*Math.PI*A,N=Math.cos(D),L=Math.sin(D),W=new p.default.Vector(R*L,P,R*N);this.vertices.push(W),this.vertexNormals.push(W),this.uvs.push(A,j)}});_.computeFaces(),d<=24&&y<=24?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(w,_)}return this._renderer.drawBuffersScaled(w,s,a,c),this},p.default.prototype.torus=function(s,a,c,d){if(this._assert3d("torus"),p.default._validateParameters("torus",arguments),s===void 0)s=50;else if(!s)return;if(a===void 0)a=10;else if(!a)return;c===void 0&&(c=24),d===void 0&&(d=16);var y=(a/s).toPrecision(4),w="torus|".concat(y,"|").concat(c,"|").concat(d);if(!this._renderer.geometryInHash(w)){var _=new p.default.Geometry(c,d,function(){for(var S=0;S<=this.detailY;S++)for(var j=S/this.detailY,C=2*Math.PI*j,R=Math.cos(C),P=Math.sin(C),I=1+y*R,A=0;A<=this.detailX;A++){var D=A/this.detailX,N=2*Math.PI*D,L=Math.cos(N),W=Math.sin(N),z=new p.default.Vector(I*L,I*W,y*P),le=new p.default.Vector(R*L,R*W,P);this.vertices.push(z),this.vertexNormals.push(le),this.uvs.push(D,j)}});_.computeFaces(),c<=24&&d<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,_)}return this._renderer.drawBuffersScaled(w,s,s,s),this},p.default.RendererGL.prototype.point=function(s,a,c){c===void 0&&(c=0);var d=[];return d.push(new p.default.Vector(s,a,c)),this._drawPoints(d,this.immediateMode.buffers.point),this},p.default.RendererGL.prototype.triangle=function(s){var a=s[0],c=s[1],d=s[2],y=s[3],w=s[4],_=s[5];if(!this.geometryInHash("tri")){var S=new p.default.Geometry(1,1,function(){var R=[];R.push(new p.default.Vector(0,0,0)),R.push(new p.default.Vector(0,1,0)),R.push(new p.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=R,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});S._makeTriangleEdges()._edgesToVertices(),S.computeNormals(),this.createBuffers("tri",S)}var j=this.uMVMatrix.copy();try{var C=new p.default.Matrix([d-a,y-c,0,0,w-a,_-c,0,0,0,0,1,0,a,c,0,1]).mult(this.uMVMatrix);this.uMVMatrix=C,this.drawBuffers("tri")}finally{this.uMVMatrix=j}return this},p.default.RendererGL.prototype.ellipse=function(s){this.arc(s[0],s[1],s[2],s[3],0,f.TWO_PI,f.OPEN,s[4])},p.default.RendererGL.prototype.arc=function(s){var a,c,d=s,y=arguments[1],w=arguments[2],_=arguments[3],S=arguments[4],j=arguments[5],C=arguments[6],R=arguments[7]||25;if(c=Math.abs(j-S)>=f.TWO_PI?"".concat(a="ellipse","|").concat(R,"|"):"".concat(a="arc","|").concat(S,"|").concat(j,"|").concat(C,"|").concat(R,"|"),!this.geometryInHash(c)){var P=new p.default.Geometry(R,1,function(){if(this.strokeIndices=[],S.toFixed(10)!==j.toFixed(10)){C!==f.PIE&&C!==void 0||(this.vertices.push(new p.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var A=0;A<=R;A++){var D=(j-S)*(A/R)+S,N=.5+Math.cos(D)/2,L=.5+Math.sin(D)/2;this.vertices.push(new p.default.Vector(N,L,0)),this.uvs.push([N,L]),A<R-1&&(this.faces.push([0,A+1,A+2]),this.strokeIndices.push([A+1,A+2]))}switch(C){case f.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case f.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case f.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});P.computeNormals(),R<=50?P._makeTriangleEdges()._edgesToVertices(P):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(a," with more than 50 detail")),this.createBuffers(c,P)}var I=this.uMVMatrix.copy();try{this.uMVMatrix.translate([d,y,0]),this.uMVMatrix.scale(w,_,1),this.drawBuffers(c)}finally{this.uMVMatrix=I}return this},p.default.RendererGL.prototype.rect=function(s){var a=this._pInst._glAttributes.perPixelLighting,c=s[0],d=s[1],y=s[2],w=s[3],_=s[4]||(a?1:24),S=s[5]||(a?1:16),j="rect|".concat(_,"|").concat(S);if(!this.geometryInHash(j)){var C=new p.default.Geometry(_,S,function(){for(var P=0;P<=this.detailY;P++)for(var I=P/this.detailY,A=0;A<=this.detailX;A++){var D=A/this.detailX,N=new p.default.Vector(D,I,0);this.vertices.push(N),this.uvs.push(D,I)}0<_&&0<S&&(this.strokeIndices=[[0,_],[_,(_+1)*(S+1)-1],[(_+1)*(S+1)-1,(_+1)*S],[(_+1)*S,0]])});C.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(j,C)}var R=this.uMVMatrix.copy();try{this.uMVMatrix.translate([c,d,0]),this.uMVMatrix.scale(y,w,1),this.drawBuffers(j)}finally{this.uMVMatrix=R}return this},p.default.RendererGL.prototype.quad=function(s,a,c,d,y,w,_,S,j,C,R,P,I,A){I===void 0&&(I=2),A===void 0&&(A=2);var D="quad|".concat(s,"|").concat(a,"|").concat(c,"|").concat(d,"|").concat(y,"|").concat(w,"|").concat(_,"|").concat(S,"|").concat(j,"|").concat(C,"|").concat(R,"|").concat(P,"|").concat(I,"|").concat(A);if(!this.geometryInHash(D)){var N=new p.default.Geometry(I,A,function(){for(var ce=1/(this.detailX-1),se=1/(this.detailY-1),ge=0;ge<this.detailY;ge++)for(var _e=0;_e<this.detailX;_e++){var Ce=_e*ce,be=ge*se,Ie=(1-Ce)*((1-be)*s+be*C)+Ce*((1-be)*d+be*_),Se=(1-Ce)*((1-be)*a+be*R)+Ce*((1-be)*y+be*S),Te=(1-Ce)*((1-be)*c+be*P)+Ce*((1-be)*w+be*j);this.vertices.push(new p.default.Vector(Ie,Se,Te)),this.uvs.push([Ce,be])}});N.faces=[];for(var L=0;L<A-1;L++)for(var W=0;W<I-1;W++){var z=W+L*I,le=W+1+L*I,ue=W+1+(L+1)*I,J=W+(L+1)*I;N.faces.push([z,le,ue]),N.faces.push([z,ue,J])}N.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(D,N)}return this.drawBuffers(D),this},p.default.RendererGL.prototype.bezier=function(s,a,c,d,y,w,_,S,j,C,R,P){arguments.length===8&&(R=S,C=_,S=w,_=y,y=d,d=c,c=w=j=P=0);var I=this._pInst._bezierDetail||20;this.beginShape();for(var A=0;A<=I;A++){var D=Math.pow(1-A/I,3),N=A/I*3*Math.pow(1-A/I,2),L=3*Math.pow(A/I,2)*(1-A/I),W=Math.pow(A/I,3);this.vertex(s*D+d*N+_*L+C*W,a*D+y*N+S*L+R*W,c*D+w*N+j*L+P*W)}return this.endShape(),this},p.default.RendererGL.prototype.curve=function(s,a,c,d,y,w,_,S,j,C,R,P){arguments.length===8&&(C=_,R=S,_=y,S=d,y=d=c,c=w=j=P=0);var I=this._pInst._curveDetail;this.beginShape();for(var A=0;A<=I;A++){var D=.5*Math.pow(A/I,3),N=.5*Math.pow(A/I,2),L=A/I*.5,W=D*(3*d-s-3*_+C)+N*(2*s-5*d+4*_-C)+L*(-s+_)+2*d*.5,z=D*(3*y-a-3*S+R)+N*(2*a-5*y+4*S-R)+L*(-a+S)+2*y*.5,le=D*(3*w-c-3*j+P)+N*(2*c-5*w+4*j-P)+L*(-c+j)+2*w*.5;this.vertex(W,z,le)}return this.endShape(),this},p.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},p.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var s,a,c,d,y,w=[],_=[],S=[],j=arguments.length;if((s=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,R=0,P=1,I=0;R<1;){if(s=parseFloat(R.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(s),P.toFixed(6)===C.toFixed(6)){s=parseFloat(P.toFixed(6))+parseFloat(R.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(s);break}R+=C,P-=C,++I}}var A=this._lookUpTableBezier.length;if(j===6){for(this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],y=0;y<A;y++)a=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],c=_[0]*this._lookUpTableBezier[y][0]+_[1]*this._lookUpTableBezier[y][1]+_[2]*this._lookUpTableBezier[y][2]+_[3]*this._lookUpTableBezier[y][3],this.vertex(a,c);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(j===9){for(this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],_=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],S=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],y=0;y<A;y++)a=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],c=_[0]*this._lookUpTableBezier[y][0]+_[1]*this._lookUpTableBezier[y][1]+_[2]*this._lookUpTableBezier[y][2]+_[3]*this._lookUpTableBezier[y][3],d=S[0]*this._lookUpTableBezier[y][0]+S[1]*this._lookUpTableBezier[y][1]+S[2]*this._lookUpTableBezier[y][2]+S[3]*this._lookUpTableBezier[y][3],this.vertex(a,c,d);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},p.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var s,a,c,d,y,w=[],_=[],S=[],j=arguments.length;if((s=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var C=1/this._lutQuadraticDetail,R=0,P=1,I=0;R<1;){if(s=parseFloat(R.toFixed(6)),this._lookUpTableQuadratic[I]=this._quadraticCoefficients(s),P.toFixed(6)===C.toFixed(6)){s=parseFloat(P.toFixed(6))+parseFloat(R.toFixed(6)),++I,this._lookUpTableQuadratic[I]=this._quadraticCoefficients(s);break}R+=C,P-=C,++I}}var A=this._lookUpTableQuadratic.length;if(j===4){for(this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],y=0;y<A;y++)a=w[0]*this._lookUpTableQuadratic[y][0]+w[1]*this._lookUpTableQuadratic[y][1]+w[2]*this._lookUpTableQuadratic[y][2],c=_[0]*this._lookUpTableQuadratic[y][0]+_[1]*this._lookUpTableQuadratic[y][1]+_[2]*this._lookUpTableQuadratic[y][2],this.vertex(a,c);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(j===6){for(this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],_=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],S=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],y=0;y<A;y++)a=w[0]*this._lookUpTableQuadratic[y][0]+w[1]*this._lookUpTableQuadratic[y][1]+w[2]*this._lookUpTableQuadratic[y][2],c=_[0]*this._lookUpTableQuadratic[y][0]+_[1]*this._lookUpTableQuadratic[y][1]+_[2]*this._lookUpTableQuadratic[y][2],d=S[0]*this._lookUpTableQuadratic[y][0]+S[1]*this._lookUpTableQuadratic[y][1]+S[2]*this._lookUpTableQuadratic[y][2],this.vertex(a,c,d);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},p.default.RendererGL.prototype.curveVertex=function(){var s,a,c,d,y,w=[],_=[],S=[],j=arguments.length;if((s=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,R=0,P=1,I=0;R<1;){if(s=parseFloat(R.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(s),P.toFixed(6)===C.toFixed(6)){s=parseFloat(P.toFixed(6))+parseFloat(R.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(s);break}R+=C,P-=C,++I}}var A=this._lookUpTableBezier.length;if(j===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),y=0;y<A;y++)a=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],c=_[0]*this._lookUpTableBezier[y][0]+_[1]*this._lookUpTableBezier[y][1]+_[2]*this._lookUpTableBezier[y][2]+_[3]*this._lookUpTableBezier[y][3],this.vertex(a,c);for(y=0;y<j;y++)this.immediateMode._curveVertex.shift()}}else if(j===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),S=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),y=0;y<A;y++)a=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],c=_[0]*this._lookUpTableBezier[y][0]+_[1]*this._lookUpTableBezier[y][1]+_[2]*this._lookUpTableBezier[y][2]+_[3]*this._lookUpTableBezier[y][3],d=S[0]*this._lookUpTableBezier[y][0]+S[1]*this._lookUpTableBezier[y][1]+S[2]*this._lookUpTableBezier[y][2]+S[3]*this._lookUpTableBezier[y][3],this.vertex(a,c,d);for(y=0;y<j;y++)this.immediateMode._curveVertex.shift()}},p.default.RendererGL.prototype.image=function(s,a,c,d,y,w,_,S,j){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(s),this._pInst.textureMode(f.NORMAL);var C=0;a<=s.width&&(C=a/s.width);var R=1;a+d<=s.width&&(R=(a+d)/s.width);var P=0;c<=s.height&&(P=c/s.height);var I=1;c+y<=s.height&&(I=(c+y)/s.height),this.beginShape(),this.vertex(w,_,0,C,P),this.vertex(w+S,_,0,R,P),this.vertex(w+S,_+j,0,R,I),this.vertex(w,_+j,0,C,I),this.endShape(f.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(f.REMOVE)};var i=p.default;u.default=i},{"../core/constants":253,"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.number.to-fixed":172}],308:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=g();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.prototype.orbitControl=function(i,s,a){if(this._assert3d("orbitControl"),p.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var c=this._renderer._curCamera;i===void 0&&(i=1),s===void 0&&(s=i),a===void 0&&(a=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var d=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,a*d):this._renderer._curCamera._orbit(0,0,-a*d)),this.mouseIsPressed){if(this.mouseButton===this.LEFT){var y=-i*(this.mouseX-this.pmouseX)/d,w=s*(this.mouseY-this.pmouseY)/d;this._renderer._curCamera._orbit(y,w,0)}else if(this.mouseButton===this.RIGHT){var _=c._getLocalAxes(),S=Math.sqrt(_.x[0]*_.x[0]+_.x[2]*_.x[2]);S!==0&&(_.x[0]/=S,_.x[2]/=S);var j=Math.sqrt(_.y[0]*_.y[0]+_.y[2]*_.y[2]);j!==0&&(_.y[0]/=j,_.y[2]/=j);var C=-1*i*(this.mouseX-this.pmouseX),R=-1*s*(this.mouseY-this.pmouseY);c.setPosition(c.eyeX+C*_.x[0]+R*_.z[0],c.eyeY,c.eyeZ+C*_.x[2]+R*_.z[2])}}return this}},p.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];p.default._validateParameters("debugMode",s);for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1);s[0]===f.GRID?this.registerMethod("post",this._grid.call(this,s[1],s[2],s[3],s[4],s[5])):s[0]===f.AXES?this.registerMethod("post",this._axesIcon.call(this,s[1],s[2],s[3],s[4])):(this.registerMethod("post",this._grid.call(this,s[0],s[1],s[2],s[3],s[4])),this.registerMethod("post",this._axesIcon.call(this,s[5],s[6],s[7],s[8])))},p.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1)},p.default.prototype._grid=function(i,s,a,c,d){i===void 0&&(i=this.width/2),s===void 0&&(s=Math.round(i/30)<4?4:Math.round(i/30)),a===void 0&&(a=0),c===void 0&&(c=0),d===void 0&&(d=0);var y=i/s,w=i/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var _=0;_<=s;_++)this.beginShape(this.LINES),this.vertex(-w+a,c,_*y-w+d),this.vertex(+w+a,c,_*y-w+d),this.endShape();for(var S=0;S<=s;S++)this.beginShape(this.LINES),this.vertex(S*y-w+a,c,-w+d),this.vertex(S*y-w+a,c,+w+d),this.endShape();this.pop()}},p.default.prototype._axesIcon=function(i,s,a,c){return i===void 0&&(i=40<this.width/20?this.width/20:40),s===void 0&&(s=-this.width/4),a===void 0&&(a=s),c===void 0&&(c=s),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(s,a,c),this.vertex(s+i,a,c),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(s,a,c),this.vertex(s,a+i,c),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(s,a,c),this.vertex(s,a,c+i),this.endShape(),this.pop()}};var m=p.default;u.default=m},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],309:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=g();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.prototype.ambientLight=function(i,s,a,c){this._assert3d("ambientLight"),p.default._validateParameters("ambientLight",arguments);var d=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(d._array[0],d._array[1],d._array[2]),this._renderer._enableLighting=!0,this},p.default.prototype.specularColor=function(i,s,a){this._assert3d("specularColor"),p.default._validateParameters("specularColor",arguments);var c=this.color.apply(this,arguments);return this._renderer.specularColors=[c._array[0],c._array[1],c._array[2]],this},p.default.prototype.directionalLight=function(i,s,a,c,d,y){var w,_,S,j;this._assert3d("directionalLight"),p.default._validateParameters("directionalLight",arguments),w=i instanceof p.default.Color?i:this.color(i,s,a);var C=arguments[arguments.length-1];j=typeof C=="number"?(_=arguments[arguments.length-3],S=arguments[arguments.length-2],arguments[arguments.length-1]):(_=C.x,S=C.y,C.z);var R=Math.sqrt(_*_+S*S+j*j);return this._renderer.directionalLightDirections.push(_/R,S/R,j/R),this._renderer.directionalLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},p.default.prototype.pointLight=function(i,s,a,c,d,y){var w,_,S,j;this._assert3d("pointLight"),p.default._validateParameters("pointLight",arguments),w=i instanceof p.default.Color?i:this.color(i,s,a);var C=arguments[arguments.length-1];return j=typeof C=="number"?(_=arguments[arguments.length-3],S=arguments[arguments.length-2],arguments[arguments.length-1]):(_=C.x,S=C.y,C.z),this._renderer.pointLightPositions.push(_,S,j),this._renderer.pointLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},p.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===f.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var i=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,i),this.directionalLight(0,0,i,0,0,-1)}return this},p.default.prototype.lightFalloff=function(i,s,a){return this._assert3d("lightFalloff"),p.default._validateParameters("lightFalloff",arguments),i<0&&(i=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),a<0&&(a=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),i===0&&s===0&&a===0&&(i=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=i,this._renderer.linearAttenuation=s,this._renderer.quadraticAttenuation=a,this},p.default.prototype.spotLight=function(i,s,a,c,d,y,w,_,S,j,C){var R,P,I;this._assert3d("spotLight"),p.default._validateParameters("spotLight",arguments);var A=arguments.length;switch(A){case 11:case 10:R=this.color(i,s,a),P=new p.default.Vector(c,d,y),I=new p.default.Vector(w,_,S);break;case 9:i instanceof p.default.Color?(R=i,P=new p.default.Vector(s,a,c),I=new p.default.Vector(d,y,w),j=_,C=S):c instanceof p.default.Vector?(R=this.color(i,s,a),P=c,I=new p.default.Vector(d,y,w),j=_,C=S):w instanceof p.default.Vector?(R=this.color(i,s,a),P=new p.default.Vector(c,d,y),I=w,j=_,C=S):(R=this.color(i,s,a),P=new p.default.Vector(c,d,y),I=new p.default.Vector(w,_,S));break;case 8:j=(I=i instanceof p.default.Color?(R=i,P=new p.default.Vector(s,a,c),new p.default.Vector(d,y,w)):c instanceof p.default.Vector?(R=this.color(i,s,a),P=c,new p.default.Vector(d,y,w)):(R=this.color(i,s,a),P=new p.default.Vector(c,d,y),w),_);break;case 7:i instanceof p.default.Color&&s instanceof p.default.Vector?(R=i,P=s,I=new p.default.Vector(a,c,d),j=y,C=w):i instanceof p.default.Color&&d instanceof p.default.Vector?(R=i,P=new p.default.Vector(s,a,c),I=d,j=y,C=w):c instanceof p.default.Vector&&d instanceof p.default.Vector?(R=this.color(i,s,a),P=c,I=d,j=y,C=w):I=i instanceof p.default.Color?(R=i,P=new p.default.Vector(s,a,c),new p.default.Vector(d,y,w)):c instanceof p.default.Vector?(R=this.color(i,s,a),P=c,new p.default.Vector(d,y,w)):(R=this.color(i,s,a),P=new p.default.Vector(c,d,y),w);break;case 6:c instanceof p.default.Vector&&d instanceof p.default.Vector?(R=this.color(i,s,a),P=c,I=d,j=y):i instanceof p.default.Color&&d instanceof p.default.Vector?(R=i,P=new p.default.Vector(s,a,c),I=d,j=y):i instanceof p.default.Color&&s instanceof p.default.Vector&&(R=i,P=s,I=new p.default.Vector(a,c,d),j=y);break;case 5:i instanceof p.default.Color&&s instanceof p.default.Vector&&a instanceof p.default.Vector?(R=i,P=s,I=a,j=c,C=d):c instanceof p.default.Vector&&d instanceof p.default.Vector?(R=this.color(i,s,a),P=c,I=d):i instanceof p.default.Color&&d instanceof p.default.Vector?(R=i,P=new p.default.Vector(s,a,c),I=d):i instanceof p.default.Color&&s instanceof p.default.Vector&&(R=i,P=s,I=new p.default.Vector(a,c,d));break;case 4:R=i,P=s,I=a,j=c;break;case 3:R=i,P=s,I=a;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(A<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(R._array[0],R._array[1],R._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(P.x,P.y,P.z),I.normalize(),this._renderer.spotLightDirections.push(I.x,I.y,I.z),j===void 0&&(j=Math.PI/3),C!==void 0&&C<1?(C=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):C===void 0&&(C=100),j=this._renderer._pInst._toRadians(j),this._renderer.spotLightAngle.push(Math.cos(j)),this._renderer.spotLightConc.push(C),this._renderer._enableLighting=!0,this},p.default.prototype.noLights=function(){return this._assert3d("noLights"),p.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var m=p.default;u.default=m},{"../core/constants":253,"../core/main":264}],310:[function(e,l,u){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(g,m,i){for(var s=0,a=g.length;s<a;s++)if(g[s]!==m.getUint8(i+s,!1))return!1;return!0}e("./p5.Geometry"),n.default.prototype.loadModel=function(g){var m,i,s;n.default._validateParameters("loadModel",arguments);var a=g.slice(-4);typeof arguments[1]=="boolean"?(m=arguments[1],i=arguments[2],s=arguments[3],arguments[4]!==void 0&&(a=arguments[4])):(m=!1,i=arguments[1],s=arguments[2],arguments[3]!==void 0&&(a=arguments[3]));var c=new n.default.Geometry;c.gid="".concat(g,"|").concat(m);var d=this;return a.match(/\.stl$/i)?this.httpDo(g,"GET","arrayBuffer",function(y){(function(w,_){if(function(C){for(var R=new DataView(C),P=[115,111,108,105,100],I=0;I<5;I++)if(p(P,R,I))return!1;return!0}(_))(function(C,R){for(var P,I,A,D,N,L,W,z=new DataView(R),le=z.getUint32(80,!0),ue=!1,J=0;J<70;J++)z.getUint32(J,!1)===1129270351&&z.getUint8(J+4)===82&&z.getUint8(J+5)===61&&(ue=!0,D=[],N=z.getUint8(J+6)/255,L=z.getUint8(J+7)/255,W=z.getUint8(J+8)/255);for(var ce=0;ce<le;ce++){var se=84+50*ce,ge=z.getFloat32(se,!0),_e=z.getFloat32(4+se,!0),Ce=z.getFloat32(8+se,!0);if(ue){var be=z.getUint16(48+se,!0);A=32768&be?(P=N,I=L,W):(P=(31&be)/31,I=(be>>5&31)/31,(be>>10&31)/31)}for(var Ie=new n.default.Vector(ge,_e,Ce),Se=1;Se<=3;Se++){var Te=se+12*Se,O=new n.default.Vector(z.getFloat32(Te,!0),z.getFloat32(4+Te,!0),z.getFloat32(8+Te,!0));C.vertices.push(O),C.vertexNormals.push(Ie),ue&&D.push(P,I,A)}C.faces.push([3*ce,3*ce+1,3*ce+2]),C.uvs.push([0,0],[0,0],[0,0])}})(w,_);else{var S=new DataView(_);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");var j=new TextDecoder("utf-8").decode(S).split(`
`);(function(C,R){for(var P,I,A="",D=[],N=0;N<R.length;++N){for(var L=R[N].trim(),W=L.split(" "),z=0;z<W.length;++z)W[z]===""&&W.splice(z,1);if(W.length!==0)switch(A){case"":if(W[0]!=="solid")return console.error(L),console.error('Invalid state "'.concat(W[0],'", should be "solid"'));A="solid";break;case"solid":if(W[0]!=="facet"||W[1]!=="normal")return console.error(L),console.error('Invalid state "'.concat(W[0],'", should be "facet normal"'));P=new n.default.Vector(parseFloat(W[2]),parseFloat(W[3]),parseFloat(W[4])),C.vertexNormals.push(P,P,P),A="facet normal";break;case"facet normal":if(W[0]!=="outer"||W[1]!=="loop")return console.error(L),console.error('Invalid state "'.concat(W[0],'", should be "outer loop"'));A="vertex";break;case"vertex":if(W[0]==="vertex")I=new n.default.Vector(parseFloat(W[1]),parseFloat(W[2]),parseFloat(W[3])),C.vertices.push(I),C.uvs.push([0,0]),D.push(C.vertices.indexOf(I));else{if(W[0]!=="endloop")return console.error(L),console.error('Invalid state "'.concat(W[0],'", should be "vertex" or "endloop"'));C.faces.push(D),D=[],A="endloop"}break;case"endloop":if(W[0]!=="endfacet")return console.error(L),console.error('Invalid state "'.concat(W[0],'", should be "endfacet"'));A="endfacet";break;case"endfacet":if(W[0]!=="endsolid"){if(W[0]!=="facet"||W[1]!=="normal")return console.error(L),console.error('Invalid state "'.concat(W[0],'", should be "endsolid" or "facet normal"'));P=new n.default.Vector(parseFloat(W[2]),parseFloat(W[3]),parseFloat(W[4])),C.vertexNormals.push(P,P,P),A="facet normal"}break;default:console.error('Invalid state "'.concat(A,'"'))}}})(w,j)}})(c,y),m&&c.normalize(),d._decrementPreload(),typeof i=="function"&&i(c)},s):a.match(/\.obj$/i)?this.loadStrings(g,function(y){(function(w,_){for(var S={v:[],vt:[],vn:[]},j={},C=0;C<_.length;++C){var R=_[C].trim().split(/\b\s+/);if(0<R.length){if(R[0]==="v"||R[0]==="vn"){var P=new n.default.Vector(parseFloat(R[1]),parseFloat(R[2]),parseFloat(R[3]));S[R[0]].push(P)}else if(R[0]==="vt"){var I=[parseFloat(R[1]),1-parseFloat(R[2])];S[R[0]].push(I)}else if(R[0]==="f")for(var A=3;A<R.length;++A){for(var D=[],N=[1,A-1,A],L=0;L<N.length;++L){var W=R[N[L]],z=0;if(j[W]!==void 0)z=j[W];else{for(var le=W.split("/"),ue=0;ue<le.length;ue++)le[ue]=parseInt(le[ue])-1;z=j[W]=w.vertices.length,w.vertices.push(S.v[le[0]].copy()),S.vt[le[1]]?w.uvs.push(S.vt[le[1]].slice()):w.uvs.push([0,0]),S.vn[le[2]]&&w.vertexNormals.push(S.vn[le[2]].copy())}D.push(z)}D[0]!==D[1]&&D[0]!==D[2]&&D[1]!==D[2]&&w.faces.push(D)}}}w.vertexNormals.length===0&&w.computeNormals()})(c,y),m&&c.normalize(),d._decrementPreload(),typeof i=="function"&&i(c)},s):(n.default._friendlyFileLoadError(3,g),s?s():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),c},n.default.prototype.model=function(g){this._assert3d("model"),n.default._validateParameters("model",arguments),0<g.vertices.length&&(this._renderer.geometryInHash(g.gid)||(g._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(g.gid,g)),this._renderer.drawBuffers(g.gid))};var f=n.default;u.default=f},{"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],311:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}e("core-js/modules/es.array.join"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=g();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}e("./p5.Texture"),p.default.prototype.loadShader=function(i,s,a,c){p.default._validateParameters("loadShader",arguments),c=c||console.error;function d(){w._decrementPreload(),a&&a(y)}var y=new p.default.Shader,w=this,_=!1,S=!1;return this.loadStrings(i,function(j){y._vertSrc=j.join(`
`),S=!0,_&&d()},c),this.loadStrings(s,function(j){y._fragSrc=j.join(`
`),_=!0,S&&d()},c),y},p.default.prototype.createShader=function(i,s){return this._assert3d("createShader"),p.default._validateParameters("createShader",arguments),new p.default.Shader(this._renderer,i,s)},p.default.prototype.shader=function(i){return this._assert3d("shader"),p.default._validateParameters("shader",arguments),i._renderer===void 0&&(i._renderer=this._renderer),i.init(),i.isStrokeShader()?this._renderer.userStrokeShader=i:(this._renderer.userFillShader=i,this._renderer._useNormalMaterial=!1),this},p.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},p.default.prototype.texture=function(i){return this._assert3d("texture"),p.default._validateParameters("texture",arguments),i.gifProperties&&i._animateGif(this),this._renderer.drawMode=f.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=i,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.textureMode=function(i){i!==f.IMAGE&&i!==f.NORMAL?console.warn("You tried to set ".concat(i," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=i},p.default.prototype.textureWrap=function(i){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i;this._renderer.textureWrapX=i,this._renderer.textureWrapY=s;for(var a=this._renderer.textures,c=0;c<a.length;c++)a[c].setWrapMode(i,s)},p.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return p.default._validateParameters("normalMaterial",s),this._renderer.drawMode=f.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},p.default.prototype.ambientMaterial=function(i,s,a){this._assert3d("ambientMaterial"),p.default._validateParameters("ambientMaterial",arguments);var c=p.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=c._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.emissiveMaterial=function(i,s,a,c){this._assert3d("emissiveMaterial"),p.default._validateParameters("emissiveMaterial",arguments);var d=p.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=d._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},p.default.prototype.specularMaterial=function(i,s,a,c){this._assert3d("specularMaterial"),p.default._validateParameters("specularMaterial",arguments);var d=p.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=d._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},p.default.prototype.shininess=function(i){return this._assert3d("shininess"),p.default._validateParameters("shininess",arguments),i<1&&(i=1),this._renderer._useShininess=i,this},p.default.RendererGL.prototype._applyColorBlend=function(i){var s=this.GL,a=this.drawMode===f.TEXTURE||i[i.length-1]<1||this._isErasing;return a!==this._isBlending&&(a||this.curBlendMode!==f.BLEND&&this.curBlendMode!==f.ADD?s.enable(s.BLEND):s.disable(s.BLEND),s.depthMask(!0),this._isBlending=a),this._applyBlendMode(),i},p.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var i=this.GL;switch(this.curBlendMode){case f.BLEND:case f.ADD:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA);break;case f.REMOVE:i.blendEquation(i.FUNC_REVERSE_SUBTRACT),i.blendFunc(i.SRC_ALPHA,i.DST_ALPHA);break;case f.MULTIPLY:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ONE,i.ONE);break;case f.SCREEN:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE,i.ONE,i.ONE);break;case f.EXCLUSION:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE);break;case f.REPLACE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO);break;case f.SUBTRACT:i.blendEquationSeparate(i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case f.DARKEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MIN_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case f.LIGHTEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MAX_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var m=p.default;u.default=m},{"../core/constants":253,"../core/main":264,"./p5.Texture":320,"core-js/modules/es.array.join":159}],312:[function(e,l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.prototype.camera=function(){var f;this._assert3d("camera");for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return n.default._validateParameters("camera",m),(f=this._renderer._curCamera).camera.apply(f,m),this},n.default.prototype.perspective=function(){var f;this._assert3d("perspective");for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return n.default._validateParameters("perspective",m),(f=this._renderer._curCamera).perspective.apply(f,m),this},n.default.prototype.ortho=function(){var f;this._assert3d("ortho");for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return n.default._validateParameters("ortho",m),(f=this._renderer._curCamera).ortho.apply(f,m),this},n.default.prototype.frustum=function(){var f;this._assert3d("frustum");for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return n.default._validateParameters("frustum",m),(f=this._renderer._curCamera).frustum.apply(f,m),this},n.default.prototype.createCamera=function(){this._assert3d("createCamera");var f=new n.default.Camera(this._renderer);return f._computeCameraDefaultSettings(),f._setDefaultCamera(),this._renderer._curCamera=f},n.default.Camera=function(f){this._renderer=f,this.cameraType="default",this.cameraMatrix=new n.default.Matrix,this.projMatrix=new n.default.Matrix},n.default.Camera.prototype.perspective=function(f,g,m,i){this.cameraType=0<arguments.length?"custom":"default",f===void 0?(f=this.defaultCameraFOV,this.cameraFOV=f):this.cameraFOV=this._renderer._pInst._toRadians(f),g===void 0&&(g=this.defaultAspectRatio),m===void 0&&(m=this.defaultCameraNear),i===void 0&&(i=this.defaultCameraFar),m<=1e-4&&(m=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<m&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=g,this.cameraNear=m,this.cameraFar=i,this.projMatrix=n.default.Matrix.identity();var s=1/Math.tan(this.cameraFOV/2),a=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(s/g,0,0,0,0,-s,0,0,0,0,(i+m)*a,-1,0,0,2*i*m*a,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},n.default.Camera.prototype.ortho=function(f,g,m,i,s,a){f===void 0&&(f=-this._renderer.width/2),g===void 0&&(g=this._renderer.width/2),m===void 0&&(m=-this._renderer.height/2),i===void 0&&(i=this._renderer.height/2),s===void 0&&(s=0),a===void 0&&(a=Math.max(this._renderer.width,this._renderer.height));var c=g-f,d=i-m,y=a-s,w=2/c,_=2/d,S=-2/y,j=-(g+f)/c,C=-(i+m)/d,R=-(a+s)/y;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-_,0,0,0,0,S,0,j,C,R,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},n.default.Camera.prototype.frustum=function(f,g,m,i,s,a){f===void 0&&(f=-this._renderer.width/2),g===void 0&&(g=this._renderer.width/2),m===void 0&&(m=-this._renderer.height/2),i===void 0&&(i=this._renderer.height/2),s===void 0&&(s=0),a===void 0&&(a=Math.max(this._renderer.width,this._renderer.height));var c=g-f,d=i-m,y=a-s,w=2*s/c,_=2*s/d,S=-2*a*s/y,j=(g+f)/c,C=(i+m)/d,R=-(a+s)/y;this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,_,0,0,j,C,R,-1,0,0,S,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},n.default.Camera.prototype._rotateView=function(f,g,m,i){var s=this.centerX,a=this.centerY,c=this.centerZ;s-=this.eyeX,a-=this.eyeY,c-=this.eyeZ;var d=n.default.Matrix.identity(this._renderer._pInst);d.rotate(this._renderer._pInst._toRadians(f),g,m,i);var y=[s*d.mat4[0]+a*d.mat4[4]+c*d.mat4[8],s*d.mat4[1]+a*d.mat4[5]+c*d.mat4[9],s*d.mat4[2]+a*d.mat4[6]+c*d.mat4[10]];y[0]+=this.eyeX,y[1]+=this.eyeY,y[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,y[0],y[1],y[2],this.upX,this.upY,this.upZ)},n.default.Camera.prototype.pan=function(f){var g=this._getLocalAxes();this._rotateView(f,g.y[0],g.y[1],g.y[2])},n.default.Camera.prototype.tilt=function(f){var g=this._getLocalAxes();this._rotateView(f,g.x[0],g.x[1],g.x[2])},n.default.Camera.prototype.lookAt=function(f,g,m){this.camera(this.eyeX,this.eyeY,this.eyeZ,f,g,m,this.upX,this.upY,this.upZ)},n.default.Camera.prototype.camera=function(f,g,m,i,s,a,c,d,y){f===void 0&&(f=this.defaultEyeX,g=this.defaultEyeY,m=this.defaultEyeZ,i=f,s=g,d=1,y=c=a=0),this.eyeX=f,this.eyeY=g,this.eyeZ=m,i!==void 0&&(this.centerX=i,this.centerY=s,this.centerZ=a),c!==void 0&&(this.upX=c,this.upY=d,this.upZ=y);var w=this._getLocalAxes();this.cameraMatrix.set(w.x[0],w.y[0],w.z[0],0,w.x[1],w.y[1],w.z[1],0,w.x[2],w.y[2],w.z[2],0,0,0,0,1);var _=-f,S=-g,j=-m;return this.cameraMatrix.translate([_,S,j]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},n.default.Camera.prototype.move=function(f,g,m){var i=this._getLocalAxes(),s=[i.x[0]*f,i.x[1]*f,i.x[2]*f],a=[i.y[0]*g,i.y[1]*g,i.y[2]*g],c=[i.z[0]*m,i.z[1]*m,i.z[2]*m];this.camera(this.eyeX+s[0]+a[0]+c[0],this.eyeY+s[1]+a[1]+c[1],this.eyeZ+s[2]+a[2]+c[2],this.centerX+s[0]+a[0]+c[0],this.centerY+s[1]+a[1]+c[1],this.centerZ+s[2]+a[2]+c[2],0,1,0)},n.default.Camera.prototype.setPosition=function(f,g,m){var i=f-this.eyeX,s=g-this.eyeY,a=m-this.eyeZ;this.camera(f,g,m,this.centerX+i,this.centerY+s,this.centerZ+a,0,1,0)},n.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},n.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},n.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},n.default.Camera.prototype.copy=function(){var f=new n.default.Camera(this._renderer);return f.cameraFOV=this.cameraFOV,f.aspectRatio=this.aspectRatio,f.eyeX=this.eyeX,f.eyeY=this.eyeY,f.eyeZ=this.eyeZ,f.centerX=this.centerX,f.centerY=this.centerY,f.centerZ=this.centerZ,f.cameraNear=this.cameraNear,f.cameraFar=this.cameraFar,f.cameraType=this.cameraType,f.cameraMatrix=this.cameraMatrix.copy(),f.projMatrix=this.projMatrix.copy(),f},n.default.Camera.prototype._getLocalAxes=function(){var f=this.eyeX-this.centerX,g=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,i=Math.sqrt(f*f+g*g+m*m);i!==0&&(f/=i,g/=i,m/=i);var s=this.upX,a=this.upY,c=this.upZ,d=a*m-c*g,y=-s*m+c*f,w=s*g-a*f;s=g*w-m*y,a=-f*w+m*d,c=f*y-g*d;var _=Math.sqrt(d*d+y*y+w*w);_!==0&&(d/=_,y/=_,w/=_);var S=Math.sqrt(s*s+a*a+c*c);return S!==0&&(s/=S,a/=S,c/=S),{x:[d,y,w],y:[s,a,c],z:[f,g,m]}},n.default.Camera.prototype._orbit=function(f,g,m){var i=this.eyeX-this.centerX,s=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,c=Math.sqrt(i*i+s*s+a*a),d=Math.atan2(i,a),y=Math.acos(Math.max(-1,Math.min(1,s/c)));d+=f,(c+=m)<0&&(c=.1),(y+=g)>Math.PI?y=Math.PI:y<=0&&(y=.001);var w=Math.sin(y)*c*Math.sin(d),_=Math.cos(y)*c,S=Math.sin(y)*c*Math.cos(d);this.camera(w+this.centerX,_+this.centerY,S+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},n.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},n.default.prototype.setCamera=function(f){this._renderer._curCamera=f,this._renderer.uPMatrix.set(f.projMatrix.mat4[0],f.projMatrix.mat4[1],f.projMatrix.mat4[2],f.projMatrix.mat4[3],f.projMatrix.mat4[4],f.projMatrix.mat4[5],f.projMatrix.mat4[6],f.projMatrix.mat4[7],f.projMatrix.mat4[8],f.projMatrix.mat4[9],f.projMatrix.mat4[10],f.projMatrix.mat4[11],f.projMatrix.mat4[12],f.projMatrix.mat4[13],f.projMatrix.mat4[14],f.projMatrix.mat4[15])};var p=n.default.Camera;u.default=p},{"../core/main":264}],313:[function(e,l,u){e("core-js/modules/es.string.sub"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.Geometry=function(f,g,m){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=f!==void 0?f:1,this.detailY=g!==void 0?g:1,this.dirtyFlags={},m instanceof Function&&m.call(this),this},n.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},n.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var f,g,m,i,s=this.detailX+1,a=0;a<this.detailY;a++)for(var c=0;c<this.detailX;c++)g=(f=a*s+c)+1,m=(a+1)*s+c+1,i=(a+1)*s+c,this.faces.push([f,g,i]),this.faces.push([i,g,m]);return this},n.default.Geometry.prototype._getFaceNormal=function(f){var g=this.faces[f],m=this.vertices[g[0]],i=this.vertices[g[1]],s=this.vertices[g[2]],a=n.default.Vector.sub(i,m),c=n.default.Vector.sub(s,m),d=n.default.Vector.cross(a,c),y=n.default.Vector.mag(d),w=y/(n.default.Vector.mag(a)*n.default.Vector.mag(c));return w===0||isNaN(w)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),d):(1<w&&(w=1),d.mult(Math.asin(w)/y))},n.default.Geometry.prototype.computeNormals=function(){var f,g=this.vertexNormals,m=this.vertices,i=this.faces;for(f=g.length=0;f<m.length;++f)g.push(new n.default.Vector);for(var s=0;s<i.length;++s)for(var a=i[s],c=this._getFaceNormal(s),d=0;d<3;++d)g[a[d]].add(c);for(f=0;f<m.length;++f)g[f].normalize();return this},n.default.Geometry.prototype.averageNormals=function(){for(var f=0;f<=this.detailY;f++){var g=this.detailX+1,m=n.default.Vector.add(this.vertexNormals[f*g],this.vertexNormals[f*g+this.detailX]);m=n.default.Vector.div(m,2),this.vertexNormals[f*g]=m,this.vertexNormals[f*g+this.detailX]=m}return this},n.default.Geometry.prototype.averagePoleNormals=function(){for(var f=new n.default.Vector(0,0,0),g=0;g<this.detailX;g++)f.add(this.vertexNormals[g]);f=n.default.Vector.div(f,this.detailX);for(var m=0;m<this.detailX;m++)this.vertexNormals[m]=f;f=new n.default.Vector(0,0,0);for(var i=this.vertices.length-1;i>this.vertices.length-1-this.detailX;i--)f.add(this.vertexNormals[i]);f=n.default.Vector.div(f,this.detailX);for(var s=this.vertices.length-1;s>this.vertices.length-1-this.detailX;s--)this.vertexNormals[s]=f;return this},n.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var f=0,g=this.strokeIndices.length;f<g;f++)this.edges.push(this.strokeIndices[f]);else for(var m=0;m<this.faces.length;m++)this.edges.push([this.faces[m][0],this.faces[m][1]]),this.edges.push([this.faces[m][1],this.faces[m][2]]),this.edges.push([this.faces[m][2],this.faces[m][0]]);return this},n.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var f=this.lineNormals.length=0;f<this.edges.length;f++){var g=this.vertices[this.edges[f][0]],m=this.vertices[this.edges[f][1]],i=m.copy().sub(g).normalize(),s=g.array(),a=g.array(),c=m.array(),d=m.array(),y=i.array(),w=i.array();y.push(1),w.push(-1),this.lineNormals.push(y,w,y,y,w,w),this.lineVertices.push(s,a,c,c,a,d)}return this},n.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var f=this.vertices[0].copy(),g=this.vertices[0].copy(),m=0;m<this.vertices.length;m++)f.x=Math.max(f.x,this.vertices[m].x),g.x=Math.min(g.x,this.vertices[m].x),f.y=Math.max(f.y,this.vertices[m].y),g.y=Math.min(g.y,this.vertices[m].y),f.z=Math.max(f.z,this.vertices[m].z),g.z=Math.min(g.z,this.vertices[m].z);for(var i=n.default.Vector.lerp(f,g,.5),s=n.default.Vector.sub(f,g),a=200/Math.max(Math.max(s.x,s.y),s.z),c=0;c<this.vertices.length;c++)this.vertices[c].sub(i),this.vertices[c].mult(a)}return this};var p=n.default.Geometry;u.default=p},{"../core/main":264,"core-js/modules/es.string.sub":192}],314:[function(e,l,u){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h},p=Array,f=function(m){return m instanceof Array};typeof Float32Array<"u"&&(p=Float32Array,f=function(m){return m instanceof Array||m instanceof Float32Array}),n.default.Matrix=function(){for(var m=new Array(arguments.length),i=0;i<m.length;++i)m[i]=arguments[i];return m.length&&m[m.length-1]instanceof n.default&&(this.p5=m[m.length-1]),m[0]==="mat3"?this.mat3=Array.isArray(m[1])?m[1]:new p([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(m[0])?m[0]:new p([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},n.default.Matrix.prototype.set=function(m){return m instanceof n.default.Matrix?this.mat4=m.mat4:f(m)?this.mat4=m:arguments.length===16&&(this.mat4[0]=m,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},n.default.Matrix.prototype.get=function(){return new n.default.Matrix(this.mat4,this.p5)},n.default.Matrix.prototype.copy=function(){var m=new n.default.Matrix(this.p5);return m.mat4[0]=this.mat4[0],m.mat4[1]=this.mat4[1],m.mat4[2]=this.mat4[2],m.mat4[3]=this.mat4[3],m.mat4[4]=this.mat4[4],m.mat4[5]=this.mat4[5],m.mat4[6]=this.mat4[6],m.mat4[7]=this.mat4[7],m.mat4[8]=this.mat4[8],m.mat4[9]=this.mat4[9],m.mat4[10]=this.mat4[10],m.mat4[11]=this.mat4[11],m.mat4[12]=this.mat4[12],m.mat4[13]=this.mat4[13],m.mat4[14]=this.mat4[14],m.mat4[15]=this.mat4[15],m},n.default.Matrix.identity=function(m){return new n.default.Matrix(m)},n.default.Matrix.prototype.transpose=function(m){var i,s,a,c,d,y;return m instanceof n.default.Matrix?(i=m.mat4[1],s=m.mat4[2],a=m.mat4[3],c=m.mat4[6],d=m.mat4[7],y=m.mat4[11],this.mat4[0]=m.mat4[0],this.mat4[1]=m.mat4[4],this.mat4[2]=m.mat4[8],this.mat4[3]=m.mat4[12],this.mat4[4]=i,this.mat4[5]=m.mat4[5],this.mat4[6]=m.mat4[9],this.mat4[7]=m.mat4[13],this.mat4[8]=s,this.mat4[9]=c,this.mat4[10]=m.mat4[10],this.mat4[11]=m.mat4[14],this.mat4[12]=a,this.mat4[13]=d,this.mat4[14]=y,this.mat4[15]=m.mat4[15]):f(m)&&(i=m[1],s=m[2],a=m[3],c=m[6],d=m[7],y=m[11],this.mat4[0]=m[0],this.mat4[1]=m[4],this.mat4[2]=m[8],this.mat4[3]=m[12],this.mat4[4]=i,this.mat4[5]=m[5],this.mat4[6]=m[9],this.mat4[7]=m[13],this.mat4[8]=s,this.mat4[9]=c,this.mat4[10]=m[10],this.mat4[11]=m[14],this.mat4[12]=a,this.mat4[13]=d,this.mat4[14]=y,this.mat4[15]=m[15]),this},n.default.Matrix.prototype.invert=function(m){var i,s,a,c,d,y,w,_,S,j,C,R,P,I,A,D;m instanceof n.default.Matrix?(i=m.mat4[0],s=m.mat4[1],a=m.mat4[2],c=m.mat4[3],d=m.mat4[4],y=m.mat4[5],w=m.mat4[6],_=m.mat4[7],S=m.mat4[8],j=m.mat4[9],C=m.mat4[10],R=m.mat4[11],P=m.mat4[12],I=m.mat4[13],A=m.mat4[14],D=m.mat4[15]):f(m)&&(i=m[0],s=m[1],a=m[2],c=m[3],d=m[4],y=m[5],w=m[6],_=m[7],S=m[8],j=m[9],C=m[10],R=m[11],P=m[12],I=m[13],A=m[14],D=m[15]);var N=i*y-s*d,L=i*w-a*d,W=i*_-c*d,z=s*w-a*y,le=s*_-c*y,ue=a*_-c*w,J=S*I-j*P,ce=S*A-C*P,se=S*D-R*P,ge=j*A-C*I,_e=j*D-R*I,Ce=C*D-R*A,be=N*Ce-L*_e+W*ge+z*se-le*ce+ue*J;return be?(be=1/be,this.mat4[0]=(y*Ce-w*_e+_*ge)*be,this.mat4[1]=(a*_e-s*Ce-c*ge)*be,this.mat4[2]=(I*ue-A*le+D*z)*be,this.mat4[3]=(C*le-j*ue-R*z)*be,this.mat4[4]=(w*se-d*Ce-_*ce)*be,this.mat4[5]=(i*Ce-a*se+c*ce)*be,this.mat4[6]=(A*W-P*ue-D*L)*be,this.mat4[7]=(S*ue-C*W+R*L)*be,this.mat4[8]=(d*_e-y*se+_*J)*be,this.mat4[9]=(s*se-i*_e-c*J)*be,this.mat4[10]=(P*le-I*W+D*N)*be,this.mat4[11]=(j*W-S*le-R*N)*be,this.mat4[12]=(y*ce-d*ge-w*J)*be,this.mat4[13]=(i*ge-s*ce+a*J)*be,this.mat4[14]=(I*L-P*z-A*N)*be,this.mat4[15]=(S*z-j*L+C*N)*be,this):null},n.default.Matrix.prototype.invert3x3=function(){var m=this.mat3[0],i=this.mat3[1],s=this.mat3[2],a=this.mat3[3],c=this.mat3[4],d=this.mat3[5],y=this.mat3[6],w=this.mat3[7],_=this.mat3[8],S=_*c-d*w,j=-_*a+d*y,C=w*a-c*y,R=m*S+i*j+s*C;return R?(R=1/R,this.mat3[0]=S*R,this.mat3[1]=(-_*i+s*w)*R,this.mat3[2]=(d*i-s*c)*R,this.mat3[3]=j*R,this.mat3[4]=(_*m-s*y)*R,this.mat3[5]=(-d*m+s*a)*R,this.mat3[6]=C*R,this.mat3[7]=(-w*m+i*y)*R,this.mat3[8]=(c*m-i*a)*R,this):null},n.default.Matrix.prototype.transpose3x3=function(m){var i=m[1],s=m[2],a=m[5];return this.mat3[1]=m[3],this.mat3[2]=m[6],this.mat3[3]=i,this.mat3[5]=m[7],this.mat3[6]=s,this.mat3[7]=a,this},n.default.Matrix.prototype.inverseTranspose=function(m){this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=m.mat4[0],this.mat3[1]=m.mat4[1],this.mat3[2]=m.mat4[2],this.mat3[3]=m.mat4[4],this.mat3[4]=m.mat4[5],this.mat3[5]=m.mat4[6],this.mat3[6]=m.mat4[8],this.mat3[7]=m.mat4[9],this.mat3[8]=m.mat4[10]);var i=this.invert3x3();if(i)i.transpose3x3(this.mat3);else for(var s=0;s<9;s++)this.mat3[s]=0;return this},n.default.Matrix.prototype.determinant=function(){var m=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],i=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],s=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],a=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],c=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],d=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],y=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],w=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],_=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],S=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],j=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return m*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-i*j+s*S+a*_-c*w+d*y},n.default.Matrix.prototype.mult=function(m){var i;if(m===this||m===this.mat4)i=this.copy().mat4;else if(m instanceof n.default.Matrix)i=m.mat4;else if(f(m))i=m;else{if(arguments.length!==16)return;i=arguments}var s=this.mat4[0],a=this.mat4[1],c=this.mat4[2],d=this.mat4[3];return this.mat4[0]=s*i[0]+a*i[4]+c*i[8]+d*i[12],this.mat4[1]=s*i[1]+a*i[5]+c*i[9]+d*i[13],this.mat4[2]=s*i[2]+a*i[6]+c*i[10]+d*i[14],this.mat4[3]=s*i[3]+a*i[7]+c*i[11]+d*i[15],s=this.mat4[4],a=this.mat4[5],c=this.mat4[6],d=this.mat4[7],this.mat4[4]=s*i[0]+a*i[4]+c*i[8]+d*i[12],this.mat4[5]=s*i[1]+a*i[5]+c*i[9]+d*i[13],this.mat4[6]=s*i[2]+a*i[6]+c*i[10]+d*i[14],this.mat4[7]=s*i[3]+a*i[7]+c*i[11]+d*i[15],s=this.mat4[8],a=this.mat4[9],c=this.mat4[10],d=this.mat4[11],this.mat4[8]=s*i[0]+a*i[4]+c*i[8]+d*i[12],this.mat4[9]=s*i[1]+a*i[5]+c*i[9]+d*i[13],this.mat4[10]=s*i[2]+a*i[6]+c*i[10]+d*i[14],this.mat4[11]=s*i[3]+a*i[7]+c*i[11]+d*i[15],s=this.mat4[12],a=this.mat4[13],c=this.mat4[14],d=this.mat4[15],this.mat4[12]=s*i[0]+a*i[4]+c*i[8]+d*i[12],this.mat4[13]=s*i[1]+a*i[5]+c*i[9]+d*i[13],this.mat4[14]=s*i[2]+a*i[6]+c*i[10]+d*i[14],this.mat4[15]=s*i[3]+a*i[7]+c*i[11]+d*i[15],this},n.default.Matrix.prototype.apply=function(m){var i;if(m===this||m===this.mat4)i=this.copy().mat4;else if(m instanceof n.default.Matrix)i=m.mat4;else if(f(m))i=m;else{if(arguments.length!==16)return;i=arguments}var s=this.mat4,a=s[0],c=s[4],d=s[8],y=s[12];s[0]=i[0]*a+i[1]*c+i[2]*d+i[3]*y,s[4]=i[4]*a+i[5]*c+i[6]*d+i[7]*y,s[8]=i[8]*a+i[9]*c+i[10]*d+i[11]*y,s[12]=i[12]*a+i[13]*c+i[14]*d+i[15]*y;var w=s[1],_=s[5],S=s[9],j=s[13];s[1]=i[0]*w+i[1]*_+i[2]*S+i[3]*j,s[5]=i[4]*w+i[5]*_+i[6]*S+i[7]*j,s[9]=i[8]*w+i[9]*_+i[10]*S+i[11]*j,s[13]=i[12]*w+i[13]*_+i[14]*S+i[15]*j;var C=s[2],R=s[6],P=s[10],I=s[14];s[2]=i[0]*C+i[1]*R+i[2]*P+i[3]*I,s[6]=i[4]*C+i[5]*R+i[6]*P+i[7]*I,s[10]=i[8]*C+i[9]*R+i[10]*P+i[11]*I,s[14]=i[12]*C+i[13]*R+i[14]*P+i[15]*I;var A=s[3],D=s[7],N=s[11],L=s[15];return s[3]=i[0]*A+i[1]*D+i[2]*N+i[3]*L,s[7]=i[4]*A+i[5]*D+i[6]*N+i[7]*L,s[11]=i[8]*A+i[9]*D+i[10]*N+i[11]*L,s[15]=i[12]*A+i[13]*D+i[14]*N+i[15]*L,this},n.default.Matrix.prototype.scale=function(m,i,s){return m instanceof n.default.Vector?(i=m.y,s=m.z,m=m.x):m instanceof Array&&(i=m[1],s=m[2],m=m[0]),this.mat4[0]*=m,this.mat4[1]*=m,this.mat4[2]*=m,this.mat4[3]*=m,this.mat4[4]*=i,this.mat4[5]*=i,this.mat4[6]*=i,this.mat4[7]*=i,this.mat4[8]*=s,this.mat4[9]*=s,this.mat4[10]*=s,this.mat4[11]*=s,this},n.default.Matrix.prototype.rotate=function(m,i,s,a){i instanceof n.default.Vector?(s=i.y,a=i.z,i=i.x):i instanceof Array&&(s=i[1],a=i[2],i=i[0]);var c=Math.sqrt(i*i+s*s+a*a);i*=1/c,s*=1/c,a*=1/c;var d=this.mat4[0],y=this.mat4[1],w=this.mat4[2],_=this.mat4[3],S=this.mat4[4],j=this.mat4[5],C=this.mat4[6],R=this.mat4[7],P=this.mat4[8],I=this.mat4[9],A=this.mat4[10],D=this.mat4[11],N=Math.sin(m),L=Math.cos(m),W=1-L,z=i*i*W+L,le=s*i*W+a*N,ue=a*i*W-s*N,J=i*s*W-a*N,ce=s*s*W+L,se=a*s*W+i*N,ge=i*a*W+s*N,_e=s*a*W-i*N,Ce=a*a*W+L;return this.mat4[0]=d*z+S*le+P*ue,this.mat4[1]=y*z+j*le+I*ue,this.mat4[2]=w*z+C*le+A*ue,this.mat4[3]=_*z+R*le+D*ue,this.mat4[4]=d*J+S*ce+P*se,this.mat4[5]=y*J+j*ce+I*se,this.mat4[6]=w*J+C*ce+A*se,this.mat4[7]=_*J+R*ce+D*se,this.mat4[8]=d*ge+S*_e+P*Ce,this.mat4[9]=y*ge+j*_e+I*Ce,this.mat4[10]=w*ge+C*_e+A*Ce,this.mat4[11]=_*ge+R*_e+D*Ce,this},n.default.Matrix.prototype.translate=function(m){var i=m[0],s=m[1],a=m[2]||0;this.mat4[12]+=this.mat4[0]*i+this.mat4[4]*s+this.mat4[8]*a,this.mat4[13]+=this.mat4[1]*i+this.mat4[5]*s+this.mat4[9]*a,this.mat4[14]+=this.mat4[2]*i+this.mat4[6]*s+this.mat4[10]*a,this.mat4[15]+=this.mat4[3]*i+this.mat4[7]*s+this.mat4[11]*a},n.default.Matrix.prototype.rotateX=function(m){this.rotate(m,1,0,0)},n.default.Matrix.prototype.rotateY=function(m){this.rotate(m,0,1,0)},n.default.Matrix.prototype.rotateZ=function(m){this.rotate(m,0,0,1)},n.default.Matrix.prototype.perspective=function(m,i,s,a){var c=1/Math.tan(m/2),d=1/(s-a);return this.mat4[0]=c/i,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=c,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(a+s)*d,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*a*s*d,this.mat4[15]=0,this},n.default.Matrix.prototype.ortho=function(m,i,s,a,c,d){var y=1/(m-i),w=1/(s-a),_=1/(c-d);return this.mat4[0]=-2*y,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*w,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*_,this.mat4[11]=0,this.mat4[12]=(m+i)*y,this.mat4[13]=(a+s)*w,this.mat4[14]=(d+c)*_,this.mat4[15]=1,this};var g=n.default.Matrix;u.default=g},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],315:[function(e,l,u){e("core-js/modules/es.array.map"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.RenderBuffer=function(f,g,m,i,s,a){this.size=f,this.src=g,this.dst=m,this.attr=i,this._renderer=s,this.map=a},n.default.RenderBuffer.prototype._prepareBuffer=function(f,g){var m,i=g.attributes,s=this._renderer.GL;m=f.model?f.model:f;var a=i[this.attr];if(a){var c=f[this.dst],d=m[this.src];if(0<d.length){var y=!c;if(y&&(f[this.dst]=c=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,c),y||m.dirtyFlags[this.src]!==!1){var w=this.map,_=w?w(d):d;this._renderer._bindBuffer(c,s.ARRAY_BUFFER,_),m.dirtyFlags[this.src]=!1}g.enableAttrib(a,this.size)}}};var p=n.default.RenderBuffer;u.default=p},{"../core/main":264,"core-js/modules/es.array.map":161}],316:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=g();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}e("./p5.RenderBuffer"),p.default.RendererGL.prototype.beginShape=function(i){return this.immediateMode.shapeMode=i!==void 0?i:f.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},p.default.RendererGL.prototype.vertex=function(i,s){var a,c,d;a=c=d=0,arguments.length===3?a=arguments[2]:arguments.length===4?(c=arguments[2],d=arguments[3]):arguments.length===5&&(a=arguments[2],c=arguments[3],d=arguments[4]);var y=new p.default.Vector(i,s,a);this.immediateMode.geometry.vertices.push(y),this.immediateMode.geometry.vertexNormals.push(this._currentNormal);var w=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(w[0],w[1],w[2],w[3]),this.textureMode===f.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(c/=this._tex.width,d/=this._tex.height):this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(c,d),this.immediateMode._bezierVertex[0]=i,this.immediateMode._bezierVertex[1]=s,this.immediateMode._bezierVertex[2]=a,this.immediateMode._quadraticVertex[0]=i,this.immediateMode._quadraticVertex[1]=s,this.immediateMode._quadraticVertex[2]=a,this},p.default.RendererGL.prototype.normal=function(i,s,a){return i instanceof p.default.Vector?this._currentNormal=i:this._currentNormal=new p.default.Vector(i,s,a),this},p.default.RendererGL.prototype.endShape=function(i,s,a,c,d,y){return this.immediateMode.shapeMode===f.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},p.default.RendererGL.prototype._processVertices=function(i){if(this.immediateMode.geometry.vertices.length!==0){var s=this._doStroke&&this.drawMode!==f.TEXTURE,a=i===f.CLOSE;s&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,a),this.immediateMode.geometry._edgesToVertices());var c=this.immediateMode.shapeMode===f.TESS;(this.isBezier||this.isQuadratic||this.isCurve||c)&&this.immediateMode.shapeMode!==f.LINES&&this._tesselateShape()}},p.default.RendererGL.prototype._calculateEdges=function(i,s,a){var c=[],d=0;switch(i){case f.TRIANGLE_STRIP:for(d=0;d<s.length-2;d++)c.push([d,d+1]),c.push([d,d+2]);c.push([d,d+1]);break;case f.TRIANGLES:for(d=0;d<s.length-2;d+=3)c.push([d,d+1]),c.push([d+1,d+2]),c.push([d+2,d]);break;case f.LINES:for(d=0;d<s.length-1;d+=2)c.push([d,d+1]);break;default:for(d=0;d<s.length-1;d++)c.push([d,d+1])}return a&&c.push([s.length-1,0]),c},p.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=f.TRIANGLES;var i=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],s=this._triangulate(i);this.immediateMode.geometry.vertices=[];for(var a=0,c=s.length;a<c;a+=3)this.vertex(s[a],s[a+1],s[a+2])},p.default.RendererGL.prototype._drawImmediateFill=function(){var i=this.GL,s=this._getImmediateFillShader();this._setFillUniforms(s);var a=!0,c=!1,d=void 0;try{for(var y,w=this.immediateMode.buffers.fill[Symbol.iterator]();!(a=(y=w.next()).done);a=!0)y.value._prepareBuffer(this.immediateMode.geometry,s)}catch(_){c=!0,d=_}finally{try{a||w.return==null||w.return()}finally{if(c)throw d}}this.immediateMode.shapeMode!==f.LINE_STRIP&&this.immediateMode.shapeMode!==f.LINES||(this.immediateMode.shapeMode=f.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),i.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),s.unbindShader()},p.default.RendererGL.prototype._drawImmediateStroke=function(){var i=this.GL,s=this._getImmediateStrokeShader();this._setStrokeUniforms(s);var a=!0,c=!1,d=void 0;try{for(var y,w=this.immediateMode.buffers.stroke[Symbol.iterator]();!(a=(y=w.next()).done);a=!0)y.value._prepareBuffer(this.immediateMode.geometry,s)}catch(_){c=!0,d=_}finally{try{a||w.return==null||w.return()}finally{if(c)throw d}}this._applyColorBlend(this.curStrokeColor),i.drawArrays(i.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),s.unbindShader()};var m=p.default.RendererGL;u.default=m},{"../core/constants":253,"../core/main":264,"./p5.RenderBuffer":315,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/web.dom-collections.iterator":229}],317:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};e("./p5.RendererGL"),e("./p5.RenderBuffer");var p=0;n.default.RendererGL.prototype._initBufferDefaults=function(g){if(this._freeBuffers(g),1e3<++p){var m=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[m],p--}return this.retainedMode.geometry[g]={}},n.default.RendererGL.prototype._freeBuffers=function(g){var m=this.retainedMode.geometry[g];if(m){delete this.retainedMode.geometry[g],p--;var i=this.GL;m.indexBuffer&&i.deleteBuffer(m.indexBuffer),s(this.retainedMode.buffers.stroke),s(this.retainedMode.buffers.fill)}function s(a){var c=!0,d=!1,y=void 0;try{for(var w,_=a[Symbol.iterator]();!(c=(w=_.next()).done);c=!0){var S=w.value;m[S.dst]&&(i.deleteBuffer(m[S.dst]),m[S.dst]=null)}}catch(j){d=!0,y=j}finally{try{c||_.return==null||_.return()}finally{if(d)throw y}}}},n.default.RendererGL.prototype.createBuffers=function(g,m){var i=this.GL,s=this._initBufferDefaults(g);s.model=m;var a=s.indexBuffer;if(m.faces.length){a=a||(s.indexBuffer=i.createBuffer());var c=n.default.RendererGL.prototype._flatten(m.faces),d=c.some(function(w){return 65535<w}),y=d?Uint32Array:Uint16Array;this._bindBuffer(a,i.ELEMENT_ARRAY_BUFFER,c,y),s.indexBufferType=d?i.UNSIGNED_INT:i.UNSIGNED_SHORT,s.vertexCount=3*m.faces.length}else a&&(i.deleteBuffer(a),s.indexBuffer=null),s.vertexCount=m.vertices?m.vertices.length:0;return s.lineVertexCount=m.lineVertices?m.lineVertices.length:0,s},n.default.RendererGL.prototype.drawBuffers=function(g){var m=this.GL,i=this.retainedMode.geometry[g];if(this._doStroke&&0<i.lineVertexCount){var s=this._getRetainedStrokeShader();this._setStrokeUniforms(s);var a=!0,c=!1,d=void 0;try{for(var y,w=this.retainedMode.buffers.stroke[Symbol.iterator]();!(a=(y=w.next()).done);a=!0)y.value._prepareBuffer(i,s)}catch(I){c=!0,d=I}finally{try{a||w.return==null||w.return()}finally{if(c)throw d}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(m.TRIANGLES,g),s.unbindShader()}if(this._doFill){var _=this._getRetainedFillShader();this._setFillUniforms(_);var S=!0,j=!1,C=void 0;try{for(var R,P=this.retainedMode.buffers.fill[Symbol.iterator]();!(S=(R=P.next()).done);S=!0)R.value._prepareBuffer(i,_)}catch(I){j=!0,C=I}finally{try{S||P.return==null||P.return()}finally{if(j)throw C}}i.indexBuffer&&this._bindBuffer(i.indexBuffer,m.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(m.TRIANGLES,g),_.unbindShader()}return this},n.default.RendererGL.prototype.drawBuffersScaled=function(g,m,i,s){var a=this.uMVMatrix.copy();try{this.uMVMatrix.scale(m,i,s),this.drawBuffers(g)}finally{this.uMVMatrix=a}},n.default.RendererGL.prototype._drawArrays=function(g,m){return this.GL.drawArrays(g,0,this.retainedMode.geometry[m].lineVertexCount),this},n.default.RendererGL.prototype._drawElements=function(g,m){var i=this.retainedMode.geometry[m],s=this.GL;if(i.indexBuffer){if(i.indexBufferType===s.UNSIGNED_INT&&!s.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");s.drawElements(s.TRIANGLES,i.vertexCount,i.indexBufferType,0)}else s.drawArrays(g||s.TRIANGLES,0,i.vertexCount)},n.default.RendererGL.prototype._drawPoints=function(g,m){var i=this.GL,s=this._getImmediatePointShader();this._setPointUniforms(s),this._bindBuffer(m,i.ARRAY_BUFFER,this._vToNArray(g),Float32Array,i.STATIC_DRAW),s.enableAttrib(s.attributes.aPosition,3),i.drawArrays(i.Points,0,g.length),s.unbindShader()};var f=n.default.RendererGL;u.default=f},{"../core/main":264,"./p5.RenderBuffer":315,"./p5.RendererGL":318,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":229}],318:[function(e,l,u){function h(d){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(d)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n=m(e("../core/main")),p=function(d){if(d&&d.__esModule)return d;if(d===null||h(d)!=="object"&&typeof d!="function")return{default:d};var y=g();if(y&&y.has(d))return y.get(d);var w={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in d)if(Object.prototype.hasOwnProperty.call(d,S)){var j=_?Object.getOwnPropertyDescriptor(d,S):null;j&&(j.get||j.set)?Object.defineProperty(w,S,j):w[S]=d[S]}return w.default=d,y&&y.set(d,w),w}(e("../core/constants")),f=m(e("libtess"));e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix"),e("path");function g(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return g=function(){return d},d}function m(d){return d&&d.__esModule?d:{default:d}}function i(d){return function(y){if(Array.isArray(y)){for(var w=0,_=new Array(y.length);w<y.length;w++)_[w]=y[w];return _}}(d)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,a={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vColor;
}`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
uniform vec4 uMaterialColor;
void main(void) {
  gl_FragColor = uMaterialColor;
}`,lightVert:s+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;
  }
}`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
}
`,phongFrag:s+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;
  }
}`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = uMaterialColor;
  gl_FragColor.a *= saturate(max(antialias, cover));
}`,lineVert:`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform vec4 uViewport;
uniform int uPerspective;

attribute vec4 aPosition;
attribute vec4 aDirection;
  
void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posq.xyz = posq.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 q = uProjectionMatrix * posq;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);

  // flip tangent to normal (it's already normalized)
  vec2 normal = vec2(-tangent.y, tangent.x);

  float thickness = aDirection.w * uStrokeWeight;
  vec2 offset = normal * thickness / 2.0;

  vec2 curPerspScale;

  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
}
`,lineFrag:`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;

void main() {
  gl_FragColor = uMaterialColor;
}`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
	float mask = 0.0;

	// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

	mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

	// if strokeWeight is 1 or less lets just draw a square
	// this prevents weird artifacting from carving circles when our points are really small
	// if strokeWeight is larger than 1, we just use it as is

	mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

	// throw away the borders of the mask
    // otherwise we get weird alpha blending issues

	if(mask > 0.98){
      discard;
  	}

  	gl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;
}`};n.default.RendererGL=function(d,y,w,_){return n.default.Renderer.call(this,d,y,w),this._setAttributeDefaults(y),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=p.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=p.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new n.default.Matrix,this.uPMatrix=new n.default.Matrix,this.uNMatrix=new n.default.Matrix("mat3"),this._currentNormal=new n.default.Vector(0,0,1),this._curCamera=new n.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new n.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new n.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new n.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new n.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new n.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new n.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new n.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new n.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new n.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new n.default.Geometry,shapeMode:p.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new n.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new n.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new n.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new n.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new n.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new n.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new n.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=p.IMAGE,this.textureWrapX=p.CLAMP,this.textureWrapY=p.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},n.default.RendererGL.prototype=Object.create(n.default.Renderer.prototype),n.default.RendererGL.prototype._setAttributeDefaults=function(d){var y={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};d._glAttributes===null?d._glAttributes=y:d._glAttributes=Object.assign(y,d._glAttributes)},n.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var d=this.drawingContext;d.enable(d.DEPTH_TEST),d.depthFunc(d.LEQUAL),d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(y){throw y}},n.default.RendererGL.prototype._resetContext=function(d,y){var w=this.width,_=this.height,S=this.canvas.id,j=this._pInst instanceof n.default.Graphics;if(j){var C=this._pInst;C.canvas.parentNode.removeChild(C.canvas),C.canvas=document.createElement("canvas"),(C._pInst._userNode||document.body).appendChild(C.canvas),n.default.Element.call(C,C.canvas,C._pInst),C.width=w,C.height=_}else{var R=this.canvas;R&&R.parentNode.removeChild(R),(R=document.createElement("canvas")).id=S,this._pInst._userNode?this._pInst._userNode.appendChild(R):document.body.appendChild(R),this._pInst.canvas=R}var P=new n.default.RendererGL(this._pInst.canvas,this._pInst,!j);this._pInst._setProperty("_renderer",P),P.resize(w,_),P._applyDefaults(),j||this._pInst._elements.push(P),typeof y=="function"&&setTimeout(function(){y.apply(window._renderer,d)},0)},n.default.prototype.setAttributes=function(d,y){if(this._glAttributes!==void 0){var w=!0;if(y!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[d]!==y&&(this._glAttributes[d]=y,w=!1)):d instanceof Object&&this._glAttributes!==d&&(this._glAttributes=d,w=!1),this._renderer.isP3D&&!w){if(!this._setupDone){for(var _ in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(_))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},n.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},n.default.RendererGL.prototype.background=function(){var d,y=(d=this._pInst).color.apply(d,arguments),w=y.levels[0]/255,_=y.levels[1]/255,S=y.levels[2]/255,j=y.levels[3]/255;this.GL.clearColor(w,_,S,j),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},n.default.RendererGL.prototype.fill=function(d,y,w,_){var S=n.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=S._array,this.drawMode=p.FILL,this._useNormalMaterial=!1,this._tex=null},n.default.RendererGL.prototype.stroke=function(d,y,w,_){arguments[3]=255;var S=n.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=S._array},n.default.RendererGL.prototype.strokeCap=function(d){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},n.default.RendererGL.prototype.strokeJoin=function(d){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},n.default.RendererGL.prototype.filter=function(d){console.error("filter() does not work in WEBGL mode")},n.default.RendererGL.prototype.blendMode=function(d){d===p.DARKEST||d===p.LIGHTEST||d===p.ADD||d===p.BLEND||d===p.SUBTRACT||d===p.SCREEN||d===p.EXCLUSION||d===p.REPLACE||d===p.MULTIPLY||d===p.REMOVE?this.curBlendMode=d:d!==p.BURN&&d!==p.OVERLAY&&d!==p.HARD_LIGHT&&d!==p.SOFT_LIGHT&&d!==p.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},n.default.RendererGL.prototype.erase=function(d,y){this._isErasing||(this._applyBlendMode(p.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,d/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,y/255])},n.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},n.default.RendererGL.prototype.strokeWeight=function(d){this.curStrokeWeight!==d&&(this.pointSize=d,this.curStrokeWeight=d)},n.default.RendererGL.prototype._getPixel=function(d,y){var w;return w=new Uint8Array(4),this.drawingContext.readPixels(d,y,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,w),[w[0],w[1],w[2],w[3]]},n.default.RendererGL.prototype.loadPixels=function(){var d=this._pixelsState;if(this._pInst._glAttributes.preserveDrawingBuffer===!0){var y=d.pixels,w=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;y instanceof Uint8Array&&y.length===w||(y=new Uint8Array(w),this._pixelsState._setProperty("pixels",y));var _=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*_,this.height*_,this.GL.RGBA,this.GL.UNSIGNED_BYTE,y)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},n.default.RendererGL.prototype.geometryInHash=function(d){return this.retainedMode.geometry[d]!==void 0},n.default.RendererGL.prototype.resize=function(d,y){n.default.Renderer.prototype.resize.call(this,d,y),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var w=this._pixelsState;w.pixels!==void 0&&w._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},n.default.RendererGL.prototype.clear=function(){var d=(arguments.length<=0?void 0:arguments[0])||0,y=(arguments.length<=1?void 0:arguments[1])||0,w=(arguments.length<=2?void 0:arguments[2])||0,_=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(d,y,w,_),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},n.default.RendererGL.prototype.applyMatrix=function(d,y,w,_,S,j){arguments.length===16?n.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([d,y,0,0,w,_,0,0,0,0,1,0,S,j,0,1])},n.default.RendererGL.prototype.translate=function(d,y,w){return d instanceof n.default.Vector&&(w=d.z,y=d.y,d=d.x),this.uMVMatrix.translate([d,y,w]),this},n.default.RendererGL.prototype.scale=function(d,y,w){return this.uMVMatrix.scale(d,y,w),this},n.default.RendererGL.prototype.rotate=function(d,y){return y===void 0?this.rotateZ(d):(n.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},n.default.RendererGL.prototype.rotateX=function(d){return this.rotate(d,1,0,0),this},n.default.RendererGL.prototype.rotateY=function(d){return this.rotate(d,0,1,0),this},n.default.RendererGL.prototype.rotateZ=function(d){return this.rotate(d,0,0,1),this},n.default.RendererGL.prototype.push=function(){var d=n.default.Renderer.prototype.push.apply(this),y=d.properties;return y.uMVMatrix=this.uMVMatrix.copy(),y.uPMatrix=this.uPMatrix.copy(),y._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),y.ambientLightColors=this.ambientLightColors.slice(),y.specularColors=this.specularColors.slice(),y.directionalLightDirections=this.directionalLightDirections.slice(),y.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),y.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),y.pointLightPositions=this.pointLightPositions.slice(),y.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),y.pointLightSpecularColors=this.pointLightSpecularColors.slice(),y.spotLightPositions=this.spotLightPositions.slice(),y.spotLightDirections=this.spotLightDirections.slice(),y.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),y.spotLightSpecularColors=this.spotLightSpecularColors.slice(),y.spotLightAngle=this.spotLightAngle.slice(),y.spotLightConc=this.spotLightConc.slice(),y.userFillShader=this.userFillShader,y.userStrokeShader=this.userStrokeShader,y.userPointShader=this.userPointShader,y.pointSize=this.pointSize,y.curStrokeWeight=this.curStrokeWeight,y.curStrokeColor=this.curStrokeColor,y.curFillColor=this.curFillColor,y._useSpecularMaterial=this._useSpecularMaterial,y._useEmissiveMaterial=this._useEmissiveMaterial,y._useShininess=this._useShininess,y.constantAttenuation=this.constantAttenuation,y.linearAttenuation=this.linearAttenuation,y.quadraticAttenuation=this.quadraticAttenuation,y._enableLighting=this._enableLighting,y._useNormalMaterial=this._useNormalMaterial,y._tex=this._tex,y.drawMode=this.drawMode,y._currentNormal=this._currentNormal,d},n.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=n.default.Matrix.identity(this._pInst),this},n.default.RendererGL.prototype._getImmediateStrokeShader=function(){var d=this.userStrokeShader;return d&&d.isStrokeShader()?d:this._getLineShader()},n.default.RendererGL.prototype._getRetainedStrokeShader=n.default.RendererGL.prototype._getImmediateStrokeShader,n.default.RendererGL.prototype._getImmediateFillShader=function(){var d=this.userFillShader;if(this._useNormalMaterial&&(!d||!d.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!d||!d.isLightShader())return this._getLightShader()}else if(this._tex){if(!d||!d.isTextureShader())return this._getLightShader()}else if(!d)return this._getImmediateModeShader();return d},n.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var d=this.userFillShader;if(this._enableLighting){if(!d||!d.isLightShader())return this._getLightShader()}else if(this._tex){if(!d||!d.isTextureShader())return this._getLightShader()}else if(!d)return this._getColorShader();return d},n.default.RendererGL.prototype._getImmediatePointShader=function(){var d=this.userPointShader;return d&&d.isPointShader()?d:this._getPointShader()},n.default.RendererGL.prototype._getRetainedLineShader=n.default.RendererGL.prototype._getImmediateLineShader,n.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new n.default.Shader(this,a.phongVert,a.phongFrag):this._defaultLightShader=new n.default.Shader(this,a.lightVert,a.lightTextureFrag)),this._defaultLightShader},n.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new n.default.Shader(this,a.immediateVert,a.vertexColorFrag)),this._defaultImmediateModeShader},n.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new n.default.Shader(this,a.normalVert,a.normalFrag)),this._defaultNormalShader},n.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new n.default.Shader(this,a.normalVert,a.basicFrag)),this._defaultColorShader},n.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new n.default.Shader(this,a.pointVert,a.pointFrag)),this._defaultPointShader},n.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new n.default.Shader(this,a.lineVert,a.lineFrag)),this._defaultLineShader},n.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new n.default.Shader(this,a.fontVert,a.fontFrag)),this._defaultFontShader},n.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var d=new n.default.Image(1,1);d.set(0,0,255),this._emptyTexture=new n.default.Texture(this,d)}return this._emptyTexture},n.default.RendererGL.prototype.getTexture=function(d){var y=this.textures,w=!0,_=!1,S=void 0;try{for(var j,C=y[Symbol.iterator]();!(w=(j=C.next()).done);w=!0){var R=j.value;if(R.src===d)return R}}catch(I){_=!0,S=I}finally{try{w||C.return==null||C.return()}finally{if(_)throw S}}var P=new n.default.Texture(this,d);return y.push(P),P},n.default.RendererGL.prototype._setStrokeUniforms=function(d){d.bindShader(),d.setUniform("uMaterialColor",this.curStrokeColor),d.setUniform("uStrokeWeight",this.curStrokeWeight)},n.default.RendererGL.prototype._setFillUniforms=function(d){d.bindShader(),d.setUniform("uMaterialColor",this.curFillColor),d.setUniform("isTexture",!!this._tex),this._tex&&d.setUniform("uSampler",this._tex),d.setUniform("uTint",this._tint),d.setUniform("uSpecular",this._useSpecularMaterial),d.setUniform("uEmissive",this._useEmissiveMaterial),d.setUniform("uShininess",this._useShininess),d.setUniform("uUseLighting",this._enableLighting);var y=this.pointLightDiffuseColors.length/3;d.setUniform("uPointLightCount",y),d.setUniform("uPointLightLocation",this.pointLightPositions),d.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),d.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var w=this.directionalLightDiffuseColors.length/3;d.setUniform("uDirectionalLightCount",w),d.setUniform("uLightingDirection",this.directionalLightDirections),d.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),d.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var _=this.ambientLightColors.length/3;d.setUniform("uAmbientLightCount",_),d.setUniform("uAmbientColor",this.ambientLightColors);var S=this.spotLightDiffuseColors.length/3;d.setUniform("uSpotLightCount",S),d.setUniform("uSpotLightAngle",this.spotLightAngle),d.setUniform("uSpotLightConc",this.spotLightConc),d.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),d.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),d.setUniform("uSpotLightLocation",this.spotLightPositions),d.setUniform("uSpotLightDirection",this.spotLightDirections),d.setUniform("uConstantAttenuation",this.constantAttenuation),d.setUniform("uLinearAttenuation",this.linearAttenuation),d.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),d.bindTextures()},n.default.RendererGL.prototype._setPointUniforms=function(d){d.bindShader(),d.setUniform("uMaterialColor",this.curStrokeColor),d.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},n.default.RendererGL.prototype._bindBuffer=function(d,y,w,_,S){if(y=y||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(y,d),w!==void 0){var j=new(_||Float32Array)(w);this.GL.bufferData(y,j,S||this.GL.STATIC_DRAW)}},n.default.RendererGL.prototype._arraysEqual=function(d,y){var w=d.length;if(w!==y.length)return!1;for(var _=0;_<w;_++)if(d[_]!==y[_])return!1;return!0},n.default.RendererGL.prototype._isTypedArray=function(d){return d instanceof Uint32Array},n.default.RendererGL.prototype._flatten=function(d){if(d.length===0)return[];if(2e4<d.length){var y,w=Object.prototype.toString,_=[],S=d.slice();for(y=S.pop();w.call(y)==="[object Array]"?S.push.apply(S,i(y)):_.push(y),S.length&&(y=S.pop())!==void 0;);return _.reverse(),_}var j;return(j=[]).concat.apply(j,i(d))},n.default.RendererGL.prototype._vToNArray=function(d){var y=[],w=!0,_=!1,S=void 0;try{for(var j,C=d[Symbol.iterator]();!(w=(j=C.next()).done);w=!0){var R=j.value;y.push(R.x,R.y,R.z)}}catch(P){_=!0,S=P}finally{try{w||C.return==null||C.return()}finally{if(_)throw S}}return y},n.default.prototype._assert3d=function(d){if(!this._renderer.isP3D)throw new Error("".concat(d,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},n.default.RendererGL.prototype._initTessy=function(){var d=new f.default.GluTesselator;return d.gluTessCallback(f.default.gluEnum.GLU_TESS_VERTEX_DATA,function(y,w){w[w.length]=y[0],w[w.length]=y[1],w[w.length]=y[2]}),d.gluTessCallback(f.default.gluEnum.GLU_TESS_BEGIN,function(y){y!==f.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(y))}),d.gluTessCallback(f.default.gluEnum.GLU_TESS_ERROR,function(y){console.log("error callback"),console.log("error number: ".concat(y))}),d.gluTessCallback(f.default.gluEnum.GLU_TESS_COMBINE,function(y,w,_){return[y[0],y[1],y[2]]}),d.gluTessCallback(f.default.gluEnum.GLU_TESS_EDGE_FLAG,function(y){}),d},n.default.RendererGL.prototype._triangulate=function(d){this._tessy.gluTessNormal(0,0,1);var y=[];this._tessy.gluTessBeginPolygon(y);for(var w=0;w<d.length;w++){this._tessy.gluTessBeginContour();for(var _=d[w],S=0;S<_.length;S+=3){var j=[_[S],_[S+1],_[S+2]];this._tessy.gluTessVertex(j,j)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),y},n.default.RendererGL.prototype._bezierCoefficients=function(d){var y=d*d,w=1-d,_=w*w;return[_*w,3*_*d,3*w*y,y*d]},n.default.RendererGL.prototype._quadraticCoefficients=function(d){var y=1-d;return[y*y,2*y*d,d*d]},n.default.RendererGL.prototype._bezierToCatmull=function(d){return[d[1],d[1]+(d[2]-d[0])/this._curveTightness,d[2]-(d[3]-d[1])/this._curveTightness,d[2]]};var c=n.default.RendererGL;u.default=c},{"../core/constants":253,"../core/main":264,"../core/p5.Renderer":267,"./p5.Camera":312,"./p5.Matrix":314,"./p5.Shader":319,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,libtess:237,path:240}],319:[function(e,l,u){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var h,n=(h=e("../core/main"))&&h.__esModule?h:{default:h};n.default.Shader=function(f,g,m){this._renderer=f,this._vertSrc=g,this._fragSrc=m,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},n.default.Shader.prototype.init=function(){if(this._glProgram===0){var f=this._renderer.GL;if(this._vertShader=f.createShader(f.VERTEX_SHADER),f.shaderSource(this._vertShader,this._vertSrc),f.compileShader(this._vertShader),!f.getShaderParameter(this._vertShader,f.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(f.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=f.createShader(f.FRAGMENT_SHADER),f.shaderSource(this._fragShader,this._fragSrc),f.compileShader(this._fragShader),!f.getShaderParameter(this._fragShader,f.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(f.getShaderInfoLog(this._fragShader))),null;this._glProgram=f.createProgram(),f.attachShader(this._glProgram,this._vertShader),f.attachShader(this._glProgram,this._fragShader),f.linkProgram(this._glProgram),f.getProgramParameter(this._glProgram,f.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(f.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},n.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var f=this._renderer.GL,g=f.getProgramParameter(this._glProgram,f.ACTIVE_ATTRIBUTES),m=0;m<g;++m){var i=f.getActiveAttrib(this._glProgram,m),s=i.name,a=f.getAttribLocation(this._glProgram,s),c={};c.name=s,c.location=a,c.index=m,c.type=i.type,c.size=i.size,this.attributes[s]=c}this._loadedAttributes=!0}},n.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var f=this._renderer.GL,g=f.getProgramParameter(this._glProgram,f.ACTIVE_UNIFORMS),m=0,i=0;i<g;++i){var s=f.getActiveUniform(this._glProgram,i),a={};a.location=f.getUniformLocation(this._glProgram,s.name),a.size=s.size;var c=s.name;1<s.size&&(c=c.substring(0,c.indexOf("[0]"))),a.name=c,a.type=s.type,a._cachedData=void 0,a.type===f.SAMPLER_2D&&(a.samplerIndex=m,m++,this.samplers.push(a)),a.isArray=1<s.size||a.type===f.FLOAT_MAT3||a.type===f.FLOAT_MAT4||a.type===f.FLOAT_VEC2||a.type===f.FLOAT_VEC3||a.type===f.FLOAT_VEC4||a.type===f.INT_VEC2||a.type===f.INT_VEC4||a.type===f.INT_VEC3,this.uniforms[c]=a}this._loadedUniforms=!0}},n.default.Shader.prototype.compile=function(){},n.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},n.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},n.default.Shader.prototype.bindTextures=function(){var f=this._renderer.GL,g=!0,m=!1,i=void 0;try{for(var s,a=this.samplers[Symbol.iterator]();!(g=(s=a.next()).done);g=!0){var c=s.value,d=c.texture;d===void 0&&(d=this._renderer._getEmptyTexture()),f.activeTexture(f.TEXTURE0+c.samplerIndex),d.bindTexture(),d.update(),f.uniform1i(c.location,c.samplerIndex)}}catch(y){m=!0,i=y}finally{try{g||a.return==null||a.return()}finally{if(m)throw i}}},n.default.Shader.prototype.updateTextures=function(){var f=!0,g=!1,m=void 0;try{for(var i,s=this.samplers[Symbol.iterator]();!(f=(i=s.next()).done);f=!0){var a=i.value.texture;a&&a.update()}}catch(c){g=!0,m=c}finally{try{f||s.return==null||s.return()}finally{if(g)throw m}}},n.default.Shader.prototype.unbindTextures=function(){},n.default.Shader.prototype._setMatrixUniforms=function(){var f=this._renderer._curCamera.cameraMatrix,g=this._renderer.uPMatrix,m=this._renderer.uMVMatrix,i=m.copy();i.mult(g),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",f.mat4),this.setUniform("uProjectionMatrix",g.mat4),this.setUniform("uModelViewMatrix",m.mat4),this.setUniform("uModelViewProjectionMatrix",i.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},n.default.Shader.prototype.useProgram=function(){var f=this._renderer.GL;return this._renderer._curShader!==this&&(f.useProgram(this._glProgram),this._renderer._curShader=this),this},n.default.Shader.prototype.setUniform=function(f,g){var m=this.uniforms[f];if(m){var i=this._renderer.GL;if(m.isArray){if(m._cachedData&&this._renderer._arraysEqual(m._cachedData,g))return;m._cachedData=g.slice(0)}else{if(m._cachedData&&m._cachedData===g)return;Array.isArray(g)?m._cachedData=g.slice(0):m._cachedData=g}var s=m.location;switch(this.useProgram(),m.type){case i.BOOL:g===!0?i.uniform1i(s,1):i.uniform1i(s,0);break;case i.INT:1<m.size?g.length&&i.uniform1iv(s,g):i.uniform1i(s,g);break;case i.FLOAT:1<m.size?g.length&&i.uniform1fv(s,g):i.uniform1f(s,g);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(s,!1,g);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(s,!1,g);break;case i.FLOAT_VEC2:1<m.size?g.length&&i.uniform2fv(s,g):i.uniform2f(s,g[0],g[1]);break;case i.FLOAT_VEC3:1<m.size?g.length&&i.uniform3fv(s,g):i.uniform3f(s,g[0],g[1],g[2]);break;case i.FLOAT_VEC4:1<m.size?g.length&&i.uniform4fv(s,g):i.uniform4f(s,g[0],g[1],g[2],g[3]);break;case i.INT_VEC2:1<m.size?g.length&&i.uniform2iv(s,g):i.uniform2i(s,g[0],g[1]);break;case i.INT_VEC3:1<m.size?g.length&&i.uniform3iv(s,g):i.uniform3i(s,g[0],g[1],g[2]);break;case i.INT_VEC4:1<m.size?g.length&&i.uniform4iv(s,g):i.uniform4i(s,g[0],g[1],g[2],g[3]);break;case i.SAMPLER_2D:i.activeTexture(i.TEXTURE0+m.samplerIndex),m.texture=g instanceof n.default.Texture?g:this._renderer.getTexture(g),i.uniform1i(s,m.samplerIndex)}return this}},n.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},n.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},n.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},n.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},n.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},n.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},n.default.Shader.prototype.enableAttrib=function(f,g,m,i,s,a){if(f){var c=f.location;if(c!==-1){var d=this._renderer.GL;f.enabled||(d.enableVertexAttribArray(c),f.enabled=!0),this._renderer.GL.vertexAttribPointer(c,g,m||d.FLOAT,i||!1,s||0,a||0)}}return this};var p=n.default.Shader;u.default=p},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],320:[function(e,l,u){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(i)}e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var s=g();if(s&&s.has(i))return s.get(i);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(Object.prototype.hasOwnProperty.call(i,d)){var y=c?Object.getOwnPropertyDescriptor(i,d):null;y&&(y.get||y.set)?Object.defineProperty(a,d,y):a[d]=i[d]}return a.default=i,s&&s.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.Texture=function(i,s,a){this._renderer=i;var c=this._renderer.GL;(a=a||{}).dataType===c.FLOAT&&(c.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),c.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=s,this.glTex=void 0,this.glTarget=c.TEXTURE_2D,this.glFormat=a.format||c.RGBA,this.mipmaps=!1,this.glMinFilter=a.minFilter||c.LINEAR,this.glMagFilter=a.magFilter||c.LINEAR,this.glWrapS=a.wrapS||c.CLAMP_TO_EDGE,this.glWrapT=a.wrapT||c.CLAMP_TO_EDGE,this.glDataType=a.dataType||c.UNSIGNED_BYTE,this.isSrcMediaElement=p.default.MediaElement!==void 0&&s instanceof p.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=p.default.Element!==void 0&&s instanceof p.default.Element&&!(s instanceof p.default.Graphics),this.isSrcP5Image=s instanceof p.default.Image,this.isSrcP5Graphics=s instanceof p.default.Graphics,this.isImageData=typeof ImageData<"u"&&s instanceof ImageData;var d=this._getTextureDataFromSource();return this.width=d.width,this.height=d.height,this.init(d),this},p.default.Texture.prototype._getTextureDataFromSource=function(){var i;return this.isSrcP5Image?i=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?i=this.src.elt:this.isImageData&&(i=this.src),i},p.default.Texture.prototype.init=function(i){var s=this._renderer.GL;if(this.glTex=s.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.glMagFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){var a=new Uint8Array([1,1,1,1]);s.texImage2D(this.glTarget,0,s.RGBA,1,1,0,this.glFormat,this.glDataType,a)}else s.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,i)},p.default.Texture.prototype.update=function(){var i=this.src;if(i.width===0||i.height===0)return!1;var s=this._getTextureDataFromSource(),a=!1,c=this._renderer.GL;return s.width!==this.width||s.height!==this.height?(a=!0,this.width=s.width,this.height=s.height,this.isSrcP5Image?i.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&i.setModified(!0)):this.isSrcP5Image?i.isModified()&&(a=!0,i.setModified(!1)):this.isSrcMediaElement?i.isModified()?(a=!0,i.setModified(!1)):i.loadedmetadata&&this._videoPrevUpdateTime!==i.time()&&(this._videoPrevUpdateTime=i.time(),a=!0):this.isImageData?i._dirty&&(a=!(i._dirty=!1)):a=!0,a&&(this.bindTexture(),c.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,s)),a},p.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},p.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},p.default.Texture.prototype.setInterpolation=function(i,s){var a=this._renderer.GL;i===f.NEAREST?this.glMinFilter=a.NEAREST:this.glMinFilter=a.LINEAR,s===f.NEAREST?this.glMagFilter=a.NEAREST:this.glMagFilter=a.LINEAR,this.bindTexture(),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.glMinFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},p.default.Texture.prototype.setWrapMode=function(i,s){function a(w){return(w&w-1)==0}var c=this._renderer.GL,d=a(this.width),y=a(this.height);i===f.REPEAT?d&&y?this.glWrapS=c.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=c.CLAMP_TO_EDGE):i===f.MIRROR?d&&y?this.glWrapS=c.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=c.CLAMP_TO_EDGE):this.glWrapS=c.CLAMP_TO_EDGE,s===f.REPEAT?d&&y?this.glWrapT=c.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=c.CLAMP_TO_EDGE):s===f.MIRROR?d&&y?this.glWrapT=c.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=c.CLAMP_TO_EDGE):this.glWrapT=c.CLAMP_TO_EDGE,this.bindTexture(),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,this.glWrapS),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var m=p.default.Texture;u.default=m},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],321:[function(e,l,u){function h(c){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var n,p=(n=e("../core/main"))&&n.__esModule?n:{default:n},f=function(c){if(c&&c.__esModule)return c;if(c===null||h(c)!=="object"&&typeof c!="function")return{default:c};var d=g();if(d&&d.has(c))return d.get(c);var y={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in c)if(Object.prototype.hasOwnProperty.call(c,_)){var S=w?Object.getOwnPropertyDescriptor(c,_):null;S&&(S.get||S.set)?Object.defineProperty(y,_,S):y[_]=c[_]}return y.default=c,d&&d.set(c,y),y}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var c=new WeakMap;return g=function(){return c},c}e("./p5.Shader"),e("./p5.RendererGL.Retained"),p.default.RendererGL.prototype._applyTextProperties=function(){},p.default.RendererGL.prototype.textWidth=function(c){return this._isOpenType()?this._textFont._textWidth(c,this._textSize):0};function m(c,d){this.width=c,this.height=d,this.infos=[],this.findImage=function(y){var w,_,S=this.width*this.height;if(S<y)throw new Error("font is too complex to render in 3D");for(var j=this.infos.length-1;0<=j;--j){var C=this.infos[j];if(C.index+y<S){_=(w=C).imageData;break}}if(!w){try{_=new ImageData(this.width,this.height)}catch{var R=document.getElementsByTagName("canvas")[0],P=!R;R||((R=document.createElement("canvas")).style.display="none",document.body.appendChild(R));var I=R.getContext("2d");I&&(_=I.createImageData(this.width,this.height)),P&&document.body.removeChild(R)}w={index:0,imageData:_},this.infos.push(w)}var A=w.index;return w.index+=y,_._dirty=!0,{imageData:_,index:A}}}function i(c,d,y,w,_){var S=c.imageData.data,j=4*c.index++;S[j++]=d,S[j++]=y,S[j++]=w,S[j++]=_}function s(c){this.font=c,this.strokeImageInfos=new m(64,64),this.colDimImageInfos=new m(64,64),this.rowDimImageInfos=new m(64,64),this.colCellImageInfos=new m(64,64),this.rowCellImageInfos=new m(64,64),this.glyphInfos={},this.getGlyphInfo=function(d){var y=this.glyphInfos[d.index];if(y)return y;var w,_=d.getBoundingBox(),S=_.x1,j=_.y1,C=_.x2-S,R=_.y2-j,P=d.path.commands;if(C==0||R==0||!P.length)return this.glyphInfos[d.index]={};var I,A,D,N,L=[],W=[],z=[];for(w=8;0<=w;--w)z.push([]);for(w=8;0<=w;--w)W.push([]);function le(fe,ke,Ne){var Ue=L.length;function Le(Q,q,K){for(var he=Q.length;0<he--;){var je=Q[he];je<q&&(q=je),K<je&&(K=je)}return{min:q,max:K}}L.push(Ne);for(var Ze=Le(fe,1,0),Ae=Math.max(Math.floor(9*Ze.min),0),Re=Math.min(Math.ceil(9*Ze.max),9),qe=Ae;qe<Re;++qe)z[qe].push(Ue);for(var $e=Le(ke,1,0),we=Math.max(Math.floor(9*$e.min),0),ot=Math.min(Math.ceil(9*$e.max),9),H=we;H<ot;++H)W[H].push(Ue)}function ue(fe){return(ke=(Ue=255)*fe)<(Ne=0)?Ne:Ue<ke?Ue:ke;var ke,Ne,Ue}function J(fe,ke,Ne,Ue){this.p0=fe,this.c0=ke,this.c1=Ne,this.p1=Ue,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return p.default.Vector.sub(p.default.Vector.sub(this.p1,this.p0),p.default.Vector.mult(p.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Le){var Ze=p.default.Vector.lerp(this.p0,this.c0,Le),Ae=p.default.Vector.lerp(this.c0,this.c1,Le),Re=p.default.Vector.lerp(Ze,Ae,Le);this.c1=p.default.Vector.lerp(this.c1,this.p1,Le),this.c0=p.default.Vector.lerp(Ae,this.c1,Le);var qe=p.default.Vector.lerp(Re,this.c0,Le),$e=new J(this.p0,Ze,Re,qe);return this.p0=qe,$e},this.splitInflections=function(){var Le=p.default.Vector.sub(this.c0,this.p0),Ze=p.default.Vector.sub(p.default.Vector.sub(this.c1,this.c0),Le),Ae=p.default.Vector.sub(p.default.Vector.sub(p.default.Vector.sub(this.p1,this.c1),Le),p.default.Vector.mult(Ze,2)),Re=[],qe=Ze.x*Ae.y-Ze.y*Ae.x;if(qe!==0){var $e=Le.x*Ae.y-Le.y*Ae.x,we=Le.x*Ze.y-Le.y*Ze.x,ot=$e*$e-4*qe*we;if(0<=ot){qe<0&&(qe=-qe,$e=-$e,we=-we);var H=Math.sqrt(ot),Q=(-$e-H)/(2*qe),q=(-$e+H)/(2*qe);0<Q&&Q<1&&(Re.push(this.split(Q)),q=1-(1-q)/(1-Q)),0<q&&q<1&&Re.push(this.split(q))}}return Re.push(this),Re}}function ce(fe,ke,Ne,Ue,Le,Ze,Ae,Re){var qe=new J(new p.default.Vector(fe,ke),new p.default.Vector(Ne,Ue),new p.default.Vector(Le,Ze),new p.default.Vector(Ae,Re)).splitInflections(),$e=[],we=30/a,ot=!0,H=!1,Q=void 0;try{for(var q,K=qe[Symbol.iterator]();!(ot=(q=K.next()).done);ot=!0){for(var he=q.value,je=[],De=void 0;!(.125<=(De=we/he.quadError()));){var We=Math.pow(De,.3333333333333333),xe=he.split(We),Qe=he.split(1-We/(1-We));$e.push(xe),je.push(he),he=Qe}De<1&&$e.push(he.split(.5)),$e.push(he),Array.prototype.push.apply($e,je.reverse())}}catch(ut){H=!0,Q=ut}finally{try{ot||K.return==null||K.return()}finally{if(H)throw Q}}return $e}function se(fe,ke,Ne,Ue){le([fe,Ne],[ke,Ue],{x:fe,y:ke,cx:(fe+Ne)/2,cy:(ke+Ue)/2})}function ge(fe,ke,Ne,Ue){return Math.abs(Ne-fe)<1e-5&&Math.abs(Ue-ke)<1e-5}var _e=!0,Ce=!1,be=void 0;try{for(var Ie,Se=P[Symbol.iterator]();!(_e=(Ie=Se.next()).done);_e=!0){var Te=Ie.value,O=(Te.x-S)/C,V=(Te.y-j)/R;if(!ge(I,A,O,V)){switch(Te.type){case"M":D=O,N=V;break;case"L":se(I,A,O,V);break;case"Q":var X=(Te.x1-S)/C,ee=(Te.y1-j)/R;le([I,O,X],[A,V,ee],{x:I,y:A,cx:X,cy:ee});break;case"Z":ge(I,A,D,N)?L.push({x:I,y:A}):(se(I,A,D,N),L.push({x:D,y:N}));break;case"C":for(var B=ce(I,A,(Te.x1-S)/C,(Te.y1-j)/R,(Te.x2-S)/C,(Te.y2-j)/R,O,V),U=0;U<B.length;U++){var re=B[U].toQuadratic();le([re.x,re.x1,re.cx],[re.y,re.y1,re.cy],re)}break;default:throw new Error("unknown command type: ".concat(Te.type))}I=O,A=V}}}catch(fe){Ce=!0,be=fe}finally{try{_e||Se.return==null||Se.return()}finally{if(Ce)throw be}}for(var $=L.length,ne=this.strokeImageInfos.findImage($),ie=ne.index,oe=0;oe<$;++oe){var me=L[oe];i(ne,ue(me.x),ue(me.y),ue(me.cx),ue(me.cy))}function ye(fe,ke,Ne){for(var Ue=fe.length,Le=ke.findImage(Ue),Ze=Le.index,Ae=0,Re=0;Re<Ue;++Re)Ae+=fe[Re].length;for(var qe=Ne.findImage(Ae),$e=0;$e<Ue;++$e){var we=fe[$e],ot=we.length,H=qe.index;i(Le,H>>7,127&H,ot>>7,127&ot);for(var Q=0;Q<ot;++Q){var q=we[Q]+ie;i(qe,q>>7,127&q,0,0)}}return{cellImageInfo:qe,dimOffset:Ze,dimImageInfo:Le}}return(y=this.glyphInfos[d.index]={glyph:d,uGlyphRect:[_.x1,-_.y1,_.x2,-_.y2],strokeImageInfo:ne,strokes:L,colInfo:ye(z,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ye(W,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[y.colInfo.dimOffset,y.rowInfo.dimOffset],y}}var a=Math.sqrt(3);p.default.RendererGL.prototype._renderText=function(c,d,y,w,_){if(this._textFont&&typeof this._textFont!="string"){if(!(_<=w)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),c;c.push();var S=this._doStroke,j=this.drawMode;this._doStroke=!1,this.drawMode=f.TEXTURE;var C=this._textFont.font,R=this._textFont._fontInfo;R=R||(this._textFont._fontInfo=new s(C));var P=this._textFont._handleAlignment(this,d,y,w),I=this._textSize/C.unitsPerEm;this.translate(P.x,P.y,0),this.scale(I,I,1);var A=this.GL,D=!this._defaultFontShader,N=this._getFontShader();N.init(),N.bindShader(),D&&(N.setUniform("uGridImageSize",[64,64]),N.setUniform("uCellsImageSize",[64,64]),N.setUniform("uStrokeImageSize",[64,64]),N.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var L=this.retainedMode.geometry.glyph;if(!L){var W=this._textGeom=new p.default.Geometry(1,1,function(){for(var B=0;B<=1;B++)for(var U=0;U<=1;U++)this.vertices.push(new p.default.Vector(U,B,0)),this.uvs.push(U,B)});W.computeFaces().computeNormals(),L=this.createBuffers("glyph",W)}var z=!0,le=!1,ue=void 0;try{for(var J,ce=this.retainedMode.buffers.text[Symbol.iterator]();!(z=(J=ce.next()).done);z=!0)J.value._prepareBuffer(L,N)}catch(B){le=!0,ue=B}finally{try{z||ce.return==null||ce.return()}finally{if(le)throw ue}}this._bindBuffer(L.indexBuffer,A.ELEMENT_ARRAY_BUFFER),N.setUniform("uMaterialColor",this.curFillColor);try{var se=0,ge=null,_e=C.stringToGlyphs(d),Ce=!0,be=!1,Ie=void 0;try{for(var Se,Te=_e[Symbol.iterator]();!(Ce=(Se=Te.next()).done);Ce=!0){var O=Se.value;ge&&(se+=C.getKerningValue(ge,O));var V=R.getGlyphInfo(O);if(V.uGlyphRect){var X=V.rowInfo,ee=V.colInfo;N.setUniform("uSamplerStrokes",V.strokeImageInfo.imageData),N.setUniform("uSamplerRowStrokes",X.cellImageInfo.imageData),N.setUniform("uSamplerRows",X.dimImageInfo.imageData),N.setUniform("uSamplerColStrokes",ee.cellImageInfo.imageData),N.setUniform("uSamplerCols",ee.dimImageInfo.imageData),N.setUniform("uGridOffset",V.uGridOffset),N.setUniform("uGlyphRect",V.uGlyphRect),N.setUniform("uGlyphOffset",se),N.bindTextures(),A.drawElements(A.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}se+=O.advanceWidth,ge=O}}catch(B){be=!0,Ie=B}finally{try{Ce||Te.return==null||Te.return()}finally{if(be)throw Ie}}}finally{N.unbindShader(),this._doStroke=S,this.drawMode=j,c.pop()}return c}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":253,"../core/main":264,"./p5.RendererGL.Retained":317,"./p5.Shader":319,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}]},{},[248])(248)})})(xm);const ct=wm(Qa),b=new ct(o=>{}),He=b.windowWidth/80,hr=He*(2/3),yt=He/24,_m=13,Sm=3/8,Tm=1/2,Em=1,Gs=3600,Mn=9999999999,Za=500,jm=1.5,Cm=100,Mm="flood",Rm="floodNext",Am="floodWater",Pm="floodWaterNext",Ec="0.0.1",nn=[255,0,0],Kd=[200,0,0],Wl=[247,52,43],Ja=[153,117,112],Bi=[217,33,33],Om=[117,13,13],zl=[0,255,0],Qd=[200,200,0],Hs=[144,238,144],km=[3,192,74],Dm=[74,176,150],Lm=[255,145,164],Im=[41,110,1],Zd=[152,208,35],Bm=[65,245,25],Nm=[70,125,93],Jd=[150,221,126],el=[64,224,208],Um=[134,254,238],eh=[0,0,255],jc=[50,148,235],Ws=[163,214,251],Ji=[14,135,204],th=[11,11,69],rh=[76,80,169],nh=[0,90,156],Fm=[192,192,195],ys=[152,118,82],oo=[64,224,208],br=[255,255,255],Rt=[0,0,0],Vm=[15,15,15],ea=[10,10,10],ql=[20,20,20],oh=[55,55,55],ta=[100,100,100],sh=[120,120,120],ih=[90,90,90],ra=[150,150,150],Gm=[255,255,0],Hm=[255,191,0],zs=[255,223,0],Io=[255,217,61],as=[255,179,0],Wm=[216,187,93],Cn=[255,150,45],Do=[255,69,0],ls=[251,139,35],ah=[197,177,160],zm=[105,98,79],qm=[101,67,33],lh=[248,24,148],vs=[200,0,200],Ni=[100,0,100],Ym=[60,0,60],Yl=[177,156,217],Xm=[177,156,217,155];var ht=(o=>(o[o.EMPTY=0]="EMPTY",o[o.HILL=1]="HILL",o[o.UNSTABLE=2]="UNSTABLE",o[o.WALL=3]="WALL",o[o.WATER=4]="WATER",o[o.LAVA=5]="LAVA",o[o.SPAWN=6]="SPAWN",o[o.BASE=7]="BASE",o[o.TELEPORTER_ONE=8]="TELEPORTER_ONE",o[o.TELEPORTER_TWO=9]="TELEPORTER_TWO",o))(ht||{});const $m={name:"Empty",description:"An empty tile",hotkey:"e",keycode:69,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Ws},Km={name:"Hill",description:"A slightly elevated tile",hotkey:"h",keycode:72,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:ys},Qm={name:"Unstable",description:"An unstable tile",hotkey:"u",keycode:85,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:ah},Zm={name:"Wall",description:"A wall tile",hotkey:"w",keycode:87,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:oh},Jm={name:"Water",description:"A water tile",hotkey:"a",keycode:65,canTower:!1,canWaterTower:!0,canLavaTower:!1,canUnit:!1,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Ji},eg={name:"Lava",description:"A lava tile",hotkey:"l",keycode:76,canTower:!1,canWaterTower:!1,canLavaTower:!0,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Wl},tg={name:"Spawn",description:"An enemy spawn point",hotkey:"s",keycode:83,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!0,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:nn},rg={name:"Base",description:"A Maou base to be protected",hotkey:"b",keycode:66,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!0,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:vs},ng={name:"Teleporter Type One",description:"A teleporter connected to all other teleporters of the same type",hotkey:"t",keycode:84,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:1,rgb:km},og={name:"Teleporter Type Two",description:"A teleporter connected to all other teleporters of the same type",hotkey:"y",keycode:89,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:2,rgb:Lm},lo={[0]:$m,[1]:Km,[2]:Qm,[3]:Zm,[4]:Jm,[5]:eg,[6]:tg,[7]:rg,[8]:ng,[9]:og},dr=(o,r,t,e=!1,l=b)=>{const u=e?0:30;l.beginShape();for(let h=0;h<6;h++){const n=l.PI/180*(u+h*60),p=o+l.cos(n)*t,f=r+l.sin(n)*t;l.vertex(p,f)}l.endShape(l.CLOSE)},sg=(o,r,t,e,l,u=!1,h=b)=>{let n=u?-h.TWO_PI/3:-h.PI/2,p=o+h.cos(n)*t,f=r+h.sin(n)*t;h.beginShape();for(let i=0;i<=e;i++)p=o+h.cos(n)*t,f=r+h.sin(n)*t,h.vertex(p,f),n+=h.PI/3;h.endShape();const g=o+h.cos(n)*t,m=r+h.sin(n)*t;h.line(p,f,b.lerp(p,g,l),b.lerp(f,m,l))},ig=3,Zo=(o,r,t=ig)=>{b.push();const e=o.x+r.x,l=o.y+r.y,u=r.heading(),h=r.mag(),n=ct.Vector.fromAngle(u-b.PI/4),p=ct.Vector.fromAngle(u+b.PI/4);n.mult(-(h/3)),p.mult(-(h/3)),b.strokeWeight(t),b.line(o.x,o.y,e,l),b.line(e,l,e+n.x,l+n.y),b.line(e,l,e+p.x,l+p.y),b.pop()};class qs{constructor(r,t,e,l,u,h={}){G(this,"pos");G(this,"r");G(this,"q");G(this,"size");G(this,"collisionRadius");G(this,"vertices");G(this,"color");G(this,"wall");G(this,"canTower");G(this,"canWaterTower");G(this,"canLavaTower");G(this,"canUnit");G(this,"canWaterUnit");G(this,"isTower");G(this,"isSpawn");G(this,"isTeleporter");G(this,"teleporterType");G(this,"type");G(this,"data");G(this,"buffs");G(this,"timedBuffs");G(this,"appliedEffects");this.pos=b.createVector(r,t),this.r=e,this.q=l,this.size=u,this.collisionRadius=u*(2+b.sqrt(3))/4,this.vertices=[],this.color=h.color?b.color(h.color.levels):b.color(Ws),this.wall=h.wall??!1,this.canTower=h.canTower??!0,this.canWaterTower=h.canWaterTower??!1,this.canLavaTower=h.canLavaTower??!1,this.canUnit=h.canUnit??!0,this.canWaterUnit=h.canWaterUnit??!0,this.isSpawn=h.isSpawn??!1,this.isTower=h.isTower??!1,this.isTeleporter=h.isTeleporter??!1,this.teleporterType=h.teleporterType??0,this.type=h.type??eo.EMPTY,this.buffs=[],this.timedBuffs=[],this.appliedEffects={},this.data=h.data??{}}show(r=this.pos){b.push(),b.fill(this.color),b.stroke(10),b.strokeWeight(1),dr(r.x,r.y,this.size),b.pop()}showDebug(){if(b.push(),b.strokeWeight(3),this.data.floodPathVector&&(b.stroke(0,0,255),Zo(this.pos,this.data.floodPathVector.copy().mult(.3))),this.data.floodNext&&(b.stroke(255,0,255),b.line(this.pos.x,this.pos.y,this.data.floodNext.pos.x,this.data.floodNext.pos.y),Zo(this.pos,this.data.floodPathVector.copy().mult(.4))),this.data["scout-1-vector"]&&(b.stroke(0,255,255),Zo(this.pos,this.data["scout-1-vector"].copy().mult(.3))),this.data["scout-1-prev"]){const r=ct.Vector.sub(b.createVector(this.data["scout-1-prev"].pos.x,this.data["scout-1-prev"].pos.y),b.createVector(this.pos.x,this.pos.y));b.stroke(255,0,0),Zo(this.pos,r.copy().mult(.3))}b.pop()}preCalculateVertices(r=!1){const t=r?0:30;for(let e=0;e<6;e++){const l=b.PI/180*(t+e*60),u=this.pos.x+b.cos(l)*this.size,h=this.pos.y+b.sin(l)*this.size;this.vertices.push(b.createVector(u,h))}}applyBuff(r){this.buffs.push(r)}removeBuff(r){for(let t=0;t<this.buffs.length;t++)if(this.buffs[t].id===r){this.buffs.splice(t,1);return}}onCollision(){return null}}class ag extends qs{constructor(t,e,l,u,h,n,p={}){super(t,e,l,u,h,{color:b.color(vs),...p});G(this,"maxHp");G(this,"hp");this.maxHp=n,this.hp=n}show(){b.push(),b.stroke(10),b.strokeWeight(2),b.fill(this.color),dr(this.pos.x,this.pos.y,this.size),dr(this.pos.x,this.pos.y,this.size-5),dr(this.pos.x,this.pos.y,this.size-10),b.pop()}update(){return!0}}var eo=(o=>(o[o.EMPTY=0]="EMPTY",o[o.HILL=1]="HILL",o[o.UNSTABLE=2]="UNSTABLE",o[o.WALL=3]="WALL",o[o.WATER=4]="WATER",o[o.LAVA=5]="LAVA",o[o.SPAWN=6]="SPAWN",o[o.BASE=7]="BASE",o))(eo||{});class lg{constructor(r,t,e,l,u={}){G(this,"seed");G(this,"midPos");G(this,"rings");G(this,"maxR");G(this,"maxQ");G(this,"midR");G(this,"midQ");G(this,"minR");G(this,"minQ");G(this,"hexSize");G(this,"xDiff");G(this,"yDiff");G(this,"wallRing");G(this,"grid");G(this,"tileTypeColors",{[0]:b.color(Ws),[1]:b.color(ys),[2]:b.color(ah),[3]:b.color(oh),[4]:b.color(Ji),[5]:b.color(Wl),[6]:b.color(nn),[7]:b.color(vs)});G(this,"neighborVectorsRQ",[b.createVector(-1,1),b.createVector(0,1),b.createVector(1,0),b.createVector(1,-1),b.createVector(0,-1),b.createVector(-1,0)]);G(this,"teleporters",{});this.seed="",this.midPos=b.createVector(r,t),this.rings=e,this.maxR=e*2,this.maxQ=e*2,this.midR=e,this.midQ=e,this.minR=0,this.minQ=0,this.hexSize=l,this.xDiff=b.sqrt(3)*l,this.yDiff=1.5*l,this.grid=[],this.wallRing=u.wallRing??1,this.constructGrid(u.wallRing??1)}constructGrid(r=this.wallRing){for(let t=this.minR;t<=this.maxR;t++){this.grid.push([]);for(let e=this.minQ;e<=this.maxQ;e++){const l=this.getDiffVectorFromRQ(this.midR,this.midQ,t,e);if(l.add(this.midPos),this.grid[t].push(new qs(l.x,l.y,t,e,this.hexSize,{type:0,color:this.tileTypeColors[0]})),t+e<this.rings||t+e>this.rings*3)continue;const u=r;t>=this.minR+u&&t<=this.maxR-u&&e>=this.minQ+u&&e<=this.maxQ-u&&t+e>=this.rings+u&&t+e<=this.rings*3-u||this.setBuilderTileType(this.grid[t][e],ht.WALL)}}}reConstructGrid(r=this.wallRing){this.grid=[],this.teleporters={},this.constructGrid(r)}getDiffVectorFromRQ(r,t,e,l){const u=e-r,h=l-t;return b.createVector(this.xDiff*h+this.xDiff/2*u,this.yDiff*u)}getHexVectorFromXY(r,t){const e=r-this.midPos.x,l=t-this.midPos.y,u=b.createVector(l/this.yDiff,(b.sqrt(3)/3*e-1/3*l)/this.hexSize),h=this.axialRound(u);return h.x+=this.midR,h.y+=this.midQ,h}rqVectorIsOnGrid(r,t=0){const e=r.x,l=r.y,u=t;return e>=this.minR+u&&e<=this.maxR-u&&l>=this.minQ+u&&l<=this.maxQ-u&&e+l>=this.rings+u&&e+l<=this.rings*3-u}axialRound(r){let t=b.round(r.x),e=b.round(r.y);const l=b.round(-r.x-r.y),u=b.abs(r.x-t),h=b.abs(r.y-e),n=b.abs(-r.x-r.y-l);return u>h&&u>n?t=-e-l:h>n&&(e=-t-l),b.createVector(t,e)}show(){for(let r=0;r<=this.maxR;r++)for(let t=0;t<=this.maxQ;t++)r+t<this.rings||r+t>this.rings*3||this.grid[r][t].show()}showDebug(){for(let r=0;r<=this.maxR;r++)for(let t=0;t<=this.maxQ;t++)r+t<this.rings||r+t>this.rings*3||this.grid[r][t].showDebug()}getNeighbors(r,t,e=!1){const l=e?this.getTeleporterNeighbors(r,t):[];for(let u of this.neighborVectorsRQ){const h=r+u.x,n=t+u.y;h<this.minR||h>this.maxR||n<this.minQ||n>this.maxQ||h+n<this.rings||h+n>this.rings*3||l.push(this.grid[h][n])}return l}getNeighborsArea(r,t,e){const l=[];for(let u=0;u<6;u++)for(let h=1;h<=e;h++){const n=r+this.neighborVectorsRQ[u].x*h,p=t+this.neighborVectorsRQ[u].y*h;for(let f=1;f<h;f++){const g=(u+2)%6,m=n+this.neighborVectorsRQ[g].x*f,i=p+this.neighborVectorsRQ[g].y*f;this.rqVectorIsOnGrid(b.createVector(m,i),this.wallRing)&&l.push(this.grid[m][i])}this.rqVectorIsOnGrid(b.createVector(n,p),this.wallRing)&&l.push(this.grid[n][p])}return l}getGrandNeighbors(r,t,e=0){const l=[];for(let u=0;u<6;u++){const h=r+this.neighborVectorsRQ[u].x,n=t+this.neighborVectorsRQ[u].y;for(let p=u;p<u+2;p++){const f=h+this.neighborVectorsRQ[p%6].x,g=n+this.neighborVectorsRQ[p%6].y;this.rqVectorIsOnGrid(b.createVector(f,g),e)&&l.push(this.grid[f][g])}}return l}getTeleporterNeighbors(r,t){const e=this.grid[r][t],l=[];if(!e.isTeleporter)return l;for(const u of this.teleporters[e.teleporterType])u.r===r&&u.q===t||l.push(u);return l}getAllTiles(r=!0){const t=[];for(let e=this.minR;e<=this.maxR;e++)for(let l=this.minQ;l<=this.maxQ;l++)e+l<this.rings||e+l>this.rings*3||(r||!this.grid[e][l].wall)&&t.push(this.grid[e][l]);return t}hexInArray(r,t){for(const e of t)if(e.r===r.r&&e.q===r.q)return!0;return!1}addRandomWalls(r=50,t=ht.HILL,e=1){for(let l=0;l<=this.maxR;l++)for(let u=0;u<=this.maxQ;u++)l+u<this.rings||l+u>this.rings*3||b.random(100)<r&&this.rqVectorIsOnGrid(b.createVector(l,u),e)&&this.setBuilderTileType(this.grid[l][u],t)}breakWallsInArray(r,t=ht.EMPTY){for(const e of r)this.setBuilderTileType(e,t)}aStar(r,t,e,l,u=!1){const h=this.grid[r][t],n=this.getDiffVectorFromRQ(r,t,e,l);h.data={...h.data,g:0,h:n.mag(),f:n.mag(),prev:void 0};const p=this.grid[e][l],f=this.xDiff,g=f*(this.rings*2)**2;let m;const i=[h],s=[];for(;i.length>0;){m=i[0];let a=0;for(let d=1;d<i.length;d++)i[d].data.f<m.data.f&&(m=i[d],a=d);const c=this.getNeighbors(m.r,m.q);for(const d of c){if(this.hexInArray(d,s)||u&&!d.canUnit)continue;if(this.hexInArray(d,[p])){const w=[d,m];for(;m.data.prev;)w.push(m.data.prev),m=m.data.prev;return w}let y=f;if(d.canUnit||(y=g),this.hexInArray(d,i)){if(d.data.g<=m.data.g+y)continue}else d.data.h=this.getDiffVectorFromRQ(d.r,d.q,e,l).mag(),i.push(d);d.data.g=m.data.g+y,d.data.f=d.data.g+d.data.h,d.data.prev=m}i.splice(a,1),s.push(m)}return[]}resetColors(r=!0,t=b.color(Ws)){for(let e=0;e<=this.maxR;e++)for(let l=0;l<=this.maxQ;l++)e+l<this.rings||e+l>this.rings*3||(r?this.grid[e][l].color=this.tileTypeColors[this.grid[e][l].type]:this.grid[e][l].color=t)}resetData(r={}){for(let t=0;t<=this.maxR;t++)for(let e=0;e<=this.maxQ;e++)t+e<this.rings||t+e>this.rings*3||(this.grid[t][e].data={...r})}resetSpecificData(r){for(let t=0;t<=this.maxR;t++)for(let e=0;e<=this.maxQ;e++)t+e<this.rings||t+e>this.rings*3||(this.grid[t][e].data[r]=null)}generateAllPathsThroughFloodFill(r,t,e=!1,l=Mm,u=1e6,h=1e10){const n=`${l}Steps`,p=`${l}Next`,f=`${l}PathVector`;this.resetSpecificData("testFloodSteps"),e||(this.resetSpecificData(n),this.resetSpecificData(p),this.resetSpecificData(f));for(const g of t){const m=g;e?m.data={...m.data,testFloodSteps:0}:m.data={...m.data,testFloodSteps:0,[n]:0,[p]:m,[f]:b.createVector(0,0)};let i;const s=[m],a=[];for(;s.length>0;){i=s[0];let c=0;for(let y=1;y<s.length;y++)s[y].data.testFloodSteps<i.data.testFloodSteps&&(i=s[y],c=y);if(i.data.testFloodSteps>h)break;const d=this.getNeighbors(i.r,i.q,!0);for(const y of d){if(this.hexInArray(y,[...a,...s])||!(y.canUnit||y.canWaterUnit)||y.wall)continue;y.isSpawn||s.push(y);const w=ct.Vector.sub(b.createVector(i.pos.x,i.pos.y),b.createVector(y.pos.x,y.pos.y)),_=y.canUnit?1:u;(!y.data.testFloodSteps||y.data.testFloodSteps>i.data.testFloodSteps)&&(y.data.testFloodSteps=i.data.testFloodSteps+_,e||(y.data[n]=i.data[n]+_,y.data[p]=i,y.data[f]=w))}s.splice(c,1),a.push(i)}}for(const g of r)if(e){if(!g.data.testFloodSteps||g.data.testFloodSteps>u)return!1}else if(!g.data[n]||g.data[n]>u)return!1;return!0}setTileType(r,t){const e=lo[t];r.type=t,r.color=this.tileTypeColors[t],r.wall=t===1||t===3,r.canTower=e.canTower,r.canWaterTower=e.canWaterTower,r.canLavaTower=e.canLavaTower,r.canUnit=e.canUnit,r.canWaterUnit=e.canWaterUnit}setBuilderTileType(r,t){const e=lo[t];r.type=t,r.color=b.color(e.rgb),r.wall=t===ht.HILL||t===ht.WALL||t===ht.LAVA,r.canTower=e.canTower,r.canWaterTower=e.canWaterTower,r.canLavaTower=e.canLavaTower,r.canUnit=e.canUnit,r.canWaterUnit=e.canWaterUnit,r.isSpawn=e.isSpawn,r.isTeleporter=e.isTeleporter,r.teleporterType=e.teleporterType}addSpawnerToGrid(r){this.grid[r.r][r.q]=r}addMaouBaseToGrid(r){this.grid[r.r][r.q]=r}addTowerToGrid(r){this.grid[r.r][r.q]=r}removeTowerFromGrid(r){const t=new qs(r.pos.x,r.pos.y,r.r,r.q,r.size,{isTower:!1,data:r.data});this.setTileType(t,r.type),this.grid[r.r][r.q]=t}generateJsonableMap(){const r=[];for(const t of this.grid){const e=[];for(const l of t)e.push(l.type);r.push(e)}return r}buildMapFromJson(r,t,e){this.resetData();for(let l=0;l<this.grid.length;l++)for(let u=0;u<this.grid[l].length;u++){if(r[l][u]===ht.SPAWN&&(e.addSpawn(this.grid[l][u].pos.x,this.grid[l][u].pos.y,He,{gridR:l,gridQ:u}),e.waveReader.setActiveSpawners(e.spawners),this.addSpawnerToGrid(e.spawners[e.spawners.length-1])),r[l][u]===ht.BASE){const h=new ag(this.grid[l][u].pos.x,this.grid[l][u].pos.y,l,u,He,100);t.addBaseToMaou(h),this.addMaouBaseToGrid(h)}r[l][u],ht.TELEPORTER_ONE,this.setBuilderTileType(this.grid[l][u],r[l][u])}this.addAllTeleports()}addTeleporterToGrid(r){this.grid[r.r][r.q]=r}addAllTeleports(){for(let r=this.minR;r<=this.maxR;r++)for(let t=this.minQ;t<=this.maxQ;t++){if(r+t<this.rings||r+t>this.rings*3)continue;const e=this.grid[r][t];e.isTeleporter&&(e.teleporterType in this.teleporters||(this.teleporters[e.teleporterType]=[]),this.teleporters[e.teleporterType].push(e))}}}const ae=new lg(b.windowWidth*Sm,b.windowHeight*Tm,_m,He,{wallRing:Em}),Cc=(o,r,t,e=1,l=255)=>{const u=t*2/9;b.push(),b.translate(o.x,o.y),b.rotate(r.heading()),b.triangle(2*u,-u,2*u,u,3*u,0),b.fill([...br,l]),b.circle(0,0,t),b.pop(),b.push(),b.noStroke(),b.circle(o.x,o.y,t*e),b.pop()},zt=(o,r)=>(o.x-r.x)*(o.x-r.x)+(o.y-r.y)*(o.y-r.y),Mc=(o,r,t)=>b.min(t,b.max(r,o)),uh=(o,r,t=255)=>b.color(b.random(o[0],r[0]),b.random(o[1],r[1]),b.random(o[2],r[2]),t),Xl=(o,r,t,e=255)=>{const l=1-t;return b.color(o[0]*t+r[0]*l,o[1]*t+r[1]*l,o[2]*t+r[2]*l,e)},uo=o=>b.color(b.red(o),b.green(o),b.blue(o),b.alpha(o)),to=(o,r,t)=>(r.x-o.x)*(t.y-o.y)-(t.x-o.x)*(r.y-o.y),pn=(o,r)=>{const t=r.indexOf(o);r.splice(t,1)};class os{constructor(r,t){G(this,"pos");G(this,"data");this.pos=r,this.data=t}}class In{constructor(r,t,e,l,u=2,h=10){G(this,"pos");G(this,"width");G(this,"height");G(this,"capacity");G(this,"maxDepth");G(this,"split");G(this,"list");G(this,"northEast");G(this,"southEast");G(this,"southWest");G(this,"northWest");this.pos=b.createVector(r,t),this.width=e,this.height=l,this.capacity=u,this.maxDepth=h,this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}getDir(){return[this.northEast,this.southEast,this.southWest,this.northWest]}show(){if(this.split)for(const r of this.getDir())r.show();b.push(),b.strokeWeight(1),b.stroke(nn),b.noFill(),b.rect(this.pos.x,this.pos.y,this.width,this.height),b.pop()}insert(r){this.maxDepth<=0?this.list.push(r):this.split?(this.northEast.contains(r.pos)&&this.northEast.insert(r),this.southEast.contains(r.pos)&&this.southEast.insert(r),this.southWest.contains(r.pos)&&this.southWest.insert(r),this.northWest.contains(r.pos)&&this.northWest.insert(r)):(this.list.push(r),this.list.length>this.capacity&&this.subDivide())}subDivide(){const r=this.width/2,t=this.height/2;this.northEast=new In(this.pos.x+r,this.pos.y,r,t,this.capacity,this.maxDepth-1),this.southEast=new In(this.pos.x+r,this.pos.y+t,r,t,this.capacity,this.maxDepth-1),this.southWest=new In(this.pos.x,this.pos.y+t,r,t,this.capacity,this.maxDepth-1),this.northWest=new In(this.pos.x,this.pos.y,r,t,this.capacity,this.maxDepth-1),this.split=!0;for(let e=this.list.length-1;e>=0;e--)this.insert(this.list[e]),this.list.splice(e,1)}contains(r){return r.x>=this.pos.x&&r.x<this.pos.x+this.width&&r.y>=this.pos.y&&r.y<this.pos.y+this.height}inRangeCircle(r,t){const e=t**2;if(!this.intersectsCirlce(r,e))return[];const l=[];if(this.split)for(const u of this.getDir())l.push(...u.inRangeCircle(r,t));else for(const u of this.list)zt(u.pos,r)>e||l.push(u.data);return l}inRangeCircleFromMin(r,t,e){const l=t**2,u=e**2;if(!this.intersectsCirlce(r,l))return[];const h=[];if(this.split)for(const n of this.getDir())h.push(...n.inRangeCircleFromMin(r,t,e));else for(const n of this.list)zt(n.pos,r)>l||zt(n.pos,r)<u||h.push(n.data);return h}inRangeCirclePart(r,t,e,l){const u=t**2;if(!this.intersectsCirlce(r,u))return[];const h=[];if(this.split)for(const n of this.getDir())h.push(...n.inRangeCirclePart(r,t,e,l));else for(const n of this.list){if(zt(n.pos,r)>u)continue;const p=(ct.Vector.sub(n.pos,r).heading()+b.TWO_PI)%b.TWO_PI,f=e-p;f>-l&&f<l&&h.push(n.data)}return h}inRangePath(r,t,e){const l=[],u=[],h=ct.Vector.sub(t,r),n=ct.Vector.fromAngle(h.heading()+b.PI/2);n.setMag(e),u.push(ct.Vector.add(n,r)),n.mult(-1),u.push(ct.Vector.add(n,r)),u.push(ct.Vector.add(n,t)),n.mult(-1),u.push(ct.Vector.add(n,t));const p=(h.heading()+b.TWO_PI)%b.TWO_PI;l.push(...this.inRangeCirclePart(t,e,p,b.PI/2));const f=(h.heading()+b.PI*3)%b.TWO_PI;return l.push(...this.inRangeCirclePart(r,e,f,b.PI/2)),l.push(...this.inRangeRotatedRect(u)),l}inRangeRect(r,t,e){if(!this.intersectsRect(r,t,e))return[];const l=[];if(this.split)for(const u of this.getDir())l.push(...u.inRangeRect(r,t,e));else for(const u of this.list)u.pos.x>r.x+t||u.pos.x<r.x||u.pos.y>r.y+e||u.pos.y<r.y||l.push(u.data);return l}inRangeRotatedRect(r){const t=[];if(this.split)for(const e of this.getDir())t.push(...e.inRangeRotatedRect(r));else for(const e of this.list)to(r[0],r[1],e.pos)>0&&to(r[1],r[2],e.pos)>0&&to(r[2],r[3],e.pos)>0&&to(r[3],r[0],e.pos)>0&&t.push(e.data);return t}intersectsCirlce(r,t){const e=b.createVector(Mc(r.x,this.pos.x,this.pos.x+this.width),Mc(r.y,this.pos.y,this.pos.y+this.height));return zt(e,r)<=t}intersectsRect(r,t,e){return!(r.x>this.pos.x+this.width||r.x+t<this.pos.x||r.y>this.pos.y+this.height||r.y+e<this.pos.y)}emptyQuadTree(){this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}}const Ui=new In(0,0,b.windowWidth,b.windowHeight,3,7);class fr{constructor(r,t){G(this,"type");G(this,"amount");this.type=r,this.amount=t}}const ug={name:"Easy",UNIT_HP_MOD:.8,UNIT_SPEED_MOD:.9,UNIT_FORCE_MOD:.75,MAOU_HP_MOD:2,TOWER_COST_MOD:.85,TOWER_SELL_MOD:1,FINAL_WAVE:40},xn={name:"Normal",UNIT_HP_MOD:1,UNIT_SPEED_MOD:1,UNIT_FORCE_MOD:1,MAOU_HP_MOD:1,TOWER_COST_MOD:1,TOWER_SELL_MOD:.9,FINAL_WAVE:60},cg={name:"Hard",UNIT_HP_MOD:1.25,UNIT_SPEED_MOD:1.1,UNIT_FORCE_MOD:1.4,MAOU_HP_MOD:1,TOWER_COST_MOD:1.1,TOWER_SELL_MOD:.8,FINAL_WAVE:80},dg={name:"Extreme",UNIT_HP_MOD:1.5,UNIT_SPEED_MOD:1.25,UNIT_FORCE_MOD:2,MAOU_HP_MOD:.1,TOWER_COST_MOD:1.2,TOWER_SELL_MOD:0,FINAL_WAVE:100},tl={Easy:ug,Normal:xn,Hard:cg,Extreme:dg},hg=o=>o==="Easy"?"Normal":o==="Normal"?"Hard":"Extreme";let ur={name:xn.name,UNIT_HP_MOD:xn.UNIT_HP_MOD,UNIT_SPEED_MOD:xn.UNIT_SPEED_MOD,UNIT_FORCE_MOD:xn.UNIT_FORCE_MOD,MAOU_HP_MOD:xn.MAOU_HP_MOD,TOWER_COST_MOD:xn.TOWER_COST_MOD,TOWER_SELL_MOD:xn.TOWER_SELL_MOD,FINAL_WAVE:xn.FINAL_WAVE};const fg=o=>{ur.name=o.name,ur.UNIT_HP_MOD=o.UNIT_HP_MOD,ur.UNIT_SPEED_MOD=o.UNIT_SPEED_MOD,ur.UNIT_FORCE_MOD=o.UNIT_FORCE_MOD,ur.MAOU_HP_MOD=o.MAOU_HP_MOD,ur.TOWER_COST_MOD=o.TOWER_COST_MOD,ur.TOWER_SELL_MOD=o.TOWER_SELL_MOD,ur.FINAL_WAVE=o.FINAL_WAVE},Nt=new In(0,0,b.windowWidth,b.windowHeight,3,7),rl=new In(0,0,b.windowWidth,b.windowHeight,3,7);class zr{constructor(r,t,e,l={}){G(this,"pos");G(this,"hexPos");G(this,"prevPos");G(this,"vel");G(this,"acc");G(this,"accumulatedFrictionMag");G(this,"futurePos");G(this,"desiredSpeed");G(this,"baseDesiredSpeed");G(this,"multiplicativeSpeedBuffs");G(this,"setSpeedBuffs");G(this,"baseForce");G(this,"maxForce");G(this,"baseMaxForce");G(this,"additiveMaxForceBuffs");G(this,"multiplicativeMaxForceBuffs");G(this,"size");G(this,"radius");G(this,"mass");G(this,"baseMass");G(this,"maxHp");G(this,"hp");G(this,"damage");G(this,"goldValue");G(this,"xpValue");G(this,"dead");G(this,"color");G(this,"pathGoal");G(this,"id");G(this,"statuses");G(this,"level");G(this,"visionRadius");G(this,"attackRadius");G(this,"attackCooldown");G(this,"attackCurrentCooldown");G(this,"currentFlowField");G(this,"originalFlowField");G(this,"canSwim");G(this,"framesAlive");G(this,"rage");G(this,"rageTimer");G(this,"rageTimerOnRefresh");G(this,"rageForceIncreasePercent");G(this,"abilityCounters");G(this,"armor");G(this,"collisionEffectCooldowns");G(this,"data");this.pos=b.createVector(r,t),this.hexPos=b.createVector(0,0),this.prevPos=b.createVector(r,t),this.vel=b.createVector(0,0),this.acc=b.createVector(0,0),this.accumulatedFrictionMag=0,this.futurePos=b.createVector(0,0),this.desiredSpeed=(l.desiredSpeed??2)*(l.otherDifficulty??ur).UNIT_SPEED_MOD,this.baseDesiredSpeed=this.desiredSpeed,this.baseForce=(l.maxForce??.1)*(l.otherDifficulty??ur).UNIT_FORCE_MOD,this.maxForce=this.baseForce,this.multiplicativeSpeedBuffs=[],this.setSpeedBuffs=[],this.baseMaxForce=this.maxForce,this.additiveMaxForceBuffs=[],this.multiplicativeMaxForceBuffs=[],this.size=e,this.radius=e/2,this.mass=l.mass??1,this.baseMass=l.mass??1,this.maxHp=(l.hp??50)*(l.otherDifficulty??ur).UNIT_HP_MOD,this.hp=this.maxHp,this.damage=l.damage??10,this.goldValue=l.goldValue??50,this.dead=!1,this.color=l.color??b.color(Kd),this.pathGoal=void 0,this.id=l.id??b.random(),this.statuses={NORMAL:[],ON_DEATH:[],PASSIVE:[],ON_TAKE_DAMAGE:[]},this.level=l.level??1,this.visionRadius=l.visionRadius??He*3,this.attackRadius=l.attackRadius??this.radius,this.attackCooldown=l.attackCooldown??50,this.attackCurrentCooldown=this.attackCooldown,this.originalFlowField=l.flowField??Rm,this.currentFlowField=this.originalFlowField,this.canSwim=l.canSwim??!1,this.framesAlive=0,this.rage=0,this.rageTimer=5e3,this.rageTimerOnRefresh=500,this.rageForceIncreasePercent=1.1,this.abilityCounters=[],this.xpValue=l.xpValue??10,this.armor=null,this.collisionEffectCooldowns={},this.data={}}show(){b.push(),b.strokeWeight(2),b.stroke(0),b.fill(this.color),Cc(this.pos,this.vel,this.size,b.max(this.hp/this.maxHp,0)),this.showStatusEffects(),this.armor&&this.armor.show(this.pos,this.size,this.vel.heading()),b.pop()}showDot(){b.strokeWeight(5),b.point(this.pos.x,this.pos.y)}showDebug(){b.push(),b.strokeWeight(5),b.stroke(0,255,0),b.fill(this.color),Cc(this.pos,this.vel,this.size,b.max(this.hp/this.maxHp,0)),b.pop()}update(){const r=this.getTarget();this.hexPos=ae.getHexVectorFromXY(this.pos.x,this.pos.y),r!==void 0?this.followPathAndSeekTarget(r,ae.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField):this.followPathField(ae.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField),this.checkAndApplyRage(),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.applyStatusEffects("NORMAL"),this.pos.add(this.vel),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.pos),this.acc.mult(0),this.accumulatedFrictionMag=0;for(const t in this.collisionEffectCooldowns)this.collisionEffectCooldowns[t]--,this.collisionEffectCooldowns[t]<=0&&delete this.collisionEffectCooldowns[t];this.detectCollisions(),this.detectDrowning(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(r),this.hp<=0&&this.die(),this.decreaseStatusTimers(),this.framesAlive++}applyStatusEffects(r,t={}){for(let e=this.statuses[r].length-1;e>=0;e--)this.statuses[r][e].effectUnit(this,this.statuses[r][e],t)}showStatusEffects(){const r=[];for(const u in this.statuses)r.push(...this.statuses[u]);const t=this.size/3,e=this.pos.x+(r.length/2+.5)*-t,l=b.createVector(e,this.pos.y-this.size);for(let u=r.length-1;u>=0;u--)l.x+=t,r[u].show(this,l)}decreaseStatusTimers(){for(const r in this.statuses){const t=this.statuses[r];for(let e=t.length-1;e>=0;e--){const l=t[e];l.duration--,l.duration<=0&&(this.statuses[r].splice(e,1),l.onRemoval(this))}}}cleanseAllStatuses(){for(const r in this.statuses){const t=this.statuses[r];for(let e=t.length-1;e>=0;e--){const l=t[e];l.cleanse(),l.duration<=0&&(this.statuses[r].splice(e,1),l.onRemoval(this))}}}applyStatus(r,t=!1){for(let l=this.statuses[r.timing].length-1;l>=0;l--)if(this.statuses[r.timing][l].name===r.name)return t?(this.statuses[r.timing][l].duration=r.duration,!0):!1;const e=r.copy();return this.statuses[r.timing].push(e),e.onApply(this),!0}edges(r=0){this.pos.x>b.width-r&&(this.pos.x-=b.width-2*r),this.pos.x<r&&(this.pos.x+=b.width-2*r),this.pos.y>b.height-r&&(this.pos.y-=b.height-2*r),this.pos.y<r&&(this.pos.y+=b.height-2*r)}bouncyEdges(r=0){this.pos.x>b.width-r&&this.vel.x>0&&(this.pos.x=b.width-r,this.vel.mult([-1,1])),this.pos.x<r&&this.vel.x<0&&(this.pos.x=r,this.vel.mult([-1,1])),this.pos.y>b.height-r&&this.vel.y>0&&(this.pos.y=b.height-r,this.vel.mult([1,-1])),this.pos.y<r&&this.vel.y<0&&(this.pos.y=r,this.vel.mult([1,-1]))}findPositionThroughEdges(r,t=0){const e=ct.Vector.sub(r,this.pos);return e.x>b.width/2-t&&(e.x-=b.width-2*t),e.x<-b.width/2+t&&(e.x+=b.width-2*t),e.y>b.height/2-t&&(e.y-=b.height-2*t),e.y<-b.height/2+t&&(e.y+=b.height-2*t),e.add(this.pos)}applyForce(r){const t=r.copy().div(this.mass);this.acc.add(t)}friction(r=.1){let t=b.min(r,1);t*=this.vel.mag()-this.accumulatedFrictionMag,this.accumulatedFrictionMag+=t}applyAccumulatedFriction(){const r=this.vel.copy();r.normalize(),r.mult(-1),r.setMag(this.accumulatedFrictionMag*this.mass),this.applyForce(r)}drag(r=1){const t=this.vel.copy();t.normalize(),t.mult(-1);const e=this.vel.mag(),l=.1;t.setMag(r*l*e*e),this.applyForce(t)}getDesire(r){const t=ct.Vector.sub(r,this.pos);return t.setMag(this.desiredSpeed),t}seek(r){const t=this.getDesire(r);return t.sub(this.vel),t.limit(this.maxForce),t}arrive(r){const t=this.getDesire(r),e=b.dist(this.pos.x,this.pos.y,r.x,r.y);return e<200&&t.setMag(b.map(e,0,200,0,this.desiredSpeed)),t.sub(this.vel),t.limit(this.maxForce),t}flee(r){const t=this.getDesire(r).mult(-1);return t.sub(this.vel),t.limit(this.maxForce),t}pursue(r){return zt(this.pos,r.pos)>r.futurePos.mag()**2?this.seek(this.findPositionThroughEdges(r.futurePos,100)):this.seek(this.findPositionThroughEdges(r.pos,100))}evade(r){return zt(this.pos,r.pos)>r.futurePos.mag()**2?this.flee(this.findPositionThroughEdges(r.futurePos,100)):this.flee(this.findPositionThroughEdges(r.pos,100))}catch(r){this.size/2+r.size/2>b.dist(r.pos.x,r.pos.y,this.pos.x,this.pos.y)&&(this.hp=b.min(this.maxHp,this.hp+80),r.hp-=80,r.pos.x=b.random(b.width),r.pos.y=b.random(b.height),r.die())}takeDamage(r){this.applyStatusEffects("ON_TAKE_DAMAGE",{damage:r}),this.armor&&(r=this.armor.reduceDamage(r),this.checkArmor()),this.hp-=r.amount,this.hp<=0&&this.die()}getHeal(r){this.hp=b.min(this.maxHp,this.hp+r)}die(){this.dead||(this.dead=!0,this.applyStatusEffects("ON_DEATH"))}reachedMaou(){}getCurrentTile(){const r=ae.getHexVectorFromXY(this.pos.x,this.pos.y);return ae.rqVectorIsOnGrid(r)?ae.grid[r.x][r.y]:(this.outOfBoundsCheckAndCorrection(),this.getCurrentTile())}detectCollisions(){const r=this.getCurrentTile();if(r===void 0)return;const t=ae.getNeighbors(r.r,r.q),e=rl.inRangeCircle(this.pos,He*2);for(const l of e)if(zt(this.pos,l.pos)<(this.radius+l.radius)**2){this.applyCollision(l.pos,l.radius,!0);const u=`obstacle-${l.pos.x}-${l.pos.y}`;if(u in this.collisionEffectCooldowns)continue;this.collisionEffectCooldowns[u]=this.attackCooldown,this.attack(l)}for(const l of[...t,r])if((l.wall||l.isSpawn)&&zt(this.pos,l.pos)<(this.radius+l.collisionRadius)**2){this.applyCollision(l.pos,l.collisionRadius,!0);const u=`${l.r}-${l.q}`;if(u in this.collisionEffectCooldowns)continue;this.collisionEffectCooldowns[u]=20;const h=l.onCollision();h!==null&&this.takeDamage(h)}}applyCollision(r,t,e=!1){const l=ct.Vector.sub(this.pos,r),u=l.angleBetween(this.vel),h=ct.Vector.fromAngle(l.heading()+(b.PI-u));h.setMag(this.vel.mag()*1),this.vel.set(h),e&&(l.setMag(this.radius+t),l.add(r),this.pos.set(l))}detectDrowning(){const r=this.getCurrentTile();r===void 0||!r.canWaterTower||this.drown()}drown(){this.takeDamage(new fr("DROWN",this.maxHp/200)),this.friction(.15)}outOfBoundsCheckAndCorrection(){const r=ae.getHexVectorFromXY(this.pos.x,this.pos.y);ae.rqVectorIsOnGrid(r)||(this.pos=this.prevPos.copy(),this.vel=b.createVector(0,0))}readPathField(r,t=this.currentFlowField){return r.data[t]?(zt(this.pos,r.pos)<(r.collisionRadius-this.radius)**2&&(this.pathGoal=r.data[t]),this.pathGoal||(this.pathGoal=r.data[t]),this.pathGoal.pos):r.pos}followPathField(r,t=this.currentFlowField){if(this.tryTeleport(r,t))return;const l=this.readPathField(r,t),u=this.seek(l);this.applyForce(u)}tryTeleport(r,t=this.currentFlowField){if(!r.isTeleporter||!r.data[t]||!r.data[t].isTeleporter)return!1;const e=ct.Vector.sub(this.pos,r.pos),l=ct.Vector.add(r.data[t].pos,e);return this.pos=l,this.pathGoal=r.data[t].data[t],!0}getTarget(r=Ui){const t=r.inRangeCircle(this.pos,this.visionRadius);if(t.length<1)return;let e=0,l=99999;for(let u=0;u<t.length;u++){const h=zt(t[u].pos,this.pos);h<l&&(l=h,e=u)}return t[e]}seekTargetWithoutApplyForce(r){const t=this.getCurrentTile(),e=r.getCurrentTile();let l=this.seek(r.pos);if(t!==e){const u=ae.aStar(t.r,t.q,e.r,e.q,!0);u.length===0?l=b.createVector(0,0):l=this.seek(u[u.length-2].pos)}return l}seekTarget(r){this.applyForce(this.seekTargetWithoutApplyForce(r))}followPathAndSeekTarget(r,t,e=this.currentFlowField){if(this.tryTeleport(t,e))return;const u=this.readPathField(t,e),h=this.seek(u),n=this.seekTargetWithoutApplyForce(r),p=ct.Vector.add(h,n);p.limit(this.maxForce),this.applyForce(p)}tryAttack(r){this.attackCurrentCooldown--,r!==void 0&&(this.attackCurrentCooldown>0||zt(this.pos,r.pos)>(hr/2+this.attackRadius)**2||(this.attack(r),this.attackCurrentCooldown=this.attackCooldown))}attack(r){r.takeDamage(new fr("PHYSICAL",this.damage))}checkAndApplyRage(){this.rageTimer--,this.rageTimer<1&&(this.rageTimer=this.rageTimerOnRefresh,this.rage++,this.multiplicativeMaxForceBuffs.push(this.rageForceIncreasePercent),this.recalcMaxForceBuffs())}addArmor(r){this.armor=r,this.mass+=r.weight,this.baseMass+=r.weight}removeArmor(){this.armor!==null&&(this.mass-=this.armor.weight,this.baseMass-=this.armor.weight,this.armor=null)}checkArmor(){this.armor!==null&&this.armor.hp<=0&&this.removeArmor()}recalcMaxForceBuffs(){this.maxForce=this.baseMaxForce;for(const r of this.additiveMaxForceBuffs)this.maxForce+=r;for(const r of this.multiplicativeMaxForceBuffs)this.maxForce*=r}recalcSpeedBuffs(){this.desiredSpeed=this.baseDesiredSpeed;for(const r of this.multiplicativeSpeedBuffs)this.desiredSpeed*=r;for(const r of this.setSpeedBuffs)this.desiredSpeed=r}insertIntoQuadTree(){Nt.insert(new os(this.pos,this))}addOrUpdateData(r){for(const t in r)this.data[t]=r[t]}addData(r){for(const t in r)t in this.data||(this.data[t]=r[t])}updateData(r){for(const t in r)t in this.data&&(this.data[t]=r[t])}getData(r){return r in this.data?this.data[r]:null}}const pg=5,Ys=(o,r,t,e=pg,l=b)=>{e%2==0&&(e+=1);let u=-l.PI/2;l.beginShape();for(let h=0;h<e;h++){u+=l.TWO_PI*(l.ceil(e/2)/e);const n=o+l.cos(u)*t,p=r+l.sin(u)*t;l.vertex(n,p)}l.endShape(l.CLOSE)};class mg extends qs{constructor(t,e,l,u={}){super(t,e,u.gridR??0,u.gridQ??0,l,{color:b.color(nn),...u});G(this,"flat");G(this,"exitDir");G(this,"unitSize");G(this,"spawnsNextUnit");this.flat=u.flat??!1,this.exitDir=u.exitDir??this.flat?-b.PI/6:0,this.unitSize=u.unitSize??20,this.spawnsNextUnit=!1}spawnUnit(t={}){const e=new zr(this.pos.x,this.pos.y,this.unitSize,{color:t.color??uo(t.color),...t});return e.vel=ct.Vector.fromAngle(this.exitDir,0),e}spawnUnitViaWaveReader(t){return t.vel=ct.Vector.fromAngle(this.exitDir,0),this.spawnsNextUnit=!1,t}show(){b.push(),b.stroke(0),b.strokeWeight(2),b.fill(this.color),dr(this.pos.x,this.pos.y,this.size,this.flat),b.ellipse(this.pos.x,this.pos.y,this.size*1.6),b.fill(as),b.noStroke(),this.spawnsNextUnit&&Ys(this.pos.x,this.pos.y,this.size/4),b.pop()}update(){return!0}}const Zr=Object.freeze({name:"Berserker",discription:"The Berserker gets stronger and faster the more damage she has sustained.",hp:300,hpScaling:25,damage:40,speed:yt*1.5,force:yt*.12,attackCooldown:50,mass:1,gold:50,xp:40,baseLevel:13,rgb:Vm});class gg extends zr{constructor(r,t,e,l={}){super(r,t,e,l)}update(){const r=b.min(this.maxHp/b.max(this.hp,1),4);this.attackCooldown=Zr.attackCooldown/r,this.recalcMaxForceBuffs(),this.recalcSpeedBuffs(),super.update()}recalcMaxForceBuffs(){super.recalcMaxForceBuffs();const r=b.min(this.maxHp/b.max(this.hp,1),4);this.maxForce*=r*1.5}recalcSpeedBuffs(){super.recalcSpeedBuffs();const r=b.min(this.maxHp/b.max(this.hp,1),4);this.desiredSpeed*=r}}const yg=(o,r)=>new gg(o.x,o.y,hr,{desiredSpeed:Zr.speed,maxForce:Zr.force,hp:Zr.hp+(r-Zr.baseLevel)*Zr.hpScaling,damage:Zr.damage,goldValue:b.max(Zr.gold-(r-Zr.baseLevel),1),xpValue:Zr.xp,color:b.color(Zr.rgb)}),vg=(o,r,t,e)=>{const l=t/2,u=t*(3/8);b.strokeWeight(e),b.beginShape(),b.vertex(o-l,r-u),b.quadraticVertex(o-l,r-l,o-u,r-l),b.vertex(o+u,r-l),b.quadraticVertex(o+l,r-l,o+l,r-u),b.vertex(o+l,r+u),b.quadraticVertex(o+l,r+l,o+u,r+l),b.vertex(o-u,r+l),b.quadraticVertex(o-l,r+l,o-l,r+u),b.endShape(b.CLOSE),b.strokeWeight(e*3),b.line(o-u,r-u,o+u,r+u),b.line(o+u,r-u,o-u,r+u)},Xs=(o,r,t)=>{const e=t/2,l=t/8;b.push(),b.circle(o,r,t*2),b.noFill(),b.beginShape(),b.vertex(o-e,r-e),b.vertex(o+e,r-e),b.vertex(o-e,r+e),b.vertex(o+e,r+e),b.endShape(),b.line(o-l,r-(e+l),o-l,r-e),b.line(o+l,r-(e+l),o+l,r-e),b.line(o-l,r+(e+l),o-l,r+e),b.line(o+l,r+(e+l),o+l,r+e),b.pop()},bg=(o,r,t)=>{const e=t/2,l=t*(3/8),u={x:o,y:r-e},h={x:o,y:r+e},n={x:o+l,y:r-l},p={x:o-l,y:r-l};b.noFill(),b.curve(u.x,u.y-e,u.x,u.y,n.x,n.y,n.x+l,n.y-l),b.curve(n.x,n.y-e,n.x,n.y,h.x,h.y,h.x-t*3,h.y),b.curve(h.x+t*3,h.y,h.x,h.y,p.x,p.y,p.x,p.y-e),b.curve(p.x-l,p.y-l,p.x,p.y,u.x,u.y,u.x,u.y-e)};var It=(o=>(o[o.ARCHER=0]="ARCHER",o[o.BARRIER=1]="BARRIER",o[o.KOBOLD=2]="KOBOLD",o[o.ARACHNE=3]="ARACHNE",o[o.PLAGUE=4]="PLAGUE",o[o.SIREN=5]="SIREN",o[o.PYRO=6]="PYRO",o[o.GRAVI=7]="GRAVI",o[o.DRAGON_HOARD=8]="DRAGON_HOARD",o[o.MAGMA_WYRM=9]="MAGMA_WYRM",o))(It||{});const wg=0,xg=1,ch=(o,r,t,e=wg,l=xg)=>{b.push(),b.translate(o,r),b.rotate(e);const u=t/2,h={x:0,y:-u},n={x:0,y:u},p=b.createVector(-t/4,0),f=b.createVector(t*(5/6),0);b.strokeWeight(l),b.noFill(),b.line(h.x,h.y,n.x,n.y),Zo(p,f,l*1.5),b.strokeWeight(l*2),b.curve(h.x-2.5*t,h.y,h.x,h.y,n.x,n.y,n.x-2.5*t,n.y),b.pop()};class Hn{constructor(r,t,e,l,u,h,n,p={}){G(this,"origin");G(this,"pos");G(this,"prevPos");G(this,"vel");G(this,"acc");G(this,"size");G(this,"radius");G(this,"damage");G(this,"damageType");G(this,"pierce");G(this,"critChance");G(this,"critMultiplier");G(this,"statuses");G(this,"lifeSpan");G(this,"color");G(this,"alreadyHitEnemyIds");G(this,"extraDamageCalc");G(this,"extraActionOnHit");G(this,"extraActionOnMove");this.origin=r,this.pos=t.copy(),this.prevPos=t.copy(),this.vel=e.copy(),this.acc=b.createVector(0,0),this.size=l,this.radius=l/2,this.damage=u,this.damageType=h,this.pierce=p.pierce??1,this.critChance=p.critChance??0,this.critMultiplier=p.critMultiplier??2,this.statuses=p.statuses??[],this.lifeSpan=n,this.color=p.color??b.color(ql),this.alreadyHitEnemyIds=[],this.extraDamageCalc=p.extraDamageCalc??(()=>0),this.extraActionOnHit=p.extraActionOnHit??(()=>{}),this.extraActionOnMove=p.extraActionOnMove??(()=>{})}show(){b.push();const r=this.vel.copy();r.setMag(this.size);const t=ct.Vector.add(this.pos,r.copy().mult(-.5));b.stroke(this.color),Zo(t,r,2),b.pop()}showDebug(){b.stroke(this.color),b.strokeWeight(5),b.point(this.pos.x,this.pos.y)}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const r=Nt.inRangePath(this.prevPos,this.pos,this.size);for(const t of r)this.hit(t);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}applyForce(r){this.acc.add(r)}hit(r){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(r.id))return;this.alreadyHitEnemyIds.push(r.id);const t=this.damage*(b.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(r);this.updateOriginUsageDataSingle(r,t),r.takeDamage(new fr(this.damageType,t));for(let e=0;e<this.statuses.length;e++)r.applyStatus(this.statuses[e]);this.extraActionOnHit({pos:this.pos,vel:this.vel,target:r}),this.pierce--}updateOriginUsageData(r,t){this.origin.usageData.totalDamageDone+=t,this.origin.usageData.unitsHit++,this.origin.usageData.highestDamageHit<t&&(this.origin.usageData.highestDamageHit=t),t>=r.hp&&(this.origin.usageData.unitsKilled++,this.origin.usageData.overkillDamageDone+=t-r.hp)}updateOriginUsageDataSingle(r,t){this.origin.usageData.totalHits++,this.updateOriginUsageData(r,t)}updateOriginUsageDataAoe(r,t){this.origin.usageData.totalHits++;for(const e of r)this.updateOriginUsageData(e,t)}}const _g=o=>({totalDamageDone:0,totalHits:0,highestDamageHit:0,overkillDamageDone:0,unitsKilled:0,unitsHit:0,framesExists:0,totalCost:o,killsPerCost:0,damagePerCost:0,killsPerFrame:0,damagePerFrame:0,killsPerCostPerFrame:0,damagePerCoastPerFrame:0}),Sg=o=>{o.killsPerCost=b.round(o.unitsKilled/o.totalCost,2),o.damagePerCost=b.round(o.totalDamageDone/o.totalCost,2),o.killsPerFrame=b.round(o.unitsKilled/o.framesExists,2),o.damagePerFrame=b.round(o.totalDamageDone/o.framesExists,2),o.killsPerCostPerFrame=b.round(o.unitsKilled/o.totalCost/o.framesExists,2),o.damagePerCoastPerFrame=b.round(o.totalDamageDone/o.totalCost/o.framesExists,2)};var Ln=(o=>(o[o.CLOSEST=0]="CLOSEST",o[o.FURTHEST=1]="FURTHEST",o[o.FIRST=2]="FIRST",o[o.LAST=3]="LAST",o[o.STRONGEST=4]="STRONGEST",o[o.WEAKEST=5]="WEAKEST",o))(Ln||{});const Tg={name:"Closest",description:"Target the enemy closest to the tower.",function:(o,r)=>{let t=0,e=99999;for(let l=0;l<r.length;l++){const u=zt(r[l].pos,o);u<e&&(e=u,t=l)}return r[t]}},Eg={name:"Furthest",description:"Target the enemy furthest from the tower.",function:(o,r)=>{let t=0,e=0;for(let l=0;l<r.length;l++){const u=zt(r[l].pos,o);u>e&&(e=u,t=l)}return r[t]}},jg={name:"First",description:"Target the enemy closest to reaching the base.",function:(o,r)=>{let t=0,e=99999;for(let l=0;l<r.length;l++){const u=r[l].getCurrentTile();u.data.floodSteps<e&&(e=u.data.floodSteps,t=l)}return r[t]}},Cg={name:"Last",description:"Target the enemy closest to the spawn.",function:(o,r)=>{let t=0,e=0;for(let l=0;l<r.length;l++){const u=r[l].getCurrentTile();u.data.floodSteps>e&&(e=u.data.floodSteps,t=l)}return r[t]}},Mg={name:"Strongest",description:"Target the strongest enemy.",function:(o,r)=>{let t=0,e=0;for(let l=0;l<r.length;l++){const u=r[l].hp;e<u&&(e=u,t=l)}return r[t]}},Rg={name:"Weakest",description:"Target the weakest enemy.",function:(o,r)=>{let t=0,e=99999999;for(let l=0;l<r.length;l++){const u=r[l].hp;e>u&&(e=u,t=l)}return r[t]}},$l={[0]:Tg,[1]:Eg,[2]:jg,[3]:Cg,[4]:Mg,[5]:Rg};class Rn extends qs{constructor(t,e,l,u,h,n,p,f,g,m,i,s){super(t,e,l,u,h,{color:b.color(Qd),...s});G(this,"range");G(this,"baseRange");G(this,"rangeBuffsAdditive");G(this,"rangeBuffsMultiplicative");G(this,"name");G(this,"cooldown");G(this,"baseCooldown");G(this,"cooldownBuffsAdditive");G(this,"currentCooldown");G(this,"cost");G(this,"spendValue");G(this,"damage");G(this,"baseDamage");G(this,"damageBuffsMultiplicative");G(this,"projectileSpeed");G(this,"projectilePierce");G(this,"projectileSize");G(this,"projectileNumber");G(this,"critChance");G(this,"critMultiplier");G(this,"lastShotAngle");G(this,"targetingType");G(this,"availableTargetingTypes");G(this,"upgradesPurchased");G(this,"purchasedUpgrades");G(this,"upgrades");G(this,"projectileColor");G(this,"ultimate");G(this,"ultCooldown");G(this,"ultCurrentCooldown");G(this,"extraActionsOnHit");G(this,"extraActionsOnMove");G(this,"buffsThisApplied");G(this,"usageData");G(this,"extraMenuShowText");G(this,"towerId");this.name=n,this.range=p,this.baseRange=p,this.rangeBuffsAdditive=[],this.rangeBuffsMultiplicative=[],this.cooldown=m,this.baseCooldown=m,this.cooldownBuffsAdditive=[],this.currentCooldown=m/2,this.cost=i,this.spendValue=s.spendValue??i,this.damage=f,this.baseDamage=f,this.damageBuffsMultiplicative=[],this.projectileSpeed=g,this.critChance=s.critChance??0,this.critMultiplier=s.critMultiplier??1,this.projectilePierce=s.projectilePierce??1,this.projectileColor=s.projectileColor??b.color(ql),this.projectileSize=s.projectileSize??He*(2/3),this.projectileNumber=1,this.lastShotAngle=0,this.targetingType=Ln.CLOSEST,this.availableTargetingTypes=[Ln.CLOSEST,Ln.FURTHEST,Ln.FIRST,Ln.LAST,Ln.STRONGEST,Ln.WEAKEST],this.upgradesPurchased=0,this.ultimate=()=>{},this.ultCooldown=0,this.ultCurrentCooldown=0,this.purchasedUpgrades=[],this.upgrades=s.upgrades,this.extraActionsOnHit=[],this.extraActionsOnMove=[],this.buffsThisApplied=[],this.usageData=_g(s.spendValue??i),this.canUnit=!1,this.canWaterUnit=!1,this.extraMenuShowText="",this.towerId=s.towerId??0}show(t=this.pos){b.push(),b.stroke(0),b.strokeWeight(2),b.fill(this.color),dr(t.x,t.y,this.size),this.upgradesPurchased>3&&(b.strokeWeight(1),dr(t.x,t.y,this.size-3),this.upgradesPurchased>7&&(b.stroke(0),dr(t.x,t.y,this.size-6))),this.showSymbol(t),this.shouldShowUltCooldown(),b.pop()}showSymbol(t=this.pos){}shouldShowUltCooldown(){}showUltCooldown(){if(this.ultCurrentCooldown<=0){let u=this.ultCurrentCooldown*-1%100;u>50&&(u=100-u),u/=50,b.push(),b.noFill(),b.strokeWeight(2),b.stroke(Xl(as,br,u)),dr(this.pos.x,this.pos.y,this.size-1),b.pop();return}const t=(this.ultCooldown-this.ultCurrentCooldown)/this.ultCooldown*6,e=b.floor(t),l=t%1;b.push(),b.noFill(),b.strokeWeight(2),b.stroke(as),sg(this.pos.x,this.pos.y,this.size-1,e,l),b.pop()}applyBuff(t){t.onApply(this),this.buffs.push(t)}applyTimedBuff(t){t.onApply(this),this.timedBuffs.push(t)}applyAllMyBuffs(){for(const t of this.buffs)t.onApply(this)}removeBuff(t){for(let e=0;e<this.buffs.length;e++)if(this.buffs[e].id===t){this.buffs[e].onRemove(this),this.buffs.splice(e,1);return}}recalcCooldownBuffs(){this.cooldown=this.baseCooldown;for(const t of this.cooldownBuffsAdditive)this.cooldown+=t}recalcRangeBuffs(){this.range=this.baseRange;for(const t of this.rangeBuffsAdditive)this.range+=t;for(const t of this.rangeBuffsMultiplicative)this.range*=t}recalcDamageBuffs(){this.damage=this.baseDamage;for(const t of this.damageBuffsMultiplicative)this.damage*=t}showRange(){if(this.range>0){const t=uo(this.color);t.setAlpha(100),b.fill(t),b.circle(this.pos.x,this.pos.y,this.range*2)}}update(){return this.currentCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.ultCurrentCooldown--,this.handleBuffs(),this.usageData.framesExists++,!0}handleBuffs(){for(let t=this.timedBuffs.length-1;t>=0;t--){const e=this.timedBuffs[t];e.duration--,e.duration<=0&&(e.onRemove(this),this.timedBuffs.splice(t,1))}}castUlt(){this.ultCurrentCooldown>0||(this.ultCurrentCooldown=this.ultCooldown,this.ultimate())}getDamage(){return this.damage}baseShoot(){const t=Nt.inRangeCircle(this.pos,this.range);if(t.length<1)return;const e=$l[this.targetingType].function(this.pos,t),l=this.range/this.projectileSpeed,u=e.pos.copy();for(let p=1;p<=l&&(u.add(e.vel),!(zt(u,this.pos)<(this.projectileSpeed*p)**2));p++);const h=ct.Vector.sub(u,this.pos);return h.setMag(this.projectileSpeed),new Hn(this,this.pos.copy(),h,10,this.getDamage(),"PHYSICAL",l,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier})}shoot(){const t=this.baseShoot();return t===void 0?!1:(this.lastShotAngle=t.vel.heading(),tt.addProjectile(t),!0)}purchaseUpgrade(t,e){t.onPurchase(this),t.purchased=!0,this.purchasedUpgrades.push(t.id);for(const l in this.upgrades){const u=this.upgrades[l];u.available=u.isAvailable(this.purchasedUpgrades)}this.spendValue+=e,this.usageData.totalCost+=e,this.upgradesPurchased++}changeRange(t){this.range+=t,this.onRangeChange()}onRangeChange(){}onSell(){}onWaveEnd(){}increaseDamage(t){this.damage+=t,this.baseDamage+=t,this.recalcDamageBuffs()}increaseRange(t){this.range+=t,this.baseRange+=t,this.recalcRangeBuffs()}}class Oe{constructor(r,t,e,l,u,h=!1){G(this,"id");G(this,"name");G(this,"cost");G(this,"description");G(this,"onPurchase");G(this,"available");G(this,"purchased");this.id=r,this.name=t,this.cost=e,this.description=l,this.onPurchase=u,this.available=h,this.purchased=!1}isAvailable(r){if(this.purchased||r.length>7)return!1;switch(this.id){case"A":case"B":case"C":return!0;case"A+":return r.includes("A");case"B+":return r.includes("B");case"C+":return r.includes("C");case"AB":return r.includes("A")&&r.includes("B");case"BC":return r.includes("B")&&r.includes("C");case"CA":return r.includes("C")&&r.includes("A");case"AB+":return r.includes("AB")||r.includes("A+")&&r.includes("B+");case"BC+":return r.includes("BC")||r.includes("B+")&&r.includes("C+");case"CA+":return r.includes("CA")||r.includes("C+")&&r.includes("A+");case"AB++":return r.includes("AB+");case"BC++":return r.includes("BC+");case"CA++":return r.includes("CA+");default:return!1}}}const _n=Object.freeze({id:It.ARCHER,name:"Archer",description:"An Archer is a rather uninspired thing to post on top of a tower to fend off enemies. Does its work just fine though.",hotkey:"a",keycode:65,range:He*5.5,cooldown:160,cost:200,damage:15,projectileSpeed:yt*8,towerType:"NORMAL",rgb:Hm,showSymbol:(o,r,t={angle:0})=>{ch(o.x,o.y,r,t.angle,1)}});class Ag extends Rn{constructor(t,e,l,u,h,n,p,f,g,m,i){super(t,e,l,u,h,_n.name,n,p,f,g,m,i);G(this,"arrowNumber");this.arrowNumber=1}showSymbol(t=this.pos){ch(t.x,t.y,this.size,this.lastShotAngle,1)}shoot(){const t=this.baseShoot();if(t===void 0)return!1;const e=b.floor(this.arrowNumber/2)*-1;this.lastShotAngle=t.vel.heading();const l=b.PI/9;for(let u=e;u<e+this.arrowNumber;u++){const h=this.lastShotAngle+u*l,n=ct.Vector.fromAngle(h);n.setMag(t.vel.mag());const p=[];for(let g=0;g<t.statuses.length;g++)p.push(t.statuses[g].copy());const f=new Hn(this,this.pos.copy(),n,t.size,t.damage,"PHYSICAL",t.lifeSpan,{color:this.projectileColor,pierce:t.pierce,critChance:t.critChance,critMultiplier:t.critMultiplier,statuses:p});tt.addProjectile(f)}return!0}}const Pg=(o,r={})=>new Ag(o.pos.x,o.pos.y,o.r,o.q,o.size,_n.range,_n.damage,_n.projectileSpeed,_n.cooldown,_n.cost,{color:b.color(_n.rgb),wall:!0,isTower:!0,type:o.type,data:o.data,towerId:_n.id,spendValue:r.changedCost??_n.cost,upgrades:{A:new Oe("A","Sharper Arrows",100,"Even sharper arrows deal more damage.",t=>{t.increaseDamage(10)},!0),B:new Oe("B","Sunglasses",50,"You'd think the protection from the sun gives this archer a range increase, but it's really the confidence boost.",t=>{t.range+=He,t.baseRange+=He},!0),C:new Oe("C","Faster firing",75,"Shorter cooldown between arrows.",t=>{t.cooldown-=40,t.baseCooldown-=40},!0),"A+":new Oe("A+","Dark Arrows",300,"Arrows made from metal mined deep in the underworld. They deal alot more damage",t=>{t.increaseDamage(30),t.projectileColor=b.color(Ym)}),"B+":new Oe("B+","Scope",120,"How do you put a scope on a bow? Doesn't matter, more range.",t=>{t.range+=He*2,t.baseRange+=He*2}),"C+":new Oe("C+","Faster firing festival",225,"Gotta go fast.",t=>{t.cooldown-=40,t.baseCooldown-=40}),AB:new Oe("AB","Aimed shot",25,"Until now, aiming was more of a suggestion... Faster projectiles",t=>{t.projectileSpeed+=yt*7}),BC:new Oe("BC","Triple shot",220,"Trying to emulate some cool moves you saw eh.",t=>{t.arrowNumber+=2}),CA:new Oe("CA","Line em up",200,"Three birds one arrow.",t=>{t.projectilePierce+=2}),"AB+":new Oe("AB+","Great shot",700,"Faster, further, friendlier, if by that you mean deadlier.",t=>{t.projectileSpeed+=yt*5,t.increaseDamage(20),t.range+=He,t.baseRange+=He}),"BC+":new Oe("BC+","More arrows",250,"More arrows more better.",t=>{t.arrowNumber+=2}),"CA+":new Oe("CA+","Spot Weakspot",350,"Hit them in their weakspot for critical damage.",t=>{t.critChance+=.2,t.critMultiplier+=1}),"AB++":new Oe("AB++","Charged shot",1250,"Even more powerful shot, deal bonus damage based on the time since the last shot.",t=>{t.increaseDamage(40),t.getDamage=()=>{const e=-t.currentCooldown+t.cooldown;return t.damage+e}}),"BC++":new Oe("BC++","Blot out the sun",700,"Let them fight in the shadow.",t=>{t.arrowNumber+=13}),"CA++":new Oe("CA++","Luck is also a skill",1050,"Rely entirely on luck for those nice and big numbers.",t=>{t.critChance+=.2,t.critMultiplier+=2,t.projectilePierce+=1})}});class ho{constructor(r,t,e,l,u,h,n){G(this,"name");G(this,"id");G(this,"duration");G(this,"onApply");G(this,"onRemove");G(this,"onPurchase");G(this,"onSkillPurchase");this.name=r,this.id=n??b.random(),this.duration=h??99999,this.onApply=t,this.onRemove=e,this.onPurchase=l,this.onSkillPurchase=u}copy(r){return new ho(this.name,this.onApply,this.onRemove,this.onPurchase,this.onSkillPurchase,r??this.id)}}const dh=(o,r,t,e=b)=>{const l=[];for(let u=0;u<8;u++){const h=e.PI/4*u;l.push(e.createVector(e.cos(h)*t,e.sin(h)*t))}e.noFill(),e.strokeWeight(1);for(let u=1;u<4;u++){e.beginShape();for(const h of l)u===1&&e.line(o,r,o+h.x,r+h.y),h.setMag(t*.3*u),e.vertex(o+h.x,r+h.y);e.endShape(e.CLOSE)}},Og=(o,r,t,e,l=b)=>{const u=ct.Vector.fromAngle(t);u.setMag(r/2);const h=ct.Vector.fromAngle(t);h.setMag(r),l.push(),l.beginShape(),l.vertex(o.x,o.y);const n=ct.Vector.add(o,u);l.vertex(n.x,n.y),h.rotate(e),n.add(h),l.vertex(n.x,n.y),h.rotate(e).mult(.5),n.add(h),l.vertex(n.x,n.y),h.rotate(l.PI*1.02),n.add(h),l.vertex(n.x,n.y),h.rotate(-e).mult(2),n.add(h),l.vertex(n.x,n.y),h.rotate(-e).mult(.5),n.add(h),l.vertex(n.x,n.y),l.endShape(l.CLOSE),l.pop()},na=(o,r,t,e=!0,l=b,u=nn,h=0,n=8)=>{const p=t*.4,f=t/10,g=t*(3/5),m=p*2;l.push(),l.translate(o,r),l.rotate(h),l.noStroke();for(let i=0;i<2;i++)for(let s=-4;s<7;s+=3){if(n<=0)continue;const a=i*(b.PI-2*s*b.PI*.05)+s*b.PI*.05,c=l.createVector(l.cos(a)*p,l.sin(a)*p);let d=-l.PI/5;s>0&&(d*=-1),i>0&&(d*=-1),Og(c,m,a,d,l),n--}l.circle(0,-g,g),l.circle(0,0,t),l.fill(u),l.circle(-f,-m,f),l.circle(f,-m,f),e&&(l.stroke(br),l.strokeWeight(1),dh(0,0,p,l)),l.pop()},or=Object.freeze({id:It.ARACHNE,name:"Arachne",description:"The Arachne spins a web around herself, slowing enemies until they tear through.",hotkey:"w",keycode:87,range:1,cooldown:450,cost:600,damage:0,projectileSpeed:0,towerType:"NORMAL",rgb:br,webDurability:1e3,webSlow:.25,spiderlingCooldown:250,spiderlingOnDeathChance:.2,spiderlingHp:100,spiderlingDamage:10,spiderlingHpDecay:.1,rareSpiderlingChance:0,rareSpiderlingHp:2e3,rareSpiderlingDamage:100,rareSpiderlingHpDecay:.1,showSymbol:(o,r,t={})=>{b.push(),b.fill(Rt),na(o.x,o.y,r*.7,!1),b.pop()}}),Zt=Object.freeze({id:It.BARRIER,name:"Barricade",description:"A Barricade is a relatively cheap way to lead the heroes around. It also has access to various utility upgrades.",hotkey:"b",keycode:66,range:0,cooldown:200,cost:50,damage:10,earthquakeDamage:40,earthquakeCooldown:300,oilForceDebuff:.8,oilFireBuff:1.2,oilDuration:100,burnDamage:1,burnDuration:50,burnPanicSpeedIncrease:1.5,neighborBuildDiscount:.9,neighborRangeBuffPercent:1.1,summonBarrierCooldown:750,summonBarrierHp:300,maouHealPerRound:1,projectileSpeed:0,towerType:"NORMAL",rgb:ta,showSymbol:(o,r)=>{}}),Cr=Object.freeze({id:It.DRAGON_HOARD,name:"Dragon Hoard",description:"A Dragon's hoard seems to be imbued with a special magic, growing over time without outside interference. Truly mysterious.",hotkey:"d",keycode:68,range:0,cooldown:0,cost:2500,damage:0,hoardCapacity:8e3,hoardFillPerRound:200,timeOverFullFill:2500,hoardInterest:0,projectileSpeed:0,neighborBuildDiscount:.5,areaUpgradeDiscount:.9,towerType:"NORMAL",rgb:as,showSymbol:(o,r)=>{b.push(),b.fill(zs),b.strokeWeight(2);const t=r*.1;Xs(o.x-t,o.y+t,r*.5),Xs(o.x+t,o.y-t,r*.5),b.pop()}}),hh=(o,r,t,e=0,l=ys,u=b)=>{const h=t/3,n=u.TWO_PI/5;let p=e;u.push(),u.stroke(Rt),u.strokeWeight(1),u.circle(o,r,t*1.1);for(let f=0;f<5;f++){const g=o+u.cos(p)*h,m=r+u.sin(p)*h;u.fill(l),u.circle(g,m,h),p+=n}u.pop()},Tr=Object.freeze({id:It.KOBOLD,name:"Kobold",description:"The Kobold supports your defense with its own invention, a spool driven catapult! Every shot fires faster than the last, until the spool overheats or no target can be found.",hotkey:"k",keycode:75,range:He*3.7,cooldown:70,lowestCooldown:20,maxSpoolHeat:450,cost:300,damage:10,projectileSpeed:yt*5,towerType:"NORMAL",rgb:Nm,showSymbol:(o,r,t={angle:0,heat:0})=>{b.fill(ih),hh(o.x,o.y,r,t.angle)}}),kg=(o,r,t)=>{const e=t/2,l=t/4;b.push(),b.rectMode(b.CENTER),b.rect(o,r,e,e),b.rect(o,r+l,t,t/15),b.pop()},fh=(o,r,t,e=b.color(br))=>{const l=t/2,u=t*(1/4),h=t*(1/12),n=t*(3/4),p=t/3,f=t*(2/3),g=b.createVector(o+h,r+h),m=b.PI,i=b.createVector(g.x+b.cos(m)*h*2,g.y+b.sin(m)*h*2),s=b.createVector(g.x+b.cos(m)*h*6,g.y+b.sin(m)*h*6),a=b.PI*(3/5),c=b.createVector(g.x+b.cos(a)*u,g.y+b.sin(a)*u),d=b.PI*(11/12),y=b.createVector(g.x+b.cos(d)*h*6,g.y+b.sin(d)*h*6),w=b.PI*(5/6),_=b.createVector(g.x+b.cos(w)*f,g.y+b.sin(w)*f),S=b.PI*-4/5,j=b.createVector(g.x+b.cos(S)*h,g.y+b.sin(S)*h);b.strokeWeight(1),b.circle(g.x,g.y,l),b.beginShape(),b.vertex(i.x,i.y),b.quadraticVertex(s.x,s.y,_.x,_.y),b.quadraticVertex(y.x,y.y,c.x,c.y),b.endShape(),b.fill(ea),b.stroke(0),kg(g.x,g.y-p,n),b.fill(e),b.circle(j.x,j.y,h)},Fr=Object.freeze({id:It.PLAGUE,name:"Plague Slinger",description:"The Plague slinger throws vials containing deadly poison at your enemies, exploding and infecting everyone in an area when they hit the ground.",hotkey:"p",keycode:80,range:He*4,cooldown:120,cost:500,damage:10,poisonDuration:500,poisonDamage:.2,projectileSpeed:yt*6,towerType:"NORMAL",explosionRadius:He,rgb:Zd,showSymbol:(o,r,t={})=>{b.fill(Rt),fh(o.x,o.y,r*1.5)}}),Wn=(o,r,t,e=0,l=2,u=Rt,h=b)=>{const n=t/2,p=t/3,f=t/6;h.push(),h.translate(o,r),h.rotate(e),h.stroke(u),h.strokeWeight(l),h.beginShape(),h.vertex(0,-n),h.vertex(n,-f),h.vertex(n,f),h.vertex(0,-p),h.vertex(0,n),h.endShape(h.CLOSE),h.ellipse(-p*.8,n*.8,n,p),h.pop()},jr=Object.freeze({id:It.SIREN,name:"Siren",description:"The Siren entrances heroes with her song, leading them to wander mindlessely to her.",hotkey:"z",keycode:90,range:He*7,cooldown:110,cost:900,damage:10,projectileSpeed:yt*3,tranceDuration:150,breakoutChance:5,extraProjectileAngle:b.PI/8,towerType:"WATER",rgb:Ji,noteColor:th,showSymbol:(o,r,t={angle:0})=>{b.push(),b.fill(jr.noteColor),Wn(o.x,o.y,r),b.pop()}}),Bo=(o,r,t,e=0,l=1,u=b)=>{const h=t/2,n=t/3,p=t/4,f=t*(3/10);u.push(),u.translate(o,r),u.rotate(e),u.stroke(Rt),u.strokeWeight(l),u.beginShape(),u.vertex(0,-h),u.quadraticVertex(n/2*1.1,-h/2*1.1,p,0),u.quadraticVertex(f,f,0,n),u.quadraticVertex(-f,f,-p,0),u.quadraticVertex(-n/2*1.1,-h/2*1.1,0,-h),u.endShape(),u.pop()},Mt=Object.freeze({id:It.PYRO,name:"Pyromaniac",description:"The Pyromaniac lets loose various fire attacks to burn your enemies to a crisp.",hotkey:"f",keycode:70,range:He*2.5,wallRange:He*5,cometRange:He*6,flameThrowerAngle:b.PI/6,cooldown:1,cometCooldown:500,wallCooldown:200,cost:1600,damage:1,wallDamage:30,cometDamage:400,cometExplosionRadius:He*2,baseWallSize:He*.6,wallWidthMultiplier:3,wallPierce:8,pushForce:yt*2,projectileSpeed:yt*2,towerType:"NORMAL",burnDamage:1,burnDuration:20,burnPanicSpeedIncrease:1.5,burningLandLifespan:1500,rgb:nn,flameRgb:ls,showSymbol:(o,r,t={angle:0})=>{b.push(),b.fill(ls),Bo(o.x,o.y,r),b.pop()}}),ph=(o,r,t,e=0,l=b)=>{const u=t/2,h=t/3,n=84,p=l.TWO_PI/n,f=6;let g=h,m=e,i=!0;l.push(),l.stroke(Rt),l.strokeWeight(1),l.beginShape();for(let s=0;s<n;s++){i?g=u:g=h;const a=o+l.cos(m)*g,c=r+l.sin(m)*g;l.vertex(a,c),s%f===0&&(i=!i),m+=p}l.endShape(l.CLOSE),l.pop()},Vr=Object.freeze({id:It.GRAVI,name:"Gravi-tech Tower",description:"The Gravi-tech tower is the culmination of underworld technology. It emits a gravitational field around itself, pulling passing heroes in. It does sadly have a tendency to overcharge when too many enemies draw near, or when left on too long.",hotkey:"g",keycode:71,range:He*4,cooldown:1e3,cost:1200,damage:0,projectileSpeed:6,towerType:"NORMAL",rgb:oo,attractionForce:yt*.1,capacity:5,showSymbol:(o,r,t={angle:0})=>{b.fill(sh),ph(o.x,o.y,r,t.angle)}}),mh=(o,r,t,e=0,l=b)=>{let u=t*.8,h=0;const n=t/50,p=(u-n)/100,g=(13/20*t-n)/100;l.push(),l.translate(o,r),l.rotate(e),l.stroke(Rt),l.strokeWeight(1),l.beginShape();for(let m=0;m<100;m++){const i=l.cos(h)*u,s=l.sin(h)*u;l.vertex(i,s),h+=l.PI/20,u-=p}for(let m=0;m<100;m++){const i=l.cos(h)*u,s=l.sin(h)*u;l.vertex(i,s),h-=l.PI/20,u+=g}l.endShape(),l.triangle(t*6/10,t/10,t*8/10,t/10,t*7/10,t*-1/5),l.pop()},Gr=Object.freeze({id:It.MAGMA_WYRM,name:"Magma Wyrm",description:"The Magma Wyrm lives a turbulent life surrounded by lava. It dies soon after its birth when its enviroment can no longer sustain it and crumbles.",hotkey:"m",keycode:77,range:He*5,cooldown:15,cost:100,damage:15,projectileSpeed:3,towerType:"LAVA",baseBurnUpDuration:2,rgb:Wl,flameRgb:Do,showSymbol:(o,r,t={angle:0})=>{b.push(),b.fill(Do),mh(o.x,o.y,r),b.pop()}}),ar={[It.ARCHER]:_n,[It.BARRIER]:Zt,[It.KOBOLD]:Tr,[It.ARACHNE]:or,[It.PLAGUE]:Fr,[It.SIREN]:jr,[It.PYRO]:Mt,[It.GRAVI]:Vr,[It.DRAGON_HOARD]:Cr,[It.MAGMA_WYRM]:Gr},Rc=(o="FreeBarricade")=>new ho(o,r=>{},r=>{},(r,t,e)=>(e||r.name)!==ar[It.BARRIER].name?t:0,(r,t,e)=>t);class Dr{constructor(r,t,e,l,u,h,n,p=!1){G(this,"name");G(this,"timing");G(this,"duration");G(this,"effect");G(this,"show");G(this,"onApply");G(this,"onRemoval");G(this,"noCleanse");this.name=r,this.duration=t,this.timing=e,this.effect=l,this.show=u,this.onApply=h??(()=>{}),this.onRemoval=n??(()=>{}),this.noCleanse=p}effectUnit(r,t,e){this.effect(r,t,e)}cleanse(){this.noCleanse||(this.duration=0)}copy(){return new Dr(this.name,this.duration,this.timing,this.effect,this.show,this.onApply,this.onRemoval,this.noCleanse)}}const gh=(o,r,t,e=b)=>{const l=t/2,u=t/3,h=t/4,n=t*(3/10);e.push(),e.translate(o,r),e.stroke(Rt),e.strokeWeight(1),e.beginShape(),e.vertex(0,-l),e.quadraticVertex(u/2*1.1,-l/2*1.1,h,0),e.quadraticVertex(n,n,0,u),e.quadraticVertex(-n,n,-h,0),e.quadraticVertex(-u/2*1.1,-l/2*1.1,0,-l),e.endShape(),e.pop()},Dg=(o,r,t,e="oiled")=>new Dr(e,o,"ON_TAKE_DAMAGE",(l,u,h={damage:new fr("PHYSICAL",0)})=>{h.damage.type==="FIRE"&&(h.damage.amount*=r)},(l,u)=>{b.fill(br),gh(u.x,u.y,l.size/2)},l=>{l.multiplicativeMaxForceBuffs.push(t),l.recalcMaxForceBuffs()},l=>{pn(t,l.multiplicativeMaxForceBuffs),l.recalcMaxForceBuffs()}),Pa=(o,r,t)=>{const e=t/2,l=e-t/4,u=e-t/6,h=b.PI/40,n=b.PI/10;let p=0,f=0,g=!0;const m=[];for(;p<b.TWO_PI;){g?f=b.random(l,u):f=b.random(u,e);const i=o+b.cos(p)*f,s=r+b.sin(p)*f;m.push(b.createVector(i,s)),p+=b.random(h,n),g=!g}return m},Oa=(o,r=b)=>{r.push(),r.noStroke(),r.beginShape();for(const t of o)r.vertex(t.x,t.y);r.endShape(r.CLOSE),r.pop()};class so{constructor(r,t,e,l,u,h,n,p){G(this,"duration");G(this,"color");G(this,"size");G(this,"pos");G(this,"vertices");G(this,"show");G(this,"onExpire");G(this,"vel");this.pos=r.copy(),this.vel=(p==null?void 0:p.copy())??b.createVector(0,0),this.size=t,this.duration=e,this.color=l,this.vertices=u,this.show=h,this.onExpire=n}update(){return this.duration--,this.show(this),this.pos.add(this.vel),this.duration<=0}}const oa=(o,r,t=5,e=b.color(Cn))=>{const l=Pa(o.x,o.y,r);return new so(o,r,t,e,l,()=>{b.fill(e),Oa(l)},()=>{const h=Pa(o.x,o.y,r*.6666666666666666);return new so(o,r*(2/3),t,e,h,()=>{b.fill(e),Oa(h)},()=>{const n=Pa(o.x,o.y,r/2);return new so(o,r/2,t,e,n,()=>{b.fill(e),Oa(n)},()=>{})})})},yh=(o,r,t,e="burn")=>new Dr(e,r,"NORMAL",u=>{u.takeDamage(new fr("FIRE",o));const h=ct.Vector.random2D().setMag(b.min(u.maxForce,u.desiredSpeed)*t);u.applyForce(h)},(u,h)=>{b.fill(ls),Bo(h.x,h.y,u.size/2)},u=>{},u=>{}),Lg=(o,r,t,e=1,l=b.color(ta))=>new so(o,r,e,l,[],()=>{const h=b.TWO_PI/42;let n=r,p=0,f=!0,g=[b.createVector(o.x+b.cos(p)*n,o.y+b.sin(p)*n)];b.push(),b.noStroke(),b.fill(l),b.beginShape();for(let m=0;m<42;m++){for(let i=1;i<3;i++)f?n=t:n=r,g[i]=b.createVector(o.x+b.cos(p)*n,o.y+b.sin(p)*n),f=!f,p+=h;b.triangle(g[0].x,g[0].y,g[1].x,g[1].y,g[2].x,g[2].y),g[0]=g[2]}b.endShape(b.CLOSE),b.pop()},()=>{}),vh=(o,r,t="BuildDiscount")=>new ho(t,e=>{},e=>{},(e,l,u)=>{const h=u||e.name;return r&&h!==r?l:b.ceil(l*o)},(e,l,u)=>l),Ig=(o,r="TowerRangeBuffMulti")=>new ho(r,t=>{t.rangeBuffsMultiplicative.push(o),t.recalcRangeBuffs()},t=>{pn(o,t.rangeBuffsMultiplicative),t.recalcRangeBuffs()},(t,e)=>e,(t,e)=>e),Bg=(o,r,t,e=0,l=ys,u=255)=>{const h=t/4,n=t/6,p=t/9;b.push(),b.translate(o,r),b.rotate(e),b.noStroke(),b.fill([...l,u]),b.circle(0,0,t),b.stroke([...ra,u]);for(let f=0;f<7;f++){b.rotate(b.TWO_PI/7),b.strokeWeight(3),b.line(0,0,0,h),b.push(),b.translate(0,h),b.rotate(b.TWO_PI/10);for(let g=0;g<2;g++){b.strokeWeight(2),b.line(0,0,0,n),b.push(),b.translate(0,n),b.rotate(b.TWO_PI/14);for(let m=0;m<2;m++)b.strokeWeight(1),b.line(0,0,0,p),b.rotate(-b.TWO_PI/7);b.pop(),b.rotate(-b.TWO_PI/5)}b.pop(),b.strokeWeight(3),b.line(0,0,0,h)}b.pop()},Ng=(o,r,t=6,e=ys)=>new so(o,r,t,b.color(e),[],()=>{Bg(o.x,o.y,r,0,e,t*10)},()=>{}),Ug=(o,r,t,e=0,l=b)=>{const u=t/2,h=t*(3/8),n=t*(1/11),p=t/30;l.push(),l.translate(o,r),l.rotate(e),l.beginShape(),l.vertex(-u,h),l.vertex(-u,-n),l.quadraticVertex(-h,-u,-p,-u),l.vertex(-p,h),l.endShape(l.CLOSE),l.beginShape(),l.vertex(u,h),l.vertex(u,-n),l.quadraticVertex(h,-u,p,-u),l.vertex(p,h),l.endShape(l.CLOSE),l.pop()},Fg=(o,r,t,e=0,l=b)=>{const u=t/2,h=t*(3/8),n=t*(1/11),p=t/5;l.push(),l.translate(o,r),l.rotate(e),l.beginShape(),l.vertex(-u,h),l.vertex(-u,-n),l.quadraticVertex(-h,-u,-p,-u),l.vertex(-p,h),l.endShape(l.CLOSE),l.beginShape(),l.vertex(u,h),l.vertex(u,-n),l.quadraticVertex(h,-u,p,-u),l.vertex(p,h),l.endShape(l.CLOSE),l.pop()};class bh extends zr{constructor(t,e,l,u={}){super(t,e,l,{...u,otherDifficulty:xn});G(this,"hpLossPerFrame");this.hpLossPerFrame=u.hpLossPerFrame??.1}update(){this.hp-=this.hpLossPerFrame;const t=this.getTarget(Nt);return t!==void 0?this.seekTarget(t):this.friction(.01),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.pos),this.acc.mult(0),this.accumulatedFrictionMag=0,this.detectCollisions(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(t),this.hp<=0&&this.die(),this.hp<=0}show(){b.push(),b.fill(this.color),b.circle(this.pos.x,this.pos.y,this.size),b.pop()}}class Vg extends bh{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"colorArr");G(this,"colorWeight");this.colorArr=u.colorArr??Yl,this.colorWeight=b.random()}show(){b.push(),b.fill(Xl(this.colorArr,ta,this.colorWeight,200)),dr(this.pos.x,this.pos.y,this.size,!1,b),b.pop()}}const Gg=(o,r={})=>{const t=He*.6;return new Vg(o.x,o.y,t,{desiredSpeed:0,maxForce:0,damage:0,hp:r.hp??100,hpLossPerFrame:r.hpLoss??.1,mass:1,goldValue:0,color:b.color(r.color??ta),colorArr:r.color,attackRadius:t})};class Hg extends Rn{constructor(t,e,l,u,h,n,p,f,g,m,i){super(t,e,l,u,h,Zt.name,n,p,f,g,m,i);G(this,"oilForceDebuff");G(this,"oilFireBuff");G(this,"oilDuration");G(this,"burnDamage");G(this,"baseBurnDamage");G(this,"burnDuration");G(this,"burnPanicSpeedIncrease");G(this,"neighborBuildDiscount");G(this,"neighborRangeBuffPercent");G(this,"maouHealPerRound");G(this,"earthquakeDamage");G(this,"earthquakeCooldown");G(this,"earthquakeCurrentCooldown");G(this,"gateOpen");G(this,"summonBarrierCooldown");G(this,"summonBarrierCurrentCooldown");G(this,"summonBarrierHp");G(this,"summonedBarriers");this.oilForceDebuff=Zt.oilForceDebuff,this.oilFireBuff=Zt.oilFireBuff,this.oilDuration=Zt.oilDuration,this.burnDamage=Zt.burnDamage,this.baseBurnDamage=Zt.burnDamage,this.burnDuration=Zt.burnDuration,this.burnPanicSpeedIncrease=Zt.burnPanicSpeedIncrease,this.neighborBuildDiscount=Zt.neighborBuildDiscount,this.neighborRangeBuffPercent=Zt.neighborRangeBuffPercent,this.maouHealPerRound=Zt.maouHealPerRound,this.earthquakeDamage=Zt.earthquakeDamage,this.earthquakeCooldown=Zt.earthquakeCooldown,this.earthquakeCurrentCooldown=Zt.earthquakeCooldown/2,this.gateOpen=!1,this.summonBarrierCooldown=Zt.summonBarrierCooldown,this.summonBarrierCurrentCooldown=Zt.summonBarrierCooldown/2,this.summonBarrierHp=Zt.summonBarrierHp,this.summonedBarriers=[]}showSymbol(t=this.pos){}update(){this.showSpikes(),this.earthquakeCurrentCooldown--,this.earthquakeCurrentCooldown<=0&&this.shootEarthquake()&&(this.earthquakeCurrentCooldown=this.earthquakeCooldown);for(let t=this.summonedBarriers.length-1;t>=0;t--)this.summonedBarriers[t].hp<=0&&this.summonedBarriers.splice(t,1);return this.tryBarrier(),super.update()}tryBarrier(){}summonBarrier(t,e=Yl,l=this.summonBarrierHp){const u=Gg(t.pos.copy(),{hp:l,hpLoss:0,color:e});u.radius=u.size*(2+b.sqrt(3))/4,this.summonedBarriers.push(u),tt.addObstacle(u)}showSpikes(){}shoot(){return!1}shootEarthquake(){return!1}getStatuses(){return[this.getOiled()]}getOiled(){return Dg(this.oilDuration,this.oilFireBuff,this.oilForceDebuff)}getBurn(){return yh(this.burnDamage,this.burnDuration,this.burnPanicSpeedIncrease)}recalcDamageBuffs(){super.recalcDamageBuffs(),this.burnDamage=this.baseBurnDamage;for(const t of this.damageBuffsMultiplicative)this.burnDamage*=t}}const Ac=(o,r={})=>new Hg(o.pos.x,o.pos.y,o.r,o.q,o.size,Zt.range,Zt.damage,Zt.projectileSpeed,Zt.cooldown,Zt.cost,{color:b.color(Zt.rgb),wall:!0,isTower:!0,towerId:Zt.id,type:o.type,data:o.data,spendValue:r.changedCost??Zt.cost,projectileColor:b.color(br),upgrades:{A:new Oe("A","Oil Vats",200,"Imps on top of the Barricade pour oil down periodically, covering those passing beneath, making them slightly less coordinated and more susceptible to fire damage.",t=>{t.baseRange===0&&t.increaseRange(He*1.7),t.shoot=()=>{const e=Nt.inRangeCircle(t.pos,t.range);if(e.length<1)return!1;const l=$l[t.targetingType].function(t.pos,e),u=Nt.inRangeCircle(l.pos,He),h=t.getStatuses();for(const n of u)for(const p of h)n.applyStatus(p);return tt.addVisual(oa(l.pos,He,3,t.projectileColor)),!0}},!0),B:new Oe("B","Barricraze",50,"Makes building Barricades adjecent to this one free. That's crazy!",t=>{const e=ae.getNeighbors(t.r,t.q);for(const l of e){const u=Rc();l.applyBuff(u),t.buffsThisApplied.push(u)}t.onSell=()=>{const l=ae.getNeighbors(t.r,t.q);for(const u of t.buffsThisApplied)for(const h of l)h.removeBuff(u.id)}},!0),C:new Oe("C","Spikes",75,"Put some spikes all over the surface of the Barricade, so enemies hurt themselves if they run into it. Or if you make them do so.",t=>{t.onCollision=()=>new fr("PHYSICAL",t.damage),t.showSpikes=()=>{t.gateOpen||tt.addVisual(Lg(t.pos.copy(),t.size*.9,t.collisionRadius*1.2,2,b.color(Rt)))}},!0),"A+":new Oe("A+","Burning Oil",250,"The imps pour burning oil instead of regular, burning enemies instead of getting them oiled up.",t=>{t.projectileColor=b.color(ls),t.getStatuses=()=>[t.getBurn()]}),"B+":new Oe("B+","Barricade Town",100,"Makes every new Barricade in a three tile radius free. 'Heh, this is just one small step towards the completion of my master plan.'",t=>{const e=ae.getNeighborsArea(t.r,t.q,3);for(const l of e){const u=Rc();l.applyBuff(u),t.buffsThisApplied.push(u)}t.onSell=()=>{const l=ae.getNeighborsArea(t.r,t.q,3);for(const u of t.buffsThisApplied)for(const h of l)h.removeBuff(u.id)}}),"C+":new Oe("C+","Giant Spikes",400,"Adds rather oversized spikes to the sides of the Barricade, increasing collision damage, and slightly increases size, so those collisions happen more easily.",t=>{t.increaseDamage(15),t.collisionRadius*=1.2}),AB:new Oe("AB","Strong Foundation",150,"The strong foundation provided by the Barricade makes it cheaper to build towers adjecent to it.",t=>{const e=ae.getNeighbors(t.r,t.q);for(const l of e){const u=vh(t.neighborBuildDiscount);l.applyBuff(u),t.buffsThisApplied.push(u)}}),BC:new Oe("BC","Rooftop Garden",80,"Some alternative green imps have decided to keep a rooftop garden. It's not really our style, but at least the fresh veggies boost our health.",t=>{t.onWaveEnd=()=>{tt.increaseHp(t.maouHealPerRound)}}),CA:new Oe("CA","Ar-range-ment",125,"An imp made a dark deal to increase the Barricade's range in exchange for a constant uttering of puns. Scum.",t=>{t.increaseRange(He*.5)}),"AB+":new Oe("AB+","Neighborhood Watch",350,"The vigilant imps on top of the Barricade keep watch for their entire neighborhood, slightly increasing their range. Wouldn't want any undesirables fouling up our pristine community now would we",t=>{const e=ae.getNeighbors(t.r,t.q);for(const l of e){const u=Ig(t.neighborRangeBuffPercent);l.applyBuff(u),t.buffsThisApplied.push(u)}}),"BC+":new Oe("BC+","Earthquakes",320,"Whatever those imps are doing in the basement is causing some minor earthquakes, dealing a bit of damage to everything directly around the Barricade.",t=>{t.baseRange===0&&t.increaseRange(He*1.7),t.shootEarthquake=()=>{const e=Nt.inRangeCircle(t.pos,t.range);if(e.length<1)return!1;for(const l of e)l.takeDamage(new fr("PHYSICAL",t.earthquakeDamage));return tt.addVisual(Ng(t.pos,t.range*2,12)),!0}}),"CA+":new Oe("CA+","Defensive Perimeter",500,"An imp with a talent for magic summons a small barrier next to Barricade, blocking the heroes passage until it is destroyed.",t=>{t.tryBarrier=()=>{if(t.summonBarrierCurrentCooldown--,t.summonBarrierCurrentCooldown>0)return;t.summonBarrierCurrentCooldown=t.summonBarrierCooldown;const e=ae.getNeighbors(t.r,t.q);for(let l=e.length-1;l>=0;l--){if(!(e[l].canUnit||e[l].canWaterUnit)){e.splice(l,1);continue}for(const u of t.summonedBarriers)if(u.pos.x===e[l].pos.x&&u.pos.y===e[l].pos.y){e.splice(l,1);break}}e.length<1||t.summonBarrier(b.random(e))}}),"AB++":new Oe("AB++","Community Pool",1700,"A tropical swimming pool is just what this burgeoning community needs! Destroys the Barricade to leave a water tile behind.",t=>{ae.setBuilderTileType(t,ht.WATER),t.spendValue=0,tt.sellTower(t)}),"BC++":new Oe("BC++","Great Gate (Ability)",2425,"Turns the Barricade into a grand gate, allowing heroes to pass with the push of a lever.",t=>{t.ultCooldown=Gs/2,t.ultCurrentCooldown=50,t.ultimate=()=>{if(t.gateOpen=!t.gateOpen,t.wall=!t.wall,t.canUnit=!t.canUnit,t.canWaterUnit=!t.canWaterUnit,ae.generateAllPathsThroughFloodFill(qt.spawners,tt.bases,!0)){tt.generateAllNeccesaryPaths();return}t.ultCurrentCooldown=0,t.gateOpen=!t.gateOpen,t.wall=!t.wall,t.canUnit=!t.canUnit,t.canWaterUnit=!t.canWaterUnit},t.shouldShowUltCooldown=()=>{t.showUltCooldown()},t.showSymbol=(e=t.pos)=>{b.push(),b.stroke(Rt),b.strokeWeight(1),b.fill(Cn),t.gateOpen?Fg(e.x,e.y,t.size):Ug(e.x,e.y,t.size),b.pop()}}),"CA++":new Oe("CA++","You Shall Not Pass (Ability)",1500,"One of imps summons barriers all around the Barricade, temporarily stopping the heroes. With some dramatic flair.",t=>{t.ultCooldown=Gs,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{for(const l of t.summonedBarriers)l.hp=0;const e=ae.getNeighbors(t.r,t.q);for(let l=e.length-1;l>=0;l--)(e[l].canUnit||e[l].canWaterUnit)&&t.summonBarrier(e[l],vs,t.summonBarrierHp*2)},t.shouldShowUltCooldown=()=>{t.showUltCooldown()}})}});class Wg extends Hn{constructor(t,e,l,u,h,n,p,f,g,m,i={}){super(t,e,l,u,h,n,p,i);G(this,"hexes");G(this,"frictionSlow");G(this,"corrosion");this.pierce=f,this.hexes=g,this.frictionSlow=m,this.color=i.color??b.color(br),this.corrosion=i.corrosion??0}show(){b.push(),b.stroke(this.color);for(const t of this.hexes)dh(t.pos.x,t.pos.y,t.size);b.pop()}update(){const t=[];for(const e of this.hexes){const l=Nt.inRangeCircle(e.pos,e.size);t.push(...l)}t.length>0&&this.origin.usageData.totalHits++;for(const e of t){if(this.pierce<1)break;for(const l of this.statuses)e.applyStatus(l,!0);this.updateOriginUsageData(e,this.damage),e.takeDamage(new fr(this.damageType,this.damage)),e.friction(this.frictionSlow),this.pierce--}return this.pierce-=this.corrosion,this.pierce<1}}class zg extends bh{constructor(r,t,e,l={}){super(r,t,e,l)}show(){const r=this.vel.heading()+b.PI/2;b.push(),b.fill(this.color),na(this.pos.x,this.pos.y,this.size,!1,b,nn,r,b.ceil(this.hp/this.maxHp*10)),b.pop()}}const wh=(o,r={})=>new zg(o.x,o.y,hr*.4,{desiredSpeed:yt*2,maxForce:yt*.2,hp:r.hp??100,hpLossPerFrame:r.hpLoss??.1,damage:r.damage??10,mass:1,goldValue:0,color:b.color(r.color??Rt),visionRadius:r.vision??He*5,attackRadius:r.attackRadius??hr/2,attackCooldown:r.attackCooldown??20}),qg=(o=.25,r={},t="spider food")=>new Dr(t,2,"ON_DEATH",e=>{b.random()<o&&tt.addMinion(wh(e.pos,r))},(e,l)=>{b.fill(Rt),na(l.x,l.y,e.size/3)},e=>{},e=>{});class Yg extends Rn{constructor(t,e,l,u,h,n,p,f,g,m,i,s,a){super(t,e,l,u,h,or.name,n,p,f,g,m,a);G(this,"webDurability");G(this,"webSlow");G(this,"activeWeb");G(this,"corrosion");G(this,"spiderlingCooldown");G(this,"currentSpiderlingCooldown");G(this,"spiderlingOnDeathChance");G(this,"spiderlingHp");G(this,"spiderlingDamage");G(this,"spiderlingBaseDamage");G(this,"spiderlingHpDecay");G(this,"rareSpiderlingChance");G(this,"rareSpiderlingHp");G(this,"rareSpiderlingDamage");G(this,"rareSpiderlingBaseDamage");G(this,"rareSpiderlingHpDecay");G(this,"getWebProjectile",(t,e=this.corrosion)=>{const l=this.getStatuses();return new Wg(this,this.pos,b.createVector(0,0),this.size,this.damage,"PHYSICAL",this.webDurability,this.webDurability,t,this.webSlow,{color:this.projectileColor,corrosion:e,statuses:l})});this.webDurability=i,this.webSlow=s,this.activeWeb=null,this.corrosion=0,this.spiderlingCooldown=or.spiderlingCooldown,this.currentSpiderlingCooldown=or.spiderlingCooldown/2,this.spiderlingOnDeathChance=or.spiderlingOnDeathChance,this.spiderlingHp=or.spiderlingHp,this.spiderlingDamage=or.spiderlingDamage,this.spiderlingBaseDamage=or.spiderlingDamage,this.spiderlingHpDecay=or.spiderlingHpDecay,this.rareSpiderlingChance=or.rareSpiderlingChance,this.rareSpiderlingHp=or.rareSpiderlingHp,this.rareSpiderlingDamage=or.rareSpiderlingDamage,this.rareSpiderlingBaseDamage=or.rareSpiderlingDamage,this.rareSpiderlingHpDecay=or.rareSpiderlingHpDecay}showSymbol(t=this.pos){b.push(),b.fill(Rt),na(t.x,t.y,this.size*.7,!1),b.pop()}showRange(){const t=uo(this.color);t.setAlpha(100),b.fill(t),b.circle(this.pos.x,this.pos.y,this.range*4*this.size)}update(){return this.activeWeb===null?(this.currentCooldown--,this.currentCooldown<=0&&(this.shoot(),this.currentCooldown=this.cooldown)):this.activeWeb.pierce<=0&&(this.activeWeb=null),this.ultCurrentCooldown--,this.spiderling(),this.handleBuffs(),this.usageData.framesExists++,!0}spiderling(){}spawnSpiderling(){const t=[];for(const u of ae.getNeighborsArea(this.r,this.q,this.range))u.canUnit&&t.push(u);const e=b.random(t),l=wh(e.pos,this.getSpiderlingOptions());tt.addMinion(l)}getSpiderlingOptions(){const t=b.random()<this.rareSpiderlingChance;return{damage:t?this.rareSpiderlingDamage:this.spiderlingDamage,hp:t?this.rareSpiderlingHp:this.spiderlingHp,hpLoss:t?this.rareSpiderlingHpDecay:this.spiderlingHpDecay,color:t?nn:Rt}}shoot(){const t=ae.getNeighborsArea(this.r,this.q,this.range);for(let l=t.length-1;l>=0;l--)t[l].wall&&t.splice(l,1);const e=this.getWebProjectile(t);return this.activeWeb=e,tt.addProjectile(e),!0}getStatuses(){return[]}getSpiderFood(){return qg(this.spiderlingOnDeathChance,this.getSpiderlingOptions())}recalcDamageBuffs(){super.recalcDamageBuffs(),this.spiderlingDamage=this.spiderlingBaseDamage,this.rareSpiderlingDamage=this.rareSpiderlingBaseDamage;for(const t of this.damageBuffsMultiplicative)this.spiderlingDamage*=t,this.rareSpiderlingDamage*=t}recalcRangeBuffs(){this.range=this.baseRange;for(const t of this.rangeBuffsAdditive)this.range+=t/He;for(const t of this.rangeBuffsMultiplicative)this.damage*=t;this.range=b.round(this.range)}}const Xg=(o,r={})=>new Yg(o.pos.x,o.pos.y,o.r,o.q,o.size,or.range,or.damage,or.projectileSpeed,or.cooldown,or.cost,or.webDurability,or.webSlow,{color:b.color(or.rgb),projectileColor:b.color(br),wall:!0,isTower:!0,towerId:or.id,type:o.type,data:o.data,spendValue:r.changedCost??or.cost,upgrades:{A:new Oe("A","Stickier webs",600,"Stickier webs slow enemies down even more.",t=>{t.webSlow+=.1},!0),B:new Oe("B","Steel thread",400,"Makes your web more durable.",t=>{t.webDurability+=900},!0),C:new Oe("C","Spinning talent",800,"Spin new webs faster.",t=>{t.cooldown-=150,t.baseCooldown-=150},!0),"A+":new Oe("A+","Nether glue",1400,"Magic infused glue makes webs unnaturally sticky.",t=>{t.webSlow+=.15}),"B+":new Oe("B+","Titanium thread",1500,"Makes your web way more durable.",t=>{t.webDurability+=1500}),"C+":new Oe("C+","Spinning prodigy",1700,"Spin new webs at top speed.",t=>{t.cooldown-=150,t.baseCooldown-=150}),AB:new Oe("AB","Spiky silk",1300,"How can silk be spiky?",t=>{t.increaseDamage(1)}),BC:new Oe("BC","Great web",1e3,"Make your web even larger.",t=>{t.range+=1,t.baseRange+=1}),CA:new Oe("CA","Spiderlings",1200,"The Arachne gives birth to spiderlings who damage and distract heroes.",t=>{t.spiderling=()=>{t.currentSpiderlingCooldown--,t.currentSpiderlingCooldown<=0&&(t.currentSpiderlingCooldown=t.spiderlingCooldown,t.spawnSpiderling())}}),"AB+":new Oe("AB+","Suffocating silk",2200,"Hope you don't have claustrophobia, or arachnophobia... Increases damage",t=>{t.increaseDamage(3)}),"BC+":new Oe("BC+","Greatest web",1500,"Spin your web between mountains.",t=>{t.range+=1,t.baseRange+=1}),"CA+":new Oe("CA+","Brood Parasite",2e3,"Nope nope nope nope nope nope nope nope nope nope nope. (Has a chance to birth a spiderling when a hero dies in the arachnes web)",t=>{t.getStatuses=()=>[t.getSpiderFood()]}),"AB++":new Oe("AB++","Corrosive silk",6600,"Silk corrodes away enemies and the web alike.",t=>{t.increaseDamage(16),t.projectileColor=b.color(Im),t.corrosion=5}),"BC++":new Oe("BC++","World wide web (Ability)",7500,"The entire world is my domain.",t=>{t.ultCooldown=Gs,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{const e=ae.getAllTiles(!1);for(let l=e.length-1;l>=0;l--){const u=t.getWebProjectile([e[l]],t.corrosion+5);tt.addProjectile(u)}},t.shouldShowUltCooldown=()=>{t.showUltCooldown()}}),"CA++":new Oe("CA++","One Big Happy Family",6660,"These spiderlings were all raised with love and care, and only a minimal amount of cannibalism. Spawn more and stronger spiderlings, as well as rare super spiderlings every now and then. Motherhood is so fulfilling.",t=>{t.spiderlingCooldown-=100,t.spiderlingOnDeathChance+=.25,t.spiderlingHp+=150,t.rareSpiderlingChance+=.01})}}),$g=-.5*b.PI,Kg=b.color(Qd),Pc=(o,r,t)=>{const e=t/2,l=t/10,u=e-l;b.beginShape(),b.vertex(o+e,r-l),b.vertex(o-u,r-l),b.quadraticVertex(o-e,r-l,o-e,r),b.quadraticVertex(o-e,r+l,o-u,r+l),b.vertex(o+e,r+l),b.endShape(b.CLOSE)},Qg=(o,r,t,e=Kg,l=$g)=>{const u=t/20,h=t*(9/11),n=t/2,p=t/4;b.push(),b.translate(o,r),b.rotate(l),b.rectMode(b.CENTER),b.fill(br),Pc(0,0,t),b.rect(n,0,u,p),b.fill(e),Pc(-u,0,h),b.pop()};class Oc extends Hn{constructor(t,e,l,u,h,n,p,f,g,m,i,s={}){super(t,e,l,p,g,m,i,s);G(this,"showAngle");G(this,"changeAngle");G(this,"zPos");G(this,"zVel");G(this,"zAcc");G(this,"explosionRadius");this.zPos=u,this.zVel=h,this.zAcc=n,this.showAngle=-b.PI/2,this.changeAngle=b.random(-b.PI/4,b.PI/4),this.explosionRadius=f}show(){b.push(),Qg(this.pos.x,this.pos.y,this.size+this.zPos/(He*.1),this.color,this.showAngle),b.pop()}update(){return this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0),this.zVel+=this.zAcc,this.zPos+=this.zVel,this.zPos<=0?(this.hit(),!0):(this.showAngle+=this.changeAngle,!1)}hit(){tt.addVisual(oa(this.pos,this.explosionRadius*2,2,b.color(this.color)));const t=Nt.inRangeCircle(this.pos,this.explosionRadius);for(const e of t){if(this.pierce<=0)break;const l=this.damage*(b.random()<this.critChance?this.critMultiplier:1);e.takeDamage(new fr(this.damageType,l));for(let u=0;u<this.statuses.length;u++)e.applyStatus(this.statuses[u]);this.pierce--}}}const nl=(o,r,t="poison")=>new Dr(t,r,"NORMAL",l=>{l.takeDamage(new fr("POISON",o))},(l,u)=>{b.fill(Bm),gh(u.x,u.y,l.size/2)}),Zg=(o,r,t,e=0,l=b)=>{const u=t/2,h=t/20,n=t/12,p=n*2;l.push(),l.translate(o,r),l.rotate(e),l.stroke(Rt),l.strokeWeight(1),l.beginShape(),l.vertex(p,-u),l.vertex(h,-n),l.vertex(p,-n),l.vertex(-p,u),l.vertex(-h,n),l.vertex(-p,n),l.endShape(l.CLOSE),l.pop()},xh=(o,r,t="PASSIVE")=>new Dr(r,o,t,l=>{},(l,u)=>{b.push(),b.fill(br),b.noStroke(),Ys(u.x,u.y,l.size*.3333333333333333,8),b.pop()},l=>{},l=>{},!0),Jg=(o,r="paralysis")=>new Dr(r,o,"NORMAL",e=>{e.acc.setMag(0),e.vel.setMag(0)},(e,l)=>{b.fill(Io),Zg(l.x,l.y,e.size*.6666666666666666)},e=>{},e=>{e.applyStatus(xh(o/2,r,"NORMAL"))});class ey extends Rn{constructor(t,e,l,u,h,n,p,f,g,m,i,s,a,c){super(t,e,l,u,h,Fr.name,n,p,m,i,s,c);G(this,"vialNumber");G(this,"poisonName");G(this,"poisonDamage");G(this,"poisonBaseDamage");G(this,"poisonDuration");G(this,"paralysisDuration");G(this,"explosionRadius");this.vialNumber=1,this.poisonName="Slinger",this.poisonDamage=f,this.poisonBaseDamage=f,this.poisonDuration=g,this.paralysisDuration=0,this.explosionRadius=a}showSymbol(t=this.pos){b.push(),b.fill(Rt),fh(t.x,t.y,this.size*1.5),b.pop()}getStatuses(){return[this.getPoison()]}getPoison(){return nl(this.poisonDamage,this.poisonDuration,this.poisonName)}getParalysis(){return Jg(this.paralysisDuration)}baseShoot(){const t=Nt.inRangeCircle(this.pos,this.range);if(t.length<1)return;let e=0,l=this.range**2;for(let s=0;s<t.length;s++){const a=zt(t[s].pos,this.pos);a<l&&(l=a,e=s)}const u=t[e],h=this.getStatuses(),n=this.range/this.projectileSpeed,p=u.pos.copy();for(let s=1;s<=n;s++){p.add(u.vel);const a=zt(p,this.pos);if(a<(this.projectileSpeed*s)**2||a>this.range*this.range)break}const f=ct.Vector.sub(p,this.pos),g=b.floor(f.mag()/this.projectileSpeed);f.setMag(this.projectileSpeed);const m=-1*(2*He/g);return new Oc(this,this.pos.copy(),f,0,He,m,20,this.explosionRadius,this.getDamage(),"EXPLOSION",n,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:h})}shoot(){const t=this.baseShoot();if(t===void 0)return!1;tt.addProjectile(t);const e=this.vialNumber-1;this.lastShotAngle=t.vel.heading();const l=b.PI/4,u=.5;for(let h=0;h<e;h++){const n=this.lastShotAngle+b.random(-l,l),p=ct.Vector.fromAngle(n);p.setMag(t.vel.mag());const f=t.zAcc*1+b.random(-u,u),g=[];for(let i=0;i<t.statuses.length;i++)g.push(t.statuses[i].copy());const m=new Oc(this,this.pos.copy(),p,t.zPos,t.zVel,f,t.size,t.explosionRadius,t.damage,"EXPLOSION",t.lifeSpan,{color:this.projectileColor,pierce:t.pierce,critChance:t.critChance,critMultiplier:t.critMultiplier,statuses:g});tt.addProjectile(m)}return!0}increasePoisonDamage(t){this.poisonBaseDamage+=t,this.poisonDamage+=t}recalcDamageBuffs(){super.recalcDamageBuffs(),this.poisonDamage=this.poisonBaseDamage;for(const t of this.damageBuffsMultiplicative)this.poisonDamage*=t}}const ty=(o,r={})=>new ey(o.pos.x,o.pos.y,o.r,o.q,o.size,Fr.range,Fr.damage,Fr.poisonDamage,Fr.poisonDuration,Fr.projectileSpeed,Fr.cooldown,Fr.cost,Fr.explosionRadius,{color:b.color(Fr.rgb),projectileColor:b.color(Zd),projectilePierce:100,wall:!0,towerId:Fr.id,isTower:!0,type:o.type,data:o.data,spendValue:r.changedCost??Fr.cost,upgrades:{A:new Oe("A","Extra vial",300,"Poison is all in the dose, so let's dubble that shall we.",t=>{t.vialNumber+=1},!0),B:new Oe("B","Vile pitcher",250,"This slinger just got promoted to pitcher in the Mad Scientist Inc. office team.",t=>{t.range+=He,t.baseRange+=He,t.projectileSpeed+=yt*1},!0),C:new Oe("C","Paralysis coating",200,"Coats the vials with a paralizing agent.",t=>{t.paralysisDuration+=16,t.getStatuses=()=>[t.getPoison(),t.getParalysis()]},!0),"A+":new Oe("A+","Handful of vials",2400,"Don't worry about the costs, Mad Scientist Inc. buys all its glasswork wholesale.",t=>{t.vialNumber+=3}),"B+":new Oe("B+","Mecha arm",3100,"Mechanical arms allow for even further and faster throwing.",t=>{t.explosionRadius+=He/5,t.range+=He,t.baseRange+=He,t.projectileSpeed+=yt*2}),"C+":new Oe("C+","Coma inducer",2e3,"Many vipers were harmed in the production of this stronger coating.",t=>{t.paralysisDuration+=24}),AB:new Oe("AB","Unstable concoction",1e3,"The unstable contends of the vials react violently with the air, increasing explosion damage and radius.",t=>{t.explosionRadius+=He/3,t.increaseDamage(15)}),BC:new Oe("BC","Mad prodigy",1700,"Works faster and deadlier than a normal prodigy.",t=>{t.cooldown-=20,t.baseCooldown-=20,t.increasePoisonDamage(.2)}),CA:new Oe("CA","Antibody killer",750,"The poison aggresively attacks antibodies, increasing its duration and damage.",t=>{t.poisonDuration+=400,t.increasePoisonDamage(.1)}),"AB+":new Oe("AB+","Killer combustion",1200,"Make them vials go BOOM.",t=>{t.explosionRadius+=He/3,t.increaseDamage(15)}),"BC+":new Oe("BC+","Patented pathogen",1800,"This patented formula isn't available to any other plague slinger, and obviously better than anything those amateurs could have produced.",t=>{t.increasePoisonDamage(.3),t.poisonName=`Slinger-P${String(b.random())}`}),"CA+":new Oe("CA+","Mutating virus",1200,"The virus keeps mutating, making recovery incredibly slow.",t=>{t.poisonDuration+=1e3}),"AB++":new Oe("AB++","BOOOOM!",4900,"Just go boom, who cares about poison.",t=>{t.projectileColor=b.color(Cn),t.explosionRadius+=He/3,t.increaseDamage(30),t.vialNumber+=1,t.poisonDamage=0,t.poisonBaseDamage=0,t.poisonDuration=0,t.getPoison=()=>nl(0,0,"Nope")}),"BC++":new Oe("BC++","Unique strain",7e3,"Every vial is filled with it's own unique strain of the virus, each having it's own deadly effect on the victim. No one else could have done this, Muhahaha... ehem",t=>{t.increasePoisonDamage(.2),t.getPoison=()=>nl(t.poisonDamage,t.poisonDuration,`Slinger-P-Unique-${String(b.random())}`)}),"CA++":new Oe("CA++","Eternal suffering",16e3,"The virus hijacks part of it's victems DNA to become a part of them, never to be cured.",t=>{t.poisonDuration+=998e3})}});class ry extends Rn{constructor(t,e,l,u,h,n,p,f,g,m,i,s,a){super(t,e,l,u,h,Vr.name,n,p,f,g,m,a);G(this,"attractionForce");G(this,"active");G(this,"capacity");this.attractionForce=i,this.capacity=s,this.active=!0}showSymbol(t=this.pos){b.push(),b.fill(sh),ph(t.x,t.y,this.size,this.lastShotAngle),b.pop()}update(){return this.active?(this.lastShotAngle+=.03,this.shoot()):(this.currentCooldown--,this.currentCooldown<=0&&(this.currentCooldown=this.cooldown,this.active=!0)),this.handleBuffs(),this.ultCooldown--,!0}baseShoot(){const t=Nt.inRangeCircle(this.pos,this.range);if(!(t.length<1)){for(let e=0;e<t.length;e++){const l=ct.Vector.sub(this.pos,t[e].pos).setMag(this.attractionForce*t[e].mass);t[e].applyForce(l)}t.length>this.capacity&&(this.active=!1)}}shoot(){return this.baseShoot(),!0}}const ny=(o,r={})=>new ry(o.pos.x,o.pos.y,o.r,o.q,o.size,Vr.range,Vr.damage,Vr.projectileSpeed,Vr.cooldown,Vr.cost,Vr.attractionForce,Vr.capacity,{color:b.color(Vr.rgb),projectileColor:b.color(Vr.rgb),projectilePierce:100,wall:!0,isTower:!0,towerId:Vr.id,type:o.type,data:o.data,spendValue:r.changedCost??Vr.cost,upgrades:{A:new Oe("A","Field stabilizer",1300,"Stabilize the gravitational field to increase it's capacity to hold units.",t=>{t.capacity+=5},!0),B:new Oe("B","Reserve cell",500,"By keeping a center gravity cell in reserve the tower can be restarted after failure twice as fast.",t=>{t.cooldown-=500,t.baseCooldown-=500},!0),C:new Oe("C","Greater field",1e3,"Affect a slightly bigger area.",t=>{t.increaseRange(He/2)},!0),"A+":new Oe("A+","Micromanage flow",4e3,"Strengthen the field in places with a lot of units by weakening parts that aren't being used, increasing capacity beyond it's limits.",t=>{t.capacity+=10}),"B+":new Oe("B+","Placeholder",0,"Gotta think of somehing.",t=>{}),"C+":new Oe("C+","Grand field",2e3,"Spread the field as far as possible without letting it collapse.",t=>{t.increaseRange(He)}),AB:new Oe("AB","Repulsion wave",0,"Gotta.",t=>{}),BC:new Oe("BC","Placeholder",0,"Gotta think of somehing.",t=>{}),CA:new Oe("CA","Placeholder",0,"Gotta think of somehing.",t=>{}),"AB+":new Oe("AB+","Placeholder",0,"Gotta think of somehing.",t=>{}),"BC+":new Oe("BC+","Placeholder",0,"Gotta think of somehing.",t=>{}),"CA+":new Oe("CA+","Placeholder",0,"Gotta think of somehing.",t=>{}),"AB++":new Oe("AB++","Placeholder",0,"Gotta think of somehing.",t=>{}),"BC++":new Oe("BC++","Placeholder",0,"Gotta think of somehing.",t=>{}),"CA++":new Oe("CA++","Placeholder",0,"Gotta think of somehing.",t=>{})}}),oy=-.5*b.PI,sy=b.color(ys),_h=(o,r=!1)=>{const t=o/2,e=t-o/4,l=t-o/6,u=b.PI/20,h=b.PI/5;let n=0,p=0,f=!0;const g=[];for(;n<b.TWO_PI;){f&&r?p=b.random(e,l):p=b.random(l,t);const m=b.cos(n)*p,i=b.sin(n)*p;g.push(b.createVector(m,i)),n+=b.random(u,h),f=!f}return g},sa=(o,r,t,e=oy,l=sy)=>{b.push(),b.translate(o,r),b.rotate(e),b.strokeWeight(1),b.stroke(Rt),b.fill(l),b.beginShape();for(const u of t)b.vertex(u.x,u.y);b.endShape(b.CLOSE),b.pop()};class Sh extends Hn{constructor(t,e,l,u,h,n,p,f={}){super(t,e,l,u,h,n,p,f);G(this,"rockVertices");this.rockVertices=_h(u,f.spikyRocks??!1)}show(){sa(this.pos.x,this.pos.y,this.rockVertices)}}class ol extends Sh{constructor(t,e,l,u,h,n,p,f={}){super(t,e,l,u,h,n,p,f);G(this,"explosionRadius");G(this,"explosionVisualDuration");G(this,"explosionColor");this.explosionRadius=f.explosionRadius??He/2,this.explosionVisualDuration=f.explosionVisualDuration??3,this.explosionColor=f.explosionColor??Cn}hit(t){if(this.pierce<=0)return;tt.addVisual(oa(this.pos,this.explosionRadius*2,this.explosionVisualDuration,b.color(this.explosionColor)));const e=Nt.inRangeCircle(this.pos,this.explosionRadius);for(const l of e){const u=this.damage*(b.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(l);l.takeDamage(new fr(this.damageType,u));for(let h=0;h<this.statuses.length;h++)l.applyStatus(this.statuses[h])}this.extraActionOnHit&&this.extraActionOnHit({pos:this.pos,radius:this.explosionRadius}),this.pierce--}}const iy=(o="KoboldTeamwork")=>new ho(o,r=>{r.name===Tr.name&&(r.cooldownBuffsAdditive.push(-5),r.rangeBuffsAdditive.push(He),r.maxSpoolHeatBuffsAdditive.push(500),r.recalcCooldownBuffs(),r.recalcRangeBuffs(),r.recalcHeatBuffs())},r=>{r.name===Tr.name&&(pn(-5,r.cooldownBuffsAdditive),pn(He,r.rangeBuffsAdditive),pn(500,r.maxSpoolHeatBuffsAdditive),r.recalcCooldownBuffs(),r.recalcRangeBuffs(),r.recalcHeatBuffs())},(r,t)=>t,(r,t)=>t),ay=(o="KoboldFriends",r=250)=>new ho(o,t=>{t.damageBuffsMultiplicative.push(1.5),t.rangeBuffsAdditive.push(He*.2),t.recalcRangeBuffs(),t.recalcDamageBuffs()},t=>{pn(1.5,t.damageBuffsMultiplicative),pn(He*.2,t.rangeBuffsAdditive),t.recalcRangeBuffs(),t.recalcDamageBuffs()},(t,e)=>e,(t,e)=>e,r);class ly extends Rn{constructor(t,e,l,u,h,n,p,f,g,m,i){super(t,e,l,u,h,Tr.name,n,p,f,g,m,i);G(this,"currentMaxCooldown");G(this,"lowestCooldown");G(this,"baseLowestCooldown");G(this,"lowestCooldownBuffsAdditive");G(this,"spoolHeat");G(this,"baseMaxSpoolHeat");G(this,"maxSpoolHeat");G(this,"maxSpoolHeatBuffsAdditive");G(this,"explosionRadius");G(this,"heatGenerationSpeed");G(this,"heatPerDamage");G(this,"spikyRocks");G(this,"extraDamageCalc",t=>0);this.currentMaxCooldown=g,this.lowestCooldown=Tr.lowestCooldown,this.baseLowestCooldown=Tr.lowestCooldown,this.lowestCooldownBuffsAdditive=[],this.spoolHeat=0,this.maxSpoolHeat=Tr.maxSpoolHeat,this.baseMaxSpoolHeat=Tr.maxSpoolHeat,this.maxSpoolHeatBuffsAdditive=[],this.heatGenerationSpeed=1,this.heatPerDamage=30,this.explosionRadius=He/2,this.spikyRocks=!1}showSymbol(t=this.pos){b.push(),b.fill(Xl(nn,ih,this.spoolHeat/1e3)),hh(t.x,t.y,this.size,this.lastShotAngle),b.pop()}update(){return this.currentCooldown--,this.currentCooldown<=0&&(this.shoot()?(this.currentCooldown=this.currentMaxCooldown,this.spoolHeat+=b.max(this.cooldown-this.currentMaxCooldown,0)*this.heatGenerationSpeed,this.currentMaxCooldown=b.max(this.currentMaxCooldown-5,this.lowestCooldown),this.spoolHeat>this.maxSpoolHeat&&this.resetSpool()):this.resetSpool(),this.updateRange()),this.lastShotAngle-=.002*(Tr.cooldown-this.currentMaxCooldown+10),this.ultCurrentCooldown--,this.handleBuffs(),!0}updateRange(){this.recalcRangeBuffs()}resetSpool(){this.currentMaxCooldown=this.cooldown,this.spoolHeat=0}getProjectile(t,e){return new Sh(this,this.pos.copy(),t,this.projectileSize,this.getDamage(),"PHYSICAL",e,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,spikyRocks:this.spikyRocks,extraDamageCalc:this.extraDamageCalc})}baseShoot(){const t=Nt.inRangeCircle(this.pos,this.range);if(t.length<1)return;let e=0,l=this.range**2;for(let g=0;g<t.length;g++){const m=zt(t[g].pos,this.pos);m<l&&(l=m,e=g)}const u=t[e],h=this.range/this.projectileSpeed,n=u.pos.copy();for(let g=1;g<=h&&(n.add(u.vel),!(zt(n,this.pos)<(this.projectileSpeed*g)**2));g++);const p=ct.Vector.sub(n,this.pos);return p.setMag(this.projectileSpeed),this.getProjectile(p,h)}shoot(){const t=this.baseShoot();if(t===void 0)return!1;tt.addProjectile(t);const e=this.projectileNumber-1,l=b.PI;for(let u=0;u<e;u++){const h=b.random(-l,l),n=ct.Vector.fromAngle(h);n.setMag(t.vel.mag());const p=[];for(let g=0;g<t.statuses.length;g++)p.push(t.statuses[g].copy());const f=this.getProjectile(n,t.lifeSpan);tt.addProjectile(f)}return!0}recalcCooldownBuffs(){super.recalcCooldownBuffs(),this.lowestCooldown=this.baseLowestCooldown;for(const t of this.lowestCooldownBuffsAdditive)this.lowestCooldown+=t}recalcHeatBuffs(){this.maxSpoolHeat=this.baseMaxSpoolHeat;for(const t of this.maxSpoolHeatBuffsAdditive)this.maxSpoolHeat+=t}findAllConnected(){const t=[this],e=[],l=[];for(;t.length>0;){const u=t[0],h=ae.getNeighbors(u.r,u.q);for(const n of h)!n.isTower||ae.hexInArray(n,[...e,...t])||(l.push(n),n.name===this.name?t.push(n):e.push(n));e.push(u),t.splice(0,1)}return l}}const uy=(o,r={})=>new ly(o.pos.x,o.pos.y,o.r,o.q,o.size,Tr.range,Tr.damage,Tr.projectileSpeed,Tr.cooldown,Tr.cost,{color:b.color(Tr.rgb),wall:!0,isTower:!0,towerId:Tr.id,type:o.type,data:o.data,spendValue:r.changedCost??Tr.cost,upgrades:{A:new Oe("A","Bigger Rocks",200,"Bigger rock deal more damage, and hit slightly easier. Not really rocket science is it.",t=>{t.increaseDamage(15),t.projectileSize+=He/4},!0),B:new Oe("B","Fans",300,"The type that cools you off, not the type that brings the heat.",t=>{t.maxSpoolHeat+=350,t.baseMaxSpoolHeat+=350},!0),C:new Oe("C","Balanced Speed",250,"Longest cooldown is faster, because control is king.",t=>{t.cooldown-=10,t.baseCooldown-=10},!0),"A+":new Oe("A+","Spiky Rocks",550,"Hand selected spiky rocks, spikier than normal rocks, the spikiest really!",t=>{t.increaseDamage(25),t.spikyRocks=!0}),"B+":new Oe("B+","Heat Sink",1100,"A giant heat sink, allowing the kobold to fire at maximum speed for a long time.",t=>{t.maxSpoolHeat+=1400,t.baseMaxSpoolHeat+=1400}),"C+":new Oe("C+","Min Maxing",550,"Optimize your spool, increase both the minimum and maximum speed.",t=>{t.cooldown-=10,t.baseCooldown-=10,t.lowestCooldown-=10,t.baseLowestCooldown-=10,t.recalcCooldownBuffs()}),AB:new Oe("AB","Packing Heat",650,"Packs the rocks with explosive powder, dealing damage in a small area around the impact.",t=>{t.explosionRadius+=He/2,t.getProjectile=(e,l)=>new ol(t,t.pos.copy(),e,t.projectileSize,t.getDamage(),"EXPLOSION",l,{color:t.projectileColor,pierce:t.projectilePierce,critChance:t.critChance,critMultiplier:t.critMultiplier,explosionRadius:t.explosionRadius,spikyRocks:t.spikyRocks,extraDamageCalc:t.extraDamageCalc})}),BC:new Oe("BC","Harness the Heat",1200,"As the spool heats up the rocks get hotter and fire faster, dealing increased damage.",t=>{t.heatPerDamage-=5,t.getDamage=()=>t.damage+t.spoolHeat/t.heatPerDamage}),CA:new Oe("CA","Bully",600,"Deal extra damage based on missing health of your target. Like the big man you are.",t=>{t.extraDamageCalc=e=>{const l=1-e.hp/e.maxHp;return t.getDamage()*l}}),"AB+":new Oe("AB+","Agent of chaos",666,"Bigger explosions, extra rocks, and juicy crits, let chaos reign!",t=>{t.critChance+=.15,t.critMultiplier+=1.6,t.explosionRadius+=He/2,t.projectileNumber+=1,t.getProjectile=(e,l)=>new ol(t,t.pos.copy(),e,t.projectileSize,t.getDamage(),"EXPLOSION",l,{color:t.projectileColor,pierce:t.projectilePierce,critChance:t.critChance,critMultiplier:t.critMultiplier,explosionRadius:t.explosionRadius,spikyRocks:t.spikyRocks,extraDamageCalc:t.extraDamageCalc})}),"BC+":new Oe("BC+","It's a Feature",1800,"The Kobold incorporates heat generation in all aspects of the catapults desgin, increasing heat generation, but also damage and range at higher heat.",t=>{t.heatGenerationSpeed+=1,t.heatPerDamage-=5,t.getDamage=()=>t.damage+t.spoolHeat/t.heatPerDamage,t.updateRange=()=>{t.recalcRangeBuffs(),t.range+=t.spoolHeat/500*He}}),"CA+":new Oe("CA+","Team-up",1e3,"Helps out all adjecent Kobolds, Let's work together to stomp those pesky heroes!",t=>{const e=ae.getNeighbors(t.r,t.q);for(const l of e){const u=iy();l.applyBuff(u),t.buffsThisApplied.push(u)}t.onSell=()=>{const l=ae.getNeighbors(t.r,t.q);for(const u of t.buffsThisApplied)for(const h of l)h.removeBuff(u.id)}}),"AB++":new Oe("AB++","Chaos Incarnate",2800,"More chaos! MOAR!.",t=>{t.critMultiplier+=1.6,t.explosionRadius+=He/2,t.projectileNumber+=2}),"BC++":new Oe("BC++","Miniature Sun",6800,"The Kobold builds a giant heat sink, resembling a miniature sun, building power to an overwhelming degree, until it fails... And then you do it all over again.",t=>{t.maxSpoolHeat+=5500,t.baseMaxSpoolHeat+=5500,t.increaseDamage(10),t.projectileSpeed+=yt*5}),"CA++":new Oe("CA++","Kobold And Friends (Ability)",3350,"Together we are unstoppable! Buffs every tower connected to himself via Kobolds for a short time.",t=>{t.ultCooldown=Gs,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{const e=t.findAllConnected();for(const l of e){const u=ay();l.applyTimedBuff(u)}},t.shouldShowUltCooldown=()=>{t.showUltCooldown()}})}}),Th=(o,r,t,e=25,l=b.color(ls))=>new so(o,t,e,l,[],u=>{b.push();const h=uo(l);h.setAlpha(u.duration*10),b.stroke(h),b.strokeWeight(u.size),b.point(u.pos),b.pop()},()=>{},r);class cy extends ol{constructor(r,t,e,l,u,h,n,p={}){super(r,t,e,l,u,h,n,p),this.explosionRadius=p.explosionRadius??He*2}show(){b.push(),sa(this.pos.x,this.pos.y,this.rockVertices),b.fill(this.color),Bo(this.pos.x,this.pos.y-this.size/2,this.size),b.pop()}update(){return this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0),this.lifeSpan--,this.lifeSpan===0&&this.hit(this.lifeSpan),this.lifeSpan<=0||this.pierce<=0}}class dy extends Hn{constructor(t,e,l,u,h,n,p,f={}){super(t,e,l,u,h,n,p,f);G(this,"width");G(this,"corners");this.width=f.width??3,this.corners=[],this.setCorners()}setCorners(){const t=this.vel.heading(),e=this.vel.copy();e.setMag(-this.size/2);const l=ct.Vector.fromAngle(t+b.PI/2);l.setMag(this.width*this.size/2),this.corners.push(ct.Vector.add(l,e)),l.mult(-1),this.corners.push(ct.Vector.add(l,e)),e.mult(-1),this.corners.push(ct.Vector.add(l,e)),l.mult(-1),this.corners.push(ct.Vector.add(l,e))}show(){const t=this.vel.heading(),e=ct.Vector.fromAngle(t+b.PI/2),l=t-b.PI/2;b.push(),b.strokeWeight(1),b.fill(this.color);for(let u=this.width-1;u>=0;u--)for(let h=0;h<2;h++){e.setMag(this.size/2*-u);const n=this.pos.x+e.x+b.random(-this.size/16,this.size/16),p=this.pos.y+e.y+b.random(-this.size/16,this.size/16);Bo(n,p,this.size,l)}b.pop()}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const t=[];for(const l of this.corners)t.push(b.createVector(l.x+this.pos.x,l.y+this.pos.y));const e=Nt.inRangeRotatedRect(t);for(const l of e)this.hit(l);return this.extraActionOnMove({pos:this.pos,corners:t}),this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}}class Eh extends Hn{constructor(r,t,e,l,u,h,n,p={}){super(r,t,e,l,u,h,n,p),this.color=p.color??b.color(ls)}show(){b.push(),b.noStroke(),b.fill(this.color);let r=b.PI/2;for(let t=0;t<6;t++){r+=b.PI/3;const e=this.pos.x+b.cos(r)*this.size*2/3,l=this.pos.y+b.sin(r)*this.size*2/3;Bo(e,l,this.size/2,0,0)}Bo(this.pos.x,this.pos.y,this.size/2,0,0),b.pop()}update(){const r=Nt.inRangeCircle(this.pos,this.size);for(const t of r){if(this.lifeSpan<1)break;t.takeDamage(new fr(this.damageType,this.damage));for(const e of this.statuses)t.applyStatus(e);this.lifeSpan--}if(this.lifeSpan-=10,this.lifeSpan<1){const t=ae.getHexVectorFromXY(this.pos.x,this.pos.y),e=ae.grid[t.x][t.y];delete e.appliedEffects.burningLand}return this.lifeSpan<1}}class hy extends Rn{constructor(t,e,l,u,h,n,p,f,g,m,i){super(t,e,l,u,h,Mt.name,n,p,f,g,m,i);G(this,"cometCooldown");G(this,"currentCometCooldown");G(this,"wallCooldown");G(this,"currentWallCooldown");G(this,"flameThrowerAngle");G(this,"fireColor");G(this,"flameColor");G(this,"wallRange");G(this,"baseWallRange");G(this,"cometRange");G(this,"baseCometRange");G(this,"wallDamage");G(this,"baseWallDamage");G(this,"cometDamage");G(this,"baseCometDamage");G(this,"cometExplosionRadius");G(this,"baseWallSize");G(this,"wallWidthMultiplier");G(this,"wallPierce");G(this,"ultInProgress");G(this,"burnDamage");G(this,"baseBurnDamage");G(this,"burnDuration");G(this,"burnPanicSpeedIncrease");G(this,"pushForce");G(this,"extraDamageCalc",t=>0);G(this,"extraActionOnHit",t=>{for(let e of this.extraActionsOnHit)e(t)});G(this,"extraActionOnMove",t=>{for(let e of this.extraActionsOnMove)e(t)});this.cometCooldown=Mt.cometCooldown,this.currentCometCooldown=Mt.cometCooldown/2,this.wallCooldown=Mt.wallCooldown,this.currentWallCooldown=Mt.wallCooldown/2,this.flameThrowerAngle=Mt.flameThrowerAngle,this.fireColor=Mt.rgb,this.flameColor=Mt.flameRgb,this.wallRange=Mt.wallRange,this.baseWallRange=Mt.wallRange,this.cometRange=Mt.cometRange,this.baseCometRange=Mt.cometRange,this.wallDamage=Mt.wallDamage,this.baseWallDamage=Mt.wallDamage,this.cometDamage=Mt.cometDamage,this.baseCometDamage=Mt.cometDamage,this.cometExplosionRadius=Mt.cometExplosionRadius,this.baseWallSize=Mt.baseWallSize,this.wallWidthMultiplier=Mt.wallWidthMultiplier,this.wallPierce=Mt.wallPierce,this.burnDamage=Mt.burnDamage,this.baseBurnDamage=Mt.burnDamage,this.burnDuration=Mt.burnDuration,this.burnPanicSpeedIncrease=Mt.burnPanicSpeedIncrease,this.pushForce=Mt.pushForce,this.ultInProgress=0}showSymbol(t=this.pos){b.push(),b.fill(this.flameColor),Bo(t.x,t.y,this.size),b.pop()}showRange(){b.push();let t=85;t=this.showCometRange(t),t=this.showWallRange(t);const e=uo(this.color);e.setAlpha(t),b.fill(e),b.circle(this.pos.x,this.pos.y,this.range*2),b.pop()}showWallRange(t){return t}showCometRange(t){return t}update(){return this.currentCooldown--,this.currentWallCooldown--,this.currentCometCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.currentWallCooldown<=0&&this.baseWall()&&(this.currentWallCooldown=this.wallCooldown),this.currentCometCooldown<=0&&this.baseComet()&&(this.currentCometCooldown=this.cometCooldown),this.progressUlt(),this.ultCurrentCooldown--,this.handleBuffs(),!0}baseShoot(){const t=Nt.inRangeCircle(this.pos,this.range);if(t.length<1)return;let e=0,l=this.range**2;for(let p=0;p<t.length;p++){const f=zt(t[p].pos,this.pos);f<l&&(l=f,e=p)}const u=t[e],h=(ct.Vector.sub(u.pos,this.pos).heading()+b.TWO_PI)%b.TWO_PI;this.addFlameThrowerParticlesToMaou(h,8);const n=this.getStatuses();for(let p=0;p<t.length;p++){const f=(ct.Vector.sub(t[p].pos,this.pos).heading()+b.TWO_PI)%b.TWO_PI,g=h-f;if(g>-this.flameThrowerAngle&&g<this.flameThrowerAngle){t[p].takeDamage(new fr("FIRE",this.getFlameThrowerDamage()));for(let m=0;m<n.length;m++)t[p].applyStatus(n[m]);this.flameThrowerPush(t[p])}}this.burningLand(u,h)}shoot(){return this.baseShoot(),!0}burningLand(t,e){}applyBurningLand(t,e){const l=ae.getHexVectorFromXY(t.pos.x,t.pos.y),u=ae.grid[l.x][l.y],h=[...ae.getNeighborsArea(u.r,u.q,2),u];for(let n=0;n<h.length;n++){const p=(ct.Vector.sub(h[n].pos,this.pos).heading()+b.TWO_PI)%b.TWO_PI,f=e-p;zt(this.pos,h[n].pos)<this.range**2&&f>-this.flameThrowerAngle&&f<this.flameThrowerAngle&&this.applyBurningLandToTile(h[n])}}applyBurningLandToTile(t){if(!t.canUnit||t.isTower||t.appliedEffects.burningLand)return;const e=this.getBurningTileProjectile(t.pos,Mt.burningLandLifespan);tt.addProjectile(e),t.appliedEffects.burningLand=e}flameThrowerPush(t){}applyFlameThrowerPush(t){const e=ct.Vector.sub(t.pos,this.pos).setMag(.02*this.pushForce);t.applyForce(e)}baseComet(){return!0}shootComet(){const t=Nt.inRangeCircle(this.pos,this.cometRange);if(t.length<1)return!1;let e=0,l=0;for(let h=0;h<t.length;h++){const n=t[h].hp;l<n&&(l=n,e=h)}const u=t[e];return this.shootCometAtTarget(u),!0}shootCometAtTarget(t){const e=t.pos.copy(),l=30;e.add(ct.Vector.mult(t.vel,l));const u=b.createVector(b.windowHeight/4,-b.windowWidth).add(e),h=ct.Vector.sub(e,u);h.mult(1/l);const n=this.getCometProjectile(h,u,l);tt.addProjectile(n)}progressUlt(){}baseWall(){return!0}shootWall(){const t=Nt.inRangeCircle(this.pos,this.wallRange);if(t.length<1)return!1;let e=0,l=this.range**2;for(let g=0;g<t.length;g++){const m=zt(t[g].pos,this.pos);m<l&&(l=m,e=g)}const u=t[e],h=this.wallRange*1.5/this.projectileSpeed,n=u.pos.copy();for(let g=1;g<=h&&(n.add(u.vel),!(zt(n,this.pos)<(this.projectileSpeed*g)**2));g++);const p=ct.Vector.sub(n,this.pos);p.setMag(this.projectileSpeed);const f=this.getWallProjectile(p,this.pos,h);return tt.addProjectile(f),!0}addFlameThrowerParticlesToMaou(t,e){for(let l=0;l<e;l++){const u=ct.Vector.fromAngle(t+b.random(-this.flameThrowerAngle,this.flameThrowerAngle),this.range/b.random(5,15));tt.addVisual(Th(this.pos,u,5,b.random(8,15),uh(this.fireColor,this.flameColor)))}}getCometProjectile(t,e,l){return new cy(this,e,t,this.projectileSize*2,this.getCometDamage(),"EXPLOSION",l,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,explosionRadius:this.cometExplosionRadius,explosionColor:this.flameColor,explosionVisualDuration:4,statuses:this.getStatuses()})}getWallProjectile(t,e,l){return new dy(this,e,t,this.baseWallSize,this.getWallDamage(),"FIRE",l,{color:this.projectileColor,pierce:this.wallPierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnMove:this.extraActionOnMove,extraActionOnHit:this.extraActionOnHit,width:this.wallWidthMultiplier,statuses:this.getStatuses()})}getBurningTileProjectile(t,e){const l=[...this.flameColor,80];return new Eh(this,t,b.createVector(0,0),He,this.getDamage(),"FIRE",e,{color:b.color(l),statuses:this.getStatuses()})}getFlameThrowerDamage(){return this.damage}getCometDamage(){return this.cometDamage}getWallDamage(){return this.wallDamage}getStatuses(){return[]}getBurn(){return yh(this.burnDamage,this.burnDuration,this.burnPanicSpeedIncrease)}increaseCometRange(t){this.cometRange+=t,this.baseCometRange+=t}increaseWallRange(t){this.wallRange+=t,this.baseWallRange+=t}increaseCometDamage(t){this.cometDamage+=t,this.baseCometDamage+=t}increaseWallDamage(t){this.wallDamage+=t,this.baseWallDamage+=t}increaseBurnDamage(t){this.burnDamage+=t,this.baseBurnDamage+=t}recalcDamageBuffs(){super.recalcDamageBuffs(),this.cometDamage=this.baseCometDamage;for(const t of this.damageBuffsMultiplicative)this.cometDamage*=t;this.wallDamage=this.baseWallDamage;for(const t of this.damageBuffsMultiplicative)this.wallDamage*=t;this.burnDamage=this.baseBurnDamage;for(const t of this.damageBuffsMultiplicative)this.burnDamage*=t}recalcRangeBuffs(){super.recalcRangeBuffs(),this.cometRange=this.baseCometRange,this.wallRange=this.baseWallRange;for(const t of this.rangeBuffsAdditive)this.cometRange+=t,this.wallRange+=t;for(const t of this.rangeBuffsMultiplicative)this.cometRange*=t,this.wallRange*=t}}const fy=(o,r={})=>new hy(o.pos.x,o.pos.y,o.r,o.q,o.size,Mt.range,Mt.damage,Mt.projectileSpeed,Mt.cooldown,Mt.cost,{color:b.color(Mt.rgb),projectileColor:Mt.flameRgb,wall:!0,isTower:!0,towerId:Mt.id,type:o.type,data:o.data,spendValue:r.changedCost??Mt.cost,upgrades:{A:new Oe("A","Hotter Fire",800,"They die quicker, so it's a mercy really.",t=>{t.increaseDamage(1),t.increaseWallDamage(30)},!0),B:new Oe("B","Wide Flame",600,"Increase the area of effect radius of the Pyromaniac.",t=>{t.flameThrowerAngle+=b.PI/12},!0),C:new Oe("C","Burning Vision",500,"Slightly increases range. I have a vision, of a world where no hero goes unburned.",t=>{t.increaseRange(He*.25),t.increaseCometRange(He)},!0),"A+":new Oe("A+","Blue Flame",3600,"Blue flames are both hotter and cooler.",t=>{t.increaseDamage(2),t.increaseCometDamage(400),t.increaseWallDamage(50),t.projectileColor=b.color(jc),t.fireColor=eh,t.flameColor=jc}),"B+":new Oe("B+","Inferno Grande",2050,"Increases the size of the Pyromaniacs flames even further. There is no escaping the infero!",t=>{t.flameThrowerAngle+=b.PI/12,t.cometExplosionRadius+=He,t.wallWidthMultiplier+=2}),"C+":new Oe("C+","See The World",1750,"increase Pyromaniac range even more.",t=>{t.increaseRange(He*.25),t.increaseCometRange(He*1.5),t.increaseWallRange(He*1.5)}),AB:new Oe("AB","Comet",1850,"Shoots a mighty comet from the sky, dealing devastating damage in a large area.",t=>{t.baseComet=()=>t.shootComet(),t.showCometRange=e=>{const l=uo(t.color);return l.setAlpha(e),b.fill(l),b.circle(t.pos.x,t.pos.y,t.cometRange*2),e-40}}),BC:new Oe("BC","Flame Wall",2300,"Shoots out a wall of flames that moves slowly towards its target.",t=>{t.baseWall=()=>t.shootWall(),t.showWallRange=e=>{const l=uo(t.color);return l.setAlpha(e),b.fill(l),b.circle(t.pos.x,t.pos.y,t.wallRange*2),e-40}}),CA:new Oe("CA","Feel The Burn",2100,"Inflicts every enemy hit with a burning status effect.",t=>{t.increaseBurnDamage(1),t.burnDuration+=30,t.getStatuses=()=>[t.getBurn()]}),"AB+":new Oe("AB+","Inner Fire",3900,"The Pyromaniac builds their inner fire, increasing damage dealt based on attack cooldown.",t=>{t.increaseDamage(t.cooldown),t.increaseWallDamage(t.wallCooldown/2),t.increaseCometDamage(t.cometCooldown/2)}),"BC+":new Oe("BC+","Expulsion",1800,"Fire hits enemies with such force they are thrown backwards.",t=>{t.flameThrowerPush=e=>{t.applyFlameThrowerPush(e)},t.extraActionsOnHit.push(e=>{if("target"in e){const u=e.vel.copy().setMag(t.pushForce);e.target.applyForce(u);return}const l=Nt.inRangeCircle(e.pos,e.radius);for(const u of l){const h=ct.Vector.sub(u.pos,e.pos).setMag(t.pushForce);u.applyForce(h)}})}),"CA+":new Oe("CA+","Hell Fire",3250,"The flames of hell burn brighter, longer, and cause more panic than beofer.",t=>{t.burnDuration+=50,t.increaseBurnDamage(1),t.burnPanicSpeedIncrease+=.5,t.getStatuses=()=>[t.getBurn()]}),"AB++":new Oe("AB++","Apocalypse (Ability)",6500,"Pyromaniac rains down countless comets, cleansing the world in the fires of apocalypse.",t=>{t.ultCooldown=Gs,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{t.progressUlt=()=>{if(t.ultInProgress<=0&&(t.progressUlt=()=>{}),qt.units.length<1)return;const e=b.random(qt.units);t.shootCometAtTarget(e),t.ultInProgress--},t.ultInProgress=30},t.shouldShowUltCooldown=()=>{t.showUltCooldown()}}),"BC++":new Oe("BC++","Isolationism",5500,"Don't allow anything near, flames hit harder and with more force. Also increases wall pierce and comet explosion radius a bit.",t=>{t.increaseDamage(1),t.increaseWallDamage(30),t.increaseCometDamage(200),t.cometExplosionRaidus+=He/2,t.pushForce+=yt*2,t.wallPierce+=7}),"CA++":new Oe("CA++","Burning Earth",13500,"All Pyromaniacs attacks leave burning earth behind, dealing damage and inflicting burn.",t=>{t.burningLand=(e,l)=>{t.applyBurningLand(e,l)},t.extraActionsOnHit.push(e=>{if(!("radius"in e))return;const l=ae.getHexVectorFromXY(e.pos.x,e.pos.y);if(!ae.rqVectorIsOnGrid(l))return;const u=ae.grid[l.x][l.y],h=[...ae.getNeighborsArea(u.r,u.q,2),u];for(let n=0;n<h.length;n++)zt(e.pos,h[n].pos)<e.radius**2&&t.applyBurningLandToTile(h[n])}),t.extraActionsOnMove.push(e=>{const l=ae.getHexVectorFromXY(e.pos.x,e.pos.y);if(!ae.rqVectorIsOnGrid(l))return;const u=ae.grid[l.x][l.y],h=[...ae.getNeighborsArea(u.r,u.q,2),u];for(const n of h)to(e.corners[0],e.corners[1],n.pos)>0&&to(e.corners[1],e.corners[2],n.pos)>0&&to(e.corners[2],e.corners[3],n.pos)>0&&to(e.corners[3],e.corners[0],n.pos)>0&&t.applyBurningLandToTile(n)})})}}),py=(o,r,t="UpgradeDiscount")=>new ho(t,e=>{},e=>{},(e,l,u)=>l,(e,l,u)=>{const h=u||e.name;return r&&h!==r?l:b.ceil(l*o)});class my extends Rn{constructor(t,e,l,u,h,n,p,f,g,m,i){super(t,e,l,u,h,Cr.name,n,p,f,g,m,i);G(this,"goldInHoard");G(this,"hoardCapacity");G(this,"hoardFillPerRound");G(this,"hoardInterest");G(this,"hoardFilledThisRound");G(this,"shouldFillHoardThisRound");G(this,"timeOverFullFill");G(this,"framesPerFill");G(this,"currentFrameCount");G(this,"stockMinMultiplier");G(this,"stockMaxMultiplier");G(this,"showCoins");G(this,"neighborBuildDiscount");G(this,"areaUpgradeDiscount");G(this,"tollCost");G(this,"tollId");G(this,"onWaveEnd",()=>{const t=this.calculateRemainingGold();this.addGoldToHoard(t),this.addGoldToHoard(b.floor(this.goldInHoard*this.hoardInterest)),this.addGoldToMaouEveryTime(),this.hoardFilledThisRound=0,this.calcGoldForNextWave(),this.currentFrameCount=0,this.setMenuText()});this.goldInHoard=0,this.hoardCapacity=Cr.hoardCapacity,this.hoardFillPerRound=Cr.hoardFillPerRound,this.hoardInterest=Cr.hoardInterest,this.hoardFilledThisRound=0,this.shouldFillHoardThisRound=this.hoardFillPerRound,this.timeOverFullFill=Cr.timeOverFullFill,this.framesPerFill=this.timeOverFullFill/this.shouldFillHoardThisRound,this.currentFrameCount=0,this.stockMinMultiplier=1,this.stockMaxMultiplier=1.5,this.showCoins=2,this.neighborBuildDiscount=Cr.neighborBuildDiscount,this.areaUpgradeDiscount=Cr.areaUpgradeDiscount,this.tollCost=0,this.tollId=`dragon-toll-${b.random()}`}showSymbol(t=this.pos){b.push(),b.fill(zs),b.strokeWeight(2);const e=this.size*.15;for(let l=0;l<this.showCoins;l++)Xs(t.x-e+e*l,t.y+e-e*l,this.size*.5);b.pop()}update(){return this.currentFrameCount++,this.extractToll(),this.currentFrameCount>=this.framesPerFill&&this.shouldFillHoardThisRound>this.hoardFilledThisRound&&(this.addGoldToHoard(1),this.hoardFilledThisRound+=1,this.addGoldToMaouEveryTime(),this.currentFrameCount=0),this.ultCurrentCooldown--,this.handleBuffs(),this.setMenuText(),this.usageData.framesExists++,!0}extractToll(){}calculateRemainingGold(){return this.shouldFillHoardThisRound-this.hoardFilledThisRound}calcGoldForNextWave(){this.shouldFillHoardThisRound=this.hoardFillPerRound}addGoldToHoard(t){this.goldInHoard=b.min(this.goldInHoard+t,this.hoardCapacity)}addGoldToMaouEveryTime(){this.addGoldToMaou()}addGoldToMaou(){tt.increaseGold(this.goldInHoard),this.goldInHoard=0}setMenuText(){this.extraMenuShowText=""}}const gy=(o,r={})=>new my(o.pos.x,o.pos.y,o.r,o.q,o.size,Cr.range,Cr.damage,Cr.projectileSpeed,Cr.cooldown,Cr.cost,{color:b.color(Cr.rgb),wall:!0,isTower:!0,towerId:Cr.id,type:o.type,data:o.data,spendValue:r.changedCost??Cr.cost,upgrades:{A:new Oe("A","Excess Lifeforce",1e3,"The magical energies of the hoard are bolstered by the lifeforce of quickly killed heroes, doubling the value of the still uncollected gold at the end of the wave. The faster you kill the more gold you get, for any layman among you.",t=>{t.calculateRemainingGold=()=>(t.shouldFillHoardThisRound-t.hoardFilledThisRound)*2},!0),B:new Oe("B","Money Dump",1200,"By dumping a bunch of money in here, the hoard seems to accept that it's supposed to be bigger, and starts generating more money. Someone should really figure out how this thing works... Not me though, I'm busy killing things.",t=>{t.hoardFillPerRound+=100,t.showCoins+=1},!0),C:new Oe("C","Stocks",600,"How did these even get here? Is there someone in there? Whatever. These investements are nice, if a bit fluid. Increases gold earned per wave randomly by up to 50%.",t=>{t.calcGoldForNextWave=()=>{t.shouldFillHoardThisRound=b.round(t.hoardFillPerRound*b.random(t.stockMinMultiplier,t.stockMaxMultiplier))}},!0),"A+":new Oe("A+","Slow and Steady",1350,"Slows down the hoards money production, giving you more chance to double some leftovers.",t=>{t.timeOverFullFill+=2500}),"B+":new Oe("B+","Money Mountain",5e3,"Give onto the hoard a mountain of money, and the hoard will return it two-fold. Eventually. Further increases money production.",t=>{t.hoardFillPerRound+=300,t.showCoins+=1}),"C+":new Oe("C+","High Risk Trading",2250,"These are some high risk investements. You might get rich quick, or lose it all... Randomly decreases gold earned per wave by up to 50%, or increases it by up to 200%. Are you ready to take a chance and live the good life?",t=>{t.stockMinMultiplier-=.5,t.stockMaxMultiplier+=1.5}),AB:new Oe("AB","Nothing",0,"Still just a barrier.",t=>{}),BC:new Oe("BC","Interesting (Ability)",3500,"The money generated goes to the hoards vault instead of your supply, and the piles in the vault grow ever bigger the more there is. Adds 10% interest to current vault money at the end of the round. Move it into your supply with the ability.",t=>{t.hoardInterest+=.1,t.addGoldToMaouEveryTime=()=>{},t.ultCooldown=1,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{t.addGoldToMaou(),t.setMenuText()},t.shouldShowUltCooldown=()=>{t.showUltCooldown()},t.setMenuText=()=>{t.extraMenuShowText=`Vault: ${t.goldInHoard} / ${t.hoardCapacity}`},t.setMenuText()}),CA:new Oe("CA","Startup Supporter",2500,"The hoard isn't sentient, is it? How can it be developing altruism? This investement in small businesses decreases the build cost of adjecent towers by 50%!",t=>{const e=ae.getNeighbors(t.r,t.q);for(const l of e){const u=vh(t.neighborBuildDiscount);l.applyBuff(u),t.buffsThisApplied.push(u)}t.onSell=()=>{const l=ae.getNeighborsArea(t.r,t.q,2);for(const u of t.buffsThisApplied)for(const h of l)h.removeBuff(u.id)}}),"AB+":new Oe("AB+","Toll Booth",0,"Still just a barrier.",t=>{t.tollCost+=5,t.increaseRange(He*2.3),t.extractToll=()=>{const e=Nt.inRangeCircle(t.pos,t.range);if(!(e.length<1))for(let l=0;l<e.length;l++){const u=e[l].getData(t.tollId),h=e[l].getData("summoned");u!==null||h===!0||(console.log(e[l].data),e[l].addData({[t.tollId]:!0}),t.addGoldToHoard(t.tollCost),t.addGoldToMaouEveryTime())}}}),"BC+":new Oe("BC+","High Ceiling",8e3,"Increases vault size by breaking the ceiling and adding the second floor to the vault, allowing you to store more money. Also slightly increases interest, as if the hoard itself was pleased with its makeover.",t=>{t.hoardInterest+=.05,t.hoardCapacity+=7e3,t.addGoldToMaouEveryTime=()=>{},t.ultCooldown=1,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{t.addGoldToMaou(),t.setMenuText()},t.shouldShowUltCooldown=()=>{t.showUltCooldown()},t.setMenuText=()=>{t.extraMenuShowText=`Vault: ${t.goldInHoard} / ${t.hoardCapacity}`},t.setMenuText()}),"CA+":new Oe("CA+","Dragon Discount",3e3,"The hoard seems to contain all kinds of rare weapons and artifacts that other towers can use, and it seems to be giving them away at a discount. Decreases upgrade costs of towers 2 rings around the hoard by 10%.",t=>{const e=ae.getNeighborsArea(t.r,t.q,2);for(const l of e){const u=py(t.areaUpgradeDiscount);l.applyBuff(u),t.buffsThisApplied.push(u)}t.onSell=()=>{const l=ae.getNeighborsArea(t.r,t.q,2);for(const u of t.buffsThisApplied)for(const h of l)h.removeBuff(u.id)}}),"AB++":new Oe("AB++","Nothing",0,"Still just a barrier.",t=>{}),"BC++":new Oe("BC++","Cavernous Basement",2e4,"It's really not so much cavernous as just a cavern, but whatever. Allows you to store way more money in the vault.",t=>{t.hoardCapacity+=35e3,t.setMenuText()}),"CA++":new Oe("CA++","Nothing",0,"Still just a barrier.",t=>{})}});class Kl extends Hn{constructor(t,e,l,u,h,n,p,f={}){super(t,e,l,u,h,n,p,f);G(this,"splitOnHit");this.splitOnHit=f.splitOnHit??!1}show(){b.push(),b.fill(this.color),Wn(this.pos.x,this.pos.y,this.size),b.pop()}showDebug(){b.stroke(this.color),b.strokeWeight(5),b.point(this.pos.x,this.pos.y)}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const t=this.alreadyHitEnemyIds.length,e=Nt.inRangePath(this.prevPos,this.pos,this.size);for(const l of e)this.hit(l);if(this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0)return!0;if(this.splitOnHit&&this.alreadyHitEnemyIds.length>t)for(let l=0;l<this.alreadyHitEnemyIds.length-t;l++)for(let u=0;u<3;u++){const h=this.copy();h.vel=ct.Vector.random2D().setMag(h.vel.mag()),tt.addProjectile(h)}return!1}copy(){const t=[];for(const l of this.statuses)t.push(l.copy());const e=new Kl(this.origin,this.pos.copy(),this.vel.copy(),this.size,this.damage,this.damageType,this.lifeSpan-1,{color:this.color,pierce:this.pierce-1,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:t,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,extraActionOnMove:this.extraActionOnMove,splitOnHit:this.splitOnHit});return e.alreadyHitEnemyIds=this.alreadyHitEnemyIds,e}}const jh=(o,r,t=1,e="trance",l=250)=>new Dr(e,o,"ON_TAKE_DAMAGE",(u,h,n={damage:new fr("PHYSICAL",0)})=>{const p=n.damage.amount/u.maxHp;b.random()<t*p&&h&&(h.duration=0)},(u,h)=>{b.fill(th),Wn(h.x,h.y,u.size/2)},u=>{u.currentFlowField=r},u=>{u.currentFlowField=u.originalFlowField,u.applyStatus(xh(l,e,"ON_TAKE_DAMAGE"))}),yy=(o,r,t,e=nn,l=0,u=b)=>{const h=t/2,n=t/3;u.push(),u.translate(o,r),u.rotate(l),u.stroke(Rt),u.strokeWeight(2),u.line(0,-h,0,h),u.ellipse(-n*.8,h*.8,h,n),u.strokeWeight(1),u.stroke(e),u.line(-h,-h,h,h),u.line(h,-h,-h,h),u.pop()},vy=(o,r="silence")=>new Dr(r,o,"NORMAL",(t,e,l={damage:new fr("PHYSICAL",0)})=>{for(const u of t.abilityCounters)t[u]++},(t,e)=>{b.fill(Rt),yy(e.x,e.y,t.size/2)},t=>{},t=>{});class by extends Rn{constructor(t,e,l,u,h,n,p,f,g,m,i){super(t,e,l,u,h,jr.name,n,p,f,g,m,i);G(this,"noteColor");G(this,"extraProjectileLifespan");G(this,"pathName");G(this,"pathNameNext");G(this,"tranceDuration");G(this,"breakoutChance");G(this,"splitOnHit");G(this,"extraProjectileAngle");this.noteColor=jr.noteColor,this.extraProjectileLifespan=1,this.extraProjectileAngle=jr.extraProjectileAngle,this.tranceDuration=jr.tranceDuration,this.breakoutChance=jr.breakoutChance,this.pathName=`Siren${b.random()}`,this.pathNameNext=`${this.pathName}Next`,tt.pathsToGenerate.push({origin:[this],name:this.pathName,waterCost:1,stopAfter:10}),this.targetingType=Ln.FIRST,this.splitOnHit=!1}showSymbol(t=this.pos){b.push(),b.fill(this.noteColor),Wn(t.x,t.y,this.size),b.pop()}shoot(){const t=this.baseShoot();if(t===void 0)return!1;const e=b.floor(this.projectileNumber/2)*-1;this.lastShotAngle=t.vel.heading();for(let l=e;l<e+this.projectileNumber;l++){const u=this.lastShotAngle+l*this.extraProjectileAngle,h=ct.Vector.fromAngle(u);h.setMag(t.vel.mag());const n=this.getProjectile(h,t.lifeSpan);tt.addProjectile(n)}return!0}baseShoot(){const t=Nt.inRangeCircle(this.pos,this.range);if(t.length<1)return;const e=$l[this.targetingType].function(this.pos,t),l=this.range/this.projectileSpeed*this.extraProjectileLifespan,u=e.pos.copy();for(let p=1;p<=l&&(u.add(e.vel),!(zt(u,this.pos)<(this.projectileSpeed*p)**2));p++);const h=ct.Vector.sub(u,this.pos);return h.setMag(this.projectileSpeed),this.getProjectile(h,l)}getProjectile(t,e){return new Kl(this,this.pos.copy(),t,this.projectileSize,this.getDamage(),"PHYSICAL",e,{color:b.color(this.noteColor),pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),splitOnHit:this.splitOnHit})}getStatuses(){return[this.getTrance()]}getTrance(){return jh(this.tranceDuration,this.pathNameNext,this.breakoutChance,"trance",250)}getSilence(){return vy(this.tranceDuration,"silence")}onSell(){for(let t=0;t<tt.pathsToGenerate.length;t++)if(tt.pathsToGenerate[t].name===this.pathName){tt.pathsToGenerate.splice(t,1);return}}}const wy=(o,r={})=>new by(o.pos.x,o.pos.y,o.r,o.q,o.size,jr.range,jr.damage,jr.projectileSpeed,jr.cooldown,jr.cost,{color:b.color(jr.rgb),wall:!0,isTower:!0,towerId:jr.id,type:o.type,data:o.data,projectileColor:jr.noteColor,spendValue:r.changedCost??jr.cost,upgrades:{A:new Oe("A","Piercing Voice",300,"Song pierces through its target to the next.",t=>{t.projectilePierce+=1,t.extraProjectileLifespan+=.2},!0),B:new Oe("B","Tireless",550,"If you don't keep singing till you drop you'll never make it in showbizz. Lower cooldown",t=>{t.cooldown-=20,t.baseCooldown-=20},!0),C:new Oe("C","Entancing Song",400,"Increases the duration of the trance, and slightly decreases the chance heroes break out of the spell when damaged.",t=>{t.tranceDuraton+=100,t.breakoutChance-=1},!0),"A+":new Oe("A+","Optimize Acoustics",2100,"Siren magically changes the properties of the space around her to optimize its acoustics. It is honestly kind of a waste to use magic capable of changing physics on something like this, but at least it increases the amount of people who hear her song...",t=>{t.projectilePierce+=2,t.extraProjectileLifespan+=.3,t.increaseRange(He/2)}),"B+":new Oe("B+","Endless Encores",1700,"Song after song, you'll never escape this concert. Even lower cooldown",t=>{t.cooldown-=20,t.baseCooldown-=20}),"C+":new Oe("C+","Unbreakable Obsession",2900,"A song so beautifull it takes ages to break free of its spell. That or a very hard blow to the head.",t=>{t.tranceDutaion+=150,t.breakoutChance-=1}),AB:new Oe("AB","Rock Song",666,"Not all Sirens are into that classical shit. Increases damage",t=>{t.increaseDamage(10)}),BC:new Oe("BC","Authority",2500,"My authority, you will respect it. Siren magically controls the entire area around her, increasing trance duration, lowering breakout chance, and making sure her song always reacher her target.",t=>{t.tranceDutaion+=100,t.breakoutChance-=.5}),CA:new Oe("CA","Crowd Pleaser",3600,"They want to hear, Siren wants to sing more songs, everyone gets what they want.",t=>{t.projectileNumber+=3}),"AB+":new Oe("AB+","Hard Rock",5200,"More rock. More range. More bleeding ears.",t=>{t.increaseDamage(30),t.increaseRange(He),t.noteColor=Kd}),"BC+":new Oe("BC+","Placeholder",0,"Placeholder.",t=>{}),"CA+":new Oe("CA+","Sound Wave",6900,"Every song is like a sound wave. More projectiles, closer together, reaching further.",t=>{t.projectileNumber+=3,t.extraProjectileLifespan+=.2,t.extraProjectileAngle=b.PI/15}),"AB++":new Oe("AB++","Rock The World",6e3,"Siren rocks so hard her song reaches more people then ever. The song is so loud it ruptures eardrums all over, dealing more damage, but sadly breaking the trance, and deaf ears can't be charmed by other Sirens either.",t=>{t.projectilePierce+=1,t.projectileSize+=He/3,t.extraProjectileLifespan+=.3,t.increaseRange(He/2),t.increaseDamage(50),t.projectileNumber+=2,t.getTrance=()=>jh(0,t.pathNameNext,t.breakoutChance,"trance",500)}),"BC++":new Oe("BC++","Chorus",0,"Placeholder.",t=>{t.color=b.color(Dm)}),"CA++":new Oe("CA++","Echo Chamber",7750,"Songs echo around whenever they hit a hero. Look it's a magical song, its echos could work this way.",t=>{t.projectilePierce+=3,t.splitOnHit=!0})}});class xy extends Rn{constructor(t,e,l,u,h,n,p,f,g,m,i,s,a){super(t,e,l,u,h,n,p,f,g,m,i,a);G(this,"burnUpTimer");G(this,"lastWaveCheck");this.burnUpTimer=s,this.lastWaveCheck=qt.waveReader.currentWaveNumber}show(t=this.pos){b.push(),b.stroke(0),b.strokeWeight(2),b.fill(this.color),dr(t.x,t.y,this.size),this.upgradesPurchased>3&&(b.strokeWeight(1),dr(t.x,t.y,this.size-3),this.upgradesPurchased>7&&(b.stroke(0),dr(t.x,t.y,this.size-6))),b.stroke(Rt),b.fill(Do),b.strokeWeight(1);let e=-b.PI/2;for(let l=0;l<b.min(this.burnUpTimer,10);l++){const u=this.pos.x+b.cos(e)*this.size*.7,h=this.pos.y+b.sin(e)*this.size*.7;Ys(u,h,He/10,5),e+=b.TWO_PI/10}this.showSymbol(t),this.shouldShowUltCooldown(),b.pop()}update(){return super.update(),this.lastWaveCheck!==qt.waveReader.currentWaveNumber&&(this.lastWaveCheck=qt.waveReader.currentWaveNumber,this.burnUpTimer--),this.burnUpTimer>0}onSell(){this.spendValue=0,ae.setBuilderTileType(this,ht.UNSTABLE)}}class Ch extends Hn{constructor(t,e,l,u,h,n,p,f={}){super(t,e,l,u,h,n,p,f);G(this,"rockVertices");G(this,"pushForce");G(this,"angle");G(this,"extendLife");this.rockVertices=_h(u),this.pushForce=f.pushForce??0,this.angle=0,this.extendLife=f.extendLife??!1}show(){sa(this.pos.x,this.pos.y,this.rockVertices,this.angle,this.color)}update(){return this.angle+=.01,super.update()}hit(t){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(t.id))return;this.alreadyHitEnemyIds.push(t.id);const e=this.damage*(b.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(t);this.updateOriginUsageDataSingle(t,e),t.takeDamage(new fr(this.damageType,e)),this.extendLife&&t.hp<=0&&this.origin.lastLifeExtension<qt.waveReader.currentWaveNumber&&(this.origin.burnUpTimer++,this.origin.lastLifeExtension=qt.waveReader.currentWaveNumber),t.applyForce(this.vel.copy().setMag(this.pushForce));for(let l=0;l<this.statuses.length;l++)t.applyStatus(this.statuses[l]);this.extraActionOnHit({pos:this.pos,vel:this.vel,target:t}),this.pierce--}}class _y extends Ch{constructor(t,e,l,u,h,n,p,f={}){super(t,e,l,u,h,n,p,f);G(this,"target");G(this,"desiredSpeed");G(this,"maxForce");this.target=f.target??null,this.desiredSpeed=this.vel.mag(),this.maxForce=this.vel.mag()/20}show(){sa(this.pos.x,this.pos.y,this.rockVertices,this.angle,this.color)}update(){this.angle+=.01,(this.target===null||this.alreadyHitEnemyIds.includes(this.target.id)||this.target.hp<=0)&&this.findNewTarget(),this.prevPos=this.pos.copy(),this.vel.add(this.getAccThroughHoming()),this.vel.add(this.acc),this.pos.add(this.vel),this.acc.mult(0);const t=Nt.inRangePath(this.prevPos,this.pos,this.size);for(const e of t)this.hit(e);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}findNewTarget(){const t=Nt.inRangeCircle(this.pos,this.origin.range/3);let e=null,l=99999;const u=this.vel.copy().mult(5);u.add(this.pos);for(const h of t){const n=zt(h.pos,u);n<l&&(l=n,e=h)}this.target=e}getAccThroughHoming(){if(this.target===null)return b.createVector(0,0);const t=ct.Vector.sub(this.target.pos,this.pos);return t.setMag(this.desiredSpeed),t.sub(this.vel),t.limit(this.maxForce),t}}class Sy extends xy{constructor(t,e,l,u,h,n,p,f,g,m,i){super(t,e,l,u,h,Gr.name,n,p,f,g,m,Gr.baseBurnUpDuration,i);G(this,"flameColor");G(this,"pushForce");G(this,"burningLandLifespan");G(this,"homingProjectiles");G(this,"extendLifeOnKill");G(this,"lastLifeExtension");this.flameColor=Gr.flameRgb,this.pushForce=0,this.burningLandLifespan=0,this.homingProjectiles=!1,this.extendLifeOnKill=!1,this.lastLifeExtension=qt.waveReader.currentWaveNumber-1}showSymbol(t=this.pos){b.push(),b.fill(this.flameColor),mh(t.x,t.y,this.size,this.lastShotAngle),b.pop()}update(){return this.lastShotAngle-=.017,super.update()}baseShoot(t=0){const e=ct.Vector.fromAngle(t);e.setMag(this.projectileSpeed);const l=this.range/this.projectileSpeed,u=this.getMagmaBlobProjectile(e,l);tt.addProjectile(u)}shoot(){for(let t=0;t<this.projectileNumber;t++){const e=this.lastShotAngle+b.TWO_PI*(t/this.projectileNumber);this.baseShoot(e)}return!0}getMagmaBlobProjectile(t,e){return new Ch(this,this.pos,t,this.projectileSize,this.getDamage(),"FIRE",e,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),pushForce:this.pushForce,extendLife:this.extendLifeOnKill})}getDamage(){return this.damage}getStatuses(){return[]}applyBurningLandToTile(t){if(!t.canUnit||t.isTower||t.appliedEffects.burningLand)return;const e=this.getBurningTileProjectile(t.pos,this.burningLandLifespan);tt.addProjectile(e),t.appliedEffects.burningLand=e}getBurningTileProjectile(t,e){const l=[...this.flameColor,80];return new Eh(this,t,b.createVector(0,0),He,this.getDamage(),"FIRE",e,{color:b.color(l),statuses:this.getStatuses()})}}const Ty=(o,r={})=>new Sy(o.pos.x,o.pos.y,o.r,o.q,o.size,Gr.range,Gr.damage,Gr.projectileSpeed,Gr.cooldown,Gr.cost,{color:b.color(Gr.rgb),projectileColor:Gr.flameRgb,wall:!0,isTower:!0,towerId:Gr.id,type:o.type,data:o.data,spendValue:r.changedCost??Gr.cost,upgrades:{A:new Oe("A","Short Fuse",200,"The Wyrms anger about its unfair position in life heats up its shots, increasing damage.",t=>{t.burnUpTimer+=1,t.increaseDamage(15)},!0),B:new Oe("B","Stability",150,"The Wyrm embraces a stable lifestyle, decent job, happy family, little wyrm on the way. Pushes away the inevitable demise a bit.",t=>{t.burnUpTimer+=3},!0),C:new Oe("C","Vision",250,"Wyrm has a vision for the future, and whishes to share it with as many heroes as possible while it is still able.",t=>{t.burnUpTimer+=1,t.range+=He,t.baseRange+=He},!0),"A+":new Oe("A+","Burning Hatred",500,"Wyrms hatred burns brighter than a thousand suns.",t=>{t.burnUpTimer+=1,t.increaseDamage(20)}),"B+":new Oe("B+","Controlled Entropy",550,"The wyrm masters entropic decay to delay the inevitable even longer.",t=>{t.burnUpTimer+=6}),"C+":new Oe("C+","Longing Gaze",400,"Wyrm wants to see as much of the world as possible before the end.",t=>{t.burnUpTimer+=1,t.range+=He,t.baseRange+=He}),AB:new Oe("AB","Loniliness",450,"Wyrm pushes everyone away, unable to accept company in the face of its approaching doom.",t=>{t.pushForce+=yt*1.5}),BC:new Oe("BC","The Other End",700,"More projectiles is better, just don't ask where they are coming from, seriously, don't.",t=>{t.projectileNumber+=1}),CA:new Oe("CA","Live Fast",600,"Live fast and dangerous is this Wyrms motto. Faster firing, but at the cost of a shorter life.",t=>{t.cooldown-=4,t.baseCooldown-=4,t.burnUpTimer-=1}),"AB+":new Oe("AB+","Heat Seeking Heroes",950,"The heroes look for a comforting and warm magma blob to the face, or well, that's what Wyrm tells himself.",t=>{t.getMagmaBlobProjectile=(e,l)=>new _y(t,t.pos,e,t.projectileSize,t.getDamage(),"FIRE",l*1.2,{color:t.projectileColor,pierce:t.projectilePierce,critChance:t.critChance,critMultiplier:t.critMultiplier,statuses:t.getStatuses(),pushForce:t.pushForce,extendLife:t.extendLifeOnKill})}),"BC+":new Oe("BC+","Dubble Or Nothing",1150,"Dubbles the amount of magma blobs fired.",t=>{t.projectileNumber+=2}),"CA+":new Oe("CA+","Yolo",800,"Wyrm puts its everything into firing faster and harder, you only live once, so you gotta take as many as possible with you.",t=>{t.cooldown-=4,t.baseCooldown-=4,t.increaseDamage(10),t.burnUpTimer-=1}),"AB++":new Oe("AB++","Lease On Life",3e3,"Through dark deals best not spoken of, thought Wyrm is not really capable of speaking to begin with, Wyrm extends his life by one wave, on his first kill of every wave.",t=>{t.burnUpTimer+=2,t.extendLifeOnKill=!0}),"BC++":new Oe("BC++","Solitude",1600,"Keeps all away, awaiting the end in fiery solitude.",t=>{t.projectileNumber+=5,t.projectilePierce+=2,t.range+=He/2,t.baseRange+=He/2}),"CA++":new Oe("CA++","Curtain Call",1500,'"When the darkness comes, I will not go alone." Creates a devastating explosion when the Wyrm dies, leaving nothing but fire in its wake. Also allows to call the curtain early through the ult.',t=>{t.ultCooldown=1,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{t.burnUpTimer=0},t.shouldShowUltCooldown=()=>{t.showUltCooldown()},t.onSell=()=>{t.spendValue=0,ae.setBuilderTileType(t,ht.UNSTABLE),t.burningLandLifespan=5e3;const e=ae.getNeighborsArea(t.r,t.q,3);for(const l of e)t.applyBurningLandToTile(l);t.damage=1e3,t.projectileNumber=50,t.projectilePierce=10,t.projectileSize+=He,t.range=He*20,t.shoot()}})}});class Ey{constructor(){}static getTower(r,t,e={}){switch(typeof r=="string"?parseInt(r):r){case It.BARRIER:return Ac(t,e);case It.ARCHER:return Pg(t,e);case It.ARACHNE:return Xg(t,e);case It.PLAGUE:return ty(t,e);case It.GRAVI:return ny(t,e);case It.KOBOLD:return uy(t,e);case It.PYRO:return fy(t,e);case It.DRAGON_HOARD:return gy(t,e);case It.SIREN:return wy(t,e);case It.MAGMA_WYRM:return Ty(t,e);default:console.log("Wrong input");break}return Ac(t,e)}}function Mh(o,r){return function(){return o.apply(r,arguments)}}const{toString:Rh}=Object.prototype,{getPrototypeOf:Ql}=Object,Zl=(o=>r=>{const t=Rh.call(r);return o[t]||(o[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),zn=o=>(o=o.toLowerCase(),r=>Zl(r)===o),ia=o=>r=>typeof r===o,{isArray:bs}=Array,$s=ia("undefined");function jy(o){return o!==null&&!$s(o)&&o.constructor!==null&&!$s(o.constructor)&&co(o.constructor.isBuffer)&&o.constructor.isBuffer(o)}const Ah=zn("ArrayBuffer");function Cy(o){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(o):r=o&&o.buffer&&Ah(o.buffer),r}const My=ia("string"),co=ia("function"),Ph=ia("number"),Jl=o=>o!==null&&typeof o=="object",Ry=o=>o===!0||o===!1,yi=o=>{if(Zl(o)!=="object")return!1;const r=Ql(o);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},Ay=zn("Date"),Py=zn("File"),Oy=zn("Blob"),ky=zn("FileList"),Dy=o=>Jl(o)&&co(o.pipe),Ly=o=>{const r="[object FormData]";return o&&(typeof FormData=="function"&&o instanceof FormData||Rh.call(o)===r||co(o.toString)&&o.toString()===r)},Iy=zn("URLSearchParams"),By=o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qs(o,r,{allOwnKeys:t=!1}={}){if(o===null||typeof o>"u")return;let e,l;if(typeof o!="object"&&(o=[o]),bs(o))for(e=0,l=o.length;e<l;e++)r.call(null,o[e],e,o);else{const u=t?Object.getOwnPropertyNames(o):Object.keys(o),h=u.length;let n;for(e=0;e<h;e++)n=u[e],r.call(null,o[n],n,o)}}function Oh(o,r){r=r.toLowerCase();const t=Object.keys(o);let e=t.length,l;for(;e-- >0;)if(l=t[e],r===l.toLowerCase())return l;return null}const kh=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Dh=o=>!$s(o)&&o!==kh;function sl(){const{caseless:o}=Dh(this)&&this||{},r={},t=(e,l)=>{const u=o&&Oh(r,l)||l;yi(r[u])&&yi(e)?r[u]=sl(r[u],e):yi(e)?r[u]=sl({},e):bs(e)?r[u]=e.slice():r[u]=e};for(let e=0,l=arguments.length;e<l;e++)arguments[e]&&Qs(arguments[e],t);return r}const Ny=(o,r,t,{allOwnKeys:e}={})=>(Qs(r,(l,u)=>{t&&co(l)?o[u]=Mh(l,t):o[u]=l},{allOwnKeys:e}),o),Uy=o=>(o.charCodeAt(0)===65279&&(o=o.slice(1)),o),Fy=(o,r,t,e)=>{o.prototype=Object.create(r.prototype,e),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:r.prototype}),t&&Object.assign(o.prototype,t)},Vy=(o,r,t,e)=>{let l,u,h;const n={};if(r=r||{},o==null)return r;do{for(l=Object.getOwnPropertyNames(o),u=l.length;u-- >0;)h=l[u],(!e||e(h,o,r))&&!n[h]&&(r[h]=o[h],n[h]=!0);o=t!==!1&&Ql(o)}while(o&&(!t||t(o,r))&&o!==Object.prototype);return r},Gy=(o,r,t)=>{o=String(o),(t===void 0||t>o.length)&&(t=o.length),t-=r.length;const e=o.indexOf(r,t);return e!==-1&&e===t},Hy=o=>{if(!o)return null;if(bs(o))return o;let r=o.length;if(!Ph(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=o[r];return t},Wy=(o=>r=>o&&r instanceof o)(typeof Uint8Array<"u"&&Ql(Uint8Array)),zy=(o,r)=>{const e=(o&&o[Symbol.iterator]).call(o);let l;for(;(l=e.next())&&!l.done;){const u=l.value;r.call(o,u[0],u[1])}},qy=(o,r)=>{let t;const e=[];for(;(t=o.exec(r))!==null;)e.push(t);return e},Yy=zn("HTMLFormElement"),Xy=o=>o.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,e,l){return e.toUpperCase()+l}),kc=(({hasOwnProperty:o})=>(r,t)=>o.call(r,t))(Object.prototype),$y=zn("RegExp"),Lh=(o,r)=>{const t=Object.getOwnPropertyDescriptors(o),e={};Qs(t,(l,u)=>{r(l,u,o)!==!1&&(e[u]=l)}),Object.defineProperties(o,e)},Ky=o=>{Lh(o,(r,t)=>{if(co(o)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const e=o[t];if(co(e)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Qy=(o,r)=>{const t={},e=l=>{l.forEach(u=>{t[u]=!0})};return bs(o)?e(o):e(String(o).split(r)),t},Zy=()=>{},Jy=(o,r)=>(o=+o,Number.isFinite(o)?o:r),ka="abcdefghijklmnopqrstuvwxyz",Dc="0123456789",Ih={DIGIT:Dc,ALPHA:ka,ALPHA_DIGIT:ka+ka.toUpperCase()+Dc},ev=(o=16,r=Ih.ALPHA_DIGIT)=>{let t="";const{length:e}=r;for(;o--;)t+=r[Math.random()*e|0];return t};function tv(o){return!!(o&&co(o.append)&&o[Symbol.toStringTag]==="FormData"&&o[Symbol.iterator])}const rv=o=>{const r=new Array(10),t=(e,l)=>{if(Jl(e)){if(r.indexOf(e)>=0)return;if(!("toJSON"in e)){r[l]=e;const u=bs(e)?[]:{};return Qs(e,(h,n)=>{const p=t(h,l+1);!$s(p)&&(u[n]=p)}),r[l]=void 0,u}}return e};return t(o,0)},ze={isArray:bs,isArrayBuffer:Ah,isBuffer:jy,isFormData:Ly,isArrayBufferView:Cy,isString:My,isNumber:Ph,isBoolean:Ry,isObject:Jl,isPlainObject:yi,isUndefined:$s,isDate:Ay,isFile:Py,isBlob:Oy,isRegExp:$y,isFunction:co,isStream:Dy,isURLSearchParams:Iy,isTypedArray:Wy,isFileList:ky,forEach:Qs,merge:sl,extend:Ny,trim:By,stripBOM:Uy,inherits:Fy,toFlatObject:Vy,kindOf:Zl,kindOfTest:zn,endsWith:Gy,toArray:Hy,forEachEntry:zy,matchAll:qy,isHTMLForm:Yy,hasOwnProperty:kc,hasOwnProp:kc,reduceDescriptors:Lh,freezeMethods:Ky,toObjectSet:Qy,toCamelCase:Xy,noop:Zy,toFiniteNumber:Jy,findKey:Oh,global:kh,isContextDefined:Dh,ALPHABET:Ih,generateString:ev,isSpecCompliantForm:tv,toJSONObject:rv};function Lt(o,r,t,e,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=o,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),e&&(this.request=e),l&&(this.response=l)}ze.inherits(Lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Bh=Lt.prototype,Nh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{Nh[o]={value:o}});Object.defineProperties(Lt,Nh);Object.defineProperty(Bh,"isAxiosError",{value:!0});Lt.from=(o,r,t,e,l,u)=>{const h=Object.create(Bh);return ze.toFlatObject(o,h,function(p){return p!==Error.prototype},n=>n!=="isAxiosError"),Lt.call(h,o.message,r,t,e,l),h.cause=o,h.name=o.name,u&&Object.assign(h,u),h};const nv=null;function il(o){return ze.isPlainObject(o)||ze.isArray(o)}function Uh(o){return ze.endsWith(o,"[]")?o.slice(0,-2):o}function Lc(o,r,t){return o?o.concat(r).map(function(l,u){return l=Uh(l),!t&&u?"["+l+"]":l}).join(t?".":""):r}function ov(o){return ze.isArray(o)&&!o.some(il)}const sv=ze.toFlatObject(ze,{},null,function(r){return/^is[A-Z]/.test(r)});function aa(o,r,t){if(!ze.isObject(o))throw new TypeError("target must be an object");r=r||new FormData,t=ze.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(c,d){return!ze.isUndefined(d[c])});const e=t.metaTokens,l=t.visitor||g,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(r);if(!ze.isFunction(l))throw new TypeError("visitor must be a function");function f(a){if(a===null)return"";if(ze.isDate(a))return a.toISOString();if(!p&&ze.isBlob(a))throw new Lt("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(a)||ze.isTypedArray(a)?p&&typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function g(a,c,d){let y=a;if(a&&!d&&typeof a=="object"){if(ze.endsWith(c,"{}"))c=e?c:c.slice(0,-2),a=JSON.stringify(a);else if(ze.isArray(a)&&ov(a)||(ze.isFileList(a)||ze.endsWith(c,"[]"))&&(y=ze.toArray(a)))return c=Uh(c),y.forEach(function(_,S){!(ze.isUndefined(_)||_===null)&&r.append(h===!0?Lc([c],S,u):h===null?c:c+"[]",f(_))}),!1}return il(a)?!0:(r.append(Lc(d,c,u),f(a)),!1)}const m=[],i=Object.assign(sv,{defaultVisitor:g,convertValue:f,isVisitable:il});function s(a,c){if(!ze.isUndefined(a)){if(m.indexOf(a)!==-1)throw Error("Circular reference detected in "+c.join("."));m.push(a),ze.forEach(a,function(y,w){(!(ze.isUndefined(y)||y===null)&&l.call(r,y,ze.isString(w)?w.trim():w,c,i))===!0&&s(y,c?c.concat(w):[w])}),m.pop()}}if(!ze.isObject(o))throw new TypeError("data must be an object");return s(o),r}function Ic(o){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(e){return r[e]})}function eu(o,r){this._pairs=[],o&&aa(o,this,r)}const Fh=eu.prototype;Fh.append=function(r,t){this._pairs.push([r,t])};Fh.toString=function(r){const t=r?function(e){return r.call(this,e,Ic)}:Ic;return this._pairs.map(function(l){return t(l[0])+"="+t(l[1])},"").join("&")};function iv(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vh(o,r,t){if(!r)return o;const e=t&&t.encode||iv,l=t&&t.serialize;let u;if(l?u=l(r,t):u=ze.isURLSearchParams(r)?r.toString():new eu(r,t).toString(e),u){const h=o.indexOf("#");h!==-1&&(o=o.slice(0,h)),o+=(o.indexOf("?")===-1?"?":"&")+u}return o}class av{constructor(){this.handlers=[]}use(r,t,e){return this.handlers.push({fulfilled:r,rejected:t,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ze.forEach(this.handlers,function(e){e!==null&&r(e)})}}const Bc=av,Gh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lv=typeof URLSearchParams<"u"?URLSearchParams:eu,uv=typeof FormData<"u"?FormData:null,cv=typeof Blob<"u"?Blob:null,dv=(()=>{let o;return typeof navigator<"u"&&((o=navigator.product)==="ReactNative"||o==="NativeScript"||o==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),hv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),En={isBrowser:!0,classes:{URLSearchParams:lv,FormData:uv,Blob:cv},isStandardBrowserEnv:dv,isStandardBrowserWebWorkerEnv:hv,protocols:["http","https","file","blob","url","data"]};function fv(o,r){return aa(o,new En.classes.URLSearchParams,Object.assign({visitor:function(t,e,l,u){return En.isNode&&ze.isBuffer(t)?(this.append(e,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},r))}function pv(o){return ze.matchAll(/\w+|\[(\w*)]/g,o).map(r=>r[0]==="[]"?"":r[1]||r[0])}function mv(o){const r={},t=Object.keys(o);let e;const l=t.length;let u;for(e=0;e<l;e++)u=t[e],r[u]=o[u];return r}function Hh(o){function r(t,e,l,u){let h=t[u++];const n=Number.isFinite(+h),p=u>=t.length;return h=!h&&ze.isArray(l)?l.length:h,p?(ze.hasOwnProp(l,h)?l[h]=[l[h],e]:l[h]=e,!n):((!l[h]||!ze.isObject(l[h]))&&(l[h]=[]),r(t,e,l[h],u)&&ze.isArray(l[h])&&(l[h]=mv(l[h])),!n)}if(ze.isFormData(o)&&ze.isFunction(o.entries)){const t={};return ze.forEachEntry(o,(e,l)=>{r(pv(e),l,t,0)}),t}return null}const gv={"Content-Type":void 0};function yv(o,r,t){if(ze.isString(o))try{return(r||JSON.parse)(o),ze.trim(o)}catch(e){if(e.name!=="SyntaxError")throw e}return(t||JSON.stringify)(o)}const la={transitional:Gh,adapter:["xhr","http"],transformRequest:[function(r,t){const e=t.getContentType()||"",l=e.indexOf("application/json")>-1,u=ze.isObject(r);if(u&&ze.isHTMLForm(r)&&(r=new FormData(r)),ze.isFormData(r))return l&&l?JSON.stringify(Hh(r)):r;if(ze.isArrayBuffer(r)||ze.isBuffer(r)||ze.isStream(r)||ze.isFile(r)||ze.isBlob(r))return r;if(ze.isArrayBufferView(r))return r.buffer;if(ze.isURLSearchParams(r))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let n;if(u){if(e.indexOf("application/x-www-form-urlencoded")>-1)return fv(r,this.formSerializer).toString();if((n=ze.isFileList(r))||e.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return aa(n?{"files[]":r}:r,p&&new p,this.formSerializer)}}return u||l?(t.setContentType("application/json",!1),yv(r)):r}],transformResponse:[function(r){const t=this.transitional||la.transitional,e=t&&t.forcedJSONParsing,l=this.responseType==="json";if(r&&ze.isString(r)&&(e&&!this.responseType||l)){const h=!(t&&t.silentJSONParsing)&&l;try{return JSON.parse(r)}catch(n){if(h)throw n.name==="SyntaxError"?Lt.from(n,Lt.ERR_BAD_RESPONSE,this,null,this.response):n}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:En.classes.FormData,Blob:En.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ze.forEach(["delete","get","head"],function(r){la.headers[r]={}});ze.forEach(["post","put","patch"],function(r){la.headers[r]=ze.merge(gv)});const tu=la,vv=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bv=o=>{const r={};let t,e,l;return o&&o.split(`
`).forEach(function(h){l=h.indexOf(":"),t=h.substring(0,l).trim().toLowerCase(),e=h.substring(l+1).trim(),!(!t||r[t]&&vv[t])&&(t==="set-cookie"?r[t]?r[t].push(e):r[t]=[e]:r[t]=r[t]?r[t]+", "+e:e)}),r},Nc=Symbol("internals");function Cs(o){return o&&String(o).trim().toLowerCase()}function vi(o){return o===!1||o==null?o:ze.isArray(o)?o.map(vi):String(o)}function wv(o){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let e;for(;e=t.exec(o);)r[e[1]]=e[2];return r}function xv(o){return/^[-_a-zA-Z]+$/.test(o.trim())}function Da(o,r,t,e,l){if(ze.isFunction(e))return e.call(this,r,t);if(l&&(r=t),!!ze.isString(r)){if(ze.isString(e))return r.indexOf(e)!==-1;if(ze.isRegExp(e))return e.test(r)}}function _v(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,t,e)=>t.toUpperCase()+e)}function Sv(o,r){const t=ze.toCamelCase(" "+r);["get","set","has"].forEach(e=>{Object.defineProperty(o,e+t,{value:function(l,u,h){return this[e].call(this,r,l,u,h)},configurable:!0})})}class ua{constructor(r){r&&this.set(r)}set(r,t,e){const l=this;function u(n,p,f){const g=Cs(p);if(!g)throw new Error("header name must be a non-empty string");const m=ze.findKey(l,g);(!m||l[m]===void 0||f===!0||f===void 0&&l[m]!==!1)&&(l[m||p]=vi(n))}const h=(n,p)=>ze.forEach(n,(f,g)=>u(f,g,p));return ze.isPlainObject(r)||r instanceof this.constructor?h(r,t):ze.isString(r)&&(r=r.trim())&&!xv(r)?h(bv(r),t):r!=null&&u(t,r,e),this}get(r,t){if(r=Cs(r),r){const e=ze.findKey(this,r);if(e){const l=this[e];if(!t)return l;if(t===!0)return wv(l);if(ze.isFunction(t))return t.call(this,l,e);if(ze.isRegExp(t))return t.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,t){if(r=Cs(r),r){const e=ze.findKey(this,r);return!!(e&&this[e]!==void 0&&(!t||Da(this,this[e],e,t)))}return!1}delete(r,t){const e=this;let l=!1;function u(h){if(h=Cs(h),h){const n=ze.findKey(e,h);n&&(!t||Da(e,e[n],n,t))&&(delete e[n],l=!0)}}return ze.isArray(r)?r.forEach(u):u(r),l}clear(r){const t=Object.keys(this);let e=t.length,l=!1;for(;e--;){const u=t[e];(!r||Da(this,this[u],u,r,!0))&&(delete this[u],l=!0)}return l}normalize(r){const t=this,e={};return ze.forEach(this,(l,u)=>{const h=ze.findKey(e,u);if(h){t[h]=vi(l),delete t[u];return}const n=r?_v(u):String(u).trim();n!==u&&delete t[u],t[n]=vi(l),e[n]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const t=Object.create(null);return ze.forEach(this,(e,l)=>{e!=null&&e!==!1&&(t[l]=r&&ze.isArray(e)?e.join(", "):e)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,t])=>r+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...t){const e=new this(r);return t.forEach(l=>e.set(l)),e}static accessor(r){const e=(this[Nc]=this[Nc]={accessors:{}}).accessors,l=this.prototype;function u(h){const n=Cs(h);e[n]||(Sv(l,h),e[n]=!0)}return ze.isArray(r)?r.forEach(u):u(r),this}}ua.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.freezeMethods(ua.prototype);ze.freezeMethods(ua);const Un=ua;function La(o,r){const t=this||tu,e=r||t,l=Un.from(e.headers);let u=e.data;return ze.forEach(o,function(n){u=n.call(t,u,l.normalize(),r?r.status:void 0)}),l.normalize(),u}function Wh(o){return!!(o&&o.__CANCEL__)}function Zs(o,r,t){Lt.call(this,o??"canceled",Lt.ERR_CANCELED,r,t),this.name="CanceledError"}ze.inherits(Zs,Lt,{__CANCEL__:!0});function Tv(o,r,t){const e=t.config.validateStatus;!t.status||!e||e(t.status)?o(t):r(new Lt("Request failed with status code "+t.status,[Lt.ERR_BAD_REQUEST,Lt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const Ev=En.isStandardBrowserEnv?function(){return{write:function(t,e,l,u,h,n){const p=[];p.push(t+"="+encodeURIComponent(e)),ze.isNumber(l)&&p.push("expires="+new Date(l).toGMTString()),ze.isString(u)&&p.push("path="+u),ze.isString(h)&&p.push("domain="+h),n===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function jv(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}function Cv(o,r){return r?o.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):o}function zh(o,r){return o&&!jv(r)?Cv(o,r):r}const Mv=En.isStandardBrowserEnv?function(){const r=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let e;function l(u){let h=u;return r&&(t.setAttribute("href",h),h=t.href),t.setAttribute("href",h),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return e=l(window.location.href),function(h){const n=ze.isString(h)?l(h):h;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}();function Rv(o){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return r&&r[1]||""}function Av(o,r){o=o||10;const t=new Array(o),e=new Array(o);let l=0,u=0,h;return r=r!==void 0?r:1e3,function(p){const f=Date.now(),g=e[u];h||(h=f),t[l]=p,e[l]=f;let m=u,i=0;for(;m!==l;)i+=t[m++],m=m%o;if(l=(l+1)%o,l===u&&(u=(u+1)%o),f-h<r)return;const s=g&&f-g;return s?Math.round(i*1e3/s):void 0}}function Uc(o,r){let t=0;const e=Av(50,250);return l=>{const u=l.loaded,h=l.lengthComputable?l.total:void 0,n=u-t,p=e(n),f=u<=h;t=u;const g={loaded:u,total:h,progress:h?u/h:void 0,bytes:n,rate:p||void 0,estimated:p&&h&&f?(h-u)/p:void 0,event:l};g[r?"download":"upload"]=!0,o(g)}}const Pv=typeof XMLHttpRequest<"u",Ov=Pv&&function(o){return new Promise(function(t,e){let l=o.data;const u=Un.from(o.headers).normalize(),h=o.responseType;let n;function p(){o.cancelToken&&o.cancelToken.unsubscribe(n),o.signal&&o.signal.removeEventListener("abort",n)}ze.isFormData(l)&&(En.isStandardBrowserEnv||En.isStandardBrowserWebWorkerEnv)&&u.setContentType(!1);let f=new XMLHttpRequest;if(o.auth){const s=o.auth.username||"",a=o.auth.password?unescape(encodeURIComponent(o.auth.password)):"";u.set("Authorization","Basic "+btoa(s+":"+a))}const g=zh(o.baseURL,o.url);f.open(o.method.toUpperCase(),Vh(g,o.params,o.paramsSerializer),!0),f.timeout=o.timeout;function m(){if(!f)return;const s=Un.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),c={data:!h||h==="text"||h==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:s,config:o,request:f};Tv(function(y){t(y),p()},function(y){e(y),p()},c),f=null}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(e(new Lt("Request aborted",Lt.ECONNABORTED,o,f)),f=null)},f.onerror=function(){e(new Lt("Network Error",Lt.ERR_NETWORK,o,f)),f=null},f.ontimeout=function(){let a=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const c=o.transitional||Gh;o.timeoutErrorMessage&&(a=o.timeoutErrorMessage),e(new Lt(a,c.clarifyTimeoutError?Lt.ETIMEDOUT:Lt.ECONNABORTED,o,f)),f=null},En.isStandardBrowserEnv){const s=(o.withCredentials||Mv(g))&&o.xsrfCookieName&&Ev.read(o.xsrfCookieName);s&&u.set(o.xsrfHeaderName,s)}l===void 0&&u.setContentType(null),"setRequestHeader"in f&&ze.forEach(u.toJSON(),function(a,c){f.setRequestHeader(c,a)}),ze.isUndefined(o.withCredentials)||(f.withCredentials=!!o.withCredentials),h&&h!=="json"&&(f.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&f.addEventListener("progress",Uc(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Uc(o.onUploadProgress)),(o.cancelToken||o.signal)&&(n=s=>{f&&(e(!s||s.type?new Zs(null,o,f):s),f.abort(),f=null)},o.cancelToken&&o.cancelToken.subscribe(n),o.signal&&(o.signal.aborted?n():o.signal.addEventListener("abort",n)));const i=Rv(g);if(i&&En.protocols.indexOf(i)===-1){e(new Lt("Unsupported protocol "+i+":",Lt.ERR_BAD_REQUEST,o));return}f.send(l||null)})},bi={http:nv,xhr:Ov};ze.forEach(bi,(o,r)=>{if(o){try{Object.defineProperty(o,"name",{value:r})}catch{}Object.defineProperty(o,"adapterName",{value:r})}});const kv={getAdapter:o=>{o=ze.isArray(o)?o:[o];const{length:r}=o;let t,e;for(let l=0;l<r&&(t=o[l],!(e=ze.isString(t)?bi[t.toLowerCase()]:t));l++);if(!e)throw e===!1?new Lt(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ze.hasOwnProp(bi,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!ze.isFunction(e))throw new TypeError("adapter is not a function");return e},adapters:bi};function Ia(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new Zs(null,o)}function Fc(o){return Ia(o),o.headers=Un.from(o.headers),o.data=La.call(o,o.transformRequest),["post","put","patch"].indexOf(o.method)!==-1&&o.headers.setContentType("application/x-www-form-urlencoded",!1),kv.getAdapter(o.adapter||tu.adapter)(o).then(function(e){return Ia(o),e.data=La.call(o,o.transformResponse,e),e.headers=Un.from(e.headers),e},function(e){return Wh(e)||(Ia(o),e&&e.response&&(e.response.data=La.call(o,o.transformResponse,e.response),e.response.headers=Un.from(e.response.headers))),Promise.reject(e)})}const Vc=o=>o instanceof Un?o.toJSON():o;function us(o,r){r=r||{};const t={};function e(f,g,m){return ze.isPlainObject(f)&&ze.isPlainObject(g)?ze.merge.call({caseless:m},f,g):ze.isPlainObject(g)?ze.merge({},g):ze.isArray(g)?g.slice():g}function l(f,g,m){if(ze.isUndefined(g)){if(!ze.isUndefined(f))return e(void 0,f,m)}else return e(f,g,m)}function u(f,g){if(!ze.isUndefined(g))return e(void 0,g)}function h(f,g){if(ze.isUndefined(g)){if(!ze.isUndefined(f))return e(void 0,f)}else return e(void 0,g)}function n(f,g,m){if(m in r)return e(f,g);if(m in o)return e(void 0,f)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:n,headers:(f,g)=>l(Vc(f),Vc(g),!0)};return ze.forEach(Object.keys(o).concat(Object.keys(r)),function(g){const m=p[g]||l,i=m(o[g],r[g],g);ze.isUndefined(i)&&m!==n||(t[g]=i)}),t}const qh="1.3.4",ru={};["object","boolean","number","function","string","symbol"].forEach((o,r)=>{ru[o]=function(e){return typeof e===o||"a"+(r<1?"n ":" ")+o}});const Gc={};ru.transitional=function(r,t,e){function l(u,h){return"[Axios v"+qh+"] Transitional option '"+u+"'"+h+(e?". "+e:"")}return(u,h,n)=>{if(r===!1)throw new Lt(l(h," has been removed"+(t?" in "+t:"")),Lt.ERR_DEPRECATED);return t&&!Gc[h]&&(Gc[h]=!0,console.warn(l(h," has been deprecated since v"+t+" and will be removed in the near future"))),r?r(u,h,n):!0}};function Dv(o,r,t){if(typeof o!="object")throw new Lt("options must be an object",Lt.ERR_BAD_OPTION_VALUE);const e=Object.keys(o);let l=e.length;for(;l-- >0;){const u=e[l],h=r[u];if(h){const n=o[u],p=n===void 0||h(n,u,o);if(p!==!0)throw new Lt("option "+u+" must be "+p,Lt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Lt("Unknown option "+u,Lt.ERR_BAD_OPTION)}}const al={assertOptions:Dv,validators:ru},Zn=al.validators;class Fi{constructor(r){this.defaults=r,this.interceptors={request:new Bc,response:new Bc}}request(r,t){typeof r=="string"?(t=t||{},t.url=r):t=r||{},t=us(this.defaults,t);const{transitional:e,paramsSerializer:l,headers:u}=t;e!==void 0&&al.assertOptions(e,{silentJSONParsing:Zn.transitional(Zn.boolean),forcedJSONParsing:Zn.transitional(Zn.boolean),clarifyTimeoutError:Zn.transitional(Zn.boolean)},!1),l!==void 0&&al.assertOptions(l,{encode:Zn.function,serialize:Zn.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h;h=u&&ze.merge(u.common,u[t.method]),h&&ze.forEach(["delete","get","head","post","put","patch","common"],a=>{delete u[a]}),t.headers=Un.concat(h,u);const n=[];let p=!0;this.interceptors.request.forEach(function(c){typeof c.runWhen=="function"&&c.runWhen(t)===!1||(p=p&&c.synchronous,n.unshift(c.fulfilled,c.rejected))});const f=[];this.interceptors.response.forEach(function(c){f.push(c.fulfilled,c.rejected)});let g,m=0,i;if(!p){const a=[Fc.bind(this),void 0];for(a.unshift.apply(a,n),a.push.apply(a,f),i=a.length,g=Promise.resolve(t);m<i;)g=g.then(a[m++],a[m++]);return g}i=n.length;let s=t;for(m=0;m<i;){const a=n[m++],c=n[m++];try{s=a(s)}catch(d){c.call(this,d);break}}try{g=Fc.call(this,s)}catch(a){return Promise.reject(a)}for(m=0,i=f.length;m<i;)g=g.then(f[m++],f[m++]);return g}getUri(r){r=us(this.defaults,r);const t=zh(r.baseURL,r.url);return Vh(t,r.params,r.paramsSerializer)}}ze.forEach(["delete","get","head","options"],function(r){Fi.prototype[r]=function(t,e){return this.request(us(e||{},{method:r,url:t,data:(e||{}).data}))}});ze.forEach(["post","put","patch"],function(r){function t(e){return function(u,h,n){return this.request(us(n||{},{method:r,headers:e?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Fi.prototype[r]=t(),Fi.prototype[r+"Form"]=t(!0)});const wi=Fi;class nu{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const e=this;this.promise.then(l=>{if(!e._listeners)return;let u=e._listeners.length;for(;u-- >0;)e._listeners[u](l);e._listeners=null}),this.promise.then=l=>{let u;const h=new Promise(n=>{e.subscribe(n),u=n}).then(l);return h.cancel=function(){e.unsubscribe(u)},h},r(function(u,h,n){e.reason||(e.reason=new Zs(u,h,n),t(e.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const t=this._listeners.indexOf(r);t!==-1&&this._listeners.splice(t,1)}static source(){let r;return{token:new nu(function(l){r=l}),cancel:r}}}const Lv=nu;function Iv(o){return function(t){return o.apply(null,t)}}function Bv(o){return ze.isObject(o)&&o.isAxiosError===!0}const ll={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ll).forEach(([o,r])=>{ll[r]=o});const Nv=ll;function Yh(o){const r=new wi(o),t=Mh(wi.prototype.request,r);return ze.extend(t,wi.prototype,r,{allOwnKeys:!0}),ze.extend(t,r,null,{allOwnKeys:!0}),t.create=function(l){return Yh(us(o,l))},t}const vr=Yh(tu);vr.Axios=wi;vr.CanceledError=Zs;vr.CancelToken=Lv;vr.isCancel=Wh;vr.VERSION=qh;vr.toFormData=aa;vr.AxiosError=Lt;vr.Cancel=vr.CanceledError;vr.all=function(r){return Promise.all(r)};vr.spread=Iv;vr.isAxiosError=Bv;vr.mergeConfig=us;vr.AxiosHeaders=Un;vr.formToJSON=o=>Hh(ze.isHTMLForm(o)?new FormData(o):o);vr.HttpStatusCode=Nv;vr.default=vr;const Uv=vr,cs=Uv.create({baseURL:"http://localhost:3000/",withCredentials:!0,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}),Fv=()=>({headers:{Authorization:`Bearer ${Zh()}`}}),Hc={0:{0:{0:o=>{},1:o=>{o.resetData()}}}},Vv=(o,r,t,e=!1)=>{const l=t/2,u=t*(2/3);b.push(),b.fill(zl),b.circle(o,r,t*2),b.fill(ea),e&&(b.fill(br),b.strokeWeight(3)),b.triangle(o-l,r-u,o-l,r+u,o+u,r),b.pop()},Gv=(o,r,t,e=!1)=>{const l=t/2,u=t/3,h=t/5;b.push(),b.fill(eh),b.circle(o,r,t*2),b.fill(ea),e&&(b.fill(br),b.strokeWeight(3)),b.triangle(o-u-h,r-l,o-u-h,r+l,o+l-h,r),b.triangle(o-u+h,r-l,o-u+h,r+l,o+l+h,r),b.pop()},Hv=1,Wv=(o,r,t,e,l=Hv)=>{const u=t*.9,h=ct.Vector.fromAngle(1.75*b.PI).setMag(u);b.push(),b.strokeWeight(l),b.fill(Gm),b.circle(o,r,t*2),b.fill(ea),b.textSize(u*2),b.text("A",o-h.x,r-h.y),e||(b.strokeWeight(5*l),b.line(o-h.x,r-h.y,o+h.x,r+h.y)),b.pop()},Xh=10,zv=50,$h=b.height-zv,Kh=20,qv=10,ul=2.5,Yv=3,Xv=(o=Xh,r=$h,t=Kh,e=1,l=!1)=>{let u=o+t;const h=r+t;Wv(u,h,t,l),u+=t*ul,Vv(u,h,t,e===1),u+=t*ul,Gv(u,h,t,e>1)},$v=(o,r=Xh,t=$h,e=Kh,l=!1,u=qv)=>{const h=b.createVector(b.mouseX,b.mouseY),n=2;for(let p=0;p<Yv;p++){const f=b.createVector(r+ul*e*p+e,t+e);if(zt(f,h)<e*e){if(p===0)return[o,!l];if(p===1)return[1,l];if(p===2)return o*2<=u&&o!==0?[o*2,l]:[n,l]}}return[o,l]};class Yt{constructor(r,t,e,l,u,h=He,n=b.color(Cn),p=b.color(Rt),f=b.CENTER){G(this,"pos");G(this,"width");G(this,"height");G(this,"text");G(this,"onClick");G(this,"textSize");G(this,"buttonColor");G(this,"textColor");G(this,"mode");G(this,"id");this.pos=r,this.width=t,this.height=e,this.text=l,this.onClick=u,this.textSize=h,this.buttonColor=n,this.textColor=p,this.mode=f,this.id=b.random()}update(){return!1}show(r=b){r.push(),r.strokeWeight(1),r.fill(this.buttonColor),r.rectMode(this.mode),r.rect(this.pos.x,this.pos.y,this.width,this.height),r.strokeWeight(0),r.textSize(this.textSize),r.textAlign(b.CENTER,b.CENTER),r.fill(this.textColor),r.text(`${this.text}`,this.pos.x,this.pos.y,this.width,this.height),r.pop()}clicked(){return b.mouseX>this.pos.x-this.width/2&&b.mouseX<this.pos.x+this.width/2&&b.mouseY>this.pos.y-this.height/2&&b.mouseY<this.pos.y+this.height/2}}class Kv extends Yt{constructor(t,e,l,u,h,n,p=He,f=b.color(Cn),g=b.color(Rt),m=b.CENTER){super(t,e,l,u,h,p,f,g,m);G(this,"duration");this.duration=n}update(){return this.duration--,this.duration<1}}const Qh=(o,r,t,e)=>{const l=t/5;b.push(),b.strokeWeight(1),b.stroke(Rt),b.fill(br),b.rect(o-t/2,r-l/2,t+2,l+2),b.strokeWeight(0),b.fill(zl),b.rect(o-t/2+1,r-l/2+1,t*e,l),b.pop()},ds=Bn(!1),Ro=Bn(),Fn=Bn(!1),Qv=(o="No rewards exist yet, sorry",r="No new unlocks")=>{const t=new Yt(b.createVector(b.width/2,b.height/2),b.width*.8,b.height*.8,"",p=>{},He*2,b.color(vs)),e=new Yt(b.createVector(b.width/2,b.height*.25),b.width*.7,b.height*.2,"Congratulations! You beat back those pesky heroes and won the day!",p=>{},He*2,b.color(Jd)),l=new Yt(b.createVector(b.width*.3,b.height*.5),b.width*.3,b.height*.2,r,p=>{},He*1.5,b.color(el)),u=new Yt(b.createVector(b.width*.7,b.height*.5),b.width*.3,b.height*.2,o,p=>{},He*1.5,b.color(el)),h=new Yt(b.createVector(b.width*.3,b.height*.75),b.width*.3,b.height*.2,"Go back to the main menu",p=>{b.createCanvas(0,0),ds.value=!1,Ro.value=void 0},He*2),n=new Yt(b.createVector(b.width*.7,b.height*.75),b.width*.3,b.height*.2,"Continue in freeplay",p=>{nt.buttonsDisabled=!1,nt.removeButton(t.id),nt.removeButton(e.id),nt.removeButton(l.id),nt.removeButton(u.id),nt.removeButton(h.id),nt.removeButton(n.id)},He*2);nt.buttons.push(t,e,l,u,h,n)},Zv=()=>{const o=new Yt(b.createVector(b.width/2,b.height/2),b.width*.8,b.height*.8,"",l=>{},He*2,b.color(Ja)),r=new Yt(b.createVector(b.width/2,b.height/3),b.width*.7,b.height*.2,"Game over! The heroes got you. With the demons and monsters out of the way, the age of infighting for mankind can begin!",l=>{},He*2,b.color(Io)),t=new Yt(b.createVector(b.width*.3,b.height*.7),b.width*.3,b.height*.2,"Go back to the main menu",l=>{b.createCanvas(0,0),ds.value=!1,Ro.value=void 0},He*2),e=new Yt(b.createVector(b.width*.7,b.height*.7),b.width*.3,b.height*.2,"Retry",l=>{nt.removeButton(o.id),nt.removeButton(r.id),nt.removeButton(t.id),nt.removeButton(e.id),nt.retry()},He*2);nt.buttons.push(o,r,t,e)};class Jv{constructor(){G(this,"gameSpeed",0);G(this,"buttonsDisabled",!1);G(this,"autoStartNextWave",!1);G(this,"drawCount",0);G(this,"frameRateSum",0);G(this,"averageFrameRate",0);G(this,"buttons",[]);G(this,"messageButton");G(this,"showMessage",!0);G(this,"beforeMapMade",!1);G(this,"debugOn",!1);G(this,"map",null);G(this,"invisibleUnits",!1);this.messageButton=null}reconstruct(r,t){this.messageButton=null,fg(t),ae.buildMapFromJson(r.map.map,tt,qt),qt.waveReader.spawns[qt.waveReader.currentSpawn].spawnsNextUnit=!0,tt.maxHp=Za*ur.MAOU_HP_MOD,tt.hp=Za*ur.MAOU_HP_MOD,this.map=r,this.retry(),this.setup(),b.draw=()=>this.draw(),b.mousePressed=()=>this.mousePressed(),b.mouseReleased=()=>this.mouseReleased(),b.doubleClicked=()=>this.doubleClicked(),b.keyPressed=e=>this.keyPressed(e)}retry(){this.buttonsDisabled=!1,this.beforeMapMade=!0,this.messageButton=null,this.buttons=[],tt.reset(),qt.reset(),ae.reConstructGrid(),ae.buildMapFromJson(this.map.map.map,tt,qt),qt.waveReader.spawns[qt.waveReader.currentSpawn].spawnsNextUnit=!0,tt.generateAllNeccesaryPaths()}setup(){b.createCanvas(b.windowWidth,b.windowHeight),b.background(Cn),tt.generateAllNeccesaryPaths()}draw(){b.background(Cn),b.strokeWeight(1),Xv(10,b.height-50,20,this.gameSpeed,this.autoStartNextWave),ae.show(),this.debugOn&&ae.showDebug(),tt.show();for(let t=0;t<this.gameSpeed;t++){const e=qt.update();tt.updateAll(),e&&(tt.addXpToCurrentTowers(),tt.onWaveEndTowers(),qt.waveReader.currentWaveNumber===ur.FINAL_WAVE+1&&this.gameClear(),this.autoStartNextWave||(this.gameSpeed=0,this.showMessage=!0),Jo()),tt.hp<=0&&(Zv(),this.gameSpeed=0,this.buttonsDisabled=!0)}if(this.invisibleUnits||qt.show(),tt.showAll(this.gameSpeed===0),this.gameSpeed===0&&this.showMessage){const t=qt.waveReader.getMessage(),e=b.height*((t.length*He*.5>b.width*(11/16)?2:1)/24);this.messageButton=new Yt(b.createVector(b.width*(3/8),b.height*(7/8)),b.min(t.length*He*.5,b.width*(11/16)),e,t,()=>{this.showMessage=!1},He,b.color([...oo,200])),this.messageButton.show()}for(let t=this.buttons.length-1;t>=0;t--)this.buttons[t].update()&&this.buttons.splice(t,1);b.fill(0),b.textSize(32),b.strokeWeight(He/16),b.text(`Wave: ${qt.waveReader.currentWaveNumber}`,50,50),b.textSize(16),b.strokeWeight(1),b.text(`Player Level: ${et.level}`,30,75),Qh(30+He*3,90,He*5,et.getXp()/et.getRequiredXp()),b.text("Hold s to sell",b.width*(3/4)-130,20),b.text("Hold u to update",b.width*(3/4)-130,40),b.text(`Seed: ${tt.currentSeed}`,b.width*(3/4)-160,b.height-10);const r=ae.getHexVectorFromXY(b.mouseX,b.mouseY);for(const t in ar){const e=ar[t];if(b.keyIsDown(e.keycode)&&ae.rqVectorIsOnGrid(r,ae.wallRing)&&tt.gold>=tt.getTowerCost(ae.grid[r.x][r.y],e)){const l=ae.grid[r.x][r.y];b.push(),b.fill([...e.rgb,100]),b.strokeWeight(3),dr(l.pos.x,l.pos.y,ae.hexSize),e.range>0&&(e.range<10?b.circle(l.pos.x,l.pos.y,e.range*4*He):b.circle(l.pos.x,l.pos.y,e.range*2)),b.pop()}}if(b.keyIsDown(83)&&ae.rqVectorIsOnGrid(r,ae.wallRing)&&ae.grid[r.x][r.y].isTower){const t=ae.grid[r.x][r.y];b.push(),b.fill([...zs,50]),b.strokeWeight(1),dr(t.pos.x,t.pos.y,ae.hexSize),b.fill(zs),b.strokeWeight(2),Xs(t.pos.x,t.pos.y,ae.hexSize*.6),b.pop()}if(b.keyIsDown(85)&&ae.rqVectorIsOnGrid(r,ae.wallRing)&&ae.grid[r.x][r.y].isTower){const t=ae.grid[r.x][r.y];Sg(t.usageData);let e=`
`;for(const n in t.usageData)e+=`${n}: ${t.usageData[n]}
`;const l=He*16,u=He*19;b.push(),new Yt(b.createVector(b.mouseX+l/2,b.mouseY+u/2),l,u,e,()=>{},He,b.color([...oo,200])).show(),b.pop()}for(const t of this.buttons)t.show();b.mouseIsPressed&&this.mouseDragged(),tt.buyingTowerType&&this.showDraggingOrBuying(tt.buyingTowerType)}mousePressed(){for(const t of this.buttons)t.clicked()&&t.onClick(t);this.messageButton&&this.messageButton.clicked()&&this.messageButton.onClick();const r=ae.getHexVectorFromXY(b.mouseX,b.mouseY);for(const t in ar){const e=ar[t];if(b.keyIsDown(e.keycode)){tt.tryPlaceTower(e);return}}if(b.keyIsDown(83)&&ae.rqVectorIsOnGrid(r,1)&&ae.grid[r.x][r.y].isTower){const t=ae.grid[r.x][r.y];tt.sellTower(t),tt.generateAllNeccesaryPaths();return}if(ae.rqVectorIsOnGrid(r,ae.wallRing)&&ae.grid[r.x][r.y].isTower){tt.selectTower(ae.grid[r.x][r.y]);return}tt.clickInMenu(b.keyIsDown(85)),this.buttonsDisabled||([this.gameSpeed,this.autoStartNextWave]=$v(this.gameSpeed,10,b.height-50,20,this.autoStartNextWave)),b.mouseX<b.width*(3/4)&&tt.deSelectTower()}mouseReleased(){tt.mouseReleased()}mouseDragged(){const r=tt.mouseDragged();r&&this.showDraggingOrBuying(r)}showDraggingOrBuying(r){const t=ae.getHexVectorFromXY(b.mouseX,b.mouseY);if(b.push(),ae.rqVectorIsOnGrid(t,ae.wallRing)&&tt.gold>=tt.getTowerCost(ae.grid[t.x][t.y],r)){const e=ae.grid[t.x][t.y];b.fill([...r.rgb,120]),b.strokeWeight(3),dr(e.pos.x,e.pos.y,ae.hexSize),r.range>0&&(r.range<10?b.circle(e.pos.x,e.pos.y,r.range*4*He):b.circle(e.pos.x,e.pos.y,r.range*2))}else b.fill([...r.rgb,70]),b.strokeWeight(3),dr(b.mouseX,b.mouseY,ae.hexSize),r.range>0&&(r.range<10?b.circle(b.mouseX,b.mouseY,r.range*4*He):b.circle(b.mouseX,b.mouseY,r.range*2));b.pop()}doubleClicked(){const r=ae.getHexVectorFromXY(b.mouseX,b.mouseY);if(ae.rqVectorIsOnGrid(r,ae.wallRing)&&ae.grid[r.x][r.y].isTower){ae.grid[r.x][r.y].castUlt();return}tt.doubleClicked()}keyPressed(r){if(!r.ctrlKey||!b.keyIsDown(67))return;const t=prompt("What cheat would you like to use? (money, lives, ult, unlock, wave:<number> aka wave:5)","");if(t==="money"&&(tt.gold+=1e5),t==="lives"&&(tt.hp+=1e5),t==="xp"&&et.addXp(1e9,tt.towers),t==="unlock"){for(const e in tl)et.unlockDifficulty(e);for(const e of ow)et.unlockMapComplexity(e);et.allTowerUnlocksCheat()}if(t==="random"&&tt.randomlyUseGold(),t==="reset"&&r1(),t==="debug"&&(this.debugOn=!this.debugOn),t==="invis"&&(this.invisibleUnits=!this.invisibleUnits),t==="ult")for(const e of tt.towers)e.ultCurrentCooldown=0;if((t==null?void 0:t.substring(0,4))==="wave"){const e=parseInt(t.substring(5));!Number.isNaN(e)&&e<1e3&&(qt.waveReader.currentWaveNumber=e-1)}if((t==null?void 0:t.substring(0,1))==="w"){const e=parseInt(t.substring(1));!Number.isNaN(e)&&e<1e3&&(tt.gold+=qt.waveReader.skipToWaveWithProperGold(e))}}addLevelUpMessage(r){this.gameSpeed=0,this.buttons.push(new Yt(b.createVector(b.width/2,b.height/2),b.width*(2/3),b.height/2,r,t=>{this.removeButton((t==null?void 0:t.id)??0),this.gameSpeed=1},He*2,b.color(as)))}removeButton(r){for(let t=0;t<this.buttons.length;t++)if(this.buttons[t].id===r){this.buttons.splice(t,1);return}}addTowerUnlockMessage(r){this.buttons.push(new Kv(b.createVector(b.width*(3/8),b.height*(7/8)),b.width*(7/16),b.height*(1/10),`${r} level up! Congratuations!`,t=>{this.removeButton((t==null?void 0:t.id)??0)},1e3,He,b.color([...oo,200])))}gameClear(){var l;const r=[],t=hg(ur.name);et.unlockedDifficulties[t]||(et.unlockedDifficulties[t]=!0,r.push(`Unlocked ${t} difficulty`));const e=sw((l=this.map)==null?void 0:l.complexity);et.unlockedMapComplexities[e]||(et.unlockedMapComplexities[e]=!0,r.push(`Unlocked ${e} maps`)),Qv("No rewards yet",r.length>0?r.join(`
`):void 0),this.gameSpeed=0,this.buttonsDisabled=!0}}let nt=new Jv;const e1=(o,r)=>{nt.reconstruct(o,r)},Wc={2:()=>{et.towersData.Barricade.unlocked=!0,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you unlocked the Barricade! You can use it to set up your maze cheaply and early.")},3:()=>{et.towersData.Kobold.unlocked=!0,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you unlocked the Kobold! It fires fast in a small radius, and fires even faster when it gets fired up.")},4:()=>{et.towersData.Arachne.unlocked=!0,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you unlocked the Arachne! She can spin webs that slow your enemies.")},5:()=>{et.towersData["Plague Slinger"].unlocked=!0,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you unlocked the Plague Slinger! Plague Slingers throw vials of poison at your enemies, slow working, but high damage potential, especially against armor.")},6:()=>{et.towersData.Siren.unlocked=!0,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you unlocked the Siren! Only place this tower in the water! The Siren sings a song that entrances your enemies into abandoning their quest and seeking the Siren, sadly damage can break the trance.")},7:()=>{et.towersData.Pyromaniac.unlocked=!0,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you unlocked the Pyromaniac! Armed with a short range flame thrower and the ability to learn various other fire attacks, the Pyro is a high damage elite.")},8:()=>{et.towersData["Gravi-tech Tower"].unlocked=!0,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you unlocked the Gravi-tech Tower! The Gravi-tech emits a gravitational field around itself that pulls enemies in, the heavier the unit, the stronger the effect, but overcharges when too many enemies enter its field.")},9:()=>{et.towersData["Dragon Hoard"].unlocked=!0,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you unlocked the Dragon Hoard! Dragon Hoards are expensive, but magically generate more gold every round. And who knows, you might even be able to attract a dragon.")},10:()=>{et.towersData["Magma Wyrm"].unlocked=!0,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you unlocked the Magma Wyrm! You can only place this tower in lava! Like all lava towers, the Magma Wyrm expires after a certain number of turns, visible through the stars around its symbol, turning the lava tile into an unstable one. A cheap and strong tower, but only for a short time. You get no money back for selling Lava towers!")},11:()=>{et.transmutationEssence+=110,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},12:()=>{et.transmutationEssence+=120,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},13:()=>{et.transmutationEssence+=130,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},14:()=>{et.transmutationEssence+=140,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},15:()=>{et.transmutationEssence+=150,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},16:()=>{et.transmutationEssence+=160,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},17:()=>{et.transmutationEssence+=170,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},18:()=>{et.transmutationEssence+=180,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},19:()=>{et.transmutationEssence+=190,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},20:()=>{et.transmutationEssence+=200,nt==null||nt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")}};class hs{constructor(r,t,e=!0){G(this,"username");G(this,"email");G(this,"guestUser");G(this,"lastUpdatedVersion");G(this,"transmutationEssence");G(this,"level");G(this,"xp");G(this,"xpRequired");G(this,"towersData");G(this,"unlockedMapComplexities");G(this,"unlockedDifficulties");this.username=r,this.email=t,this.guestUser=e,this.lastUpdatedVersion="0.0.0",this.level=1,this.xp=0,this.xpRequired=this.calcRequiredXp(),this.towersData={};for(const l in ar)this.towersData[ar[l].name]={unlocked:!1,xp:0,xpRequired:this.calcRequiredXp(1),unlocksAvailable:0,upgradesUnlocked:["A","B","C"],mods:{1:-1,2:-1,3:-1}};this.towersData.Archer.unlocked=!0,this.unlockedMapComplexities={Simple:!0,Average:!1,Complex:!1,Evil:!1},this.unlockedDifficulties={Easy:!0,Normal:!1,Hard:!1,Extreme:!1},this.transmutationEssence=0}addXp(r,t){this.xp+=r,this.xp>=this.xpRequired&&this.levelUp();const e=r/t.length;for(const l of t)this.towersData[l.name].xp+=e,this.towersData[l.name].xp>=this.towersData[l.name].xpRequired&&(this.towerAddUnlock(this.towersData[l.name]),nt.addTowerUnlockMessage(l.name))}levelUp(){this.xp-=this.xpRequired,this.level++,this.xpRequired=this.calcRequiredXp(),this.level in Wc&&Wc[this.level]()}towerAddUnlock(r){r.xp-=r.xpRequired,r.unlocksAvailable++;const t=r.unlocksAvailable+r.upgradesUnlocked.length-2;r.xpRequired=this.calcRequiredXp(t)}getXp(){return b.floor(this.xp)}getRequiredXp(){return b.ceil(this.xpRequired)}calcRequiredXp(r=this.level){return b.round(Math.pow(r,jm+r/10)*Cm)}towerUnlockUpgrade(r,t){return this.towersData[r].unlocksAvailable<1||t in this.towersData[r].upgradesUnlocked?!1:(this.towersData[r].upgradesUnlocked.push(t),this.towersData[r].unlocksAvailable--,!0)}checkAndRunVersionUpdates(){if(this.lastUpdatedVersion===Ec)return;const r=this.lastUpdatedVersion.split(".");for(const t in Hc){const e=Hc[t];for(const l in e){const u=e[l];for(const h in u)(parseInt(t)>parseInt(r[0])||parseInt(t)===parseInt(r[0])&&(parseInt(l)>parseInt(r[1])||parseInt(l)===parseInt(r[1])&&parseInt(h)>parseInt(r[2])))&&u[h](this)}}this.lastUpdatedVersion=Ec}resetData(){const r=new hs(this.username,this.email,this.guestUser);for(const t in r)this[t]=r[t]}unlockDifficulty(r){this.unlockedDifficulties[r]=!0,Jo()}unlockMapComplexity(r){this.unlockedMapComplexities[r]=!0,Jo()}allTowerUnlocksCheat(){for(const r in ar)this.towersData[ar[r].name].unlocked=!0,this.towersData[ar[r].name].unlocksAvailable=12}setToDataFromServer(r){this.guestUser=!1,this.username=r.username,this.email=r.email,this.lastUpdatedVersion=r.last_updated_version,this.transmutationEssence=r.transmutation_essence,this.level=r.level,this.xp=r.xp,this.xpRequired=this.calcRequiredXp(),this.unlockedMapComplexities.Average=r.unlocked_complexities>1,this.unlockedMapComplexities.Complex=r.unlocked_complexities>2,this.unlockedMapComplexities.Evil=r.unlocked_complexities>3,this.unlockedDifficulties.Normal=r.unlocked_difficulties>1,this.unlockedDifficulties.Hard=r.unlocked_difficulties>2,this.unlockedDifficulties.Extreme=r.unlocked_difficulties>3;for(const t of r.towers){this.towersData[t.tower_name].unlocked=t.unlocked,this.towersData[t.tower_name].xp=t.xp,this.towersData[t.tower_name].unlocksAvailable=t.unlocks_available,this.towersData[t.tower_name].mods[1]=t.mod_1,this.towersData[t.tower_name].mods[2]=t.mod_2,this.towersData[t.tower_name].mods[3]=t.mod_3,this.towersData[t.tower_name].upgradesUnlocked=t.upgrades_unlocked.split(":");const e=this.towersData[t.tower_name].unlocksAvailable+this.towersData[t.tower_name].upgradesUnlocked.length-2;this.towersData[t.tower_name].xpRequired=this.calcRequiredXp(e)}this.checkAndRunVersionUpdates(),Jo()}setToLocalStorageData(){let r=new hs("Nameless","tester@hotmail.com");localStorage.getItem("guestUser")&&(r=JSON.parse(localStorage.getItem("guestUser")));for(const t in r)this[t]=r[t];this.checkAndRunVersionUpdates(),Jo()}}const t1=(o="Nameless",r="tester@hotmail.com",t=!0)=>{const e=new hs(o,r),l=t?"guestUser":"user";if(localStorage.getItem(l)){const u=JSON.parse(localStorage.getItem(l));for(const h in u)e[h]=u[h]}return e.checkAndRunVersionUpdates(),e},Jo=async()=>{const o=et.guestUser?"guestUser":"user";if(console.log(o),localStorage.setItem(o,JSON.stringify(et)),!et.guestUser)try{await cs.post("/users/update",n1(),Fv())}catch(r){console.log(r)}},r1=(o="Nameless",r="tester@hotmail.com",t=et.guestUser)=>{const e=new hs(o,r,t);for(const l in e)et[l]=e[l];et.checkAndRunVersionUpdates(),Jo()},ou=o=>{localStorage.setItem("JWT",o)},Zh=()=>localStorage.getItem("JWT"),n1=()=>{const o=new hs(et.username,et.email,!1);o.guestUser=et.guestUser,o.username=et.username,o.email=et.email,o.lastUpdatedVersion=et.lastUpdatedVersion,o.transmutationEssence=b.round(et.transmutationEssence),o.level=b.round(et.level),o.xp=b.floor(et.xp),o.xpRequired=b.round(et.xpRequired),o.unlockedMapComplexities.Average=et.unlockedMapComplexities.Average,o.unlockedMapComplexities.Complex=et.unlockedMapComplexities.Complex,o.unlockedMapComplexities.Evil=et.unlockedMapComplexities.Evil,o.unlockedDifficulties.Normal=et.unlockedDifficulties.Normal,o.unlockedDifficulties.Hard=et.unlockedDifficulties.Hard,o.unlockedDifficulties.Extreme=et.unlockedDifficulties.Extreme;for(const r in et.towersData)o.towersData[r].unlocked=et.towersData[r].unlocked,o.towersData[r].xp=b.floor(et.towersData[r].xp),o.towersData[r].unlocksAvailable=b.round(et.towersData[r].unlocksAvailable),o.towersData[r].mods[1]=b.round(et.towersData[r].mods[1]),o.towersData[r].mods[2]=b.round(et.towersData[r].mods[2]),o.towersData[r].mods[3]=b.round(et.towersData[r].mods[3]),o.towersData[r].upgradesUnlocked=et.towersData[r].upgradesUnlocked,o.towersData[r].xpRequired=b.round(et.towersData[r].xpRequired);return o},o1=t1(),et=o1,s1=0,i1=1,zc=(o,r,t,e=s1,l=oo,u=i1)=>{const h=t/2,n=t/4,p=t*(3/8);b.push(),b.strokeWeight(u),b.fill(Rt),b.translate(o,r),b.rotate(e),b.beginShape(),b.vertex(-h,-p),b.quadraticVertex(-h,-h,-p,-h),b.vertex(p,-h),b.quadraticVertex(h,-h,h,-p),b.vertex(h,p),b.quadraticVertex(h,h,p,h),b.vertex(-p,h),b.quadraticVertex(-h,h,-h,p),b.endShape(b.CLOSE),b.noFill(),b.strokeWeight(u*4),b.curve(-n*1.3,t*2.5,-n*1.3,-h,n*1.3,-h,n*1.3,t*2.5),b.strokeWeight(0),b.fill(l),b.circle(0,-n/2,n),b.rect(-t/16,-n/2,t/8,t/3),b.pop()},cl=new In(0,0,b.windowWidth,b.windowHeight,3,7);class a1{constructor(r,t={}){G(this,"maxHp");G(this,"hp");G(this,"gold");G(this,"color");G(this,"menuColor");G(this,"hexSize");G(this,"menuTowerSize");G(this,"selectedTower");G(this,"selectedTowerType");G(this,"draggingTowerType");G(this,"buyingTowerType");G(this,"selectedUpgrade");G(this,"buyingMultiple");G(this,"bases");G(this,"towers");G(this,"projectiles");G(this,"minions");G(this,"obstacles");G(this,"visualEffects");G(this,"pathsToGenerate");G(this,"currentSeed");G(this,"accumulatedXp");G(this,"upgradeButton");G(this,"sellButton");G(this,"buildManyButton");G(this,"buildButton");G(this,"menuStartX");G(this,"menuWidth");G(this,"menuWidthPercent");G(this,"menuHeightPercent");G(this,"mainMenuStartY");G(this,"mainMenuHeight");G(this,"infoMenuY");G(this,"menuTowerPositions");this.maxHp=r*ur.MAOU_HP_MOD,this.hp=this.maxHp,this.gold=1500,this.color=t.color??b.color(vs),this.menuColor=t.menuColor??b.color(Xm),this.hexSize=t.hexSize??He,this.menuTowerSize=this.hexSize*1.2,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedTowerType=null,this.draggingTowerType=null,this.buyingTowerType=null,this.selectedUpgrade=null,this.buyingMultiple=!1,this.projectiles=[],this.visualEffects=[],this.minions=[],this.obstacles=[],this.pathsToGenerate=[],this.currentSeed="",this.accumulatedXp=0,this.upgradeButton=new Yt(b.createVector(0,0),0,0,"",()=>{}),this.sellButton=new Yt(b.createVector(0,0),0,0,"",()=>{}),this.buildButton=new Yt(b.createVector(0,0),0,0,"",()=>{}),this.buildManyButton=new Yt(b.createVector(0,0),0,0,"",()=>{}),this.menuStartX=b.width*(3/4),this.menuWidth=b.width-this.menuStartX,this.menuWidthPercent=this.menuWidth/100,this.menuHeightPercent=b.height/100,this.mainMenuStartY=this.menuHeightPercent*15,this.mainMenuHeight=b.height-this.mainMenuStartY,this.infoMenuY=this.mainMenuStartY+this.mainMenuHeight/2,this.menuTowerPositions=this.setSideMenuTowerPositions()}reset(){this.hp=this.maxHp,this.gold=1500,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedUpgrade=null,this.selectedTowerType=null,this.draggingTowerType=null,this.buyingTowerType=null,this.buyingMultiple=!1,this.projectiles=[],this.visualEffects=[],this.minions=[],this.obstacles=[],this.pathsToGenerate=[],this.accumulatedXp=0,this.upgradeButton=new Yt(b.createVector(0,0),0,0,"",()=>{}),this.sellButton=new Yt(b.createVector(0,0),0,0,"",()=>{}),this.buildButton=new Yt(b.createVector(0,0),0,0,"",()=>{}),this.buildManyButton=new Yt(b.createVector(0,0),0,0,"",()=>{}),this.menuStartX=b.width*(3/4),this.menuWidth=b.width-this.menuStartX,this.menuWidthPercent=this.menuWidth/100,this.menuHeightPercent=b.height/100,this.mainMenuStartY=this.menuHeightPercent*15,this.mainMenuHeight=b.height-this.mainMenuStartY,this.infoMenuY=this.mainMenuStartY+this.mainMenuHeight/2,this.menuTowerPositions=this.setSideMenuTowerPositions()}recalcMenuSizes(){this.menuStartX=b.width*(3/4),this.menuWidth=b.width-this.menuStartX,this.menuWidthPercent=this.menuWidth/100,this.menuHeightPercent=b.height/100,this.mainMenuStartY=this.menuHeightPercent*15,this.mainMenuHeight=b.height-this.mainMenuStartY,this.infoMenuY=this.mainMenuStartY+this.mainMenuHeight/2,this.menuTowerPositions=this.setSideMenuTowerPositions()}show(){this.recalcMenuSizes(),b.strokeWeight(this.hexSize/12),b.fill(this.menuColor),b.stroke(Rt),b.rect(this.menuStartX,0,this.menuWidth,b.height),b.line(this.menuStartX,this.mainMenuStartY,b.width,this.mainMenuStartY),b.textSize(this.hexSize*1.5),b.fill(0),b.text(`${b.floor(this.gold)}`,this.menuStartX+this.menuWidthPercent*10,this.menuHeightPercent*8),b.text(`${b.floor(this.hp)}`,this.menuStartX+this.menuWidthPercent*60,this.menuHeightPercent*8),b.fill(zs),Xs(this.menuStartX+this.menuWidthPercent*40,this.menuHeightPercent*8-this.hexSize*.5,this.hexSize*.8),bg(this.menuStartX+this.menuWidthPercent*90,this.menuHeightPercent*8-this.hexSize*.5,this.hexSize*1.4),b.strokeWeight(2),b.line(this.menuStartX,this.infoMenuY,b.width,this.infoMenuY),this.selectedTower?this.showSelectedTower():this.showTowerMenu()}setSideMenuTowerPositions(){const r={},t=b.createVector(this.menuStartX+this.menuWidthPercent*15,this.mainMenuStartY+this.menuHeightPercent*8),e=0,l=this.hexSize*3;let u=0,h=1;for(const n in ar){const p=parseInt(n);ar[p];const f=b.createVector(t.x+b.cos(e)*l*u,t.y+b.sin(e)*l*u);r[p]=f.copy(),u++,u>4&&(u=0,t.x+=b.cos(b.PI/3*h)*l,t.y+=b.sin(b.PI/3*h)*l,h=h*2%3)}return r}showTowerMenu(){b.push(),b.strokeWeight(1);for(const r in ar){const t=parseInt(r),e=ar[t],l=this.menuTowerPositions[t];b.fill(e.rgb),dr(l.x,l.y,this.menuTowerSize),et.towersData[e.name].unlocked?e.showSymbol(b.createVector(l.x,l.y),this.menuTowerSize,{}):(b.push(),b.fill(Rt),zc(l.x,l.y,this.hexSize),b.pop())}b.pop(),this.selectedTowerType&&this.showTowerTypeInfo()}showSelectedTower(){if(!this.selectedTower)return;b.push(),this.selectedTower.showRange();const r=b.createVector(b.width-this.hexSize*2,this.mainMenuStartY+this.hexSize*2),t=this.hexSize,e=b.createVector(this.menuStartX+this.menuWidth/2,this.mainMenuStartY+this.mainMenuHeight/4);b.fill(nn),vg(r.x+t/2,r.y-t/2,t,1),b.textAlign(b.CENTER,b.CENTER),b.strokeWeight(1),b.textSize(this.hexSize),b.fill(Rt),et.towersData[this.selectedTower.name].upgradesUnlocked.length<15&&(b.text(`Unlocks Available: ${et.towersData[this.selectedTower.name].unlocksAvailable}`,e.x-this.menuWidthPercent*10,e.y+this.menuHeightPercent*19),Qh(e.x+this.menuWidthPercent*30,e.y+this.menuHeightPercent*19,this.menuWidthPercent*20,b.min(et.towersData[this.selectedTower.name].xp/et.towersData[this.selectedTower.name].xpRequired,1))),this.selectedTower.show(e),b.textSize(this.hexSize*.6);let l=0,u=0,h=this.hexSize*2;for(const n in this.selectedTower.upgrades){const p=this.selectedTower.upgrades[n],f=b.createVector(e.x+b.cos(u)*h,e.y+b.sin(u)*h);p.purchased?b.fill(zl):p.available?b.fill(Hs):b.fill(Ja),b.strokeWeight(1),this.selectedUpgrade===p&&b.strokeWeight(3),dr(f.x,f.y,this.hexSize),b.fill(Rt),b.strokeWeight(1),et.towersData[this.selectedTower.name].upgradesUnlocked.includes(n)?b.text(n,f.x,f.y):zc(f.x,f.y,this.hexSize*.8),u+=b.TWO_PI/3,l++,l%3===0&&(h+=this.hexSize*2,l===6&&(h-=this.hexSize*4,u+=b.PI/3))}if(this.selectedUpgrade){const n=this.menuStartX+this.menuWidthPercent*50;b.strokeWeight(1),b.textSize(this.hexSize*.8),b.text(`${this.selectedUpgrade.name}`,n,this.infoMenuY+this.menuHeightPercent*6),b.text(`Cost: ${this.getTowerUpgradeCost(this.selectedTower,this.selectedUpgrade,this.selectedTower.name)}`,n,this.infoMenuY+this.menuHeightPercent*12),b.rectMode(b.CENTER),b.text(`${this.selectedUpgrade.description}`,n,this.infoMenuY+this.menuHeightPercent*25,this.menuWidthPercent*80,this.menuHeightPercent*25),this.upgradeButton=new Yt(b.createVector(n,this.infoMenuY+this.menuHeightPercent*35),this.menuWidthPercent*35,this.menuHeightPercent*5,et.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedUpgrade.purchased?"Obtained":"Purchase":"Unlock",()=>{!this.selectedTower||!this.selectedUpgrade||!this.selectedUpgrade.available||(et.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.tryPurchaseUpgrade(this.selectedTower,this.selectedUpgrade):et.towersData[this.selectedTower.name].unlocksAvailable>0&&et.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id))},this.hexSize*1.2,this.selectedUpgrade.available?b.color(Hs):b.color(Ja),b.color(Rt)),this.upgradeButton.show()}else{b.textAlign(b.CENTER,b.CENTER),b.strokeWeight(1),b.textSize(this.hexSize),b.fill(Rt),b.rectMode(b.CENTER);const n=ar[this.selectedTower.towerId];b.text(`${n.name}`,e.x,this.infoMenuY+this.menuHeightPercent*5),b.text(`${n.description}`,e.x,this.infoMenuY+this.menuHeightPercent*15,this.menuWidthPercent*90,this.menuHeightPercent*20),b.text(`${this.selectedTower.extraMenuShowText}`,e.x,this.infoMenuY+this.menuHeightPercent*30,this.menuWidthPercent*90,this.menuHeightPercent*20),this.sellButton=new Yt(b.createVector(e.x,this.infoMenuY+this.menuHeightPercent*38),this.menuWidthPercent*35,this.menuHeightPercent*4,`Sell (${this.selectedTower.spendValue*ur.TOWER_SELL_MOD})`,()=>{this.selectedTower&&this.sellTower(this.selectedTower)},this.hexSize*1.2,b.color(Do),b.color(Rt)),this.sellButton.show()}b.pop()}showTowerTypeInfo(){if(!this.selectedTowerType)return;b.push();const r=b.createVector(this.menuStartX+this.menuWidth/2,this.mainMenuStartY+this.mainMenuHeight/4),t=this.mainMenuStartY+this.mainMenuHeight/2;b.textAlign(b.CENTER,b.CENTER),b.strokeWeight(1),b.textSize(this.hexSize),b.fill(Rt),b.rectMode(b.CENTER),b.text(`${this.selectedTowerType.name} (${this.selectedTowerType.hotkey})`,r.x,t+this.menuHeightPercent*5),b.text(`${this.selectedTowerType.description}`,r.x,t+this.menuHeightPercent*15,this.menuWidthPercent*90,this.menuHeightPercent*20),this.buildButton=new Yt(b.createVector(r.x-this.menuWidthPercent*27,t+this.menuHeightPercent*38),this.menuWidthPercent*40,this.menuHeightPercent*6,`Build (${b.round(this.selectedTowerType.cost*ur.TOWER_COST_MOD)})`,()=>{this.selectedTowerType&&(this.buyingTowerType=this.selectedTowerType)},this.hexSize*1.2,b.color(Do),b.color(Rt)),this.buildManyButton=new Yt(b.createVector(r.x+this.menuWidthPercent*27,t+this.menuHeightPercent*38),this.menuWidthPercent*40,this.menuHeightPercent*6,"Build Multiple",()=>{this.selectedTowerType&&(this.buyingTowerType=this.selectedTowerType,this.buyingMultiple=!0)},this.hexSize*1.2,b.color(Do),b.color(Rt)),this.buildButton.show(),this.buildManyButton.show(),b.pop()}updateAll(){this.updateTowers(),this.updateProjectiles(),this.updateMinions(),this.updateObstacles(),this.updateAndShowVisuals()}showAll(r=!1){this.showObstacles(),this.showMinions(),this.showProjectiles(),r&&this.onlyShowVisuals()}generateAllNeccesaryPaths(){ae.generateAllPathsThroughFloodFill(qt.spawners,this.bases),ae.generateAllPathsThroughFloodFill(qt.spawners,this.bases,!1,Am,1);for(const r of this.pathsToGenerate)ae.generateAllPathsThroughFloodFill(qt.spawners,r.origin,!1,r.name,r.waterCost,r.stopAfter)}moveBuffs(r,t){for(const e of r.buffs)t.applyBuff(e)}tryPlaceTower(r,t){const e=t?ae.getHexVectorFromXY(t.x,t.y):ae.getHexVectorFromXY(b.mouseX,b.mouseY);if(ae.rqVectorIsOnGrid(e,ae.wallRing)&&this.gold>=this.getTowerCost(ae.grid[e.x][e.y],r)){const l=ae.grid[e.x][e.y],u=l.wall;l.wall=!0;const h=l.canUnit;l.canUnit=!1;const n=l.canWaterUnit;l.canWaterUnit=!1,ae.generateAllPathsThroughFloodFill(qt.spawners,this.bases,!0)&&!l.isTower&&this.placeTower(r.id,l)||(l.wall=u,l.canUnit=h,l.canWaterUnit=n);return}}placeTower(r,t){const e=ar[r];let l="canTower";if(e.towerType==="WATER"&&(l="canWaterTower"),e.towerType==="LAVA"&&(l="canLavaTower"),t.isTower||!t[l]||!et.towersData[e.name].unlocked)return!1;const u=this.getTowerCost(t,e),h=Ey.getTower(r,t,{changedCost:u});return this.towers.push(h),ae.addTowerToGrid(h),this.moveBuffs(t,h),this.gold-=u,this.generateAllNeccesaryPaths(),!0}getTowerCost(r,t){return this.checkCostThroughBuffs(r,b.round(t.cost*ur.TOWER_COST_MOD),t.name)}checkCostThroughBuffs(r,t,e){let l=t;for(const u of r.buffs)l=u.onPurchase(r,l,e);return l}tryPurchaseUpgrade(r,t){if(t.purchased||!t.available)return;const e=this.getTowerUpgradeCost(r,t,r.name);this.gold<e||(this.gold-=e,r.purchaseUpgrade(t,e))}getTowerUpgradeCost(r,t,e){return this.checkUpgradeCostThroughBuffs(r,b.round(t.cost*ur.TOWER_COST_MOD),e)}checkUpgradeCostThroughBuffs(r,t,e){let l=t;for(const u of r.buffs)l=u.onSkillPurchase(r,l,e);return l}sellTower(r){if(!r.isTower)return!1;for(let t=this.towers.length-1;t>=0;t--)this.towers[t].r===r.r&&this.towers[t].q===r.q&&(this.towers[t].onSell(),this.gold+=b.round(this.towers[t].spendValue*ur.TOWER_SELL_MOD),this.towers.splice(t,1));return ae.removeTowerFromGrid(r),this.moveBuffs(r,ae.grid[r.r][r.q]),this.deSelectTower(),!0}selectTower(r){this.selectedUpgrade=null,this.selectedTower=r}deSelectTower(){this.selectedTower=null,this.selectedUpgrade=null}clickInMenu(r=!1){if(this.buyingTowerType){this.tryPlaceTower(this.buyingTowerType);const t=ae.getHexVectorFromXY(b.mouseX,b.mouseY);ae.rqVectorIsOnGrid(t,ae.wallRing)&&this.buyingMultiple||(this.buyingTowerType=null,this.buyingMultiple=!1)}if(!this.selectedTower){this.clickMenuTowerSelect(),this.selectedTowerType&&(this.buildButton.clicked()&&this.buildButton.onClick(),this.buildManyButton.clicked()&&this.buildManyButton.onClick());return}if(this.clickUpgrade(r),!this.selectedUpgrade){this.sellButton.clicked()&&this.sellButton.onClick();return}this.upgradeButton.clicked()&&this.upgradeButton.onClick()}doubleClicked(){if(this.selectedTower){this.clickUpgrade(!0);return}const r=this.mouseOnMenuTower();if(r===null)return;const t=ar[r];this.selectedTowerType=t,this.buyingTowerType=this.selectedTowerType,this.buyingMultiple=!0}clickMenuTowerSelect(){const r=this.mouseOnMenuTower();if(r===null)return;const t=ar[r];this.selectedTowerType=t,this.draggingTowerType=t}mouseOnMenuTower(){for(const r in this.menuTowerPositions){const t=parseInt(r),e=this.menuTowerPositions[t];if(zt(b.createVector(b.mouseX,b.mouseY),e)<this.menuTowerSize*this.menuTowerSize)return t}return null}mouseReleased(){this.draggingTowerType&&(this.tryPlaceTower(this.draggingTowerType),this.draggingTowerType=null)}mouseDragged(){return this.draggingTowerType?this.draggingTowerType:null}clickUpgrade(r=!1){if(this.selectedTower===null)return;const t=b.createVector(this.menuStartX+this.menuWidth/2,this.mainMenuStartY+this.mainMenuHeight/4);let e=0,l=0,u=this.hexSize*2;for(const h in this.selectedTower.upgrades){const n=this.selectedTower.upgrades[h],p=b.createVector(t.x+b.cos(l)*u,t.y+b.sin(l)*u);zt(b.createVector(b.mouseX,b.mouseY),p)<this.hexSize*this.hexSize&&(this.selectedUpgrade=n,r&&!n.purchased&&n.available&&(et.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.tryPurchaseUpgrade(this.selectedTower,this.selectedUpgrade):et.towersData[this.selectedTower.name].unlocksAvailable>0&&et.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id))),l+=b.TWO_PI/3,e++,e%3===0&&(u+=this.hexSize*2,e===6&&(u-=this.hexSize*4,l+=b.PI/3))}}updateTowers(){for(const r of this.towers)r.update()||this.sellTower(ae.grid[r.r][r.q])}onWaveEndTowers(){for(const r of this.towers)r.onWaveEnd()}addProjectile(r){this.projectiles.push(r)}updateProjectiles(){cl.emptyQuadTree();for(let r=this.projectiles.length-1;r>=0;r--){if(this.projectiles[r].update()){this.projectiles.splice(r,1);continue}cl.insert(new os(this.projectiles[r].pos,this.projectiles[r]))}}showProjectiles(){for(let r=this.projectiles.length-1;r>=0;r--)this.projectiles[r].show()}addMinion(r){this.minions.push(r)}addObstacle(r){this.obstacles.push(r)}updateMinions(){for(let r=this.minions.length-1;r>=0;r--)this.minions[r].update()&&this.minions.splice(r,1);Ui.emptyQuadTree();for(let r=this.minions.length-1;r>=0;r--)Ui.insert(new os(this.minions[r].pos,this.minions[r]))}showMinions(){for(let r=this.minions.length-1;r>=0;r--)this.minions[r].show()}updateObstacles(){for(let r=this.obstacles.length-1;r>=0;r--)this.obstacles[r].update()&&this.obstacles.splice(r,1);rl.emptyQuadTree();for(let r=this.obstacles.length-1;r>=0;r--)rl.insert(new os(this.obstacles[r].pos,this.obstacles[r]))}showObstacles(){for(let r=this.obstacles.length-1;r>=0;r--)this.obstacles[r].show()}addVisual(r){this.visualEffects.push(r)}updateAndShowVisuals(){for(let r=this.visualEffects.length-1;r>=0;r--)if(this.visualEffects[r].update()){const e=this.visualEffects[r].onExpire();this.visualEffects.splice(r,1),e&&this.addVisual(e)}}onlyShowVisuals(){for(let r=this.visualEffects.length-1;r>=0;r--)this.visualEffects[r].show(this.visualEffects[r])}addBaseToMaou(r){this.bases.push(r)}unitReachedBase(r,t){const e=t.getHexVectorFromXY(r.pos.x,r.pos.y);return t.hexInArray(t.grid[e.x][e.y],this.bases)?(this.hp-=r.damage,!0):!1}unitDied(r){this.gold+=r.goldValue,this.accumulatedXp+=r.xpValue,this.addXpToCurrentTowers()}addXpToCurrentTowers(){et.addXp(this.accumulatedXp,this.towers),this.accumulatedXp=0}increaseHp(r,t=!1){this.hp+r>this.maxHp&&t?this.hp=b.max(this.hp,this.maxHp):this.hp+=r}increaseGold(r){this.gold+=r}randomlyUseGold(){let r=1e3;for(;r>0;){if(b.random()>.5){const t=ar[b.random(Object.keys(ar))];console.log(t),this.tryPlaceTower(t,b.createVector(b.random(b.width),b.random(b.height)))}else{const t=b.random(this.towers);if(t===void 0||t.upgradesPurchased>8)continue;console.log(t),this.tryPurchaseUpgrade(t,t.upgrades[b.random(["A","B","C","A+","B+","C+","AB","BC","CA","AB+","BC+","CA+","AB++","BC++","CA++"])])}r--,console.log(r)}}}const l1=new a1(Za),tt=l1,Jr={name:"Bomber",discription:"Bombers run quickly, and deal high damage, but are a danger to their friends on death.",hp:50,hpScaling:4,damage:75,speed:yt*2,force:yt*.2,mass:1,gold:5,xp:10,baseLevel:8,rgb:Do,explosionRadius:He};class u1 extends zr{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"explosionRadius");this.explosionRadius=Jr.explosionRadius}die(){if(this.dead)return;super.die();const t=Nt.inRangeCircle(this.pos,this.explosionRadius),e=Ui.inRangeCircle(this.pos,this.explosionRadius),l=[...t,...e];for(const u of l){const h=this.maxHp/2;u.takeDamage(new fr("EXPLOSION",h))}tt.addVisual(oa(this.pos,this.explosionRadius*2,4))}}const c1=(o,r)=>new u1(o.x,o.y,hr,{desiredSpeed:Jr.speed,maxForce:Jr.force,hp:Jr.hp+(r-Jr.baseLevel)*Jr.hpScaling,damage:Jr.damage,goldValue:b.max(Jr.gold-(r-Jr.baseLevel),1),xpValue:Jr.xp,color:b.color(Jr.rgb)}),an={name:"Farmer",discription:"A simple farmer, recruited to get rid of a low level threat.",hp:40,hpScaling:5,damage:10,speed:yt*1,force:yt*.1,mass:1,gold:25,xp:10,baseLevel:1,rgb:qm};class d1 extends zr{constructor(r,t,e,l={}){super(r,t,e,l)}}const qc=(o,r)=>new d1(o.x,o.y,hr,{desiredSpeed:an.speed,maxForce:an.force,hp:an.hp+(r-an.baseLevel)*an.hpScaling,damage:an.damage,goldValue:b.max(an.gold-(r-an.baseLevel),1),xpValue:an.xp,color:b.color(an.rgb)}),ln=Object.freeze({name:"Swordsman",discription:"A simple swordsman, slightly trained, unlike the farmers.",hp:120,hpScaling:8,damage:20,speed:yt*1.5,force:yt*.12,mass:1,gold:32,xp:20,baseLevel:3,rgb:Bi});class h1 extends zr{constructor(r,t,e,l={}){super(r,t,e,l)}}const f1=(o,r)=>new h1(o.x,o.y,hr,{desiredSpeed:ln.speed,maxForce:ln.force,hp:ln.hp+(r-ln.baseLevel)*ln.hpScaling,damage:ln.damage,goldValue:b.max(ln.gold-(r-ln.baseLevel),1),xpValue:ln.xp,color:b.color(ln.rgb)}),Xr={name:"Heavy Weight",discription:"A heavy unit, moves slowly, but with great bulk comes great health.",hp:500,hpScaling:35,damage:25,speed:yt*.7,force:yt*.05,mass:2,gold:50,xp:35,baseLevel:6,rgb:nh};class p1 extends zr{constructor(r,t,e,l={}){super(r,t,e,l)}}const m1=(o,r)=>new p1(o.x,o.y,hr,{desiredSpeed:Xr.speed,maxForce:Xr.force,hp:Xr.hp+(r-Xr.baseLevel)*Xr.hpScaling,damage:Xr.damage,mass:Xr.mass,goldValue:b.max(Xr.gold-(r-Xr.baseLevel),1),xpValue:Xr.xp,color:b.color(Xr.rgb)}),Jh=(o,r,t,e=1,l=255)=>{const u=t*2/8,h=t*.65;b.push(),b.translate(o.x,o.y),b.rotate(r.heading()),b.triangle(2*u,-u,2*u,u,3*u,0),b.rotate(b.PI/2),b.push(),b.circle(0,0,t),b.noStroke(),b.fill([...br,l]),Ys(0,0,h,5),b.pop(),b.push(),b.noStroke(),Ys(0,0,h*e,5),b.pop(),b.pop()};class Ks extends zr{constructor(r,t,e,l={}){super(r,t,e,l)}show(){b.push(),b.strokeWeight(2),b.stroke(0),b.fill(this.color),Jh(this.pos,this.vel,this.size,b.max(this.hp/this.maxHp,0)),this.showStatusEffects(),this.armor&&this.armor.show(this.pos,this.size,this.vel.heading()),b.pop()}}const wr=Object.freeze({name:"Paladin",discription:"A heavyly armored holy warrior, heals himself by the blessing of the divine.",hp:2e3,hpScaling:110,damage:250,speed:yt*.6,force:yt*.25,mass:2.5,gold:150,xp:100,baseLevel:10,healBy:1,healScaling:.25,healCooldown:10,rgb:Fm});class g1 extends Ks{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"currentHealCooldown");G(this,"healCooldown");G(this,"healBy");this.currentHealCooldown=wr.healCooldown,this.healCooldown=wr.healCooldown,this.healBy=u.healAmount,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.healSelf())}healSelf(){this.getHeal(this.healBy)}}const y1=(o,r)=>new g1(o.x,o.y,hr,{desiredSpeed:wr.speed,maxForce:wr.force,hp:wr.hp+(r-wr.baseLevel)*wr.hpScaling,damage:wr.damage,mass:wr.mass,goldValue:b.max(wr.gold-(r-wr.baseLevel),1),xpValue:wr.xp,color:b.color(wr.rgb),healAmount:wr.healBy+(r-wr.baseLevel)*wr.healScaling}),$r={name:"Rusher",discription:"Rushers sprint right through your defenses.",hp:240,hpScaling:15,damage:30,speed:yt*3.2,force:yt*.3,mass:.75,gold:33,xp:55,baseLevel:16,rgb:Io};class v1 extends zr{constructor(r,t,e,l={}){super(r,t,e,l)}}const ef=(o,r,t=!1)=>new v1(o.x,o.y,hr,{desiredSpeed:$r.speed,maxForce:$r.force,hp:$r.hp+(r-$r.baseLevel)*$r.hpScaling,damage:$r.damage,mass:$r.mass,goldValue:t?0:b.max($r.gold-(r-$r.baseLevel),1),xpValue:$r.xp,color:b.color($r.rgb)}),xr={name:"Healer",discription:"The Healer heals everyone in around them.",hp:400,hpScaling:20,damage:10,speed:yt*1.3,force:yt*.1,mass:1,gold:50,xp:60,baseLevel:17,healAmount:20,healScaling:2,healCooldown:100,healRange:He*4,rgb:Jd};class b1 extends zr{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"currentHealCooldown");G(this,"healCooldown");G(this,"healAmount");G(this,"healRange");this.currentHealCooldown=xr.healCooldown,this.healCooldown=xr.healCooldown,this.healAmount=u.healAmount,this.healRange=xr.healRange,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.heal())}heal(){const t=Nt.inRangeCircle(this.pos,this.healRange);for(const e of t)e.getHeal(this.healAmount)}}const w1=(o,r)=>new b1(o.x,o.y,hr,{desiredSpeed:xr.speed,maxForce:xr.force,hp:xr.hp+(r-xr.baseLevel)*xr.hpScaling,damage:xr.damage,goldValue:b.max(xr.gold-(r-xr.baseLevel),1),xpValue:xr.xp,color:b.color(xr.rgb),healAmount:xr.healAmount+(r-xr.baseLevel)*xr.healScaling}),Ir=Object.freeze({name:"Summoner",discription:"Slow moving unit that summons rushers as long as she lives.",hp:3500,hpScaling:75,damage:100,speed:yt*.5,force:yt*.3,mass:2,gold:200,xp:200,baseLevel:20,summonCooldown:160,rgb:Ni});class x1 extends Ks{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"currentSummonCooldown");G(this,"summonCooldown");this.currentSummonCooldown=Ir.summonCooldown,this.summonCooldown=Ir.summonCooldown,this.abilityCounters=["currentSummonCooldown"]}update(){super.update(),this.currentSummonCooldown--,this.currentSummonCooldown<=0&&(this.currentSummonCooldown=this.summonCooldown,this.summonRusher())}summonRusher(){const t=ef(this.pos.copy(),this.level,!0);t.addData({summoned:!0}),qt.units.push(t)}}const _1=(o,r)=>new x1(o.x,o.y,hr,{desiredSpeed:Ir.speed,maxForce:Ir.force,hp:Ir.hp+(r-Ir.baseLevel)*Ir.hpScaling,damage:Ir.damage,mass:Ir.mass,goldValue:b.max(Ir.gold-(r-Ir.baseLevel),1),xpValue:Ir.xp,color:b.color(Ir.rgb),level:r}),S1=(o,r,t,e,l,u=1,h=255)=>{const n=t/2,p=t*2/9,f=52,g=b.TWO_PI/f;b.push(),b.translate(o.x,o.y),b.rotate(r.heading()),b.triangle(2*p,-p,2*p,p,3*p,0),b.fill([...br,h]),b.circle(0,0,t),b.noStroke(),b.beginShape();let m=0;b.fill(e);for(let i=0;i<=f/2;i++){const s=b.cos(m)*n*u,a=b.sin(m)*n*u;b.vertex(s,a),m+=g}b.endShape(b.CLOSE),b.beginShape(),b.fill(l),m-=g;for(let i=0;i<=f/2;i++){const s=b.cos(m)*n*u,a=b.sin(m)*n*u;b.vertex(s,a),m+=g}b.endShape(b.CLOSE),b.pop()};class ca extends zr{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"secondColor");this.secondColor=u.secondColor??b.color(Rt)}show(){b.push(),b.strokeWeight(2),b.stroke(0),S1(this.pos,this.vel,this.size,this.color,this.secondColor,b.max(this.hp/this.maxHp,0)),this.showStatusEffects(),this.armor&&this.armor.show(this.pos,this.size,this.vel.heading()),b.pop()}}const Kr=Object.freeze({name:"Knight",discription:"A knight on a quest to slay an evil monster. Apparantly you qualify",hp:1100,hpScaling:50,damage:50,speed:yt*1.7,force:yt*.18,mass:1,gold:75,xp:100,baseLevel:23,rgb:Om,secondRgb:nh});class T1 extends ca{constructor(r,t,e,l={}){super(r,t,e,l)}}const E1=(o,r)=>new T1(o.x,o.y,hr,{desiredSpeed:Kr.speed,maxForce:Kr.force,hp:Kr.hp+(r-Kr.baseLevel)*Kr.hpScaling,damage:Kr.damage,goldValue:b.max(Kr.gold-(r-Kr.baseLevel),1),xpValue:Kr.xp,color:b.color(Kr.rgb),secondColor:b.color(Kr.secondRgb)}),j1=(o,r,t=25,e=b.color(rh))=>new so(o,r,t,e,[],l=>{b.push(),b.stroke(e),b.strokeWeight(3),b.noFill(),b.circle(l.pos.x,l.pos.y,2*r*((t-l.duration)/t)),b.pop()},()=>{}),Sr=Object.freeze({name:"Protector",discription:"The Protector sends out a wave that repels projectiles.",hp:250,hpScaling:10,damage:15,speed:yt*1.5,force:yt*.15,mass:1,gold:55,xp:55,baseLevel:25,pulseRange:He*4,pulseForce:yt*10,pulseDuration:25,pulseCooldown:75,rgb:rh});class C1 extends zr{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"currentPulseCooldown");G(this,"pulseCooldown");G(this,"pulseRange");G(this,"pulseDuration");G(this,"currentPulseDuration");G(this,"pulseForce");G(this,"pulseOrigin");this.currentPulseCooldown=Sr.pulseCooldown,this.pulseCooldown=Sr.pulseCooldown,this.pulseRange=Sr.pulseRange,this.abilityCounters=["currentPulseCooldown"],this.pulseDuration=Sr.pulseDuration,this.currentPulseDuration=Sr.pulseDuration,this.pulseForce=Sr.pulseForce,this.pulseOrigin=this.pos}update(){super.update(),this.currentPulseCooldown--,this.currentPulseCooldown<=0&&(this.currentPulseCooldown=this.pulseCooldown,this.castPulse()),this.currentPulseDuration>0&&(this.currentPulseDuration--,this.advancePulse())}castPulse(){this.pulseOrigin=this.pos.copy(),this.currentPulseDuration=this.pulseDuration,tt.addVisual(j1(this.pulseOrigin,this.pulseRange,this.pulseDuration))}advancePulse(){const t=this.pulseRange*((this.pulseDuration-this.currentPulseDuration)/this.pulseDuration),e=this.pulseRange*(b.max(this.pulseDuration-(this.currentPulseDuration+3),0)/this.pulseDuration),l=cl.inRangeCircleFromMin(this.pulseOrigin,t,e);for(const u of l){const h=ct.Vector.sub(u.pos,this.pulseOrigin).setMag(this.pulseForce);u.applyForce(h)}}}const M1=(o,r)=>new C1(o.x,o.y,hr,{desiredSpeed:Sr.speed,maxForce:Sr.force,hp:Sr.hp+(r-Sr.baseLevel)*Sr.hpScaling,damage:Sr.damage,goldValue:b.max(Sr.gold-(r-Sr.baseLevel),1),xpValue:Sr.xp,color:b.color(Sr.rgb)}),R1=0,A1=2,Yc=(o,r,t,e=R1,l=A1)=>{const u=t*.2;b.push(),b.translate(o,r),b.rotate(e),b.triangle(0,-u*4,u*.8,u*2,-u*.8,u*2),b.strokeWeight(l*1.5),b.line(0,u*3.5,0,u*2.1),b.strokeWeight(l),b.line(u,u*2,-u,u*2),b.pop()},P1=(o,r,t,e="Command",l="PASSIVE")=>new Dr(e,o,l,u=>{},(u,h)=>{b.push(),b.fill(ra),b.stroke(0),b.strokeWeight(0),Yc(h.x,h.y,u.size*(1/3),b.PI/4,.5),Yc(h.x,h.y,u.size*(1/3),-b.PI/4,.5),b.pop()},u=>{u.setSpeedBuffs.push(r),u.recalcSpeedBuffs(),u.additiveMaxForceBuffs.push(t),u.recalcMaxForceBuffs()},u=>{pn(r,u.setSpeedBuffs),u.recalcSpeedBuffs(),pn(t,u.additiveMaxForceBuffs),u.recalcMaxForceBuffs()},!0),Er=Object.freeze({name:"Commander",discription:"The Commander leads those around her to work together, combining a loose militia into an effective force.",hp:4500,hpScaling:110,damage:200,speed:yt*1.6,force:yt*.2,mass:2,gold:350,xp:450,baseLevel:30,commandCooldown:10,commandSpeed:yt*1.6,commandExtraForce:yt*.2,commandRange:He*5,rgb:Wm});class O1 extends Ks{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"currentCommandCooldown");G(this,"commandCooldown");G(this,"commandSpeed");G(this,"commandExtraForce");G(this,"commandRange");this.currentCommandCooldown=Er.commandCooldown,this.commandCooldown=Er.commandCooldown,this.commandSpeed=Er.commandSpeed,this.commandExtraForce=Er.commandExtraForce,this.commandRange=Er.commandRange,this.abilityCounters=["currentCommandCooldown"]}update(){super.update(),this.currentCommandCooldown--,this.currentCommandCooldown<=0&&(this.currentCommandCooldown=this.commandCooldown,this.command())}command(){const t=Nt.inRangeCircle(this.pos,this.commandRange);for(const e of t)e.applyStatus(P1(this.commandCooldown*2,this.commandSpeed,this.commandExtraForce),!0)}}const k1=(o,r)=>new O1(o.x,o.y,hr,{desiredSpeed:Er.speed,maxForce:Er.force,hp:Er.hp+(r-Er.baseLevel)*Er.hpScaling,damage:Er.damage,goldValue:b.max(Er.gold-(r-Er.baseLevel),1),xpValue:Er.xp,color:b.color(Er.rgb)}),en=Object.freeze({name:"Mercenary",discription:"Mercenaries are hired to protect the others during their journey, but are hardly motivated to do much about an overlord.",hp:800,hpScaling:40,damage:1,damageToMinions:50,speed:yt*1.6,force:yt*.2,attackCooldown:10,mass:1,gold:45,xp:80,baseLevel:32,rgb:zm});class D1 extends zr{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"damageToMinions");this.damageToMinions=en.damageToMinions}followPathAndSeekTarget(t,e,l){const u=this.getCurrentTile(),h=t.getCurrentTile();if(ae.aStar(u.r,u.q,h.r,h.q,!0).length>12){this.followPathField(ae.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField);return}this.seekTarget(t)}attack(t){t.takeDamage(new fr("PHYSICAL",this.damageToMinions))}}const L1=(o,r)=>new D1(o.x,o.y,hr,{desiredSpeed:en.speed,maxForce:en.force,hp:en.hp+(r-en.baseLevel)*en.hpScaling,damage:en.damage,goldValue:b.max(en.gold-(r-en.baseLevel),1),xpValue:en.xp,color:b.color(en.rgb),visionRadius:He*6}),I1=(o,r,t="Song of Healing",e="NORMAL")=>new Dr(t,o,e,l=>{l.getHeal(l.maxHp*r)},(l,u)=>{b.push(),b.fill(Hs),Wn(u.x,u.y,l.size*(1/2),0,1,Hs),b.pop()},l=>{},l=>{},!0),B1=(o,r,t="Song of Protection",e="ON_TAKE_DAMAGE")=>new Dr(t,o,e,(l,u,h={damage:new fr("PHYSICAL",0)})=>{h.damage.amount*=r},(l,u)=>{b.push(),b.fill(Ni),Wn(u.x,u.y,l.size*(1/2),0,1,Ni),b.pop()},l=>{},l=>{},!0),N1=(o,r,t="Song of Power",e="PASSIVE")=>new Dr(t,o,e,(l,u,h={damage:new fr("PHYSICAL",0)})=>{},(l,u)=>{b.push(),b.fill(Bi),Wn(u.x,u.y,l.size*(1/2),0,1,Bi),b.pop()},l=>{l.multiplicativeMaxForceBuffs.push(r),l.recalcMaxForceBuffs()},l=>{pn(r,l.multiplicativeMaxForceBuffs),l.recalcMaxForceBuffs()},!0),U1=(o,r,t="Song of Speed",e="PASSIVE")=>new Dr(t,o,e,(l,u,h={damage:new fr("PHYSICAL",0)})=>{},(l,u)=>{b.push(),b.fill(Io),Wn(u.x,u.y,l.size*(1/2),0,1,Io),b.pop()},l=>{l.multiplicativeSpeedBuffs.push(r),l.recalcSpeedBuffs()},l=>{pn(r,l.multiplicativeSpeedBuffs),l.recalcSpeedBuffs()},!0),F1=(o,r,t=50,e=as)=>{const l=[];for(let u=0;u<15;u++)l.push(new so(o,r,t,b.color(e),[],h=>{b.push();const n=uo(b.color(e));n.setAlpha(h.duration*5),b.fill(n),Wn(h.pos.x,h.pos.y,r,0,1,n),b.pop()},()=>{},ct.Vector.random2D().mult(b.random(1,3))));return l},mr=Object.freeze({name:"Bard",discription:"The Bard sings songs to bolster their allies, though their support can be a bit random at times.",hp:750,hpScaling:15,damage:22,speed:yt*1.6,force:yt*.11,mass:1,gold:45,xp:115,baseLevel:36,songCooldown:250,songRange:He*5,songDuration:400,healPercentPerFrame:4e-4,protectionDamageReduction:.5,forceBuffAmount:2,speedBuffAmount:1.35,rgb:el,secondRgb:lh});class V1 extends ca{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"currentSongCooldown");G(this,"songCooldown");G(this,"songRange");G(this,"songDuration");G(this,"healPercentPerFrame");G(this,"protectionDamageReduction");G(this,"forceBuffAmount");G(this,"speedBuffAmount");this.currentSongCooldown=mr.songCooldown,this.songCooldown=mr.songCooldown,this.songRange=mr.songRange,this.songDuration=mr.songDuration,this.healPercentPerFrame=mr.healPercentPerFrame,this.protectionDamageReduction=mr.protectionDamageReduction,this.forceBuffAmount=mr.forceBuffAmount,this.speedBuffAmount=mr.speedBuffAmount,this.abilityCounters=["currentSongCooldown"]}update(){super.update(),this.currentSongCooldown--,this.currentSongCooldown<=0&&(this.currentSongCooldown=this.songCooldown,this.song())}song(){const t=Nt.inRangeCircle(this.pos,this.songRange),e=this.getRandomSong();for(const l of t)e.status?l.applyStatus(e.song,!0):e.song(l);for(const l of F1(this.pos,this.size,50,e.color))tt.addVisual(l)}getRandomSong(){return b.random([{song:I1(this.songDuration,this.healPercentPerFrame),color:Hs,status:!0},{song:B1(this.songDuration,this.protectionDamageReduction),color:Ni,status:!0},{song:N1(this.songDuration,this.forceBuffAmount),color:Bi,status:!0},{song:U1(this.songDuration,this.speedBuffAmount),color:Io,status:!0},{song:this.getSongOfCleansing,color:br,status:!1}])}getSongOfCleansing(t){t.cleanseAllStatuses()}}const G1=(o,r)=>new V1(o.x,o.y,hr,{desiredSpeed:mr.speed,maxForce:mr.force,hp:mr.hp+(r-mr.baseLevel)*mr.hpScaling,damage:mr.damage,goldValue:b.max(mr.gold-(r-mr.baseLevel),1),xpValue:mr.xp,color:b.color(mr.rgb),secondColor:b.color(mr.secondRgb)}),_r=Object.freeze({name:"Illusionist",discription:"The Illusionist has mastered the art of subversion, confusing your towers with her tricks.",hp:8e3,hpScaling:50,damage:300,speed:yt*1.15,force:yt*.19,mass:1,gold:500,xp:500,baseLevel:40,illusionCooldown:400,illusionStartCooldown:100,illusionHp:250,rgb:lh});class H1 extends Ks{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"currentIllusionCooldown");G(this,"illusionCooldown");G(this,"illusions");G(this,"illusionHp");this.currentIllusionCooldown=_r.illusionStartCooldown,this.illusionCooldown=_r.illusionCooldown,this.illusions=[],this.illusionHp=_r.illusionHp,this.abilityCounters=["currentIllusionCooldown"]}update(){super.update(),this.currentIllusionCooldown--,this.currentIllusionCooldown<=0&&(this.currentIllusionCooldown=this.illusionCooldown,this.castIllusions()),this.updateIllusions()}updateIllusions(){for(let t=this.illusions.length-1;t>=0;t--){const e=this.illusions[t];if(e.unit.hp<=0){this.illusions.splice(t,1);continue}const l=ct.Vector.add(this.hexPos,ae.neighborVectorsRQ[e.pos]),u=ae.getDiffVectorFromRQ(this.hexPos.x,this.hexPos.y,l.x,l.y),h=ct.Vector.add(this.pos,u);e.unit.pos.x=h.x,e.unit.pos.y=h.y}}show(){super.show(),this.showIllusions()}showIllusions(){for(const t of this.illusions){const e=ae.getHexVectorFromXY(t.unit.pos.x,t.unit.pos.y);ae.grid[e.x][e.y]===void 0||!ae.grid[e.x][e.y].canUnit||(b.push(),b.noStroke(),b.fill([..._r.rgb,100]),Jh(t.unit.pos,this.vel,t.unit.size,b.max(t.unit.hp/t.unit.maxHp,0),100),b.pop())}}castIllusions(){this.illusions=[];for(let t=0;t<ae.neighborVectorsRQ.length;t++){const e=ct.Vector.add(this.hexPos,ae.neighborVectorsRQ[t]),l=ae.getDiffVectorFromRQ(this.hexPos.x,this.hexPos.y,e.x,e.y),u=ct.Vector.add(this.pos,l),h=new Ks(u.x,u.y,this.size,{hp:this.illusionHp,color:b.color(_r.rgb)});h.addData({summoned:!0}),this.illusions.push({unit:h,pos:t})}}insertIntoQuadTree(){Nt.insert(new os(this.pos,this));for(const t of this.illusions){const e=ae.getHexVectorFromXY(t.unit.pos.x,t.unit.pos.y);ae.grid[e.x][e.y]===void 0||!ae.grid[e.x][e.y].canUnit||Nt.insert(new os(t.unit.pos,t.unit))}}}const W1=(o,r)=>new H1(o.x,o.y,hr,{desiredSpeed:_r.speed,maxForce:_r.force,hp:_r.hp+(r-_r.baseLevel)*_r.hpScaling,damage:_r.damage,mass:_r.mass,goldValue:b.max(_r.gold-(r-_r.baseLevel),1),xpValue:_r.xp,color:b.color(_r.rgb),level:r}),Qr=Object.freeze({name:"Swimmer",discription:"The Swimmer took some swimming classes in high school, and then made it his whole personality. Charming.",hp:600,hpScaling:15,damage:25,speed:yt*1.6,force:yt*.125,mass:1,gold:25,xp:120,baseLevel:42,rgb:Ji,secondRgb:Um});class z1 extends ca{constructor(r,t,e,l={}){super(r,t,e,l)}drown(){}}const q1=(o,r)=>new z1(o.x,o.y,hr,{desiredSpeed:Qr.speed,maxForce:Qr.force,hp:Qr.hp+(r-Qr.baseLevel)*Qr.hpScaling,damage:Qr.damage,goldValue:b.max(Qr.gold-(r-Qr.baseLevel),1),xpValue:Qr.xp,color:b.color(Qr.rgb),secondColor:b.color(Qr.secondRgb),flowField:Pm,canSwim:!0}),kr=Object.freeze({name:"Ninja",discription:'Ninjas are fast and manage to evade damage, and sometimes shout weird things... What even is a "Sasuke"?',hp:700,hpScaling:20,damage:30,speed:yt*3.3,force:yt*.32,mass:.75,gold:30,xp:155,baseLevel:45,rgb:Io,secondRgb:ql,substitutionCooldown:400,substitutionThreshold:.1});class Y1 extends ca{constructor(t,e,l,u={}){super(t,e,l,u);G(this,"substitutionCooldown");G(this,"substitutionCurrentCooldown");G(this,"substitutionThreshold");G(this,"prevPositions");this.substitutionCooldown=kr.substitutionCooldown,this.substitutionCurrentCooldown=1,this.substitutionThreshold=kr.substitutionThreshold,this.prevPositions=[],this.abilityCounters=["substitutionCurrentCooldown"]}update(){this.prevPositions.length>20&&this.prevPositions.splice(0,1),this.prevPositions.push(this.pos.copy()),this.substitutionCurrentCooldown--,super.update()}takeDamage(t){if(t.amount>this.maxHp*this.substitutionThreshold&&this.substitutionCurrentCooldown<1){this.smokeBomb(),this.substitutionCurrentCooldown=this.substitutionCooldown,this.pos=this.prevPositions[0].copy(),this.vel=b.createVector(0,0);return}super.takeDamage(t)}smokeBomb(){for(let t=0;t<40;t++){const e=ct.Vector.fromAngle(b.random(-b.PI,b.PI),this.size/b.random(5,10));tt.addVisual(Th(this.pos,e,4,b.random(10,25),uh(br,ra)))}}}const X1=(o,r,t=!1)=>new Y1(o.x,o.y,hr,{desiredSpeed:kr.speed,maxForce:kr.force,hp:kr.hp+(r-kr.baseLevel)*kr.hpScaling,damage:kr.damage,mass:kr.mass,goldValue:t?0:b.max(kr.gold-(r-kr.baseLevel),1),xpValue:kr.xp,color:b.color(kr.rgb),secondColor:b.color(kr.secondRgb)});var Pe=(o=>(o[o.FARMER=0]="FARMER",o[o.SWORDSMAN=1]="SWORDSMAN",o[o.HEAVYWEIGHT=2]="HEAVYWEIGHT",o[o.BOMBER=3]="BOMBER",o[o.PALADIN=4]="PALADIN",o[o.BERSERKER=5]="BERSERKER",o[o.RUSHER=6]="RUSHER",o[o.HEALER=7]="HEALER",o[o.SUMMONER=8]="SUMMONER",o[o.KNIGHT=9]="KNIGHT",o[o.PROTECTOR=10]="PROTECTOR",o[o.COMMANDER=11]="COMMANDER",o[o.MERCENARY=12]="MERCENARY",o[o.BARD=13]="BARD",o[o.ILLUSIONIST=14]="ILLUSIONIST",o[o.SWIMMER=15]="SWIMMER",o[o.NINJA=16]="NINJA",o))(Pe||{});const $1={[0]:an,[1]:ln,[2]:Xr,[3]:Jr,[4]:wr,[5]:Zr,[6]:$r,[7]:xr,[8]:Ir,[9]:Kr,[10]:Sr,[11]:Er,[12]:en,[13]:mr,[14]:_r,[15]:Qr,[16]:kr},K1=(o,r,t,e=0,l=b)=>{const u=t/2,h=t*(3/8),n=t*(1/11),p={x:0,y:-u},f={x:0,y:u},g={x:h,y:-h},m={x:-h,y:-h};l.push(),l.translate(o,r),l.rotate(e),l.beginShape(),l.vertex(m.x,m.y),l.quadraticVertex(-n*2,-n*3,p.x,p.y),l.quadraticVertex(n*2,-n*3,g.x,g.y),l.quadraticVertex(n*4,n*5,f.x,f.y),l.quadraticVertex(-n*4,n*5,m.x,m.y),l.endShape(l.CLOSE),l.pop()},Yo={STEEL:{hpMultiplier:1.5,damageReductionFlatPerType:{PHYSICAL:2,POISON:0,FIRE:1,EXPLOSION:2,DROWN:0},damageReductionPercentPerType:{PHYSICAL:.5,POISON:0,FIRE:.5,EXPLOSION:1,DROWN:0},weight:1,color:ra},MITHRIL:{hpMultiplier:3,damageReductionFlatPerType:{PHYSICAL:10,POISON:1,FIRE:5,EXPLOSION:10,DROWN:0},damageReductionPercentPerType:{PHYSICAL:2/3,POISON:.25,FIRE:2/3,EXPLOSION:1,DROWN:0},weight:.2,color:Ws}};class Q1{constructor(r,t){G(this,"type");G(this,"hp");G(this,"maxHp");G(this,"hpPercentToAlpha");G(this,"damageReductionFlatPerType");G(this,"damageReductionPercentPerType");G(this,"weight");G(this,"color");this.type=r,this.maxHp=t*Yo[r].hpMultiplier,this.hp=t*Yo[r].hpMultiplier,this.hpPercentToAlpha=200,this.damageReductionFlatPerType=Yo[r].damageReductionFlatPerType,this.damageReductionPercentPerType=Yo[r].damageReductionPercentPerType,this.weight=Yo[r].weight,this.color=Yo[r].color}reduceDamage(r){r.amount=b.max(r.amount-this.damageReductionFlatPerType[r.type],0);const t=r.amount*this.damageReductionPercentPerType[r.type];return this.hp-=t,r.amount=b.max(r.amount-t,0),this.hpPercentToAlpha=this.hp/this.maxHp*200,r}show(r,t,e){b.push(),b.strokeWeight(1),b.stroke(this.color),b.fill([...this.color,this.hpPercentToAlpha]),K1(r.x,r.y,t*.8),b.pop()}}class Xc{constructor(){}static getUnit(r,t,e,l){let u;switch(r){case Pe.FARMER:u=qc(t,e);break;case Pe.SWORDSMAN:u=f1(t,e);break;case Pe.HEAVYWEIGHT:u=m1(t,e);break;case Pe.BOMBER:u=c1(t,e);break;case Pe.PALADIN:u=y1(t,e);break;case Pe.BERSERKER:u=yg(t,e);break;case Pe.RUSHER:u=ef(t,e);break;case Pe.HEALER:u=w1(t,e);break;case Pe.SUMMONER:u=_1(t,e);break;case Pe.KNIGHT:u=E1(t,e);break;case Pe.PROTECTOR:u=M1(t,e);break;case Pe.COMMANDER:u=k1(t,e);break;case Pe.MERCENARY:u=L1(t,e);break;case Pe.BARD:u=G1(t,e);break;case Pe.ILLUSIONIST:u=W1(t,e);break;case Pe.SWIMMER:u=q1(t,e);break;case Pe.NINJA:u=X1(t,e);break;default:console.log("Wrong input"),u=qc(t,e);break}if(!l)return u;const h=new Q1(l,u.hp);return u.addArmor(h),u}}const tf={wave:[],message:"First come just some lowly Farmers, should be no issue."};for(let o=0;o<12;o++)tf.wave.push({unit:Pe.FARMER,cooldown:100});const rf={wave:[],message:"More of the same thing, just slightly closer together."};for(let o=0;o<15;o++)rf.wave.push({unit:Pe.FARMER,cooldown:70});const nf={wave:[],message:"Swordsmen are slightly stronger than farmers, still though, no self respecting overlord should be having issues at this point."};for(let o=0;o<12;o++)nf.wave.push({unit:Pe.SWORDSMAN,cooldown:90});const dl={wave:[],message:"This time they're both coming at you."};for(let o=0;o<7;o++){for(let r=0;r<2;r++)dl.wave.push({unit:Pe.FARMER,cooldown:35});dl.wave.push({unit:Pe.SWORDSMAN,cooldown:100})}const hl={wave:[],message:"Those cowardly Farmers think they're safer in groups. Let's show them how wrong they are."};for(let o=0;o<7;o++){for(let r=0;r<5;r++)hl.wave.push({unit:Pe.FARMER,cooldown:5});hl.wave.push({unit:Pe.FARMER,cooldown:160})}const Po={wave:[],message:"The first Heavyweights are about to show up, they can take a hit, but are vulnerable to slow and push effects."};for(let o=0;o<2;o++)Po.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:200}),Po.wave.push({unit:Pe.SWORDSMAN,cooldown:25}),Po.wave.push({unit:Pe.SWORDSMAN,cooldown:25}),Po.wave.push({unit:Pe.SWORDSMAN,cooldown:220});Po.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:125});Po.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:125});const of={wave:[],message:"So many Swordsmen almost make an army. Good thing overlords make a business out of squasing those."};for(let o=0;o<20;o++)of.wave.push({unit:Pe.SWORDSMAN,cooldown:45});const sf={wave:[],message:"Those Bombers carry explosives to blow up our base, but if you blow them up they'll damage their own allies."};for(let o=0;o<40;o++)sf.wave.push({unit:Pe.BOMBER,cooldown:12});const xi={wave:[],message:"Next is a nice mix of lots of weaklings and a few strong ones."};for(let o=0;o<4;o++){xi.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:30});for(let r=0;r<15;r++)xi.wave.push({unit:Pe.FARMER,cooldown:60});xi.wave.push({unit:Pe.FARMER,cooldown:30})}const af={wave:[],message:"A bonefide Paladin has heard of the 'evil' you've been up to, and has decided that should end. Look out for his divine blessing which slowly regenerates his health."};af.wave.push({unit:Pe.PALADIN,cooldown:10});const lf={wave:[],message:"That's a lot of Swordsmen. They never learn do they."};for(let o=0;o<50;o++)lf.wave.push({unit:Pe.SWORDSMAN,cooldown:35});const _i={wave:[],message:"Groups of heavies are a pain, but I bet you could use those bombers to your advantage."};for(let o=0;o<4;o++){for(let r=0;r<3;r++)_i.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:4});_i.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:210});for(let r=0;r<12;r++)_i.wave.push({unit:Pe.BOMBER,cooldown:45})}const fl={wave:[],message:"Berserkers turn pain into pleasure, uhh, I mean, into a rage they use to rush right through your defenses."};for(let o=0;o<9;o++)fl.wave.push({unit:Pe.BERSERKER,cooldown:10}),fl.wave.push({unit:Pe.BERSERKER,cooldown:190});const pl={wave:[],message:"Next wave benefits from those sweet big hits me thinks."};for(let o=0;o<12;o++)pl.wave.push({unit:Pe.BERSERKER,cooldown:40}),pl.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:40});const ml={wave:[],message:"Slow and high health, this wave takes a while."};for(let o=0;o<3;o++){ml.wave.push({unit:Pe.PALADIN,cooldown:280});for(let r=0;r<8;r++)ml.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:130})}const uf={wave:[],message:"The first Rushers are about to show, they are a bit hard to deal with, but a few good hits should do the trick."};for(let o=0;o<22;o++)uf.wave.push({unit:Pe.RUSHER,cooldown:60});const Si={wave:[],message:"Those Swordsmen mobs are still not giving up. This time they brought some Healers along."};for(let o=0;o<5;o++){Si.wave.push({unit:Pe.HEALER,cooldown:35});for(let r=0;r<7;r++)Si.wave.push({unit:Pe.SWORDSMAN,cooldown:25});Si.wave.push({unit:Pe.SWORDSMAN,cooldown:190})}const Ti={wave:[],message:"Don't let those Healers do their thing!"};for(let o=0;o<13;o++)Ti.wave.push({unit:Pe.HEALER,cooldown:45}),Ti.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:45}),Ti.wave.push({unit:Pe.HEALER,cooldown:195});const Rs={wave:[],message:"Rushers and Berserkers, it's a hectic round."};for(let o=0;o<7;o++)Rs.wave.push({unit:Pe.BERSERKER,cooldown:30}),Rs.wave.push({unit:Pe.RUSHER,cooldown:60}),Rs.wave.push({unit:Pe.RUSHER,cooldown:60}),Rs.wave.push({unit:Pe.RUSHER,cooldown:30});const cf={wave:[],message:"Best kill this Summoner quickly if you don't want to be overrun."};cf.wave.push({unit:Pe.SUMMONER,cooldown:10});const Ei={wave:[],message:"It seems one of these geniuses came up with the idea of actually wearing armor. And here I thought they all shared their one braincell."};for(let o=0;o<4;o++){for(let r=0;r<4;r++)Ei.wave.push({unit:Pe.SWORDSMAN,cooldown:40,armor:"STEEL"}),Ei.wave.push({unit:Pe.SWORDSMAN,cooldown:40});Ei.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:150,armor:"STEEL"})}const Ur={wave:[],message:"Some actual armor tidbits this time, you look like you need it :p. Armor mitigates small hits more than large ones, however poison goes straight through. Explosions on the other hand get fully absorbed."};for(let o=0;o<1;o++){for(let r=0;r<6;r++)Ur.wave.push({unit:Pe.FARMER,cooldown:25});Ur.wave.push({unit:Pe.FARMER,cooldown:300,armor:"STEEL"});for(let r=0;r<5;r++)Ur.wave.push({unit:Pe.SWORDSMAN,cooldown:25});Ur.wave.push({unit:Pe.SWORDSMAN,cooldown:300,armor:"STEEL"});for(let r=0;r<4;r++)Ur.wave.push({unit:Pe.BOMBER,cooldown:25});Ur.wave.push({unit:Pe.BOMBER,cooldown:300,armor:"STEEL"});for(let r=0;r<3;r++)Ur.wave.push({unit:Pe.BERSERKER,cooldown:25});Ur.wave.push({unit:Pe.BERSERKER,cooldown:300,armor:"STEEL"});for(let r=0;r<2;r++)Ur.wave.push({unit:Pe.RUSHER,cooldown:25});Ur.wave.push({unit:Pe.RUSHER,cooldown:300,armor:"STEEL"});for(let r=0;r<1;r++)Ur.wave.push({unit:Pe.HEALER,cooldown:25});Ur.wave.push({unit:Pe.HEALER,cooldown:300,armor:"STEEL"})}const gl={wave:[],message:"The Knights are coming. They are pretty strong allrounders, their weakness however, is that they are friggin boring. Go have skill or quirk! Pathetic."};for(let o=0;o<4;o++){for(let r=0;r<2;r++)gl.wave.push({unit:Pe.KNIGHT,cooldown:90});gl.wave.push({unit:Pe.KNIGHT,cooldown:250})}const yl={wave:[],message:"Not sure they thought this combo through..."};for(let o=0;o<12;o++){yl.wave.push({unit:Pe.HEALER,cooldown:75});for(let r=0;r<3;r++)yl.wave.push({unit:Pe.BERSERKER,cooldown:100,armor:"STEEL"})}const No={wave:[],message:"The Protectors figured out we like to shoot things at them, and will try to defend themselves and others. Rather weak once you do get them good though."};for(let o=0;o<5;o++)No.wave.push({unit:Pe.PROTECTOR,cooldown:80});for(let o=0;o<5;o++)No.wave.push({unit:Pe.PROTECTOR,cooldown:40}),No.wave.push({unit:Pe.SWORDSMAN,cooldown:40,armor:"STEEL"});No.wave.push({unit:Pe.PROTECTOR,cooldown:240});for(let o=0;o<1;o++){for(let r=0;r<5;r++)No.wave.push({unit:Pe.PROTECTOR,cooldown:30,armor:"STEEL"});No.wave.push({unit:Pe.KNIGHT,cooldown:20})}const ji={wave:[],message:"Their armor gives them a little protection from their own explosions, but if you have some aoe this wave should be no issue."};for(let o=0;o<2;o++){ji.wave.push({unit:Pe.PROTECTOR,cooldown:5,armor:"STEEL"});for(let r=0;r<100;r++)ji.wave.push({unit:Pe.BOMBER,cooldown:3,armor:"STEEL"}),ji.wave.push({unit:Pe.BOMBER,cooldown:3,armor:"STEEL"})}const vl={wave:[],message:"Looks like a Knight finally managed to find some armor shiny enough to suit his station."};for(let o=0;o<1;o++){for(let r=0;r<10;r++)vl.wave.push({unit:Pe.PROTECTOR,cooldown:35,armor:"STEEL"});vl.wave.push({unit:Pe.KNIGHT,cooldown:5,armor:"STEEL"})}const bl={wave:[],message:"Armored heavies don't have much of a chance of making it through, but this paladin has figured out they make pretty decent meat shields. Holy warrior indeed."};for(let o=0;o<1;o++){bl.wave.push({unit:Pe.PALADIN,cooldown:5});for(let r=0;r<8;r++)bl.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:200,armor:"STEEL"})}const As={wave:[],message:"It's a military march huh, some big shot's gonna show soon."};for(let o=0;o<1;o++){for(let r=0;r<2;r++){for(let t=0;t<4;t++){for(let e=0;e<5;e++)As.wave.push({unit:Pe.FARMER,cooldown:30,armor:"STEEL"});As.wave.push({unit:Pe.SWORDSMAN,cooldown:60,armor:"STEEL"})}As.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:120,armor:"STEEL"})}As.wave.push({unit:Pe.KNIGHT,cooldown:240,armor:"STEEL"})}const Ps={wave:[],message:"You know I actually kind of respect this Commander. She manages to turn a random band of idiots into an effective force. Reminds me a little of myself."};for(let o=0;o<1;o++)Ps.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:55,armor:"STEEL"}),Ps.wave.push({unit:Pe.PROTECTOR,cooldown:15,armor:"STEEL"}),Ps.wave.push({unit:Pe.COMMANDER,cooldown:8}),Ps.wave.push({unit:Pe.HEAVYWEIGHT,cooldown:15,armor:"STEEL"});const df={wave:[],message:"The bad news is that that's a lot of Knights, the good news is that we can sell their stuff for a nice price."};for(let o=100;o>0;o--)df.wave.push({unit:Pe.KNIGHT,cooldown:o+50});const wl={wave:[],message:"Some Mercenaries are scouting ahead of their main force. These guys are more interested in the bounty on monsters they kill than actually fighting you."};for(let o=0;o<4;o++){for(let r=0;r<5;r++)wl.wave.push({unit:Pe.MERCENARY,cooldown:15});wl.wave.push({unit:Pe.MERCENARY,cooldown:120,armor:"STEEL"})}const Os={wave:[],message:"Now it's some more Mercenaries, this time properly protecting their charges."};for(let o=0;o<2;o++){Os.wave.push({unit:Pe.HEALER,cooldown:10}),Os.wave.push({unit:Pe.PROTECTOR,cooldown:10});for(let r=0;r<3;r++){for(let t=0;t<8;t++)Os.wave.push({unit:Pe.SWORDSMAN,cooldown:5,armor:"STEEL"});Os.wave.push({unit:Pe.MERCENARY,cooldown:20,armor:"STEEL"})}}const xl={wave:[],message:"Would you like to meet an armored Paladin? How about an armored Summoner?.. How about both..."};for(let o=0;o<1;o++)xl.wave.push({unit:Pe.PALADIN,cooldown:350,armor:"STEEL"}),xl.wave.push({unit:Pe.SUMMONER,cooldown:350,armor:"STEEL"});const $o={wave:[],message:"Well aren't we lucky, a few Commanders squabbling over the best way to approach our base. Best kill them quick before reinforcements arrive."};for(let o=0;o<1;o++){for(let r=0;r<2;r++)$o.wave.push({unit:Pe.COMMANDER,cooldown:10});$o.wave.push({unit:Pe.COMMANDER,cooldown:500});for(let r=0;r<7;r++)$o.wave.push({unit:Pe.KNIGHT,cooldown:20});$o.wave.push({unit:Pe.KNIGHT,cooldown:200});for(let r=0;r<20;r++)$o.wave.push({unit:Pe.RUSHER,cooldown:10})}const kn={wave:[],message:"Some Bards are tagging along with the troops, mostly to induldge in the afterparty of your defeat I'm sure."};for(let o=0;o<1;o++){for(let r=0;r<30;r++)kn.wave.push({unit:Pe.FARMER,cooldown:4,armor:"STEEL"});kn.wave.push({unit:Pe.BARD,cooldown:225});for(let r=0;r<25;r++)kn.wave.push({unit:Pe.SWORDSMAN,cooldown:7,armor:"STEEL"});kn.wave.push({unit:Pe.BARD,cooldown:275});for(let r=0;r<10;r++)kn.wave.push({unit:Pe.BERSERKER,cooldown:15});kn.wave.push({unit:Pe.BARD,cooldown:325}),kn.wave.push({unit:Pe.BARD,cooldown:25});for(let r=0;r<8;r++)kn.wave.push({unit:Pe.RUSHER,cooldown:25})}const Ci={wave:[],message:"It's the support squad! And they are supporting, uhh, each other."};for(let o=0;o<10;o++)Ci.wave.push({unit:Pe.HEALER,cooldown:20}),Ci.wave.push({unit:Pe.PROTECTOR,cooldown:20}),Ci.wave.push({unit:Pe.BARD,cooldown:120});const Mi={wave:[],message:"Please kill these guys quickly, they were loud enough before they started drinking."};for(let o=0;o<9;o++){Mi.wave.push({unit:Pe.MERCENARY,cooldown:20,armor:"STEEL"});for(let r=0;r<2;r++)Mi.wave.push({unit:Pe.BERSERKER,cooldown:20});Mi.wave.push({unit:Pe.BARD,cooldown:200})}const hf={wave:[],message:"The best way to kill an evil overlord is to send wave after wave. Well that's the theory anyway. These Summoners are going to test that theory."};for(let o=0;o<5;o++)hf.wave.push({unit:Pe.SUMMONER,cooldown:5});const ff={wave:[],message:"Last wave for Easy. This Illusionist will show you a good time....  .   .   .   .   Get it?"};for(let o=0;o<1;o++)ff.wave.push({unit:Pe.ILLUSIONIST,cooldown:200});const ks={wave:[],message:"The Farmers are revolting!.. It's all that living in filth that does it."};for(let o=4;o>0;o--){for(let r=0;r<25;r++)ks.wave.push({unit:Pe.FARMER,cooldown:5,armor:"STEEL"});ks.wave.push({unit:Pe.HEALER,cooldown:10});for(let r=0;r<25;r++)ks.wave.push({unit:Pe.FARMER,cooldown:5,armor:"STEEL"});ks.wave.push({unit:Pe.BARD,cooldown:10})}const pf={wave:[],message:"Forty two is the answer to life, the universe, and apparantly not drowning while crossing bodies of water."};for(let o=0;o<16;o++)pf.wave.push({unit:Pe.SWIMMER,cooldown:80});const _l={wave:[],message:"It's a bunch more guys who are trying to cheese their way through your defenses."};for(let o=0;o<12;o++){for(let r=0;r<3;r++)_l.wave.push({unit:Pe.SWIMMER,cooldown:10});_l.wave.push({unit:Pe.RUSHER,cooldown:30})}const mf={wave:[],message:"I do feel like the armor takes something away from the illusion, it's just not the same y'know."};for(let o=0;o<1;o++)mf.wave.push({unit:Pe.ILLUSIONIST,cooldown:350,armor:"STEEL"});const gf={wave:[],message:"Evading damage after you get hit seems more like cheating than skill to me, but these Ninja do it anyways."};for(let o=0;o<15;o++)gf.wave.push({unit:Pe.NINJA,cooldown:50});const Sl={wave:[],message:"A Summoner was boasting that her minions could easily best any Ninja... It's on! Believe it!"};for(let o=0;o<1;o++){Sl.wave.push({unit:Pe.SUMMONER,cooldown:250,armor:"STEEL"});for(let r=0;r<10;r++)Sl.wave.push({unit:Pe.NINJA,cooldown:30})}const Ri={wave:[],message:"It's the support squad! And they are supporting, uhh, each other."};for(let o=0;o<10;o++)Ri.wave.push({unit:Pe.HEALER,cooldown:20}),Ri.wave.push({unit:Pe.PROTECTOR,cooldown:20}),Ri.wave.push({unit:Pe.BARD,cooldown:110});const Ai={wave:[],message:"Please kill these guys quickly, they were loud enough before they started drinking."};for(let o=0;o<9;o++){Ai.wave.push({unit:Pe.MERCENARY,cooldown:20,armor:"STEEL"});for(let r=0;r<2;r++)Ai.wave.push({unit:Pe.BERSERKER,cooldown:20});Ai.wave.push({unit:Pe.BARD,cooldown:200})}const yf={wave:[],message:"The best way to kill an evil overlord is to send wave after wave. Well that's the theory anyway. These Summoners are going to test that theory."};for(let o=0;o<5;o++)yf.wave.push({unit:Pe.SUMMONER,cooldown:5});const vf={wave:[],message:"Last wave for Easy. This Illusionist will show you a good time....  .   .   .   .   Get it?"};for(let o=0;o<1;o++)vf.wave.push({unit:Pe.ILLUSIONIST,cooldown:200});const $c={1:tf,2:rf,3:nf,4:dl,5:hl,6:Po,7:of,8:sf,9:xi,10:af,11:lf,12:_i,13:fl,14:pl,15:ml,16:uf,17:Si,18:Ti,19:Rs,20:cf,21:Ei,22:Ur,23:gl,24:yl,25:No,26:ji,27:vl,28:bl,29:As,30:Ps,31:df,32:wl,33:Os,34:xl,35:$o,36:kn,37:Ci,38:Mi,39:hf,40:ff,41:ks,42:pf,43:_l,44:mf,45:gf,46:Sl,47:Ri,48:Ai,49:yf,50:vf},Z1=o=>o in $c?$c[o]:-1,bf="waveDone",wf="waveUpdated";class Kc{constructor(){G(this,"currentCooldown");G(this,"spawns");G(this,"currentSpawn");G(this,"currentWave");G(this,"currentMessage");G(this,"nextWaveSpawnIndex");G(this,"currentWaveNumber");G(this,"baseWaveReward");G(this,"flatWaveReward");this.currentCooldown=10,this.spawns=[],this.currentSpawn=0,this.currentWaveNumber=0,this.nextWaveSpawnIndex=0,this.baseWaveReward=250,this.flatWaveReward=500,this.currentWave=[],this.currentMessage="",this.startNextWave()}update(){const r=this.currentWave[this.nextWaveSpawnIndex];if(r===void 0)return bf;if(this.currentCooldown--,this.currentCooldown>0)return wf;const t=Xc.getUnit(r.unit,this.spawns[this.currentSpawn].pos,this.currentWaveNumber,r.armor),e=this.spawns[this.currentSpawn];return this.nextWaveSpawnIndex++,this.currentCooldown=r.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,{unit:t,spawn:e}}setActiveSpawners(r){this.spawns=r,this.currentSpawn=0}startNextWave(){this.nextWaveSpawnIndex=0,this.currentWaveNumber++;const r=Z1(this.currentWaveNumber);r===-1?(this.currentWave=this.generateRandomWaveNew(),this.currentMessage="Random waves from now on. How far can you get?"):(this.currentWave=r.wave,this.currentMessage=r.message)}generateRandomWave(){const r=Object.keys(Pe).length/2,t=120,e=[];let l=this.currentWaveNumber**2*100;for(;l>0;){const u={unit:Math.floor(Math.random()*r),cooldown:b.max(Math.ceil(Math.random()*t-e.length),2)},h=u.unit**2*10+(t-u.cooldown);e.push(u),l-=h}return e}generateRandomWaveNew(){const r=Object.keys(Pe).length/2,t=[],e=b.ceil(this.currentWaveNumber/10),l=this.currentWaveNumber*100,u=this.currentWaveNumber*20,h=this.currentWaveNumber/1e3,n=this.currentWaveNumber/250,p=250/this.currentWaveNumber**1.2,f=1+this.currentWaveNumber*.0125;for(let g=0;g<e;g++){const m=Math.floor(Math.random()*r),i=$1[m],s={unit:m,cooldown:200,armor:void 0},a=i.hp+(this.currentWaveNumber-i.baseLevel)*i.hpScaling;let c=0;a>l?(s.cooldown=b.random(50,100)*p,c=b.floor(f)):a>u?(s.cooldown=b.random(30,80)*p,c=b.floor(b.random(4,8)*f)):(s.cooldown=b.random(10,40)*p,c=b.floor(b.random(12,20)*f));for(let d=0;d<c;d++){const y=b.random()<h?"MITHRIL":b.random()<n?"STEEL":void 0;t.push({unit:s.unit,cooldown:s.cooldown,armor:y})}}return t}endWave(){return this.currentCooldown=10,this.flatWaveReward}getMessage(){return this.currentMessage}killCurrentWaveWithGold(){let r=0;for(;this.nextWaveSpawnIndex<this.currentWave.length;){const t=this.currentWave[this.nextWaveSpawnIndex];if(t===void 0)return r;const e=Xc.getUnit(t.unit,this.spawns[this.currentSpawn].pos,this.currentWaveNumber,t.armor);this.nextWaveSpawnIndex++,this.currentCooldown=t.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,r+=e.goldValue}return r}skipToWaveWithProperGold(r){let t=this.killCurrentWaveWithGold();for(let e=this.currentWaveNumber;e<r-1;e++)t+=this.endWave(),this.startNextWave(),t+=this.killCurrentWaveWithGold();return this.currentWaveNumber=r-1,t}}class J1{constructor(r={}){G(this,"units");G(this,"spawners");G(this,"spawnSize");G(this,"spawnFlat");G(this,"unitSize");G(this,"color");G(this,"nextId");G(this,"waveReader");this.units=[],this.spawners=[],this.spawnSize=r.spawnSize??32,this.spawnFlat=r.spawnFlat??!1,this.unitSize=r.unitSize??20,this.color=r.color??b.color(oo),this.nextId=0,this.waveReader=new Kc}reset(){this.units=[],this.spawners=[],this.nextId=0,this.waveReader=new Kc}addSpawn(r,t,e=this.spawnSize,l={}){this.spawners.push(new mg(r,t,e,{unitSize:this.unitSize,flat:this.spawnFlat,color:this.color,...l}))}addUnit(r={}){const t=r.fromSpawn??b.floor(b.random(this.spawners.length));this.spawners[t]!==void 0&&(this.units.push(this.spawners[t].spawnUnit({color:r.color,id:this.nextId,...r})),this.nextId++)}addUnitViaWaveReader(r,t={}){const e=t.fromSpawn??this.spawners[b.floor(b.random(this.spawners.length))];e!==void 0&&(this.units.push(e.spawnUnitViaWaveReader(r)),this.nextId++)}update(){const r=this.updateWaveReader();return this.waveReader.spawns[this.waveReader.currentSpawn].spawnsNextUnit=!0,this.updateSpawns(),this.updateUnits(),r}updateSpawns(){for(let r=this.spawners.length-1;r>=0;r--)this.spawners[r].update()}updateUnits(){for(let r=this.units.length-1;r>=0;r--)this.units[r].update();Nt.emptyQuadTree();for(let r=this.units.length-1;r>=0;r--){const t=this.units[r];tt.unitReachedBase(t,ae)?this.units.splice(r,1):t.dead?(tt.unitDied(t),this.units.splice(r,1)):t.insertIntoQuadTree()}}show(){this.showSpawns(),this.showUnits()}showSpawns(){for(let r=this.spawners.length-1;r>=0;r--)this.spawners[r].show()}showUnits(){for(let r=this.units.length-1;r>=0;r--)this.units[r].show()}updateAndShow(){const r=this.updateWaveReader();return this.updateAndShowSpawns(),this.updateAndShowUnits(),r}updateAndShowSpawns(){for(let r=this.spawners.length-1;r>=0;r--)this.spawners[r].update(),this.spawners[r].show()}updateAndShowUnits(){for(let r=this.units.length-1;r>=0;r--)this.units[r].update(),this.units[r].show();Nt.emptyQuadTree();for(let r=this.units.length-1;r>=0;r--){const t=this.units[r];tt.unitReachedBase(t,ae)?this.units.splice(r,1):t.dead?(tt.unitDied(t),this.units.splice(r,1)):t.insertIntoQuadTree()}}updateWaveReader(){const r=this.waveReader.update();if(r===bf){if(this.units.length===0)return this.waveCleared(),!0}else r!==wf&&this.addUnitViaWaveReader(r.unit,{fromSpawn:r.spawn});return!1}waveCleared(){const r=this.waveReader.endWave();tt.gold+=r,this.waveReader.startNextWave()}}const eb=new J1({color:b.color(nn),spawnSize:He,unitSize:hr}),qt=eb,tb=(o,r,t,e,l=b.random(Mn),u=ae.wallRing,h=ht.HILL)=>{da(l,"A"),ae.resetData(),ae.addRandomWalls(100,h);const n=ae.grid[o][r];n.data={...n.data,prev:void 0,visited:!0},ae.setTileType(n,eo.EMPTY);const p=ae.grid[t][e];ae.setTileType(p,eo.EMPTY);let f=n;for(;f!==void 0;){const g=ae.getNeighbors(f.r,f.q);for(const s of g)s.data.visited=!0;const m=ae.getGrandNeighbors(f.r,f.q,u);for(let s=m.length-1;s>=0;s--)m[s].data.visited&&m.splice(s,1);const i=b.random(m);if(i===void 0){if(f=f.data.prev,f===void 0)return ae.resetData(),!0}else{i.data.visited=!0,ae.setTileType(i,eo.EMPTY),i.data.prev=f;const s=b.createVector(f.r,f.q),a=i.r-f.r,c=i.q-f.q;if(b.abs(a)%2===0?s.x+=a/2:b.random()>.5&&(s.x+=a),b.abs(c)%2===0)s.y+=c/2;else{let y=0;b.random()>.5&&(y=c),s.y+=y,(f.r===s.x&&f.q===s.y||i.r===s.x&&i.q===s.y)&&(y===0?s.y+=c:s.y+=c*-1)}const d=ae.grid[s.x][s.y];ae.setTileType(d,eo.EMPTY),f=i}}return!1},su=(o,r,t,e=b.random(Mn),l=ae.wallRing,u=ht.HILL,h=ht.WATER,n=6,p=ht.LAVA,f=4,g="D")=>{da(e,g),ae.resetData(),ae.addRandomWalls(100,u);for(const s of o){const a=ae.grid[s.x][s.y];ae.setBuilderTileType(a,ht.EMPTY)}const m=ae.grid[r][t];m.data={...m.data,prev:void 0,visited:!0},ae.setBuilderTileType(m,ht.EMPTY);let i=m;for(;i!==void 0;){const s=ae.getNeighbors(i.r,i.q);for(const d of s)d.data.visited=!0;const a=ae.getGrandNeighbors(i.r,i.q,l);for(let d=a.length-1;d>=0;d--)a[d].data.visited&&a.splice(d,1);const c=b.random(a);if(c===void 0){if(i=i.data.prev,i===void 0){let d=ob(u);if(d.length<10)return!1;let y=[],w=25,_=10;for(;y.length<n+f;){y=[];for(let S=d.length-1;S>=0;S--)d[S].length<=w&&d[S].length>=_&&y.push(d[S]);if(w++,_--,w>50)return!1}for(let S=0;S<n;S++){const j=b.floor(b.random(y.length));for(const C of y[j])ae.setBuilderTileType(C,h);y.splice(j,1)}for(let S=0;S<f;S++){const j=b.floor(b.random(y.length));for(const C of y[j])ae.setBuilderTileType(C,p);y.splice(j,1)}return ae.resetData(),!0}}else{c.data.visited=!0,ae.setTileType(c,eo.EMPTY),c.data.prev=i;const d=b.createVector(i.r,i.q),y=c.r-i.r,w=c.q-i.q;if(b.abs(y)%2===0?d.x+=y/2:b.random()>.5&&(d.x+=y),b.abs(w)%2===0)d.y+=w/2;else{let S=0;b.random()>.5&&(S=w),d.y+=S,(i.r===d.x&&i.q===d.y||c.r===d.x&&c.q===d.y)&&(S===0?d.y+=w:d.y+=w*-1)}const _=ae.grid[d.x][d.y];ae.setTileType(_,eo.EMPTY),i=c}}return!1},rb=(o,r,t,e,l=b.random(Mn),u=ht.HILL,h=ht.EMPTY)=>{da(l,"B"),ae.addRandomWalls(5,ht.LAVA),ae.addRandomWalls(30,u),ae.addRandomWalls(20,ht.WATER);const n=ae.aStar(o,r,t,e);ae.breakWallsInArray(n,h),ae.resetData()},da=(o,r)=>{const t=b.floor(o);b.randomSeed(t),console.log(`${r}${t}`)},iu=()=>{ae.setBuilderTileType(ae.grid[ae.midR][ae.maxQ],ht.BASE),ae.setBuilderTileType(ae.grid[ae.midR][ae.minQ],ht.SPAWN)},au=(o,r)=>{for(const t of o)ae.setBuilderTileType(ae.grid[t.x][t.y],ht.BASE);for(const t of r)ae.setBuilderTileType(ae.grid[t.x][t.y],ht.SPAWN)},nb=(o=b.random(Mn),r=void 0,t=ht.HILL)=>{da(o,"C"),ae.resetData(),ae.addRandomWalls(100,t);const e=ae.grid[ae.midR][ae.midQ];e.data={...e.data,prev:void 0,visited:!0},ae.setBuilderTileType(e,ht.BASE);let l=e;const u=ae.getNeighborsArea(l.r,l.q,2);for(const i of u)ae.setBuilderTileType(i,ht.EMPTY);r===void 0&&(r=b.ceil(b.random(19,30)));let h=0,n=2,p=0,f=0;for(;l!==void 0&&h<r;){const i=b.random(ae.neighborVectorsRQ),s=b.round(b.random(4,10));let a=ht.EMPTY;b.random()<.3&&(a=b.random()<.2?ht.UNSTABLE:ht.WATER);let c=!1;for(let w=0;w<s;w++){const _=l.r+i.x,S=l.q+i.y;if(!ae.rqVectorIsOnGrid(b.createVector(_,S),ae.wallRing)||_===e.r&&S===e.q){c=!0,l=e;break}l=ae.grid[_][S],!(w<n)&&ae.setBuilderTileType(l,a)}if(c)continue;n=b.random()<.15?2:1;let d=ht.EMPTY;b.random()<.3?(d=b.random()<.3?ht.LAVA:ht.WATER,ae.setBuilderTileType(l,d)):b.random()<.2?b.random()<.5?ae.setBuilderTileType(l,ht.TELEPORTER_ONE):ae.setBuilderTileType(l,ht.TELEPORTER_TWO):ae.setBuilderTileType(l,d);const y=ae.getNeighborsArea(l.r,l.q,n);if(ae.hexInArray(e,y)){l=e;continue}for(const w of y)ae.setBuilderTileType(w,d);if(h++,h===r){const w=ae.getAllTiles();let _=0,S=0;for(const j of w)j.type===ht.EMPTY&&S++,j.type===ht.HILL&&_++;_>S&&h--}}const g=ae.getAllTiles();for(const i of g)i.type===ht.TELEPORTER_ONE&&p++,i.type===ht.TELEPORTER_TWO&&f++;if(p===1)for(;;){const i=b.random(g);if(!(i.type===ht.WALL||i.type===ht.BASE||i.isTeleporter)){ae.setBuilderTileType(i,ht.TELEPORTER_ONE);break}}if(f===1)for(;;){const i=b.random(g);if(!(i.type===ht.WALL||i.type===ht.BASE||i.isTeleporter)){ae.setBuilderTileType(i,ht.TELEPORTER_TWO);break}}ae.addAllTeleports();let m=!1;for(;!m;)for(let i=0;i<3;i++){const s=b.random(g),a=ae.aStar(s.r,s.q,e.r,e.q);if(a.length<8)continue;let c=!0;for(const d of a)if(!d.canUnit){c=!1;break}c&&(ae.setBuilderTileType(s,ht.SPAWN),m=!0)}return!0},ob=o=>{const r=[],t=[],e=[];for(let l=ae.minR;l<=ae.maxR;l++)for(let u=ae.minQ;u<=ae.maxQ;u++){if(l+u<ae.rings||l+u>ae.rings*3)continue;let h=ae.grid[l][u];if(ae.hexInArray(h,e))continue;t.push(h);const n=[];for(;t.length>0;){if(h=t[0],t.splice(0,1),e.push(h),h.type!==o)continue;n.push(h);const p=ae.getNeighbors(h.r,h.q);for(const f of p)ae.hexInArray(f,t)||ae.hexInArray(f,e)||t.push(f)}n.length>0&&r.push(n)}return r},sb=()=>{ae.reConstructGrid(),iu();const o=ae.generateJsonableMap();return ae.reConstructGrid(),o},ib={name:"Open",map:sb()},ab=()=>{ae.reConstructGrid(),tb(ae.rings,1,ae.rings,ae.rings*2-1,b.random(Mn),1),iu();const o=ae.generateJsonableMap();return ae.reConstructGrid(),o},lb={name:"Random Pathways",map:ab()},ub=()=>{ae.reConstructGrid(),rb(ae.rings,1,ae.rings,ae.rings*2-1,b.random(Mn),ht.HILL),iu();const o=ae.generateJsonableMap();return ae.reConstructGrid(),o},cb={name:"Random Caverns",map:ub()},db=()=>{ae.reConstructGrid(),nb(b.random(Mn));const o=ae.generateJsonableMap();return ae.reConstructGrid(),o},hb={name:"Random Chambers",map:db()},fb=()=>{const o=[b.createVector(ae.midR,ae.minQ),b.createVector(ae.minR,ae.maxQ),b.createVector(ae.maxR,ae.midQ)],r=[b.createVector(ae.midR,ae.minQ+1),b.createVector(ae.minR+1,ae.maxQ-1),b.createVector(ae.maxR-1,ae.midQ)];ae.reConstructGrid(),su(r,ae.midR,ae.midQ,b.random(Mn),1),au([b.createVector(ae.midR,ae.midQ)],o);const t=ae.generateJsonableMap();return ae.reConstructGrid(),t},pb={name:"Random Pathways Revised",map:fb()},mb=()=>{const o=[b.createVector(ae.midR,ae.minQ),b.createVector(ae.midR,ae.maxQ)],r=[b.createVector(ae.midR,ae.minQ+1),b.createVector(ae.midR,ae.maxQ-1)];ae.reConstructGrid(),su(r,ae.midR,ae.midQ,b.random(Mn),1,ht.WATER,ht.HILL,0,ht.HILL,0,"E"),au([b.createVector(ae.midR,ae.midQ)],o);const t=ae.generateJsonableMap();return ae.reConstructGrid(),t},gb={name:"Random Pathways Water World",map:mb()},yb=()=>{const o=[b.createVector(ae.minR,ae.midQ),b.createVector(ae.minR,ae.maxQ),b.createVector(ae.maxR,ae.minQ),b.createVector(ae.maxR,ae.midQ)],r=[b.createVector(ae.minR+1,ae.midQ),b.createVector(ae.minR+1,ae.maxQ-1),b.createVector(ae.maxR-1,ae.minQ+1),b.createVector(ae.maxR-1,ae.midQ)];ae.reConstructGrid(),su(r,ae.midR,ae.midQ,b.random(Mn),1,ht.LAVA,ht.HILL,0,ht.HILL,0,"F"),au([b.createVector(ae.midR,ae.midQ)],o);const t=ae.generateJsonableMap();return ae.reConstructGrid(),t},vb={name:"Random Pathways Lava World",map:yb()},bb={name:"Lake Base",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3],[0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3],[0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3],[6,0,0,0,4,4,4,4,4,4,4,4,4,7,0,0,0,0,0,0,0,1,0,0,0,0,3],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},wb={name:"Lakes Race",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,1,1,1,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3],[0,0,0,0,0,0,0,0,0,3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3],[0,0,0,0,0,0,0,0,3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3],[0,0,0,0,3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3],[0,0,0,3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3,0,0],[3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3,0,0,0],[3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3,0,0,0,0],[3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3,0,0,0,0,0],[3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3,0,0,0,0,0,0,0,0],[3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,1,1,1,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},xb={name:"The Wheel",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3],[0,0,0,0,0,3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3],[0,0,0,0,3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3],[0,0,0,3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3],[0,0,3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[6,0,1,1,1,1,1,1,1,1,1,1,0,7,0,1,1,1,1,1,1,1,1,1,1,0,3],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3,0,0],[3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3,0,0,0],[3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3,0,0,0,0],[3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3,0,0,0,0,0],[3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3,0,0,0,0,0,0,0],[3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3,0,0,0,0,0,0,0,0],[3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},_b={name:"Time Moves Ever Onward",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3],[0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3],[0,0,0,0,0,0,0,0,3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3],[0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3],[0,0,0,0,0,0,3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3],[0,0,0,0,3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3],[0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3],[0,0,3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3],[0,3,4,1,4,4,4,1,4,4,1,4,3,0,0,3,4,1,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,4,1,4,4,4,1,4,3,2,3,4,1,4,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,1,4,4,4,1,4,3,0,0,3,4,1,4,4,4,1,4,4,1,4,3,0],[3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3,0,0],[3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0],[3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0],[3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3,0,0,0,0,0,0],[3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0],[3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3,0,0,0,0,0,0,0,0],[3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0],[3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3,0,0,0,0,0,0,0,0,0,0],[3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,7,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Sb={name:"Hillside Flowers",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,2,0,0,0,0,0,0,0,0,0,0,0,2,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,1,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,1,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,1,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,1,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,1,0,1,0,1,1,1,1,0,0,1,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,5,0,0,0,2,2,0,3],[6,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,7,2,0,0,2,0,2,2,3],[3,0,0,0,0,0,1,0,1,0,1,0,1,0,0,1,0,5,5,2,0,2,0,0,0,3,0],[3,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,0,0,2,2,0,0,0,3,0,0],[3,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,3,0,0,0,0],[3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,2,0,0,0,0,0,0,0,0,0,0,0,2,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Tb={name:"Big Nope",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3],[0,3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3],[6,0,0,0,1,0,7,0,5,0,4,4,0,1,0,4,4,0,5,0,7,0,1,0,0,0,6],[3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3,0],[3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[6,3,3,3,3,3,3,3,3,3,3,3,3,6,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Eb={name:"Cross Over",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,6,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,4,4,4,4,4,4,4,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,1,0,0,4,4,4,4,4,4,0,0,0,0,0,1,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,0,1,0,0,4,4,4,4,0,1,0,1,0,1,0,0,3],[0,0,0,0,0,0,0,3,0,1,0,1,0,0,4,4,4,0,1,0,1,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,1,0,0,4,4,0,0,0,1,0,1,0,4,4,0,3],[0,0,0,0,0,3,0,1,0,1,0,1,0,0,4,0,0,0,0,0,1,0,4,0,4,0,3],[0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,4,0,0,4,0,3],[0,0,0,3,0,1,0,1,0,1,0,1,0,0,0,1,0,0,1,0,4,0,4,0,4,0,3],[0,0,3,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,4,0,4,4,0,4,0,3],[0,3,0,1,0,1,0,1,0,1,0,1,0,0,0,0,1,0,4,0,4,0,4,0,4,0,3],[6,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,4,0,0,4,0,0,0,7],[3,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,0,4,4,0,0,0,4,4,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,0,0,0,0,3,0,0],[3,1,0,1,0,1,0,1,0,0,0,1,1,0,4,0,0,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,0,4,0,0,0,3,0,0,0,0],[3,1,0,1,0,1,0,0,0,0,1,1,0,0,4,4,0,0,4,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0],[3,1,0,1,0,0,0,0,1,0,0,1,0,4,4,4,0,4,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0],[3,1,0,0,0,0,1,0,0,0,0,1,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,5,5,0,1,0,0,0,0,0,1,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,1,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,1,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,7,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},jb={name:"Island Temple",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3],[0,0,0,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3],[0,0,0,3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3],[0,0,3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3],[0,3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3],[3,4,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,4,3,4,4,5,4,4,3],[3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3,0],[3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3,0,0],[3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3,0,0,0],[3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Cb={name:"Whirlpool",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,1,1,1,1,1,1,1,1,1,1,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,4,4,4,4,4,4,4,4,4,4,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,4,0,0,0,0,0,0,0,0,0,4,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,4,0,1,1,1,1,1,1,1,1,0,4,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,4,0,1,0,0,0,0,0,0,0,1,0,4,0,1,0,3],[0,0,0,0,0,3,0,1,0,4,0,1,0,4,4,4,4,4,4,0,1,0,4,0,1,0,3],[0,0,0,0,3,0,1,0,4,0,1,0,4,0,0,0,0,0,4,0,1,0,4,0,1,0,3],[0,0,0,3,0,1,0,4,0,1,0,4,0,1,1,1,1,0,4,0,1,0,4,0,1,0,3],[0,0,3,0,1,0,4,0,1,0,4,0,1,5,0,0,1,0,4,0,1,0,4,0,1,0,3],[0,3,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,3],[7,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,6],[3,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,3,0],[3,0,4,0,1,0,4,0,1,0,4,0,0,5,4,0,1,0,4,0,1,0,4,0,3,0,0],[3,0,4,0,1,0,4,0,1,0,4,4,4,4,0,1,0,4,0,1,0,4,0,3,0,0,0],[3,0,4,0,1,0,4,0,1,0,0,0,0,0,1,0,4,0,1,0,4,0,3,0,0,0,0],[3,0,4,0,1,0,4,0,1,1,1,1,1,1,0,4,0,1,0,4,0,3,0,0,0,0,0],[3,0,4,0,1,0,4,0,0,0,0,0,0,0,4,0,1,0,4,0,3,0,0,0,0,0,0],[3,0,4,0,1,0,4,4,4,4,4,4,4,4,0,1,0,4,0,3,0,0,0,0,0,0,0],[3,0,4,0,1,0,0,0,0,0,0,0,0,0,1,0,4,0,3,0,0,0,0,0,0,0,0],[3,0,4,0,1,1,1,1,1,1,1,1,1,1,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,4,4,4,4,4,4,4,4,4,4,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Mb={name:"Tri Hard",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,4,0,0,0,0,6,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,9,3,4,0,0,0,0,0,0,0,0,0,3,8,3],[0,0,0,0,0,0,0,0,0,0,3,0,3,4,4,4,4,0,0,0,0,0,0,0,3,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,3,4,4,4,4,0,0,0,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,3,0,4,4,4,0,0,0,5,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,3,0,4,4,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,5,5,5,0,3,0,0,0,0,3],[0,0,0,0,3,0,0,5,5,3,0,1,1,1,1,1,0,0,0,0,0,3,4,4,0,0,3],[0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3],[0,0,3,5,5,5,0,0,3,0,0,0,1,1,0,0,1,1,0,0,3,0,0,4,4,4,3],[0,3,0,0,0,0,0,0,3,0,0,1,4,1,0,1,4,1,0,3,0,0,0,0,0,0,3],[3,0,0,5,5,5,5,3,0,0,0,1,1,0,0,1,1,0,0,3,4,4,4,4,0,0,3],[3,0,0,0,0,0,0,3,0,0,0,0,0,5,0,0,0,0,3,0,0,0,0,0,0,3,0],[3,5,5,5,0,0,3,0,0,0,0,0,0,5,0,0,0,0,3,0,0,4,4,4,3,0,0],[3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0],[3,0,0,5,5,3,0,0,0,0,1,0,1,0,0,0,0,3,4,4,0,0,3,0,0,0,0],[3,0,0,0,0,3,0,0,2,2,0,0,2,2,0,0,3,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,3,0,0,0,1,2,7,2,1,0,0,0,3,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,3,0,0,0,0,2,2,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,1,0,1,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,3,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0],[3,6,3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,0],[3,3,9,0,0,0,0,0,0,0,0,0,8,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Rb={name:"Hero's Journey",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,0,5,0,0,8,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,0,0,8,8,8,3],[0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,8,3],[0,0,0,0,0,0,0,0,3,4,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,5,5,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,0,5,4,5,0,5,5,5,0,5,5,5,5,5,5,5,0,0,3],[0,0,0,0,0,3,0,5,0,5,5,0,5,5,5,0,5,5,0,0,0,0,0,5,0,0,3],[0,0,0,0,3,0,5,5,0,0,0,5,5,5,5,0,5,0,5,5,5,5,0,5,0,0,3],[0,0,0,3,0,5,5,5,5,5,5,5,5,5,0,0,0,5,5,5,0,0,5,0,0,0,3],[0,0,3,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,5,5,0,0,0,0,3],[0,3,5,0,0,0,0,0,5,5,5,5,5,5,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,7,5,5,5,5,5,0,5,5,5,0,0,0,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,0,0,0,5,5,5,0,5,5,0,5,5,0,5,5,5,5,0,5,0,0,0,0,0,3,0],[3,5,5,0,5,5,5,0,0,0,5,5,5,0,5,5,5,0,5,0,0,0,0,0,3,0,0],[3,5,5,0,0,0,5,5,5,5,5,5,5,0,5,5,5,0,5,0,0,0,0,3,0,0,0],[3,5,5,5,5,0,5,5,5,5,5,0,0,5,5,0,0,5,0,0,0,0,3,0,0,0,0],[3,5,0,0,5,0,5,5,0,0,0,5,5,0,0,5,5,0,0,0,0,3,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,5,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,5,5,5,0,0,5,0,0,0,5,5,0,0,0,0,0,8,3,0,0,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,0,0,0,8,8,3,0,0,0,0,0,0,0,0],[3,0,0,5,5,0,0,5,0,0,0,0,0,0,8,8,8,3,0,0,0,0,0,0,0,0,0],[3,5,5,0,0,5,5,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,5,5,0,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0],[3,6,5,0,0,0,0,0,0,8,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Ab={name:"Royal Road",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,0,0,0,0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,0,0,3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3],[0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0],[3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3,0,0,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Pb={name:"Long Way Around",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,8,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,3,3,9,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,3,0,3,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,3,3,5,5,3,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,3,3,5,5,0,5,3,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,3,3,5,5,0,0,5,3,0,4,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,0,3,3,5,5,0,5,5,0,5,3,0,4,0,3],[0,0,0,0,0,3,0,0,0,0,0,3,3,5,5,0,0,5,0,5,5,3,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,3,3,5,5,0,5,5,0,5,5,0,5,3,0,0,0,0,3],[0,0,0,3,0,0,0,3,3,0,5,0,0,5,0,5,5,0,0,5,3,0,4,0,0,0,3],[0,0,3,0,0,3,3,0,0,0,5,5,0,5,5,0,5,5,0,5,3,0,4,0,4,0,3],[0,3,6,3,3,0,0,1,0,0,0,5,5,0,0,5,0,5,5,3,0,4,0,4,0,0,3],[3,3,3,0,0,0,0,0,0,0,0,0,5,5,0,5,5,0,0,3,0,4,0,4,0,0,3],[3,7,0,1,0,1,0,1,0,1,0,0,0,5,5,0,0,0,3,0,4,0,4,0,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,4,0,3,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,3,0,4,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,3,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,3,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,3,0,4,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,3,8,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,9,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Ob={name:"Betrayal",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,8,0,0,0,0,0,0,0,0,0,9,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,8,3,0,0,0,0,0,0,0,0,0,0,3,9,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,3],[3,6,0,0,0,0,0,0,0,0,0,0,9,7,8,0,0,0,0,0,0,0,0,0,0,6,3],[3,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,8,3,0,0,0,0,0,0,0,0,0,0,3,9,3,0,0,0,0,0,0,0,0,0,0,0],[3,3,8,0,0,0,0,0,0,0,0,0,9,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},kb={name:"Escape Pompeii",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,5,5,5,5,5,5,5,5,5,5,5,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,3,0,0,5,0,0,0,5,5,5,5,5,5,5,0,0,0,5,0,0,3],[0,0,0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,3,0,0,5,0,0,0,5,0,0,0,5,5,5,0,0,0,5,0,0,0,5,0,0,3],[0,3,0,0,5,0,0,0,5,0,0,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,3],[3,0,0,5,0,0,0,5,0,0,0,5,0,6,0,5,0,0,0,5,0,0,0,5,0,0,3],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,7,3,0],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,3,0,0],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0],[3,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0],[3,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0],[3,0,5,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0,0],[3,0,5,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0],[3,0,5,0,5,0,0,5,0,0,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,5,0,0,0,0,5,0,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,5,0,0,0,0,5,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,5,5,5,5,5,5,5,5,5,5,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Db={name:"Two Way Road",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,1,7,1,0,0,0,0,0,0,0,4,4,4,3],[0,0,0,0,0,0,0,0,0,0,0,3,6,1,0,1,0,0,0,0,0,0,0,0,4,4,3],[0,0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,0,0,4,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,1,1,1,1,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,1,0,1,0,0,1,0,0,0,0,1,1,1,1,0,0,0,0,3],[0,0,0,0,0,3,0,1,0,1,0,0,1,0,1,1,0,0,0,0,0,1,0,0,0,0,3],[0,0,0,0,3,0,1,0,0,0,1,1,0,0,0,1,0,0,0,0,0,1,1,1,0,0,3],[0,0,0,3,0,0,1,0,0,1,0,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,1,1,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,1,1,1,3],[0,3,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,1,1,0,0,0,3],[3,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0,3],[3,0,0,0,1,1,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,3,0],[3,1,1,1,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,1,1,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,1,0,0,1,0,0,3,0,0,0],[3,0,0,1,1,1,0,0,0,0,0,1,0,0,0,1,1,0,0,0,1,0,3,0,0,0,0],[3,0,0,0,0,1,0,0,0,0,0,1,1,0,1,0,0,1,0,1,0,3,0,0,0,0,0],[3,0,0,0,0,1,1,1,1,0,0,0,0,1,0,0,1,0,1,0,3,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,1,1,1,1,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0],[3,4,0,0,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0,0],[3,4,4,0,0,0,0,0,0,0,0,1,0,1,6,3,0,0,0,0,0,0,0,0,0,0,0],[3,4,4,4,0,0,0,0,0,0,0,1,7,1,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Lb="/assets/Open-bc45d700.png",Ib="/assets/Pathways-fa8baac1.png",Bb="/assets/Caverns-57f8e0cb.png",Nb="/assets/Chambers-c72833e5.png",Ub="/assets/PathwaysRevised-6384eca7.png",Fb="/assets/PathwaysWaterWorld-4ab7720b.png",Vb="/assets/PathwaysLavaWorld-521a6ff9.png",Gb="/assets/Lake Base-cadaed5e.png",Hb="/assets/Lakes Race-cb1400b3.png",Wb="/assets/The Wheel-5d281f5a.png",zb="/assets/Time Moves Ever Onward-c9082887.png",qb="/assets/Hillside Flowers-7e2294fa.png",Yb="/assets/Big Nope-a0d1f9ab.png",Xb="/assets/Cross Over-108367c2.png",$b="/assets/Island Temple-a4299b0b.png",Kb="/assets/Whirlpool-38be4ce4.png",Qb="/assets/Tri Hard-c2de4389.png",Zb="/assets/Hero's Journey-91334804.png",Jb="/assets/Royal Road-c45d9ac4.png",ew="/assets/Long Way Around-dbc21f2e.png",tw="/assets/Betrayal-417fa407.png",rw="/assets/Escape Pompeii-ce51058b.png",nw="/assets/Two Way Road-100b7ad0.png",Qc=[{map:ib,image:Lb,complexity:"Simple"},{map:lb,image:Ib,complexity:"Simple"},{map:Cb,image:Kb,complexity:"Simple"},{map:Pb,image:ew,complexity:"Simple"},{map:kb,image:rw,complexity:"Simple"},{map:bb,image:Gb,complexity:"Simple"},{map:xb,image:Wb,complexity:"Simple"},{map:cb,image:Bb,complexity:"Average"},{map:hb,image:Nb,complexity:"Average"},{map:wb,image:Hb,complexity:"Average"},{map:_b,image:zb,complexity:"Average"},{map:Sb,image:qb,complexity:"Average"},{map:Eb,image:Xb,complexity:"Average"},{map:Db,image:nw,complexity:"Average"},{map:jb,image:$b,complexity:"Average"},{map:Ab,image:Jb,complexity:"Average"},{map:pb,image:Ub,complexity:"Complex"},{map:gb,image:Fb,complexity:"Complex"},{map:Tb,image:Yb,complexity:"Complex"},{map:Mb,image:Qb,complexity:"Complex"},{map:Rb,image:Zb,complexity:"Complex"},{map:vb,image:Vb,complexity:"Evil"},{map:Ob,image:tw,complexity:"Evil"}],ow=["Simple","Average","Complex","Evil"],sw=o=>o==="Simple"?"Average":o==="Average"?"Complex":"Evil",iw={class:"difficulty-select"},aw={class:fs("button-div")},lw=["onClick"],uw={class:"button-div"},cw=At("h3",null,"Select other map",-1),dw=[cw],hw=Uo({__name:"SelectDifficulty",emits:["selectedDifficulty","reselectMap"],setup(o,{emit:r}){const t=Ii(()=>{const l=[];for(const u in tl)l.push({...tl[u],unlocked:et.unlockedDifficulties[u]});return l}),e=l=>{l.unlocked&&r("selectedDifficulty",l)};return(l,u)=>(Kt(),gr("div",iw,[(Kt(!0),gr(Br,null,Id(tn(t),h=>(Kt(),gr("div",aw,[At("button",{class:fs(`${"button "+(h.unlocked?"":"locked ")+h.name}`),onClick:n=>e(h)},[At("h3",null,Pi(h.name),1)],10,lw)]))),256)),At("div",uw,[At("button",{class:"button cancel",onClick:u[0]||(u[0]=h=>r("reselectMap"))},dw)])]))}});const fw={key:1},pw={class:"all-maps"},mw=["onClick"],gw=["src"],yw=At("h1",null,"<",-1),vw=[yw],bw=At("h1",null,">",-1),ww=[bw],xw=Uo({__name:"SelectMap",setup(o){const r=Bn(1),t=Ii(()=>(r.value-1)*6),e=Ii(()=>{const m=[];for(const i of Qc.slice(t.value,t.value+6))m.push({...i,unlocked:et.unlockedMapComplexities[i.complexity]});return m}),l=Bn(null),u=Bn(!1),h=m=>{m.unlocked&&(l.value=m,u.value=!0)},n=()=>{l.value=null,u.value=!1},p=m=>{l.value!==null&&(u.value=!1,ds.value=!0,r.value=0,e1(l.value,m))},f=()=>{r.value--},g=()=>{r.value++};return(m,i)=>(Kt(),gr(Br,null,[u.value?(Kt(),Lo(hw,{key:0,onSelectedDifficulty:p,onReselectMap:n})):Wr("",!0),u.value?Wr("",!0):(Kt(),gr("div",fw,[At("div",pw,[(Kt(!0),gr(Br,null,Id(tn(e),s=>(Kt(),gr("div",{class:fs(`map map-${s.complexity} ${s.unlocked?"":"locked"}`),onClick:a=>h(s)},[At("h3",null,Pi(s.map.name)+" -- "+Pi(s.complexity),1),At("img",{src:s.image,alt:"Map Preview",class:"map-image"},null,8,gw)],10,mw))),256)),r.value>1?(Kt(),gr("div",{key:0,class:"previous-maps maps-button",onClick:i[0]||(i[0]=s=>f())},vw)):Wr("",!0),r.value<tn(Qc).length/6?(Kt(),gr("div",{key:1,class:"next-maps maps-button",onClick:i[1]||(i[1]=s=>g())},ww)):Wr("",!0)])]))],64))}});let lu=[];const _w=()=>{b.createCanvas(b.windowWidth,b.windowHeight),b.background(Cn),lu.push(new Yt(b.createVector(b.width*(1/11),b.height*(16/17)),b.width*(1/6),b.height*(1/10),"Save map",()=>{const o=Mw();if(o!==!0){alert(o);return}Pw()},He*2,b.color(oo)),new Yt(b.createVector(b.width*(9/13),b.height*(16/17)),b.width*(2/10),b.height*(1/10),"Return to main menu",()=>{Aw()},He*1.5,b.color(oo))),ae.reConstructGrid(),b.draw=()=>Sw(),b.mousePressed=()=>Tw(),b.doubleClicked=()=>Ew(),b.keyPressed=o=>jw()},Sw=()=>{b.background(Cn),b.strokeWeight(1),ae.show(),ae.showDebug(),Cw();for(const r of lu)r.show();const o=ae.getHexVectorFromXY(b.mouseX,b.mouseY);for(const r in lo){const t=lo[r],e=t.isBase||t.isSpawn?0:1;if(b.keyIsDown(t.keycode)&&ae.rqVectorIsOnGrid(o,e)){const l=ae.grid[o.x][o.y];b.push(),b.fill([...t.rgb,100]),b.strokeWeight(2),dr(l.pos.x,l.pos.y,ae.hexSize),b.pop()}}},Tw=()=>{for(const r of lu)r.clicked()&&r.onClick();const o=ae.getHexVectorFromXY(b.mouseX,b.mouseY);for(const r in lo){const t=lo[r],e=t.buildInOuterRing?0:1;if(b.keyIsDown(t.keycode)&&ae.rqVectorIsOnGrid(o,e)){const l=ae.grid[o.x][o.y];ae.setBuilderTileType(l,parseInt(r));return}}},Ew=()=>{},jw=o=>{},Cw=()=>{const o=b.width*.8,r=b.width-o,t=r/100,e=b.height/100,l=e*5;b.strokeWeight(He/12),b.fill(Yl),b.stroke(Rt),b.rect(o,0,r,b.height),b.textSize(He*1.2);for(const u in lo){const h=parseInt(u),n=lo[h],p=b.createVector(o+t*15,l+e*(5+9*h));b.strokeWeight(1),b.fill(n.rgb),dr(p.x,p.y,He),b.fill(0),b.strokeWeight(0),b.textSize(He),b.text(`${n.name}: ${n.hotkey}`,p.x+t*10,p.y+He/3)}},Mw=()=>{const o=[],r=[];for(const e of ae.grid)for(const l of e)l.type===ht.SPAWN&&r.push(l),l.type===ht.BASE&&o.push(l);return o.length<1||r.length<1?"You need at least one base and one spawn":o.length>6||r.length>6?"Too many bases or spawns":Rw(r,o)?!0:"Not all spawns can reach a base"},Rw=(o,r)=>{ae.resetData(),ae.addAllTeleports();for(const t of o){let e=!1,l;const u=[t],h=[];for(;u.length>0;){if(l=u[0],ae.hexInArray(l,r)||l.data.flooded){e=!0;break}const n=ae.getNeighbors(l.r,l.q,!0);for(const p of n)ae.hexInArray(p,[...h,...u])||!p.canUnit||u.push(p);u.splice(0,1),h.push(l),l.data.flooded=!0}if(!e)return!1}return!0},Aw=()=>{b.createCanvas(0,0),ds.value=!1},Pw=async()=>{const o=prompt("What should this map be called?","Nameless here forever more");if(o===null)return;if(et.guestUser){const h={name:o,map:ae.generateJsonableMap()};b.saveJSON(h,`${o}.json`,!0);return}const r=prompt("About how difficult is this map? (simple: s, avarage: a, complex: c, evil: e)","s");if(r===null)return;let t=1;r==="a"?t=2:r==="c"?t=3:r==="e"&&(t=4);const e=prompt("Would you like to share this map online? y/n","n");if(e===null)return;let l=e==="y";const u={name:o,map:JSON.stringify(ae.generateJsonableMap()),public:l,complexity:t};try{await cs.post("/maps/create",u)}catch(h){console.log(h)}},Ow={key:0,class:"main-menu"},kw={key:0,class:"flr gray-back"},Dw={class:"flr"},Lw=At("header",null,[At("h1",null,"Hexa Towers")],-1),Iw={key:1,class:"menu"},Bw=Uo({__name:"MainMenu",setup(o){const r=()=>{Ro.value=Bl(xw)},t=()=>{_w(),Ro.value=void 0,ds.value=!0},e=()=>{Fn.value=!1},l=()=>{ou("null"),et.setToLocalStorageData(),Fn.value=!1};return(u,h)=>tn(ds)?Wr("",!0):(Kt(),gr("div",Ow,[tn(Ro)===void 0?(Kt(),gr("span",kw,[tn(et).guestUser?(Kt(),gr("button",{key:0,class:"menu-button flr login-button",onClick:e},"Login")):(Kt(),gr("button",{key:1,class:"menu-button flr logout-button",onClick:l},"Logout")),At("p",Dw,"Hello, "+Pi(tn(et).username),1)])):Wr("",!0),Lw,tn(Ro)===void 0?(Kt(),gr("div",Iw,[At("button",{class:"menu-button",onClick:r},"Free Play"),At("button",{class:"menu-button",onClick:t},"Map Builder")])):Wr("",!0),(Kt(),Lo(h0(tn(Ro))))]))}});const Nw={class:"register"},Uw=["onSubmit"],Fw={class:"form-group"},Vw=At("button",{class:"register-btn"},"Register",-1),Gw=Uo({__name:"Register",setup(o){const r=[];for(const l in ar){const u=ar[l].name;r.push({name:u,unlocked:u==="Archer"})}const t=Bn({username:"",email:"",password:"",passwordRepeat:""}),e=async()=>{try{cs.post("/auth/register",{...t.value,towers:r});try{const{data:l}=await cs.post("/auth/login",{username:t.value.username,password:t.value.password});ou(l.jwt_token),et.setToDataFromServer(l),Fn.value=!0}catch(l){console.log(l)}}catch(l){console.log(l)}};return(l,u)=>(Kt(),gr("div",Nw,[At("form",{onSubmit:$d(e,["prevent"]),class:"register-form"},[At("div",Fw,[Ko(At("input",{id:"username","onUpdate:modelValue":u[0]||(u[0]=h=>t.value.username=h),autocomplete:"username",autofocus:"",placeholder:"Username",type:"text"},null,512),[[Qo,t.value.username]]),Ko(At("input",{id:"email","onUpdate:modelValue":u[1]||(u[1]=h=>t.value.email=h),autocomplete:"email",autofocus:"",placeholder:"Email",type:"text"},null,512),[[Qo,t.value.email]]),Ko(At("input",{id:"password","onUpdate:modelValue":u[2]||(u[2]=h=>t.value.password=h),autocomplete:"password",autofocus:"",placeholder:"Password",type:"password"},null,512),[[Qo,t.value.password]]),Ko(At("input",{id:"password-repeat","onUpdate:modelValue":u[3]||(u[3]=h=>t.value.passwordRepeat=h),autocomplete:"password-repeat",autofocus:"",placeholder:"Repeat Password",type:"password"},null,512),[[Qo,t.value.passwordRepeat]]),Vw])],40,Uw)]))}});const Hw={class:"login"},Ww=["onSubmit"],zw={class:"form-group"},qw=At("button",{class:"login-btn"},"Login",-1),Yw=Uo({__name:"Login",setup(o){const r=Bn({username:"",password:""}),t=async()=>{try{const{data:e}=await cs.post("/auth/login",r.value);ou(e.jwt_token),et.setToDataFromServer(e),Fn.value=!0}catch(e){console.log(e)}};return(e,l)=>(Kt(),gr("div",Hw,[At("form",{onSubmit:$d(t,["prevent"]),class:"login-form"},[At("div",zw,[Ko(At("input",{id:"username","onUpdate:modelValue":l[0]||(l[0]=u=>r.value.username=u),autocomplete:"username",autofocus:"",placeholder:"Username",type:"text"},null,512),[[Qo,r.value.username]]),Ko(At("input",{id:"password","onUpdate:modelValue":l[1]||(l[1]=u=>r.value.password=u),autocomplete:"password",autofocus:"",placeholder:"Password",type:"password"},null,512),[[Qo,r.value.password]]),qw])],40,Ww)]))}});const Xw={class:"auth-main"},$w=At("header",null,[At("h1",null,"Hexa Towers")],-1),Kw={class:"option"},Qw={class:"option"},Zw=Uo({__name:"AuthMain",setup(o){const r=Bn(null),t=async()=>{Fn.value=!0;const h=Zh();if(!(h===null||h==="null"))try{const{data:n}=await cs.post("/auth/loginWithJwt",{jwt:h});if(!n)return;et.setToDataFromServer(n),Fn.value=!0}catch(n){console.log(n)}},e=()=>{r.value="register"},l=()=>{r.value="login"},u=()=>{Fn.value=!0};return t(),(h,n)=>(Kt(),gr("div",Xw,[$w,At("div",Kw,[r.value!=="register"?(Kt(),gr("button",{key:0,class:"register-button",onClick:e},"Register")):Wr("",!0),r.value==="register"?(Kt(),Lo(Gw,{key:1})):Wr("",!0)]),At("div",Qw,[r.value!=="login"?(Kt(),gr("button",{key:0,class:"login-button",onClick:l},"Login")):Wr("",!0),r.value==="login"?(Kt(),Lo(Yw,{key:1})):Wr("",!0)]),At("div",{class:"option"},[At("button",{class:"guest-button",onClick:u},"Continue as guest")])]))}});const Jw=Uo({__name:"App",setup(o){return(r,t)=>(Kt(),gr(Br,null,[tn(Fn)?(Kt(),Lo(Bw,{key:0})):Wr("",!0),tn(Fn)?Wr("",!0):(Kt(),Lo(Zw,{key:1}))],64))}});vm(Jw).mount("#app");

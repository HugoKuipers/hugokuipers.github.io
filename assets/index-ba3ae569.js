var jp=Object.defineProperty;var Tp=(n,o,r)=>o in n?jp(n,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[o]=r;var V=(n,o,r)=>(Tp(n,typeof o!="symbol"?o+"":o,r),r);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))t(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function r(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function t(f){if(f.ep)return;f.ep=!0;const d=r(f);fetch(f.href,d)}})();function $l(n,o){const r=Object.create(null),t=n.split(",");for(let f=0;f<t.length;f++)r[t[f]]=!0;return o?f=>!!r[f.toLowerCase()]:f=>!!r[f]}function Ql(n){if(wt(n)){const o={};for(let r=0;r<n.length;r++){const t=n[r],f=pr(t)?Pp(t):Ql(t);if(f)for(const d in f)o[d]=f[d]}return o}else{if(pr(n))return n;if(er(n))return n}}const Cp=/;(?![^(]*\))/g,Rp=/:([^]+)/,Mp=/\/\*.*?\*\//gs;function Pp(n){const o={};return n.replace(Mp,"").split(Cp).forEach(r=>{if(r){const t=r.split(Rp);t.length>1&&(o[t[0].trim()]=t[1].trim())}}),o}function xn(n){let o="";if(pr(n))o=n;else if(wt(n))for(let r=0;r<n.length;r++){const t=xn(n[r]);t&&(o+=t+" ")}else if(er(n))for(const r in n)n[r]&&(o+=r+" ");return o.trim()}const Ap="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Op=$l(Ap);function Dd(n){return!!n||n===""}const $i=n=>pr(n)?n:n==null?"":wt(n)||er(n)&&(n.toString===Ud||!xt(n.toString))?JSON.stringify(n,Id,2):String(n),Id=(n,o)=>o&&o.__v_isRef?Id(n,o.value):cn(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((r,[t,f])=>(r[`${t} =>`]=f,r),{})}:Ld(o)?{[`Set(${o.size})`]:[...o.values()]}:er(o)&&!wt(o)&&!Nd(o)?String(o):o,Kt={},un=[],Po=()=>{},kp=()=>!1,Dp=/^on[^a-z]/,ca=n=>Dp.test(n),Jl=n=>n.startsWith("onUpdate:"),Hr=Object.assign,eu=(n,o)=>{const r=n.indexOf(o);r>-1&&n.splice(r,1)},Ip=Object.prototype.hasOwnProperty,At=(n,o)=>Ip.call(n,o),wt=Array.isArray,cn=n=>da(n)==="[object Map]",Ld=n=>da(n)==="[object Set]",xt=n=>typeof n=="function",pr=n=>typeof n=="string",tu=n=>typeof n=="symbol",er=n=>n!==null&&typeof n=="object",Bd=n=>er(n)&&xt(n.then)&&xt(n.catch),Ud=Object.prototype.toString,da=n=>Ud.call(n),Lp=n=>da(n).slice(8,-1),Nd=n=>da(n)==="[object Object]",ru=n=>pr(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Pi=$l(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ha=n=>{const o=Object.create(null);return r=>o[r]||(o[r]=n(r))},Bp=/-(\w)/g,Wo=ha(n=>n.replace(Bp,(o,r)=>r?r.toUpperCase():"")),Up=/\B([A-Z])/g,Sn=ha(n=>n.replace(Up,"-$1").toLowerCase()),fa=ha(n=>n.charAt(0).toUpperCase()+n.slice(1)),qa=ha(n=>n?`on${fa(n)}`:""),Yn=(n,o)=>!Object.is(n,o),Ai=(n,o)=>{for(let r=0;r<n.length;r++)n[r](o)},Qi=(n,o,r)=>{Object.defineProperty(n,o,{configurable:!0,enumerable:!1,value:r})},il=n=>{const o=parseFloat(n);return isNaN(o)?n:o};let jc;const Np=()=>jc||(jc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let To;class Fp{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this.parent=To,!o&&To&&(this.index=(To.scopes||(To.scopes=[])).push(this)-1)}get active(){return this._active}run(o){if(this._active){const r=To;try{return To=this,o()}finally{To=r}}}on(){To=this}off(){To=this.parent}stop(o){if(this._active){let r,t;for(r=0,t=this.effects.length;r<t;r++)this.effects[r].stop();for(r=0,t=this.cleanups.length;r<t;r++)this.cleanups[r]();if(this.scopes)for(r=0,t=this.scopes.length;r<t;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!o){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this._active=!1}}}function Vp(n,o=To){o&&o.active&&o.effects.push(n)}function Hp(){return To}const ou=n=>{const o=new Set(n);return o.w=0,o.n=0,o},Fd=n=>(n.w&Ss)>0,Vd=n=>(n.n&Ss)>0,Gp=({deps:n})=>{if(n.length)for(let o=0;o<n.length;o++)n[o].w|=Ss},Wp=n=>{const{deps:o}=n;if(o.length){let r=0;for(let t=0;t<o.length;t++){const f=o[t];Fd(f)&&!Vd(f)?f.delete(n):o[r++]=f,f.w&=~Ss,f.n&=~Ss}o.length=r}},al=new WeakMap;let Un=0,Ss=1;const ll=30;let Ro;const Vs=Symbol(""),ul=Symbol("");class su{constructor(o,r=null,t){this.fn=o,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Vp(this,t)}run(){if(!this.active)return this.fn();let o=Ro,r=bs;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=Ro,Ro=this,bs=!0,Ss=1<<++Un,Un<=ll?Gp(this):Tc(this),this.fn()}finally{Un<=ll&&Wp(this),Ss=1<<--Un,Ro=this.parent,bs=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ro===this?this.deferStop=!0:this.active&&(Tc(this),this.onStop&&this.onStop(),this.active=!1)}}function Tc(n){const{deps:o}=n;if(o.length){for(let r=0;r<o.length;r++)o[r].delete(n);o.length=0}}let bs=!0;const Hd=[];function _n(){Hd.push(bs),bs=!1}function En(){const n=Hd.pop();bs=n===void 0?!0:n}function Qr(n,o,r){if(bs&&Ro){let t=al.get(n);t||al.set(n,t=new Map);let f=t.get(r);f||t.set(r,f=ou()),Gd(f)}}function Gd(n,o){let r=!1;Un<=ll?Vd(n)||(n.n|=Ss,r=!Fd(n)):r=!n.has(Ro),r&&(n.add(Ro),Ro.deps.push(n))}function is(n,o,r,t,f,d){const i=al.get(n);if(!i)return;let u=[];if(o==="clear")u=[...i.values()];else if(r==="length"&&wt(n)){const s=Number(t);i.forEach((h,m)=>{(m==="length"||m>=s)&&u.push(h)})}else switch(r!==void 0&&u.push(i.get(r)),o){case"add":wt(n)?ru(r)&&u.push(i.get("length")):(u.push(i.get(Vs)),cn(n)&&u.push(i.get(ul)));break;case"delete":wt(n)||(u.push(i.get(Vs)),cn(n)&&u.push(i.get(ul)));break;case"set":cn(n)&&u.push(i.get(Vs));break}if(u.length===1)u[0]&&cl(u[0]);else{const s=[];for(const h of u)h&&s.push(...h);cl(ou(s))}}function cl(n,o){const r=wt(n)?n:[...n];for(const t of r)t.computed&&Cc(t);for(const t of r)t.computed||Cc(t)}function Cc(n,o){(n!==Ro||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const zp=$l("__proto__,__v_isRef,__isVue"),Wd=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(tu)),qp=nu(),Xp=nu(!1,!0),Yp=nu(!0),Rc=Zp();function Zp(){const n={};return["includes","indexOf","lastIndexOf"].forEach(o=>{n[o]=function(...r){const t=Dt(this);for(let d=0,i=this.length;d<i;d++)Qr(t,"get",d+"");const f=t[o](...r);return f===-1||f===!1?t[o](...r.map(Dt)):f}}),["push","pop","shift","unshift","splice"].forEach(o=>{n[o]=function(...r){_n();const t=Dt(this)[o].apply(this,r);return En(),t}}),n}function Kp(n){const o=Dt(this);return Qr(o,"has",n),o.hasOwnProperty(n)}function nu(n=!1,o=!1){return function(t,f,d){if(f==="__v_isReactive")return!n;if(f==="__v_isReadonly")return n;if(f==="__v_isShallow")return o;if(f==="__v_raw"&&d===(n?o?h0:Zd:o?Yd:Xd).get(t))return t;const i=wt(t);if(!n){if(i&&At(Rc,f))return Reflect.get(Rc,f,d);if(f==="hasOwnProperty")return Kp}const u=Reflect.get(t,f,d);return(tu(f)?Wd.has(f):zp(f))||(n||Qr(t,"get",f),o)?u:Vr(u)?i&&ru(f)?u:u.value:er(u)?n?Kd(u):lu(u):u}}const $p=zd(),Qp=zd(!0);function zd(n=!1){return function(r,t,f,d){let i=r[t];if(mn(i)&&Vr(i)&&!Vr(f))return!1;if(!n&&(!Ji(f)&&!mn(f)&&(i=Dt(i),f=Dt(f)),!wt(r)&&Vr(i)&&!Vr(f)))return i.value=f,!0;const u=wt(r)&&ru(t)?Number(t)<r.length:At(r,t),s=Reflect.set(r,t,f,d);return r===Dt(d)&&(u?Yn(f,i)&&is(r,"set",t,f):is(r,"add",t,f)),s}}function Jp(n,o){const r=At(n,o);n[o];const t=Reflect.deleteProperty(n,o);return t&&r&&is(n,"delete",o,void 0),t}function e0(n,o){const r=Reflect.has(n,o);return(!tu(o)||!Wd.has(o))&&Qr(n,"has",o),r}function t0(n){return Qr(n,"iterate",wt(n)?"length":Vs),Reflect.ownKeys(n)}const qd={get:qp,set:$p,deleteProperty:Jp,has:e0,ownKeys:t0},r0={get:Yp,set(n,o){return!0},deleteProperty(n,o){return!0}},o0=Hr({},qd,{get:Xp,set:Qp}),iu=n=>n,pa=n=>Reflect.getPrototypeOf(n);function wi(n,o,r=!1,t=!1){n=n.__v_raw;const f=Dt(n),d=Dt(o);r||(o!==d&&Qr(f,"get",o),Qr(f,"get",d));const{has:i}=pa(f),u=t?iu:r?du:Zn;if(i.call(f,o))return u(n.get(o));if(i.call(f,d))return u(n.get(d));n!==f&&n.get(o)}function xi(n,o=!1){const r=this.__v_raw,t=Dt(r),f=Dt(n);return o||(n!==f&&Qr(t,"has",n),Qr(t,"has",f)),n===f?r.has(n):r.has(n)||r.has(f)}function Si(n,o=!1){return n=n.__v_raw,!o&&Qr(Dt(n),"iterate",Vs),Reflect.get(n,"size",n)}function Mc(n){n=Dt(n);const o=Dt(this);return pa(o).has.call(o,n)||(o.add(n),is(o,"add",n,n)),this}function Pc(n,o){o=Dt(o);const r=Dt(this),{has:t,get:f}=pa(r);let d=t.call(r,n);d||(n=Dt(n),d=t.call(r,n));const i=f.call(r,n);return r.set(n,o),d?Yn(o,i)&&is(r,"set",n,o):is(r,"add",n,o),this}function Ac(n){const o=Dt(this),{has:r,get:t}=pa(o);let f=r.call(o,n);f||(n=Dt(n),f=r.call(o,n)),t&&t.call(o,n);const d=o.delete(n);return f&&is(o,"delete",n,void 0),d}function Oc(){const n=Dt(this),o=n.size!==0,r=n.clear();return o&&is(n,"clear",void 0,void 0),r}function _i(n,o){return function(t,f){const d=this,i=d.__v_raw,u=Dt(i),s=o?iu:n?du:Zn;return!n&&Qr(u,"iterate",Vs),i.forEach((h,m)=>t.call(f,s(h),s(m),d))}}function Ei(n,o,r){return function(...t){const f=this.__v_raw,d=Dt(f),i=cn(d),u=n==="entries"||n===Symbol.iterator&&i,s=n==="keys"&&i,h=f[n](...t),m=r?iu:o?du:Zn;return!o&&Qr(d,"iterate",s?ul:Vs),{next(){const{value:g,done:c}=h.next();return c?{value:g,done:c}:{value:u?[m(g[0]),m(g[1])]:m(g),done:c}},[Symbol.iterator](){return this}}}}function ps(n){return function(...o){return n==="delete"?!1:this}}function s0(){const n={get(d){return wi(this,d)},get size(){return Si(this)},has:xi,add:Mc,set:Pc,delete:Ac,clear:Oc,forEach:_i(!1,!1)},o={get(d){return wi(this,d,!1,!0)},get size(){return Si(this)},has:xi,add:Mc,set:Pc,delete:Ac,clear:Oc,forEach:_i(!1,!0)},r={get(d){return wi(this,d,!0)},get size(){return Si(this,!0)},has(d){return xi.call(this,d,!0)},add:ps("add"),set:ps("set"),delete:ps("delete"),clear:ps("clear"),forEach:_i(!0,!1)},t={get(d){return wi(this,d,!0,!0)},get size(){return Si(this,!0)},has(d){return xi.call(this,d,!0)},add:ps("add"),set:ps("set"),delete:ps("delete"),clear:ps("clear"),forEach:_i(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{n[d]=Ei(d,!1,!1),r[d]=Ei(d,!0,!1),o[d]=Ei(d,!1,!0),t[d]=Ei(d,!0,!0)}),[n,r,o,t]}const[n0,i0,a0,l0]=s0();function au(n,o){const r=o?n?l0:a0:n?i0:n0;return(t,f,d)=>f==="__v_isReactive"?!n:f==="__v_isReadonly"?n:f==="__v_raw"?t:Reflect.get(At(r,f)&&f in t?r:t,f,d)}const u0={get:au(!1,!1)},c0={get:au(!1,!0)},d0={get:au(!0,!1)},Xd=new WeakMap,Yd=new WeakMap,Zd=new WeakMap,h0=new WeakMap;function f0(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function p0(n){return n.__v_skip||!Object.isExtensible(n)?0:f0(Lp(n))}function lu(n){return mn(n)?n:uu(n,!1,qd,u0,Xd)}function m0(n){return uu(n,!1,o0,c0,Yd)}function Kd(n){return uu(n,!0,r0,d0,Zd)}function uu(n,o,r,t,f){if(!er(n)||n.__v_raw&&!(o&&n.__v_isReactive))return n;const d=f.get(n);if(d)return d;const i=p0(n);if(i===0)return n;const u=new Proxy(n,i===2?t:r);return f.set(n,u),u}function dn(n){return mn(n)?dn(n.__v_raw):!!(n&&n.__v_isReactive)}function mn(n){return!!(n&&n.__v_isReadonly)}function Ji(n){return!!(n&&n.__v_isShallow)}function $d(n){return dn(n)||mn(n)}function Dt(n){const o=n&&n.__v_raw;return o?Dt(o):n}function cu(n){return Qi(n,"__v_skip",!0),n}const Zn=n=>er(n)?lu(n):n,du=n=>er(n)?Kd(n):n;function Qd(n){bs&&Ro&&(n=Dt(n),Gd(n.dep||(n.dep=ou())))}function Jd(n,o){n=Dt(n);const r=n.dep;r&&cl(r)}function Vr(n){return!!(n&&n.__v_isRef===!0)}function rs(n){return g0(n,!1)}function g0(n,o){return Vr(n)?n:new y0(n,o)}class y0{constructor(o,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?o:Dt(o),this._value=r?o:Zn(o)}get value(){return Qd(this),this._value}set value(o){const r=this.__v_isShallow||Ji(o)||mn(o);o=r?o:Dt(o),Yn(o,this._rawValue)&&(this._rawValue=o,this._value=r?o:Zn(o),Jd(this))}}function io(n){return Vr(n)?n.value:n}const v0={get:(n,o,r)=>io(Reflect.get(n,o,r)),set:(n,o,r,t)=>{const f=n[o];return Vr(f)&&!Vr(r)?(f.value=r,!0):Reflect.set(n,o,r,t)}};function eh(n){return dn(n)?n:new Proxy(n,v0)}var th;class b0{constructor(o,r,t,f){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[th]=!1,this._dirty=!0,this.effect=new su(o,()=>{this._dirty||(this._dirty=!0,Jd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=t}get value(){const o=Dt(this);return Qd(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}th="__v_isReadonly";function w0(n,o,r=!1){let t,f;const d=xt(n);return d?(t=n,f=Po):(t=n.get,f=n.set),new b0(t,f,d||!f,r)}function ws(n,o,r,t){let f;try{f=t?n(...t):n()}catch(d){ma(d,o,r)}return f}function vo(n,o,r,t){if(xt(n)){const d=ws(n,o,r,t);return d&&Bd(d)&&d.catch(i=>{ma(i,o,r)}),d}const f=[];for(let d=0;d<n.length;d++)f.push(vo(n[d],o,r,t));return f}function ma(n,o,r,t=!0){const f=o?o.vnode:null;if(o){let d=o.parent;const i=o.proxy,u=r;for(;d;){const h=d.ec;if(h){for(let m=0;m<h.length;m++)if(h[m](n,i,u)===!1)return}d=d.parent}const s=o.appContext.config.errorHandler;if(s){ws(s,null,10,[n,i,u]);return}}x0(n,r,f,t)}function x0(n,o,r,t=!0){console.error(n)}let Kn=!1,dl=!1;const Fr=[];let Ho=0;const hn=[];let Jo=null,Ds=0;const rh=Promise.resolve();let hu=null;function S0(n){const o=hu||rh;return n?o.then(this?n.bind(this):n):o}function _0(n){let o=Ho+1,r=Fr.length;for(;o<r;){const t=o+r>>>1;$n(Fr[t])<n?o=t+1:r=t}return o}function fu(n){(!Fr.length||!Fr.includes(n,Kn&&n.allowRecurse?Ho+1:Ho))&&(n.id==null?Fr.push(n):Fr.splice(_0(n.id),0,n),oh())}function oh(){!Kn&&!dl&&(dl=!0,hu=rh.then(nh))}function E0(n){const o=Fr.indexOf(n);o>Ho&&Fr.splice(o,1)}function j0(n){wt(n)?hn.push(...n):(!Jo||!Jo.includes(n,n.allowRecurse?Ds+1:Ds))&&hn.push(n),oh()}function kc(n,o=Kn?Ho+1:0){for(;o<Fr.length;o++){const r=Fr[o];r&&r.pre&&(Fr.splice(o,1),o--,r())}}function sh(n){if(hn.length){const o=[...new Set(hn)];if(hn.length=0,Jo){Jo.push(...o);return}for(Jo=o,Jo.sort((r,t)=>$n(r)-$n(t)),Ds=0;Ds<Jo.length;Ds++)Jo[Ds]();Jo=null,Ds=0}}const $n=n=>n.id==null?1/0:n.id,T0=(n,o)=>{const r=$n(n)-$n(o);if(r===0){if(n.pre&&!o.pre)return-1;if(o.pre&&!n.pre)return 1}return r};function nh(n){dl=!1,Kn=!0,Fr.sort(T0);const o=Po;try{for(Ho=0;Ho<Fr.length;Ho++){const r=Fr[Ho];r&&r.active!==!1&&ws(r,null,14)}}finally{Ho=0,Fr.length=0,sh(),Kn=!1,hu=null,(Fr.length||hn.length)&&nh()}}function C0(n,o,...r){if(n.isUnmounted)return;const t=n.vnode.props||Kt;let f=r;const d=o.startsWith("update:"),i=d&&o.slice(7);if(i&&i in t){const m=`${i==="modelValue"?"model":i}Modifiers`,{number:g,trim:c}=t[m]||Kt;c&&(f=r.map(l=>pr(l)?l.trim():l)),g&&(f=r.map(il))}let u,s=t[u=qa(o)]||t[u=qa(Wo(o))];!s&&d&&(s=t[u=qa(Sn(o))]),s&&vo(s,n,6,f);const h=t[u+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[u])return;n.emitted[u]=!0,vo(h,n,6,f)}}function ih(n,o,r=!1){const t=o.emitsCache,f=t.get(n);if(f!==void 0)return f;const d=n.emits;let i={},u=!1;if(!xt(n)){const s=h=>{const m=ih(h,o,!0);m&&(u=!0,Hr(i,m))};!r&&o.mixins.length&&o.mixins.forEach(s),n.extends&&s(n.extends),n.mixins&&n.mixins.forEach(s)}return!d&&!u?(er(n)&&t.set(n,null),null):(wt(d)?d.forEach(s=>i[s]=null):Hr(i,d),er(n)&&t.set(n,i),i)}function ga(n,o){return!n||!ca(o)?!1:(o=o.slice(2).replace(/Once$/,""),At(n,o[0].toLowerCase()+o.slice(1))||At(n,Sn(o))||At(n,o))}let ao=null,ah=null;function ea(n){const o=ao;return ao=n,ah=n&&n.type.__scopeId||null,o}function R0(n,o=ao,r){if(!o||n._n)return n;const t=(...f)=>{t._d&&Gc(-1);const d=ea(o);let i;try{i=n(...f)}finally{ea(d),t._d&&Gc(1)}return i};return t._n=!0,t._c=!0,t._d=!0,t}function Xa(n){const{type:o,vnode:r,proxy:t,withProxy:f,props:d,propsOptions:[i],slots:u,attrs:s,emit:h,render:m,renderCache:g,data:c,setupState:l,ctx:a,inheritAttrs:p}=n;let v,w;const x=ea(n);try{if(r.shapeFlag&4){const j=f||t;v=Vo(m.call(j,j,g,d,l,c,a)),w=s}else{const j=o;v=Vo(j.length>1?j(d,{attrs:s,slots:u,emit:h}):j(d,null)),w=o.props?s:M0(s)}}catch(j){Xn.length=0,ma(j,n,1),v=os(Ao)}let E=v;if(w&&p!==!1){const j=Object.keys(w),{shapeFlag:S}=E;j.length&&S&7&&(i&&j.some(Jl)&&(w=P0(w,i)),E=_s(E,w))}return r.dirs&&(E=_s(E),E.dirs=E.dirs?E.dirs.concat(r.dirs):r.dirs),r.transition&&(E.transition=r.transition),v=E,ea(x),v}const M0=n=>{let o;for(const r in n)(r==="class"||r==="style"||ca(r))&&((o||(o={}))[r]=n[r]);return o},P0=(n,o)=>{const r={};for(const t in n)(!Jl(t)||!(t.slice(9)in o))&&(r[t]=n[t]);return r};function A0(n,o,r){const{props:t,children:f,component:d}=n,{props:i,children:u,patchFlag:s}=o,h=d.emitsOptions;if(o.dirs||o.transition)return!0;if(r&&s>=0){if(s&1024)return!0;if(s&16)return t?Dc(t,i,h):!!i;if(s&8){const m=o.dynamicProps;for(let g=0;g<m.length;g++){const c=m[g];if(i[c]!==t[c]&&!ga(h,c))return!0}}}else return(f||u)&&(!u||!u.$stable)?!0:t===i?!1:t?i?Dc(t,i,h):!0:!!i;return!1}function Dc(n,o,r){const t=Object.keys(o);if(t.length!==Object.keys(n).length)return!0;for(let f=0;f<t.length;f++){const d=t[f];if(o[d]!==n[d]&&!ga(r,d))return!0}return!1}function O0({vnode:n,parent:o},r){for(;o&&o.subTree===n;)(n=o.vnode).el=r,o=o.parent}const k0=n=>n.__isSuspense;function D0(n,o){o&&o.pendingBranch?wt(n)?o.effects.push(...n):o.effects.push(n):j0(n)}function I0(n,o){if(ir){let r=ir.provides;const t=ir.parent&&ir.parent.provides;t===r&&(r=ir.provides=Object.create(t)),r[n]=o}}function Oi(n,o,r=!1){const t=ir||ao;if(t){const f=t.parent==null?t.vnode.appContext&&t.vnode.appContext.provides:t.parent.provides;if(f&&n in f)return f[n];if(arguments.length>1)return r&&xt(o)?o.call(t.proxy):o}}const ji={};function Ya(n,o,r){return lh(n,o,r)}function lh(n,o,{immediate:r,deep:t,flush:f,onTrack:d,onTrigger:i}=Kt){const u=Hp()===(ir==null?void 0:ir.scope)?ir:null;let s,h=!1,m=!1;if(Vr(n)?(s=()=>n.value,h=Ji(n)):dn(n)?(s=()=>n,t=!0):wt(n)?(m=!0,h=n.some(E=>dn(E)||Ji(E)),s=()=>n.map(E=>{if(Vr(E))return E.value;if(dn(E))return Bs(E);if(xt(E))return ws(E,u,2)})):xt(n)?o?s=()=>ws(n,u,2):s=()=>{if(!(u&&u.isUnmounted))return g&&g(),vo(n,u,3,[c])}:s=Po,o&&t){const E=s;s=()=>Bs(E())}let g,c=E=>{g=w.onStop=()=>{ws(E,u,4)}},l;if(Jn)if(c=Po,o?r&&vo(o,u,3,[s(),m?[]:void 0,c]):s(),f==="sync"){const E=Om();l=E.__watcherHandles||(E.__watcherHandles=[])}else return Po;let a=m?new Array(n.length).fill(ji):ji;const p=()=>{if(w.active)if(o){const E=w.run();(t||h||(m?E.some((j,S)=>Yn(j,a[S])):Yn(E,a)))&&(g&&g(),vo(o,u,3,[E,a===ji?void 0:m&&a[0]===ji?[]:a,c]),a=E)}else w.run()};p.allowRecurse=!!o;let v;f==="sync"?v=p:f==="post"?v=()=>Xr(p,u&&u.suspense):(p.pre=!0,u&&(p.id=u.uid),v=()=>fu(p));const w=new su(s,v);o?r?p():a=w.run():f==="post"?Xr(w.run.bind(w),u&&u.suspense):w.run();const x=()=>{w.stop(),u&&u.scope&&eu(u.scope.effects,w)};return l&&l.push(x),x}function L0(n,o,r){const t=this.proxy,f=pr(n)?n.includes(".")?uh(t,n):()=>t[n]:n.bind(t,t);let d;xt(o)?d=o:(d=o.handler,r=o);const i=ir;gn(this);const u=lh(f,d.bind(t),r);return i?gn(i):Hs(),u}function uh(n,o){const r=o.split(".");return()=>{let t=n;for(let f=0;f<r.length&&t;f++)t=t[r[f]];return t}}function Bs(n,o){if(!er(n)||n.__v_skip||(o=o||new Set,o.has(n)))return n;if(o.add(n),Vr(n))Bs(n.value,o);else if(wt(n))for(let r=0;r<n.length;r++)Bs(n[r],o);else if(Ld(n)||cn(n))n.forEach(r=>{Bs(r,o)});else if(Nd(n))for(const r in n)Bs(n[r],o);return n}function B0(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fh(()=>{n.isMounted=!0}),ph(()=>{n.isUnmounting=!0}),n}const uo=[Function,Array],U0={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:uo,onEnter:uo,onAfterEnter:uo,onEnterCancelled:uo,onBeforeLeave:uo,onLeave:uo,onAfterLeave:uo,onLeaveCancelled:uo,onBeforeAppear:uo,onAppear:uo,onAfterAppear:uo,onAppearCancelled:uo},setup(n,{slots:o}){const r=Em(),t=B0();let f;return()=>{const d=o.default&&dh(o.default(),!0);if(!d||!d.length)return;let i=d[0];if(d.length>1){for(const p of d)if(p.type!==Ao){i=p;break}}const u=Dt(n),{mode:s}=u;if(t.isLeaving)return Za(i);const h=Ic(i);if(!h)return Za(i);const m=hl(h,u,t,r);fl(h,m);const g=r.subTree,c=g&&Ic(g);let l=!1;const{getTransitionKey:a}=h.type;if(a){const p=a();f===void 0?f=p:p!==f&&(f=p,l=!0)}if(c&&c.type!==Ao&&(!Is(h,c)||l)){const p=hl(c,u,t,r);if(fl(c,p),s==="out-in")return t.isLeaving=!0,p.afterLeave=()=>{t.isLeaving=!1,r.update.active!==!1&&r.update()},Za(i);s==="in-out"&&h.type!==Ao&&(p.delayLeave=(v,w,x)=>{const E=ch(t,c);E[String(c.key)]=c,v._leaveCb=()=>{w(),v._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=x})}return i}}},N0=U0;function ch(n,o){const{leavingVNodes:r}=n;let t=r.get(o.type);return t||(t=Object.create(null),r.set(o.type,t)),t}function hl(n,o,r,t){const{appear:f,mode:d,persisted:i=!1,onBeforeEnter:u,onEnter:s,onAfterEnter:h,onEnterCancelled:m,onBeforeLeave:g,onLeave:c,onAfterLeave:l,onLeaveCancelled:a,onBeforeAppear:p,onAppear:v,onAfterAppear:w,onAppearCancelled:x}=o,E=String(n.key),j=ch(r,n),S=(P,k)=>{P&&vo(P,t,9,k)},R=(P,k)=>{const D=k[1];S(P,k),wt(P)?P.every(I=>I.length<=1)&&D():P.length<=1&&D()},M={mode:d,persisted:i,beforeEnter(P){let k=u;if(!r.isMounted)if(f)k=p||u;else return;P._leaveCb&&P._leaveCb(!0);const D=j[E];D&&Is(n,D)&&D.el._leaveCb&&D.el._leaveCb(),S(k,[P])},enter(P){let k=s,D=h,I=m;if(!r.isMounted)if(f)k=v||s,D=w||h,I=x||m;else return;let N=!1;const U=P._enterCb=G=>{N||(N=!0,G?S(I,[P]):S(D,[P]),M.delayedLeave&&M.delayedLeave(),P._enterCb=void 0)};k?R(k,[P,U]):U()},leave(P,k){const D=String(n.key);if(P._enterCb&&P._enterCb(!0),r.isUnmounting)return k();S(g,[P]);let I=!1;const N=P._leaveCb=U=>{I||(I=!0,k(),U?S(a,[P]):S(l,[P]),P._leaveCb=void 0,j[D]===n&&delete j[D])};j[D]=n,c?R(c,[P,N]):N()},clone(P){return hl(P,o,r,t)}};return M}function Za(n){if(ya(n))return n=_s(n),n.children=null,n}function Ic(n){return ya(n)?n.children?n.children[0]:void 0:n}function fl(n,o){n.shapeFlag&6&&n.component?fl(n.component.subTree,o):n.shapeFlag&128?(n.ssContent.transition=o.clone(n.ssContent),n.ssFallback.transition=o.clone(n.ssFallback)):n.transition=o}function dh(n,o=!1,r){let t=[],f=0;for(let d=0;d<n.length;d++){let i=n[d];const u=r==null?i.key:String(r)+String(i.key!=null?i.key:d);i.type===Zr?(i.patchFlag&128&&f++,t=t.concat(dh(i.children,o,u))):(o||i.type!==Ao)&&t.push(u!=null?_s(i,{key:u}):i)}if(f>1)for(let d=0;d<t.length;d++)t[d].patchFlag=-2;return t}function Ys(n){return xt(n)?{setup:n,name:n.name}:n}const ki=n=>!!n.type.__asyncLoader,ya=n=>n.type.__isKeepAlive;function F0(n,o){hh(n,"a",o)}function V0(n,o){hh(n,"da",o)}function hh(n,o,r=ir){const t=n.__wdc||(n.__wdc=()=>{let f=r;for(;f;){if(f.isDeactivated)return;f=f.parent}return n()});if(va(o,t,r),r){let f=r.parent;for(;f&&f.parent;)ya(f.parent.vnode)&&H0(t,o,r,f),f=f.parent}}function H0(n,o,r,t){const f=va(o,n,t,!0);mh(()=>{eu(t[o],f)},r)}function va(n,o,r=ir,t=!1){if(r){const f=r[n]||(r[n]=[]),d=o.__weh||(o.__weh=(...i)=>{if(r.isUnmounted)return;_n(),gn(r);const u=vo(o,r,n,i);return Hs(),En(),u});return t?f.unshift(d):f.push(d),d}}const ls=n=>(o,r=ir)=>(!Jn||n==="sp")&&va(n,(...t)=>o(...t),r),G0=ls("bm"),fh=ls("m"),W0=ls("bu"),z0=ls("u"),ph=ls("bum"),mh=ls("um"),q0=ls("sp"),X0=ls("rtg"),Y0=ls("rtc");function Z0(n,o=ir){va("ec",n,o)}function sn(n,o){const r=ao;if(r===null)return n;const t=xa(r)||r.proxy,f=n.dirs||(n.dirs=[]);for(let d=0;d<o.length;d++){let[i,u,s,h=Kt]=o[d];i&&(xt(i)&&(i={mounted:i,updated:i}),i.deep&&Bs(u),f.push({dir:i,instance:t,value:u,oldValue:void 0,arg:s,modifiers:h}))}return n}function As(n,o,r,t){const f=n.dirs,d=o&&o.dirs;for(let i=0;i<f.length;i++){const u=f[i];d&&(u.oldValue=d[i].value);let s=u.dir[t];s&&(_n(),vo(s,r,8,[n.el,u,n,o]),En())}}const gh="components",yh=Symbol();function K0(n){return pr(n)?$0(gh,n,!1)||n:n||yh}function $0(n,o,r=!0,t=!1){const f=ao||ir;if(f){const d=f.type;if(n===gh){const u=Mm(d,!1);if(u&&(u===o||u===Wo(o)||u===fa(Wo(o))))return d}const i=Lc(f[n]||d[n],o)||Lc(f.appContext[n],o);return!i&&t?d:i}}function Lc(n,o){return n&&(n[o]||n[Wo(o)]||n[fa(Wo(o))])}function vh(n,o,r,t){let f;const d=r&&r[t];if(wt(n)||pr(n)){f=new Array(n.length);for(let i=0,u=n.length;i<u;i++)f[i]=o(n[i],i,void 0,d&&d[i])}else if(typeof n=="number"){f=new Array(n);for(let i=0;i<n;i++)f[i]=o(i+1,i,void 0,d&&d[i])}else if(er(n))if(n[Symbol.iterator])f=Array.from(n,(i,u)=>o(i,u,void 0,d&&d[u]));else{const i=Object.keys(n);f=new Array(i.length);for(let u=0,s=i.length;u<s;u++){const h=i[u];f[u]=o(n[h],h,u,d&&d[u])}}else f=[];return r&&(r[t]=f),f}const pl=n=>n?Mh(n)?xa(n)||n.proxy:pl(n.parent):null,qn=Hr(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>pl(n.parent),$root:n=>pl(n.root),$emit:n=>n.emit,$options:n=>pu(n),$forceUpdate:n=>n.f||(n.f=()=>fu(n.update)),$nextTick:n=>n.n||(n.n=S0.bind(n.proxy)),$watch:n=>L0.bind(n)}),Ka=(n,o)=>n!==Kt&&!n.__isScriptSetup&&At(n,o),Q0={get({_:n},o){const{ctx:r,setupState:t,data:f,props:d,accessCache:i,type:u,appContext:s}=n;let h;if(o[0]!=="$"){const l=i[o];if(l!==void 0)switch(l){case 1:return t[o];case 2:return f[o];case 4:return r[o];case 3:return d[o]}else{if(Ka(t,o))return i[o]=1,t[o];if(f!==Kt&&At(f,o))return i[o]=2,f[o];if((h=n.propsOptions[0])&&At(h,o))return i[o]=3,d[o];if(r!==Kt&&At(r,o))return i[o]=4,r[o];ml&&(i[o]=0)}}const m=qn[o];let g,c;if(m)return o==="$attrs"&&Qr(n,"get",o),m(n);if((g=u.__cssModules)&&(g=g[o]))return g;if(r!==Kt&&At(r,o))return i[o]=4,r[o];if(c=s.config.globalProperties,At(c,o))return c[o]},set({_:n},o,r){const{data:t,setupState:f,ctx:d}=n;return Ka(f,o)?(f[o]=r,!0):t!==Kt&&At(t,o)?(t[o]=r,!0):At(n.props,o)||o[0]==="$"&&o.slice(1)in n?!1:(d[o]=r,!0)},has({_:{data:n,setupState:o,accessCache:r,ctx:t,appContext:f,propsOptions:d}},i){let u;return!!r[i]||n!==Kt&&At(n,i)||Ka(o,i)||(u=d[0])&&At(u,i)||At(t,i)||At(qn,i)||At(f.config.globalProperties,i)},defineProperty(n,o,r){return r.get!=null?n._.accessCache[o]=0:At(r,"value")&&this.set(n,o,r.value,null),Reflect.defineProperty(n,o,r)}};let ml=!0;function J0(n){const o=pu(n),r=n.proxy,t=n.ctx;ml=!1,o.beforeCreate&&Bc(o.beforeCreate,n,"bc");const{data:f,computed:d,methods:i,watch:u,provide:s,inject:h,created:m,beforeMount:g,mounted:c,beforeUpdate:l,updated:a,activated:p,deactivated:v,beforeDestroy:w,beforeUnmount:x,destroyed:E,unmounted:j,render:S,renderTracked:R,renderTriggered:M,errorCaptured:P,serverPrefetch:k,expose:D,inheritAttrs:I,components:N,directives:U,filters:G}=o;if(h&&em(h,t,null,n.appContext.config.unwrapInjectedRef),i)for(const Z in i){const X=i[Z];xt(X)&&(t[Z]=X.bind(r))}if(f){const Z=f.call(r,r);er(Z)&&(n.data=lu(Z))}if(ml=!0,d)for(const Z in d){const X=d[Z],Y=xt(X)?X.bind(r,r):xt(X.get)?X.get.bind(r,r):Po,te=!xt(X)&&xt(X.set)?X.set.bind(r):Po,se=ra({get:Y,set:te});Object.defineProperty(t,Z,{enumerable:!0,configurable:!0,get:()=>se.value,set:me=>se.value=me})}if(u)for(const Z in u)bh(u[Z],t,r,Z);if(s){const Z=xt(s)?s.call(r):s;Reflect.ownKeys(Z).forEach(X=>{I0(X,Z[X])})}m&&Bc(m,n,"c");function K(Z,X){wt(X)?X.forEach(Y=>Z(Y.bind(r))):X&&Z(X.bind(r))}if(K(G0,g),K(fh,c),K(W0,l),K(z0,a),K(F0,p),K(V0,v),K(Z0,P),K(Y0,R),K(X0,M),K(ph,x),K(mh,j),K(q0,k),wt(D))if(D.length){const Z=n.exposed||(n.exposed={});D.forEach(X=>{Object.defineProperty(Z,X,{get:()=>r[X],set:Y=>r[X]=Y})})}else n.exposed||(n.exposed={});S&&n.render===Po&&(n.render=S),I!=null&&(n.inheritAttrs=I),N&&(n.components=N),U&&(n.directives=U)}function em(n,o,r=Po,t=!1){wt(n)&&(n=gl(n));for(const f in n){const d=n[f];let i;er(d)?"default"in d?i=Oi(d.from||f,d.default,!0):i=Oi(d.from||f):i=Oi(d),Vr(i)&&t?Object.defineProperty(o,f,{enumerable:!0,configurable:!0,get:()=>i.value,set:u=>i.value=u}):o[f]=i}}function Bc(n,o,r){vo(wt(n)?n.map(t=>t.bind(o.proxy)):n.bind(o.proxy),o,r)}function bh(n,o,r,t){const f=t.includes(".")?uh(r,t):()=>r[t];if(pr(n)){const d=o[n];xt(d)&&Ya(f,d)}else if(xt(n))Ya(f,n.bind(r));else if(er(n))if(wt(n))n.forEach(d=>bh(d,o,r,t));else{const d=xt(n.handler)?n.handler.bind(r):o[n.handler];xt(d)&&Ya(f,d,n)}}function pu(n){const o=n.type,{mixins:r,extends:t}=o,{mixins:f,optionsCache:d,config:{optionMergeStrategies:i}}=n.appContext,u=d.get(o);let s;return u?s=u:!f.length&&!r&&!t?s=o:(s={},f.length&&f.forEach(h=>ta(s,h,i,!0)),ta(s,o,i)),er(o)&&d.set(o,s),s}function ta(n,o,r,t=!1){const{mixins:f,extends:d}=o;d&&ta(n,d,r,!0),f&&f.forEach(i=>ta(n,i,r,!0));for(const i in o)if(!(t&&i==="expose")){const u=tm[i]||r&&r[i];n[i]=u?u(n[i],o[i]):o[i]}return n}const tm={data:Uc,props:ks,emits:ks,methods:ks,computed:ks,beforeCreate:Gr,created:Gr,beforeMount:Gr,mounted:Gr,beforeUpdate:Gr,updated:Gr,beforeDestroy:Gr,beforeUnmount:Gr,destroyed:Gr,unmounted:Gr,activated:Gr,deactivated:Gr,errorCaptured:Gr,serverPrefetch:Gr,components:ks,directives:ks,watch:om,provide:Uc,inject:rm};function Uc(n,o){return o?n?function(){return Hr(xt(n)?n.call(this,this):n,xt(o)?o.call(this,this):o)}:o:n}function rm(n,o){return ks(gl(n),gl(o))}function gl(n){if(wt(n)){const o={};for(let r=0;r<n.length;r++)o[n[r]]=n[r];return o}return n}function Gr(n,o){return n?[...new Set([].concat(n,o))]:o}function ks(n,o){return n?Hr(Hr(Object.create(null),n),o):o}function om(n,o){if(!n)return o;if(!o)return n;const r=Hr(Object.create(null),n);for(const t in o)r[t]=Gr(n[t],o[t]);return r}function sm(n,o,r,t=!1){const f={},d={};Qi(d,wa,1),n.propsDefaults=Object.create(null),wh(n,o,f,d);for(const i in n.propsOptions[0])i in f||(f[i]=void 0);r?n.props=t?f:m0(f):n.type.props?n.props=f:n.props=d,n.attrs=d}function nm(n,o,r,t){const{props:f,attrs:d,vnode:{patchFlag:i}}=n,u=Dt(f),[s]=n.propsOptions;let h=!1;if((t||i>0)&&!(i&16)){if(i&8){const m=n.vnode.dynamicProps;for(let g=0;g<m.length;g++){let c=m[g];if(ga(n.emitsOptions,c))continue;const l=o[c];if(s)if(At(d,c))l!==d[c]&&(d[c]=l,h=!0);else{const a=Wo(c);f[a]=yl(s,u,a,l,n,!1)}else l!==d[c]&&(d[c]=l,h=!0)}}}else{wh(n,o,f,d)&&(h=!0);let m;for(const g in u)(!o||!At(o,g)&&((m=Sn(g))===g||!At(o,m)))&&(s?r&&(r[g]!==void 0||r[m]!==void 0)&&(f[g]=yl(s,u,g,void 0,n,!0)):delete f[g]);if(d!==u)for(const g in d)(!o||!At(o,g))&&(delete d[g],h=!0)}h&&is(n,"set","$attrs")}function wh(n,o,r,t){const[f,d]=n.propsOptions;let i=!1,u;if(o)for(let s in o){if(Pi(s))continue;const h=o[s];let m;f&&At(f,m=Wo(s))?!d||!d.includes(m)?r[m]=h:(u||(u={}))[m]=h:ga(n.emitsOptions,s)||(!(s in t)||h!==t[s])&&(t[s]=h,i=!0)}if(d){const s=Dt(r),h=u||Kt;for(let m=0;m<d.length;m++){const g=d[m];r[g]=yl(f,s,g,h[g],n,!At(h,g))}}return i}function yl(n,o,r,t,f,d){const i=n[r];if(i!=null){const u=At(i,"default");if(u&&t===void 0){const s=i.default;if(i.type!==Function&&xt(s)){const{propsDefaults:h}=f;r in h?t=h[r]:(gn(f),t=h[r]=s.call(null,o),Hs())}else t=s}i[0]&&(d&&!u?t=!1:i[1]&&(t===""||t===Sn(r))&&(t=!0))}return t}function xh(n,o,r=!1){const t=o.propsCache,f=t.get(n);if(f)return f;const d=n.props,i={},u=[];let s=!1;if(!xt(n)){const m=g=>{s=!0;const[c,l]=xh(g,o,!0);Hr(i,c),l&&u.push(...l)};!r&&o.mixins.length&&o.mixins.forEach(m),n.extends&&m(n.extends),n.mixins&&n.mixins.forEach(m)}if(!d&&!s)return er(n)&&t.set(n,un),un;if(wt(d))for(let m=0;m<d.length;m++){const g=Wo(d[m]);Nc(g)&&(i[g]=Kt)}else if(d)for(const m in d){const g=Wo(m);if(Nc(g)){const c=d[m],l=i[g]=wt(c)||xt(c)?{type:c}:Object.assign({},c);if(l){const a=Hc(Boolean,l.type),p=Hc(String,l.type);l[0]=a>-1,l[1]=p<0||a<p,(a>-1||At(l,"default"))&&u.push(g)}}}const h=[i,u];return er(n)&&t.set(n,h),h}function Nc(n){return n[0]!=="$"}function Fc(n){const o=n&&n.toString().match(/^\s*(function|class) (\w+)/);return o?o[2]:n===null?"null":""}function Vc(n,o){return Fc(n)===Fc(o)}function Hc(n,o){return wt(o)?o.findIndex(r=>Vc(r,n)):xt(o)&&Vc(o,n)?0:-1}const Sh=n=>n[0]==="_"||n==="$stable",mu=n=>wt(n)?n.map(Vo):[Vo(n)],im=(n,o,r)=>{if(o._n)return o;const t=R0((...f)=>mu(o(...f)),r);return t._c=!1,t},_h=(n,o,r)=>{const t=n._ctx;for(const f in n){if(Sh(f))continue;const d=n[f];if(xt(d))o[f]=im(f,d,t);else if(d!=null){const i=mu(d);o[f]=()=>i}}},Eh=(n,o)=>{const r=mu(o);n.slots.default=()=>r},am=(n,o)=>{if(n.vnode.shapeFlag&32){const r=o._;r?(n.slots=Dt(o),Qi(o,"_",r)):_h(o,n.slots={})}else n.slots={},o&&Eh(n,o);Qi(n.slots,wa,1)},lm=(n,o,r)=>{const{vnode:t,slots:f}=n;let d=!0,i=Kt;if(t.shapeFlag&32){const u=o._;u?r&&u===1?d=!1:(Hr(f,o),!r&&u===1&&delete f._):(d=!o.$stable,_h(o,f)),i=o}else o&&(Eh(n,o),i={default:1});if(d)for(const u in f)!Sh(u)&&!(u in i)&&delete f[u]};function jh(){return{app:null,config:{isNativeTag:kp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let um=0;function cm(n,o){return function(t,f=null){xt(t)||(t=Object.assign({},t)),f!=null&&!er(f)&&(f=null);const d=jh(),i=new Set;let u=!1;const s=d.app={_uid:um++,_component:t,_props:f,_container:null,_context:d,_instance:null,version:km,get config(){return d.config},set config(h){},use(h,...m){return i.has(h)||(h&&xt(h.install)?(i.add(h),h.install(s,...m)):xt(h)&&(i.add(h),h(s,...m))),s},mixin(h){return d.mixins.includes(h)||d.mixins.push(h),s},component(h,m){return m?(d.components[h]=m,s):d.components[h]},directive(h,m){return m?(d.directives[h]=m,s):d.directives[h]},mount(h,m,g){if(!u){const c=os(t,f);return c.appContext=d,m&&o?o(c,h):n(c,h,g),u=!0,s._container=h,h.__vue_app__=s,xa(c.component)||c.component.proxy}},unmount(){u&&(n(null,s._container),delete s._container.__vue_app__)},provide(h,m){return d.provides[h]=m,s}};return s}}function vl(n,o,r,t,f=!1){if(wt(n)){n.forEach((c,l)=>vl(c,o&&(wt(o)?o[l]:o),r,t,f));return}if(ki(t)&&!f)return;const d=t.shapeFlag&4?xa(t.component)||t.component.proxy:t.el,i=f?null:d,{i:u,r:s}=n,h=o&&o.r,m=u.refs===Kt?u.refs={}:u.refs,g=u.setupState;if(h!=null&&h!==s&&(pr(h)?(m[h]=null,At(g,h)&&(g[h]=null)):Vr(h)&&(h.value=null)),xt(s))ws(s,u,12,[i,m]);else{const c=pr(s),l=Vr(s);if(c||l){const a=()=>{if(n.f){const p=c?At(g,s)?g[s]:m[s]:s.value;f?wt(p)&&eu(p,d):wt(p)?p.includes(d)||p.push(d):c?(m[s]=[d],At(g,s)&&(g[s]=m[s])):(s.value=[d],n.k&&(m[n.k]=s.value))}else c?(m[s]=i,At(g,s)&&(g[s]=i)):l&&(s.value=i,n.k&&(m[n.k]=i))};i?(a.id=-1,Xr(a,r)):a()}}}const Xr=D0;function dm(n){return hm(n)}function hm(n,o){const r=Np();r.__VUE__=!0;const{insert:t,remove:f,patchProp:d,createElement:i,createText:u,createComment:s,setText:h,setElementText:m,parentNode:g,nextSibling:c,setScopeId:l=Po,insertStaticContent:a}=n,p=(W,re,q,le=null,ue=null,ge=null,pe=!1,je=null,Se=!!re.dynamicChildren)=>{if(W===re)return;W&&!Is(W,re)&&(le=ie(W),me(W,ue,ge,!0),W=null),re.patchFlag===-2&&(Se=!1,re.dynamicChildren=null);const{type:Ce,ref:Re,shapeFlag:Ne}=re;switch(Ce){case ba:v(W,re,q,le);break;case Ao:w(W,re,q,le);break;case $a:W==null&&x(re,q,le,pe);break;case Zr:N(W,re,q,le,ue,ge,pe,je,Se);break;default:Ne&1?S(W,re,q,le,ue,ge,pe,je,Se):Ne&6?U(W,re,q,le,ue,ge,pe,je,Se):(Ne&64||Ne&128)&&Ce.process(W,re,q,le,ue,ge,pe,je,Se,ve)}Re!=null&&ue&&vl(Re,W&&W.ref,ge,re||W,!re)},v=(W,re,q,le)=>{if(W==null)t(re.el=u(re.children),q,le);else{const ue=re.el=W.el;re.children!==W.children&&h(ue,re.children)}},w=(W,re,q,le)=>{W==null?t(re.el=s(re.children||""),q,le):re.el=W.el},x=(W,re,q,le)=>{[W.el,W.anchor]=a(W.children,re,q,le,W.el,W.anchor)},E=({el:W,anchor:re},q,le)=>{let ue;for(;W&&W!==re;)ue=c(W),t(W,q,le),W=ue;t(re,q,le)},j=({el:W,anchor:re})=>{let q;for(;W&&W!==re;)q=c(W),f(W),W=q;f(re)},S=(W,re,q,le,ue,ge,pe,je,Se)=>{pe=pe||re.type==="svg",W==null?R(re,q,le,ue,ge,pe,je,Se):k(W,re,ue,ge,pe,je,Se)},R=(W,re,q,le,ue,ge,pe,je)=>{let Se,Ce;const{type:Re,props:Ne,shapeFlag:He,transition:Ge,dirs:$e}=W;if(Se=W.el=i(W.type,ge,Ne&&Ne.is,Ne),He&8?m(Se,W.children):He&16&&P(W.children,Se,null,le,ue,ge&&Re!=="foreignObject",pe,je),$e&&As(W,null,le,"created"),M(Se,W,W.scopeId,pe,le),Ne){for(const Ee in Ne)Ee!=="value"&&!Pi(Ee)&&d(Se,Ee,null,Ne[Ee],ge,W.children,le,ue,$);"value"in Ne&&d(Se,"value",null,Ne.value),(Ce=Ne.onVnodeBeforeMount)&&No(Ce,le,W)}$e&&As(W,null,le,"beforeMount");const Ze=(!ue||ue&&!ue.pendingBranch)&&Ge&&!Ge.persisted;Ze&&Ge.beforeEnter(Se),t(Se,re,q),((Ce=Ne&&Ne.onVnodeMounted)||Ze||$e)&&Xr(()=>{Ce&&No(Ce,le,W),Ze&&Ge.enter(Se),$e&&As(W,null,le,"mounted")},ue)},M=(W,re,q,le,ue)=>{if(q&&l(W,q),le)for(let ge=0;ge<le.length;ge++)l(W,le[ge]);if(ue){let ge=ue.subTree;if(re===ge){const pe=ue.vnode;M(W,pe,pe.scopeId,pe.slotScopeIds,ue.parent)}}},P=(W,re,q,le,ue,ge,pe,je,Se=0)=>{for(let Ce=Se;Ce<W.length;Ce++){const Re=W[Ce]=je?ys(W[Ce]):Vo(W[Ce]);p(null,Re,re,q,le,ue,ge,pe,je)}},k=(W,re,q,le,ue,ge,pe)=>{const je=re.el=W.el;let{patchFlag:Se,dynamicChildren:Ce,dirs:Re}=re;Se|=W.patchFlag&16;const Ne=W.props||Kt,He=re.props||Kt;let Ge;q&&Os(q,!1),(Ge=He.onVnodeBeforeUpdate)&&No(Ge,q,re,W),Re&&As(re,W,q,"beforeUpdate"),q&&Os(q,!0);const $e=ue&&re.type!=="foreignObject";if(Ce?D(W.dynamicChildren,Ce,je,q,le,$e,ge):pe||X(W,re,je,null,q,le,$e,ge,!1),Se>0){if(Se&16)I(je,re,Ne,He,q,le,ue);else if(Se&2&&Ne.class!==He.class&&d(je,"class",null,He.class,ue),Se&4&&d(je,"style",Ne.style,He.style,ue),Se&8){const Ze=re.dynamicProps;for(let Ee=0;Ee<Ze.length;Ee++){const Fe=Ze[Ee],Pe=Ne[Fe],Q=He[Fe];(Q!==Pe||Fe==="value")&&d(je,Fe,Pe,Q,ue,W.children,q,le,$)}}Se&1&&W.children!==re.children&&m(je,re.children)}else!pe&&Ce==null&&I(je,re,Ne,He,q,le,ue);((Ge=He.onVnodeUpdated)||Re)&&Xr(()=>{Ge&&No(Ge,q,re,W),Re&&As(re,W,q,"updated")},le)},D=(W,re,q,le,ue,ge,pe)=>{for(let je=0;je<re.length;je++){const Se=W[je],Ce=re[je],Re=Se.el&&(Se.type===Zr||!Is(Se,Ce)||Se.shapeFlag&70)?g(Se.el):q;p(Se,Ce,Re,null,le,ue,ge,pe,!0)}},I=(W,re,q,le,ue,ge,pe)=>{if(q!==le){if(q!==Kt)for(const je in q)!Pi(je)&&!(je in le)&&d(W,je,q[je],null,pe,re.children,ue,ge,$);for(const je in le){if(Pi(je))continue;const Se=le[je],Ce=q[je];Se!==Ce&&je!=="value"&&d(W,je,Ce,Se,pe,re.children,ue,ge,$)}"value"in le&&d(W,"value",q.value,le.value)}},N=(W,re,q,le,ue,ge,pe,je,Se)=>{const Ce=re.el=W?W.el:u(""),Re=re.anchor=W?W.anchor:u("");let{patchFlag:Ne,dynamicChildren:He,slotScopeIds:Ge}=re;Ge&&(je=je?je.concat(Ge):Ge),W==null?(t(Ce,q,le),t(Re,q,le),P(re.children,q,Re,ue,ge,pe,je,Se)):Ne>0&&Ne&64&&He&&W.dynamicChildren?(D(W.dynamicChildren,He,q,ue,ge,pe,je),(re.key!=null||ue&&re===ue.subTree)&&Th(W,re,!0)):X(W,re,q,Re,ue,ge,pe,je,Se)},U=(W,re,q,le,ue,ge,pe,je,Se)=>{re.slotScopeIds=je,W==null?re.shapeFlag&512?ue.ctx.activate(re,q,le,pe,Se):G(re,q,le,ue,ge,pe,Se):J(W,re,Se)},G=(W,re,q,le,ue,ge,pe)=>{const je=W.component=_m(W,le,ue);if(ya(W)&&(je.ctx.renderer=ve),jm(je),je.asyncDep){if(ue&&ue.registerDep(je,K),!W.el){const Se=je.subTree=os(Ao);w(null,Se,re,q)}return}K(je,W,re,q,ue,ge,pe)},J=(W,re,q)=>{const le=re.component=W.component;if(A0(W,re,q))if(le.asyncDep&&!le.asyncResolved){Z(le,re,q);return}else le.next=re,E0(le.update),le.update();else re.el=W.el,le.vnode=re},K=(W,re,q,le,ue,ge,pe)=>{const je=()=>{if(W.isMounted){let{next:Re,bu:Ne,u:He,parent:Ge,vnode:$e}=W,Ze=Re,Ee;Os(W,!1),Re?(Re.el=$e.el,Z(W,Re,pe)):Re=$e,Ne&&Ai(Ne),(Ee=Re.props&&Re.props.onVnodeBeforeUpdate)&&No(Ee,Ge,Re,$e),Os(W,!0);const Fe=Xa(W),Pe=W.subTree;W.subTree=Fe,p(Pe,Fe,g(Pe.el),ie(Pe),W,ue,ge),Re.el=Fe.el,Ze===null&&O0(W,Fe.el),He&&Xr(He,ue),(Ee=Re.props&&Re.props.onVnodeUpdated)&&Xr(()=>No(Ee,Ge,Re,$e),ue)}else{let Re;const{el:Ne,props:He}=re,{bm:Ge,m:$e,parent:Ze}=W,Ee=ki(re);if(Os(W,!1),Ge&&Ai(Ge),!Ee&&(Re=He&&He.onVnodeBeforeMount)&&No(Re,Ze,re),Os(W,!0),Ne&&fe){const Fe=()=>{W.subTree=Xa(W),fe(Ne,W.subTree,W,ue,null)};Ee?re.type.__asyncLoader().then(()=>!W.isUnmounted&&Fe()):Fe()}else{const Fe=W.subTree=Xa(W);p(null,Fe,q,le,W,ue,ge),re.el=Fe.el}if($e&&Xr($e,ue),!Ee&&(Re=He&&He.onVnodeMounted)){const Fe=re;Xr(()=>No(Re,Ze,Fe),ue)}(re.shapeFlag&256||Ze&&ki(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&W.a&&Xr(W.a,ue),W.isMounted=!0,re=q=le=null}},Se=W.effect=new su(je,()=>fu(Ce),W.scope),Ce=W.update=()=>Se.run();Ce.id=W.uid,Os(W,!0),Ce()},Z=(W,re,q)=>{re.component=W;const le=W.vnode.props;W.vnode=re,W.next=null,nm(W,re.props,le,q),lm(W,re.children,q),_n(),kc(),En()},X=(W,re,q,le,ue,ge,pe,je,Se=!1)=>{const Ce=W&&W.children,Re=W?W.shapeFlag:0,Ne=re.children,{patchFlag:He,shapeFlag:Ge}=re;if(He>0){if(He&128){te(Ce,Ne,q,le,ue,ge,pe,je,Se);return}else if(He&256){Y(Ce,Ne,q,le,ue,ge,pe,je,Se);return}}Ge&8?(Re&16&&$(Ce,ue,ge),Ne!==Ce&&m(q,Ne)):Re&16?Ge&16?te(Ce,Ne,q,le,ue,ge,pe,je,Se):$(Ce,ue,ge,!0):(Re&8&&m(q,""),Ge&16&&P(Ne,q,le,ue,ge,pe,je,Se))},Y=(W,re,q,le,ue,ge,pe,je,Se)=>{W=W||un,re=re||un;const Ce=W.length,Re=re.length,Ne=Math.min(Ce,Re);let He;for(He=0;He<Ne;He++){const Ge=re[He]=Se?ys(re[He]):Vo(re[He]);p(W[He],Ge,q,null,ue,ge,pe,je,Se)}Ce>Re?$(W,ue,ge,!0,!1,Ne):P(re,q,le,ue,ge,pe,je,Se,Ne)},te=(W,re,q,le,ue,ge,pe,je,Se)=>{let Ce=0;const Re=re.length;let Ne=W.length-1,He=Re-1;for(;Ce<=Ne&&Ce<=He;){const Ge=W[Ce],$e=re[Ce]=Se?ys(re[Ce]):Vo(re[Ce]);if(Is(Ge,$e))p(Ge,$e,q,null,ue,ge,pe,je,Se);else break;Ce++}for(;Ce<=Ne&&Ce<=He;){const Ge=W[Ne],$e=re[He]=Se?ys(re[He]):Vo(re[He]);if(Is(Ge,$e))p(Ge,$e,q,null,ue,ge,pe,je,Se);else break;Ne--,He--}if(Ce>Ne){if(Ce<=He){const Ge=He+1,$e=Ge<Re?re[Ge].el:le;for(;Ce<=He;)p(null,re[Ce]=Se?ys(re[Ce]):Vo(re[Ce]),q,$e,ue,ge,pe,je,Se),Ce++}}else if(Ce>He)for(;Ce<=Ne;)me(W[Ce],ue,ge,!0),Ce++;else{const Ge=Ce,$e=Ce,Ze=new Map;for(Ce=$e;Ce<=He;Ce++){const _e=re[Ce]=Se?ys(re[Ce]):Vo(re[Ce]);_e.key!=null&&Ze.set(_e.key,Ce)}let Ee,Fe=0;const Pe=He-$e+1;let Q=!1,ne=0;const z=new Array(Pe);for(Ce=0;Ce<Pe;Ce++)z[Ce]=0;for(Ce=Ge;Ce<=Ne;Ce++){const _e=W[Ce];if(Fe>=Pe){me(_e,ue,ge,!0);continue}let Oe;if(_e.key!=null)Oe=Ze.get(_e.key);else for(Ee=$e;Ee<=He;Ee++)if(z[Ee-$e]===0&&Is(_e,re[Ee])){Oe=Ee;break}Oe===void 0?me(_e,ue,ge,!0):(z[Oe-$e]=Ce+1,Oe>=ne?ne=Oe:Q=!0,p(_e,re[Oe],q,null,ue,ge,pe,je,Se),Fe++)}const ae=Q?fm(z):un;for(Ee=ae.length-1,Ce=Pe-1;Ce>=0;Ce--){const _e=$e+Ce,Oe=re[_e],Ue=_e+1<Re?re[_e+1].el:le;z[Ce]===0?p(null,Oe,q,Ue,ue,ge,pe,je,Se):Q&&(Ee<0||Ce!==ae[Ee]?se(Oe,q,Ue,2):Ee--)}}},se=(W,re,q,le,ue=null)=>{const{el:ge,type:pe,transition:je,children:Se,shapeFlag:Ce}=W;if(Ce&6){se(W.component.subTree,re,q,le);return}if(Ce&128){W.suspense.move(re,q,le);return}if(Ce&64){pe.move(W,re,q,ve);return}if(pe===Zr){t(ge,re,q);for(let Ne=0;Ne<Se.length;Ne++)se(Se[Ne],re,q,le);t(W.anchor,re,q);return}if(pe===$a){E(W,re,q);return}if(le!==2&&Ce&1&&je)if(le===0)je.beforeEnter(ge),t(ge,re,q),Xr(()=>je.enter(ge),ue);else{const{leave:Ne,delayLeave:He,afterLeave:Ge}=je,$e=()=>t(ge,re,q),Ze=()=>{Ne(ge,()=>{$e(),Ge&&Ge()})};He?He(ge,$e,Ze):Ze()}else t(ge,re,q)},me=(W,re,q,le=!1,ue=!1)=>{const{type:ge,props:pe,ref:je,children:Se,dynamicChildren:Ce,shapeFlag:Re,patchFlag:Ne,dirs:He}=W;if(je!=null&&vl(je,null,q,W,!0),Re&256){re.ctx.deactivate(W);return}const Ge=Re&1&&He,$e=!ki(W);let Ze;if($e&&(Ze=pe&&pe.onVnodeBeforeUnmount)&&No(Ze,re,W),Re&6)H(W.component,q,le);else{if(Re&128){W.suspense.unmount(q,le);return}Ge&&As(W,null,re,"beforeUnmount"),Re&64?W.type.remove(W,re,q,ue,ve,le):Ce&&(ge!==Zr||Ne>0&&Ne&64)?$(Ce,re,q,!1,!0):(ge===Zr&&Ne&384||!ue&&Re&16)&&$(Se,re,q),le&&A(W)}($e&&(Ze=pe&&pe.onVnodeUnmounted)||Ge)&&Xr(()=>{Ze&&No(Ze,re,W),Ge&&As(W,null,re,"unmounted")},q)},A=W=>{const{type:re,el:q,anchor:le,transition:ue}=W;if(re===Zr){L(q,le);return}if(re===$a){j(W);return}const ge=()=>{f(q),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(W.shapeFlag&1&&ue&&!ue.persisted){const{leave:pe,delayLeave:je}=ue,Se=()=>pe(q,ge);je?je(W.el,ge,Se):Se()}else ge()},L=(W,re)=>{let q;for(;W!==re;)q=c(W),f(W),W=q;f(re)},H=(W,re,q)=>{const{bum:le,scope:ue,update:ge,subTree:pe,um:je}=W;le&&Ai(le),ue.stop(),ge&&(ge.active=!1,me(pe,W,re,q)),je&&Xr(je,re),Xr(()=>{W.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&W.asyncDep&&!W.asyncResolved&&W.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},$=(W,re,q,le=!1,ue=!1,ge=0)=>{for(let pe=ge;pe<W.length;pe++)me(W[pe],re,q,le,ue)},ie=W=>W.shapeFlag&6?ie(W.component.subTree):W.shapeFlag&128?W.suspense.next():c(W.anchor||W.el),ye=(W,re,q)=>{W==null?re._vnode&&me(re._vnode,null,null,!0):p(re._vnode||null,W,re,null,null,null,q),kc(),sh(),re._vnode=W},ve={p,um:me,m:se,r:A,mt:G,mc:P,pc:X,pbc:D,n:ie,o:n};let xe,fe;return o&&([xe,fe]=o(ve)),{render:ye,hydrate:xe,createApp:cm(ye,xe)}}function Os({effect:n,update:o},r){n.allowRecurse=o.allowRecurse=r}function Th(n,o,r=!1){const t=n.children,f=o.children;if(wt(t)&&wt(f))for(let d=0;d<t.length;d++){const i=t[d];let u=f[d];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=f[d]=ys(f[d]),u.el=i.el),r||Th(i,u)),u.type===ba&&(u.el=i.el)}}function fm(n){const o=n.slice(),r=[0];let t,f,d,i,u;const s=n.length;for(t=0;t<s;t++){const h=n[t];if(h!==0){if(f=r[r.length-1],n[f]<h){o[t]=f,r.push(t);continue}for(d=0,i=r.length-1;d<i;)u=d+i>>1,n[r[u]]<h?d=u+1:i=u;h<n[r[d]]&&(d>0&&(o[t]=r[d-1]),r[d]=t)}}for(d=r.length,i=r[d-1];d-- >0;)r[d]=i,i=o[i];return r}const pm=n=>n.__isTeleport,Zr=Symbol(void 0),ba=Symbol(void 0),Ao=Symbol(void 0),$a=Symbol(void 0),Xn=[];let Mo=null;function Ft(n=!1){Xn.push(Mo=n?null:[])}function mm(){Xn.pop(),Mo=Xn[Xn.length-1]||null}let Qn=1;function Gc(n){Qn+=n}function Ch(n){return n.dynamicChildren=Qn>0?Mo||un:null,mm(),Qn>0&&Mo&&Mo.push(n),n}function nr(n,o,r,t,f,d){return Ch(Ct(n,o,r,t,f,d,!0))}function Ws(n,o,r,t,f){return Ch(os(n,o,r,t,f,!0))}function gm(n){return n?n.__v_isVNode===!0:!1}function Is(n,o){return n.type===o.type&&n.key===o.key}const wa="__vInternal",Rh=({key:n})=>n??null,Di=({ref:n,ref_key:o,ref_for:r})=>n!=null?pr(n)||Vr(n)||xt(n)?{i:ao,r:n,k:o,f:!!r}:n:null;function Ct(n,o=null,r=null,t=0,f=null,d=n===Zr?0:1,i=!1,u=!1){const s={__v_isVNode:!0,__v_skip:!0,type:n,props:o,key:o&&Rh(o),ref:o&&Di(o),scopeId:ah,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:t,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:ao};return u?(gu(s,r),d&128&&n.normalize(s)):r&&(s.shapeFlag|=pr(r)?8:16),Qn>0&&!i&&Mo&&(s.patchFlag>0||d&6)&&s.patchFlag!==32&&Mo.push(s),s}const os=ym;function ym(n,o=null,r=null,t=0,f=null,d=!1){if((!n||n===yh)&&(n=Ao),gm(n)){const u=_s(n,o,!0);return r&&gu(u,r),Qn>0&&!d&&Mo&&(u.shapeFlag&6?Mo[Mo.indexOf(n)]=u:Mo.push(u)),u.patchFlag|=-2,u}if(Pm(n)&&(n=n.__vccOpts),o){o=vm(o);let{class:u,style:s}=o;u&&!pr(u)&&(o.class=xn(u)),er(s)&&($d(s)&&!wt(s)&&(s=Hr({},s)),o.style=Ql(s))}const i=pr(n)?1:k0(n)?128:pm(n)?64:er(n)?4:xt(n)?2:0;return Ct(n,o,r,t,f,i,d,!0)}function vm(n){return n?$d(n)||wa in n?Hr({},n):n:null}function _s(n,o,r=!1){const{props:t,ref:f,patchFlag:d,children:i}=n,u=o?wm(t||{},o):t;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&Rh(u),ref:o&&o.ref?r&&f?wt(f)?f.concat(Di(o)):[f,Di(o)]:Di(o):f,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:i,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:o&&n.type!==Zr?d===-1?16:d|16:d,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&_s(n.ssContent),ssFallback:n.ssFallback&&_s(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function bm(n=" ",o=0){return os(ba,null,n,o)}function Kr(n="",o=!1){return o?(Ft(),Ws(Ao,null,n)):os(Ao,null,n)}function Vo(n){return n==null||typeof n=="boolean"?os(Ao):wt(n)?os(Zr,null,n.slice()):typeof n=="object"?ys(n):os(ba,null,String(n))}function ys(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:_s(n)}function gu(n,o){let r=0;const{shapeFlag:t}=n;if(o==null)o=null;else if(wt(o))r=16;else if(typeof o=="object")if(t&65){const f=o.default;f&&(f._c&&(f._d=!1),gu(n,f()),f._c&&(f._d=!0));return}else{r=32;const f=o._;!f&&!(wa in o)?o._ctx=ao:f===3&&ao&&(ao.slots._===1?o._=1:(o._=2,n.patchFlag|=1024))}else xt(o)?(o={default:o,_ctx:ao},r=32):(o=String(o),t&64?(r=16,o=[bm(o)]):r=8);n.children=o,n.shapeFlag|=r}function wm(...n){const o={};for(let r=0;r<n.length;r++){const t=n[r];for(const f in t)if(f==="class")o.class!==t.class&&(o.class=xn([o.class,t.class]));else if(f==="style")o.style=Ql([o.style,t.style]);else if(ca(f)){const d=o[f],i=t[f];i&&d!==i&&!(wt(d)&&d.includes(i))&&(o[f]=d?[].concat(d,i):i)}else f!==""&&(o[f]=t[f])}return o}function No(n,o,r,t=null){vo(n,o,7,[r,t])}const xm=jh();let Sm=0;function _m(n,o,r){const t=n.type,f=(o?o.appContext:n.appContext)||xm,d={uid:Sm++,vnode:n,type:t,parent:o,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new Fp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xh(t,f),emitsOptions:ih(t,f),emit:null,emitted:null,propsDefaults:Kt,inheritAttrs:t.inheritAttrs,ctx:Kt,data:Kt,props:Kt,attrs:Kt,slots:Kt,refs:Kt,setupState:Kt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=o?o.root:d,d.emit=C0.bind(null,d),n.ce&&n.ce(d),d}let ir=null;const Em=()=>ir||ao,gn=n=>{ir=n,n.scope.on()},Hs=()=>{ir&&ir.scope.off(),ir=null};function Mh(n){return n.vnode.shapeFlag&4}let Jn=!1;function jm(n,o=!1){Jn=o;const{props:r,children:t}=n.vnode,f=Mh(n);sm(n,r,f,o),am(n,t);const d=f?Tm(n,o):void 0;return Jn=!1,d}function Tm(n,o){const r=n.type;n.accessCache=Object.create(null),n.proxy=cu(new Proxy(n.ctx,Q0));const{setup:t}=r;if(t){const f=n.setupContext=t.length>1?Rm(n):null;gn(n),_n();const d=ws(t,n,0,[n.props,f]);if(En(),Hs(),Bd(d)){if(d.then(Hs,Hs),o)return d.then(i=>{Wc(n,i,o)}).catch(i=>{ma(i,n,0)});n.asyncDep=d}else Wc(n,d,o)}else Ph(n,o)}function Wc(n,o,r){xt(o)?n.type.__ssrInlineRender?n.ssrRender=o:n.render=o:er(o)&&(n.setupState=eh(o)),Ph(n,r)}let zc;function Ph(n,o,r){const t=n.type;if(!n.render){if(!o&&zc&&!t.render){const f=t.template||pu(n).template;if(f){const{isCustomElement:d,compilerOptions:i}=n.appContext.config,{delimiters:u,compilerOptions:s}=t,h=Hr(Hr({isCustomElement:d,delimiters:u},i),s);t.render=zc(f,h)}}n.render=t.render||Po}gn(n),_n(),J0(n),En(),Hs()}function Cm(n){return new Proxy(n.attrs,{get(o,r){return Qr(n,"get","$attrs"),o[r]}})}function Rm(n){const o=t=>{n.exposed=t||{}};let r;return{get attrs(){return r||(r=Cm(n))},slots:n.slots,emit:n.emit,expose:o}}function xa(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(eh(cu(n.exposed)),{get(o,r){if(r in o)return o[r];if(r in qn)return qn[r](n)},has(o,r){return r in o||r in qn}}))}function Mm(n,o=!0){return xt(n)?n.displayName||n.name:n.name||o&&n.__name}function Pm(n){return xt(n)&&"__vccOpts"in n}const ra=(n,o)=>w0(n,o,Jn),Am=Symbol(""),Om=()=>Oi(Am),km="3.2.47",Dm="http://www.w3.org/2000/svg",Ls=typeof document<"u"?document:null,qc=Ls&&Ls.createElement("template"),Im={insert:(n,o,r)=>{o.insertBefore(n,r||null)},remove:n=>{const o=n.parentNode;o&&o.removeChild(n)},createElement:(n,o,r,t)=>{const f=o?Ls.createElementNS(Dm,n):Ls.createElement(n,r?{is:r}:void 0);return n==="select"&&t&&t.multiple!=null&&f.setAttribute("multiple",t.multiple),f},createText:n=>Ls.createTextNode(n),createComment:n=>Ls.createComment(n),setText:(n,o)=>{n.nodeValue=o},setElementText:(n,o)=>{n.textContent=o},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Ls.querySelector(n),setScopeId(n,o){n.setAttribute(o,"")},insertStaticContent(n,o,r,t,f,d){const i=r?r.previousSibling:o.lastChild;if(f&&(f===d||f.nextSibling))for(;o.insertBefore(f.cloneNode(!0),r),!(f===d||!(f=f.nextSibling)););else{qc.innerHTML=t?`<svg>${n}</svg>`:n;const u=qc.content;if(t){const s=u.firstChild;for(;s.firstChild;)u.appendChild(s.firstChild);u.removeChild(s)}o.insertBefore(u,r)}return[i?i.nextSibling:o.firstChild,r?r.previousSibling:o.lastChild]}};function Lm(n,o,r){const t=n._vtc;t&&(o=(o?[o,...t]:[...t]).join(" ")),o==null?n.removeAttribute("class"):r?n.setAttribute("class",o):n.className=o}function Bm(n,o,r){const t=n.style,f=pr(r);if(r&&!f){if(o&&!pr(o))for(const d in o)r[d]==null&&bl(t,d,"");for(const d in r)bl(t,d,r[d])}else{const d=t.display;f?o!==r&&(t.cssText=r):o&&n.removeAttribute("style"),"_vod"in n&&(t.display=d)}}const Xc=/\s*!important$/;function bl(n,o,r){if(wt(r))r.forEach(t=>bl(n,o,t));else if(r==null&&(r=""),o.startsWith("--"))n.setProperty(o,r);else{const t=Um(n,o);Xc.test(r)?n.setProperty(Sn(t),r.replace(Xc,""),"important"):n[t]=r}}const Yc=["Webkit","Moz","ms"],Qa={};function Um(n,o){const r=Qa[o];if(r)return r;let t=Wo(o);if(t!=="filter"&&t in n)return Qa[o]=t;t=fa(t);for(let f=0;f<Yc.length;f++){const d=Yc[f]+t;if(d in n)return Qa[o]=d}return o}const Zc="http://www.w3.org/1999/xlink";function Nm(n,o,r,t,f){if(t&&o.startsWith("xlink:"))r==null?n.removeAttributeNS(Zc,o.slice(6,o.length)):n.setAttributeNS(Zc,o,r);else{const d=Op(o);r==null||d&&!Dd(r)?n.removeAttribute(o):n.setAttribute(o,d?"":r)}}function Fm(n,o,r,t,f,d,i){if(o==="innerHTML"||o==="textContent"){t&&i(t,f,d),n[o]=r??"";return}if(o==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=r;const s=r??"";(n.value!==s||n.tagName==="OPTION")&&(n.value=s),r==null&&n.removeAttribute(o);return}let u=!1;if(r===""||r==null){const s=typeof n[o];s==="boolean"?r=Dd(r):r==null&&s==="string"?(r="",u=!0):s==="number"&&(r=0,u=!0)}try{n[o]=r}catch{}u&&n.removeAttribute(o)}function rn(n,o,r,t){n.addEventListener(o,r,t)}function Vm(n,o,r,t){n.removeEventListener(o,r,t)}function Hm(n,o,r,t,f=null){const d=n._vei||(n._vei={}),i=d[o];if(t&&i)i.value=t;else{const[u,s]=Gm(o);if(t){const h=d[o]=qm(t,f);rn(n,u,h,s)}else i&&(Vm(n,u,i,s),d[o]=void 0)}}const Kc=/(?:Once|Passive|Capture)$/;function Gm(n){let o;if(Kc.test(n)){o={};let t;for(;t=n.match(Kc);)n=n.slice(0,n.length-t[0].length),o[t[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Sn(n.slice(2)),o]}let Ja=0;const Wm=Promise.resolve(),zm=()=>Ja||(Wm.then(()=>Ja=0),Ja=Date.now());function qm(n,o){const r=t=>{if(!t._vts)t._vts=Date.now();else if(t._vts<=r.attached)return;vo(Xm(t,r.value),o,5,[t])};return r.value=n,r.attached=zm(),r}function Xm(n,o){if(wt(o)){const r=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{r.call(n),n._stopped=!0},o.map(t=>f=>!f._stopped&&t&&t(f))}else return o}const $c=/^on[a-z]/,Ym=(n,o,r,t,f=!1,d,i,u,s)=>{o==="class"?Lm(n,t,f):o==="style"?Bm(n,r,t):ca(o)?Jl(o)||Hm(n,o,r,t,i):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):Zm(n,o,t,f))?Fm(n,o,t,d,i,u,s):(o==="true-value"?n._trueValue=t:o==="false-value"&&(n._falseValue=t),Nm(n,o,t,f))};function Zm(n,o,r,t){return t?!!(o==="innerHTML"||o==="textContent"||o in n&&$c.test(o)&&xt(r)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&n.tagName==="INPUT"||o==="type"&&n.tagName==="TEXTAREA"||$c.test(o)&&pr(r)?!1:o in n}const Km={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};N0.props;const Qc=n=>{const o=n.props["onUpdate:modelValue"]||!1;return wt(o)?r=>Ai(o,r):o};function $m(n){n.target.composing=!0}function Jc(n){const o=n.target;o.composing&&(o.composing=!1,o.dispatchEvent(new Event("input")))}const nn={created(n,{modifiers:{lazy:o,trim:r,number:t}},f){n._assign=Qc(f);const d=t||f.props&&f.props.type==="number";rn(n,o?"change":"input",i=>{if(i.target.composing)return;let u=n.value;r&&(u=u.trim()),d&&(u=il(u)),n._assign(u)}),r&&rn(n,"change",()=>{n.value=n.value.trim()}),o||(rn(n,"compositionstart",$m),rn(n,"compositionend",Jc),rn(n,"change",Jc))},mounted(n,{value:o}){n.value=o??""},beforeUpdate(n,{value:o,modifiers:{lazy:r,trim:t,number:f}},d){if(n._assign=Qc(d),n.composing||document.activeElement===n&&n.type!=="range"&&(r||t&&n.value.trim()===o||(f||n.type==="number")&&il(n.value)===o))return;const i=o??"";n.value!==i&&(n.value=i)}},Qm=["ctrl","shift","alt","meta"],Jm={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,o)=>Qm.some(r=>n[`${r}Key`]&&!o.includes(r))},Ah=(n,o)=>(r,...t)=>{for(let f=0;f<o.length;f++){const d=Jm[o[f]];if(d&&d(r,o))return}return n(r,...t)},eg=Hr({patchProp:Ym},Im);let ed;function tg(){return ed||(ed=dm(eg))}const rg=(...n)=>{const o=tg().createApp(...n),{mount:r}=o;return o.mount=t=>{const f=og(t);if(!f)return;const d=o._component;!xt(d)&&!d.render&&!d.template&&(d.template=f.innerHTML),f.innerHTML="";const i=r(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),i},o};function og(n){return pr(n)?document.querySelector(n):n}var Ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ci(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wl={},ng={get exports(){return wl},set exports(n){wl=n}};/*! p5.js v1.6.0 February 22, 2023 */(function(n,o){(function(r){n.exports=r()})(function(){var r;return function t(f,d,i){function u(m,g){if(!d[m]){if(!f[m]){var c=typeof Ci=="function"&&Ci;if(!g&&c)return c(m,!0);if(s)return s(m,!0);throw(g=new Error("Cannot find module '"+m+"'")).code="MODULE_NOT_FOUND",g}c=d[m]={exports:{}},f[m][0].call(c.exports,function(l){return u(f[m][1][l]||l)},c,c.exports,t,f,d,i)}return d[m].exports}for(var s=typeof Ci=="function"&&Ci,h=0;h<i.length;h++)u(i[h]);return u}({1:[function(t,f,d){d.byteLength=function(p){var p=c(p),a=p[0],p=p[1];return 3*(a+p)/4-p},d.toByteArray=function(l){var a,p,w=c(l),v=w[0],w=w[1],x=new s(function(S,R){return 3*(S+R)/4-R}(v,w)),E=0,j=0<w?v-4:v;for(p=0;p<j;p+=4)a=u[l.charCodeAt(p)]<<18|u[l.charCodeAt(p+1)]<<12|u[l.charCodeAt(p+2)]<<6|u[l.charCodeAt(p+3)],x[E++]=a>>16&255,x[E++]=a>>8&255,x[E++]=255&a;return w===2&&(a=u[l.charCodeAt(p)]<<2|u[l.charCodeAt(p+1)]>>4,x[E++]=255&a),w===1&&(a=u[l.charCodeAt(p)]<<10|u[l.charCodeAt(p+1)]<<4|u[l.charCodeAt(p+2)]>>2,x[E++]=a>>8&255,x[E++]=255&a),x},d.fromByteArray=function(l){for(var a,p=l.length,v=p%3,w=[],x=0,E=p-v;x<E;x+=16383)w.push(function(j,S,R){for(var M,P=[],k=S;k<R;k+=3)M=(j[k]<<16&16711680)+(j[k+1]<<8&65280)+(255&j[k+2]),P.push(function(D){return i[D>>18&63]+i[D>>12&63]+i[D>>6&63]+i[63&D]}(M));return P.join("")}(l,x,E<x+16383?E:x+16383));return v==1?(a=l[p-1],w.push(i[a>>2]+i[a<<4&63]+"==")):v==2&&(a=(l[p-2]<<8)+l[p-1],w.push(i[a>>10]+i[a>>4&63]+i[a<<2&63]+"=")),w.join("")};for(var i=[],u=[],s=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,g=h.length;m<g;++m)i[m]=h[m],u[h.charCodeAt(m)]=m;function c(l){var a=l.length;if(0<a%4)throw new Error("Invalid string. Length must be a multiple of 4");return l=l.indexOf("="),a=(l=l===-1?a:l)===a?0:4-l%4,[l,a]}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],2:[function(t,f,d){},{}],3:[function(t,f,d){arguments[4][2][0].apply(d,arguments)},{dup:2}],4:[function(t,f,d){(function(c){var u=t("base64-js"),s=t("ieee754"),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,m=(d.Buffer=c,d.SlowBuffer=function(A){return+A!=A&&(A=0),c.alloc(+A)},d.INSPECT_MAX_BYTES=50,2147483647);function g(A){if(m<A)throw new RangeError('The value "'+A+'" is invalid for option "size"');return A=new Uint8Array(A),Object.setPrototypeOf(A,c.prototype),A}function c(A,L,H){if(typeof A!="number")return l(A,L,H);if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(A)}function l(A,L,H){if(typeof A=="string"){var $=A,ie=L;if(c.isEncoding(ie=typeof ie=="string"&&ie!==""?ie:"utf8"))return ye=0|x($,ie),ve=g(ye),ve=($=ve.write($,ie))!==ye?ve.slice(0,$):ve;throw new TypeError("Unknown encoding: "+ie)}if(ArrayBuffer.isView(A))return v(A);if(A!=null){if(te(A,ArrayBuffer)||A&&te(A.buffer,ArrayBuffer)){var ye=A,$=L,ve=H;if($<0||ye.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(ye.byteLength<$+(ve||0))throw new RangeError('"length" is outside of buffer bounds');return ye=$===void 0&&ve===void 0?new Uint8Array(ye):ve===void 0?new Uint8Array(ye,$):new Uint8Array(ye,$,ve),Object.setPrototypeOf(ye,c.prototype),ye}if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ie=A.valueOf&&A.valueOf(),ie!=null&&ie!==A)return c.from(ie,L,H);var xe=function(fe){{var W,re;if(c.isBuffer(fe))return W=0|w(fe.length),(re=g(W)).length!==0&&fe.copy(re,0,0,W),re}if(fe.length!==void 0)return typeof fe.length!="number"||se(fe.length)?g(0):v(fe);if(fe.type==="Buffer"&&Array.isArray(fe.data))return v(fe.data)}(A);if(xe)return xe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return c.from(A[Symbol.toPrimitive]("string"),L,H)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function a(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function p(A){return a(A),g(A<0?0:0|w(A))}function v(A){for(var L=A.length<0?0:0|w(A.length),H=g(L),$=0;$<L;$+=1)H[$]=255&A[$];return H}function w(A){if(m<=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|A}function x(A,L){if(c.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||te(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);var H=A.length,$=2<arguments.length&&arguments[2]===!0;if(!$&&H===0)return 0;for(var ie=!1;;)switch(L){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return Z(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return X(A).length;default:if(ie)return $?-1:Z(A).length;L=(""+L).toLowerCase(),ie=!0}}function E(A,L,H){var $,ie=!1;if((L=L===void 0||L<0?0:L)>this.length||(H=H===void 0||H>this.length?this.length:H)<=0||(H>>>=0)<=(L>>>=0))return"";for(A=A||"utf8";;)switch(A){case"hex":var ye=this,pe=L,ve=H,re=ye.length;(!ve||ve<0||re<ve)&&(ve=re);for(var xe="",fe=pe=!pe||pe<0?0:pe;fe<ve;++fe)xe+=me[ye[fe]];return xe;case"utf8":case"utf-8":return k(this,L,H);case"ascii":var W=this,re=L,q=H,le="";q=Math.min(W.length,q);for(var ue=re;ue<q;++ue)le+=String.fromCharCode(127&W[ue]);return le;case"latin1":case"binary":var ge=this,pe=L,je=H,Se="";je=Math.min(ge.length,je);for(var Ce=pe;Ce<je;++Ce)Se+=String.fromCharCode(ge[Ce]);return Se;case"base64":return Re=this,$=H,(Ne=L)===0&&$===Re.length?u.fromByteArray(Re):u.fromByteArray(Re.slice(Ne,$));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Re=L,Ne=H,He=this.slice(Re,Ne),Ge="",$e=0;$e<He.length;$e+=2)Ge+=String.fromCharCode(He[$e]+256*He[$e+1]);return Ge;default:if(ie)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),ie=!0}}function j(A,L,H){var $=A[L];A[L]=A[H],A[H]=$}function S(A,L,H,$,ie){if(A.length===0)return-1;if(typeof H=="string"?($=H,H=0):2147483647<H?H=2147483647:H<-2147483648&&(H=-2147483648),(H=(H=se(H=+H)?ie?0:A.length-1:H)<0?A.length+H:H)>=A.length){if(ie)return-1;H=A.length-1}else if(H<0){if(!ie)return-1;H=0}if(typeof L=="string"&&(L=c.from(L,$)),c.isBuffer(L))return L.length===0?-1:R(A,L,H,$,ie);if(typeof L=="number")return L&=255,typeof Uint8Array.prototype.indexOf=="function"?(ie?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(A,L,H):R(A,[L],H,$,ie);throw new TypeError("val must be string, number or Buffer")}function R(A,L,H,$,ie){var ye=1,ve=A.length,xe=L.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(A.length<2||L.length<2)return-1;ve/=ye=2,xe/=2,H/=2}function fe(ue,ge){return ye===1?ue[ge]:ue.readUInt16BE(ge*ye)}if(ie)for(var W=-1,re=H;re<ve;re++)if(fe(A,re)===fe(L,W===-1?0:re-W)){if(re-(W=W===-1?re:W)+1===xe)return W*ye}else W!==-1&&(re-=re-W),W=-1;else for(re=H=ve<H+xe?ve-xe:H;0<=re;re--){for(var q=!0,le=0;le<xe;le++)if(fe(A,re+le)!==fe(L,le)){q=!1;break}if(q)return re}return-1}function M(A,L,H,$){return Y(function(ie){for(var ye=[],ve=0;ve<ie.length;++ve)ye.push(255&ie.charCodeAt(ve));return ye}(L),A,H,$)}function P(A,L,H,$){return Y(function(ie,ye){for(var ve,xe,fe=[],W=0;W<ie.length&&!((ye-=2)<0);++W)xe=ie.charCodeAt(W),ve=xe>>8,xe=xe%256,fe.push(xe),fe.push(ve);return fe}(L,A.length-H),A,H,$)}function k(A,L,H){H=Math.min(A.length,H);for(var $=[],ie=L;ie<H;){var ye,ve,xe,fe,W=A[ie],re=null,q=239<W?4:223<W?3:191<W?2:1;if(ie+q<=H)switch(q){case 1:W<128&&(re=W);break;case 2:(192&(ye=A[ie+1]))==128&&127<(fe=(31&W)<<6|63&ye)&&(re=fe);break;case 3:ye=A[ie+1],ve=A[ie+2],(192&ye)==128&&(192&ve)==128&&2047<(fe=(15&W)<<12|(63&ye)<<6|63&ve)&&(fe<55296||57343<fe)&&(re=fe);break;case 4:ye=A[ie+1],ve=A[ie+2],xe=A[ie+3],(192&ye)==128&&(192&ve)==128&&(192&xe)==128&&65535<(fe=(15&W)<<18|(63&ye)<<12|(63&ve)<<6|63&xe)&&fe<1114112&&(re=fe)}re===null?(re=65533,q=1):65535<re&&(re-=65536,$.push(re>>>10&1023|55296),re=56320|1023&re),$.push(re),ie+=q}var le=$,ue=le.length;if(ue<=D)return String.fromCharCode.apply(String,le);for(var ge="",pe=0;pe<ue;)ge+=String.fromCharCode.apply(String,le.slice(pe,pe+=D));return ge}d.kMaxLength=m,(c.TYPED_ARRAY_SUPPORT=function(){try{var A=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(A,L),A.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=l,Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(A,L,H){return L=L,H=H,a(A=A),!(A<=0)&&L!==void 0?typeof H=="string"?g(A).fill(L,H):g(A).fill(L):g(A)},c.allocUnsafe=p,c.allocUnsafeSlow=p,c.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==c.prototype},c.compare=function(A,L){if(te(A,Uint8Array)&&(A=c.from(A,A.offset,A.byteLength)),te(L,Uint8Array)&&(L=c.from(L,L.offset,L.byteLength)),!c.isBuffer(A)||!c.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===L)return 0;for(var H=A.length,$=L.length,ie=0,ye=Math.min(H,$);ie<ye;++ie)if(A[ie]!==L[ie]){H=A[ie],$=L[ie];break}return H<$?-1:$<H?1:0},c.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(A,L){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return c.alloc(0);if(L===void 0)for(ie=L=0;ie<A.length;++ie)L+=A[ie].length;for(var H=c.allocUnsafe(L),$=0,ie=0;ie<A.length;++ie){var ye=A[ie];if(te(ye,Uint8Array)&&(ye=c.from(ye)),!c.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(H,$),$+=ye.length}return H},c.byteLength=x,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<A;L+=2)j(this,L,L+1);return this},c.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<A;L+=4)j(this,L,L+3),j(this,L+1,L+2);return this},c.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<A;L+=8)j(this,L,L+7),j(this,L+1,L+6),j(this,L+2,L+5),j(this,L+3,L+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var A=this.length;return A===0?"":arguments.length===0?k(this,0,A):E.apply(this,arguments)},c.prototype.equals=function(A){if(c.isBuffer(A))return this===A||c.compare(this,A)===0;throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var L="",A=d.INSPECT_MAX_BYTES,L=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim();return this.length>A&&(L+=" ... "),"<Buffer "+L+">"},h&&(c.prototype[h]=c.prototype.inspect),c.prototype.compare=function(A,L,H,$,ie){if(te(A,Uint8Array)&&(A=c.from(A,A.offset,A.byteLength)),!c.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(H===void 0&&(H=A?A.length:0),$===void 0&&($=0),ie===void 0&&(ie=this.length),(L=L===void 0?0:L)<0||H>A.length||$<0||ie>this.length)throw new RangeError("out of range index");if(ie<=$&&H<=L)return 0;if(ie<=$)return-1;if(H<=L)return 1;if(this===A)return 0;for(var ye=(ie>>>=0)-($>>>=0),ve=(H>>>=0)-(L>>>=0),xe=Math.min(ye,ve),fe=this.slice($,ie),W=A.slice(L,H),re=0;re<xe;++re)if(fe[re]!==W[re]){ye=fe[re],ve=W[re];break}return ye<ve?-1:ve<ye?1:0},c.prototype.includes=function(A,L,H){return this.indexOf(A,L,H)!==-1},c.prototype.indexOf=function(A,L,H){return S(this,A,L,H,!0)},c.prototype.lastIndexOf=function(A,L,H){return S(this,A,L,H,!1)},c.prototype.write=function(A,L,H,$){if(L===void 0)$="utf8",H=this.length,L=0;else if(H===void 0&&typeof L=="string")$=L,H=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L>>>=0,isFinite(H)?(H>>>=0,$===void 0&&($="utf8")):($=H,H=void 0)}var ie=this.length-L;if((H===void 0||ie<H)&&(H=ie),0<A.length&&(H<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");$=$||"utf8";for(var ye,ve,xe,fe=!1;;)switch($){case"hex":var W=this,re=A,q=L,le=H,ue=(q=Number(q)||0,W.length-q);(!le||ue<(le=Number(le)))&&(le=ue),(ue=re.length)/2<le&&(le=ue/2);for(var ge=0;ge<le;++ge){var pe=parseInt(re.substr(2*ge,2),16);if(se(pe))return ge;W[q+ge]=pe}return ge;case"utf8":case"utf-8":return ue=L,xe=H,Y(Z(A,(ve=this).length-ue),ve,ue,xe);case"ascii":return M(this,A,L,H);case"latin1":case"binary":return M(this,A,L,H);case"base64":return ve=this,xe=L,ye=H,Y(X(A),ve,xe,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,A,L,H);default:if(fe)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),fe=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function I(A,L,H){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(H<A+L)throw new RangeError("Trying to access beyond buffer length")}function N(A,L,H,$,ie,ye){if(!c.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(ie<L||L<ye)throw new RangeError('"value" argument is out of bounds');if(H+$>A.length)throw new RangeError("Index out of range")}function U(A,L,H,$){if(H+$>A.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function G(A,L,H,$,ie){return L=+L,H>>>=0,ie||U(A,0,H,4),s.write(A,L,H,$,23,4),H+4}function J(A,L,H,$,ie){return L=+L,H>>>=0,ie||U(A,0,H,8),s.write(A,L,H,$,52,8),H+8}c.prototype.slice=function(A,L){var H=this.length,H=((A=~~A)<0?(A+=H)<0&&(A=0):H<A&&(A=H),(L=L===void 0?H:~~L)<0?(L+=H)<0&&(L=0):H<L&&(L=H),L<A&&(L=A),this.subarray(A,L));return Object.setPrototypeOf(H,c.prototype),H},c.prototype.readUIntLE=function(A,L,H){A>>>=0,L>>>=0,H||I(A,L,this.length);for(var $=this[A],ie=1,ye=0;++ye<L&&(ie*=256);)$+=this[A+ye]*ie;return $},c.prototype.readUIntBE=function(A,L,H){A>>>=0,L>>>=0,H||I(A,L,this.length);for(var $=this[A+--L],ie=1;0<L&&(ie*=256);)$+=this[A+--L]*ie;return $},c.prototype.readUInt8=function(A,L){return A>>>=0,L||I(A,1,this.length),this[A]},c.prototype.readUInt16LE=function(A,L){return A>>>=0,L||I(A,2,this.length),this[A]|this[A+1]<<8},c.prototype.readUInt16BE=function(A,L){return A>>>=0,L||I(A,2,this.length),this[A]<<8|this[A+1]},c.prototype.readUInt32LE=function(A,L){return A>>>=0,L||I(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},c.prototype.readUInt32BE=function(A,L){return A>>>=0,L||I(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},c.prototype.readIntLE=function(A,L,H){A>>>=0,L>>>=0,H||I(A,L,this.length);for(var $=this[A],ie=1,ye=0;++ye<L&&(ie*=256);)$+=this[A+ye]*ie;return(ie*=128)<=$&&($-=Math.pow(2,8*L)),$},c.prototype.readIntBE=function(A,L,H){A>>>=0,L>>>=0,H||I(A,L,this.length);for(var $=L,ie=1,ye=this[A+--$];0<$&&(ie*=256);)ye+=this[A+--$]*ie;return(ie*=128)<=ye&&(ye-=Math.pow(2,8*L)),ye},c.prototype.readInt8=function(A,L){return A>>>=0,L||I(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},c.prototype.readInt16LE=function(A,L){return A>>>=0,L||I(A,2,this.length),L=this[A]|this[A+1]<<8,32768&L?4294901760|L:L},c.prototype.readInt16BE=function(A,L){return A>>>=0,L||I(A,2,this.length),L=this[A+1]|this[A]<<8,32768&L?4294901760|L:L},c.prototype.readInt32LE=function(A,L){return A>>>=0,L||I(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},c.prototype.readInt32BE=function(A,L){return A>>>=0,L||I(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},c.prototype.readFloatLE=function(A,L){return A>>>=0,L||I(A,4,this.length),s.read(this,A,!0,23,4)},c.prototype.readFloatBE=function(A,L){return A>>>=0,L||I(A,4,this.length),s.read(this,A,!1,23,4)},c.prototype.readDoubleLE=function(A,L){return A>>>=0,L||I(A,8,this.length),s.read(this,A,!0,52,8)},c.prototype.readDoubleBE=function(A,L){return A>>>=0,L||I(A,8,this.length),s.read(this,A,!1,52,8)},c.prototype.writeUIntLE=function(A,L,H,$){A=+A,L>>>=0,H>>>=0,$||N(this,A,L,H,Math.pow(2,8*H)-1,0);var ie=1,ye=0;for(this[L]=255&A;++ye<H&&(ie*=256);)this[L+ye]=A/ie&255;return L+H},c.prototype.writeUIntBE=function(A,L,H,$){A=+A,L>>>=0,H>>>=0,$||N(this,A,L,H,Math.pow(2,8*H)-1,0);var ie=H-1,ye=1;for(this[L+ie]=255&A;0<=--ie&&(ye*=256);)this[L+ie]=A/ye&255;return L+H},c.prototype.writeUInt8=function(A,L,H){return A=+A,L>>>=0,H||N(this,A,L,1,255,0),this[L]=255&A,L+1},c.prototype.writeUInt16LE=function(A,L,H){return A=+A,L>>>=0,H||N(this,A,L,2,65535,0),this[L]=255&A,this[L+1]=A>>>8,L+2},c.prototype.writeUInt16BE=function(A,L,H){return A=+A,L>>>=0,H||N(this,A,L,2,65535,0),this[L]=A>>>8,this[L+1]=255&A,L+2},c.prototype.writeUInt32LE=function(A,L,H){return A=+A,L>>>=0,H||N(this,A,L,4,4294967295,0),this[L+3]=A>>>24,this[L+2]=A>>>16,this[L+1]=A>>>8,this[L]=255&A,L+4},c.prototype.writeUInt32BE=function(A,L,H){return A=+A,L>>>=0,H||N(this,A,L,4,4294967295,0),this[L]=A>>>24,this[L+1]=A>>>16,this[L+2]=A>>>8,this[L+3]=255&A,L+4},c.prototype.writeIntLE=function(A,L,H,$){A=+A,L>>>=0,$||N(this,A,L,H,($=Math.pow(2,8*H-1))-1,-$);var ie=0,ye=1,ve=0;for(this[L]=255&A;++ie<H&&(ye*=256);)A<0&&ve===0&&this[L+ie-1]!==0&&(ve=1),this[L+ie]=(A/ye>>0)-ve&255;return L+H},c.prototype.writeIntBE=function(A,L,H,$){A=+A,L>>>=0,$||N(this,A,L,H,($=Math.pow(2,8*H-1))-1,-$);var ie=H-1,ye=1,ve=0;for(this[L+ie]=255&A;0<=--ie&&(ye*=256);)A<0&&ve===0&&this[L+ie+1]!==0&&(ve=1),this[L+ie]=(A/ye>>0)-ve&255;return L+H},c.prototype.writeInt8=function(A,L,H){return A=+A,L>>>=0,H||N(this,A,L,1,127,-128),this[L]=255&(A=A<0?255+A+1:A),L+1},c.prototype.writeInt16LE=function(A,L,H){return A=+A,L>>>=0,H||N(this,A,L,2,32767,-32768),this[L]=255&A,this[L+1]=A>>>8,L+2},c.prototype.writeInt16BE=function(A,L,H){return A=+A,L>>>=0,H||N(this,A,L,2,32767,-32768),this[L]=A>>>8,this[L+1]=255&A,L+2},c.prototype.writeInt32LE=function(A,L,H){return A=+A,L>>>=0,H||N(this,A,L,4,2147483647,-2147483648),this[L]=255&A,this[L+1]=A>>>8,this[L+2]=A>>>16,this[L+3]=A>>>24,L+4},c.prototype.writeInt32BE=function(A,L,H){return A=+A,L>>>=0,H||N(this,A,L,4,2147483647,-2147483648),this[L]=(A=A<0?4294967295+A+1:A)>>>24,this[L+1]=A>>>16,this[L+2]=A>>>8,this[L+3]=255&A,L+4},c.prototype.writeFloatLE=function(A,L,H){return G(this,A,L,!0,H)},c.prototype.writeFloatBE=function(A,L,H){return G(this,A,L,!1,H)},c.prototype.writeDoubleLE=function(A,L,H){return J(this,A,L,!0,H)},c.prototype.writeDoubleBE=function(A,L,H){return J(this,A,L,!1,H)},c.prototype.copy=function(A,L,H,$){if(!c.isBuffer(A))throw new TypeError("argument should be a Buffer");if(H=H||0,$||$===0||($=this.length),L>=A.length&&(L=A.length),($=0<$&&$<H?H:$)===H||A.length===0||this.length===0)return 0;if((L=L||0)<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length);var ie=($=A.length-L<$-H?A.length-L+H:$)-H;if(this===A&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(L,H,$);else if(this===A&&H<L&&L<$)for(var ye=ie-1;0<=ye;--ye)A[ye+L]=this[ye+H];else Uint8Array.prototype.set.call(A,this.subarray(H,$),L);return ie},c.prototype.fill=function(A,L,H,$){if(typeof A=="string"){if(typeof L=="string"?($=L,L=0,H=this.length):typeof H=="string"&&($=H,H=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!c.isEncoding($))throw new TypeError("Unknown encoding: "+$);var ie;A.length===1&&(ie=A.charCodeAt(0),($==="utf8"&&ie<128||$==="latin1")&&(A=ie))}else typeof A=="number"?A&=255:typeof A=="boolean"&&(A=Number(A));if(L<0||this.length<L||this.length<H)throw new RangeError("Out of range index");var ye;if(!(H<=L))if(L>>>=0,H=H===void 0?this.length:H>>>0,typeof(A=A||0)=="number")for(ye=L;ye<H;++ye)this[ye]=A;else{var ve=c.isBuffer(A)?A:c.from(A,$),xe=ve.length;if(xe===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(ye=0;ye<H-L;++ye)this[ye+L]=ve[ye%xe]}return this};var K=/[^+/0-9A-Za-z-_]/g;function Z(A,L){L=L||1/0;for(var H,$=A.length,ie=null,ye=[],ve=0;ve<$;++ve){if(55295<(H=A.charCodeAt(ve))&&H<57344){if(!ie){if(56319<H){-1<(L-=3)&&ye.push(239,191,189);continue}if(ve+1===$){-1<(L-=3)&&ye.push(239,191,189);continue}ie=H;continue}if(H<56320){-1<(L-=3)&&ye.push(239,191,189),ie=H;continue}H=65536+(ie-55296<<10|H-56320)}else ie&&-1<(L-=3)&&ye.push(239,191,189);if(ie=null,H<128){if(--L<0)break;ye.push(H)}else if(H<2048){if((L-=2)<0)break;ye.push(H>>6|192,63&H|128)}else if(H<65536){if((L-=3)<0)break;ye.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;ye.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return ye}function X(A){return u.toByteArray(function(L){if((L=(L=L.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;L.length%4!=0;)L+="=";return L}(A))}function Y(A,L,H,$){for(var ie=0;ie<$&&!(ie+H>=L.length||ie>=A.length);++ie)L[ie+H]=A[ie];return ie}function te(A,L){return A instanceof L||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===L.name}function se(A){return A!=A}var me=function(){for(var A="0123456789abcdef",L=new Array(256),H=0;H<16;++H)for(var $=16*H,ie=0;ie<16;++ie)L[$+ie]=A[H]+A[ie];return L}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:238}],5:[function(t,f,d){f.exports=function(i){if(typeof i!="function")throw TypeError(String(i)+" is not a function");return i}},{}],6:[function(t,f,d){var i=t("../internals/is-object");f.exports=function(u){if(i(u)||u===null)return u;throw TypeError("Can't set "+String(u)+" as a prototype")}},{"../internals/is-object":74}],7:[function(s,f,d){var i=s("../internals/well-known-symbol"),u=s("../internals/object-create"),s=s("../internals/object-define-property"),h=i("unscopables"),m=Array.prototype;m[h]==null&&s.f(m,h,{configurable:!0,value:u(null)}),f.exports=function(g){m[h][g]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(t,f,d){var i=t("../internals/string-multibyte").charAt;f.exports=function(u,s,h){return s+(h?i(u,s).length:1)}},{"../internals/string-multibyte":123}],9:[function(t,f,d){f.exports=function(i,u,s){if(i instanceof u)return i;throw TypeError("Incorrect "+(s?s+" ":"")+"invocation")}},{}],10:[function(t,f,d){var i=t("../internals/is-object");f.exports=function(u){if(i(u))return u;throw TypeError(String(u)+" is not an object")}},{"../internals/is-object":74}],11:[function(t,f,d){f.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(U,f,d){function i(J){return g(J)&&c(G,l(J))}var u,s=U("../internals/array-buffer-native"),h=U("../internals/descriptors"),m=U("../internals/global"),g=U("../internals/is-object"),c=U("../internals/has"),l=U("../internals/classof"),a=U("../internals/create-non-enumerable-property"),p=U("../internals/redefine"),v=U("../internals/object-define-property").f,w=U("../internals/object-get-prototype-of"),x=U("../internals/object-set-prototype-of"),D=U("../internals/well-known-symbol"),U=U("../internals/uid"),E=m.Int8Array,j=E&&E.prototype,S=m.Uint8ClampedArray,S=S&&S.prototype,R=E&&w(E),M=j&&w(j),P=Object.prototype,k=P.isPrototypeOf,D=D("toStringTag"),I=U("TYPED_ARRAY_TAG"),N=s&&!!x&&l(m.opera)!=="Opera",U=!1,G={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(u in G)m[u]||(N=!1);if((!N||typeof R!="function"||R===Function.prototype)&&(R=function(){throw TypeError("Incorrect invocation")},N))for(u in G)m[u]&&x(m[u],R);if((!N||!M||M===P)&&(M=R.prototype,N))for(u in G)m[u]&&x(m[u].prototype,M);if(N&&w(S)!==M&&x(S,M),h&&!c(M,D))for(u in U=!0,v(M,D,{get:function(){return g(this)?this[I]:void 0}}),G)m[u]&&a(m[u],I,u);f.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:U&&I,aTypedArray:function(J){if(i(J))return J;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(J){if(x){if(k.call(R,J))return J}else for(var K in G)if(c(G,u)&&(K=m[K],K&&(J===K||k.call(K,J))))return J;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(J,K,Z){if(h){if(Z)for(var X in G)X=m[X],X&&c(X.prototype,J)&&delete X.prototype[J];M[J]&&!Z||p(M,J,!Z&&N&&j[J]||K)}},exportTypedArrayStaticMethod:function(J,K,Z){var X,Y;if(h){if(x){if(Z)for(X in G)(Y=m[X])&&c(Y,J)&&delete Y[J];if(R[J]&&!Z)return;try{return p(R,J,!Z&&N&&E[J]||K)}catch{}}for(X in G)!(Y=m[X])||Y[J]&&!Z||p(Y,J,K)}},isView:function(J){return J=l(J),J==="DataView"||c(G,J)},isTypedArray:i,TypedArray:R,TypedArrayPrototype:M}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(H,f,d){function i(q){return[255&q]}function u(q){return[255&q,q>>8&255]}function s(q){return[255&q,q>>8&255,q>>16&255,q>>24&255]}function h(q){return q[3]<<24|q[2]<<16|q[1]<<8|q[0]}function m(q){return ye(q,23,4)}function g(q){return ye(q,52,8)}function c(q,le){U(q[te],le,{get:function(){return K(this)[le]}})}function l(Se,le,je,ge){if(je=P(je),Se=K(Se),je+le>Se.byteLength)throw ie(se);var pe=K(Se.buffer).bytes,je=je+Se.byteOffset,Se=pe.slice(je,je+le);return ge?Se:Se.reverse()}function a(q,le,ue,ge,pe,je){if(ue=P(ue),q=K(q),ue+le>q.byteLength)throw ie(se);for(var Se=K(q.buffer).bytes,Ce=ue+q.byteOffset,Re=ge(+pe),Ne=0;Ne<le;Ne++)Se[Ce+Ne]=Re[je?Ne:le-Ne-1]}var p=H("../internals/global"),v=H("../internals/descriptors"),w=H("../internals/array-buffer-native"),x=H("../internals/create-non-enumerable-property"),E=H("../internals/redefine-all"),j=H("../internals/fails"),S=H("../internals/an-instance"),R=H("../internals/to-integer"),M=H("../internals/to-length"),P=H("../internals/to-index"),k=H("../internals/ieee754"),D=H("../internals/object-get-prototype-of"),I=H("../internals/object-set-prototype-of"),N=H("../internals/object-get-own-property-names").f,U=H("../internals/object-define-property").f,G=H("../internals/array-fill"),J=H("../internals/set-to-string-tag"),H=H("../internals/internal-state"),K=H.get,Z=H.set,X="ArrayBuffer",Y="DataView",te="prototype",se="Wrong index",me=p[X],A=me,L=p[Y],H=L&&L[te],$=Object.prototype,ie=p.RangeError,ye=k.pack,ve=k.unpack;if(w){if(!j(function(){me(1)})||!j(function(){new me(-1)})||j(function(){return new me,new me(1.5),new me(NaN),me.name!=X})){for(var xe,p=(A=function(ue){return S(this,A),new me(P(ue))})[te]=me[te],fe=N(me),W=0;fe.length>W;)(xe=fe[W++])in A||x(A,xe,me[xe]);p.constructor=A}I&&D(H)!==$&&I(H,$);var k=new L(new A(2)),re=H.setInt8;k.setInt8(0,2147483648),k.setInt8(1,2147483649),!k.getInt8(0)&&k.getInt8(1)||E(H,{setInt8:function(le,ue){re.call(this,le,ue<<24>>24)},setUint8:function(le,ue){re.call(this,le,ue<<24>>24)}},{unsafe:!0})}else A=function(q){S(this,A,X),q=P(q),Z(this,{bytes:G.call(new Array(q),0),byteLength:q}),v||(this.byteLength=q)},L=function(q,pe,ue){S(this,L,Y),S(q,A,Y);var ge=K(q).byteLength,pe=R(pe);if(pe<0||ge<pe)throw ie("Wrong offset");if(ge<pe+(ue=ue===void 0?ge-pe:M(ue)))throw ie("Wrong length");Z(this,{buffer:q,byteLength:ue,byteOffset:pe}),v||(this.buffer=q,this.byteLength=ue,this.byteOffset=pe)},v&&(c(A,"byteLength"),c(L,"buffer"),c(L,"byteLength"),c(L,"byteOffset")),E(L[te],{getInt8:function(q){return l(this,1,q)[0]<<24>>24},getUint8:function(q){return l(this,1,q)[0]},getInt16:function(q){return q=l(this,2,q,1<arguments.length?arguments[1]:void 0),(q[1]<<8|q[0])<<16>>16},getUint16:function(q){return q=l(this,2,q,1<arguments.length?arguments[1]:void 0),q[1]<<8|q[0]},getInt32:function(q){return h(l(this,4,q,1<arguments.length?arguments[1]:void 0))},getUint32:function(q){return h(l(this,4,q,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(q){return ve(l(this,4,q,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(q){return ve(l(this,8,q,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(q,le){a(this,1,q,i,le)},setUint8:function(q,le){a(this,1,q,i,le)},setInt16:function(q,le){a(this,2,q,u,le,2<arguments.length?arguments[2]:void 0)},setUint16:function(q,le){a(this,2,q,u,le,2<arguments.length?arguments[2]:void 0)},setInt32:function(q,le){a(this,4,q,s,le,2<arguments.length?arguments[2]:void 0)},setUint32:function(q,le){a(this,4,q,s,le,2<arguments.length?arguments[2]:void 0)},setFloat32:function(q,le){a(this,4,q,m,le,2<arguments.length?arguments[2]:void 0)},setFloat64:function(q,le){a(this,8,q,g,le,2<arguments.length?arguments[2]:void 0)}});J(A,X),J(L,Y),f.exports={ArrayBuffer:A,DataView:L}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(t,f,d){var i=t("../internals/to-object"),u=t("../internals/to-absolute-index"),s=t("../internals/to-length"),h=Math.min;f.exports=[].copyWithin||function(v,g){var c=i(this),l=s(c.length),a=u(v,l),p=u(g,l),v=2<arguments.length?arguments[2]:void 0,w=h((v===void 0?l:u(v,l))-p,l-a),x=1;for(p<a&&a<p+w&&(x=-1,p+=w-1,a+=w-1);0<w--;)p in c?c[a]=c[p]:delete c[a],a+=x,p+=x;return c}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(t,f,d){var i=t("../internals/to-object"),u=t("../internals/to-absolute-index"),s=t("../internals/to-length");f.exports=function(h){for(var m=i(this),g=s(m.length),l=arguments.length,c=u(1<l?arguments[1]:void 0,g),l=2<l?arguments[2]:void 0,a=l===void 0?g:u(l,g);c<a;)m[c++]=h;return m}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(s,f,d){var i=s("../internals/array-iteration").forEach,u=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),u=u("forEach"),s=s("forEach");f.exports=u&&s?[].forEach:function(h){return i(this,h,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,f,d){var i=t("../internals/function-bind-context"),u=t("../internals/to-object"),s=t("../internals/call-with-safe-iteration-closing"),h=t("../internals/is-array-iterator-method"),m=t("../internals/to-length"),g=t("../internals/create-property"),c=t("../internals/get-iterator-method");f.exports=function(S){var a,p,v,w,x,E,j=u(S),S=typeof this=="function"?this:Array,R=arguments.length,M=1<R?arguments[1]:void 0,P=M!==void 0,k=c(j),D=0;if(P&&(M=i(M,2<R?arguments[2]:void 0,2)),k==null||S==Array&&h(k))for(p=new S(a=m(j.length));D<a;D++)E=P?M(j[D],D):j[D],g(p,D,E);else for(x=(w=k.call(j)).next,p=new S;!(v=x.call(w)).done;D++)E=P?s(w,M,[v.value,D],!0):v.value,g(p,D,E);return p.length=D,p}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(t,f,d){function i(m){return function(g,c,l){var a,p=u(g),v=s(p.length),w=h(l,v);if(m&&c!=c){for(;w<v;)if((a=p[w++])!=a)return!0}else for(;w<v;w++)if((m||w in p)&&p[w]===c)return m||w||0;return!m&&-1}}var u=t("../internals/to-indexed-object"),s=t("../internals/to-length"),h=t("../internals/to-absolute-index");f.exports={includes:i(!0),indexOf:i(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(t,f,d){function i(l){var a=l==1,p=l==2,v=l==3,w=l==4,x=l==6,E=l==5||x;return function(j,S,R,M){for(var P,k,D=h(j),I=s(D),N=u(S,R,3),U=m(I.length),G=0,S=M||g,J=a?S(j,U):p?S(j,0):void 0;G<U;G++)if((E||G in I)&&(k=N(P=I[G],G,D),l)){if(a)J[G]=k;else if(k)switch(l){case 3:return!0;case 5:return P;case 6:return G;case 2:c.call(J,P)}else if(w)return!1}return x?-1:v||w?w:J}}var u=t("../internals/function-bind-context"),s=t("../internals/indexed-object"),h=t("../internals/to-object"),m=t("../internals/to-length"),g=t("../internals/array-species-create"),c=[].push;f.exports={forEach:i(0),map:i(1),filter:i(2),some:i(3),every:i(4),find:i(5),findIndex:i(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(l,f,d){var i=l("../internals/to-indexed-object"),u=l("../internals/to-integer"),s=l("../internals/to-length"),c=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),h=Math.min,m=[].lastIndexOf,g=!!m&&1/[1].lastIndexOf(1,-0)<0,c=c("lastIndexOf"),l=l("indexOf",{ACCESSORS:!0,1:0});f.exports=g||!c||!l?function(a){if(g)return m.apply(this,arguments)||0;var p=i(this),v=s(p.length),w=v-1;for((w=1<arguments.length?h(w,u(arguments[1])):w)<0&&(w=v+w);0<=w;w--)if(w in p&&p[w]===a)return w||0;return-1}:m},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(t,f,d){var i=t("../internals/fails"),u=t("../internals/well-known-symbol"),s=t("../internals/engine-v8-version"),h=u("species");f.exports=function(m){return 51<=s||!i(function(){var g=[];return(g.constructor={})[h]=function(){return{foo:1}},g[m](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":146}],22:[function(t,f,d){var i=t("../internals/fails");f.exports=function(u,s){var h=[][u];return!!h&&i(function(){h.call(null,s||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,f,d){function i(c){throw c}var u=t("../internals/descriptors"),s=t("../internals/fails"),h=t("../internals/has"),m=Object.defineProperty,g={};f.exports=function(c,l){var a,p,v,w;return h(g,c)?g[c]:(a=[][c],p=!!h(l=l||{},"ACCESSORS")&&l.ACCESSORS,v=h(l,0)?l[0]:i,w=h(l,1)?l[1]:void 0,g[c]=!!a&&!s(function(){if(p&&!u)return!0;var x={length:-1};p?m(x,1,{enumerable:!0,get:i}):x[1]=1,a.call(x,v,w)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(t,f,d){function i(g){return function(c,l,a,p){u(l);var v=s(c),w=h(v),x=m(v.length),E=g?x-1:0,j=g?-1:1;if(a<2)for(;;){if(E in w){p=w[E],E+=j;break}if(E+=j,g?E<0:x<=E)throw TypeError("Reduce of empty array with no initial value")}for(;g?0<=E:E<x;E+=j)E in w&&(p=l(p,w[E],E,v));return p}}var u=t("../internals/a-function"),s=t("../internals/to-object"),h=t("../internals/indexed-object"),m=t("../internals/to-length");f.exports={left:i(!1),right:i(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(t,f,d){var i=t("../internals/is-object"),u=t("../internals/is-array"),s=t("../internals/well-known-symbol")("species");f.exports=function(h,m){var g;return new((g=u(h)&&(typeof(g=h.constructor)=="function"&&(g===Array||u(g.prototype))||i(g)&&(g=g[s])===null)?void 0:g)===void 0?Array:g)(m===0?0:m)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(t,f,d){var i=t("../internals/an-object");f.exports=function(u,s,h,m){try{return m?s(i(h)[0],h[1]):s(h)}catch(g){throw m=u.return,m!==void 0&&i(m.call(u)),g}}},{"../internals/an-object":10}],27:[function(t,f,d){var i=t("../internals/well-known-symbol")("iterator"),u=!1;try{var s=0,h={next:function(){return{done:!!s++}},return:function(){u=!0}};h[i]=function(){return this},Array.from(h,function(){throw 2})}catch{}f.exports=function(m,g){if(!g&&!u)return!1;var c=!1;try{var l={};l[i]=function(){return{next:function(){return{done:c=!0}}}},m(l)}catch{}return c}},{"../internals/well-known-symbol":146}],28:[function(t,f,d){var i={}.toString;f.exports=function(u){return i.call(u).slice(8,-1)}},{}],29:[function(t,f,d){var i=t("../internals/to-string-tag-support"),u=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),h=u(function(){return arguments}())=="Arguments";f.exports=i?u:function(m){var g;return m===void 0?"Undefined":m===null?"Null":typeof(g=function(c,l){try{return c[l]}catch{}}(m=Object(m),s))=="string"?g:h?u(m):(g=u(m))=="Object"&&typeof m.callee=="function"?"Arguments":g}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(v,f,d){var i=v("../internals/object-define-property").f,u=v("../internals/object-create"),s=v("../internals/redefine-all"),h=v("../internals/function-bind-context"),m=v("../internals/an-instance"),g=v("../internals/iterate"),c=v("../internals/define-iterator"),l=v("../internals/set-species"),a=v("../internals/descriptors"),p=v("../internals/internal-metadata").fastKey,v=v("../internals/internal-state"),w=v.set,x=v.getterFor;f.exports={getConstructor:function(E,j,S,R){function M(I,N,U){var G,J=D(I),K=P(I,N);return K?K.value=U:(J.last=K={index:G=p(N,!0),key:N,value:U,previous:N=J.last,next:void 0,removed:!1},J.first||(J.first=K),N&&(N.next=K),a?J.size++:I.size++,G!=="F"&&(J.index[G]=K)),I}function P(G,N){var U,G=D(G),J=p(N);if(J!=="F")return G.index[J];for(U=G.first;U;U=U.next)if(U.key==N)return U}var k=E(function(I,N){m(I,k,j),w(I,{type:j,index:u(null),first:void 0,last:void 0,size:0}),a||(I.size=0),N!=null&&g(N,I[R],I,S)}),D=x(j);return s(k.prototype,{clear:function(){for(var I=D(this),N=I.index,U=I.first;U;)U.removed=!0,U.previous&&(U.previous=U.previous.next=void 0),delete N[U.index],U=U.next;I.first=I.last=void 0,a?I.size=0:this.size=0},delete:function(J){var N,U,G=D(this),J=P(this,J);return J&&(N=J.next,U=J.previous,delete G.index[J.index],J.removed=!0,U&&(U.next=N),N&&(N.previous=U),G.first==J&&(G.first=N),G.last==J&&(G.last=U),a?G.size--:this.size--),!!J},forEach:function(I){for(var N,U=D(this),G=h(I,1<arguments.length?arguments[1]:void 0,3);N=N?N.next:U.first;)for(G(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(I){return!!P(this,I)}}),s(k.prototype,S?{get:function(I){return I=P(this,I),I&&I.value},set:function(I,N){return M(this,I===0?0:I,N)}}:{add:function(I){return M(this,I=I===0?0:I,I)}}),a&&i(k.prototype,"size",{get:function(){return D(this).size}}),k},setStrong:function(E,j,S){var R=j+" Iterator",M=x(j),P=x(R);c(E,j,function(k,D){w(this,{type:R,target:k,state:M(k),kind:D,last:void 0})},function(){for(var k=P(this),D=k.kind,I=k.last;I&&I.removed;)I=I.previous;return k.target&&(k.last=I=I?I.next:k.state.first)?D=="keys"?{value:I.key,done:!1}:D=="values"?{value:I.value,done:!1}:{value:[I.key,I.value],done:!1}:{value:k.target=void 0,done:!0}},S?"entries":"values",!S,!0),l(j)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(w,f,d){function i(M){return M.frozen||(M.frozen=new u)}function u(){this.entries=[]}function s(M,P){return j(M.entries,function(k){return k[0]===P})}var h=w("../internals/redefine-all"),m=w("../internals/internal-metadata").getWeakData,g=w("../internals/an-object"),c=w("../internals/is-object"),l=w("../internals/an-instance"),a=w("../internals/iterate"),p=w("../internals/array-iteration"),v=w("../internals/has"),w=w("../internals/internal-state"),x=w.set,E=w.getterFor,j=p.find,S=p.findIndex,R=0;u.prototype={get:function(M){if(M=s(this,M),M)return M[1]},has:function(M){return!!s(this,M)},set:function(M,P){var k=s(this,M);k?k[1]=P:this.entries.push([M,P])},delete:function(M){var P=S(this.entries,function(k){return k[0]===M});return~P&&this.entries.splice(P,1),!!~P}},f.exports={getConstructor:function(M,P,k,D){function I(G,J,K){var Z=U(G),X=m(g(J),!0);return X===!0?i(Z).set(J,K):X[Z.id]=K,G}var N=M(function(G,J){l(G,N,P),x(G,{type:P,id:R++,frozen:void 0}),J!=null&&a(J,G[D],G,k)}),U=E(P);return h(N.prototype,{delete:function(G){var J,K=U(this);return!!c(G)&&((J=m(G))===!0?i(K).delete(G):J&&v(J,K.id)&&delete J[K.id])},has:function(G){var J,K=U(this);return!!c(G)&&((J=m(G))===!0?i(K).has(G):J&&v(J,K.id))}}),h(N.prototype,k?{get:function(G){var J,K=U(this);if(c(G))return(J=m(G))===!0?i(K).get(G):J?J[K.id]:void 0},set:function(G,J){return I(this,G,J)}}:{add:function(G){return I(this,G,!0)}}),N}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(t,f,d){var i=t("../internals/export"),u=t("../internals/global"),s=t("../internals/is-forced"),h=t("../internals/redefine"),m=t("../internals/internal-metadata"),g=t("../internals/iterate"),c=t("../internals/an-instance"),l=t("../internals/is-object"),a=t("../internals/fails"),p=t("../internals/check-correctness-of-iteration"),v=t("../internals/set-to-string-tag"),w=t("../internals/inherit-if-required");f.exports=function(x,E,j){function S(X){var Y=J[X];h(J,X,X=="add"?function(te){return Y.call(this,te===0?0:te),this}:X=="delete"?function(te){return!(N&&!l(te))&&Y.call(this,te===0?0:te)}:X=="get"?function(te){return N&&!l(te)?void 0:Y.call(this,te===0?0:te)}:X=="has"?function(te){return!(N&&!l(te))&&Y.call(this,te===0?0:te)}:function(te,se){return Y.call(this,te===0?0:te,se),this})}var R,M,P,k,D,I=x.indexOf("Map")!==-1,N=x.indexOf("Weak")!==-1,U=I?"set":"add",G=u[x],J=G&&G.prototype,K=G,Z={};return s(x,typeof G!="function"||!(N||J.forEach&&!a(function(){new G().entries().next()})))?(K=j.getConstructor(E,x,I,U),m.REQUIRED=!0):s(x,!0)&&(M=(R=new K)[U](N?{}:-0,1)!=R,P=a(function(){R.has(1)}),k=p(function(X){new G(X)}),D=!N&&a(function(){for(var X=new G,Y=5;Y--;)X[U](Y,Y);return!X.has(-0)}),k||(((K=E(function(X,Y){return c(X,K,x),X=w(new G,X,K),Y!=null&&g(Y,X[U],X,I),X})).prototype=J).constructor=K),(P||D)&&(S("delete"),S("has"),I&&S("get")),(D||M)&&S(U),N&&J.clear&&delete J.clear),Z[x]=K,i({global:!0,forced:K!=G},Z),v(K,x),N||j.setStrong(K,x,I),K}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(t,f,d){var i=t("../internals/has"),u=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),h=t("../internals/object-define-property");f.exports=function(m,g){for(var c=u(g),l=h.f,a=s.f,p=0;p<c.length;p++){var v=c[p];i(m,v)||l(m,v,a(g,v))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(t,f,d){var i=t("../internals/well-known-symbol")("match");f.exports=function(u){var s=/./;try{"/./"[u](s)}catch{try{return s[i]=!1,"/./"[u](s)}catch{}}return!1}},{"../internals/well-known-symbol":146}],35:[function(t,f,d){t=t("../internals/fails"),f.exports=!t(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},{"../internals/fails":51}],36:[function(t,f,d){var i=t("../internals/require-object-coercible"),u=/"/g;f.exports=function(c,h,m,g){var c=String(i(c)),l="<"+h;return m!==""&&(l+=" "+m+'="'+String(g).replace(u,"&quot;")+'"'),l+">"+c+"</"+h+">"}},{"../internals/require-object-coercible":113}],37:[function(t,f,d){function i(){return this}var u=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),h=t("../internals/create-property-descriptor"),m=t("../internals/set-to-string-tag"),g=t("../internals/iterators");f.exports=function(c,l,a){return l+=" Iterator",c.prototype=s(u,{next:h(1,a)}),m(c,l,!1,!0),g[l]=i,c}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(t,f,d){var i=t("../internals/descriptors"),u=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");f.exports=i?function(h,m,g){return u.f(h,m,s(1,g))}:function(h,m,g){return h[m]=g,h}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(t,f,d){f.exports=function(i,u){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:u}}},{}],40:[function(t,f,d){var i=t("../internals/to-primitive"),u=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");f.exports=function(h,m,g){m=i(m),m in h?u.f(h,m,s(0,g)):h[m]=g}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":138}],41:[function(w,f,d){function i(){return this}var u=w("../internals/export"),s=w("../internals/create-iterator-constructor"),h=w("../internals/object-get-prototype-of"),m=w("../internals/object-set-prototype-of"),g=w("../internals/set-to-string-tag"),c=w("../internals/create-non-enumerable-property"),l=w("../internals/redefine"),a=w("../internals/well-known-symbol"),p=w("../internals/is-pure"),v=w("../internals/iterators"),w=w("../internals/iterators-core"),x=w.IteratorPrototype,E=w.BUGGY_SAFARI_ITERATORS,j=a("iterator"),S="values",R="entries";f.exports=function(M,P,k,Z,I,N,U){s(k,P,Z);function G(A){if(A===I&&se)return se;if(!E&&A in Y)return Y[A];switch(A){case"keys":case S:case R:return function(){return new k(this,A)}}return function(){return new k(this)}}var J,K,Z=P+" Iterator",X=!1,Y=M.prototype,te=Y[j]||Y["@@iterator"]||I&&Y[I],se=!E&&te||G(I),me=P=="Array"&&Y.entries||te;if(me&&(me=h(me.call(new M)),x!==Object.prototype&&me.next&&(p||h(me)===x||(m?m(me,x):typeof me[j]!="function"&&c(me,j,i)),g(me,Z,!0,!0),p&&(v[Z]=i))),I==S&&te&&te.name!==S&&(X=!0,se=function(){return te.call(this)}),p&&!U||Y[j]===se||c(Y,j,se),v[P]=se,I)if(J={values:G(S),keys:N?se:G("keys"),entries:G(R)},U)for(K in J)!E&&!X&&K in Y||l(Y,K,J[K]);else u({target:P,proto:!0,forced:E||X},J);return J}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],42:[function(t,f,d){var i=t("../internals/path"),u=t("../internals/has"),s=t("../internals/well-known-symbol-wrapped"),h=t("../internals/object-define-property").f;f.exports=function(m){var g=i.Symbol||(i.Symbol={});u(g,m)||h(g,m,{value:s.f(m)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],43:[function(t,f,d){t=t("../internals/fails"),f.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(u,f,d){var i=u("../internals/global"),u=u("../internals/is-object"),s=i.document,h=u(s)&&u(s.createElement);f.exports=function(m){return h?s.createElement(m):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(t,f,d){f.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,f,d){t=t("../internals/engine-user-agent"),f.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,f,d){t=t("../internals/get-built-in"),f.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(s,f,d){var i,u,h=s("../internals/global"),s=s("../internals/engine-user-agent"),h=h.process,h=h&&h.versions,h=h&&h.v8;h?u=(i=h.split("."))[0]+i[1]:s&&(!(i=s.match(/Edge\/(\d+)/))||74<=i[1])&&(i=s.match(/Chrome\/(\d+)/))&&(u=i[1]),f.exports=u&&+u},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(t,f,d){f.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,f,d){var i=t("../internals/global"),u=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),h=t("../internals/redefine"),m=t("../internals/set-global"),g=t("../internals/copy-constructor-properties"),c=t("../internals/is-forced");f.exports=function(l,a){var p,v,w,x=l.target,E=l.global,j=l.stat,S=E?i:j?i[x]||m(x,{}):(i[x]||{}).prototype;if(S)for(p in a){if(v=a[p],w=l.noTargetGet?(w=u(S,p))&&w.value:S[p],!c(E?p:x+(j?".":"#")+p,l.forced)&&w!==void 0){if(typeof v==typeof w)continue;g(v,w)}(l.sham||w&&w.sham)&&s(v,"sham",!0),h(S,p,v,l)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(t,f,d){f.exports=function(i){try{return!!i()}catch{return!0}}},{}],52:[function(a,f,d){a("../modules/es.regexp.exec");var i=a("../internals/redefine"),u=a("../internals/fails"),s=a("../internals/well-known-symbol"),h=a("../internals/regexp-exec"),m=a("../internals/create-non-enumerable-property"),g=s("species"),c=!u(function(){var w=/./;return w.exec=function(){var x=[];return x.groups={a:"7"},x},"".replace(w,"$<a>")!=="7"}),l="a".replace(/./,"$0")==="$0",a=s("replace"),p=!!/./[a]&&/./[a]("a","$0")==="",v=!u(function(){var x=/(?:)/,w=x.exec,x=(x.exec=function(){return w.apply(this,arguments)},"ab".split(x));return x.length!==2||x[0]!=="a"||x[1]!=="b"});f.exports=function(w,x,E,j){var S,R,M=s(w),P=!u(function(){var D={};return D[M]=function(){return 7},""[w](D)!=7}),k=P&&!u(function(){var D=!1,I=/a/;return w==="split"&&((I={constructor:{}}).constructor[g]=function(){return I},I.flags="",I[M]=/./[M]),I.exec=function(){return D=!0,null},I[M](""),!D});P&&k&&(w!=="replace"||c&&l&&!p)&&(w!=="split"||v)||(S=/./[M],E=(k=E(M,""[w],function(D,I,N,U,G){return I.exec===h?P&&!G?{done:!0,value:S.call(I,N,U)}:{done:!0,value:D.call(N,I,U)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}))[0],R=k[1],i(String.prototype,w,E),i(RegExp.prototype,M,x==2?function(D,I){return R.call(D,this,I)}:function(D){return R.call(D,this)})),j&&m(RegExp.prototype[M],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],53:[function(t,f,d){t=t("../internals/fails"),f.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(t,f,d){var i=t("../internals/a-function");f.exports=function(u,s,h){if(i(u),s===void 0)return u;switch(h){case 0:return function(){return u.call(s)};case 1:return function(m){return u.call(s,m)};case 2:return function(m,g){return u.call(s,m,g)};case 3:return function(m,g,c){return u.call(s,m,g,c)}}return function(){return u.apply(s,arguments)}}},{"../internals/a-function":5}],55:[function(t,f,d){var i=t("../internals/a-function"),u=t("../internals/is-object"),s=[].slice,h={};f.exports=Function.bind||function(m){var g=i(this),c=s.call(arguments,1),l=function(){var a=c.concat(s.call(arguments));if(this instanceof l){var p=g,v=a.length,w=a;if(!(v in h)){for(var x=[],E=0;E<v;E++)x[E]="a["+E+"]";h[v]=Function("C,a","return new C("+x.join(",")+")")}return h[v](p,w)}return g.apply(m,a)};return u(g.prototype)&&(l.prototype=g.prototype),l}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(t,f,d){function i(h){return typeof h=="function"?h:void 0}var u=t("../internals/path"),s=t("../internals/global");f.exports=function(h,m){return arguments.length<2?i(u[h])||i(s[h]):u[h]&&u[h][m]||s[h]&&s[h][m]}},{"../internals/global":59,"../internals/path":104}],57:[function(t,f,d){var i=t("../internals/classof"),u=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");f.exports=function(h){if(h!=null)return h[s]||h["@@iterator"]||u[i(h)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(t,f,d){var i=t("../internals/an-object"),u=t("../internals/get-iterator-method");f.exports=function(s){var h=u(s);if(typeof h!="function")throw TypeError(String(s)+" is not iterable");return i(h.call(s))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(t,f,d){(function(i){function u(s){return s&&s.Math==Math&&s}f.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof i=="object"&&i)||Function("return this")()}).call(this,typeof Ti<"u"?Ti:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(t,f,d){var i={}.hasOwnProperty;f.exports=function(u,s){return i.call(u,s)}},{}],61:[function(t,f,d){f.exports={}},{}],62:[function(t,f,d){var i=t("../internals/global");f.exports=function(u,s){var h=i.console;h&&h.error&&(arguments.length===1?h.error(u):h.error(u,s))}},{"../internals/global":59}],63:[function(t,f,d){t=t("../internals/get-built-in"),f.exports=t("document","documentElement")},{"../internals/get-built-in":56}],64:[function(t,f,d){var i=t("../internals/descriptors"),u=t("../internals/fails"),s=t("../internals/document-create-element");f.exports=!i&&!u(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(t,f,d){var i=Math.abs,u=Math.pow,s=Math.floor,h=Math.log,m=Math.LN2;f.exports={pack:function(g,c,E){var a,p,v,w=new Array(E),x=8*E-c-1,E=(1<<x)-1,j=E>>1,S=c===23?u(2,-24)-u(2,-77):0,R=g<0||g===0&&1/g<0?1:0,M=0;for((g=i(g))!=g||g===1/0?(p=g!=g?1:0,a=E):(a=s(h(g)/m),g*(v=u(2,-a))<1&&(a--,v*=2),2<=(g+=1<=a+j?S/v:S*u(2,1-j))*v&&(a++,v/=2),E<=a+j?(p=0,a=E):1<=a+j?(p=(g*v-1)*u(2,c),a+=j):(p=g*u(2,j-1)*u(2,c),a=0));8<=c;w[M++]=255&p,p/=256,c-=8);for(a=a<<c|p,x+=c;0<x;w[M++]=255&a,a/=256,x-=8);return w[--M]|=128*R,w},unpack:function(g,c){var l,a=g.length,E=8*a-c-1,p=(1<<E)-1,v=p>>1,w=E-7,x=a-1,E=g[x--],j=127&E;for(E>>=7;0<w;j=256*j+g[x],x--,w-=8);for(l=j&(1<<-w)-1,j>>=-w,w+=c;0<w;l=256*l+g[x],x--,w-=8);if(j===0)j=1-v;else{if(j===p)return l?NaN:E?-1/0:1/0;l+=u(2,c),j-=v}return(E?-1:1)*l*u(2,j-c)}}},{}],66:[function(t,f,d){var i=t("../internals/fails"),u=t("../internals/classof-raw"),s="".split;f.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return u(h)=="String"?s.call(h,""):Object(h)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(t,f,d){var i=t("../internals/is-object"),u=t("../internals/object-set-prototype-of");f.exports=function(s,h,m){return u&&typeof(h=h.constructor)=="function"&&h!==m&&i(h=h.prototype)&&h!==m.prototype&&u(s,h),s}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(i,f,d){var i=i("../internals/shared-store"),u=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(s){return u.call(s)}),f.exports=i.inspectSource},{"../internals/shared-store":119}],69:[function(t,f,d){function i(w){m(w,l,{value:{objectID:"O"+ ++a,weakData:{}}})}var u=t("../internals/hidden-keys"),s=t("../internals/is-object"),h=t("../internals/has"),m=t("../internals/object-define-property").f,g=t("../internals/uid"),c=t("../internals/freezing"),l=g("meta"),a=0,p=Object.isExtensible||function(){return!0},v=f.exports={REQUIRED:!1,fastKey:function(w,x){if(!s(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!h(w,l)){if(!p(w))return"F";if(!x)return"E";i(w)}return w[l].objectID},getWeakData:function(w,x){if(!h(w,l)){if(!p(w))return!0;if(!x)return!1;i(w)}return w[l].weakData},onFreeze:function(w){return c&&v.REQUIRED&&p(w)&&!h(w,l)&&i(w),w}};u[l]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(E,f,d){var i,u,s,h,m,g,c,l,a=E("../internals/native-weak-map"),j=E("../internals/global"),p=E("../internals/is-object"),v=E("../internals/create-non-enumerable-property"),w=E("../internals/has"),x=E("../internals/shared-key"),E=E("../internals/hidden-keys"),j=j.WeakMap;c=a?(i=new j,u=i.get,s=i.has,h=i.set,m=function(S,R){return h.call(i,S,R),R},g=function(S){return u.call(i,S)||{}},function(S){return s.call(i,S)}):(E[l=x("state")]=!0,m=function(S,R){return v(S,l,R),R},g=function(S){return w(S,l)?S[l]:{}},function(S){return w(S,l)}),f.exports={set:m,get:g,has:c,enforce:function(S){return c(S)?g(S):m(S,{})},getterFor:function(S){return function(R){if(p(R)&&(R=g(R)).type===S)return R;throw TypeError("Incompatible receiver, "+S+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(t,f,d){var i=t("../internals/well-known-symbol"),u=t("../internals/iterators"),s=i("iterator"),h=Array.prototype;f.exports=function(m){return m!==void 0&&(u.Array===m||h[s]===m)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(t,f,d){var i=t("../internals/classof-raw");f.exports=Array.isArray||function(u){return i(u)=="Array"}},{"../internals/classof-raw":28}],73:[function(t,f,d){function i(l,a){return(l=m[h(l)])==c||l!=g&&(typeof a=="function"?u(a):!!a)}var u=t("../internals/fails"),s=/#|\.prototype\./,h=i.normalize=function(l){return String(l).replace(s,".").toLowerCase()},m=i.data={},g=i.NATIVE="N",c=i.POLYFILL="P";f.exports=i},{"../internals/fails":51}],74:[function(t,f,d){f.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},{}],75:[function(t,f,d){f.exports=!1},{}],76:[function(t,f,d){var i=t("../internals/is-object"),u=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");f.exports=function(h){var m;return i(h)&&((m=h[s])!==void 0?!!m:u(h)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(t,f,d){function i(l,a){this.stopped=l,this.result=a}var u=t("../internals/an-object"),s=t("../internals/is-array-iterator-method"),h=t("../internals/to-length"),m=t("../internals/function-bind-context"),g=t("../internals/get-iterator-method"),c=t("../internals/call-with-safe-iteration-closing");(f.exports=function(l,a,p,v,w){var x,E,j,S,R,M,P=m(a,p,v?2:1);if(w)x=l;else{if(typeof(a=g(l))!="function")throw TypeError("Target is not iterable");if(s(a)){for(E=0,j=h(l.length);E<j;E++)if((S=v?P(u(M=l[E])[0],M[1]):P(l[E]))&&S instanceof i)return S;return new i(!1)}x=a.call(l)}for(R=x.next;!(M=R.call(x)).done;)if(typeof(S=c(x,P,M.value,v))=="object"&&S&&S instanceof i)return S;return new i(!1)}).stop=function(l){return new i(!0,l)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(g,f,d){var i,u,s=g("../internals/object-get-prototype-of"),h=g("../internals/create-non-enumerable-property"),m=g("../internals/has"),c=g("../internals/well-known-symbol"),g=g("../internals/is-pure"),c=c("iterator"),l=!1;[].keys&&("next"in(u=[].keys())?(s=s(s(u)))!==Object.prototype&&(i=s):l=!0),i==null&&(i={}),g||m(i,c)||h(i,c,function(){return this}),f.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(t,f,d){f.exports={}},{}],80:[function(t,f,d){f.exports=Math.sign||function(i){return(i=+i)==0||i!=i?i:i<0?-1:1}},{}],81:[function(v,f,d){var i,u,s,h,m,g,c,l,a=v("../internals/global"),R=v("../internals/object-get-own-property-descriptor").f,S=v("../internals/classof-raw"),p=v("../internals/task").set,v=v("../internals/engine-is-ios"),w=a.MutationObserver||a.WebKitMutationObserver,x=a.process,E=a.Promise,j=S(x)=="process",S=R(a,"queueMicrotask"),R=S&&S.value;R||(i=function(){var M,P;for(j&&(M=x.domain)&&M.exit();u;){P=u.fn,u=u.next;try{P()}catch(k){throw u?h():s=void 0,k}}s=void 0,M&&M.enter()},h=j?function(){x.nextTick(i)}:w&&!v?(m=!0,g=document.createTextNode(""),new w(i).observe(g,{characterData:!0}),function(){g.data=m=!m}):E&&E.resolve?(c=E.resolve(void 0),l=c.then,function(){l.call(c,i)}):function(){p.call(a,i)}),f.exports=R||function(M){M={fn:M,next:void 0},s&&(s.next=M),u||(u=M,h()),s=M}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(t,f,d){t=t("../internals/global"),f.exports=t.Promise},{"../internals/global":59}],83:[function(t,f,d){t=t("../internals/fails"),f.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(t,f,d){var i=t("../internals/fails"),u=t("../internals/well-known-symbol"),s=t("../internals/is-pure"),h=u("iterator");f.exports=!i(function(){var m=new URL("b?a=1&b=2&c=3","http://a"),g=m.searchParams,c="";return m.pathname="c%20d",g.forEach(function(l,a){g.delete("b"),c+=a+l}),s&&!m.toJSON||!g.sort||m.href!=="http://a/c%20d?a=1&c=3"||g.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!g[h]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||c!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(i,f,d){var u=i("../internals/global"),i=i("../internals/inspect-source"),u=u.WeakMap;f.exports=typeof u=="function"&&/native code/.test(i(u))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(t,f,d){function i(s){var h,m;this.promise=new s(function(g,c){if(h!==void 0||m!==void 0)throw TypeError("Bad Promise constructor");h=g,m=c}),this.resolve=u(h),this.reject=u(m)}var u=t("../internals/a-function");f.exports.f=function(s){return new i(s)}},{"../internals/a-function":5}],87:[function(t,f,d){var i=t("../internals/is-regexp");f.exports=function(u){if(i(u))throw TypeError("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":76}],88:[function(t,f,d){var i=t("../internals/global").isFinite;f.exports=Number.isFinite||function(u){return typeof u=="number"&&i(u)}},{"../internals/global":59}],89:[function(t,f,d){var i=t("../internals/descriptors"),u=t("../internals/fails"),s=t("../internals/object-keys"),h=t("../internals/object-get-own-property-symbols"),m=t("../internals/object-property-is-enumerable"),g=t("../internals/to-object"),c=t("../internals/indexed-object"),l=Object.assign,a=Object.defineProperty;f.exports=!l||u(function(){var p,v,w,x;return!(!i||l({b:1},l(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(v={},x="abcdefghijklmnopqrst",(p={})[w=Symbol()]=7,x.split("").forEach(function(E){v[E]=E}),l({},p)[w]!=7||s(l({},v)).join("")!=x)})?function(p,v){for(var w=g(p),x=arguments.length,E=1,j=h.f,S=m.f;E<x;)for(var R,M=c(arguments[E++]),P=j?s(M).concat(j(M)):s(M),k=P.length,D=0;D<k;)R=P[D++],i&&!S.call(M,R)||(w[R]=M[R]);return w}:l},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(a,f,d){function i(){}var u,s=a("../internals/an-object"),h=a("../internals/object-define-properties"),m=a("../internals/enum-bug-keys"),g=a("../internals/hidden-keys"),c=a("../internals/html"),l=a("../internals/document-create-element"),a=a("../internals/shared-key"),p="prototype",v="script",w=a("IE_PROTO"),x=function(j){return"<"+v+">"+j+"</"+v+">"},E=function(){try{u=document.domain&&new ActiveXObject("htmlfile")}catch{}E=u?((j=u).write(x("")),j.close(),S=j.parentWindow.Object,j=null,S):(j=l("iframe"),S="java"+v+":",j.style.display="none",c.appendChild(j),j.src=String(S),(S=j.contentWindow.document).open(),S.write(x("document.F=Object")),S.close(),S.F);for(var j,S,R=m.length;R--;)delete E[p][m[R]];return E()};g[w]=!0,f.exports=Object.create||function(j,S){var R;return j!==null?(i[p]=s(j),R=new i,i[p]=null,R[w]=j):R=E(),S===void 0?R:h(R,S)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(t,f,d){var i=t("../internals/descriptors"),u=t("../internals/object-define-property"),s=t("../internals/an-object"),h=t("../internals/object-keys");f.exports=i?Object.defineProperties:function(m,g){s(m);for(var c,l=h(g),a=l.length,p=0;p<a;)u.f(m,c=l[p++],g[c]);return m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(t,f,d){var i=t("../internals/descriptors"),u=t("../internals/ie8-dom-define"),s=t("../internals/an-object"),h=t("../internals/to-primitive"),m=Object.defineProperty;d.f=i?m:function(g,c,l){if(s(g),c=h(c,!0),s(l),u)try{return m(g,c,l)}catch{}if("get"in l||"set"in l)throw TypeError("Accessors not supported");return"value"in l&&(g[c]=l.value),g}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(t,f,d){var i=t("../internals/descriptors"),u=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),h=t("../internals/to-indexed-object"),m=t("../internals/to-primitive"),g=t("../internals/has"),c=t("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;d.f=i?l:function(a,p){if(a=h(a),p=m(p,!0),c)try{return l(a,p)}catch{}if(g(a,p))return s(!u.f.call(a,p),a[p])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(t,f,d){var i=t("../internals/to-indexed-object"),u=t("../internals/object-get-own-property-names").f,s={}.toString,h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];f.exports.f=function(m){if(!h||s.call(m)!="[object Window]")return u(i(m));try{return u(m)}catch{return h.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(t,f,d){var i=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys").concat("length","prototype");d.f=Object.getOwnPropertyNames||function(s){return i(s,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(t,f,d){d.f=Object.getOwnPropertySymbols},{}],97:[function(h,f,d){var i=h("../internals/has"),u=h("../internals/to-object"),s=h("../internals/shared-key"),h=h("../internals/correct-prototype-getter"),m=s("IE_PROTO"),g=Object.prototype;f.exports=h?Object.getPrototypeOf:function(c){return c=u(c),i(c,m)?c[m]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?g:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(t,f,d){var i=t("../internals/has"),u=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,h=t("../internals/hidden-keys");f.exports=function(m,g){var c,l=u(m),a=0,p=[];for(c in l)!i(h,c)&&i(l,c)&&p.push(c);for(;g.length>a;)!i(l,c=g[a++])||~s(p,c)||p.push(c);return p}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(t,f,d){var i=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys");f.exports=Object.keys||function(s){return i(s,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(t,f,d){var i={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,s=u&&!i.call({1:2},1);d.f=s?function(h){return h=u(this,h),!!h&&h.enumerable}:i},{}],101:[function(t,f,d){var i=t("../internals/an-object"),u=t("../internals/a-possible-prototype");f.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,h=!1,m={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(m,[]),h=m instanceof Array}catch{}return function(g,c){return i(g),u(c),h?s.call(g,c):g.__proto__=c,g}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(t,f,d){var i=t("../internals/to-string-tag-support"),u=t("../internals/classof");f.exports=i?{}.toString:function(){return"[object "+u(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(t,f,d){var i=t("../internals/get-built-in"),u=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),h=t("../internals/an-object");f.exports=i("Reflect","ownKeys")||function(m){var g=u.f(h(m)),c=s.f;return c?g.concat(c(m)):g}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(t,f,d){t=t("../internals/global"),f.exports=t},{"../internals/global":59}],105:[function(t,f,d){f.exports=function(i){try{return{error:!1,value:i()}}catch(u){return{error:!0,value:u}}}},{}],106:[function(t,f,d){var i=t("../internals/an-object"),u=t("../internals/is-object"),s=t("../internals/new-promise-capability");f.exports=function(h,m){return i(h),u(m)&&m.constructor===h?m:((0,(h=s.f(h)).resolve)(m),h.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(t,f,d){var i=t("../internals/redefine");f.exports=function(u,s,h){for(var m in s)i(u,m,s[m],h);return u}},{"../internals/redefine":108}],108:[function(g,f,d){var i=g("../internals/global"),u=g("../internals/create-non-enumerable-property"),s=g("../internals/has"),h=g("../internals/set-global"),m=g("../internals/inspect-source"),g=g("../internals/internal-state"),c=g.get,l=g.enforce,a=String(String).split("String");(f.exports=function(p,v,w,S){var E=!!S&&!!S.unsafe,j=!!S&&!!S.enumerable,S=!!S&&!!S.noTargetGet;typeof w=="function"&&(typeof v!="string"||s(w,"name")||u(w,"name",v),l(w).source=a.join(typeof v=="string"?v:"")),p===i?j?p[v]=w:h(v,w):(E?!S&&p[v]&&(j=!0):delete p[v],j?p[v]=w:u(p,v,w))})(Function.prototype,"toString",function(){return typeof this=="function"&&c(this).source||m(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(t,f,d){var i=t("./classof-raw"),u=t("./regexp-exec");f.exports=function(s,h){var m=s.exec;if(typeof m=="function"){if(m=m.call(s,h),typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(i(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(s,h)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(h,f,d){var i,u,s=h("./regexp-flags"),h=h("./regexp-sticky-helpers"),m=RegExp.prototype.exec,g=String.prototype.replace,c=m,l=(i=/a/,u=/b*/g,m.call(i,"a"),m.call(u,"a"),i.lastIndex!==0||u.lastIndex!==0),a=h.UNSUPPORTED_Y||h.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0;f.exports=c=l||p||a?function(v){var w,x,E,j,S=this,R=a&&S.sticky,M=s.call(S),P=S.source,k=0,D=v;return R&&((M=M.replace("y","")).indexOf("g")===-1&&(M+="g"),D=String(v).slice(S.lastIndex),0<S.lastIndex&&(!S.multiline||S.multiline&&v[S.lastIndex-1]!==`
`)&&(P="(?: "+P+")",D=" "+D,k++),x=new RegExp("^(?:"+P+")",M)),p&&(x=new RegExp("^"+P+"$(?!\\s)",M)),l&&(w=S.lastIndex),E=m.call(R?x:S,D),R?E?(E.input=E.input.slice(k),E[0]=E[0].slice(k),E.index=S.lastIndex,S.lastIndex+=E[0].length):S.lastIndex=0:l&&E&&(S.lastIndex=S.global?E.index+E[0].length:w),p&&E&&1<E.length&&g.call(E[0],x,function(){for(j=1;j<arguments.length-2;j++)arguments[j]===void 0&&(E[j]=void 0)}),E}:c},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(t,f,d){var i=t("../internals/an-object");f.exports=function(){var u=i(this),s="";return u.global&&(s+="g"),u.ignoreCase&&(s+="i"),u.multiline&&(s+="m"),u.dotAll&&(s+="s"),u.unicode&&(s+="u"),u.sticky&&(s+="y"),s}},{"../internals/an-object":10}],112:[function(t,f,d){t=t("./fails");function i(u,s){return RegExp(u,s)}d.UNSUPPORTED_Y=t(function(){var u=i("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),d.BROKEN_CARET=t(function(){var u=i("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},{"./fails":51}],113:[function(t,f,d){f.exports=function(i){if(i==null)throw TypeError("Can't call method on "+i);return i}},{}],114:[function(t,f,d){f.exports=Object.is||function(i,u){return i===u?i!==0||1/i==1/u:i!=i&&u!=u}},{}],115:[function(t,f,d){var i=t("../internals/global"),u=t("../internals/create-non-enumerable-property");f.exports=function(s,h){try{u(i,s,h)}catch{i[s]=h}return h}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(t,f,d){var i=t("../internals/get-built-in"),u=t("../internals/object-define-property"),s=t("../internals/well-known-symbol"),h=t("../internals/descriptors"),m=s("species");f.exports=function(c){var c=i(c),l=u.f;h&&c&&!c[m]&&l(c,m,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(t,f,d){var i=t("../internals/object-define-property").f,u=t("../internals/has"),s=t("../internals/well-known-symbol")("toStringTag");f.exports=function(h,m,g){h&&!u(h=g?h:h.prototype,s)&&i(h,s,{configurable:!0,value:m})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(t,f,d){var i=t("../internals/shared"),u=t("../internals/uid"),s=i("keys");f.exports=function(h){return s[h]||(s[h]=u(h))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(i,f,d){var s=i("../internals/global"),i=i("../internals/set-global"),u="__core-js_shared__",s=s[u]||i(u,{});f.exports=s},{"../internals/global":59,"../internals/set-global":115}],120:[function(t,f,d){var i=t("../internals/is-pure"),u=t("../internals/shared-store");(f.exports=function(s,h){return u[s]||(u[s]=h!==void 0?h:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(t,f,d){var i=t("../internals/an-object"),u=t("../internals/a-function"),s=t("../internals/well-known-symbol")("species");f.exports=function(g,m){var g=i(g).constructor;return g===void 0||(g=i(g)[s])==null?m:u(g)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(t,f,d){var i=t("../internals/fails");f.exports=function(u){return i(function(){var s=""[u]('"');return s!==s.toLowerCase()||3<s.split('"').length})}},{"../internals/fails":51}],123:[function(t,f,d){function i(h){return function(l,a){var c,l=String(s(l)),a=u(a),p=l.length;return a<0||p<=a?h?"":void 0:(c=l.charCodeAt(a))<55296||56319<c||a+1===p||(p=l.charCodeAt(a+1))<56320||57343<p?h?l.charAt(a):c:h?l.slice(a,a+2):p-56320+(c-55296<<10)+65536}}var u=t("../internals/to-integer"),s=t("../internals/require-object-coercible");f.exports={codeAt:i(!1),charAt:i(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(t,f,d){function i(E){return E+22+75*(E<26)}function u(E){var j,S=[],R=(E=function(te){for(var se=[],me=0,A=te.length;me<A;){var L,H=te.charCodeAt(me++);55296<=H&&H<=56319&&me<A?(64512&(L=te.charCodeAt(me++)))==56320?se.push(((1023&H)<<10)+(1023&L)+65536):(se.push(H),me--):se.push(H)}return se}(E)).length,M=128,P=0,k=72;for(U=0;U<E.length;U++)(j=E[U])<128&&S.push(x(j));var D=S.length,I=D;for(D&&S.push("-");I<R;){for(var N=s,U=0;U<E.length;U++)M<=(j=E[U])&&j<N&&(N=j);var G=I+1;if(N-M>w((s-P)/G))throw RangeError(p);for(P+=(N-M)*G,M=N,U=0;U<E.length;U++){if((j=E[U])<M&&++P>s)throw RangeError(p);if(j==M){for(var J=P,K=h;;K+=h){var Z=K<=k?1:k+m<=K?m:K-k;if(J<Z)break;var X=J-Z,Y=h-Z;S.push(x(i(Z+X%Y))),J=w(X/Y)}S.push(x(i(J))),k=function(te,se,me){var A=0;for(te=me?w(te/c):te>>1,te+=w(te/se);v*m>>1<te;A+=h)te=w(te/v);return w(A+(v+1)*te/(te+g))}(P,G,I==D),P=0,++I}}++P,++M}return S.join("")}var s=2147483647,h=36,m=26,g=38,c=700,l=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",v=h-1,w=Math.floor,x=String.fromCharCode;f.exports=function(E){for(var j,S=[],R=E.toLowerCase().replace(a,".").split("."),M=0;M<R.length;M++)j=R[M],S.push(l.test(j)?"xn--"+u(j):j);return S.join(".")}},{}],125:[function(t,f,d){var i=t("../internals/to-integer"),u=t("../internals/require-object-coercible");f.exports="".repeat||function(s){var h=String(u(this)),m="",g=i(s);if(g<0||g==1/0)throw RangeError("Wrong number of repetitions");for(;0<g;(g>>>=1)&&(h+=h))1&g&&(m+=h);return m}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(t,f,d){var i=t("../internals/fails"),u=t("../internals/whitespaces");f.exports=function(s){return i(function(){return!!u[s]()||""[s]()!=""||u[s].name!==s})}},{"../internals/fails":51,"../internals/whitespaces":147}],127:[function(s,f,d){function i(g){return function(c){return c=String(u(c)),1&g&&(c=c.replace(h,"")),c=2&g?c.replace(m,""):c}}var u=s("../internals/require-object-coercible"),s="["+s("../internals/whitespaces")+"]",h=RegExp("^"+s+s+"*"),m=RegExp(s+s+"*$");f.exports={start:i(1),end:i(2),trim:i(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(v,f,d){function i(I){return function(){D(I)}}function u(I){D(I.data)}function s(I){m.postMessage(I+"",w.protocol+"//"+w.host)}var h,m=v("../internals/global"),g=v("../internals/fails"),c=v("../internals/classof-raw"),l=v("../internals/function-bind-context"),a=v("../internals/html"),p=v("../internals/document-create-element"),v=v("../internals/engine-is-ios"),w=m.location,x=m.setImmediate,E=m.clearImmediate,j=m.process,S=m.MessageChannel,R=m.Dispatch,M=0,P={},k="onreadystatechange",D=function(I){var N;P.hasOwnProperty(I)&&(N=P[I],delete P[I],N())};x&&E||(x=function(I){for(var N=[],U=1;U<arguments.length;)N.push(arguments[U++]);return P[++M]=function(){(typeof I=="function"?I:Function(I)).apply(void 0,N)},h(M),M},E=function(I){delete P[I]},c(j)=="process"?h=function(I){j.nextTick(i(I))}:R&&R.now?h=function(I){R.now(i(I))}:S&&!v?(v=(c=new S).port2,c.port1.onmessage=u,h=l(v.postMessage,v,1)):!m.addEventListener||typeof postMessage!="function"||m.importScripts||g(s)||w.protocol==="file:"?h=k in p("script")?function(I){a.appendChild(p("script"))[k]=function(){a.removeChild(this),D(I)}}:function(I){setTimeout(i(I),0)}:(h=s,m.addEventListener("message",u,!1))),f.exports={set:x,clear:E}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(t,f,d){var i=t("../internals/classof-raw");f.exports=function(u){if(typeof u!="number"&&i(u)!="Number")throw TypeError("Incorrect invocation");return+u}},{"../internals/classof-raw":28}],130:[function(t,f,d){var i=t("../internals/to-integer"),u=Math.max,s=Math.min;f.exports=function(h,m){return h=i(h),h<0?u(h+m,0):s(h,m)}},{"../internals/to-integer":133}],131:[function(t,f,d){var i=t("../internals/to-integer"),u=t("../internals/to-length");f.exports=function(h){if(h===void 0)return 0;var h=i(h),m=u(h);if(h!==m)throw RangeError("Wrong length or index");return m}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(t,f,d){var i=t("../internals/indexed-object"),u=t("../internals/require-object-coercible");f.exports=function(s){return i(u(s))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(t,f,d){var i=Math.ceil,u=Math.floor;f.exports=function(s){return isNaN(s=+s)?0:(0<s?u:i)(s)}},{}],134:[function(t,f,d){var i=t("../internals/to-integer"),u=Math.min;f.exports=function(s){return 0<s?u(i(s),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(t,f,d){var i=t("../internals/require-object-coercible");f.exports=function(u){return Object(i(u))}},{"../internals/require-object-coercible":113}],136:[function(t,f,d){var i=t("../internals/to-positive-integer");f.exports=function(u,s){if(u=i(u),u%s)throw RangeError("Wrong offset");return u}},{"../internals/to-positive-integer":137}],137:[function(t,f,d){var i=t("../internals/to-integer");f.exports=function(u){if(u=i(u),u<0)throw RangeError("The argument can't be less than 0");return u}},{"../internals/to-integer":133}],138:[function(t,f,d){var i=t("../internals/is-object");f.exports=function(u,s){if(!i(u))return u;var h,m;if(s&&typeof(h=u.toString)=="function"&&!i(m=h.call(u))||typeof(h=u.valueOf)=="function"&&!i(m=h.call(u))||!s&&typeof(h=u.toString)=="function"&&!i(m=h.call(u)))return m;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(t,f,d){var i={};i[t("../internals/well-known-symbol")("toStringTag")]="z",f.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(t,f,d){function i(pe,je){for(var Se=0,Ce=je.length,Re=new(q(pe))(Ce);Se<Ce;)Re[Se]=je[Se++];return Re}function u(pe,je){L(pe,je,{get:function(){return me(this)[je]}})}function s(pe){return pe instanceof ye||(pe=D(pe))=="ArrayBuffer"||pe=="SharedArrayBuffer"}function h(pe,je){return le(pe)&&typeof je!="symbol"&&je in pe&&String(+je)==String(je)}function m(pe,je){return h(pe,je=P(je,!0))?E(2,pe[je]):H(pe,je)}function g(pe,je,Se){return!(h(pe,je=P(je,!0))&&I(Se)&&k(Se,"value"))||k(Se,"get")||k(Se,"set")||Se.configurable||k(Se,"writable")&&!Se.writable||k(Se,"enumerable")&&!Se.enumerable?L(pe,je,Se):(pe[je]=Se.value,pe)}var c=t("../internals/export"),l=t("../internals/global"),a=t("../internals/descriptors"),p=t("../internals/typed-array-constructors-require-wrappers"),v=t("../internals/array-buffer-view-core"),w=t("../internals/array-buffer"),x=t("../internals/an-instance"),E=t("../internals/create-property-descriptor"),j=t("../internals/create-non-enumerable-property"),S=t("../internals/to-length"),R=t("../internals/to-index"),M=t("../internals/to-offset"),P=t("../internals/to-primitive"),k=t("../internals/has"),D=t("../internals/classof"),I=t("../internals/is-object"),N=t("../internals/object-create"),U=t("../internals/object-set-prototype-of"),G=t("../internals/object-get-own-property-names").f,J=t("../internals/typed-array-from"),K=t("../internals/array-iteration").forEach,Z=t("../internals/set-species"),X=t("../internals/object-define-property"),Y=t("../internals/object-get-own-property-descriptor"),te=t("../internals/internal-state"),se=t("../internals/inherit-if-required"),me=te.get,A=te.set,L=X.f,H=Y.f,$=Math.round,ie=l.RangeError,ye=w.ArrayBuffer,ve=w.DataView,xe=v.NATIVE_ARRAY_BUFFER_VIEWS,fe=v.TYPED_ARRAY_TAG,W=v.TypedArray,re=v.TypedArrayPrototype,q=v.aTypedArrayConstructor,le=v.isTypedArray,ue="BYTES_PER_ELEMENT",ge="Wrong length";a?(xe||(Y.f=m,X.f=g,u(re,"buffer"),u(re,"byteOffset"),u(re,"byteLength"),u(re,"length")),c({target:"Object",stat:!0,forced:!xe},{getOwnPropertyDescriptor:m,defineProperty:g}),f.exports=function(Ee,je,Se){function Ce(Pe,Q){L(Pe,Q,{get:function(){var ne=this,z=Q;return(ne=me(ne)).view[He](z*Re+ne.byteOffset,!0)},set:function(ne){var z=this,ae=Q;z=me(z),Se&&(ne=(ne=$(ne))<0?0:255<ne?255:255&ne),z.view[Ge](ae*Re+z.byteOffset,ne,!0)},enumerable:!0})}var Re=Ee.match(/\d+$/)[0]/8,Ne=Ee+(Se?"Clamped":"")+"Array",He="get"+Ee,Ge="set"+Ee,$e=l[Ne],Ze=$e,Ee=Ze&&Ze.prototype,Fe={};xe?p&&(Ze=je(function(Pe,Q,ne,z){return x(Pe,Ze,Ne),se(I(Q)?s(Q)?z!==void 0?new $e(Q,M(ne,Re),z):ne!==void 0?new $e(Q,M(ne,Re)):new $e(Q):le(Q)?i(Ze,Q):J.call(Ze,Q):new $e(R(Q)),Pe,Ze)}),U&&U(Ze,W),K(G($e),function(Pe){Pe in Ze||j(Ze,Pe,$e[Pe])}),Ze.prototype=Ee):(Ze=je(function(Pe,Q,ne,z){x(Pe,Ze,Ne);var ae,_e,Oe=0,Ue=0;if(I(Q)){if(!s(Q))return le(Q)?i(Ze,Q):J.call(Ze,Q);var Ye=Q,Ue=M(ne,Re),ne=Q.byteLength;if(z===void 0){if(ne%Re||(ae=ne-Ue)<0)throw ie(ge)}else if(ne<(ae=S(z)*Re)+Ue)throw ie(ge);_e=ae/Re}else _e=R(Q),Ye=new ye(ae=_e*Re);for(A(Pe,{buffer:Ye,byteOffset:Ue,byteLength:ae,length:_e,view:new ve(Ye)});Oe<_e;)Ce(Pe,Oe++)}),U&&U(Ze,W),Ee=Ze.prototype=N(re)),Ee.constructor!==Ze&&j(Ee,"constructor",Ze),fe&&j(Ee,fe,Ne),Fe[Ne]=Ze,c({global:!0,forced:Ze!=$e,sham:!xe},Fe),ue in Ze||j(Ze,ue,Re),ue in Ee||j(Ee,ue,Re),Z(Ne)}):f.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(h,f,d){var i=h("../internals/global"),u=h("../internals/fails"),s=h("../internals/check-correctness-of-iteration"),h=h("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,m=i.ArrayBuffer,g=i.Int8Array;f.exports=!h||!u(function(){g(1)})||!u(function(){new g(-1)})||!s(function(c){new g,new g(null),new g(1.5),new g(c)},!0)||u(function(){return new g(new m(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],142:[function(t,f,d){var i=t("../internals/to-object"),u=t("../internals/to-length"),s=t("../internals/get-iterator-method"),h=t("../internals/is-array-iterator-method"),m=t("../internals/function-bind-context"),g=t("../internals/array-buffer-view-core").aTypedArrayConstructor;f.exports=function(c){var l,a,p,v,w,x,E=i(c),j=arguments.length,S=1<j?arguments[1]:void 0,R=S!==void 0,M=s(E);if(M!=null&&!h(M))for(x=(w=M.call(E)).next,E=[];!(v=x.call(w)).done;)E.push(v.value);for(R&&2<j&&(S=m(S,arguments[2],2)),a=u(E.length),p=new(g(this))(a),l=0;l<a;l++)p[l]=R?S(E[l],l):E[l];return p}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(t,f,d){var i=0,u=Math.random();f.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++i+u).toString(36)}},{}],144:[function(t,f,d){t=t("../internals/native-symbol"),f.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(t,f,d){t=t("../internals/well-known-symbol"),d.f=t},{"../internals/well-known-symbol":146}],146:[function(g,f,d){var i=g("../internals/global"),u=g("../internals/shared"),s=g("../internals/has"),h=g("../internals/uid"),m=g("../internals/native-symbol"),g=g("../internals/use-symbol-as-uid"),c=u("wks"),l=i.Symbol,a=g?l:l&&l.withoutSetter||h;f.exports=function(p){return s(c,p)||(m&&s(l,p)?c[p]=l[p]:c[p]=a("Symbol."+p)),c[p]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(t,f,d){f.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],148:[function(s,f,d){var i=s("../internals/export"),u=s("../internals/global"),m=s("../internals/array-buffer"),s=s("../internals/set-species"),h="ArrayBuffer",m=m[h];i({global:!0,forced:u[h]!==m},{ArrayBuffer:m}),s(h)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],149:[function(E,f,d){var i=E("../internals/export"),u=E("../internals/fails"),s=E("../internals/is-array"),h=E("../internals/is-object"),m=E("../internals/to-object"),g=E("../internals/to-length"),c=E("../internals/create-property"),l=E("../internals/array-species-create"),a=E("../internals/array-method-has-species-support"),x=E("../internals/well-known-symbol"),E=E("../internals/engine-v8-version"),p=x("isConcatSpreadable"),v=9007199254740991,w="Maximum allowed index exceeded",x=51<=E||!u(function(){var j=[];return j[p]=!1,j.concat()[0]!==j}),E=a("concat");i({target:"Array",proto:!0,forced:!x||!E},{concat:function(j){for(var S,R,M,P,k,D=m(this),I=l(D,0),N=0,U=-1,G=arguments.length;U<G;U++)if(k=void 0,!h(P=M=U===-1?D:arguments[U])||((k=P[p])!==void 0?!k:!s(P))){if(v<=N)throw TypeError(w);c(I,N++,M)}else{if(R=g(M.length),v<N+R)throw TypeError(w);for(S=0;S<R;S++,N++)S in M&&c(I,N,M[S])}return I.length=N,I}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(s,f,d){var i=s("../internals/export"),u=s("../internals/array-copy-within"),s=s("../internals/add-to-unscopables");i({target:"Array",proto:!0},{copyWithin:u}),s("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],151:[function(h,f,d){var i=h("../internals/export"),u=h("../internals/array-iteration").every,s=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),s=s("every"),h=h("every");i({target:"Array",proto:!0,forced:!s||!h},{every:function(m){return u(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],152:[function(s,f,d){var i=s("../internals/export"),u=s("../internals/array-fill"),s=s("../internals/add-to-unscopables");i({target:"Array",proto:!0},{fill:u}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],153:[function(h,f,d){var i=h("../internals/export"),u=h("../internals/array-iteration").filter,s=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),s=s("filter"),h=h("filter");i({target:"Array",proto:!0,forced:!s||!h},{filter:function(m){return u(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(u,f,d){var i=u("../internals/export"),u=u("../internals/array-for-each");i({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},{"../internals/array-for-each":16,"../internals/export":50}],155:[function(t,f,d){var i=t("../internals/export"),u=t("../internals/array-from");i({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(s){Array.from(s)})},{from:u})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],156:[function(t,f,d){var i=t("../internals/export"),u=t("../internals/array-includes").includes,s=t("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(h){return u(this,h,1<arguments.length?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(g,f,d){var i=g("../internals/export"),u=g("../internals/array-includes").indexOf,m=g("../internals/array-method-is-strict"),g=g("../internals/array-method-uses-to-length"),s=[].indexOf,h=!!s&&1/[1].indexOf(1,-0)<0,m=m("indexOf"),g=g("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:h||!m||!g},{indexOf:function(c){return h?s.apply(this,arguments)||0:u(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(m,f,d){var i=m("../internals/to-indexed-object"),u=m("../internals/add-to-unscopables"),s=m("../internals/iterators"),h=m("../internals/internal-state"),m=m("../internals/define-iterator"),g="Array Iterator",c=h.set,l=h.getterFor(g);f.exports=m(Array,"Array",function(a,p){c(this,{type:g,target:i(a),index:0,kind:p})},function(){var a=l(this),p=a.target,v=a.kind,w=a.index++;return!p||w>=p.length?{value:a.target=void 0,done:!0}:v=="keys"?{value:w,done:!1}:v=="values"?{value:p[w],done:!1}:{value:[w,p[w]],done:!1}},"values"),s.Arguments=s.Array,u("keys"),u("values"),u("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(m,f,d){var i=m("../internals/export"),h=m("../internals/indexed-object"),u=m("../internals/to-indexed-object"),m=m("../internals/array-method-is-strict"),s=[].join,h=h!=Object,m=m("join",",");i({target:"Array",proto:!0,forced:h||!m},{join:function(g){return s.call(u(this),g===void 0?",":g)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(u,f,d){var i=u("../internals/export"),u=u("../internals/array-last-index-of");i({target:"Array",proto:!0,forced:u!==[].lastIndexOf},{lastIndexOf:u})},{"../internals/array-last-index-of":20,"../internals/export":50}],161:[function(h,f,d){var i=h("../internals/export"),u=h("../internals/array-iteration").map,s=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),s=s("map"),h=h("map");i({target:"Array",proto:!0,forced:!s||!h},{map:function(m){return u(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],162:[function(p,f,d){var i=p("../internals/export"),u=p("../internals/is-object"),s=p("../internals/is-array"),h=p("../internals/to-absolute-index"),m=p("../internals/to-length"),g=p("../internals/to-indexed-object"),c=p("../internals/create-property"),l=p("../internals/well-known-symbol"),a=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),a=a("slice"),p=p("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),w=[].slice,x=Math.max;i({target:"Array",proto:!0,forced:!a||!p},{slice:function(E,j){var S,R,M,P=g(this),k=m(P.length),D=h(E,k),I=h(j===void 0?k:j,k);if(s(P)&&((S=typeof(S=P.constructor)=="function"&&(S===Array||s(S.prototype))||u(S)&&(S=S[v])===null?void 0:S)===Array||S===void 0))return w.call(P,D,I);for(R=new(S===void 0?Array:S)(x(I-D,0)),M=0;D<I;D++,M++)D in P&&c(R,M,P[D]);return R.length=M,R}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(h,f,d){var i=h("../internals/export"),u=h("../internals/array-iteration").some,s=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),s=s("some"),h=h("some");i({target:"Array",proto:!0,forced:!s||!h},{some:function(m){return u(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(a,f,d){var i=a("../internals/export"),u=a("../internals/to-absolute-index"),s=a("../internals/to-integer"),h=a("../internals/to-length"),m=a("../internals/to-object"),g=a("../internals/array-species-create"),c=a("../internals/create-property"),l=a("../internals/array-method-has-species-support"),a=a("../internals/array-method-uses-to-length"),l=l("splice"),a=a("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min;i({target:"Array",proto:!0,forced:!l||!a},{splice:function(N,x){var E,j,S,R,M,P,k=m(this),D=h(k.length),I=u(N,D),N=arguments.length;if(N===0?E=j=0:j=N===1?(E=0,D-I):(E=N-2,v(p(s(x),0),D-I)),9007199254740991<D+E-j)throw TypeError("Maximum allowed length exceeded");for(S=g(k,j),R=0;R<j;R++)(M=I+R)in k&&c(S,R,k[M]);if(E<(S.length=j)){for(R=I;R<D-j;R++)P=R+E,(M=R+j)in k?k[P]=k[M]:delete k[P];for(R=D;D-j+E<R;R--)delete k[R-1]}else if(j<E)for(R=D-j;I<R;R--)P=R+E-1,(M=R+j-1)in k?k[P]=k[M]:delete k[P];for(R=0;R<E;R++)k[R+I]=arguments[R+2];return k.length=D-j+E,S}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(u,f,d){var i=u("../internals/descriptors"),u=u("../internals/object-define-property").f,s=Function.prototype,h=s.toString,m=/^\s*function ([^ (]*)/;!i||"name"in s||u(s,"name",{configurable:!0,get:function(){try{return h.call(this).match(m)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],166:[function(u,f,d){var i=u("../internals/collection"),u=u("../internals/collection-strong");f.exports=i("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],167:[function(i,f,d){var i=i("../internals/export"),u=Math.hypot,s=Math.abs,h=Math.sqrt;i({target:"Math",stat:!0,forced:!!u&&u(1/0,NaN)!==1/0},{hypot:function(m,g){for(var c,l,a=0,p=0,v=arguments.length,w=0;p<v;)w<(c=s(arguments[p++]))?(a=a*(l=w/c)*l+1,w=c):a+=0<c?(l=c/w)*l:c;return w===1/0?1/0:w*h(a)}})},{"../internals/export":50}],168:[function(t,f,d){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],169:[function(t,f,d){function i(U){var G,J,K,Z,X,Y,te,se=a(U,!1);if(typeof se=="string"&&2<se.length){if((U=(se=j(se)).charCodeAt(0))===43||U===45){if((G=se.charCodeAt(2))===88||G===120)return NaN}else if(U===48){switch(se.charCodeAt(1)){case 66:case 98:J=2,K=49;break;case 79:case 111:J=8,K=55;break;default:return+se}for(X=(Z=se.slice(2)).length,Y=0;Y<X;Y++)if((te=Z.charCodeAt(Y))<48||K<te)return NaN;return parseInt(Z,J)}}return+se}var u=t("../internals/descriptors"),s=t("../internals/global"),h=t("../internals/is-forced"),m=t("../internals/redefine"),g=t("../internals/has"),c=t("../internals/classof-raw"),l=t("../internals/inherit-if-required"),a=t("../internals/to-primitive"),p=t("../internals/fails"),v=t("../internals/object-create"),w=t("../internals/object-get-own-property-names").f,x=t("../internals/object-get-own-property-descriptor").f,E=t("../internals/object-define-property").f,j=t("../internals/string-trim").trim,S="Number",R=s[S],M=R.prototype,P=c(v(M))==S;if(h(S,!R(" 0o1")||!R("0b1")||R("+0x1"))){for(var k,D=function(G){var G=arguments.length<1?0:G,J=this;return J instanceof D&&(P?p(function(){M.valueOf.call(J)}):c(J)!=S)?l(new R(i(G)),J,D):i(G)},I=u?w(R):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;I.length>N;N++)g(R,k=I[N])&&!g(D,k)&&E(D,k,x(R,k));(D.prototype=M).constructor=D,m(s,S,D)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],170:[function(t,f,d){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],171:[function(g,f,d){function i(a,p,v){return p===0?v:p%2==1?i(a,p-1,v*a):i(a*a,p/2,v)}var u=g("../internals/export"),s=g("../internals/to-integer"),h=g("../internals/this-number-value"),m=g("../internals/string-repeat"),g=g("../internals/fails"),c=1 .toFixed,l=Math.floor;u({target:"Number",proto:!0,forced:c&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!g(function(){c.call({})})},{toFixed:function(S){function p(k,D){for(var I=-1,N=D;++I<6;)N+=k*R[I],R[I]=N%1e7,N=l(N/1e7)}function v(k){for(var D=6,I=0;0<=--D;)I+=R[D],R[D]=l(I/k),I=I%k*1e7}function w(){for(var k,D=6,I="";0<=--D;)I===""&&D!==0&&R[D]===0||(k=String(R[D]),I=I===""?k:I+m.call("0",7-k.length)+k);return I}var x,E,j=h(this),S=s(S),R=[0,0,0,0,0,0],M="",P="0";if(S<0||20<S)throw RangeError("Incorrect fraction digits");if(j!=j)return"NaN";if(j<=-1e21||1e21<=j)return String(j);if(j<0&&(M="-",j=-j),1e-21<j)if(j=(x=function(k){for(var D=0,I=k;4096<=I;)D+=12,I/=4096;for(;2<=I;)D+=1,I/=2;return D}(j*i(2,69,1))-69)<0?j*i(2,-x,1):j/i(2,x,1),j*=4503599627370496,0<(x=52-x)){for(p(0,j),E=S;7<=E;)p(1e7,0),E-=7;for(p(i(10,E,1),0),E=x-1;23<=E;)v(1<<23),E-=23;v(1<<E),p(1,1),v(2),P=w()}else p(0,j),p(1<<-x,0),P=w()+m.call("0",S);return P=0<S?M+((j=P.length)<=S?"0."+m.call("0",S-j)+P:P.slice(0,j-S)+"."+P.slice(j-S)):M+P}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],172:[function(u,f,d){var i=u("../internals/export"),u=u("../internals/object-assign");i({target:"Object",stat:!0,forced:Object.assign!==u},{assign:u})},{"../internals/export":50,"../internals/object-assign":89}],173:[function(h,f,d){var i=h("../internals/export"),m=h("../internals/fails"),u=h("../internals/to-indexed-object"),s=h("../internals/object-get-own-property-descriptor").f,h=h("../internals/descriptors"),m=m(function(){s(1)});i({target:"Object",stat:!0,forced:!h||m,sham:!h},{getOwnPropertyDescriptor:function(g,c){return s(u(g),c)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":132}],174:[function(s,f,d){var i=s("../internals/export"),u=s("../internals/fails"),s=s("../internals/object-get-own-property-names-external").f;i({target:"Object",stat:!0,forced:u(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],175:[function(m,f,d){var i=m("../internals/export"),u=m("../internals/fails"),s=m("../internals/to-object"),h=m("../internals/object-get-prototype-of"),m=m("../internals/correct-prototype-getter");i({target:"Object",stat:!0,forced:u(function(){h(1)}),sham:!m},{getPrototypeOf:function(g){return h(s(g))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(t,f,d){var i=t("../internals/export"),u=t("../internals/to-object"),s=t("../internals/object-keys");i({target:"Object",stat:!0,forced:t("../internals/fails")(function(){s(1)})},{keys:function(h){return s(u(h))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(s,f,d){var i=s("../internals/to-string-tag-support"),u=s("../internals/redefine"),s=s("../internals/object-to-string");i||u(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(Se,f,d){var i,u,s,h,m=Se("../internals/export"),g=Se("../internals/is-pure"),c=Se("../internals/global"),l=Se("../internals/get-built-in"),a=Se("../internals/native-promise-constructor"),p=Se("../internals/redefine"),v=Se("../internals/redefine-all"),w=Se("../internals/set-to-string-tag"),x=Se("../internals/set-species"),E=Se("../internals/is-object"),j=Se("../internals/a-function"),S=Se("../internals/an-instance"),R=Se("../internals/classof-raw"),M=Se("../internals/inspect-source"),P=Se("../internals/iterate"),k=Se("../internals/check-correctness-of-iteration"),D=Se("../internals/species-constructor"),I=Se("../internals/task").set,N=Se("../internals/microtask"),U=Se("../internals/promise-resolve"),G=Se("../internals/host-report-errors"),J=Se("../internals/new-promise-capability"),K=Se("../internals/perform"),Z=Se("../internals/internal-state"),X=Se("../internals/is-forced"),Ce=Se("../internals/well-known-symbol"),Y=Se("../internals/engine-v8-version"),te=Ce("species"),se="Promise",me=Z.get,A=Z.set,L=Z.getterFor(se),H=a,$=c.TypeError,ie=c.document,ye=c.process,ve=l("fetch"),xe=J.f,fe=xe,W=R(ye)=="process",re=!!(ie&&ie.createEvent&&c.dispatchEvent),q="unhandledrejection",le="rejectionhandled",ue=1,ge=2,pe=1,je=2,Se=X(se,function(){var Fe,Pe;return M(H)===String(H)&&(Y===66||!W&&typeof PromiseRejectionEvent!="function")?!0:!(!g||H.prototype.finally)||!(51<=Y&&/native code/.test(H))&&(Pe=function(Q){Q(function(){},function(){})},((Fe=H.resolve(1)).constructor={})[te]=Pe,!(Fe.then(function(){})instanceof Pe))}),Ce=Se||!k(function(Fe){H.all(Fe).catch(function(){})}),Re=function(Fe){var Pe;return!(!E(Fe)||typeof(Pe=Fe.then)!="function")&&Pe},Ne=function(Fe,Pe,Q){var ne;Pe.notified||(Pe.notified=!0,ne=Pe.reactions,N(function(){for(var z,ae,_e=Pe.value,Oe=Pe.state==ue,Ue=0;ne.length>Ue;){var Ye,Qe,et,nt=ne[Ue++],vt=Oe?nt.ok:nt.fail,mt=nt.resolve,ct=nt.reject,gt=nt.domain;try{vt?(Oe||(Pe.rejection===je&&function(pt,Wt){I.call(c,function(){W?ye.emit("rejectionHandled",pt):He(le,pt,Wt.value)})}(Fe,Pe),Pe.rejection=pe),vt===!0?Ye=_e:(gt&&gt.enter(),Ye=vt(_e),gt&&(gt.exit(),et=!0)),Ye===nt.promise?ct($("Promise-chain cycle")):(Qe=Re(Ye))?Qe.call(Ye,mt,ct):mt(Ye)):ct(_e)}catch(pt){gt&&!et&&gt.exit(),ct(pt)}}Pe.reactions=[],Pe.notified=!1,Q&&!Pe.rejection&&(z=Fe,ae=Pe,I.call(c,function(){var pt=ae.value,Wt=Ge(ae);if(Wt&&(Wt=K(function(){W?ye.emit("unhandledRejection",pt,z):He(q,z,pt)}),ae.rejection=W||Ge(ae)?je:pe,Wt.error))throw Wt.value}))}))},He=function(Fe,Pe,Q){var ne;re?((ne=ie.createEvent("Event")).promise=Pe,ne.reason=Q,ne.initEvent(Fe,!1,!0),c.dispatchEvent(ne)):ne={promise:Pe,reason:Q},(Pe=c["on"+Fe])?Pe(ne):Fe===q&&G("Unhandled promise rejection",Q)},Ge=function(Fe){return Fe.rejection!==pe&&!Fe.parent},$e=function(Fe,Pe,Q,ne){return function(z){Fe(Pe,Q,z,ne)}},Ze=function(Fe,Pe,Q,ne){Pe.done||(Pe.done=!0,(Pe=ne||Pe).value=Q,Pe.state=ge,Ne(Fe,Pe,!0))},Ee=function(Fe,Pe,Q,ne){if(!Pe.done){Pe.done=!0,ne&&(Pe=ne);try{if(Fe===Q)throw $("Promise can't be resolved itself");var z=Re(Q);z?N(function(){var ae={done:!1};try{z.call(Q,$e(Ee,Fe,ae,Pe),$e(Ze,Fe,ae,Pe))}catch(_e){Ze(Fe,ae,_e,Pe)}}):(Pe.value=Q,Pe.state=ue,Ne(Fe,Pe,!1))}catch(ae){Ze(Fe,{done:!1},ae,Pe)}}};Se&&(H=function(Fe){S(this,H,se),j(Fe),i.call(this);var Pe=me(this);try{Fe($e(Ee,this,Pe),$e(Ze,this,Pe))}catch(Q){Ze(this,Pe,Q)}},(i=function(Fe){A(this,{type:se,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=v(H.prototype,{then:function(Fe,Pe){var Q=L(this),ne=xe(D(this,H));return ne.ok=typeof Fe!="function"||Fe,ne.fail=typeof Pe=="function"&&Pe,ne.domain=W?ye.domain:void 0,Q.parent=!0,Q.reactions.push(ne),Q.state!=0&&Ne(this,Q,!1),ne.promise},catch:function(Fe){return this.then(void 0,Fe)}}),u=function(){var Fe=new i,Pe=me(Fe);this.promise=Fe,this.resolve=$e(Ee,Fe,Pe),this.reject=$e(Ze,Fe,Pe)},J.f=xe=function(Fe){return Fe===H||Fe===s?new u:fe(Fe)},g||typeof a!="function"||(h=a.prototype.then,p(a.prototype,"then",function(Fe,Pe){var Q=this;return new H(function(ne,z){h.call(Q,ne,z)}).then(Fe,Pe)},{unsafe:!0}),typeof ve=="function"&&m({global:!0,enumerable:!0,forced:!0},{fetch:function(Fe){return U(H,ve.apply(c,arguments))}}))),m({global:!0,wrap:!0,forced:Se},{Promise:H}),w(H,se,!1,!0),x(se),s=l(se),m({target:se,stat:!0,forced:Se},{reject:function(Fe){var Pe=xe(this);return Pe.reject.call(void 0,Fe),Pe.promise}}),m({target:se,stat:!0,forced:g||Se},{resolve:function(Fe){return U(g&&this===s?H:this,Fe)}}),m({target:se,stat:!0,forced:Ce},{all:function(Fe){var Pe=this,Q=xe(Pe),ne=Q.resolve,z=Q.reject,ae=K(function(){var _e=j(Pe.resolve),Oe=[],Ue=0,Ye=1;P(Fe,function(Qe){var et=Ue++,nt=!1;Oe.push(void 0),Ye++,_e.call(Pe,Qe).then(function(vt){nt||(nt=!0,Oe[et]=vt,--Ye||ne(Oe))},z)}),--Ye||ne(Oe)});return ae.error&&z(ae.value),Q.promise},race:function(Fe){var Pe=this,Q=xe(Pe),ne=Q.reject,z=K(function(){var ae=j(Pe.resolve);P(Fe,function(_e){ae.call(Pe,_e).then(Q.resolve,ne)})});return z.error&&ne(z.value),Q.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(c,f,d){var i=c("../internals/export"),v=c("../internals/get-built-in"),u=c("../internals/a-function"),s=c("../internals/an-object"),h=c("../internals/is-object"),m=c("../internals/object-create"),g=c("../internals/function-bind"),c=c("../internals/fails"),l=v("Reflect","construct"),a=c(function(){function w(){}return!(l(function(){},[],w)instanceof w)}),p=!c(function(){l(function(){})}),v=a||p;i({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(w,x){u(w),s(x);var E=arguments.length<3?w:u(arguments[2]);if(p&&!a)return l(w,x,E);if(w==E){switch(x.length){case 0:return new w;case 1:return new w(x[0]);case 2:return new w(x[0],x[1]);case 3:return new w(x[0],x[1],x[2]);case 4:return new w(x[0],x[1],x[2],x[3])}var j=[null];return j.push.apply(j,x),new(g.apply(w,j))}return j=E.prototype,E=m(h(j)?j:Object.prototype),j=Function.apply.call(w,E,x),h(j)?j:E}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(t,f,d){var i=t("../internals/descriptors"),u=t("../internals/global"),s=t("../internals/is-forced"),h=t("../internals/inherit-if-required"),m=t("../internals/object-define-property").f,g=t("../internals/object-get-own-property-names").f,c=t("../internals/is-regexp"),l=t("../internals/regexp-flags"),a=t("../internals/regexp-sticky-helpers"),p=t("../internals/redefine"),v=t("../internals/fails"),w=t("../internals/internal-state").set,x=t("../internals/set-species"),E=t("../internals/well-known-symbol")("match"),j=u.RegExp,S=j.prototype,R=/a/g,M=/a/g,P=new j(R)!==R,k=a.UNSUPPORTED_Y;if(i&&s("RegExp",!P||k||v(function(){return M[E]=!1,j(R)!=R||j(M)==M||j(R,"i")!="/a/i"}))){for(var D=function(U,G){var J,K=this instanceof D,Z=c(U),X=G===void 0;return!K&&Z&&U.constructor===D&&X?U:(P?Z&&!X&&(U=U.source):U instanceof D&&(X&&(G=l.call(U)),U=U.source),k&&(J=!!G&&-1<G.indexOf("y"))&&(G=G.replace(/y/g,"")),Z=h(P?new j(U,G):j(U,G),K?this:S,D),k&&J&&w(Z,{sticky:J}),Z)},I=g(j),N=0;I.length>N;)(function(U){U in D||m(D,U,{configurable:!0,get:function(){return j[U]},set:function(G){j[U]=G}})})(I[N++]);(S.constructor=D).prototype=S,p(u,"RegExp",D)}x("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(u,f,d){var i=u("../internals/export"),u=u("../internals/regexp-exec");i({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},{"../internals/export":50,"../internals/regexp-exec":110}],182:[function(h,f,d){var i=h("../internals/redefine"),u=h("../internals/an-object"),c=h("../internals/fails"),s=h("../internals/regexp-flags"),h="toString",m=RegExp.prototype,g=m[h],c=c(function(){return g.call({source:"a",flags:"b"})!="/a/b"}),l=g.name!=h;(c||l)&&i(RegExp.prototype,h,function(){var a=u(this),p=String(a.source),v=a.flags;return"/"+p+"/"+String(v===void 0&&a instanceof RegExp&&!("flags"in m)?s.call(a):v)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(u,f,d){var i=u("../internals/collection"),u=u("../internals/collection-strong");f.exports=i("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],184:[function(g,f,d){var i=g("../internals/export"),u=g("../internals/object-get-own-property-descriptor").f,s=g("../internals/to-length"),h=g("../internals/not-a-regexp"),m=g("../internals/require-object-coercible"),a=g("../internals/correct-is-regexp-logic"),g=g("../internals/is-pure"),c="".endsWith,l=Math.min,a=a("endsWith");i({target:"String",proto:!0,forced:!!(g||a||!(i=u(String.prototype,"endsWith"))||i.writable)&&!a},{endsWith:function(p){var v=String(m(this)),w=(h(p),1<arguments.length?arguments[1]:void 0),x=s(v.length),w=w===void 0?x:l(s(w),x),x=String(p);return c?c.call(v,x,w):v.slice(w-x.length,w)===x}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(t,f,d){var i=t("../internals/export"),u=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible");i({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(h){return!!~String(s(this)).indexOf(u(h),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(s,f,d){var i=s("../internals/string-multibyte").charAt,u=s("../internals/internal-state"),s=s("../internals/define-iterator"),h="String Iterator",m=u.set,g=u.getterFor(h);s(String,"String",function(c){m(this,{type:h,string:String(c),index:0})},function(){var c=g(this),l=c.string,a=c.index;return a>=l.length?{value:void 0,done:!0}:(l=i(l,a),c.index+=l.length,{value:l,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(t,f,d){var i=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),s=t("../internals/to-length"),h=t("../internals/require-object-coercible"),m=t("../internals/advance-string-index"),g=t("../internals/regexp-exec-abstract");i("match",1,function(c,l,a){return[function(p){var v=h(this),w=p==null?void 0:p[c];return w!==void 0?w.call(p,v):new RegExp(p)[c](String(v))},function(p){var v=a(l,p,this);if(v.done)return v.value;var w=u(p),x=String(this);if(!w.global)return g(w,x);for(var E=w.unicode,j=[],S=w.lastIndex=0;(R=g(w,x))!==null;){var R=String(R[0]);(j[S]=R)===""&&(w.lastIndex=m(x,s(w.lastIndex),E)),S++}return S===0?null:j}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(t,f,d){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":125}],189:[function(t,f,d){var i=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),s=t("../internals/to-object"),h=t("../internals/to-length"),m=t("../internals/to-integer"),g=t("../internals/require-object-coercible"),c=t("../internals/advance-string-index"),l=t("../internals/regexp-exec-abstract"),a=Math.max,p=Math.min,v=Math.floor,w=/\$([$&'`]|\d\d?|<[^>]*>)/g,x=/\$([$&'`]|\d\d?)/g;i("replace",2,function(E,j,S,R){var M=R.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,P=R.REPLACE_KEEPS_$0,k=M?"$":"$0";return[function(D,I){var N=g(this),U=D==null?void 0:D[E];return U!==void 0?U.call(D,N,I):j.call(String(N),D,I)},function(D,I){if(!M&&P||typeof I=="string"&&I.indexOf(k)===-1){var N=S(j,D,this,I);if(N.done)return N.value}for(var U,G=u(D),J=String(this),K=typeof I=="function",Z=(K||(I=String(I)),G.global),X=(Z&&(U=G.unicode,G.lastIndex=0),[]);(A=l(G,J))!==null&&(X.push(A),Z);)String(A[0])===""&&(G.lastIndex=c(J,h(G.lastIndex),U));for(var Y,te="",se=0,me=0;me<X.length;me++){for(var A=X[me],L=String(A[0]),H=a(p(m(A.index),J.length),0),$=[],ie=1;ie<A.length;ie++)$.push((Y=A[ie])===void 0?Y:String(Y));var ye=A.groups,ve=K?(ve=[L].concat($,H,J),ye!==void 0&&ve.push(ye),String(I.apply(void 0,ve))):function(xe,fe,W,re,q,le){var ue=W+xe.length,ge=re.length,pe=x;return q!==void 0&&(q=s(q),pe=w),j.call(le,pe,function(je,Se){var Ce;switch(Se.charAt(0)){case"$":return"$";case"&":return xe;case"`":return fe.slice(0,W);case"'":return fe.slice(ue);case"<":Ce=q[Se.slice(1,-1)];break;default:var Re,Ne=+Se;if(Ne==0)return je;if(ge<Ne)return(Re=v(Ne/10))!==0&&Re<=ge?re[Re-1]===void 0?Se.charAt(1):re[Re-1]+Se.charAt(1):je;Ce=re[Ne-1]}return Ce===void 0?"":Ce})}(L,J,H,$,ye,I);se<=H&&(te+=J.slice(se,H)+ve,se=H+L.length)}return te+J.slice(se)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(t,f,d){var i=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),s=t("../internals/require-object-coercible"),h=t("../internals/same-value"),m=t("../internals/regexp-exec-abstract");i("search",1,function(g,c,l){return[function(a){var p=s(this),v=a==null?void 0:a[g];return v!==void 0?v.call(a,p):new RegExp(a)[g](String(p))},function(a){var p,v=l(c,a,this);return v.done?v.value:(v=u(a),a=String(this),p=v.lastIndex,h(p,0)||(v.lastIndex=0),a=m(v,a),h(v.lastIndex,p)||(v.lastIndex=p),a===null?-1:a.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(p,f,d){var i=p("../internals/fix-regexp-well-known-symbol-logic"),u=p("../internals/is-regexp"),s=p("../internals/an-object"),h=p("../internals/require-object-coercible"),m=p("../internals/species-constructor"),g=p("../internals/advance-string-index"),c=p("../internals/to-length"),l=p("../internals/regexp-exec-abstract"),a=p("../internals/regexp-exec"),p=p("../internals/fails"),v=[].push,w=Math.min,x=4294967295,E=!p(function(){return!RegExp(x,"y")});i("split",2,function(j,S,R){var M="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(P,k){var D=String(h(this)),I=k===void 0?x:k>>>0;if(I==0)return[];if(P===void 0)return[D];if(!u(P))return S.call(D,P,I);for(var N,U,G,J=[],k=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(P.sticky?"y":""),K=0,Z=new RegExp(P.source,k+"g");(N=a.call(Z,D))&&!(K<(U=Z.lastIndex)&&(J.push(D.slice(K,N.index)),1<N.length&&N.index<D.length&&v.apply(J,N.slice(1)),G=N[0].length,K=U,J.length>=I));)Z.lastIndex===N.index&&Z.lastIndex++;return K===D.length?!G&&Z.test("")||J.push(""):J.push(D.slice(K)),J.length>I?J.slice(0,I):J}:"0".split(void 0,0).length?function(P,k){return P===void 0&&k===0?[]:S.call(this,P,k)}:S;return[function(P,k){var D=h(this),I=P==null?void 0:P[j];return I!==void 0?I.call(P,D,k):M.call(String(D),P,k)},function(N,k){var D=R(M,N,this,k,M!==S);if(D.done)return D.value;var D=s(N),I=String(this),N=m(D,RegExp),U=D.unicode,G=(D.ignoreCase?"i":"")+(D.multiline?"m":"")+(D.unicode?"u":"")+(E?"y":"g"),J=new N(E?D:"^(?:"+D.source+")",G),K=k===void 0?x:k>>>0;if(K==0)return[];if(I.length===0)return l(J,I)===null?[I]:[];for(var Z=0,X=0,Y=[];X<I.length;){J.lastIndex=E?X:0;var te,se=l(J,E?I:I.slice(X));if(se===null||(te=w(c(J.lastIndex+(E?0:X)),I.length))===Z)X=g(I,X,U);else{if(Y.push(I.slice(Z,X)),Y.length===K)return Y;for(var me=1;me<=se.length-1;me++)if(Y.push(se[me]),Y.length===K)return Y;X=Z=te}}return Y.push(I.slice(Z)),Y}]},!E)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(t,f,d){var i=t("../internals/export"),u=t("../internals/create-html");i({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return u(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],193:[function(t,f,d){var i=t("../internals/export"),u=t("../internals/string-trim").trim;i({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return u(this)}})},{"../internals/export":50,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(w,f,d){var i,u,s,h,m,g=w("../internals/export"),c=w("../internals/descriptors"),l=w("../internals/global"),a=w("../internals/has"),p=w("../internals/is-object"),v=w("../internals/object-define-property").f,w=w("../internals/copy-constructor-properties"),x=l.Symbol;!c||typeof x!="function"||"description"in x.prototype&&x().description===void 0||(i={},w(u=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),j=this instanceof u?new x(E):E===void 0?x():x(E);return E===""&&(i[j]=!0),j},x),(l=u.prototype=x.prototype).constructor=u,s=l.toString,h=String(x("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/,v(l,"description",{configurable:!0,get:function(){var E=p(this)?this.valueOf():this,j=s.call(E);return a(i,E)?"":(E=h?j.slice(7,-1):j.replace(m,"$1"))===""?void 0:E}}),g({global:!0,forced:!0},{Symbol:u}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(t,f,d){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],196:[function(fe,f,d){function i(z,ae){var _e=Ce[z]=D(le[xe]);return W(_e,{type:ve,tag:z,description:ae}),a||(_e.description=ae),_e}function u(z,Oe){S(z);var _e=M(Oe),Oe=I(_e).concat(ne(_e));return ie(Oe,function(Ue){a&&!Q.call(_e,Ue)||Pe(z,Ue,_e[Ue])}),z}function s(Oe,Ue){var _e,Oe=M(Oe),Ue=P(Ue,!0);if(Oe!==q||!x(Ce,Ue)||x(Re,Ue))return!(_e=ge(Oe,Ue))||!x(Ce,Ue)||x(Oe,ye)&&Oe[ye][Ue]||(_e.enumerable=!0),_e}function h(ae){var ae=je(M(ae)),_e=[];return ie(ae,function(Oe){x(Ce,Oe)||x(se,Oe)||_e.push(Oe)}),_e}var m=fe("../internals/export"),g=fe("../internals/global"),c=fe("../internals/get-built-in"),l=fe("../internals/is-pure"),a=fe("../internals/descriptors"),p=fe("../internals/native-symbol"),v=fe("../internals/use-symbol-as-uid"),w=fe("../internals/fails"),x=fe("../internals/has"),E=fe("../internals/is-array"),j=fe("../internals/is-object"),S=fe("../internals/an-object"),R=fe("../internals/to-object"),M=fe("../internals/to-indexed-object"),P=fe("../internals/to-primitive"),k=fe("../internals/create-property-descriptor"),D=fe("../internals/object-create"),I=fe("../internals/object-keys"),N=fe("../internals/object-get-own-property-names"),U=fe("../internals/object-get-own-property-names-external"),G=fe("../internals/object-get-own-property-symbols"),J=fe("../internals/object-get-own-property-descriptor"),K=fe("../internals/object-define-property"),Z=fe("../internals/object-property-is-enumerable"),X=fe("../internals/create-non-enumerable-property"),Y=fe("../internals/redefine"),te=fe("../internals/shared"),Ge=fe("../internals/shared-key"),se=fe("../internals/hidden-keys"),me=fe("../internals/uid"),A=fe("../internals/well-known-symbol"),L=fe("../internals/well-known-symbol-wrapped"),H=fe("../internals/define-well-known-symbol"),$=fe("../internals/set-to-string-tag"),$e=fe("../internals/internal-state"),ie=fe("../internals/array-iteration").forEach,ye=Ge("hidden"),ve="Symbol",xe="prototype",fe=A("toPrimitive"),W=$e.set,re=$e.getterFor(ve),q=Object[xe],le=g.Symbol,ue=c("JSON","stringify"),ge=J.f,pe=K.f,je=U.f,Se=Z.f,Ce=te("symbols"),Re=te("op-symbols"),Ne=te("string-to-symbol-registry"),He=te("symbol-to-string-registry"),Ge=te("wks"),$e=g.QObject,Ze=!$e||!$e[xe]||!$e[xe].findChild,Ee=a&&w(function(){return D(pe({},"a",{get:function(){return pe(this,"a",{value:7}).a}})).a!=7})?function(z,ae,_e){var Oe=ge(q,ae);Oe&&delete q[ae],pe(z,ae,_e),Oe&&z!==q&&pe(q,ae,Oe)}:pe,Fe=v?function(z){return typeof z=="symbol"}:function(z){return Object(z)instanceof le},Pe=function(z,ae,_e){return z===q&&Pe(Re,ae,_e),S(z),ae=P(ae,!0),S(_e),(x(Ce,ae)?(_e.enumerable?(x(z,ye)&&z[ye][ae]&&(z[ye][ae]=!1),_e=D(_e,{enumerable:k(0,!1)})):(x(z,ye)||pe(z,ye,k(1,{})),z[ye][ae]=!0),Ee):pe)(z,ae,_e)},Q=function(ae){var ae=P(ae,!0),_e=Se.call(this,ae);return!(this===q&&x(Ce,ae)&&!x(Re,ae))&&(!(_e||!x(this,ae)||!x(Ce,ae)||x(this,ye)&&this[ye][ae])||_e)},ne=function(_e){var ae=_e===q,_e=je(ae?Re:M(_e)),Oe=[];return ie(_e,function(Ue){!x(Ce,Ue)||ae&&!x(q,Ue)||Oe.push(Ce[Ue])}),Oe};p||(Y((le=function(){if(this instanceof le)throw TypeError("Symbol is not a constructor");var z=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ae=me(z),_e=function(Oe){this===q&&_e.call(Re,Oe),x(this,ye)&&x(this[ye],ae)&&(this[ye][ae]=!1),Ee(this,ae,k(1,Oe))};return a&&Ze&&Ee(q,ae,{configurable:!0,set:_e}),i(ae,z)})[xe],"toString",function(){return re(this).tag}),Y(le,"withoutSetter",function(z){return i(me(z),z)}),Z.f=Q,K.f=Pe,J.f=s,N.f=U.f=h,G.f=ne,L.f=function(z){return i(A(z),z)},a&&(pe(le[xe],"description",{configurable:!0,get:function(){return re(this).description}}),l||Y(q,"propertyIsEnumerable",Q,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:le}),ie(I(Ge),function(z){H(z)}),m({target:ve,stat:!0,forced:!p},{for:function(_e){var ae,_e=String(_e);return x(Ne,_e)?Ne[_e]:(ae=le(_e),Ne[_e]=ae,He[ae]=_e,ae)},keyFor:function(z){if(!Fe(z))throw TypeError(z+" is not a symbol");if(x(He,z))return He[z]},useSetter:function(){Ze=!0},useSimple:function(){Ze=!1}}),m({target:"Object",stat:!0,forced:!p,sham:!a},{create:function(z,ae){return ae===void 0?D(z):u(D(z),ae)},defineProperty:Pe,defineProperties:u,getOwnPropertyDescriptor:s}),m({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:h,getOwnPropertySymbols:ne}),m({target:"Object",stat:!0,forced:w(function(){G.f(1)})},{getOwnPropertySymbols:function(z){return G.f(R(z))}}),ue&&m({target:"JSON",stat:!0,forced:!p||w(function(){var z=le();return ue([z])!="[null]"||ue({a:z})!="{}"||ue(Object(z))!="{}"})},{stringify:function(z,ae,_e){for(var Oe,Ue=[z],Ye=1;Ye<arguments.length;)Ue.push(arguments[Ye++]);if((j(Oe=ae)||z!==void 0)&&!Fe(z))return E(ae)||(ae=function(Qe,et){if(typeof Oe=="function"&&(et=Oe.call(this,Qe,et)),!Fe(et))return et}),Ue[1]=ae,ue.apply(null,Ue)}}),le[xe][fe]||X(le[xe],fe,le[xe].valueOf),$(le,ve),se[ye]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-copy-within"),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",function(h,m){return u.call(s(this),h,m,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").every,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",function(h){return u(s(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-fill"),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("fill",function(h){return u.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").filter,s=t("../internals/species-constructor"),h=i.aTypedArray,m=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("filter",function(g){for(var c=u(h(this),g,1<arguments.length?arguments[1]:void 0),g=s(this,this.constructor),l=0,a=c.length,p=new(m(g))(a);l<a;)p[l]=c[l++];return p})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").findIndex,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",function(h){return u(s(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").find,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",function(h){return u(s(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(t,f,d){t("../internals/typed-array-constructor")("Float32",function(i){return function(u,s,h){return i(this,u,s,h)}})},{"../internals/typed-array-constructor":140}],204:[function(t,f,d){t("../internals/typed-array-constructor")("Float64",function(i){return function(u,s,h){return i(this,u,s,h)}})},{"../internals/typed-array-constructor":140}],205:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").forEach,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",function(h){u(s(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").includes,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",function(h){return u(s(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").indexOf,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",function(h){return u(s(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(t,f,d){t("../internals/typed-array-constructor")("Int16",function(i){return function(u,s,h){return i(this,u,s,h)}})},{"../internals/typed-array-constructor":140}],209:[function(t,f,d){t("../internals/typed-array-constructor")("Int32",function(i){return function(u,s,h){return i(this,u,s,h)}})},{"../internals/typed-array-constructor":140}],210:[function(u,f,d){function i(){return s.call(g(this))}var a=u("../internals/global"),l=u("../internals/array-buffer-view-core"),c=u("../modules/es.array.iterator"),u=u("../internals/well-known-symbol")("iterator"),a=a.Uint8Array,s=c.values,h=c.keys,m=c.entries,g=l.aTypedArray,c=l.exportTypedArrayMethod,l=a&&a.prototype[u],a=!!l&&(l.name=="values"||l.name==null);c("entries",function(){return m.call(g(this))}),c("keys",function(){return h.call(g(this))}),c("values",i,!a),c(u,i,!a)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(u,f,d){var u=u("../internals/array-buffer-view-core"),i=u.aTypedArray,u=u.exportTypedArrayMethod,s=[].join;u("join",function(h){return s.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-last-index-of"),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",function(h){return u.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").map,s=t("../internals/species-constructor"),h=i.aTypedArray,m=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("map",function(g){return u(h(this),g,1<arguments.length?arguments[1]:void 0,function(c,l){return new(m(s(c,c.constructor)))(l)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").right,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",function(h){return u(s(this),h,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").left,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",function(h){return u(s(this),h,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(u,f,d){var u=u("../internals/array-buffer-view-core"),i=u.aTypedArray,u=u.exportTypedArrayMethod,s=Math.floor;u("reverse",function(){for(var h,m=i(this).length,g=s(m/2),c=0;c<g;)h=this[c],this[c++]=this[--m],this[m]=h;return this})},{"../internals/array-buffer-view-core":12}],217:[function(m,f,d){var i=m("../internals/array-buffer-view-core"),u=m("../internals/to-length"),s=m("../internals/to-offset"),h=m("../internals/to-object"),m=m("../internals/fails"),g=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",function(c){g(this);var l=s(1<arguments.length?arguments[1]:void 0,1),a=this.length,p=h(c),v=u(p.length),w=0;if(a<v+l)throw RangeError("Wrong length");for(;w<v;)this[l+w]=p[w++]},m(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(u,f,d){var m=u("../internals/array-buffer-view-core"),i=u("../internals/species-constructor"),u=u("../internals/fails"),s=m.aTypedArray,h=m.aTypedArrayConstructor,m=m.exportTypedArrayMethod,g=[].slice;m("slice",function(c,l){for(var a=g.call(s(this),c,l),c=i(this,this.constructor),p=0,v=a.length,w=new(h(c))(v);p<v;)w[p]=a[p++];return w},u(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],219:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").some,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",function(h){return u(s(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(u,f,d){var u=u("../internals/array-buffer-view-core"),i=u.aTypedArray,u=u.exportTypedArrayMethod,s=[].sort;u("sort",function(h){return s.call(i(this),h)})},{"../internals/array-buffer-view-core":12}],221:[function(t,f,d){var i=t("../internals/array-buffer-view-core"),u=t("../internals/to-length"),s=t("../internals/to-absolute-index"),h=t("../internals/species-constructor"),m=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",function(p,c){var l=m(this),a=l.length,p=s(p,a);return new(h(l,l.constructor))(l.buffer,l.byteOffset+p*l.BYTES_PER_ELEMENT,u((c===void 0?a:s(c,a))-p))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(u,f,d){var m=u("../internals/global"),i=u("../internals/array-buffer-view-core"),u=u("../internals/fails"),s=m.Int8Array,h=i.aTypedArray,m=i.exportTypedArrayMethod,g=[].toLocaleString,c=[].slice,l=!!s&&u(function(){g.call(new s(1))});m("toLocaleString",function(){return g.apply(l?c.call(h(this)):h(this),arguments)},u(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!u(function(){s.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],223:[function(u,f,d){var i=u("../internals/array-buffer-view-core").exportTypedArrayMethod,m=u("../internals/fails"),u=u("../internals/global").Uint8Array,u=u&&u.prototype||{},s=[].toString,h=[].join,m=(m(function(){s.call({})})&&(s=function(){return h.call(this)}),u.toString!=s);i("toString",s,m)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],224:[function(t,f,d){t("../internals/typed-array-constructor")("Uint16",function(i){return function(u,s,h){return i(this,u,s,h)}})},{"../internals/typed-array-constructor":140}],225:[function(t,f,d){t("../internals/typed-array-constructor")("Uint32",function(i){return function(u,s,h){return i(this,u,s,h)}})},{"../internals/typed-array-constructor":140}],226:[function(t,f,d){t("../internals/typed-array-constructor")("Uint8",function(i){return function(u,s,h){return i(this,u,s,h)}})},{"../internals/typed-array-constructor":140}],227:[function(t,f,d){t("../internals/typed-array-constructor")("Uint8",function(i){return function(u,s,h){return i(this,u,s,h)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(x,S,d){function i(R){return function(){return R(this,arguments.length?arguments[0]:void 0)}}var u,s,h,m,g,E=x("../internals/global"),c=x("../internals/redefine-all"),l=x("../internals/internal-metadata"),a=x("../internals/collection"),p=x("../internals/collection-weak"),v=x("../internals/is-object"),w=x("../internals/internal-state").enforce,x=x("../internals/native-weak-map"),E=!E.ActiveXObject&&"ActiveXObject"in E,j=Object.isExtensible,S=S.exports=a("WeakMap",i,p);x&&E&&(u=p.getConstructor(i,"WeakMap",!0),l.REQUIRED=!0,a=S.prototype,s=a.delete,h=a.has,m=a.get,g=a.set,c(a,{delete:function(R){var M;return v(R)&&!j(R)?((M=w(this)).frozen||(M.frozen=new u),s.call(this,R)||M.frozen.delete(R)):s.call(this,R)},has:function(R){var M;return v(R)&&!j(R)?((M=w(this)).frozen||(M.frozen=new u),h.call(this,R)||M.frozen.has(R)):h.call(this,R)},get:function(R){var M;return!v(R)||j(R)||((M=w(this)).frozen||(M.frozen=new u),h.call(this,R))?m.call(this,R):M.frozen.get(R)},set:function(R,M){var P;return!v(R)||j(R)||((P=w(this)).frozen||(P.frozen=new u),h.call(this,R))?g.call(this,R,M):P.frozen.set(R,M),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],229:[function(t,f,d){var i,u=t("../internals/global"),s=t("../internals/dom-iterables"),h=t("../internals/array-for-each"),m=t("../internals/create-non-enumerable-property");for(i in s){var g=u[i],g=g&&g.prototype;if(g&&g.forEach!==h)try{m(g,"forEach",h)}catch{g.forEach=h}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],230:[function(g,f,d){var i,u=g("../internals/global"),s=g("../internals/dom-iterables"),h=g("../modules/es.array.iterator"),m=g("../internals/create-non-enumerable-property"),g=g("../internals/well-known-symbol"),c=g("iterator"),l=g("toStringTag"),a=h.values;for(i in s){var p=u[i],v=p&&p.prototype;if(v){if(v[c]!==a)try{m(v,c,a)}catch{v[c]=a}if(v[l]||m(v,l,i),s[i]){for(var w in h)if(v[w]!==h[w])try{m(v,w,h[w])}catch{v[w]=h[w]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(ye,f,d){ye("../modules/es.array.iterator");function i(ve){try{return decodeURIComponent(ve)}catch{return ve}}function u(ve){return H[ve]}function s(ve){return encodeURIComponent(ve).replace(L,u)}function h(ve){this.entries.length=0,$(this.entries,ve)}function m(ve,xe){if(ve<xe)throw TypeError("Not enough arguments")}function g(){E(this,g,K);var ve,xe,fe,W,re,q,le,ue,ge=0<arguments.length?arguments[0]:void 0,pe=[];if(X(this,{type:K,entries:pe,updateURL:function(){},updateSearchParams:h}),ge!==void 0)if(P(ge))if(typeof(ve=N(ge))=="function")for(fe=(xe=ve.call(ge)).next;!(W=fe.call(xe)).done;){if((q=(re=(W=I(M(W.value))).next).call(W)).done||(le=re.call(W)).done||!re.call(W).done)throw TypeError("Expected sequence with length 2");pe.push({key:q.value+"",value:le.value+""})}else for(ue in ge)j(ge,ue)&&pe.push({key:ue,value:ge[ue]+""});else $(pe,typeof ge=="string"?ge.charAt(0)==="?"?ge.slice(1):ge:ge+"")}var c=ye("../internals/export"),J=ye("../internals/get-built-in"),l=ye("../internals/native-url"),a=ye("../internals/redefine"),p=ye("../internals/redefine-all"),v=ye("../internals/set-to-string-tag"),w=ye("../internals/create-iterator-constructor"),x=ye("../internals/internal-state"),E=ye("../internals/an-instance"),j=ye("../internals/has"),S=ye("../internals/function-bind-context"),R=ye("../internals/classof"),M=ye("../internals/an-object"),P=ye("../internals/is-object"),k=ye("../internals/object-create"),D=ye("../internals/create-property-descriptor"),I=ye("../internals/get-iterator"),N=ye("../internals/get-iterator-method"),ye=ye("../internals/well-known-symbol"),U=J("fetch"),G=J("Headers"),J=ye("iterator"),K="URLSearchParams",Z=K+"Iterator",X=x.set,Y=x.getterFor(K),te=x.getterFor(Z),se=/\+/g,me=Array(4),A=function(ve){var xe,fe=ve.replace(se," "),W=4;try{return decodeURIComponent(fe)}catch{for(;W;)fe=fe.replace((xe=W--,me[xe-1]||(me[xe-1]=RegExp("((?:%[\\da-f]{2}){"+xe+"})","gi"))),i);return fe}},L=/[!'()~]|%20/g,H={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},$=function(ve,xe){if(xe)for(var fe,W=xe.split("&"),re=0;re<W.length;)(fe=W[re++]).length&&(fe=fe.split("="),ve.push({key:A(fe.shift()),value:A(fe.join("="))}))},ie=w(function(ve,xe){X(this,{type:Z,iterator:I(Y(ve).entries),kind:xe})},"Iterator",function(){var xe=te(this),ve=xe.kind,xe=xe.iterator.next(),fe=xe.value;return xe.done||(xe.value=ve==="keys"?fe.key:ve==="values"?fe.value:[fe.key,fe.value]),xe}),ye=g.prototype;p(ye,{append:function(ve,xe){m(arguments.length,2);var fe=Y(this);fe.entries.push({key:ve+"",value:xe+""}),fe.updateURL()},delete:function(ve){m(arguments.length,1);for(var xe=Y(this),fe=xe.entries,W=ve+"",re=0;re<fe.length;)fe[re].key===W?fe.splice(re,1):re++;xe.updateURL()},get:function(ve){m(arguments.length,1);for(var xe=Y(this).entries,fe=ve+"",W=0;W<xe.length;W++)if(xe[W].key===fe)return xe[W].value;return null},getAll:function(ve){m(arguments.length,1);for(var xe=Y(this).entries,fe=ve+"",W=[],re=0;re<xe.length;re++)xe[re].key===fe&&W.push(xe[re].value);return W},has:function(ve){m(arguments.length,1);for(var xe=Y(this).entries,fe=ve+"",W=0;W<xe.length;)if(xe[W++].key===fe)return!0;return!1},set:function(ve,xe){m(arguments.length,1);for(var fe,W=Y(this),re=W.entries,q=!1,le=ve+"",ue=xe+"",ge=0;ge<re.length;ge++)(fe=re[ge]).key===le&&(q?re.splice(ge--,1):(q=!0,fe.value=ue));q||re.push({key:le,value:ue}),W.updateURL()},sort:function(){for(var ve,xe,fe=Y(this),W=fe.entries,re=W.slice(),q=W.length=0;q<re.length;q++){for(ve=re[q],xe=0;xe<q;xe++)if(W[xe].key>ve.key){W.splice(xe,0,ve);break}xe===q&&W.push(ve)}fe.updateURL()},forEach:function(ve){for(var xe,fe=Y(this).entries,W=S(ve,1<arguments.length?arguments[1]:void 0,3),re=0;re<fe.length;)W((xe=fe[re++]).value,xe.key,this)},keys:function(){return new ie(this,"keys")},values:function(){return new ie(this,"values")},entries:function(){return new ie(this,"entries")}},{enumerable:!0}),a(ye,J,ye.entries),a(ye,"toString",function(){for(var ve,xe=Y(this).entries,fe=[],W=0;W<xe.length;)ve=xe[W++],fe.push(s(ve.key)+"="+s(ve.value));return fe.join("&")},{enumerable:!0}),v(g,K),c({global:!0,forced:!l},{URLSearchParams:g}),l||typeof U!="function"||typeof G!="function"||c({global:!0,enumerable:!0,forced:!0},{fetch:function(re){var xe,fe,W,re=[re];return 1<arguments.length&&(P(xe=arguments[1])&&(fe=xe.body,R(fe)===K&&((W=xe.headers?new G(xe.headers):new G).has("content-type")||W.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),xe=k(xe,{body:D(0,String(fe)),headers:D(0,W)}))),re.push(xe)),U.apply(this,re)}}),f.exports={URLSearchParams:g,getState:Y}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],232:[function(I,f,d){I("../modules/es.string.iterator");function i(we){var Ke,it,Xe,Et;if(typeof we=="number"){for(Ke=[],it=0;it<4;it++)Ke.unshift(we%256),we=Z(we/256);return Ke.join(".")}if(typeof we!="object")return we;for(Ke="",Xe=le(we),it=0;it<8;it++)Et&&we[it]===0||(Et=Et&&!1,Xe===it?(Ke+=it?":":"::",Et=!0):(Ke+=we[it].toString(16),it<7&&(Ke+=":")));return"["+Ke+"]"}function u(we){return!we.host||we.cannotBeABaseURL||we.scheme=="file"}function s(we,Ke,it,Xe){var Et,ze,Pt,ot=it||Fe,Tt=0,st="",or=!1,gr=!1,tr=!1;for(it||(we.scheme="",we.username="",we.password="",we.host=null,we.port=null,we.path=[],we.query=null,we.fragment=null,we.cannotBeABaseURL=!1,Ke=Ke.replace(W,"")),Ke=Ke.replace(re,""),Et=R(Ke);Tt<=Et.length;){switch(ze=Et[Tt],ot){case Fe:if(!ze||!A.test(ze)){if(it)return te;ot=Q;continue}st+=ze.toLowerCase(),ot=Pe;break;case Pe:if(ze&&(L.test(ze)||ze=="+"||ze=="-"||ze=="."))st+=ze.toLowerCase();else{if(ze!=":"){if(it)return te;st="",ot=Q,Tt=0;continue}if(it&&(Re(we)!=j(Ce,st)||st=="file"&&(Ne(we)||we.port!==null)||we.scheme=="file"&&!we.host))return;if(we.scheme=st,it)return void(Re(we)&&Ce[we.scheme]==we.port&&(we.port=null));st="",we.scheme=="file"?ot=vt:Re(we)&&Xe&&Xe.scheme==we.scheme?ot=ne:Re(we)?ot=Oe:Et[Tt+1]=="/"?(ot=z,Tt++):(we.cannotBeABaseURL=!0,we.path.push(""),ot=Wt)}break;case Q:if(!Xe||Xe.cannotBeABaseURL&&ze!="#")return te;if(Xe.cannotBeABaseURL&&ze=="#"){we.scheme=Xe.scheme,we.path=Xe.path.slice(),we.query=Xe.query,we.fragment="",we.cannotBeABaseURL=!0,ot=ur;break}ot=Xe.scheme=="file"?vt:ae;continue;case ne:if(ze!="/"||Et[Tt+1]!="/"){ot=ae;continue}ot=Ue,Tt++;break;case z:if(ze=="/"){ot=Ye;break}ot=pt;continue;case ae:if(we.scheme=Xe.scheme,ze==g)we.username=Xe.username,we.password=Xe.password,we.host=Xe.host,we.port=Xe.port,we.path=Xe.path.slice(),we.query=Xe.query;else if(ze=="/"||ze=="\\"&&Re(we))ot=_e;else if(ze=="?")we.username=Xe.username,we.password=Xe.password,we.host=Xe.host,we.port=Xe.port,we.path=Xe.path.slice(),we.query="",ot=Lr;else{if(ze!="#"){we.username=Xe.username,we.password=Xe.password,we.host=Xe.host,we.port=Xe.port,we.path=Xe.path.slice(),we.path.pop(),ot=pt;continue}we.username=Xe.username,we.password=Xe.password,we.host=Xe.host,we.port=Xe.port,we.path=Xe.path.slice(),we.query=Xe.query,we.fragment="",ot=ur}break;case _e:if(!Re(we)||ze!="/"&&ze!="\\"){if(ze!="/"){we.username=Xe.username,we.password=Xe.password,we.host=Xe.host,we.port=Xe.port,ot=pt;continue}ot=Ye}else ot=Ue;break;case Oe:if(ot=Ue,ze!="/"||st.charAt(Tt+1)!="/")continue;Tt++;break;case Ue:if(ze=="/"||ze=="\\")break;ot=Ye;continue;case Ye:if(ze=="@"){or&&(st="%40"+st);for(var or=!0,br=R(st),Io=0;Io<br.length;Io++){var Jr=br[Io];Jr!=":"||tr?(Jr=Se(Jr,je),tr?we.password+=Jr:we.username+=Jr):tr=!0}st=""}else if(ze==g||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&Re(we)){if(or&&st=="")return Y;Tt-=R(st).length+1,st="",ot=Qe}else st+=ze;break;case Qe:case et:if(it&&we.scheme=="file"){ot=ct;continue}if(ze!=":"||gr){if(ze==g||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&Re(we)){if(Re(we)&&st=="")return se;if(it&&st==""&&(Ne(we)||we.port!==null))return;if(Pt=q(we,st))return Pt;if(st="",ot=gt,it)return;continue}ze=="["?gr=!0:ze=="]"&&(gr=!1),st+=ze}else{if(st=="")return se;if(Pt=q(we,st))return Pt;if(st="",ot=nt,it==et)return}break;case nt:if(!H.test(ze)){if(ze==g||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&Re(we)||it){if(st!=""){var Lo=parseInt(st,10);if(65535<Lo)return me;we.port=Re(we)&&Lo===Ce[we.scheme]?null:Lo,st=""}if(it)return;ot=gt;continue}return me}st+=ze;break;case vt:if(we.scheme="file",ze=="/"||ze=="\\")ot=mt;else{if(!Xe||Xe.scheme!="file"){ot=pt;continue}if(ze==g)we.host=Xe.host,we.path=Xe.path.slice(),we.query=Xe.query;else if(ze=="?")we.host=Xe.host,we.path=Xe.path.slice(),we.query="",ot=Lr;else{if(ze!="#"){Ge(Et.slice(Tt).join(""))||(we.host=Xe.host,we.path=Xe.path.slice(),$e(we)),ot=pt;continue}we.host=Xe.host,we.path=Xe.path.slice(),we.query=Xe.query,we.fragment="",ot=ur}}break;case mt:if(ze=="/"||ze=="\\"){ot=ct;break}Xe&&Xe.scheme=="file"&&!Ge(Et.slice(Tt).join(""))&&(He(Xe.path[0],!0)?we.path.push(Xe.path[0]):we.host=Xe.host),ot=pt;continue;case ct:if(ze==g||ze=="/"||ze=="\\"||ze=="?"||ze=="#"){if(!it&&He(st))ot=pt;else{if(st==""){if(we.host="",it)return}else{if(Pt=q(we,st))return Pt;if(we.host=="localhost"&&(we.host=""),it)return;st=""}ot=gt}continue}st+=ze;break;case gt:if(Re(we)){if(ot=pt,ze!="/"&&ze!="\\")continue}else if(it||ze!="?")if(it||ze!="#"){if(ze!=g&&(ot=pt,ze!="/"))continue}else we.fragment="",ot=ur;else we.query="",ot=Lr;break;case pt:if(ze==g||ze=="/"||ze=="\\"&&Re(we)||!it&&(ze=="?"||ze=="#")){if(Ee(st)?($e(we),ze=="/"||ze=="\\"&&Re(we)||we.path.push("")):Ze(st)?ze=="/"||ze=="\\"&&Re(we)||we.path.push(""):(we.scheme=="file"&&!we.path.length&&He(st)&&(we.host&&(we.host=""),st=st.charAt(0)+":"),we.path.push(st)),st="",we.scheme=="file"&&(ze==g||ze=="?"||ze=="#"))for(;1<we.path.length&&we.path[0]==="";)we.path.shift();ze=="?"?(we.query="",ot=Lr):ze=="#"&&(we.fragment="",ot=ur)}else st+=Se(ze,pe);break;case Wt:ze=="?"?(we.query="",ot=Lr):ze=="#"?(we.fragment="",ot=ur):ze!=g&&(we.path[0]+=Se(ze,ue));break;case Lr:it||ze!="#"?ze!=g&&(ze=="'"&&Re(we)?we.query+="%27":we.query+=ze=="#"?"%23":Se(ze,ue)):(we.fragment="",ot=ur);break;case ur:ze!=g&&(we.fragment+=Se(ze,ge))}Tt++}}function h(ze){var Ke,it,Xe=E(this,h,"URL"),Et=1<arguments.length?arguments[1]:void 0,ze=String(ze),Pt=J(Xe,{type:"URL"});if(Et!==void 0){if(Et instanceof h)Ke=K(Et);else if(it=s(Ke={},String(Et)))throw TypeError(it)}if(it=s(Pt,ze,null,Ke))throw TypeError(it);var ot=Pt.searchParams=new U;(Et=G(ot)).updateSearchParams(Pt.query),Et.updateURL=function(){Pt.query=String(ot)||null},p||(Xe.href=Xt.call(Xe),Xe.origin=Mt.call(Xe),Xe.protocol=Er.call(Xe),Xe.username=vr.call(Xe),Xe.password=Nt.call(Xe),Xe.host=jr.call(Xe),Xe.hostname=Rn.call(Xe),Xe.port=Mn.call(Xe),Xe.pathname=Pn.call(Xe),Xe.search=pi.call(Xe),Xe.searchParams=An.call(Xe),Xe.hash=On.call(Xe))}function m(we,Ke){return{get:we,set:Ke,configurable:!0,enumerable:!0}}var g,c,l,a=I("../internals/export"),p=I("../internals/descriptors"),v=I("../internals/native-url"),Lt=I("../internals/global"),w=I("../internals/object-define-properties"),x=I("../internals/redefine"),E=I("../internals/an-instance"),j=I("../internals/has"),S=I("../internals/object-assign"),R=I("../internals/array-from"),M=I("../internals/string-multibyte").codeAt,P=I("../internals/string-punycode-to-ascii"),k=I("../internals/set-to-string-tag"),D=I("../modules/web.url-search-params"),I=I("../internals/internal-state"),N=Lt.URL,U=D.URLSearchParams,G=D.getState,J=I.set,K=I.getterFor("URL"),Z=Math.floor,X=Math.pow,Y="Invalid authority",te="Invalid scheme",se="Invalid host",me="Invalid port",A=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,H=/\d/,$=/^(0x|0X)/,ie=/^[0-7]+$/,ye=/^\d+$/,ve=/^[\dA-Fa-f]+$/,xe=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,fe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,W=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,re=/[\u0009\u000A\u000D]/g,q=function(we,Ke){var it,Xe,Et;if(Ke.charAt(0)=="[")return Ke.charAt(Ke.length-1)=="]"&&(it=function(ze){var Pt=[0,0,0,0,0,0,0,0],ot=0,Tt=null,st=0,or,gr,tr,br,Io,Jr,Lo,wr=function(){return ze.charAt(st)};if(wr()==":"){if(ze.charAt(1)!=":")return;st+=2,ot++,Tt=ot}for(;wr();){if(ot==8)return;if(wr()==":"){if(Tt!==null)return;st++,ot++,Tt=ot;continue}for(or=gr=0;gr<4&&ve.test(wr());)or=or*16+parseInt(wr(),16),st++,gr++;if(wr()=="."){if(gr==0||(st-=gr,ot>6))return;for(tr=0;wr();){if(br=null,tr>0)if(wr()=="."&&tr<4)st++;else return;if(!H.test(wr()))return;for(;H.test(wr());){if(Io=parseInt(wr(),10),br===null)br=Io;else{if(br==0)return;br=br*10+Io}if(br>255)return;st++}Pt[ot]=Pt[ot]*256+br,tr++,(tr==2||tr==4)&&ot++}if(tr!=4)return;break}else if(wr()==":"){if(st++,!wr())return}else if(wr())return;Pt[ot++]=or}if(Tt!==null)for(Jr=ot-Tt,ot=7;ot!=0&&Jr>0;)Lo=Pt[ot],Pt[ot--]=Pt[Tt+Jr-1],Pt[Tt+--Jr]=Lo;else if(ot!=8)return;return Pt}(Ke.slice(1,-1)))?void(we.host=it):se;if(Re(we))return Ke=P(Ke),xe.test(Ke)||(it=function(ze){var Pt=ze.split("."),ot,Tt,st,or,gr,tr,br;if(Pt.length&&Pt[Pt.length-1]==""&&Pt.pop(),(ot=Pt.length)>4)return ze;for(Tt=[],st=0;st<ot;st++){if(or=Pt[st],or=="")return ze;if(gr=10,or.length>1&&or.charAt(0)=="0"&&(gr=$.test(or)?16:8,or=or.slice(gr==8?1:2)),or==="")tr=0;else{if(!(gr==10?ye:gr==8?ie:ve).test(or))return ze;tr=parseInt(or,gr)}Tt.push(tr)}for(st=0;st<ot;st++)if(tr=Tt[st],st==ot-1){if(tr>=X(256,5-ot))return null}else if(tr>255)return null;for(br=Tt.pop(),st=0;st<Tt.length;st++)br+=Tt[st]*X(256,3-st);return br}(Ke))===null?se:void(we.host=it);if(fe.test(Ke))return se;for(it="",Xe=R(Ke),Et=0;Et<Xe.length;Et++)it+=Se(Xe[Et],ue);we.host=it},le=function(we){for(var Ke=null,it=1,Xe=null,Et=0,ze=0;ze<8;ze++)we[ze]!==0?(it<Et&&(Ke=Xe,it=Et),Xe=null,Et=0):(Xe===null&&(Xe=ze),++Et);return it<Et&&(Ke=Xe,it=Et),Ke},ue={},ge=S({},ue,{" ":1,'"':1,"<":1,">":1,"`":1}),pe=S({},ge,{"#":1,"?":1,"{":1,"}":1}),je=S({},pe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Se=function(we,Ke){var it=M(we,0);return 32<it&&it<127&&!j(Ke,we)?we:encodeURIComponent(we)},Ce={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Re=function(we){return j(Ce,we.scheme)},Ne=function(we){return we.username!=""||we.password!=""},He=function(we,Ke){return we.length==2&&A.test(we.charAt(0))&&((we=we.charAt(1))==":"||!Ke&&we=="|")},Ge=function(we){return 1<we.length&&He(we.slice(0,2))&&(we.length==2||(we=we.charAt(2))==="/"||we==="\\"||we==="?"||we==="#")},$e=function(we){var Ke=we.path,it=Ke.length;!it||we.scheme=="file"&&it==1&&He(Ke[0],!0)||Ke.pop()},Ze=function(we){return we==="."||we.toLowerCase()==="%2e"},Ee=function(we){return(we=we.toLowerCase())===".."||we==="%2e."||we===".%2e"||we==="%2e%2e"},Fe={},Pe={},Q={},ne={},z={},ae={},_e={},Oe={},Ue={},Ye={},Qe={},et={},nt={},vt={},mt={},ct={},gt={},pt={},Wt={},Lr={},ur={},Lt=h.prototype,Xt=function(){var we=K(this),Ke=we.scheme,it=we.username,Xe=we.password,Et=we.host,ze=we.port,Pt=we.path,ot=we.query,Tt=we.fragment,st=Ke+":";return Et!==null?(st+="//",Ne(we)&&(st+=it+(Xe?":"+Xe:"")+"@"),st+=i(Et),ze!==null&&(st+=":"+ze)):Ke=="file"&&(st+="//"),st+=we.cannotBeABaseURL?Pt[0]:Pt.length?"/"+Pt.join("/"):"",ot!==null&&(st+="?"+ot),Tt!==null&&(st+="#"+Tt),st},Mt=function(){var we=K(this),Ke=we.scheme,it=we.port;if(Ke=="blob")try{return new URL(Ke.path[0]).origin}catch{return"null"}return Ke!="file"&&Re(we)?Ke+"://"+i(we.host)+(it!==null?":"+it:""):"null"},Er=function(){return K(this).scheme+":"},vr=function(){return K(this).username},Nt=function(){return K(this).password},jr=function(){var Ke=K(this),we=Ke.host,Ke=Ke.port;return we===null?"":Ke===null?i(we):i(we)+":"+Ke},Rn=function(){var we=K(this).host;return we===null?"":i(we)},Mn=function(){var we=K(this).port;return we===null?"":String(we)},Pn=function(){var we=K(this),Ke=we.path;return we.cannotBeABaseURL?Ke[0]:Ke.length?"/"+Ke.join("/"):""},pi=function(){var we=K(this).query;return we?"?"+we:""},An=function(){return K(this).searchParams},On=function(){var we=K(this).fragment;return we?"#"+we:""};p&&w(Lt,{href:m(Xt,function(it){var Ke=K(this),it=String(it),it=s(Ke,it);if(it)throw TypeError(it);G(Ke.searchParams).updateSearchParams(Ke.query)}),origin:m(Mt),protocol:m(Er,function(we){var Ke=K(this);s(Ke,String(we)+":",Fe)}),username:m(vr,function(we){var Ke=K(this),it=R(String(we));if(!u(Ke)){Ke.username="";for(var Xe=0;Xe<it.length;Xe++)Ke.username+=Se(it[Xe],je)}}),password:m(Nt,function(we){var Ke=K(this),it=R(String(we));if(!u(Ke)){Ke.password="";for(var Xe=0;Xe<it.length;Xe++)Ke.password+=Se(it[Xe],je)}}),host:m(jr,function(we){var Ke=K(this);Ke.cannotBeABaseURL||s(Ke,String(we),Qe)}),hostname:m(Rn,function(we){var Ke=K(this);Ke.cannotBeABaseURL||s(Ke,String(we),et)}),port:m(Mn,function(we){var Ke=K(this);u(Ke)||((we=String(we))==""?Ke.port=null:s(Ke,we,nt))}),pathname:m(Pn,function(we){var Ke=K(this);Ke.cannotBeABaseURL||(Ke.path=[],s(Ke,we+"",gt))}),search:m(pi,function(we){var Ke=K(this);(we=String(we))==""?Ke.query=null:(we.charAt(0)=="?"&&(we=we.slice(1)),Ke.query="",s(Ke,we,Lr)),G(Ke.searchParams).updateSearchParams(Ke.query)}),searchParams:m(An),hash:m(On,function(we){var Ke=K(this);(we=String(we))==""?Ke.fragment=null:(we.charAt(0)=="#"&&(we=we.slice(1)),Ke.fragment="",s(Ke,we,ur))})}),x(Lt,"toJSON",function(){return Xt.call(this)},{enumerable:!0}),x(Lt,"toString",function(){return Xt.call(this)},{enumerable:!0}),N&&(c=N.createObjectURL,l=N.revokeObjectURL,c&&x(h,"createObjectURL",function(we){return c.apply(N,arguments)}),l&&x(h,"revokeObjectURL",function(we){return l.apply(N,arguments)})),k(h,"URL"),a({global:!0,forced:!v,sham:!p},{URL:h})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":231}],233:[function(t,f,d){f.exports=t("./").polyfill()},{"./":234}],234:[function(t,f,d){(function(i,u){var s,h;s=this,h=function(){function m(q){return typeof q=="function"}var g=Array.isArray||function(q){return Object.prototype.toString.call(q)==="[object Array]"},c=0,l=void 0,a=void 0,p=function(q,le){S[c]=q,S[c+1]=le,(c+=2)===2&&(a?a(R):U())},v=typeof window<"u"?window:void 0,w=v||{},w=w.MutationObserver||w.WebKitMutationObserver,x=typeof self>"u"&&i!==void 0&&{}.toString.call(i)==="[object process]",E=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function j(){var q=setTimeout;return function(){return q(R,1)}}var S=new Array(1e3);function R(){for(var q=0;q<c;q+=2)(0,S[q])(S[q+1]),S[q]=void 0,S[q+1]=void 0;c=0}function M(){try{var q=Function("return this")().require("vertx");return(l=q.runOnLoop||q.runOnContext)!==void 0?function(){l(R)}:j()}catch{return j()}}var P,k,D,U=void 0;function I(q,le){var ue,ge=this,pe=new this.constructor(J),je=(pe[G]===void 0&&ve(pe),ge._state);return je?(ue=arguments[je-1],p(function(){return ie(je,pe,ue,ge._result)})):H(ge,pe,q,le),pe}function N(q){var le;return q&&typeof q=="object"&&q.constructor===this?q:(se(le=new this(J),q),le)}var U=x?function(){return i.nextTick(R)}:w?(k=0,x=new w(R),D=document.createTextNode(""),x.observe(D,{characterData:!0}),function(){D.data=k=++k%2}):E?((P=new MessageChannel).port1.onmessage=R,function(){return P.port2.postMessage(0)}):(v===void 0&&typeof t=="function"?M:j)(),G=Math.random().toString(36).substring(2);function J(){}var K=void 0,Z=1,X=2;function Y(q,le,ue){p(function(ge){var pe=!1,je=function(Se,Ce,Re,Ne){try{Se.call(Ce,Re,Ne)}catch(He){return He}}(ue,le,function(Se){pe||(pe=!0,(le!==Se?se:A)(ge,Se))},function(Se){pe||(pe=!0,L(ge,Se))},ge._label);!pe&&je&&(pe=!0,L(ge,je))},q)}function te(q,le,ue){var ge,pe;le.constructor===q.constructor&&ue===I&&le.constructor.resolve===N?(ge=q,(pe=le)._state===Z?A(ge,pe._result):pe._state===X?L(ge,pe._result):H(pe,void 0,function(je){return se(ge,je)},function(je){return L(ge,je)})):ue!==void 0&&m(ue)?Y(q,le,ue):A(q,le)}function se(q,le){if(q===le)L(q,new TypeError("You cannot resolve a promise with itself"));else if(ue=typeof le,le===null||ue!="object"&&ue!="function")A(q,le);else{ue=void 0;try{ue=le.then}catch(ge){return void L(q,ge)}te(q,le,ue)}var ue}function me(q){q._onerror&&q._onerror(q._result),$(q)}function A(q,le){q._state===K&&(q._result=le,q._state=Z,q._subscribers.length!==0&&p($,q))}function L(q,le){q._state===K&&(q._state=X,q._result=le,p(me,q))}function H(q,le,ue,ge){var pe=q._subscribers,je=pe.length;q._onerror=null,pe[je]=le,pe[je+Z]=ue,pe[je+X]=ge,je===0&&q._state&&p($,q)}function $(q){var le=q._subscribers,ue=q._state;if(le.length!==0){for(var ge,pe=void 0,je=q._result,Se=0;Se<le.length;Se+=3)ge=le[Se],pe=le[Se+ue],ge?ie(ue,ge,pe,je):pe(je);q._subscribers.length=0}}function ie(q,le,ue,ge){var pe=m(ue),je=void 0,Se=void 0,Ce=!0;if(pe){try{je=ue(ge)}catch(Re){Ce=!1,Se=Re}if(le===je)return void L(le,new TypeError("A promises callback cannot return that same promise."))}else je=ge;le._state===K&&(pe&&Ce?se(le,je):Ce===!1?L(le,Se):q===Z?A(le,je):q===X&&L(le,je))}var ye=0;function ve(q){q[G]=ye++,q._state=void 0,q._result=void 0,q._subscribers=[]}fe.prototype._enumerate=function(q){for(var le=0;this._state===K&&le<q.length;le++)this._eachEntry(q[le],le)},fe.prototype._eachEntry=function(q,le){var ue=this._instanceConstructor,ge=ue.resolve;if(ge===N){var pe,je=void 0,Se=void 0,Ce=!1;try{je=q.then}catch(Re){Ce=!0,Se=Re}je===I&&q._state!==K?this._settledAt(q._state,le,q._result):typeof je!="function"?(this._remaining--,this._result[le]=q):ue===W?(pe=new ue(J),Ce?L(pe,Se):te(pe,q,je),this._willSettleAt(pe,le)):this._willSettleAt(new ue(function(Re){return Re(q)}),le)}else this._willSettleAt(ge(q),le)},fe.prototype._settledAt=function(q,le,ue){var ge=this.promise;ge._state===K&&(this._remaining--,q===X?L(ge,ue):this._result[le]=ue),this._remaining===0&&A(ge,this._result)},fe.prototype._willSettleAt=function(q,le){var ue=this;H(q,void 0,function(ge){return ue._settledAt(Z,le,ge)},function(ge){return ue._settledAt(X,le,ge)})};var xe=fe;function fe(q,le){this._instanceConstructor=q,this.promise=new q(J),this.promise[G]||ve(this.promise),g(le)?(this.length=le.length,this._remaining=le.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(le),this._remaining!==0)||A(this.promise,this._result)):L(this.promise,new Error("Array Methods must be provided an Array"))}re.prototype.catch=function(q){return this.then(null,q)},re.prototype.finally=function(q){var le=this.constructor;return m(q)?this.then(function(ue){return le.resolve(q()).then(function(){return ue})},function(ue){return le.resolve(q()).then(function(){throw ue})}):this.then(q,q)};var W=re;function re(q){if(this[G]=ye++,this._result=this._state=void 0,this._subscribers=[],J!==q){if(typeof q!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof re))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var le=this;try{q(function(ue){se(le,ue)},function(ue){L(le,ue)})}catch(ue){L(le,ue)}}}return W.prototype.then=I,W.all=function(q){return new xe(this,q).promise},W.race=function(q){var le=this;return g(q)?new le(function(ue,ge){for(var pe=q.length,je=0;je<pe;je++)le.resolve(q[je]).then(ue,ge)}):new le(function(ue,ge){return ge(new TypeError("You must pass an array to race."))})},W.resolve=N,W.reject=function(q){var le=new this(J);return L(le,q),le},W._setScheduler=function(q){a=q},W._setAsap=function(q){p=q},W._asap=p,W.polyfill=function(){var q=void 0;if(u!==void 0)q=u;else if(typeof self<"u")q=self;else try{q=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var le=q.Promise;if(le){var ue=null;try{ue=Object.prototype.toString.call(le.resolve())}catch{}if(ue==="[object Promise]"&&!le.cast)return}q.Promise=W},W.Promise=W},typeof d=="object"&&f!==void 0?f.exports=h():s.ES6Promise=h()}).call(this,t("_process"),typeof Ti<"u"?Ti:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:243}],235:[function(t,f,d){var i,u;i=this,u=function(s,h){var m=5e3,g="callback";function c(a){try{delete window[a]}catch{window[a]=void 0}}function l(a){a=document.getElementById(a),a&&document.getElementsByTagName("head")[0].removeChild(a)}h.exports=function(a){var p=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],v=a,w=p.timeout||m,x=p.jsonpCallback||g,E=void 0;return new Promise(function(j,S){var R=p.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),M=x+"_"+R,P=(window[R]=function(k){j({ok:!0,json:function(){return Promise.resolve(k)}}),E&&clearTimeout(E),l(M),c(R)},v+=v.indexOf("?")===-1?"?":"&",document.createElement("script"));P.setAttribute("src",""+v+x+"="+R),p.charset&&P.setAttribute("charset",p.charset),P.id=M,document.getElementsByTagName("head")[0].appendChild(P),E=setTimeout(function(){S(new Error("JSONP request to "+a+" timed out")),c(R),l(M),window[R]=function(){c(R)}},w),P.onerror=function(){S(new Error("JSONP request to "+a+" failed")),c(R),l(M),E&&clearTimeout(E)}})}},d!==void 0&&f!==void 0?u(0,f):(u(u={exports:{}},u),i.fetchJsonp=u.exports)},{}],236:[function(t,f,d){var i=function(u){var s,h,m,g,c,l,a,p,v,w,x;if(!(u===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return x=u.document,s=function(){return u.URL||u.webkitURL||u},h=x.createElementNS("http://www.w3.org/1999/xhtml","a"),m="download"in h,g=/constructor/i.test(u.HTMLElement)||u.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(E){(u.setImmediate||u.setTimeout)(function(){throw E},0)},a=4e4,p=function(E){setTimeout(function(){typeof E=="string"?s().revokeObjectURL(E):E.remove()},a)},v=function(E){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(E.type)?new Blob([String.fromCharCode(65279),E],{type:E.type}):E},x=(w=function(E,j,k){k||(E=v(E));var R,M,P=this,k=E.type==="application/octet-stream",D=function(){for(var I=P,N="writestart progress write writeend".split(" "),U=void 0,G=(N=[].concat(N)).length;G--;){var J=I["on"+N[G]];if(typeof J=="function")try{J.call(I,U||I)}catch(K){l(K)}}};P.readyState=P.INIT,m?(R=s().createObjectURL(E),setTimeout(function(){var I,N;h.href=R,h.download=j,I=h,N=new MouseEvent("click"),I.dispatchEvent(N),D(),p(R),P.readyState=P.DONE})):(c||k&&g)&&u.FileReader?((M=new FileReader).onloadend=function(){var I=c?M.result:M.result.replace(/^data:[^;]*;/,"data:attachment/file;");u.open(I,"_blank")||(u.location.href=I),I=void 0,P.readyState=P.DONE,D()},M.readAsDataURL(E),P.readyState=P.INIT):(R=R||s().createObjectURL(E),!k&&u.open(R,"_blank")||(u.location.href=R),P.readyState=P.DONE,D(),p(R))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(E,j,S){return j=j||E.name||"download",S||(E=v(E)),navigator.msSaveOrOpenBlob(E,j)}:(x.abort=function(){},x.readyState=x.INIT=0,x.WRITING=1,x.DONE=2,x.error=x.onwritestart=x.onprogress=x.onwrite=x.onabort=x.onerror=x.onwriteend=null,function(E,j,S){return new w(E,j||E.name||"download",S)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);f!==void 0&&f.exports?f.exports.saveAs=i:r!=null},{}],237:[function(t,f,d){var i,u=Object.defineProperty,s=(u(d,"__esModule",{value:!0}),d),h={GIFEncoder:()=>D,applyPalette:()=>function(K,Z,X="rgb565"){if(!K||!K.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(K instanceof Uint8Array||K instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<Z.length)throw new Error("applyPalette() only works with 256 colors or less");const Y=new Uint32Array(K.buffer),te=Y.length,se=X==="rgb444"?4096:65536,me=new Uint8Array(te),A=new Array(se);if(X==="rgba4444")for(let re=0;re<te;re++){var ie=Y[re],L=ie>>24&255,H=ie>>16&255,$=ie>>8&255,ie=255&ie,ye=p(ie,$,H,L),ye=ye in A?A[ye]:A[ye]=function(q,le,ue,ge,pe){let je=0,Se=1e100;for(let He=0;He<pe.length;He++){var Ce,Re=pe[He],Ne=M(Re[3]-ge);Ne>Se||(Ce=Re[0],(Ne+=M(Ce-q))>Se||(Ce=Re[1],(Ne+=M(Ce-le))>Se||(Ce=Re[2],(Ne+=M(Ce-ue))>Se||(Se=Ne,je=He))))}return je}(ie,$,H,L,Z);me[re]=ye}else{const re=X==="rgb444"?v:a;for(let q=0;q<te;q++){var fe=Y[q],ve=fe>>16&255,xe=fe>>8&255,fe=255&fe,W=re(fe,xe,ve),W=W in A?A[W]:A[W]=function(le,ue,ge,pe){let je=0,Se=1e100;for(let He=0;He<pe.length;He++){var Ce,Re=pe[He],Ne=M(Re[0]-le);Ne>Se||(Ce=Re[1],(Ne+=M(Ce-ue))>Se||(Ce=Re[2],(Ne+=M(Ce-ge))>Se||(Se=Ne,je=He)))}return je}(fe,xe,ve,Z);me[q]=W}}return me},default:()=>J,nearestColor:()=>function(K,Z,X=S){return K[P(K,Z,X)]},nearestColorIndex:()=>P,nearestColorIndexWithDistance:()=>k,prequantize:()=>function(K,{roundRGB:Z=5,roundAlpha:X=10,oneBitAlpha:Y=null}={}){const te=new Uint32Array(K.buffer);for(let H=0;H<te.length;H++){var L=te[H];let $=L>>24&255;var se,me=L>>16&255,A=L>>8&255,L=255&L;$=R($,X),Y&&(se=typeof Y=="number"?Y:127,$=$<=se?0:255),L=R(L,Z),A=R(A,Z),me=R(me,Z),te[H]=$<<24|me<<16|A<<8|L<<0}},quantize:()=>function(K,Z,X={}){var{format:Y="rgb565",clearAlpha:te=!0,clearAlphaColor:se=0,clearAlphaThreshold:me=0,oneBitAlpha:A=!1}=X;if(!K||!K.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(K instanceof Uint8Array||K instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");K=new Uint32Array(K.buffer);let L=X.useSqrt!==!1;const H=Y==="rgba4444",$=function(Ge,$e){const Ze=$e==="rgb444"?4096:65536,Ee=new Array(Ze),Fe=Ge.length;if($e==="rgba4444")for(let mt=0;mt<Fe;++mt){var z=Ge[mt],Pe=z>>24&255,Q=z>>16&255,ne=z>>8&255,z=255&z,ae=p(z,ne,Q,Pe);let ct=ae in Ee?Ee[ae]:Ee[ae]=j();ct.rc+=z,ct.gc+=ne,ct.bc+=Q,ct.ac+=Pe,ct.cnt++}else if($e==="rgb444")for(let mt=0;mt<Fe;++mt){var Ue=Ge[mt],_e=Ue>>16&255,Oe=Ue>>8&255,Ue=255&Ue,Ye=v(Ue,Oe,_e);let ct=Ye in Ee?Ee[Ye]:Ee[Ye]=j();ct.rc+=Ue,ct.gc+=Oe,ct.bc+=_e,ct.cnt++}else for(let mt=0;mt<Fe;++mt){var nt=Ge[mt],Qe=nt>>16&255,et=nt>>8&255,nt=255&nt,vt=a(nt,et,Qe);let ct=vt in Ee?Ee[vt]:Ee[vt]=j();ct.rc+=nt,ct.gc+=et,ct.bc+=Qe,ct.cnt++}return Ee}(K,Y),ie=$.length,ye=ie-1,ve=new Uint32Array(ie+1);for(var xe=0,fe=0;fe<ie;++fe){const Ge=$[fe];Ge!=null&&(Re=1/Ge.cnt,H&&(Ge.ac*=Re),Ge.rc*=Re,Ge.gc*=Re,Ge.bc*=Re,$[xe++]=Ge)}x(Z)/xe<.022&&(L=!1);for(var W,re,q,fe=0;fe<xe-1;++fe)$[fe].fw=fe+1,$[fe+1].bk=fe,L&&($[fe].cnt=Math.sqrt($[fe].cnt));for(L&&($[fe].cnt=Math.sqrt($[fe].cnt)),fe=0;fe<xe;++fe){E($,fe,!1);var le=$[fe].err;for(re=++ve[0];1<re&&(q=re>>1,!($[W=ve[q]].err<=le));re=q)ve[re]=W;ve[re]=fe}var ue,ge=xe-Z;for(fe=0;fe<ge;){for(;;){var pe=ve[1];if((ue=$[pe]).tm>=ue.mtm&&$[ue.nn].mtm<=ue.tm)break;for(ue.mtm==ye?pe=ve[1]=ve[ve[0]--]:(E($,pe,!1),ue.tm=fe),le=$[pe].err,re=1;(q=re+re)<=ve[0]&&(q<ve[0]&&$[ve[q]].err>$[ve[q+1]].err&&q++,!(le<=$[W=ve[q]].err));re=q)ve[re]=W;ve[re]=pe}var je=$[ue.nn],Se=ue.cnt,Ce=je.cnt,Re=1/(Se+Ce);H&&(ue.ac=Re*(Se*ue.ac+Ce*je.ac)),ue.rc=Re*(Se*ue.rc+Ce*je.rc),ue.gc=Re*(Se*ue.gc+Ce*je.gc),ue.bc=Re*(Se*ue.bc+Ce*je.bc),ue.cnt+=je.cnt,ue.mtm=++fe,$[je.bk].fw=je.fw,$[je.fw].bk=je.bk,je.mtm=ye}let Ne=[];for(fe=0;;0){let Ge=w(Math.round($[fe].rc),0,255),$e=w(Math.round($[fe].gc),0,255),Ze=w(Math.round($[fe].bc),0,255),Ee=255;H&&(Ee=w(Math.round($[fe].ac),0,255),A&&(He=typeof A=="number"?A:127,Ee=Ee<=He?0:255),te&&Ee<=me&&(Ge=$e=Ze=se,Ee=0));var He=H?[Ge,$e,Ze,Ee]:[Ge,$e,Ze];if(function(Fe,Pe){for(let z=0;z<Fe.length;z++){var ne=Fe[z],Q=ne[0]===Pe[0]&&ne[1]===Pe[1]&&ne[2]===Pe[2],ne=!(4<=ne.length&&4<=Pe.length)||ne[3]===Pe[3];if(Q&&ne)return!0}return!1}(Ne,He)||Ne.push(He),(fe=$[fe].fw)==0)break}return Ne},snapColorsToPalette:()=>function(K,Z,X=5){if(K.length&&Z.length){var Y=K.map(L=>L.slice(0,3)),te=X*X,se=K[0].length;for(let L=0;L<Z.length;L++){let H=Z[L];H=H.length<se?[H[0],H[1],H[2],255]:H.length>se?H.slice(0,3):H.slice();var A=k(Y,H.slice(0,3),S),me=A[0],A=A[1];0<A&&A<=te&&(K[me]=H)}}}};for(i in h)u(s,i,{get:h[i],enumerable:!0});var m={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function g(K=256){let Z=0,X=new Uint8Array(K);return{get buffer(){return X.buffer},reset(){Z=0},bytesView(){return X.subarray(0,Z)},bytes(){return X.slice(0,Z)},writeByte(te){Y(Z+1),X[Z]=te,Z++},writeBytes(te,se=0,me=te.length){Y(Z+me);for(let A=0;A<me;A++)X[Z++]=te[A+se]},writeBytesView(te,se=0,me=te.byteLength){Y(Z+me),X.set(te.subarray(se,se+me),Z),Z+=me}};function Y(te){var se=X.length;if(!(te<=se)){te=Math.max(te,se*(se<1048576?2:1.125)>>>0),se!=0&&(te=Math.max(te,256));const me=X;X=new Uint8Array(te),0<Z&&X.set(me.subarray(0,Z),0)}}}var c=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],l=function(K,Z,X,H,te=g(512),se=new Uint8Array(256),me=new Int32Array(5003),A=new Int32Array(5003)){var L=me.length,H=Math.max(2,H);se.fill(0),A.fill(0),me.fill(-1);let $=0,ie=0;var ye=H+1;const ve=ye;let xe=!1,fe=ve,W=(1<<fe)-1;var re=1<<ye-1;const q=1+re;let le=2+re,ue=0,ge=X[0],pe=0;for(let He=L;He<65536;He*=2)++pe;pe=8-pe,te.writeByte(H),Ne(re);var je=X.length;for(let He=1;He<je;He++)e:{var Se=X[He],Ce=(Se<<12)+ge;let Ge=Se<<pe^ge;if(me[Ge]===Ce)ge=A[Ge];else{for(var Re=Ge===0?1:L-Ge;0<=me[Ge];)if((Ge-=Re)<0&&(Ge+=L),me[Ge]===Ce){ge=A[Ge];break e}Ne(ge),ge=Se,le<4096?(A[Ge]=le++,me[Ge]=Ce):(me.fill(-1),le=2+re,xe=!0,Ne(re))}}return Ne(ge),Ne(q),te.writeByte(0),te.bytesView();function Ne(He){for($&=c[ie],0<ie?$|=He<<ie:$=He,ie+=fe;8<=ie;)se[ue++]=255&$,254<=ue&&(te.writeByte(ue),te.writeBytesView(se,0,ue),ue=0),$>>=8,ie-=8;if((le>W||xe)&&(xe?(fe=ve,W=(1<<fe)-1,xe=!1):(++fe,W=fe===12?1<<fe:(1<<fe)-1)),He==q){for(;0<ie;)se[ue++]=255&$,254<=ue&&(te.writeByte(ue),te.writeBytesView(se,0,ue),ue=0),$>>=8,ie-=8;0<ue&&(te.writeByte(ue),te.writeBytesView(se,0,ue),ue=0)}}};function a(K,Z,X){return K<<8&63488|Z<<2&992|X>>3}function p(K,Z,X,Y){return K>>4|240&Z|(240&X)<<4|(240&Y)<<8}function v(K,Z,X){return K>>4<<8|240&Z|X>>4}function w(K,Z,X){return K<Z?Z:X<K?X:K}function x(K){return K*K}function E(K,Z,X){var Y=0,te=1e100;const se=K[Z];for(var me=se.cnt,A=se.ac,L=se.rc,H=se.gc,$=se.bc,ie=se.fw;ie!=0;ie=K[ie].fw){var ye,ve=K[ie],xe=ve.cnt,xe=me*xe/(me+xe);te<=xe||(ye=0,X&&te<=(ye+=xe*x(ve.ac-A))||te<=(ye+=xe*x(ve.rc-L))||te<=(ye+=xe*x(ve.gc-H))||te<=(ye+=xe*x(ve.bc-$))||(te=ye,Y=ie))}se.err=te,se.nn=Y}function j(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function S(K,Z){for(var X=0,Y=0;Y<K.length;Y++){var te=K[Y]-Z[Y];X+=te*te}return X}function R(K,Z){return 1<Z?Math.round(K/Z)*Z:K}function M(K){return K*K}function P(K,Z,X=S){let Y=1/0,te=-1;for(let me=0;me<K.length;me++){var se=X(Z,K[me]);se<Y&&(Y=se,te=me)}return te}function k(K,Z,X=S){let Y=1/0,te=-1;for(let me=0;me<K.length;me++){var se=X(Z,K[me]);se<Y&&(Y=se,te=me)}return[te,Y]}function D(K={}){const{initialCapacity:Z=4096,auto:X=!0}=K,Y=g(Z),te=new Uint8Array(256),se=new Int32Array(5003),me=new Int32Array(5003);let A=!1;return{reset(){Y.reset(),A=!1},finish(){Y.writeByte(m.trailer)},bytes(){return Y.bytes()},bytesView(){return Y.bytesView()},get buffer(){return Y.buffer},get stream(){return Y},writeHeader:L,writeFrame(H,$,ie,ge={}){var{transparent:ve=!1,transparentIndex:xe=0,delay:Re=0,palette:fe=null,repeat:je=0,colorDepth:W=8,dispose:re=-1}=ge;let q=!1;if(X?A||(q=!0,L(),A=!0):q=!!ge.first,$=Math.max(0,Math.floor($)),ie=Math.max(0,Math.floor(ie)),q){if(!fe)throw new Error("First frame must include a { palette } option");var[ge,Se,ue,Ce,pe=8]=[Y,$,ie,fe,W];Ce=G(Ce.length)-1,pe=128|pe-1<<4|Ce,N(ge,Se),N(ge,ue),ge.writeBytes([pe,0,0]),I(Y,fe),0<=je&&(Ce=Y,Se=je,Ce.writeByte(33),Ce.writeByte(255),Ce.writeByte(11),U(Ce,"NETSCAPE2.0"),Ce.writeByte(3),Ce.writeByte(1),N(Ce,Se),Ce.writeByte(0))}var le,ue=Math.round(Re/10),ge=Y,pe=re,je=ue,Se=ve,Ce=xe,Re=(ge.writeByte(33),ge.writeByte(249),ge.writeByte(4),Ce<0&&(Ce=0,Se=!1),Se=Se?(le=1,2):le=0,0<=pe&&(Se=7&pe),Se<<=2,ge.writeByte(0|Se|le),N(ge,je),ge.writeByte(Ce||0),ge.writeByte(0),!!fe&&!q);re=Y,ve=$,xe=ie,le=Re?fe:null,re.writeByte(44),N(re,0),N(re,0),N(re,ve),N(re,xe),le?(ve=G(le.length)-1,re.writeByte(128|ve)):re.writeByte(0),Re&&I(Y,fe),[je,ge,xe,ve,re=8,Re,fe,H]=[Y,H,$,ie,W,te,se,me],l(xe,ve,ge,re,je,Re,fe,H)}};function L(){U(Y,"GIF89a")}}function I(K,Z){var X=1<<G(Z.length);for(let Y=0;Y<X;Y++){let te=[0,0,0];Y<Z.length&&(te=Z[Y]),K.writeByte(te[0]),K.writeByte(te[1]),K.writeByte(te[2])}}function N(K,Z){K.writeByte(255&Z),K.writeByte(Z>>8&255)}function U(K,Z){for(var X=0;X<Z.length;X++)K.writeByte(Z.charCodeAt(X))}function G(K){return Math.max(Math.ceil(Math.log2(K)),1)}var J=D},{}],238:[function(t,f,d){d.read=function(i,u,s,h,E){var g,c,l=8*E-h-1,a=(1<<l)-1,p=a>>1,v=-7,w=s?E-1:0,x=s?-1:1,E=i[u+w];for(w+=x,g=E&(1<<-v)-1,E>>=-v,v+=l;0<v;g=256*g+i[u+w],w+=x,v-=8);for(c=g&(1<<-v)-1,g>>=-v,v+=h;0<v;c=256*c+i[u+w],w+=x,v-=8);if(g===0)g=1-p;else{if(g===a)return c?NaN:1/0*(E?-1:1);c+=Math.pow(2,h),g-=p}return(E?-1:1)*c*Math.pow(2,g-h)},d.write=function(i,u,s,h,m,j){var c,l,a=8*j-m-1,p=(1<<a)-1,v=p>>1,w=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=h?0:j-1,E=h?1:-1,j=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(l=isNaN(u)?1:0,c=p):(c=Math.floor(Math.log(u)/Math.LN2),u*(h=Math.pow(2,-c))<1&&(c--,h*=2),2<=(u+=1<=c+v?w/h:w*Math.pow(2,1-v))*h&&(c++,h/=2),p<=c+v?(l=0,c=p):1<=c+v?(l=(u*h-1)*Math.pow(2,m),c+=v):(l=u*Math.pow(2,v-1)*Math.pow(2,m),c=0));8<=m;i[s+x]=255&l,x+=E,l/=256,m-=8);for(c=c<<m|l,a+=m;0<a;i[s+x]=255&c,x+=E,c/=256,a-=8);i[s+x-E]|=128*j}},{}],239:[function(t,f,d){var i;function u(Q,ne){return Q.b===ne.b&&Q.a===ne.a}function s(Q,ne){return Q.b<ne.b||Q.b===ne.b&&Q.a<=ne.a}function h(Q,ne,z){var ae=ne.b-Q.b,_e=z.b-ne.b;return 0<ae+_e?ae<_e?ne.a-Q.a+ae/(ae+_e)*(Q.a-z.a):ne.a-z.a+_e/(ae+_e)*(z.a-Q.a):0}function m(Q,ne,z){var ae=ne.b-Q.b,_e=z.b-ne.b;return 0<ae+_e?(ne.a-z.a)*ae+(ne.a-Q.a)*_e:0}function g(Q,ne){return Q.a<ne.a||Q.a===ne.a&&Q.b<=ne.b}function c(Q,ne,z){var ae=ne.a-Q.a,_e=z.a-ne.a;return 0<ae+_e?ae<_e?ne.b-Q.b+ae/(ae+_e)*(Q.b-z.b):ne.b-z.b+_e/(ae+_e)*(z.b-Q.b):0}function l(Q,ne,z){var ae=ne.a-Q.a,_e=z.a-ne.a;return 0<ae+_e?(ne.b-z.b)*ae+(ne.b-Q.b)*_e:0}function a(Q,ne,z,ae){return(Q=Q<0?0:Q)<=(z=z<0?0:z)?z===0?(ne+ae)/2:ne+Q/(Q+z)*(ae-ne):ae+z/(Q+z)*(ne-ae)}function p(Q){var ne=j(Q.b);return R(ne,Q.c),R(ne.b,Q.c),M(ne,Q.a),ne}function v(Q,ne){var z=!1,ae=!1;Q!==ne&&(ne.a!==Q.a&&(ae=!0,k(ne.a,Q.a)),ne.d!==Q.d&&(z=!0,D(ne.d,Q.d)),S(ne,Q),ae||(R(ne,Q.a),Q.a.c=Q),z||(M(ne,Q.d),Q.d.a=Q))}function w(Q){var ne=Q.b,z=!1;Q.d!==Q.b.d&&(z=!0,D(Q.d,Q.b.d)),Q.c===Q?k(Q.a,null):(Q.b.d.a=Q.b.e,Q.a.c=Q.c,S(Q,Q.b.e),z||M(Q,Q.d)),ne.c===ne?(k(ne.a,null),D(ne.d,null)):(Q.d.a=ne.b.e,ne.a.c=ne.c,S(ne,ne.b.e)),P(Q)}function x(Q){var ne=j(Q),z=ne.b;return S(ne,Q.e),ne.a=Q.b.a,R(z,ne.a),ne.d=z.d=Q.d,ne=ne.b,S(Q.b,Q.b.b.e),S(Q.b,ne),Q.b.a=ne.a,ne.b.a.c=ne.b,ne.b.d=Q.b.d,ne.f=Q.f,ne.b.f=Q.b.f,ne}function E(Q,ne){var z=!1,ae=j(Q),_e=ae.b;return ne.d!==Q.d&&(z=!0,D(ne.d,Q.d)),S(ae,Q.e),S(_e,ne),ae.a=Q.b.a,_e.a=ne.a,ae.d=_e.d=Q.d,Q.d.a=_e,z||M(ae,Q.d),ae}function j(Q){var ne=new ue,z=new ue,ae=Q.b.h;return(((z.h=ae).b.h=ne).h=Q).b.h=z,ne.b=z,((ne.c=ne).e=z).b=ne,(z.c=z).e=ne}function S(Q,ne){var z=Q.c,ae=ne.c;z.b.e=ne,(ae.b.e=Q).c=ae,ne.c=z}function R(Q,ne){var z=ne.f,ae=new pe(ne,z);for(z.e=ae,z=(ne.f=ae).c=Q;z.a=ae,(z=z.c)!==Q;);}function M(Q,ne){var z=ne.d,ae=new le(ne,z);for(z.b=ae,(ne.d=ae).a=Q,ae.c=ne.c,z=Q;z.d=ae,(z=z.e)!==Q;);}function P(Q){var ne=Q.h;Q=Q.b.h,(ne.b.h=Q).b.h=ne}function k(Q,ne){for(var z=Q.c,ae=z;ae.a=ne,(ae=ae.c)!==z;);z=Q.f,((ae=Q.e).f=z).e=ae}function D(Q,ne){for(var z=Q.a,ae=z;ae.d=ne,(ae=ae.e)!==z;);z=Q.d,((ae=Q.b).d=z).b=ae}function I(Q){var ne=0;return Math.abs(Q[1])>Math.abs(Q[0])&&(ne=1),ne=Math.abs(Q[2])>Math.abs(Q[ne])?2:ne}function N(Q,ne){Q.f+=ne.f,Q.b.f+=ne.b.f}function U(Q,ne,z){return Q=Q.a,ne=ne.a,z=z.a,ne.b.a===Q?z.b.a===Q?s(ne.a,z.a)?m(z.b.a,ne.a,z.a)<=0:0<=m(ne.b.a,z.a,ne.a):m(z.b.a,Q,z.a)<=0:z.b.a===Q?0<=m(ne.b.a,Q,ne.a):(ne=h(ne.b.a,Q,ne.a),(Q=h(z.b.a,Q,z.a))<=ne)}function G(Q){Q.a.i=null;var ne=Q.e;ne.a.c=ne.c,ne.c.a=ne.a,Q.e=null}function J(Q,ne){w(Q.a),Q.c=!1,(Q.a=ne).i=Q}function K(Q){for(var ne=Q.a.a;(Q=Pe(Q)).a.a===ne;);return Q.c&&(J(Q,ne=E(Fe(Q).a.b,Q.a.e)),Q=Pe(Q)),Q}function Z(Q,ne,z){var ae=new Ee;return ae.a=z,ae.e=xe(Q.f,ne.e,ae),z.i=ae}function X(Q,ne){switch(Q.s){case 100130:return(1&ne)!=0;case 100131:return ne!==0;case 100132:return 0<ne;case 100133:return ne<0;case 100134:return 2<=ne||ne<=-2}return!1}function Y(Q){var ne=Q.a,z=ne.d;z.c=Q.d,z.a=ne,G(Q)}function te(Q,ne,z){for(ne=(Q=ne).a;Q!==z;){Q.c=!1;var ae=Fe(Q),_e=ae.a;if(_e.a!==ne.a){if(!ae.c){Y(Q);break}J(ae,_e=E(ne.c.b,_e.b))}ne.c!==_e&&(v(_e.b.e,_e),v(ne,_e)),Y(Q),ne=ae.a,Q=ae}return ne}function se(Q,ne,z,ae,_e,Oe){for(var Ue=!0;Z(Q,ne,z.b),(z=z.c)!==ae;);for(_e===null&&(_e=Fe(ne).a.b.c);(z=(ae=Fe(ne)).a.b).a===_e.a;)z.c!==_e&&(v(z.b.e,z),v(_e.b.e,z)),ae.f=ne.f-z.f,ae.d=X(Q,ae.f),ne.b=!0,!Ue&&H(Q,ne)&&(N(z,_e),G(ne),w(_e)),Ue=!1,ne=ae,_e=z;ne.b=!0,Oe&&ie(Q,ne)}function me(Q,ne,z,ae,_e){var Oe=[ne.g[0],ne.g[1],ne.g[2]];ne.d=null,ne.d=Q.o&&Q.o(Oe,z,ae,Q.c)||null,ne.d===null&&(_e?Q.n||(q(Q,100156),Q.n=!0):ne.d=z[0])}function A(Q,ne,z){var ae=[null,null,null,null];ae[0]=ne.a.d,ae[1]=z.a.d,me(Q,ne.a,ae,[.5,.5,0,0],!1),v(ne,z)}function L(Q,ne,z,ae,_e){var Oe=Math.abs(ne.b-Q.b)+Math.abs(ne.a-Q.a),Ue=Math.abs(z.b-Q.b)+Math.abs(z.a-Q.a),Ye=_e+1;ae[_e]=.5*Ue/(Oe+Ue),ae[Ye]=.5*Oe/(Oe+Ue),Q.g[0]+=ae[_e]*ne.g[0]+ae[Ye]*z.g[0],Q.g[1]+=ae[_e]*ne.g[1]+ae[Ye]*z.g[1],Q.g[2]+=ae[_e]*ne.g[2]+ae[Ye]*z.g[2]}function H(Q,ne){var z=Fe(ne),ae=ne.a,_e=z.a;if(s(ae.a,_e.a)){if(0<m(_e.b.a,ae.a,_e.a))return;if(u(ae.a,_e.a)){if(ae.a!==_e.a){var z=Q.e,Oe=ae.a.h;if(0<=Oe){var Ue=(z=z.b).d,Ye=z.e,Qe=z.c,et=Qe[Oe];Ue[et]=Ue[z.a],(Qe[Ue[et]]=et)<=--z.a&&(et<=1||s(Ye[Ue[et>>1]],Ye[Ue[et]])?$e:Ze)(z,et),Ye[Oe]=null,Qe[Oe]=z.b,z.b=Oe}else for(z.c[-(Oe+1)]=null;0<z.a&&z.c[z.d[z.a-1]]===null;)--z.a;A(Q,_e.b.e,ae)}}else x(_e.b),v(ae,_e.b.e),ne.b=z.b=!0}else{if(m(ae.b.a,_e.a,ae.a)<0)return;Pe(ne).b=ne.b=!0,x(ae.b),v(_e.b.e,ae)}return 1}function $(Q,ne){var z=Fe(ne),ae=ne.a,_e=z.a,Oe=ae.a,Ue=_e.a,Ye=ae.b.a,Qe=_e.b.a,et=new pe;if(m(Ye,Q.a,Oe),m(Qe,Q.a,Ue),!(Oe===Ue||Math.min(Oe.a,Ye.a)>Math.max(Ue.a,Qe.a))){if(s(Oe,Ue)){if(0<m(Qe,Oe,Ue))return}else if(m(Ye,Ue,Oe)<0)return;var nt,vt,mt=Ye,ct=Oe,gt=Qe,pt=Ue;if(s(mt,ct)||(nt=mt,mt=ct,ct=nt),s(gt,pt)||(nt=gt,gt=pt,pt=nt),s(mt,gt)||(nt=mt,mt=gt,gt=nt,nt=ct,ct=pt,pt=nt),s(gt,ct)?s(ct,pt)?((nt=h(mt,gt,ct))+(vt=h(gt,ct,pt))<0&&(nt=-nt,vt=-vt),et.b=a(nt,gt.b,vt,ct.b)):((nt=m(mt,gt,ct))+(vt=-m(mt,pt,ct))<0&&(nt=-nt,vt=-vt),et.b=a(nt,gt.b,vt,pt.b)):et.b=(gt.b+ct.b)/2,g(mt,ct)||(nt=mt,mt=ct,ct=nt),g(gt,pt)||(nt=gt,gt=pt,pt=nt),g(mt,gt)||(nt=mt,mt=gt,gt=nt,nt=ct,ct=pt,pt=nt),g(gt,ct)?g(ct,pt)?((nt=c(mt,gt,ct))+(vt=c(gt,ct,pt))<0&&(nt=-nt,vt=-vt),et.a=a(nt,gt.a,vt,ct.a)):((nt=l(mt,gt,ct))+(vt=-l(mt,pt,ct))<0&&(nt=-nt,vt=-vt),et.a=a(nt,gt.a,vt,pt.a)):et.a=(gt.a+ct.a)/2,s(et,Q.a)&&(et.b=Q.a.b,et.a=Q.a.a),mt=s(Oe,Ue)?Oe:Ue,s(mt,et)&&(et.b=mt.b,et.a=mt.a),u(et,Oe)||u(et,Ue))return H(Q,ne),0;if(!u(Ye,Q.a)&&0<=m(Ye,Q.a,et)||!u(Qe,Q.a)&&m(Qe,Q.a,et)<=0){if(Qe===Q.a)x(ae.b),v(_e.b,ae),ae=Fe(ne=K(ne)).a,te(Q,Fe(ne),z),se(Q,ne,ae.b.e,ae,ae,!0);else{if(Ye!==Q.a)return 0<=m(Ye,Q.a,et)&&(Pe(ne).b=ne.b=!0,x(ae.b),ae.a.b=Q.a.b,ae.a.a=Q.a.a),void(m(Qe,Q.a,et)<=0&&(ne.b=z.b=!0,x(_e.b),_e.a.b=Q.a.b,_e.a.a=Q.a.a));for(x(_e.b),v(ae.e,_e.b.e),Ue=(Oe=z=ne).a.b.a;(Oe=Pe(Oe)).a.b.a===Ue;);Oe=Fe(ne=Oe).a.b.c,z.a=_e.b.e,se(Q,ne,(_e=te(Q,z,null)).c,ae.b.c,Oe,!0)}return 1}x(ae.b),x(_e.b),v(_e.b.e,ae),ae.a.b=et.b,ae.a.a=et.a,ae.a.h=Se(Q.e,ae.a),ae=ae.a,_e=[0,0,0,0],et=[Oe.d,Ye.d,Ue.d,Qe.d],ae.g[0]=ae.g[1]=ae.g[2]=0,L(ae,Oe,Ye,_e,0),L(ae,Ue,Qe,_e,2),me(Q,ae,et,_e,!0),Pe(ne).b=ne.b=z.b=!0}}function ie(Q,ne){for(var z=Fe(ne);;){for(;z.b;)z=Fe(ne=z);if(!ne.b&&((ne=Pe(z=ne))===null||!ne.b))break;ne.b=!1;var ae=ne.a,_e=z.a;if(Oe=ae.b.a!==_e.b.a)e:{var Oe,Ue=Fe(Oe=ne),Ye=Oe.a,Qe=Ue.a,et=void 0;if(s(Ye.b.a,Qe.b.a)){if(m(Ye.b.a,Qe.b.a,Ye.a)<0){Oe=!1;break e}Pe(Oe).b=Oe.b=!0,et=x(Ye),v(Qe.b,et),et.d.c=Oe.d}else{if(0<m(Qe.b.a,Ye.b.a,Qe.a)){Oe=!1;break e}Oe.b=Ue.b=!0,et=x(Qe),v(Ye.e,Qe.b),et.b.d.c=Oe.d}Oe=!0}if(Oe&&(z.c?(G(z),w(_e),_e=(z=Fe(ne)).a):ne.c&&(G(ne),w(ae),ae=(ne=Pe(z)).a)),ae.a!==_e.a){if(ae.b.a===_e.b.a||ne.c||z.c||ae.b.a!==Q.a&&_e.b.a!==Q.a)H(Q,ne);else if($(Q,ne))break}ae.a===_e.a&&ae.b.a===_e.b.a&&(N(_e,ae),G(ne),w(ae),ne=Pe(z))}}function ye(Q,ne){var z=new Ee,ae=p(Q.b);ae.a.b=4e150,ae.a.a=ne,ae.b.a.b=-4e150,ae.b.a.a=ne,Q.a=ae.b.a,z.a=ae,z.f=0,z.d=!1,z.c=!1,z.h=!0,z.b=!1,ae=xe(ae=Q.f,ae.a,z),z.e=ae}function ve(Q){this.a=new fe,this.b=Q,this.c=U}function xe(Q,ne,z){for(;(ne=ne.c).b!==null&&!Q.c(Q.b,ne.b,z););return Q=new fe(z,ne.a,ne),ne.a.c=Q,ne.a=Q}function fe(Q,ne,z){this.b=Q||null,this.a=ne||this,this.c=z||this}function W(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function re(Q,ne){if(Q.d!==ne)for(;Q.d!==ne;)if(Q.d<ne)switch(Q.d){case 0:q(Q,100151),Q.u(null);break;case 1:q(Q,100152),Q.t()}else switch(Q.d){case 2:q(Q,100154),Q.v();break;case 1:q(Q,100153),Q.w()}}function q(Q,ne){Q.p&&Q.p(ne,Q.c)}function le(Q,ne){this.b=Q||this,this.d=ne||this,this.a=null,this.c=!1}function ue(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ge(){this.c=new pe,this.a=new le,this.b=new ue,this.d=new ue,this.b.b=this.d,this.d.b=this.b}function pe(Q,ne){this.e=Q||this,this.f=ne||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function je(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Re}function Se(Q,ne){var z,ae,_e;return Q.e?(2*(ae=++(z=Q.b).a)>z.f&&(z.f*=2,z.c=Ne(z.c,z.f+1)),z.b===0?_e=ae:(_e=z.b,z.b=z.c[z.b]),z.e[_e]=ne,z.c[_e]=ae,z.d[ae]=_e,z.h&&Ze(z,ae),_e):(z=Q.a++,Q.c[z]=ne,-(z+1))}function Ce(Q){if(Q.a===0)return Ge(Q.b);var ne=Q.c[Q.d[Q.a-1]];if(Q.b.a!==0&&s(He(Q.b),ne))return Ge(Q.b);for(;--Q.a,0<Q.a&&Q.c[Q.d[Q.a-1]]===null;);return ne}function Re(){this.d=Ne([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Ne(Q,ne){for(var z=Array(ne),ae=0;ae<Q.length;ae++)z[ae]=Q[ae];for(;ae<ne;ae++)z[ae]=0;return z}function He(Q){return Q.e[Q.d[1]]}function Ge(Q){var ne=Q.d,z=Q.e,ae=Q.c,_e=ne[1],Oe=z[_e];return 0<Q.a&&(ne[1]=ne[Q.a],ae[ne[1]]=1,z[_e]=null,ae[_e]=Q.b,Q.b=_e,0<--Q.a&&$e(Q,1)),Oe}function $e(Q,ne){for(var z=Q.d,ae=Q.e,_e=Q.c,Oe=ne,Ue=z[Oe];;){var Ye=Oe<<1,Qe=(Ye<Q.a&&s(ae[z[Ye+1]],ae[z[Ye]])&&(Ye+=1),z[Ye]);if(Ye>Q.a||s(ae[Ue],ae[Qe])){_e[z[Oe]=Ue]=Oe;break}_e[z[Oe]=Qe]=Oe,Oe=Ye}}function Ze(Q,ne){for(var z=Q.d,ae=Q.e,_e=Q.c,Oe=ne,Ue=z[Oe];;){var Ye=Oe>>1,Qe=z[Ye];if(Ye==0||s(ae[Qe],ae[Ue])){_e[z[Oe]=Ue]=Oe;break}_e[z[Oe]=Qe]=Oe,Oe=Ye}}function Ee(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Fe(Q){return Q.e.c.b}function Pe(Q){return Q.e.a.b}(i=W.prototype).x=function(){re(this,0)},i.B=function(Q,ne){switch(Q){case 100142:return;case 100140:switch(ne){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ne)}break;case 100141:return void(this.m=!!ne);default:return void q(this,100900)}q(this,100901)},i.y=function(Q){switch(Q){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:q(this,100900)}return!1},i.A=function(Q,ne,z){this.j[0]=Q,this.j[1]=ne,this.j[2]=z},i.z=function(Q,ne){var z=ne||null;switch(Q){case 100100:case 100106:this.h=z;break;case 100104:case 100110:this.l=z;break;case 100101:case 100107:this.k=z;break;case 100102:case 100108:this.i=z;break;case 100103:case 100109:this.p=z;break;case 100105:case 100111:this.o=z;break;case 100112:this.r=z;break;default:q(this,100900)}},i.C=function(Q,ne){var z=!1,ae=[0,0,0];re(this,2);for(var _e=0;_e<3;++_e){var Oe=Q[_e];Oe<-1e150&&(Oe=-1e150,z=!0),1e150<Oe&&(Oe=1e150,z=!0),ae[_e]=Oe}z&&q(this,100155),(z=this.q)===null?v(z=p(this.b),z.b):(x(z),z=z.e),z.a.d=ne,z.a.g[0]=ae[0],z.a.g[1]=ae[1],z.a.g[2]=ae[2],z.f=1,z.b.f=-1,this.q=z},i.u=function(Q){re(this,0),this.d=1,this.b=new ge,this.c=Q},i.t=function(){re(this,1),this.d=2,this.q=null},i.v=function(){re(this,2),this.d=1},i.w=function(){re(this,1),this.d=0;var Q,ne,z=this.j[0],ae=this.j[1],_e=this.j[2],Oe=!1,Ue=[z,ae,_e];if(z===0&&ae===0&&_e===0){for(var ae=[-2e150,-2e150,-2e150],Ye=[2e150,2e150,2e150],_e=[],Qe=[],z=(Oe=this.b.c).e;z!==Oe;z=z.e)for(var et=0;et<3;++et){var nt=z.g[et];nt<Ye[et]&&(Ye[et]=nt,Qe[et]=z),nt>ae[et]&&(ae[et]=nt,_e[et]=z)}if(ae[1]-Ye[1]>ae[z=0]-Ye[0]&&(z=1),Ye[z=ae[2]-Ye[2]>ae[z]-Ye[z]?2:z]>=ae[z])Ue[0]=0,Ue[1]=0,Ue[2]=1;else{for(Ye=Qe[z],_e=_e[z],Qe=[ae=0,0,0],Ye=[Ye.g[0]-_e.g[0],Ye.g[1]-_e.g[1],Ye.g[2]-_e.g[2]],et=[0,0,0],z=Oe.e;z!==Oe;z=z.e)et[0]=z.g[0]-_e.g[0],et[1]=z.g[1]-_e.g[1],et[2]=z.g[2]-_e.g[2],Qe[0]=Ye[1]*et[2]-Ye[2]*et[1],Qe[1]=Ye[2]*et[0]-Ye[0]*et[2],Qe[2]=Ye[0]*et[1]-Ye[1]*et[0],ae<(nt=Qe[0]*Qe[0]+Qe[1]*Qe[1]+Qe[2]*Qe[2])&&(ae=nt,Ue[0]=Qe[0],Ue[1]=Qe[1],Ue[2]=Qe[2]);ae<=0&&(Ue[0]=Ue[1]=Ue[2]=0,Ue[I(Ye)]=1)}Oe=!0}for(Qe=I(Ue),z=this.b.c,ae=(Qe+1)%3,_e=(Qe+2)%3,Qe=0<Ue[Qe]?1:-1,Ue=z.e;Ue!==z;Ue=Ue.e)Ue.b=Ue.g[ae],Ue.a=Qe*Ue.g[_e];if(Oe){for(Ue=0,z=(Oe=this.b.a).b;z!==Oe;z=z.b)if(!((ae=z.a).f<=0))for(;Ue+=(ae.a.b-ae.b.a.b)*(ae.a.a+ae.b.a.a),(ae=ae.e)!==z.a;);if(Ue<0)for(Oe=(Ue=this.b.c).e;Oe!==Ue;Oe=Oe.e)Oe.a=-Oe.a}for(this.n=!1,Ue=this.b.b,z=Ue.h;z!==Ue;z=Oe)Oe=z.h,ae=z.e,u(z.a,z.b.a)&&z.e.e!==z&&(A(this,ae,z),w(z),ae=(z=ae).e),ae.e===z&&(ae!==z&&(ae!==Oe&&ae!==Oe.b||(Oe=Oe.h),w(ae)),z!==Oe&&z!==Oe.b||(Oe=Oe.h),w(z));for(this.e=Ue=new je,Oe=this.b.c,z=Oe.e;z!==Oe;z=z.e)z.h=Se(Ue,z);var vt=Ue;vt.d=[];for(var mt=0;mt<vt.a;mt++)vt.d[mt]=mt;vt.d.sort(function(pt){return function(Wt,Lr){return s(pt[Wt],pt[Lr])?1:-1}}(vt.c)),vt.e=!0;for(var ct=vt.b,gt=ct.a;1<=gt;--gt)$e(ct,gt);for(ct.h=!0,this.f=new ve(this),ye(this,-4e150),ye(this,4e150);(Ue=Ce(this.e))!==null;){for(;;){e:if((z=this.e).a===0)Oe=He(z.b);else if(Oe=z.c[z.d[z.a-1]],z.b.a!==0&&s(z=He(z.b),Oe)){Oe=z;break e}if(Oe===null||!u(Oe,Ue))break;Oe=Ce(this.e),A(this,Ue.c,Oe.c)}(function pt(Wt,Lr){for(var ur,Lt=(Wt.a=Lr).c;Lt.i===null;)if((Lt=Lt.c)===Lr.c){var Lt=Wt,Xt=Lr;(Nt=new Ee).a=Xt.c.b;for(var jr=(Mt=Lt.f).a;(jr=jr.a).b!==null&&!Mt.c(Mt.b,Nt,jr.b););var Mt,Er,vr=Fe(Mt=jr.b),Nt=Mt.a,jr=vr.a;return void(m(Nt.b.a,Xt,Nt.a)===0?u((Nt=Mt.a).a,Xt)||u(Nt.b.a,Xt)||(x(Nt.b),Mt.c&&(w(Nt.c),Mt.c=!1),v(Xt.c,Nt),pt(Lt,Xt)):(Er=s(jr.b.a,Nt.b.a)?Mt:vr,vr=void 0,Mt.d||Er.c?(vr=Er===Mt?E(Xt.c.b,Nt.e):E(jr.b.c.b,Xt.c).b,Er.c?J(Er,vr):((Mt=Z(Nt=Lt,Mt,vr)).f=Pe(Mt).f+Mt.a.f,Mt.d=X(Nt,Mt.f)),pt(Lt,Xt)):se(Lt,Mt,Xt.c,Xt.c,null,!0)))}Mt=(Nt=Fe(Lt=K(Lt.i))).a,(Nt=te(Wt,Nt,null)).c===Mt?(Nt=(Mt=Nt).c,jr=Fe(Lt),vr=Lt.a,Er=jr.a,ur=!1,vr.b.a!==Er.b.a&&$(Wt,Lt),u(vr.a,Wt.a)&&(v(Nt.b.e,vr),Nt=Fe(Lt=K(Lt)).a,te(Wt,Fe(Lt),jr),ur=!0),u(Er.a,Wt.a)&&(v(Mt,Er.b.e),Mt=te(Wt,jr,null),ur=!0),ur?se(Wt,Lt,Mt.c,Nt,Nt,!0):(Xt=s(Er.a,vr.a)?Er.b.e:vr,se(Wt,Lt,Xt=E(Mt.c.b,Xt),Xt.c,Xt.c,!1),Xt.b.i.c=!0,ie(Wt,Lt))):se(Wt,Lt,Nt.c,Mt,Mt,!0)})(this,Ue)}for(this.a=this.f.a.a.b.a.a,Ue=0;(Oe=this.f.a.a.b)!==null;)Oe.h||++Ue,G(Oe);for(this.f=null,(Ue=this.e).b=null,Ue.d=null,this.e=Ue.c=null,Ue=this.b,z=Ue.a.b;z!==Ue.a;z=Oe)Oe=z.b,(z=z.a).e.e===z&&(N(z.c,z),w(z));if(!this.n){if(Ue=this.b,this.m)for(z=Ue.b.h;z!==Ue.b;z=Oe)Oe=z.h,z.b.d.c!==z.d.c?z.f=z.d.c?1:-1:w(z);else for(z=Ue.a.b;z!==Ue.a;z=Oe)if(Oe=z.b,z.c){for(z=z.a;s(z.b.a,z.a);z=z.c.b);for(;s(z.a,z.b.a);z=z.e);for(ae=z.c.b,_e=void 0;z.e!==ae;)if(s(z.b.a,ae.a)){for(;ae.e!==z&&(s((ne=ae.e).b.a,ne.a)||m(ae.a,ae.b.a,ae.e.b.a)<=0);)ae=(_e=E(ae.e,ae)).b;ae=ae.c.b}else{for(;ae.e!==z&&(s((Q=z.c.b).a,Q.b.a)||0<=m(z.b.a,z.a,z.c.b.a));)z=(_e=E(z,z.c.b)).b;z=z.e}for(;ae.e.e!==z;)_e=E(ae.e,ae),ae=_e.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Oe=(Ue=this.b).a.b;Oe!==Ue.a;Oe=Oe.b)if(Oe.c){for(this.h&&this.h(2,this.c),z=Oe.a;this.k&&this.k(z.a.d,this.c),(z=z.e)!==Oe.a;);this.i&&this.i(this.c)}}else{for(Ue=this.b,Oe=!!this.l,z=!1,ae=-1,_e=Ue.a.d;_e!==Ue.a;_e=_e.d)if(_e.c)for(z||(this.h&&this.h(4,this.c),z=!0),Qe=_e.a;Oe&&(Ye=Qe.b.d.c?0:1,ae!==Ye&&(ae=Ye,this.l&&this.l(!!ae,this.c))),this.k&&this.k(Qe.a.d,this.c),(Qe=Qe.e)!==_e.a;);z&&this.i&&this.i(this.c)}if(this.r){for(Ue=this.b,z=Ue.a.b;z!==Ue.a;z=Oe)if(Oe=z.b,!z.c){for(_e=(ae=z.a).e,Qe=void 0;_e=(Qe=_e).e,(Qe.d=null)===Qe.b.d&&(Qe.c===Qe?k(Qe.a,null):(Qe.a.c=Qe.c,S(Qe,Qe.b.e)),(Ye=Qe.b).c===Ye?k(Ye.a,null):(Ye.a.c=Ye.c,S(Ye,Ye.b.e)),P(Qe)),Qe!==ae;);ae=z.d,((z=z.b).d=ae).b=z}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:W,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},W.prototype.gluDeleteTess=W.prototype.x,W.prototype.gluTessProperty=W.prototype.B,W.prototype.gluGetTessProperty=W.prototype.y,W.prototype.gluTessNormal=W.prototype.A,W.prototype.gluTessCallback=W.prototype.z,W.prototype.gluTessVertex=W.prototype.C,W.prototype.gluTessBeginPolygon=W.prototype.u,W.prototype.gluTessBeginContour=W.prototype.t,W.prototype.gluTessEndContour=W.prototype.v,W.prototype.gluTessEndPolygon=W.prototype.w,f!==void 0&&(f.exports=this.libtess)},{}],240:[function(t,f,d){function i(s,h,m,g){var c=0,l=(g=g===void 0?{}:g).loop===void 0?null:g.loop,a=g.palette===void 0?null:g.palette;if(h<=0||m<=0||65535<h||65535<m)throw new Error("Width/Height invalid.");function p(M){if(M=M.length,M<2||256<M||M&M-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return M}s[c++]=71,s[c++]=73,s[c++]=70,s[c++]=56,s[c++]=57,s[c++]=97;var v=0,w=0;if(a!==null){for(var x=p(a);x>>=1;)++v;if(x=1<<v,--v,g.background!==void 0){if(x<=(w=g.background))throw new Error("Background index out of range.");if(w===0)throw new Error("Background index explicitly passed as 0.")}}if(s[c++]=255&h,s[c++]=h>>8&255,s[c++]=255&m,s[c++]=m>>8&255,s[c++]=(a!==null?128:0)|v,s[c++]=w,s[c++]=0,a!==null)for(var E=0,j=a.length;E<j;++E){var S=a[E];s[c++]=S>>16&255,s[c++]=S>>8&255,s[c++]=255&S}if(l!==null){if(l<0||65535<l)throw new Error("Loop count invalid.");s[c++]=33,s[c++]=255,s[c++]=11,s[c++]=78,s[c++]=69,s[c++]=84,s[c++]=83,s[c++]=67,s[c++]=65,s[c++]=80,s[c++]=69,s[c++]=50,s[c++]=46,s[c++]=48,s[c++]=3,s[c++]=1,s[c++]=255&l,s[c++]=l>>8&255,s[c++]=0}var R=!1;this.addFrame=function(M,P,k,D,I,N){if(R===!0&&(--c,R=!1),N=N===void 0?{}:N,M<0||P<0||65535<M||65535<P)throw new Error("x/y invalid.");if(k<=0||D<=0||65535<k||65535<D)throw new Error("Width/Height invalid.");if(I.length<k*D)throw new Error("Not enough pixels for the frame size.");var U=!0,G=N.palette;if(G==null&&(U=!1,G=a),G==null)throw new Error("Must supply either a local or global palette.");for(var K=p(G),J=0;K>>=1;)++J;var K=1<<J,Z=N.delay===void 0?0:N.delay,X=N.disposal===void 0?0:N.disposal;if(X<0||3<X)throw new Error("Disposal out of range.");var Y=!1,te=0;if(N.transparent!==void 0&&N.transparent!==null&&(Y=!0,(te=N.transparent)<0||K<=te))throw new Error("Transparent color index.");if(X===0&&!Y&&Z===0||(s[c++]=33,s[c++]=249,s[c++]=4,s[c++]=X<<2|(Y===!0?1:0),s[c++]=255&Z,s[c++]=Z>>8&255,s[c++]=te,s[c++]=0),s[c++]=44,s[c++]=255&M,s[c++]=M>>8&255,s[c++]=255&P,s[c++]=P>>8&255,s[c++]=255&k,s[c++]=k>>8&255,s[c++]=255&D,s[c++]=D>>8&255,s[c++]=U===!0?128|J-1:0,U===!0)for(var se=0,me=G.length;se<me;++se){var A=G[se];s[c++]=A>>16&255,s[c++]=A>>8&255,s[c++]=255&A}return c=function(L,H,$,ie){L[H++]=$;var ye=H++,ve=1<<$,xe=ve-1,fe=1+ve,W=1+fe,re=$+1,q=0,le=0;function ue(Ge){for(;Ge<=q;)L[H++]=255&le,le>>=8,q-=8,H===ye+256&&(L[ye]=255,ye=H++)}function ge(Ge){le|=Ge<<q,q+=re,ue(8)}var pe=ie[0]&xe,je={};ge(ve);for(var Se=1,Ce=ie.length;Se<Ce;++Se){var Re=ie[Se]&xe,Ne=pe<<8|Re,He=je[Ne];if(He===void 0){for(le|=pe<<q,q+=re;8<=q;)L[H++]=255&le,le>>=8,q-=8,H===ye+256&&(L[ye]=255,ye=H++);W===4096?(ge(ve),W=1+fe,re=$+1,je={}):(1<<re<=W&&++re,je[Ne]=W++),pe=Re}else pe=He}return ge(pe),ge(fe),ue(1),ye+1===H?L[ye]=0:(L[ye]=H-ye-1,L[H++]=0),H}(s,c,J<2?2:J,I)},this.end=function(){return R===!1&&(s[c++]=59,R=!0),c},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(M){s=M},this.getOutputBufferPosition=function(){return c},this.setOutputBufferPosition=function(M){c=M}}function u(s,h,m,g){for(var c=s[h++],l=1<<c,a=1+l,p=1+a,v=c+1,w=(1<<v)-1,x=0,E=0,j=0,S=s[h++],R=new Int32Array(4096),M=null;;){for(;x<16&&S!==0;)E|=s[h++]<<x,x+=8,S===1?S=s[h++]:--S;if(x<v)break;var P=E&w;if(E>>=v,x-=v,P==l)p=1+a,w=(1<<(v=c+1))-1,M=null;else{if(P==a)break;for(var k=P<p?P:M,D=0,I=k;l<I;)I=R[I]>>8,++D;var N=I;if(g<j+D+(k!==P?1:0))return void console.log("Warning, gif stream longer than expected.");m[j++]=N;var U=j+=D;for(k!==P&&(m[j++]=N),I=k;D--;)I=R[I],m[--U]=255&I,I>>=8;M!==null&&p<4096&&(R[p++]=M<<8|N,w+1<=p&&v<12&&(++v,w=w<<1|1)),M=P}}j!==g&&console.log("Warning, gif stream shorter than expected.")}try{d.GifWriter=i,d.GifReader=function(s){var h=0;if(s[h++]!==71||s[h++]!==73||s[h++]!==70||s[h++]!==56||(s[h++]+1&253)!=56||s[h++]!==97)throw new Error("Invalid GIF 87a/89a header.");var m=s[h++]|s[h++]<<8,g=s[h++]|s[h++]<<8,c=s[h++],l=1<<1+(7&c),a=(s[h++],s[h++],null),p=null,v=(c>>7&&(a=h,h+=3*(p=l)),!0),w=[],x=0,E=null,j=0,S=null;for(this.width=m,this.height=g;v&&h<s.length;)switch(s[h++]){case 33:switch(s[h++]){case 255:if(s[h]!==11||s[h+1]==78&&s[h+2]==69&&s[h+3]==84&&s[h+4]==83&&s[h+5]==67&&s[h+6]==65&&s[h+7]==80&&s[h+8]==69&&s[h+9]==50&&s[h+10]==46&&s[h+11]==48&&s[h+12]==3&&s[h+13]==1&&s[h+16]==0)h+=14,S=s[h++]|s[h++]<<8,h++;else for(h+=12;;){if(!(0<=(M=s[h++])))throw Error("Invalid block size");if(M===0)break;h+=M}break;case 249:if(s[h++]!==4||s[h+4]!==0)throw new Error("Invalid graphics extension block.");var R=s[h++],x=s[h++]|s[h++]<<8,E=s[h++];!(1&R)&&(E=null),j=R>>2&7,h++;break;case 254:for(;;){if(!(0<=(M=s[h++])))throw Error("Invalid block size");if(M===0)break;h+=M}break;default:throw new Error("Unknown graphic control label: 0x"+s[h-1].toString(16))}break;case 44:var M,P=s[h++]|s[h++]<<8,k=s[h++]|s[h++]<<8,D=s[h++]|s[h++]<<8,I=s[h++]|s[h++]<<8,Z=s[h++],N=Z>>6&1,U=1<<1+(7&Z),G=a,J=p,K=!1,Z=(Z>>7&&(K=!0,G=h,h+=3*(J=U)),h);for(h++;;){if(!(0<=(M=s[h++])))throw Error("Invalid block size");if(M===0)break;h+=M}w.push({x:P,y:k,width:D,height:I,has_local_palette:K,palette_offset:G,palette_size:J,data_offset:Z,data_length:h-Z,transparent_index:E,interlaced:!!N,delay:x,disposal:j});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+s[h-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return S},this.frameInfo=function(X){if(X<0||X>=w.length)throw new Error("Frame index out of range.");return w[X]},this.decodeAndBlitFrameBGRA=function(X,Y){for(var X=this.frameInfo(X),te=X.width*X.height,se=new Uint8Array(te),me=(u(s,X.data_offset,se,te),X.palette_offset),A=X.transparent_index,L=(A===null&&(A=256),X.width),H=m-L,$=L,ie=4*(X.y*m+X.x),ye=4*((X.y+X.height)*m+X.x),ve=ie,xe=4*H,fe=(X.interlaced===!0&&(xe+=4*m*7),8),W=0,re=se.length;W<re;++W){var q,le,ue=se[W];$===0&&($=L,ye<=(ve+=xe)&&(xe=4*H+4*m*(fe-1),ve=ie+(L+H)*(fe<<1),fe>>=1)),ue===A?ve+=4:(q=s[me+3*ue],le=s[me+3*ue+1],ue=s[me+3*ue+2],Y[ve++]=ue,Y[ve++]=le,Y[ve++]=q,Y[ve++]=255),--$}},this.decodeAndBlitFrameRGBA=function(X,Y){for(var X=this.frameInfo(X),te=X.width*X.height,se=new Uint8Array(te),me=(u(s,X.data_offset,se,te),X.palette_offset),A=X.transparent_index,L=(A===null&&(A=256),X.width),H=m-L,$=L,ie=4*(X.y*m+X.x),ye=4*((X.y+X.height)*m+X.x),ve=ie,xe=4*H,fe=(X.interlaced===!0&&(xe+=4*m*7),8),W=0,re=se.length;W<re;++W){var q,le,ue=se[W];$===0&&($=L,ye<=(ve+=xe)&&(xe=4*H+4*m*(fe-1),ve=ie+(L+H)*(fe<<1),fe>>=1)),ue===A?ve+=4:(q=s[me+3*ue],le=s[me+3*ue+1],ue=s[me+3*ue+2],Y[ve++]=q,Y[ve++]=le,Y[ve++]=ue,Y[ve++]=255),--$}}}}catch{}},{}],241:[function(t,f,d){(function(i){var u,s;u=this,s=function(h){function m(O){if(this==null)throw TypeError();var _,T=String(this),C=T.length,O=O?Number(O):0;if(!((O=O!=O?0:O)<0||C<=O))return 55296<=(_=T.charCodeAt(O))&&_<=56319&&O+1<C&&56320<=(C=T.charCodeAt(O+1))&&C<=57343?1024*(_-55296)+C-56320+65536:_}String.prototype.codePointAt||((g=function(){try{var y={},_=Object.defineProperty,T=_(y,y,y)&&_}catch{}return T}())?g(String.prototype,"codePointAt",{value:m,configurable:!0,writable:!0}):String.prototype.codePointAt=m);var g,c=0,l=-3;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function p(y,_){this.source=y,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=_,this.destLen=0,this.ltree=new a,this.dtree=new a}var v=new a,w=new a,x=new Uint8Array(30),E=new Uint16Array(30),j=new Uint8Array(30),S=new Uint16Array(30),R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new a,P=new Uint8Array(320);function k(y,_,T,C){for(var O,B=0;B<T;++B)y[B]=0;for(B=0;B<30-T;++B)y[B+T]=B/T|0;for(O=C,B=0;B<30;++B)_[B]=O,O+=1<<y[B]}var D=new Uint16Array(16);function I(y,_,T,C){for(var O,B=0;B<16;++B)y.table[B]=0;for(B=0;B<C;++B)y.table[_[T+B]]++;for(B=O=y.table[0]=0;B<16;++B)D[B]=O,O+=y.table[B];for(B=0;B<C;++B)_[T+B]&&(y.trans[D[_[T+B]]++]=B)}function N(y,_,T){if(!_)return T;for(;y.bitcount<24;)y.tag|=y.source[y.sourceIndex++]<<y.bitcount,y.bitcount+=8;var C=y.tag&65535>>>16-_;return y.tag>>>=_,y.bitcount-=_,C+T}function U(y,_){for(;y.bitcount<24;)y.tag|=y.source[y.sourceIndex++]<<y.bitcount,y.bitcount+=8;for(var T=0,C=0,O=0,B=y.tag;C=2*C+(1&B),B>>>=1,T+=_.table[++O],0<=(C-=_.table[O]););return y.tag=B,y.bitcount-=O,_.trans[T+C]}function G(y,_,T){for(;;){var C=U(y,_);if(C===256)return c;if(C<256)y.dest[y.destLen++]=C;else for(var O,B=N(y,x[C-=257],E[C]),C=U(y,T),F=O=y.destLen-N(y,j[C],S[C]);F<O+B;++F)y.dest[y.destLen++]=y.dest[F]}}for(var J=v,K=w,Z=0;Z<7;++Z)J.table[Z]=0;for(J.table[7]=24,J.table[8]=152,J.table[9]=112,Z=0;Z<24;++Z)J.trans[Z]=256+Z;for(Z=0;Z<144;++Z)J.trans[24+Z]=Z;for(Z=0;Z<8;++Z)J.trans[168+Z]=280+Z;for(Z=0;Z<112;++Z)J.trans[176+Z]=144+Z;for(Z=0;Z<5;++Z)K.table[Z]=0;for(K.table[5]=32,Z=0;Z<32;++Z)K.trans[Z]=Z;k(x,E,4,3),k(j,S,2,1),x[28]=0,E[28]=258;var X=function(y,_){var T,C,O,B=new p(y,_);do{switch(O=void 0,(C=B).bitcount--||(C.tag=C.source[C.sourceIndex++],C.bitcount=7),O=1&C.tag,C.tag>>>=1,C=O,N(B,2,0)){case 0:T=function(Ie){for(var dt,yt;8<Ie.bitcount;)Ie.sourceIndex--,Ie.bitcount-=8;if((dt=256*Ie.source[Ie.sourceIndex+1]+Ie.source[Ie.sourceIndex])!==(65535&~(256*Ie.source[Ie.sourceIndex+3]+Ie.source[Ie.sourceIndex+2])))return l;for(Ie.sourceIndex+=4,yt=dt;yt;--yt)Ie.dest[Ie.destLen++]=Ie.source[Ie.sourceIndex++];return Ie.bitcount=0,c}(B);break;case 1:T=G(B,v,w);break;case 2:Ve=Le=We=De=F=be=Ae=ke=Te=ce=de=oe=void 0;for(var F,oe=B,de=B.ltree,ce=B.dtree,Te=N(oe,5,257),ke=N(oe,5,1),Ae=N(oe,4,4),be=0;be<19;++be)P[be]=0;for(be=0;be<Ae;++be){var We=N(oe,3,0);P[R[be]]=We}for(I(M,P,0,19),F=0;F<Te+ke;){var Le=U(oe,M);switch(Le){case 16:for(var Ve=P[F-1],De=N(oe,2,3);De;--De)P[F++]=Ve;break;case 17:for(De=N(oe,3,3);De;--De)P[F++]=0;break;case 18:for(De=N(oe,7,11);De;--De)P[F++]=0;break;default:P[F++]=Le}}I(de,P,0,Te),I(ce,P,Te,ke),T=G(B,B.ltree,B.dtree);break;default:T=l}if(T!==c)throw new Error("Data error")}while(!C);return B.destLen<B.dest.length?typeof B.dest.slice=="function"?B.dest.slice(0,B.destLen):B.dest.subarray(0,B.destLen):B.dest};function Y(y,_,T,C,O){return Math.pow(1-O,3)*y+3*Math.pow(1-O,2)*O*_+3*(1-O)*Math.pow(O,2)*T+Math.pow(O,3)*C}function te(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function se(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function me(y){throw new Error(y)}function A(y,_){y||me(_)}te.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},te.prototype.addPoint=function(y,_){typeof y=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=y,this.x2=y),y<this.x1&&(this.x1=y),y>this.x2&&(this.x2=y)),typeof _=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=_,this.y2=_),_<this.y1&&(this.y1=_),_>this.y2&&(this.y2=_))},te.prototype.addX=function(y){this.addPoint(y,null)},te.prototype.addY=function(y){this.addPoint(null,y)},te.prototype.addBezier=function(y,_,T,C,O,B,F,oe){var de=[y,_],ce=[T,C],Te=[O,B],ke=[F,oe];this.addPoint(y,_),this.addPoint(F,oe);for(var Ae=0;Ae<=1;Ae++){var be,We=6*de[Ae]-12*ce[Ae]+6*Te[Ae],Le=-3*de[Ae]+9*ce[Ae]-9*Te[Ae]+3*ke[Ae],Ve=3*ce[Ae]-3*de[Ae];Le==0?We==0||0<(be=-Ve/We)&&be<1&&(Ae===0&&this.addX(Y(de[Ae],ce[Ae],Te[Ae],ke[Ae],be)),Ae===1&&this.addY(Y(de[Ae],ce[Ae],Te[Ae],ke[Ae],be))):(be=Math.pow(We,2)-4*Ve*Le)<0||(0<(Ve=(-We+Math.sqrt(be))/(2*Le))&&Ve<1&&(Ae===0&&this.addX(Y(de[Ae],ce[Ae],Te[Ae],ke[Ae],Ve)),Ae===1&&this.addY(Y(de[Ae],ce[Ae],Te[Ae],ke[Ae],Ve))),0<(Ve=(-We-Math.sqrt(be))/(2*Le))&&Ve<1&&(Ae===0&&this.addX(Y(de[Ae],ce[Ae],Te[Ae],ke[Ae],Ve)),Ae===1&&this.addY(Y(de[Ae],ce[Ae],Te[Ae],ke[Ae],Ve))))}},te.prototype.addQuad=function(y,_,T,C,O,B){T=y+2/3*(T-y),C=_+2/3*(C-_),this.addBezier(y,_,T,C,T+1/3*(O-y),C+1/3*(B-_),O,B)},se.prototype.moveTo=function(y,_){this.commands.push({type:"M",x:y,y:_})},se.prototype.lineTo=function(y,_){this.commands.push({type:"L",x:y,y:_})},se.prototype.curveTo=se.prototype.bezierCurveTo=function(y,_,T,C,O,B){this.commands.push({type:"C",x1:y,y1:_,x2:T,y2:C,x:O,y:B})},se.prototype.quadTo=se.prototype.quadraticCurveTo=function(y,_,T,C){this.commands.push({type:"Q",x1:y,y1:_,x:T,y:C})},se.prototype.close=se.prototype.closePath=function(){this.commands.push({type:"Z"})},se.prototype.extend=function(y){var _;if(y.commands)y=y.commands;else if(y instanceof te)return _=y,this.moveTo(_.x1,_.y1),this.lineTo(_.x2,_.y1),this.lineTo(_.x2,_.y2),this.lineTo(_.x1,_.y2),void this.close();Array.prototype.push.apply(this.commands,y)},se.prototype.getBoundingBox=function(){for(var y=new te,_=0,T=0,C=0,O=0,B=0;B<this.commands.length;B++){var F=this.commands[B];switch(F.type){case"M":y.addPoint(F.x,F.y),_=C=F.x,T=O=F.y;break;case"L":y.addPoint(F.x,F.y),C=F.x,O=F.y;break;case"Q":y.addQuad(C,O,F.x1,F.y1,F.x,F.y),C=F.x,O=F.y;break;case"C":y.addBezier(C,O,F.x1,F.y1,F.x2,F.y2,F.x,F.y),C=F.x,O=F.y;break;case"Z":C=_,O=T;break;default:throw new Error("Unexpected path command "+F.type)}}return y.isEmpty()&&y.addPoint(0,0),y},se.prototype.draw=function(y){y.beginPath();for(var _=0;_<this.commands.length;_+=1){var T=this.commands[_];T.type==="M"?y.moveTo(T.x,T.y):T.type==="L"?y.lineTo(T.x,T.y):T.type==="C"?y.bezierCurveTo(T.x1,T.y1,T.x2,T.y2,T.x,T.y):T.type==="Q"?y.quadraticCurveTo(T.x1,T.y1,T.x,T.y):T.type==="Z"&&y.closePath()}this.fill&&(y.fillStyle=this.fill,y.fill()),this.stroke&&(y.strokeStyle=this.stroke,y.lineWidth=this.strokeWidth,y.stroke())},se.prototype.toPathData=function(y){function _(){for(var B=arguments,F="",oe=0;oe<arguments.length;oe+=1){var de=B[oe];0<=de&&0<oe&&(F+=" "),F+=(de=de,Math.round(de)===de?""+Math.round(de):de.toFixed(y))}return F}y=y!==void 0?y:2;for(var T="",C=0;C<this.commands.length;C+=1){var O=this.commands[C];O.type==="M"?T+="M"+_(O.x,O.y):O.type==="L"?T+="L"+_(O.x,O.y):O.type==="C"?T+="C"+_(O.x1,O.y1,O.x2,O.y2,O.x,O.y):O.type==="Q"?T+="Q"+_(O.x1,O.y1,O.x,O.y):O.type==="Z"&&(T+="Z")}return T},se.prototype.toSVG=function(y){var _=(_='<path d="')+this.toPathData(y)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?_+=' fill="none"':_+=' fill="'+this.fill+'"'),this.stroke&&(_+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),_+="/>"},se.prototype.toDOMElement=function(_){var _=this.toPathData(_),T=document.createElementNS("http://www.w3.org/2000/svg","path");return T.setAttribute("d",_),T};var L={fail:me,argument:A,assert:A},H={},$={},ie={};function ye(y){return function(){return y}}$.BYTE=function(y){return L.argument(0<=y&&y<=255,"Byte value should be between 0 and 255."),[y]},ie.BYTE=ye(1),$.CHAR=function(y){return[y.charCodeAt(0)]},ie.CHAR=ye(1),$.CHARARRAY=function(y){for(var _=[],T=0;T<y.length;T+=1)_[T]=y.charCodeAt(T);return _},ie.CHARARRAY=function(y){return y.length},$.USHORT=function(y){return[y>>8&255,255&y]},ie.USHORT=ye(2),$.SHORT=function(y){return[(y=32768<=y?-(65536-y):y)>>8&255,255&y]},ie.SHORT=ye(2),$.UINT24=function(y){return[y>>16&255,y>>8&255,255&y]},ie.UINT24=ye(3),$.ULONG=function(y){return[y>>24&255,y>>16&255,y>>8&255,255&y]},ie.ULONG=ye(4),$.LONG=function(y){return[(y=2147483648<=y?-(4294967296-y):y)>>24&255,y>>16&255,y>>8&255,255&y]},ie.LONG=ye(4),$.FIXED=$.ULONG,ie.FIXED=ie.ULONG,$.FWORD=$.SHORT,ie.FWORD=ie.SHORT,$.UFWORD=$.USHORT,ie.UFWORD=ie.USHORT,$.LONGDATETIME=function(y){return[0,0,0,0,y>>24&255,y>>16&255,y>>8&255,255&y]},ie.LONGDATETIME=ye(8),$.TAG=function(y){return L.argument(y.length===4,"Tag should be exactly 4 ASCII characters."),[y.charCodeAt(0),y.charCodeAt(1),y.charCodeAt(2),y.charCodeAt(3)]},ie.TAG=ye(4),$.Card8=$.BYTE,ie.Card8=ie.BYTE,$.Card16=$.USHORT,ie.Card16=ie.USHORT,$.OffSize=$.BYTE,ie.OffSize=ie.BYTE,$.SID=$.USHORT,ie.SID=ie.USHORT,$.NUMBER=function(y){return-107<=y&&y<=107?[y+139]:108<=y&&y<=1131?[247+((y-=108)>>8),255&y]:-1131<=y&&y<=-108?[251+((y=-y-108)>>8),255&y]:-32768<=y&&y<=32767?$.NUMBER16(y):$.NUMBER32(y)},ie.NUMBER=function(y){return $.NUMBER(y).length},$.NUMBER16=function(y){return[28,y>>8&255,255&y]},ie.NUMBER16=ye(3),$.NUMBER32=function(y){return[29,y>>24&255,y>>16&255,y>>8&255,255&y]},ie.NUMBER32=ye(5),$.REAL=function(y){for(var _=y.toString(),T=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(_),C=(T&&(T=parseFloat("1e"+((T[2]?+T[2]:0)+T[1].length)),_=(Math.round(y*T)/T).toString()),""),O=0,B=_.length;O<B;O+=1){var F=_[O];C+=F==="e"?_[++O]==="-"?"c":"b":F==="."?"a":F==="-"?"e":F}for(var oe=[30],de=0,ce=(C+=1&C.length?"f":"ff").length;de<ce;de+=2)oe.push(parseInt(C.substr(de,2),16));return oe},ie.REAL=function(y){return $.REAL(y).length},$.NAME=$.CHARARRAY,ie.NAME=ie.CHARARRAY,$.STRING=$.CHARARRAY,ie.STRING=ie.CHARARRAY,H.UTF8=function(y,_,T){for(var C=[],O=T,B=0;B<O;B++,_+=1)C[B]=y.getUint8(_);return String.fromCharCode.apply(null,C)},H.UTF16=function(y,_,T){for(var C=[],O=T/2,B=0;B<O;B++,_+=2)C[B]=y.getUint16(_);return String.fromCharCode.apply(null,C)},$.UTF16=function(y){for(var _=[],T=0;T<y.length;T+=1){var C=y.charCodeAt(T);_[_.length]=C>>8&255,_[_.length]=255&C}return _},ie.UTF16=function(y){return 2*y.length};var ve,xe={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},fe=(H.MACSTRING=function(y,_,T,C){var O=xe[C];if(O!==void 0){for(var B="",F=0;F<T;F++){var oe=y.getUint8(_+F);B+=oe<=127?String.fromCharCode(oe):O[127&oe]}return B}},typeof WeakMap=="function"&&new WeakMap);function W(y){return-128<=y&&y<=127}$.MACSTRING=function(y,_){var T=function(F){if(!ve)for(var oe in ve={},xe)ve[oe]=new String(oe);var de=ve[F];if(de!==void 0){if(fe){var ce=fe.get(de);if(ce!==void 0)return ce}var Te=xe[F];if(Te!==void 0){for(var ke={},Ae=0;Ae<Te.length;Ae++)ke[Te.charCodeAt(Ae)]=Ae+128;return fe&&fe.set(de,ke),ke}}}(_);if(T!==void 0){for(var C=[],O=0;O<y.length;O++){var B=y.charCodeAt(O);if(128<=B&&(B=T[B])===void 0)return;C[O]=B}return C}},ie.MACSTRING=function(y,_){return y=$.MACSTRING(y,_),y!==void 0?y.length:0},$.VARDELTAS=function(y){for(var C=0,_=[];C<y.length;)var T=y[C],C=(T===0?function(O,B,F){for(var oe=0,de=O.length;B<de&&oe<64&&O[B]===0;)++B,++oe;return F.push(128|oe-1),B}:-128<=T&&T<=127?function(O,B,F){for(var oe=0,de=O.length,ce=B;ce<de&&oe<64;){var Te=O[ce];if(!W(Te)||Te===0&&ce+1<de&&O[ce+1]===0)break;++ce,++oe}F.push(oe-1);for(var ke=B;ke<ce;++ke)F.push(O[ke]+256&255);return ce}:function(O,B,F){for(var oe=0,de=O.length,ce=B;ce<de&&oe<64;){var Te=O[ce];if(Te===0||W(Te)&&ce+1<de&&W(O[ce+1]))break;++ce,++oe}F.push(64|oe-1);for(var ke=B;ke<ce;++ke){var Ae=O[ke];F.push(Ae+65536>>8&255,Ae+256&255)}return ce})(y,C,_);return _},$.INDEX=function(y){for(var _=1,T=[_],C=[],O=0;O<y.length;O+=1){var B=$.OBJECT(y[O]);Array.prototype.push.apply(C,B),_+=B.length,T.push(_)}if(C.length===0)return[0,0];for(var F=[],oe=1+Math.floor(Math.log(_)/Math.log(2))/8|0,de=[void 0,$.BYTE,$.USHORT,$.UINT24,$.ULONG][oe],ce=0;ce<T.length;ce+=1){var Te=de(T[ce]);Array.prototype.push.apply(F,Te)}return Array.prototype.concat($.Card16(y.length),$.OffSize(oe),F,C)},ie.INDEX=function(y){return $.INDEX(y).length},$.DICT=function(y){for(var _=[],T=Object.keys(y),C=T.length,O=0;O<C;O+=1){var B=parseInt(T[O],0),F=y[B];_=(_=_.concat($.OPERAND(F.value,F.type))).concat($.OPERATOR(B))}return _},ie.DICT=function(y){return $.DICT(y).length},$.OPERATOR=function(y){return y<1200?[y]:[12,y-1200]},$.OPERAND=function(y,_){var T=[];if(Array.isArray(_))for(var C=0;C<_.length;C+=1)L.argument(y.length===_.length,"Not enough arguments given for type"+_),T=T.concat($.OPERAND(y[C],_[C]));else if(_==="SID")T=T.concat($.NUMBER(y));else if(_==="offset")T=T.concat($.NUMBER32(y));else if(_==="number")T=T.concat($.NUMBER(y));else{if(_!=="real")throw new Error("Unknown operand type "+_);T=T.concat($.REAL(y))}return T},$.OP=$.BYTE,ie.OP=ie.BYTE;var re=typeof WeakMap=="function"&&new WeakMap;function q(y,_,T){for(var C=0;C<_.length;C+=1){var O=_[C];this[O.name]=O.value}if(this.tableName=y,this.fields=_,T)for(var B=Object.keys(T),F=0;F<B.length;F+=1){var oe=B[F],de=T[oe];this[oe]!==void 0&&(this[oe]=de)}}function le(y,_,T){T===void 0&&(T=_.length);var C=new Array(_.length+1);C[0]={name:y+"Count",type:"USHORT",value:T};for(var O=0;O<_.length;O++)C[O+1]={name:y+O,type:"USHORT",value:_[O]};return C}function ue(y,_,T){var C=_.length,O=new Array(C+1);O[0]={name:y+"Count",type:"USHORT",value:C};for(var B=0;B<C;B++)O[B+1]={name:y+B,type:"TABLE",value:T(_[B],B)};return O}function ge(y,_,T){var C=_.length,O=[];O[0]={name:y+"Count",type:"USHORT",value:C};for(var B=0;B<C;B++)O=O.concat(T(_[B],B));return O}function pe(y){y.format===1?q.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(le("glyph",y.glyphs))):L.assert(!1,"Can't create coverage table format 2 yet.")}function je(y){q.call(this,"scriptListTable",ge("scriptRecord",y,function(_,T){var C=_.script,O=C.defaultLangSys;return L.assert(!!O,"Unable to write GSUB: script "+_.tag+" has no default language system."),[{name:"scriptTag"+T,type:"TAG",value:_.tag},{name:"script"+T,type:"TABLE",value:new q("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new q("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:O.reqFeatureIndex}].concat(le("featureIndex",O.featureIndexes)))}].concat(ge("langSys",C.langSysRecords,function(B,F){var oe=B.langSys;return[{name:"langSysTag"+F,type:"TAG",value:B.tag},{name:"langSys"+F,type:"TABLE",value:new q("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:oe.reqFeatureIndex}].concat(le("featureIndex",oe.featureIndexes)))}]})))}]}))}function Se(y){q.call(this,"featureListTable",ge("featureRecord",y,function(_,T){var C=_.feature;return[{name:"featureTag"+T,type:"TAG",value:_.tag},{name:"feature"+T,type:"TABLE",value:new q("featureTable",[{name:"featureParams",type:"USHORT",value:C.featureParams}].concat(le("lookupListIndex",C.lookupListIndexes)))}]}))}function Ce(y,_){q.call(this,"lookupListTable",ue("lookup",y,function(T){var C=_[T.lookupType];return L.assert(!!C,"Unable to write GSUB lookup type "+T.lookupType+" tables."),new q("lookupTable",[{name:"lookupType",type:"USHORT",value:T.lookupType},{name:"lookupFlag",type:"USHORT",value:T.lookupFlag}].concat(ue("subtable",T.subtables,C)))}))}$.CHARSTRING=function(y){if(re){var _=re.get(y);if(_!==void 0)return _}for(var B=[],T=y.length,C=0;C<T;C+=1)var O=y[C],B=B.concat($[O.type](O.value));return re&&re.set(y,B),B},ie.CHARSTRING=function(y){return $.CHARSTRING(y).length},$.OBJECT=function(y){var _=$[y.type];return L.argument(_!==void 0,"No encoding function for type "+y.type),_(y.value)},ie.OBJECT=function(y){var _=ie[y.type];return L.argument(_!==void 0,"No sizeOf function for type "+y.type),_(y.value)},$.TABLE=function(y){for(var _=[],T=y.fields.length,C=[],O=[],B=0;B<T;B+=1){var F=y.fields[B],de=$[F.type],oe=(L.argument(de!==void 0,"No encoding function for field type "+F.type+" ("+F.name+")"),y[F.name]),de=de(oe=oe===void 0?F.value:oe);F.type==="TABLE"?(O.push(_.length),_=_.concat([0,0]),C.push(de)):_=_.concat(de)}for(var ce=0;ce<C.length;ce+=1){var Te=O[ce],ke=_.length;L.argument(ke<65536,"Table "+y.tableName+" too big."),_[Te]=ke>>8,_[Te+1]=255&ke,_=_.concat(C[ce])}return _},ie.TABLE=function(y){for(var _=0,T=y.fields.length,C=0;C<T;C+=1){var O=y.fields[C],B=ie[O.type],F=(L.argument(B!==void 0,"No sizeOf function for field type "+O.type+" ("+O.name+")"),y[O.name]);_+=B(F=F===void 0?O.value:F),O.type==="TABLE"&&(_+=2)}return _},$.RECORD=$.TABLE,ie.RECORD=ie.TABLE,$.LITERAL=function(y){return y},ie.LITERAL=function(y){return y.length},q.prototype.encode=function(){return $.TABLE(this)},q.prototype.sizeOf=function(){return ie.TABLE(this)};var Re={Table:q,Record:q,Coverage:(pe.prototype=Object.create(q.prototype)).constructor=pe,ScriptList:(je.prototype=Object.create(q.prototype)).constructor=je,FeatureList:(Se.prototype=Object.create(q.prototype)).constructor=Se,LookupList:(Ce.prototype=Object.create(q.prototype)).constructor=Ce,ushortList:le,tableList:ue,recordList:ge};function Ne(y,_){return y.getUint8(_)}function He(y,_){return y.getUint16(_,!1)}function Ge(y,_){return y.getUint32(_,!1)}function $e(y,_){return y.getInt16(_,!1)+y.getUint16(_+2,!1)/65535}var Ze={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ee(y,_){this.data=y,this.offset=_,this.relativeOffset=0}Ee.prototype.parseByte=function(){var y=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,y},Ee.prototype.parseChar=function(){var y=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,y},Ee.prototype.parseCard8=Ee.prototype.parseByte,Ee.prototype.parseCard16=Ee.prototype.parseUShort=function(){var y=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,y},Ee.prototype.parseSID=Ee.prototype.parseUShort,Ee.prototype.parseOffset16=Ee.prototype.parseUShort,Ee.prototype.parseShort=function(){var y=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,y},Ee.prototype.parseF2Dot14=function(){var y=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,y},Ee.prototype.parseOffset32=Ee.prototype.parseULong=function(){var y=Ge(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,y},Ee.prototype.parseFixed=function(){var y=$e(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,y},Ee.prototype.parseString=function(y){var _=this.data,T=this.offset+this.relativeOffset,C="";this.relativeOffset+=y;for(var O=0;O<y;O++)C+=String.fromCharCode(_.getUint8(T+O));return C},Ee.prototype.parseTag=function(){return this.parseString(4)},Ee.prototype.parseLongDateTime=function(){var y=Ge(this.data,this.offset+this.relativeOffset+4);return y-=2082844800,this.relativeOffset+=8,y},Ee.prototype.parseVersion=function(y){var _=He(this.data,this.offset+this.relativeOffset),T=He(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,_+T/(y=y===void 0?4096:y)/10},Ee.prototype.skip=function(y,_){this.relativeOffset+=Ze[y]*(_=_===void 0?1:_)},Ee.prototype.parseULongList=function(y){y===void 0&&(y=this.parseULong());for(var _=new Array(y),T=this.data,C=this.offset+this.relativeOffset,O=0;O<y;O++)_[O]=T.getUint32(C),C+=4;return this.relativeOffset+=4*y,_},Ee.prototype.parseOffset16List=Ee.prototype.parseUShortList=function(y){y===void 0&&(y=this.parseUShort());for(var _=new Array(y),T=this.data,C=this.offset+this.relativeOffset,O=0;O<y;O++)_[O]=T.getUint16(C),C+=2;return this.relativeOffset+=2*y,_},Ee.prototype.parseShortList=function(y){for(var _=new Array(y),T=this.data,C=this.offset+this.relativeOffset,O=0;O<y;O++)_[O]=T.getInt16(C),C+=2;return this.relativeOffset+=2*y,_},Ee.prototype.parseByteList=function(y){for(var _=new Array(y),T=this.data,C=this.offset+this.relativeOffset,O=0;O<y;O++)_[O]=T.getUint8(C++);return this.relativeOffset+=y,_},Ee.prototype.parseList=function(y,_){_||(_=y,y=this.parseUShort());for(var T=new Array(y),C=0;C<y;C++)T[C]=_.call(this);return T},Ee.prototype.parseList32=function(y,_){_||(_=y,y=this.parseULong());for(var T=new Array(y),C=0;C<y;C++)T[C]=_.call(this);return T},Ee.prototype.parseRecordList=function(y,_){_||(_=y,y=this.parseUShort());for(var T=new Array(y),C=Object.keys(_),O=0;O<y;O++){for(var B={},F=0;F<C.length;F++){var oe=C[F],de=_[oe];B[oe]=de.call(this)}T[O]=B}return T},Ee.prototype.parseRecordList32=function(y,_){_||(_=y,y=this.parseULong());for(var T=new Array(y),C=Object.keys(_),O=0;O<y;O++){for(var B={},F=0;F<C.length;F++){var oe=C[F],de=_[oe];B[oe]=de.call(this)}T[O]=B}return T},Ee.prototype.parseStruct=function(y){if(typeof y=="function")return y.call(this);for(var _=Object.keys(y),T={},C=0;C<_.length;C++){var O=_[C],B=y[O];T[O]=B.call(this)}return T},Ee.prototype.parseValueRecord=function(y){var _;if((y=y===void 0?this.parseUShort():y)!==0)return _={},1&y&&(_.xPlacement=this.parseShort()),2&y&&(_.yPlacement=this.parseShort()),4&y&&(_.xAdvance=this.parseShort()),8&y&&(_.yAdvance=this.parseShort()),16&y&&(_.xPlaDevice=void 0,this.parseShort()),32&y&&(_.yPlaDevice=void 0,this.parseShort()),64&y&&(_.xAdvDevice=void 0,this.parseShort()),128&y&&(_.yAdvDevice=void 0,this.parseShort()),_},Ee.prototype.parseValueRecordList=function(){for(var y=this.parseUShort(),_=this.parseUShort(),T=new Array(_),C=0;C<_;C++)T[C]=this.parseValueRecord(y);return T},Ee.prototype.parsePointer=function(y){var _=this.parseOffset16();if(0<_)return new Ee(this.data,this.offset+_).parseStruct(y)},Ee.prototype.parsePointer32=function(y){var _=this.parseOffset32();if(0<_)return new Ee(this.data,this.offset+_).parseStruct(y)},Ee.prototype.parseListOfLists=function(y){for(var _=this.parseOffset16List(),T=_.length,C=this.relativeOffset,O=new Array(T),B=0;B<T;B++){var F=_[B];if(F===0)O[B]=void 0;else if(this.relativeOffset=F,y){for(var oe=this.parseOffset16List(),de=new Array(oe.length),ce=0;ce<oe.length;ce++)this.relativeOffset=F+oe[ce],de[ce]=y.call(this);O[B]=de}else O[B]=this.parseUShortList()}return this.relativeOffset=C,O},Ee.prototype.parseCoverage=function(){var y=this.offset+this.relativeOffset,_=this.parseUShort(),T=this.parseUShort();if(_===1)return{format:1,glyphs:this.parseUShortList(T)};if(_!==2)throw new Error("0x"+y.toString(16)+": Coverage format must be 1 or 2.");for(var C=new Array(T),O=0;O<T;O++)C[O]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:C}},Ee.prototype.parseClassDef=function(){var y=this.offset+this.relativeOffset,_=this.parseUShort();if(_===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(_===2)return{format:2,ranges:this.parseRecordList({start:Ee.uShort,end:Ee.uShort,classId:Ee.uShort})};throw new Error("0x"+y.toString(16)+": ClassDef format must be 1 or 2.")},Ee.list=function(y,_){return function(){return this.parseList(y,_)}},Ee.list32=function(y,_){return function(){return this.parseList32(y,_)}},Ee.recordList=function(y,_){return function(){return this.parseRecordList(y,_)}},Ee.recordList32=function(y,_){return function(){return this.parseRecordList32(y,_)}},Ee.pointer=function(y){return function(){return this.parsePointer(y)}},Ee.pointer32=function(y){return function(){return this.parsePointer32(y)}},Ee.tag=Ee.prototype.parseTag,Ee.byte=Ee.prototype.parseByte,Ee.uShort=Ee.offset16=Ee.prototype.parseUShort,Ee.uShortList=Ee.prototype.parseUShortList,Ee.uLong=Ee.offset32=Ee.prototype.parseULong,Ee.uLongList=Ee.prototype.parseULongList,Ee.struct=Ee.prototype.parseStruct,Ee.coverage=Ee.prototype.parseCoverage,Ee.classDef=Ee.prototype.parseClassDef;var Fe={reserved:Ee.uShort,reqFeatureIndex:Ee.uShort,featureIndexes:Ee.uShortList},Pe=(Ee.prototype.parseScriptList=function(){return this.parsePointer(Ee.recordList({tag:Ee.tag,script:Ee.pointer({defaultLangSys:Ee.pointer(Fe),langSysRecords:Ee.recordList({tag:Ee.tag,langSys:Ee.pointer(Fe)})})}))||[]},Ee.prototype.parseFeatureList=function(){return this.parsePointer(Ee.recordList({tag:Ee.tag,feature:Ee.pointer({featureParams:Ee.offset16,lookupListIndexes:Ee.uShortList})}))||[]},Ee.prototype.parseLookupList=function(y){return this.parsePointer(Ee.list(Ee.pointer(function(){var _=this.parseUShort(),T=(L.argument(1<=_&&_<=9,"GPOS/GSUB lookup type "+_+" unknown."),this.parseUShort()),C=16&T;return{lookupType:_,lookupFlag:T,subtables:this.parseList(Ee.pointer(y[_])),markFilteringSet:C?this.parseUShort():void 0}})))||[]},Ee.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var y=this.parseUShort(),_=this.parseUShort();return L.argument(y===1&&_<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ee.offset32,featureTableSubstitutionOffset:Ee.offset32})})||[]},{getByte:Ne,getCard8:Ne,getUShort:He,getCard16:He,getShort:function(y,_){return y.getInt16(_,!1)},getULong:Ge,getFixed:$e,getTag:function(y,_){for(var T="",C=_;C<_+4;C+=1)T+=String.fromCharCode(y.getInt8(C));return T},getOffset:function(y,_,T){for(var C=0,O=0;O<T;O+=1)C=(C<<=8)+y.getUint8(_+O);return C},getBytes:function(y,_,T){for(var C=[],O=_;O<T;O+=1)C.push(y.getUint8(O));return C},bytesToString:function(y){for(var _="",T=0;T<y.length;T+=1)_+=String.fromCharCode(y[T]);return _},Parser:Ee}),Q={parse:function(y,_){for(var T={},C=(T.version=Pe.getUShort(y,_),L.argument(T.version===0,"cmap table version should be 0."),T.numTables=Pe.getUShort(y,_+2),-1),O=T.numTables-1;0<=O;--O){var B=Pe.getUShort(y,_+4+8*O),F=Pe.getUShort(y,_+4+8*O+2);if(B===3&&(F===0||F===1||F===10)||B===0&&(F===0||F===1||F===2||F===3||F===4)){C=Pe.getULong(y,_+4+8*O+4);break}}if(C===-1)throw new Error("No valid cmap sub-tables found.");var oe=new Pe.Parser(y,_+C);if(T.format=oe.parseUShort(),T.format===12){var de,ce=T,Te=oe;Te.parseUShort(),ce.length=Te.parseULong(),ce.language=Te.parseULong(),ce.groupCount=de=Te.parseULong(),ce.glyphIndexMap={};for(var ke=0;ke<de;ke+=1)for(var Ae=Te.parseULong(),be=Te.parseULong(),We=Te.parseULong(),Le=Ae;Le<=be;Le+=1)ce.glyphIndexMap[Le]=We,We++}else{if(T.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+T.format+").");var Ve=T,De=y,Ie=_,dt=C;Ve.length=oe.parseUShort(),Ve.language=oe.parseUShort(),Ve.segCount=yt=oe.parseUShort()>>1,oe.skip("uShort",3),Ve.glyphIndexMap={};for(var yt,ht=new Pe.Parser(De,Ie+dt+14),ft=new Pe.Parser(De,Ie+dt+16+2*yt),St=new Pe.Parser(De,Ie+dt+16+4*yt),zt=new Pe.Parser(De,Ie+dt+16+6*yt),rr=Ie+dt+16+8*yt,dr=0;dr<yt-1;dr+=1)for(var Br=void 0,Ur=ht.parseUShort(),So=ft.parseUShort(),Gt=St.parseShort(),Yt=zt.parseUShort(),Ut=So;Ut<=Ur;Ut+=1)Yt!==0?(rr=(rr=zt.offset+zt.relativeOffset-2)+Yt+2*(Ut-So),(Br=Pe.getUShort(De,rr))!==0&&(Br=Br+Gt&65535)):Br=Ut+Gt&65535,Ve.glyphIndexMap[Ut]=Br}return T},make:function(y){for(var _=!0,T=y.length-1;0<T;--T)if(65535<y.get(T).unicode){console.log("Adding CMAP format 12 (needed!)"),_=!1;break}var C,O,B=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:_?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:_?12:20}],F=(B=(B=_?B:B.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Re.Table("cmap",B));for(F.segments=[],T=0;T<y.length;T+=1){for(var oe=y.get(T),de=0;de<oe.unicodes.length;de+=1)C=oe.unicodes[de],O=T,F.segments.push({end:C,start:C,delta:-(C-O),offset:0,glyphIndex:O});F.segments=F.segments.sort(function(Ie,dt){return Ie.start-dt.start})}F.segments.push({end:65535,start:65535,delta:1,offset:0});var ce=F.segments.length,Te=0,ke=[],Ae=[],be=[],We=[],Le=[],Ve=[];for(T=0;T<ce;T+=1){var De=F.segments[T];De.end<=65535&&De.start<=65535?(ke=ke.concat({name:"end_"+T,type:"USHORT",value:De.end}),Ae=Ae.concat({name:"start_"+T,type:"USHORT",value:De.start}),be=be.concat({name:"idDelta_"+T,type:"SHORT",value:De.delta}),We=We.concat({name:"idRangeOffset_"+T,type:"USHORT",value:De.offset}),De.glyphId!==void 0&&(Le=Le.concat({name:"glyph_"+T,type:"USHORT",value:De.glyphId}))):Te+=1,_||De.glyphIndex===void 0||(Ve=(Ve=(Ve=Ve.concat({name:"cmap12Start_"+T,type:"ULONG",value:De.start})).concat({name:"cmap12End_"+T,type:"ULONG",value:De.end})).concat({name:"cmap12Glyph_"+T,type:"ULONG",value:De.glyphIndex}))}return F.segCountX2=2*(ce-Te),F.searchRange=2*Math.pow(2,Math.floor(Math.log(ce-Te)/Math.log(2))),F.entrySelector=Math.log(F.searchRange/2)/Math.log(2),F.rangeShift=F.segCountX2-F.searchRange,F.fields=F.fields.concat(ke),F.fields.push({name:"reservedPad",type:"USHORT",value:0}),F.fields=F.fields.concat(Ae),F.fields=F.fields.concat(be),F.fields=F.fields.concat(We),F.fields=F.fields.concat(Le),F.cmap4Length=14+2*ke.length+2+2*Ae.length+2*be.length+2*We.length+2*Le.length,_||(B=16+4*Ve.length,F.cmap12Offset=20+F.cmap4Length,F.fields=F.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:B},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ve.length/3}]),F.fields=F.fields.concat(Ve)),F}},ne=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],z=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ae=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],_e=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Oe(y){this.font=y}function Ue(y){this.cmap=y}function Ye(y,_){this.encoding=y,this.charset=_}function Qe(y){switch(y.version){case 1:this.names=_e.slice();break;case 2:this.names=new Array(y.numberOfGlyphs);for(var _=0;_<y.numberOfGlyphs;_++)y.glyphNameIndex[_]<_e.length?this.names[_]=_e[y.glyphNameIndex[_]]:this.names[_]=y.names[y.glyphNameIndex[_]-_e.length];break;case 2.5:this.names=new Array(y.numberOfGlyphs);for(var T=0;T<y.numberOfGlyphs;T++)this.names[T]=_e[T+y.glyphNameIndex[T]];break;default:this.names=[]}}Oe.prototype.charToGlyphIndex=function(y){var _=y.codePointAt(0),T=this.font.glyphs;if(T){for(var C=0;C<T.length;C+=1)for(var O=T.get(C),B=0;B<O.unicodes.length;B+=1)if(O.unicodes[B]===_)return C}return null},Ue.prototype.charToGlyphIndex=function(y){return this.cmap.glyphIndexMap[y.codePointAt(0)]||0},Ye.prototype.charToGlyphIndex=function(y){return y=y.codePointAt(0),y=this.encoding[y],this.charset.indexOf(y)},Qe.prototype.nameToGlyphIndex=function(y){return this.names.indexOf(y)},Qe.prototype.glyphIndexToName=function(y){return this.names[y]};var et={line:function(y,_,T,C,O){y.beginPath(),y.moveTo(_,T),y.lineTo(C,O),y.stroke()}};function nt(y){this.bindConstructorValues(y)}function vt(y,_,T){Object.defineProperty(y,_,{get:function(){return y.path,y[T]},set:function(C){y[T]=C},enumerable:!0,configurable:!0})}function mt(y,_){if(this.font=y,this.glyphs={},Array.isArray(_))for(var T=0;T<_.length;T++)this.glyphs[T]=_[T];this.length=_&&_.length||0}nt.prototype.bindConstructorValues=function(y){var _;this.index=y.index||0,this.name=y.name||null,this.unicode=y.unicode||void 0,this.unicodes=y.unicodes||y.unicode!==void 0?[y.unicode]:[],y.xMin&&(this.xMin=y.xMin),y.yMin&&(this.yMin=y.yMin),y.xMax&&(this.xMax=y.xMax),y.yMax&&(this.yMax=y.yMax),y.advanceWidth&&(this.advanceWidth=y.advanceWidth),Object.defineProperty(this,"path",(y=y.path,_=y||new se,{configurable:!0,get:function(){return _=typeof _=="function"?_():_},set:function(T){_=T}}))},nt.prototype.addUnicode=function(y){this.unicodes.length===0&&(this.unicode=y),this.unicodes.push(y)},nt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},nt.prototype.getPath=function(y,_,T,C,O){y=y!==void 0?y:0,_=_!==void 0?_:0,T=T!==void 0?T:72;for(var B,F,oe=(C=C||{}).xScale,de=C.yScale,ce=((B=C.hinting&&O&&O.hinting?this.path&&O.hinting.exec(this,T):B)?(F=O.hinting.getCommands(B),y=Math.round(y),_=Math.round(_),oe=de=1):(F=this.path.commands,C=1/this.path.unitsPerEm*T,oe===void 0&&(oe=C),de===void 0&&(de=C)),new se),Te=0;Te<F.length;Te+=1){var ke=F[Te];ke.type==="M"?ce.moveTo(y+ke.x*oe,_+-ke.y*de):ke.type==="L"?ce.lineTo(y+ke.x*oe,_+-ke.y*de):ke.type==="Q"?ce.quadraticCurveTo(y+ke.x1*oe,_+-ke.y1*de,y+ke.x*oe,_+-ke.y*de):ke.type==="C"?ce.curveTo(y+ke.x1*oe,_+-ke.y1*de,y+ke.x2*oe,_+-ke.y2*de,y+ke.x*oe,_+-ke.y*de):ke.type==="Z"&&ce.closePath()}return ce},nt.prototype.getContours=function(){if(this.points===void 0)return[];for(var y=[],_=[],T=0;T<this.points.length;T+=1){var C=this.points[T];_.push(C),C.lastPointOfContour&&(y.push(_),_=[])}return L.argument(_.length===0,"There are still points left in the current contour."),y},nt.prototype.getMetrics=function(){for(var y=this.path.commands,_=[],T=[],C=0;C<y.length;C+=1){var O=y[C];O.type!=="Z"&&(_.push(O.x),T.push(O.y)),O.type!=="Q"&&O.type!=="C"||(_.push(O.x1),T.push(O.y1)),O.type==="C"&&(_.push(O.x2),T.push(O.y2))}var B={xMin:Math.min.apply(null,_),yMin:Math.min.apply(null,T),xMax:Math.max.apply(null,_),yMax:Math.max.apply(null,T),leftSideBearing:this.leftSideBearing};return isFinite(B.xMin)||(B.xMin=0),isFinite(B.xMax)||(B.xMax=this.advanceWidth),isFinite(B.yMin)||(B.yMin=0),isFinite(B.yMax)||(B.yMax=0),B.rightSideBearing=this.advanceWidth-B.leftSideBearing-(B.xMax-B.xMin),B},nt.prototype.draw=function(y,_,T,C,O){this.getPath(_,T,C,O).draw(y)},nt.prototype.drawPoints=function(y,_,T,C){function O(Te,ke,Ae,be){var We=2*Math.PI;y.beginPath();for(var Le=0;Le<Te.length;Le+=1)y.moveTo(ke+Te[Le].x*be,Ae+Te[Le].y*be),y.arc(ke+Te[Le].x*be,Ae+Te[Le].y*be,2,0,We,!1);y.closePath(),y.fill()}_=_!==void 0?_:0,T=T!==void 0?T:0;for(var C=1/this.path.unitsPerEm*(C=C!==void 0?C:24),B=[],F=[],oe=this.path,de=0;de<oe.commands.length;de+=1){var ce=oe.commands[de];ce.x!==void 0&&B.push({x:ce.x,y:-ce.y}),ce.x1!==void 0&&F.push({x:ce.x1,y:-ce.y1}),ce.x2!==void 0&&F.push({x:ce.x2,y:-ce.y2})}y.fillStyle="blue",O(B,_,T,C),y.fillStyle="red",O(F,_,T,C)},nt.prototype.drawMetrics=function(y,_,T,C){_=_!==void 0?_:0,T=T!==void 0?T:0,C=1/this.path.unitsPerEm*(C=C!==void 0?C:24),y.lineWidth=1,y.strokeStyle="black",et.line(y,_,-1e4,_,1e4),et.line(y,-1e4,T,1e4,T);var O=this.xMin||0,B=this.yMin||0,F=this.xMax||0,oe=this.yMax||0,de=this.advanceWidth||0;y.strokeStyle="blue",et.line(y,_+O*C,-1e4,_+O*C,1e4),et.line(y,_+F*C,-1e4,_+F*C,1e4),et.line(y,-1e4,T+-B*C,1e4,T+-B*C),et.line(y,-1e4,T+-oe*C,1e4,T+-oe*C),y.strokeStyle="green",et.line(y,_+de*C,-1e4,_+de*C,1e4)},mt.prototype.get=function(y){return typeof this.glyphs[y]=="function"&&(this.glyphs[y]=this.glyphs[y]()),this.glyphs[y]},mt.prototype.push=function(y,_){this.glyphs[y]=_,this.length++};var ct={GlyphSet:mt,glyphLoader:function(y,_){return new nt({index:_,font:y})},ttfGlyphLoader:function(y,_,T,C,O,B){return function(){var F=new nt({index:_,font:y});return F.path=function(){T(F,C,O);var oe=B(y.glyphs,F);return oe.unitsPerEm=y.unitsPerEm,oe},vt(F,"xMin","_xMin"),vt(F,"xMax","_xMax"),vt(F,"yMin","_yMin"),vt(F,"yMax","_yMax"),F}},cffGlyphLoader:function(y,_,T,C){return function(){var O=new nt({index:_,font:y});return O.path=function(){var B=T(y,O,C);return B.unitsPerEm=y.unitsPerEm,B},O}}};function gt(y){return y=y.length<1240?107:y.length<33900?1131:32768,y}function pt(y,_,T){var C,O=[],B=[],F=Pe.getCard16(y,_);if(F!==0){for(var oe=Pe.getByte(y,_+2),de=_+(F+1)*oe+2,ce=_+3,Te=0;Te<F+1;Te+=1)O.push(Pe.getOffset(y,ce,oe)),ce+=oe;C=de+O[F]}else C=_+2;for(var ke=0;ke<O.length-1;ke+=1){var Ae=Pe.getBytes(y,de+O[ke],de+O[ke+1]);T&&(Ae=T(Ae)),B.push(Ae)}return{objects:B,startOffset:_,endOffset:C}}function Wt(y,_){if(_===28)return y.parseByte()<<8|y.parseByte();if(_===29)return y.parseByte()<<24|y.parseByte()<<16|y.parseByte()<<8|y.parseByte();if(_===30){for(var T=y,C="",O=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var F=T.parseByte(),B=F>>4,F=15&F;if(B==15||(C+=O[B],F==15))break;C+=O[F]}return parseFloat(C)}if(32<=_&&_<=246)return _-139;if(247<=_&&_<=250)return 256*(_-247)+y.parseByte()+108;if(251<=_&&_<=254)return 256*-(_-251)-y.parseByte()-108;throw new Error("Invalid b0 "+_)}function Lr(y,_,T){var C=new Pe.Parser(y,_=_!==void 0?_:0),O=[],B=[];for(T=T!==void 0?T:y.length;C.relativeOffset<T;){var F=C.parseByte();F<=21?(F===12&&(F=1200+C.parseByte()),O.push([F,B]),B=[]):B.push(Wt(C,F))}for(var oe=O,de={},ce=0;ce<oe.length;ce+=1){var Te=oe[ce][0],ke=oe[ce][1],Ae=void 0,Ae=ke.length===1?ke[0]:ke;if(de.hasOwnProperty(Te)&&!isNaN(de[Te]))throw new Error("Object "+de+" already has key "+Te);de[Te]=Ae}return de}function ur(y,_){return _=_<=390?ne[_]:y[_-391]}function Lt(y,_,T){for(var C,O={},B=0;B<_.length;B+=1){var F=_[B];if(Array.isArray(F.type)){var oe=[];oe.length=F.type.length;for(var de=0;de<F.type.length;de++)(C=y[F.op]!==void 0?y[F.op][de]:void 0)===void 0&&(C=F.value!==void 0&&F.value[de]!==void 0?F.value[de]:null),F.type[de]==="SID"&&(C=ur(T,C)),oe[de]=C;O[F.name]=oe}else(C=y[F.op])===void 0&&(C=F.value!==void 0?F.value:null),F.type==="SID"&&(C=ur(T,C)),O[F.name]=C}return O}var Xt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Mt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Er(y,_,T,C){return Lt(Lr(y,_,T),Mt,C)}function vr(y,_,T,C){for(var O=[],B=0;B<T.length;B+=1){var F=new DataView(new Uint8Array(T[B]).buffer),F=(oe=C,Lt(Lr(F,0,F.byteLength),Xt,oe)),oe=(F._subrs=[],F._subrsBias=0,F.private[0]),de=F.private[1];oe!==0&&de!==0&&(oe=Er(y,de+_,oe,C),F._defaultWidthX=oe.defaultWidthX,F._nominalWidthX=oe.nominalWidthX,oe.subrs!==0&&(de=pt(y,de+oe.subrs+_),F._subrs=de.objects,F._subrsBias=gt(F._subrs)),F._privateDict=oe),O.push(F)}return O}function Nt(y,_,T){var C,O,B,F,oe,de,ce,Te,ke,Ae=new se,be=[],We=0,Le=!1,Ve=!1,De=0,Ie=0,dt=(ke=(y.isCIDFont?(oe=y.tables.cff.topDict._fdSelect[_.index],oe=y.tables.cff.topDict._fdArray[oe],de=oe._subrs,ce=oe._subrsBias,Te=oe._defaultWidthX,oe):(de=y.tables.cff.topDict._subrs,ce=y.tables.cff.topDict._subrsBias,Te=y.tables.cff.topDict._defaultWidthX,y.tables.cff.topDict))._nominalWidthX,Te);function yt(ft,St){Ve&&Ae.closePath(),Ae.moveTo(ft,St),Ve=!0}function ht(){be.length%2==0||Le||(dt=be.shift()+ke),We+=be.length>>1,be.length=0,Le=!0}return function ft(St){for(var zt,rr,dr,Br,Ur,So,Gt,Yt,Ut,Nr,Jt,Tr,Zt=0;Zt<St.length;){var xr=St[Zt];switch(Zt+=1,xr){case 1:case 3:ht();break;case 4:1<be.length&&!Le&&(dt=be.shift()+ke,Le=!0),Ie+=be.pop(),yt(De,Ie);break;case 5:for(;0<be.length;)De+=be.shift(),Ie+=be.shift(),Ae.lineTo(De,Ie);break;case 6:for(;0<be.length&&(De+=be.shift(),Ae.lineTo(De,Ie),be.length!==0);)Ie+=be.shift(),Ae.lineTo(De,Ie);break;case 7:for(;0<be.length&&(Ie+=be.shift(),Ae.lineTo(De,Ie),be.length!==0);)De+=be.shift(),Ae.lineTo(De,Ie);break;case 8:for(;0<be.length;)C=De+be.shift(),O=Ie+be.shift(),B=C+be.shift(),F=O+be.shift(),De=B+be.shift(),Ie=F+be.shift(),Ae.curveTo(C,O,B,F,De,Ie);break;case 10:Ur=be.pop()+ce,(So=de[Ur])&&ft(So);break;case 11:return;case 12:switch(xr=St[Zt],Zt+=1,xr){case 35:C=De+be.shift(),O=Ie+be.shift(),B=C+be.shift(),F=O+be.shift(),Gt=B+be.shift(),Yt=F+be.shift(),Ut=Gt+be.shift(),Nr=Yt+be.shift(),Jt=Ut+be.shift(),Tr=Nr+be.shift(),De=Jt+be.shift(),Ie=Tr+be.shift(),be.shift(),Ae.curveTo(C,O,B,F,Gt,Yt),Ae.curveTo(Ut,Nr,Jt,Tr,De,Ie);break;case 34:C=De+be.shift(),O=Ie,B=C+be.shift(),F=O+be.shift(),Gt=B+be.shift(),Yt=F,Ut=Gt+be.shift(),Nr=F,Jt=Ut+be.shift(),Tr=Ie,De=Jt+be.shift(),Ae.curveTo(C,O,B,F,Gt,Yt),Ae.curveTo(Ut,Nr,Jt,Tr,De,Ie);break;case 36:C=De+be.shift(),O=Ie+be.shift(),B=C+be.shift(),F=O+be.shift(),Gt=B+be.shift(),Yt=F,Ut=Gt+be.shift(),Nr=F,Jt=Ut+be.shift(),Tr=Nr+be.shift(),De=Jt+be.shift(),Ae.curveTo(C,O,B,F,Gt,Yt),Ae.curveTo(Ut,Nr,Jt,Tr,De,Ie);break;case 37:C=De+be.shift(),O=Ie+be.shift(),B=C+be.shift(),F=O+be.shift(),Gt=B+be.shift(),Yt=F+be.shift(),Ut=Gt+be.shift(),Nr=Yt+be.shift(),Jt=Ut+be.shift(),Tr=Nr+be.shift(),Math.abs(Jt-De)>Math.abs(Tr-Ie)?De=Jt+be.shift():Ie=Tr+be.shift(),Ae.curveTo(C,O,B,F,Gt,Yt),Ae.curveTo(Ut,Nr,Jt,Tr,De,Ie);break;default:console.log("Glyph "+_.index+": unknown operator 1200"+xr),be.length=0}break;case 14:0<be.length&&!Le&&(dt=be.shift()+ke,Le=!0),Ve&&(Ae.closePath(),Ve=!1);break;case 18:ht();break;case 19:case 20:ht(),Zt+=We+7>>3;break;case 21:2<be.length&&!Le&&(dt=be.shift()+ke,Le=!0),Ie+=be.pop(),yt(De+=be.pop(),Ie);break;case 22:1<be.length&&!Le&&(dt=be.shift()+ke,Le=!0),yt(De+=be.pop(),Ie);break;case 23:ht();break;case 24:for(;2<be.length;)C=De+be.shift(),O=Ie+be.shift(),B=C+be.shift(),F=O+be.shift(),De=B+be.shift(),Ie=F+be.shift(),Ae.curveTo(C,O,B,F,De,Ie);De+=be.shift(),Ie+=be.shift(),Ae.lineTo(De,Ie);break;case 25:for(;6<be.length;)De+=be.shift(),Ie+=be.shift(),Ae.lineTo(De,Ie);C=De+be.shift(),O=Ie+be.shift(),B=C+be.shift(),F=O+be.shift(),De=B+be.shift(),Ie=F+be.shift(),Ae.curveTo(C,O,B,F,De,Ie);break;case 26:for(be.length%2&&(De+=be.shift());0<be.length;)C=De,O=Ie+be.shift(),B=C+be.shift(),F=O+be.shift(),De=B,Ie=F+be.shift(),Ae.curveTo(C,O,B,F,De,Ie);break;case 27:for(be.length%2&&(Ie+=be.shift());0<be.length;)C=De+be.shift(),O=Ie,B=C+be.shift(),F=O+be.shift(),De=B+be.shift(),Ie=F,Ae.curveTo(C,O,B,F,De,Ie);break;case 28:zt=St[Zt],rr=St[Zt+1],be.push((zt<<24|rr<<16)>>16),Zt+=2;break;case 29:Ur=be.pop()+y.gsubrsBias,(So=y.gsubrs[Ur])&&ft(So);break;case 30:for(;0<be.length&&(C=De,O=Ie+be.shift(),B=C+be.shift(),F=O+be.shift(),De=B+be.shift(),Ie=F+(be.length===1?be.shift():0),Ae.curveTo(C,O,B,F,De,Ie),be.length!==0);)C=De+be.shift(),O=Ie,B=C+be.shift(),F=O+be.shift(),Ie=F+be.shift(),De=B+(be.length===1?be.shift():0),Ae.curveTo(C,O,B,F,De,Ie);break;case 31:for(;0<be.length&&(C=De+be.shift(),O=Ie,B=C+be.shift(),F=O+be.shift(),Ie=F+be.shift(),De=B+(be.length===1?be.shift():0),Ae.curveTo(C,O,B,F,De,Ie),be.length!==0);)C=De,O=Ie+be.shift(),B=C+be.shift(),F=O+be.shift(),De=B+be.shift(),Ie=F+(be.length===1?be.shift():0),Ae.curveTo(C,O,B,F,De,Ie);break;default:xr<32?console.log("Glyph "+_.index+": unknown operator "+xr):xr<247?be.push(xr-139):xr<251?(zt=St[Zt],Zt+=1,be.push(256*(xr-247)+zt+108)):xr<255?(zt=St[Zt],Zt+=1,be.push(256*-(xr-251)-zt-108)):(zt=St[Zt],rr=St[Zt+1],dr=St[Zt+2],Br=St[Zt+3],Zt+=4,be.push((zt<<24|rr<<16|dr<<8|Br)/65536))}}}(T),_.advanceWidth=dt,Ae}function jr(y,_){var T,C=ne.indexOf(y);return 0<=C&&(T=C),0<=(C=_.indexOf(y))?T=C+ne.length:(T=ne.length+_.length,_.push(y)),T}function Rn(y,_,T){for(var C={},O=0;O<y.length;O+=1){var B=y[O],F=_[B.name];F===void 0||function oe(de,ce){if(de===ce)return 1;if(Array.isArray(de)&&Array.isArray(ce)&&de.length===ce.length){for(var Te=0;Te<de.length;Te+=1)if(!oe(de[Te],ce[Te]))return;return 1}}(F,B.value)||(B.type==="SID"&&(F=jr(F,T)),C[B.op]={name:B.name,type:B.type,value:F})}return C}function Mn(y,_){var T=new Re.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return T.dict=Rn(Xt,y,_),T}function Pn(y){var _=new Re.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return _.topDicts=[{name:"topDict_0",type:"TABLE",value:y}],_}function pi(y){for(var _=new Re.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),T=0;T<y.length;T+=1){var C=y.get(T),O=function(B){for(var F=[],oe=B.path,de=(F.push({name:"width",type:"NUMBER",value:B.advanceWidth}),0),ce=0,Te=0;Te<oe.commands.length;Te+=1){var ke,Ae,be,We,Le=void 0,Ve=void 0,De=oe.commands[Te];(De=De.type==="Q"?{type:"C",x:De.x,y:De.y,x1:1/3*de+2/3*De.x1,y1:1/3*ce+2/3*De.y1,x2:1/3*De.x+2/3*De.x1,y2:1/3*De.y+2/3*De.y1}:De).type==="M"?(Le=Math.round(De.x-de),Ve=Math.round(De.y-ce),F.push({name:"dx",type:"NUMBER",value:Le}),F.push({name:"dy",type:"NUMBER",value:Ve}),F.push({name:"rmoveto",type:"OP",value:21}),de=Math.round(De.x),ce=Math.round(De.y)):De.type==="L"?(Le=Math.round(De.x-de),Ve=Math.round(De.y-ce),F.push({name:"dx",type:"NUMBER",value:Le}),F.push({name:"dy",type:"NUMBER",value:Ve}),F.push({name:"rlineto",type:"OP",value:5}),de=Math.round(De.x),ce=Math.round(De.y)):De.type==="C"&&(ke=Math.round(De.x1-de),Ae=Math.round(De.y1-ce),be=Math.round(De.x2-De.x1),We=Math.round(De.y2-De.y1),Le=Math.round(De.x-De.x2),Ve=Math.round(De.y-De.y2),F.push({name:"dx1",type:"NUMBER",value:ke}),F.push({name:"dy1",type:"NUMBER",value:Ae}),F.push({name:"dx2",type:"NUMBER",value:be}),F.push({name:"dy2",type:"NUMBER",value:We}),F.push({name:"dx",type:"NUMBER",value:Le}),F.push({name:"dy",type:"NUMBER",value:Ve}),F.push({name:"rrcurveto",type:"OP",value:8}),de=Math.round(De.x),ce=Math.round(De.y))}return F.push({name:"endchar",type:"OP",value:14}),F}(C);_.charStrings.push({name:C.name,type:"CHARSTRING",value:O})}return _}var An={parse:function(y,_,T){T.tables.cff={},oe=y,C=_,(O={}).formatMajor=Pe.getCard8(oe,C),O.formatMinor=Pe.getCard8(oe,C+1),O.size=Pe.getCard8(oe,C+2),O.offsetSize=Pe.getCard8(oe,C+3),O.startOffset=C,O.endOffset=C+4;var oe=pt(y,O.endOffset,Pe.bytesToString),C=pt(y,oe.endOffset),O=pt(y,C.endOffset,Pe.bytesToString),oe=pt(y,O.endOffset);if(T.gsubrs=oe.objects,T.gsubrsBias=gt(T.gsubrs),(oe=vr(y,_,C.objects,O.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+oe.length);if(C=oe[0],(T.tables.cff.topDict=C)._privateDict&&(T.defaultWidthX=C._privateDict.defaultWidthX,T.nominalWidthX=C._privateDict.nominalWidthX),C.ros[0]!==void 0&&C.ros[1]!==void 0&&(T.isCIDFont=!0),T.isCIDFont){var oe=C.fdArray,B=C.fdSelect;if(oe===0||B===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");oe=vr(y,_,pt(y,oe+=_).objects,O.objects),C._fdArray=oe,C._fdSelect=function(Ae,be,We,Le){var Ve,De=[],Ie=new Pe.Parser(Ae,be);if((Ae=Ie.parseCard8())===0)for(var dt=0;dt<We;dt++){if(Le<=(Ve=Ie.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ve+" (FD count "+Le+")");De.push(Ve)}else{if(Ae!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ae);var yt,ht=Ie.parseCard16(),ft=Ie.parseCard16();if(ft!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+ft);for(var St=0;St<ht;St++){if(Ve=Ie.parseCard8(),yt=Ie.parseCard16(),Le<=Ve)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ve+" (FD count "+Le+")");if(We<yt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+yt);for(;ft<yt;ft++)De.push(Ve);ft=yt}if(yt!==We)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+yt)}return De}(y,B+=_,T.numGlyphs,oe.length)}var B=_+C.private[1],oe=Er(y,B,C.private[0],O.objects),F=(T.defaultWidthX=oe.defaultWidthX,T.nominalWidthX=oe.nominalWidthX,oe.subrs!==0?(B=pt(y,B+oe.subrs),T.subrs=B.objects,T.subrsBias=gt(T.subrs)):(T.subrs=[],T.subrsBias=0),pt(y,_+C.charStrings)),oe=(T.nGlyphs=F.objects.length,function(Te,ke,Ae,be){var We=new Pe.Parser(Te,ke),Le=(--Ae,[".notdef"]);if((Te=We.parseCard8())===0)for(var Ve=0;Ve<Ae;Ve+=1)De=We.parseSID(),Le.push(ur(be,De));else if(Te===1)for(;Le.length<=Ae;)for(var De=We.parseSID(),Ie=We.parseCard8(),dt=0;dt<=Ie;dt+=1)Le.push(ur(be,De)),De+=1;else{if(Te!==2)throw new Error("Unknown charset format "+Te);for(;Le.length<=Ae;){De=We.parseSID(),Ie=We.parseCard16();for(var yt=0;yt<=Ie;yt+=1)Le.push(ur(be,De)),De+=1}}return Le}(y,_+C.charset,T.nGlyphs,O.objects));C.encoding===0?T.cffEncoding=new Ye(z,oe):C.encoding===1?T.cffEncoding=new Ye(ae,oe):T.cffEncoding=function(Te,ke,Ae){var be={},We=new Pe.Parser(Te,ke);if((Te=We.parseCard8())===0)for(var Le=We.parseCard8(),Ve=0;Ve<Le;Ve+=1)be[Ie=We.parseCard8()]=Ve;else{if(Te!==1)throw new Error("Unknown encoding format "+Te);for(var De=We.parseCard8(),Ie=1,dt=0;dt<De;dt+=1)for(var yt=We.parseCard8(),ht=We.parseCard8(),ft=yt;ft<=yt+ht;ft+=1)be[ft]=Ie,Ie+=1}return new Ye(be,Ae)}(y,_+C.encoding,oe),T.encoding=T.encoding||T.cffEncoding,T.glyphs=new ct.GlyphSet(T);for(var de=0;de<T.nGlyphs;de+=1){var ce=F.objects[de];T.glyphs.push(de,ct.cffGlyphLoader(T,de,Nt,ce))}},make:function(y,Te){for(var T,C=new Re.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),O=1/Te.unitsPerEm,O={version:Te.version,fullName:Te.fullName,familyName:Te.familyName,weight:Te.weightName,fontBBox:Te.fontBBox||[0,0,0,0],fontMatrix:[O,0,0,O,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},B=[],F=1;F<y.length;F+=1)T=y.get(F),B.push(T.name);var oe,de,ce=[],Te=(C.header=new Re.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),C.nameIndex=function(Ae){var be=new Re.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);be.names=[];for(var We=0;We<Ae.length;We+=1)be.names.push({name:"name_"+We,type:"NAME",value:Ae[We]});return be}([Te.postScriptName]),Mn(O,ce)),ke=(C.topDictIndex=Pn(Te),C.globalSubrIndex=new Re.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),C.charsets=function(Ae,be){for(var We=new Re.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Le=0;Le<Ae.length;Le+=1){var Ve=jr(Ae[Le],be);We.fields.push({name:"glyph_"+Le,type:"SID",value:Ve})}return We}(B,ce),C.charStringsIndex=pi(y),C.privateDict=(ke={},oe=ce,(de=new Re.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Rn(Mt,ke,oe),de),C.stringIndex=function(Ae){var be=new Re.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);be.strings=[];for(var We=0;We<Ae.length;We+=1)be.strings.push({name:"string_"+We,type:"STRING",value:Ae[We]});return be}(ce),C.header.sizeOf()+C.nameIndex.sizeOf()+C.topDictIndex.sizeOf()+C.stringIndex.sizeOf()+C.globalSubrIndex.sizeOf());return O.charset=ke,O.encoding=0,O.charStrings=O.charset+C.charsets.sizeOf(),O.private[1]=O.charStrings+C.charStringsIndex.sizeOf(),Te=Mn(O,ce),C.topDictIndex=Pn(Te),C}},On={parse:function(C,_){var T={},C=new Pe.Parser(C,_);return T.version=C.parseVersion(),T.fontRevision=Math.round(1e3*C.parseFixed())/1e3,T.checkSumAdjustment=C.parseULong(),T.magicNumber=C.parseULong(),L.argument(T.magicNumber===1594834165,"Font header has wrong magic number."),T.flags=C.parseUShort(),T.unitsPerEm=C.parseUShort(),T.created=C.parseLongDateTime(),T.modified=C.parseLongDateTime(),T.xMin=C.parseShort(),T.yMin=C.parseShort(),T.xMax=C.parseShort(),T.yMax=C.parseShort(),T.macStyle=C.parseUShort(),T.lowestRecPPEM=C.parseUShort(),T.fontDirectionHint=C.parseShort(),T.indexToLocFormat=C.parseShort(),T.glyphDataFormat=C.parseShort(),T},make:function(y){var _=Math.round(new Date().getTime()/1e3)+2082844800,T=_;return y.createdTimestamp&&(T=y.createdTimestamp+2082844800),new Re.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:T},{name:"modified",type:"LONGDATETIME",value:_},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],y)}},we={parse:function(C,_){var T={},C=new Pe.Parser(C,_);return T.version=C.parseVersion(),T.ascender=C.parseShort(),T.descender=C.parseShort(),T.lineGap=C.parseShort(),T.advanceWidthMax=C.parseUShort(),T.minLeftSideBearing=C.parseShort(),T.minRightSideBearing=C.parseShort(),T.xMaxExtent=C.parseShort(),T.caretSlopeRise=C.parseShort(),T.caretSlopeRun=C.parseShort(),T.caretOffset=C.parseShort(),C.relativeOffset+=8,T.metricDataFormat=C.parseShort(),T.numberOfHMetrics=C.parseUShort(),T},make:function(y){return new Re.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],y)}},Ke={parse:function(y,_,T,C,O){for(var B,F,oe=new Pe.Parser(y,_),de=0;de<C;de+=1){de<T&&(B=oe.parseUShort(),F=oe.parseShort());var ce=O.get(de);ce.advanceWidth=B,ce.leftSideBearing=F}},make:function(y){for(var _=new Re.Table("hmtx",[]),T=0;T<y.length;T+=1){var O=y.get(T),C=O.advanceWidth||0,O=O.leftSideBearing||0;_.fields.push({name:"advanceWidth_"+T,type:"USHORT",value:C}),_.fields.push({name:"leftSideBearing_"+T,type:"SHORT",value:O})}return _}},it={make:function(y){for(var _=new Re.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:y.length}]),T="",C=12+4*y.length,O=0;O<y.length;++O){var B=T.indexOf(y[O]);B<0&&(B=T.length,T+=y[O]),_.fields.push({name:"offset "+O,type:"USHORT",value:C+B}),_.fields.push({name:"length "+O,type:"USHORT",value:y[O].length})}return _.fields.push({name:"stringPool",type:"CHARARRAY",value:T}),_},parse:function(y,_){for(var T=new Pe.Parser(y,_),C=T.parseULong(),O=(L.argument(C===1,"Unsupported ltag table version."),T.skip("uLong",1),T.parseULong()),B=[],F=0;F<O;F++){for(var oe="",de=_+T.parseUShort(),ce=T.parseUShort(),Te=de;Te<de+ce;++Te)oe+=String.fromCharCode(y.getInt8(Te));B.push(oe)}return B}},Xe={parse:function(C,_){var T={},C=new Pe.Parser(C,_);return T.version=C.parseVersion(),T.numGlyphs=C.parseUShort(),T.version===1&&(T.maxPoints=C.parseUShort(),T.maxContours=C.parseUShort(),T.maxCompositePoints=C.parseUShort(),T.maxCompositeContours=C.parseUShort(),T.maxZones=C.parseUShort(),T.maxTwilightPoints=C.parseUShort(),T.maxStorage=C.parseUShort(),T.maxFunctionDefs=C.parseUShort(),T.maxInstructionDefs=C.parseUShort(),T.maxStackElements=C.parseUShort(),T.maxSizeOfInstructions=C.parseUShort(),T.maxComponentElements=C.parseUShort(),T.maxComponentDepth=C.parseUShort()),T},make:function(y){return new Re.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:y}])}},Et=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],ze={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Pt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ot={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Tt="utf-16",st={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},or={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function gr(y,_,T){switch(y){case 0:return Tt;case 1:return or[T]||st[_];case 3:if(_===1||_===10)return Tt}}function tr(y){var _,T={};for(_ in y)T[y[_]]=parseInt(_);return T}function br(y,_,T,C,O,B){return new Re.Record("NameRecord",[{name:"platformID",type:"USHORT",value:y},{name:"encodingID",type:"USHORT",value:_},{name:"languageID",type:"USHORT",value:T},{name:"nameID",type:"USHORT",value:C},{name:"length",type:"USHORT",value:O},{name:"offset",type:"USHORT",value:B}])}function Io(y,_){if((T=function(B,F){var oe=B.length,de=F.length-oe+1;e:for(var ce=0;ce<de;ce++)for(;ce<de;ce++){for(var Te=0;Te<oe;Te++)if(F[ce+Te]!==B[Te])continue e;return ce}return-1}(y,_))<0)for(var T=_.length,C=0,O=y.length;C<O;++C)_.push(y[C]);return T}var Jr={parse:function(y,_,T){for(var C={},O=new Pe.Parser(y,_),_=O.parseUShort(),B=O.parseUShort(),F=O.offset+O.parseUShort(),oe=0;oe<B;oe++){var We=O.parseUShort(),de=O.parseUShort(),ce=O.parseUShort(),Te=O.parseUShort(),Te=Et[Te]||Te,ke=O.parseUShort(),Ae=O.parseUShort(),be=function(Ve,De,Ie){switch(Ve){case 0:if(De===65535)return"und";if(Ie)return Ie[De];break;case 1:return ze[De];case 3:return ot[De]}}(We,ce,T),We=gr(We,de,ce);We!==void 0&&be!==void 0&&(de=void 0,(de=We===Tt?H.UTF16(y,F+Ae,ke):H.MACSTRING(y,F+Ae,ke,We))&&((ce=(ce=C[Te])===void 0?C[Te]={}:ce)[be]=de))}return _===1&&O.parseUShort(),C},make:function(y,_){var T,C=[],O={},B=tr(Et);for(T in y){var F=B[T];if(F===void 0&&(F=T),Ae=parseInt(F),isNaN(Ae))throw new Error('Name table entry "'+T+'" does not exist, see nameTableNames for complete list.');O[Ae]=y[T],C.push(Ae)}for(var oe=tr(ze),de=tr(ot),ce=[],Te=[],ke=0;ke<C.length;ke++){var Ae,be,We=O[Ae=C[ke]];for(be in We){var Le=We[be],yt=1,Ve=oe[be],De=Pt[Ve],Ie=gr(yt,De,Ve),Ie=$.MACSTRING(Le,Ie),dt=(Ie===void 0&&(yt=0,(Ve=_.indexOf(be))<0&&(Ve=_.length,_.push(be)),De=4,Ie=$.UTF16(Le)),Io(Ie,Te)),yt=(ce.push(br(yt,De,Ve,Ae,Ie.length,dt)),de[be]);yt!==void 0&&(Ve=Io(De=$.UTF16(Le),Te),ce.push(br(3,1,yt,Ae,De.length,Ve)))}}ce.sort(function(St,zt){return St.platformID-zt.platformID||St.encodingID-zt.encodingID||St.languageID-zt.languageID||St.nameID-zt.nameID});for(var ht=new Re.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ce.length},{name:"stringOffset",type:"USHORT",value:6+12*ce.length}]),ft=0;ft<ce.length;ft++)ht.fields.push({name:"record_"+ft,type:"RECORD",value:ce[ft]});return ht.fields.push({name:"strings",type:"LITERAL",value:Te}),ht}},Lo=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],wr={parse:function(y,_){var T={},C=new Pe.Parser(y,_);T.version=C.parseUShort(),T.xAvgCharWidth=C.parseShort(),T.usWeightClass=C.parseUShort(),T.usWidthClass=C.parseUShort(),T.fsType=C.parseUShort(),T.ySubscriptXSize=C.parseShort(),T.ySubscriptYSize=C.parseShort(),T.ySubscriptXOffset=C.parseShort(),T.ySubscriptYOffset=C.parseShort(),T.ySuperscriptXSize=C.parseShort(),T.ySuperscriptYSize=C.parseShort(),T.ySuperscriptXOffset=C.parseShort(),T.ySuperscriptYOffset=C.parseShort(),T.yStrikeoutSize=C.parseShort(),T.yStrikeoutPosition=C.parseShort(),T.sFamilyClass=C.parseShort(),T.panose=[];for(var O=0;O<10;O++)T.panose[O]=C.parseByte();return T.ulUnicodeRange1=C.parseULong(),T.ulUnicodeRange2=C.parseULong(),T.ulUnicodeRange3=C.parseULong(),T.ulUnicodeRange4=C.parseULong(),T.achVendID=String.fromCharCode(C.parseByte(),C.parseByte(),C.parseByte(),C.parseByte()),T.fsSelection=C.parseUShort(),T.usFirstCharIndex=C.parseUShort(),T.usLastCharIndex=C.parseUShort(),T.sTypoAscender=C.parseShort(),T.sTypoDescender=C.parseShort(),T.sTypoLineGap=C.parseShort(),T.usWinAscent=C.parseUShort(),T.usWinDescent=C.parseUShort(),1<=T.version&&(T.ulCodePageRange1=C.parseULong(),T.ulCodePageRange2=C.parseULong()),2<=T.version&&(T.sxHeight=C.parseShort(),T.sCapHeight=C.parseShort(),T.usDefaultChar=C.parseUShort(),T.usBreakChar=C.parseUShort(),T.usMaxContent=C.parseUShort()),T},make:function(y){return new Re.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],y)},unicodeRanges:Lo,getUnicodeRange:function(y){for(var _=0;_<Lo.length;_+=1){var T=Lo[_];if(y>=T.begin&&y<T.end)return _}return-1}},Hu={parse:function(y,_){var T={},C=new Pe.Parser(y,_);switch(T.version=C.parseVersion(),T.italicAngle=C.parseFixed(),T.underlinePosition=C.parseShort(),T.underlineThickness=C.parseShort(),T.isFixedPitch=C.parseULong(),T.minMemType42=C.parseULong(),T.maxMemType42=C.parseULong(),T.minMemType1=C.parseULong(),T.maxMemType1=C.parseULong(),T.version){case 1:T.names=_e.slice();break;case 2:T.numberOfGlyphs=C.parseUShort(),T.glyphNameIndex=new Array(T.numberOfGlyphs);for(var O=0;O<T.numberOfGlyphs;O++)T.glyphNameIndex[O]=C.parseUShort();T.names=[];for(var B,F=0;F<T.numberOfGlyphs;F++)T.glyphNameIndex[F]>=_e.length&&(B=C.parseChar(),T.names.push(C.parseString(B)));break;case 2.5:T.numberOfGlyphs=C.parseUShort(),T.offset=new Array(T.numberOfGlyphs);for(var oe=0;oe<T.numberOfGlyphs;oe++)T.offset[oe]=C.parseChar()}return T},make:function(){return new Re.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},wo=new Array(9),$s=(wo[1]=function(){var y=this.offset+this.relativeOffset,_=this.parseUShort();return _===1?{substFormat:1,coverage:this.parsePointer(Ee.coverage),deltaGlyphId:this.parseUShort()}:_===2?{substFormat:2,coverage:this.parsePointer(Ee.coverage),substitute:this.parseOffset16List()}:void L.assert(!1,"0x"+y.toString(16)+": lookup type 1 format must be 1 or 2.")},wo[2]=function(){var y=this.parseUShort();return L.argument(y===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(Ee.coverage),sequences:this.parseListOfLists()}},wo[3]=function(){var y=this.parseUShort();return L.argument(y===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(Ee.coverage),alternateSets:this.parseListOfLists()}},wo[4]=function(){var y=this.parseUShort();return L.argument(y===1,"GSUB ligature table identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(Ee.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Ee.uShort,lookupListIndex:Ee.uShort});wo[5]=function(){var y,_,T=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{substFormat:C,coverage:this.parsePointer(Ee.coverage),ruleSets:this.parseListOfLists(function(){var O=this.parseUShort(),B=this.parseUShort();return{input:this.parseUShortList(O-1),lookupRecords:this.parseRecordList(B,$s)}})}:C===2?{substFormat:C,coverage:this.parsePointer(Ee.coverage),classDef:this.parsePointer(Ee.classDef),classSets:this.parseListOfLists(function(){var O=this.parseUShort(),B=this.parseUShort();return{classes:this.parseUShortList(O-1),lookupRecords:this.parseRecordList(B,$s)}})}:C===3?(y=this.parseUShort(),_=this.parseUShort(),{substFormat:C,coverages:this.parseList(y,Ee.pointer(Ee.coverage)),lookupRecords:this.parseRecordList(_,$s)}):void L.assert(!1,"0x"+T.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},wo[6]=function(){var y=this.offset+this.relativeOffset,_=this.parseUShort();return _===1?{substFormat:1,coverage:this.parsePointer(Ee.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList($s)}})}:_===2?{substFormat:2,coverage:this.parsePointer(Ee.coverage),backtrackClassDef:this.parsePointer(Ee.classDef),inputClassDef:this.parsePointer(Ee.classDef),lookaheadClassDef:this.parsePointer(Ee.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList($s)}})}:_===3?{substFormat:3,backtrackCoverage:this.parseList(Ee.pointer(Ee.coverage)),inputCoverage:this.parseList(Ee.pointer(Ee.coverage)),lookaheadCoverage:this.parseList(Ee.pointer(Ee.coverage)),lookupRecords:this.parseRecordList($s)}:void L.assert(!1,"0x"+y.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},wo[7]=function(){var y=this.parseUShort(),y=(L.argument(y===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),_=new Ee(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:y,extension:wo[y].call(_)}},wo[8]=function(){var y=this.parseUShort();return L.argument(y===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:y,coverage:this.parsePointer(Ee.coverage),backtrackCoverage:this.parseList(Ee.pointer(Ee.coverage)),lookaheadCoverage:this.parseList(Ee.pointer(Ee.coverage)),substitutes:this.parseUShortList()}};var mi=new Array(9);mi[1]=function(y){return y.substFormat===1?new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Re.Coverage(y.coverage)},{name:"deltaGlyphID",type:"USHORT",value:y.deltaGlyphId}]):new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Re.Coverage(y.coverage)}].concat(Re.ushortList("substitute",y.substitute)))},mi[3]=function(y){return L.assert(y.substFormat===1,"Lookup type 3 substFormat must be 1."),new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Re.Coverage(y.coverage)}].concat(Re.tableList("altSet",y.alternateSets,function(_){return new Re.Table("alternateSetTable",Re.ushortList("alternate",_))})))},mi[4]=function(y){return L.assert(y.substFormat===1,"Lookup type 4 substFormat must be 1."),new Re.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Re.Coverage(y.coverage)}].concat(Re.tableList("ligSet",y.ligatureSets,function(_){return new Re.Table("ligatureSetTable",Re.tableList("ligature",_,function(T){return new Re.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:T.ligGlyph}].concat(Re.ushortList("component",T.components,T.components.length+1)))}))})))};var Gu={parse:function(y,_){return _=(y=new Ee(y,_=_||0)).parseVersion(1),L.argument(_===1||_===1.1,"Unsupported GSUB table version."),_===1?{version:_,scripts:y.parseScriptList(),features:y.parseFeatureList(),lookups:y.parseLookupList(wo)}:{version:_,scripts:y.parseScriptList(),features:y.parseFeatureList(),lookups:y.parseLookupList(wo),variations:y.parseFeatureVariationsList()}},make:function(y){return new Re.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Re.ScriptList(y.scripts)},{name:"features",type:"TABLE",value:new Re.FeatureList(y.features)},{name:"lookups",type:"TABLE",value:new Re.LookupList(y.lookups,mi)}])}},Wu={parse:function(y,_){for(var T=new Pe.Parser(y,_),C=T.parseULong(),O=(L.argument(C===1,"Unsupported META table version."),T.parseULong(),T.parseULong(),T.parseULong()),B={},F=0;F<O;F++){var oe=T.parseTag(),ce=T.parseULong(),de=T.parseULong(),ce=H.UTF8(y,_+ce,de);B[oe]=ce}return B},make:function(y){var _,T=Object.keys(y).length,C="",O=16+12*T,B=new Re.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:O},{name:"numTags",type:"ULONG",value:T}]);for(_ in y){var F=C.length;C+=y[_],B.fields.push({name:"tag "+_,type:"TAG",value:_}),B.fields.push({name:"offset "+_,type:"ULONG",value:O+F}),B.fields.push({name:"length "+_,type:"ULONG",value:y[_].length})}return B.fields.push({name:"stringPool",type:"CHARARRAY",value:C}),B}};function zu(y){return Math.log(y)/Math.log(2)|0}function Na(y){for(;y.length%4!=0;)y.push(0);for(var _=0,T=0;T<y.length;T+=4)_+=(y[T]<<24)+(y[T+1]<<16)+(y[T+2]<<8)+y[T+3];return _%=Math.pow(2,32)}function qu(y,_,T,C){return new Re.Record("Table Record",[{name:"tag",type:"TAG",value:y!==void 0?y:""},{name:"checkSum",type:"ULONG",value:_!==void 0?_:0},{name:"offset",type:"ULONG",value:T!==void 0?T:0},{name:"length",type:"ULONG",value:C!==void 0?C:0}])}function Xu(y){for(var _=new Re.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),T=(_.tables=y,_.numTables=y.length,Math.pow(2,zu(_.numTables))),C=(_.searchRange=16*T,_.entrySelector=zu(T),_.rangeShift=16*_.numTables-_.searchRange,[]),O=[],B=_.sizeOf()+qu().sizeOf()*_.numTables;B%4!=0;)B+=1,O.push({name:"padding",type:"BYTE",value:0});for(var F=0;F<y.length;F+=1){var oe=y[F],de=(L.argument(oe.tableName.length===4,"Table name"+oe.tableName+" is invalid."),oe.sizeOf()),ce=qu(oe.tableName,Na(oe.encode()),B,de);for(C.push({name:ce.tag+" Table Record",type:"RECORD",value:ce}),O.push({name:oe.tableName+" table",type:"RECORD",value:oe}),B+=de,L.argument(!isNaN(B),"Something went wrong calculating the offset.");B%4!=0;)B+=1,O.push({name:"padding",type:"BYTE",value:0})}return C.sort(function(Te,ke){return Te.value.tag>ke.value.tag?1:-1}),_.fields=_.fields.concat(C),_.fields=_.fields.concat(O),_}function Yu(y,_,T){for(var C=0;C<_.length;C+=1){var O=y.charToGlyphIndex(_[C]);if(0<O)return y.glyphs.get(O).getMetrics()}return T}var ip={make:Xu,fontToTable:function(y){for(var _,T=[],C=[],O=[],B=[],F=[],oe=[],de=[],ce=0,Te=0,ke=0,Ae=0,be=0,We=0;We<y.glyphs.length;We+=1){var Le=y.glyphs.get(We),Ve=0|Le.unicode;if(isNaN(Le.advanceWidth))throw new Error("Glyph "+Le.name+" ("+We+"): advanceWidth is not a number.");(Ve<_||_===void 0)&&0<Ve&&(_=Ve),ce<Ve&&(ce=Ve);var Ve=wr.getUnicodeRange(Ve);if(Ve<32)Te|=1<<Ve;else if(Ve<64)ke|=1<<Ve-32;else if(Ve<96)Ae|=1<<Ve-64;else{if(!(Ve<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");be|=1<<Ve-96}Le.name!==".notdef"&&(Ve=Le.getMetrics(),T.push(Ve.xMin),C.push(Ve.yMin),O.push(Ve.xMax),B.push(Ve.yMax),oe.push(Ve.leftSideBearing),de.push(Ve.rightSideBearing),F.push(Le.advanceWidth))}var De,Ie={xMin:Math.min.apply(null,T),yMin:Math.min.apply(null,C),xMax:Math.max.apply(null,O),yMax:Math.max.apply(null,B),advanceWidthMax:Math.max.apply(null,F),advanceWidthAvg:function(xr){for(var Ln=0,en=0;en<xr.length;en+=1)Ln+=xr[en];return Ln/xr.length}(F),minLeftSideBearing:Math.min.apply(null,oe),maxLeftSideBearing:Math.max.apply(null,oe),minRightSideBearing:Math.min.apply(null,de)},dt=(Ie.ascender=y.ascender,Ie.descender=y.descender,On.make({flags:3,unitsPerEm:y.unitsPerEm,xMin:Ie.xMin,yMin:Ie.yMin,xMax:Ie.xMax,yMax:Ie.yMax,lowestRecPPEM:3,createdTimestamp:y.createdTimestamp})),yt=we.make({ascender:Ie.ascender,descender:Ie.descender,advanceWidthMax:Ie.advanceWidthMax,minLeftSideBearing:Ie.minLeftSideBearing,minRightSideBearing:Ie.minRightSideBearing,xMaxExtent:Ie.maxLeftSideBearing+(Ie.xMax-Ie.xMin),numberOfHMetrics:y.glyphs.length}),ht=Xe.make(y.glyphs.length),ft=wr.make({xAvgCharWidth:Math.round(Ie.advanceWidthAvg),usWeightClass:y.tables.os2.usWeightClass,usWidthClass:y.tables.os2.usWidthClass,usFirstCharIndex:_,usLastCharIndex:ce,ulUnicodeRange1:Te,ulUnicodeRange2:ke,ulUnicodeRange3:Ae,ulUnicodeRange4:be,fsSelection:y.tables.os2.fsSelection,sTypoAscender:Ie.ascender,sTypoDescender:Ie.descender,sTypoLineGap:0,usWinAscent:Ie.yMax,usWinDescent:Math.abs(Ie.yMin),ulCodePageRange1:1,sxHeight:Yu(y,"xyvw",{yMax:Math.round(Ie.ascender/2)}).yMax,sCapHeight:Yu(y,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ie).yMax,usDefaultChar:y.hasChar(" ")?32:0,usBreakChar:y.hasChar(" ")?32:0}),St=Ke.make(y.glyphs),zt=Q.make(y.glyphs),Yt=y.getEnglishName("fontFamily"),Ut=y.getEnglishName("fontSubfamily"),Gt=Yt+" "+Ut,rr=(rr=y.getEnglishName("postScriptName"))||Yt.replace(/\s/g,"")+"-"+Ut,dr={};for(De in y.names)dr[De]=y.names[De];dr.uniqueID||(dr.uniqueID={en:y.getEnglishName("manufacturer")+":"+Gt}),dr.postScriptName||(dr.postScriptName={en:rr}),dr.preferredFamily||(dr.preferredFamily=y.names.fontFamily),dr.preferredSubfamily||(dr.preferredSubfamily=y.names.fontSubfamily);var Ur=[],Br=Jr.make(dr,Ur),Ur=0<Ur.length?it.make(Ur):void 0,So=Hu.make(),Gt=An.make(y.glyphs,{version:y.getEnglishName("version"),fullName:Gt,familyName:Yt,weightName:Ut,postScriptName:rr,unitsPerEm:y.unitsPerEm,fontBBox:[0,Ie.yMin,Ie.ascender,Ie.advanceWidthMax]}),Yt=y.metas&&0<Object.keys(y.metas).length?Wu.make(y.metas):void 0,Ut=[dt,yt,ht,ft,Br,zt,So,Gt,St];Ur&&Ut.push(Ur),y.tables.gsub&&Ut.push(Gu.make(y.tables.gsub)),Yt&&Ut.push(Yt);for(var Nr=Na((rr=Xu(Ut)).encode()),Jt=rr.fields,Tr=!1,Zt=0;Zt<Jt.length;Zt+=1)if(Jt[Zt].name==="head table"){Jt[Zt].value.checkSumAdjustment=2981146554-Nr,Tr=!0;break}if(Tr)return rr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Na};function Fa(y,_){for(var T=0,C=y.length-1;T<=C;){var O=T+C>>>1,B=y[O].tag;if(B===_)return O;B<_?T=1+O:C=O-1}return-T-1}function Zu(y,_){for(var T=0,C=y.length-1;T<=C;){var O=T+C>>>1,B=y[O];if(B===_)return O;B<_?T=1+O:C=O-1}return-T-1}function Ku(y,_){for(var T=0,C=y.length-1;T<=C;){var O,B=T+C>>>1,F=(O=y[B]).start;if(F===_)return O;F<_?T=1+B:C=B-1}if(0<T)return _>(O=y[T-1]).end?0:O}function gi(y,_){this.font=y,this.tableName=_}function yi(y){gi.call(this,y,"gpos")}function Bo(y){gi.call(this,y,"gsub")}function $u(y,_,T){for(var C=y.subtables,O=0;O<C.length;O++){var B=C[O];if(B.substFormat===_)return B}if(T)return C.push(T),T}function Qu(y){for(var _=new ArrayBuffer(y.length),T=new Uint8Array(_),C=0;C<y.length;++C)T[C]=y[C];return _}function Qs(y,_){if(!y)throw _}function Ju(y,_,T,C,O){var B=0<(_&C)?(B=y.parseByte(),T+(B=_&O?B:-B)):0<(_&O)?T:T+y.parseShort();return B}function ap(y,_,T){var C,O=new Pe.Parser(_,T);if(y.numberOfContours=O.parseShort(),y._xMin=O.parseShort(),y._yMin=O.parseShort(),y._xMax=O.parseShort(),y._yMax=O.parseShort(),0<y.numberOfContours){for(var B=y.endPointIndices=[],F=0;F<y.numberOfContours;F+=1)B.push(O.parseUShort());y.instructionLength=O.parseUShort(),y.instructions=[];for(var oe=0;oe<y.instructionLength;oe+=1)y.instructions.push(O.parseByte());for(var de=B[B.length-1]+1,ce=[],Te=0;Te<de;Te+=1)if(C=O.parseByte(),ce.push(C),0<(8&C))for(var ke=O.parseByte(),Ae=0;Ae<ke;Ae+=1)ce.push(C),Te+=1;if(L.argument(ce.length===de,"Bad flags."),0<B.length){var be,We=[];if(0<de){for(var Le=0;Le<de;Le+=1)C=ce[Le],(be={}).onCurve=!!(1&C),be.lastPointOfContour=0<=B.indexOf(Le),We.push(be);for(var Ve=0,De=0;De<de;De+=1)C=ce[De],(be=We[De]).x=Ju(O,C,Ve,2,16),Ve=be.x;for(var Ie=0,dt=0;dt<de;dt+=1)C=ce[dt],(be=We[dt]).y=Ju(O,C,Ie,4,32),Ie=be.y}y.points=We}else y.points=[]}else if(y.numberOfContours===0)y.points=[];else{y.isComposite=!0,y.points=[],y.components=[];for(var yt=!0;yt;){ce=O.parseUShort();var ht={glyphIndex:O.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&ce)?0<(2&ce)?(ht.dx=O.parseShort(),ht.dy=O.parseShort()):ht.matchedPoints=[O.parseUShort(),O.parseUShort()]:0<(2&ce)?(ht.dx=O.parseChar(),ht.dy=O.parseChar()):ht.matchedPoints=[O.parseByte(),O.parseByte()],0<(8&ce)?ht.xScale=ht.yScale=O.parseF2Dot14():0<(64&ce)?(ht.xScale=O.parseF2Dot14(),ht.yScale=O.parseF2Dot14()):0<(128&ce)&&(ht.xScale=O.parseF2Dot14(),ht.scale01=O.parseF2Dot14(),ht.scale10=O.parseF2Dot14(),ht.yScale=O.parseF2Dot14()),y.components.push(ht),yt=!!(32&ce)}if(256&ce){y.instructionLength=O.parseUShort(),y.instructions=[];for(var ft=0;ft<y.instructionLength;ft+=1)y.instructions.push(O.parseByte())}}}function Va(y,_){for(var T=[],C=0;C<y.length;C+=1){var O=y[C],O={x:_.xScale*O.x+_.scale01*O.y+_.dx,y:_.scale10*O.x+_.yScale*O.y+_.dy,onCurve:O.onCurve,lastPointOfContour:O.lastPointOfContour};T.push(O)}return T}function ec(y){var _=new se;if(y)for(var T=function(ke){for(var Ae=[],be=[],We=0;We<ke.length;We+=1){var Le=ke[We];be.push(Le),Le.lastPointOfContour&&(Ae.push(be),be=[])}return L.argument(be.length===0,"There are still points left in the current contour."),Ae}(y),C=0;C<T.length;++C){var O,B=T[C],F=B[B.length-1],oe=B[0];F.onCurve?_.moveTo(F.x,F.y):oe.onCurve?_.moveTo(oe.x,oe.y):(O={x:.5*(F.x+oe.x),y:.5*(F.y+oe.y)},_.moveTo(O.x,O.y));for(var de=0;de<B.length;++de){var ce,Te=F,F=oe,oe=B[(de+1)%B.length];F.onCurve?_.lineTo(F.x,F.y):(ce=oe,Te.onCurve||(F.x,Te.x,F.y,Te.y),oe.onCurve||(ce={x:.5*(F.x+oe.x),y:.5*(F.y+oe.y)}),_.quadraticCurveTo(F.x,F.y,ce.x,ce.y))}_.closePath()}return _}function lp(y,_){if(_.isComposite)for(var T=0;T<_.components.length;T+=1){var C=_.components[T],O=y.get(C.glyphIndex);if(O.getPath(),O.points){var B=void 0;if(C.matchedPoints===void 0)B=Va(O.points,C);else{if(C.matchedPoints[0]>_.points.length-1||C.matchedPoints[1]>O.points.length-1)throw Error("Matched points out of range in "+_.name);var F=_.points[C.matchedPoints[0]],oe=O.points[C.matchedPoints[1]],C={xScale:C.xScale,scale01:C.scale01,scale10:C.scale10,yScale:C.yScale,dx:0,dy:0},oe=Va([oe],C)[0];C.dx=F.x-oe.x,C.dy=F.y-oe.y,B=Va(O.points,C)}_.points=_.points.concat(B)}}return ec(_.points)}(yi.prototype=gi.prototype={searchTag:Fa,binSearch:Zu,getTable:function(y){var _=this.font.tables[this.tableName];return _=!_&&y?this.font.tables[this.tableName]=this.createDefaultTable():_},getScriptNames:function(){var y=this.getTable();return y?y.scripts.map(function(_){return _.tag}):[]},getDefaultScriptName:function(){var y=this.getTable();if(y){for(var _=!1,T=0;T<y.scripts.length;T++){var C=y.scripts[T].tag;if(C==="DFLT")return C;C==="latn"&&(_=!0)}return _?"latn":void 0}},getScriptTable:function(y,_){var T,C=this.getTable(_);if(C)return T=C.scripts,0<=(C=Fa(C.scripts,y=y||"DFLT"))?T[C].script:_?(T.splice(-1-C,0,_={tag:y,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),_.script):void 0},getLangSysTable:function(O,_,T){var C,O=this.getScriptTable(O,T);if(O)return _&&_!=="dflt"&&_!=="DFLT"?0<=(C=Fa(O.langSysRecords,_))?O.langSysRecords[C].langSys:T?(O.langSysRecords.splice(-1-C,0,T={tag:_,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),T.langSys):void 0:O.defaultLangSys},getFeatureTable:function(y,_,T,C){if(y=this.getLangSysTable(y,_,C),y){for(var O,B=y.featureIndexes,F=this.font.tables[this.tableName].features,oe=0;oe<B.length;oe++)if((O=F[B[oe]]).tag===T)return O.feature;if(C)return _=F.length,L.assert(_===0||T>=F[_-1].tag,"Features must be added in alphabetical order."),F.push(O={tag:T,feature:{params:0,lookupListIndexes:[]}}),B.push(_),O.feature}},getLookupTables:function(B,_,T,C,O){var B=this.getFeatureTable(B,_,T,O),F=[];if(B){for(var oe,de=B.lookupListIndexes,ce=this.font.tables[this.tableName].lookups,Te=0;Te<de.length;Te++)(oe=ce[de[Te]]).lookupType===C&&F.push(oe);if(F.length===0&&O)return _=ce.length,ce.push(oe={lookupType:C,lookupFlag:0,subtables:[],markFilteringSet:void 0}),de.push(_),[oe]}return F},getGlyphClass:function(y,_){switch(y.format){case 1:return y.startGlyph<=_&&_<y.startGlyph+y.classes.length?y.classes[_-y.startGlyph]:0;case 2:var T=Ku(y.ranges,_);return T?T.classId:0}},getCoverageIndex:function(y,_){switch(y.format){case 1:var T=Zu(y.glyphs,_);return 0<=T?T:-1;case 2:return T=Ku(y.ranges,_),T?T.index+_-T.start:-1}},expandCoverage:function(y){if(y.format===1)return y.glyphs;for(var _=[],T=y.ranges,C=0;C<T.length;C++)for(var O=T[C],B=O.start,F=O.end,oe=B;oe<=F;oe++)_.push(oe);return _}}).init=function(){var y=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(y)},yi.prototype.getKerningValue=function(y,_,T){for(var C=0;C<y.length;C++)for(var O=y[C].subtables,B=0;B<O.length;B++){var F=O[B],oe=this.getCoverageIndex(F.coverage,_);if(!(oe<0))switch(F.posFormat){case 1:for(var de=F.pairSets[oe],ce=0;ce<de.length;ce++){var Te=de[ce];if(Te.secondGlyph===T)return Te.value1&&Te.value1.xAdvance||0}break;case 2:var Ae=this.getGlyphClass(F.classDef1,_),ke=this.getGlyphClass(F.classDef2,T),Ae=F.classRecords[Ae][ke];return Ae.value1&&Ae.value1.xAdvance||0}}return 0},yi.prototype.getKerningTables=function(y,_){if(this.font.tables.gpos)return this.getLookupTables(y,_,"kern",2)},(Bo.prototype=gi.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Bo.prototype.getSingle=function(y,_,T){for(var C=[],O=this.getLookupTables(_,T,y,1),B=0;B<O.length;B++)for(var F=O[B].subtables,oe=0;oe<F.length;oe++){var de=F[oe],ce=this.expandCoverage(de.coverage),Te=void 0;if(de.substFormat===1)for(var ke=de.deltaGlyphId,Te=0;Te<ce.length;Te++){var Ae=ce[Te];C.push({sub:Ae,by:Ae+ke})}else{var be=de.substitute;for(Te=0;Te<ce.length;Te++)C.push({sub:ce[Te],by:be[Te]})}}return C},Bo.prototype.getAlternates=function(y,_,T){for(var C=[],O=this.getLookupTables(_,T,y,3),B=0;B<O.length;B++)for(var F=O[B].subtables,oe=0;oe<F.length;oe++)for(var de=F[oe],ce=this.expandCoverage(de.coverage),Te=de.alternateSets,ke=0;ke<ce.length;ke++)C.push({sub:ce[ke],by:Te[ke]});return C},Bo.prototype.getLigatures=function(y,_,T){for(var C=[],O=this.getLookupTables(_,T,y,4),B=0;B<O.length;B++)for(var F=O[B].subtables,oe=0;oe<F.length;oe++)for(var de=F[oe],ce=this.expandCoverage(de.coverage),Te=de.ligatureSets,ke=0;ke<ce.length;ke++)for(var Ae=ce[ke],be=Te[ke],We=0;We<be.length;We++){var Le=be[We];C.push({sub:[Ae].concat(Le.components),by:Le.ligGlyph})}return C},Bo.prototype.addSingle=function(y,_,T,C){T=$u(this.getLookupTables(T,C,y,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),L.assert(T.coverage.format===1,"Ligature: unable to modify coverage table format "+T.coverage.format),C=_.sub,y=this.binSearch(T.coverage.glyphs,C),y<0&&(T.coverage.glyphs.splice(y=-1-y,0,C),T.substitute.splice(y,0,0)),T.substitute[y]=_.by},Bo.prototype.addAlternate=function(y,_,T,C){T=$u(this.getLookupTables(T,C,y,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),L.assert(T.coverage.format===1,"Ligature: unable to modify coverage table format "+T.coverage.format),C=_.sub,y=this.binSearch(T.coverage.glyphs,C),y<0&&(T.coverage.glyphs.splice(y=-1-y,0,C),T.alternateSets.splice(y,0,0)),T.alternateSets[y]=_.by},Bo.prototype.addLigature=function(B,de,oe,O){var oe=this.getLookupTables(oe,O,B,4,!0)[0],O=oe.subtables[0],B=(O||(oe.subtables[0]=O={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),L.assert(O.coverage.format===1,"Ligature: unable to modify coverage table format "+O.coverage.format),de.sub[0]),F=de.sub.slice(1),oe={ligGlyph:de.by,components:F},de=this.binSearch(O.coverage.glyphs,B);if(0<=de){for(var ce=O.ligatureSets[de],Te=0;Te<ce.length;Te++)if(function(ke,Ae){var be=ke.length;if(be===Ae.length){for(var We=0;We<be;We++)if(ke[We]!==Ae[We])return;return 1}}(ce[Te].components,F))return;ce.push(oe)}else O.coverage.glyphs.splice(de=-1-de,0,B),O.ligatureSets.splice(de,0,[oe])},Bo.prototype.getFeature=function(y,_,T){if(/ss\d\d/.test(y))return this.getSingle(y,_,T);switch(y){case"aalt":case"salt":return this.getSingle(y,_,T).concat(this.getAlternates(y,_,T));case"dlig":case"liga":case"rlig":return this.getLigatures(y,_,T)}},Bo.prototype.add=function(y,_,T,C){if(/ss\d\d/.test(y))return this.addSingle(y,_,T,C);switch(y){case"aalt":case"salt":return typeof _.by=="number"?this.addSingle(y,_,T,C):this.addAlternate(y,_,T,C);case"dlig":case"liga":case"rlig":return this.addLigature(y,_,T,C)}};var tc={getPath:ec,parse:function(y,_,T,C){for(var O=new ct.GlyphSet(C),B=0;B<T.length-1;B+=1){var F=T[B];F!==T[B+1]?O.push(B,ct.ttfGlyphLoader(C,B,ap,y,_+F,lp)):O.push(B,ct.glyphLoader(C,B))}return O}};function rc(y){this.font=y,this.getCommands=function(_){return tc.getPath(_).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function up(y){return y}function oc(y){return Math.sign(y)*Math.round(Math.abs(y))}function cp(y){return Math.sign(y)*Math.round(Math.abs(2*y))/2}function dp(y){return Math.sign(y)*(Math.round(Math.abs(y)+.5)-.5)}function hp(y){return Math.sign(y)*Math.ceil(Math.abs(y))}function fp(y){return Math.sign(y)*Math.floor(Math.abs(y))}function sc(y){var _=this.srPeriod,T=this.srPhase,C=1;return y<0&&(y=-y,C=-1),y+=this.srThreshold-T,y=Math.trunc(y/_)*_,(y+=T)<0?T*C:y*C}var Uo={x:1,y:0,axis:"x",distance:function(y,_,T,C){return(T?y.xo:y.x)-(C?_.xo:_.x)},interpolate:function(y,_,T,C){var O,B,F,oe,de,ce,Te;if(!C||C===this)return O=y.xo-_.xo,B=y.xo-T.xo,de=_.x-_.xo,ce=T.x-T.xo,(Te=(F=Math.abs(O))+(oe=Math.abs(B)))===0?void(y.x=y.xo+(de+ce)/2):void(y.x=y.xo+(de*oe+ce*F)/Te);O=C.distance(y,_,!0,!0),B=C.distance(y,T,!0,!0),de=C.distance(_,_,!1,!0),ce=C.distance(T,T,!1,!0),(Te=(F=Math.abs(O))+(oe=Math.abs(B)))===0?Uo.setRelative(y,y,(de+ce)/2,C,!0):Uo.setRelative(y,y,(de*oe+ce*F)/Te,C,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(y,_,T,C,O){var B,F;C&&C!==this?(B=O?_.xo:_.x,F=O?_.yo:_.y,B+=T*C.x,F+=T*C.y,y.x=B+(y.y-F)/C.normalSlope):y.x=(O?_.xo:_.x)+T},slope:0,touch:function(y){y.xTouched=!0},touched:function(y){return y.xTouched},untouch:function(y){y.xTouched=!1}},Zo={x:0,y:1,axis:"y",distance:function(y,_,T,C){return(T?y.yo:y.y)-(C?_.yo:_.y)},interpolate:function(y,_,T,C){var O,B,F,oe,de,ce,Te;if(!C||C===this)return O=y.yo-_.yo,B=y.yo-T.yo,de=_.y-_.yo,ce=T.y-T.yo,(Te=(F=Math.abs(O))+(oe=Math.abs(B)))===0?void(y.y=y.yo+(de+ce)/2):void(y.y=y.yo+(de*oe+ce*F)/Te);O=C.distance(y,_,!0,!0),B=C.distance(y,T,!0,!0),de=C.distance(_,_,!1,!0),ce=C.distance(T,T,!1,!0),(Te=(F=Math.abs(O))+(oe=Math.abs(B)))===0?Zo.setRelative(y,y,(de+ce)/2,C,!0):Zo.setRelative(y,y,(de*oe+ce*F)/Te,C,!0)},normalSlope:0,setRelative:function(y,_,T,C,O){var B,F;C&&C!==this?(B=O?_.xo:_.x,F=O?_.yo:_.y,B+=T*C.x,F+=T*C.y,y.y=F+C.normalSlope*(y.x-B)):y.y=(O?_.yo:_.y)+T},slope:Number.POSITIVE_INFINITY,touch:function(y){y.yTouched=!0},touched:function(y){return y.yTouched},untouch:function(y){y.yTouched=!1}};function kn(y,_){this.x=y,this.y=_,this.axis=void 0,this.slope=_/y,this.normalSlope=-y/_,Object.freeze(this)}function Dn(y,_){var T=Math.sqrt(y*y+_*_);return _/=T,(y/=T)===1&&_===0?Uo:y===0&&_===1?Zo:new kn(y,_)}function Ko(y,_,T,C){this.x=this.xo=Math.round(64*y)/64,this.y=this.yo=Math.round(64*_)/64,this.lastPointOfContour=T,this.onCurve=C,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Uo),Object.freeze(Zo),kn.prototype.distance=function(y,_,T,C){return this.x*Uo.distance(y,_,T,C)+this.y*Zo.distance(y,_,T,C)},kn.prototype.interpolate=function(y,O,B,C){var F=C.distance(y,O,!0,!0),oe=C.distance(y,B,!0,!0),O=C.distance(O,O,!1,!0),B=C.distance(B,B,!1,!0),F=Math.abs(F),oe=Math.abs(oe),de=F+oe;de===0?this.setRelative(y,y,(O+B)/2,C,!0):this.setRelative(y,y,(O*oe+B*F)/de,C,!0)},kn.prototype.setRelative=function(y,B,de,ce,oe){var F=oe?B.xo:B.x,oe=oe?B.yo:B.y,B=F+de*(ce=ce||this).x,F=oe+de*ce.y,oe=ce.normalSlope,de=this.slope,ce=y.x,Te=y.y;y.x=(de*ce-oe*B+F-Te)/(de-oe),y.y=de*(y.x-ce)+Te},kn.prototype.touch=function(y){y.xTouched=!0,y.yTouched=!0},Ko.prototype.nextTouched=function(y){for(var _=this.nextPointOnContour;!y.touched(_)&&_!==this;)_=_.nextPointOnContour;return _},Ko.prototype.prevTouched=function(y){for(var _=this.prevPointOnContour;!y.touched(_)&&_!==this;)_=_.prevPointOnContour;return _};var In=Object.freeze(new Ko(0,0)),pp={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function ds(y,_){switch(this.env=y,this.stack=[],this.prog=_,y){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Uo,this.round=oc}}function vi(y){for(var _=y.tZone=new Array(y.gZone.length),T=0;T<_.length;T++)_[T]=new Ko(0,0)}function nc(y,_){var T,C=y.prog,O=y.ip,B=1;do if((T=C[++O])===88)B++;else if(T===89)B--;else if(T===64)O+=C[O+1]+1;else if(T===65)O+=2*C[O+1]+1;else if(176<=T&&T<=183)O+=T-176+1;else if(184<=T&&T<=191)O+=2*(T-184+1);else if(_&&B===1&&T===27)break;while(0<B);y.ip=O}function ic(y,_){h.DEBUG&&console.log(_.step,"SVTCA["+y.axis+"]"),_.fv=_.pv=_.dpv=y}function ac(y,_){h.DEBUG&&console.log(_.step,"SPVTCA["+y.axis+"]"),_.pv=_.dpv=y}function lc(y,_){h.DEBUG&&console.log(_.step,"SFVTCA["+y.axis+"]"),_.fv=y}function uc(y,_){var T,O=_.stack,C=O.pop(),O=O.pop(),B=_.z2[C],F=_.z1[O];h.DEBUG&&console.log("SPVTL["+y+"]",C,O),C=y?(T=B.y-F.y,F.x-B.x):(T=F.x-B.x,F.y-B.y),_.pv=_.dpv=Dn(T,C)}function cc(y,_){var T,O=_.stack,C=O.pop(),O=O.pop(),B=_.z2[C],F=_.z1[O];h.DEBUG&&console.log("SFVTL["+y+"]",C,O),C=y?(T=B.y-F.y,F.x-B.x):(T=F.x-B.x,F.y-B.y),_.fv=Dn(T,C)}function Ha(y){h.DEBUG&&console.log(y.step,"POP[]"),y.stack.pop()}function dc(y,_){var T=_.stack.pop(),C=_.z0[T],O=_.fv,B=_.pv,F=(h.DEBUG&&console.log(_.step,"MDAP["+y+"]",T),B.distance(C,In));y&&(F=_.round(F)),O.setRelative(C,In,F,B),O.touch(C),_.rp0=_.rp1=T}function hc(y,_){var T,C,O,B=_.z2,F=B.length-2;h.DEBUG&&console.log(_.step,"IUP["+y.axis+"]");for(var oe=0;oe<F;oe++)T=B[oe],y.touched(T)||(C=T.prevTouched(y))!==T&&(C===(O=T.nextTouched(y))&&y.setRelative(T,T,y.distance(C,C,!1,!0),y,!0),y.interpolate(T,C,O,y))}function fc(y,_){for(var T=_.stack,C=y?_.rp1:_.rp2,O=(y?_.z0:_.z1)[C],B=_.fv,F=_.pv,oe=_.loop,de=_.z2;oe--;){var ce=T.pop(),Te=de[ce],ke=F.distance(O,O,!1,!0);B.setRelative(Te,Te,ke,F),B.touch(Te),h.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-oe)+": ":"")+"SHP["+(y?"rp1":"rp2")+"]",ce)}_.loop=1}function pc(y,_){for(var T=_.stack,F=y?_.rp1:_.rp2,C=(y?_.z0:_.z1)[F],O=_.fv,B=_.pv,F=T.pop(),oe=_.z2[_.contours[F]],de=oe,ce=(h.DEBUG&&console.log(_.step,"SHC["+y+"]",F),B.distance(C,C,!1,!0));de!==C&&O.setRelative(de,de,ce,B),(de=de.nextPointOnContour)!==oe;);}function mc(y,_){var T,C,oe=_.stack,O=y?_.rp1:_.rp2,O=(y?_.z0:_.z1)[O],B=_.fv,F=_.pv,oe=oe.pop();switch(h.DEBUG&&console.log(_.step,"SHZ["+y+"]",oe),oe){case 0:T=_.tZone;break;case 1:T=_.gZone;break;default:throw new Error("Invalid zone")}for(var de=F.distance(O,O,!1,!0),ce=T.length-2,Te=0;Te<ce;Te++)C=T[Te],B.setRelative(C,C,de,F)}function gc(y,_){var C=_.stack,T=C.pop()/64,C=C.pop(),O=_.z1[C],B=_.z0[_.rp0],F=_.fv,oe=_.pv;F.setRelative(O,B,T,oe),F.touch(O),h.DEBUG&&console.log(_.step,"MSIRP["+y+"]",T,C),_.rp1=_.rp0,_.rp2=C,y&&(_.rp0=C)}function yc(y,_){var T=_.stack,oe=T.pop(),T=T.pop(),C=_.z0[T],O=_.fv,B=_.pv,F=_.cvt[oe],oe=(h.DEBUG&&console.log(_.step,"MIAP["+y+"]",oe,"(",F,")",T),B.distance(C,In));y&&(Math.abs(oe-F)<_.cvCutIn&&(oe=F),oe=_.round(oe)),O.setRelative(C,In,oe,B),_.zp0===0&&(C.xo=C.x,C.yo=C.y),O.touch(C),_.rp0=_.rp1=T}function vc(y,_){var T=_.stack,C=T.pop(),O=_.z2[C];h.DEBUG&&console.log(_.step,"GC["+y+"]",C),T.push(64*_.dpv.distance(O,In,y,!1))}function bc(y,_){var C=_.stack,T=C.pop(),C=C.pop(),O=_.z1[T],B=_.z0[C],B=_.dpv.distance(B,O,y,y);h.DEBUG&&console.log(_.step,"MD["+y+"]",T,C,"->",B),_.stack.push(Math.round(64*B))}function Ga(y,_){var T=_.stack,C=T.pop(),O=_.fv,B=_.pv,F=_.ppem,oe=_.deltaBase+16*(y-1),de=_.deltaShift,ce=_.z0;h.DEBUG&&console.log(_.step,"DELTAP["+y+"]",C,T);for(var Te=0;Te<C;Te++){var ke=T.pop(),Ae=T.pop();oe+((240&Ae)>>4)===F&&(0<=(Ae=(15&Ae)-8)&&Ae++,h.DEBUG&&console.log(_.step,"DELTAPFIX",ke,"by",Ae*de),ke=ce[ke],O.setRelative(ke,ke,Ae*de,B))}}function bi(y,_){var T=_.stack,C=T.pop();h.DEBUG&&console.log(_.step,"ROUND[]"),T.push(64*_.round(C/64))}function Wa(y,_){var T=_.stack,C=T.pop(),O=_.ppem,B=_.deltaBase+16*(y-1),F=_.deltaShift;h.DEBUG&&console.log(_.step,"DELTAC["+y+"]",C,T);for(var oe=0;oe<C;oe++){var de=T.pop(),ce=T.pop();B+((240&ce)>>4)===O&&(0<=(ce=(15&ce)-8)&&ce++,ce=ce*F,h.DEBUG&&console.log(_.step,"DELTACFIX",de,"by",ce),_.cvt[de]+=ce)}}function wc(y,_){var T,O=_.stack,C=O.pop(),O=O.pop(),B=_.z2[C],F=_.z1[O];h.DEBUG&&console.log(_.step,"SDPVTL["+y+"]",C,O),C=y?(T=B.y-F.y,F.x-B.x):(T=F.x-B.x,F.y-B.y),_.dpv=Dn(T,C)}function hs(y,_){var T=_.stack,C=_.prog,O=_.ip;h.DEBUG&&console.log(_.step,"PUSHB["+y+"]");for(var B=0;B<y;B++)T.push(C[++O]);_.ip=O}function fs(y,_){var T=_.ip,C=_.prog,O=_.stack;h.DEBUG&&console.log(_.ip,"PUSHW["+y+"]");for(var B=0;B<y;B++){var F=C[++T]<<8|C[++T];32768&F&&(F=-(1+(65535^F))),O.push(F)}_.ip=T}function ut(y,_,T,C,O,B){var F,oe,ce=B.stack,de=y&&ce.pop(),ce=ce.pop(),Te=B.rp0,Te=B.z0[Te],ke=B.z1[ce],Ae=B.minDis,be=B.fv,We=B.dpv,Le=F=We.distance(ke,Te,!0,!0),Ve=0<=Le?1:-1;Le=Math.abs(Le),y&&(oe=B.cvt[de],C&&Math.abs(Le-oe)<B.cvCutIn&&(Le=oe)),T&&Le<Ae&&(Le=Ae),C&&(Le=B.round(Le)),be.setRelative(ke,Te,Ve*Le,We),be.touch(ke),h.DEBUG&&console.log(B.step,(y?"MIRP[":"MDRP[")+(_?"M":"m")+(T?">":"_")+(C?"R":"_")+(O===0?"Gr":O===1?"Bl":O===2?"Wh":"")+"]",y?de+"("+B.cvt[de]+","+oe+")":"",ce,"(d =",F,"->",Ve*Le,")"),B.rp1=B.rp0,B.rp2=ce,_&&(B.rp0=ce)}rc.prototype.exec=function(y,_){if(typeof _!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var T=this.font,C=this._prepState;if(!C||C.ppem!==_){var O=this._fpgmState;if(!O){ds.prototype=pp,(O=this._fpgmState=new ds("fpgm",T.tables.fpgm)).funcs=[],O.font=T,h.DEBUG&&(console.log("---EXEC FPGM---"),O.step=-1);try{Js(O)}catch(ce){return console.log("Hinting error in FPGM:"+ce),void(this._errorState=3)}}ds.prototype=O,(C=this._prepState=new ds("prep",T.tables.prep)).ppem=_;var B=T.tables.cvt;if(B)for(var F=C.cvt=new Array(B.length),oe=_/T.unitsPerEm,de=0;de<B.length;de++)F[de]=B[de]*oe;else C.cvt=[];h.DEBUG&&(console.log("---EXEC PREP---"),C.step=-1);try{Js(C)}catch(ce){this._errorState<2&&console.log("Hinting error in PREP:"+ce),this._errorState=2}}if(!(1<this._errorState))try{return mp(y,C)}catch(ce){this._errorState<1&&(console.log("Hinting error:"+ce),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var mp=function(y,_){var T=_.ppem/_.font.unitsPerEm,C=T,O=y.components;if(ds.prototype=_,O){for(var B=_.font,F=[],oe=[],de=0;de<O.length;de++){var ce=O[de],Te=B.glyphs.get(ce.glyphIndex),ke=new ds("glyf",Te.instructions);h.DEBUG&&(console.log("---EXEC COMP "+de+"---"),ke.step=-1),xc(Te,ke,T,C);for(var Ae=Math.round(ce.dx*T),be=Math.round(ce.dy*C),We=ke.gZone,Le=ke.contours,Ve=0;Ve<We.length;Ve++){var De=We[Ve];De.xTouched=De.yTouched=!1,De.xo=De.x=De.x+Ae,De.yo=De.y=De.y+be}var Ie=F.length;F.push.apply(F,We);for(var dt=0;dt<Le.length;dt++)oe.push(Le[dt]+Ie)}y.instructions&&!ke.inhibitGridFit&&((ke=new ds("glyf",y.instructions)).gZone=ke.z0=ke.z1=ke.z2=F,ke.contours=oe,F.push(new Ko(0,0),new Ko(Math.round(y.advanceWidth*T),0)),h.DEBUG&&(console.log("---EXEC COMPOSITE---"),ke.step=-1),Js(ke),F.length-=2)}else ke=new ds("glyf",y.instructions),h.DEBUG&&(console.log("---EXEC GLYPH---"),ke.step=-1),xc(y,ke,T,C),F=ke.gZone;return F},xc=function(y,_,T,C){for(var O,B,F,oe=y.points||[],de=oe.length,ce=_.gZone=_.z0=_.z1=_.z2=[],Te=_.contours=[],ke=0;ke<de;ke++)O=oe[ke],ce[ke]=new Ko(O.x*T,O.y*C,O.lastPointOfContour,O.onCurve);for(var Ae=0;Ae<de;Ae++)O=ce[Ae],B||(B=O,Te.push(Ae)),O.lastPointOfContour?((O.nextPointOnContour=B).prevPointOnContour=O,B=void 0):(F=ce[Ae+1],(O.nextPointOnContour=F).prevPointOnContour=O);if(!_.inhibitGridFit){if(h.DEBUG){console.log("PROCESSING GLYPH",_.stack);for(var be=0;be<de;be++)console.log(be,ce[be].x,ce[be].y)}if(ce.push(new Ko(0,0),new Ko(Math.round(y.advanceWidth*T),0)),Js(_),ce.length-=2,h.DEBUG){console.log("FINISHED GLYPH",_.stack);for(var We=0;We<de;We++)console.log(We,ce[We].x,ce[We].y)}}},Js=function(y){var _=y.prog;if(_){var T,C=_.length;for(y.ip=0;y.ip<C;y.ip++){if(h.DEBUG&&y.step++,!(T=gp[_[y.ip]]))throw new Error("unknown instruction: 0x"+Number(_[y.ip]).toString(16));T(y)}}},gp=[ic.bind(void 0,Zo),ic.bind(void 0,Uo),ac.bind(void 0,Zo),ac.bind(void 0,Uo),lc.bind(void 0,Zo),lc.bind(void 0,Uo),uc.bind(void 0,0),uc.bind(void 0,1),cc.bind(void 0,0),cc.bind(void 0,1),function(y){var _=(T=y.stack).pop(),T=T.pop();h.DEBUG&&console.log(y.step,"SPVFS[]",_,T),y.pv=y.dpv=Dn(T,_)},function(y){var _=(T=y.stack).pop(),T=T.pop();h.DEBUG&&console.log(y.step,"SPVFS[]",_,T),y.fv=Dn(T,_)},function(y){var _=y.stack,T=y.pv;h.DEBUG&&console.log(y.step,"GPV[]"),_.push(16384*T.x),_.push(16384*T.y)},function(y){var _=y.stack,T=y.fv;h.DEBUG&&console.log(y.step,"GFV[]"),_.push(16384*T.x),_.push(16384*T.y)},function(y){y.fv=y.pv,h.DEBUG&&console.log(y.step,"SFVTPV[]")},function(_){var T=(F=_.stack).pop(),C=F.pop(),O=F.pop(),B=F.pop(),F=F.pop(),de=_.z0,Te=_.z1,oe=de[T],de=de[C],ce=Te[O],Te=Te[B],_=_.z2[F],T=(h.DEBUG&&console.log("ISECT[], ",T,C,O,B,F),oe.x),C=oe.y,O=de.x,B=de.y,F=ce.x,oe=ce.y,de=Te.x,ce=Te.y,Te=(T-O)*(oe-ce)-(C-B)*(F-de),ke=T*B-C*O,Ae=F*ce-oe*de;_.x=(ke*(F-de)-Ae*(T-O))/Te,_.y=(ke*(oe-ce)-Ae*(C-B))/Te},function(y){y.rp0=y.stack.pop(),h.DEBUG&&console.log(y.step,"SRP0[]",y.rp0)},function(y){y.rp1=y.stack.pop(),h.DEBUG&&console.log(y.step,"SRP1[]",y.rp1)},function(y){y.rp2=y.stack.pop(),h.DEBUG&&console.log(y.step,"SRP2[]",y.rp2)},function(y){var _=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"SZP0[]",_),y.zp0=_){case 0:y.tZone||vi(y),y.z0=y.tZone;break;case 1:y.z0=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var _=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"SZP1[]",_),y.zp1=_){case 0:y.tZone||vi(y),y.z1=y.tZone;break;case 1:y.z1=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var _=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"SZP2[]",_),y.zp2=_){case 0:y.tZone||vi(y),y.z2=y.tZone;break;case 1:y.z2=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){var _=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"SZPS[]",_),y.zp0=y.zp1=y.zp2=_){case 0:y.tZone||vi(y),y.z0=y.z1=y.z2=y.tZone;break;case 1:y.z0=y.z1=y.z2=y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(y){y.loop=y.stack.pop(),h.DEBUG&&console.log(y.step,"SLOOP[]",y.loop)},function(y){h.DEBUG&&console.log(y.step,"RTG[]"),y.round=oc},function(y){h.DEBUG&&console.log(y.step,"RTHG[]"),y.round=dp},function(y){var _=y.stack.pop();h.DEBUG&&console.log(y.step,"SMD[]",_),y.minDis=_/64},function(y){h.DEBUG&&console.log(y.step,"ELSE[]"),nc(y,!1)},function(y){var _=y.stack.pop();h.DEBUG&&console.log(y.step,"JMPR[]",_),y.ip+=_-1},function(y){var _=y.stack.pop();h.DEBUG&&console.log(y.step,"SCVTCI[]",_),y.cvCutIn=_/64},void 0,void 0,function(y){var _=y.stack;h.DEBUG&&console.log(y.step,"DUP[]"),_.push(_[_.length-1])},Ha,function(y){h.DEBUG&&console.log(y.step,"CLEAR[]"),y.stack.length=0},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"SWAP[]"),_.push(T),_.push(C)},function(y){var _=y.stack;h.DEBUG&&console.log(y.step,"DEPTH[]"),_.push(_.length)},function(y){var _=y.stack,T=_.pop();h.DEBUG&&console.log(y.step,"CINDEX[]",T),_.push(_[_.length-T])},function(y){var _=y.stack,T=_.pop();h.DEBUG&&console.log(y.step,"MINDEX[]",T),_.push(_.splice(_.length-T,1)[0])},void 0,void 0,void 0,function(y){var _=(C=y.stack).pop(),T=C.pop(),C=(h.DEBUG&&console.log(y.step,"LOOPCALL[]",_,T),y.ip),O=y.prog;y.prog=y.funcs[_];for(var B=0;B<T;B++)Js(y),h.DEBUG&&console.log(++y.step,B+1<T?"next loopcall":"done loopcall",B);y.ip=C,y.prog=O},function(y){var _=y.stack.pop(),T=(h.DEBUG&&console.log(y.step,"CALL[]",_),y.ip),C=y.prog;y.prog=y.funcs[_],Js(y),y.ip=T,y.prog=C,h.DEBUG&&console.log(++y.step,"returning from",_)},function(y){if(y.env!=="fpgm")throw new Error("FDEF not allowed here");var C=y.stack,_=y.prog,T=y.ip,C=C.pop(),O=T;for(h.DEBUG&&console.log(y.step,"FDEF[]",C);_[++T]!==45;);y.ip=T,y.funcs[C]=_.slice(O+1,T)},void 0,dc.bind(void 0,0),dc.bind(void 0,1),hc.bind(void 0,Zo),hc.bind(void 0,Uo),fc.bind(void 0,0),fc.bind(void 0,1),pc.bind(void 0,0),pc.bind(void 0,1),mc.bind(void 0,0),mc.bind(void 0,1),function(y){for(var _=y.stack,T=y.loop,C=y.fv,O=_.pop()/64,B=y.z2;T--;){var F=_.pop(),oe=B[F];h.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-T)+": ":"")+"SHPIX[]",F,O),C.setRelative(oe,oe,O),C.touch(oe)}y.loop=1},function(y){for(var _=y.stack,T=y.rp1,C=y.rp2,O=y.loop,B=y.z0[T],F=y.z1[C],oe=y.fv,de=y.dpv,ce=y.z2;O--;){var Te=_.pop(),ke=ce[Te];h.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-O)+": ":"")+"IP[]",Te,T,"<->",C),oe.interpolate(ke,B,F,de),oe.touch(ke)}y.loop=1},gc.bind(void 0,0),gc.bind(void 0,1),function(y){for(var _=y.stack,T=y.rp0,C=y.z0[T],O=y.loop,B=y.fv,F=y.pv,oe=y.z1;O--;){var de=_.pop(),ce=oe[de];h.DEBUG&&console.log(y.step,(1<y.loop?"loop "+(y.loop-O)+": ":"")+"ALIGNRP[]",de),B.setRelative(ce,C,0,F),B.touch(ce)}y.loop=1},function(y){h.DEBUG&&console.log(y.step,"RTDG[]"),y.round=cp},yc.bind(void 0,0),yc.bind(void 0,1),function(y){var _=y.prog,T=y.ip,C=y.stack,O=_[++T];h.DEBUG&&console.log(y.step,"NPUSHB[]",O);for(var B=0;B<O;B++)C.push(_[++T]);y.ip=T},function(y){var _=y.ip,T=y.prog,C=y.stack,O=T[++_];h.DEBUG&&console.log(y.step,"NPUSHW[]",O);for(var B=0;B<O;B++){var F=T[++_]<<8|T[++_];32768&F&&(F=-(1+(65535^F))),C.push(F)}y.ip=_},function(y){var C=y.stack,_=(_=y.store)||(y.store=[]),T=C.pop(),C=C.pop();h.DEBUG&&console.log(y.step,"WS",T,C),_[C]=T},function(O){var _=O.stack,T=O.store,C=_.pop(),O=(h.DEBUG&&console.log(O.step,"RS",C),T&&T[C]||0);_.push(O)},function(y){var _=(T=y.stack).pop(),T=T.pop();h.DEBUG&&console.log(y.step,"WCVTP",_,T),y.cvt[T]=_/64},function(y){var _=y.stack,T=_.pop();h.DEBUG&&console.log(y.step,"RCVT",T),_.push(64*y.cvt[T])},vc.bind(void 0,0),vc.bind(void 0,1),void 0,bc.bind(void 0,0),bc.bind(void 0,1),function(y){h.DEBUG&&console.log(y.step,"MPPEM[]"),y.stack.push(y.ppem)},void 0,function(y){h.DEBUG&&console.log(y.step,"FLIPON[]"),y.autoFlip=!0},void 0,void 0,function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"LT[]",T,C),_.push(C<T?1:0)},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"LTEQ[]",T,C),_.push(C<=T?1:0)},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"GT[]",T,C),_.push(T<C?1:0)},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"GTEQ[]",T,C),_.push(T<=C?1:0)},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"EQ[]",T,C),_.push(T===C?1:0)},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"NEQ[]",T,C),_.push(T!==C?1:0)},function(y){var _=y.stack,T=_.pop();h.DEBUG&&console.log(y.step,"ODD[]",T),_.push(Math.trunc(T)%2?1:0)},function(y){var _=y.stack,T=_.pop();h.DEBUG&&console.log(y.step,"EVEN[]",T),_.push(Math.trunc(T)%2?0:1)},function(y){var _=y.stack.pop();h.DEBUG&&console.log(y.step,"IF[]",_),_||(nc(y,!0),h.DEBUG&&console.log(y.step,"EIF[]"))},function(y){h.DEBUG&&console.log(y.step,"EIF[]")},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"AND[]",T,C),_.push(T&&C?1:0)},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"OR[]",T,C),_.push(T||C?1:0)},function(y){var _=y.stack,T=_.pop();h.DEBUG&&console.log(y.step,"NOT[]",T),_.push(T?0:1)},Ga.bind(void 0,1),function(y){var _=y.stack.pop();h.DEBUG&&console.log(y.step,"SDB[]",_),y.deltaBase=_},function(y){var _=y.stack.pop();h.DEBUG&&console.log(y.step,"SDS[]",_),y.deltaShift=Math.pow(.5,_)},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"ADD[]",T,C),_.push(C+T)},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"SUB[]",T,C),_.push(C-T)},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"DIV[]",T,C),_.push(64*C/T)},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"MUL[]",T,C),_.push(C*T/64)},function(y){var _=y.stack,T=_.pop();h.DEBUG&&console.log(y.step,"ABS[]",T),_.push(Math.abs(T))},function(y){var _=y.stack,T=_.pop();h.DEBUG&&console.log(y.step,"NEG[]",T),_.push(-T)},function(y){var _=y.stack,T=_.pop();h.DEBUG&&console.log(y.step,"FLOOR[]",T),_.push(64*Math.floor(T/64))},function(y){var _=y.stack,T=_.pop();h.DEBUG&&console.log(y.step,"CEILING[]",T),_.push(64*Math.ceil(T/64))},bi.bind(void 0,0),bi.bind(void 0,1),bi.bind(void 0,2),bi.bind(void 0,3),void 0,void 0,void 0,void 0,function(y){var _=(T=y.stack).pop(),T=T.pop();h.DEBUG&&console.log(y.step,"WCVTF[]",_,T),y.cvt[T]=_*y.ppem/y.font.unitsPerEm},Ga.bind(void 0,2),Ga.bind(void 0,3),Wa.bind(void 0,1),Wa.bind(void 0,2),Wa.bind(void 0,3),function(y){var _,T=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"SROUND[]",T),y.round=sc,192&T){case 0:_=.5;break;case 64:_=1;break;case 128:_=2;break;default:throw new Error("invalid SROUND value")}switch(y.srPeriod=_,48&T){case 0:y.srPhase=0;break;case 16:y.srPhase=.25*_;break;case 32:y.srPhase=.5*_;break;case 48:y.srPhase=.75*_;break;default:throw new Error("invalid SROUND value")}y.srThreshold=(T&=15)===0?0:(T/8-.5)*_},function(y){var _,T=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"S45ROUND[]",T),y.round=sc,192&T){case 0:_=Math.sqrt(2)/2;break;case 64:_=Math.sqrt(2);break;case 128:_=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(y.srPeriod=_,48&T){case 0:y.srPhase=0;break;case 16:y.srPhase=.25*_;break;case 32:y.srPhase=.5*_;break;case 48:y.srPhase=.75*_;break;default:throw new Error("invalid S45ROUND value")}y.srThreshold=(T&=15)===0?0:(T/8-.5)*_},void 0,void 0,function(y){h.DEBUG&&console.log(y.step,"ROFF[]"),y.round=up},void 0,function(y){h.DEBUG&&console.log(y.step,"RUTG[]"),y.round=hp},function(y){h.DEBUG&&console.log(y.step,"RDTG[]"),y.round=fp},Ha,Ha,void 0,void 0,void 0,void 0,void 0,function(y){var _=y.stack.pop();h.DEBUG&&console.log(y.step,"SCANCTRL[]",_)},wc.bind(void 0,0),wc.bind(void 0,1),function(y){var _=y.stack,T=_.pop(),C=0;h.DEBUG&&console.log(y.step,"GETINFO[]",T),1&T&&(C=35),32&T&&(C|=4096),_.push(C)},void 0,function(y){var _=y.stack,T=_.pop(),C=_.pop(),O=_.pop();h.DEBUG&&console.log(y.step,"ROLL[]"),_.push(C),_.push(T),_.push(O)},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"MAX[]",T,C),_.push(Math.max(C,T))},function(y){var _=y.stack,T=_.pop(),C=_.pop();h.DEBUG&&console.log(y.step,"MIN[]",T,C),_.push(Math.min(C,T))},function(y){var _=y.stack.pop();h.DEBUG&&console.log(y.step,"SCANTYPE[]",_)},function(y){var _=y.stack.pop(),T=y.stack.pop();switch(h.DEBUG&&console.log(y.step,"INSTCTRL[]",_,T),_){case 1:return void(y.inhibitGridFit=!!T);case 2:return void(y.ignoreCvt=!!T);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,hs.bind(void 0,1),hs.bind(void 0,2),hs.bind(void 0,3),hs.bind(void 0,4),hs.bind(void 0,5),hs.bind(void 0,6),hs.bind(void 0,7),hs.bind(void 0,8),fs.bind(void 0,1),fs.bind(void 0,2),fs.bind(void 0,3),fs.bind(void 0,4),fs.bind(void 0,5),fs.bind(void 0,6),fs.bind(void 0,7),fs.bind(void 0,8),ut.bind(void 0,0,0,0,0,0),ut.bind(void 0,0,0,0,0,1),ut.bind(void 0,0,0,0,0,2),ut.bind(void 0,0,0,0,0,3),ut.bind(void 0,0,0,0,1,0),ut.bind(void 0,0,0,0,1,1),ut.bind(void 0,0,0,0,1,2),ut.bind(void 0,0,0,0,1,3),ut.bind(void 0,0,0,1,0,0),ut.bind(void 0,0,0,1,0,1),ut.bind(void 0,0,0,1,0,2),ut.bind(void 0,0,0,1,0,3),ut.bind(void 0,0,0,1,1,0),ut.bind(void 0,0,0,1,1,1),ut.bind(void 0,0,0,1,1,2),ut.bind(void 0,0,0,1,1,3),ut.bind(void 0,0,1,0,0,0),ut.bind(void 0,0,1,0,0,1),ut.bind(void 0,0,1,0,0,2),ut.bind(void 0,0,1,0,0,3),ut.bind(void 0,0,1,0,1,0),ut.bind(void 0,0,1,0,1,1),ut.bind(void 0,0,1,0,1,2),ut.bind(void 0,0,1,0,1,3),ut.bind(void 0,0,1,1,0,0),ut.bind(void 0,0,1,1,0,1),ut.bind(void 0,0,1,1,0,2),ut.bind(void 0,0,1,1,0,3),ut.bind(void 0,0,1,1,1,0),ut.bind(void 0,0,1,1,1,1),ut.bind(void 0,0,1,1,1,2),ut.bind(void 0,0,1,1,1,3),ut.bind(void 0,1,0,0,0,0),ut.bind(void 0,1,0,0,0,1),ut.bind(void 0,1,0,0,0,2),ut.bind(void 0,1,0,0,0,3),ut.bind(void 0,1,0,0,1,0),ut.bind(void 0,1,0,0,1,1),ut.bind(void 0,1,0,0,1,2),ut.bind(void 0,1,0,0,1,3),ut.bind(void 0,1,0,1,0,0),ut.bind(void 0,1,0,1,0,1),ut.bind(void 0,1,0,1,0,2),ut.bind(void 0,1,0,1,0,3),ut.bind(void 0,1,0,1,1,0),ut.bind(void 0,1,0,1,1,1),ut.bind(void 0,1,0,1,1,2),ut.bind(void 0,1,0,1,1,3),ut.bind(void 0,1,1,0,0,0),ut.bind(void 0,1,1,0,0,1),ut.bind(void 0,1,1,0,0,2),ut.bind(void 0,1,1,0,0,3),ut.bind(void 0,1,1,0,1,0),ut.bind(void 0,1,1,0,1,1),ut.bind(void 0,1,1,0,1,2),ut.bind(void 0,1,1,0,1,3),ut.bind(void 0,1,1,1,0,0),ut.bind(void 0,1,1,1,0,1),ut.bind(void 0,1,1,1,0,2),ut.bind(void 0,1,1,1,0,3),ut.bind(void 0,1,1,1,1,0),ut.bind(void 0,1,1,1,1,1),ut.bind(void 0,1,1,1,1,2),ut.bind(void 0,1,1,1,1,3)],yp=Array.from||function(y){return y.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Ht(y){(y=y||{}).empty||(Qs(y.familyName,"When creating a new Font object, familyName is required."),Qs(y.styleName,"When creating a new Font object, styleName is required."),Qs(y.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Qs(y.ascender,"When creating a new Font object, ascender is required."),Qs(y.descender,"When creating a new Font object, descender is required."),Qs(y.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:y.familyName||" "},fontSubfamily:{en:y.styleName||" "},fullName:{en:y.fullName||y.familyName+" "+y.styleName},postScriptName:{en:y.postScriptName||(y.familyName+y.styleName).replace(/\s/g,"")},designer:{en:y.designer||" "},designerURL:{en:y.designerURL||" "},manufacturer:{en:y.manufacturer||" "},manufacturerURL:{en:y.manufacturerURL||" "},license:{en:y.license||" "},licenseURL:{en:y.licenseURL||" "},version:{en:y.version||"Version 0.1"},description:{en:y.description||" "},copyright:{en:y.copyright||" "},trademark:{en:y.trademark||" "}},this.unitsPerEm=y.unitsPerEm||1e3,this.ascender=y.ascender,this.descender=y.descender,this.createdTimestamp=y.createdTimestamp,this.tables={os2:{usWeightClass:y.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:y.widthClass||this.usWidthClasses.MEDIUM,fsSelection:y.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ct.GlyphSet(this,y.glyphs||[]),this.encoding=new Oe(this),this.position=new yi(this),this.substitution=new Bo(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new rc(this):void 0)}})}function Sc(y,_){var T,C=JSON.stringify(y),O=256;for(T in _){var B=parseInt(T);if(B&&!(B<256)){if(JSON.stringify(_[T])===C)return B;O<=B&&(O=B+1)}}return _[O]=y,O}Ht.prototype.hasChar=function(y){return this.encoding.charToGlyphIndex(y)!==null},Ht.prototype.charToGlyphIndex=function(y){return this.encoding.charToGlyphIndex(y)},Ht.prototype.charToGlyph=function(y){return y=this.charToGlyphIndex(y),this.glyphs.get(y)||this.glyphs.get(0)},Ht.prototype.stringToGlyphs=function(y,_){_=_||this.defaultRenderOptions;for(var T=yp(y),C=[],O=0;O<T.length;O+=1){var B=T[O];C.push(this.charToGlyphIndex(B))}var F=C.length;if(_.features){var y=_.script||this.substitution.getDefaultScriptName(),oe=[];_.features.liga&&(oe=oe.concat(this.substitution.getFeature("liga",y,_.language))),_.features.rlig&&(oe=oe.concat(this.substitution.getFeature("rlig",y,_.language)));for(var de=0;de<F;de+=1)for(var ce=0;ce<oe.length;ce++){for(var Te=oe[ce],ke=Te.sub,Ae=ke.length,be=0;be<Ae&&ke[be]===C[de+be];)be++;be===Ae&&(C.splice(de,Ae,Te.by),F=F-Ae+1)}}for(var We=new Array(F),Le=this.glyphs.get(0),Ve=0;Ve<F;Ve+=1)We[Ve]=this.glyphs.get(C[Ve])||Le;return We},Ht.prototype.nameToGlyphIndex=function(y){return this.glyphNames.nameToGlyphIndex(y)},Ht.prototype.nameToGlyph=function(y){return y=this.nameToGlyphIndex(y),this.glyphs.get(y)||this.glyphs.get(0)},Ht.prototype.glyphIndexToName=function(y){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(y):""},Ht.prototype.getKerningValue=function(y,_){y=y.index||y,_=_.index||_;var T=this.position.defaultKerningTables;return T?this.position.getKerningValue(T,y,_):this.kerningPairs[y+","+_]||0},Ht.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Ht.prototype.forEachGlyph=function(y,_,T,C,O,B){_=_!==void 0?_:0,T=T!==void 0?T:0,O=O||this.defaultRenderOptions;var F,oe=1/this.unitsPerEm*(C=C!==void 0?C:72),de=this.stringToGlyphs(y,O);O.kerning&&(y=O.script||this.position.getDefaultScriptName(),F=this.position.getKerningTables(y,O.language));for(var ce=0;ce<de.length;ce+=1){var Te=de[ce];B.call(this,Te,_,T,C,O),Te.advanceWidth&&(_+=Te.advanceWidth*oe),O.kerning&&ce<de.length-1&&(_+=(F?this.position.getKerningValue(F,Te.index,de[ce+1].index):this.getKerningValue(Te,de[ce+1]))*oe),O.letterSpacing?_+=O.letterSpacing*C:O.tracking&&(_+=O.tracking/1e3*C)}return _},Ht.prototype.getPath=function(y,_,T,C,O){var B=new se;return this.forEachGlyph(y,_,T,C,O,function(F,oe,de,ce){F=F.getPath(oe,de,ce,O,this),B.extend(F)}),B},Ht.prototype.getPaths=function(y,_,T,C,O){var B=[];return this.forEachGlyph(y,_,T,C,O,function(F,oe,de,ce){F=F.getPath(oe,de,ce,O,this),B.push(F)}),B},Ht.prototype.getAdvanceWidth=function(y,_,T){return this.forEachGlyph(y,0,0,_,T,function(){})},Ht.prototype.draw=function(y,_,T,C,O,B){this.getPath(_,T,C,O,B).draw(y)},Ht.prototype.drawPoints=function(y,_,T,C,O,B){this.forEachGlyph(_,T,C,O,B,function(F,oe,de,ce){F.drawPoints(y,oe,de,ce)})},Ht.prototype.drawMetrics=function(y,_,T,C,O,B){this.forEachGlyph(_,T,C,O,B,function(F,oe,de,ce){F.drawMetrics(y,oe,de,ce)})},Ht.prototype.getEnglishName=function(y){if(y=this.names[y],y)return y.en},Ht.prototype.validate=function(){var y=this;function _(T){T=y.getEnglishName(T),T&&T.trim().length}_("fontFamily"),_("weightName"),_("manufacturer"),_("copyright"),_("version"),this.unitsPerEm},Ht.prototype.toTables=function(){return ip.fontToTable(this)},Ht.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Ht.prototype.toArrayBuffer=function(){for(var y=this.toTables().encode(),_=new ArrayBuffer(y.length),T=new Uint8Array(_),C=0;C<y.length;C++)T[C]=y[C];return _},Ht.prototype.download=function(y){var _=this.getEnglishName("fontFamily"),T=this.getEnglishName("fontSubfamily"),C=(y=y||_.replace(/\s/g,"")+"-"+T+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,C.byteLength,function(O){O.root.getFile(y,{create:!0},function(B){B.createWriter(function(F){var oe=new DataView(C),oe=new Blob([oe],{type:"font/opentype"});F.write(oe),F.addEventListener("writeend",function(){location.href=B.toURL()},!1)})})},function(O){throw new Error(O.name+": "+O.message)})):(_=t("fs"),T=function(O){for(var B=new i(O.byteLength),F=new Uint8Array(O),oe=0;oe<B.length;++oe)B[oe]=F[oe];return B}(C),_.writeFileSync(y,T))},Ht.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Ht.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Ht.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var vp={make:function(y,_){var T=new Re.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:y.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:y.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*y.axes.length}]);T.offsetToData=T.sizeOf();for(var C,O,B,F=0;F<y.axes.length;F++)T.fields=T.fields.concat((C=F,O=y.axes[F],B=_,B=Sc(O.name,_),[{name:"tag_"+C,type:"TAG",value:O.tag},{name:"minValue_"+C,type:"FIXED",value:O.minValue<<16},{name:"defaultValue_"+C,type:"FIXED",value:O.defaultValue<<16},{name:"maxValue_"+C,type:"FIXED",value:O.maxValue<<16},{name:"flags_"+C,type:"USHORT",value:0},{name:"nameID_"+C,type:"USHORT",value:B}]));for(var oe=0;oe<y.instances.length;oe++)T.fields=T.fields.concat(function(de,ce,Te,ke){for(var Ae=[{name:"nameID_"+de,type:"USHORT",value:Sc(ce.name,ke)},{name:"flags_"+de,type:"USHORT",value:0}],be=0;be<Te.length;++be){var We=Te[be].tag;Ae.push({name:"axis_"+de+" "+We,type:"FIXED",value:ce.coordinates[We]<<16})}return Ae}(oe,y.instances[oe],y.axes,_));return T},parse:function(y,_,T){for(var C,O,B,F,oe=new Pe.Parser(y,_),de=oe.parseULong(),ce=(L.argument(de===65536,"Unsupported fvar table version."),oe.parseOffset16()),Te=(oe.skip("uShort",1),oe.parseUShort()),ke=oe.parseUShort(),Ae=oe.parseUShort(),be=oe.parseUShort(),We=[],Le=0;Le<Te;Le++)We.push((C=y,O=_+ce+Le*ke,B=T,F={},C=new Pe.Parser(C,O),F.tag=C.parseTag(),F.minValue=C.parseFixed(),F.defaultValue=C.parseFixed(),F.maxValue=C.parseFixed(),C.skip("uShort",1),F.name=B[C.parseUShort()]||{},F));for(var Ve=[],De=_+ce+Te*ke,Ie=0;Ie<Ae;Ie++)Ve.push(function(dt,yt,ht,ft){var St={},zt=new Pe.Parser(dt,yt);St.name=ft[zt.parseUShort()]||{},zt.skip("uShort",1),St.coordinates={};for(var rr=0;rr<ht.length;++rr)St.coordinates[ht[rr].tag]=zt.parseFixed();return St}(y,De+Ie*be,We,T));return{axes:We,instances:Ve}}},xo=new Array(10);xo[1]=function(){var y=this.offset+this.relativeOffset,_=this.parseUShort();return _===1?{posFormat:1,coverage:this.parsePointer(Ee.coverage),value:this.parseValueRecord()}:_===2?{posFormat:2,coverage:this.parsePointer(Ee.coverage),values:this.parseValueRecordList()}:void L.assert(!1,"0x"+y.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},xo[2]=function(){var y,_,T,C,B=this.offset+this.relativeOffset,O=this.parseUShort(),B=(L.assert(O===1||O===2,"0x"+B.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Ee.coverage)),F=this.parseUShort(),oe=this.parseUShort();return O===1?{posFormat:O,coverage:B,valueFormat1:F,valueFormat2:oe,pairSets:this.parseList(Ee.pointer(Ee.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(F),value2:this.parseValueRecord(oe)}})))}:O===2?(y=this.parsePointer(Ee.classDef),_=this.parsePointer(Ee.classDef),T=this.parseUShort(),C=this.parseUShort(),{posFormat:O,coverage:B,valueFormat1:F,valueFormat2:oe,classDef1:y,classDef2:_,class1Count:T,class2Count:C,classRecords:this.parseList(T,Ee.list(C,function(){return{value1:this.parseValueRecord(F),value2:this.parseValueRecord(oe)}}))}):void 0},xo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},xo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},xo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},xo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},xo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},xo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},xo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var bp=new Array(10),wp={parse:function(y,_){return _=(y=new Ee(y,_=_||0)).parseVersion(1),L.argument(_===1||_===1.1,"Unsupported GPOS table version "+_),_===1?{version:_,scripts:y.parseScriptList(),features:y.parseFeatureList(),lookups:y.parseLookupList(xo)}:{version:_,scripts:y.parseScriptList(),features:y.parseFeatureList(),lookups:y.parseLookupList(xo),variations:y.parseFeatureVariationsList()}},make:function(y){return new Re.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Re.ScriptList(y.scripts)},{name:"features",type:"TABLE",value:new Re.FeatureList(y.features)},{name:"lookups",type:"TABLE",value:new Re.LookupList(y.lookups,bp)}])}},xp={parse:function(y,_){if(y=new Pe.Parser(y,_),(_=y.parseUShort())===0){var T=y,C={},ke=(T.skip("uShort"),T.parseUShort()),O=(L.argument(ke===0,"Unsupported kern sub-table version."),T.skip("uShort",2),T.parseUShort());T.skip("uShort",3);for(var B=0;B<O;B+=1){var F=T.parseUShort(),oe=T.parseUShort(),de=T.parseShort();C[F+","+oe]=de}return C}if(_!==1)throw new Error("Unsupported kern table version ("+_+").");var ce=y,Te={},ke=(ce.skip("uShort"),1<ce.parseULong()&&console.warn("Only the first kern subtable is supported."),ce.skip("uLong"),255&ce.parseUShort());if(ce.skip("uShort"),ke==0){var Ae=ce.parseUShort();ce.skip("uShort",3);for(var be=0;be<Ae;be+=1){var We=ce.parseUShort(),Le=ce.parseUShort(),Ve=ce.parseShort();Te[We+","+Le]=Ve}}return Te}},Sp={parse:function(y,_,T,C){for(var O=new Pe.Parser(y,_),B=C?O.parseUShort:O.parseULong,F=[],oe=0;oe<T+1;oe+=1){var de=B.call(O);C&&(de*=2),F.push(de)}return F}};function _p(y,_){t("fs").readFile(y,function(T,C){if(T)return _(T.message);_(null,Qu(C))})}function Ep(y,_){var T=new XMLHttpRequest;T.open("get",y,!0),T.responseType="arraybuffer",T.onload=function(){return T.response?_(null,T.response):_("Font could not be loaded: "+T.statusText)},T.onerror=function(){_("Font could not be loaded")},T.send()}function _c(y,_){for(var T=[],C=12,O=0;O<_;O+=1){var B=Pe.getTag(y,C),F=Pe.getULong(y,C+4),oe=Pe.getULong(y,C+8),de=Pe.getULong(y,C+12);T.push({tag:B,checksum:F,offset:oe,length:de,compression:!1}),C+=16}return T}function cr(T,_){if(_.compression!=="WOFF")return{data:T,offset:_.offset};var T=new Uint8Array(T.buffer,_.offset+2,_.compressedLength-2),C=new Uint8Array(_.length);if(X(T,C),C.byteLength!==_.length)throw new Error("Decompression error: "+_.tag+" decompressed length doesn't match recorded length");return{data:new DataView(C.buffer,0),offset:0}}function za(Ie){var _,T,C,O,B,F,oe,de,ce,Te,ke,Ae,be,We,Le=new Ht({empty:!0}),Ve=new DataView(Ie,0),De=[],Ie=Pe.getTag(Ve,0);if(Ie===String.fromCharCode(0,1,0,0)||Ie==="true"||Ie==="typ1")Le.outlinesFormat="truetype",De=_c(Ve,C=Pe.getUShort(Ve,4));else if(Ie==="OTTO")Le.outlinesFormat="cff",De=_c(Ve,C=Pe.getUShort(Ve,4));else{if(Ie!=="wOFF")throw new Error("Unsupported OpenType signature "+Ie);var dt=Pe.getTag(Ve,4);if(dt===String.fromCharCode(0,1,0,0))Le.outlinesFormat="truetype";else{if(dt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Ie);Le.outlinesFormat="cff"}De=function(Yt,Ut){for(var Nr=[],Jt=44,Tr=0;Tr<Ut;Tr+=1){var Zt=Pe.getTag(Yt,Jt),xr=Pe.getULong(Yt,Jt+4),Ln=Pe.getULong(Yt,Jt+8),en=Pe.getULong(Yt,Jt+12),Ec=void 0,Ec=Ln<en&&"WOFF";Nr.push({tag:Zt,offset:xr,compression:Ec,compressedLength:Ln,length:en}),Jt+=20}return Nr}(Ve,C=Pe.getUShort(Ve,12))}for(var yt=0;yt<C;yt+=1){var ht=De[yt],ft=void 0;switch(ht.tag){case"cmap":ft=cr(Ve,ht),Le.tables.cmap=Q.parse(ft.data,ft.offset),Le.encoding=new Ue(Le.tables.cmap);break;case"cvt ":ft=cr(Ve,ht),We=new Pe.Parser(ft.data,ft.offset),Le.tables.cvt=We.parseShortList(ht.length/2);break;case"fvar":B=ht;break;case"fpgm":ft=cr(Ve,ht),We=new Pe.Parser(ft.data,ft.offset),Le.tables.fpgm=We.parseByteList(ht.length);break;case"head":ft=cr(Ve,ht),Le.tables.head=On.parse(ft.data,ft.offset),Le.unitsPerEm=Le.tables.head.unitsPerEm,_=Le.tables.head.indexToLocFormat;break;case"hhea":ft=cr(Ve,ht),Le.tables.hhea=we.parse(ft.data,ft.offset),Le.ascender=Le.tables.hhea.ascender,Le.descender=Le.tables.hhea.descender,Le.numberOfHMetrics=Le.tables.hhea.numberOfHMetrics;break;case"hmtx":ce=ht;break;case"ltag":ft=cr(Ve,ht),T=it.parse(ft.data,ft.offset);break;case"maxp":ft=cr(Ve,ht),Le.tables.maxp=Xe.parse(ft.data,ft.offset),Le.numGlyphs=Le.tables.maxp.numGlyphs;break;case"name":Ae=ht;break;case"OS/2":ft=cr(Ve,ht),Le.tables.os2=wr.parse(ft.data,ft.offset);break;case"post":ft=cr(Ve,ht),Le.tables.post=Hu.parse(ft.data,ft.offset),Le.glyphNames=new Qe(Le.tables.post);break;case"prep":ft=cr(Ve,ht),We=new Pe.Parser(ft.data,ft.offset),Le.tables.prep=We.parseByteList(ht.length);break;case"glyf":F=ht;break;case"loca":ke=ht;break;case"CFF ":O=ht;break;case"kern":Te=ht;break;case"GPOS":oe=ht;break;case"GSUB":de=ht;break;case"meta":be=ht}}if(dt=cr(Ve,Ae),Le.tables.name=Jr.parse(dt.data,dt.offset,T),Le.names=Le.tables.name,F&&ke)Ie=_===0,dt=cr(Ve,ke),dt=Sp.parse(dt.data,dt.offset,Le.numGlyphs,Ie),Ie=cr(Ve,F),Le.glyphs=tc.parse(Ie.data,Ie.offset,dt,Le);else{if(!O)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ie=cr(Ve,O),An.parse(Ie.data,Ie.offset,Le)}for(var dt=cr(Ve,ce),St=(Ke.parse(dt.data,dt.offset,Le.numberOfHMetrics,Le.numGlyphs,Le.glyphs),Le),zt=St.tables.cmap.glyphIndexMap,rr=Object.keys(zt),dr=0;dr<rr.length;dr+=1){var Br,Ur=rr[dr],So=zt[Ur];(Br=St.glyphs.get(So)).addUnicode(parseInt(Ur))}for(var Gt=0;Gt<St.glyphs.length;Gt+=1)Br=St.glyphs.get(Gt),St.cffEncoding?St.isCIDFont?Br.name="gid"+Gt:Br.name=St.cffEncoding.charset[Gt]:St.glyphNames.names&&(Br.name=St.glyphNames.glyphIndexToName(Gt));return Te?(Ie=cr(Ve,Te),Le.kerningPairs=xp.parse(Ie.data,Ie.offset)):Le.kerningPairs={},oe&&(dt=cr(Ve,oe),Le.tables.gpos=wp.parse(dt.data,dt.offset),Le.position.init()),de&&(Ie=cr(Ve,de),Le.tables.gsub=Gu.parse(Ie.data,Ie.offset)),B&&(dt=cr(Ve,B),Le.tables.fvar=vp.parse(dt.data,dt.offset,Le.names)),be&&(Ie=cr(Ve,be),Le.tables.meta=Wu.parse(Ie.data,Ie.offset),Le.metas=Le.tables.meta),Le}h.Font=Ht,h.Glyph=nt,h.Path=se,h.BoundingBox=te,h._parse=Pe,h.parse=za,h.load=function(y,_){(typeof window>"u"?_p:Ep)(y,function(T,C){if(T)return _(T);var O;try{O=za(C)}catch(B){return _(B,null)}return _(null,O)})},h.loadSync=function(y){return za(Qu(t("fs").readFileSync(y)))},Object.defineProperty(h,"__esModule",{value:!0})},s(typeof d=="object"&&f!==void 0?d:u.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],242:[function(t,f,d){(function(i){function u(m,g){for(var c=0,l=m.length-1;0<=l;l--){var a=m[l];a==="."?m.splice(l,1):a===".."?(m.splice(l,1),c++):c&&(m.splice(l,1),c--)}if(g)for(;c--;)m.unshift("..");return m}function s(m,g){if(m.filter)return m.filter(g);for(var c=[],l=0;l<m.length;l++)g(m[l],l,m)&&c.push(m[l]);return c}d.resolve=function(){for(var m="",g=!1,c=arguments.length-1;-1<=c&&!g;c--){var l=0<=c?arguments[c]:i.cwd();if(typeof l!="string")throw new TypeError("Arguments to path.resolve must be strings");l&&(m=l+"/"+m,g=l.charAt(0)==="/")}return(g?"/":"")+(m=u(s(m.split("/"),function(a){return!!a}),!g).join("/"))||"."},d.normalize=function(m){var g=d.isAbsolute(m),c=h(m,-1)==="/";return(m=(m=u(s(m.split("/"),function(l){return!!l}),!g).join("/"))||g?m:".")&&c&&(m+="/"),(g?"/":"")+m},d.isAbsolute=function(m){return m.charAt(0)==="/"},d.join=function(){var m=Array.prototype.slice.call(arguments,0);return d.normalize(s(m,function(g,c){if(typeof g!="string")throw new TypeError("Arguments to path.join must be strings");return g}).join("/"))},d.relative=function(m,g){function c(E){for(var j=0;j<E.length&&E[j]==="";j++);for(var S=E.length-1;0<=S&&E[S]==="";S--);return S<j?[]:E.slice(j,S-j+1)}m=d.resolve(m).substr(1),g=d.resolve(g).substr(1);for(var l=c(m.split("/")),a=c(g.split("/")),p=Math.min(l.length,a.length),v=p,w=0;w<p;w++)if(l[w]!==a[w]){v=w;break}for(var x=[],w=v;w<l.length;w++)x.push("..");return(x=x.concat(a.slice(v))).join("/")},d.sep="/",d.delimiter=":",d.dirname=function(m){if(typeof m!="string"&&(m+=""),m.length===0)return".";for(var g=m.charCodeAt(0)===47,c=-1,l=!0,a=m.length-1;1<=a;--a)if(m.charCodeAt(a)===47){if(!l){c=a;break}}else l=!1;return c===-1?g?"/":".":g&&c===1?"/":m.slice(0,c)},d.basename=function(m,g){return m=function(c){typeof c!="string"&&(c+="");for(var l=0,a=-1,p=!0,v=c.length-1;0<=v;--v)if(c.charCodeAt(v)===47){if(!p){l=v+1;break}}else a===-1&&(p=!1,a=v+1);return a===-1?"":c.slice(l,a)}(m),m=g&&m.substr(-1*g.length)===g?m.substr(0,m.length-g.length):m},d.extname=function(m){typeof m!="string"&&(m+="");for(var g=-1,c=0,l=-1,a=!0,p=0,v=m.length-1;0<=v;--v){var w=m.charCodeAt(v);if(w===47){if(a)continue;c=v+1;break}l===-1&&(a=!1,l=v+1),w===46?g===-1?g=v:p!==1&&(p=1):g!==-1&&(p=-1)}return g===-1||l===-1||p===0||p===1&&g===l-1&&g===c+1?"":m.slice(g,l)};var h="ab".substr(-1)==="b"?function(m,g,c){return m.substr(g,c)}:function(m,g,c){return g<0&&(g=m.length+g),m.substr(g,c)}}).call(this,t("_process"))},{_process:243}],243:[function(t,s,d){var i,u,s=s.exports={};function h(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}try{i=typeof setTimeout=="function"?setTimeout:h}catch{i=h}try{u=typeof clearTimeout=="function"?clearTimeout:m}catch{u=m}function g(j){if(i===setTimeout)return setTimeout(j,0);if((i===h||!i)&&setTimeout)return(i=setTimeout)(j,0);try{return i(j,0)}catch{try{return i.call(null,j,0)}catch{return i.call(this,j,0)}}}var c,l=[],a=!1,p=-1;function v(){a&&c&&(a=!1,c.length?l=c.concat(l):p=-1,l.length&&w())}function w(){if(!a){for(var j=g(v),S=(a=!0,l.length);S;){for(c=l,l=[];++p<S;)c&&c[p].run();p=-1,S=l.length}c=null,a=!1,function(R){if(u===clearTimeout)return clearTimeout(R);if((u===m||!u)&&clearTimeout)return(u=clearTimeout)(R);try{u(R)}catch{try{return u.call(null,R)}catch{return u.call(this,R)}}}(j)}}function x(j,S){this.fun=j,this.array=S}function E(){}s.nextTick=function(j){var S=new Array(arguments.length-1);if(1<arguments.length)for(var R=1;R<arguments.length;R++)S[R-1]=arguments[R];l.push(new x(j,S)),l.length!==1||a||g(w)},x.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=E,s.addListener=E,s.once=E,s.off=E,s.removeListener=E,s.removeAllListeners=E,s.emit=E,s.prependListener=E,s.prependOnceListener=E,s.listeners=function(j){return[]},s.binding=function(j){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(j){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],244:[function(t,f,d){f=function(i){var u,s=Object.prototype,h=s.hasOwnProperty,M=typeof Symbol=="function"?Symbol:{},m=M.iterator||"@@iterator",g=M.asyncIterator||"@@asyncIterator",c=M.toStringTag||"@@toStringTag";function l(Z,H,Y,$){var se,me,A,L,H=H&&H.prototype instanceof j?H:j,H=Object.create(H.prototype),$=new G($||[]);return H._invoke=(se=Z,me=Y,A=$,L=p,function(ie,ye){if(L===w)throw new Error("Generator is already running");if(L===x){if(ie==="throw")throw ye;return K()}for(A.method=ie,A.arg=ye;;){var ve=A.delegate;if(ve&&(ve=function xe(fe,W){var re=fe.iterator[W.method];if(re===u){if(W.delegate=null,W.method==="throw"){if(fe.iterator.return&&(W.method="return",W.arg=u,xe(fe,W),W.method==="throw"))return E;W.method="throw",W.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}if(re=a(re,fe.iterator,W.arg),re.type==="throw")return W.method="throw",W.arg=re.arg,W.delegate=null,E;if(re=re.arg,!re)return W.method="throw",W.arg=new TypeError("iterator result is not an object"),W.delegate=null,E;{if(!re.done)return re;W[fe.resultName]=re.value,W.next=fe.nextLoc,W.method!=="return"&&(W.method="next",W.arg=u)}return W.delegate=null,E}(ve,A),ve)){if(ve===E)continue;return ve}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(L===p)throw L=x,A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);if(L=w,ve=a(se,me,A),ve.type==="normal"){if(L=A.done?x:v,ve.arg!==E)return{value:ve.arg,done:A.done}}else ve.type==="throw"&&(L=x,A.method="throw",A.arg=ve.arg)}}),H}function a(Z,X,Y){try{return{type:"normal",arg:Z.call(X,Y)}}catch(te){return{type:"throw",arg:te}}}i.wrap=l;var p="suspendedStart",v="suspendedYield",w="executing",x="completed",E={};function j(){}function S(){}function R(){}var M={},P=(M[m]=function(){return this},Object.getPrototypeOf),P=P&&P(P(J([]))),k=(P&&P!==s&&h.call(P,m)&&(M=P),R.prototype=j.prototype=Object.create(M));function D(Z){["next","throw","return"].forEach(function(X){Z[X]=function(Y){return this._invoke(X,Y)}})}function I(Z){var X;this._invoke=function(Y,te){function se(){return new Promise(function(me,A){(function L(xe,$,ie,ye){var ve,xe=a(Z[xe],Z,$);if(xe.type!=="throw")return($=(ve=xe.arg).value)&&typeof $=="object"&&h.call($,"__await")?Promise.resolve($.__await).then(function(fe){L("next",fe,ie,ye)},function(fe){L("throw",fe,ie,ye)}):Promise.resolve($).then(function(fe){ve.value=fe,ie(ve)},function(fe){return L("throw",fe,ie,ye)});ye(xe.arg)})(Y,te,me,A)})}return X=X?X.then(se,se):se()}}function N(Z){var X={tryLoc:Z[0]};1 in Z&&(X.catchLoc=Z[1]),2 in Z&&(X.finallyLoc=Z[2],X.afterLoc=Z[3]),this.tryEntries.push(X)}function U(Z){var X=Z.completion||{};X.type="normal",delete X.arg,Z.completion=X}function G(Z){this.tryEntries=[{tryLoc:"root"}],Z.forEach(N,this),this.reset(!0)}function J(Z){if(Z){var X,Y=Z[m];if(Y)return Y.call(Z);if(typeof Z.next=="function")return Z;if(!isNaN(Z.length))return X=-1,(Y=function te(){for(;++X<Z.length;)if(h.call(Z,X))return te.value=Z[X],te.done=!1,te;return te.value=u,te.done=!0,te}).next=Y}return{next:K}}function K(){return{value:u,done:!0}}return(S.prototype=k.constructor=R).constructor=S,R[c]=S.displayName="GeneratorFunction",i.isGeneratorFunction=function(Z){return Z=typeof Z=="function"&&Z.constructor,!!Z&&(Z===S||(Z.displayName||Z.name)==="GeneratorFunction")},i.mark=function(Z){return Object.setPrototypeOf?Object.setPrototypeOf(Z,R):(Z.__proto__=R,c in Z||(Z[c]="GeneratorFunction")),Z.prototype=Object.create(k),Z},i.awrap=function(Z){return{__await:Z}},D(I.prototype),I.prototype[g]=function(){return this},i.AsyncIterator=I,i.async=function(Z,X,Y,te){var se=new I(l(Z,X,Y,te));return i.isGeneratorFunction(X)?se:se.next().then(function(me){return me.done?me.value:se.next()})},D(k),k[c]="Generator",k[m]=function(){return this},k.toString=function(){return"[object Generator]"},i.keys=function(Z){var X,Y=[];for(X in Z)Y.push(X);return Y.reverse(),function te(){for(;Y.length;){var se=Y.pop();if(se in Z)return te.value=se,te.done=!1,te}return te.done=!0,te}},i.values=J,G.prototype={constructor:G,reset:function(Z){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(U),!Z)for(var X in this)X.charAt(0)==="t"&&h.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=u)},stop:function(){this.done=!0;var Z=this.tryEntries[0].completion;if(Z.type==="throw")throw Z.arg;return this.rval},dispatchException:function(Z){if(this.done)throw Z;var X=this;function Y(H,$){return me.type="throw",me.arg=Z,X.next=H,$&&(X.method="next",X.arg=u),!!$}for(var te=this.tryEntries.length-1;0<=te;--te){var se=this.tryEntries[te],me=se.completion;if(se.tryLoc==="root")return Y("end");if(se.tryLoc<=this.prev){var A=h.call(se,"catchLoc"),L=h.call(se,"finallyLoc");if(A&&L){if(this.prev<se.catchLoc)return Y(se.catchLoc,!0);if(this.prev<se.finallyLoc)return Y(se.finallyLoc)}else if(A){if(this.prev<se.catchLoc)return Y(se.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<se.finallyLoc)return Y(se.finallyLoc)}}}},abrupt:function(Z,X){for(var Y=this.tryEntries.length-1;0<=Y;--Y){var te=this.tryEntries[Y];if(te.tryLoc<=this.prev&&h.call(te,"finallyLoc")&&this.prev<te.finallyLoc){var se=te;break}}var me=(se=se&&(Z==="break"||Z==="continue")&&se.tryLoc<=X&&X<=se.finallyLoc?null:se)?se.completion:{};return me.type=Z,me.arg=X,se?(this.method="next",this.next=se.finallyLoc,E):this.complete(me)},complete:function(Z,X){if(Z.type==="throw")throw Z.arg;return Z.type==="break"||Z.type==="continue"?this.next=Z.arg:Z.type==="return"?(this.rval=this.arg=Z.arg,this.method="return",this.next="end"):Z.type==="normal"&&X&&(this.next=X),E},finish:function(Z){for(var X=this.tryEntries.length-1;0<=X;--X){var Y=this.tryEntries[X];if(Y.finallyLoc===Z)return this.complete(Y.completion,Y.afterLoc),U(Y),E}},catch:function(Z){for(var X=this.tryEntries.length-1;0<=X;--X){var Y,te,se=this.tryEntries[X];if(se.tryLoc===Z)return(Y=se.completion).type==="throw"&&(te=Y.arg,U(se)),te}throw new Error("illegal catch attempt")},delegateYield:function(Z,X,Y){return this.delegate={iterator:J(Z),resultName:X,nextLoc:Y},this.method==="next"&&(this.arg=u),E}},i}(typeof f=="object"?f.exports:{});try{regeneratorRuntime=f}catch{Function("r","regeneratorRuntime = r")(f)}},{}],245:[function(t,f,d){(function(i){var u,s,h,m,g,c,l,a,p,v;function w(U){if(typeof U!="string"&&(U=String(U)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(U))throw new TypeError("Invalid character in header field name");return U.toLowerCase()}function x(U){return U=typeof U!="string"?String(U):U}function E(U){var G={next:function(){var J=U.shift();return{done:J===void 0,value:J}}};return s&&(G[Symbol.iterator]=function(){return G}),G}function j(U){this.map={},U instanceof j?U.forEach(function(G,J){this.append(J,G)},this):Array.isArray(U)?U.forEach(function(G){this.append(G[0],G[1])},this):U&&Object.getOwnPropertyNames(U).forEach(function(G){this.append(G,U[G])},this)}function S(U){if(U.bodyUsed)return Promise.reject(new TypeError("Already read"));U.bodyUsed=!0}function R(U){return new Promise(function(G,J){U.onload=function(){G(U.result)},U.onerror=function(){J(U.error)}})}function M(U){var G=new FileReader,J=R(G);return G.readAsArrayBuffer(U),J}function P(U){var G;return U.slice?U.slice(0):((G=new Uint8Array(U.byteLength)).set(new Uint8Array(U)),G.buffer)}function k(){return this.bodyUsed=!1,this._initBody=function(U){if(this._bodyInit=U)if(typeof U=="string")this._bodyText=U;else if(h&&Blob.prototype.isPrototypeOf(U))this._bodyBlob=U;else if(m&&FormData.prototype.isPrototypeOf(U))this._bodyFormData=U;else if(u&&URLSearchParams.prototype.isPrototypeOf(U))this._bodyText=U.toString();else if(g&&h&&l(U))this._bodyArrayBuffer=P(U.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g||!ArrayBuffer.prototype.isPrototypeOf(U)&&!a(U))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=P(U)}else this._bodyText="";this.headers.get("content-type")||(typeof U=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(U)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h&&(this.blob=function(){var U=S(this);if(U)return U;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var U,G,J=S(this);if(J)return J;if(this._bodyBlob)return J=this._bodyBlob,U=new FileReader,G=R(U),U.readAsText(J),G;if(this._bodyArrayBuffer)return Promise.resolve(function(K){for(var Z=new Uint8Array(K),X=new Array(Z.length),Y=0;Y<Z.length;Y++)X[Y]=String.fromCharCode(Z[Y]);return X.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}function D(U,G){var J,K=(G=G||{}).body;if(U instanceof D){if(U.bodyUsed)throw new TypeError("Already read");this.url=U.url,this.credentials=U.credentials,G.headers||(this.headers=new j(U.headers)),this.method=U.method,this.mode=U.mode,K||U._bodyInit==null||(K=U._bodyInit,U.bodyUsed=!0)}else this.url=String(U);if(this.credentials=G.credentials||this.credentials||"omit",!G.headers&&this.headers||(this.headers=new j(G.headers)),this.method=(U=G.method||this.method||"GET",J=U.toUpperCase(),-1<p.indexOf(J)?J:U),this.mode=G.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&K)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(K)}function I(U){var G=new FormData;return U.trim().split("&").forEach(function(J){var K;J&&(K=(J=J.split("=")).shift().replace(/\+/g," "),J=J.join("=").replace(/\+/g," "),G.append(decodeURIComponent(K),decodeURIComponent(J)))}),G}function N(U,G){G=G||{},this.type="default",this.status=G.status===void 0?200:G.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in G?G.statusText:"OK",this.headers=new j(G.headers),this.url=G.url||"",this._initBody(U)}i.fetch||(u="URLSearchParams"in i,s="Symbol"in i&&"iterator"in Symbol,h="FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),m="FormData"in i,(g="ArrayBuffer"in i)&&(c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(U){return U&&DataView.prototype.isPrototypeOf(U)},a=ArrayBuffer.isView||function(U){return U&&-1<c.indexOf(Object.prototype.toString.call(U))}),j.prototype.append=function(U,G){U=w(U),G=x(G);var J=this.map[U];this.map[U]=J?J+","+G:G},j.prototype.delete=function(U){delete this.map[w(U)]},j.prototype.get=function(U){return U=w(U),this.has(U)?this.map[U]:null},j.prototype.has=function(U){return this.map.hasOwnProperty(w(U))},j.prototype.set=function(U,G){this.map[w(U)]=x(G)},j.prototype.forEach=function(U,G){for(var J in this.map)this.map.hasOwnProperty(J)&&U.call(G,this.map[J],J,this)},j.prototype.keys=function(){var U=[];return this.forEach(function(G,J){U.push(J)}),E(U)},j.prototype.values=function(){var U=[];return this.forEach(function(G){U.push(G)}),E(U)},j.prototype.entries=function(){var U=[];return this.forEach(function(G,J){U.push([J,G])}),E(U)},s&&(j.prototype[Symbol.iterator]=j.prototype.entries),p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],D.prototype.clone=function(){return new D(this,{body:this._bodyInit})},k.call(D.prototype),k.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new j(this.headers),url:this.url})},N.error=function(){var U=new N(null,{status:0,statusText:""});return U.type="error",U},v=[301,302,303,307,308],N.redirect=function(U,G){if(v.indexOf(G)===-1)throw new RangeError("Invalid status code");return new N(null,{status:G,headers:{location:U}})},i.Headers=j,i.Request=D,i.Response=N,i.fetch=function(U,G){return new Promise(function(J,K){var Z=new D(U,G),X=new XMLHttpRequest;X.onload=function(){var Y,te={status:X.status,statusText:X.statusText,headers:(te=X.getAllResponseHeaders()||"",Y=new j,te.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(A){var A=A.split(":"),L=A.shift().trim();L&&(A=A.join(":").trim(),Y.append(L,A))}),Y)},se=(te.url="responseURL"in X?X.responseURL:te.headers.get("X-Request-URL"),"response"in X?X.response:X.responseText);J(new N(se,te))},X.onerror=function(){K(new TypeError("Network request failed"))},X.ontimeout=function(){K(new TypeError("Network request failed"))},X.open(Z.method,Z.url,!0),Z.credentials==="include"?X.withCredentials=!0:Z.credentials==="omit"&&(X.withCredentials=!1),"responseType"in X&&h&&(X.responseType="blob"),Z.headers.forEach(function(Y,te){X.setRequestHeader(te,Y)}),X.send(Z._bodyInit===void 0?null:Z._bodyInit)})},i.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],246:[function(t,f,d){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i,u=h(t("../core/main")),s=h(t("../color/color_conversion"));function h(c){return c&&c.__esModule?c:{default:c}}var m=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],g=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];u.default.prototype._rgbColorName=function(p){var l,a,p=s.default._rgbaToHSBA(p),v=[(i=p)[0],p[1],p[2]];v[0]!==0&&(v[0]=Math.round(100*v[0]),(p=v[0].toString().split(""))[a=p.length-1]=parseInt(p[a]),p[a]<2.5?p[a]=0:2.5<=p[a]&&p[a]<7.5&&(p[a]=5),p.length===2?(p[0]=parseInt(p[0]),7.5<=p[a]&&(p[a]=0,p[0]=p[0]+1),v[0]=10*p[0]+p[1]):7.5<=p[a]?v[0]=10:v[0]=p[a]),v[2]=v[2]/255;for(var w=v.length-1;1<=w;w--)v[w]<=.25?v[w]=0:.25<v[w]&&v[w]<.75?v[w]=.5:v[w]=1;if(v[0]===0&&v[1]===0&&v[2]===1){for(var x=2;0<=x;x--)i[x]=Math.round(1e4*i[x])/1e4;for(var E=0;E<m.length;E++){if(m[E].h===i[0]&&m[E].s===i[1]&&m[E].b===i[2]){l=m[E].name;break}l="white"}}else for(var j=0;j<g.length;j++)if(g[j].h===v[0]&&g[j].s===v[1]&&g[j].b===v[2]){l=g[j].name;break}return l},t=u.default,d.default=t},{"../color/color_conversion":252,"../core/main":267,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],247:[function(t,f,d){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t},u="_Description",s="_fallbackDesc",h="_fallbackTable",m="_Label",g="_labelDesc",c="_labelTable";function l(a){if(a==="label"||a==="fallback")throw new Error("description should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")||a.endsWith("?")||a.endsWith("!")||(a+="."),a}i.default.prototype.describe=function(a,p){var v;i.default._validateParameters("describe",arguments),typeof a=="string"&&(v=this.canvas.id,a=l(a),this.dummyDOM||(this.dummyDOM=document.getElementById(v).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==a&&(this.descriptions.fallback.innerHTML=a):this._describeHTML("fallback",a),p===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==a&&(this.descriptions.label.innerHTML=a):this._describeHTML("label",a)))},i.default.prototype.describeElement=function(a,p,v){var w,x;i.default._validateParameters("describeElement",arguments),typeof p=="string"&&typeof a=="string"&&(w=this.canvas.id,p=l(p),x=function(E){if(E==="label"||E==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return E.endsWith(".")||E.endsWith(";")||E.endsWith(",")?E=E.replace(/.$/,":"):E.endsWith(":")||(E+=":"),E}(a),a=a.replace(/[^a-zA-Z0-9]/g,""),x='<th scope="row">'.concat(x,"</th><td>").concat(p,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(w).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[a]?this.descriptions.fallbackElements[a].innerHTML!==x&&(this.descriptions.fallbackElements[a].innerHTML=x):this._describeElementHTML("fallback",a,x),v===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[a]?this.descriptions.labelElements[a].innerHTML!==x&&(this.descriptions.labelElements[a].innerHTML=x):this._describeElementHTML("label",a,x)))},i.default.prototype._describeHTML=function(a,p){var v,w=this.canvas.id;a==="fallback"?(this.dummyDOM.querySelector("#".concat(w+u))?this.dummyDOM.querySelector("#"+w+h).insertAdjacentHTML("beforebegin",'<p id="'.concat(w+s,'"></p>')):(v='<div id="'.concat(w).concat(u,'" role="region" aria-label="Canvas Description"><p id="').concat(w).concat(s,'"></p></div>'),this.dummyDOM.querySelector("#".concat(w,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutput")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#".concat(w)).innerHTML=v),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(w).concat(s)),this.descriptions.fallback.innerHTML=p):a==="label"&&(this.dummyDOM.querySelector("#".concat(w+m))?this.dummyDOM.querySelector("#".concat(w+c))&&this.dummyDOM.querySelector("#".concat(w+c)).insertAdjacentHTML("beforebegin",'<p id="'.concat(w).concat(g,'"></p>')):(v='<div id="'.concat(w).concat(m,'" class="p5Label"><p id="').concat(w).concat(g,'"></p></div>'),this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#"+w).insertAdjacentHTML("afterend",v)),this.descriptions.label=this.dummyDOM.querySelector("#"+w+g),this.descriptions.label.innerHTML=p)},i.default.prototype._describeElementHTML=function(a,p,v){var w,x=this.canvas.id;a==="fallback"?(this.dummyDOM.querySelector("#".concat(x+u))?this.dummyDOM.querySelector("#"+x+h)||this.dummyDOM.querySelector("#"+x+s).insertAdjacentHTML("afterend",'<table id="'.concat(x).concat(h,'"><caption>Canvas elements and their descriptions</caption></table>')):(w='<div id="'.concat(x).concat(u,'" role="region" aria-label="Canvas Description"><table id="').concat(x).concat(h,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(x,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutput")).insertAdjacentHTML("beforebegin",w):this.dummyDOM.querySelector("#"+x).innerHTML=w),(w=document.createElement("tr")).id=x+"_fte_"+p,this.dummyDOM.querySelector("#"+x+h).appendChild(w),this.descriptions.fallbackElements[p]=this.dummyDOM.querySelector("#".concat(x).concat("_fte_").concat(p)),this.descriptions.fallbackElements[p].innerHTML=v):a==="label"&&(this.dummyDOM.querySelector("#".concat(x+m))?this.dummyDOM.querySelector("#".concat(x+c))||this.dummyDOM.querySelector("#"+x+g).insertAdjacentHTML("afterend",'<table id="'.concat(x+c,'"></table>')):(w='<div id="'.concat(x).concat(m,'" class="p5Label"><table id="').concat(x).concat(c,'"></table></div>'),this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",w):this.dummyDOM.querySelector("#"+x).insertAdjacentHTML("afterend",w)),(a=document.createElement("tr")).id=x+"_lte_"+p,this.dummyDOM.querySelector("#"+x+c).appendChild(a),this.descriptions.labelElements[p]=this.dummyDOM.querySelector("#".concat(x).concat("_lte_").concat(p)),this.descriptions.labelElements[p].innerHTML=v)},t=i.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],248:[function(t,f,d){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.map"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(i){var u,s,h,m;this.dummyDOM.querySelector("#".concat(i,"_summary"))&&(u=this._accessibleOutputs[i],h=function(g,c,l,a){return c="".concat(c," canvas, ").concat(l," by ").concat(a," pixels, contains ").concat(g[0]),c=(g[0]===1?"".concat(c," shape: "):"".concat(c," shapes: ")).concat(g[1]),c}((s=function(g,c){var l,a="",p="",v=0;for(l in c){var w,x=0;for(w in c[l]){var E='<li id="'.concat(g,"shape").concat(v,'">').concat(c[l][w].color," ").concat(l,",");l==="line"?E+=" location = ".concat(c[l][w].pos,", length = ").concat(c[l][w].length," pixels"):(E+=" location = ".concat(c[l][w].pos),l!=="point"&&(E+=", area = ".concat(c[l][w].area," %")),E+="</li>"),a+=E,x++,v++}p=1<x?"".concat(p," ").concat(x," ").concat(l,"s"):"".concat(p," ").concat(x," ").concat(l)}return{numShapes:[v,p],details:a}}(i,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(g,c){var l,a,p,v=0,w="",x=Array.apply(null,Array(10)).map(function(){});for(l in x)x[l]=Array.apply(null,Array(10)).map(function(){});for(a in c)for(var E in c[a]){var j=void 0;j=a!=="line"?'<a href="#'.concat(g,"shape").concat(v,'">').concat(c[a][E].color," ").concat(a,"</a>"):'<a href="#'.concat(g,"shape").concat(v,'">').concat(c[a][E].color," ").concat(a," midpoint</a>"),x[c[a][E].loc.locY][c[a][E].loc.locX]?x[c[a][E].loc.locY][c[a][E].loc.locX]=x[c[a][E].loc.locY][c[a][E].loc.locX]+"  "+j:x[c[a][E].loc.locY][c[a][E].loc.locX]=j,v++}for(p in x){var S,R="<tr>";for(S in x[p])R+="<td>",x[p][S]!==void 0&&(R+=x[p][S]),R+="</td>";w=w+R+"</tr>"}return w}(i,this.ingredients.shapes),h!==u.summary.innerHTML&&(u.summary.innerHTML=h),m!==u.map.innerHTML&&(u.map.innerHTML=m),s.details!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=s.details),this._accessibleOutputs[i]=u)},t=t.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],249:[function(t,f,d){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(h,m,g){return h[0]<.4*m?h[1]<.4*g?"top left":h[1]>.6*g?"bottom left":"mid left":h[0]>.6*m?h[1]<.4*g?"top right":h[1]>.6*g?"bottom right":"mid right":h[1]<.4*g?"top middle":h[1]>.6*g?"bottom middle":"middle"}function s(h,m,g){return m=Math.floor(h[0]/m*10),h=Math.floor(h[1]/g*10),m===10&&(m-=1),h===10&&(h-=1),{locX:m,locY:h}}i.default.prototype.textOutput=function(h){i.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),h===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},i.default.prototype.gridOutput=function(h){i.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),h===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},i.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},i.default.prototype._createOutput=function(h,m){var g,c,l,a=this.canvas.id,p=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode),"");m==="Fallback"?(g=a+h,this.dummyDOM.querySelector("#".concat(c=a+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(a,"_Description"))?this.dummyDOM.querySelector("#".concat(a,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(a)).innerHTML='<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>'))):m==="Label"&&(g=a+h+(p=m),this.dummyDOM.querySelector("#".concat(c=a+"accessibleOutput"+m))||(this.dummyDOM.querySelector("#".concat(a,"_Label"))?this.dummyDOM.querySelector("#".concat(a,"_Label")):this.dummyDOM.querySelector("#".concat(a))).insertAdjacentHTML("afterend",'<div id="'.concat(c,'"></div>'))),this._accessibleOutputs[g]={},h==="textOutput"?(p="#".concat(a,"gridOutput").concat(p),l='<div id="'.concat(g,'">Text Output<div id="').concat(g,'Summary" aria-label="text output summary"><p id="').concat(g,'_summary"></p><ul id="').concat(g,'_list"></ul></div><table id="').concat(g,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(p)?this.dummyDOM.querySelector(p).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(c)).innerHTML=l,this._accessibleOutputs[g].list=this.dummyDOM.querySelector("#".concat(g,"_list"))):h==="gridOutput"&&(p="#".concat(a,"textOutput").concat(p),l='<div id="'.concat(g,'">Grid Output<p id="').concat(g,'_summary" aria-label="grid output summary"><table id="').concat(g,'_map" summary="grid output content"></table><ul id="').concat(g,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(p)?this.dummyDOM.querySelector(p).insertAdjacentHTML("afterend",l):this.dummyDOM.querySelector("#".concat(c)).innerHTML=l,this._accessibleOutputs[g].map=this.dummyDOM.querySelector("#".concat(g,"_map"))),this._accessibleOutputs[g].shapeDetails=this.dummyDOM.querySelector("#".concat(g,"_shapeDetails")),this._accessibleOutputs[g].summary=this.dummyDOM.querySelector("#".concat(g,"_summary"))},i.default.prototype._updateAccsOutput=function(){var h=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(h+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(h+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(h+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(h+"gridOutputLabel"))},i.default.prototype._accsBackground=function(h){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==h&&(this.ingredients.colors.backgroundRGBA=h,this.ingredients.colors.background=this._rgbColorName(h))},i.default.prototype._accsCanvasColors=function(h,m){h==="fill"?this.ingredients.colors.fillRGBA!==m&&(this.ingredients.colors.fillRGBA=m,this.ingredients.colors.fill=this._rgbColorName(m)):h==="stroke"&&this.ingredients.colors.strokeRGBA!==m&&(this.ingredients.colors.strokeRGBA=m,this.ingredients.colors.stroke=this._rgbColorName(m))},i.default.prototype._accsOutput=function(h,m){h==="ellipse"&&m[2]===m[3]?h="circle":h==="rectangle"&&m[2]===m[3]&&(h="square");var g,c,l={},a=!0,p=function(w,x){var E;return w=w==="rectangle"||w==="ellipse"||w==="arc"||w==="circle"||w==="square"?(E=Math.round(x[0]+x[2]/2),Math.round(x[1]+x[3]/2)):w==="triangle"?(E=(x[0]+x[2]+x[4])/3,(x[1]+x[3]+x[5])/3):w==="quadrilateral"?(E=(x[0]+x[2]+x[4]+x[6])/4,(x[1]+x[3]+x[5]+x[7])/4):w==="line"?(E=(x[0]+x[2])/2,(x[1]+x[3])/2):(E=x[0],x[1]),[E,w]}(h,m);if(h==="line"?(l.color=this.ingredients.colors.stroke,l.length=Math.round(this.dist(m[0],m[1],m[2],m[3])),g=u([m[0],[1]],this.width,this.height),c=u([m[2],[3]],this.width,this.height),l.loc=s(p,this.width,this.height),l.pos=g===c?"at ".concat(g):"from ".concat(g," to ").concat(c)):(h==="point"?l.color=this.ingredients.colors.stroke:(l.color=this.ingredients.colors.fill,l.area=function(w,x,E,j){var S=0;{var R,M,P,k,D,I,N;w==="arc"?(R=((x[5]-x[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI),S=R*x[2]*x[3]/8,x[6]!=="open"&&x[6]!=="chord"||(N=x[0],M=x[1],P=x[0]+x[2]/2*Math.cos(x[4]).toFixed(2),k=x[1]+x[3]/2*Math.sin(x[4]).toFixed(2),D=x[0]+x[2]/2*Math.cos(x[5]).toFixed(2),I=x[1]+x[3]/2*Math.sin(x[5]).toFixed(2),N=Math.abs(N*(k-I)+P*(I-M)+D*(M-k))/2,R>Math.PI?S+=N:S-=N)):w==="ellipse"||w==="circle"?S=3.14*x[2]/2*x[3]/2:w==="line"||w==="point"?S=0:w==="quadrilateral"?S=Math.abs((x[6]+x[0])*(x[7]-x[1])+(x[0]+x[2])*(x[1]-x[3])+(x[2]+x[4])*(x[3]-x[5])+(x[4]+x[6])*(x[5]-x[7]))/2:w==="rectangle"||w==="square"?S=x[2]*x[3]:w==="triangle"&&(S=Math.abs(x[0]*(x[3]-x[5])+x[2]*(x[5]-x[1])+x[4]*(x[1]-x[3]))/2)}return Math.round(100*S/(E*j))}(h,m,this.width,this.height)),l.pos=u(p,this.width,this.height),l.loc=s(p,this.width,this.height)),this.ingredients.shapes[h]){if(this.ingredients.shapes[h]!==[l]){for(var v in this.ingredients.shapes[h])JSON.stringify(this.ingredients.shapes[h][v])===JSON.stringify(l)&&(a=!1);a===!0&&this.ingredients.shapes[h].push(l)}}else this.ingredients.shapes[h]=[l]},t=i.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":171}],250:[function(t,f,d){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(i){var u,s,h,m;this.dummyDOM.querySelector("#".concat(i,"_summary"))&&(u=this._accessibleOutputs[i],h=function(g,c,l,a){return l="Your output is a, ".concat(l," by ").concat(a," pixels, ").concat(c," canvas containing the following"),l=g===1?"".concat(l," shape:"):"".concat(l," ").concat(g," shapes:"),l}((s=function(g,c){var l,a="",p=0;for(l in c)for(var v in c[l]){var w='<li><a href="#'.concat(g,"shape").concat(p,'">').concat(c[l][v].color," ").concat(l,"</a>");l==="line"?w+=", ".concat(c[l][v].pos,", ").concat(c[l][v].length," pixels long.</li>"):(w+=", at ".concat(c[l][v].pos),l!=="point"&&(w+=", covering ".concat(c[l][v].area,"% of the canvas")),w+=".</li>"),a+=w,p++}return{numShapes:p,listShapes:a}}(i,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(g,c){var l,a="",p=0;for(l in c)for(var v in c[l]){var w='<tr id="'.concat(g,"shape").concat(p,'"><th>').concat(c[l][v].color," ").concat(l,"</th>");l==="line"?w+="<td>location = ".concat(c[l][v].pos,"</td><td>length = ").concat(c[l][v].length," pixels</td></tr>"):(w+="<td>location = ".concat(c[l][v].pos,"</td>"),l!=="point"&&(w+="<td> area = ".concat(c[l][v].area,"%</td>")),w+="</tr>"),a+=w,p++}return a}(i,this.ingredients.shapes),h!==u.summary.innerHTML&&(u.summary.innerHTML=h),s.listShapes!==u.list.innerHTML&&(u.list.innerHTML=s.listShapes),m!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=m),this._accessibleOutputs[i]=u)},t=t.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149}],251:[function(t,f,d){var i=(i=t("./core/main"))&&i.__esModule?i:{default:i};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),f.exports=i.default},{"./accessibility/color_namer":246,"./accessibility/describe":247,"./accessibility/gridOutput":248,"./accessibility/outputs":249,"./accessibility/textOutput":250,"./color/color_conversion":252,"./color/creating_reading":253,"./color/p5.Color":254,"./color/setting":255,"./core/constants":256,"./core/environment":257,"./core/friendly_errors/fes_core":258,"./core/friendly_errors/file_errors":259,"./core/friendly_errors/sketch_reader":260,"./core/friendly_errors/stacktrace":261,"./core/friendly_errors/validate_params":262,"./core/helpers":263,"./core/init":264,"./core/legacy":266,"./core/main":267,"./core/p5.Element":268,"./core/p5.Graphics":269,"./core/p5.Renderer":270,"./core/p5.Renderer2D":271,"./core/preload":272,"./core/rendering":273,"./core/shape/2d_primitives":274,"./core/shape/attributes":275,"./core/shape/curves":276,"./core/shape/vertex":277,"./core/shim":278,"./core/structure":279,"./core/transform":280,"./data/local_storage.js":281,"./data/p5.TypedDict":282,"./dom/dom":283,"./events/acceleration":284,"./events/keyboard":285,"./events/mouse":286,"./events/touch":287,"./image/filters":288,"./image/image":289,"./image/loading_displaying":290,"./image/p5.Image":291,"./image/pixels":292,"./io/files":293,"./io/p5.Table":294,"./io/p5.TableRow":295,"./io/p5.XML":296,"./math/calculation":297,"./math/math":298,"./math/noise":299,"./math/p5.Vector":300,"./math/random":301,"./math/trigonometry":302,"./typography/attributes":303,"./typography/loading_displaying":304,"./typography/p5.Font":305,"./utilities/array_functions":306,"./utilities/conversion":307,"./utilities/string_functions":308,"./utilities/time_date":309,"./webgl/3d_primitives":310,"./webgl/interaction":311,"./webgl/light":312,"./webgl/loading":313,"./webgl/material":314,"./webgl/p5.Camera":315,"./webgl/p5.Geometry":316,"./webgl/p5.Matrix":317,"./webgl/p5.RenderBuffer":318,"./webgl/p5.RendererGL":321,"./webgl/p5.RendererGL.Immediate":319,"./webgl/p5.RendererGL.Retained":320,"./webgl/p5.Shader":322,"./webgl/p5.Texture":323,"./webgl/text":324}],252:[function(t,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={},t.default.ColorConversion._hsbaToHSLA=function(i){var u=i[0],s=i[1],h=i[2],m=(2-s)*h/2;return m!=0&&(m==1?s=0:m<.5?s/=2-s:s=s*h/(2-2*m)),[u,s,m,i[3]]},t.default.ColorConversion._hsbaToRGBA=function(i){var u,s,h,m,g,c=6*i[0],l=i[1],a=i[2];return l===0?[a,a,a,i[3]]:(s=a*(1-l),h=a*(1-l*(c-(u=Math.floor(c)))),l=a*(1-l*(1+u-c)),c=u===1?(m=h,g=a,s):u===2?(m=s,g=a,l):u===3?(m=s,g=h,a):u===4?(m=l,g=s,a):u===5?(m=a,g=s,h):(m=a,g=l,s),[m,g,c,i[3]])},t.default.ColorConversion._hslaToHSBA=function(i){var u=i[0],s=i[1],h=i[2],m=h<.5?(1+s)*h:h+s-h*s;return[u,s=2*(m-h)/m,m,i[3]]},t.default.ColorConversion._hslaToRGBA=function(i){var u,s=6*i[0],h=i[1],m=i[2];return h===0?[m,m,m,i[3]]:[(u=function(g,c,l){return g<0?g+=6:6<=g&&(g-=6),g<1?c+(l-c)*g:g<3?l:g<4?c+(l-c)*(4-g):c})(2+s,h=2*m-(m=m<.5?(1+h)*m:m+h-m*h),m),u(s,h,m),u(s-2,h,m),i[3]]},t.default.ColorConversion._rgbaToHSBA=function(i){var u,s,h=i[0],m=i[1],g=i[2],c=Math.max(h,m,g),l=c-Math.min(h,m,g);return l==0?s=u=0:(s=l/c,h===c?u=(m-g)/l:m===c?u=2+(g-h)/l:g===c&&(u=4+(h-m)/l),u<0?u+=6:6<=u&&(u-=6)),[u/6,s,c,i[3]]},t.default.ColorConversion._rgbaToHSLA=function(i){var u,s,h=i[0],m=i[1],g=i[2],c=Math.max(h,m,g),a=Math.min(h,m,g),l=c+a,a=c-a;return a==0?s=u=0:(s=l<1?a/l:a/(2-l),h===c?u=(m-g)/a:m===c?u=2+(g-h)/a:g===c&&(u=4+(h-m)/a),u<0?u+=6:6<=u&&(u-=6)),[u/6,s,l/2,i[3]]},t=t.default.ColorConversion,d.default=t},{"../core/main":267}],253:[function(t,f,d){function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function u(c){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(g=t("../core/main"))&&g.__esModule?g:{default:g},h=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var l=m();if(l&&l.has(c))return l.get(c);var a,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in c){var w;Object.prototype.hasOwnProperty.call(c,a)&&((w=v?Object.getOwnPropertyDescriptor(c,a):null)&&(w.get||w.set)?Object.defineProperty(p,a,w):p[a]=c[a])}return p.default=c,l&&l.set(c,p),p}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(c){return s.default._validateParameters("alpha",arguments),this.color(c)._getAlpha()},s.default.prototype.blue=function(c){return s.default._validateParameters("blue",arguments),this.color(c)._getBlue()},s.default.prototype.brightness=function(c){return s.default._validateParameters("brightness",arguments),this.color(c)._getBrightness()},s.default.prototype.color=function(){var c;return s.default._validateParameters("color",arguments),arguments[0]instanceof s.default.Color?arguments[0]:(c=arguments[0]instanceof Array?arguments[0]:arguments,new s.default.Color(this,c))},s.default.prototype.green=function(c){return s.default._validateParameters("green",arguments),this.color(c)._getGreen()},s.default.prototype.hue=function(c){return s.default._validateParameters("hue",arguments),this.color(c)._getHue()},s.default.prototype.lerpColor=function(c,l,a){s.default._validateParameters("lerpColor",arguments);var p,v,w,x=this._colorMode,E=this._colorMaxes;if(x===h.RGB)v=c.levels.map(function(j){return j/255}),w=l.levels.map(function(j){return j/255});else if(x===h.HSB)c._getBrightness(),l._getBrightness(),v=c.hsba,w=l.hsba;else{if(x!==h.HSL)throw new Error("".concat(x,"cannot be used for interpolation."));c._getLightness(),l._getLightness(),v=c.hsla,w=l.hsla}return a=Math.max(Math.min(a,1),0),this.lerp===void 0&&(this.lerp=function(j,S,R){return R*(S-j)+j}),c=this.lerp(v[0],w[0],a),l=this.lerp(v[1],w[1],a),p=this.lerp(v[2],w[2],a),v=this.lerp(v[3],w[3],a),c*=E[x][0],l*=E[x][1],p*=E[x][2],v*=E[x][3],this.color(c,l,p,v)},s.default.prototype.lightness=function(c){return s.default._validateParameters("lightness",arguments),this.color(c)._getLightness()},s.default.prototype.red=function(c){return s.default._validateParameters("red",arguments),this.color(c)._getRed()},s.default.prototype.saturation=function(c){return s.default._validateParameters("saturation",arguments),this.color(c)._getSaturation()};var g=s.default;d.default=g},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],254:[function(a,f,d){function i(E){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(E)}function u(E){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(j){return i(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":i(j)})(E)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.trim"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=c(a("../core/main")),h=function(E){if(E&&E.__esModule)return E;if(E===null||u(E)!=="object"&&typeof E!="function")return{default:E};var j=g();if(j&&j.has(E))return j.get(E);var S,R={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in E){var P;Object.prototype.hasOwnProperty.call(E,S)&&((P=M?Object.getOwnPropertyDescriptor(E,S):null)&&(P.get||P.set)?Object.defineProperty(R,S,P):R[S]=E[S])}return R.default=E,j&&j.set(E,R),R}(a("../core/constants")),m=c(a("./color_conversion"));function g(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,g=function(){return E},E)}function c(E){return E&&E.__esModule?E:{default:E}}s.default.Color=function(E,j){if(this._storeModeAndMaxes(E._colorMode,E._colorMaxes),this.mode!==h.RGB&&this.mode!==h.HSL&&this.mode!==h.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=s.default.Color._parseInputs.apply(this,j),this._calculateLevels(),this},s.default.Color.prototype.toString=function(E){var j=this.levels,S=this._array,R=S[3];switch(E){case"#rrggbb":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16));case"#rrggbbaa":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16),j[3]<16?"0".concat(j[3].toString(16)):j[3].toString(16));case"#rgb":return"#".concat(Math.round(15*S[0]).toString(16),Math.round(15*S[1]).toString(16),Math.round(15*S[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*S[0]).toString(16),Math.round(15*S[1]).toString(16),Math.round(15*S[2]).toString(16),Math.round(15*S[3]).toString(16));case"rgb":return"rgb(".concat(j[0],", ",j[1],", ",j[2],")");case"rgb%":return"rgb(".concat((100*S[0]).toPrecision(3),"%, ",(100*S[1]).toPrecision(3),"%, ",(100*S[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*S[0]).toPrecision(3),"%, ",(100*S[1]).toPrecision(3),"%, ",(100*S[2]).toPrecision(3),"%, ",(100*S[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],", ",R,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*R).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],", ",R,")");case"hsla%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*R).toPrecision(3),"%)");default:return"rgba(".concat(j[0],",",j[1],",",j[2],",",R,")")}},s.default.Color.prototype.setRed=function(E){this._array[0]=E/this.maxes[h.RGB][0],this._calculateLevels()},s.default.Color.prototype.setGreen=function(E){this._array[1]=E/this.maxes[h.RGB][1],this._calculateLevels()},s.default.Color.prototype.setBlue=function(E){this._array[2]=E/this.maxes[h.RGB][2],this._calculateLevels()},s.default.Color.prototype.setAlpha=function(E){this._array[3]=E/this.maxes[this.mode][3],this._calculateLevels()},s.default.Color.prototype._calculateLevels=function(){for(var E=this._array,j=this.levels=new Array(E.length),S=E.length-1;0<=S;--S)j[S]=Math.round(255*E[S]);this.hsla=null,this.hsba=null},s.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},s.default.Color.prototype._storeModeAndMaxes=function(E,j){this.mode=E,this.maxes=j},s.default.Color.prototype._getMode=function(){return this.mode},s.default.Color.prototype._getMaxes=function(){return this.maxes},s.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[h.RGB][2]},s.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[h.HSB][2]},s.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[h.RGB][1]},s.default.Color.prototype._getHue=function(){return this.mode===h.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[h.HSB][0]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[h.HSL][0])},s.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[h.HSL][2]},s.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[h.RGB][0]},s.default.Color.prototype._getSaturation=function(){return this.mode===h.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[h.HSB][1]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[h.HSL][1])};var l={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},a=/\s*/,x=/(\d{1,3})/,p=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,v=new RegExp("".concat(p.source,"%")),w={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",x.source,",",x.source,",",x.source,"\\)$"].join(a.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",v.source,",",v.source,",",v.source,"\\)$"].join(a.source),"i"),RGBA:new RegExp(["^rgba\\(",x.source,",",x.source,",",x.source,",",p.source,"\\)$"].join(a.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",v.source,",",v.source,",",v.source,",",p.source,"\\)$"].join(a.source),"i"),HSL:new RegExp(["^hsl\\(",x.source,",",v.source,",",v.source,"\\)$"].join(a.source),"i"),HSLA:new RegExp(["^hsla\\(",x.source,",",v.source,",",v.source,",",p.source,"\\)$"].join(a.source),"i"),HSB:new RegExp(["^hsb\\(",x.source,",",v.source,",",v.source,"\\)$"].join(a.source),"i"),HSBA:new RegExp(["^hsba\\(",x.source,",",v.source,",",v.source,",",p.source,"\\)$"].join(a.source),"i")},x=(s.default.Color._parseInputs=function(E,j,S,R){var M,P=arguments.length,k=this.mode,D=this.maxes[k],I=[];if(3<=P){for(I[0]=E/D[0],I[1]=j/D[1],I[2]=S/D[2],I[3]=typeof R=="number"?R/D[3]:1,M=I.length-1;0<=M;--M){var N=I[M];N<0?I[M]=0:1<N&&(I[M]=1)}return k===h.HSL?m.default._hslaToRGBA(I):k===h.HSB?m.default._hsbaToRGBA(I):I}if(P===1&&typeof E=="string"){if(S=E.trim().toLowerCase(),l[S])return s.default.Color._parseInputs.call(this,l[S]);if(w.HEX3.test(S))return(I=w.HEX3.exec(S).slice(1).map(function(U){return parseInt(U+U,16)/255}))[3]=1,I;if(w.HEX6.test(S))return(I=w.HEX6.exec(S).slice(1).map(function(U){return parseInt(U,16)/255}))[3]=1,I;if(w.HEX4.test(S))return I=w.HEX4.exec(S).slice(1).map(function(U){return parseInt(U+U,16)/255});if(w.HEX8.test(S))return I=w.HEX8.exec(S).slice(1).map(function(U){return parseInt(U,16)/255});if(w.RGB.test(S))return(I=w.RGB.exec(S).slice(1).map(function(U){return U/255}))[3]=1,I;if(w.RGB_PERCENT.test(S))return(I=w.RGB_PERCENT.exec(S).slice(1).map(function(U){return parseFloat(U)/100}))[3]=1,I;if(w.RGBA.test(S))return I=w.RGBA.exec(S).slice(1).map(function(U,G){return G===3?parseFloat(U):U/255});if(w.RGBA_PERCENT.test(S))return I=w.RGBA_PERCENT.exec(S).slice(1).map(function(U,G){return G===3?parseFloat(U):parseFloat(U)/100});if(w.HSL.test(S)?(I=w.HSL.exec(S).slice(1).map(function(U,G){return G===0?parseInt(U,10)/360:parseInt(U,10)/100}))[3]=1:w.HSLA.test(S)&&(I=w.HSLA.exec(S).slice(1).map(function(U,G){return G===0?parseInt(U,10)/360:G===3?parseFloat(U):parseInt(U,10)/100})),(I=I.map(function(U){return Math.max(Math.min(U,1),0)})).length)return m.default._hslaToRGBA(I);if(w.HSB.test(S)?(I=w.HSB.exec(S).slice(1).map(function(U,G){return G===0?parseInt(U,10)/360:parseInt(U,10)/100}))[3]=1:w.HSBA.test(S)&&(I=w.HSBA.exec(S).slice(1).map(function(U,G){return G===0?parseInt(U,10)/360:G===3?parseFloat(U):parseInt(U,10)/100})),I.length){for(M=I.length-1;0<=M;--M)I[M]=Math.max(Math.min(I[M],1),0);return m.default._hsbaToRGBA(I)}I=[1,1,1,1]}else{if(P!==1&&P!==2||typeof E!="number")throw new Error("".concat(arguments,"is not a valid color representation."));I[0]=E/D[2],I[1]=E/D[2],I[2]=E/D[2],I[3]=typeof j=="number"?j/D[3]:1,I=I.map(function(U){return Math.max(Math.min(U,1),0)})}return I},s.default.Color);d.default=x},{"../core/constants":256,"../core/main":267,"./color_conversion":252,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],255:[function(t,f,d){function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function u(c){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(g=t("../core/main"))&&g.__esModule?g:{default:g},h=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var l=m();if(l&&l.has(c))return l.get(c);var a,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in c){var w;Object.prototype.hasOwnProperty.call(c,a)&&((w=v?Object.getOwnPropertyDescriptor(c,a):null)&&(w.get||w.set)?Object.defineProperty(p,a,w):p[a]=c[a])}return p.default=c,l&&l.set(c,p),p}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}t("./p5.Color"),s.default.prototype.background=function(){var c;return(c=this._renderer).background.apply(c,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},s.default.prototype.colorMode=function(c,l,a,p,v){return s.default._validateParameters("colorMode",arguments),c!==h.RGB&&c!==h.HSB&&c!==h.HSL||(this._colorMode=c,c=this._colorMaxes[c],arguments.length===2?(c[0]=l,c[1]=l,c[2]=l,c[3]=l):arguments.length===4?(c[0]=l,c[1]=a,c[2]=p):arguments.length===5&&(c[0]=l,c[1]=a,c[2]=p,c[3]=v)),this},s.default.prototype.fill=function(){var c;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(c=this._renderer).fill.apply(c,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var c;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(c=this._renderer).stroke.apply(c,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var g=s.default;d.default=g},{"../core/constants":256,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],256:[function(t,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.BEZIER=d.QUADRATIC=d.LINEAR=d._CTX_MIDDLE=d._DEFAULT_LEADMULT=d._DEFAULT_TEXT_FILL=d.WORD=d.CHAR=d.BOLDITALIC=d.BOLD=d.ITALIC=d.NORMAL=d.BLUR=d.ERODE=d.DILATE=d.POSTERIZE=d.INVERT=d.OPAQUE=d.GRAY=d.THRESHOLD=d.BURN=d.DODGE=d.SOFT_LIGHT=d.HARD_LIGHT=d.OVERLAY=d.REPLACE=d.SCREEN=d.MULTIPLY=d.EXCLUSION=d.SUBTRACT=d.DIFFERENCE=d.LIGHTEST=d.DARKEST=d.ADD=d.REMOVE=d.BLEND=d.UP_ARROW=d.TAB=d.SHIFT=d.RIGHT_ARROW=d.RETURN=d.OPTION=d.LEFT_ARROW=d.ESCAPE=d.ENTER=d.DOWN_ARROW=d.DELETE=d.CONTROL=d.BACKSPACE=d.ALT=d.AUTO=d.HSL=d.HSB=d.RGB=d.MITER=d.BEVEL=d.ROUND=d.SQUARE=d.PROJECT=d.PIE=d.CHORD=d.OPEN=d.CLOSE=d.TESS=d.QUAD_STRIP=d.QUADS=d.TRIANGLE_STRIP=d.TRIANGLE_FAN=d.TRIANGLES=d.LINE_LOOP=d.LINE_STRIP=d.LINES=d.POINTS=d.BASELINE=d.BOTTOM=d.TOP=d.CENTER=d.LEFT=d.RIGHT=d.RADIUS=d.CORNERS=d.CORNER=d.RAD_TO_DEG=d.DEG_TO_RAD=d.RADIANS=d.DEGREES=d.TWO_PI=d.TAU=d.QUARTER_PI=d.PI=d.HALF_PI=d.WAIT=d.TEXT=d.MOVE=d.HAND=d.CROSS=d.ARROW=d.WEBGL=d.P2D=d.VERSION=void 0,d.COVER=d.CONTAIN=d.FALLBACK=d.LABEL=d.AXES=d.GRID=d._DEFAULT_FILL=d._DEFAULT_STROKE=d.PORTRAIT=d.LANDSCAPE=d.MIRROR=d.CLAMP=d.REPEAT=d.NEAREST=d.IMAGE=d.IMMEDIATE=d.TEXTURE=d.FILL=d.STROKE=d.CURVE=void 0;var i=Math.PI,u=(d.VERSION="1.6.0",d.P2D="p2d",d.WEBGL="webgl",d.ARROW="default",d.CROSS="crosshair",d.HAND="pointer",d.MOVE="move",d.TEXT="text",d.WAIT="wait",i/2),u=(d.HALF_PI=u,i),u=(d.PI=u,i/4),u=(d.QUARTER_PI=u,2*i),u=(d.TAU=u,2*i),u=(d.TWO_PI=u,d.DEGREES="degrees",d.RADIANS="radians",i/180),u=(d.DEG_TO_RAD=u,180/i);d.RAD_TO_DEG=u,d.CORNER="corner",d.CORNERS="corners",d.RADIUS="radius",d.RIGHT="right",d.LEFT="left",d.CENTER="center",d.TOP="top",d.BOTTOM="bottom",d.BASELINE="alphabetic",d.POINTS=0,d.LINES=1,d.LINE_STRIP=3,d.LINE_LOOP=2,d.TRIANGLES=4,d.TRIANGLE_FAN=6,d.TRIANGLE_STRIP=5,d.QUADS="quads",d.QUAD_STRIP="quad_strip",d.TESS="tess",d.CLOSE="close",d.OPEN="open",d.CHORD="chord",d.PIE="pie",d.PROJECT="square",d.SQUARE="butt",d.ROUND="round",d.BEVEL="bevel",d.MITER="miter",d.RGB="rgb",d.HSB="hsb",d.HSL="hsl",d.AUTO="auto",d.ALT=18,d.BACKSPACE=8,d.CONTROL=17,d.DELETE=46,d.DOWN_ARROW=40,d.ENTER=13,d.ESCAPE=27,d.LEFT_ARROW=37,d.OPTION=18,d.RETURN=13,d.RIGHT_ARROW=39,d.SHIFT=16,d.TAB=9,d.UP_ARROW=38,d.BLEND="source-over",d.REMOVE="destination-out",d.ADD="lighter",d.DARKEST="darken",d.LIGHTEST="lighten",d.DIFFERENCE="difference",d.SUBTRACT="subtract",d.EXCLUSION="exclusion",d.MULTIPLY="multiply",d.SCREEN="screen",d.REPLACE="copy",d.OVERLAY="overlay",d.HARD_LIGHT="hard-light",d.SOFT_LIGHT="soft-light",d.DODGE="color-dodge",d.BURN="color-burn",d.THRESHOLD="threshold",d.GRAY="gray",d.OPAQUE="opaque",d.INVERT="invert",d.POSTERIZE="posterize",d.DILATE="dilate",d.ERODE="erode",d.BLUR="blur",d.NORMAL="normal",d.ITALIC="italic",d.BOLD="bold",d.BOLDITALIC="bold italic",d.CHAR="CHAR",d.WORD="WORD",d._DEFAULT_TEXT_FILL="#000000",d._DEFAULT_LEADMULT=1.25,d._CTX_MIDDLE="middle",d.LINEAR="linear",d.QUADRATIC="quadratic",d.BEZIER="bezier",d.CURVE="curve",d.STROKE="stroke",d.FILL="fill",d.TEXTURE="texture",d.IMMEDIATE="immediate",d.IMAGE="image",d.NEAREST="nearest",d.REPEAT="repeat",d.CLAMP="clamp",d.MIRROR="mirror",d.LANDSCAPE="landscape",d.PORTRAIT="portrait",d._DEFAULT_STROKE="#000000",d._DEFAULT_FILL="#FFFFFF",d.GRID="grid",d.AXES="axes",d.LABEL="label",d.FALLBACK="fallback",d.CONTAIN="contain",d.COVER="cover"},{}],257:[function(t,f,d){function i(p){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}function u(p){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(v){return i(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":i(v)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(h=t("./main"))&&h.__esModule?h:{default:h},h=function(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var v=m();if(v&&v.has(p))return v.get(p);var w,x={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in p){var j;Object.prototype.hasOwnProperty.call(p,w)&&((j=E?Object.getOwnPropertyDescriptor(p,w):null)&&(j.get||j.set)?Object.defineProperty(x,w,j):x[w]=p[w])}return x.default=p,v&&v.set(p,x),x}(t("./constants"));function m(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,m=function(){return p},p)}var g=[h.ARROW,h.CROSS,h.HAND,h.MOVE,h.TEXT,h.WAIT],c=(s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60,window.print);function l(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function a(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var p;arguments.length?(p=console).log.apply(p,arguments):c()},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(p,v,w){var x,E="auto",j=this._curElement.elt;g.includes(p)?E=p:typeof p=="string"&&(x="",v&&w&&typeof v=="number"&&typeof w=="number"&&(x="".concat(v," ").concat(w)),E=p.substring(0,7)==="http://"||p.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(p)?"url(".concat(p,") ").concat(x,", auto"):p),j.style.cursor=E},s.default.prototype.frameRate=function(p){return s.default._validateParameters("frameRate",arguments),typeof p!="number"||p<0?this._frameRate:(this._setProperty("_targetFrameRate",p),p===0&&this._setProperty("_frameRate",p),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(p){return this.frameRate(p)},s.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=l(),s.default.prototype.windowHeight=a(),s.default.prototype._onresize=function(p){this._setProperty("windowWidth",l()),this._setProperty("windowHeight",a());var v=this._isGlobal?window:this;typeof v.windowResized!="function"||(v=v.windowResized(p))===void 0||v||p.preventDefault()},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(p){if(s.default._validateParameters("fullscreen",arguments),p===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(p){if(p=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");p.requestFullscreen?p.requestFullscreen():p.mozRequestFullScreen?p.mozRequestFullScreen():p.webkitRequestFullscreen?p.webkitRequestFullscreen():p.msRequestFullscreen&&p.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(p){var v;return s.default._validateParameters("pixelDensity",arguments),typeof p=="number"?(p!==this._pixelDensity&&(this._pixelDensity=p),(v=this).resizeCanvas(this.width,this.height,!0)):v=this._pixelDensity,v},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(p){return p!==""})},s.default.prototype.getURLParams=function(){for(var p,v=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,w={};(p=v.exec(location.search))!=null;)p.index===v.lastIndex&&v.lastIndex++,w[p[1]]=p[2];return w},t=s.default,d.default=t},{"./constants":256,"./main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],258:[function(t,f,d){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(g=t("../main"))&&g.__esModule?g:{default:g};t("../internationalization");function u(c,l){l=l||console.log.bind(console),s||m(),s.some(function(a){var p;if(c.message&&c.message.match("\\W?".concat(a.name,"\\W"))!==null)return p=a.type==="function"?"".concat(a.name,"()"):a.name,l("Did you just try to use p5.js's ".concat(p," ").concat(a.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(h)),!0})}var s=null,m=null,h=(i.default._friendlyError=i.default._checkForUserDefinedFunctions=i.default._fesErrorMonitor=function(){},s=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),m=function(){function c(a){return Object.getOwnPropertyNames(a).filter(function(p){return p[0]!=="_"&&!(p in l)&&(l[p]=!0)}).map(function(p){var v=typeof a[p]=="function"?"function":p===p.toUpperCase()?"constant":"variable";return{name:p,type:v}})}var l={};(s=[].concat(c(i.default.prototype),c(t("../constants")))).sort(function(a,p){return p.name.length-a.name.length})},g=(i.default.prototype._helpForMisusedAtTopLevelCode=u,document.readyState!=="complete"&&(window.addEventListener("error",u,!1),window.addEventListener("load",function(){window.removeEventListener("error",u,!1)})),i.default);d.default=g},{"../constants":256,"../internationalization":265,"../main":267,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":165,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],259:[function(t,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(i=t("../main"))&&i.__esModule?i:{default:i};t("../internationalization"),i.default._friendlyFileLoadError=function(){},t=i.default,d.default=t},{"../internationalization":265,"../main":267}],260:[function(t,f,d){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function u(l){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=g(t("../main"));t("../internationalization"),m(t("../constants"));function h(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,h=function(){return l},l)}function m(l){if(l&&l.__esModule)return l;if(l===null||u(l)!=="object"&&typeof l!="function")return{default:l};var a=h();if(a&&a.has(l))return a.get(l);var p,v,w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in l)Object.prototype.hasOwnProperty.call(l,p)&&((v=x?Object.getOwnPropertyDescriptor(l,p):null)&&(v.get||v.set)?Object.defineProperty(w,p,v):w[p]=l[p]);return w.default=l,a&&a.set(l,w),w}function g(l){return l&&l.__esModule?l:{default:l}}s.default._fesCodeReader=function(){};var c=s.default;d.default=c},{"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],261:[function(t,f,d){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function i(){var u=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,h=/^(eval@)?(\[native code])?$/;return{parse:function(m){return m.stacktrace!==void 0||m["opera#sourceloc"]!==void 0?this.parseOpera(m):m.stack&&m.stack.match(s)?this.parseV8OrIE(m):m.stack?this.parseFFOrSafari(m):void 0},extractLocation:function(m){return m.indexOf(":")===-1?[m]:[(m=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(m.replace(/[()]/g,"")))[1],m[2]||void 0,m[3]||void 0]},parseV8OrIE:function(m){return m.stack.split(`
`).filter(function(g){return!!g.match(s)},this).map(function(g){var c=(g=-1<g.indexOf("(eval ")?g.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):g).replace(/^\s+/,"").replace(/\(eval code/g,"("),l=c.match(/ (\((.+):(\d+):(\d+)\)$)/),c=(c=l?c.replace(l[0],""):c).split(/\s+/).slice(1),l=this.extractLocation(l?l[1]:c.pop());return{functionName:c.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(l[0])?void 0:l[0],lineNumber:l[1],columnNumber:l[2],source:g}},this)},parseFFOrSafari:function(m){return m.stack.split(`
`).filter(function(g){return!g.match(h)},this).map(function(g){var c,l;return(g=-1<g.indexOf(" > eval")?g.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):g).indexOf("@")===-1&&g.indexOf(":")===-1?{functionName:g}:{functionName:(l=g.match(c=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&l[1]?l[1]:void 0,fileName:(l=this.extractLocation(g.replace(c,"")))[0],lineNumber:l[1],columnNumber:l[2],source:g}},this)},parseOpera:function(m){return!m.stacktrace||-1<m.message.indexOf(`
`)&&m.message.split(`
`).length>m.stacktrace.split(`
`).length?this.parseOpera9(m):m.stack?this.parseOpera11(m):this.parseOpera10(m)},parseOpera9:function(m){for(var g=/Line (\d+).*script (?:in )?(\S+)/i,c=m.message.split(`
`),l=[],a=2,p=c.length;a<p;a+=2){var v=g.exec(c[a]);v&&l.push({fileName:v[2],lineNumber:v[1],source:c[a]})}return l},parseOpera10:function(m){for(var g=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=m.stacktrace.split(`
`),l=[],a=0,p=c.length;a<p;a+=2){var v=g.exec(c[a]);v&&l.push({functionName:v[3]||void 0,fileName:v[2],lineNumber:v[1],source:c[a]})}return l},parseOpera11:function(m){return m.stack.split(`
`).filter(function(g){return!!g.match(u)&&!g.match(/^Error created at/)},this).map(function(g){var c,a=g.split("@"),l=this.extractLocation(a.pop()),a=a.shift()||"";return{functionName:a.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(c=a.match(/\(([^)]*)\)/)?a.replace(/^[^(]+\(([^)]*)\)$/,"$1"):c)===void 0||c==="[arguments not available]"?void 0:c.split(","),fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:g}},this)}}}t.default._getErrorStackParser=function(){return new i},t=t.default,d.default=t},{"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],262:[function(t,f,d){function i(m){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var u=(u=t("../main"))&&u.__esModule?u:{default:u};(function(m){if(!(m&&m.__esModule)&&!(m===null||h(m)!=="object"&&typeof m!="function")){var g=s();if(g&&g.has(m))return g.get(m);var c,l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in m){var p;Object.prototype.hasOwnProperty.call(m,c)&&((p=a?Object.getOwnPropertyDescriptor(m,c):null)&&(p.get||p.set)?Object.defineProperty(l,c,p):l[c]=m[c])}l.default=m,g&&g.set(m,l)}})(t("../constants")),t("../internationalization");function s(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,s=function(){return m},m)}function h(m){return(h=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(g){return i(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":i(g)})(m)}u.default._validateParameters=u.default._clearValidateParamsCache=function(){},t=u.default,d.default=t},{"../../../docs/parameterData.json":void 0,"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.map":166,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],263:[function(t,f,d){function i(m){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function u(m){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(g){return i(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":i(g)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=function(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var g=h();if(g&&g.has(m))return g.get(m);var c,l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in m){var p;Object.prototype.hasOwnProperty.call(m,c)&&((p=a?Object.getOwnPropertyDescriptor(m,c):null)&&(p.get||p.set)?Object.defineProperty(l,c,p):l[c]=m[c])}return l.default=m,g&&g.set(m,l),l}(t("./constants"));function h(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,h=function(){return m},m)}d.default={modeAdjust:function(m,g,c,l,a){return a===s.CORNER?{x:m,y:g,w:c,h:l}:a===s.CORNERS?{x:m,y:g,w:c-m,h:l-g}:a===s.RADIUS?{x:m-c,y:g-l,w:2*c,h:2*l}:a===s.CENTER?{x:m-.5*c,y:g-.5*l,w:c,h:l}:void 0}}},{"./constants":256,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],264:[function(t,f,d){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var i=(u=t("../core/main"))&&u.__esModule?u:{default:u};t("./internationalization");var u=Promise.resolve();Promise.all([new Promise(function(s,h){document.readyState==="complete"?s():window.addEventListener("load",s,!1)}),u]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!i.default.instance&&new i.default})},{"../core/main":267,"./internationalization":265,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":230}],265:[function(t,f,d){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.setTranslatorLanguage=d.currentTranslatorLanguage=d.availableTranslatorLanguages=d.initialize=d.translator=void 0;var i,u,s=m(t("i18next")),h=m(t("i18next-browser-languagedetector"));function m(l){return l&&l.__esModule?l:{default:l}}function g(l,a){for(var p=0;p<a.length;p++){var v=a[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(l,v.key,v)}}var c=function(){function l(v,w){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.init(v,w)}var a,p;return a=l,(p=[{key:"fetchWithTimeout",value:function(v,w){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(v,w),new Promise(function(E,j){return setTimeout(function(){return j(new Error("timeout"))},x)})])}},{key:"init",value:function(v){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=v,this.options=w}},{key:"read",value:function(v,w,x){var E=this.options.loadPath;v===this.options.fallback?x(null,i[v][w]):u.includes(v)?(E=this.services.interpolator.interpolate(E,{lng:v,ns:w}),this.loadUrl(E,x)):x("Not found",!1)}},{key:"loadUrl",value:function(v,w){this.fetchWithTimeout(v).then(function(x){if(x.ok)return x.json();throw new Error("failed loading ".concat(v))},function(){throw new Error("failed loading ".concat(v))}).then(function(x){return w(null,x)}).catch(w)}}])&&g(a.prototype,p),l}();c.type="backend",d.translator=function(l,a){console.debug("p5.js translator called before translations were loaded"),s.default.t(l,a)},d.initialize=function(){return s.default.use(h.default).use(c).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:i}).then(function(l){d.translator=l},function(l){return console.debug("Translations failed to load (".concat(l,")"))})},d.availableTranslatorLanguages=function(){return s.default.languages},d.currentTranslatorLanguage=function(l){return s.default.language},d.setTranslatorLanguage=function(l){return s.default.changeLanguage(l||void 0,function(a){return console.debug("Translations failed to load (".concat(a,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":230,i18next:3,"i18next-browser-languagedetector":3}],266:[function(t,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,d.default=t},{"./main":267}],267:[function(t,f,d){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function u(l){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t("./shim");var s=function(l){if(l&&l.__esModule)return l;if(l===null||u(l)!=="object"&&typeof l!="function")return{default:l};var a=h();if(a&&a.has(l))return a.get(l);var p,v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in l){var x;Object.prototype.hasOwnProperty.call(l,p)&&((x=w?Object.getOwnPropertyDescriptor(l,p):null)&&(x.get||x.set)?Object.defineProperty(v,p,x):v[p]=l[p])}return v.default=l,a&&a.set(l,v),v}(t("./constants"));function h(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,h=function(){return l},l)}function m(l,a){for(var p=0;p<a.length;p++){var v=a[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(l,v.key,v)}}var g,c=function(){function l(v,j,x){var E=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=j,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var j=Object.getOwnPropertyNames(l.prototype._registeredMethods),S=!0,R=!1,M=void 0;try{for(var P,k=j[Symbol.iterator]();!(S=(P=k.next()).done);S=!0){var D=P.value;this._registeredMethods[D]=l.prototype._registeredMethods[D].slice()}}catch(Y){R=!0,M=Y}finally{try{S||k.return==null||k.return()}finally{if(R)throw M}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){E._userNode&&typeof E._userNode=="string"&&(E._userNode=document.getElementById(E._userNode));var Y=E._isGlobal?window:E;if(Y.preload){var te,se=document.getElementById(E._loadingScreenId),me=(se||((se=document.createElement("div")).innerHTML="Loading...",se.style.position="absolute",se.id=E._loadingScreenId,(E._userNode||document.body).appendChild(se)),E._preloadMethods);for(te in me){me[te]=me[te]||l;var A=me[te];A!==l.prototype&&A!==l||(E._isGlobal&&(window[te]=E._wrapPreload(E,te)),A=E),E._registeredPreloadMethods[te]=A[te],A[te]=E._wrapPreload(A,te)}Y.preload(),E._runIfPreloadsAreDone()}else E._setup(),E._recording||E._draw()},this._runIfPreloadsAreDone=function(){var Y,te=this._isGlobal?window:this;te._preloadCount===0&&((Y=document.getElementById(te._loadingScreenId))&&Y.parentNode.removeChild(Y),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),te._setup(),this._recording||te._draw()))},this._decrementPreload=function(){var Y=this._isGlobal?window:this;Y._preloadDone||typeof Y.preload!="function"||(Y._setProperty("_preloadCount",Y._preloadCount-1),Y._runIfPreloadsAreDone())},this._wrapPreload=function(Y,te){var se=this;return function(){se._incrementPreload();for(var me=arguments.length,A=new Array(me),L=0;L<me;L++)A[L]=arguments[L];return se._registeredPreloadMethods[te].apply(Y,A)}},this._incrementPreload=function(){var Y=this._isGlobal?window:this;Y._preloadDone||Y._setProperty("_preloadCount",Y._preloadCount+1)},this._setup=function(){E.createCanvas(E._defaultCanvasSize.width,E._defaultCanvasSize.height,"p2d");var Y=E._isGlobal?window:E;if(typeof Y.preload=="function")for(var te in E._preloadMethods)Y[te]=E._preloadMethods[te][te],Y[te]&&E&&(Y[te]=Y[te].bind(E));E._millisStart=window.performance.now(),Y._preloadDone=!0,typeof Y.setup=="function"&&Y.setup();var se=document.getElementsByTagName("canvas"),me=!0,A=!1,L=void 0;try{for(var H,$=se[Symbol.iterator]();!(me=(H=$.next()).done);me=!0){var ie=H.value;ie.dataset.hidden==="true"&&(ie.style.visibility="",delete ie.dataset.hidden)}}catch(ye){A=!0,L=ye}finally{try{me||$.return==null||$.return()}finally{if(A)throw L}}E._lastTargetFrameTime=window.performance.now(),E._lastRealFrameTime=window.performance.now(),E._setupDone=!0,(E._accessibleOutputs.grid||E._accessibleOutputs.text)&&E._updateAccsOutput()},this._draw=function(){var Y=window.performance.now(),te=Y-E._lastTargetFrameTime,se=1e3/E._targetFrameRate;(!E._loop||se-5<=te)&&(E.redraw(),E._frameRate=1e3/(Y-E._lastRealFrameTime),E.deltaTime=Y-E._lastRealFrameTime,E._setProperty("deltaTime",E.deltaTime),E._lastTargetFrameTime=Math.max(E._lastTargetFrameTime+se,Y),E._lastRealFrameTime=Y,E._updateMouseCoords!==void 0&&(E._updateMouseCoords(),E._setProperty("movedX",0),E._setProperty("movedY",0))),E._loop&&(E._requestAnimId=window.requestAnimationFrame(E._draw))},this._setProperty=function(Y,te){E[Y]=te,E._isGlobal&&(window[Y]=te)},this.remove=function(){var Y=document.getElementById(E._loadingScreenId);if(Y&&(Y.parentNode.removeChild(Y),E._incrementPreload()),E._curElement){for(var te in E._loop=!1,E._requestAnimId&&window.cancelAnimationFrame(E._requestAnimId),E._events)window.removeEventListener(te,E._events[te]);var se=!0,Y=!1,me=void 0;try{for(var A,L=E._elements[Symbol.iterator]();!(se=(A=L.next()).done);se=!0){var H,$=A.value;for(H in $.elt&&$.elt.parentNode&&$.elt.parentNode.removeChild($.elt),$._events)$.elt.removeEventListener(H,$._events[H])}}catch(fe){Y=!0,me=fe}finally{try{se||L.return==null||L.return()}finally{if(Y)throw me}}var ie=E;E._registeredMethods.remove.forEach(function(fe){fe!==void 0&&fe.call(ie)})}if(E._isGlobal){for(var ye in l.prototype)try{delete window[ye]}catch{window[ye]=void 0}for(var ve in E)if(E.hasOwnProperty(ve))try{delete window[ve]}catch{window[ve]=void 0}l.instance=null}},this._registeredMethods.init.forEach(function(Y){Y!==void 0&&Y.call(this)},this),this._setupPromisePreloads();var I,N,U=this._createFriendlyGlobalFunctionBinder();if(v)v(this),l._checkForUserDefinedFunctions(this);else{for(var G in this._isGlobal=!0,l.instance=this,l.prototype)typeof l.prototype[G]=="function"?(I=G.substring(2),this._events.hasOwnProperty(I)||(Math.hasOwnProperty(G)&&Math[G]===l.prototype[G]?U(G,l.prototype[G]):U(G,l.prototype[G].bind(this)))):U(G,l.prototype[G]);for(var J in this)this.hasOwnProperty(J)&&U(J,this[J])}for(N in this._events){var K=this["_on".concat(N)];K&&(K=K.bind(this),window.addEventListener(N,K,{passive:!1}),this._events[N]=K)}function Z(){E._setProperty("focused",!0)}function X(){E._setProperty("focused",!1)}window.addEventListener("focus",Z),window.addEventListener("blur",X),this.registerMethod("remove",function(){window.removeEventListener("focus",Z),window.removeEventListener("blur",X)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var a,p;return a=l,(p=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=s.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(v,w){l.prototype._preloadMethods.hasOwnProperty(v)||(l.prototype._preloadMethods[v]=w)}},{key:"registerMethod",value:function(v,w){var x=this||l.prototype;x._registeredMethods.hasOwnProperty(v)||(x._registeredMethods[v]=[]),x._registeredMethods[v].push(w)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},w=v.globalObject||window;return v.log||console.log.bind(console),function(x,E){l.disableFriendlyErrors,w[x]=E}}}])&&m(a.prototype,p),l}();for(g in c.instance=null,c.disableFriendlyErrors=!1,s)c.prototype[g]=s[g];c.VERSION=s.VERSION,c.prototype._preloadMethods={loadJSON:c.prototype,loadImage:c.prototype,loadStrings:c.prototype,loadXML:c.prototype,loadBytes:c.prototype,loadTable:c.prototype,loadFont:c.prototype,loadModel:c.prototype,loadShader:c.prototype},c.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},c.prototype._registeredPreloadMethods={},d.default=c},{"./constants":256,"./shim":278,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],268:[function(t,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("./main"))&&t.__esModule?t:{default:t};i.default.Element=function(u,s){this.elt=u,this._pInst=this._pixelsState=s,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},i.default.Element.prototype.parent=function(u){return u===void 0?this.elt.parentNode:(typeof u=="string"?(u[0]==="#"&&(u=u.substring(1)),u=document.getElementById(u)):u instanceof i.default.Element&&(u=u.elt),u.appendChild(this.elt),this)},i.default.Element.prototype.id=function(u){return u===void 0?this.elt.id:(this.elt.id=u,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},i.default.Element.prototype.class=function(u){return u===void 0?this.elt.className:(this.elt.className=u,this)},i.default.Element.prototype.mousePressed=function(u){return i.default.Element._adjustListener("mousedown",function(s){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(s),u.call(this,s)},this),this},i.default.Element.prototype.doubleClicked=function(u){return i.default.Element._adjustListener("dblclick",u,this),this},i.default.Element.prototype.mouseWheel=function(u){return i.default.Element._adjustListener("wheel",u,this),this},i.default.Element.prototype.mouseReleased=function(u){return i.default.Element._adjustListener("mouseup",u,this),this},i.default.Element.prototype.mouseClicked=function(u){return i.default.Element._adjustListener("click",u,this),this},i.default.Element.prototype.mouseMoved=function(u){return i.default.Element._adjustListener("mousemove",u,this),this},i.default.Element.prototype.mouseOver=function(u){return i.default.Element._adjustListener("mouseover",u,this),this},i.default.Element.prototype.mouseOut=function(u){return i.default.Element._adjustListener("mouseout",u,this),this},i.default.Element.prototype.touchStarted=function(u){return i.default.Element._adjustListener("touchstart",u,this),this},i.default.Element.prototype.touchMoved=function(u){return i.default.Element._adjustListener("touchmove",u,this),this},i.default.Element.prototype.touchEnded=function(u){return i.default.Element._adjustListener("touchend",u,this),this},i.default.Element.prototype.dragOver=function(u){return i.default.Element._adjustListener("dragover",u,this),this},i.default.Element.prototype.dragLeave=function(u){return i.default.Element._adjustListener("dragleave",u,this),this},i.default.Element._adjustListener=function(u,s,h){return s===!1?i.default.Element._detachListener(u,h):i.default.Element._attachListener(u,s,h),this},i.default.Element._attachListener=function(u,s,h){h._events[u]&&i.default.Element._detachListener(u,h),s=s.bind(h),h.elt.addEventListener(u,s,!1),h._events[u]=s},i.default.Element._detachListener=function(u,s){var h=s._events[u];s.elt.removeEventListener(u,h,!1),s._events[u]=null},i.default.Element.prototype._setProperty=function(u,s){this[u]=s},t=i.default.Element,d.default=t},{"./main":267}],269:[function(t,f,d){function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function u(c){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(g=t("./main"))&&g.__esModule?g:{default:g},h=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var l=m();if(l&&l.has(c))return l.get(c);var a,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in c){var w;Object.prototype.hasOwnProperty.call(c,a)&&((w=v?Object.getOwnPropertyDescriptor(c,a):null)&&(w.get||w.set)?Object.defineProperty(p,a,w):p[a]=c[a])}return p.default=c,l&&l.set(c,p),p}(t("./constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}s.default.Graphics=function(c,l,w,p){var v,w=w||h.P2D;for(v in this.canvas=document.createElement("canvas"),(p._userNode||document.body).appendChild(this.canvas),s.default.Element.call(this,this.canvas,p),s.default.prototype)this[v]||(typeof s.default.prototype[v]=="function"?this[v]=s.default.prototype[v].bind(this):this[v]=s.default.prototype[v]);return s.default.prototype._initializeInstanceVariables.apply(this),this.width=c,this.height=l,this._pixelDensity=p._pixelDensity,w===h.WEBGL?this._renderer=new s.default.RendererGL(this.canvas,this,!1):this._renderer=new s.default.Renderer2D(this.canvas,this,!1),p._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(c,l),this._renderer._applyDefaults(),this},s.default.Graphics.prototype=Object.create(s.default.Element.prototype),s.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},s.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var c,l=this._pInst._elements.indexOf(this);for(c in l!==-1&&this._pInst._elements.splice(l,1),this._events)this.elt.removeEventListener(c,this._events[c])};var g=s.default.Graphics;d.default=g},{"./constants":256,"./main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],270:[function(t,f,d){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var u=(c=t("./main"))&&c.__esModule?c:{default:c},s=function(l){if(l&&l.__esModule)return l;if(l===null||m(l)!=="object"&&typeof l!="function")return{default:l};var a=h();if(a&&a.has(l))return a.get(l);var p,v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in l){var x;Object.prototype.hasOwnProperty.call(l,p)&&((x=w?Object.getOwnPropertyDescriptor(l,p):null)&&(x.get||x.set)?Object.defineProperty(v,p,x):v[p]=l[p])}return v.default=l,a&&a.set(l,v),v}(t("../core/constants"));function h(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,h=function(){return l},l)}function m(l){return(m=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(l)}function g(l){var a=0,p=0;if(l.offsetParent)for(;a+=l.offsetLeft,p+=l.offsetTop,l=l.offsetParent;);else a+=l.offsetLeft,p+=l.offsetTop;return[a,p]}u.default.Renderer=function(l,a,p){u.default.Element.call(this,l,a),this.canvas=l,this._pixelsState=a,p?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=s.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=s.LEFT,this._textBaseline=s.BASELINE,this._textWrap=s.WORD,this._rectMode=s.CORNER,this._ellipseMode=s.CENTER,this._curveTightness=0,this._imageMode=s.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},u.default.Renderer.prototype=Object.create(u.default.Element.prototype),u.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},u.default.Renderer.prototype.pop=function(l){l.properties&&Object.assign(this,l.properties)},u.default.Renderer.prototype.resize=function(l,a){this.width=l,this.height=a,this.elt.width=l*this._pInst._pixelDensity,this.elt.height=a*this._pInst._pixelDensity,this.elt.style.width="".concat(l,"px"),this.elt.style.height="".concat(a,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},u.default.Renderer.prototype.get=function(l,a,p,v){var w=this._pixelsState,x=w._pixelDensity,E=this.canvas;if(l===void 0&&a===void 0)l=a=0,p=w.width,v=w.height;else if(l*=x,a*=x,p===void 0&&v===void 0)return l<0||a<0||l>=E.width||a>=E.height?[0,0,0,0]:this._getPixel(l,a);return w=new u.default.Image(p,v),w.canvas.getContext("2d").drawImage(E,l,a,p*x,v*x,0,0,p,v),w},u.default.Renderer.prototype.textLeading=function(l){return typeof l=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",l),this._pInst):this._textLeading},u.default.Renderer.prototype.textSize=function(l){return typeof l=="number"?(this._setProperty("_textSize",l),this._leadingSet||this._setProperty("_textLeading",l*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},u.default.Renderer.prototype.textStyle=function(l){return l?(l!==s.NORMAL&&l!==s.ITALIC&&l!==s.BOLD&&l!==s.BOLDITALIC||this._setProperty("_textStyle",l),this._applyTextProperties()):this._textStyle},u.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},u.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},u.default.Renderer.prototype.textAlign=function(l,a){return l!==void 0?(this._setProperty("_textAlign",l),a!==void 0&&this._setProperty("_textBaseline",a),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},u.default.Renderer.prototype.textWrap=function(l){return this._setProperty("_textWrap",l),this._textWrap},u.default.Renderer.prototype.text=function(l,a,p,v,w){var x,E,j,S,R=this._pInst,M=this._textWrap,P=Number.MAX_VALUE,k=p;if((this._doFill||this._doStroke)&&l!==void 0){if(x=(l=(l=typeof l!="string"?l.toString():l).replace(/(\t)/g,"  ")).split(`
`),v!==void 0){switch(this._rectMode===s.CENTER&&(a-=v/2),this._textAlign){case s.CENTER:a+=v/2;break;case s.RIGHT:a+=v}if(w!==void 0){this._rectMode===s.CENTER&&(p-=w/2,k-=w/2);var l=p,D=R.textAscent();switch(this._textBaseline){case s.BOTTOM:S=p+w,p=Math.max(S,p),k+=D;break;case s.CENTER:S=p+w/2,p=Math.max(S,p),k+=D/2}P=p+w-D,this._textBaseline===s.CENTER&&(P=l+w-D/2)}else{if(this._textBaseline===s.BOTTOM)return console.warn("textAlign(*, BOTTOM) requires x, y, width and height");if(this._textBaseline===s.CENTER)return console.warn("textAlign(*, CENTER) requires x, y, width and height")}if(M===s.WORD){for(var I=[],N=0;N<x.length;N++){for(var U="",G=x[N].split(" "),J=0;J<G.length;J++)E="".concat(U+G[J])+" ",U=v<(j=this.textWidth(E))&&0<U.length?(I.push(U),"".concat(G[J])+" "):E;I.push(U)}var K=0;this._textBaseline===s.CENTER?K=(I.length-1)*R.textLeading()/2:this._textBaseline===s.BOTTOM&&(K=(I.length-1)*R.textLeading());for(var Z=0;Z<x.length;Z++){U="",G=x[Z].split(" ");for(var X=0;X<G.length;X++)E="".concat(U+G[X])+" ",v<(j=this.textWidth(E))&&0<U.length?(this._renderText(R,U.trim(),a,p-K,P,k),U="".concat(G[X])+" ",p+=R.textLeading()):U=E;this._renderText(R,U.trim(),a,p-K,P,k),p+=R.textLeading()}}else{for(var Y=[],te=0;te<x.length;te++)for(var se=x[te].split(U=""),me=0;me<se.length;me++)E="".concat(U+se[me]),(j=this.textWidth(E))<=v?U+=se[me]:v<j&&0<U.length&&(Y.push(U),U="".concat(se[me]));Y.push(U);var A=0;this._textBaseline===s.CENTER?A=(Y.length-1)*R.textLeading()/2:this._textBaseline===s.BOTTOM&&(A=(Y.length-1)*R.textLeading());for(var L=0;L<x.length;L++){se=x[L].split(U="");for(var H=0;H<se.length;H++)E="".concat(U+se[H]),(j=this.textWidth(E))<=v?U+=se[H]:v<j&&0<U.length&&(this._renderText(R,U.trim(),a,p-A,P,k),p+=R.textLeading(),U="".concat(se[H]))}this._renderText(R,U.trim(),a,p-A,P,k),p+=R.textLeading()}}else{var $=0;this._textBaseline===s.CENTER?$=(x.length-1)*R.textLeading()/2:this._textBaseline===s.BOTTOM&&($=(x.length-1)*R.textLeading());for(var ie=0;ie<x.length;ie++)this._renderText(R,x[ie],a,p-$,P,k-$),p+=R.textLeading()}return R}},u.default.Renderer.prototype._applyDefaults=function(){return this},u.default.Renderer.prototype._isOpenType=function(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return m(l)==="object"&&l.font&&l.font.supported},u.default.Renderer.prototype._updateTextMetrics=function(){var l,a,p,v,w,x;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((l=document.createElement("span")).style.fontFamily=this._textFont,l.style.fontSize="".concat(this._textSize,"px"),l.innerHTML="ABCjgq|",(x=document.createElement("div")).style.display="inline-block",x.style.width="1px",x.style.height="0px",v=((a=document.createElement("div")).appendChild(l),a.appendChild(x),a.style.height="0px",a.style.overflow="hidden",document.body.appendChild(a),x.style.verticalAlign="baseline",g(x)),w=g(l),p=v[1]-w[1],v=(x.style.verticalAlign="bottom",g(x)),w=g(l),x=v[1]-w[1]-p,document.body.removeChild(a),this._setProperty("_textAscent",p),this._setProperty("_textDescent",x)),this};var c=u.default.Renderer;d.default=c},{"../core/constants":256,"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],271:[function(t,f,d){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function u(l){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(c=t("./main"))&&c.__esModule?c:{default:c},h=function(l){if(l&&l.__esModule)return l;if(l===null||u(l)!=="object"&&typeof l!="function")return{default:l};var a=m();if(a&&a.has(l))return a.get(l);var p,v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in l){var x;Object.prototype.hasOwnProperty.call(l,p)&&((x=w?Object.getOwnPropertyDescriptor(l,p):null)&&(x.get||x.set)?Object.defineProperty(v,p,x):v[p]=l[p])}return v.default=l,a&&a.set(l,v),v}(t("./constants"));function m(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,m=function(){return l},l)}t("./p5.Renderer");var g="rgba(0,0,0,0)",c=(s.default.Renderer2D=function(l,a,p){return s.default.Renderer.call(this,l,a,p),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},s.default.Renderer2D.prototype=Object.create(s.default.Renderer.prototype),s.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=h.BLEND,this._setFill(h._DEFAULT_FILL),this._setStroke(h._DEFAULT_STROKE),this.drawingContext.lineCap=h.ROUND,this.drawingContext.font="normal 12px sans-serif"},s.default.Renderer2D.prototype.resize=function(l,a){s.default.Renderer.prototype.resize.call(this,l,a),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},s.default.Renderer2D.prototype.background=function(){var l,a;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof s.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(l=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(l,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(l=this._getFill(),a=(a=this._pInst).color.apply(a,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(a.levels),a=a.toString(),this._setFill(a),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(l),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()},s.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},s.default.Renderer2D.prototype.fill=function(){var l=(l=this._pInst).color.apply(l,arguments);this._setFill(l.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",l.levels)},s.default.Renderer2D.prototype.stroke=function(){var l=(l=this._pInst).color.apply(l,arguments);this._setStroke(l.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",l.levels)},s.default.Renderer2D.prototype.erase=function(l,a){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,l=this._pInst.color(255,l).toString(),this.drawingContext.fillStyle=l,this._cachedStrokeStyle=this.drawingContext.strokeStyle,l=this._pInst.color(255,a).toString(),this.drawingContext.strokeStyle=l,a=this._cachedBlendMode,this.blendMode(h.REMOVE),this._cachedBlendMode=a,this._isErasing=!0)},s.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},s.default.Renderer2D.prototype.image=function(l,a,p,v,w,x,E,j,S){l.gifProperties&&l._animateGif(this._pInst);try{s.default.MediaElement&&l instanceof s.default.MediaElement&&l._ensureCanvas();var R=(R=this._tint&&l.canvas?this._getTintedImageCanvas(l):R)||l.canvas||l.elt,M=1;l.width&&0<l.width&&(M=R.width/l.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(R,M*a,M*p,M*v,M*w,x,E,j,S),this._isErasing&&this._pInst.erase()}catch(P){if(P.name!=="NS_ERROR_NOT_AVAILABLE")throw P}},s.default.Renderer2D.prototype._getTintedImageCanvas=function(l){if(!l.canvas)return l;l.tintCanvas||(l.tintCanvas=document.createElement("canvas")),l.tintCanvas.width!==l.canvas.width&&(l.tintCanvas.width=l.canvas.width),l.tintCanvas.height!==l.canvas.height&&(l.tintCanvas.height=l.canvas.height);var a=l.tintCanvas.getContext("2d");return a.save(),a.clearRect(0,0,l.canvas.width,l.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(a.drawImage(l.canvas,0,0),a.globalCompositeOperation="luminosity",a.drawImage(l.canvas,0,0),a.globalCompositeOperation="color",a.drawImage(l.canvas,0,0),a.globalCompositeOperation="multiply",a.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),a.fillRect(0,0,l.canvas.width,l.canvas.height),a.globalCompositeOperation="destination-in"),a.globalAlpha=this._tint[3]/255,a.drawImage(l.canvas,0,0),a.restore(),l.tintCanvas},s.default.Renderer2D.prototype.blendMode=function(l){if(l===h.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(l!==h.BLEND&&l!==h.REMOVE&&l!==h.DARKEST&&l!==h.LIGHTEST&&l!==h.DIFFERENCE&&l!==h.MULTIPLY&&l!==h.EXCLUSION&&l!==h.SCREEN&&l!==h.REPLACE&&l!==h.OVERLAY&&l!==h.HARD_LIGHT&&l!==h.SOFT_LIGHT&&l!==h.DODGE&&l!==h.BURN&&l!==h.ADD)throw new Error("Mode ".concat(l," not recognized."));this._cachedBlendMode=l,this.drawingContext.globalCompositeOperation=l}},s.default.Renderer2D.prototype.blend=function(){for(var l=this.drawingContext.globalCompositeOperation,a=arguments.length,p=new Array(a),v=0;v<a;v++)p[v]=arguments[v];var w=p[p.length-1],x=Array.prototype.slice.call(p,0,p.length-1);this.drawingContext.globalCompositeOperation=w,s.default.prototype.copy.apply(this,x),this.drawingContext.globalCompositeOperation=l},s.default.Renderer2D.prototype._getPixel=function(l,a){return l=this.drawingContext.getImageData(l,a,1,1).data,[l[0],l[1],l[2],l[3]]},s.default.Renderer2D.prototype.loadPixels=function(){var l=this._pixelsState,a=l._pixelDensity,p=this.width*a,a=this.height*a,p=this.drawingContext.getImageData(0,0,p,a);l._setProperty("imageData",p),l._setProperty("pixels",p.data)},s.default.Renderer2D.prototype.set=function(l,a,p){l=Math.floor(l),a=Math.floor(a);var v=this._pixelsState;if(p instanceof s.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(v._pixelDensity,v._pixelDensity),this.drawingContext.clearRect(l,a,p.width,p.height),this.drawingContext.drawImage(p.canvas,l,a),this.drawingContext.restore();else{var w=0,x=0,E=0,j=0,S=4*(a*v._pixelDensity*(this.width*v._pixelDensity)+l*v._pixelDensity);if(v.imageData||v.loadPixels.call(v),typeof p=="number")S<v.pixels.length&&(E=x=w=p,j=255);else if(p instanceof Array){if(p.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");S<v.pixels.length&&(w=p[0],x=p[1],E=p[2],j=p[3])}else p instanceof s.default.Color&&S<v.pixels.length&&(w=p.levels[0],x=p.levels[1],E=p.levels[2],j=p.levels[3]);for(var R=0;R<v._pixelDensity;R++)for(var M=0;M<v._pixelDensity;M++)S=4*((a*v._pixelDensity+M)*this.width*v._pixelDensity+(l*v._pixelDensity+R)),v.pixels[S]=w,v.pixels[S+1]=x,v.pixels[S+2]=E,v.pixels[S+3]=j}},s.default.Renderer2D.prototype.updatePixels=function(l,a,p,v){var w=this._pixelsState,x=w._pixelDensity;l===void 0&&a===void 0&&p===void 0&&v===void 0&&(a=l=0,p=this.width,v=this.height),l*=x,a*=x,p*=x,v*=x,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=w.imageData),this.drawingContext.putImageData(w.imageData,l,a,0,0,p,v)},s.default.Renderer2D.prototype._acuteArcToBezier=function(l,a){var x=a/2,p=Math.cos(x),j=Math.sin(x),v=1/Math.tan(x),x=l+x,w=Math.cos(x),x=Math.sin(x),E=(4-p)/3,j=j+(p-E)*v;return{ax:Math.cos(l).toFixed(7),ay:Math.sin(l).toFixed(7),bx:(E*w+j*x).toFixed(7),by:(E*x-j*w).toFixed(7),cx:(E*w-j*x).toFixed(7),cy:(E*x+j*w).toFixed(7),dx:Math.cos(l+a).toFixed(7),dy:Math.sin(l+a).toFixed(7)}},s.default.Renderer2D.prototype.arc=function(l,a,p,v,w,x,E){var j,S=this.drawingContext,R=p/2,M=v/2,P=[];for(l+=R,a+=M;1e-5<=x-w;)j=Math.min(x-w,h.HALF_PI),P.push(this._acuteArcToBezier(w,j)),w+=j;return this._doFill&&(S.beginPath(),P.forEach(function(k,D){D===0&&S.moveTo(l+k.ax*R,a+k.ay*M),S.bezierCurveTo(l+k.bx*R,a+k.by*M,l+k.cx*R,a+k.cy*M,l+k.dx*R,a+k.dy*M)}),E!==h.PIE&&E!=null||S.lineTo(l,a),S.closePath(),S.fill()),this._doStroke&&(S.beginPath(),P.forEach(function(k,D){D===0&&S.moveTo(l+k.ax*R,a+k.ay*M),S.bezierCurveTo(l+k.bx*R,a+k.by*M,l+k.cx*R,a+k.cy*M,l+k.dx*R,a+k.dy*M)}),E===h.PIE?(S.lineTo(l,a),S.closePath()):E===h.CHORD&&S.closePath(),S.stroke()),this},s.default.Renderer2D.prototype.ellipse=function(P){var a=this.drawingContext,p=this._doFill,v=this._doStroke,w=parseFloat(P[0]),x=parseFloat(P[1]),M=parseFloat(P[2]),P=parseFloat(P[3]);if(p&&!v){if(this._getFill()===g)return this}else if(!p&&v&&this._getStroke()===g)return this;var E=M/2*.5522847498,j=P/2*.5522847498,S=w+M,R=x+P,M=w+M/2,P=x+P/2;a.beginPath(),a.moveTo(w,P),a.bezierCurveTo(w,P-j,M-E,x,M,x),a.bezierCurveTo(M+E,x,S,P-j,S,P),a.bezierCurveTo(S,P+j,M+E,R,M,R),a.bezierCurveTo(M-E,R,w,P+j,w,P),p&&a.fill(),v&&a.stroke()},s.default.Renderer2D.prototype.line=function(l,a,p,v){var w=this.drawingContext;return this._doStroke&&this._getStroke()!==g&&(w.beginPath(),w.moveTo(l,a),w.lineTo(p,v),w.stroke()),this},s.default.Renderer2D.prototype.point=function(l,a){var p,v,w=this.drawingContext;return!this._doStroke||this._getStroke()===g?this:(p=this._getStroke(),v=this._getFill(),this._setFill(p),w.beginPath(),w.arc(l,a,w.lineWidth/2,0,h.TWO_PI,!1),w.fill(),void this._setFill(v))},s.default.Renderer2D.prototype.quad=function(l,a,p,v,w,x,E,j){var S=this.drawingContext,R=this._doFill,M=this._doStroke;if(R&&!M){if(this._getFill()===g)return this}else if(!R&&M&&this._getStroke()===g)return this;return S.beginPath(),S.moveTo(l,a),S.lineTo(p,v),S.lineTo(w,x),S.lineTo(E,j),S.closePath(),R&&S.fill(),M&&S.stroke(),this},s.default.Renderer2D.prototype.rect=function(M){var a,p,v=M[0],w=M[1],x=M[2],E=M[3],j=M[4],S=M[5],R=M[6],M=M[7],P=this.drawingContext,k=this._doFill,D=this._doStroke;if(k&&!D){if(this._getFill()===g)return this}else if(!k&&D&&this._getStroke()===g)return this;return P.beginPath(),j===void 0?P.rect(v,w,x,E):(S===void 0&&(S=j),R===void 0&&(R=S),M===void 0&&(M=R),D=(k=Math.abs(x))/2,p=(a=Math.abs(E))/2,a<2*(j=k<2*j?D:j)&&(j=p),a<2*(S=k<2*S?D:S)&&(S=p),a<2*(R=k<2*R?D:R)&&(R=p),a<2*(M=k<2*M?D:M)&&(M=p),P.beginPath(),P.moveTo(v+j,w),P.arcTo(v+x,w,v+x,w+E,S),P.arcTo(v+x,w+E,v,w+E,R),P.arcTo(v,w+E,v,w,M),P.arcTo(v,w,v+x,w,j),P.closePath()),this._doFill&&P.fill(),this._doStroke&&P.stroke(),this},s.default.Renderer2D.prototype.triangle=function(R){var a=this.drawingContext,p=this._doFill,v=this._doStroke,w=R[0],x=R[1],E=R[2],j=R[3],S=R[4],R=R[5];if(p&&!v){if(this._getFill()===g)return this}else if(!p&&v&&this._getStroke()===g)return this;a.beginPath(),a.moveTo(w,x),a.lineTo(E,j),a.lineTo(S,R),a.closePath(),p&&a.fill(),v&&a.stroke()},s.default.Renderer2D.prototype.endShape=function(l,a,p,v,w,x,E){if(a.length!==0&&(this._doStroke||this._doFill)){var j,S,R,M=l===h.CLOSE,P=(M&&!x&&a.push(a[0]),a.length);if(!p||E!==h.POLYGON&&E!==null)if(!v||E!==h.POLYGON&&E!==null)if(!w||E!==h.POLYGON&&E!==null)if(E===h.POINTS)for(S=0;S<P;S++)j=a[S],this._doStroke&&this._pInst.stroke(j[6]),this._pInst.point(j[0],j[1]);else if(E===h.LINES)for(S=0;S+1<P;S+=2)j=a[S],this._doStroke&&this._pInst.stroke(a[S+1][6]),this._pInst.line(j[0],j[1],a[S+1][0],a[S+1][1]);else if(E===h.TRIANGLES)for(S=0;S+2<P;S+=3)j=a[S],this.drawingContext.beginPath(),this.drawingContext.moveTo(j[0],j[1]),this.drawingContext.lineTo(a[S+1][0],a[S+1][1]),this.drawingContext.lineTo(a[S+2][0],a[S+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(a[S+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(a[S+2][6]),this.drawingContext.stroke());else if(E===h.TRIANGLE_STRIP)for(S=0;S+1<P;S++)j=a[S],this.drawingContext.beginPath(),this.drawingContext.moveTo(a[S+1][0],a[S+1][1]),this.drawingContext.lineTo(j[0],j[1]),this._doStroke&&this._pInst.stroke(a[S+1][6]),this._doFill&&this._pInst.fill(a[S+1][5]),S+2<P&&(this.drawingContext.lineTo(a[S+2][0],a[S+2][1]),this._doStroke&&this._pInst.stroke(a[S+2][6]),this._doFill&&this._pInst.fill(a[S+2][5])),this._doFillStrokeClose(M);else if(E===h.TRIANGLE_FAN){if(2<P){for(this.drawingContext.beginPath(),S=2;S<P;S++)j=a[S],this.drawingContext.moveTo(a[0][0],a[0][1]),this.drawingContext.lineTo(a[S-1][0],a[S-1][1]),this.drawingContext.lineTo(j[0],j[1]),this.drawingContext.lineTo(a[0][0],a[0][1]),S<P-1&&(this._doFill&&j[5]!==a[S+1][5]||this._doStroke&&j[6]!==a[S+1][6])&&(this._doFill&&(this._pInst.fill(j[5]),this.drawingContext.fill(),this._pInst.fill(a[S+1][5])),this._doStroke&&(this._pInst.stroke(j[6]),this.drawingContext.stroke(),this._pInst.stroke(a[S+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(M)}}else if(E===h.QUADS)for(S=0;S+3<P;S+=4){for(j=a[S],this.drawingContext.beginPath(),this.drawingContext.moveTo(j[0],j[1]),R=1;R<4;R++)this.drawingContext.lineTo(a[S+R][0],a[S+R][1]);this.drawingContext.lineTo(j[0],j[1]),this._doFill&&this._pInst.fill(a[S+3][5]),this._doStroke&&this._pInst.stroke(a[S+3][6]),this._doFillStrokeClose(M)}else if(E===h.QUAD_STRIP){if(3<P)for(S=0;S+1<P;S+=2)j=a[S],this.drawingContext.beginPath(),S+3<P?(this.drawingContext.moveTo(a[S+2][0],a[S+2][1]),this.drawingContext.lineTo(j[0],j[1]),this.drawingContext.lineTo(a[S+1][0],a[S+1][1]),this.drawingContext.lineTo(a[S+3][0],a[S+3][1]),this._doFill&&this._pInst.fill(a[S+3][5]),this._doStroke&&this._pInst.stroke(a[S+3][6])):(this.drawingContext.moveTo(j[0],j[1]),this.drawingContext.lineTo(a[S+1][0],a[S+1][1])),this._doFillStrokeClose(M)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(a[0][0],a[0][1]),S=1;S<P;S++)(j=a[S]).isVert&&(j.moveTo?this.drawingContext.moveTo(j[0],j[1]):this.drawingContext.lineTo(j[0],j[1]));this._doFillStrokeClose(M)}else{for(this.drawingContext.beginPath(),S=0;S<P;S++)a[S].isVert?a[S].moveTo?this.drawingContext.moveTo(a[S][0],a[S][1]):this.drawingContext.lineTo(a[S][0],a[S][1]):this.drawingContext.quadraticCurveTo(a[S][0],a[S][1],a[S][2],a[S][3]);this._doFillStrokeClose(M)}else{for(this.drawingContext.beginPath(),S=0;S<P;S++)a[S].isVert?a[S].moveTo?this.drawingContext.moveTo(a[S][0],a[S][1]):this.drawingContext.lineTo(a[S][0],a[S][1]):this.drawingContext.bezierCurveTo(a[S][0],a[S][1],a[S][2],a[S][3],a[S][4],a[S][5]);this._doFillStrokeClose(M)}else if(3<P){var k=[],D=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(a[1][0],a[1][1]),S=1;S+2<P;S++)j=a[S],k[0]=[j[0],j[1]],k[1]=[j[0]+(D*a[S+1][0]-D*a[S-1][0])/6,j[1]+(D*a[S+1][1]-D*a[S-1][1])/6],k[2]=[a[S+1][0]+(D*a[S][0]-D*a[S+2][0])/6,a[S+1][1]+(D*a[S][1]-D*a[S+2][1])/6],k[3]=[a[S+1][0],a[S+1][1]],this.drawingContext.bezierCurveTo(k[1][0],k[1][1],k[2][0],k[2][1],k[3][0],k[3][1]);M&&this.drawingContext.lineTo(a[S+1][0],a[S+1][1]),this._doFillStrokeClose(M)}x=w=v=p=!1,M&&a.pop()}return this},s.default.Renderer2D.prototype.strokeCap=function(l){return l!==h.ROUND&&l!==h.SQUARE&&l!==h.PROJECT||(this.drawingContext.lineCap=l),this},s.default.Renderer2D.prototype.strokeJoin=function(l){return l!==h.ROUND&&l!==h.BEVEL&&l!==h.MITER||(this.drawingContext.lineJoin=l),this},s.default.Renderer2D.prototype.strokeWeight=function(l){return this.drawingContext.lineWidth=l===void 0||l===0?1e-4:l,this},s.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},s.default.Renderer2D.prototype._setFill=function(l){l!==this._cachedFillStyle&&(this.drawingContext.fillStyle=l,this._cachedFillStyle=l)},s.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},s.default.Renderer2D.prototype._setStroke=function(l){l!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=l,this._cachedStrokeStyle=l)},s.default.Renderer2D.prototype.bezier=function(l,a,p,v,w,x,E,j){return this._pInst.beginShape(),this._pInst.vertex(l,a),this._pInst.bezierVertex(p,v,w,x,E,j),this._pInst.endShape(),this},s.default.Renderer2D.prototype.curve=function(l,a,p,v,w,x,E,j){return this._pInst.beginShape(),this._pInst.curveVertex(l,a),this._pInst.curveVertex(p,v),this._pInst.curveVertex(w,x),this._pInst.curveVertex(E,j),this._pInst.endShape(),this},s.default.Renderer2D.prototype._doFillStrokeClose=function(l){l&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},s.default.Renderer2D.prototype.applyMatrix=function(l,a,p,v,w,x){this.drawingContext.transform(l,a,p,v,w,x)},s.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},s.default.Renderer2D.prototype.rotate=function(l){this.drawingContext.rotate(l)},s.default.Renderer2D.prototype.scale=function(l,a){return this.drawingContext.scale(l,a),this},s.default.Renderer2D.prototype.translate=function(l,a){return l instanceof s.default.Vector&&(a=l.y,l=l.x),this.drawingContext.translate(l,a),this},s.default.Renderer2D.prototype.text=function(l,a,p,E,w){E!==void 0&&this.drawingContext.textBaseline===h.BASELINE&&(x=!0,this.drawingContext.textBaseline=h.TOP);var x,E=s.default.Renderer.prototype.text.apply(this,arguments);return x&&(this.drawingContext.textBaseline=h.BASELINE),E},s.default.Renderer2D.prototype._renderText=function(l,a,p,v,w,x){if(!(v<x||w<=v))return l.push(),this._isOpenType()?this._textFont._renderPath(a,p,v,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(a,p,v),this._doFill&&(this._fillSet||this._setFill(h._DEFAULT_TEXT_FILL),this.drawingContext.fillText(a,p,v))),l.pop(),l},s.default.Renderer2D.prototype.textWidth=function(l){return this._isOpenType()?this._textFont._textWidth(l,this._textSize):this.drawingContext.measureText(l).width},s.default.Renderer2D.prototype._applyTextProperties=function(){var l,a=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),l=this._textFont,this._isOpenType()&&(l=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(l||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===h.CENTER?this.drawingContext.textBaseline=h._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,a},s.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),s.default.Renderer.prototype.push.apply(this)},s.default.Renderer2D.prototype.pop=function(l){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,s.default.Renderer.prototype.pop.call(this,l)},s.default.Renderer2D);d.default=c},{"./constants":256,"./main":267,"./p5.Renderer":270,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],272:[function(t,f,d){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var i=(t=t("./main"))&&t.__esModule?t:{default:t};i.default.prototype._promisePreloads=[];function u(){return{}}var s=!(i.default.prototype.registerPromisePreload=function(h){i.default.prototype._promisePreloads.push(h)});i.default.prototype._setupPromisePreloads=function(){var h=!0,m=!1,g=void 0;try{for(var c,l=this._promisePreloads[Symbol.iterator]();!(h=(c=l.next()).done);h=!0){var a=c.value,p=this,v=a.method,w=a.addCallbacks,x=a.legacyPreloadSetup,E=a.target||this,j=E[v].bind(E);if(E===i.default.prototype){if(s)continue;p=null,j=E[v]}E[v]=this._wrapPromisePreload(p,j,w),x&&(E[x.method]=this._legacyPreloadGenerator(p,x,E[v]))}}catch(S){m=!0,g=S}finally{try{h||l.return==null||l.return()}finally{if(m)throw g}}s=!0},i.default.prototype._wrapPromisePreload=function(h,m,g){var c=function(){for(var l=this,a=(this._incrementPreload(),null),p=null,v=arguments.length,w=new Array(v),x=0;x<v;x++)w[x]=arguments[x];if(g)for(var E=w.length-1;0<=E&&!p&&typeof w[E]=="function";E--)p=a,a=w.pop();var j=Promise.resolve(m.apply(this,w));return a&&j.then(a),p&&j.catch(p),j.then(function(){return l._decrementPreload()}),j};return c=h?c.bind(h):c},i.default.prototype._legacyPreloadGenerator=function(h,l,g){var c=l.createBaseObject||u,l=function(){var a=this,p=(this._incrementPreload(),c.apply(this,arguments));return g.apply(this,arguments).then(function(v){Object.assign(p,v),a._decrementPreload()}),p};return l=h?l.bind(h):l}},{"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],273:[function(t,f,d){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var u=(c=t("./main"))&&c.__esModule?c:{default:c},s=function(l){if(l&&l.__esModule)return l;if(l===null||m(l)!=="object"&&typeof l!="function")return{default:l};var a=h();if(a&&a.has(l))return a.get(l);var p,v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in l){var x;Object.prototype.hasOwnProperty.call(l,p)&&((x=w?Object.getOwnPropertyDescriptor(l,p):null)&&(x.get||x.set)?Object.defineProperty(v,p,x):v[p]=l[p])}return v.default=l,a&&a.set(l,v),v}(t("./constants"));function h(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,h=function(){return l},l)}function m(l){return(m=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(l)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var g="defaultCanvas0",c=(u.default.prototype.createCanvas=function(l,a,E){u.default._validateParameters("createCanvas",arguments);var v,w,x,E=E||s.P2D;if(E===s.WEBGL)(w=document.getElementById(g))&&(w.parentNode.removeChild(w),v=this._renderer,this._elements=this._elements.filter(function(S){return S!==v})),(w=document.createElement("canvas")).id=g,w.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)w=this.canvas;else{w=document.createElement("canvas");for(var j=0;document.getElementById("defaultCanvas".concat(j));)j++;g="defaultCanvas".concat(j),w.id=g,w.classList.add("p5Canvas")}return this._setupDone||(w.dataset.hidden=!0,w.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(x=document.createElement("main"),document.body.appendChild(x)),document.getElementsByTagName("main")[0])).appendChild(w),E===s.WEBGL?(this._setProperty("_renderer",new u.default.RendererGL(w,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new u.default.Renderer2D(w,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(l,a),this._renderer._applyDefaults(),this._renderer},u.default.prototype.resizeCanvas=function(l,a,p){if(u.default._validateParameters("resizeCanvas",arguments),this._renderer){var v,w,x={};for(v in this.drawingContext){var E=this.drawingContext[v];m(E)!=="object"&&typeof E!="function"&&(x[v]=E)}for(w in this._renderer.resize(l,a),this.width=l,this.height=a,x)try{this.drawingContext[w]=x[w]}catch{}p||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},u.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},u.default.prototype.createGraphics=function(l,a,p){return u.default._validateParameters("createGraphics",arguments),new u.default.Graphics(l,a,p,this)},u.default.prototype.blendMode=function(l){u.default._validateParameters("blendMode",arguments),l===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),l=s.BLEND),this._renderer.blendMode(l)},u.default);d.default=c},{"../webgl/p5.RendererGL":321,"./constants":256,"./main":267,"./p5.Graphics":269,"./p5.Renderer2D":271,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],274:[function(t,f,d){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function u(l){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=c(t("../main")),h=function(l){if(l&&l.__esModule)return l;if(l===null||u(l)!=="object"&&typeof l!="function")return{default:l};var a=g();if(a&&a.has(l))return a.get(l);var p,v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in l){var x;Object.prototype.hasOwnProperty.call(l,p)&&((x=w?Object.getOwnPropertyDescriptor(l,p):null)&&(x.get||x.set)?Object.defineProperty(v,p,x):v[p]=l[p])}return v.default=l,a&&a.set(l,v),v}(t("../constants")),m=c(t("../helpers"));function g(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,g=function(){return l},l)}function c(l){return l&&l.__esModule?l:{default:l}}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype._normalizeArcAngles=function(l,a,p,v,w){var x;return l-=h.TWO_PI*Math.floor(l/h.TWO_PI),a-=h.TWO_PI*Math.floor(a/h.TWO_PI),x=Math.min(Math.abs(l-a),h.TWO_PI-Math.abs(l-a)),w&&(l=l<=h.HALF_PI?Math.atan(p/v*Math.tan(l)):l>h.HALF_PI&&l<=3*h.HALF_PI?Math.atan(p/v*Math.tan(l))+h.PI:Math.atan(p/v*Math.tan(l))+h.TWO_PI,a=a<=h.HALF_PI?Math.atan(p/v*Math.tan(a)):a>h.HALF_PI&&a<=3*h.HALF_PI?Math.atan(p/v*Math.tan(a))+h.PI:Math.atan(p/v*Math.tan(a))+h.TWO_PI),a<l&&(a+=h.TWO_PI),{start:l,stop:a,correspondToSamePoint:x<1e-5}},s.default.prototype.arc=function(l,a,p,v,w,x,E,j){return s.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&w!==x&&(w=this._toRadians(w),x=this._toRadians(x),p=Math.abs(p),v=Math.abs(v),l=m.default.modeAdjust(l,a,p,v,this._renderer._ellipseMode),(a=this._normalizeArcAngles(w,x,l.w,l.h,!0)).correspondToSamePoint?this._renderer.ellipse([l.x,l.y,l.w,l.h,j]):(this._renderer.arc(l.x,l.y,l.w,l.h,a.start,a.stop,E,j),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[l.x,l.y,l.w,l.h,a.start,a.stop,E]))),this},s.default.prototype.ellipse=function(l,a,p,v,w){return s.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},s.default.prototype.circle=function(){s.default._validateParameters("circle",arguments);var l=Array.prototype.slice.call(arguments,0,2);return l.push(arguments[2]),l.push(arguments[2]),this._renderEllipse.apply(this,l)},s.default.prototype._renderEllipse=function(l,a,p,v,w){return(this._renderer._doStroke||this._renderer._doFill)&&(p<0&&(p=Math.abs(p)),v===void 0?v=p:v<0&&(v=Math.abs(v)),l=m.default.modeAdjust(l,a,p,v,this._renderer._ellipseMode),this._renderer.ellipse([l.x,l.y,l.w,l.h,w]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[l.x,l.y,l.w,l.h])),this},s.default.prototype.line=function(){for(var l,a=arguments.length,p=new Array(a),v=0;v<a;v++)p[v]=arguments[v];return s.default._validateParameters("line",p),this._renderer._doStroke&&(l=this._renderer).line.apply(l,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",p),this},s.default.prototype.point=function(){for(var l,a=arguments.length,p=new Array(a),v=0;v<a;v++)p[v]=arguments[v];return s.default._validateParameters("point",p),this._renderer._doStroke&&(p.length===1&&p[0]instanceof s.default.Vector?this._renderer.point.call(this._renderer,p[0].x,p[0].y,p[0].z):((l=this._renderer).point.apply(l,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",p))),this},s.default.prototype.quad=function(){for(var l,a=arguments.length,p=new Array(a),v=0;v<a;v++)p[v]=arguments[v];return s.default._validateParameters("quad",p),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&p.length<12?this._renderer.quad.call(this._renderer,p[0],p[1],0,p[2],p[3],0,p[4],p[5],0,p[6],p[7],0,p[8],p[9]):((l=this._renderer).quad.apply(l,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",p))),this},s.default.prototype.rect=function(){return s.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},s.default.prototype.square=function(l,a,p,v,w,x,E){return s.default._validateParameters("square",arguments),this._renderRect.call(this,l,a,p,p,v,w,x,E)},s.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var l=m.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),a=[l.x,l.y,l.w,l.h],p=4;p<arguments.length;p++)a[p]=arguments[p];this._renderer.rect(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[l.x,l.y,l.w,l.h])}return this},s.default.prototype.triangle=function(){for(var l=arguments.length,a=new Array(l),p=0;p<l;p++)a[p]=arguments[p];return s.default._validateParameters("triangle",a),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",a),this},t=s.default,d.default=t},{"../constants":256,"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../helpers":263,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],275:[function(t,f,d){function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function u(c){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(g=t("../main"))&&g.__esModule?g:{default:g},h=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var l=m();if(l&&l.has(c))return l.get(c);var a,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in c){var w;Object.prototype.hasOwnProperty.call(c,a)&&((w=v?Object.getOwnPropertyDescriptor(c,a):null)&&(w.get||w.set)?Object.defineProperty(p,a,w):p[a]=c[a])}return p.default=c,l&&l.set(c,p),p}(t("../constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}s.default.prototype.ellipseMode=function(c){return s.default._validateParameters("ellipseMode",arguments),c!==h.CORNER&&c!==h.CORNERS&&c!==h.RADIUS&&c!==h.CENTER||(this._renderer._ellipseMode=c),this},s.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(c){return s.default._validateParameters("rectMode",arguments),c!==h.CORNER&&c!==h.CORNERS&&c!==h.RADIUS&&c!==h.CENTER||(this._renderer._rectMode=c),this},s.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(c){return s.default._validateParameters("strokeCap",arguments),c!==h.ROUND&&c!==h.SQUARE&&c!==h.PROJECT||this._renderer.strokeCap(c),this},s.default.prototype.strokeJoin=function(c){return s.default._validateParameters("strokeJoin",arguments),c!==h.ROUND&&c!==h.BEVEL&&c!==h.MITER||this._renderer.strokeJoin(c),this},s.default.prototype.strokeWeight=function(c){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(c),this};var g=s.default;d.default=g},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],276:[function(t,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(u=t("../main"))&&u.__esModule?u:{default:u};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),i.default.prototype.bezier=function(){for(var s,h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return i.default._validateParameters("bezier",m),(this._renderer._doStroke||this._renderer._doFill)&&(s=this._renderer).bezier.apply(s,m),this},i.default.prototype.bezierDetail=function(s){return i.default._validateParameters("bezierDetail",arguments),this._bezierDetail=s,this},i.default.prototype.bezierPoint=function(s,h,m,g,c){i.default._validateParameters("bezierPoint",arguments);var l=1-c;return Math.pow(l,3)*s+3*Math.pow(l,2)*c*h+3*l*Math.pow(c,2)*m+Math.pow(c,3)*g},i.default.prototype.bezierTangent=function(s,h,m,g,c){i.default._validateParameters("bezierTangent",arguments);var l=1-c;return 3*g*Math.pow(c,2)-3*m*Math.pow(c,2)+6*m*l*c-6*h*l*c+3*h*Math.pow(l,2)-3*s*Math.pow(l,2)},i.default.prototype.curve=function(){for(var s,h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return i.default._validateParameters("curve",m),this._renderer._doStroke&&(s=this._renderer).curve.apply(s,m),this},i.default.prototype.curveDetail=function(s){return i.default._validateParameters("curveDetail",arguments),this._curveDetail=s<3?3:s,this},i.default.prototype.curveTightness=function(s){return i.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=s,this},i.default.prototype.curvePoint=function(s,h,m,g,c){i.default._validateParameters("curvePoint",arguments);var l=this._renderer._curveTightness,a=c*c*c,p=c*c;return s*((l-1)/2*a+(1-l)*p+(l-1)/2*c)+h*((l+3)/2*a+(-5-l)/2*p+1)+m*((-3-l)/2*a+(l+2)*p+(1-l)/2*c)+g*((1-l)/2*a+(l-1)/2*p)},i.default.prototype.curveTangent=function(s,h,m,g,p){i.default._validateParameters("curveTangent",arguments);var l=this._renderer._curveTightness,a=p*p*3,p=2*p;return s*((l-1)/2*a+(1-l)*p+(l-1)/2)+h*((l+3)/2*a+(-5-l)/2*p)+m*((-3-l)/2*a+(l+2)*p+(1-l)/2)+g*((1-l)/2*a+(l-1)/2*p)};var u=i.default;d.default=u},{"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../main":267}],277:[function(t,f,d){function i(j){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(j)}function u(j){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(S){return i(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":i(S)})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(E=t("../main"))&&E.__esModule?E:{default:E},h=function(j){if(j&&j.__esModule)return j;if(j===null||u(j)!=="object"&&typeof j!="function")return{default:j};var S=m();if(S&&S.has(j))return S.get(j);var R,M={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in j){var k;Object.prototype.hasOwnProperty.call(j,R)&&((k=P?Object.getOwnPropertyDescriptor(j,R):null)&&(k.get||k.set)?Object.defineProperty(M,R,k):M[R]=j[R])}return M.default=j,S&&S.set(j,M),M}(t("../constants"));function m(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,m=function(){return j},j)}var g=null,c=[],l=[],a=!1,p=!1,v=!1,w=!1,x=!0,E=(s.default.prototype.beginContour=function(){return l=[],w=!0,this},s.default.prototype.beginShape=function(j){var S;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(S=this._renderer).beginShape.apply(S,arguments):(g=j===h.POINTS||j===h.LINES||j===h.TRIANGLES||j===h.TRIANGLE_FAN||j===h.TRIANGLE_STRIP||j===h.QUADS||j===h.QUAD_STRIP?j:null,c=[],l=[]),this},s.default.prototype.bezierVertex=function(){for(var j,S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];if(s.default._validateParameters("bezierVertex",R),this._renderer.isP3D)(j=this._renderer).bezierVertex.apply(j,R);else if(c.length===0)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{a=!0;for(var P=[],k=0;k<R.length;k++)P[k]=R[k];P.isVert=!1,(w?l:c).push(P)}return this},s.default.prototype.curveVertex=function(){for(var j,S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];return s.default._validateParameters("curveVertex",R),this._renderer.isP3D?(j=this._renderer).curveVertex.apply(j,R):(p=!0,this.vertex(R[0],R[1])),this},s.default.prototype.endContour=function(){var j=l[0].slice();j.isVert=l[0].isVert,j.moveTo=!1,l.push(j),x&&(c.push(c[0]),x=!1);for(var S=0;S<l.length;S++)c.push(l[S]);return this},s.default.prototype.endShape=function(j){if(s.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(j,p,a,v,w,g);else{if(c.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var S=j===h.CLOSE;S&&!w&&c.push(c[0]),this._renderer.endShape(j,c,p,a,v,w,g),x=!(w=v=a=p=!1),S&&c.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var j,S=arguments.length,R=new Array(S),M=0;M<S;M++)R[M]=arguments[M];if(s.default._validateParameters("quadraticVertex",R),this._renderer.isP3D)(j=this._renderer).quadraticVertex.apply(j,R);else{if(this._contourInited)return(j={}).x=R[0],j.y=R[1],j.x3=R[2],j.y3=R[3],j.type=h.QUADRATIC,this._contourVertices.push(j),this;if(0<c.length){v=!0;for(var P=[],k=0;k<R.length;k++)P[k]=R[k];P.isVert=!1,(w?l:c).push(P)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(j,S,R,M,P){var k;return this._renderer.isP3D?(k=this._renderer).vertex.apply(k,arguments):((k=[]).isVert=!0,k[0]=j,k[1]=S,k[2]=0,k[3]=0,k[4]=0,k[5]=this._renderer._getFill(),k[6]=this._renderer._getStroke(),R&&(k.moveTo=R),(w?(l.length===0&&(k.moveTo=!0),l):c).push(k)),this},s.default.prototype.normal=function(j,S,R){var M;return this._assert3d("normal"),s.default._validateParameters("normal",arguments),(M=this._renderer).normal.apply(M,arguments),this},s.default);d.default=E},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],278:[function(t,f,d){function i(g){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(g)}function u(g){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(c){return i(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":i(c)})(g)}var s,h,m;t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(g,c){window.setTimeout(g,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(s=Object.keys,t=Object.defineProperty,h=typeof Symbol=="function"&&u(Symbol())==="symbol",m=Object.prototype.propertyIsEnumerable,t(Object,"assign",{value:function(g,c){if(g==null)throw new TypeError("target must be an object");for(var l,a,p,v=Object(g),w=1;w<arguments.length;++w)for(l=Object(arguments[w]),p=s(l),h&&Object.getOwnPropertySymbols&&p.push.apply(p,Object.getOwnPropertySymbols(l).filter(function(x){return function(E){return m.call(x,E)}}(l))),a=0;a<p.length;++a)v[p[a]]=l[p[a]];return v},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":230}],279:[function(t,f,d){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var i=this._styles.pop();i?(this._renderer.pop(i.renderer),Object.assign(this,i.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(i){if(!this._inUserDraw&&this._setupDone){var u=parseInt(i),s=((isNaN(u)||u<1)&&(u=1),this._isGlobal?window:this);if(typeof s.draw=="function"){s.setup===void 0&&s.scale(s._pixelDensity,s._pixelDensity);for(var h=function(g){g.call(s)},m=0;m<u;m++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),s._renderer.isP3D&&s._renderer._update(),s._setProperty("frameCount",s.frameCount+1),s._registeredMethods.pre.forEach(h),this._inUserDraw=!0;try{s.draw()}finally{this._inUserDraw=!1}s._registeredMethods.post.forEach(h)}}}},t=t.default,d.default=t},{"./main":267,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":172,"core-js/modules/web.dom-collections.for-each":229}],280:[function(t,f,d){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("./main"))&&t.__esModule?t:{default:t};function u(s){return function(h){if(Array.isArray(h)){for(var m=0,g=new Array(h.length);m<h.length;m++)g[m]=h[m];return g}}(s)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.default.prototype.applyMatrix=function(){var s=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||s?(s=this._renderer).applyMatrix.apply(s,u(arguments[0])):(s=this._renderer).applyMatrix.apply(s,arguments),this},i.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},i.default.prototype.rotate=function(s,h){return i.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(s),h),this},i.default.prototype.rotateX=function(s){return this._assert3d("rotateX"),i.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(s)),this},i.default.prototype.rotateY=function(s){return this._assert3d("rotateY"),i.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(s)),this},i.default.prototype.rotateZ=function(s){return this._assert3d("rotateZ"),i.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(s)),this},i.default.prototype.scale=function(s,h,m){var g;return i.default._validateParameters("scale",arguments),s instanceof i.default.Vector?(s=(g=s).x,h=g.y,m=g.z):s instanceof Array&&(s=(g=s)[0],h=g[1],m=g[2]||1),isNaN(h)?h=m=s:isNaN(m)&&(m=1),this._renderer.scale.call(this._renderer,s,h,m),this},i.default.prototype.shearX=function(s){return i.default._validateParameters("shearX",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,0,Math.tan(s),1,0,0),this},i.default.prototype.shearY=function(s){return i.default._validateParameters("shearY",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,Math.tan(s),0,1,0,0),this},i.default.prototype.translate=function(s,h,m){return i.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(s,h,m):this._renderer.translate(s,h),this},t=i.default,d.default=t},{"./main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230}],281:[function(t,f,d){function i(m){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(m){return function(g){if(Array.isArray(g)){for(var c=0,l=new Array(g.length);c<g.length;c++)l[c]=g[c];return l}}(m)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(m){return(h=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(g){return i(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":i(g)})(m)}u.default.prototype.storeItem=function(m,g){typeof m!="string"&&console.log("The argument that you passed to storeItem() - ".concat(m," is not a string.")),m.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(m," must not end with 'p5TypeID'.")),g===void 0&&console.log("You cannot store undefined variables using storeItem().");var c=h(g);switch(c){case"number":case"boolean":g=g.toString();break;case"object":g instanceof u.default.Color?c="p5.Color":g instanceof u.default.Vector&&(c="p5.Vector",g=[g.x,g.y,g.z]),g=JSON.stringify(g)}localStorage.setItem(m,g),m="".concat(m,"p5TypeID"),localStorage.setItem(m,c)},u.default.prototype.getItem=function(m){var g=localStorage.getItem(m),c=localStorage.getItem("".concat(m,"p5TypeID"));if(c===void 0)console.log("Unable to determine type of item stored under ".concat(m,"in local storage. Did you save the item with something other than setItem()?"));else if(g!==null)switch(c){case"number":g=parseFloat(g);break;case"boolean":g=g==="true";break;case"object":g=JSON.parse(g);break;case"p5.Color":g=JSON.parse(g),g=this.color.apply(this,s(g.levels));break;case"p5.Vector":g=JSON.parse(g),g=this.createVector.apply(this,s(g))}return g},u.default.prototype.clearStorage=function(){localStorage.clear()},u.default.prototype.removeItem=function(m){typeof m!="string"&&console.log("The argument that you passed to removeItem() - ".concat(m," is not a string.")),localStorage.removeItem(m),localStorage.removeItem("".concat(m,"p5TypeID"))}},{"../core/main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],282:[function(t,f,d){t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.string.sub"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.prototype.createStringDict=function(u,s){return i.default._validateParameters("createStringDict",arguments),new i.default.StringDict(u,s)},i.default.prototype.createNumberDict=function(u,s){return i.default._validateParameters("createNumberDict",arguments),new i.default.NumberDict(u,s)},i.default.TypedDict=function(u,s){return u instanceof Object?this.data=u:(this.data={},this.data[u]=s),this},i.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},i.default.TypedDict.prototype.hasKey=function(u){return this.data.hasOwnProperty(u)},i.default.TypedDict.prototype.get=function(u){if(this.data.hasOwnProperty(u))return this.data[u];console.log("".concat(u," does not exist in this Dictionary"))},i.default.TypedDict.prototype.set=function(u,s){this._validate(s)?this.data[u]=s:console.log("Those values dont work for this dictionary type.")},i.default.TypedDict.prototype._addObj=function(u){for(var s in u)this.set(s,u[s])},i.default.TypedDict.prototype.create=function(u,s){u instanceof Object&&s===void 0?this._addObj(u):u!==void 0?this.set(u,s):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},i.default.TypedDict.prototype.clear=function(){this.data={}},i.default.TypedDict.prototype.remove=function(u){if(!this.data.hasOwnProperty(u))throw new Error("".concat(u," does not exist in this Dictionary"));delete this.data[u]},i.default.TypedDict.prototype.print=function(){for(var u in this.data)console.log("key:".concat(u," value:").concat(this.data[u]))},i.default.TypedDict.prototype.saveTable=function(u){var s,h="";for(s in this.data)h+="".concat(s,",").concat(this.data[s],`
`);var m=new Blob([h],{type:"text/csv"});i.default.prototype.downloadFile(m,u||"mycsv","csv")},i.default.TypedDict.prototype.saveJSON=function(u,s){i.default.prototype.saveJSON(this.data,u,s)},i.default.TypedDict.prototype._validate=function(u){return!0},i.default.StringDict=function(){for(var u=arguments.length,s=new Array(u),h=0;h<u;h++)s[h]=arguments[h];i.default.TypedDict.apply(this,s)},i.default.StringDict.prototype=Object.create(i.default.TypedDict.prototype),i.default.StringDict.prototype._validate=function(u){return typeof u=="string"},i.default.NumberDict=function(){for(var u=arguments.length,s=new Array(u),h=0;h<u;h++)s[h]=arguments[h];i.default.TypedDict.apply(this,s)},i.default.NumberDict.prototype=Object.create(i.default.TypedDict.prototype),i.default.NumberDict.prototype._validate=function(u){return typeof u=="number"},i.default.NumberDict.prototype.add=function(u,s){this.data.hasOwnProperty(u)?this.data[u]+=s:console.log("The key - ".concat(u," does not exist in this dictionary."))},i.default.NumberDict.prototype.sub=function(u,s){this.add(u,-s)},i.default.NumberDict.prototype.mult=function(u,s){this.data.hasOwnProperty(u)?this.data[u]*=s:console.log("The key - ".concat(u," does not exist in this dictionary."))},i.default.NumberDict.prototype.div=function(u,s){this.data.hasOwnProperty(u)?this.data[u]/=s:console.log("The key - ".concat(u," does not exist in this dictionary."))},i.default.NumberDict.prototype._valueTest=function(u){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var s,h=this.data[Object.keys(this.data)[0]];for(s in this.data)this.data[s]*u<h*u&&(h=this.data[s]);return h},i.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},i.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},i.default.NumberDict.prototype._keyTest=function(u){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var s=Object.keys(this.data)[0],h=1;h<Object.keys(this.data).length;h++)Object.keys(this.data)[h]*u<s*u&&(s=Object.keys(this.data)[h]);return s},i.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},i.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},t=i.default.TypedDict,d.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],283:[function(t,f,d){function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(c){return(s=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(c)}function h(c,l,a){return(l._userNode||document.body).appendChild(c),a=new(a?u.default.MediaElement:u.default.Element)(c,l),l._elements.push(a),a}function m(c,x,a,p){var v=document.createElement(x),w=(typeof(a=a||"")=="string"&&(a=[a]),!0),x=!1,E=void 0;try{for(var j,S=a[Symbol.iterator]();!(w=(j=S.next()).done);w=!0){var R=j.value,M=document.createElement("source");M.setAttribute("src",R),v.appendChild(M)}}catch(k){x=!0,E=k}finally{try{w||S.return==null||S.return()}finally{if(x)throw E}}typeof p=="function"&&v.addEventListener("canplaythrough",function k(){p(),v.removeEventListener("canplaythrough",k)});var P=h(v,c,!0);return P.loadedmetadata=!1,v.addEventListener("loadedmetadata",function(){P.width=v.videoWidth,P.height=v.videoHeight,P.elt.width===0&&(P.elt.width=v.videoWidth),P.elt.height===0&&(P.elt.height=v.videoHeight),P.presetPlaybackRate&&(P.elt.playbackRate=P.presetPlaybackRate,delete P.presetPlaybackRate),P.loadedmetadata=!0}),P}u.default.prototype.select=function(c,l){return u.default._validateParameters("select",arguments),l=this._getContainer(l).querySelector(c),l?this._wrapElement(l):null},u.default.prototype.selectAll=function(c,l){u.default._validateParameters("selectAll",arguments);var a=[],p=this._getContainer(l).querySelectorAll(c);if(p)for(var v=0;v<p.length;v++){var w=this._wrapElement(p[v]);a.push(w)}return a},u.default.prototype._getContainer=function(c){var l=document;return typeof c=="string"?l=document.querySelector(c)||document:c instanceof u.default.Element?l=c.elt:c instanceof HTMLElement&&(l=c),l},u.default.prototype._wrapElement=function(c){var l,a=Array.prototype.slice.call(c.children);return c.tagName==="INPUT"&&c.type==="checkbox"?((l=new u.default.Element(c,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},l):c.tagName==="VIDEO"||c.tagName==="AUDIO"?new u.default.MediaElement(c,this):c.tagName==="SELECT"?this.createSelect(new u.default.Element(c,this)):0<a.length&&a.every(function(p){return p.tagName==="INPUT"||p.tagName==="LABEL"})?this.createRadio(new u.default.Element(c,this)):new u.default.Element(c,this)},u.default.prototype.removeElements=function(c){u.default._validateParameters("removeElements",arguments),this._elements.filter(function(l){return!(l.elt instanceof HTMLCanvasElement)}).map(function(l){return l.remove()})},u.default.Element.prototype.changed=function(c){return u.default.Element._adjustListener("change",c,this),this},u.default.Element.prototype.input=function(c){return u.default.Element._adjustListener("input",c,this),this},u.default.prototype.createDiv=function(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=document.createElement("div");return l.innerHTML=c,h(l,this)},u.default.prototype.createP=function(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=document.createElement("p");return l.innerHTML=c,h(l,this)},u.default.prototype.createSpan=function(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=document.createElement("span");return l.innerHTML=c,h(l,this)},u.default.prototype.createImg=function(){u.default._validateParameters("createImg",arguments);var c,l=document.createElement("img"),a=arguments;return 1<a.length&&typeof a[1]=="string"&&(l.alt=a[1]),2<a.length&&typeof a[2]=="string"&&(l.crossOrigin=a[2]),l.src=a[0],c=h(l,this),l.addEventListener("load",function(){c.width=l.offsetWidth||l.width,c.height=l.offsetHeight||l.height;var p=a[a.length-1];typeof p=="function"&&p(c)}),c},u.default.prototype.createA=function(c,l,a){u.default._validateParameters("createA",arguments);var p=document.createElement("a");return p.href=c,p.innerHTML=l,a&&(p.target=a),h(p,this)},u.default.prototype.createSlider=function(c,l,a,p){u.default._validateParameters("createSlider",arguments);var v=document.createElement("input");return v.type="range",v.min=c,v.max=l,p===0?v.step=1e-18:p&&(v.step=p),typeof a=="number"&&(v.value=a),h(v,this)},u.default.prototype.createButton=function(c,l){u.default._validateParameters("createButton",arguments);var a=document.createElement("button");return a.innerHTML=c,l&&(a.value=l),h(a,this)},u.default.prototype.createCheckbox=function(){u.default._validateParameters("createCheckbox",arguments);var c=document.createElement("div"),l=document.createElement("input"),a=(l.type="checkbox",document.createElement("label")),p=(a.appendChild(l),c.appendChild(a),h(c,this));return p.checked=function(){var v=p.elt.firstElementChild.getElementsByTagName("input")[0];if(v){if(arguments.length===0)return v.checked;v.checked=!!arguments[0]}return p},this.value=function(v){return p.value=v,this},arguments[0]&&(p.value(arguments[0]),(c=document.createElement("span")).innerHTML=arguments[0],a.appendChild(c)),arguments[1]&&(l.checked=!0),p},u.default.prototype.createSelect=function(){u.default._validateParameters("createSelect",arguments);var c,l,a=arguments[0];return a instanceof u.default.Element&&a.elt instanceof HTMLSelectElement?this.elt=(c=a).elt:a instanceof HTMLSelectElement?(c=h(a,this),this.elt=a):(l=document.createElement("select"),a&&typeof a=="boolean"&&l.setAttribute("multiple","true"),c=h(l,this),this.elt=l),c.option=function(p,v){var w;if(p!==void 0){for(var x,E=0;E<this.elt.length;E+=1)if(this.elt[E].textContent===p){w=E;break}w!==void 0?v===!1?this.elt.remove(w):this.elt[w].value=v:((x=document.createElement("option")).textContent=p,x.value=v===void 0?p:v,this.elt.appendChild(x),this._pInst._elements.push(x))}},c.selected=function(p){if(p!==void 0){for(var v=0;v<this.elt.length;v+=1)this.elt[v].value.toString()===p.toString()&&(this.elt.selectedIndex=v);return this}if(this.elt.getAttribute("multiple")){var w=[],x=!0,E=!1,j=void 0;try{for(var S,R=this.elt.selectedOptions[Symbol.iterator]();!(x=(S=R.next()).done);x=!0){var M=S.value;w.push(M.value)}}catch(P){E=!0,j=P}finally{try{x||R.return==null||R.return()}finally{if(E)throw j}}return w}return this.elt.value},c.disable=function(p){if(typeof p=="string")for(var v=0;v<this.elt.length;v++)this.elt[v].value.toString()===p&&(this.elt[v].disabled=!0,this.elt[v].selected=!1);else this.elt.disabled=!0;return this},c},u.default.prototype.createRadio=function(){function c(x){return x instanceof HTMLInputElement&&x.type==="radio"}function l(x){return x instanceof HTMLLabelElement}var a,p,v,w=arguments[0];return w instanceof u.default.Element&&(w.elt instanceof HTMLDivElement||w.elt instanceof HTMLSpanElement)?(a=w,this.elt=w.elt):w instanceof HTMLDivElement||w instanceof HTMLSpanElement?(a=h(w,this),p=this.elt=w,typeof arguments[1]=="string"&&(v=arguments[1])):(typeof w=="string"&&(v=w),p=document.createElement("div"),a=h(p,this),this.elt=p),a._name=v||"radioOption",a._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(x){return c(x)||l(x)&&c(x.firstElementChild)}).map(function(x){return c(x)?x:x.firstElementChild})},a.option=function(x,E){var j,S,R,M=!0,P=!1,k=void 0;try{for(var D,I=a._getOptionsArray()[Symbol.iterator]();!(M=(D=I.next()).done);M=!0){var N=D.value;if(N.value===x){j=N;break}}}catch(U){P=!0,k=U}finally{try{M||I.return==null||I.return()}finally{if(P)throw k}}return j===void 0&&((j=document.createElement("input")).setAttribute("type","radio"),j.setAttribute("value",x)),j.setAttribute("name",a._name),l(j.parentElement)?S=j.parentElement:(S=document.createElement("label")).insertAdjacentElement("afterbegin",j),S.lastElementChild instanceof HTMLSpanElement?R=S.lastElementChild:(R=document.createElement("span"),j.insertAdjacentElement("afterend",R)),R.innerHTML=E===void 0?x:E,this.elt.appendChild(S),j},a.remove=function(x){var E=!0,j=!1,S=void 0;try{for(var R,M=a._getOptionsArray()[Symbol.iterator]();!(E=(R=M.next()).done);E=!0){var P=R.value;if(P.value===x)return void(l(P.parentElement)?P.parentElement:P).remove()}}catch(k){j=!0,S=k}finally{try{E||M.return==null||M.return()}finally{if(j)throw S}}},a.value=function(){var x="",E=!0,j=!1,S=void 0;try{for(var R,M=a._getOptionsArray()[Symbol.iterator]();!(E=(R=M.next()).done);E=!0){var P=R.value;if(P.checked){x=P.value;break}}}catch(k){j=!0,S=k}finally{try{E||M.return==null||M.return()}finally{if(j)throw S}}return x},a.selected=function(x){var E=null;if(x===void 0){var j=!0,S=!1,R=void 0;try{for(var M,P=a._getOptionsArray()[Symbol.iterator]();!(j=(M=P.next()).done);j=!0){var k=M.value;if(k.checked){E=k;break}}}catch(G){S=!0,R=G}finally{try{j||P.return==null||P.return()}finally{if(S)throw R}}}else{a._getOptionsArray().forEach(function(K){K.checked=!1,K.removeAttribute("checked")});var D=!0,S=!1,R=void 0;try{for(var I,N=a._getOptionsArray()[Symbol.iterator]();!(D=(I=N.next()).done);D=!0){var U=I.value;U.value===x&&(U.setAttribute("checked",!0),U.checked=!0,E=U)}}catch(K){S=!0,R=K}finally{try{D||N.return==null||N.return()}finally{if(S)throw R}}}return E},a.disable=function(){var x=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],E=!0,j=!1,S=void 0;try{for(var R,M=a._getOptionsArray()[Symbol.iterator]();!(E=(R=M.next()).done);E=!0)R.value.setAttribute("disabled",x)}catch(P){j=!0,S=P}finally{try{E||M.return==null||M.return()}finally{if(j)throw S}}},a},u.default.prototype.createColorPicker=function(c){u.default._validateParameters("createColorPicker",arguments);var l=document.createElement("input");return l.type="color",c?c instanceof u.default.Color?l.value=c.toString("#rrggbb"):(u.default.prototype._colorMode="rgb",u.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},l.value=u.default.prototype.color(c).toString("#rrggbb")):l.value="#000000",(l=h(l,this)).color=function(){return c&&(c.mode&&(u.default.prototype._colorMode=c.mode),c.maxes&&(u.default.prototype._colorMaxes=c.maxes)),u.default.prototype.color(this.elt.value)},l},u.default.prototype.createInput=function(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",a=(u.default._validateParameters("createInput",arguments),document.createElement("input"));return a.setAttribute("value",c),a.setAttribute("type",l),h(a,this)},u.default.prototype.createFileInput=function(c){var l,a=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(u.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(l=document.createElement("input")).setAttribute("type","file"),a&&l.setAttribute("multiple",!0),l.addEventListener("change",function(p){var v=!0,w=!1,x=void 0;try{for(var E,j=p.target.files[Symbol.iterator]();!(v=(E=j.next()).done);v=!0){var S=E.value;u.default.File._load(S,c)}}catch(R){w=!0,x=R}finally{try{v||j.return==null||j.return()}finally{if(w)throw x}}},!1),h(l,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},u.default.prototype.createVideo=function(c,l){return u.default._validateParameters("createVideo",arguments),m(this,"video",c,l)},u.default.prototype.createAudio=function(c,l){return u.default._validateParameters("createAudio",arguments),m(this,"audio",c,l)},u.default.prototype.VIDEO="video",u.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(c){var l=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return l?new Promise(function(a,p){l.call(navigator,c,a,p)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),u.default.prototype.createCapture=function(){if(u.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var c,l=!0,a=!0,p=!0,v=!1,w=void 0;try{for(var x,E=arguments[Symbol.iterator]();!(p=(x=E.next()).done);p=!0){var j=x.value;j===u.default.prototype.VIDEO?a=!1:j===u.default.prototype.AUDIO?l=!1:s(j)==="object"?S=j:typeof j=="function"&&(c=j)}}catch(P){v=!0,w=P}finally{try{p||E.return==null||E.return()}finally{if(v)throw w}}var S=S||{video:l,audio:a},R=document.createElement("video"),M=(R.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(S).then(function(P){try{"srcObject"in R?R.srcObject=P:R.src=window.URL.createObjectURL(P)}catch{R.src=P}},console.log),h(R,this,!0));return M.loadedmetadata=!1,R.addEventListener("loadedmetadata",function(){R.play(),R.width?(M.width=R.width,M.height=R.height):(M.width=M.elt.width=R.videoWidth,M.height=M.elt.height=R.videoHeight),M.loadedmetadata=!0,c&&c(R.srcObject)}),M},u.default.prototype.createElement=function(c,l){return u.default._validateParameters("createElement",arguments),c=document.createElement(c),l!==void 0&&(c.innerHTML=l),h(c,this)},u.default.Element.prototype.addClass=function(c){return this.elt.className?this.hasClass(c)||(this.elt.className=this.elt.className+" "+c):this.elt.className=c,this},u.default.Element.prototype.removeClass=function(c){return this.elt.classList.remove(c),this},u.default.Element.prototype.hasClass=function(c){return this.elt.classList.contains(c)},u.default.Element.prototype.toggleClass=function(c){return this.elt.classList.contains(c)?this.elt.classList.remove(c):this.elt.classList.add(c),this},u.default.Element.prototype.child=function(c){return c===void 0?this.elt.childNodes:(typeof c=="string"?(c[0]==="#"&&(c=c.substring(1)),c=document.getElementById(c)):c instanceof u.default.Element&&(c=c.elt),c instanceof HTMLElement&&this.elt.appendChild(c),this)},u.default.Element.prototype.center=function(c){var l=this.elt.style.display,a=this.elt.style.display==="none",p=this.parent().style.display==="none",v={x:this.elt.offsetLeft,y:this.elt.offsetTop},w=(a&&this.show(),p&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),x=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return c==="both"||c===void 0?this.position(w/2+this.parent().offsetLeft,x/2+this.parent().offsetTop):c==="horizontal"?this.position(w/2+this.parent().offsetLeft,v.y):c==="vertical"&&this.position(v.x,x/2+this.parent().offsetTop),this.style("display",l),a&&this.hide(),p&&this.parent().hide(),this},u.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},u.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"?"absolute":arguments[2],this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this)},u.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var c="";return this.elt.style.transform&&(c=(c=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=c,this},u.default.Element.prototype._rotate=function(){var c="";return this.elt.style.transform&&(c=(c=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=c,this},u.default.Element.prototype.style=function(c,l){if((l=l instanceof u.default.Color?"rgba("+l.levels[0]+","+l.levels[1]+","+l.levels[2]+","+l.levels[3]/255+")":l)===void 0){if(c.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(c);for(var a=c.split(";"),p=0;p<a.length;p++){var v=a[p].split(":");v[0]&&v[1]&&(this.elt.style[v[0].trim()]=v[1].trim())}}else this.elt.style[c]=l,c!=="width"&&c!=="height"&&c!=="left"&&c!=="top"||(l=window.getComputedStyle(this.elt).getPropertyValue(c).replace(/[^\d.]/g,""),this[c]=Math.round(parseFloat(l,10)));return this},u.default.Element.prototype.attribute=function(c,l){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return l===void 0?this.elt.getAttribute(c):(this.elt.setAttribute(c,l),this);if(l===void 0)return this.elt.firstChild.getAttribute(c);for(var a=0;a<this.elt.childNodes.length;a++)this.elt.childNodes[a].setAttribute(c,l)},u.default.Element.prototype.removeAttribute=function(c){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var l=0;l<this.elt.childNodes.length;l++)this.elt.childNodes[l].removeAttribute(c);return this.elt.removeAttribute(c),this},u.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},u.default.Element.prototype.show=function(){return this.elt.style.display="block",this},u.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},u.default.Element.prototype.size=function(c,l){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var a=c,p=l,v=u.default.prototype.AUTO;if(a!==v||p!==v){if(a===v?a=l*this.width/this.height:p===v&&(p=c*this.height/this.width),this.elt instanceof HTMLCanvasElement){var w,x={},E=this.elt.getContext("2d");for(w in E)x[w]=E[w];for(w in this.elt.setAttribute("width",a*this._pInst._pixelDensity),this.elt.setAttribute("height",p*this._pInst._pixelDensity),this.elt.style.width=a+"px",this.elt.style.height=p+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),x)this.elt.getContext("2d")[w]=x[w]}else this.elt.style.width=a+"px",this.elt.style.height=p+"px",this.elt.width=a,this.elt.height=p;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},u.default.Element.prototype.remove=function(){this instanceof u.default.MediaElement&&(this.stop(),(l=this.elt.srcObject)!==null&&l.getTracks().forEach(function(a){a.stop()}));var c,l=this._pInst._elements.indexOf(this);for(c in l!==-1&&this._pInst._elements.splice(l,1),this._events)this.elt.removeEventListener(c,this._events[c]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},u.default.Element.prototype.drop=function(c,l){var a;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",a=function(p){p.preventDefault()}),this.elt.addEventListener("dragleave",a)),u.default.Element._attachListener("drop",function(p){p.preventDefault(),typeof l=="function"&&l.call(this,p);for(var v=p.dataTransfer.files,w=0;w<v.length;w++){var x=v[w];u.default.File._load(x,c)}},this)):console.log("The File APIs are not fully supported in this browser."),this},u.default.MediaElement=function(c,l){u.default.Element.call(this,c,l);var a=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(a,"src",{get:function(){var p=a.elt.children[0].src,v=a.elt.src===window.location.href?"":a.elt.src;return p===window.location.href?v:p},set:function(p){for(var v=0;v<a.elt.children.length;v++)a.elt.removeChild(a.elt.children[v]);var w=document.createElement("source");w.src=p,c.appendChild(w),a.elt.src=p,a.modified=!0}}),a._onended=function(){},a.elt.onended=function(){a._onended(a)}},u.default.MediaElement.prototype=Object.create(u.default.Element.prototype),u.default.MediaElement.prototype.play=function(){var c;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(c=this.elt.play())&&c.catch&&c.catch(function(l){l.name==="NotAllowedError"?console.error(l):console.error("Media play method encountered an unexpected error",l)}),this},u.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},u.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},u.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},u.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},u.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var c=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(c)},{passive:!0,once:!0})},u.default.MediaElement.prototype.autoplay=function(c){var l=this,a=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",c),c&&!a&&(c=function(){return l._setupAutoplayFailDetection()},this.elt.readyState===4?c():this.elt.addEventListener("canplay",c,{passive:!0,once:!0})),this},u.default.MediaElement.prototype.volume=function(c){if(c===void 0)return this.elt.volume;this.elt.volume=c},u.default.MediaElement.prototype.speed=function(c){if(c===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=c:this.presetPlaybackRate=c},u.default.MediaElement.prototype.time=function(c){return c===void 0?this.elt.currentTime:(this.elt.currentTime=c,this)},u.default.MediaElement.prototype.duration=function(){return this.elt.duration},u.default.MediaElement.prototype.pixels=[],u.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},u.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),u.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},u.default.MediaElement.prototype.updatePixels=function(c,l,a,p){return this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.updatePixels.call(this,c,l,a,p)),this.setModified(!0),this},u.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),u.default.Renderer2D.prototype.get.apply(this,arguments)},u.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),u.default.Renderer2D.prototype._getPixel.apply(this,arguments)},u.default.MediaElement.prototype.set=function(c,l,a){this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.set.call(this,c,l,a),this.setModified(!0))},u.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),u.default.prototype.copy.apply(this,arguments)},u.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),u.default.Image.prototype.mask.apply(this,arguments)},u.default.MediaElement.prototype.isModified=function(){return this._modified},u.default.MediaElement.prototype.setModified=function(c){this._modified=c},u.default.MediaElement.prototype.onended=function(c){return this._onended=c,this},u.default.MediaElement.prototype.connect=function(c){var l,a;if(typeof u.default.prototype.getAudioContext=="function")l=u.default.prototype.getAudioContext(),a=u.default.soundOut.input;else try{a=(l=c.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=l.createMediaElementSource(this.elt),this.audioSourceNode.connect(a)),c?c.input?this.audioSourceNode.connect(c.input):this.audioSourceNode.connect(c):this.audioSourceNode.connect(a)},u.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},u.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},u.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function g(c,l,a,p){this.callback=c,this.time=l,this.id=a,this.val=p}u.default.MediaElement.prototype.addCue=function(c,v,a){var p=this._cueIDCounter++,v=new g(v,c,p,a);return this._cues.push(v),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),p},u.default.MediaElement.prototype.removeCue=function(c){for(var l=0;l<this._cues.length;l++)this._cues[l].id===c&&(console.log(c),this._cues.splice(l,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},u.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},u.default.MediaElement.prototype._onTimeUpdate=function(){for(var c=this.time(),l=0;l<this._cues.length;l++){var a=this._cues[l].time,p=this._cues[l].val;this._prevTime<a&&a<=c&&this._cues[l].callback(p)}this._prevTime=c},u.default.File=function(c,l){this.file=c,this._pInst=l,l=c.type.split("/"),this.type=l[0],this.subtype=l[1],this.name=c.name,this.size=c.size,this.data=void 0},u.default.File._createLoader=function(c,l){var a=new FileReader;return a.onload=function(p){var v,w=new u.default.File(c);w.file.type==="application/json"?w.data=JSON.parse(p.target.result):w.file.type==="text/xml"?(v=new DOMParser().parseFromString(p.target.result,"text/xml"),w.data=new u.default.XML(v.documentElement)):w.data=p.target.result,l(w)},a},u.default.File._load=function(c,l){var a;/^text\//.test(c.type)||c.type==="application/json"?u.default.File._createLoader(c,l).readAsText(c):/^(video|audio)\//.test(c.type)?((a=new u.default.File(c)).data=URL.createObjectURL(c),l(a)):u.default.File._createLoader(c,l).readAsDataURL(c)},t=u.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.every":151,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232}],284:[function(t,f,d){function i(j){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(j)}function u(j){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(S){return i(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":i(S)})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(E=t("../core/main"))&&E.__esModule?E:{default:E},h=function(j){if(j&&j.__esModule)return j;if(j===null||u(j)!=="object"&&typeof j!="function")return{default:j};var S=m();if(S&&S.has(j))return S.get(j);var R,M={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in j){var k;Object.prototype.hasOwnProperty.call(j,R)&&((k=P?Object.getOwnPropertyDescriptor(j,R):null)&&(k.get||k.set)?Object.defineProperty(M,R,k):M[R]=j[R])}return M.default=j,S&&S.set(j,M),M}(t("../core/constants"));function m(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,m=function(){return j},j)}s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var g=s.default.prototype.pRotationZ=0,c=0,l=0,a="clockwise",p="clockwise",v="clockwise",w=(s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0,.5),x=30,E=(s.default.prototype.setMoveThreshold=function(j){s.default._validateParameters("setMoveThreshold",arguments),w=j},s.default.prototype.setShakeThreshold=function(j){s.default._validateParameters("setShakeThreshold",arguments),x=j},s.default.prototype._ondeviceorientation=function(j){this._updatePRotations(),this._angleMode===h.radians&&(j.beta=j.beta*(_PI/180),j.gamma=j.gamma*(_PI/180),j.alpha=j.alpha*(_PI/180)),this._setProperty("rotationX",j.beta),this._setProperty("rotationY",j.gamma),this._setProperty("rotationZ",j.alpha),this._handleMotion()},s.default.prototype._ondevicemotion=function(j){this._updatePAccelerations(),this._setProperty("accelerationX",2*j.acceleration.x),this._setProperty("accelerationY",2*j.acceleration.y),this._setProperty("accelerationZ",2*j.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var j,S,R,M,P,k=this._isGlobal?window:this;typeof k.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>w||Math.abs(this.accelerationY-this.pAccelerationY)>w||Math.abs(this.accelerationZ-this.pAccelerationZ)>w)&&k.deviceMoved(),typeof k.deviceTurned=="function"&&(S=this.rotationX+180,j=this.pRotationX+180,R=g+180,0<S-j&&S-j<270||S-j<-270?a="clockwise":(S-j<0||270<S-j)&&(a="counter-clockwise"),a!==this.pRotateDirectionX&&(R=S),90<Math.abs(S-R)&&Math.abs(S-R)<270&&(R=S,this._setProperty("turnAxis","X"),k.deviceTurned()),this.pRotateDirectionX=a,g=R-180,j=this.rotationY+180,S=this.pRotationY+180,R=c+180,0<j-S&&j-S<270||j-S<-270?p="clockwise":(j-S<0||270<j-this.pRotationY)&&(p="counter-clockwise"),p!==this.pRotateDirectionY&&(R=j),90<Math.abs(j-R)&&Math.abs(j-R)<270&&(R=j,this._setProperty("turnAxis","Y"),k.deviceTurned()),this.pRotateDirectionY=p,c=R-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?v="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(v="counter-clockwise"),v!==this.pRotateDirectionZ&&(l=this.rotationZ),90<Math.abs(this.rotationZ-l)&&Math.abs(this.rotationZ-l)<270&&(l=this.rotationZ,this._setProperty("turnAxis","Z"),k.deviceTurned()),this.pRotateDirectionZ=v,this._setProperty("turnAxis",void 0)),typeof k.deviceShaken=="function"&&(this.pAccelerationX!==null&&(M=Math.abs(this.accelerationX-this.pAccelerationX),P=Math.abs(this.accelerationY-this.pAccelerationY)),x<M+P&&k.deviceShaken())},s.default);d.default=E},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],285:[function(t,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.prototype.isKeyPressed=!1,i.default.prototype.keyIsPressed=!1,i.default.prototype.key="",i.default.prototype.keyCode=0,i.default.prototype._onkeydown=function(u){var s;this._downKeys[u.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",u.which),this._downKeys[u.which]=!0,this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),typeof(s=this._isGlobal?window:this).keyPressed!="function"||u.charCode||s.keyPressed(u)===!1&&u.preventDefault())},i.default.prototype._onkeyup=function(u){this._downKeys[u.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),this._setProperty("keyCode",u.which);var s=this._isGlobal?window:this;typeof s.keyReleased=="function"&&s.keyReleased(u)===!1&&u.preventDefault()},i.default.prototype._onkeypress=function(u){var s;u.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",u.which),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),typeof(s=this._isGlobal?window:this).keyTyped=="function"&&s.keyTyped(u)===!1&&u.preventDefault())},i.default.prototype._onblur=function(u){this._downKeys={}},i.default.prototype.keyIsDown=function(u){return i.default._validateParameters("keyIsDown",arguments),this._downKeys[u]||!1},i.default.prototype._areDownKeys=function(){for(var u in this._downKeys)if(this._downKeys.hasOwnProperty(u)&&this._downKeys[u]===!0)return!0;return!1},t=i.default,d.default=t},{"../core/main":267}],286:[function(t,f,d){function i(g){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(g)}function u(g){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(c){return i(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":i(c)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(s=t("../core/main"))&&s.__esModule?s:{default:s},h=function(g){if(g&&g.__esModule)return g;if(g===null||u(g)!=="object"&&typeof g!="function")return{default:g};var c=m();if(c&&c.has(g))return c.get(g);var l,a={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in g){var v;Object.prototype.hasOwnProperty.call(g,l)&&((v=p?Object.getOwnPropertyDescriptor(g,l):null)&&(v.get||v.set)?Object.defineProperty(a,l,v):a[l]=g[l])}return a.default=g,c&&c.set(g,a),a}(t("../core/constants"));function m(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,m=function(){return g},g)}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(g){var c,l,a,p,v;this._curElement!==null&&(!g.touches||0<g.touches.length)&&(c=this._curElement.elt,l=this.width,a=this.height,(p=g)&&!p.clientX&&(p.touches?p=p.touches[0]:p.changedTouches&&(p=p.changedTouches[0])),v=c.getBoundingClientRect(),l=c.scrollWidth/l||1,c=c.scrollHeight/a||1,a={x:(p.clientX-v.left)/l,y:(p.clientY-v.top)/c,winX:p.clientX,winY:p.clientY,id:p.identifier},this._setProperty("movedX",g.movementX),this._setProperty("movedY",g.movementY),this._setProperty("mouseX",a.x),this._setProperty("mouseY",a.y),this._setProperty("winMouseX",a.winX),this._setProperty("winMouseY",a.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(g){g.button===1?this._setProperty("mouseButton",h.CENTER):g.button===2?this._setProperty("mouseButton",h.RIGHT):this._setProperty("mouseButton",h.LEFT)},s.default.prototype._onmousemove=function(g){var c=this._isGlobal?window:this;this._updateNextMouseCoords(g),this.mouseIsPressed?typeof c.mouseDragged=="function"?c.mouseDragged(g)===!1&&g.preventDefault():typeof c.touchMoved=="function"&&c.touchMoved(g)===!1&&g.preventDefault():typeof c.mouseMoved=="function"&&c.mouseMoved(g)===!1&&g.preventDefault()},s.default.prototype._onmousedown=function(g){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(g),this._updateNextMouseCoords(g),typeof c.mousePressed=="function"?c.mousePressed(g)===!1&&g.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof c.touchStarted=="function"&&c.touchStarted(g)===!1&&g.preventDefault()},s.default.prototype._onmouseup=function(g){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof c.mouseReleased=="function"?c.mouseReleased(g)===!1&&g.preventDefault():typeof c.touchEnded=="function"&&c.touchEnded(g)===!1&&g.preventDefault()},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(g){var c=this._isGlobal?window:this;typeof c.mouseClicked=="function"&&c.mouseClicked(g)===!1&&g.preventDefault()},s.default.prototype._ondblclick=function(g){var c=this._isGlobal?window:this;typeof c.doubleClicked=="function"&&c.doubleClicked(g)===!1&&g.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(g){var c=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",g.deltaY),typeof c.mouseWheel=="function"&&(g.delta=g.deltaY,c.mouseWheel(g)===!1&&g.preventDefault())},s.default.prototype.requestPointerLock=function(){var g=this._curElement.elt;return g.requestPointerLock=g.requestPointerLock||g.mozRequestPointerLock,g.requestPointerLock?(g.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=s.default,d.default=t},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],287:[function(t,f,d){t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(i){if(this._curElement!==null){for(var u=[],s=0;s<i.touches.length;s++)u[s]=function(v,p,w,c){var l=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=v.getBoundingClientRect(),p=v.scrollWidth/p||1,v=v.scrollHeight/w||1,w=c.touches[l]||c.changedTouches[l];return{x:(w.clientX-a.left)/p,y:(w.clientY-a.top)/v,winX:w.clientX,winY:w.clientY,id:w.identifier}}(this._curElement.elt,this.width,this.height,i,s);this._setProperty("touches",u)}},t.default.prototype._ontouchstart=function(i){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(i),this._updateNextMouseCoords(i),this._updateMouseCoords(),typeof u.touchStarted=="function"?u.touchStarted(i)===!1&&i.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof u.mousePressed=="function"&&u.mousePressed(i)===!1&&i.preventDefault()},t.default.prototype._ontouchmove=function(i){var u=this._isGlobal?window:this;this._updateTouchCoords(i),this._updateNextMouseCoords(i),typeof u.touchMoved=="function"?u.touchMoved(i)===!1&&i.preventDefault():typeof u.mouseDragged=="function"&&u.mouseDragged(i)===!1&&i.preventDefault()},t.default.prototype._ontouchend=function(i){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(i),this._updateNextMouseCoords(i);var u=this._isGlobal?window:this;typeof u.touchEnded=="function"?u.touchEnded(i)===!1&&i.preventDefault():typeof u.mouseReleased=="function"&&u.mouseReleased(i)===!1&&i.preventDefault()},t=t.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],288:[function(t,f,d){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i,u,s,h,m={};function g(c,l){for(var a,p,v,w,x,E,j,S,R,M,P=m._toPixels(c),k=c.width,D=c.height,I=k*D,N=new Int32Array(I),U=0;U<I;U++)N[U]=m._getARGB(P,U);var G,J,K,Z=new Int32Array(I),X=new Int32Array(I),Y=new Int32Array(I),te=new Int32Array(I),se=0,me=3.5*l|0;if(i!==(me=me<1?1:me<248?me:248)){u=1+(i=me)<<1,s=new Int32Array(u),h=new Array(u);for(var A,L,H=0;H<u;H++)h[H]=new Int32Array(256);for(var $=1,ie=me-1;$<me;$++){s[me+$]=s[ie]=L=ie*ie;for(var ye=h[me+$],ve=h[ie--],xe=0;xe<256;xe++)ye[xe]=ve[xe]=L*xe}A=s[me]=me*me,ye=h[me];for(var fe=0;fe<256;fe++)ye[fe]=A*fe}for(J=0;J<D;J++){for(G=0;G<k;G++){if(w=v=p=x=a=0,(E=G-i)<0)M=-E,E=0;else{if(k<=E)break;M=0}for(K=M;K<u&&!(k<=E);K++){var W,re=N[E+se];x+=(W=h[K])[(-16777216&re)>>>24],p+=W[(16711680&re)>>16],v+=W[(65280&re)>>8],w+=W[255&re],a+=s[K],E++}Z[j=se+G]=x/a,X[j]=p/a,Y[j]=v/a,te[j]=w/a}se+=k}for(R=(S=-i)*k,J=se=0;J<D;J++){for(G=0;G<k;G++){if(S<(w=v=p=x=a=0))M=j=-S,E=G;else{if(D<=S)break;M=0,j=S,E=G+R}for(K=M;K<u&&!(D<=j);K++)x+=(W=h[K])[Z[E]],p+=W[X[E]],v+=W[Y[E]],w+=W[te[E]],a+=s[K],j++,E+=k;N[G+se]=x/a<<24|p/a<<16|v/a<<8|w/a}se+=k,R+=k,S++}m._setPixels(P,N)}m._toPixels=function(c){var l,a;return c instanceof ImageData?c.data:c.getContext("2d")?c.getContext("2d").getImageData(0,0,c.width,c.height).data:c.getContext("webgl")?(a=(l=c.getContext("webgl")).drawingBufferWidth*l.drawingBufferHeight*4,a=new Uint8Array(a),l.readPixels(0,0,c.width,c.height,l.RGBA,l.UNSIGNED_BYTE,a),a):void 0},m._getARGB=function(c,l){return l*=4,c[3+l]<<24&4278190080|c[l]<<16&16711680|c[1+l]<<8&65280|255&c[2+l]},m._setPixels=function(c,l){for(var a,p=0,v=c.length;p<v;p++)c[0+(a=4*p)]=(16711680&l[p])>>>16,c[1+a]=(65280&l[p])>>>8,c[2+a]=255&l[p],c[3+a]=(4278190080&l[p])>>>24},m._toImageData=function(c){return c instanceof ImageData?c:c.getContext("2d").getImageData(0,0,c.width,c.height)},m._createImageData=function(c,l){return m._tmpCanvas=document.createElement("canvas"),m._tmpCtx=m._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(c,l)},m.apply=function(c,w,a){var p=c.getContext("2d"),v=p.getImageData(0,0,c.width,c.height),w=w(v,a);w instanceof ImageData?p.putImageData(w,0,0,0,0,c.width,c.height):p.putImageData(v,0,0,0,0,c.width,c.height)},m.threshold=function(c,l){for(var a=m._toPixels(c),p=(l===void 0&&(l=.5),Math.floor(255*l)),v=0;v<a.length;v+=4){var w=void 0,w=p<=.2126*a[v]+.7152*a[v+1]+.0722*a[v+2]?255:0;a[v]=a[v+1]=a[v+2]=w}},m.gray=function(c){for(var l=m._toPixels(c),a=0;a<l.length;a+=4){var p=l[a],v=l[a+1],w=l[a+2];l[a]=l[a+1]=l[a+2]=.2126*p+.7152*v+.0722*w}},m.opaque=function(c){for(var l=m._toPixels(c),a=0;a<l.length;a+=4)l[a+3]=255;return l},m.invert=function(c){for(var l=m._toPixels(c),a=0;a<l.length;a+=4)l[a]=255-l[a],l[a+1]=255-l[a+1],l[a+2]=255-l[a+2]},m.posterize=function(c,l){var a=m._toPixels(c);if(l<2||255<l)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var p=l-1,v=0;v<a.length;v+=4){var w=a[v],x=a[v+1],E=a[v+2];a[v]=255*(w*l>>8)/p,a[v+1]=255*(x*l>>8)/p,a[v+2]=255*(E*l>>8)/p}},m.dilate=function(c){for(var l,a,p,v,w,x,E,j,S,R=m._toPixels(c),M=0,P=R.length?R.length/4:0,k=new Int32Array(P);M<P;)for(a=(l=M)+c.width;M<a;)v=p=m._getARGB(R,M),(S=M-1)<l&&(S=M),a<=(j=M+1)&&(j=M),(w=M-c.width)<0&&(w=0),P<=(x=M+c.width)&&(x=M),w=m._getARGB(R,w),S=m._getARGB(R,S),x=m._getARGB(R,x),(v=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<(E=77*(S>>16&255)+151*(S>>8&255)+28*(255&S))&&(p=S,v=E),v<(E=77*((S=m._getARGB(R,j))>>16&255)+151*(S>>8&255)+28*(255&S))&&(p=S,v=E),v<(j=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))&&(p=w,v=j),v<(S=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))&&(p=x,v=S),k[M++]=p;m._setPixels(R,k)},m.erode=function(c){for(var l,a,p,v,w,x,E,j,S,R=m._toPixels(c),M=0,P=R.length?R.length/4:0,k=new Int32Array(P);M<P;)for(a=(l=M)+c.width;M<a;)v=p=m._getARGB(R,M),(S=M-1)<l&&(S=M),a<=(j=M+1)&&(j=M),(w=M-c.width)<0&&(w=0),P<=(x=M+c.width)&&(x=M),w=m._getARGB(R,w),S=m._getARGB(R,S),x=m._getARGB(R,x),(E=77*(S>>16&255)+151*(S>>8&255)+28*(255&S))<(v=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(p=S,v=E),(E=77*((S=m._getARGB(R,j))>>16&255)+151*(S>>8&255)+28*(255&S))<v&&(p=S,v=E),(j=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))<v&&(p=w,v=j),(S=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))<v&&(p=x,v=S),k[M++]=p;m._setPixels(R,k)},m.blur=function(c,l){g(c,l)},d.default=m},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],289:[function(t,f,d){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=s(t("../core/main")),u=s(t("omggif"));function s(m){return m&&m.__esModule?m:{default:m}}function h(m){return function(g){if(Array.isArray(g)){for(var c=0,l=new Array(g.length);c<g.length;c++)l[c]=g[c];return l}}(m)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.default.prototype.createImage=function(m,g){return i.default._validateParameters("createImage",arguments),new i.default.Image(m,g)},i.default.prototype.saveCanvas=function(){i.default._validateParameters("saveCanvas",arguments);var m,g,c,l,a=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(m=arguments[0],a.shift()):arguments[0]instanceof i.default.Element?(m=arguments[0].elt,a.shift()):m=this._curElement&&this._curElement.elt,1<=a.length&&(g=a[0]),c=(c=2<=a.length?a[1]:c)||i.default.prototype._checkFileExtension(g,c)[1]||"png"){default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}m.toBlob(function(p){i.default.prototype.downloadFile(p,g,c)},l)},i.default.prototype.encodeAndDownloadGif=function(m,g){for(var c=m.gifProperties,l=c.loopLimit,a=(l===1?l=null:l===null&&(l=0),new Uint8Array(m.width*m.height*c.numFrames)),p=[],v={},w=0;w<c.numFrames;w++){for(var x=new Set,E=c.frames[w].image.data,j=E.length,S=new Uint32Array(m.width*m.height),R=0,M=0;R<j;R+=4,M++){var P=E[R+0]<<16|E[R+1]<<8|E[R+2]<<0;x.add(P),S[M]=P}var k=h(x).sort().toString();v[k]===void 0?v[k]={freq:1,frames:[w]}:(v[k].freq+=1,v[k].frames.push(w)),p.push(S)}for(var N=[],D=Object.keys(v).sort(function(A,L){return v[L].freq-v[A].freq}),I=D[0].split(",").map(function(A){return parseInt(A)}),N=N.concat(v[I].frames),U=new Set(I),G=1;G<D.length;G++){var J=D[G].split(",").map(function(A){return parseInt(A)}).filter(function(A){return!U.has(A)});if(I.length+J.length<=256){for(var K=0;K<J.length;K++)I.push(J[K]),U.add(J[K]);N=N.concat(v[D[G]].frames)}}N=new Set(N);for(var Z={},X=0;X<I.length;X++)Z[I[X]]||(Z[I[X]]=X);for(var Y=1;Y<I.length;)Y<<=1;I.length=Y;for(var l={loop:l,palette:new Uint32Array(I)},te=new u.default.GifWriter(a,m.width,m.height,l),se={},me=0;me<c.numFrames;me++)(function(L){for(var H=!N.has(L),$=H?[]:I,ie=new Uint8Array(m.width*m.height),ye={},ve=new Set,xe=0;xe<p[L].length;xe++){var fe=p[L][xe];H?(ye[fe]===void 0&&(ye[fe]=$.length,$.push(fe)),ie[xe]=ye[fe]):ie[xe]=Z[fe],0<L&&p[L-1][xe]!==fe&&ve.add(fe)}var W={},re=$.filter(function(ge){return!ve.has(ge)});if(0<re.length){var re=re[0],q=(H?ye:Z)[re];if(0<L){for(var le=0;le<p[L].length;le++)p[L-1][le]===p[L][le]&&(ie[le]=q);W.transparent=q,se.frameOpts.disposal=1}}if(W.delay=c.frames[L].delay/10,H){for(var ue=1;ue<$.length;)ue<<=1;$.length=ue,W.palette=new Uint32Array($)}0<L&&te.addFrame(0,0,m.width,m.height,se.pixelPaletteIndex,se.frameOpts),se={pixelPaletteIndex:ie,frameOpts:W}})(me);se.frameOpts.disposal=1,te.addFrame(0,0,m.width,m.height,se.pixelPaletteIndex,se.frameOpts),l=new Blob([a.slice(0,te.end())],{type:"image/gif"}),i.default.prototype.downloadFile(l,g,"gif")},i.default.prototype.saveFrames=function(m,g,c,p,a){i.default._validateParameters("saveFrames",arguments),c=i.default.prototype.constrain(c=c||3,0,15),c*=1e3;var p=i.default.prototype.constrain(p||15,0,22),v=0,w=i.default.prototype._makeFrame,x=this._curElement.elt,E=[],j=setInterval(function(){E.push(w(m+v,g,x)),v++},1e3/p);setTimeout(function(){if(clearInterval(j),a)a(E);else{var S=!0,R=!1,M=void 0;try{for(var P,k=E[Symbol.iterator]();!(S=(P=k.next()).done);S=!0){var D=P.value;i.default.prototype.downloadFile(D.imageData,D.filename,D.ext)}}catch(I){R=!0,M=I}finally{try{S||k.return==null||k.return()}finally{if(R)throw M}}}E=[]},.01+c)},i.default.prototype._makeFrame=function(m,g,a){var l,a=this?this._curElement.elt:a;if(g)switch(g.toLowerCase()){case"png":l="image/png";break;case"jpeg":case"jpg":l="image/jpeg";break;default:l="image/png"}else g="png",l="image/png";var a=(a=a.toDataURL(l)).replace(l,"image/octet-stream"),p={};return p.imageData=a,p.filename=m,p.ext=g,p},t=i.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,omggif:240}],290:[function(t,f,d){function i(x){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}function u(x){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(E){return i(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":i(E)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t("regenerator-runtime/runtime");var s=a(t("../core/main")),h=a(t("../core/helpers")),m=function(x){if(x&&x.__esModule)return x;if(x===null||u(x)!=="object"&&typeof x!="function")return{default:x};var E=l();if(E&&E.has(x))return E.get(x);var j,S={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in x){var M;Object.prototype.hasOwnProperty.call(x,j)&&((M=R?Object.getOwnPropertyDescriptor(x,j):null)&&(M.get||M.set)?Object.defineProperty(S,j,M):S[j]=x[j])}return S.default=x,E&&E.set(x,S),S}(t("../core/constants")),g=a(t("omggif")),c=t("gifenc");function l(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,l=function(){return x},x)}function a(x){return x&&x.__esModule?x:{default:x}}function p(x,E,j,S,R,M,P){try{var k=x[M](P),D=k.value}catch(I){return void j(I)}k.done?E(D):Promise.resolve(D).then(S,R)}function v(x,E,j,S,R,M,P,k,D,I,N){var U,G,J,K,Z,X,Y,te,se;return x===m.COVER&&(U=E,J=j,Y=M,te=P,X=k,se=D,G=I,K=N,Z=Math.max(Y/G,te/K),Y/=Z,te/=Z,Z=X,X=se,U===m.CENTER?Z+=(G-Y)/2:U===m.RIGHT&&(Z+=G-Y),J===m.CENTER?X+=(K-te)/2:J===m.BOTTOM&&(X+=K-te),k=(se={x:Z,y:X,w:Y,h:te}).x,D=se.y,I=se.w,N=se.h),x===m.CONTAIN&&(U=E,G=j,J=S,K=R,Z=M,X=P,Y=I,te=N,se=Math.max(Y/Z,te/X),Y/=se,te/=se,se=J,J=K,U===m.CENTER?se+=(Z-Y)/2:U===m.RIGHT&&(se+=Z-Y),G===m.CENTER?J+=(X-te)/2:G===m.BOTTOM&&(J+=X-te),S=(x={x:se,y:J,w:Y,h:te}).x,R=x.y,M=x.w,P=x.h),{sx:k,sy:D,sw:I,sh:N,dx:S,dy:R,dw:M,dh:P}}function w(x,E){return 0<x&&x<E?x:E}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadImage=function(x,E,j){s.default._validateParameters("loadImage",arguments);var S=new s.default.Image(1,1,this),R=this,M=new Request(x,{method:"GET",mode:"cors"});return fetch(x,M).then(function(P){var k,D=P.headers.get("content-type");D===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),D&&D.includes("image/gif")?P.arrayBuffer().then(function(I){if(I){var I=new Uint8Array(I),N=S,U=E,G=j,J=function(H){R._decrementPreload()}.bind(R),K=new g.default.GifReader(I),Z=(N.width=N.canvas.width=K.width,N.height=N.canvas.height=K.height,[]),X=K.numFrames(),Y=new Uint8ClampedArray(N.width*N.height*4);if(1<X){for(var te=0;te<X;te++){var se=K.frameInfo(te),me=N.drawingContext.getImageData(0,0,N.width,N.height),A=(Y=me.data.slice(),function(H,$){try{$.decodeAndBlitFrameRGBA(H,Y)}catch(ie){s.default._friendlyFileLoadError(8,N.src),typeof G=="function"?G(ie):console.error(ie)}}(te,K),new ImageData(Y,N.width,N.height)),A=(N.drawingContext.putImageData(A,0,0),se.delay);A===0&&(A=10),Z.push({image:N.drawingContext.getImageData(0,0,N.width,N.height),delay:10*A}),se.disposal===2?N.drawingContext.clearRect(se.x,se.y,se.width,se.height):se.disposal===3&&N.drawingContext.putImageData(me,0,0,se.x,se.y,se.width,se.height)}I=K.loopCount(),I===null?I=1:I===0&&(I=null),N.drawingContext.putImageData(Z[0].image,0,0),N.gifProperties={displayIndex:0,loopLimit:I,loopCount:0,frames:Z,numFrames:X,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof U=="function"&&U(N),J()}},function(I){typeof j=="function"?(j(I),R._decrementPreload()):console.error(I)}):((k=new Image).onload=function(){S.width=S.canvas.width=k.width,S.height=S.canvas.height=k.height,S.drawingContext.drawImage(k,0,0),S.modified=!0,typeof E=="function"&&E(S),R._decrementPreload()},k.onerror=function(I){s.default._friendlyFileLoadError(0,k.src),typeof j=="function"?(j(I),R._decrementPreload()):console.error(I)},x.indexOf("data:image/")!==0&&(k.crossOrigin="Anonymous"),k.src=x),S.modified=!0}).catch(function(P){s.default._friendlyFileLoadError(0,x),typeof j=="function"?(j(P),R._decrementPreload()):console.error(P)}),S},s.default.prototype.saveGif=function(){x=regeneratorRuntime.mark(function j(S,R){var M,P,k,D,I,N,U,G,J,K,Z,X,Y,te,se,me,A,L,H,$,ie,ye,ve,xe=arguments;return regeneratorRuntime.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(M=2<xe.length&&xe[2]!==void 0?xe[2]:{delay:0,units:"seconds"},typeof S!="string")throw TypeError("fileName parameter must be a string");fe.next=3;break;case 3:if(typeof R!="number")throw TypeError("Duration parameter must be a number");fe.next=5;break;case 5:if(P=M&&M.delay||0,k=M&&M.units||"seconds",typeof P!="number")throw TypeError("Delay parameter must be a number");fe.next=9;break;case 9:if(k!=="seconds"&&k!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');fe.next=11;break;case 11:this._recording=!0,U=this._targetFrameRate,D=(D=1/(U=U!==1/0&&U!==void 0&&U!==0?U:60)*1e3)<20?20:D,N=(I=k==="seconds"?R*U:R)+(U=k==="seconds"?P*U:P),U=U,this.frameCount=U,G=this._pixelDensity,this.pixelDensity(1),J=[],K="p5.gif.progressBar",document.getElementById(K)!==null&&document.getElementById(K).remove(),(K=this.createP("")).id("progressBar"),K.style("font-size","16px"),K.style("font-family","Montserrat"),K.style("background-color","#ffffffa0"),K.style("padding","8px"),K.style("border-radius","10px"),K.position(0,0),this.drawingContext instanceof WebGLRenderingContext&&(X=document.getElementById("defaultCanvas0").getContext("webgl"),Z=new Uint8Array(X.drawingBufferWidth*X.drawingBufferHeight*4)),this.noLoop();case 36:if(U<N)return this.redraw(),ie=void 0,ie=this.drawingContext instanceof WebGLRenderingContext?(Z=new Uint8Array(X.drawingBufferWidth*X.drawingBufferHeight*4),X.readPixels(0,0,X.drawingBufferWidth,X.drawingBufferHeight,X.RGBA,X.UNSIGNED_BYTE,Z),function(W){for(var re=parseInt(height/2),q=4*width,le=new Uint8Array(4*width),ue=0;ue<re;++ue){var ge=ue*q,pe=(height-ue-1)*q;le.set(W.subarray(ge,ge+q)),W.copyWithin(ge,pe,pe+q),W.set(le,pe)}return W}(Z)):this.drawingContext.getImageData(0,0,this.width,this.height).data,J.push(ie),U++,K.html("Saved frame <b>"+J.length.toString()+"</b> out of "+I.toString()),fe.next=45,new Promise(function(W){return setTimeout(W,0)});fe.next=47;break;case 45:fe.next=36;break;case 47:K.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(G),Y=(0,c.GIFEncoder)(),te=function(W){for(var re=new Uint8Array(W.length*W[0].length),q=0;q<W.length;q++)re.set(W[q],q*W[0].length);var le=(0,c.quantize)(re,256,{format:"rgba4444",oneBitAlpha:!0});return le.length===256?le[le.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:le.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),le}(J),se={},me=function(W){for(var re=W.length/4,q=new Uint8Array(re),le=0;le<re;le++){var ue=W[4*le]<<24|W[4*le+1]<<16|W[4*le+2]<<8|W[4*le+3];se[ue]===void 0&&(se[ue]=(0,c.nearestColorIndex)(te,W.slice(4*le,4*(le+1)))),q[le]=se[ue]}return q},A=te.length-1,L=[],H=0;case 57:if(!(H<J.length)){fe.next=68;break}if($=me(J[H]),ie=$.slice(),H===0)Y.writeFrame($,this.width,this.height,{palette:te,delay:D,dispose:1});else{for(ye=0;ye<$.length;ye++)$[ye]===L[ye]&&($[ye]=A);Y.writeFrame($,this.width,this.height,{delay:D,transparent:!0,transparentIndex:A,dispose:1})}return L=ie,K.html("Rendered frame <b>"+H.toString()+"</b> out of "+I.toString()),fe.next=65,new Promise(function(W){return setTimeout(W,0)});case 65:H++,fe.next=57;break;case 68:Y.finish(),ve=Y.bytesView(),ve=new Blob([ve],{type:"image/gif"}),J=[],this._recording=!1,this.loop(),K.html("Done. Downloading your gif!"),s.default.prototype.downloadFile(ve,S,"gif");case 77:case"end":return fe.stop()}},j,this)});var x,E=function(){var j=this,S=arguments;return new Promise(function(R,M){var P=x.apply(j,S);function k(I){p(P,R,M,k,D,"next",I)}function D(I){p(P,R,M,k,D,"throw",I)}k(void 0)})};return function(j,S){return E.apply(this,arguments)}}(),s.default.prototype.image=function(x,E,j,S,K,Z,X,Y,se,I,N,U){s.default._validateParameters("image",arguments);var te=x.width,G=x.height,J=(U=U||m.CENTER,N=N||m.CENTER,x.elt&&x.elt.videoWidth&&!x.canvas&&(te=x.elt.videoWidth,G=x.elt.videoHeight),S||te),K=K||G,Z=Z||0,X=X||0,Y=w(Y||te,te),te=w(se||G,G),se=1;x.elt&&!x.canvas&&x.elt.style.width&&(se=x.elt.videoWidth&&!S?x.elt.videoWidth:x.elt.width,se/=parseInt(x.elt.style.width,10)),Z*=se,X*=se,te*=se,Y*=se,G=v(I,N,U,(G=h.default.modeAdjust(E,j,J,K,this._renderer._imageMode)).x,G.y,G.w,G.h,Z,X,Y,te),this._renderer.image(x,G.sx,G.sy,G.sw,G.sh,G.dx,G.dy,G.dw,G.dh)},s.default.prototype.tint=function(){for(var x=arguments.length,E=new Array(x),j=0;j<x;j++)E[j]=arguments[j];s.default._validateParameters("tint",E);var S=this.color.apply(this,E);this._renderer._tint=S.levels},s.default.prototype.noTint=function(){this._renderer._tint=null},s.default.prototype._getTintedImageCanvas=s.default.Renderer2D.prototype._getTintedImageCanvas,s.default.prototype.imageMode=function(x){s.default._validateParameters("imageMode",arguments),x!==m.CORNER&&x!==m.CORNERS&&x!==m.CENTER||(this._renderer._imageMode=x)},t=s.default,d.default=t},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/helpers":263,"../core/main":267,"core-js/modules/es.array.copy-within":150,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,gifenc:237,omggif:240,"regenerator-runtime/runtime":244}],291:[function(t,f,d){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=s(t("../core/main")),u=s(t("./filters"));function s(h){return h&&h.__esModule?h:{default:h}}i.default.Image=function(h,m){this.width=h,this.height=m,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},i.default.Image.prototype._animateGif=function(c){var m,g=this.gifProperties,c=c._lastFrameTime;g.lastChangeTime===0&&(g.lastChangeTime=c),g.playing&&(g.timeDisplayed=c-g.lastChangeTime,m=g.frames[g.displayIndex].delay,g.timeDisplayed>=m&&(m=Math.floor(g.timeDisplayed/m),g.timeDisplayed=0,g.lastChangeTime=c,g.displayIndex+=m,g.loopCount=Math.floor(g.displayIndex/g.numFrames),g.loopLimit!==null&&g.loopCount>=g.loopLimit?g.playing=!1:(c=g.displayIndex%g.numFrames,this.drawingContext.putImageData(g.frames[c].image,0,0),g.displayIndex=c,this.setModified(!0))))},i.default.Image.prototype._setProperty=function(h,m){this[h]=m,this.setModified(!0)},i.default.Image.prototype.loadPixels=function(){i.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},i.default.Image.prototype.updatePixels=function(h,m,g,c){i.default.Renderer2D.prototype.updatePixels.call(this,h,m,g,c),this.setModified(!0)},i.default.Image.prototype.get=function(h,m,g,c){return i.default._validateParameters("p5.Image.get",arguments),i.default.Renderer2D.prototype.get.apply(this,arguments)},i.default.Image.prototype._getPixel=i.default.Renderer2D.prototype._getPixel,i.default.Image.prototype.set=function(h,m,g){i.default.Renderer2D.prototype.set.call(this,h,m,g),this.setModified(!0)},i.default.Image.prototype.resize=function(h,m){h===0&&m===0?(h=this.canvas.width,m=this.canvas.height):h===0?h=this.canvas.width*m/this.canvas.height:m===0&&(m=this.canvas.height*h/this.canvas.width),h=Math.floor(h),m=Math.floor(m);var g=document.createElement("canvas");if(g.width=h,g.height=m,this.gifProperties)for(var c=this.gifProperties,l=0;l<c.numFrames;l++){for(var a=this.drawingContext.createImageData(h,m),p=(j=j=E=x=w=void 0,c.frames[l].image),v=a,w=0,x=0;x<v.height;x++)for(var E=0;E<v.width;E++){var j=Math.floor(E*p.width/v.width),j=4*(Math.floor(x*p.height/v.height)*p.width+j);v.data[w++]=p.data[j++],v.data[w++]=p.data[j++],v.data[w++]=p.data[j++],v.data[w++]=p.data[+j]}c.frames[l].image=a}g.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,g.width,g.height),this.canvas.width=this.width=h,this.canvas.height=this.height=m,this.drawingContext.drawImage(g,0,0,h,m,0,0,h,m),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},i.default.Image.prototype.copy=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];i.default.prototype.copy.apply(this,m)},i.default.Image.prototype.mask=function(h){var m=this.drawingContext.globalCompositeOperation,g=1,c=[h=h===void 0?this:h,0,0,(g=h instanceof i.default.Renderer?h._pInst._pixelDensity:g)*h.width,g*h.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var l=0;l<this.gifProperties.frames.length;l++)this.drawingContext.putImageData(this.gifProperties.frames[l].image,0,0),i.default.Image.prototype.copy.apply(this,c),this.gifProperties.frames[l].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else i.default.Image.prototype.copy.apply(this,c);this.drawingContext.globalCompositeOperation=m,this.setModified(!0)},i.default.Image.prototype.filter=function(h,m){u.default.apply(this.canvas,u.default[h],m),this.setModified(!0)},i.default.Image.prototype.blend=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];i.default._validateParameters("p5.Image.blend",arguments),i.default.prototype.blend.apply(this,m),this.setModified(!0)},i.default.Image.prototype.setModified=function(h){this._modified=h},i.default.Image.prototype.isModified=function(){return this._modified},i.default.Image.prototype.save=function(h,m){this.gifProperties?i.default.prototype.encodeAndDownloadGif(this,h):i.default.prototype.saveCanvas(this.canvas,h,m)},i.default.Image.prototype.reset=function(){var h;this.gifProperties&&((h=this.gifProperties).playing=!0,h.timeSinceStart=0,h.timeDisplayed=0,h.lastChangeTime=0,h.loopCount=0,h.displayIndex=0,this.drawingContext.putImageData(h.frames[0].image,0,0))},i.default.Image.prototype.getCurrentFrame=function(){var h;if(this.gifProperties)return(h=this.gifProperties).displayIndex%h.numFrames},i.default.Image.prototype.setFrame=function(h){var m;this.gifProperties&&(h<(m=this.gifProperties).numFrames&&0<=h?(m.timeDisplayed=0,m.lastChangeTime=0,m.displayIndex=h,this.drawingContext.putImageData(m.frames[h].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))},i.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},i.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},i.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},i.default.Image.prototype.delay=function(h,m){if(this.gifProperties){var g=this.gifProperties;if(m<g.numFrames&&0<=m)g.frames[m].delay=h;else{var c=!0,m=!1,l=void 0;try{for(var a,p=g.frames[Symbol.iterator]();!(c=(a=p.next()).done);c=!0)a.value.delay=h}catch(w){m=!0,l=w}finally{try{c||p.return==null||p.return()}finally{if(m)throw l}}}}},t=i.default.Image,d.default=t},{"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],292:[function(t,f,d){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=s(t("../core/main")),u=s(t("./filters"));function s(h){return h&&h.__esModule?h:{default:h}}t("../color/p5.Color"),i.default.prototype.pixels=[],i.default.prototype.blend=function(){for(var h,m=arguments.length,g=new Array(m),c=0;c<m;c++)g[c]=arguments[c];i.default._validateParameters("blend",g),this._renderer?(h=this._renderer).blend.apply(h,g):i.default.Renderer2D.prototype.blend.apply(this,g)},i.default.prototype.copy=function(){for(var h,m,g,c,l,a,p,v,w,x=arguments.length,E=new Array(x),j=0;j<x;j++)E[j]=arguments[j];if(i.default._validateParameters("copy",E),E.length===9)h=E[0],m=E[1],g=E[2],c=E[3],l=E[4],a=E[5],p=E[6],v=E[7],w=E[8];else{if(E.length!==8)throw new Error("Signature not supported");h=this,m=E[0],g=E[1],c=E[2],l=E[3],a=E[4],p=E[5],v=E[6],w=E[7]}i.default.prototype._copyHelper(this,h,m,g,c,l,a,p,v,w)},i.default.prototype._copyHelper=function(h,m,g,c,l,a,p,v,w,x){m.loadPixels();var E=m.canvas.width/m.width,j=0,S=0;m._renderer&&m._renderer.isP3D&&(j=m.width/2,S=m.height/2),h._renderer&&h._renderer.isP3D?i.default.RendererGL.prototype.image.call(h._renderer,m,g+j,c+S,l,a,p,v,w,x):h.drawingContext.drawImage(m.canvas,E*(g+j),E*(c+S),E*l,E*a,p,v,w,x)},i.default.prototype.filter=function(h,m){i.default._validateParameters("filter",arguments),this.canvas!==void 0?u.default.apply(this.canvas,u.default[h],m):u.default.apply(this.elt,u.default[h],m)},i.default.prototype.get=function(h,m,g,c){var l;return i.default._validateParameters("get",arguments),(l=this._renderer).get.apply(l,arguments)},i.default.prototype.loadPixels=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];i.default._validateParameters("loadPixels",m),this._renderer.loadPixels()},i.default.prototype.set=function(h,m,g){this._renderer.set(h,m,g)},i.default.prototype.updatePixels=function(h,m,g,c){i.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(h,m,g,c)},t=i.default,d.default=t},{"../color/p5.Color":254,"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153}],293:[function(t,f,d){function i(a){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var u=m(t("../core/main")),s=(t("whatwg-fetch"),t("es6-promise/auto"),m(t("fetch-jsonp"))),h=m(t("file-saver"));function m(a){return a&&a.__esModule?a:{default:a}}function g(a){return(g=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(p){return i(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":i(p)})(a)}function c(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function l(a,p){p&&p!==!0&&p!=="true"||(p="");var v="";return(a=a||"untitled")&&a.includes(".")&&(v=a.split(".").pop()),p&&v!==p&&(v=p,a="".concat(a,".").concat(v)),[a,v]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadJSON=function(){for(var a=arguments.length,p=new Array(a),v=0;v<a;v++)p[v]=arguments[v];u.default._validateParameters("loadJSON",p);for(var w,x,E,j=p[0],S={},R="json",M=1;M<p.length;M++){var P=p[M];typeof P=="string"?P!=="jsonp"&&P!=="json"||(R=P):typeof P=="function"?w?x=P:w=P:g(P)==="object"&&(P.hasOwnProperty("jsonpCallback")||P.hasOwnProperty("jsonpCallbackFunction"))&&(R="jsonp",E=P)}var k=this;return this.httpDo(j,"GET",E,R,function(D){for(var I in D)S[I]=D[I];w!==void 0&&w(D),k._decrementPreload()},function(D){if(u.default._friendlyFileLoadError(5,j),!x)throw D;x(D)}),S},u.default.prototype.loadStrings=function(){for(var a=arguments.length,p=new Array(a),v=0;v<a;v++)p[v]=arguments[v];u.default._validateParameters("loadStrings",p);for(var w,x,E=[],j=1;j<p.length;j++){var S=p[j];typeof S=="function"&&(w===void 0?w=S:x===void 0&&(x=S))}var R=this;return u.default.prototype.httpDo.call(this,p[0],"GET","text",function(M){for(var P=M.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),k=0,D=P.length;k<D;k+=32768)Array.prototype.push.apply(E,P.slice(k,Math.min(k+32768,D)));w!==void 0&&w(E),R._decrementPreload()},function(M){if(u.default._friendlyFileLoadError(3,M),!x)throw M;x(M)}),E},u.default.prototype.loadTable=function(a){var p,v,w,x=!1,E=a.substring(a.lastIndexOf(".")+1,a.length);E==="csv"?w=",":E==="ssv"?w=";":E==="tsv"&&(w="	");for(var j=1;j<arguments.length;j++)typeof arguments[j]=="function"?p===void 0?p=arguments[j]:v===void 0&&(v=arguments[j]):typeof arguments[j]=="string"&&(arguments[j]==="header"&&(x=!0),arguments[j]==="csv"?w=",":arguments[j]==="ssv"?w=";":arguments[j]==="tsv"&&(w="	"));var S=new u.default.Table,R=this;return this.httpDo(a,"GET","table",function(M){for(var P,k,D={},I=0,N=[],U=0,G=null,J=function(){D.currentState=I,D.token=""},K=function(){G.push(D.token),J()},Z=function(){D.currentState=4,N.push(G),G=null};;){if((P=M[U++])==null){if(D.escaped)throw new Error("Unclosed quote in file.");if(G){K(),Z();break}}if(G===null&&(D.escaped=!1,G=[],J()),D.currentState===I){if(P==='"'){D.escaped=!0,D.currentState=1;continue}D.currentState=1}if(D.currentState===1&&D.escaped)if(P==='"')M[U]==='"'?(D.token+='"',U++):(D.escaped=!1,D.currentState=2);else{if(P==="\r")continue;D.token+=P}else P==="\r"?(M[U]===`
`&&U++,K(),Z()):P===`
`?(K(),Z()):P===w?K():D.currentState===1&&(D.token+=P)}if(x)S.columns=N.shift();else for(var X=0;X<N[0].length;X++)S.columns[X]="null";for(var Y=0;Y<N.length;Y++)(N[Y].length!==1||N[Y][0]!=="undefined"&&N[Y][0]!=="")&&((k=new u.default.TableRow).arr=N[Y],k.obj=function(te,se){var me={};if((se=se||[])===void 0)for(var A=0;A<te.length;A++)se[A.toString()]=A;for(var L=0;L<se.length;L++){var H=se[L],$=te[L];me[H]=$}return me}(N[Y],S.columns),S.addRow(k));typeof p=="function"&&p(S),R._decrementPreload()},function(M){u.default._friendlyFileLoadError(2,a),v?v(M):console.error(M)}),S},u.default.prototype.loadXML=function(){for(var a=arguments.length,p=new Array(a),v=0;v<a;v++)p[v]=arguments[v];for(var w,x,E=new u.default.XML,j=1;j<p.length;j++){var S=p[j];typeof S=="function"&&(w===void 0?w=S:x===void 0&&(x=S))}var R=this;return this.httpDo(p[0],"GET","xml",function(M){for(var P in M)E[P]=M[P];w!==void 0&&w(E),R._decrementPreload()},function(M){if(u.default._friendlyFileLoadError(1,M),!x)throw M;x(M)}),E},u.default.prototype.loadBytes=function(a,p,v){var w={},x=this;return this.httpDo(a,"GET","arrayBuffer",function(E){w.bytes=new Uint8Array(E),typeof p=="function"&&p(w),x._decrementPreload()},function(E){if(u.default._friendlyFileLoadError(6,a),!v)throw E;v(E)}),w},u.default.prototype.httpGet=function(){u.default._validateParameters("httpGet",arguments);var a=Array.prototype.slice.call(arguments);return a.splice(1,0,"GET"),u.default.prototype.httpDo.apply(this,a)},u.default.prototype.httpPost=function(){u.default._validateParameters("httpPost",arguments);var a=Array.prototype.slice.call(arguments);return a.splice(1,0,"POST"),u.default.prototype.httpDo.apply(this,a)},u.default.prototype.httpDo=function(){for(var a,p,v,w={},x=0,E="text/plain",j=arguments.length-1;0<j&&typeof(j<0||arguments.length<=j?void 0:arguments[j])=="function";j--)x++;var S=arguments.length-x,R=arguments.length<=0?void 0:arguments[0];if(S==2&&typeof R=="string"&&g(arguments.length<=1?void 0:arguments[1])==="object")N=new Request(R,arguments.length<=1?void 0:arguments[1]),p=arguments.length<=2?void 0:arguments[2],v=arguments.length<=3?void 0:arguments[3];else{for(var M,P="GET",k=1;k<arguments.length;k++){var D=k<0||arguments.length<=k?void 0:arguments[k];if(typeof D=="string")D==="GET"||D==="POST"||D==="PUT"||D==="DELETE"?P=D:D==="json"||D==="jsonp"||D==="binary"||D==="arrayBuffer"||D==="xml"||D==="text"||D==="table"?a=D:M=D;else if(typeof D=="number")M=D.toString();else if(g(D)==="object")if(D.hasOwnProperty("jsonpCallback")||D.hasOwnProperty("jsonpCallbackFunction"))for(var I in D)w[I]=D[I];else E=D instanceof u.default.XML?(M=D.serialize(),"application/xml"):(M=JSON.stringify(D),"application/json");else typeof D=="function"&&(p?v=D:p=D)}var S=P==="GET"?new Headers:new Headers({"Content-Type":E}),N=new Request(R,{method:P,mode:"cors",body:M,headers:S})}return(S=(S=(a=a||(R.includes("json")?"json":R.includes("xml")?"xml":"text"))==="jsonp"?(0,s.default)(R,w):fetch(N)).then(function(U){if(!U.ok)throw(G=new Error(U.body)).status=U.status,G.ok=!1,G;var G=0;switch((G=a!=="jsonp"?U.headers.get("content-length"):G)&&64e6<G&&u.default._friendlyFileLoadError(7,R),a){case"json":case"jsonp":return U.json();case"binary":return U.blob();case"arrayBuffer":return U.arrayBuffer();case"xml":return U.text().then(function(J){return J=new DOMParser().parseFromString(J,"text/xml"),new u.default.XML(J.documentElement)});default:return U.text()}})).then(p||function(){}),S.catch(v||console.error),S},window.URL=window.URL||window.webkitURL,u.default.prototype._pWriters=[],u.default.prototype.createWriter=function(a,p){var v,w;for(w in u.default.prototype._pWriters)if(u.default.prototype._pWriters[w].name===a)return v=new u.default.PrintWriter(a+this.millis(),p),u.default.prototype._pWriters.push(v),v;return v=new u.default.PrintWriter(a,p),u.default.prototype._pWriters.push(v),v},u.default.PrintWriter=function(a,p){var v=this;this.name=a,this.content="",this.write=function(w){this.content+=w},this.print=function(w){this.content+="".concat(w,`
`)},this.clear=function(){this.content=""},this.close=function(){var w,x=[];for(w in x.push(this.content),u.default.prototype.writeFile(x,a,p),u.default.prototype._pWriters)u.default.prototype._pWriters[w].name===this.name&&u.default.prototype._pWriters.splice(w,1);v.clear(),v={}}},u.default.prototype.save=function(a,p,v){var w=arguments,x=(this._curElement||this).elt;if(w.length===0)u.default.prototype.saveCanvas(x);else if(w[0]instanceof u.default.Renderer||w[0]instanceof u.default.Graphics)u.default.prototype.saveCanvas(w[0].elt,w[1],w[2]);else if(w.length===1&&typeof w[0]=="string")u.default.prototype.saveCanvas(x,w[0]);else switch(l(w[1],w[2])[1]){case"json":return void u.default.prototype.saveJSON(w[0],w[1],w[2]);case"txt":return void u.default.prototype.saveStrings(w[0],w[1],w[2]);default:w[0]instanceof Array?u.default.prototype.saveStrings(w[0],w[1],w[2]):w[0]instanceof u.default.Table?u.default.prototype.saveTable(w[0],w[1],w[2]):w[0]instanceof u.default.Image?u.default.prototype.saveCanvas(w[0].canvas,w[1]):w[0]instanceof u.default.SoundFile&&u.default.prototype.saveSound(w[0],w[1],w[2],w[3])}},u.default.prototype.saveJSON=function(a,p,v){u.default._validateParameters("saveJSON",arguments),v=v?JSON.stringify(a):JSON.stringify(a,void 0,2),this.saveStrings(v.split(`
`),p,"json")},u.default.prototype.saveJSONObject=u.default.prototype.saveJSON,u.default.prototype.saveJSONArray=u.default.prototype.saveJSON,u.default.prototype.saveStrings=function(a,p,v,w){u.default._validateParameters("saveStrings",arguments);for(var x=this.createWriter(p,v||"txt"),E=0;E<a.length;E++)w?x.write(a[E]+`\r
`):x.write(a[E]+`
`);x.close(),x.clear()},u.default.prototype.saveTable=function(a,p,v){u.default._validateParameters("saveTable",arguments),w=v===void 0?p.substring(p.lastIndexOf(".")+1,p.length):v;var w,x=this.createWriter(p,w),E=a.columns,j=w==="tsv"?"	":",";if(w!=="html"){if(E[0]!=="0"){for(var S=0;S<E.length;S++)S<E.length-1?x.write(E[S]+j):x.write(E[S]);x.write(`
`)}for(var R=0;R<a.rows.length;R++){for(var M=void 0,M=0;M<a.rows[R].arr.length;M++)M<a.rows[R].arr.length-1?w==="csv"&&String(a.rows[R].arr[M]).includes(",")?x.write('"'+a.rows[R].arr[M]+'"'+j):x.write(a.rows[R].arr[M]+j):w==="csv"&&String(a.rows[R].arr[M]).includes(",")?x.write('"'+a.rows[R].arr[M]+'"'):x.write(a.rows[R].arr[M]);x.write(`
`)}}else{if(x.print("<html>"),x.print("<head>"),x.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),x.print("</head>"),x.print("<body>"),x.print("  <table>"),E[0]!=="0"){x.print("    <tr>");for(var P=0;P<E.length;P++){var k=c(E[P]);x.print("      <td>".concat(k)),x.print("      </td>")}x.print("    </tr>")}for(var D=0;D<a.rows.length;D++){x.print("    <tr>");for(var I=0;I<a.columns.length;I++){var N=c(a.rows[D].getString(I));x.print("      <td>".concat(N)),x.print("      </td>")}x.print("    </tr>")}x.print("  </table>"),x.print("</body>"),x.print("</html>")}x.close(),x.clear()},u.default.prototype.writeFile=function(x,p,v){var w="application/octet-stream",x=(u.default.prototype._isSafari()&&(w="text/plain"),new Blob(x,{type:w}));u.default.prototype.downloadFile(x,p,v)},u.default.prototype.downloadFile=function(a,x,E){var w,x=l(x,E),E=x[0];a instanceof Blob?h.default.saveAs(a,E):((w=document.createElement("a")).href=a,w.download=E,w.onclick=function(j){document.body.removeChild(j.target),j.stopPropagation()},w.style.display="none",document.body.appendChild(w),u.default.prototype._isSafari()&&(a=(a=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(x[1],'"'),alert(a)),w.click())},u.default.prototype._checkFileExtension=l,u.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},t=u.default,d.default=t},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232,"es6-promise/auto":233,"fetch-jsonp":235,"file-saver":236,"whatwg-fetch":245}],294:[function(t,f,d){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.Table=function(u){this.columns=[],this.rows=[]},i.default.Table.prototype.addRow=function(u){if(u=u||new i.default.TableRow,u.arr===void 0||u.obj===void 0)throw new Error("invalid TableRow: ".concat(u));return(u.table=this).rows.push(u),u},i.default.Table.prototype.removeRow=function(u){this.rows[u].table=null,u=this.rows.splice(u+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(u)},i.default.Table.prototype.getRow=function(u){return this.rows[u]},i.default.Table.prototype.getRows=function(){return this.rows},i.default.Table.prototype.findRow=function(u,s){if(typeof s=="string"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].obj[s]===u)return this.rows[h]}else for(var m=0;m<this.rows.length;m++)if(this.rows[m].arr[s]===u)return this.rows[m];return null},i.default.Table.prototype.findRows=function(u,s){var h=[];if(typeof s=="string")for(var m=0;m<this.rows.length;m++)this.rows[m].obj[s]===u&&h.push(this.rows[m]);else for(var g=0;g<this.rows.length;g++)this.rows[g].arr[s]===u&&h.push(this.rows[g]);return h},i.default.Table.prototype.matchRow=function(u,s){if(typeof s=="number"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].arr[s].match(u))return this.rows[h]}else for(var m=0;m<this.rows.length;m++)if(this.rows[m].obj[s].match(u))return this.rows[m];return null},i.default.Table.prototype.matchRows=function(u,s){var h=[];if(typeof s=="number")for(var m=0;m<this.rows.length;m++)this.rows[m].arr[s].match(u)&&h.push(this.rows[m]);else for(var g=0;g<this.rows.length;g++)this.rows[g].obj[s].match(u)&&h.push(this.rows[g]);return h},i.default.Table.prototype.getColumn=function(u){var s=[];if(typeof u=="string")for(var h=0;h<this.rows.length;h++)s.push(this.rows[h].obj[u]);else for(var m=0;m<this.rows.length;m++)s.push(this.rows[m].arr[u]);return s},i.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},i.default.Table.prototype.addColumn=function(u){this.columns.push(u||null)},i.default.Table.prototype.getColumnCount=function(){return this.columns.length},i.default.Table.prototype.getRowCount=function(){return this.rows.length},i.default.Table.prototype.removeTokens=function(u,s){for(var h=[],m=0;m<u.length;m++)h.push(u.charAt(m).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var g=new RegExp(h.join("|"),"g");if(s===void 0)for(var c=0;c<this.columns.length;c++)for(var l=0;l<this.rows.length;l++){var a=(a=this.rows[l].arr[c]).replace(g,"");this.rows[l].arr[c]=a,this.rows[l].obj[this.columns[c]]=a}else if(typeof s=="string")for(var p=0;p<this.rows.length;p++){var v=(v=this.rows[p].obj[s]).replace(g,""),w=(this.rows[p].obj[s]=v,this.columns.indexOf(s));this.rows[p].arr[w]=v}else for(var x=0;x<this.rows.length;x++){var E=(E=this.rows[x].arr[s]).replace(g,"");this.rows[x].arr[s]=E,this.rows[x].obj[this.columns[s]]=E}},i.default.Table.prototype.trim=function(u){var s=new RegExp(" ","g");if(u===void 0)for(var h=0;h<this.columns.length;h++)for(var m=0;m<this.rows.length;m++){var g=(g=this.rows[m].arr[h]).replace(s,"");this.rows[m].arr[h]=g,this.rows[m].obj[this.columns[h]]=g}else if(typeof u=="string")for(var c=0;c<this.rows.length;c++){var l=(l=this.rows[c].obj[u]).replace(s,""),a=(this.rows[c].obj[u]=l,this.columns.indexOf(u));this.rows[c].arr[a]=l}else for(var p=0;p<this.rows.length;p++){var v=(v=this.rows[p].arr[u]).replace(s,"");this.rows[p].arr[u]=v,this.rows[p].obj[this.columns[u]]=v}},i.default.Table.prototype.removeColumn=function(m){typeof m=="string"?h=this.columns.indexOf(s=m):s=this.columns[h=m];var s,h,m=this.columns.splice(h+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(m);for(var g=0;g<this.rows.length;g++){var c=this.rows[g].arr,l=c.splice(h+1,c.length);c.pop(),this.rows[g].arr=c.concat(l),delete this.rows[g].obj[s]}},i.default.Table.prototype.set=function(u,s,h){this.rows[u].set(s,h)},i.default.Table.prototype.setNum=function(u,s,h){this.rows[u].setNum(s,h)},i.default.Table.prototype.setString=function(u,s,h){this.rows[u].setString(s,h)},i.default.Table.prototype.get=function(u,s){return this.rows[u].get(s)},i.default.Table.prototype.getNum=function(u,s){return this.rows[u].getNum(s)},i.default.Table.prototype.getString=function(u,s){return this.rows[u].getString(s)},i.default.Table.prototype.getObject=function(u){for(var s,h={},m=0;m<this.rows.length;m++)if(s=this.rows[m].obj,typeof u=="string"){if(!(0<=this.columns.indexOf(u)))throw new Error('This table has no column named "'.concat(u,'"'));h[s[u]]=s}else h[m]=this.rows[m].obj;return h},i.default.Table.prototype.getArray=function(){for(var u=[],s=0;s<this.rows.length;s++)u.push(this.rows[s].arr);return u},t=i.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],295:[function(t,f,d){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.TableRow=function(i,u){var s=[],h={};i&&(s=i.split(u=u||","));for(var m=0;m<s.length;m++){var g=m,c=s[m];h[g]=c}this.arr=s,this.obj=h,this.table=null},t.default.TableRow.prototype.set=function(i,u){if(typeof i=="string"){var s=this.table.columns.indexOf(i);if(!(0<=s))throw new Error('This table has no column named "'.concat(i,'"'));this.obj[i]=u,this.arr[s]=u}else{if(!(i<this.table.columns.length))throw new Error("Column #".concat(i," is out of the range of this table"));this.arr[i]=u,s=this.table.columns[i],this.obj[s]=u}},t.default.TableRow.prototype.setNum=function(i,u){u=parseFloat(u),this.set(i,u)},t.default.TableRow.prototype.setString=function(i,u){u=u.toString(),this.set(i,u)},t.default.TableRow.prototype.get=function(i){return(typeof i=="string"?this.obj:this.arr)[i]},t.default.TableRow.prototype.getNum=function(i){var u=parseFloat(typeof i=="string"?this.obj[i]:this.arr[i]);if(u.toString()==="NaN")throw"Error: ".concat(this.obj[i]," is NaN (Not a Number)");return u},t.default.TableRow.prototype.getString=function(i){return(typeof i=="string"?this.obj:this.arr)[i].toString()},t=t.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],296:[function(t,f,d){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(s){for(var h=[],m=0;m<s.length;m++)h.push(new i.default.XML(s[m]));return h}i.default.XML=function(s){s?this.DOM=s:(s=document.implementation.createDocument(null,"doc"),this.DOM=s.createElement("root"))},i.default.XML.prototype.getParent=function(){return new i.default.XML(this.DOM.parentElement)},i.default.XML.prototype.getName=function(){return this.DOM.tagName},i.default.XML.prototype.setName=function(s){var h=this.DOM.innerHTML,m=this.DOM.attributes,g=document.implementation.createDocument(null,"default").createElement(s);g.innerHTML=h;for(var c=0;c<m.length;c++)g.setAttribute(m[c].nodeName,m.nodeValue);this.DOM=g},i.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},i.default.XML.prototype.listChildren=function(){for(var s=[],h=0;h<this.DOM.childNodes.length;h++)s.push(this.DOM.childNodes[h].nodeName);return s},i.default.XML.prototype.getChildren=function(s){return u(s?this.DOM.getElementsByTagName(s):this.DOM.children)},i.default.XML.prototype.getChild=function(s){if(typeof s!="string")return new i.default.XML(this.DOM.children[s]);var h=!0,m=!1,g=void 0;try{for(var c,l=this.DOM.children[Symbol.iterator]();!(h=(c=l.next()).done);h=!0){var a=c.value;if(a.tagName===s)return new i.default.XML(a)}}catch(p){m=!0,g=p}finally{try{h||l.return==null||l.return()}finally{if(m)throw g}}},i.default.XML.prototype.addChild=function(s){s instanceof i.default.XML&&this.DOM.appendChild(s.DOM)},i.default.XML.prototype.removeChild=function(s){var h=-1;if(typeof s=="string"){for(var m=0;m<this.DOM.children.length;m++)if(this.DOM.children[m].tagName===s){h=m;break}}else h=s;h!==-1&&this.DOM.removeChild(this.DOM.children[h])},i.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},i.default.XML.prototype.listAttributes=function(){var s=[],h=!0,m=!1,g=void 0;try{for(var c,l=this.DOM.attributes[Symbol.iterator]();!(h=(c=l.next()).done);h=!0){var a=c.value;s.push(a.nodeName)}}catch(p){m=!0,g=p}finally{try{h||l.return==null||l.return()}finally{if(m)throw g}}return s},i.default.XML.prototype.hasAttribute=function(s){var h={},m=!0,g=!1,c=void 0;try{for(var l,a=this.DOM.attributes[Symbol.iterator]();!(m=(l=a.next()).done);m=!0){var p=l.value;h[p.nodeName]=p.nodeValue}}catch(v){g=!0,c=v}finally{try{m||a.return==null||a.return()}finally{if(g)throw c}}return!!h[s]},i.default.XML.prototype.getNum=function(s,h){var m={},g=!0,c=!1,l=void 0;try{for(var a,p=this.DOM.attributes[Symbol.iterator]();!(g=(a=p.next()).done);g=!0){var v=a.value;m[v.nodeName]=v.nodeValue}}catch(w){c=!0,l=w}finally{try{g||p.return==null||p.return()}finally{if(c)throw l}}return Number(m[s])||h||0},i.default.XML.prototype.getString=function(s,h){var m={},g=!0,c=!1,l=void 0;try{for(var a,p=this.DOM.attributes[Symbol.iterator]();!(g=(a=p.next()).done);g=!0){var v=a.value;m[v.nodeName]=v.nodeValue}}catch(w){c=!0,l=w}finally{try{g||p.return==null||p.return()}finally{if(c)throw l}}return m[s]?String(m[s]):h||null},i.default.XML.prototype.setAttribute=function(s,h){this.DOM.setAttribute(s,h)},i.default.XML.prototype.getContent=function(s){var h=this.DOM.textContent;return(h=h.replace(/\s\s+/g,","))||s||null},i.default.XML.prototype.setContent=function(s){this.DOM.children.length||(this.DOM.textContent=s)},i.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)},t=i.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],297:[function(t,f,d){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var s=arguments.length,h=[],m=0,g=0;g<s;g++){var c=arguments[g];if((c=+c)===1/0||c===-1/0)return 1/0;m<(c=Math.abs(c))&&(m=c),h[g]=c}m===0&&(m=1);for(var w=0,v=0,l=0;l<s;l++)var a=h[l]/m,a=a*a-v,p=w+a,v=p-w-a,w=p;return Math.sqrt(w)*m}i.default.prototype.abs=Math.abs,i.default.prototype.ceil=Math.ceil,i.default.prototype.constrain=function(s,h,m){return i.default._validateParameters("constrain",arguments),Math.max(Math.min(s,m),h)},i.default.prototype.dist=function(){for(var s=arguments.length,h=new Array(s),m=0;m<s;m++)h[m]=arguments[m];return i.default._validateParameters("dist",h),h.length===4?u(h[2]-h[0],h[3]-h[1]):h.length===6?u(h[3]-h[0],h[4]-h[1],h[5]-h[2]):void 0},i.default.prototype.exp=Math.exp,i.default.prototype.floor=Math.floor,i.default.prototype.lerp=function(s,h,m){return i.default._validateParameters("lerp",arguments),m*(h-s)+s},i.default.prototype.log=Math.log,i.default.prototype.mag=function(s,h){return i.default._validateParameters("mag",arguments),u(s,h)},i.default.prototype.map=function(s,h,m,g,c,l){return i.default._validateParameters("map",arguments),s=(s-h)/(m-h)*(c-g)+g,l?g<c?this.constrain(s,g,c):this.constrain(s,c,g):s},i.default.prototype.max=function(){for(var s=arguments.length,h=new Array(s),m=0;m<s;m++)h[m]=arguments[m];return h[0]instanceof Array?Math.max.apply(null,h[0]):Math.max.apply(null,h)},i.default.prototype.min=function(){for(var s=arguments.length,h=new Array(s),m=0;m<s;m++)h[m]=arguments[m];return h[0]instanceof Array?Math.min.apply(null,h[0]):Math.min.apply(null,h)},i.default.prototype.norm=function(s,h,m){return i.default._validateParameters("norm",arguments),this.map(s,h,m,0,1)},i.default.prototype.pow=Math.pow,i.default.prototype.round=function(s,h){return h?(h=Math.pow(10,h),Math.round(s*h)/h):Math.round(s)},i.default.prototype.sq=function(s){return s*s},i.default.prototype.sqrt=Math.sqrt,i.default.prototype.fract=function(g){i.default._validateParameters("fract",arguments);var h,m=0,g=Number(g);return isNaN(g)||Math.abs(g)===1/0?g:(g<0&&(g=-g,m=1),String(g).includes(".")&&!String(g).includes("e")?(h=String(g),h=+("0"+h.slice(h.indexOf("."))),Math.abs(m-h)):g<1?Math.abs(m-g):0)},t=i.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.constructor":169,"core-js/modules/es.string.includes":185}],298:[function(t,f,d){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(h,m,g){return(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(c,l,a){var p=[null];return p.push.apply(p,l),l=new(Function.bind.apply(c,p)),a&&s(l,a.prototype),l}).apply(null,arguments)}function s(h,m){return(s=Object.setPrototypeOf||function(g,c){return g.__proto__=c,g})(h,m)}i.default.prototype.createVector=function(h,m,g){return this instanceof i.default?u(i.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new i.default.Vector(h,m,g)},t=i.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],299:[function(g,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,g=(g=g("../core/main"))&&g.__esModule?g:{default:g};function i(c){return .5*(1-Math.cos(c*Math.PI))}var u,s=4095,h=4,m=.5,g=(g.default.prototype.noise=function(c){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(u==null){u=new Array(4096);for(var p=0;p<4096;p++)u[p]=Math.random()}c<0&&(c=-c),l<0&&(l=-l),a<0&&(a=-a);for(var v,w,x=Math.floor(c),E=Math.floor(l),j=Math.floor(a),S=c-x,R=l-E,M=a-j,P=0,k=.5,D=0;D<h;D++){var I=x+(E<<4)+(j<<8),N=i(S),U=i(R),G=u[I&s];G+=N*(u[I+1&s]-G),v=u[I+16&s],G+=U*((v+=N*(u[I+16+1&s]-v))-G),v=u[(I+=256)&s],v+=N*(u[I+1&s]-v),w=u[I+16&s],v+=U*((w+=N*(u[I+16+1&s]-w))-v),P+=(G+=i(M)*(v-G))*k,k*=m,x<<=1,E<<=1,j<<=1,1<=(S*=2)&&(x++,S--),1<=(R*=2)&&(E++,R--),1<=(M*=2)&&(j++,M--)}return P},g.default.prototype.noiseDetail=function(c,l){0<c&&(h=c),0<l&&(m=l)},g.default.prototype.noiseSeed=function(c){p=4294967296;var l,a,p,v={setSeed:function(x){a=l=(x??Math.random()*p)>>>0},getSeed:function(){return l},rand:function(){return(a=(1664525*a+1013904223)%p)/p}};v.setSeed(c),u=new Array(4096);for(var w=0;w<4096;w++)u[w]=v.rand()},g.default);d.default=g},{"../core/main":267}],300:[function(t,f,d){function i(a){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(a)}function u(a){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(p){return i(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":i(p)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.sub"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(l=t("../core/main"))&&l.__esModule?l:{default:l},h=function(a){if(a&&a.__esModule)return a;if(a===null||u(a)!=="object"&&typeof a!="function")return{default:a};var p=m();if(p&&p.has(a))return p.get(a);var v,w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in a){var E;Object.prototype.hasOwnProperty.call(a,v)&&((E=x?Object.getOwnPropertyDescriptor(a,v):null)&&(E.get||E.set)?Object.defineProperty(w,v,E):w[v]=a[v])}return w.default=a,p&&p.set(a,w),w}(t("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}s.default.Vector=function(){var a,p,v={}.toString.call(arguments[0])==="[object Function]"?(this.isPInst=!0,this._fromRadians=arguments[0],this._toRadians=arguments[1],a=arguments[2]||0,p=arguments[3]||0,arguments[4]||0):(a=arguments[0]||0,p=arguments[1]||0,arguments[2]||0);this.x=a,this.y=p,this.z=v},s.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},s.default.Vector.prototype.set=function(a,p,v){return a instanceof s.default.Vector?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):a instanceof Array?(this.x=a[0]||0,this.y=a[1]||0,this.z=a[2]||0):(this.x=a||0,this.y=p||0,this.z=v||0),this},s.default.Vector.prototype.copy=function(){return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new s.default.Vector(this.x,this.y,this.z)},s.default.Vector.prototype.add=function(a,p,v){return a instanceof s.default.Vector?(this.x+=a.x||0,this.y+=a.y||0,this.z+=a.z||0):a instanceof Array?(this.x+=a[0]||0,this.y+=a[1]||0,this.z+=a[2]||0):(this.x+=a||0,this.y+=p||0,this.z+=v||0),this};function g(a,p){return a!==0&&(this.x=this.x%a),p!==0&&(this.y=this.y%p),this}function c(a,p,v){return a!==0&&(this.x=this.x%a),p!==0&&(this.y=this.y%p),v!==0&&(this.z=this.z%v),this}s.default.Vector.prototype.rem=function(a,p,v){var w;if(a instanceof s.default.Vector){if(Number.isFinite(a.x)&&Number.isFinite(a.y)&&Number.isFinite(a.z))return x=parseFloat(a.x),E=parseFloat(a.y),w=parseFloat(a.z),c.call(this,x,E,w)}else if(a instanceof Array){if(a.every(function(j){return Number.isFinite(j)}))return a.length===2?g.call(this,a[0],a[1]):a.length===3?c.call(this,a[0],a[1],a[2]):void 0}else if(arguments.length===1){if(Number.isFinite(a)&&a!==0)return this.x=this.x%a,this.y=this.y%a,this.z=this.z%a,this}else if(arguments.length===2){var x=Array.prototype.slice.call(arguments);if(x.every(function(j){return Number.isFinite(j)})&&x.length===2)return g.call(this,x[0],x[1])}else if(arguments.length===3){var E=Array.prototype.slice.call(arguments);if(E.every(function(j){return Number.isFinite(j)})&&E.length===3)return c.call(this,E[0],E[1],E[2])}},s.default.Vector.prototype.sub=function(a,p,v){return a instanceof s.default.Vector?(this.x-=a.x||0,this.y-=a.y||0,this.z-=a.z||0):a instanceof Array?(this.x-=a[0]||0,this.y-=a[1]||0,this.z-=a[2]||0):(this.x-=a||0,this.y-=p||0,this.z-=v||0),this},s.default.Vector.prototype.mult=function(a,p,v){var w;return a instanceof s.default.Vector?Number.isFinite(a.x)&&Number.isFinite(a.y)&&Number.isFinite(a.z)&&typeof a.x=="number"&&typeof a.y=="number"&&typeof a.z=="number"?(this.x*=a.x,this.y*=a.y,this.z*=a.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):a instanceof Array?a.every(function(x){return Number.isFinite(x)})&&a.every(function(x){return typeof x=="number"})?a.length===1?(this.x*=a[0],this.y*=a[0],this.z*=a[0]):a.length===2?(this.x*=a[0],this.y*=a[1]):a.length===3&&(this.x*=a[0],this.y*=a[1],this.z*=a[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(w=Array.prototype.slice.call(arguments)).every(function(x){return Number.isFinite(x)})&&w.every(function(x){return typeof x=="number"})?(arguments.length===1&&(this.x*=a,this.y*=a,this.z*=a),arguments.length===2&&(this.x*=a,this.y*=p),arguments.length===3&&(this.x*=a,this.y*=p,this.z*=v)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},s.default.Vector.prototype.div=function(a,p,v){if(a instanceof s.default.Vector)if(Number.isFinite(a.x)&&Number.isFinite(a.y)&&Number.isFinite(a.z)&&typeof a.x=="number"&&typeof a.y=="number"&&typeof a.z=="number"){var w=a.z===0&&this.z===0;if(a.x===0||a.y===0||!w&&a.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=a.x,this.y/=a.y,w||(this.z/=a.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(a instanceof Array)if(a.every(function(x){return Number.isFinite(x)})&&a.every(function(x){return typeof x=="number"})){if(a.some(function(x){return x===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;a.length===1?(this.x/=a[0],this.y/=a[0],this.z/=a[0]):a.length===2?(this.x/=a[0],this.y/=a[1]):a.length===3&&(this.x/=a[0],this.y/=a[1],this.z/=a[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(w=Array.prototype.slice.call(arguments),w.every(function(x){return Number.isFinite(x)})&&w.every(function(x){return typeof x=="number"})){if(w.some(function(x){return x===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=a,this.y/=a,this.z/=a),arguments.length===2&&(this.x/=a,this.y/=p),arguments.length===3&&(this.x/=a,this.y/=p,this.z/=v)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},s.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},s.default.Vector.prototype.magSq=function(){var a=this.x,p=this.y,v=this.z;return a*a+p*p+v*v},s.default.Vector.prototype.dot=function(a,p,v){return a instanceof s.default.Vector?this.dot(a.x,a.y,a.z):this.x*(a||0)+this.y*(p||0)+this.z*(v||0)},s.default.Vector.prototype.cross=function(w){var p=this.y*w.z-this.z*w.y,v=this.z*w.x-this.x*w.z,w=this.x*w.y-this.y*w.x;return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,p,v,w):new s.default.Vector(p,v,w)},s.default.Vector.prototype.dist=function(a){return a.copy().sub(this).mag()},s.default.Vector.prototype.normalize=function(){var a=this.mag();return a!==0&&this.mult(1/a),this},s.default.Vector.prototype.limit=function(a){var p=this.magSq();return a*a<p&&this.div(Math.sqrt(p)).mult(a),this},s.default.Vector.prototype.setMag=function(a){return this.normalize().mult(a)},s.default.Vector.prototype.heading=function(){var a=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(a):a},s.default.Vector.prototype.setHeading=function(a){this.isPInst&&(a=this._toRadians(a));var p=this.mag();return this.x=p*Math.cos(a),this.y=p*Math.sin(a),this},s.default.Vector.prototype.rotate=function(p){var p=this.heading()+p,v=(this.isPInst&&(p=this._toRadians(p)),this.mag());return this.x=Math.cos(p)*v,this.y=Math.sin(p)*v,this},s.default.Vector.prototype.angleBetween=function(a){var p=this.dot(a)/(this.mag()*a.mag()),p=Math.acos(Math.min(1,Math.max(-1,p)));return p*=Math.sign(this.cross(a).z||1),p=this.isPInst?this._fromRadians(p):p},s.default.Vector.prototype.lerp=function(a,p,v,w){return a instanceof s.default.Vector?this.lerp(a.x,a.y,a.z,p):(this.x+=(a-this.x)*w||0,this.y+=(p-this.y)*w||0,this.z+=(v-this.z)*w||0,this)},s.default.Vector.prototype.reflect=function(a){return a.normalize(),this.sub(a.mult(2*this.dot(a)))},s.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},s.default.Vector.prototype.equals=function(E,p,v){var w,x,E=E instanceof s.default.Vector?(w=E.x||0,x=E.y||0,E.z||0):E instanceof Array?(w=E[0]||0,x=E[1]||0,E[2]||0):(w=E||0,x=p||0,v||0);return this.x===w&&this.y===x&&this.z===E},s.default.Vector.fromAngle=function(a,p){return new s.default.Vector((p=p===void 0?1:p)*Math.cos(a),p*Math.sin(a),0)},s.default.Vector.fromAngles=function(j,x,v){v===void 0&&(v=1);var w=Math.cos(x),x=Math.sin(x),E=Math.cos(j),j=Math.sin(j);return new s.default.Vector(v*j*x,-v*E,v*j*w)},s.default.Vector.random2D=function(){return this.fromAngle(Math.random()*h.TWO_PI)},s.default.Vector.random3D=function(){var a=Math.random()*h.TWO_PI,p=2*Math.random()-1,w=Math.sqrt(1-p*p),v=w*Math.cos(a),w=w*Math.sin(a);return new s.default.Vector(v,w,p)},s.default.Vector.copy=function(a){return a.copy(a)},s.default.Vector.add=function(a,p,v){return v?v.set(a):(v=a.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),v.add(p),v},s.default.Vector.rem=function(a,p){if(a instanceof s.default.Vector&&p instanceof s.default.Vector)return(a=a.copy()).rem(p),a},s.default.Vector.sub=function(a,p,v){return v?v.set(a):(v=a.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),v.sub(p),v},s.default.Vector.mult=function(a,p,v){return v?v.set(a):(v=a.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),v.mult(p),v},s.default.Vector.rotate=function(a,p,v){return arguments.length===2?v=a.copy():(v instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),v.set(a)),v.rotate(p),v},s.default.Vector.div=function(a,p,v){return v?v.set(a):(v=a.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),v.div(p),v},s.default.Vector.dot=function(a,p){return a.dot(p)},s.default.Vector.cross=function(a,p){return a.cross(p)},s.default.Vector.dist=function(a,p){return a.dist(p)},s.default.Vector.lerp=function(a,p,v,w){return w?w.set(a):(w=a.copy(),arguments.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),w.lerp(p,v),w},s.default.Vector.mag=function(a){return a.mag()},s.default.Vector.magSq=function(a){return a.magSq()},s.default.Vector.normalize=function(a,p){return arguments.length<2?p=a.copy():(p instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),p.set(a)),p.normalize()},s.default.Vector.limit=function(a,p,v){return arguments.length<3?v=a.copy():(v instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),v.set(a)),v.limit(p)},s.default.Vector.setMag=function(a,p,v){return arguments.length<3?v=a.copy():(v instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),v.set(a)),v.setMag(p)},s.default.Vector.heading=function(a){return a.heading()},s.default.Vector.angleBetween=function(a,p){return a.angleBetween(p)},s.default.Vector.reflect=function(a,p,v){return arguments.length<3?v=a.copy():(v instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),v.set(a)),v.reflect(p)},s.default.Vector.array=function(a){return a.array()},s.default.Vector.equals=function(a,p){var v;return a instanceof s.default.Vector?v=a:a instanceof Array?v=new s.default.Vector().set(a):s.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),v.equals(p)};var l=s.default.Vector;d.default=l},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":168,"core-js/modules/es.number.constructor":169,"core-js/modules/es.number.is-finite":170,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],301:[function(m,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(m=m("../core/main"))&&m.__esModule?m:{default:m},u="_lcg_random_state",s=4294967296,h=0,m=(i.default.prototype._lcg=function(g){return this[g]=(1664525*this[g]+1013904223)%s,this[g]/s},i.default.prototype._lcgSetSeed=function(g,c){this[g]=(c??Math.random()*s)>>>0},i.default.prototype.randomSeed=function(g){this._lcgSetSeed(u,g),this._gaussian_previous=!1},i.default.prototype.random=function(g,c){var l,a;return i.default._validateParameters("random",arguments),l=this[u]!=null?this._lcg(u):Math.random(),g===void 0?l:c===void 0?g instanceof Array?g[Math.floor(l*g.length)]:l*g:(c<g&&(a=g,g=c,c=a),l*(c-g)+g)},i.default.prototype.randomGaussian=function(g){var c,l,a,p,v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)c=h,this._gaussian_previous=!1;else{for(;1<=(p=(l=this.random(2)-1)*l+(a=this.random(2)-1)*a););c=l*(p=Math.sqrt(-2*Math.log(p)/p)),h=a*p,this._gaussian_previous=!0}return c*v+(g||0)},i.default);d.default=m},{"../core/main":267}],302:[function(t,f,d){function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function u(c){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(g=t("../core/main"))&&g.__esModule?g:{default:g},h=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var l=m();if(l&&l.has(c))return l.get(c);var a,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in c){var w;Object.prototype.hasOwnProperty.call(c,a)&&((w=v?Object.getOwnPropertyDescriptor(c,a):null)&&(w.get||w.set)?Object.defineProperty(p,a,w):p[a]=c[a])}return p.default=c,l&&l.set(c,p),p}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}s.default.prototype._angleMode=h.RADIANS,s.default.prototype.acos=function(c){return this._fromRadians(Math.acos(c))},s.default.prototype.asin=function(c){return this._fromRadians(Math.asin(c))},s.default.prototype.atan=function(c){return this._fromRadians(Math.atan(c))},s.default.prototype.atan2=function(c,l){return this._fromRadians(Math.atan2(c,l))},s.default.prototype.cos=function(c){return Math.cos(this._toRadians(c))},s.default.prototype.sin=function(c){return Math.sin(this._toRadians(c))},s.default.prototype.tan=function(c){return Math.tan(this._toRadians(c))},s.default.prototype.degrees=function(c){return c*h.RAD_TO_DEG},s.default.prototype.radians=function(c){return c*h.DEG_TO_RAD},s.default.prototype.angleMode=function(c){if(s.default._validateParameters("angleMode",arguments),c===void 0)return this._angleMode;c!==h.DEGREES&&c!==h.RADIANS||(this._angleMode=c)},s.default.prototype._toRadians=function(c){return this._angleMode===h.DEGREES?c*h.DEG_TO_RAD:c},s.default.prototype._toDegrees=function(c){return this._angleMode===h.RADIANS?c*h.RAD_TO_DEG:c},s.default.prototype._fromRadians=function(c){return this._angleMode===h.DEGREES?c*h.RAD_TO_DEG:c};var g=s.default;d.default=g},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],303:[function(t,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.prototype.textAlign=function(u,s){var h;return i.default._validateParameters("textAlign",arguments),(h=this._renderer).textAlign.apply(h,arguments)},i.default.prototype.textLeading=function(u){var s;return i.default._validateParameters("textLeading",arguments),(s=this._renderer).textLeading.apply(s,arguments)},i.default.prototype.textSize=function(u){var s;return i.default._validateParameters("textSize",arguments),(s=this._renderer).textSize.apply(s,arguments)},i.default.prototype.textStyle=function(u){var s;return i.default._validateParameters("textStyle",arguments),(s=this._renderer).textStyle.apply(s,arguments)},i.default.prototype.textWidth=function(){for(var u,s=arguments.length,h=new Array(s),m=0;m<s;m++)h[m]=arguments[m];return h[0]+="",i.default._validateParameters("textWidth",h),h[0].length===0?0:(u=this._renderer).textWidth.apply(u,h)},i.default.prototype.textAscent=function(){for(var u=arguments.length,s=new Array(u),h=0;h<u;h++)s[h]=arguments[h];return i.default._validateParameters("textAscent",s),this._renderer.textAscent()},i.default.prototype.textDescent=function(){for(var u=arguments.length,s=new Array(u),h=0;h<u;h++)s[h]=arguments[h];return i.default._validateParameters("textDescent",s),this._renderer.textDescent()},i.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},i.default.prototype.textWrap=function(u){if(u!=="WORD"&&u!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(u)},t=i.default,d.default=t},{"../core/main":267}],304:[function(t,f,d){function i(a){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(a)}function u(a){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(p){return i(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":i(p)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(l=t("../core/main"))&&l.__esModule?l:{default:l},h=c(t("../core/constants")),m=c(t("opentype.js"));function g(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,g=function(){return a},a)}function c(a){if(a&&a.__esModule)return a;if(a===null||u(a)!=="object"&&typeof a!="function")return{default:a};var p=g();if(p&&p.has(a))return p.get(a);var v,w,x={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in a)Object.prototype.hasOwnProperty.call(a,v)&&((w=E?Object.getOwnPropertyDescriptor(a,v):null)&&(w.get||w.set)?Object.defineProperty(x,v,w):x[v]=a[v]);return x.default=a,p&&p.set(a,x),x}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(a,p,v){s.default._validateParameters("loadFont",arguments);var w=new s.default.Font(this),x=this;return m.load(a,function(S,R){if(S)return s.default._friendlyFileLoadError(4,a),v!==void 0?v(S):void console.error(S,a);w.font=R,p!==void 0&&p(w),x._decrementPreload();var S=a.split("\\").pop().split("/").pop(),R=S.lastIndexOf("."),M=R<1?null:S.slice(R+1);["ttf","otf","woff","woff2"].includes(M)&&(M=S.slice(0,R!==-1?R:0),(S=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(M,`;
src: url(`).concat(a,`);
}
`))),document.head.appendChild(S))}),w},s.default.prototype.text=function(a,p,v,w,x){var E;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(E=this._renderer).text.apply(E,arguments):this},s.default.prototype.textFont=function(a,p){if(s.default._validateParameters("textFont",arguments),arguments.length){if(a)return this._renderer._setProperty("_textFont",a),p&&(this._renderer._setProperty("_textSize",p),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",p*h._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var l=s.default;d.default=l},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,"opentype.js":241}],305:[function(t,f,d){function i(M){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(M)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var u=(u=t("../core/main"))&&u.__esModule?u:{default:u},s=function(M){if(M&&M.__esModule)return M;if(M===null||m(M)!=="object"&&typeof M!="function")return{default:M};var P=h();if(P&&P.has(M))return P.get(M);var k,D={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in M){var N;Object.prototype.hasOwnProperty.call(M,k)&&((N=I?Object.getOwnPropertyDescriptor(M,k):null)&&(N.get||N.set)?Object.defineProperty(D,k,N):D[k]=M[k])}return D.default=M,P&&P.set(M,D),D}(t("../core/constants"));function h(){var M;return typeof WeakMap!="function"?null:(M=new WeakMap,h=function(){return M},M)}function m(M){return(m=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(P){return i(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":i(P)})(M)}function g(M,P){var k=M.length;return M[P<0?P%k+k:P%k]}function c(M,P,k,D){var I,N,U;return D?(c.tmpPoint1===void 0&&(c.tmpPoint1=[],c.tmpPoint2=[]),N=c.tmpPoint1,U=c.tmpPoint2,N.x=P.x-M.x,N.y=P.y-M.y,U.x=k.x-P.x,U.y=k.y-P.y,I=N.x*U.x+N.y*U.y,N=Math.sqrt(N.x*N.x+N.y*N.y),U=Math.sqrt(U.x*U.x+U.y*U.y),Math.acos(I/(N*U))<D):(P[0]-M[0])*(k[1]-M[1])-(k[0]-M[0])*(P[1]-M[1])==0}function l(A,H,L,$,ie,N,U,G,J){var K=1-J,X=Math.pow(K,3),Y=Math.pow(K,2),me=J*J,te=me*J,Z=X*A+3*Y*J*L+3*K*J*J*ie+te*U,X=X*H+3*Y*J*$+3*K*J*J*N+te*G,Y=A+2*J*(L-A)+me*(ie-2*L+A),te=H+2*J*($-H)+me*(N-2*$+H),se=L+2*J*(ie-L)+me*(U-2*ie+L),me=$+2*J*(N-$)+me*(G-2*N+$),A=K*A+J*L,L=K*H+J*$,H=K*ie+J*U,$=K*N+J*G,ie=90-180*Math.atan2(Y-se,te-me)/Math.PI;return(se<Y||te<me)&&(ie+=180),{x:Z,y:X,m:{x:Y,y:te},n:{x:se,y:me},start:{x:A,y:L},end:{x:H,y:$},alpha:ie}}function a(M,P,k,D,I,N,U,G,J){return J==null?S(M,P,k,D,I,N,U,G):l(M,P,k,D,I,N,U,G,function(K,Z,X,Y,te,se,me,A,L){if(!(L<0||S(K,Z,X,Y,te,se,me,A)<L)){var H,$=.5,ie=1-$;for(H=S(K,Z,X,Y,te,se,me,A,ie);.01<Math.abs(H-L);)H=S(K,Z,X,Y,te,se,me,A,ie+=(H<L?1:-1)*($/=2));return ie}}(M,P,k,D,I,N,U,G,J))}function p(M,P,k){for(var D,I,N,U,G,J=0,K=0,Z=(M=function(X,Y){function te(ge,pe,je){var Se,Ce;if(!ge)return["C",pe.x,pe.y,pe.x,pe.y,pe.x,pe.y];switch(ge[0]in{T:1,Q:1}||(pe.qx=pe.qy=null),ge[0]){case"M":pe.X=ge[1],pe.Y=ge[2];break;case"A":ge=["C"].concat(w.apply(0,[pe.x,pe.y].concat(ge.slice(1))));break;case"S":Ce=je==="C"||je==="S"?(Se=2*pe.x-pe.bx,2*pe.y-pe.by):(Se=pe.x,pe.y),ge=["C",Se,Ce].concat(ge.slice(1));break;case"T":je==="Q"||je==="T"?(pe.qx=2*pe.x-pe.qx,pe.qy=2*pe.y-pe.qy):(pe.qx=pe.x,pe.qy=pe.y),ge=["C"].concat(j(pe.x,pe.y,pe.qx,pe.qy,ge[1],ge[2]));break;case"Q":pe.qx=ge[1],pe.qy=ge[2],ge=["C"].concat(j(pe.x,pe.y,ge[1],ge[2],ge[3],ge[4]));break;case"L":ge=["C"].concat(E(pe.x,pe.y,ge[1],ge[2]));break;case"H":ge=["C"].concat(E(pe.x,pe.y,ge[1],pe.y));break;case"V":ge=["C"].concat(E(pe.x,pe.y,pe.x,ge[1]));break;case"Z":ge=["C"].concat(E(pe.x,pe.y,pe.X,pe.Y))}return ge}function se(ge,pe){if(7<ge[pe].length){ge[pe].shift();for(var je=ge[pe];je.length;)ye[pe]="A",H&&(ve[pe]="A"),ge.splice(pe++,0,["C"].concat(je.splice(0,6)));ge.splice(pe,1),A=Math.max(L.length,H&&H.length||0)}}function me(ge,pe,je,Se,Ce){ge&&pe&&ge[Ce][0]==="M"&&pe[Ce][0]!=="M"&&(pe.splice(Ce,0,["M",Se.x,Se.y]),je.bx=0,je.by=0,je.x=ge[Ce][1],je.y=ge[Ce][2],A=Math.max(L.length,H&&H.length||0))}var A,L=v(X),H=Y&&v(Y),$={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ye=[],ve=[],xe="",fe="";A=Math.max(L.length,H&&H.length||0);for(var W=0;W<A;W++){(xe=L[W]?L[W][0]:xe)!=="C"&&(ye[W]=xe,W&&(fe=ye[W-1])),L[W]=te(L[W],$,fe),ye[W]!=="A"&&xe==="C"&&(ye[W]="C"),se(L,W),H&&((xe=H[W]?H[W][0]:xe)!=="C"&&(ve[W]=xe,W&&(fe=ve[W-1])),H[W]=te(H[W],ie,fe),ve[W]!=="A"&&xe==="C"&&(ve[W]="C"),se(H,W)),me(L,H,$,ie,W),me(H,L,ie,$,W);var re=L[W],q=H&&H[W],le=re.length,ue=H&&q.length;$.x=re[le-2],$.y=re[le-1],$.bx=parseFloat(re[le-4])||$.x,$.by=parseFloat(re[le-3])||$.y,ie.bx=H&&(parseFloat(q[ue-4])||ie.x),ie.by=H&&(parseFloat(q[ue-3])||ie.y),ie.x=H&&q[ue-2],ie.y=H&&q[ue-1]}return H?[L,H]:L}(M)).length;K<Z;K++){if((N=M[K])[0]==="M")D=+N[1],I=+N[2];else{if(P<J+(U=a(D,I,N[1],N[2],N[3],N[4],N[5],N[6]))&&!k)return{x:(G=a(D,I,N[1],N[2],N[3],N[4],N[5],N[6],P-J)).x,y:G.y,alpha:G.alpha};J+=U,D=+N[5],I=+N[6]}N.shift()}return G=(G=k?J:l(D,I,N[0],N[1],N[2],N[3],N[4],N[5],1)).alpha?{x:G.x,y:G.y,alpha:G.alpha}:G}function v(M){var P=[],k=0,D=0,I=0,N=0,U=0;if(M){M[0][0]==="M"&&(I=k=+M[0][1],N=D=+M[0][2],U++,P[0]=["M",k,D]);for(var G,J,K=M.length===3&&M[0][0]==="M"&&M[1][0].toUpperCase()==="R"&&M[2][0].toUpperCase()==="Z",Z=U,X=M.length;Z<X;Z++){if(P.push(G=[]),(J=M[Z])[0]!==String.prototype.toUpperCase.call(J[0]))switch(G[0]=String.prototype.toUpperCase.call(J[0]),G[0]){case"A":G[1]=J[1],G[2]=J[2],G[3]=J[3],G[4]=J[4],G[5]=J[5],G[6]=+(J[6]+k),G[7]=+(J[7]+D);break;case"V":G[1]=+J[1]+D;break;case"H":G[1]=+J[1]+k;break;case"R":for(var Y,te=2,se=(Y=[k,D].concat(J.slice(1))).length;te<se;te++)Y[te]=+Y[te]+k,Y[++te]=+Y[te]+D;P.pop(),P=P.concat(x(Y,K));break;case"M":I=+J[1]+k,N=+J[2]+D;break;default:for(var me=1,A=J.length;me<A;me++)G[me]=+J[me]+(me%2?k:D)}else if(J[0]==="R")Y=[k,D].concat(J.slice(1)),P.pop(),P=P.concat(x(Y,K)),G=["R"].concat(J.slice(-2));else for(var L=0,H=J.length;L<H;L++)G[L]=J[L];switch(G[0]){case"Z":k=I,D=N;break;case"H":k=G[1];break;case"V":D=G[1];break;case"M":I=G[G.length-2],N=G[G.length-1];break;default:k=G[G.length-2],D=G[G.length-1]}}}return P}function w(M,P,k,D,H,ye,$,G,J,K){function Z(ue,ge,pe){return{x:ue*Math.cos(pe)-ge*Math.sin(pe),y:ue*Math.sin(pe)+ge*Math.cos(pe)}}var X,A=Math.PI,L=120*A/180,Y=A/180*(+H||0),te=[],se=(K?(W=K[0],X=K[1],xe=K[2],fe=K[3]):(M=(ie=Z(M,P,-Y)).x,P=ie.y,1<(se=(me=(M-(G=(ie=Z(G,J,-Y)).x))/2)*me/(k*k)+(ie=(P-(J=ie.y))/2)*ie/(D*D))&&(k*=se=Math.sqrt(se),D*=se),se=k*k,ve=D*D,xe=(ye=(ye===$?-1:1)*Math.sqrt(Math.abs((se*ve-se*ie*ie-ve*me*me)/(se*ie*ie+ve*me*me))))*k*ie/D+(M+G)/2,fe=ye*-D*me/k+(P+J)/2,W=Math.asin(((P-fe)/D).toFixed(9)),X=Math.asin(((J-fe)/D).toFixed(9)),(W=M<xe?A-W:W)<0&&(W=2*A+W),(X=G<xe?A-X:X)<0&&(X=2*A+X),$&&X<W&&(W-=2*A),!$&&W<X&&(X-=2*A)),X-W),me=(Math.abs(se)>L&&(ve=X,ie=G,ye=J,X=W+L*($&&W<X?1:-1),te=w(G=xe+k*Math.cos(X),J=fe+D*Math.sin(X),k,D,H,0,$,ie,ye,[X,ve,xe,fe])),se=X-W,Math.cos(W)),A=Math.sin(W),L=Math.cos(X),H=Math.sin(X),$=Math.tan(se/4),ie=4/3*k*$,ye=4/3*D*$,ve=[M,P],xe=[M+ie*A,P-ye*me],fe=[G+ie*H,J-ye*L],W=[G,J];if(xe[0]=2*ve[0]-xe[0],xe[1]=2*ve[1]-xe[1],K)return[xe,fe,W].concat(te);for(var re=[],q=0,le=(te=[xe,fe,W].concat(te).join().split(",")).length;q<le;q++)re[q]=q%2?Z(te[q-1],te[q],Y).y:Z(te[q],te[q+1],Y).x;return re}function x(M,P){for(var k=[],D=0,I=M.length;D<I-2*!P;D+=2){var N=[{x:+M[D-2],y:+M[D-1]},{x:+M[D],y:+M[D+1]},{x:+M[D+2],y:+M[D+3]},{x:+M[D+4],y:+M[D+5]}];P?D?I-4===D?N[3]={x:+M[0],y:+M[1]}:I-2===D&&(N[2]={x:+M[0],y:+M[1]},N[3]={x:+M[2],y:+M[3]}):N[0]={x:+M[I-2],y:+M[I-1]}:I-4===D?N[3]=N[2]:D||(N[0]={x:+M[D],y:+M[D+1]}),k.push(["C",(-N[0].x+6*N[1].x+N[2].x)/6,(-N[0].y+6*N[1].y+N[2].y)/6,(N[1].x+6*N[2].x-N[3].x)/6,(N[1].y+6*N[2].y-N[3].y)/6,N[2].x,N[2].y])}return k}function E(M,P,k,D){return[M,P,k,D,k,D]}function j(M,P,k,D,I,N){return[1/3*M+2/3*k,1/3*P+2/3*D,1/3*I+2/3*k,1/3*N+2/3*D,I,N]}function S(M,P,k,D,I,N,U,G,J){for(var K=(J=1<(J=J??1)?1:J<0?0:J)/2,Z=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],X=0,Y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],te=0;te<12;te++){var me=K*Z[te]+K,se=R(me,M,k,I,U),me=R(me,P,D,N,G);X+=Y[te]*Math.sqrt(se*se+me*me)}return K*X}function R(M,P,k,D,I){return M*(M*(-3*P+9*k-9*D+3*I)+6*P-12*k+6*D)-3*P+3*k}u.default.Font=function(M){this.parent=M,this.cache={},this.font=void 0},u.default.Font.prototype.textBounds=function(M){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,U=3<arguments.length?arguments[3]:void 0,D=4<arguments.length?arguments[4]:void 0,I=D&&D.renderer&&D.renderer._pInst||this.parent,N=I._renderer.drawingContext,U=(N.textAlign||s.LEFT,N.textBaseline||s.BASELINE,U||I._renderer._textSize);if(!L){for(var G=[],J=[],K=[],Z=(K[0]=[],[]),X=this._scale(U),Y=I._renderer.textLeading(),te=0,se=(this.font.forEachGlyph(M,P,k,U,D,function(ie,ye,ve,xe){var fe=ie.getMetrics();ie.index===0||ie.index===10?K[te+=1]=[]:(K[te].push(ye+fe.xMin*X),K[te].push(ye+fe.xMax*X),Z.push(ve+te*Y+-fe.yMin*X),Z.push(ve+te*Y+-fe.yMax*X))}),0<K[te].length&&(G[te]=Math.min.apply(null,K[te]),J[te]=Math.max.apply(null,K[te])),0),me=0;me<=te;me++){G[me]=Math.min.apply(null,K[me]),J[me]=Math.max.apply(null,K[me]);var A=J[me]-G[me];se<A&&(se=A)}var N=Math.min.apply(null,G),L={x:N,y:k=Math.min.apply(null,Z),h:Math.max.apply(null,Z)-k,w:se,advance:N-P},U=this._handleAlignment(I._renderer,M,L.x,L.y,L.w+L.advance);L.x=U.x,L.y=U.y}return L},u.default.Font.prototype.textToPoints=function(M,P,k,D,I){var N=0,U=[],G=this._getGlyphs(M);D=D||this.parent._renderer._textSize;for(var J,K=0;K<G.length;K++){if(!(G[J=K].name&&G[J].name==="space"||M.length===G.length&&M[J]===" "))for(var Z=function(se){for(var me,A=[],L=0;L<se.length;L++)se[L].type==="M"&&(me&&A.push(me),me=[]),me.push(function(H){var $=[H.type];return H.type==="M"||H.type==="L"?$.push(H.x,H.y):H.type==="C"?$.push(H.x1,H.y1,H.x2,H.y2,H.x,H.y):H.type==="Q"&&$.push(H.x1,H.y1,H.x,H.y),$}(se[L]));return A.push(me),A}(G[K].getPath(P,k,D).commands),X=0;X<Z.length;X++)for(var Y=function(se,me){for(var me=function(ye,ve){if(m(ye)!=="object")ye=ve;else for(var xe in ve)ye[xe]===void 0&&(ye[xe]=ve[xe]);return ye}(me,{sampleFactor:.1,simplifyThreshold:0}),A=p(se,0,1),L=A/(A*me.sampleFactor),H=[],$=0;$<A;$+=L)H.push(p(se,$));return me.simplifyThreshold&&function(ie){for(var ye=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ve=0,xe=ie.length-1;3<ie.length&&0<=xe;--xe)c(g(ie,xe-1),g(ie,xe),g(ie,xe+1),ye)&&(ie.splice(xe%ie.length,1),ve++)}(H,me.simplifyThreshold),H}(Z[X],I),te=0;te<Y.length;te++)Y[te].x+=N,U.push(Y[te]);N+=G[K].advanceWidth*this._scale(D)}return U},u.default.Font.prototype._getGlyphs=function(M){return this.font.stringToGlyphs(M)},u.default.Font.prototype._getPath=function(M,N,k,D){var I=(D&&D.renderer&&D.renderer._pInst||this.parent)._renderer,N=this._handleAlignment(I,M,N,k);return this.font.getPath(M,N.x,N.y,I._textSize,D)},u.default.Font.prototype._getPathData=function(M,P,k,D){var I=3;return typeof M=="string"&&2<arguments.length?M=this._getPath(M,P,k,D):m(P)==="object"&&(D=P),D&&typeof D.decimals=="number"&&(I=D.decimals),M.toPathData(I)},u.default.Font.prototype._getSVG=function(M,P,k,D){var I=3;return typeof M=="string"&&2<arguments.length?M=this._getPath(M,P,k,D):m(P)==="object"&&(D=P),D&&(typeof D.decimals=="number"&&(I=D.decimals),typeof D.strokeWidth=="number"&&(M.strokeWidth=D.strokeWidth),D.fill!==void 0&&(M.fill=D.fill),D.stroke!==void 0&&(M.stroke=D.stroke)),M.toSVG(I)},u.default.Font.prototype._renderPath=function(U,J,K,D){var I=D&&D.renderer||this.parent._renderer,N=I.drawingContext,U=(m(U)==="object"&&U.commands?U:this._getPath(U,J,K,D)).commands,G=(N.beginPath(),!0),J=!1,K=void 0;try{for(var Z,X=U[Symbol.iterator]();!(G=(Z=X.next()).done);G=!0){var Y=Z.value;Y.type==="M"?N.moveTo(Y.x,Y.y):Y.type==="L"?N.lineTo(Y.x,Y.y):Y.type==="C"?N.bezierCurveTo(Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y):Y.type==="Q"?N.quadraticCurveTo(Y.x1,Y.y1,Y.x,Y.y):Y.type==="Z"&&N.closePath()}}catch(te){J=!0,K=te}finally{try{G||X.return==null||X.return()}finally{if(J)throw K}}return I._doStroke&&I._strokeSet&&N.stroke(),I._doFill&&(I._fillSet||I._setFill(s._DEFAULT_TEXT_FILL),N.fill()),this},u.default.Font.prototype._textWidth=function(M,P){return this.font.getAdvanceWidth(M,P)},u.default.Font.prototype._textAscent=function(M){return this.font.ascender*this._scale(M)},u.default.Font.prototype._textDescent=function(M){return-this.font.descender*this._scale(M)},u.default.Font.prototype._scale=function(M){return 1/this.font.unitsPerEm*(M||this.parent._renderer._textSize)},u.default.Font.prototype._handleAlignment=function(M,P,k,D,I){var N=M._textSize;switch(I===void 0&&(I=this._textWidth(P,N)),M._textAlign){case s.CENTER:k-=I/2;break;case s.RIGHT:k-=I}switch(M._textBaseline){case s.TOP:D+=this._textAscent(N);break;case s.CENTER:D+=this._textAscent(N)/2;break;case s.BOTTOM:D-=this._textDescent(N)}return{x:k,y:D}},t=u.default,d.default=t},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],306:[function(t,f,d){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(i,u){return i.push(u),i},t.default.prototype.arrayCopy=function(i,u,s,h,m){var g,c;i=m!==void 0?(c=Math.min(m,i.length),g=h,i.slice(u,c+u)):(c=s!==void 0?(c=s,Math.min(c,i.length)):i.length,s=u,i.slice(g=0,c)),Array.prototype.splice.apply(s,[g,c].concat(i))},t.default.prototype.concat=function(i,u){return i.concat(u)},t.default.prototype.reverse=function(i){return i.reverse()},t.default.prototype.shorten=function(i){return i.pop(),i},t.default.prototype.shuffle=function(i,u){for(var s,h,m=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(i),g=(i=u||m?i:i.slice()).length;1<g;)s=this.random(0,1)*g|0,h=i[--g],i[g]=i[s],i[s]=h;return i},t.default.prototype.sort=function(i,h){var s=h?i.slice(0,Math.min(h,i.length)):i,h=h?i.slice(Math.min(h,i.length)):[];return(s=typeof s[0]=="string"?s.sort():s.sort(function(m,g){return m-g})).concat(h)},t.default.prototype.splice=function(i,u,s){return Array.prototype.splice.apply(i,[s,0].concat(u)),i},t.default.prototype.subset=function(i,u,s){return s!==void 0?i.slice(u,u+s):i.slice(u,i.length)},t=t.default,d.default=t},{"../core/main":267,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],307:[function(t,f,d){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.prototype.float=function(u){return u instanceof Array?u.map(parseFloat):parseFloat(u)},i.default.prototype.int=function(u){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return u===1/0||u==="Infinity"?1/0:u===-1/0||u==="-Infinity"?-1/0:typeof u=="string"?parseInt(u,s):typeof u=="number"?0|u:typeof u=="boolean"?u?1:0:u instanceof Array?u.map(function(h){return i.default.prototype.int(h,s)}):void 0},i.default.prototype.str=function(u){return u instanceof Array?u.map(i.default.prototype.str):String(u)},i.default.prototype.boolean=function(u){return typeof u=="number"?u!==0:typeof u=="string"?u.toLowerCase()==="true":typeof u=="boolean"?u:u instanceof Array?u.map(i.default.prototype.boolean):void 0},i.default.prototype.byte=function(u){return u=i.default.prototype.int(u,10),typeof u=="number"?(u+128)%256-128:u instanceof Array?u.map(i.default.prototype.byte):void 0},i.default.prototype.char=function(u){return typeof u!="number"||isNaN(u)?u instanceof Array?u.map(i.default.prototype.char):typeof u=="string"?i.default.prototype.char(parseInt(u,10)):void 0:String.fromCharCode(u)},i.default.prototype.unchar=function(u){return typeof u=="string"&&u.length===1?u.charCodeAt(0):u instanceof Array?u.map(i.default.prototype.unchar):void 0},i.default.prototype.hex=function(u,s){if(s=s??8,u instanceof Array)return u.map(function(m){return i.default.prototype.hex(m,s)});if(u===1/0||u===-1/0)return(u===1/0?"F":"0").repeat(s);if(typeof u=="number"){u<0&&(u=4294967295+u+1);for(var h=Number(u).toString(16).toUpperCase();h.length<s;)h="0".concat(h);return h=h.length>=s?h.substring(h.length-s,h.length):h}},i.default.prototype.unhex=function(u){return u instanceof Array?u.map(i.default.prototype.unhex):parseInt("0x".concat(u),16)},t=i.default,d.default=t},{"../core/main":267,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],308:[function(t,f,d){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(g=t("../core/main"))&&g.__esModule?g:{default:g};function u(v,l,a){var p=v<0,v=p?v.toString().substring(1):v.toString(),w=v.indexOf("."),x=w!==-1?v.substring(0,w):v,E=w!==-1?v.substring(w+1):"",j=p?"-":"";if(a!==void 0){p="",(w!==-1||0<a-E.length)&&(p="."),E.length>a&&(E=E.substring(0,a));for(var S=0;S<l-x.length;S++)j+="0";for(var j=(j+=x)+p+E,R=0;R<a-E.length;R++)j+="0";return j}for(var M=0;M<Math.max(l-x.length,0);M++)j+="0";return j+=v}function s(v,l){var a=(v=v.toString()).indexOf("."),p=a!==-1?v.substring(a):"",v=(v=a!==-1?v.substring(0,a):v).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(l===0)p="";else if(l!==void 0)if(l>p.length)for(var w=l-(p+=a===-1?".":"").length+1,x=0;x<w;x++)p+="0";else p=p.substring(0,l+1);return v+p}function h(c){return 0<parseFloat(c)?"+".concat(c.toString()):c.toString()}function m(c){return 0<=parseFloat(c)?" ".concat(c.toString()):c.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.join=function(c,l){return i.default._validateParameters("join",arguments),c.join(l)},i.default.prototype.match=function(c,l){return i.default._validateParameters("match",arguments),c.match(l)},i.default.prototype.matchAll=function(c,l){i.default._validateParameters("matchAll",arguments);for(var a=new RegExp(l,"g"),p=a.exec(c),v=[];p!==null;)v.push(p),p=a.exec(c);return v},i.default.prototype.nf=function(c,l,a){return i.default._validateParameters("nf",arguments),c instanceof Array?c.map(function(p){return u(p,l,a)}):Object.prototype.toString.call(c)==="[object Arguments]"?c.length===3?this.nf(c[0],c[1],c[2]):c.length===2?this.nf(c[0],c[1]):this.nf(c[0]):u(c,l,a)},i.default.prototype.nfc=function(c,l){return i.default._validateParameters("nfc",arguments),c instanceof Array?c.map(function(a){return s(a,l)}):s(c,l)},i.default.prototype.nfp=function(){for(var c=arguments.length,l=new Array(c),a=0;a<c;a++)l[a]=arguments[a];i.default._validateParameters("nfp",l);var p=i.default.prototype.nf.apply(this,l);return p instanceof Array?p.map(h):h(p)},i.default.prototype.nfs=function(){for(var c=arguments.length,l=new Array(c),a=0;a<c;a++)l[a]=arguments[a];i.default._validateParameters("nfs",l);var p=i.default.prototype.nf.apply(this,l);return p instanceof Array?p.map(m):m(p)},i.default.prototype.split=function(c,l){return i.default._validateParameters("split",arguments),c.split(l)},i.default.prototype.splitTokens=function(c,l){var a,p;return i.default._validateParameters("splitTokens",arguments),p=l!==void 0?(p=/\]/g.exec(l=l),(a=/\[/g.exec(l))&&p?(l=l.slice(0,p.index)+l.slice(p.index+1),a=/\[/g.exec(l),l=l.slice(0,a.index)+l.slice(a.index+1),new RegExp("[\\[".concat(l,"\\]]"),"g")):p?(l=l.slice(0,p.index)+l.slice(p.index+1),new RegExp("[".concat(l,"\\]]"),"g")):a?(l=l.slice(0,a.index)+l.slice(a.index+1),new RegExp("[".concat(l,"\\[]"),"g")):new RegExp("[".concat(l,"]"),"g")):/\s/g,c.split(p).filter(function(v){return v})},i.default.prototype.trim=function(c){return i.default._validateParameters("trim",arguments),c instanceof Array?c.map(this.trim):c.trim()};var g=i.default;d.default=g},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],309:[function(t,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,d.default=t},{"../core/main":267}],310:[function(t,f,d){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function u(l){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(c=t("../core/main"))&&c.__esModule?c:{default:c},h=(t("./p5.Geometry"),function(l){if(l&&l.__esModule)return l;if(l===null||u(l)!=="object"&&typeof l!="function")return{default:l};var a=m();if(a&&a.has(l))return a.get(l);var p,v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in l){var x;Object.prototype.hasOwnProperty.call(l,p)&&((x=w?Object.getOwnPropertyDescriptor(l,p):null)&&(x.get||x.set)?Object.defineProperty(v,p,x):v[p]=l[p])}return v.default=l,a&&a.set(l,v),v}(t("../core/constants")));function m(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,m=function(){return l},l)}s.default.prototype.plane=function(l,a,p,v){this._assert3d("plane"),s.default._validateParameters("plane",arguments),l===void 0&&(l=50),a===void 0&&(a=l),v===void 0&&(v=1);var w,x="plane|".concat(p=p===void 0?1:p,"|").concat(v);return this._renderer.geometryInHash(x)||((w=new s.default.Geometry(p,v,function(){for(var E,j,S=0;S<=this.detailY;S++)for(var R=S/this.detailY,M=0;M<=this.detailX;M++)E=M/this.detailX,j=new s.default.Vector(E-.5,R-.5,0),this.vertices.push(j),this.uvs.push(E,R)})).computeFaces().computeNormals(),p<=1&&v<=1?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(x,w)),this._renderer.drawBuffersScaled(x,l,a,1),this},s.default.prototype.box=function(l,a,p,v,w){this._assert3d("box"),s.default._validateParameters("box",arguments),l===void 0&&(l=50),a===void 0&&(a=l),p===void 0&&(p=a);var x,E=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,E=(w===void 0&&(w=E?1:4),"box|".concat(v=v===void 0?E?1:4:v,"|").concat(w));return this._renderer.geometryInHash(E)||((x=new s.default.Geometry(v,w,function(){var j=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var S=0;S<j.length;S++){for(var R=j[S],M=4*S,P=0;P<4;P++){var k=R[P],k=new s.default.Vector((2*(1&k)-1)/2,((2&k)-1)/2,((4&k)/2-1)/2);this.vertices.push(k),this.uvs.push(1&P,(2&P)/2)}this.faces.push([M,1+M,2+M]),this.faces.push([2+M,1+M,3+M])}})).computeNormals(),v<=4&&w<=4?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(E,x)),this._renderer.drawBuffersScaled(E,l,a,p),this},s.default.prototype.sphere=function(l,a,p){return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),this.ellipsoid(l=l===void 0?50:l,l,l,a=a===void 0?24:a,p=p===void 0?16:p),this};function g(l,a,p,v,w,x,E){l=l<=0?1:l,a=a<0?0:a,p=p<=0?l:p,v=v<3?3:v;for(var j,S,R=(x=x===void 0||x)?-2:0,M=(w=w<1?1:w)+((E=E===void 0?a!==0:E)?2:0),P=Math.atan2(l-a,p),k=Math.sin(P),D=Math.cos(P),I=R;I<=M;++I){var N=I/w,U=p*N,G=void 0,G=I<0?(N=U=0,l):w<I?(U=p,N=1,a):l+(a-l)*N;for(I!==-2&&I!==w+2||(G=0),U-=p/2,j=0;j<v;++j){var J=j/(v-1),Z=2*Math.PI*J,K=Math.sin(Z),Z=Math.cos(Z),X=(this.vertices.push(new s.default.Vector(K*G,U,Z*G)),void 0),X=I<0?new s.default.Vector(0,-1,0):w<I&&a?new s.default.Vector(0,1,0):new s.default.Vector(K*D,k,Z*D);this.vertexNormals.push(X),this.uvs.push(J,N)}}var Y=0;if(x){for(S=0;S<v;++S)this.faces.push([Y+S,Y+v+(S+1)%v,Y+v+S]);Y+=2*v}for(I=0;I<w;++I){for(j=0;j<v;++j){var te=(j+1)%v;this.faces.push([Y+j,Y+te,Y+v+te]),this.faces.push([Y+j,Y+v+te,Y+v+j])}Y+=v}if(E)for(Y+=v,j=0;j<v;++j)this.faces.push([Y+j,Y+(j+1)%v,Y+v])}s.default.prototype.cylinder=function(l,a,p,v,w,x){this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),l===void 0&&(l=50),a===void 0&&(a=l),v===void 0&&(v=1),x===void 0&&(x=!0),w===void 0&&(w=!0);var E,j="cylinder|".concat(p=p===void 0?24:p,"|").concat(v,"|").concat(w,"|").concat(x);return this._renderer.geometryInHash(j)||(E=new s.default.Geometry(p,v),g.call(E,1,1,1,p,v,w,x),p<=24&&v<=16?E._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(j,E)),this._renderer.drawBuffersScaled(j,l,a,l),this},s.default.prototype.cone=function(l,a,p,v,w){this._assert3d("cone"),s.default._validateParameters("cone",arguments),l===void 0&&(l=50),a===void 0&&(a=l),v===void 0&&(v=1),w===void 0&&(w=!0);var x,E="cone|".concat(p=p===void 0?24:p,"|").concat(v,"|").concat(w);return this._renderer.geometryInHash(E)||(x=new s.default.Geometry(p,v),g.call(x,1,0,1,p,v,w,!1),p<=24&&v<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,x)),this._renderer.drawBuffersScaled(E,l,a,l),this},s.default.prototype.ellipsoid=function(l,a,p,v,w){this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),l===void 0&&(l=50),a===void 0&&(a=l),p===void 0&&(p=l),w===void 0&&(w=16);var x,E="ellipsoid|".concat(v=v===void 0?24:v,"|").concat(w);return this._renderer.geometryInHash(E)||((x=new s.default.Geometry(v,w,function(){for(var j=0;j<=this.detailY;j++)for(var S=j/this.detailY,R=Math.PI*S-Math.PI/2,M=Math.cos(R),P=Math.sin(R),k=0;k<=this.detailX;k++){var D=k/this.detailX,N=2*Math.PI*D,I=Math.cos(N),N=Math.sin(N),N=new s.default.Vector(M*N,P,M*I);this.vertices.push(N),this.vertexNormals.push(N),this.uvs.push(D,S)}})).computeFaces(),v<=24&&w<=24?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(E,x)),this._renderer.drawBuffersScaled(E,l,a,p),this},s.default.prototype.torus=function(l,E,p,v){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),l===void 0)l=50;else if(!l)return;if(E===void 0)E=10;else if(!E)return;p===void 0&&(p=24),v===void 0&&(v=16);var w,x=(E/l).toPrecision(4),E="torus|".concat(x,"|").concat(p,"|").concat(v);return this._renderer.geometryInHash(E)||((w=new s.default.Geometry(p,v,function(){for(var j=0;j<=this.detailY;j++)for(var S=j/this.detailY,R=2*Math.PI*S,M=Math.cos(R),P=Math.sin(R),k=1+x*M,D=0;D<=this.detailX;D++){var I=D/this.detailX,N=2*Math.PI*I,G=Math.cos(N),N=Math.sin(N),U=new s.default.Vector(k*G,k*N,x*P),G=new s.default.Vector(M*G,M*N,P);this.vertices.push(U),this.vertexNormals.push(G),this.uvs.push(I,S)}})).computeFaces(),p<=24&&v<=16?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,w)),this._renderer.drawBuffersScaled(E,l,l,l),this},s.default.RendererGL.prototype.point=function(l,a,p){var v=[];return v.push(new s.default.Vector(l,a,p=p===void 0?0:p)),this._drawPoints(v,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(E){var a=E[0],p=E[1],v=E[2],w=E[3],x=E[4],E=E[5],j=(this.geometryInHash("tri")||((j=new s.default.Geometry(1,1,function(){var R=[];R.push(new s.default.Vector(0,0,0)),R.push(new s.default.Vector(1,0,0)),R.push(new s.default.Vector(0,1,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=R,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._makeTriangleEdges()._edgesToVertices(),j.computeNormals(),this.createBuffers("tri",j)),this.uMVMatrix.copy());try{var S=new s.default.Matrix([v-a,w-p,0,0,x-a,E-p,0,0,0,0,1,0,a,p,0,1]).mult(this.uMVMatrix);this.uMVMatrix=S,this.drawBuffers("tri")}finally{this.uMVMatrix=j}return this},s.default.RendererGL.prototype.ellipse=function(l){this.arc(l[0],l[1],l[2],l[3],0,h.TWO_PI,h.OPEN,l[4])},s.default.RendererGL.prototype.arc=function(l){var a,p=arguments[1],v=arguments[2],w=arguments[3],x=arguments[4],E=arguments[5],j=arguments[6],S=arguments[7]||25,R=(Math.abs(E-x)>=h.TWO_PI?"".concat(M="ellipse","|"):"".concat(M="arc","|").concat(x,"|").concat(E,"|").concat(j,"|")).concat(S,"|"),M=(this.geometryInHash(R)||((a=new s.default.Geometry(S,1,function(){if(this.strokeIndices=[],x.toFixed(10)!==E.toFixed(10)){j!==h.PIE&&j!==void 0||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var P=0;P<=S;P++){var D=(E-x)*(P/S)+x,k=.5+Math.cos(D)/2,D=.5+Math.sin(D)/2;this.vertices.push(new s.default.Vector(k,D,0)),this.uvs.push([k,D]),P<S-1&&(this.faces.push([0,P+1,P+2]),this.strokeIndices.push([P+1,P+2]))}switch(j){case h.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case h.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case h.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),S<=50?a._makeTriangleEdges()._edgesToVertices(a):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(M," with more than 50 detail")),this.createBuffers(R,a)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([l,p,0]),this.uMVMatrix.scale(v,w,1),this.drawBuffers(R)}finally{this.uMVMatrix=M}return this},s.default.RendererGL.prototype.rect=function(l){var a=l[0],p=l[1],v=l[2],w=l[3];if(l[4]===void 0){var j=this._pInst._glAttributes.perPixelLighting,x=l[4]||(j?1:24),E=l[5]||(j?1:16),j="rect|".concat(x,"|").concat(E),S=(this.geometryInHash(j)||((S=new s.default.Geometry(x,E,function(){for(var X=0;X<=this.detailY;X++)for(var Y=X/this.detailY,te=0;te<=this.detailX;te++){var se=te/this.detailX,me=new s.default.Vector(se,Y,0);this.vertices.push(me),this.uvs.push(se,Y)}0<x&&0<E&&(this.strokeIndices=[[0,x],[x,(x+1)*(E+1)-1],[(x+1)*(E+1)-1,(x+1)*E],[(x+1)*E,0]])})).computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(j,S)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([a,p,0]),this.uMVMatrix.scale(v,w,1),this.drawBuffers(j)}finally{this.uMVMatrix=S}}else{var j=l[4],S=l[5]===void 0?j:l[5],R=l[6]===void 0?S:l[6],l=l[7]===void 0?R:l[7],N=v,M=w,D=((N+=a)<a&&(D=a,a=N,N=D),(M+=p)<p&&(D=p,p=M,M=D),Math.min((N-a)/2,(M-p)/2)),P=(D<j&&(j=D),D<S&&(S=D),D<R&&(R=D),D<l&&(l=D),a),k=p,D=N,a=M,I=(this.beginShape(),S!==0?(this.vertex(D-S,k),this.quadraticVertex(D,k,D,k+S)):this.vertex(D,k),R!==0?(this.vertex(D,a-R),this.quadraticVertex(D,a,D-R,a)):this.vertex(D,a),l!==0?(this.vertex(P+l,a),this.quadraticVertex(P,a,P,a-l)):this.vertex(P,a),j!==0?(this.vertex(P,k+j),this.quadraticVertex(P,k,P+j,k)):this.vertex(P,k),!(this.immediateMode.geometry.uvs.length=0)),p=!1,N=void 0;try{for(var U,G=this.immediateMode.geometry.vertices[Symbol.iterator]();!(I=(U=G.next()).done);I=!0){var J=U.value,K=(J.x-P)/v,Z=(J.y-k)/w;this.immediateMode.geometry.uvs.push(K,Z)}}catch(A){p=!0,N=A}finally{try{I||G.return==null||G.return()}finally{if(p)throw N}}this.endShape(h.CLOSE)}return this},s.default.RendererGL.prototype.quad=function(l,a,p,v,w,x,E,j,S,R,M,P,k,D){k===void 0&&(k=2),D===void 0&&(D=2);var I="quad|".concat(l,"|").concat(a,"|").concat(p,"|").concat(v,"|").concat(w,"|").concat(x,"|").concat(E,"|").concat(j,"|").concat(S,"|").concat(R,"|").concat(M,"|").concat(P,"|").concat(k,"|").concat(D);if(!this.geometryInHash(I)){var N=new s.default.Geometry(k,D,function(){for(var X=1/(this.detailX-1),Y=1/(this.detailY-1),te=0;te<this.detailY;te++)for(var se=0;se<this.detailX;se++){var me=se*X,A=te*Y;this.vertices.push(new s.default.Vector((1-me)*((1-A)*l+A*R)+me*((1-A)*v+A*E),(1-me)*((1-A)*a+A*M)+me*((1-A)*w+A*j),(1-me)*((1-A)*p+A*P)+me*((1-A)*x+A*S))),this.uvs.push([me,A])}});N.faces=[];for(var U=0;U<D-1;U++)for(var G=0;G<k-1;G++){var J=G+U*k,K=G+1+(U+1)*k,Z=G+(U+1)*k;N.faces.push([J,G+1+U*k,K]),N.faces.push([J,K,Z])}N.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(I,N)}return this.drawBuffers(I),this},s.default.RendererGL.prototype.bezier=function(l,a,p,v,w,x,E,j,S,R,M,P){arguments.length===8&&(M=j,R=E,j=x,E=w,w=v,v=p,p=x=S=P=0);var k=this._pInst._bezierDetail||20;this.beginShape();for(var D=0;D<=k;D++){var I=Math.pow(1-D/k,3),N=D/k*3*Math.pow(1-D/k,2),U=3*Math.pow(D/k,2)*(1-D/k),G=Math.pow(D/k,3);this.vertex(l*I+v*N+E*U+R*G,a*I+w*N+j*U+M*G,p*I+x*N+S*U+P*G)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(l,a,p,v,w,x,E,j,S,R,M,P){arguments.length===8&&(R=E,M=j,E=w,j=v,w=v=p,p=x=S=P=0);var k=this._pInst._curveDetail;this.beginShape();for(var D=0;D<=k;D++){var I=.5*Math.pow(D/k,3),N=.5*Math.pow(D/k,2),U=D/k*.5;this.vertex(I*(3*v-l-3*E+R)+N*(2*l-5*v+4*E-R)+U*(-l+E)+2*v*.5,I*(3*w-a-3*j+M)+N*(2*a-5*w+4*j-M)+U*(-a+j)+2*w*.5,I*(3*x-p-3*S+P)+N*(2*p-5*x+4*S-P)+U*(-p+S)+2*x*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var l,a,p,v,w,x,E=[],j=[],S=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var R=1/this._lutBezierDetail,M=0,P=1,k=0;M<1;){if(x=parseFloat(M.toFixed(6)),this._lookUpTableBezier[k]=this._bezierCoefficients(x),P.toFixed(6)===R.toFixed(6)){x=parseFloat(P.toFixed(6))+parseFloat(M.toFixed(6)),++k,this._lookUpTableBezier[k]=this._bezierCoefficients(x);break}M+=R,P-=R,++k}}for(var D=this._lookUpTableBezier.length,I=[],N=0;N<4;N++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[3]=this.curFillColor.slice();var U=[];for(N=0;N<4;N++)U.push([]);if(U[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),U[3]=this.curStrokeColor.slice(),S===6){this.isBezier=!0;var E=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],j=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],G=Math.hypot(E[0]-E[1],j[0]-j[1]),K=Math.hypot(E[1]-E[2],j[1]-j[2]),J=Math.hypot(E[2]-E[3],j[2]-j[3]),K=G+K+J;for(G/=K,J/=K,w=0;w<4;w++)I[1].push(I[0][w]*(1-G)+I[3][w]*G),I[2].push(I[0][w]*J+I[3][w]*(1-J)),U[1].push(U[0][w]*(1-G)+U[3][w]*G),U[2].push(U[0][w]*J+U[3][w]*(1-J));for(v=0;v<D;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=a=0;N<4;N++){for(w=0;w<4;w++)this.curFillColor[w]+=this._lookUpTableBezier[v][N]*I[N][w],this.curStrokeColor[w]+=this._lookUpTableBezier[v][N]*U[N][w];l+=E[N]*this._lookUpTableBezier[v][N],a+=j[N]*this._lookUpTableBezier[v][N]}this.vertex(l,a)}this.curFillColor=I[3],this.curStrokeColor=U[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(S===9){this.isBezier=!0,E=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],j=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var Z=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],X=Math.hypot(E[0]-E[1],j[0]-j[1],Z[0]-Z[1]),K=Math.hypot(E[1]-E[2],j[1]-j[2],Z[1]-Z[2]),Y=Math.hypot(E[2]-E[3],j[2]-j[3],Z[2]-Z[3]),S=X+K+Y;for(X/=S,Y/=S,w=0;w<4;w++)I[1].push(I[0][w]*(1-X)+I[3][w]*X),I[2].push(I[0][w]*Y+I[3][w]*(1-Y)),U[1].push(U[0][w]*(1-X)+U[3][w]*X),U[2].push(U[0][w]*Y+U[3][w]*(1-Y));for(v=0;v<D;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=a=p=0;N<4;N++){for(w=0;w<4;w++)this.curFillColor[w]+=this._lookUpTableBezier[v][N]*I[N][w],this.curStrokeColor[w]+=this._lookUpTableBezier[v][N]*U[N][w];l+=E[N]*this._lookUpTableBezier[v][N],a+=j[N]*this._lookUpTableBezier[v][N],p+=Z[N]*this._lookUpTableBezier[v][N]}this.vertex(l,a,p)}this.curFillColor=I[3],this.curStrokeColor=U[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var l,a,p,v,w,x,E=[],j=[],S=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var R=1/this._lutQuadraticDetail,M=0,P=1,k=0;M<1;){if(x=parseFloat(M.toFixed(6)),this._lookUpTableQuadratic[k]=this._quadraticCoefficients(x),P.toFixed(6)===R.toFixed(6)){x=parseFloat(P.toFixed(6))+parseFloat(M.toFixed(6)),++k,this._lookUpTableQuadratic[k]=this._quadraticCoefficients(x);break}M+=R,P-=R,++k}}for(var D=this._lookUpTableQuadratic.length,I=[],N=0;N<3;N++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[2]=this.curFillColor.slice();var U=[];for(N=0;N<3;N++)U.push([]);if(U[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),U[2]=this.curStrokeColor.slice(),S===4){this.isQuadratic=!0;var E=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],j=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],G=Math.hypot(E[0]-E[1],j[0]-j[1]);for(G/=G+Math.hypot(E[1]-E[2],j[1]-j[2]),w=0;w<4;w++)I[1].push(I[0][w]*(1-G)+I[2][w]*G),U[1].push(U[0][w]*(1-G)+U[2][w]*G);for(v=0;v<D;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=a=0;N<3;N++){for(w=0;w<4;w++)this.curFillColor[w]+=this._lookUpTableQuadratic[v][N]*I[N][w],this.curStrokeColor[w]+=this._lookUpTableQuadratic[v][N]*U[N][w];l+=E[N]*this._lookUpTableQuadratic[v][N],a+=j[N]*this._lookUpTableQuadratic[v][N]}this.vertex(l,a)}this.curFillColor=I[2],this.curStrokeColor=U[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(S===6){this.isQuadratic=!0,E=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],j=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var J=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],K=Math.hypot(E[0]-E[1],j[0]-j[1],J[0]-J[1]);for(K/=K+Math.hypot(E[1]-E[2],j[1]-j[2],J[1]-J[2]),w=0;w<4;w++)I[1].push(I[0][w]*(1-K)+I[2][w]*K),U[1].push(U[0][w]*(1-K)+U[2][w]*K);for(v=0;v<D;v++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=a=p=0;N<3;N++){for(w=0;w<4;w++)this.curFillColor[w]+=this._lookUpTableQuadratic[v][N]*I[N][w],this.curStrokeColor[w]+=this._lookUpTableQuadratic[v][N]*U[N][w];l+=E[N]*this._lookUpTableQuadratic[v][N],a+=j[N]*this._lookUpTableQuadratic[v][N],p+=J[N]*this._lookUpTableQuadratic[v][N]}this.vertex(l,a,p)}this.curFillColor=I[2],this.curStrokeColor=U[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var l,a,p,v,w,x,E=[],j=[],S=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var R=1/this._lutBezierDetail,M=0,P=1,k=0;M<1;){if(x=parseFloat(M.toFixed(6)),this._lookUpTableBezier[k]=this._bezierCoefficients(x),P.toFixed(6)===R.toFixed(6)){x=parseFloat(P.toFixed(6))+parseFloat(M.toFixed(6)),++k,this._lookUpTableBezier[k]=this._bezierCoefficients(x);break}M+=R,P-=R,++k}}var D=this._lookUpTableBezier.length;if(S===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,E=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),j=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),w=0;w<D;w++)a=E[0]*this._lookUpTableBezier[w][0]+E[1]*this._lookUpTableBezier[w][1]+E[2]*this._lookUpTableBezier[w][2]+E[3]*this._lookUpTableBezier[w][3],p=j[0]*this._lookUpTableBezier[w][0]+j[1]*this._lookUpTableBezier[w][1]+j[2]*this._lookUpTableBezier[w][2]+j[3]*this._lookUpTableBezier[w][3],this.vertex(a,p);for(w=0;w<S;w++)this.immediateMode._curveVertex.shift()}}else if(S===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,E=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),j=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),l=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),w=0;w<D;w++)a=E[0]*this._lookUpTableBezier[w][0]+E[1]*this._lookUpTableBezier[w][1]+E[2]*this._lookUpTableBezier[w][2]+E[3]*this._lookUpTableBezier[w][3],p=j[0]*this._lookUpTableBezier[w][0]+j[1]*this._lookUpTableBezier[w][1]+j[2]*this._lookUpTableBezier[w][2]+j[3]*this._lookUpTableBezier[w][3],v=l[0]*this._lookUpTableBezier[w][0]+l[1]*this._lookUpTableBezier[w][1]+l[2]*this._lookUpTableBezier[w][2]+l[3]*this._lookUpTableBezier[w][3],this.vertex(a,p,v);for(w=0;w<S;w++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(l,P,p,k,w,x,E,j,S){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(l),this._pInst.textureMode(h.NORMAL);var R=0,M=(P<=l.width&&(R=P/l.width),1),P=(P+k<=l.width&&(M=(P+k)/l.width),0),k=(p<=l.height&&(P=p/l.height),1);p+w<=l.height&&(k=(p+w)/l.height),this.beginShape(),this.vertex(x,E,0,R,P),this.vertex(x+j,E,0,M,P),this.vertex(x+j,E+S,0,M,k),this.vertex(x,E+S,0,R,k),this.endShape(h.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(h.REMOVE)};var c=s.default;d.default=c},{"../core/constants":256,"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],311:[function(t,f,d){function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function u(c){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(g=t("../core/main"))&&g.__esModule?g:{default:g},h=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var l=m();if(l&&l.has(c))return l.get(c);var a,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in c){var w;Object.prototype.hasOwnProperty.call(c,a)&&((w=v?Object.getOwnPropertyDescriptor(c,a):null)&&(w.get||w.set)?Object.defineProperty(p,a,w):p[a]=c[a])}return p.default=c,l&&l.set(c,p),p}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}s.default.prototype.orbitControl=function(c,l,a){var p,v;if(this._assert3d("orbitControl"),s.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY)return p=this._renderer._curCamera,c===void 0&&(c=1),l===void 0&&(l=c),a===void 0&&(a=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0)),v=this.height<this.width?this.height:this.width,this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,a*v):this._renderer._curCamera._orbit(0,0,-a*v)),this.mouseIsPressed&&(this.mouseButton===this.LEFT?(a=-c*(this.mouseX-this.pmouseX)/v,v=l*(this.mouseY-this.pmouseY)/v,this._renderer._curCamera._orbit(a,v,0)):this.mouseButton===this.RIGHT&&(a=p._getLocalAxes(),(v=Math.sqrt(a.x[0]*a.x[0]+a.x[2]*a.x[2]))!==0&&(a.x[0]/=v,a.x[2]/=v),(v=Math.sqrt(a.y[0]*a.y[0]+a.y[2]*a.y[2]))!==0&&(a.y[0]/=v,a.y[2]/=v),v=-1*c*(this.mouseX-this.pmouseX),c=-1*l*(this.mouseY-this.pmouseY),p.setPosition(p.eyeX+v*a.x[0]+c*a.z[0],p.eyeY,p.eyeZ+v*a.x[2]+c*a.z[2]))),this},s.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var c=arguments.length,l=new Array(c),a=0;a<c;a++)l[a]=arguments[a];s.default._validateParameters("debugMode",l);for(var p=this._registeredMethods.post.length-1;0<=p;p--)this._registeredMethods.post[p].toString()!==this._grid().toString()&&this._registeredMethods.post[p].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(p,1);l[0]===h.GRID?this.registerMethod("post",this._grid.call(this,l[1],l[2],l[3],l[4],l[5])):l[0]===h.AXES?this.registerMethod("post",this._axesIcon.call(this,l[1],l[2],l[3],l[4])):(this.registerMethod("post",this._grid.call(this,l[0],l[1],l[2],l[3],l[4])),this.registerMethod("post",this._axesIcon.call(this,l[5],l[6],l[7],l[8])))},s.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1)},s.default.prototype._grid=function(c,l,a,p,v){c===void 0&&(c=this.width/2),l===void 0&&(l=Math.round(c/30)<4?4:Math.round(c/30)),a===void 0&&(a=0),p===void 0&&(p=0),v===void 0&&(v=0);var w=c/l,x=c/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var E=0;E<=l;E++)this.beginShape(this.LINES),this.vertex(-x+a,p,E*w-x+v),this.vertex(x+a,p,E*w-x+v),this.endShape();for(var j=0;j<=l;j++)this.beginShape(this.LINES),this.vertex(j*w-x+a,p,-x+v),this.vertex(j*w-x+a,p,x+v),this.endShape();this.pop()}},s.default.prototype._axesIcon=function(c,l,a,p){return c===void 0&&(c=40<this.width/20?this.width/20:40),l===void 0&&(l=-this.width/4),a===void 0&&(a=l),p===void 0&&(p=l),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(l,a,p),this.vertex(l+c,a,p),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(l,a,p),this.vertex(l,a+c,p),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(l,a,p),this.vertex(l,a,p+c),this.endShape(),this.pop()}};var g=s.default;d.default=g},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],312:[function(t,f,d){function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function u(c){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(g=t("../core/main"))&&g.__esModule?g:{default:g},h=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var l=m();if(l&&l.has(c))return l.get(c);var a,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in c){var w;Object.prototype.hasOwnProperty.call(c,a)&&((w=v?Object.getOwnPropertyDescriptor(c,a):null)&&(w.get||w.set)?Object.defineProperty(p,a,w):p[a]=c[a])}return p.default=c,l&&l.set(c,p),p}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}s.default.prototype.ambientLight=function(c,l,a,p){this._assert3d("ambientLight"),s.default._validateParameters("ambientLight",arguments);var v=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(v._array[0],v._array[1],v._array[2]),this._renderer._enableLighting=!0,this},s.default.prototype.specularColor=function(c,l,a){this._assert3d("specularColor"),s.default._validateParameters("specularColor",arguments);var p=this.color.apply(this,arguments);return this._renderer.specularColors=[p._array[0],p._array[1],p._array[2]],this},s.default.prototype.directionalLight=function(c,S,j,p,v,w){this._assert3d("directionalLight"),s.default._validateParameters("directionalLight",arguments),c=c instanceof s.default.Color?c:this.color(c,S,j);var x,E,S=arguments[arguments.length-1],j=typeof S=="number"?(x=arguments[arguments.length-3],E=arguments[arguments.length-2],arguments[arguments.length-1]):(x=S.x,E=S.y,S.z),S=Math.sqrt(x*x+E*E+j*j);return this._renderer.directionalLightDirections.push(x/S,E/S,j/S),this._renderer.directionalLightDiffuseColors.push(c._array[0],c._array[1],c._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.pointLight=function(c,j,S,p,v,w){this._assert3d("pointLight"),s.default._validateParameters("pointLight",arguments),c=c instanceof s.default.Color?c:this.color(c,j,S);var x,E,j=arguments[arguments.length-1],S=typeof j=="number"?(x=arguments[arguments.length-3],E=arguments[arguments.length-2],arguments[arguments.length-1]):(x=j.x,E=j.y,j.z);return this._renderer.pointLightPositions.push(x,E,S),this._renderer.pointLightDiffuseColors.push(c._array[0],c._array[1],c._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.lights=function(){var c;return this._assert3d("lights"),this._colorMode===h.RGB?(this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1)):(c=this._colorMaxes[this._colorMode][2],this.ambientLight(0,0,c),this.directionalLight(0,0,c,0,0,-1)),this},s.default.prototype.lightFalloff=function(c,l,a){return this._assert3d("lightFalloff"),s.default._validateParameters("lightFalloff",arguments),c<0&&(c=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),l<0&&(l=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),a<0&&(a=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),c===0&&l===0&&a===0&&(c=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=c,this._renderer.linearAttenuation=l,this._renderer.quadraticAttenuation=a,this},s.default.prototype.spotLight=function(c,l,a,p,v,w,x,E,j,S,R){this._assert3d("spotLight"),s.default._validateParameters("spotLight",arguments);var M,P,k,D=arguments.length;switch(D){case 11:case 10:M=this.color(c,l,a),P=new s.default.Vector(p,v,w),k=new s.default.Vector(x,E,j);break;case 9:c instanceof s.default.Color?(M=c,P=new s.default.Vector(l,a,p),k=new s.default.Vector(v,w,x),S=E,R=j):p instanceof s.default.Vector?(M=this.color(c,l,a),P=p,k=new s.default.Vector(v,w,x),S=E,R=j):x instanceof s.default.Vector?(M=this.color(c,l,a),P=new s.default.Vector(p,v,w),k=x,S=E,R=j):(M=this.color(c,l,a),P=new s.default.Vector(p,v,w),k=new s.default.Vector(x,E,j));break;case 8:S=(k=c instanceof s.default.Color?(M=c,P=new s.default.Vector(l,a,p),new s.default.Vector(v,w,x)):p instanceof s.default.Vector?(M=this.color(c,l,a),P=p,new s.default.Vector(v,w,x)):(M=this.color(c,l,a),P=new s.default.Vector(p,v,w),x),E);break;case 7:c instanceof s.default.Color&&l instanceof s.default.Vector?(M=c,P=l,k=new s.default.Vector(a,p,v),S=w,R=x):c instanceof s.default.Color&&v instanceof s.default.Vector?(M=c,P=new s.default.Vector(l,a,p),k=v,S=w,R=x):p instanceof s.default.Vector&&v instanceof s.default.Vector?(M=this.color(c,l,a),P=p,k=v,S=w,R=x):k=c instanceof s.default.Color?(M=c,P=new s.default.Vector(l,a,p),new s.default.Vector(v,w,x)):p instanceof s.default.Vector?(M=this.color(c,l,a),P=p,new s.default.Vector(v,w,x)):(M=this.color(c,l,a),P=new s.default.Vector(p,v,w),x);break;case 6:p instanceof s.default.Vector&&v instanceof s.default.Vector?(M=this.color(c,l,a),P=p,k=v,S=w):c instanceof s.default.Color&&v instanceof s.default.Vector?(M=c,P=new s.default.Vector(l,a,p),k=v,S=w):c instanceof s.default.Color&&l instanceof s.default.Vector&&(M=c,P=l,k=new s.default.Vector(a,p,v),S=w);break;case 5:c instanceof s.default.Color&&l instanceof s.default.Vector&&a instanceof s.default.Vector?(M=c,P=l,k=a,S=p,R=v):p instanceof s.default.Vector&&v instanceof s.default.Vector?(M=this.color(c,l,a),P=p,k=v):c instanceof s.default.Color&&v instanceof s.default.Vector?(M=c,P=new s.default.Vector(l,a,p),k=v):c instanceof s.default.Color&&l instanceof s.default.Vector&&(M=c,P=l,k=new s.default.Vector(a,p,v));break;case 4:M=c,P=l,k=a,S=p;break;case 3:M=c,P=l,k=a;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(D<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(M._array[0],M._array[1],M._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(P.x,P.y,P.z),k.normalize(),this._renderer.spotLightDirections.push(k.x,k.y,k.z),S===void 0&&(S=Math.PI/3),R!==void 0&&R<1?(R=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):R===void 0&&(R=100),S=this._renderer._pInst._toRadians(S),this._renderer.spotLightAngle.push(Math.cos(S)),this._renderer.spotLightConc.push(R),this._renderer._enableLighting=!0,this},s.default.prototype.noLights=function(){return this._assert3d("noLights"),s.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var g=s.default;d.default=g},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],313:[function(t,f,d){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(u=t("../core/main"))&&u.__esModule?u:{default:u};t("./p5.Geometry"),i.default.prototype.loadModel=function(s){i.default._validateParameters("loadModel",arguments);var h,m,g,c=s.slice(-4),l=(typeof arguments[1]=="boolean"?(h=arguments[1],m=arguments[2],g=arguments[3],arguments[4]!==void 0&&(c=arguments[4])):(h=!1,m=arguments[1],g=arguments[2],arguments[3]!==void 0&&(c=arguments[3])),new i.default.Geometry),a=(l.gid="".concat(s,"|").concat(h),this);return c.match(/\.stl$/i)?this.httpDo(s,"GET","arrayBuffer",function(p){(function(v,w){if(function(x){for(var E=new DataView(x),j=[115,111,108,105,100],S=0;S<5;S++)if(function(R,M,P){for(var k=0,D=R.length;k<D;k++)if(R[k]!==M.getUint8(P+k,!1))return;return 1}(j,E,S))return;return 1}(w))(function(x,E){for(var j,S,R,M,P,k,D,I=new DataView(E),N=I.getUint32(80,!0),U=!1,G=0;G<70;G++)I.getUint32(G,!1)===1129270351&&I.getUint8(G+4)===82&&I.getUint8(G+5)===61&&(U=!0,M=[],P=I.getUint8(G+6)/255,k=I.getUint8(G+7)/255,D=I.getUint8(G+8)/255);for(var J=0;J<N;J++){for(var K,Z=84+50*J,X=I.getFloat32(Z,!0),Y=I.getFloat32(4+Z,!0),te=I.getFloat32(8+Z,!0),se=(U&&(K=I.getUint16(48+Z,!0),R=32768&K?(j=P,S=k,D):(j=(31&K)/31,S=(K>>5&31)/31,(K>>10&31)/31)),new i.default.Vector(X,Y,te)),me=1;me<=3;me++){var A=Z+12*me,A=new i.default.Vector(I.getFloat32(A,!0),I.getFloat32(4+A,!0),I.getFloat32(8+A,!0));x.vertices.push(A),x.vertexNormals.push(se),U&&M.push(j,S,R)}x.faces.push([3*J,3*J+1,3*J+2]),x.uvs.push([0,0],[0,0],[0,0])}})(v,w);else{if(w=new DataView(w),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");w=new TextDecoder("utf-8").decode(w).split(`
`),function(x,E){for(var j,S,R="",M=[],P=0;P<E.length;++P){for(var k=E[P].trim(),D=k.split(" "),I=0;I<D.length;++I)D[I]===""&&D.splice(I,1);if(D.length!==0)switch(R){case"":if(D[0]!=="solid")return console.error(k),console.error('Invalid state "'.concat(D[0],'", should be "solid"'));R="solid";break;case"solid":if(D[0]!=="facet"||D[1]!=="normal")return console.error(k),console.error('Invalid state "'.concat(D[0],'", should be "facet normal"'));j=new i.default.Vector(parseFloat(D[2]),parseFloat(D[3]),parseFloat(D[4])),x.vertexNormals.push(j,j,j),R="facet normal";break;case"facet normal":if(D[0]!=="outer"||D[1]!=="loop")return console.error(k),console.error('Invalid state "'.concat(D[0],'", should be "outer loop"'));R="vertex";break;case"vertex":if(D[0]==="vertex")S=new i.default.Vector(parseFloat(D[1]),parseFloat(D[2]),parseFloat(D[3])),x.vertices.push(S),x.uvs.push([0,0]),M.push(x.vertices.indexOf(S));else{if(D[0]!=="endloop")return console.error(k),console.error('Invalid state "'.concat(D[0],'", should be "vertex" or "endloop"'));x.faces.push(M),M=[],R="endloop"}break;case"endloop":if(D[0]!=="endfacet")return console.error(k),console.error('Invalid state "'.concat(D[0],'", should be "endfacet"'));R="endfacet";break;case"endfacet":if(D[0]!=="endsolid"){if(D[0]!=="facet"||D[1]!=="normal")return console.error(k),console.error('Invalid state "'.concat(D[0],'", should be "endsolid" or "facet normal"'));j=new i.default.Vector(parseFloat(D[2]),parseFloat(D[3]),parseFloat(D[4])),x.vertexNormals.push(j,j,j),R="facet normal"}break;default:console.error('Invalid state "'.concat(R,'"'))}}}(v,w)}})(l,p),h&&l.normalize(),a._decrementPreload(),typeof m=="function"&&m(l)},g):c.match(/\.obj$/i)?this.loadStrings(s,function(p){for(var v=l,w=p,x={v:[],vt:[],vn:[]},E={},j=0;j<w.length;++j){var S=w[j].trim().split(/\b\s+/);if(0<S.length){if(S[0]==="v"||S[0]==="vn"){var R=new i.default.Vector(parseFloat(S[1]),parseFloat(S[2]),parseFloat(S[3]));x[S[0]].push(R)}else if(S[0]==="vt")R=[parseFloat(S[1]),1-parseFloat(S[2])],x[S[0]].push(R);else if(S[0]==="f")for(var M=3;M<S.length;++M){for(var P=[],k=[1,M-1,M],D=0;D<k.length;++D){var I=S[k[D]],N=0;if(E[I]!==void 0)N=E[I];else{for(var U=I.split("/"),G=0;G<U.length;G++)U[G]=parseInt(U[G])-1;N=E[I]=v.vertices.length,v.vertices.push(x.v[U[0]].copy()),x.vt[U[1]]?v.uvs.push(x.vt[U[1]].slice()):v.uvs.push([0,0]),x.vn[U[2]]&&v.vertexNormals.push(x.vn[U[2]].copy())}P.push(N)}P[0]!==P[1]&&P[0]!==P[2]&&P[1]!==P[2]&&v.faces.push(P)}}}v.vertexNormals.length===0&&v.computeNormals(),h&&l.normalize(),a._decrementPreload(),typeof m=="function"&&m(l)},g):(i.default._friendlyFileLoadError(3,s),g?g():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),l},i.default.prototype.model=function(s){this._assert3d("model"),i.default._validateParameters("model",arguments),0<s.vertices.length&&(this._renderer.geometryInHash(s.gid)||(s._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(s.gid,s)),this._renderer.drawBuffers(s.gid))};var u=i.default;d.default=u},{"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],314:[function(t,f,d){function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function u(c){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.join"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(g=t("../core/main"))&&g.__esModule?g:{default:g},h=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var l=m();if(l&&l.has(c))return l.get(c);var a,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in c){var w;Object.prototype.hasOwnProperty.call(c,a)&&((w=v?Object.getOwnPropertyDescriptor(c,a):null)&&(w.get||w.set)?Object.defineProperty(p,a,w):p[a]=c[a])}return p.default=c,l&&l.set(c,p),p}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}t("./p5.Texture"),s.default.prototype.loadShader=function(c,l,a,p){s.default._validateParameters("loadShader",arguments),p=p||console.error;function v(){x._decrementPreload(),a&&a(w)}var w=new s.default.Shader,x=this,E=!1,j=!1;return this.loadStrings(c,function(S){w._vertSrc=S.join(`
`),j=!0,E&&v()},p),this.loadStrings(l,function(S){w._fragSrc=S.join(`
`),E=!0,j&&v()},p),w},s.default.prototype.createShader=function(c,l){return this._assert3d("createShader"),s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,c,l)},s.default.prototype.shader=function(c){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),c._renderer===void 0&&(c._renderer=this._renderer),c.init(),c.isStrokeShader()?this._renderer.userStrokeShader=c:(this._renderer.userFillShader=c,this._renderer._useNormalMaterial=!1),this},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.texture=function(c){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),c.gifProperties&&c._animateGif(this),this._renderer.drawMode=h.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=c,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(c){c!==h.IMAGE&&c!==h.NORMAL?console.warn("You tried to set ".concat(c," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=c},s.default.prototype.textureWrap=function(c){for(var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,a=(this._renderer.textureWrapX=c,this._renderer.textureWrapY=l,this._renderer.textures),p=0;p<a.length;p++)a[p].setWrapMode(c,l)},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var c=arguments.length,l=new Array(c),a=0;a<c;a++)l[a]=arguments[a];return s.default._validateParameters("normalMaterial",l),this._renderer.drawMode=h.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.ambientMaterial=function(c,l,a){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var p=s.default.prototype.color.apply(this,arguments);return this._renderer.curAmbientColor=p._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.emissiveMaterial=function(c,l,a,p){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var v=s.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=v._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.specularMaterial=function(c,l,a,p){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var v=s.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=v._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.shininess=function(c){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),this._renderer._useShininess=c=c<1?1:c,this},s.default.RendererGL.prototype._applyColorBlend=function(c){var l=this.GL,a=this.drawMode===h.TEXTURE,a=this.userFillShader||this.userStrokeShader||this.userPointShader||a||this.curBlendMode!==h.BLEND||c[c.length-1]<1||this._isErasing;return a!==this._isBlending&&(a||this.curBlendMode!==h.BLEND&&this.curBlendMode!==h.ADD?l.enable(l.BLEND):l.disable(l.BLEND),l.depthMask(!0),this._isBlending=a),this._applyBlendMode(),c},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var c=this.GL;switch(this.curBlendMode){case h.BLEND:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case h.ADD:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE);break;case h.REMOVE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_ALPHA);break;case h.MULTIPLY:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA);break;case h.SCREEN:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_COLOR);break;case h.EXCLUSION:c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE_MINUS_DST_COLOR,c.ONE_MINUS_SRC_COLOR,c.ONE,c.ONE);break;case h.REPLACE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO);break;case h.SUBTRACT:c.blendEquationSeparate(c.FUNC_REVERSE_SUBTRACT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case h.DARKEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MIN_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case h.LIGHTEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MAX_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var g=s.default;d.default=g},{"../core/constants":256,"../core/main":267,"./p5.Texture":323,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],315:[function(t,f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.prototype.camera=function(){var u;this._assert3d("camera");for(var s=arguments.length,h=new Array(s),m=0;m<s;m++)h[m]=arguments[m];return i.default._validateParameters("camera",h),(u=this._renderer._curCamera).camera.apply(u,h),this},i.default.prototype.perspective=function(){var u;this._assert3d("perspective");for(var s=arguments.length,h=new Array(s),m=0;m<s;m++)h[m]=arguments[m];return i.default._validateParameters("perspective",h),(u=this._renderer._curCamera).perspective.apply(u,h),this},i.default.prototype.ortho=function(){var u;this._assert3d("ortho");for(var s=arguments.length,h=new Array(s),m=0;m<s;m++)h[m]=arguments[m];return i.default._validateParameters("ortho",h),(u=this._renderer._curCamera).ortho.apply(u,h),this},i.default.prototype.frustum=function(){var u;this._assert3d("frustum");for(var s=arguments.length,h=new Array(s),m=0;m<s;m++)h[m]=arguments[m];return i.default._validateParameters("frustum",h),(u=this._renderer._curCamera).frustum.apply(u,h),this},i.default.prototype.createCamera=function(){this._assert3d("createCamera");var u=new i.default.Camera(this._renderer);return u._computeCameraDefaultSettings(),u._setDefaultCamera(),this._renderer._curCamera=u},i.default.Camera=function(u){this._renderer=u,this.cameraType="default",this.cameraMatrix=new i.default.Matrix,this.projMatrix=new i.default.Matrix},i.default.Camera.prototype.perspective=function(g,s,h,m){this.cameraType=0<arguments.length?"custom":"default",g===void 0?(g=this.defaultCameraFOV,this.cameraFOV=g):this.cameraFOV=this._renderer._pInst._toRadians(g),s===void 0&&(s=this.defaultAspectRatio),h===void 0&&(h=this.defaultCameraNear),m===void 0&&(m=this.defaultCameraFar),h<=1e-4&&(h=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),m<h&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=s,this.cameraNear=h,this.cameraFar=m,this.projMatrix=i.default.Matrix.identity();var g=1/Math.tan(this.cameraFOV/2),c=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(g/s,0,0,0,0,-g,0,0,0,0,(m+h)*c,-1,0,0,2*m*h*c,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},i.default.Camera.prototype.ortho=function(E,x,h,m,g,c){E===void 0&&(E=-this._renderer.width/2),x===void 0&&(x=+this._renderer.width/2),h===void 0&&(h=-this._renderer.height/2),g===void 0&&(g=0);var j=x-E,l=(m=m===void 0?+this._renderer.height/2:m)-h,a=(c=c===void 0?Math.max(this._renderer.width,this._renderer.height):c)-g,p=2/j,v=2/l,w=-2/a,x=-(x+E)/j,E=-(m+h)/l,j=-(c+g)/a;this.projMatrix=i.default.Matrix.identity(),this.projMatrix.set(p,0,0,0,0,-v,0,0,0,0,w,0,x,E,j,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},i.default.Camera.prototype.frustum=function(E,x,h,m,g,c){E===void 0&&(E=-this._renderer.width/2),x===void 0&&(x=+this._renderer.width/2),h===void 0&&(h=-this._renderer.height/2),g===void 0&&(g=0);var j=x-E,l=(m=m===void 0?+this._renderer.height/2:m)-h,a=(c=c===void 0?Math.max(this._renderer.width,this._renderer.height):c)-g,p=2*g/j,v=2*g/l,w=-2*c*g/a,x=(x+E)/j,E=(m+h)/l,j=-(c+g)/a;this.projMatrix=i.default.Matrix.identity(),this.projMatrix.set(p,0,0,0,0,v,0,0,x,E,j,-1,0,0,w,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},i.default.Camera.prototype._rotateView=function(p,s,h,m){var g=this.centerX,c=this.centerY,l=this.centerZ,a=(g-=this.eyeX,c-=this.eyeY,l-=this.eyeZ,i.default.Matrix.identity(this._renderer._pInst)),p=(a.rotate(this._renderer._pInst._toRadians(p),s,h,m),[g*a.mat4[0]+c*a.mat4[4]+l*a.mat4[8],g*a.mat4[1]+c*a.mat4[5]+l*a.mat4[9],g*a.mat4[2]+c*a.mat4[6]+l*a.mat4[10]]);p[0]+=this.eyeX,p[1]+=this.eyeY,p[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,p[0],p[1],p[2],this.upX,this.upY,this.upZ)},i.default.Camera.prototype.pan=function(u){var s=this._getLocalAxes();this._rotateView(u,s.y[0],s.y[1],s.y[2])},i.default.Camera.prototype.tilt=function(u){var s=this._getLocalAxes();this._rotateView(u,s.x[0],s.x[1],s.x[2])},i.default.Camera.prototype.lookAt=function(u,s,h){this.camera(this.eyeX,this.eyeY,this.eyeZ,u,s,h,this.upX,this.upY,this.upZ)},i.default.Camera.prototype.camera=function(u,s,h,m,g,c,l,a,p){return u===void 0&&(u=this.defaultEyeX,s=this.defaultEyeY,h=this.defaultEyeZ,m=u,g=s,a=1,p=l=c=0),this.eyeX=u,this.eyeY=s,this.eyeZ=h,m!==void 0&&(this.centerX=m,this.centerY=g,this.centerZ=c),l!==void 0&&(this.upX=l,this.upY=a,this.upZ=p),m=this._getLocalAxes(),this.cameraMatrix.set(m.x[0],m.y[0],m.z[0],0,m.x[1],m.y[1],m.z[1],0,m.x[2],m.y[2],m.z[2],0,0,0,0,1),g=-u,this.cameraMatrix.translate([g,-s,-h]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},i.default.Camera.prototype.move=function(m,g,h){var c=this._getLocalAxes(),m=[c.x[0]*m,c.x[1]*m,c.x[2]*m],g=[c.y[0]*g,c.y[1]*g,c.y[2]*g],c=[c.z[0]*h,c.z[1]*h,c.z[2]*h];this.camera(this.eyeX+m[0]+g[0]+c[0],this.eyeY+m[1]+g[1]+c[1],this.eyeZ+m[2]+g[2]+c[2],this.centerX+m[0]+g[0]+c[0],this.centerY+m[1]+g[1]+c[1],this.centerZ+m[2]+g[2]+c[2],this.upX,this.upY,this.upZ)},i.default.Camera.prototype.setPosition=function(u,s,h){var m=u-this.eyeX,g=s-this.eyeY,c=h-this.eyeZ;this.camera(u,s,h,this.centerX+m,this.centerY+g,this.centerZ+c,this.upX,this.upY,this.upZ)},i.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},i.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},i.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},i.default.Camera.prototype.copy=function(){var u=new i.default.Camera(this._renderer);return u.cameraFOV=this.cameraFOV,u.aspectRatio=this.aspectRatio,u.eyeX=this.eyeX,u.eyeY=this.eyeY,u.eyeZ=this.eyeZ,u.centerX=this.centerX,u.centerY=this.centerY,u.centerZ=this.centerZ,u.cameraNear=this.cameraNear,u.cameraFar=this.cameraFar,u.cameraType=this.cameraType,u.cameraMatrix=this.cameraMatrix.copy(),u.projMatrix=this.projMatrix.copy(),u},i.default.Camera.prototype._getLocalAxes=function(){var u=this.eyeX-this.centerX,s=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,l=Math.sqrt(u*u+s*s+h*h),l=(l!==0&&(u/=l,s/=l,h/=l),this.upX),m=(a=this.upY)*h-(p=this.upZ)*s,g=-l*h+p*u,c=l*s-a*u,l=s*c-h*g,a=-u*c+h*m,p=u*g-s*m,v=Math.sqrt(m*m+g*g+c*c),v=(v!==0&&(m/=v,g/=v,c/=v),Math.sqrt(l*l+a*a+p*p));return v!==0&&(l/=v,a/=v,p/=v),{x:[m,g,c],y:[l,a,p],z:[u,s,h]}},i.default.Camera.prototype._orbit=function(a,p,v){var g=this.eyeX-this.centerX,l=this.eyeY-this.centerY,c=this.eyeZ-this.centerZ,m=Math.sqrt(g*g+l*l+c*c),g=Math.atan2(g,c),c=Math.acos(Math.max(-1,Math.min(1,l/m))),l=0<this.upY?1:-1,a=(g+=l*a,((c+=l*p)<=0||c>=Math.PI)&&(l*=-1),(m+=v)<0&&(m=.1),Math.sin(c)*m*Math.sin(g)),p=Math.cos(c)*m,v=Math.sin(c)*m*Math.cos(g);this.camera(a+this.centerX,p+this.centerY,v+this.centerZ,this.centerX,this.centerY,this.centerZ,0,l,0)},i.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},i.default.prototype.setCamera=function(u){this._renderer._curCamera=u,this._renderer.uPMatrix.set(u.projMatrix.mat4[0],u.projMatrix.mat4[1],u.projMatrix.mat4[2],u.projMatrix.mat4[3],u.projMatrix.mat4[4],u.projMatrix.mat4[5],u.projMatrix.mat4[6],u.projMatrix.mat4[7],u.projMatrix.mat4[8],u.projMatrix.mat4[9],u.projMatrix.mat4[10],u.projMatrix.mat4[11],u.projMatrix.mat4[12],u.projMatrix.mat4[13],u.projMatrix.mat4[14],u.projMatrix.mat4[15])},t=i.default.Camera,d.default=t},{"../core/main":267}],316:[function(t,f,d){t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.Geometry=function(u,s,h){return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=u!==void 0?u:1,this.detailY=s!==void 0?s:1,this.dirtyFlags={},h instanceof Function&&h.call(this),this},i.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},i.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var u,s,h,m=this.detailX+1,g=0;g<this.detailY;g++)for(var c=0;c<this.detailX;c++)s=(g+1)*m+c+1,this.faces.push([g*m+c,u=g*m+c+1,h=(g+1)*m+c]),this.faces.push([h,u,s]);return this},i.default.Geometry.prototype._getFaceNormal=function(s){var s=this.faces[s],h=this.vertices[s[0]],g=this.vertices[s[1]],s=this.vertices[s[2]],g=i.default.Vector.sub(g,h),s=i.default.Vector.sub(s,h),h=i.default.Vector.cross(g,s),m=i.default.Vector.mag(h),g=m/(i.default.Vector.mag(g)*i.default.Vector.mag(s));return g===0||isNaN(g)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),h):(1<g&&(g=1),h.mult(Math.asin(g)/m))},i.default.Geometry.prototype.computeNormals=function(){for(var u=this.vertexNormals,s=this.vertices,h=this.faces,m=u.length=0;m<s.length;++m)u.push(new i.default.Vector);for(var g=0;g<h.length;++g)for(var c=h[g],l=this._getFaceNormal(g),a=0;a<3;++a)u[c[a]].add(l);for(m=0;m<s.length;++m)u[m].normalize();return this},i.default.Geometry.prototype.averageNormals=function(){for(var u=0;u<=this.detailY;u++){var s=this.detailX+1,h=i.default.Vector.add(this.vertexNormals[u*s],this.vertexNormals[u*s+this.detailX]),h=i.default.Vector.div(h,2);this.vertexNormals[u*s]=h,this.vertexNormals[u*s+this.detailX]=h}return this},i.default.Geometry.prototype.averagePoleNormals=function(){for(var u=new i.default.Vector(0,0,0),s=0;s<this.detailX;s++)u.add(this.vertexNormals[s]);for(var u=i.default.Vector.div(u,this.detailX),h=0;h<this.detailX;h++)this.vertexNormals[h]=u;u=new i.default.Vector(0,0,0);for(var m=this.vertices.length-1;m>this.vertices.length-1-this.detailX;m--)u.add(this.vertexNormals[m]);u=i.default.Vector.div(u,this.detailX);for(var g=this.vertices.length-1;g>this.vertices.length-1-this.detailX;g--)this.vertexNormals[g]=u;return this},i.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var u=0,s=this.strokeIndices.length;u<s;u++)this.edges.push(this.strokeIndices[u]);else for(var h=0;h<this.faces.length;h++)this.edges.push([this.faces[h][0],this.faces[h][1]]),this.edges.push([this.faces[h][1],this.faces[h][2]]),this.edges.push([this.faces[h][2],this.faces[h][0]]);return this},i.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var u,s=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],h=!1,m=0;m<this.edges.length;m++){var g=this.edges[m-1],c=this.edges[m],l=this.vertices[c[0]],a=this.vertices[c[1]],p=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*c[0],4*(c[0]+1)):[0,0,0,0],v=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*c[1],4*(c[1]+1)):[0,0,0,0],w=a.copy().sub(l).normalize(),x=0<w.magSq();x&&this._addSegment(l,a,p,v,w),0<m&&g[1]===c[0]?(u&&x&&w.dot(u)<1-1e-8&&this._addJoin(l,u,w,p),!x||h||s||(this._addCap(l,w.copy().mult(-1),p),h=!0)):(h=!1,x&&(!s||0<m)&&(this._addCap(l,w.copy().mult(-1),p),h=!0),u&&(!s||m<this.edges.length-1)&&(this._addCap(this.vertices[g[1]],u,p),u=void 0)),m===this.edges.length-1&&(s?this._addJoin(a,w,this.vertices[this.edges[0][1]].copy().sub(a).normalize(),v):this._addCap(a,w,v)),x&&(u=w)}return this},i.default.Geometry.prototype._addSegment=function(c,l,h,m,g){var c=c.array(),l=l.array(),a=g.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var p=0,v=[this.lineTangentsIn,this.lineTangentsOut];p<v.length;p++)v[p].push(a,a,a,a,a,a);return this.lineVertices.push(c,c,l,l,c,l),this.lineVertexColors.push(h,h,m,m,h,m),this},i.default.Geometry.prototype._addCap=function(u,s,h){for(var m=u.array(),g=s.array(),c=[0,0,0],l=0;l<6;l++)this.lineVertices.push(m),this.lineTangentsIn.push(g),this.lineTangentsOut.push(c),this.lineVertexColors.push(h);return this.lineSides.push(-1,-2,2,2,1,-1),this},i.default.Geometry.prototype._addJoin=function(u,s,h,m){for(var g=u.array(),c=s.array(),l=h.array(),a=0;a<12;a++)this.lineVertices.push(g),this.lineTangentsIn.push(c),this.lineTangentsOut.push(l),this.lineVertexColors.push(m);for(var p=0,v=[-1,1];p<v.length;p++){var w=v[p];this.lineSides.push(w,2*w,3*w,w,3*w,0)}return this},i.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var u=this.vertices[0].copy(),s=this.vertices[0].copy(),h=0;h<this.vertices.length;h++)u.x=Math.max(u.x,this.vertices[h].x),s.x=Math.min(s.x,this.vertices[h].x),u.y=Math.max(u.y,this.vertices[h].y),s.y=Math.min(s.y,this.vertices[h].y),u.z=Math.max(u.z,this.vertices[h].z),s.z=Math.min(s.z,this.vertices[h].z);for(var m=i.default.Vector.lerp(u,s,.5),g=i.default.Vector.sub(u,s),c=200/Math.max(Math.max(g.x,g.y),g.z),l=0;l<this.vertices.length;l++)this.vertices[l].sub(m),this.vertices[l].mult(c)}return this},t=i.default.Geometry,d.default=t},{"../core/main":267,"core-js/modules/es.array.slice":162,"core-js/modules/es.string.sub":192}],317:[function(h,f,d){h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.typed-array.float32-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.typed-array.float32-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(h=h("../core/main"))&&h.__esModule?h:{default:h},u=Array,s=function(m){return m instanceof Array},h=(typeof Float32Array<"u"&&(u=Float32Array,s=function(m){return m instanceof Array||m instanceof Float32Array}),i.default.Matrix=function(){for(var m=new Array(arguments.length),g=0;g<m.length;++g)m[g]=arguments[g];return m.length&&m[m.length-1]instanceof i.default&&(this.p5=m[m.length-1]),m[0]==="mat3"?this.mat3=Array.isArray(m[1])?m[1]:new u([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(m[0])?m[0]:new u([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},i.default.Matrix.prototype.set=function(m){return m instanceof i.default.Matrix?this.mat4=m.mat4:s(m)?this.mat4=m:arguments.length===16&&(this.mat4[0]=m,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},i.default.Matrix.prototype.get=function(){return new i.default.Matrix(this.mat4,this.p5)},i.default.Matrix.prototype.copy=function(){var m=new i.default.Matrix(this.p5);return m.mat4[0]=this.mat4[0],m.mat4[1]=this.mat4[1],m.mat4[2]=this.mat4[2],m.mat4[3]=this.mat4[3],m.mat4[4]=this.mat4[4],m.mat4[5]=this.mat4[5],m.mat4[6]=this.mat4[6],m.mat4[7]=this.mat4[7],m.mat4[8]=this.mat4[8],m.mat4[9]=this.mat4[9],m.mat4[10]=this.mat4[10],m.mat4[11]=this.mat4[11],m.mat4[12]=this.mat4[12],m.mat4[13]=this.mat4[13],m.mat4[14]=this.mat4[14],m.mat4[15]=this.mat4[15],m},i.default.Matrix.identity=function(m){return new i.default.Matrix(m)},i.default.Matrix.prototype.transpose=function(m){var g,c,l,a,p,v;return m instanceof i.default.Matrix?(g=m.mat4[1],c=m.mat4[2],l=m.mat4[3],a=m.mat4[6],p=m.mat4[7],v=m.mat4[11],this.mat4[0]=m.mat4[0],this.mat4[1]=m.mat4[4],this.mat4[2]=m.mat4[8],this.mat4[3]=m.mat4[12],this.mat4[4]=g,this.mat4[5]=m.mat4[5],this.mat4[6]=m.mat4[9],this.mat4[7]=m.mat4[13],this.mat4[8]=c,this.mat4[9]=a,this.mat4[10]=m.mat4[10],this.mat4[11]=m.mat4[14],this.mat4[12]=l,this.mat4[13]=p,this.mat4[14]=v,this.mat4[15]=m.mat4[15]):s(m)&&(g=m[1],c=m[2],l=m[3],a=m[6],p=m[7],v=m[11],this.mat4[0]=m[0],this.mat4[1]=m[4],this.mat4[2]=m[8],this.mat4[3]=m[12],this.mat4[4]=g,this.mat4[5]=m[5],this.mat4[6]=m[9],this.mat4[7]=m[13],this.mat4[8]=c,this.mat4[9]=a,this.mat4[10]=m[10],this.mat4[11]=m[14],this.mat4[12]=l,this.mat4[13]=p,this.mat4[14]=v,this.mat4[15]=m[15]),this},i.default.Matrix.prototype.invert=function(I){I instanceof i.default.Matrix?(g=I.mat4[0],c=I.mat4[1],l=I.mat4[2],a=I.mat4[3],p=I.mat4[4],v=I.mat4[5],w=I.mat4[6],x=I.mat4[7],E=I.mat4[8],j=I.mat4[9],S=I.mat4[10],R=I.mat4[11],M=I.mat4[12],P=I.mat4[13],k=I.mat4[14],D=I.mat4[15]):s(I)&&(g=I[0],c=I[1],l=I[2],a=I[3],p=I[4],v=I[5],w=I[6],x=I[7],E=I[8],j=I[9],S=I[10],R=I[11],M=I[12],P=I[13],k=I[14],D=I[15]);var g,c,l,a,p,v,w,x,E,j,S,R,M,P,k,D,I=g*v-c*p,N=g*w-l*p,U=g*x-a*p,G=c*w-l*v,J=c*x-a*v,K=l*x-a*w,Z=E*P-j*M,X=E*k-S*M,Y=E*D-R*M,te=j*k-S*P,se=j*D-R*P,me=S*D-R*k,A=I*me-N*se+U*te+G*Y-J*X+K*Z;return A?(this.mat4[0]=(v*me-w*se+x*te)*(A=1/A),this.mat4[1]=(l*se-c*me-a*te)*A,this.mat4[2]=(P*K-k*J+D*G)*A,this.mat4[3]=(S*J-j*K-R*G)*A,this.mat4[4]=(w*Y-p*me-x*X)*A,this.mat4[5]=(g*me-l*Y+a*X)*A,this.mat4[6]=(k*U-M*K-D*N)*A,this.mat4[7]=(E*K-S*U+R*N)*A,this.mat4[8]=(p*se-v*Y+x*Z)*A,this.mat4[9]=(c*Y-g*se-a*Z)*A,this.mat4[10]=(M*J-P*U+D*I)*A,this.mat4[11]=(j*U-E*J-R*I)*A,this.mat4[12]=(v*X-p*te-w*Z)*A,this.mat4[13]=(g*te-c*X+l*Z)*A,this.mat4[14]=(P*N-M*G-k*I)*A,this.mat4[15]=(E*G-j*N+S*I)*A,this):null},i.default.Matrix.prototype.invert3x3=function(){var m=this.mat3[0],g=this.mat3[1],c=this.mat3[2],l=this.mat3[3],a=this.mat3[4],p=this.mat3[5],v=this.mat3[6],w=this.mat3[7],x=this.mat3[8],E=x*a-p*w,j=-x*l+p*v,S=w*l-a*v,R=m*E+g*j+c*S;return R?(this.mat3[0]=E*(R=1/R),this.mat3[1]=(-x*g+c*w)*R,this.mat3[2]=(p*g-c*a)*R,this.mat3[3]=j*R,this.mat3[4]=(x*m-c*v)*R,this.mat3[5]=(-p*m+c*l)*R,this.mat3[6]=S*R,this.mat3[7]=(-w*m+g*v)*R,this.mat3[8]=(a*m-g*l)*R,this):null},i.default.Matrix.prototype.transpose3x3=function(m){var g=m[1],c=m[2],l=m[5];return this.mat3[1]=m[3],this.mat3[2]=m[6],this.mat3[3]=g,this.mat3[5]=m[7],this.mat3[6]=c,this.mat3[7]=l,this},i.default.Matrix.prototype.inverseTranspose=function(m){if(this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=m.mat4[0],this.mat3[1]=m.mat4[1],this.mat3[2]=m.mat4[2],this.mat3[3]=m.mat4[4],this.mat3[4]=m.mat4[5],this.mat3[5]=m.mat4[6],this.mat3[6]=m.mat4[8],this.mat3[7]=m.mat4[9],this.mat3[8]=m.mat4[10]),m=this.invert3x3(),m)m.transpose3x3(this.mat3);else for(var g=0;g<9;g++)this.mat3[g]=0;return this},i.default.Matrix.prototype.determinant=function(){var m=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],g=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],c=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],l=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],a=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],p=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],v=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],w=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],x=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],E=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],j=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return m*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-g*j+c*E+l*x-a*w+p*v},i.default.Matrix.prototype.mult=function(c){var g;if(c===this||c===this.mat4)g=this.copy().mat4;else if(c instanceof i.default.Matrix)g=c.mat4;else if(s(c))g=c;else{if(arguments.length!==16)return;g=arguments}var c=this.mat4[0],l=this.mat4[1],a=this.mat4[2],p=this.mat4[3];return this.mat4[0]=c*g[0]+l*g[4]+a*g[8]+p*g[12],this.mat4[1]=c*g[1]+l*g[5]+a*g[9]+p*g[13],this.mat4[2]=c*g[2]+l*g[6]+a*g[10]+p*g[14],this.mat4[3]=c*g[3]+l*g[7]+a*g[11]+p*g[15],c=this.mat4[4],l=this.mat4[5],a=this.mat4[6],p=this.mat4[7],this.mat4[4]=c*g[0]+l*g[4]+a*g[8]+p*g[12],this.mat4[5]=c*g[1]+l*g[5]+a*g[9]+p*g[13],this.mat4[6]=c*g[2]+l*g[6]+a*g[10]+p*g[14],this.mat4[7]=c*g[3]+l*g[7]+a*g[11]+p*g[15],c=this.mat4[8],l=this.mat4[9],a=this.mat4[10],p=this.mat4[11],this.mat4[8]=c*g[0]+l*g[4]+a*g[8]+p*g[12],this.mat4[9]=c*g[1]+l*g[5]+a*g[9]+p*g[13],this.mat4[10]=c*g[2]+l*g[6]+a*g[10]+p*g[14],this.mat4[11]=c*g[3]+l*g[7]+a*g[11]+p*g[15],c=this.mat4[12],l=this.mat4[13],a=this.mat4[14],p=this.mat4[15],this.mat4[12]=c*g[0]+l*g[4]+a*g[8]+p*g[12],this.mat4[13]=c*g[1]+l*g[5]+a*g[9]+p*g[13],this.mat4[14]=c*g[2]+l*g[6]+a*g[10]+p*g[14],this.mat4[15]=c*g[3]+l*g[7]+a*g[11]+p*g[15],this},i.default.Matrix.prototype.apply=function(c){var g;if(c===this||c===this.mat4)g=this.copy().mat4;else if(c instanceof i.default.Matrix)g=c.mat4;else if(s(c))g=c;else{if(arguments.length!==16)return;g=arguments}var c=this.mat4,l=c[0],a=c[4],p=c[8],v=c[12],l=(c[0]=g[0]*l+g[1]*a+g[2]*p+g[3]*v,c[4]=g[4]*l+g[5]*a+g[6]*p+g[7]*v,c[8]=g[8]*l+g[9]*a+g[10]*p+g[11]*v,c[12]=g[12]*l+g[13]*a+g[14]*p+g[15]*v,c[1]),a=c[5],p=c[9],v=c[13],l=(c[1]=g[0]*l+g[1]*a+g[2]*p+g[3]*v,c[5]=g[4]*l+g[5]*a+g[6]*p+g[7]*v,c[9]=g[8]*l+g[9]*a+g[10]*p+g[11]*v,c[13]=g[12]*l+g[13]*a+g[14]*p+g[15]*v,c[2]),a=c[6],p=c[10],v=c[14],l=(c[2]=g[0]*l+g[1]*a+g[2]*p+g[3]*v,c[6]=g[4]*l+g[5]*a+g[6]*p+g[7]*v,c[10]=g[8]*l+g[9]*a+g[10]*p+g[11]*v,c[14]=g[12]*l+g[13]*a+g[14]*p+g[15]*v,c[3]),a=c[7],p=c[11],v=c[15];return c[3]=g[0]*l+g[1]*a+g[2]*p+g[3]*v,c[7]=g[4]*l+g[5]*a+g[6]*p+g[7]*v,c[11]=g[8]*l+g[9]*a+g[10]*p+g[11]*v,c[15]=g[12]*l+g[13]*a+g[14]*p+g[15]*v,this},i.default.Matrix.prototype.scale=function(m,g,c){return m instanceof i.default.Vector?(g=m.y,c=m.z,m=m.x):m instanceof Array&&(g=m[1],c=m[2],m=m[0]),this.mat4[0]*=m,this.mat4[1]*=m,this.mat4[2]*=m,this.mat4[3]*=m,this.mat4[4]*=g,this.mat4[5]*=g,this.mat4[6]*=g,this.mat4[7]*=g,this.mat4[8]*=c,this.mat4[9]*=c,this.mat4[10]*=c,this.mat4[11]*=c,this},i.default.Matrix.prototype.rotate=function(I,se,te,l){se instanceof i.default.Vector?(te=se.y,l=se.z,se=se.x):se instanceof Array&&(te=se[1],l=se[2],se=se[0]);var a=Math.sqrt(se*se+te*te+l*l),a=(se*=1/a,te*=1/a,l*=1/a,this.mat4[0]),p=this.mat4[1],v=this.mat4[2],w=this.mat4[3],x=this.mat4[4],E=this.mat4[5],j=this.mat4[6],S=this.mat4[7],R=this.mat4[8],M=this.mat4[9],P=this.mat4[10],k=this.mat4[11],D=Math.sin(I),I=Math.cos(I),N=1-I,U=se*se*N+I,G=te*se*N+l*D,J=l*se*N-te*D,K=se*te*N-l*D,Z=te*te*N+I,X=l*te*N+se*D,Y=se*l*N+te*D,te=te*l*N-se*D,se=l*l*N+I;return this.mat4[0]=a*U+x*G+R*J,this.mat4[1]=p*U+E*G+M*J,this.mat4[2]=v*U+j*G+P*J,this.mat4[3]=w*U+S*G+k*J,this.mat4[4]=a*K+x*Z+R*X,this.mat4[5]=p*K+E*Z+M*X,this.mat4[6]=v*K+j*Z+P*X,this.mat4[7]=w*K+S*Z+k*X,this.mat4[8]=a*Y+x*te+R*se,this.mat4[9]=p*Y+E*te+M*se,this.mat4[10]=v*Y+j*te+P*se,this.mat4[11]=w*Y+S*te+k*se,this},i.default.Matrix.prototype.translate=function(l){var g=l[0],c=l[1],l=l[2]||0;this.mat4[12]+=this.mat4[0]*g+this.mat4[4]*c+this.mat4[8]*l,this.mat4[13]+=this.mat4[1]*g+this.mat4[5]*c+this.mat4[9]*l,this.mat4[14]+=this.mat4[2]*g+this.mat4[6]*c+this.mat4[10]*l,this.mat4[15]+=this.mat4[3]*g+this.mat4[7]*c+this.mat4[11]*l},i.default.Matrix.prototype.rotateX=function(m){this.rotate(m,1,0,0)},i.default.Matrix.prototype.rotateY=function(m){this.rotate(m,0,1,0)},i.default.Matrix.prototype.rotateZ=function(m){this.rotate(m,0,0,1)},i.default.Matrix.prototype.perspective=function(a,g,c,l){var a=1/Math.tan(a/2),p=1/(c-l);return this.mat4[0]=a/g,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=a,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(l+c)*p,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*l*c*p,this.mat4[15]=0,this},i.default.Matrix.prototype.ortho=function(m,g,c,l,a,p){var v=1/(m-g),w=1/(c-l),x=1/(a-p);return this.mat4[0]=-2*v,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*w,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*x,this.mat4[11]=0,this.mat4[12]=(m+g)*v,this.mat4[13]=(l+c)*w,this.mat4[14]=(p+a)*x,this.mat4[15]=1,this},i.default.Matrix);d.default=h},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],318:[function(t,f,d){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.RenderBuffer=function(i,u,s,h,m,g){this.size=i,this.src=u,this.dst=s,this.attr=h,this._renderer=m,this.map=g},t.default.RenderBuffer.prototype._prepareBuffer=function(i,u){var s,h,m,l=u.attributes,g=this._renderer.GL,c=i.model||i,l=l[this.attr];l&&(s=i[this.dst],0<(h=c[this.src]).length?((m=!s)&&(i[this.dst]=s=g.createBuffer()),g.bindBuffer(g.ARRAY_BUFFER,s),!m&&c.dirtyFlags[this.src]===!1||(m=(i=this.map)?i(h):h,this._renderer._bindBuffer(s,g.ARRAY_BUFFER,m),c.dirtyFlags[this.src]=!1),u.enableAttrib(l,this.size)):(i=l.location)!==-1&&this._renderer.registerEnabled[i]&&(g.disableVertexAttribArray(i),this._renderer.registerEnabled[i]=!1))},t=t.default.RenderBuffer,d.default=t},{"../core/main":267,"core-js/modules/es.array.map":161}],319:[function(t,f,d){function i(a){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(a)}function u(a){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(p){return i(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":i(p)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(l=t("../core/main"))&&l.__esModule?l:{default:l},h=function(a){if(a&&a.__esModule)return a;if(a===null||u(a)!=="object"&&typeof a!="function")return{default:a};var p=m();if(p&&p.has(a))return p.get(a);var v,w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in a){var E;Object.prototype.hasOwnProperty.call(a,v)&&((E=x?Object.getOwnPropertyDescriptor(a,v):null)&&(E.get||E.set)?Object.defineProperty(w,v,E):w[v]=a[v])}return w.default=a,p&&p.set(a,w),w}(t("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}function g(a){return function(p){if(Array.isArray(p)){for(var v=0,w=new Array(p.length);v<p.length;v++)w[v]=p[v];return w}}(a)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(a){return this.immediateMode.shapeMode=a!==void 0?a:h.TESS,this.immediateMode.geometry.reset(),this};var c={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},l=(s.default.RendererGL.prototype.vertex=function(a,p){if(this.immediateMode.shapeMode===h.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var v in c){var w=c[v],v=this.immediateMode.geometry[v];v.push.apply(v,g(v.slice(v.length-3*w,v.length-2*w)).concat(g(v.slice(v.length-w,v.length))))}var x,E,j=x=E=0,S=(arguments.length===3?j=arguments[2]:arguments.length===4?(x=arguments[2],E=arguments[3]):arguments.length===5&&(j=arguments[2],x=arguments[3],E=arguments[4]),new s.default.Vector(a,p,j)),S=(this.immediateMode.geometry.vertices.push(S),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),S=(this.immediateMode.geometry.vertexColors.push(S[0],S[1],S[2],S[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(S[0],S[1],S[2],S[3]),this.textureMode===h.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(x/=this._tex.width,E/=this._tex.height):!this.isProcessingVertices&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(x,E),this.immediateMode._bezierVertex[0]=a,this.immediateMode._bezierVertex[1]=p,this.immediateMode._bezierVertex[2]=j,this.immediateMode._quadraticVertex[0]=a,this.immediateMode._quadraticVertex[1]=p,this.immediateMode._quadraticVertex[2]=j,this},s.default.RendererGL.prototype.normal=function(a,p,v){return a instanceof s.default.Vector?this._currentNormal=a:this._currentNormal=new s.default.Vector(a,p,v),this},s.default.RendererGL.prototype.endShape=function(a,p,v,w,x,E){return this.immediateMode.shapeMode===h.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(a){var p;this.immediateMode.geometry.vertices.length!==0&&(p=this._doStroke,a=a===h.CLOSE,p&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,a),this.immediateMode.geometry._edgesToVertices()),p=this.immediateMode.shapeMode===h.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||p)&&this.immediateMode.shapeMode!==h.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(a,p,v){var w=[],x=0;switch(a){case h.TRIANGLE_STRIP:for(x=0;x<p.length-2;x++)w.push([x,x+1]),w.push([x,x+2]);w.push([x,x+1]);break;case h.TRIANGLE_FAN:for(x=1;x<p.length-1;x++)w.push([0,x]),w.push([x,x+1]);w.push([0,p.length-1]);break;case h.TRIANGLES:for(x=0;x<p.length-2;x+=3)w.push([x,x+1]),w.push([x+1,x+2]),w.push([x+2,x]);break;case h.LINES:for(x=0;x<p.length-1;x+=2)w.push([x,x+1]);break;case h.QUADS:for(x=0;x<p.length-5;x+=6)w.push([x,x+1]),w.push([x+1,x+2]),w.push([x+3,x+5]),w.push([x+4,x+5]);break;case h.QUAD_STRIP:for(x=0;x<p.length-2;x+=2)w.push([x,x+1]),w.push([x,x+2]),w.push([x+1,x+3]);w.push([x,x+1]);break;default:for(x=0;x<p.length-1;x++)w.push([x,x+1])}return v&&w.push([p.length-1,0]),w},s.default.RendererGL.prototype._tesselateShape=function(){for(var a=this,p=(this.immediateMode.shapeMode=h.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(j,S){return[j.x,j.y,j.z,a.immediateMode.geometry.uvs[2*S],a.immediateMode.geometry.uvs[2*S+1],a.immediateMode.geometry.vertexColors[4*S],a.immediateMode.geometry.vertexColors[4*S+1],a.immediateMode.geometry.vertexColors[4*S+2],a.immediateMode.geometry.vertexColors[4*S+3],a.immediateMode.geometry.vertexNormals[S].x,a.immediateMode.geometry.vertexNormals[S].y,a.immediateMode.geometry.vertexNormals[S].z]}))]),v=this._triangulate(p),w=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),x=0,E=v.length;x<E;x+=s.default.RendererGL.prototype.tessyVertexSize)w.push.apply(w,g(v.slice(x+5,x+9))),this.normal.apply(this,g(v.slice(x+9,x+12))),this.vertex.apply(this,g(v.slice(x,x+5)));this.immediateMode.geometry.vertexColors=w},s.default.RendererGL.prototype._drawImmediateFill=function(){var a=this.GL,p=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),v=(this._setFillUniforms(p),!0),w=!1,x=void 0;try{for(var E,j=this.immediateMode.buffers.fill[Symbol.iterator]();!(v=(E=j.next()).done);v=!0)E.value._prepareBuffer(this.immediateMode.geometry,p)}catch(S){w=!0,x=S}finally{try{v||j.return==null||j.return()}finally{if(w)throw x}}this.immediateMode.shapeMode!==h.LINE_STRIP&&this.immediateMode.shapeMode!==h.LINES||(this.immediateMode.shapeMode=h.TRIANGLE_FAN),this.immediateMode.shapeMode===h.QUADS?this.immediateMode.shapeMode=h.TRIANGLES:this.immediateMode.shapeMode===h.QUAD_STRIP&&(this.immediateMode.shapeMode=h.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),a.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),p.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var a=this.GL,p=a.isEnabled(a.CULL_FACE),v=(a.disable(a.CULL_FACE),this._getImmediateStrokeShader()),w=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(v),!0),x=!1,E=void 0;try{for(var j,S=this.immediateMode.buffers.stroke[Symbol.iterator]();!(w=(j=S.next()).done);w=!0)j.value._prepareBuffer(this.immediateMode.geometry,v)}catch(R){x=!0,E=R}finally{try{w||S.return==null||S.return()}finally{if(x)throw E}}this._applyColorBlend(this.curStrokeColor),a.drawArrays(a.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),p&&a.enable(a.CULL_FACE),v.unbindShader()},s.default.RendererGL);d.default=l},{"../core/constants":256,"../core/main":267,"./p5.RenderBuffer":318,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],320:[function(t,f,d){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(s=t("../core/main"))&&s.__esModule?s:{default:s};t("./p5.RendererGL"),t("./p5.RenderBuffer");var u=0,s=(i.default.RendererGL.prototype._initBufferDefaults=function(h){var m;return this._freeBuffers(h),1e3<++u&&(m=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[m],u--),this.retainedMode.geometry[h]={}},i.default.RendererGL.prototype._freeBuffers=function(h){var m,g=this.retainedMode.geometry[h];function c(l){var a=!0,p=!1,v=void 0;try{for(var w,x=l[Symbol.iterator]();!(a=(w=x.next()).done);a=!0){var E=w.value;g[E.dst]&&(m.deleteBuffer(g[E.dst]),g[E.dst]=null)}}catch(j){p=!0,v=j}finally{try{a||x.return==null||x.return()}finally{if(p)throw v}}}g&&(delete this.retainedMode.geometry[h],u--,m=this.GL,g.indexBuffer&&m.deleteBuffer(g.indexBuffer),c(this.retainedMode.buffers.stroke),c(this.retainedMode.buffers.fill))},i.default.RendererGL.prototype.createBuffers=function(p,m){var g,c,l,a=this.GL,p=this._initBufferDefaults(p),v=(p.model=m,p.indexBuffer);return m.faces.length?(v=v||(p.indexBuffer=a.createBuffer()),l=(c=(g=i.default.RendererGL.prototype._flatten(m.faces)).some(function(w){return 65535<w}))?Uint32Array:Uint16Array,this._bindBuffer(v,a.ELEMENT_ARRAY_BUFFER,g,l),p.indexBufferType=c?a.UNSIGNED_INT:a.UNSIGNED_SHORT,p.vertexCount=3*m.faces.length):(v&&(a.deleteBuffer(v),p.indexBuffer=null),p.vertexCount=m.vertices?m.vertices.length:0),p.lineVertexCount=m.lineVertices?m.lineVertices.length:0,p},i.default.RendererGL.prototype.drawBuffers=function(h){var m=this.GL,g=this.retainedMode.geometry[h];if(this._doStroke&&0<g.lineVertexCount){var c=m.isEnabled(m.CULL_FACE),l=(m.disable(m.CULL_FACE),this._getRetainedStrokeShader()),a=(this._useLineColor=0<g.model.vertexStrokeColors.length,this._setStrokeUniforms(l),!0),p=!1,v=void 0;try{for(var w,x=this.retainedMode.buffers.stroke[Symbol.iterator]();!(a=(w=x.next()).done);a=!0)w.value._prepareBuffer(g,l)}catch(M){p=!0,v=M}finally{try{a||x.return==null||x.return()}finally{if(p)throw v}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(m.TRIANGLES,h),c&&m.enable(m.CULL_FACE),l.unbindShader()}if(this._doFill){this._useVertexColor=0<g.model.vertexColors.length;var E=this._getRetainedFillShader(),j=(this._setFillUniforms(E),!0),p=!1,v=void 0;try{for(var S,R=this.retainedMode.buffers.fill[Symbol.iterator]();!(j=(S=R.next()).done);j=!0)S.value._prepareBuffer(g,E)}catch(k){p=!0,v=k}finally{try{j||R.return==null||R.return()}finally{if(p)throw v}}g.indexBuffer&&this._bindBuffer(g.indexBuffer,m.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(m.TRIANGLES,h),E.unbindShader()}return this},i.default.RendererGL.prototype.drawBuffersScaled=function(h,m,g,c){var l=this.uMVMatrix.copy();try{this.uMVMatrix.scale(m,g,c),this.drawBuffers(h)}finally{this.uMVMatrix=l}},i.default.RendererGL.prototype._drawArrays=function(h,m){return this.GL.drawArrays(h,0,this.retainedMode.geometry[m].lineVertexCount),this},i.default.RendererGL.prototype._drawElements=function(h,g){var g=this.retainedMode.geometry[g],c=this.GL;if(g.indexBuffer){if(g.indexBufferType===c.UNSIGNED_INT&&!c.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");c.drawElements(c.TRIANGLES,g.vertexCount,g.indexBufferType,0)}else c.drawArrays(h||c.TRIANGLES,0,g.vertexCount)},i.default.RendererGL.prototype._drawPoints=function(h,m){var g=this.GL,c=this._getImmediatePointShader();this._setPointUniforms(c),this._bindBuffer(m,g.ARRAY_BUFFER,this._vToNArray(h),Float32Array,g.STATIC_DRAW),c.enableAttrib(c.attributes.aPosition,3),g.drawArrays(g.Points,0,h.length),c.unbindShader()},i.default.RendererGL);d.default=s},{"../core/main":267,"./p5.RenderBuffer":318,"./p5.RendererGL":321,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":230}],321:[function(j,f,d){function i(S){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(S)}function u(S){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(R){return i(R)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":i(R)})(S)}j("core-js/modules/es.symbol"),j("core-js/modules/es.symbol.description"),j("core-js/modules/es.symbol.iterator"),j("core-js/modules/es.array.concat"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.filter"),j("core-js/modules/es.array.from"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.array.slice"),j("core-js/modules/es.object.assign"),j("core-js/modules/es.object.get-own-property-descriptor"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.regexp.to-string"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.string.iterator"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.float64-array"),j("core-js/modules/es.typed-array.int16-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint16-array"),j("core-js/modules/es.typed-array.uint32-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),j("core-js/modules/es.weak-map"),j("core-js/modules/web.dom-collections.iterator"),j("core-js/modules/es.symbol"),j("core-js/modules/es.symbol.description"),j("core-js/modules/es.symbol.iterator"),j("core-js/modules/es.array.concat"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.filter"),j("core-js/modules/es.array.from"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.array.slice"),j("core-js/modules/es.object.assign"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.regexp.to-string"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.string.iterator"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.float64-array"),j("core-js/modules/es.typed-array.int16-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint16-array"),j("core-js/modules/es.typed-array.uint32-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),j("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=c(j("../core/main")),h=function(S){if(S&&S.__esModule)return S;if(S===null||u(S)!=="object"&&typeof S!="function")return{default:S};var R=g();if(R&&R.has(S))return R.get(S);var M,P={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in S){var D;Object.prototype.hasOwnProperty.call(S,M)&&((D=k?Object.getOwnPropertyDescriptor(S,M):null)&&(D.get||D.set)?Object.defineProperty(P,M,D):P[M]=S[M])}return P.default=S,R&&R.set(S,P),P}(j("../core/constants")),m=c(j("libtess"));j("./p5.Shader"),j("./p5.Camera"),j("../core/p5.Renderer"),j("./p5.Matrix"),j("path");function g(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,g=function(){return S},S)}function c(S){return S&&S.__esModule?S:{default:S}}function l(S){return function(R){if(Array.isArray(R)){for(var M=0,P=new Array(R.length);M<R.length;M++)P[M]=R[M];return P}}(S)||function(R){if(Symbol.iterator in Object(R)||Object.prototype.toString.call(R)==="[object Arguments]")return Array.from(R)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(S,R){x+="#define STROKE_CAP_".concat(S," ").concat(R,`
`),v[h[S]]=R}function p(S,R){x+="#define STROKE_JOIN_".concat(S," ").concat(R,`
`),w[h[S]]=R}var v={},w={},x="",j=(a("ROUND",0),a("PROJECT",1),a("SQUARE",2),p("ROUND",0),p("MITER",1),p("BEVEL",2),`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),E={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;
varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:j+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = vColor;
  }
  else {
    vec4 baseColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : vColor;
    gl_FragColor = vec4(gl_FragColor.rgb * vDiffuseColor + vSpecularColor, 1.) * baseColor.a;
  }
}
`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:j+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : vColor;
  gl_FragColor = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * uAmbientMatColor.rgb + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, 1.) * baseColor.a;
}
`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec2 pixelScale = vec2(
    1. / uModelViewMatrix[0][0],
    1. / uModelViewMatrix[1][1]
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  gl_FragColor *= saturate(max(antialias, cover));
}
`,lineVert:x+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump float;
precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

attribute vec4 aPosition;
attribute vec3 aTangentIn;
attribute vec3 aTangentOut;
attribute float aSide;
attribute vec4 aVertexColor;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5 * curPerspScale;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset / curPerspScale;

  gl_Position.xy = p.xy + offset.xy;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:x+`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`},j=(s.default.RendererGL=function(S,R,M,P){return s.default.Renderer.call(this,S,R,M),this._setAttributeDefaults(R),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=h.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curAmbientColor=this._cachedFillStyle=[1,1,1,1],this.curSpecularColor=this._cachedFillStyle=[0,0,0,0],this.curEmissiveColor=this._cachedFillStyle=[0,0,0,0],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=h.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._useLineColor=!1,this._useVertexColor=!1,this.registerEnabled=[],this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new s.default.Matrix,this.uPMatrix=new s.default.Matrix,this.uNMatrix=new s.default.Matrix("mat3"),this._currentNormal=new s.default.Vector(0,0,1),this._curCamera=new s.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",this,this._flatten),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this,this._flatten),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",this)],fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new s.default.Geometry,shapeMode:h.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",this,this._flatten),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this,this._flatten),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",this)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.curStrokeCap=h.ROUND,this.curStrokeJoin=h.ROUND,this.textures=[],this.textureMode=h.IMAGE,this.textureWrapX=h.CLAMP,this.textureWrapY=h.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this.isProcessingVertices=!1,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},s.default.RendererGL.prototype=Object.create(s.default.Renderer.prototype),s.default.RendererGL.prototype._setAttributeDefaults=function(S){var R={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0};S._glAttributes===null?S._glAttributes=R:S._glAttributes=Object.assign(R,S._glAttributes)},s.default.RendererGL.prototype._initContext=function(){if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var S=this.drawingContext;S.enable(S.DEPTH_TEST),S.depthFunc(S.LEQUAL),S.viewport(0,0,S.drawingBufferWidth,S.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)},s.default.RendererGL.prototype._resetContext=function(S,R){var M,P=this.width,k=this.height,I=this.canvas.id,D=this._pInst instanceof s.default.Graphics,I=(D?((M=this._pInst).canvas.parentNode.removeChild(M.canvas),M.canvas=document.createElement("canvas"),(M._pInst._userNode||document.body).appendChild(M.canvas),s.default.Element.call(M,M.canvas,M._pInst),M.width=P,M.height=k):((M=this.canvas)&&M.parentNode.removeChild(M),(M=document.createElement("canvas")).id=I,(this._pInst._userNode||document.body).appendChild(M),this._pInst.canvas=M,this.canvas=M),new s.default.RendererGL(this._pInst.canvas,this._pInst,!D));this._pInst._setProperty("_renderer",I),I.resize(P,k),I._applyDefaults(),D||this._pInst._elements.push(I),typeof R=="function"&&setTimeout(function(){R.apply(window._renderer,S)},0)},s.default.prototype.setAttributes=function(S,R){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var M=!0;if(R!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[S]!==R&&(this._glAttributes[S]=R,M=!1)):S instanceof Object&&this._glAttributes!==S&&(this._glAttributes=S,M=!1),this._renderer.isP3D&&!M){if(!this._setupDone){for(var P in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(P))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},s.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},s.default.RendererGL.prototype.background=function(){var P=(P=this._pInst).color.apply(P,arguments),S=P.levels[0]/255,R=P.levels[1]/255,M=P.levels[2]/255,P=P.levels[3]/255;this.clear(S,R,M,P)},s.default.RendererGL.prototype.fill=function(S,R,M,P){var k=s.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=k._array,this.drawMode=h.FILL,this._useNormalMaterial=!1,this._tex=null},s.default.RendererGL.prototype.stroke=function(S,R,M,P){var k=s.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=k._array},s.default.RendererGL.prototype.strokeCap=function(S){this.curStrokeCap=S},s.default.RendererGL.prototype.strokeJoin=function(S){this.curStrokeJoin=S},s.default.RendererGL.prototype.filter=function(S){console.error("filter() does not work in WEBGL mode")},s.default.RendererGL.prototype.blendMode=function(S){S===h.DARKEST||S===h.LIGHTEST||S===h.ADD||S===h.BLEND||S===h.SUBTRACT||S===h.SCREEN||S===h.EXCLUSION||S===h.REPLACE||S===h.MULTIPLY||S===h.REMOVE?this.curBlendMode=S:S!==h.BURN&&S!==h.OVERLAY&&S!==h.HARD_LIGHT&&S!==h.SOFT_LIGHT&&S!==h.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},s.default.RendererGL.prototype.erase=function(S,R){this._isErasing||(this._applyBlendMode(h.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,S/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,R/255])},s.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},s.default.RendererGL.prototype.strokeWeight=function(S){this.curStrokeWeight!==S&&(this.pointSize=S,this.curStrokeWeight=S)},s.default.RendererGL.prototype._getPixel=function(S,R){var M=new Uint8Array(4);return this.drawingContext.readPixels(S,R,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,M),[M[0],M[1],M[2],M[3]]},s.default.RendererGL.prototype.loadPixels=function(){var S,R=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(R=R.pixels,S=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4,R instanceof Uint8Array&&R.length===S||(R=new Uint8Array(S),this._pixelsState._setProperty("pixels",R)),S=this._pInst._pixelDensity,this.GL.readPixels(0,0,this.width*S,this.height*S,this.GL.RGBA,this.GL.UNSIGNED_BYTE,R))},s.default.RendererGL.prototype.geometryInHash=function(S){return this.retainedMode.geometry[S]!==void 0},s.default.RendererGL.prototype.resize=function(S,R){s.default.Renderer.prototype.resize.call(this,S,R),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize(),S=this._pixelsState,S.pixels!==void 0&&S._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},s.default.RendererGL.prototype.clear=function(){var S=(arguments.length<=0?void 0:arguments[0])||0,R=(arguments.length<=1?void 0:arguments[1])||0,M=(arguments.length<=2?void 0:arguments[2])||0,P=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(S*P,R*P,M*P,P),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},s.default.RendererGL.prototype.applyMatrix=function(S,R,M,P,k,D){arguments.length===16?s.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([S,R,0,0,M,P,0,0,0,0,1,0,k,D,0,1])},s.default.RendererGL.prototype.translate=function(S,R,M){return S instanceof s.default.Vector&&(M=S.z,R=S.y,S=S.x),this.uMVMatrix.translate([S,R,M]),this},s.default.RendererGL.prototype.scale=function(S,R,M){return this.uMVMatrix.scale(S,R,M),this},s.default.RendererGL.prototype.rotate=function(S,R){return R===void 0?this.rotateZ(S):(s.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},s.default.RendererGL.prototype.rotateX=function(S){return this.rotate(S,1,0,0),this},s.default.RendererGL.prototype.rotateY=function(S){return this.rotate(S,0,1,0),this},s.default.RendererGL.prototype.rotateZ=function(S){return this.rotate(S,0,0,1),this},s.default.RendererGL.prototype.push=function(){var S=s.default.Renderer.prototype.push.apply(this),R=S.properties;return R.uMVMatrix=this.uMVMatrix.copy(),R.uPMatrix=this.uPMatrix.copy(),R._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),R.ambientLightColors=this.ambientLightColors.slice(),R.specularColors=this.specularColors.slice(),R.directionalLightDirections=this.directionalLightDirections.slice(),R.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),R.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),R.pointLightPositions=this.pointLightPositions.slice(),R.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),R.pointLightSpecularColors=this.pointLightSpecularColors.slice(),R.spotLightPositions=this.spotLightPositions.slice(),R.spotLightDirections=this.spotLightDirections.slice(),R.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),R.spotLightSpecularColors=this.spotLightSpecularColors.slice(),R.spotLightAngle=this.spotLightAngle.slice(),R.spotLightConc=this.spotLightConc.slice(),R.userFillShader=this.userFillShader,R.userStrokeShader=this.userStrokeShader,R.userPointShader=this.userPointShader,R.pointSize=this.pointSize,R.curStrokeWeight=this.curStrokeWeight,R.curStrokeColor=this.curStrokeColor,R.curFillColor=this.curFillColor,R.curAmbientColor=this.curAmbientColor,R.curSpecularColor=this.curSpecularColor,R.curEmissiveColor=this.curEmissiveColor,R._useSpecularMaterial=this._useSpecularMaterial,R._useEmissiveMaterial=this._useEmissiveMaterial,R._useShininess=this._useShininess,R.constantAttenuation=this.constantAttenuation,R.linearAttenuation=this.linearAttenuation,R.quadraticAttenuation=this.quadraticAttenuation,R._enableLighting=this._enableLighting,R._useNormalMaterial=this._useNormalMaterial,R._tex=this._tex,R.drawMode=this.drawMode,R._currentNormal=this._currentNormal,R.curBlendMode=this.curBlendMode,S},s.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this},s.default.RendererGL.prototype._getImmediateStrokeShader=function(){var S=this.userStrokeShader;return S&&S.isStrokeShader()?S:this._getLineShader()},s.default.RendererGL.prototype._getRetainedStrokeShader=s.default.RendererGL.prototype._getImmediateStrokeShader,s.default.RendererGL.prototype._getImmediateFillShader=function(){var S=this.userFillShader;if(this._useNormalMaterial&&(!S||!S.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!S||!S.isLightShader())return this._getLightShader()}else if(this._tex){if(!S||!S.isTextureShader())return this._getLightShader()}else if(!S)return this._getImmediateModeShader();return S},s.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var S=this.userFillShader;if(this._enableLighting){if(!S||!S.isLightShader())return this._getLightShader()}else if(this._tex){if(!S||!S.isTextureShader())return this._getLightShader()}else if(!S)return this._getColorShader();return S},s.default.RendererGL.prototype._getImmediatePointShader=function(){var S=this.userPointShader;return S&&S.isPointShader()?S:this._getPointShader()},s.default.RendererGL.prototype._getRetainedLineShader=s.default.RendererGL.prototype._getImmediateLineShader,s.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new s.default.Shader(this,E.phongVert,E.phongFrag):this._defaultLightShader=new s.default.Shader(this,E.lightVert,E.lightTextureFrag)),this._defaultLightShader},s.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new s.default.Shader(this,E.immediateVert,E.vertexColorFrag)),this._defaultImmediateModeShader},s.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new s.default.Shader(this,E.normalVert,E.normalFrag)),this._defaultNormalShader},s.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new s.default.Shader(this,E.normalVert,E.basicFrag)),this._defaultColorShader},s.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new s.default.Shader(this,E.pointVert,E.pointFrag)),this._defaultPointShader},s.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new s.default.Shader(this,E.lineVert,E.lineFrag)),this._defaultLineShader},s.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new s.default.Shader(this,E.fontVert,E.fontFrag)),this._defaultFontShader},s.default.RendererGL.prototype._getEmptyTexture=function(){var S;return this._emptyTexture||((S=new s.default.Image(1,1)).set(0,0,255),this._emptyTexture=new s.default.Texture(this,S)),this._emptyTexture},s.default.RendererGL.prototype.getTexture=function(S){var R=this.textures,M=!0,P=!1,k=void 0;try{for(var D,I=R[Symbol.iterator]();!(M=(D=I.next()).done);M=!0){var N=D.value;if(N.src===S)return N}}catch(U){P=!0,k=U}finally{try{M||I.return==null||I.return()}finally{if(P)throw k}}return P=new s.default.Texture(this,S),R.push(P),P},s.default.RendererGL.prototype._setStrokeUniforms=function(S){S.bindShader(),S.setUniform("uUseLineColor",this._useLineColor),S.setUniform("uMaterialColor",this.curStrokeColor),S.setUniform("uStrokeWeight",this.curStrokeWeight),S.setUniform("uStrokeCap",v[this.curStrokeCap]),S.setUniform("uStrokeJoin",w[this.curStrokeJoin])},s.default.RendererGL.prototype._setFillUniforms=function(S){S.bindShader(),S.setUniform("uUseVertexColor",this._useVertexColor),S.setUniform("uMaterialColor",this.curFillColor),S.setUniform("isTexture",!!this._tex),this._tex&&S.setUniform("uSampler",this._tex),S.setUniform("uTint",this._tint),S.setUniform("uAmbientMatColor",this.curAmbientColor),S.setUniform("uSpecularMatColor",this.curSpecularColor),S.setUniform("uEmissiveMatColor",this.curEmissiveColor),S.setUniform("uSpecular",this._useSpecularMaterial),S.setUniform("uEmissive",this._useEmissiveMaterial),S.setUniform("uShininess",this._useShininess),S.setUniform("uUseLighting",this._enableLighting);var R=this.pointLightDiffuseColors.length/3,R=(S.setUniform("uPointLightCount",R),S.setUniform("uPointLightLocation",this.pointLightPositions),S.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),S.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),R=(S.setUniform("uDirectionalLightCount",R),S.setUniform("uLightingDirection",this.directionalLightDirections),S.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),S.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),R=(S.setUniform("uAmbientLightCount",R),S.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);S.setUniform("uSpotLightCount",R),S.setUniform("uSpotLightAngle",this.spotLightAngle),S.setUniform("uSpotLightConc",this.spotLightConc),S.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),S.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),S.setUniform("uSpotLightLocation",this.spotLightPositions),S.setUniform("uSpotLightDirection",this.spotLightDirections),S.setUniform("uConstantAttenuation",this.constantAttenuation),S.setUniform("uLinearAttenuation",this.linearAttenuation),S.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),S.bindTextures()},s.default.RendererGL.prototype._setPointUniforms=function(S){S.bindShader(),S.setUniform("uMaterialColor",this.curStrokeColor),S.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},s.default.RendererGL.prototype._bindBuffer=function(S,R,M,P,k){R=R||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(R,S),M!==void 0&&(S=new(P||Float32Array)(M),this.GL.bufferData(R,S,k||this.GL.STATIC_DRAW))},s.default.RendererGL.prototype._arraysEqual=function(S,R){var M=S.length;if(M!==R.length)return!1;for(var P=0;P<M;P++)if(S[P]!==R[P])return!1;return!0},s.default.RendererGL.prototype._isTypedArray=function(S){return S instanceof Uint32Array},s.default.RendererGL.prototype._flatten=function(S){if(S.length===0)return[];var R;if(2e4<S.length){for(var M=Object.prototype.toString,P=[],k=S.slice(),D=k.pop();M.call(D)==="[object Array]"?k.push.apply(k,l(D)):P.push(D),k.length&&(D=k.pop())!==void 0;);return P.reverse(),P}return(R=[]).concat.apply(R,l(S))},s.default.RendererGL.prototype._vToNArray=function(S){var R=[],M=!0,P=!1,k=void 0;try{for(var D,I=S[Symbol.iterator]();!(M=(D=I.next()).done);M=!0){var N=D.value;R.push(N.x,N.y,N.z)}}catch(U){P=!0,k=U}finally{try{M||I.return==null||I.return()}finally{if(P)throw k}}return R},s.default.prototype._assert3d=function(S){if(!this._renderer.isP3D)throw new Error("".concat(S,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},s.default.RendererGL.prototype.tessyVertexSize=12,s.default.RendererGL.prototype._initTessy=function(){var S=new m.default.GluTesselator;return S.gluTessCallback(m.default.gluEnum.GLU_TESS_VERTEX_DATA,function(R,M){for(var P=0;P<R.length;P++)M[M.length]=R[P]}),S.gluTessCallback(m.default.gluEnum.GLU_TESS_BEGIN,function(R){R!==m.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(R))}),S.gluTessCallback(m.default.gluEnum.GLU_TESS_ERROR,function(R){console.log("error callback"),console.log("error number: ".concat(R))}),S.gluTessCallback(m.default.gluEnum.GLU_TESS_COMBINE,function(R,M,P){for(var k=new Array(s.default.RendererGL.prototype.tessyVertexSize).fill(0),D=0;D<P.length;D++)for(var I=0;I<k.length;I++)P[D]!==0&&M[D]&&(k[I]+=M[D][I]*P[D]);return k}),S.gluTessCallback(m.default.gluEnum.GLU_TESS_EDGE_FLAG,function(R){}),S},s.default.RendererGL.prototype._triangulate=function(S){var R=S[0]?S[0][2]:void 0,M=!0,P=!0,k=!1,D=void 0;try{for(var I,N=S[Symbol.iterator]();!(P=(I=N.next()).done);P=!0)for(var U=I.value,G=0;G<U.length;G+=s.default.RendererGL.prototype.tessyVertexSize)if(U[G+2]!==R){M=!1;break}}catch(Y){k=!0,D=Y}finally{try{P||N.return==null||N.return()}finally{if(k)throw D}}M?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0),k=[],this._tessy.gluTessBeginPolygon(k);for(var J=0;J<S.length;J++){this._tessy.gluTessBeginContour();for(var K=S[J],Z=0;Z<K.length;Z+=s.default.RendererGL.prototype.tessyVertexSize){var X=K.slice(Z,Z+s.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(X,X)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),k},s.default.RendererGL.prototype._bezierCoefficients=function(S){var R=S*S,M=1-S,P=M*M;return[P*M,3*P*S,3*M*R,R*S]},s.default.RendererGL.prototype._quadraticCoefficients=function(S){var R=1-S;return[R*R,2*R*S,S*S]},s.default.RendererGL.prototype._bezierToCatmull=function(S){return[S[1],S[1]+(S[2]-S[0])/this._curveTightness,S[2]-(S[3]-S[1])/this._curveTightness,S[2]]},s.default.RendererGL);d.default=j},{"../core/constants":256,"../core/main":267,"../core/p5.Renderer":270,"./p5.Camera":315,"./p5.Matrix":317,"./p5.Shader":322,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,libtess:239,path:242}],322:[function(t,f,d){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.Shader=function(u,s,h){this._renderer=u,this._vertSrc=s,this._fragSrc=h,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},i.default.Shader.prototype.init=function(){if(this._glProgram===0){var u=this._renderer.GL;if(this._vertShader=u.createShader(u.VERTEX_SHADER),u.shaderSource(this._vertShader,this._vertSrc),u.compileShader(this._vertShader),!u.getShaderParameter(this._vertShader,u.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(u.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=u.createShader(u.FRAGMENT_SHADER),u.shaderSource(this._fragShader,this._fragSrc),u.compileShader(this._fragShader),!u.getShaderParameter(this._fragShader,u.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(u.getShaderInfoLog(this._fragShader))),null;this._glProgram=u.createProgram(),u.attachShader(this._glProgram,this._vertShader),u.attachShader(this._glProgram,this._fragShader),u.linkProgram(this._glProgram),u.getProgramParameter(this._glProgram,u.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(u.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},i.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var u=this._renderer.GL,s=u.getProgramParameter(this._glProgram,u.ACTIVE_ATTRIBUTES),h=0;h<s;++h){var m=u.getActiveAttrib(this._glProgram,h),g=m.name,c=u.getAttribLocation(this._glProgram,g),l={};l.name=g,l.location=c,l.index=h,l.type=m.type,l.size=m.size,this.attributes[g]=l}this._loadedAttributes=!0}},i.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var u=this._renderer.GL,s=u.getProgramParameter(this._glProgram,u.ACTIVE_UNIFORMS),h=0,m=0;m<s;++m){var g=u.getActiveUniform(this._glProgram,m),c={},l=(c.location=u.getUniformLocation(this._glProgram,g.name),c.size=g.size,g.name);1<g.size&&(l=l.substring(0,l.indexOf("[0]"))),c.name=l,c.type=g.type,c._cachedData=void 0,c.type===u.SAMPLER_2D&&(c.samplerIndex=h,h++,this.samplers.push(c)),c.isArray=1<g.size||c.type===u.FLOAT_MAT3||c.type===u.FLOAT_MAT4||c.type===u.FLOAT_VEC2||c.type===u.FLOAT_VEC3||c.type===u.FLOAT_VEC4||c.type===u.INT_VEC2||c.type===u.INT_VEC4||c.type===u.INT_VEC3,this.uniforms[l]=c}this._loadedUniforms=!0}},i.default.Shader.prototype.compile=function(){},i.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},i.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},i.default.Shader.prototype.bindTextures=function(){var u=this._renderer.GL,s=!0,h=!1,m=void 0;try{for(var g,c=this.samplers[Symbol.iterator]();!(s=(g=c.next()).done);s=!0){var l=g.value,a=l.texture;a===void 0&&(a=this._renderer._getEmptyTexture()),u.activeTexture(u.TEXTURE0+l.samplerIndex),a.bindTexture(),a.update(),u.uniform1i(l.location,l.samplerIndex)}}catch(p){h=!0,m=p}finally{try{s||c.return==null||c.return()}finally{if(h)throw m}}},i.default.Shader.prototype.updateTextures=function(){var u=!0,s=!1,h=void 0;try{for(var m,g=this.samplers[Symbol.iterator]();!(u=(m=g.next()).done);u=!0){var c=m.value.texture;c&&c.update()}}catch(l){s=!0,h=l}finally{try{u||g.return==null||g.return()}finally{if(s)throw h}}},i.default.Shader.prototype.unbindTextures=function(){var u=!0,s=!1,h=void 0;try{for(var m,g=this.samplers[Symbol.iterator]();!(u=(m=g.next()).done);u=!0){var c=m.value;this.setUniform(c.name,this._renderer._getEmptyTexture())}}catch(l){s=!0,h=l}finally{try{u||g.return==null||g.return()}finally{if(s)throw h}}},i.default.Shader.prototype._setMatrixUniforms=function(){var u=this._renderer._curCamera.cameraMatrix,s=this._renderer.uPMatrix,h=this._renderer.uMVMatrix,m=h.copy();m.mult(s),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",u.mat4),this.setUniform("uProjectionMatrix",s.mat4),this.setUniform("uModelViewMatrix",h.mat4),this.setUniform("uModelViewProjectionMatrix",m.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},i.default.Shader.prototype.useProgram=function(){var u=this._renderer.GL;return this._renderer._curShader!==this&&(u.useProgram(this._glProgram),this._renderer._curShader=this),this},i.default.Shader.prototype.setUniform=function(u,s){var h=this.uniforms[u];if(h){var m=this._renderer.GL;if(h.isArray){if(h._cachedData&&this._renderer._arraysEqual(h._cachedData,s))return;h._cachedData=s.slice(0)}else{if(h._cachedData&&h._cachedData===s)return;Array.isArray(s)?h._cachedData=s.slice(0):h._cachedData=s}var g=h.location;switch(this.useProgram(),h.type){case m.BOOL:s===!0?m.uniform1i(g,1):m.uniform1i(g,0);break;case m.INT:1<h.size?s.length&&m.uniform1iv(g,s):m.uniform1i(g,s);break;case m.FLOAT:1<h.size?s.length&&m.uniform1fv(g,s):m.uniform1f(g,s);break;case m.FLOAT_MAT3:m.uniformMatrix3fv(g,!1,s);break;case m.FLOAT_MAT4:m.uniformMatrix4fv(g,!1,s);break;case m.FLOAT_VEC2:1<h.size?s.length&&m.uniform2fv(g,s):m.uniform2f(g,s[0],s[1]);break;case m.FLOAT_VEC3:1<h.size?s.length&&m.uniform3fv(g,s):m.uniform3f(g,s[0],s[1],s[2]);break;case m.FLOAT_VEC4:1<h.size?s.length&&m.uniform4fv(g,s):m.uniform4f(g,s[0],s[1],s[2],s[3]);break;case m.INT_VEC2:1<h.size?s.length&&m.uniform2iv(g,s):m.uniform2i(g,s[0],s[1]);break;case m.INT_VEC3:1<h.size?s.length&&m.uniform3iv(g,s):m.uniform3i(g,s[0],s[1],s[2]);break;case m.INT_VEC4:1<h.size?s.length&&m.uniform4iv(g,s):m.uniform4i(g,s[0],s[1],s[2],s[3]);break;case m.SAMPLER_2D:m.activeTexture(m.TEXTURE0+h.samplerIndex),h.texture=s instanceof i.default.Texture?s:this._renderer.getTexture(s),m.uniform1i(g,h.samplerIndex),h.texture.src.gifProperties&&h.texture.src._animateGif(this._renderer._pInst)}return this}},i.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},i.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},i.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},i.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},i.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},i.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},i.default.Shader.prototype.enableAttrib=function(u,s,h,m,g,c){var l;return u&&(u=u.location)!==-1&&(l=this._renderer.GL,this._renderer.registerEnabled[u]||(l.enableVertexAttribArray(u),this._renderer.registerEnabled[u]=!0),this._renderer.GL.vertexAttribPointer(u,s,h||l.FLOAT,m||!1,g||0,c||0)),this},t=i.default.Shader,d.default=t},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],323:[function(t,f,d){function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function u(c){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var s=(g=t("../core/main"))&&g.__esModule?g:{default:g},h=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var l=m();if(l&&l.has(c))return l.get(c);var a,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in c){var w;Object.prototype.hasOwnProperty.call(c,a)&&((w=v?Object.getOwnPropertyDescriptor(c,a):null)&&(w.get||w.set)?Object.defineProperty(p,a,w):p[a]=c[a])}return p.default=c,l&&l.set(c,p),p}(t("../core/constants"));function m(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,m=function(){return c},c)}s.default.Texture=function(c,l,a){return this._renderer=c,c=this._renderer.GL,(a=a||{}).dataType===c.FLOAT&&(c.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),c.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=l,this.glTex=void 0,this.glTarget=c.TEXTURE_2D,this.glFormat=a.format||c.RGBA,this.mipmaps=!1,this.glMinFilter=a.minFilter||c.LINEAR,this.glMagFilter=a.magFilter||c.LINEAR,this.glWrapS=a.wrapS||c.CLAMP_TO_EDGE,this.glWrapT=a.wrapT||c.CLAMP_TO_EDGE,this.glDataType=a.dataType||c.UNSIGNED_BYTE,this.isSrcMediaElement=s.default.MediaElement!==void 0&&l instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=s.default.Element!==void 0&&l instanceof s.default.Element&&!(l instanceof s.default.Graphics)&&!(l instanceof s.default.Renderer),this.isSrcP5Image=l instanceof s.default.Image,this.isSrcP5Graphics=l instanceof s.default.Graphics,this.isSrcP5Renderer=l instanceof s.default.Renderer,this.isImageData=typeof ImageData<"u"&&l instanceof ImageData,a=this._getTextureDataFromSource(),this.width=a.width,this.height=a.height,this.init(a),this},s.default.Texture.prototype._getTextureDataFromSource=function(){var c;return this.isSrcP5Image?c=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?c=this.src.elt:this.isImageData&&(c=this.src),c},s.default.Texture.prototype.init=function(c){var l,a=this._renderer.GL;this.glTex=a.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this.glMagFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(l=new Uint8Array([1,1,1,1]),a.texImage2D(this.glTarget,0,a.RGBA,1,1,0,this.glFormat,this.glDataType,l)):a.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,c)},s.default.Texture.prototype.update=function(){var c,l,a,p=this.src;return p.width!==0&&p.height!==0&&(c=this._getTextureDataFromSource(),l=!1,a=this._renderer.GL,c.width!==this.width||c.height!==this.height?(l=!0,this.width=c.width,this.height=c.height,this.isSrcP5Image?p.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&p.setModified(!0)):this.isSrcP5Image?p.isModified()&&p.setModified(!(l=!0)):this.isSrcMediaElement?p.isModified()?p.setModified(!(l=!0)):p.loadedmetadata&&this._videoPrevUpdateTime!==p.time()&&(this._videoPrevUpdateTime=p.time(),l=!0):this.isImageData?p._dirty&&(l=!(p._dirty=!1)):l=!0,l&&(this.bindTexture(),a.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,c)),l)},s.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},s.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},s.default.Texture.prototype.setInterpolation=function(c,l){var a=this._renderer.GL;c===h.NEAREST?this.glMinFilter=a.NEAREST:this.glMinFilter=a.LINEAR,l===h.NEAREST?this.glMagFilter=a.NEAREST:this.glMagFilter=a.LINEAR,this.bindTexture(),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.glMinFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},s.default.Texture.prototype.setWrapMode=function(c,l){function a(x){return(x&x-1)==0}var p=this._renderer.GL,w=this._getTextureDataFromSource(),w=w.naturalWidth&&w.naturalHeight?(v=w.naturalWidth,w.naturalHeight):(v=this.width,this.height),v=a(v),w=a(w);c===h.REPEAT?v&&w?this.glWrapS=p.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=p.CLAMP_TO_EDGE):c===h.MIRROR?v&&w?this.glWrapS=p.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=p.CLAMP_TO_EDGE):this.glWrapS=p.CLAMP_TO_EDGE,l===h.REPEAT?v&&w?this.glWrapT=p.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=p.CLAMP_TO_EDGE):l===h.MIRROR?v&&w?this.glWrapT=p.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=p.CLAMP_TO_EDGE):this.glWrapT=p.CLAMP_TO_EDGE,this.bindTexture(),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,this.glWrapS),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var g=s.default.Texture;d.default=g},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],324:[function(t,f,d){function i(v){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}function u(v){return(u=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(w){return i(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":i(w)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var s,h=(s=t("../core/main"))&&s.__esModule?s:{default:s},m=function(v){if(v&&v.__esModule)return v;if(v===null||u(v)!=="object"&&typeof v!="function")return{default:v};var w=g();if(w&&w.has(v))return w.get(v);var x,E={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in v){var S;Object.prototype.hasOwnProperty.call(v,x)&&((S=j?Object.getOwnPropertyDescriptor(v,x):null)&&(S.get||S.set)?Object.defineProperty(E,x,S):E[x]=v[x])}return E.default=v,w&&w.set(v,E),E}(t("../core/constants"));function g(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,g=function(){return v},v)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),h.default.RendererGL.prototype._applyTextProperties=function(){},h.default.RendererGL.prototype.textWidth=function(v){return this._isOpenType()?this._textFont._textWidth(v,this._textSize):0};function c(v,w){this.width=v,this.height=w,this.infos=[],this.findImage=function(x){var E,j,S=this.width*this.height;if(S<x)throw new Error("font is too complex to render in 3D");for(var R=this.infos.length-1;0<=R;--R){var M=this.infos[R];if(M.index+x<S){j=(E=M).imageData;break}}if(!E){try{j=new ImageData(this.width,this.height)}catch{var P=document.getElementsByTagName("canvas")[0],k=!P,D=(P||((P=document.createElement("canvas")).style.display="none",document.body.appendChild(P)),P.getContext("2d"));D&&(j=D.createImageData(this.width,this.height)),k&&document.body.removeChild(P)}this.infos.push(E={index:0,imageData:j})}return D=E.index,E.index+=x,j._dirty=!0,{imageData:j,index:D}}}function l(R,w,x,E,j){var S=R.imageData.data,R=4*R.index++;S[R++]=w,S[R++]=x,S[R++]=E,S[+R]=j}function a(v){this.font=v,this.strokeImageInfos=new c(64,64),this.colDimImageInfos=new c(64,64),this.rowDimImageInfos=new c(64,64),this.colCellImageInfos=new c(64,64),this.rowCellImageInfos=new c(64,64),this.glyphInfos={},this.getGlyphInfo=function(w){var x=this.glyphInfos[w.index];if(!x){var E=w.getBoundingBox(),j=E.x1,S=E.y1,R=E.x2-j,M=E.y2-S,P=w.path.commands;if(R==0||M==0||!P.length)return this.glyphInfos[w.index]={};for(var k,D,I,N,U=[],G=[],J=[],K=8;0<=K;--K)J.push([]);for(K=8;0<=K;--K)G.push([]);var Z=!0,X=!1,Y=void 0;try{for(var te,se=P[Symbol.iterator]();!(Z=(te=se.next()).done);Z=!0){var me=te.value,A=(me.x-j)/R,L=(me.y-S)/M;if(!je(k,D,A,L)){switch(me.type){case"M":I=A,N=L;break;case"L":pe(k,D,A,L);break;case"Q":var H=(me.x1-j)/R,$=(me.y1-S)/M;le([k,A,H],[D,L,$],{x:k,y:D,cx:H,cy:$});break;case"Z":je(k,D,I,N)?U.push({x:k,y:D}):(pe(k,D,I,N),U.push({x:I,y:N}));break;case"C":for(var ie=function(Fe,z,ae,He,Ge,$e,Ze,Ee){var Fe=new ge(new h.default.Vector(Fe,z),new h.default.Vector(ae,He),new h.default.Vector(Ge,$e),new h.default.Vector(Ze,Ee)).splitInflections(),Pe=[],Q=30/p,ne=!0,z=!1,ae=void 0;try{for(var _e,Oe=Fe[Symbol.iterator]();!(ne=(_e=Oe.next()).done);ne=!0){for(var Ue=_e.value,Ye=[],Qe=void 0;!(.125<=(Qe=Q/Ue.quadError()));){var et=Math.pow(Qe,.3333333333333333),nt=Ue.split(et),vt=Ue.split(1-et/(1-et));Pe.push(nt),Ye.push(Ue),Ue=vt}Qe<1&&Pe.push(Ue.split(.5)),Pe.push(Ue),Array.prototype.push.apply(Pe,Ye.reverse())}}catch(mt){z=!0,ae=mt}finally{try{ne||Oe.return==null||Oe.return()}finally{if(z)throw ae}}return Pe}(k,D,(me.x1-j)/R,(me.y1-S)/M,(me.x2-j)/R,(me.y2-S)/M,A,L),ye=0;ye<ie.length;ye++){var ve=ie[ye].toQuadratic();le([ve.x,ve.x1,ve.cx],[ve.y,ve.y1,ve.cy],ve)}break;default:throw new Error("unknown command type: ".concat(me.type))}k=A,D=L}}}catch(Ce){X=!0,Y=Ce}finally{try{Z||se.return==null||se.return()}finally{if(X)throw Y}}for(var xe=U.length,fe=this.strokeImageInfos.findImage(xe),W=fe.index,re=0;re<xe;++re){var q=U[re];l(fe,ue(q.x),ue(q.y),ue(q.cx),ue(q.cy))}(x=this.glyphInfos[w.index]={glyph:w,uGlyphRect:[E.x1,-E.y1,E.x2,-E.y2],strokeImageInfo:fe,strokes:U,colInfo:Se(J,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Se(G,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[x.colInfo.dimOffset,x.rowInfo.dimOffset]}return x;function le(Ce,Re,Ne){var He=U.length;function Ge(Pe,Q,ne){for(var z=Pe.length;0<z--;){var ae=Pe[z];ae<Q&&(Q=ae),ne<ae&&(ne=ae)}return{min:Q,max:ne}}U.push(Ne);for(var Ne=Ge(Ce,1,0),Ce=Math.max(Math.floor(9*Ne.min-.5),0),$e=Math.min(Math.ceil(9*Ne.max+.5),9),Ze=Ce;Ze<$e;++Ze)J[Ze].push(He);for(var Ne=Ge(Re,1,0),Ce=Math.max(Math.floor(9*Ne.min-.5),0),Ee=Math.min(Math.ceil(9*Ne.max+.5),9),Fe=Ce;Fe<Ee;++Fe)G[Fe].push(He)}function ue(Ce){return(Ce=(Ne=255)*Ce)<(Re=0)?Re:Ne<Ce?Ne:Ce;var Re,Ne}function ge(Ce,Re,Ne,He){this.p0=Ce,this.c0=Re,this.c1=Ne,this.p1=He,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return h.default.Vector.sub(h.default.Vector.sub(this.p1,this.p0),h.default.Vector.mult(h.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Fe){var $e=h.default.Vector.lerp(this.p0,this.c0,Fe),Ee=h.default.Vector.lerp(this.c0,this.c1,Fe),Ze=h.default.Vector.lerp($e,Ee,Fe),Ee=(this.c1=h.default.Vector.lerp(this.c1,this.p1,Fe),this.c0=h.default.Vector.lerp(Ee,this.c1,Fe),h.default.Vector.lerp(Ze,this.c0,Fe)),Fe=new ge(this.p0,$e,Ze,Ee);return this.p0=Ee,Fe},this.splitInflections=function(){var Ge=h.default.Vector.sub(this.c0,this.p0),$e=h.default.Vector.sub(h.default.Vector.sub(this.c1,this.c0),Ge),Ze=h.default.Vector.sub(h.default.Vector.sub(h.default.Vector.sub(this.p1,this.c1),Ge),h.default.Vector.mult($e,2)),Ee=[],Fe=$e.x*Ze.y-$e.y*Ze.x;return Fe!==0&&0<=(Ge=(Ze=Ge.x*Ze.y-Ge.y*Ze.x)*Ze-4*Fe*(Ge.x*$e.y-Ge.y*$e.x))&&(Fe<0&&(Fe=-Fe,Ze=-Ze),Ge=(-Ze+($e=Math.sqrt(Ge)))/(2*Fe),0<(Ze=(-Ze-$e)/(2*Fe))&&Ze<1&&(Ee.push(this.split(Ze)),Ge=1-(1-Ge)/(1-Ze)),0<Ge&&Ge<1&&Ee.push(this.split(Ge))),Ee.push(this),Ee}}function pe(Ce,Re,Ne,He){le([Ce,Ne],[Re,He],{x:Ce,y:Re,cx:(Ce+Ne)/2,cy:(Re+He)/2})}function je(Ce,Re,Ne,He){return Math.abs(Ne-Ce)<1e-5&&Math.abs(He-Re)<1e-5}function Se(Ce,Re,Ne){for(var He=Ce.length,Ge=Re.findImage(He),Re=Ge.index,$e=0,Ze=0;Ze<He;++Ze)$e+=Ce[Ze].length;for(var Ee=Ne.findImage($e),Fe=0;Fe<He;++Fe){var Pe=Ce[Fe],Q=Pe.length,ne=Ee.index;l(Ge,ne>>7,127&ne,Q>>7,127&Q);for(var z=0;z<Q;++z){var ae=Pe[z]+W;l(Ee,ae>>7,127&ae,0,0)}}return{cellImageInfo:Ee,dimOffset:Re,dimImageInfo:Ge}}}}var p=Math.sqrt(3);h.default.RendererGL.prototype._renderText=function(v,w,x,E,j){if(this._textFont&&typeof this._textFont!="string"){if(!(j<=E)&&this._doFill){if(this._isOpenType()){v.push();var j=this._doStroke,S=this.drawMode,R=(this._doStroke=!1,this.drawMode=m.TEXTURE,this._textFont.font),M=(M=this._textFont._fontInfo)||(this._textFont._fontInfo=new a(R)),x=this._textFont._handleAlignment(this,w,x,E),E=this._textSize/R.unitsPerEm,P=(this.translate(x.x,x.y,0),this.scale(E,E,1),this.GL),x=!this._defaultFontShader,k=this._getFontShader(),D=(k.init(),k.bindShader(),x&&(k.setUniform("uGridImageSize",[64,64]),k.setUniform("uCellsImageSize",[64,64]),k.setUniform("uStrokeImageSize",[64,64]),k.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),I=(D||((E=this._textGeom=new h.default.Geometry(1,1,function(){for(var ve=0;ve<=1;ve++)for(var xe=0;xe<=1;xe++)this.vertices.push(new h.default.Vector(xe,ve,0)),this.uvs.push(xe,ve)})).computeFaces().computeNormals(),D=this.createBuffers("glyph",E)),!0),x=!1,E=void 0;try{for(var N,U=this.retainedMode.buffers.text[Symbol.iterator]();!(I=(N=U.next()).done);I=!0)N.value._prepareBuffer(D,k)}catch(ve){x=!0,E=ve}finally{try{I||U.return==null||U.return()}finally{if(x)throw E}}this._bindBuffer(D.indexBuffer,P.ELEMENT_ARRAY_BUFFER),k.setUniform("uMaterialColor",this.curFillColor);try{var G=0,J=null,K=R.stringToGlyphs(w),Z=!0,X=!1,Y=void 0;try{for(var te,se=K[Symbol.iterator]();!(Z=(te=se.next()).done);Z=!0){var me,A,L=te.value,H=(J&&(G+=R.getKerningValue(J,L)),M.getGlyphInfo(L));H.uGlyphRect&&(me=H.rowInfo,A=H.colInfo,k.setUniform("uSamplerStrokes",H.strokeImageInfo.imageData),k.setUniform("uSamplerRowStrokes",me.cellImageInfo.imageData),k.setUniform("uSamplerRows",me.dimImageInfo.imageData),k.setUniform("uSamplerColStrokes",A.cellImageInfo.imageData),k.setUniform("uSamplerCols",A.dimImageInfo.imageData),k.setUniform("uGridOffset",H.uGridOffset),k.setUniform("uGlyphRect",H.uGlyphRect),k.setUniform("uGlyphOffset",G),k.bindTextures(),P.drawElements(P.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),G+=L.advanceWidth,J=L}}catch(ve){X=!0,Y=ve}finally{try{Z||se.return==null||se.return()}finally{if(X)throw Y}}}finally{k.unbindShader(),this._doStroke=j,this.drawMode=S,v.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return v}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":256,"../core/main":267,"./p5.RendererGL.Retained":320,"./p5.Shader":322,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}]},{},[251])(251)})})(ng);const lt=sg(wl),b=new lt(n=>{}),ig=13,Sa=3/8,_a=1/2,ag=1,ei=3600,qo=9999999999,xl=500,lg=1.5,ug=100,cg="flood",Oh="floodNext",dg="floodWater",hg="floodWaterNext",td="0.0.1",Ri=b.min(b.windowWidth/80,b.windowHeight/40),ee={HEX_SIZE:b.min(b.windowWidth/80,b.windowHeight/40),UNIT_SIZE:Ri*(2/3),BASE_SPEED:Ri/24,STROKE:Ri/20,TEXT:Ri*.8,MID_POS:b.createVector(b.windowWidth*Sa,b.windowHeight*_a),TRUE_MID_POS:b.createVector(200,200),TRUE_HEX_SIZE:10,TRUE_BASE_SPEED:10/24,TRUE_UNIT_SIZE:10*(2/3)},bo=[255,0,0],kh=[200,0,0],jn=[247,52,43],Sl=[153,117,112],fg=[155,17,30],ti=[217,33,33],pg=[117,13,13],yu=[0,255,0],Dh=[200,200,0],ri=[144,238,144],oi=[3,192,74],vu=[74,176,150],Ih=[80,220,100],_l=[255,145,164],Lh=[41,110,1],Bh=[152,208,35],Uh=[65,245,25],mg=[70,125,93],bu=[150,221,126],El=[64,224,208],gg=[134,254,238],Nh=[0,0,255],jl=[50,148,235],yg=[25,187,255],yn=[163,214,251],ci=[14,135,204],Fh=[11,11,69],Vh=[76,80,169],Hh=[0,90,156],vg=[192,192,195],Gh=[185,242,255],Tn=[152,118,82],Oo=[64,224,208],mr=[255,255,255],bt=[0,0,0],bg=[15,15,15],$r=[10,10,10],wu=[20,20,20],Ea=[55,55,55],ja=[100,100,100],Wh=[120,120,120],xu=[90,90,90],di=[150,150,150],wg=[255,255,0],xg=[255,191,0],si=[255,223,0],zs=[255,217,61],Es=[255,179,0],Sg=[216,187,93],Do=[255,150,45],Gs=[255,69,0],qs=[251,139,35],zh=[197,177,160],_g=[105,98,79],Eg=[101,67,33],qh=[248,24,148],Zs=[200,0,200],oa=[100,0,100],jg=[60,0,60],Su=[177,156,217],Tg=[177,156,217,155];var rt=(n=>(n[n.EMPTY=0]="EMPTY",n[n.HILL=1]="HILL",n[n.UNSTABLE=2]="UNSTABLE",n[n.WALL=3]="WALL",n[n.WATER=4]="WATER",n[n.LAVA=5]="LAVA",n[n.SPAWN=6]="SPAWN",n[n.BASE=7]="BASE",n[n.TELEPORTER_ONE=8]="TELEPORTER_ONE",n[n.TELEPORTER_TWO=9]="TELEPORTER_TWO",n))(rt||{});const Cg={name:"Empty",description:"An empty tile",hotkey:"e",keycode:69,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:yn},Rg={name:"Hill",description:"A slightly elevated tile",hotkey:"h",keycode:72,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Tn},Mg={name:"Unstable",description:"An unstable tile",hotkey:"u",keycode:85,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:zh},Pg={name:"Wall",description:"A wall tile",hotkey:"w",keycode:87,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:Ea},Ag={name:"Water",description:"A water tile",hotkey:"a",keycode:65,canTower:!1,canWaterTower:!0,canLavaTower:!1,canUnit:!1,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:ci},Og={name:"Lava",description:"A lava tile",hotkey:"l",keycode:76,canTower:!1,canWaterTower:!1,canLavaTower:!0,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:jn},kg={name:"Spawn",description:"An enemy spawn point",hotkey:"s",keycode:83,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!0,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:bo},Dg={name:"Base",description:"A Maou base to be protected",hotkey:"b",keycode:66,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!0,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:Zs},Ig={name:"Teleporter Type One",description:"A teleporter connected to all other teleporters of the same type",hotkey:"t",keycode:84,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:1,rgb:oi},Lg={name:"Teleporter Type Two",description:"A teleporter connected to all other teleporters of the same type",hotkey:"y",keycode:89,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:2,rgb:_l},js={[0]:Cg,[1]:Rg,[2]:Mg,[3]:Pg,[4]:Ag,[5]:Og,[6]:kg,[7]:Dg,[8]:Ig,[9]:Lg},Bg=(n,o,r,t)=>{const f=r/2,d=r*(3/8);b.push(),b.strokeWeight(t),b.beginShape(),b.vertex(n-f,o-d),b.quadraticVertex(n-f,o-f,n-d,o-f),b.vertex(n+d,o-f),b.quadraticVertex(n+f,o-f,n+f,o-d),b.vertex(n+f,o+d),b.quadraticVertex(n+f,o+f,n+d,o+f),b.vertex(n-d,o+f),b.quadraticVertex(n-f,o+f,n-f,o+d),b.endShape(b.CLOSE),b.strokeWeight(t*3),b.line(n-d,o-d,n+d,o+d),b.line(n+d,o-d,n-d,o+d),b.pop()},ni=(n,o,r)=>{const t=r/2,f=r/8;b.push(),b.circle(n,o,r*2),b.noFill(),b.beginShape(),b.vertex(n-t,o-t),b.vertex(n+t,o-t),b.vertex(n-t,o+t),b.vertex(n+t,o+t),b.endShape(),b.line(n-f,o-(t+f),n-f,o-t),b.line(n+f,o-(t+f),n+f,o-t),b.line(n-f,o+(t+f),n-f,o+t),b.line(n+f,o+(t+f),n+f,o+t),b.pop()},Ug=(n,o,r)=>{const t=r/2,f=r*(3/8),d={x:n,y:o-t},i={x:n,y:o+t},u={x:n+f,y:o-f},s={x:n-f,y:o-f};b.noFill(),b.curve(d.x,d.y-t,d.x,d.y,u.x,u.y,u.x+f,u.y-f),b.curve(u.x,u.y-t,u.x,u.y,i.x,i.y,i.x-r*3,i.y),b.curve(i.x+r*3,i.y,i.x,i.y,s.x,s.y,s.x,s.y-t),b.curve(s.x-f,s.y-f,s.x,s.y,d.x,d.y,d.x,d.y-t)},fn={},Ta=(n,o)=>(o=b.round(o,10),n in fn&&o in fn[n]?fn[n][o]:null),Ca=(n,o,r)=>{o=b.round(o,10),n in fn||(fn[n]={}),fn[n][o]=r},Ra=(n,o,r=b)=>{r.beginShape();for(const t of o)r.vertex(n.x+t.x,n.y+t.y);r.endShape(r.CLOSE)},ar=(n,o,r,t=!1,f=b)=>{let d=Ta("hexagon",r);d||(d=Ng(r,t),Ca("hexagon",r,d)),Ra(b.createVector(n,o),d)},Ng=(n,o=!1)=>{let r=o?0:b.TWO_PI/12;const t=[];for(let f=0;f<6;f++){const d=b.cos(r)*n,i=b.sin(r)*n;t.push(b.createVector(d,i)),r+=b.TWO_PI/6}return t},Fg=(n,o,r,t,f,d=!1,i=b)=>{let u=d?-i.TWO_PI/3:-i.PI/2,s=0,h=0;i.push(),i.beginShape();for(let c=0;c<=t;c++)s=n+i.cos(u)*r,h=o+i.sin(u)*r,i.vertex(s,h),u+=i.PI/3;i.endShape();const m=n+i.cos(u)*r,g=o+i.sin(u)*r;i.line(s,h,b.lerp(s,m,f),b.lerp(h,g,f)),i.pop()};var kt=(n=>(n[n.ARCHER=0]="ARCHER",n[n.BARRIER=1]="BARRIER",n[n.KOBOLD=2]="KOBOLD",n[n.ARACHNE=3]="ARACHNE",n[n.PLAGUE=4]="PLAGUE",n[n.SIREN=5]="SIREN",n[n.PYRO=6]="PYRO",n[n.GRAVI=7]="GRAVI",n[n.DRAGON_HOARD=8]="DRAGON_HOARD",n[n.MAGMA_WYRM=9]="MAGMA_WYRM",n))(kt||{});const Vg=ee.STROKE*3,an=(n,o,r=Vg)=>{b.push();const t=n.x+o.x,f=n.y+o.y,d=o.heading(),i=o.mag(),u=lt.Vector.fromAngle(d-b.PI/4),s=lt.Vector.fromAngle(d+b.PI/4);u.mult(-(i/3)),s.mult(-(i/3)),b.strokeWeight(r),b.line(n.x,n.y,t,f),b.line(t,f,t+u.x,f+u.y),b.line(t,f,t+s.x,f+s.y),b.pop()},Hg=0,Gg=ee.STROKE*1,Xh=(n,o,r,t=Hg,f=Gg)=>{b.push(),b.translate(n,o),b.rotate(t);const d=r/2,i={x:0,y:-d},u={x:0,y:d},s=b.createVector(-r/4,0),h=b.createVector(r*(5/6),0);b.strokeWeight(f),b.noFill(),b.line(i.x,i.y,u.x,u.y),an(s,h,f*1.5),b.strokeWeight(f*2),b.curve(i.x-2.5*r,i.y,i.x,i.y,u.x,u.y,u.x-2.5*r,u.y),b.pop()},Qt=(n,o)=>(n.x-o.x)*(n.x-o.x)+(n.y-o.y)*(n.y-o.y),rd=(n,o,r)=>b.min(r,b.max(o,n)),_u=(n,o,r=255)=>b.color(b.random(n[0],o[0]),b.random(n[1],o[1]),b.random(n[2],o[2]),r),Ma=(n,o,r,t=255)=>{const f=1-r;return b.color(n[0]*r+o[0]*f,n[1]*r+o[1]*f,n[2]*r+o[2]*f,t)},as=n=>b.color(b.red(n),b.green(n),b.blue(n),b.alpha(n)),vs=(n,o,r)=>(o.x-n.x)*(r.y-n.y)-(r.x-n.x)*(o.y-n.y),ko=(n,o)=>{const r=o.indexOf(n);o.splice(r,1)},Eu=()=>{const n=b.min(b.windowWidth/80,b.windowHeight/40);ee.HEX_SIZE=n,ee.UNIT_SIZE=n*(2/3),ee.BASE_SPEED=n/24,ee.STROKE=n/20,ee.TEXT=n*.8,ee.MID_POS=b.createVector(b.windowWidth*Sa,b.windowHeight*_a)},Vt=n=>{const o=lt.Vector.sub(n,ee.TRUE_MID_POS);return o.mult(ee.HEX_SIZE/ee.TRUE_HEX_SIZE),o.add(ee.MID_POS),o},Wg=n=>n*(ee.TRUE_HEX_SIZE/ee.HEX_SIZE),_t=n=>n*(ee.HEX_SIZE/ee.TRUE_HEX_SIZE);class Us{constructor(o,r){V(this,"pos");V(this,"data");this.pos=o,this.data=r}}class ts{constructor(o,r,t,f,d=2,i=10){V(this,"pos");V(this,"width");V(this,"height");V(this,"capacity");V(this,"maxDepth");V(this,"split");V(this,"list");V(this,"northEast");V(this,"southEast");V(this,"southWest");V(this,"northWest");this.pos=b.createVector(o,r),this.width=t,this.height=f,this.capacity=d,this.maxDepth=i,this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}getDir(){return[this.northEast,this.southEast,this.southWest,this.northWest]}show(){if(this.split)for(const o of this.getDir())o.show();b.strokeWeight(ee.STROKE),b.stroke(bo),b.noFill(),b.rect(this.pos.x,this.pos.y,this.width,this.height)}insert(o){this.maxDepth<=0?this.list.push(o):this.split?(this.northEast.contains(o.pos)&&this.northEast.insert(o),this.southEast.contains(o.pos)&&this.southEast.insert(o),this.southWest.contains(o.pos)&&this.southWest.insert(o),this.northWest.contains(o.pos)&&this.northWest.insert(o)):(this.list.push(o),this.list.length>this.capacity&&this.subDivide())}subDivide(){const o=this.width/2,r=this.height/2;this.northEast=new ts(this.pos.x+o,this.pos.y,o,r,this.capacity,this.maxDepth-1),this.southEast=new ts(this.pos.x+o,this.pos.y+r,o,r,this.capacity,this.maxDepth-1),this.southWest=new ts(this.pos.x,this.pos.y+r,o,r,this.capacity,this.maxDepth-1),this.northWest=new ts(this.pos.x,this.pos.y,o,r,this.capacity,this.maxDepth-1),this.split=!0;for(let t=this.list.length-1;t>=0;t--)this.insert(this.list[t]),this.list.splice(t,1)}contains(o){return o.x>=this.pos.x&&o.x<this.pos.x+this.width&&o.y>=this.pos.y&&o.y<this.pos.y+this.height}inRangeCircle(o,r){const t=r**2;if(!this.intersectsCirlce(o,t))return[];const f=[];if(this.split)for(const d of this.getDir())f.push(...d.inRangeCircle(o,r));else for(const d of this.list)Qt(d.pos,o)>t||f.push(d.data);return f}inRangeCircleFromMin(o,r,t){const f=r**2,d=t**2;if(!this.intersectsCirlce(o,f))return[];const i=[];if(this.split)for(const u of this.getDir())i.push(...u.inRangeCircleFromMin(o,r,t));else for(const u of this.list)Qt(u.pos,o)>f||Qt(u.pos,o)<d||i.push(u.data);return i}inRangeCirclePart(o,r,t,f){const d=r**2;if(!this.intersectsCirlce(o,d))return[];const i=[];if(this.split)for(const u of this.getDir())i.push(...u.inRangeCirclePart(o,r,t,f));else for(const u of this.list){if(Qt(u.pos,o)>d)continue;const s=(lt.Vector.sub(u.pos,o).heading()+b.TWO_PI)%b.TWO_PI,h=t-s;h>-f&&h<f&&i.push(u.data)}return i}inRangePath(o,r,t){const f=[],d=[],i=lt.Vector.sub(r,o),u=lt.Vector.fromAngle(i.heading()+b.PI/2);u.setMag(t),d.push(lt.Vector.add(u,o)),u.mult(-1),d.push(lt.Vector.add(u,o)),d.push(lt.Vector.add(u,r)),u.mult(-1),d.push(lt.Vector.add(u,r));const s=(i.heading()+b.TWO_PI)%b.TWO_PI;f.push(...this.inRangeCirclePart(r,t,s,b.PI/2));const h=(i.heading()+b.PI*3)%b.TWO_PI;return f.push(...this.inRangeCirclePart(o,t,h,b.PI/2)),f.push(...this.inRangeRotatedRect(d)),f}inRangeRect(o,r,t){if(!this.intersectsRect(o,r,t))return[];const f=[];if(this.split)for(const d of this.getDir())f.push(...d.inRangeRect(o,r,t));else for(const d of this.list)d.pos.x>o.x+r||d.pos.x<o.x||d.pos.y>o.y+t||d.pos.y<o.y||f.push(d.data);return f}inRangeRotatedRect(o){const r=[];if(this.split)for(const t of this.getDir())r.push(...t.inRangeRotatedRect(o));else for(const t of this.list)vs(o[0],o[1],t.pos)>0&&vs(o[1],o[2],t.pos)>0&&vs(o[2],o[3],t.pos)>0&&vs(o[3],o[0],t.pos)>0&&r.push(t.data);return r}intersectsCirlce(o,r){const t=b.createVector(rd(o.x,this.pos.x,this.pos.x+this.width),rd(o.y,this.pos.y,this.pos.y+this.height));return Qt(t,o)<=r}intersectsRect(o,r,t){return!(o.x>this.pos.x+this.width||o.x+r<this.pos.x||o.y>this.pos.y+this.height||o.y+t<this.pos.y)}emptyQuadTree(){this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}}const It=new ts(0,0,ee.TRUE_MID_POS.x*2,ee.TRUE_MID_POS.y*2,3,7),zg=0,qg=ee.STROKE*2,sa=(n,o,r,t=zg,f=qg)=>{const d=r*.2;b.push(),b.translate(n,o),b.rotate(t),b.triangle(0,-d*4,d*.8,d*2,-d*.8,d*2),b.strokeWeight(f*1.5),b.line(0,d*3.5,0,d*2.1),b.strokeWeight(f),b.line(d,d*2,-d,d*2),b.pop()},Ts=(n,o,r,t=0,f=ee.STROKE,d=b)=>{const i=r/2,u=r/3,s=r/4,h=r*(3/10);d.push(),d.translate(n,o),d.rotate(t),d.stroke(bt),d.strokeWeight(f),d.beginShape(),d.vertex(0,-i),d.quadraticVertex(u/2*1.1,-i/2*1.1,s,0),d.quadraticVertex(h,h,0,u),d.quadraticVertex(-h,h,-s,0),d.quadraticVertex(-u/2*1.1,-i/2*1.1,0,-i),d.endShape(),d.pop()},Pa=(n,o,r,t=b)=>{const f=r/2,d=r/3,i=r/4,u=r*(3/10);t.push(),t.translate(n,o),t.stroke(bt),t.strokeWeight(ee.STROKE),t.beginShape(),t.vertex(0,-f),t.quadraticVertex(d/2*1.1,-f/2*1.1,i,0),t.quadraticVertex(u,u,0,d),t.quadraticVertex(-u,u,-i,0),t.quadraticVertex(-d/2*1.1,-f/2*1.1,0,-f),t.endShape(),t.pop()},Yh=(n,o,r,t=b)=>{const f=r/2,d=f-r/4,i=f-r/6,u=b.PI/40,s=b.PI/10;let h=0,m=0,g=!0;for(t.noStroke(),t.beginShape();h<t.TWO_PI;){g?m=t.random(d,i):m=t.random(i,f);const c=n+t.cos(h)*m,l=o+t.sin(h)*m;t.vertex(c,l),h+=t.random(u,s),g=!g}t.endShape(t.CLOSE)},el=(n,o,r)=>{const t=r/2,f=t-r/4,d=t-r/6,i=b.PI/40,u=b.PI/10;let s=0,h=0,m=!0;const g=[];for(;s<b.TWO_PI;){m?h=b.random(f,d):h=b.random(d,t);const c=n+b.cos(s)*h,l=o+b.sin(s)*h;g.push(b.createVector(c,l)),s+=b.random(i,u),m=!m}return g},tl=(n,o=b)=>{o.push(),o.noStroke(),o.beginShape();for(const r of n)o.vertex(r.x,r.y);o.endShape(o.CLOSE),o.pop()};class lr{constructor(o,r){V(this,"type");V(this,"amount");this.type=o,this.amount=r}}const Xg=(n,o,r)=>{r==="PHYSICAL"&&Yg(n,o),r==="MAGIC"&&Zg(n,o),r==="POISON"&&Kg(n,o),r==="FIRE"&&$g(n,o),r==="EXPLOSION"&&Qg(n,o),r==="DROWN"&&Jg(n,o)},Yg=(n,o)=>{b.fill(di),b.strokeWeight(0),b.stroke(bt),sa(n.x,n.y,o,b.PI/4,ee.STROKE*.5),sa(n.x,n.y,o,-b.PI/4,ee.STROKE*.5)},Zg=(n,o)=>{b.fill(Zs),b.strokeWeight(0),b.stroke(bt),Yh(n.x,n.y,o)},Kg=(n,o)=>{b.strokeWeight(0),b.stroke(bt),b.fill(Uh),Pa(n.x,n.y,o)},$g=(n,o)=>{b.strokeWeight(0),b.stroke(bt),b.fill(qs),Ts(n.x,n.y,o)},Qg=(n,o)=>{b.fill(Do),b.strokeWeight(0),b.stroke(bt),Yh(n.x,n.y,o)},Jg=(n,o)=>{b.strokeWeight(0),b.stroke(bt),b.fill(ci),Pa(n.x,n.y,o)};class us{constructor(o,r,t,f,d,i,u,s={}){V(this,"origin");V(this,"pos");V(this,"truePos");V(this,"prevPos");V(this,"truePrevPos");V(this,"vel");V(this,"acc");V(this,"size");V(this,"radius");V(this,"damage");V(this,"damageType");V(this,"pierce");V(this,"critChance");V(this,"critMultiplier");V(this,"statuses");V(this,"lifeSpan");V(this,"color");V(this,"alreadyHitEnemyIds");V(this,"extraDamageCalc");V(this,"extraActionOnHit");V(this,"extraActionOnMove");this.origin=o,this.truePos=r.copy(),this.pos=Vt(this.truePos),this.truePrevPos=this.truePos.copy(),this.prevPos=Vt(this.truePos),this.vel=t.copy(),this.acc=b.createVector(0,0),this.size=f,this.radius=f/2,this.damage=d,this.damageType=i,this.pierce=s.pierce??1,this.critChance=s.critChance??0,this.critMultiplier=s.critMultiplier??2,this.statuses=s.statuses??[],this.lifeSpan=u,this.color=s.color??b.color(wu),this.alreadyHitEnemyIds=[],this.extraDamageCalc=s.extraDamageCalc??(()=>0),this.extraActionOnHit=s.extraActionOnHit??(()=>{}),this.extraActionOnMove=s.extraActionOnMove??(()=>{})}resize(){}show(){const o=this.vel.copy();o.setMag(_t(this.size));const r=lt.Vector.add(this.pos,o.copy().mult(-.5));b.stroke(this.color),an(r,o,2)}showDebug(){b.stroke(this.color),b.strokeWeight(ee.STROKE*5),b.point(this.pos.x,this.pos.y)}update(){this.vel.add(this.acc),this.truePrevPos=this.truePos.copy(),this.truePos.add(this.vel),this.prevPos=this.pos.copy(),this.pos=Vt(this.truePos),this.acc.mult(0);const o=It.inRangePath(this.truePrevPos,this.truePos,this.size);for(const r of o)this.hit(r);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}applyForce(o){this.acc.add(o)}hit(o){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(o.id))return;this.alreadyHitEnemyIds.push(o.id);const r=this.damage*(b.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(o);this.updateOriginUsageDataSingle(o,r),o.takeDamage(new lr(this.damageType,r));for(let t=0;t<this.statuses.length;t++)o.applyStatus(this.statuses[t]);this.extraActionOnHit({pos:this.truePos,vel:this.vel,target:o}),this.pierce--}updateOriginUsageData(o,r){this.origin.usageData.totalDamageDone+=r,this.origin.usageData.unitsHit++,this.origin.usageData.highestDamageHit<r&&(this.origin.usageData.highestDamageHit=r),r>=o.hp&&(this.origin.usageData.unitsKilled++,this.origin.usageData.overkillDamageDone+=r-o.hp)}updateOriginUsageDataSingle(o,r){this.origin.usageData.totalHits++,this.updateOriginUsageData(o,r)}updateOriginUsageDataAoe(o,r){this.origin.usageData.totalHits++;for(const t of o)this.updateOriginUsageData(t,r)}}const ey=n=>({totalDamageDone:0,totalHits:0,highestDamageHit:0,overkillDamageDone:0,unitsKilled:0,unitsHit:0,framesExists:0,totalCost:n,killsPerCost:0,damagePerCost:0,killsPerFrame:0,damagePerFrame:0,killsPerCostPerFrame:0,damagePerCoastPerFrame:0}),ty=n=>{n.killsPerCost=b.round(n.unitsKilled/n.totalCost,2),n.damagePerCost=b.round(n.totalDamageDone/n.totalCost,2),n.killsPerFrame=b.round(n.unitsKilled/n.framesExists,2),n.damagePerFrame=b.round(n.totalDamageDone/n.framesExists,2),n.killsPerCostPerFrame=b.round(n.unitsKilled/n.totalCost/n.framesExists,2),n.damagePerCoastPerFrame=b.round(n.totalDamageDone/n.totalCost/n.framesExists,2)};var gs=(n=>(n[n.CLOSEST=0]="CLOSEST",n[n.FURTHEST=1]="FURTHEST",n[n.FIRST=2]="FIRST",n[n.LAST=3]="LAST",n[n.STRONGEST=4]="STRONGEST",n[n.WEAKEST=5]="WEAKEST",n))(gs||{});const ry={name:"Closest",description:"Target the enemy closest to the tower.",function:(n,o)=>{let r=0,t=99999;for(let f=0;f<o.length;f++){const d=Qt(o[f].truePos,n);d<t&&(t=d,r=f)}return o[r]}},oy={name:"Furthest",description:"Target the enemy furthest from the tower.",function:(n,o)=>{let r=0,t=0;for(let f=0;f<o.length;f++){const d=Qt(o[f].truePos,n);d>t&&(t=d,r=f)}return o[r]}},sy={name:"First",description:"Target the enemy closest to reaching the base.",function:(n,o)=>{let r=0,t=99999;for(let f=0;f<o.length;f++){const d=o[f].getCurrentTile();d.data.floodSteps<t&&(t=d.data.floodSteps,r=f)}return o[r]}},ny={name:"Last",description:"Target the enemy closest to the spawn.",function:(n,o)=>{let r=0,t=0;for(let f=0;f<o.length;f++){const d=o[f].getCurrentTile();d.data.floodSteps>t&&(t=d.data.floodSteps,r=f)}return o[r]}},iy={name:"Strongest",description:"Target the strongest enemy.",function:(n,o)=>{let r=0,t=0;for(let f=0;f<o.length;f++){const d=o[f].hp;t<d&&(t=d,r=f)}return o[r]}},ay={name:"Weakest",description:"Target the weakest enemy.",function:(n,o)=>{let r=0,t=99999999;for(let f=0;f<o.length;f++){const d=o[f].hp;t>d&&(t=d,r=f)}return o[r]}},pn={[0]:ry,[1]:oy,[2]:sy,[3]:ny,[4]:iy,[5]:ay};class vn{constructor(o,r,t,f,d,i={}){V(this,"pos");V(this,"truePos");V(this,"r");V(this,"q");V(this,"size");V(this,"trueSize");V(this,"collisionRadius");V(this,"vertices");V(this,"color");V(this,"wall");V(this,"canTower");V(this,"canWaterTower");V(this,"canLavaTower");V(this,"canUnit");V(this,"canWaterUnit");V(this,"isTower");V(this,"isSpawn");V(this,"isTeleporter");V(this,"teleporterType");V(this,"type");V(this,"data");V(this,"buffs");V(this,"timedBuffs");V(this,"appliedEffects");this.pos=Vt(b.createVector(o,r)),this.truePos=b.createVector(o,r),this.r=t,this.q=f,this.trueSize=d,this.size=_t(this.trueSize),this.collisionRadius=ee.TRUE_HEX_SIZE*(2+b.sqrt(3))/4,this.vertices=[],this.color=i.color?b.color(i.color.levels):b.color(yn),this.wall=i.wall??!1,this.canTower=i.canTower??!0,this.canWaterTower=i.canWaterTower??!1,this.canLavaTower=i.canLavaTower??!1,this.canUnit=i.canUnit??!0,this.canWaterUnit=i.canWaterUnit??!0,this.isSpawn=i.isSpawn??!1,this.isTower=i.isTower??!1,this.isTeleporter=i.isTeleporter??!1,this.teleporterType=i.teleporterType??0,this.type=i.type??rt.EMPTY,this.buffs=[],this.timedBuffs=[],this.appliedEffects={},this.data=i.data??{}}show(o=this.pos){b.fill(this.color),b.stroke(10),b.strokeWeight(ee.STROKE),ar(o.x,o.y,this.size)}update(){}resize(){this.pos=Vt(this.truePos),this.size=ee.HEX_SIZE}showDebug(){if(b.push(),b.strokeWeight(ee.STROKE*3),this.data.floodPathVector&&(b.stroke(0,0,255),an(this.pos,this.data.floodPathVector.copy().mult(.3))),this.data.floodNext&&(b.stroke(255,0,255),b.line(this.pos.x,this.pos.y,this.data.floodNext.pos.x,this.data.floodNext.pos.y),this.data.floodPathVector&&an(this.pos,this.data.floodPathVector.copy().mult(.4))),this.data["scout-1-vector"]&&(b.stroke(0,255,255),an(this.pos,this.data["scout-1-vector"].copy().mult(.3))),this.data["scout-1-prev"]){const o=lt.Vector.sub(b.createVector(this.data["scout-1-prev"].pos.x,this.data["scout-1-prev"].pos.y),b.createVector(this.pos.x,this.pos.y));b.stroke(255,0,0),an(this.pos,o.copy().mult(.3))}b.pop()}preCalculateVertices(o=!1){const r=o?0:30;for(let t=0;t<6;t++){const f=b.PI/180*(r+t*60),d=this.pos.x+b.cos(f)*this.size,i=this.pos.y+b.sin(f)*this.size;this.vertices.push(b.createVector(d,i))}}applyBuff(o){this.buffs.push(o)}removeBuff(o){for(let r=0;r<this.buffs.length;r++)if(this.buffs[r].id===o){this.buffs.splice(r,1);return}}onCollision(){return null}}const ly={name:"Easy",UNIT_HP_MOD:.8,UNIT_SPEED_MOD:.9,UNIT_FORCE_MOD:.75,MAOU_HP_MOD:2,TOWER_COST_MOD:.85,TOWER_SELL_MOD:1,FINAL_WAVE:40,ESSENCE_REWARD:10,MODS_REWARD:1},Co={name:"Normal",UNIT_HP_MOD:1,UNIT_SPEED_MOD:1,UNIT_FORCE_MOD:1,MAOU_HP_MOD:1,TOWER_COST_MOD:1,TOWER_SELL_MOD:.9,FINAL_WAVE:60,ESSENCE_REWARD:15,MODS_REWARD:2},uy={name:"Hard",UNIT_HP_MOD:1.25,UNIT_SPEED_MOD:1.1,UNIT_FORCE_MOD:1.4,MAOU_HP_MOD:1,TOWER_COST_MOD:1.1,TOWER_SELL_MOD:.8,FINAL_WAVE:80,ESSENCE_REWARD:20,MODS_REWARD:3},cy={name:"Extreme",UNIT_HP_MOD:1.5,UNIT_SPEED_MOD:1.25,UNIT_FORCE_MOD:2,MAOU_HP_MOD:.1,TOWER_COST_MOD:1.2,TOWER_SELL_MOD:0,FINAL_WAVE:100,ESSENCE_REWARD:25,MODS_REWARD:4},Tl={Easy:ly,Normal:Co,Hard:uy,Extreme:cy},dy=n=>n==="Easy"?"Normal":n==="Normal"?"Hard":"Extreme";let fr={name:Co.name,UNIT_HP_MOD:Co.UNIT_HP_MOD,UNIT_SPEED_MOD:Co.UNIT_SPEED_MOD,UNIT_FORCE_MOD:Co.UNIT_FORCE_MOD,MAOU_HP_MOD:Co.MAOU_HP_MOD,TOWER_COST_MOD:Co.TOWER_COST_MOD,TOWER_SELL_MOD:Co.TOWER_SELL_MOD,FINAL_WAVE:Co.FINAL_WAVE};const hy=n=>{fr.name=n.name,fr.UNIT_HP_MOD=n.UNIT_HP_MOD,fr.UNIT_SPEED_MOD=n.UNIT_SPEED_MOD,fr.UNIT_FORCE_MOD=n.UNIT_FORCE_MOD,fr.MAOU_HP_MOD=n.MAOU_HP_MOD,fr.TOWER_COST_MOD=n.TOWER_COST_MOD,fr.TOWER_SELL_MOD=n.TOWER_SELL_MOD,fr.FINAL_WAVE=n.FINAL_WAVE};class Xo extends vn{constructor(r,t,f,d,i,u,s,h,m,g,c,l){super(r,t,f,d,i,{color:b.color(Dh),...l});V(this,"range");V(this,"baseRange");V(this,"trueRange");V(this,"rangeBuffsAdditive");V(this,"rangeBuffsMultiplicative");V(this,"name");V(this,"cooldown");V(this,"baseCooldown");V(this,"cooldownBuffsAdditive");V(this,"currentCooldown");V(this,"cost");V(this,"spendValue");V(this,"sellValue");V(this,"damage");V(this,"baseDamage");V(this,"damageBuffsMultiplicative");V(this,"projectileSpeed");V(this,"projectilePierce");V(this,"projectileSize");V(this,"projectileNumber");V(this,"critChance");V(this,"critMultiplier");V(this,"lastShotAngle");V(this,"showTargetingType");V(this,"targetingType");V(this,"selectedTargetingType");V(this,"availableTargetingTypes");V(this,"upgradesPurchased");V(this,"purchasedUpgrades");V(this,"upgrades");V(this,"projectileColor");V(this,"ultimate");V(this,"ultCooldown");V(this,"ultCurrentCooldown");V(this,"extraActionsOnHit");V(this,"extraActionsOnMove");V(this,"buffsThisApplied");V(this,"usageData");V(this,"extraMenuShowText");V(this,"towerId");this.name=u,this.trueRange=s,this.baseRange=s,this.range=_t(s),this.rangeBuffsAdditive=[],this.rangeBuffsMultiplicative=[],this.cooldown=g,this.baseCooldown=g,this.cooldownBuffsAdditive=[],this.currentCooldown=g/2,this.cost=c,this.spendValue=l.spendValue??c,this.sellValue=0,this.calcSellValue(),this.damage=h,this.baseDamage=h,this.damageBuffsMultiplicative=[],this.projectileSpeed=m,this.critChance=l.critChance??0,this.critMultiplier=l.critMultiplier??1,this.projectilePierce=l.projectilePierce??1,this.projectileColor=l.projectileColor??b.color(wu),this.projectileSize=l.projectileSize??ee.TRUE_HEX_SIZE*(2/3),this.projectileNumber=1,this.lastShotAngle=0,this.showTargetingType=!0,this.targetingType=gs.CLOSEST,this.selectedTargetingType=0,this.availableTargetingTypes=[gs.CLOSEST,gs.FURTHEST,gs.FIRST,gs.LAST,gs.STRONGEST,gs.WEAKEST],this.upgradesPurchased=0,this.ultimate=()=>{},this.ultCooldown=0,this.ultCurrentCooldown=0,this.purchasedUpgrades=[],this.upgrades=l.upgrades,this.extraActionsOnHit=[],this.extraActionsOnMove=[],this.buffsThisApplied=[],this.usageData=ey(l.spendValue??c),this.canUnit=!1,this.canWaterUnit=!1,this.extraMenuShowText="",this.towerId=l.towerId??0}show(r=this.pos){b.push(),b.stroke(0),b.strokeWeight(ee.STROKE*2),b.fill(this.color),ar(r.x,r.y,this.size),this.upgradesPurchased>3&&(b.strokeWeight(ee.STROKE),ar(r.x,r.y,this.size-3),this.upgradesPurchased>7&&(b.stroke(0),ar(r.x,r.y,this.size-6))),this.showSymbol(r),this.shouldShowUltCooldown(),b.pop()}resize(){super.resize(),this.range=_t(this.trueRange),this.recalcRangeBuffs()}showSymbol(r=this.pos){}shouldShowUltCooldown(){}showUltCooldown(){if(this.ultCurrentCooldown<=0){let d=this.ultCurrentCooldown*-1%100;d>50&&(d=100-d),d/=50,b.push(),b.noFill(),b.strokeWeight(ee.STROKE*2),b.stroke(Ma(Es,mr,d)),ar(this.pos.x,this.pos.y,this.size-1),b.pop();return}const r=(this.ultCooldown-this.ultCurrentCooldown)/this.ultCooldown*6,t=b.floor(r),f=r%1;b.push(),b.noFill(),b.strokeWeight(ee.STROKE*2),b.stroke(Es),Fg(this.pos.x,this.pos.y,this.size-1,t,f),b.pop()}applyBuff(r){r.onApply(this),this.buffs.push(r)}applyTimedBuff(r){r.onApply(this),this.timedBuffs.push(r)}applyAllMyBuffs(){for(const r of this.buffs)r.onApply(this)}removeBuff(r){for(let t=0;t<this.buffs.length;t++)if(this.buffs[t].id===r){this.buffs[t].onRemove(this),this.buffs.splice(t,1);return}}recalcCooldownBuffs(){this.cooldown=this.baseCooldown;for(const r of this.cooldownBuffsAdditive)this.cooldown+=r}recalcRangeBuffs(){this.trueRange=this.baseRange;for(const r of this.rangeBuffsAdditive)this.trueRange+=r;for(const r of this.rangeBuffsMultiplicative)this.trueRange*=r;this.range=_t(this.trueRange)}recalcDamageBuffs(){this.damage=this.baseDamage;for(const r of this.damageBuffsMultiplicative)this.damage*=r}showRange(){if(this.range>0){const r=as(this.color);r.setAlpha(100),b.fill(r),b.circle(this.pos.x,this.pos.y,this.range*2)}}update(){return this.currentCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.ultCurrentCooldown--,this.handleBuffs(),this.usageData.framesExists++,!0}handleBuffs(){for(let r=this.timedBuffs.length-1;r>=0;r--){const t=this.timedBuffs[r];t.duration--,t.duration<=0&&(t.onRemove(this),this.timedBuffs.splice(r,1))}}castUlt(){this.ultCurrentCooldown>0||(this.ultCurrentCooldown=this.ultCooldown,this.ultimate())}getDamage(){return this.damage}getHitableAimPos(r){const t=It.inRangeCircle(this.truePos,this.trueRange);let f=t[0],d=!1,i=b.createVector(0,0);for(;!d;){if(t.length<1)return{aimPos:void 0,target:void 0};f=pn[this.targetingType].function(this.truePos,t),i=f.truePos.copy();for(let u=1;u<=r;u++)if(i.add(f.vel),Qt(i,this.truePos)<(this.projectileSpeed*u)**2){d=!0;break}t.splice(t.indexOf(f),1)}return{aimPos:i,target:f}}baseShoot(){const r=this.trueRange/this.projectileSpeed,{aimPos:t}=this.getHitableAimPos(r);if(t===void 0)return;const f=lt.Vector.sub(t,this.truePos);return f.setMag(this.projectileSpeed),new us(this,this.truePos.copy(),f,this.projectileSize,this.getDamage(),"PHYSICAL",r,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier})}shoot(){const r=this.baseShoot();return r===void 0?!1:(this.lastShotAngle=r.vel.heading(),Je.addProjectile(r),!0)}purchaseUpgrade(r,t){r.onPurchase(this),r.purchased=!0,this.purchasedUpgrades.push(r.id);for(const f in this.upgrades){const d=this.upgrades[f];d.available=d.isAvailable(this.purchasedUpgrades)}this.spendValue+=t,this.usageData.totalCost+=t,this.upgradesPurchased++,this.calcSellValue()}calcSellValue(){this.sellValue=this.spendValue*fr.TOWER_SELL_MOD}onSell(){}onWaveEnd(){}increaseDamage(r){this.baseDamage+=r,this.recalcDamageBuffs()}increaseRange(r){this.baseRange+=r,this.recalcRangeBuffs()}increaseCooldown(r){this.baseCooldown+=r,this.recalcCooldownBuffs()}nextTargetingType(){this.selectedTargetingType=(this.selectedTargetingType+1)%this.availableTargetingTypes.length,this.targetingType=this.availableTargetingTypes[this.selectedTargetingType]}previousTargetingType(){this.selectedTargetingType=this.selectedTargetingType-1,this.selectedTargetingType<0&&(this.selectedTargetingType+=this.availableTargetingTypes.length),this.targetingType=this.availableTargetingTypes[this.selectedTargetingType]}}class Be{constructor(o,r,t,f,d,i,u=!1){V(this,"id");V(this,"name");V(this,"cost");V(this,"flavorDescription");V(this,"directDescription");V(this,"onPurchase");V(this,"available");V(this,"purchased");this.id=o,this.name=r,this.cost=t,this.directDescription=f,this.flavorDescription=d,this.onPurchase=i,this.available=u,this.purchased=!1}isAvailable(o){if(this.purchased||o.length>7)return!1;switch(this.id){case"A":case"B":case"C":return!0;case"A+":return o.includes("A");case"B+":return o.includes("B");case"C+":return o.includes("C");case"AB":return o.includes("A")&&o.includes("B");case"BC":return o.includes("B")&&o.includes("C");case"CA":return o.includes("C")&&o.includes("A");case"AB+":return o.includes("AB")||o.includes("A+")&&o.includes("B+");case"BC+":return o.includes("BC")||o.includes("B+")&&o.includes("C+");case"CA+":return o.includes("CA")||o.includes("C+")&&o.includes("A+");case"AB++":return o.includes("AB+");case"BC++":return o.includes("BC+");case"CA++":return o.includes("CA+");default:return!1}}}const Fo=Object.freeze({id:kt.ARCHER,name:"Archer",description:"An Archer is a rather uninspired thing to post on top of a tower to fend off enemies. Does its work just fine though.",hotkey:"a",keycode:65,settingsKey:"ARCHER_TOWER",range:ee.TRUE_HEX_SIZE*5.5,cooldown:160,cost:200,damage:15,projectileSpeed:ee.TRUE_BASE_SPEED*8,towerType:"NORMAL",rgb:xg,showSymbol:(n,o,r={angle:0})=>{Xh(n.x,n.y,o,r.angle,1)}});class fy extends Xo{constructor(r,t,f,d,i,u,s,h,m,g,c){super(r,t,f,d,i,Fo.name,u,s,h,m,g,c);V(this,"arrowNumber");this.arrowNumber=1}showSymbol(r=this.pos){Xh(r.x,r.y,this.size,this.lastShotAngle,1)}shoot(){const r=this.baseShoot();if(r===void 0)return!1;const t=b.floor(this.arrowNumber/2)*-1;this.lastShotAngle=r.vel.heading();const f=b.PI/9;for(let d=t;d<t+this.arrowNumber;d++){const i=this.lastShotAngle+d*f,u=lt.Vector.fromAngle(i);u.setMag(r.vel.mag());const s=[];for(let m=0;m<r.statuses.length;m++)s.push(r.statuses[m].copy());const h=new us(this,this.truePos.copy(),u,r.size,r.damage,"PHYSICAL",r.lifeSpan,{color:this.projectileColor,pierce:r.pierce,critChance:r.critChance,critMultiplier:r.critMultiplier,statuses:s});Je.addProjectile(h)}return!0}}const py=(n,o={})=>new fy(n.truePos.x,n.truePos.y,n.r,n.q,n.trueSize,Fo.range,Fo.damage,Fo.projectileSpeed,Fo.cooldown,Fo.cost,{color:b.color(Fo.rgb),wall:!0,isTower:!0,type:n.type,data:n.data,towerId:Fo.id,spendValue:o.changedCost??Fo.cost,upgrades:{A:new Be("A","Sharper Arrows",100,"This does something yeah","Even sharper arrows deal more damage.",r=>{r.increaseDamage(10)},!0),B:new Be("B","Sunglasses",50,"This does something yeah","You'd think the protection from the sun gives this archer a range increase, but it's really the confidence boost.",r=>{r.increaseRange(ee.TRUE_HEX_SIZE)},!0),C:new Be("C","Faster firing",75,"This does something yeah","Shorter cooldown between arrows.",r=>{r.increaseCooldown(-40)},!0),"A+":new Be("A+","Dark Arrows",300,"This does something yeah","Arrows made from metal mined deep in the underworld. They deal alot more damage",r=>{r.increaseDamage(30),r.projectileColor=b.color(jg)}),"B+":new Be("B+","Scope",120,"This does something yeah","How do you put a scope on a bow? Doesn't matter, more range.",r=>{r.increaseRange(ee.TRUE_HEX_SIZE*2)}),"C+":new Be("C+","Faster firing festival",225,"This does something yeah","Gotta go fast.",r=>{r.increaseCooldown(-40)}),AB:new Be("AB","Aimed shot",25,"This does something yeah","Until now, aiming was more of a suggestion... Faster projectiles",r=>{r.projectileSpeed+=ee.TRUE_BASE_SPEED*7}),BC:new Be("BC","Triple shot",220,"This does something yeah","Trying to emulate some cool moves you saw eh.",r=>{r.arrowNumber+=2}),CA:new Be("CA","Line em up",200,"This does something yeah","Three birds one arrow.",r=>{r.projectilePierce+=2}),"AB+":new Be("AB+","Great shot",700,"This does something yeah","Faster, further, friendlier, if by that you mean deadlier.",r=>{r.projectileSpeed+=ee.TRUE_BASE_SPEED*5,r.increaseDamage(20),r.increaseRange(ee.TRUE_HEX_SIZE)}),"BC+":new Be("BC+","More arrows",250,"This does something yeah","More arrows more better.",r=>{r.arrowNumber+=2}),"CA+":new Be("CA+","Spot Weakspot",350,"This does something yeah","Hit them in their weakspot for critical damage.",r=>{r.critChance+=.2,r.critMultiplier+=1}),"AB++":new Be("AB++","Charged shot",1250,"This does something yeah","Even more powerful shot, deal bonus damage based on the time since the last shot.",r=>{r.increaseDamage(40),r.getDamage=()=>{const t=-r.currentCooldown+r.cooldown;return r.damage+t}}),"BC++":new Be("BC++","Blot out the sun",700,"This does something yeah","Let them fight in the shadow.",r=>{r.arrowNumber+=13}),"CA++":new Be("CA++","Luck is also a skill",1050,"This does something yeah","Rely entirely on luck for those nice and big numbers.",r=>{r.critChance+=.2,r.critMultiplier+=2,r.projectilePierce+=1})}});class Ps{constructor(o,r,t,f,d,i,u){V(this,"name");V(this,"id");V(this,"duration");V(this,"onApply");V(this,"onRemove");V(this,"onPurchase");V(this,"onSkillPurchase");this.name=o,this.id=u??b.random(),this.duration=i??99999,this.onApply=r,this.onRemove=t,this.onPurchase=f,this.onSkillPurchase=d}copy(o){return new Ps(this.name,this.onApply,this.onRemove,this.onPurchase,this.onSkillPurchase,o??this.id)}}const Zh=(n,o,r,t=b)=>{const f=[];for(let d=0;d<8;d++){const i=t.PI/4*d;f.push(t.createVector(t.cos(i)*r,t.sin(i)*r))}t.noFill(),t.strokeWeight(ee.STROKE);for(let d=1;d<4;d++){t.beginShape();for(const i of f)d===1&&t.line(n,o,n+i.x,o+i.y),i.setMag(r*.3*d),t.vertex(n+i.x,o+i.y);t.endShape(t.CLOSE)}},my=(n,o,r,t,f=b)=>{const d=lt.Vector.fromAngle(r);d.setMag(o/2);const i=lt.Vector.fromAngle(r);i.setMag(o),f.push(),f.beginShape(),f.vertex(n.x,n.y);const u=lt.Vector.add(n,d);f.vertex(u.x,u.y),i.rotate(t),u.add(i),f.vertex(u.x,u.y),i.rotate(t).mult(.5),u.add(i),f.vertex(u.x,u.y),i.rotate(f.PI*1.02),u.add(i),f.vertex(u.x,u.y),i.rotate(-t).mult(2),u.add(i),f.vertex(u.x,u.y),i.rotate(-t).mult(.5),u.add(i),f.vertex(u.x,u.y),f.endShape(f.CLOSE),f.pop()},Aa=(n,o,r,t=!0,f=b,d=bo,i=0,u=8)=>{const s=r*.4,h=r/10,m=r*(3/5),g=s*2;f.push(),f.translate(n,o),f.rotate(i),f.noStroke();for(let c=0;c<2;c++)for(let l=-4;l<7;l+=3){if(u<=0)continue;const a=c*(b.PI-2*l*b.PI*.05)+l*b.PI*.05,p=f.createVector(f.cos(a)*s,f.sin(a)*s);let v=-f.PI/5;l>0&&(v*=-1),c>0&&(v*=-1),my(p,g,a,v,f),u--}f.circle(0,-m,m),f.circle(0,0,r),f.fill(d),f.circle(-h,-g,h),f.circle(h,-g,h),t&&(f.stroke(mr),f.strokeWeight(ee.STROKE),Zh(0,0,s,f)),f.pop()},$t=Object.freeze({id:kt.ARACHNE,name:"Arachne",description:"The Arachne spins a web around herself, slowing enemies until they tear through.",hotkey:"w",keycode:87,settingsKey:"ARACHNE_TOWER",range:1,cooldown:450,cost:600,damage:0,projectileSpeed:0,towerType:"NORMAL",rgb:mr,webDurability:1e3,webSlow:.25,spiderlingCooldown:250,spiderlingOnDeathChance:.2,spiderlingHp:100,spiderlingDamage:10,spiderlingHpDecay:.1,rareSpiderlingChance:0,rareSpiderlingHp:2e3,rareSpiderlingDamage:100,rareSpiderlingHpDecay:.1,showSymbol:(n,o,r={})=>{b.fill(bt),Aa(n.x,n.y,o*.7,!1)}}),qt=Object.freeze({id:kt.BARRIER,name:"Barricade",description:"A Barricade is a relatively cheap way to lead the heroes around. It also has access to various utility upgrades.",hotkey:"b",keycode:66,settingsKey:"BARRIER_TOWER",range:0,cooldown:200,cost:50,damage:10,earthquakeDamage:40,earthquakeCooldown:300,oilForceDebuff:.8,oilFireBuff:1.2,oilDuration:100,burnDamage:1,burnDuration:50,burnPanicSpeedIncrease:1.5,neighborBuildDiscount:.9,neighborRangeBuffPercent:1.1,summonBarrierCooldown:750,summonBarrierHp:300,maouHealPerRound:1,projectileSpeed:0,towerType:"NORMAL",rgb:ja,showSymbol:(n,o)=>{}}),_r=Object.freeze({id:kt.DRAGON_HOARD,name:"Dragon Hoard",description:"A Dragon's hoard seems to be imbued with a special magic, growing over time without outside interference. Truly mysterious.",hotkey:"d",keycode:68,settingsKey:"DRAGON_HOARD_TOWER",range:0,cooldown:0,cost:2500,damage:0,hoardCapacity:8e3,hoardFillPerRound:200,timeOverFullFill:2500,hoardInterest:0,projectileSpeed:0,neighborBuildDiscount:.5,areaUpgradeDiscount:.9,gemsPerRound:3,gemGoldValue:50,towerType:"NORMAL",rgb:Es,showSymbol:(n,o)=>{b.fill(si),b.strokeWeight(ee.STROKE*2);const r=o*.1;ni(n.x-r,n.y+r,o*.5),ni(n.x+r,n.y-r,o*.5)}}),Kh=(n,o,r,t=0,f=Tn,d=b)=>{const i=r/3,u=d.TWO_PI/5;let s=t;d.push(),d.stroke(bt),d.strokeWeight(ee.STROKE),d.circle(n,o,r*1.1);for(let h=0;h<5;h++){const m=n+d.cos(s)*i,g=o+d.sin(s)*i;d.fill(f),d.circle(m,g,i),s+=u}d.pop()},Ir=Object.freeze({id:kt.KOBOLD,name:"Kobold",description:"The Kobold supports your defense with its own invention, a spool driven catapult! Every shot fires faster than the last, until the spool overheats or no target can be found.",hotkey:"k",keycode:75,settingsKey:"KOBOLD_TOWER",range:ee.TRUE_HEX_SIZE*3.7,cooldown:70,lowestCooldown:20,maxSpoolHeat:450,cost:300,damage:10,projectileSpeed:ee.TRUE_BASE_SPEED*5,towerType:"NORMAL",rgb:mg,showSymbol:(n,o,r={angle:0,heat:0})=>{b.fill(xu),Kh(n.x,n.y,o,r.angle)}}),gy=(n,o,r)=>{const t=r/2,f=r/4;b.push(),b.rectMode(b.CENTER),b.rect(n,o,t,t),b.rect(n,o+f,r,r/15),b.pop()},$h=(n,o,r,t=b.color(mr))=>{const f=r/2,d=r*(1/4),i=r*(1/12),u=r*(3/4),s=r/3,h=r*(2/3),m=b.createVector(n+i,o+i),g=b.PI,c=b.createVector(m.x+b.cos(g)*i*2,m.y+b.sin(g)*i*2),l=b.createVector(m.x+b.cos(g)*i*6,m.y+b.sin(g)*i*6),a=b.PI*(3/5),p=b.createVector(m.x+b.cos(a)*d,m.y+b.sin(a)*d),v=b.PI*(11/12),w=b.createVector(m.x+b.cos(v)*i*6,m.y+b.sin(v)*i*6),x=b.PI*(5/6),E=b.createVector(m.x+b.cos(x)*h,m.y+b.sin(x)*h),j=b.PI*-4/5,S=b.createVector(m.x+b.cos(j)*i,m.y+b.sin(j)*i);b.strokeWeight(ee.STROKE),b.circle(m.x,m.y,f),b.beginShape(),b.vertex(c.x,c.y),b.quadraticVertex(l.x,l.y,E.x,E.y),b.quadraticVertex(w.x,w.y,p.x,p.y),b.endShape(),b.fill($r),b.stroke(0),gy(m.x,m.y-s,u),b.fill(t),b.circle(S.x,S.y,i)},ro=Object.freeze({id:kt.PLAGUE,name:"Plague Slinger",description:"The Plague slinger throws vials containing deadly poison at your enemies, exploding and infecting everyone in an area when they hit the ground.",hotkey:"p",keycode:80,settingsKey:"PLAGUE_TOWER",range:ee.TRUE_HEX_SIZE*4,cooldown:120,cost:500,damage:10,poisonDuration:500,poisonDamage:.2,projectileSpeed:ee.TRUE_BASE_SPEED*6,towerType:"NORMAL",explosionRadius:ee.TRUE_HEX_SIZE,rgb:Bh,showSymbol:(n,o,r={})=>{b.fill(bt),$h(n.x,n.y,o*1.5)}}),Yo=(n,o,r,t=0,f=ee.STROKE*2,d=bt,i=b)=>{const u=r/2,s=r/3,h=r/6;i.push(),i.translate(n,o),i.rotate(t),i.stroke(d),i.strokeWeight(f),i.beginShape(),i.vertex(0,-u),i.vertex(u,-h),i.vertex(u,h),i.vertex(0,-s),i.vertex(0,u),i.endShape(i.CLOSE),i.ellipse(-s*.8,u*.8,u,s),i.pop()},Dr=Object.freeze({id:kt.SIREN,name:"Siren",description:"The Siren entrances heroes with her song, leading them to wander mindlessely to her.",hotkey:"z",keycode:90,settingsKey:"SIREN_TOWER",range:ee.TRUE_HEX_SIZE*7,cooldown:110,cost:900,damage:10,projectileSpeed:ee.TRUE_BASE_SPEED*3,tranceDuration:150,silenceDuration:200,breakoutChance:5,extraProjectileAngle:b.PI/8,towerType:"WATER",rgb:ci,noteColor:Fh,showSymbol:(n,o,r={angle:0})=>{b.fill(Dr.noteColor),Yo(n.x,n.y,o)}}),jt=Object.freeze({id:kt.PYRO,name:"Pyromaniac",description:"The Pyromaniac lets loose various fire attacks to burn your enemies to a crisp.",hotkey:"f",keycode:70,settingsKey:"PYRO_TOWER",range:ee.TRUE_HEX_SIZE*2.5,wallRange:ee.TRUE_HEX_SIZE*5,cometRange:ee.TRUE_HEX_SIZE*6,flameThrowerAngle:b.PI/6,cooldown:1,cometCooldown:500,wallCooldown:200,cost:1600,damage:1,wallDamage:30,cometDamage:400,cometExplosionRadius:ee.TRUE_HEX_SIZE*2,baseWallSize:ee.TRUE_HEX_SIZE*.6,wallWidthMultiplier:3,wallPierce:8,pushForce:ee.TRUE_BASE_SPEED*2,projectileSpeed:ee.TRUE_BASE_SPEED*2,towerType:"NORMAL",burnDamage:1,burnDuration:20,burnPanicSpeedIncrease:1.5,burningLandLifespan:1500,rgb:bo,flameRgb:qs,showSymbol:(n,o,r={angle:0})=>{b.fill(qs),Ts(n.x,n.y,o)}}),Qh=(n,o,r,t=0,f=b)=>{const d=r/2,i=r/3,u=84,s=f.TWO_PI/u,h=6;let m=i,g=t,c=!0;f.push(),f.stroke(bt),f.strokeWeight(ee.STROKE),f.beginShape();for(let l=0;l<u;l++){c?m=d:m=i;const a=n+f.cos(g)*m,p=o+f.sin(g)*m;f.vertex(a,p),l%h===0&&(c=!c),g+=s}f.endShape(f.CLOSE),f.pop()},oo=Object.freeze({id:kt.GRAVI,name:"Gravi-tech Tower",description:"The Gravi-tech tower is the culmination of underworld technology. It emits a gravitational field around itself, pulling passing heroes in. It does sadly have a tendency to overcharge when too many enemies draw near, or when left on too long.",hotkey:"g",keycode:71,settingsKey:"GRAVI_TOWER",range:ee.TRUE_HEX_SIZE*4,cooldown:1e3,cost:1200,damage:0,projectileSpeed:6,towerType:"NORMAL",rgb:Oo,attractionForce:ee.TRUE_BASE_SPEED*.12,capacity:5,showSymbol:(n,o,r={angle:0})=>{b.fill(Wh),Qh(n.x,n.y,o,r.angle)}}),Jh=(n,o,r,t=0,f=b)=>{let d=r*.8,i=0;const u=r/50,s=(d-u)/100,m=(13/20*r-u)/100;f.push(),f.translate(n,o),f.rotate(t),f.stroke(bt),f.strokeWeight(ee.STROKE),f.beginShape();for(let g=0;g<100;g++){const c=f.cos(i)*d,l=f.sin(i)*d;f.vertex(c,l),i+=f.PI/20,d-=s}for(let g=0;g<100;g++){const c=f.cos(i)*d,l=f.sin(i)*d;f.vertex(c,l),i-=f.PI/20,d+=m}f.endShape(),f.triangle(r*6/10,r/10,r*8/10,r/10,r*7/10,r*-1/5),f.pop()},no=Object.freeze({id:kt.MAGMA_WYRM,name:"Magma Wyrm",description:"The Magma Wyrm lives a turbulent life surrounded by lava. It dies soon after its birth when its enviroment can no longer sustain it and crumbles.",hotkey:"m",keycode:77,settingsKey:"MAGMA_WYRM_TOWER",range:ee.TRUE_HEX_SIZE*5,cooldown:15,cost:100,damage:15,projectileSpeed:ee.TRUE_BASE_SPEED*3,towerType:"LAVA",baseBurnUpDuration:2,rgb:jn,flameRgb:Gs,showSymbol:(n,o,r={angle:0})=>{b.fill(Gs),Jh(n.x,n.y,o)}}),sr={[kt.ARCHER]:Fo,[kt.BARRIER]:qt,[kt.KOBOLD]:Ir,[kt.ARACHNE]:$t,[kt.PLAGUE]:ro,[kt.SIREN]:Dr,[kt.PYRO]:jt,[kt.GRAVI]:oo,[kt.DRAGON_HOARD]:_r,[kt.MAGMA_WYRM]:no},od=(n="FreeBarricade")=>new Ps(n,o=>{},o=>{},(o,r,t)=>(t||o.name)!==sr[kt.BARRIER].name?r:0,(o,r,t)=>r);class qr{constructor(o,r,t,f,d,i,u,s=!1){V(this,"name");V(this,"timing");V(this,"duration");V(this,"effect");V(this,"show");V(this,"onApply");V(this,"onRemoval");V(this,"noCleanse");this.name=o,this.duration=r,this.timing=t,this.effect=f,this.show=d,this.onApply=i??(()=>{}),this.onRemoval=u??(()=>{}),this.noCleanse=s}effectUnit(o,r,t){this.effect(o,r,t)}cleanse(){this.noCleanse||(this.duration=0)}copy(){return new qr(this.name,this.duration,this.timing,this.effect,this.show,this.onApply,this.onRemoval,this.noCleanse)}}const yy=(n,o,r,t="oiled")=>new qr(t,n,"ON_TAKE_DAMAGE",(f,d,i={damage:new lr("PHYSICAL",0)})=>{i.damage.type==="FIRE"&&(i.damage.amount*=o)},(f,d)=>{b.fill(mr),Pa(d.x,d.y,f.size/2)},f=>{f.multiplicativeMaxForceBuffs.push(r),f.recalcMaxForceBuffs()},f=>{ko(r,f.multiplicativeMaxForceBuffs),f.recalcMaxForceBuffs()});class ss{constructor(o,r,t,f,d,i,u,s){V(this,"duration");V(this,"color");V(this,"size");V(this,"trueSize");V(this,"pos");V(this,"truePos");V(this,"vertices");V(this,"show");V(this,"onExpire");V(this,"vel");this.truePos=o.copy(),this.pos=Vt(this.truePos),this.vel=(s==null?void 0:s.copy())??b.createVector(0,0),this.trueSize=r,this.size=_t(this.trueSize),this.duration=t,this.color=f,this.vertices=d,this.show=i,this.onExpire=u}resize(){this.size=_t(this.trueSize)}update(){return this.duration--,this.truePos.add(this.vel),this.pos=Vt(this.truePos),this.duration<=0}}const Oa=(n,o,r=5,t=b.color(Do))=>{const f=Vt(n),d=el(f.x,f.y,_t(o));return new ss(n,o,r,t,d,()=>{b.fill(t),tl(d)},()=>{const u=Vt(n),s=el(u.x,u.y,_t(o*(2/3)));return new ss(n,o*(2/3),r,t,s,()=>{b.fill(t),tl(s)},()=>{const h=Vt(n),m=el(h.x,h.y,_t(o/2));return new ss(n,o/2,r,t,m,()=>{b.fill(t),tl(m)},()=>{})})})},ef=(n,o,r,t="burn")=>new qr(t,o,"NORMAL",d=>{d.takeDamage(new lr("FIRE",n));const i=lt.Vector.random2D().setMag(b.min(d.maxForce,d.desiredSpeed)*r);d.applyForce(i)},(d,i)=>{b.fill(qs),Ts(i.x,i.y,d.size/2)},d=>{},d=>{}),vy=(n,o,r,t=1,f=b.color(ja))=>new ss(n,o,t,f,[],d=>{const u=b.TWO_PI/42;let s=_t(o),h=0,m=!0,g=[b.createVector(d.pos.x+b.cos(h)*s,d.pos.y+b.sin(h)*s)];b.noStroke(),b.fill(f),b.beginShape();for(let c=0;c<42;c++){for(let l=1;l<3;l++)m?s=_t(r):s=_t(o),g[l]=b.createVector(d.pos.x+b.cos(h)*s,d.pos.y+b.sin(h)*s),m=!m,h+=u;b.triangle(g[0].x,g[0].y,g[1].x,g[1].y,g[2].x,g[2].y),g[0]=g[2]}b.endShape(b.CLOSE)},()=>{}),tf=(n,o,r="BuildDiscount")=>new Ps(r,t=>{},t=>{},(t,f,d)=>{const i=d||t.name;return o&&i!==o?f:b.ceil(f*n)},(t,f,d)=>f),by=(n,o="TowerRangeBuffMulti")=>new Ps(o,r=>{r.rangeBuffsMultiplicative.push(n),r.recalcRangeBuffs()},r=>{ko(n,r.rangeBuffsMultiplicative),r.recalcRangeBuffs()},(r,t)=>t,(r,t)=>t),wy=(n,o,r,t=0,f=Tn,d=255)=>{const i=r/4,u=r/6,s=r/9;b.push(),b.translate(n,o),b.rotate(t),b.noStroke(),b.fill([...f,d]),b.circle(0,0,r),b.stroke([...di,d]);for(let h=0;h<7;h++){b.rotate(b.TWO_PI/7),b.strokeWeight(ee.STROKE*3),b.line(0,0,0,i),b.push(),b.translate(0,i),b.rotate(b.TWO_PI/10);for(let m=0;m<2;m++){b.strokeWeight(ee.STROKE*2),b.line(0,0,0,u),b.push(),b.translate(0,u),b.rotate(b.TWO_PI/14);for(let g=0;g<2;g++)b.strokeWeight(ee.STROKE),b.line(0,0,0,s),b.rotate(-b.TWO_PI/7);b.pop(),b.rotate(-b.TWO_PI/5)}b.pop(),b.strokeWeight(ee.STROKE*3),b.line(0,0,0,i)}b.pop()},xy=(n,o,r=6,t=Tn)=>new ss(n,o,r,b.color(t),[],f=>{wy(f.pos.x,f.pos.y,f.size,0,t,r*10)},()=>{}),Sy=n=>{const o=n/2,r=n<8?3:n<15?6:12,t=b.PI/r;let f=0;const d=[];for(;f<b.TWO_PI;){const i=b.cos(f)*o,u=b.sin(f)*o;d.push(b.createVector(i,u)),f+=t}return d},zo=(n,o)=>{let r=Ta("circle",o);r||(r=Sy(o),Ca("circle",o,r)),Ra(n,r)},sd=(n,o,r,t=1,f=255)=>{const d=r*2/9;b.push(),b.translate(n.x,n.y),b.rotate(o.heading()),b.triangle(2*d,-d,2*d,d,3*d,0),b.fill([...mr,f]),zo(b.createVector(0,0),r),b.pop(),b.push(),b.noStroke(),zo(n,r*t),b.pop()},ii=new ts(0,0,ee.TRUE_MID_POS.x*2,ee.TRUE_MID_POS.y*2,3,7),Cl=new ts(0,0,ee.TRUE_MID_POS.x*2,ee.TRUE_MID_POS.y*2,3,7),_y=n=>{const o=n/2,r=n/5,t=[];return t.push(b.createVector(-r,-o)),t.push(b.createVector(r,-o)),t.push(b.createVector(r,-r)),t.push(b.createVector(o,-r)),t.push(b.createVector(o,r)),t.push(b.createVector(r,r)),t.push(b.createVector(r,o)),t.push(b.createVector(-r,o)),t.push(b.createVector(-r,r)),t.push(b.createVector(-o,r)),t.push(b.createVector(-o,-r)),t.push(b.createVector(-r,-r)),t},Ey=(n,o)=>{let r=Ta("plus",o);r||(r=_y(o),Ca("plus",o,r)),Ra(n,r)},jy=(n,o,r=15,t=b.color(bu))=>{const f=b.createVector(0,-6).div(r);return new ss(n,o,r,t,[],d=>{b.noStroke();const i=as(b.color(t));i.setAlpha(d.duration/r*255),b.fill(i),Ey(d.pos,d.size)},()=>{},f)};class lo{constructor(o,r,t,f={}){V(this,"pos");V(this,"truePos");V(this,"hexPos");V(this,"prevPos");V(this,"truePrevPos");V(this,"vel");V(this,"acc");V(this,"accumulatedFrictionMag");V(this,"futurePos");V(this,"desiredSpeed");V(this,"baseDesiredSpeed");V(this,"multiplicativeSpeedBuffs");V(this,"setSpeedBuffs");V(this,"baseForce");V(this,"maxForce");V(this,"baseMaxForce");V(this,"additiveMaxForceBuffs");V(this,"multiplicativeMaxForceBuffs");V(this,"size");V(this,"trueSize");V(this,"radius");V(this,"mass");V(this,"baseMass");V(this,"maxHp");V(this,"hp");V(this,"damage");V(this,"goldValue");V(this,"xpValue");V(this,"dead");V(this,"color");V(this,"pathGoal");V(this,"id");V(this,"statuses");V(this,"level");V(this,"visionRadius");V(this,"attackRadius");V(this,"attackCooldown");V(this,"attackCurrentCooldown");V(this,"currentFlowField");V(this,"originalFlowField");V(this,"canSwim");V(this,"framesAlive");V(this,"rage");V(this,"rageTimer");V(this,"rageTimerOnRefresh");V(this,"rageForceIncreasePercent");V(this,"abilityCounters");V(this,"armor");V(this,"collisionEffectCooldowns");V(this,"inventory");V(this,"data");this.truePos=b.createVector(o,r),this.pos=Vt(this.truePos),this.hexPos=b.createVector(0,0),this.truePrevPos=this.truePos.copy(),this.prevPos=Vt(this.truePos),this.vel=b.createVector(0,0),this.acc=b.createVector(0,0),this.accumulatedFrictionMag=0,this.futurePos=b.createVector(0,0),this.desiredSpeed=(f.desiredSpeed??2)*(f.otherDifficulty??fr).UNIT_SPEED_MOD,this.baseDesiredSpeed=this.desiredSpeed,this.baseForce=(f.maxForce??.1)*(f.otherDifficulty??fr).UNIT_FORCE_MOD,this.maxForce=this.baseForce,this.multiplicativeSpeedBuffs=[],this.setSpeedBuffs=[],this.baseMaxForce=this.maxForce,this.additiveMaxForceBuffs=[],this.multiplicativeMaxForceBuffs=[],this.trueSize=t,this.size=_t(t),this.radius=this.trueSize/2,this.mass=f.mass??1,this.baseMass=f.mass??1,this.maxHp=(f.hp??50)*(f.otherDifficulty??fr).UNIT_HP_MOD,this.hp=this.maxHp,this.damage=f.damage??10,this.goldValue=f.goldValue??50,this.dead=!1,this.color=f.color??b.color(kh),this.pathGoal=void 0,this.id=f.id??b.random(),this.statuses={NORMAL:[],ON_DEATH:[],PASSIVE:[],ON_TAKE_DAMAGE:[]},this.level=f.level??1,this.visionRadius=f.visionRadius??ee.TRUE_HEX_SIZE*3,this.attackRadius=f.attackRadius??this.radius,this.attackCooldown=f.attackCooldown??50,this.attackCurrentCooldown=this.attackCooldown,this.originalFlowField=f.flowField??Oh,this.currentFlowField=this.originalFlowField,this.canSwim=f.canSwim??!1,this.framesAlive=0,this.rage=0,this.rageTimer=5e3,this.rageTimerOnRefresh=500,this.rageForceIncreasePercent=1.1,this.abilityCounters=[],this.xpValue=f.xpValue??10,this.armor=null,this.inventory=[],this.collisionEffectCooldowns={},this.data={}}show(){b.strokeWeight(ee.STROKE*2),b.stroke(0),b.fill(this.color),sd(this.pos,this.vel,this.size,b.max(this.hp/this.maxHp,0)),this.showStatusEffects(),this.showInventory(),this.armor&&this.armor.show(this.pos,this.size,this.vel.heading())}showInventory(){for(const o of this.inventory)o.show()}resize(){this.pos=Vt(this.truePos),this.prevPos=Vt(this.truePrevPos),this.size=_t(this.trueSize)}showDot(){b.strokeWeight(ee.STROKE*5),b.point(this.pos.x,this.pos.y)}showDebug(){b.push(),b.strokeWeight(ee.STROKE*5),b.stroke(0,255,0),b.fill(this.color),sd(this.pos,this.vel,this.size,b.max(this.hp/this.maxHp,0)),b.pop()}update(){const o=this.getTarget();this.hexPos=he.getTrueHexVectorFromXY(this.truePos.x,this.truePos.y),o!==void 0?this.followPathAndSeekTarget(o,he.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField):this.followPathField(he.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField),this.checkAndApplyRage(),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.truePrevPos=this.truePos.copy(),this.applyStatusEffects("NORMAL"),this.truePos.add(this.vel),this.pos=Vt(this.truePos),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.truePos),this.acc.mult(0),this.accumulatedFrictionMag=0;for(const r in this.collisionEffectCooldowns)this.collisionEffectCooldowns[r]--,this.collisionEffectCooldowns[r]<=0&&delete this.collisionEffectCooldowns[r];this.detectCollisions(),this.detectDrowning(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(o),this.hp<=0&&this.die(),this.decreaseStatusTimers(),this.framesAlive++}applyStatusEffects(o,r={}){for(let t=this.statuses[o].length-1;t>=0;t--)this.statuses[o][t].effectUnit(this,this.statuses[o][t],r)}showStatusEffects(){const o=[];for(const d in this.statuses)o.push(...this.statuses[d]);const r=this.size/3,t=this.pos.x+(o.length/2+.5)*-r,f=b.createVector(t,this.pos.y-this.size);for(let d=o.length-1;d>=0;d--)f.x+=r,o[d].show(this,f)}decreaseStatusTimers(){for(const o in this.statuses){const r=this.statuses[o];for(let t=r.length-1;t>=0;t--){const f=r[t];f.duration--,f.duration<=0&&(this.statuses[o].splice(t,1),f.onRemoval(this))}}}cleanseAllStatuses(){for(const o in this.statuses){const r=this.statuses[o];for(let t=r.length-1;t>=0;t--){const f=r[t];f.cleanse(),f.duration<=0&&(this.statuses[o].splice(t,1),f.onRemoval(this))}}}applyStatus(o,r=!1){for(let f=this.statuses[o.timing].length-1;f>=0;f--)if(this.statuses[o.timing][f].name===o.name)return r?(this.statuses[o.timing][f].duration=o.duration,!0):!1;const t=o.copy();return this.statuses[o.timing].push(t),t.onApply(this),!0}edges(o=0){this.pos.x>b.width-o&&(this.pos.x-=b.width-2*o),this.pos.x<o&&(this.pos.x+=b.width-2*o),this.pos.y>b.height-o&&(this.pos.y-=b.height-2*o),this.pos.y<o&&(this.pos.y+=b.height-2*o)}bouncyEdges(o=0){this.pos.x>b.width-o&&this.vel.x>0&&(this.pos.x=b.width-o,this.vel.mult([-1,1])),this.pos.x<o&&this.vel.x<0&&(this.pos.x=o,this.vel.mult([-1,1])),this.pos.y>b.height-o&&this.vel.y>0&&(this.pos.y=b.height-o,this.vel.mult([1,-1])),this.pos.y<o&&this.vel.y<0&&(this.pos.y=o,this.vel.mult([1,-1]))}findPositionThroughEdges(o,r=0){const t=lt.Vector.sub(o,this.pos);return t.x>b.width/2-r&&(t.x-=b.width-2*r),t.x<-b.width/2+r&&(t.x+=b.width-2*r),t.y>b.height/2-r&&(t.y-=b.height-2*r),t.y<-b.height/2+r&&(t.y+=b.height-2*r),t.add(this.pos)}applyForce(o){const r=o.copy().div(this.mass);this.acc.add(r)}friction(o=.1){let r=b.min(o,1);r*=this.vel.mag()-this.accumulatedFrictionMag,this.accumulatedFrictionMag+=r}applyAccumulatedFriction(){const o=this.vel.copy();o.normalize(),o.mult(-1),o.setMag(this.accumulatedFrictionMag*this.mass),this.applyForce(o)}drag(o=1){const r=this.vel.copy();r.normalize(),r.mult(-1);const t=this.vel.mag(),f=.1;r.setMag(o*f*t*t),this.applyForce(r)}getDesire(o){const r=lt.Vector.sub(o,this.truePos);return r.setMag(this.desiredSpeed),r}seek(o){const r=this.getDesire(o);return r.sub(this.vel),r.limit(this.maxForce),r}arrive(o){const r=this.getDesire(o),t=b.dist(this.truePos.x,this.truePos.y,o.x,o.y);return t<200&&r.setMag(b.map(t,0,200,0,this.desiredSpeed)),r.sub(this.vel),r.limit(this.maxForce),r}flee(o){const r=this.getDesire(o).mult(-1);return r.sub(this.vel),r.limit(this.maxForce),r}pursue(o){return Qt(this.truePos,o.truePos)>o.futurePos.mag()**2?this.seek(this.findPositionThroughEdges(o.futurePos,100)):this.seek(this.findPositionThroughEdges(o.truePos,100))}evade(o){return Qt(this.pos,o.pos)>o.futurePos.mag()**2?this.flee(this.findPositionThroughEdges(o.futurePos,100)):this.flee(this.findPositionThroughEdges(o.pos,100))}catch(o){this.size/2+o.size/2>b.dist(o.pos.x,o.pos.y,this.pos.x,this.pos.y)&&(this.hp=b.min(this.maxHp,this.hp+80),o.hp-=80,o.pos.x=b.random(b.width),o.pos.y=b.random(b.height),o.die())}takeDamage(o){this.applyStatusEffects("ON_TAKE_DAMAGE",{damage:o}),this.armor&&(o=this.armor.reduceDamage(o),this.checkArmor()),this.hp-=o.amount,this.hp<=0&&this.die()}getHeal(o){this.hp=b.min(this.maxHp,this.hp+o);const r=o<this.maxHp/100;Je.addVisual(jy(this.truePos.copy().add(b.createVector(ee.TRUE_UNIT_SIZE/2,-ee.TRUE_UNIT_SIZE/2)),ee.TRUE_UNIT_SIZE/2,r?12:36),r)}die(){if(!this.dead){this.dead=!0,this.applyStatusEffects("ON_DEATH");for(const o of this.inventory)o.onUnitDeath()}}reachedMaou(){}getCurrentTile(){const o=he.getTrueHexVectorFromXY(this.truePos.x,this.truePos.y);return he.rqVectorIsOnGrid(o)?he.grid[o.x][o.y]:(this.outOfBoundsCheckAndCorrection(),this.getCurrentTile())}detectCollisions(o=!1){const r=this.getCurrentTile();if(r===void 0)return;const t=he.getNeighbors(r.r,r.q),f=Cl.inRangeCircle(this.truePos,ee.TRUE_HEX_SIZE*2);for(const d of f)if(Qt(this.truePos,d.truePos)<(this.radius+d.radius)**2){this.applyCollision(d.truePos,d.radius,!0);const i=`obstacle-${d.truePos.x}-${d.truePos.y}`;if(i in this.collisionEffectCooldowns)continue;this.collisionEffectCooldowns[i]=this.attackCooldown,this.attack(d)}for(const d of[...t,r])if((d.wall||d.isSpawn)&&Qt(this.truePos,d.truePos)<(this.radius+d.collisionRadius)**2){this.applyCollision(d.truePos,d.collisionRadius,!0);const i=`${d.r}-${d.q}`;if(i in this.collisionEffectCooldowns)continue;this.collisionEffectCooldowns[i]=20;const u=d.onCollision();u!==null&&this.takeDamage(u)}}applyCollision(o,r,t=!1){const f=lt.Vector.sub(this.truePos,o),d=f.angleBetween(this.vel),i=lt.Vector.fromAngle(f.heading()+(b.PI-d));i.setMag(this.vel.mag()*1),this.vel.set(i),t&&(f.setMag(this.radius+r),f.add(o),this.truePos.set(f),this.pos=Vt(this.truePos))}detectDrowning(){const o=this.getCurrentTile();o===void 0||!o.canWaterTower||this.drown()}drown(){this.takeDamage(new lr("DROWN",b.min(this.maxHp/200,10))),this.friction(.15)}outOfBoundsCheckAndCorrection(){const o=he.getTrueHexVectorFromXY(this.truePos.x,this.truePos.y);he.rqVectorIsOnGrid(o)||(this.truePos=this.truePrevPos.copy(),this.pos=Vt(this.truePos),this.vel=b.createVector(0,0))}readPathField(o,r=this.currentFlowField){return o.data[r]?(Qt(this.truePos,o.truePos)<(o.collisionRadius-this.radius)**2&&(this.pathGoal=o.data[r]),this.pathGoal||(this.pathGoal=o.data[r]),this.pathGoal.truePos):o.truePos}followPathField(o,r=this.currentFlowField){if(this.tryTeleport(o,r))return;const f=this.readPathField(o,r),d=this.seek(f);this.applyForce(d)}tryTeleport(o,r=this.currentFlowField){if(!o.isTeleporter||!o.data[r]||!o.data[r].isTeleporter)return!1;const t=lt.Vector.sub(this.truePos,o.truePos),f=lt.Vector.add(o.data[r].truePos,t);return this.truePos=f,this.pathGoal=o.data[r].data[r],!0}getTarget(o=ii){const r=o.inRangeCircle(this.truePos,this.visionRadius);if(r.length<1)return;let t=0,f=99999;for(let d=0;d<r.length;d++){const i=Qt(r[d].truePos,this.truePos);i<f&&(f=i,t=d)}return r[t]}seekTargetWithoutApplyForce(o){const r=this.getCurrentTile(),t=o.getCurrentTile();let f=this.seek(o.truePos);if(r!==t){const d=he.aStar(r.r,r.q,t.r,t.q,!0);d.length===0?f=b.createVector(0,0):f=this.seek(d[d.length-2].truePos)}return f}seekTarget(o){this.applyForce(this.seekTargetWithoutApplyForce(o))}followPathAndSeekTarget(o,r,t=this.currentFlowField){if(this.tryTeleport(r,t))return;const d=this.readPathField(r,t),i=this.seek(d),u=this.seekTargetWithoutApplyForce(o),s=lt.Vector.add(i,u);s.limit(this.maxForce),this.applyForce(s)}tryAttack(o){this.attackCurrentCooldown--,o!==void 0&&(this.attackCurrentCooldown>0||Qt(this.truePos,o.truePos)>(ee.TRUE_UNIT_SIZE/2+this.attackRadius)**2||(this.attack(o),this.attackCurrentCooldown=this.attackCooldown))}attack(o){o.takeDamage(new lr("PHYSICAL",this.damage))}checkAndApplyRage(){this.rageTimer--,this.rageTimer<1&&(this.rageTimer=this.rageTimerOnRefresh,this.rage++,this.multiplicativeMaxForceBuffs.push(this.rageForceIncreasePercent),this.recalcMaxForceBuffs())}addArmor(o){this.armor=o,this.mass+=o.weight,this.baseMass+=o.weight}removeArmor(){this.armor!==null&&(this.mass-=this.armor.weight,this.baseMass-=this.armor.weight,this.armor=null)}checkArmor(){this.armor!==null&&this.armor.hp<=0&&this.removeArmor()}recalcMaxForceBuffs(){this.maxForce=this.baseMaxForce;for(const o of this.additiveMaxForceBuffs)this.maxForce+=o;for(const o of this.multiplicativeMaxForceBuffs)this.maxForce*=o}recalcSpeedBuffs(){this.desiredSpeed=this.baseDesiredSpeed;for(const o of this.multiplicativeSpeedBuffs)this.desiredSpeed*=o;for(const o of this.setSpeedBuffs)this.desiredSpeed=o}insertIntoQuadTree(){It.insert(new Us(this.truePos,this))}addOrUpdateData(o){for(const r in o)this.data[r]=o[r]}addData(o){for(const r in o)r in this.data||(this.data[r]=o[r])}updateData(o){for(const r in o)r in this.data&&(this.data[r]=o[r])}getData(o){return o in this.data?this.data[o]:null}}const Ty=5,ai=(n,o,r,t=Ty,f=b)=>{t%2==0&&(t+=1);let d=-f.PI/2;f.beginShape();for(let i=0;i<t;i++){d+=f.TWO_PI*(f.ceil(t/2)/t);const u=n+f.cos(d)*r,s=o+f.sin(d)*r;f.vertex(u,s)}f.endShape(f.CLOSE)},Cy=(n,o,r,t,f,d=b)=>{let i=-d.PI/2,u=0,s=0;d.beginShape();for(let g=0;g<=t;g++)u=n+d.cos(i)*r,s=o+d.sin(i)*r,d.vertex(u,s),i+=d.TWO_PI*(3/5);d.endShape();const h=n+d.cos(i)*r,m=o+d.sin(i)*r;d.line(u,s,b.lerp(u,h,f),b.lerp(s,m,f))};class Ry extends vn{constructor(r,t,f,d={}){super(r,t,d.gridR??0,d.gridQ??0,f,{color:b.color(bo),...d});V(this,"flat");V(this,"exitDir");V(this,"unitSize");V(this,"spawnsNextUnit");this.flat=d.flat??!1,this.exitDir=d.exitDir??this.flat?-b.PI/6:0,this.unitSize=d.unitSize??ee.TRUE_UNIT_SIZE,this.spawnsNextUnit=!1}spawnUnit(r={}){const t=new lo(this.truePos.x,this.truePos.y,this.unitSize,{color:r.color??as(r.color),...r});return t.vel=lt.Vector.fromAngle(this.exitDir,0),t}spawnUnitViaWaveReader(r){return r.vel=lt.Vector.fromAngle(this.exitDir,0),this.spawnsNextUnit=!1,r}show(){b.stroke(0),b.strokeWeight(ee.STROKE*2),b.fill(this.color),ar(this.pos.x,this.pos.y,this.size,this.flat),b.ellipse(this.pos.x,this.pos.y,this.size*1.6),b.fill(Es),b.noStroke(),this.spawnsNextUnit&&ai(this.pos.x,this.pos.y,this.size/4)}update(){return!0}}const mo=Object.freeze({name:"Berserker",discription:"The Berserker gets stronger and faster the more damage she has sustained.",hp:300,hpScaling:25,damage:40,speed:ee.TRUE_BASE_SPEED*1.5,force:ee.TRUE_BASE_SPEED*.12,attackCooldown:50,mass:1,gold:50,xp:40,baseLevel:13,rgb:bg});class My extends lo{constructor(o,r,t,f={}){super(o,r,t,f)}update(){const o=b.min(this.maxHp/b.max(this.hp,1),4);this.attackCooldown=mo.attackCooldown/o,this.recalcMaxForceBuffs(),this.recalcSpeedBuffs(),super.update()}recalcMaxForceBuffs(){super.recalcMaxForceBuffs();const o=b.min(this.maxHp/b.max(this.hp,1),4);this.maxForce*=o*1.5}recalcSpeedBuffs(){super.recalcSpeedBuffs();const o=b.min(this.maxHp/b.max(this.hp,1),4);this.desiredSpeed*=o}}const Py=(n,o)=>new My(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:mo.speed,maxForce:mo.force,hp:mo.hp+(o-mo.baseLevel)*mo.hpScaling,damage:mo.damage,goldValue:b.max(mo.gold-(o-mo.baseLevel),1),xpValue:mo.xp,color:b.color(mo.rgb)}),go=Object.freeze({name:"Bomber",discription:"Bombers run quickly, and deal high damage, but are a danger to their friends on death.",hp:50,hpScaling:4,damage:75,speed:ee.TRUE_BASE_SPEED*2,force:ee.TRUE_BASE_SPEED*.2,mass:1,gold:5,xp:10,baseLevel:8,rgb:Gs,explosionRadius:ee.TRUE_HEX_SIZE});class Ay extends lo{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"explosionRadius");this.explosionRadius=go.explosionRadius}die(){if(this.dead)return;super.die();const r=It.inRangeCircle(this.truePos,this.explosionRadius),t=ii.inRangeCircle(this.truePos,this.explosionRadius),f=[...r,...t];for(const d of f){const i=this.maxHp/2;d.takeDamage(new lr("EXPLOSION",i))}Je.addVisual(Oa(this.truePos,this.explosionRadius*2,4))}}const Oy=(n,o)=>new Ay(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:go.speed,maxForce:go.force,hp:go.hp+(o-go.baseLevel)*go.hpScaling,damage:go.damage,goldValue:b.max(go.gold-(o-go.baseLevel),1),xpValue:go.xp,color:b.color(go.rgb)}),Eo={name:"Farmer",discription:"A simple farmer, recruited to get rid of a low level threat.",hp:40,hpScaling:5,damage:10,speed:ee.TRUE_BASE_SPEED*1,force:ee.TRUE_BASE_SPEED*.1,mass:1,gold:25,xp:10,baseLevel:1,rgb:Eg};class ky extends lo{constructor(o,r,t,f={}){super(o,r,t,f)}}const nd=(n,o)=>new ky(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:Eo.speed,maxForce:Eo.force,hp:Eo.hp+(o-Eo.baseLevel)*Eo.hpScaling,damage:Eo.damage,goldValue:b.max(Eo.gold-(o-Eo.baseLevel),1),xpValue:Eo.xp,color:b.color(Eo.rgb)}),jo=Object.freeze({name:"Swordsman",discription:"A simple swordsman, slightly trained, unlike the farmers.",hp:120,hpScaling:8,damage:20,speed:ee.TRUE_BASE_SPEED*1.5,force:ee.TRUE_BASE_SPEED*.12,mass:1,gold:32,xp:20,baseLevel:3,rgb:ti});class Dy extends lo{constructor(o,r,t,f={}){super(o,r,t,f)}}const Iy=(n,o)=>new Dy(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:jo.speed,maxForce:jo.force,hp:jo.hp+(o-jo.baseLevel)*jo.hpScaling,damage:jo.damage,goldValue:b.max(jo.gold-(o-jo.baseLevel),1),xpValue:jo.xp,color:b.color(jo.rgb)}),co={name:"Heavy Weight",discription:"A heavy unit, moves slowly, but with great bulk comes great health.",hp:500,hpScaling:35,damage:25,speed:ee.TRUE_BASE_SPEED*.7,force:ee.TRUE_BASE_SPEED*.05,mass:2,gold:50,xp:35,baseLevel:6,rgb:Hh};class Ly extends lo{constructor(o,r,t,f={}){super(o,r,t,f)}}const By=(n,o)=>new Ly(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:co.speed,maxForce:co.force,hp:co.hp+(o-co.baseLevel)*co.hpScaling,damage:co.damage,mass:co.mass,goldValue:b.max(co.gold-(o-co.baseLevel),1),xpValue:co.xp,color:b.color(co.rgb)}),rf=(n,o,r,t=1,f=255)=>{const d=r*2/8,i=r*.65;b.push(),b.translate(n.x,n.y),b.rotate(o.heading()),b.triangle(2*d,-d,2*d,d,3*d,0),b.rotate(b.PI/2),b.push(),zo(b.createVector(0,0),r),b.noStroke(),b.fill([...mr,f]),ai(0,0,i,5),b.pop(),b.push(),b.noStroke(),ai(0,0,i*t,5),b.pop(),b.pop()};class Cs extends lo{constructor(o,r,t,f={}){super(o,r,t,f)}show(){b.strokeWeight(ee.STROKE*2),b.stroke(0),b.fill(this.color),rf(this.pos,this.vel,this.size,b.max(this.hp/this.maxHp,0)),this.showStatusEffects(),this.armor&&this.armor.show(this.pos,this.size,this.vel.heading())}}const Cr=Object.freeze({name:"Paladin",discription:"A heavyly armored holy warrior, heals himself by the blessing of the divine.",hp:2e3,hpScaling:110,damage:250,speed:ee.TRUE_BASE_SPEED*.6,force:ee.TRUE_BASE_SPEED*.25,mass:2.5,gold:150,xp:100,baseLevel:10,healBy:1,healScaling:.25,healCooldown:10,rgb:vg});class Uy extends Cs{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"currentHealCooldown");V(this,"healCooldown");V(this,"healBy");this.currentHealCooldown=Cr.healCooldown,this.healCooldown=Cr.healCooldown,this.healBy=d.healAmount,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.healSelf())}healSelf(){this.getHeal(this.healBy)}}const Ny=(n,o)=>new Uy(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:Cr.speed,maxForce:Cr.force,hp:Cr.hp+(o-Cr.baseLevel)*Cr.hpScaling,damage:Cr.damage,mass:Cr.mass,goldValue:b.max(Cr.gold-(o-Cr.baseLevel),1),xpValue:Cr.xp,color:b.color(Cr.rgb),healAmount:Cr.healBy+(o-Cr.baseLevel)*Cr.healScaling}),ho={name:"Rusher",discription:"Rushers sprint right through your defenses.",hp:240,hpScaling:15,damage:30,speed:ee.TRUE_BASE_SPEED*3.2,force:ee.TRUE_BASE_SPEED*.3,mass:.75,gold:33,xp:55,baseLevel:16,rgb:zs};class Fy extends lo{constructor(o,r,t,f={}){super(o,r,t,f)}}const of=(n,o,r=!1)=>new Fy(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:ho.speed,maxForce:ho.force,hp:ho.hp+(o-ho.baseLevel)*ho.hpScaling,damage:ho.damage,mass:ho.mass,goldValue:r?0:b.max(ho.gold-(o-ho.baseLevel),1),xpValue:ho.xp,color:b.color(ho.rgb)}),Mr=Object.freeze({name:"Healer",discription:"The Healer heals everyone in around them.",hp:400,hpScaling:20,damage:10,speed:ee.TRUE_BASE_SPEED*1.3,force:ee.TRUE_BASE_SPEED*.1,mass:1,gold:50,xp:60,baseLevel:17,healAmount:20,healScaling:2,healCooldown:100,healRange:ee.TRUE_HEX_SIZE*4,rgb:bu});class Vy extends lo{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"currentHealCooldown");V(this,"healCooldown");V(this,"healAmount");V(this,"healRange");this.currentHealCooldown=Mr.healCooldown,this.healCooldown=Mr.healCooldown,this.healAmount=d.healAmount,this.healRange=Mr.healRange,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.heal())}heal(){const r=It.inRangeCircle(this.truePos,this.healRange);for(const t of r)t.getHeal(this.healAmount)}}const Hy=(n,o)=>new Vy(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:Mr.speed,maxForce:Mr.force,hp:Mr.hp+(o-Mr.baseLevel)*Mr.hpScaling,damage:Mr.damage,goldValue:b.max(Mr.gold-(o-Mr.baseLevel),1),xpValue:Mr.xp,color:b.color(Mr.rgb),healAmount:Mr.healAmount+(o-Mr.baseLevel)*Mr.healScaling}),Yr=Object.freeze({name:"Summoner",discription:"Slow moving unit that summons rushers as long as she lives.",hp:3500,hpScaling:75,damage:100,speed:ee.TRUE_BASE_SPEED*.5,force:ee.TRUE_BASE_SPEED*.3,mass:2,gold:200,xp:200,baseLevel:20,summonCooldown:160,rgb:oa});class Gy extends Cs{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"currentSummonCooldown");V(this,"summonCooldown");this.currentSummonCooldown=Yr.summonCooldown,this.summonCooldown=Yr.summonCooldown,this.abilityCounters=["currentSummonCooldown"]}update(){super.update(),this.currentSummonCooldown--,this.currentSummonCooldown<=0&&(this.currentSummonCooldown=this.summonCooldown,this.summonRusher())}summonRusher(){const r=of(this.truePos.copy(),this.level,!0);r.addData({summoned:!0}),Rt.units.push(r)}}const Wy=(n,o)=>new Gy(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:Yr.speed,maxForce:Yr.force,hp:Yr.hp+(o-Yr.baseLevel)*Yr.hpScaling,damage:Yr.damage,mass:Yr.mass,goldValue:b.max(Yr.gold-(o-Yr.baseLevel),1),xpValue:Yr.xp,color:b.color(Yr.rgb),level:o}),zy=(n,o,r,t,f,d=1,i=255)=>{const u=r/2,s=r*2/9,h=52,m=b.TWO_PI/h;b.push(),b.translate(n.x,n.y),b.rotate(o.heading()),b.triangle(2*s,-s,2*s,s,3*s,0),b.fill([...mr,i]),zo(b.createVector(0,0),r),b.noStroke(),b.beginShape();let g=0;b.fill(t);for(let c=0;c<=h/2;c++){const l=b.cos(g)*u*d,a=b.sin(g)*u*d;b.vertex(l,a),g+=m}b.endShape(b.CLOSE),b.beginShape(),b.fill(f),g-=m;for(let c=0;c<=h/2;c++){const l=b.cos(g)*u*d,a=b.sin(g)*u*d;b.vertex(l,a),g+=m}b.endShape(b.CLOSE),b.pop()};class Ks extends lo{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"secondColor");this.secondColor=d.secondColor??b.color(bt)}show(){b.strokeWeight(ee.STROKE*2),b.stroke(0),zy(this.pos,this.vel,this.size,this.color,this.secondColor,b.max(this.hp/this.maxHp,0)),this.showStatusEffects(),this.armor&&this.armor.show(this.pos,this.size,this.vel.heading())}}const fo=Object.freeze({name:"Knight",discription:"A knight on a quest to slay an evil monster. Apparantly you qualify",hp:1100,hpScaling:50,damage:50,speed:ee.TRUE_BASE_SPEED*1.7,force:ee.TRUE_BASE_SPEED*.18,mass:1,gold:75,xp:100,baseLevel:23,rgb:pg,secondRgb:Hh});class qy extends Ks{constructor(o,r,t,f={}){super(o,r,t,f)}}const Xy=(n,o)=>new qy(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:fo.speed,maxForce:fo.force,hp:fo.hp+(o-fo.baseLevel)*fo.hpScaling,damage:fo.damage,goldValue:b.max(fo.gold-(o-fo.baseLevel),1),xpValue:fo.xp,color:b.color(fo.rgb),secondColor:b.color(fo.secondRgb)}),Ii=new ts(0,0,ee.TRUE_MID_POS.x*2,ee.TRUE_MID_POS.y*2,3,7),Yy=(n,o,r=25,t=b.color(Vh))=>new ss(n,o,r,t,[],f=>{b.stroke(t),b.strokeWeight(ee.STROKE*3),b.noFill(),zo(f.pos,2*f.size*((r-f.duration)/r))},()=>{}),kr=Object.freeze({name:"Protector",discription:"The Protector sends out a wave that repels projectiles.",hp:250,hpScaling:10,damage:15,speed:ee.TRUE_BASE_SPEED*1.5,force:ee.TRUE_BASE_SPEED*.15,mass:1,gold:55,xp:55,baseLevel:25,pulseRange:ee.TRUE_HEX_SIZE*4,pulseForce:ee.TRUE_BASE_SPEED*10,pulseDuration:25,pulseCooldown:75,rgb:Vh});class Zy extends lo{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"currentPulseCooldown");V(this,"pulseCooldown");V(this,"pulseRange");V(this,"pulseDuration");V(this,"currentPulseDuration");V(this,"pulseForce");V(this,"pulseOrigin");this.currentPulseCooldown=kr.pulseCooldown,this.pulseCooldown=kr.pulseCooldown,this.pulseRange=kr.pulseRange,this.abilityCounters=["currentPulseCooldown"],this.pulseDuration=kr.pulseDuration,this.currentPulseDuration=kr.pulseDuration,this.pulseForce=kr.pulseForce,this.pulseOrigin=this.truePos}update(){super.update(),this.currentPulseCooldown--,this.currentPulseCooldown<=0&&(this.currentPulseCooldown=this.pulseCooldown,this.castPulse()),this.currentPulseDuration>0&&(this.currentPulseDuration--,this.advancePulse())}castPulse(){this.pulseOrigin=this.truePos.copy(),this.currentPulseDuration=this.pulseDuration,Je.addVisual(Yy(this.pulseOrigin,this.pulseRange,this.pulseDuration))}advancePulse(){const r=this.pulseRange*((this.pulseDuration-this.currentPulseDuration)/this.pulseDuration),t=this.pulseRange*(b.max(this.pulseDuration-(this.currentPulseDuration+3),0)/this.pulseDuration),f=Ii.inRangeCircleFromMin(this.pulseOrigin,r,t);for(const d of f){const i=lt.Vector.sub(d.truePos,this.pulseOrigin).setMag(this.pulseForce);d.applyForce(i)}}}const Ky=(n,o)=>new Zy(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:kr.speed,maxForce:kr.force,hp:kr.hp+(o-kr.baseLevel)*kr.hpScaling,damage:kr.damage,goldValue:b.max(kr.gold-(o-kr.baseLevel),1),xpValue:kr.xp,color:b.color(kr.rgb)}),$y=(n,o,r,t="Command",f="PASSIVE")=>new qr(t,n,f,d=>{},(d,i)=>{b.fill(di),b.stroke(0),b.strokeWeight(0),sa(i.x,i.y,d.size*(1/3),b.PI/4,ee.STROKE*.5),sa(i.x,i.y,d.size*(1/3),-b.PI/4,ee.STROKE*.5)},d=>{d.setSpeedBuffs.push(o),d.recalcSpeedBuffs(),d.additiveMaxForceBuffs.push(r),d.recalcMaxForceBuffs()},d=>{ko(o,d.setSpeedBuffs),d.recalcSpeedBuffs(),ko(r,d.additiveMaxForceBuffs),d.recalcMaxForceBuffs()},!0),Pr=Object.freeze({name:"Commander",discription:"The Commander leads those around her to work together, combining a loose militia into an effective force.",hp:4500,hpScaling:110,damage:200,speed:ee.TRUE_BASE_SPEED*1.6,force:ee.TRUE_BASE_SPEED*.2,mass:2,gold:350,xp:450,baseLevel:30,commandCooldown:10,commandSpeed:ee.TRUE_BASE_SPEED*1.6,commandExtraForce:ee.TRUE_BASE_SPEED*.2,commandRange:ee.TRUE_HEX_SIZE*5,rgb:Sg});class Qy extends Cs{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"currentCommandCooldown");V(this,"commandCooldown");V(this,"commandSpeed");V(this,"commandExtraForce");V(this,"commandRange");this.currentCommandCooldown=Pr.commandCooldown,this.commandCooldown=Pr.commandCooldown,this.commandSpeed=Pr.commandSpeed,this.commandExtraForce=Pr.commandExtraForce,this.commandRange=Pr.commandRange,this.abilityCounters=["currentCommandCooldown"]}update(){super.update(),this.currentCommandCooldown--,this.currentCommandCooldown<=0&&(this.currentCommandCooldown=this.commandCooldown,this.command())}command(){const r=It.inRangeCircle(this.truePos,this.commandRange);for(const t of r)t.applyStatus($y(this.commandCooldown*2,this.commandSpeed,this.commandExtraForce),!0)}}const Jy=(n,o)=>new Qy(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:Pr.speed,maxForce:Pr.force,hp:Pr.hp+(o-Pr.baseLevel)*Pr.hpScaling,mass:Pr.mass,damage:Pr.damage,goldValue:b.max(Pr.gold-(o-Pr.baseLevel),1),xpValue:Pr.xp,color:b.color(Pr.rgb)}),yo=Object.freeze({name:"Mercenary",discription:"Mercenaries are hired to protect the others during their journey, but are hardly motivated to do much about an overlord.",hp:720,hpScaling:38,damage:1,damageToMinions:50,speed:ee.TRUE_BASE_SPEED*1.6,force:ee.TRUE_BASE_SPEED*.2,attackCooldown:10,mass:1,gold:45,xp:80,baseLevel:32,rgb:_g});class e1 extends lo{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"damageToMinions");this.damageToMinions=yo.damageToMinions}followPathAndSeekTarget(r,t,f){const d=this.getCurrentTile(),i=r.getCurrentTile();if(he.aStar(d.r,d.q,i.r,i.q,!0).length>12){this.followPathField(he.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField);return}this.seekTarget(r)}attack(r){r.takeDamage(new lr("PHYSICAL",this.damageToMinions))}}const t1=(n,o)=>new e1(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:yo.speed,maxForce:yo.force,hp:yo.hp+(o-yo.baseLevel)*yo.hpScaling,damage:yo.damage,goldValue:b.max(yo.gold-(o-yo.baseLevel),1),xpValue:yo.xp,color:b.color(yo.rgb),visionRadius:ee.TRUE_HEX_SIZE*6}),r1=(n,o,r="Song of Healing",t="NORMAL")=>new qr(r,n,t,f=>{f.getHeal(f.maxHp*o)},(f,d)=>{b.fill(ri),Yo(d.x,d.y,f.size*(1/2),0,ee.STROKE,ri)},f=>{},f=>{},!0),o1=(n,o,r="Song of Protection",t="ON_TAKE_DAMAGE")=>new qr(r,n,t,(f,d,i={damage:new lr("PHYSICAL",0)})=>{i.damage.amount*=o},(f,d)=>{b.fill(oa),Yo(d.x,d.y,f.size*(1/2),0,ee.STROKE,oa)},f=>{},f=>{},!0),s1=(n,o,r="Song of Power",t="PASSIVE")=>new qr(r,n,t,(f,d,i={damage:new lr("PHYSICAL",0)})=>{},(f,d)=>{b.fill(ti),Yo(d.x,d.y,f.size*(1/2),0,ee.STROKE,ti)},f=>{f.multiplicativeMaxForceBuffs.push(o),f.recalcMaxForceBuffs()},f=>{ko(o,f.multiplicativeMaxForceBuffs),f.recalcMaxForceBuffs()},!0),n1=(n,o,r="Song of Speed",t="PASSIVE")=>new qr(r,n,t,(f,d,i={damage:new lr("PHYSICAL",0)})=>{},(f,d)=>{b.fill(zs),Yo(d.x,d.y,f.size*(1/2),0,ee.STROKE,zs)},f=>{f.multiplicativeSpeedBuffs.push(o),f.recalcSpeedBuffs()},f=>{ko(o,f.multiplicativeSpeedBuffs),f.recalcSpeedBuffs()},!0),i1=(n,o,r=50,t=Es)=>{const f=[];for(let d=0;d<15;d++)f.push(new ss(n,o,r,b.color(t),[],i=>{const u=as(b.color(t));u.setAlpha(i.duration*5),b.fill(u),Yo(i.pos.x,i.pos.y,i.size,0,ee.STROKE,u)},()=>{},lt.Vector.random2D().mult(b.random(.5,2))));return f},hr=Object.freeze({name:"Bard",discription:"The Bard sings songs to bolster their allies, though their support can be a bit random at times.",hp:750,hpScaling:15,damage:22,speed:ee.TRUE_BASE_SPEED*1.6,force:ee.TRUE_BASE_SPEED*.11,mass:1,gold:45,xp:115,baseLevel:36,songCooldown:250,songRange:ee.TRUE_HEX_SIZE*5,songDuration:400,healPercentPerFrame:4e-4,protectionDamageReduction:.5,forceBuffAmount:2,speedBuffAmount:1.35,rgb:El,secondRgb:qh});class a1 extends Ks{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"currentSongCooldown");V(this,"songCooldown");V(this,"songRange");V(this,"songDuration");V(this,"healPercentPerFrame");V(this,"protectionDamageReduction");V(this,"forceBuffAmount");V(this,"speedBuffAmount");this.currentSongCooldown=hr.songCooldown,this.songCooldown=hr.songCooldown,this.songRange=hr.songRange,this.songDuration=hr.songDuration,this.healPercentPerFrame=hr.healPercentPerFrame,this.protectionDamageReduction=hr.protectionDamageReduction,this.forceBuffAmount=hr.forceBuffAmount,this.speedBuffAmount=hr.speedBuffAmount,this.abilityCounters=["currentSongCooldown"]}update(){super.update(),this.currentSongCooldown--,this.currentSongCooldown<=0&&(this.currentSongCooldown=this.songCooldown,this.song())}song(){const r=It.inRangeCircle(this.truePos,this.songRange),t=this.getRandomSong();for(const f of r)t.status?f.applyStatus(t.song,!0):t.song(f);for(const f of i1(this.truePos,this.trueSize,50,t.color))Je.addVisual(f)}getRandomSong(){return b.random([{song:r1(this.songDuration,this.healPercentPerFrame),color:ri,status:!0},{song:o1(this.songDuration,this.protectionDamageReduction),color:oa,status:!0},{song:s1(this.songDuration,this.forceBuffAmount),color:ti,status:!0},{song:n1(this.songDuration,this.speedBuffAmount),color:zs,status:!0},{song:this.getSongOfCleansing,color:mr,status:!1}])}getSongOfCleansing(r){r.cleanseAllStatuses()}}const l1=(n,o)=>new a1(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:hr.speed,maxForce:hr.force,hp:hr.hp+(o-hr.baseLevel)*hr.hpScaling,damage:hr.damage,goldValue:b.max(hr.gold-(o-hr.baseLevel),1),xpValue:hr.xp,color:b.color(hr.rgb),secondColor:b.color(hr.secondRgb)}),Ar=Object.freeze({name:"Illusionist",discription:"The Illusionist has mastered the art of subversion, confusing your towers with her tricks.",hp:8e3,hpScaling:50,damage:300,speed:ee.TRUE_BASE_SPEED*1.15,force:ee.TRUE_BASE_SPEED*.19,mass:1,gold:500,xp:500,baseLevel:40,illusionCooldown:400,illusionStartCooldown:100,illusionHp:250,rgb:qh});class u1 extends Cs{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"currentIllusionCooldown");V(this,"illusionCooldown");V(this,"illusions");V(this,"illusionHp");this.currentIllusionCooldown=Ar.illusionStartCooldown,this.illusionCooldown=Ar.illusionCooldown,this.illusions=[],this.illusionHp=Ar.illusionHp,this.abilityCounters=["currentIllusionCooldown"]}update(){super.update(),this.currentIllusionCooldown--,this.currentIllusionCooldown<=0&&(this.currentIllusionCooldown=this.illusionCooldown,this.castIllusions()),this.updateIllusions()}updateIllusions(){for(let r=this.illusions.length-1;r>=0;r--){const t=this.illusions[r];if(t.unit.hp<=0){this.illusions.splice(r,1);continue}const f=lt.Vector.add(this.hexPos,he.neighborVectorsRQ[t.pos]),d=he.getTrueDiffVectorFromRQ(this.hexPos.x,this.hexPos.y,f.x,f.y),i=lt.Vector.add(this.truePos,d);t.unit.truePos.x=i.x,t.unit.truePos.y=i.y,t.unit.pos=Vt(t.unit.truePos)}}show(){super.show(),this.showIllusions()}showIllusions(){for(const r of this.illusions){const t=he.getTrueHexVectorFromXY(r.unit.truePos.x,r.unit.truePos.y);he.grid[t.x][t.y]===void 0||!he.grid[t.x][t.y].canUnit||(b.noStroke(),b.fill([...Ar.rgb,100]),rf(r.unit.pos,this.vel,r.unit.size,b.max(r.unit.hp/r.unit.maxHp,0),100))}}castIllusions(){this.illusions=[];for(let r=0;r<he.neighborVectorsRQ.length;r++){const t=lt.Vector.add(this.hexPos,he.neighborVectorsRQ[r]),f=he.getTrueDiffVectorFromRQ(this.hexPos.x,this.hexPos.y,t.x,t.y),d=lt.Vector.add(this.truePos,f),i=new Cs(d.x,d.y,this.trueSize,{hp:this.illusionHp,color:b.color(Ar.rgb)});i.addData({summoned:!0}),this.illusions.push({unit:i,pos:r})}}insertIntoQuadTree(){It.insert(new Us(this.truePos,this));for(const r of this.illusions){const t=he.getTrueHexVectorFromXY(r.unit.truePos.x,r.unit.truePos.y);he.grid[t.x][t.y]===void 0||!he.grid[t.x][t.y].canUnit||It.insert(new Us(r.unit.truePos,r.unit))}}}const c1=(n,o)=>new u1(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:Ar.speed,maxForce:Ar.force,hp:Ar.hp+(o-Ar.baseLevel)*Ar.hpScaling,damage:Ar.damage,mass:Ar.mass,goldValue:b.max(Ar.gold-(o-Ar.baseLevel),1),xpValue:Ar.xp,color:b.color(Ar.rgb),level:o}),po=Object.freeze({name:"Swimmer",discription:"The Swimmer took some swimming classes in high school, and then made it his whole personality. Charming.",hp:600,hpScaling:15,damage:25,speed:ee.TRUE_BASE_SPEED*1.6,force:ee.TRUE_BASE_SPEED*.125,mass:1,gold:25,xp:120,baseLevel:42,rgb:ci,secondRgb:gg});class d1 extends Ks{constructor(o,r,t,f={}){super(o,r,t,f)}drown(){}}const h1=(n,o)=>new d1(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:po.speed,maxForce:po.force,hp:po.hp+(o-po.baseLevel)*po.hpScaling,damage:po.damage,goldValue:b.max(po.gold-(o-po.baseLevel),1),xpValue:po.xp,color:b.color(po.rgb),secondColor:b.color(po.secondRgb),flowField:hg,canSwim:!0}),ju=(n,o,r,t=25,f=b.color(qs))=>new ss(n,r,t,f,[],d=>{const i=as(f);i.setAlpha(d.duration*10),b.noStroke(),b.fill(i),zo(d.pos,d.size)},()=>{},o),zr=Object.freeze({name:"Ninja",discription:'Ninjas are fast and manage to evade damage, and sometimes shout weird things... What even is a "Sasuke"?',hp:700,hpScaling:20,damage:30,speed:ee.TRUE_BASE_SPEED*3.3,force:ee.TRUE_BASE_SPEED*.32,mass:.75,gold:30,xp:155,baseLevel:45,rgb:zs,secondRgb:wu,substitutionCooldown:400,substitutionThreshold:.1});class f1 extends Ks{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"substitutionCooldown");V(this,"substitutionCurrentCooldown");V(this,"substitutionThreshold");V(this,"prevPositions");this.substitutionCooldown=zr.substitutionCooldown,this.substitutionCurrentCooldown=1,this.substitutionThreshold=zr.substitutionThreshold,this.prevPositions=[],this.abilityCounters=["substitutionCurrentCooldown"]}update(){this.prevPositions.length>20&&this.prevPositions.splice(0,1),this.prevPositions.push(this.truePos.copy()),this.substitutionCurrentCooldown--,super.update()}takeDamage(r){if(r.amount>this.maxHp*this.substitutionThreshold&&this.substitutionCurrentCooldown<1){this.smokeBomb(),this.substitutionCurrentCooldown=this.substitutionCooldown,this.truePos=this.prevPositions[0].copy(),this.pos=Vt(this.truePos),this.vel=b.createVector(0,0);return}super.takeDamage(r)}smokeBomb(){for(let r=0;r<40;r++){const t=lt.Vector.fromAngle(b.random(-b.PI,b.PI),this.trueSize/b.random(5,10));Je.addVisual(ju(this.truePos,t,2,b.random(10,25),_u(mr,di)),r>3)}}}const p1=(n,o,r=!1)=>new f1(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:zr.speed,maxForce:zr.force,hp:zr.hp+(o-zr.baseLevel)*zr.hpScaling,damage:zr.damage,mass:zr.mass,goldValue:r?0:b.max(zr.gold-(o-zr.baseLevel),1),xpValue:zr.xp,color:b.color(zr.rgb),secondColor:b.color(zr.secondRgb)}),eo=Object.freeze({name:"Centurion",discription:"A centurion is formidable opponent, well armored and discipled, they can take a lot of punishment.",hp:3500,hpScaling:100,damage:40,speed:ee.TRUE_BASE_SPEED*1,force:ee.TRUE_BASE_SPEED*.1,mass:3,gold:50,xp:250,baseLevel:47,rgb:Es,secondRgb:vu});class m1 extends Ks{constructor(o,r,t,f={}){super(o,r,t,f)}}const g1=(n,o)=>new m1(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:eo.speed,maxForce:eo.force,hp:eo.hp+(o-eo.baseLevel)*eo.hpScaling,damage:eo.damage,goldValue:b.max(eo.gold-(o-eo.baseLevel),1),xpValue:eo.xp,mass:eo.mass,color:b.color(eo.rgb),secondColor:b.color(eo.secondRgb)}),sf=(n,o,r,t=0,f=b)=>{const d=r/2,i=r*(3/8),u=r*(1/11),s={x:0,y:-d},h={x:0,y:d},m={x:i,y:-i},g={x:-i,y:-i};f.push(),f.translate(n,o),f.rotate(t),f.beginShape(),f.vertex(g.x,g.y),f.quadraticVertex(-u*2,-u*3,s.x,s.y),f.quadraticVertex(u*2,-u*3,m.x,m.y),f.quadraticVertex(u*4,u*5,h.x,h.y),f.quadraticVertex(-u*4,u*5,g.x,g.y),f.endShape(f.CLOSE),f.pop()},Rr=Object.freeze({name:"Coward",discription:"The Coward keeps casting a magical shield on himself, kill him quick when it is down.",hp:4e3,hpScaling:60,damage:180,speed:ee.TRUE_BASE_SPEED*1,force:ee.TRUE_BASE_SPEED*.2,mass:1,gold:250,xp:750,baseLevel:50,shieldCooldown:250,shieldHp:1e3,shieldHpScaling:20,rgb:Lh});class y1 extends Cs{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"currentShieldCooldown");V(this,"shieldCooldown");V(this,"shieldActive");V(this,"shieldHp");V(this,"newShieldHp");V(this,"colorShimmerWeight");this.currentShieldCooldown=0,this.shieldCooldown=Rr.shieldCooldown,this.shieldActive=!1,this.shieldHp=0,this.newShieldHp=Rr.shieldHp??d.shieldHp,this.colorShimmerWeight=0,this.abilityCounters=["currentShieldCooldown"]}update(){super.update(),this.colorShimmerWeight++,!this.shieldActive&&(this.currentShieldCooldown--,this.currentShieldCooldown<=0&&(this.currentShieldCooldown=this.shieldCooldown,this.summonShield()))}show(){if(super.show(),this.shieldActive){let r=this.colorShimmerWeight%100;r>50&&(r=100-r),r/=50;const t=Ma(jl,mr,r);t.setAlpha(180),b.noStroke(),b.fill(t),sf(this.pos.x,this.pos.y,this.size*1.7)}}takeDamage(r){if(this.applyStatusEffects("ON_TAKE_DAMAGE",{damage:r}),this.shieldActive){if(this.shieldHp-=r.amount,this.shieldHp>0)return;this.shieldActive=!1,r.amount=this.shieldHp*-1}this.armor&&(r=this.armor.reduceDamage(r),this.checkArmor()),this.hp-=r.amount,this.hp<=0&&this.die()}summonShield(){this.shieldActive=!0,this.shieldHp=this.newShieldHp}}const v1=(n,o)=>new y1(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:Rr.speed,maxForce:Rr.force,hp:Rr.hp+(o-Rr.baseLevel)*Rr.hpScaling,damage:Rr.damage,mass:Rr.mass,goldValue:b.max(Rr.gold-(o-Rr.baseLevel),1),xpValue:Rr.xp,color:b.color(Rr.rgb),level:o,shieldHp:Rr.shieldHp+(o-Rr.baseLevel)*Rr.shieldHpScaling}),_o=Object.freeze({name:"Summoned Demon",discription:"This traitor helps the Cultists out given enough of a sacrifice.",hp:1e4,hpScaling:150,damage:300,speed:ee.TRUE_BASE_SPEED*1.6,force:ee.TRUE_BASE_SPEED*.6,mass:2,gold:1e3,xp:1e3,baseLevel:53,rgb:jn});class b1 extends Cs{constructor(o,r,t,f={}){super(o,r,t,f)}}const w1=(n,o)=>new b1(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:_o.speed,maxForce:_o.force,hp:_o.hp+(o-_o.baseLevel)*_o.hpScaling,damage:_o.damage,mass:_o.mass,goldValue:b.max(_o.gold-(o-_o.baseLevel),1),xpValue:_o.xp,color:b.color(_o.rgb)});class x1{constructor(o,r,t,f,d){V(this,"name");V(this,"pos");V(this,"progress");V(this,"goal");V(this,"degradeRate");V(this,"framesBeforeDegrade");V(this,"currentFramesBeforeDegrade");V(this,"over");this.name=o,this.pos=r,this.progress=0,this.goal=t,this.degradeRate=f,this.framesBeforeDegrade=d,this.currentFramesBeforeDegrade=d,this.pos=r,this.over=!1}show(){}update(){return this.currentFramesBeforeDegrade--,this.currentFramesBeforeDegrade<1&&(this.progress-=this.degradeRate),this.progress<0&&(this.over=!0),this.over}progressGoal(o){this.over||(this.progress+=o,this.currentFramesBeforeDegrade=this.framesBeforeDegrade,this.progress>=this.goal&&this.onGoalAchieved())}onGoalAchieved(){}onEventOver(){}}class S1 extends x1{constructor(r,t){super("cultistSummon",r,1e4,1,50);V(this,"level");this.level=t}show(){const r=Vt(this.pos),t=this.progress/this.goal*5,f=b.floor(t),d=t%1;b.noFill(),b.strokeWeight(ee.STROKE*2),b.stroke(jn),Cy(r.x,r.y,ee.HEX_SIZE*2.2,f,d)}onGoalAchieved(){const r=w1(this.pos.copy(),this.level);Rt.units.push(r),this.over=!0}onEventOver(){Je.removeCustomPath("CultistSummon")}}const Or=Object.freeze({name:"Cultist",discription:"Cultists are ready to lay down their life for their goal, literally.",hp:2e3,hpScaling:30,damage:1,speed:ee.TRUE_BASE_SPEED*.9,force:ee.TRUE_BASE_SPEED*.19,mass:1,gold:24,xp:200,baseLevel:53,startTheSummoningChance:5e-4,hpSacrifice:5,pathName:"CultistSummon",pathNameNext:"CultistSummonNext",songDuration:400,rgb:jn,secondRgb:xu});class _1 extends Ks{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"startTheSummoningChance");V(this,"hpSacrifice");V(this,"summonEvent");this.startTheSummoningChance=Or.startTheSummoningChance,this.hpSacrifice=Or.hpSacrifice,this.summonEvent=null}update(){if(super.update(),this.summonEvent=Rt.getArmyEvent("cultistSummon"),!this.summonEvent)this.currentFlowField=this.originalFlowField,b.random()<this.startTheSummoningChance&&this.startSummoning();else{he.grid[this.hexPos.x][this.hexPos.y].data[Or.pathNameNext]&&(this.currentFlowField=Or.pathNameNext);const r=he.getTrueHexVectorFromXY(this.summonEvent.pos.x,this.summonEvent.pos.y);r.x===this.hexPos.x&&r.y===this.hexPos.y&&this.sacrificeToDemon(this.summonEvent)}}startSummoning(){const r=he.grid[this.hexPos.x][this.hexPos.y],t=new S1(r.truePos,this.level);Rt.addArmyEvent(t),Je.addCustomPath({origin:[r],name:Or.pathName,waterCost:666,stopAfter:999})}sacrificeToDemon(r){const t=b.min(this.hpSacrifice,this.hp);r.progressGoal(t),this.hp-=t}getTarget(r=ii){}}const E1=(n,o)=>new _1(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:Or.speed,maxForce:Or.force,hp:Or.hp+(o-Or.baseLevel)*Or.hpScaling,damage:Or.damage,goldValue:b.max(Or.gold-(o-Or.baseLevel),1),xpValue:Or.xp,color:b.color(Or.rgb),secondColor:b.color(Or.secondRgb),level:o}),Sr=Object.freeze({name:"SlimeBorn",discription:"SlimeBorn are half demons that split into two on death.",hp:2e3,hpScaling:20,damage:10,speed:ee.TRUE_BASE_SPEED*.2,force:ee.TRUE_BASE_SPEED*.04,size:ee.TRUE_UNIT_SIZE*1.5,mass:4,gold:10,xp:100,baseLevel:55,maxSplits:4,rgb:yn,secondRgb:vu});class Tu extends Ks{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"splitsLeft");this.splitsLeft=d.splitsLeft??Sr.maxSplits}die(){if(!this.dead&&(super.die(),!(this.splitsLeft<=0)))for(let r=0;r<2;r++)this.getHalfSlime()}getHalfSlime(){const r=new Tu(this.truePos.x,this.truePos.y,this.trueSize*.8,{desiredSpeed:this.desiredSpeed*2,maxForce:this.maxForce*1.5,hp:this.maxHp/2,damage:this.damage,goldValue:this.goldValue,xpValue:this.xpValue,mass:this.mass/2,color:b.color(Sr.rgb),secondColor:b.color(Sr.secondRgb),level:this.level,splitsLeft:this.splitsLeft-1,otherDifficulty:Co});r.vel=b.createVector(b.random(),b.random()),Rt.units.push(r)}}const j1=(n,o)=>new Tu(n.x,n.y,Sr.size,{desiredSpeed:Sr.speed,maxForce:Sr.force,hp:Sr.hp+(o-Sr.baseLevel)*Sr.hpScaling,damage:Sr.damage,goldValue:b.max(Sr.gold-(o-Sr.baseLevel),1),xpValue:Sr.xp,mass:Sr.mass,color:b.color(Sr.rgb),secondColor:b.color(Sr.secondRgb),level:o,splitsLeft:Sr.maxSplits}),so=Object.freeze({name:"Tactician",discription:"The Tactician keeps close watch at what's happening around him, and defends himself from the worst of it.",hp:1e4,hpScaling:100,damage:220,speed:ee.TRUE_BASE_SPEED*1.2,force:ee.TRUE_BASE_SPEED*.22,mass:1,gold:400,xp:1500,baseLevel:60,activeTypeDamage:.1,rgb:yg});class T1 extends Cs{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"activeDamageType");V(this,"activeTypeDamage");V(this,"allDamageReceived");this.activeDamageType="DROWN",this.activeTypeDamage=so.activeTypeDamage,this.allDamageReceived={DROWN:0}}show(){super.show(),Xg(this.pos,this.size/2,this.activeDamageType)}takeDamage(r){r.type===this.activeDamageType&&(r.amount*=this.activeTypeDamage),this.applyStatusEffects("ON_TAKE_DAMAGE",{damage:r}),this.allDamageReceived[r.type]===void 0&&(this.allDamageReceived[r.type]=0),this.allDamageReceived[r.type]+=r.amount,this.allDamageReceived[r.type]>this.allDamageReceived[this.activeDamageType]&&(this.activeDamageType=r.type),this.armor&&(r=this.armor.reduceDamage(r),this.checkArmor()),this.hp-=r.amount,this.hp<=0&&this.die()}}const C1=(n,o)=>new T1(n.x,n.y,ee.TRUE_UNIT_SIZE,{desiredSpeed:so.speed,maxForce:so.force,hp:so.hp+(o-so.baseLevel)*so.hpScaling,damage:so.damage,mass:so.mass,goldValue:b.max(so.gold-(o-so.baseLevel),1),xpValue:so.xp,color:b.color(so.rgb),level:o});var Me=(n=>(n[n.FARMER=0]="FARMER",n[n.SWORDSMAN=1]="SWORDSMAN",n[n.HEAVYWEIGHT=2]="HEAVYWEIGHT",n[n.BOMBER=3]="BOMBER",n[n.PALADIN=4]="PALADIN",n[n.BERSERKER=5]="BERSERKER",n[n.RUSHER=6]="RUSHER",n[n.HEALER=7]="HEALER",n[n.SUMMONER=8]="SUMMONER",n[n.KNIGHT=9]="KNIGHT",n[n.PROTECTOR=10]="PROTECTOR",n[n.COMMANDER=11]="COMMANDER",n[n.MERCENARY=12]="MERCENARY",n[n.BARD=13]="BARD",n[n.ILLUSIONIST=14]="ILLUSIONIST",n[n.SWIMMER=15]="SWIMMER",n[n.NINJA=16]="NINJA",n[n.CENTURION=17]="CENTURION",n[n.COWARD=18]="COWARD",n[n.CULTIST=19]="CULTIST",n[n.SLIME=20]="SLIME",n[n.TACTICIAN=21]="TACTICIAN",n))(Me||{});const R1={[0]:Eo,[1]:jo,[2]:co,[3]:go,[4]:Cr,[5]:mo,[6]:ho,[7]:Mr,[8]:Yr,[9]:fo,[10]:kr,[11]:Pr,[12]:yo,[13]:hr,[14]:Ar,[15]:po,[16]:zr,[17]:eo,[18]:Rr,[19]:Or,[20]:Sr,[21]:so},tn={STEEL:{hpMultiplier:1.5,damageReductionFlatPerType:{PHYSICAL:2,MAGIC:2,POISON:0,FIRE:1,EXPLOSION:2,DROWN:0},damageReductionPercentPerType:{PHYSICAL:.5,MAGIC:.5,POISON:0,FIRE:.5,EXPLOSION:1,DROWN:0},weight:1,color:di},MITHRIL:{hpMultiplier:3,damageReductionFlatPerType:{PHYSICAL:10,MAGIC:10,POISON:.5,FIRE:4,EXPLOSION:10,DROWN:0},damageReductionPercentPerType:{PHYSICAL:2/3,MAGIC:2/3,POISON:.25,FIRE:2/3,EXPLOSION:1,DROWN:0},weight:.2,color:yn}};class M1{constructor(o,r){V(this,"type");V(this,"hp");V(this,"maxHp");V(this,"hpPercentToAlpha");V(this,"damageReductionFlatPerType");V(this,"damageReductionPercentPerType");V(this,"weight");V(this,"color");this.type=o,this.maxHp=r*tn[o].hpMultiplier,this.hp=r*tn[o].hpMultiplier,this.hpPercentToAlpha=200,this.damageReductionFlatPerType=tn[o].damageReductionFlatPerType,this.damageReductionPercentPerType=tn[o].damageReductionPercentPerType,this.weight=tn[o].weight,this.color=tn[o].color}reduceDamage(o){o.amount=b.max(o.amount-this.damageReductionFlatPerType[o.type],0);const r=o.amount*this.damageReductionPercentPerType[o.type];return this.hp-=r,o.amount=b.max(o.amount-r,0),this.hpPercentToAlpha=this.hp/this.maxHp*200,o}show(o,r,t){b.strokeWeight(ee.STROKE),b.stroke(this.color),b.fill([...this.color,this.hpPercentToAlpha]),sf(o.x,o.y,r*.8)}}class id{constructor(){}static getUnit(o,r,t,f){let d;switch(o){case Me.FARMER:d=nd(r,t);break;case Me.SWORDSMAN:d=Iy(r,t);break;case Me.HEAVYWEIGHT:d=By(r,t);break;case Me.BOMBER:d=Oy(r,t);break;case Me.PALADIN:d=Ny(r,t);break;case Me.BERSERKER:d=Py(r,t);break;case Me.RUSHER:d=of(r,t);break;case Me.HEALER:d=Hy(r,t);break;case Me.SUMMONER:d=Wy(r,t);break;case Me.KNIGHT:d=Xy(r,t);break;case Me.PROTECTOR:d=Ky(r,t);break;case Me.COMMANDER:d=Jy(r,t);break;case Me.MERCENARY:d=t1(r,t);break;case Me.BARD:d=l1(r,t);break;case Me.ILLUSIONIST:d=c1(r,t);break;case Me.SWIMMER:d=h1(r,t);break;case Me.NINJA:d=p1(r,t);break;case Me.CENTURION:d=g1(r,t);break;case Me.COWARD:d=v1(r,t);break;case Me.CULTIST:d=E1(r,t);break;case Me.SLIME:d=j1(r,t);break;case Me.TACTICIAN:d=C1(r,t);break;default:console.log("Wrong input"),d=nd(r,t);break}if(!f)return d;const i=new M1(f,d.hp);return d.addArmor(i),d}}const nf={wave:[],message:"First come just some lowly Farmers, should be no issue."};for(let n=0;n<12;n++)nf.wave.push({unit:Me.FARMER,cooldown:100});const af={wave:[],message:"More of the same thing, just slightly closer together."};for(let n=0;n<15;n++)af.wave.push({unit:Me.FARMER,cooldown:70});const lf={wave:[],message:"Swordsmen are slightly stronger than farmers, still though, no self respecting overlord should be having issues at this point."};for(let n=0;n<12;n++)lf.wave.push({unit:Me.SWORDSMAN,cooldown:90});const Rl={wave:[],message:"This time they're both coming at you."};for(let n=0;n<7;n++){for(let o=0;o<2;o++)Rl.wave.push({unit:Me.FARMER,cooldown:35});Rl.wave.push({unit:Me.SWORDSMAN,cooldown:100})}const Ml={wave:[],message:"Those cowardly Farmers think they're safer in groups. Let's show them how wrong they are."};for(let n=0;n<7;n++){for(let o=0;o<5;o++)Ml.wave.push({unit:Me.FARMER,cooldown:5});Ml.wave.push({unit:Me.FARMER,cooldown:160})}const Ns={wave:[],message:"The first Heavyweights are about to show up, they can take a hit, but are vulnerable to slow and push effects."};for(let n=0;n<2;n++)Ns.wave.push({unit:Me.HEAVYWEIGHT,cooldown:200}),Ns.wave.push({unit:Me.SWORDSMAN,cooldown:25}),Ns.wave.push({unit:Me.SWORDSMAN,cooldown:25}),Ns.wave.push({unit:Me.SWORDSMAN,cooldown:220});Ns.wave.push({unit:Me.HEAVYWEIGHT,cooldown:125});Ns.wave.push({unit:Me.HEAVYWEIGHT,cooldown:125});const uf={wave:[],message:"So many Swordsmen almost make an army. Good thing overlords make a business out of squasing those."};for(let n=0;n<20;n++)uf.wave.push({unit:Me.SWORDSMAN,cooldown:45});const cf={wave:[],message:"Those Bombers carry explosives to blow up our base, but if you blow them up they'll damage their own allies."};for(let n=0;n<40;n++)cf.wave.push({unit:Me.BOMBER,cooldown:12});const Li={wave:[],message:"Next is a nice mix of lots of weaklings and a few strong ones."};for(let n=0;n<4;n++){Li.wave.push({unit:Me.HEAVYWEIGHT,cooldown:30});for(let o=0;o<15;o++)Li.wave.push({unit:Me.FARMER,cooldown:60});Li.wave.push({unit:Me.FARMER,cooldown:30})}const df={wave:[],message:"A bonefide Paladin has heard of the 'evil' you've been up to, and has decided that should end. Look out for his divine blessing which slowly regenerates his health."};df.wave.push({unit:Me.PALADIN,cooldown:10});const hf={wave:[],message:"That's a lot of Swordsmen. They never learn do they."};for(let n=0;n<50;n++)hf.wave.push({unit:Me.SWORDSMAN,cooldown:35});const Bi={wave:[],message:"Groups of heavies are a pain, but I bet you could use those bombers to your advantage."};for(let n=0;n<4;n++){for(let o=0;o<3;o++)Bi.wave.push({unit:Me.HEAVYWEIGHT,cooldown:4});Bi.wave.push({unit:Me.HEAVYWEIGHT,cooldown:210});for(let o=0;o<12;o++)Bi.wave.push({unit:Me.BOMBER,cooldown:45})}const Pl={wave:[],message:"Berserkers turn pain into pleasure, uhh, I mean, into a rage they use to rush right through your defenses."};for(let n=0;n<9;n++)Pl.wave.push({unit:Me.BERSERKER,cooldown:10}),Pl.wave.push({unit:Me.BERSERKER,cooldown:190});const Al={wave:[],message:"Next wave benefits from those sweet big hits me thinks."};for(let n=0;n<12;n++)Al.wave.push({unit:Me.BERSERKER,cooldown:40}),Al.wave.push({unit:Me.HEAVYWEIGHT,cooldown:40});const Ol={wave:[],message:"Slow and high health, this wave takes a while."};for(let n=0;n<3;n++){Ol.wave.push({unit:Me.PALADIN,cooldown:280});for(let o=0;o<8;o++)Ol.wave.push({unit:Me.HEAVYWEIGHT,cooldown:130})}const ff={wave:[],message:"The first Rushers are about to show, they are a bit hard to deal with, but a few good hits should do the trick."};for(let n=0;n<22;n++)ff.wave.push({unit:Me.RUSHER,cooldown:60});const Ui={wave:[],message:"Those Swordsmen mobs are still not giving up. This time they brought some Healers along."};for(let n=0;n<5;n++){Ui.wave.push({unit:Me.HEALER,cooldown:35});for(let o=0;o<7;o++)Ui.wave.push({unit:Me.SWORDSMAN,cooldown:25});Ui.wave.push({unit:Me.SWORDSMAN,cooldown:190})}const Ni={wave:[],message:"Don't let those Healers do their thing!"};for(let n=0;n<13;n++)Ni.wave.push({unit:Me.HEALER,cooldown:45}),Ni.wave.push({unit:Me.HEAVYWEIGHT,cooldown:45}),Ni.wave.push({unit:Me.HEALER,cooldown:195});const Nn={wave:[],message:"Rushers and Berserkers, it's a hectic round."};for(let n=0;n<7;n++)Nn.wave.push({unit:Me.BERSERKER,cooldown:30}),Nn.wave.push({unit:Me.RUSHER,cooldown:60}),Nn.wave.push({unit:Me.RUSHER,cooldown:60}),Nn.wave.push({unit:Me.RUSHER,cooldown:30});const pf={wave:[],message:"Best kill this Summoner quickly if you don't want to be overrun."};pf.wave.push({unit:Me.SUMMONER,cooldown:10});const Fi={wave:[],message:"It seems one of these geniuses came up with the idea of actually wearing armor. And here I thought they all shared their one braincell."};for(let n=0;n<4;n++){for(let o=0;o<4;o++)Fi.wave.push({unit:Me.SWORDSMAN,cooldown:40,armor:"STEEL"}),Fi.wave.push({unit:Me.SWORDSMAN,cooldown:40});Fi.wave.push({unit:Me.HEAVYWEIGHT,cooldown:150,armor:"STEEL"})}const to={wave:[],message:"Some actual armor tidbits this time, you look like you need it :p. Armor mitigates small hits more than large ones, however poison goes straight through. Explosions on the other hand get fully absorbed."};for(let n=0;n<1;n++){for(let o=0;o<6;o++)to.wave.push({unit:Me.FARMER,cooldown:25});to.wave.push({unit:Me.FARMER,cooldown:300,armor:"STEEL"});for(let o=0;o<5;o++)to.wave.push({unit:Me.SWORDSMAN,cooldown:25});to.wave.push({unit:Me.SWORDSMAN,cooldown:300,armor:"STEEL"});for(let o=0;o<4;o++)to.wave.push({unit:Me.BOMBER,cooldown:25});to.wave.push({unit:Me.BOMBER,cooldown:300,armor:"STEEL"});for(let o=0;o<3;o++)to.wave.push({unit:Me.BERSERKER,cooldown:25});to.wave.push({unit:Me.BERSERKER,cooldown:300,armor:"STEEL"});for(let o=0;o<2;o++)to.wave.push({unit:Me.RUSHER,cooldown:25});to.wave.push({unit:Me.RUSHER,cooldown:300,armor:"STEEL"});for(let o=0;o<1;o++)to.wave.push({unit:Me.HEALER,cooldown:25});to.wave.push({unit:Me.HEALER,cooldown:300,armor:"STEEL"})}const kl={wave:[],message:"The Knights are coming. They are pretty strong allrounders, their weakness however, is that they are friggin boring. Go have skill or quirk! Pathetic."};for(let n=0;n<4;n++){for(let o=0;o<2;o++)kl.wave.push({unit:Me.KNIGHT,cooldown:90});kl.wave.push({unit:Me.KNIGHT,cooldown:250})}const Dl={wave:[],message:"Not sure they thought this combo through..."};for(let n=0;n<12;n++){Dl.wave.push({unit:Me.HEALER,cooldown:75});for(let o=0;o<3;o++)Dl.wave.push({unit:Me.BERSERKER,cooldown:100,armor:"STEEL"})}const Xs={wave:[],message:"The Protectors figured out we like to shoot things at them, and will try to defend themselves and others. Rather weak once you do get them good though."};for(let n=0;n<5;n++)Xs.wave.push({unit:Me.PROTECTOR,cooldown:80});for(let n=0;n<5;n++)Xs.wave.push({unit:Me.PROTECTOR,cooldown:40}),Xs.wave.push({unit:Me.SWORDSMAN,cooldown:40,armor:"STEEL"});Xs.wave.push({unit:Me.PROTECTOR,cooldown:240});for(let n=0;n<1;n++){for(let o=0;o<5;o++)Xs.wave.push({unit:Me.PROTECTOR,cooldown:30,armor:"STEEL"});Xs.wave.push({unit:Me.KNIGHT,cooldown:20})}const Vi={wave:[],message:"Their armor gives them a little protection from their own explosions, but if you have some aoe this wave should be no issue."};for(let n=0;n<2;n++){Vi.wave.push({unit:Me.PROTECTOR,cooldown:5,armor:"STEEL"});for(let o=0;o<100;o++)Vi.wave.push({unit:Me.BOMBER,cooldown:3,armor:"STEEL"}),Vi.wave.push({unit:Me.BOMBER,cooldown:3,armor:"STEEL"})}const Il={wave:[],message:"Looks like a Knight finally managed to find some armor shiny enough to suit his station."};for(let n=0;n<1;n++){for(let o=0;o<10;o++)Il.wave.push({unit:Me.PROTECTOR,cooldown:35,armor:"STEEL"});Il.wave.push({unit:Me.KNIGHT,cooldown:5,armor:"STEEL"})}const Ll={wave:[],message:"Armored heavies don't have much of a chance of making it through, but this paladin has figured out they make pretty decent meat shields. Holy warrior indeed."};for(let n=0;n<1;n++){Ll.wave.push({unit:Me.PALADIN,cooldown:5});for(let o=0;o<8;o++)Ll.wave.push({unit:Me.HEAVYWEIGHT,cooldown:200,armor:"STEEL"})}const Fn={wave:[],message:"It's a military march huh, some big shot's gonna show soon."};for(let n=0;n<1;n++){for(let o=0;o<2;o++){for(let r=0;r<4;r++){for(let t=0;t<5;t++)Fn.wave.push({unit:Me.FARMER,cooldown:30,armor:"STEEL"});Fn.wave.push({unit:Me.SWORDSMAN,cooldown:60,armor:"STEEL"})}Fn.wave.push({unit:Me.HEAVYWEIGHT,cooldown:120,armor:"STEEL"})}Fn.wave.push({unit:Me.KNIGHT,cooldown:240,armor:"STEEL"})}const Vn={wave:[],message:"You know I actually kind of respect this Commander. She manages to turn a random band of idiots into an effective force. Reminds me a little of myself."};for(let n=0;n<1;n++)Vn.wave.push({unit:Me.HEAVYWEIGHT,cooldown:55,armor:"STEEL"}),Vn.wave.push({unit:Me.PROTECTOR,cooldown:15,armor:"STEEL"}),Vn.wave.push({unit:Me.COMMANDER,cooldown:8}),Vn.wave.push({unit:Me.HEAVYWEIGHT,cooldown:15,armor:"STEEL"});const mf={wave:[],message:"The bad news is that that's a lot of Knights, the good news is that we can sell their stuff for a nice price."};for(let n=100;n>0;n--)mf.wave.push({unit:Me.KNIGHT,cooldown:n+50});const Bl={wave:[],message:"Some Mercenaries are scouting ahead of their main force. These guys are more interested in the bounty on monsters they kill than actually fighting you."};for(let n=0;n<4;n++){for(let o=0;o<5;o++)Bl.wave.push({unit:Me.MERCENARY,cooldown:15});Bl.wave.push({unit:Me.MERCENARY,cooldown:120,armor:"STEEL"})}const Hn={wave:[],message:"Now it's some more Mercenaries, this time properly protecting their charges."};for(let n=0;n<2;n++){Hn.wave.push({unit:Me.HEALER,cooldown:10}),Hn.wave.push({unit:Me.PROTECTOR,cooldown:10});for(let o=0;o<3;o++){for(let r=0;r<8;r++)Hn.wave.push({unit:Me.SWORDSMAN,cooldown:5,armor:"STEEL"});Hn.wave.push({unit:Me.MERCENARY,cooldown:20,armor:"STEEL"})}}const Ul={wave:[],message:"Would you like to meet an armored Paladin? How about an armored Summoner?.. How about both..."};for(let n=0;n<1;n++)Ul.wave.push({unit:Me.PALADIN,cooldown:350,armor:"STEEL"}),Ul.wave.push({unit:Me.SUMMONER,cooldown:350,armor:"STEEL"});const on={wave:[],message:"Well aren't we lucky, a few Commanders squabbling over the best way to approach our base. Best kill them quick before reinforcements arrive."};for(let n=0;n<1;n++){for(let o=0;o<2;o++)on.wave.push({unit:Me.COMMANDER,cooldown:10});on.wave.push({unit:Me.COMMANDER,cooldown:500});for(let o=0;o<7;o++)on.wave.push({unit:Me.KNIGHT,cooldown:20});on.wave.push({unit:Me.KNIGHT,cooldown:200});for(let o=0;o<20;o++)on.wave.push({unit:Me.RUSHER,cooldown:10})}const Qo={wave:[],message:"Some Bards are tagging along with the troops, mostly to induldge in the afterparty of your defeat I'm sure."};for(let n=0;n<1;n++){for(let o=0;o<30;o++)Qo.wave.push({unit:Me.FARMER,cooldown:4,armor:"STEEL"});Qo.wave.push({unit:Me.BARD,cooldown:225});for(let o=0;o<25;o++)Qo.wave.push({unit:Me.SWORDSMAN,cooldown:7,armor:"STEEL"});Qo.wave.push({unit:Me.BARD,cooldown:275});for(let o=0;o<10;o++)Qo.wave.push({unit:Me.BERSERKER,cooldown:15});Qo.wave.push({unit:Me.BARD,cooldown:325}),Qo.wave.push({unit:Me.BARD,cooldown:25});for(let o=0;o<8;o++)Qo.wave.push({unit:Me.RUSHER,cooldown:25})}const Hi={wave:[],message:"It's the support squad! And they are supporting, uhh, each other."};for(let n=0;n<10;n++)Hi.wave.push({unit:Me.HEALER,cooldown:20}),Hi.wave.push({unit:Me.PROTECTOR,cooldown:20}),Hi.wave.push({unit:Me.BARD,cooldown:120});const Gi={wave:[],message:"Please kill these guys quickly, they were loud enough before they started drinking."};for(let n=0;n<9;n++){Gi.wave.push({unit:Me.MERCENARY,cooldown:20,armor:"STEEL"});for(let o=0;o<2;o++)Gi.wave.push({unit:Me.BERSERKER,cooldown:20});Gi.wave.push({unit:Me.BARD,cooldown:200})}const gf={wave:[],message:"The best way to kill an evil overlord is to send wave after wave. Well that's the theory anyway. These Summoners are going to test that theory."};for(let n=0;n<5;n++)gf.wave.push({unit:Me.SUMMONER,cooldown:5});const yf={wave:[],message:"Last wave for Easy. This Illusionist will show you a good time....  .   .   .   .   Get it?"};for(let n=0;n<1;n++)yf.wave.push({unit:Me.ILLUSIONIST,cooldown:200});const Gn={wave:[],message:"The Farmers are revolting!.. It's all that living in filth that does it."};for(let n=4;n>0;n--){for(let o=0;o<25;o++)Gn.wave.push({unit:Me.FARMER,cooldown:5,armor:"STEEL"});Gn.wave.push({unit:Me.HEALER,cooldown:10});for(let o=0;o<25;o++)Gn.wave.push({unit:Me.FARMER,cooldown:5,armor:"STEEL"});Gn.wave.push({unit:Me.BARD,cooldown:10})}const vf={wave:[],message:"Forty two is the answer to life, the universe, and apparantly not drowning while crossing bodies of water."};for(let n=0;n<16;n++)vf.wave.push({unit:Me.SWIMMER,cooldown:80});const Nl={wave:[],message:"It's a bunch more guys who are trying to cheese their way through your defenses."};for(let n=0;n<12;n++){for(let o=0;o<3;o++)Nl.wave.push({unit:Me.SWIMMER,cooldown:10});Nl.wave.push({unit:Me.RUSHER,cooldown:30})}const bf={wave:[],message:"I do feel like the armor takes something away from the illusion, it's just not the same y'know."};for(let n=0;n<1;n++)bf.wave.push({unit:Me.ILLUSIONIST,cooldown:350,armor:"STEEL"});const wf={wave:[],message:"Evading damage after you get hit seems more like cheating than skill to me, but these Ninja do it anyways."};for(let n=0;n<15;n++)wf.wave.push({unit:Me.NINJA,cooldown:50});const Fl={wave:[],message:"A Summoner was boasting that her minions could easily best any Ninja... It's on! Believe it!"};for(let n=0;n<1;n++){Fl.wave.push({unit:Me.SUMMONER,cooldown:250,armor:"STEEL"});for(let o=0;o<10;o++)Fl.wave.push({unit:Me.NINJA,cooldown:30})}const xf={wave:[],message:"Whoever is commanding these heroes seems to really swing between extremes. So yeah, these Centurions are about the opposite of Ninja, slow and heavy, but heavily armored."};for(let n=0;n<6;n++)xf.wave.push({unit:Me.CENTURION,cooldown:160});const Wi={wave:[],message:"Because Bards, Bombers, Berserkers bring boisterous brawn by blind bloody behaviour, by blood bring balance back."};for(let n=0;n<7;n++){Wi.wave.push({unit:Me.BERSERKER,cooldown:30});for(let o=0;o<15;o++)Wi.wave.push({unit:Me.BOMBER,cooldown:20,armor:"STEEL"});Wi.wave.push({unit:Me.BARD,cooldown:120})}const Wn={wave:[],message:"I would like to take this opportunity to apologize for last waves message."};for(let n=0;n<2;n++){for(let o=0;o<2;o++)Wn.wave.push({unit:Me.CENTURION,cooldown:25}),Wn.wave.push({unit:Me.COMMANDER,cooldown:250});for(let o=0;o<5;o++)Wn.wave.push({unit:Me.MERCENARY,cooldown:75,armor:"STEEL"});Wn.wave.push({unit:Me.KNIGHT,cooldown:180,armor:"STEEL"})}const Sf={wave:[],message:"This Coward keeps summoning a shield to keep himself safe. Let's teach him what happens to those who run from danger."};for(let n=0;n<1;n++)Sf.wave.push({unit:Me.COWARD,cooldown:200});const na={wave:[],message:"Hah, did you see the look on his face when his shield gave out? Priceless."};for(let n=4;n>0;n--){na.wave.push({unit:Me.PROTECTOR,cooldown:15,armor:"STEEL"});for(let o=0;o<5;o++)na.wave.push({unit:Me.SWIMMER,cooldown:15,armor:"STEEL"})}for(let n=0;n<2;n++)na.wave.push({unit:Me.NINJA,cooldown:5});const Vl={wave:[],message:"You have dealt with quick enemies, and with large groups... I think you can see where I'm going with this."};for(let n=0;n<6;n++){for(let o=0;o<7;o++)Vl.wave.push({unit:Me.RUSHER,cooldown:4});Vl.wave.push({unit:Me.RUSHER,cooldown:75})}const _f={wave:[],message:"Some Cultists figure they can get one of our own to turn traitor, given enough of a sacrifice... As if any demon would be pathetic enough to follow some hooded wimps."};for(let n=0;n<15;n++)_f.wave.push({unit:Me.CULTIST,cooldown:120});const Wr={wave:[],message:"It's a blast from the past! That is to say, various heroes you met early on are coming back to say hi."};for(let n=0;n<1;n++){for(let o=0;o<4;o++)Wr.wave.push({unit:Me.FARMER,cooldown:2});Wr.wave.push({unit:Me.FARMER,cooldown:70,armor:"STEEL"});for(let o=0;o<4;o++)Wr.wave.push({unit:Me.SWORDSMAN,cooldown:2});Wr.wave.push({unit:Me.SWORDSMAN,cooldown:70,armor:"STEEL"});for(let o=0;o<4;o++)Wr.wave.push({unit:Me.HEAVYWEIGHT,cooldown:2});Wr.wave.push({unit:Me.HEAVYWEIGHT,cooldown:70,armor:"STEEL"});for(let o=0;o<4;o++)Wr.wave.push({unit:Me.BOMBER,cooldown:2});Wr.wave.push({unit:Me.BOMBER,cooldown:70,armor:"STEEL"});for(let o=0;o<4;o++)Wr.wave.push({unit:Me.BERSERKER,cooldown:2});Wr.wave.push({unit:Me.BERSERKER,cooldown:70,armor:"STEEL"});for(let o=0;o<4;o++)Wr.wave.push({unit:Me.RUSHER,cooldown:2});Wr.wave.push({unit:Me.RUSHER,cooldown:70,armor:"STEEL"});for(let o=0;o<4;o++)Wr.wave.push({unit:Me.HEALER,cooldown:2});Wr.wave.push({unit:Me.HEALER,cooldown:70,armor:"STEEL"})}const Ef={wave:[],message:"The heroes managed to stop discriminating just long enough to enlist a bunch of half-slimes. Typical. It's a shame we have to kill our own, but oh well."};for(let n=0;n<5;n++)Ef.wave.push({unit:Me.SLIME,cooldown:350});const Cu={wave:[],message:"Have you figured out a good way to deal with Protectors yet? I hope so..."};Cu.wave.push({unit:Me.SLIME,cooldown:10});for(let n=0;n<20;n++)Cu.wave.push({unit:Me.PROTECTOR,cooldown:10});const zi={wave:[],message:"This time the cultists come in practical summoning groups. A small disruption should be enough here."};for(let n=0;n<4;n++){for(let o=0;o<4;o++)zi.wave.push({unit:Me.CULTIST,cooldown:6});zi.wave.push({unit:Me.CULTIST,cooldown:600});for(let o=0;o<2;o++)zi.wave.push({unit:Me.MERCENARY,cooldown:600,armor:"STEEL"})}const qi={wave:[],message:"Is it a bird? is it a plane? No. It's a trio of magical girls.. Wait, I think one of those is a guy.. Well that's fine, you do you. We'll kill you all the same."};for(let n=0;n<1;n++)qi.wave.push({unit:Me.SUMMONER,cooldown:20}),qi.wave.push({unit:Me.COWARD,cooldown:20}),qi.wave.push({unit:Me.ILLUSIONIST,cooldown:20});const Fs={wave:[],message:"The crusade is upon us!"};for(let n=0;n<2;n++)Fs.wave.push({unit:Me.PALADIN,cooldown:15,armor:"STEEL"});Fs.wave.push({unit:Me.HEALER,cooldown:400});for(let n=0;n<2;n++){for(let o=0;o<2;o++)Fs.wave.push({unit:Me.KNIGHT,cooldown:15,armor:"STEEL"});Fs.wave.push({unit:Me.HEALER,cooldown:400});for(let o=0;o<2;o++)Fs.wave.push({unit:Me.CENTURION,cooldown:15,armor:"STEEL"});Fs.wave.push({unit:Me.HEALER,cooldown:1500})}const jf={wave:[],message:"Last wave for Normal. The Tactician constantly evaluates the situation, and braces himself for whatever type of damage he has received the most."};for(let n=0;n<1;n++)jf.wave.push({unit:Me.TACTICIAN,cooldown:200});const ad={1:nf,2:af,3:lf,4:Rl,5:Ml,6:Ns,7:uf,8:cf,9:Li,10:df,11:hf,12:Bi,13:Pl,14:Al,15:Ol,16:ff,17:Ui,18:Ni,19:Nn,20:pf,21:Fi,22:to,23:kl,24:Dl,25:Xs,26:Vi,27:Il,28:Ll,29:Fn,30:Vn,31:mf,32:Bl,33:Hn,34:Ul,35:on,36:Qo,37:Hi,38:Gi,39:gf,40:yf,41:Gn,42:vf,43:Nl,44:bf,45:wf,46:Fl,47:xf,48:Wi,49:Wn,50:Sf,51:na,52:Vl,53:_f,54:Wr,55:Ef,56:Cu,57:zi,58:qi,59:Fs,60:jf},P1=n=>n in ad?ad[n]:-1,Tf="waveDone",Cf="waveUpdated";class ld{constructor(){V(this,"currentCooldown");V(this,"spawns");V(this,"currentSpawn");V(this,"currentWave");V(this,"currentMessage");V(this,"nextWaveSpawnIndex");V(this,"currentWaveNumber");V(this,"baseWaveReward");V(this,"flatWaveReward");this.currentCooldown=10,this.spawns=[],this.currentSpawn=0,this.currentWaveNumber=0,this.nextWaveSpawnIndex=0,this.baseWaveReward=250,this.flatWaveReward=500,this.currentWave=[],this.currentMessage="",this.startNextWave()}update(){const o=this.currentWave[this.nextWaveSpawnIndex];if(o===void 0)return Tf;if(this.currentCooldown--,this.currentCooldown>0)return Cf;const r=id.getUnit(o.unit,this.spawns[this.currentSpawn].truePos,this.currentWaveNumber,o.armor),t=this.spawns[this.currentSpawn];return this.nextWaveSpawnIndex++,this.currentCooldown=o.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,{unit:r,spawn:t}}setActiveSpawners(o){this.spawns=o,this.currentSpawn=0}startNextWave(){this.nextWaveSpawnIndex=0,this.currentWaveNumber++;const o=P1(this.currentWaveNumber);o===-1?(this.currentWave=this.generateRandomWaveNew(),this.currentMessage="Random waves from now on. How far can you get?"):(this.currentWave=o.wave,this.currentMessage=o.message)}generateRandomWave(){const o=Object.keys(Me).length/2,r=120,t=[];let f=this.currentWaveNumber**2*100;for(;f>0;){const d={unit:Math.floor(Math.random()*o),cooldown:b.max(Math.ceil(Math.random()*r-t.length),2)},i=d.unit**2*10+(r-d.cooldown);t.push(d),f-=i}return t}generateRandomWaveNew(){const o=Object.keys(Me).length/2,r=[],t=b.ceil(this.currentWaveNumber/10),f=this.currentWaveNumber*100,d=this.currentWaveNumber*20,i=this.currentWaveNumber/1e3,u=this.currentWaveNumber/250,s=250/this.currentWaveNumber**1.2,h=1+this.currentWaveNumber*.0125;for(let m=0;m<t;m++){const g=Math.floor(Math.random()*o),c=R1[g],l={unit:g,cooldown:200,armor:void 0},a=c.hp+(this.currentWaveNumber-c.baseLevel)*c.hpScaling;let p=0;a>f?(l.cooldown=b.random(50,100)*s,p=b.floor(h)):a>d?(l.cooldown=b.random(30,80)*s,p=b.floor(b.random(4,8)*h)):(l.cooldown=b.random(10,40)*s,p=b.floor(b.random(12,20)*h));for(let v=0;v<p;v++){const w=b.random()<i?"MITHRIL":b.random()<u?"STEEL":void 0;r.push({unit:l.unit,cooldown:l.cooldown,armor:w})}}return r}endWave(){return this.currentCooldown=10,this.flatWaveReward}getMessage(){return this.currentMessage}killCurrentWaveWithGold(){let o=0;for(;this.nextWaveSpawnIndex<this.currentWave.length;){const r=this.currentWave[this.nextWaveSpawnIndex];if(r===void 0)return o;const t=id.getUnit(r.unit,this.spawns[this.currentSpawn].truePos,this.currentWaveNumber,r.armor);this.nextWaveSpawnIndex++,this.currentCooldown=r.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,o+=t.goldValue}return o}skipToWaveWithProperGold(o){let r=this.killCurrentWaveWithGold();for(let t=this.currentWaveNumber;t<o-1;t++)r+=this.endWave(),this.startNextWave(),r+=this.killCurrentWaveWithGold();return this.currentWaveNumber=o-1,r}}class A1{constructor(o={}){V(this,"units");V(this,"spawners");V(this,"spawnFlat");V(this,"color");V(this,"nextId");V(this,"waveReader");V(this,"activeEvents");this.units=[],this.spawners=[],this.spawnFlat=o.spawnFlat??!1,this.color=o.color??b.color(Oo),this.nextId=0,this.waveReader=new ld,this.activeEvents=[]}reset(){this.units=[],this.spawners=[],this.nextId=0,this.waveReader=new ld,this.activeEvents=[]}resize(){for(const o of this.units)o.resize()}addSpawn(o,r,t=ee.TRUE_HEX_SIZE,f={}){this.spawners.push(new Ry(o,r,t,{unitSize:ee.TRUE_UNIT_SIZE,flat:this.spawnFlat,color:this.color,...f}))}addUnit(o={}){const r=o.fromSpawn??b.floor(b.random(this.spawners.length));this.spawners[r]!==void 0&&(this.units.push(this.spawners[r].spawnUnit({color:o.color,id:this.nextId,...o})),this.nextId++)}addUnitViaWaveReader(o,r={}){const t=r.fromSpawn??this.spawners[b.floor(b.random(this.spawners.length))];t!==void 0&&(this.units.push(t.spawnUnitViaWaveReader(o)),this.nextId++)}addArmyEvent(o){this.activeEvents.push(o)}getArmyEvent(o){for(const r of this.activeEvents)if(r.name===o)return r;return null}updateArmyEvents(){for(let o=this.activeEvents.length-1;o>=0;o--)this.activeEvents[o].update()&&(this.activeEvents[o].onEventOver(),this.activeEvents.splice(o,1))}showArmyEvents(){for(const o of this.activeEvents)o.show()}update(){const o=this.updateWaveReader();return this.waveReader.spawns[this.waveReader.currentSpawn].spawnsNextUnit=!0,this.updateSpawns(),this.updateUnits(),this.updateArmyEvents(),o}updateSpawns(){for(let o=this.spawners.length-1;o>=0;o--)this.spawners[o].update()}updateUnits(){for(let o=this.units.length-1;o>=0;o--)this.units[o].update();It.emptyQuadTree();for(let o=this.units.length-1;o>=0;o--){const r=this.units[o];Je.unitReachedBase(r,he)?this.units.splice(o,1):r.dead?(Je.unitDied(r),this.units.splice(o,1)):r.insertIntoQuadTree()}}show(){this.showSpawns(),this.showArmyEvents(),this.showUnits()}showSpawns(){for(let o=this.spawners.length-1;o>=0;o--)this.spawners[o].show()}showUnits(){for(let o=this.units.length-1;o>=0;o--)this.units[o].show()}updateAndShow(){const o=this.updateWaveReader();return this.updateAndShowSpawns(),this.updateAndShowUnits(),o}updateAndShowSpawns(){for(let o=this.spawners.length-1;o>=0;o--)this.spawners[o].update(),this.spawners[o].show()}updateAndShowUnits(){for(let o=this.units.length-1;o>=0;o--)this.units[o].update(),this.units[o].show();It.emptyQuadTree();for(let o=this.units.length-1;o>=0;o--){const r=this.units[o];Je.unitReachedBase(r,he)?this.units.splice(o,1):r.dead?(Je.unitDied(r),this.units.splice(o,1)):r.insertIntoQuadTree()}}updateWaveReader(){const o=this.waveReader.update();if(o===Tf){if(this.units.length===0)return this.waveCleared(),!0}else o!==Cf&&this.addUnitViaWaveReader(o.unit,{fromSpawn:o.spawn});return!1}waveCleared(){const o=this.waveReader.endWave();Je.increaseGold(o),this.waveReader.startNextWave()}}const O1=new A1({color:b.color(bo)}),Rt=O1,k1=(n,o,r,t=0,f=b)=>{const d=r/2,i=r*(3/8),u=r*(1/11),s=r/30;f.push(),f.translate(n,o),f.rotate(t),f.beginShape(),f.vertex(-d,i),f.vertex(-d,-u),f.quadraticVertex(-i,-d,-s,-d),f.vertex(-s,i),f.endShape(f.CLOSE),f.beginShape(),f.vertex(d,i),f.vertex(d,-u),f.quadraticVertex(i,-d,s,-d),f.vertex(s,i),f.endShape(f.CLOSE),f.pop()},D1=(n,o,r,t=0,f=b)=>{const d=r/2,i=r*(3/8),u=r*(1/11),s=r/5;f.push(),f.translate(n,o),f.rotate(t),f.beginShape(),f.vertex(-d,i),f.vertex(-d,-u),f.quadraticVertex(-i,-d,-s,-d),f.vertex(-s,i),f.endShape(f.CLOSE),f.beginShape(),f.vertex(d,i),f.vertex(d,-u),f.quadraticVertex(i,-d,s,-d),f.vertex(s,i),f.endShape(f.CLOSE),f.pop()};class Ru extends lo{constructor(r,t,f,d={}){super(r,t,f,{...d,otherDifficulty:Co});V(this,"hpLossPerFrame");this.hpLossPerFrame=d.hpLossPerFrame??.1}update(){this.hp-=this.hpLossPerFrame;const r=this.getTarget(It);return r!==void 0?this.seekTarget(r):this.friction(.01),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.truePrevPos=this.truePos.copy(),this.truePos.add(this.vel),this.pos=Vt(this.truePos),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.truePos),this.acc.mult(0),this.accumulatedFrictionMag=0,this.detectCollisions(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(r),this.hp<=0&&this.die(),this.hp<=0}onDestroy(){}show(){b.fill(this.color),zo(this.pos,this.size)}}class I1 extends Ru{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"colorArr");V(this,"colorWeight");this.colorArr=d.colorArr??Su,this.colorWeight=b.random()}show(){b.fill(Ma(this.colorArr,ja,this.colorWeight,200)),b.strokeWeight(ee.STROKE),b.stroke($r),ar(this.pos.x,this.pos.y,this.size,!1,b)}update(){return this.hp-=this.hpLossPerFrame,this.hp<=0&&this.die(),this.hp<=0}}const L1=(n,o={})=>{const r=ee.TRUE_HEX_SIZE*.6;return new I1(n.x,n.y,r,{desiredSpeed:0,maxForce:0,damage:0,hp:o.hp??100,hpLossPerFrame:o.hpLoss??.1,mass:1,goldValue:0,color:b.color(o.color??ja),colorArr:o.color,attackRadius:r})};class B1 extends Xo{constructor(r,t,f,d,i,u,s,h,m,g,c){super(r,t,f,d,i,qt.name,u,s,h,m,g,c);V(this,"oilForceDebuff");V(this,"oilFireBuff");V(this,"oilDuration");V(this,"burnDamage");V(this,"baseBurnDamage");V(this,"burnDuration");V(this,"burnPanicSpeedIncrease");V(this,"neighborBuildDiscount");V(this,"neighborRangeBuffPercent");V(this,"maouHealPerRound");V(this,"earthquakeDamage");V(this,"earthquakeCooldown");V(this,"earthquakeCurrentCooldown");V(this,"gateOpen");V(this,"summonBarrierCooldown");V(this,"summonBarrierCurrentCooldown");V(this,"summonBarrierHp");V(this,"summonedBarriers");this.showTargetingType=!1,this.oilForceDebuff=qt.oilForceDebuff,this.oilFireBuff=qt.oilFireBuff,this.oilDuration=qt.oilDuration,this.burnDamage=qt.burnDamage,this.baseBurnDamage=qt.burnDamage,this.burnDuration=qt.burnDuration,this.burnPanicSpeedIncrease=qt.burnPanicSpeedIncrease,this.neighborBuildDiscount=qt.neighborBuildDiscount,this.neighborRangeBuffPercent=qt.neighborRangeBuffPercent,this.maouHealPerRound=qt.maouHealPerRound,this.earthquakeDamage=qt.earthquakeDamage,this.earthquakeCooldown=qt.earthquakeCooldown,this.earthquakeCurrentCooldown=qt.earthquakeCooldown/2,this.gateOpen=!1,this.summonBarrierCooldown=qt.summonBarrierCooldown,this.summonBarrierCurrentCooldown=qt.summonBarrierCooldown/2,this.summonBarrierHp=qt.summonBarrierHp,this.summonedBarriers=[]}resize(){super.resize()}showSymbol(r=this.pos){}update(){this.showSpikes(),this.earthquakeCurrentCooldown--,this.earthquakeCurrentCooldown<=0&&this.shootEarthquake()&&(this.earthquakeCurrentCooldown=this.earthquakeCooldown);for(let r=this.summonedBarriers.length-1;r>=0;r--)this.summonedBarriers[r].hp<=0&&this.summonedBarriers.splice(r,1);return this.tryBarrier(),super.update()}tryBarrier(){}summonBarrier(r,t=Su,f=this.summonBarrierHp){const d=L1(r.truePos.copy(),{hp:f,hpLoss:0,color:t});d.radius=d.trueSize*(2+b.sqrt(3))/4,this.summonedBarriers.push(d),Je.addObstacle(d)}showSpikes(){}shoot(){return!1}shootEarthquake(){return!1}getStatuses(){return[this.getOiled()]}getOiled(){return yy(this.oilDuration,this.oilFireBuff,this.oilForceDebuff)}getBurn(){return ef(this.burnDamage,this.burnDuration,this.burnPanicSpeedIncrease)}recalcDamageBuffs(){super.recalcDamageBuffs(),this.burnDamage=this.baseBurnDamage;for(const r of this.damageBuffsMultiplicative)this.burnDamage*=r}}const ud=(n,o={})=>new B1(n.truePos.x,n.truePos.y,n.r,n.q,n.trueSize,qt.range,qt.damage,qt.projectileSpeed,qt.cooldown,qt.cost,{color:b.color(qt.rgb),wall:!0,isTower:!0,towerId:qt.id,type:n.type,data:n.data,spendValue:o.changedCost??qt.cost,projectileColor:b.color(mr),upgrades:{A:new Be("A","Oil Vats",200,"This does something yeah","Imps on top of the Barricade pour oil down periodically, covering those passing beneath, making them slightly less coordinated and more susceptible to fire damage.",r=>{r.baseRange===0&&r.increaseRange(ee.TRUE_HEX_SIZE*1.7),r.showTargetingType=!0,r.shoot=()=>{const t=It.inRangeCircle(r.truePos,r.trueRange);if(t.length<1)return!1;const f=pn[r.targetingType].function(r.truePos,t),d=It.inRangeCircle(f.truePos,ee.TRUE_HEX_SIZE),i=r.getStatuses();for(const u of d)for(const s of i)u.applyStatus(s);return Je.addVisual(Oa(f.truePos,ee.TRUE_HEX_SIZE,3,r.projectileColor)),!0}},!0),B:new Be("B","Barricraze",50,"This does something yeah","Makes building Barricades adjecent to this one free. That's crazy!",r=>{const t=he.getNeighbors(r.r,r.q);for(const f of t){const d=od();f.applyBuff(d),r.buffsThisApplied.push(d)}r.onSell=()=>{const f=he.getNeighbors(r.r,r.q);for(const d of r.buffsThisApplied)for(const i of f)i.removeBuff(d.id)}},!0),C:new Be("C","Spikes",75,"This does something yeah","Put some spikes all over the surface of the Barricade, so enemies hurt themselves if they run into it. Or if you make them do so.",r=>{r.onCollision=()=>new lr("PHYSICAL",r.damage),r.showSpikes=()=>{r.gateOpen||Je.addVisual(vy(r.truePos.copy(),r.trueSize*.9,r.collisionRadius*1.2,2,b.color(bt)))}},!0),"A+":new Be("A+","Burning Oil",250,"This does something yeah","The imps pour burning oil instead of regular, burning enemies instead of getting them oiled up.",r=>{r.projectileColor=b.color(qs),r.getStatuses=()=>[r.getBurn()]}),"B+":new Be("B+","Barricade Town",100,"This does something yeah","Makes every new Barricade in a three tile radius free. 'Heh, this is just one small step towards the completion of my master plan.'",r=>{const t=he.getNeighborsArea(r.r,r.q,3);for(const f of t){const d=od();f.applyBuff(d),r.buffsThisApplied.push(d)}r.onSell=()=>{const f=he.getNeighborsArea(r.r,r.q,3);for(const d of r.buffsThisApplied)for(const i of f)i.removeBuff(d.id)}}),"C+":new Be("C+","Giant Spikes",400,"This does something yeah","Adds rather oversized spikes to the sides of the Barricade, increasing collision damage, and slightly increases size, so those collisions happen more easily.",r=>{r.increaseDamage(15),r.collisionRadius*=1.2}),AB:new Be("AB","Strong Foundation",150,"This does something yeah","The strong foundation provided by the Barricade makes it cheaper to build towers adjecent to it.",r=>{const t=he.getNeighbors(r.r,r.q);for(const f of t){const d=tf(r.neighborBuildDiscount);f.applyBuff(d),r.buffsThisApplied.push(d)}}),BC:new Be("BC","Rooftop Garden",80,"This does something yeah","Some alternative green imps have decided to keep a rooftop garden. It's not really our style, but at least the fresh veggies boost our health.",r=>{r.onWaveEnd=()=>{Je.increaseHp(r.maouHealPerRound)}}),CA:new Be("CA","Ar-range-ment",125,"This does something yeah","An imp made a dark deal to increase the Barricade's range in exchange for a constant uttering of puns. Scum.",r=>{r.increaseRange(ee.TRUE_HEX_SIZE*.5)}),"AB+":new Be("AB+","Neighborhood Watch",350,"This does something yeah","The vigilant imps on top of the Barricade keep watch for their entire neighborhood, slightly increasing their range. Wouldn't want any undesirables fouling up our pristine community now would we",r=>{const t=he.getNeighbors(r.r,r.q);for(const f of t){const d=by(r.neighborRangeBuffPercent);f.applyBuff(d),r.buffsThisApplied.push(d)}}),"BC+":new Be("BC+","Earthquakes",320,"This does something yeah","Whatever those imps are doing in the basement is causing some minor earthquakes, dealing a bit of damage to everything directly around the Barricade.",r=>{r.baseRange===0&&r.increaseRange(ee.TRUE_HEX_SIZE*1.7),r.shootEarthquake=()=>{const t=It.inRangeCircle(r.truePos,r.trueRange);if(t.length<1)return!1;for(const f of t)f.takeDamage(new lr("PHYSICAL",r.earthquakeDamage));return Je.addVisual(xy(r.truePos,r.trueRange*2,12)),!0}}),"CA+":new Be("CA+","Defensive Perimeter",500,"This does something yeah","An imp with a talent for magic summons a small barrier next to Barricade, blocking the heroes passage until it is destroyed.",r=>{r.tryBarrier=()=>{if(r.summonBarrierCurrentCooldown--,r.summonBarrierCurrentCooldown>0)return;r.summonBarrierCurrentCooldown=r.summonBarrierCooldown;const t=he.getNeighbors(r.r,r.q);for(let f=t.length-1;f>=0;f--){if(!(t[f].canUnit||t[f].canWaterUnit)){t.splice(f,1);continue}for(const d of r.summonedBarriers)if(d.truePos.x===t[f].truePos.x&&d.truePos.y===t[f].truePos.y){t.splice(f,1);break}}t.length<1||r.summonBarrier(b.random(t))}}),"AB++":new Be("AB++","Community Pool",1700,"Destroys the Barricade, and turns the tile into a water tile.","A tropical swimming pool is just what this burgeoning community needs! Destroys the Barricade to leave a water tile behind.",r=>{he.setBuilderTileType(r,rt.WATER),r.sellValue=0,Je.sellTower(r)}),"BC++":new Be("BC++","Great Gate (Ability)",2425,"This does something yeah","Turns the Barricade into a grand gate, allowing heroes to pass with the push of a lever.",r=>{r.ultCooldown=ei/2,r.ultCurrentCooldown=50,r.ultimate=()=>{if(r.gateOpen=!r.gateOpen,r.wall=!r.wall,r.canUnit=!r.canUnit,r.canWaterUnit=!r.canWaterUnit,he.generateAllPathsThroughFloodFill(Rt.spawners,Je.bases,!0)){Je.generateAllNeccesaryPaths();return}r.ultCurrentCooldown=0,r.gateOpen=!r.gateOpen,r.wall=!r.wall,r.canUnit=!r.canUnit,r.canWaterUnit=!r.canWaterUnit},r.shouldShowUltCooldown=()=>{r.showUltCooldown()},r.showSymbol=(t=r.pos)=>{b.stroke(bt),b.strokeWeight(ee.STROKE),b.fill(Do),r.gateOpen?D1(t.x,t.y,r.size):k1(t.x,t.y,r.size)}}),"CA++":new Be("CA++","You Shall Not Pass (Ability)",1500,"This does something yeah","One of imps summons barriers all around the Barricade, temporarily stopping the heroes. With some dramatic flair.",r=>{r.ultCooldown=ei,r.ultCurrentCooldown=r.ultCooldown,r.ultimate=()=>{for(const f of r.summonedBarriers)f.hp=0;const t=he.getNeighbors(r.r,r.q);for(let f=t.length-1;f>=0;f--)(t[f].canUnit||t[f].canWaterUnit)&&r.summonBarrier(t[f],Zs,r.summonBarrierHp*2)},r.shouldShowUltCooldown=()=>{r.showUltCooldown()}})}});class U1 extends us{constructor(r,t,f,d,i,u,s,h,m,g,c={}){super(r,t,f,d,i,u,s,c);V(this,"hexes");V(this,"frictionSlow");V(this,"corrosion");this.pierce=h,this.hexes=m,this.frictionSlow=g,this.color=c.color??b.color(mr),this.corrosion=c.corrosion??0}show(){b.stroke(this.color);for(const r of this.hexes)Zh(r.pos.x,r.pos.y,r.size)}update(){const r=[];for(const t of this.hexes){const f=It.inRangeCircle(t.truePos,t.trueSize);r.push(...f)}r.length>0&&this.origin.usageData.totalHits++;for(const t of r){if(this.pierce<1)break;for(const f of this.statuses)t.applyStatus(f,!0);this.updateOriginUsageData(t,this.damage),t.takeDamage(new lr(this.damageType,this.damage)),t.friction(this.frictionSlow),this.pierce--}return this.pierce-=this.corrosion,this.pierce<1}}class N1 extends Ru{constructor(o,r,t,f={}){super(o,r,t,f)}show(){const o=this.vel.heading()+b.PI/2;b.fill(this.color),Aa(this.pos.x,this.pos.y,this.size,!1,b,bo,o,b.ceil(this.hp/this.maxHp*10))}}const Rf=(n,o={})=>new N1(n.x,n.y,ee.TRUE_UNIT_SIZE*.4,{desiredSpeed:ee.TRUE_BASE_SPEED*2,maxForce:ee.TRUE_BASE_SPEED*.2,hp:o.hp??100,hpLossPerFrame:o.hpLoss??.1,damage:o.damage??10,mass:1,goldValue:0,color:b.color(o.color??bt),visionRadius:o.vision??ee.TRUE_HEX_SIZE*5,attackRadius:o.attackRadius??ee.TRUE_UNIT_SIZE/2,attackCooldown:o.attackCooldown??20}),F1=(n=.25,o={},r="spider food")=>new qr(r,2,"ON_DEATH",t=>{b.random()<n&&Je.addMinion(Rf(t.truePos,o))},(t,f)=>{b.fill(bt),Aa(f.x,f.y,t.size/3)},t=>{},t=>{});class V1 extends Xo{constructor(r,t,f,d,i,u,s,h,m,g,c,l,a){super(r,t,f,d,i,$t.name,u,s,h,m,g,a);V(this,"webDurability");V(this,"webSlow");V(this,"activeWeb");V(this,"corrosion");V(this,"spiderlingCooldown");V(this,"currentSpiderlingCooldown");V(this,"spiderlingOnDeathChance");V(this,"spiderlingHp");V(this,"spiderlingDamage");V(this,"spiderlingBaseDamage");V(this,"spiderlingHpDecay");V(this,"rareSpiderlingChance");V(this,"rareSpiderlingHp");V(this,"rareSpiderlingDamage");V(this,"rareSpiderlingBaseDamage");V(this,"rareSpiderlingHpDecay");V(this,"getWebProjectile",(r,t=this.corrosion)=>{const f=this.getStatuses();return new U1(this,this.truePos,b.createVector(0,0),this.trueSize,this.damage,"PHYSICAL",this.webDurability,this.webDurability,r,this.webSlow,{color:this.projectileColor,corrosion:t,statuses:f})});this.showTargetingType=!1,this.baseRange=this.trueRange,this.range=this.baseRange,this.webDurability=c,this.webSlow=l,this.activeWeb=null,this.corrosion=0,this.spiderlingCooldown=$t.spiderlingCooldown,this.currentSpiderlingCooldown=$t.spiderlingCooldown/2,this.spiderlingOnDeathChance=$t.spiderlingOnDeathChance,this.spiderlingHp=$t.spiderlingHp,this.spiderlingDamage=$t.spiderlingDamage,this.spiderlingBaseDamage=$t.spiderlingDamage,this.spiderlingHpDecay=$t.spiderlingHpDecay,this.rareSpiderlingChance=$t.rareSpiderlingChance,this.rareSpiderlingHp=$t.rareSpiderlingHp,this.rareSpiderlingDamage=$t.rareSpiderlingDamage,this.rareSpiderlingBaseDamage=$t.rareSpiderlingDamage,this.rareSpiderlingHpDecay=$t.rareSpiderlingHpDecay}resize(){super.resize(),this.recalcRangeBuffs()}showSymbol(r=this.pos){b.fill(bt),Aa(r.x,r.y,this.size*.7,!1)}showRange(){const r=as(this.color);r.setAlpha(100),b.fill(r),b.circle(this.pos.x,this.pos.y,this.range*4*this.size)}update(){return this.activeWeb===null?(this.currentCooldown--,this.currentCooldown<=0&&(this.shoot(),this.currentCooldown=this.cooldown)):this.activeWeb.pierce<=0&&(this.activeWeb=null),this.ultCurrentCooldown--,this.spiderling(),this.handleBuffs(),this.usageData.framesExists++,!0}spiderling(){}spawnSpiderling(){const r=[];for(const d of he.getNeighborsArea(this.r,this.q,this.range))d.canUnit&&r.push(d);const t=b.random(r),f=Rf(t.truePos,this.getSpiderlingOptions());Je.addMinion(f)}getSpiderlingOptions(){const r=b.random()<this.rareSpiderlingChance;return{damage:r?this.rareSpiderlingDamage:this.spiderlingDamage,hp:r?this.rareSpiderlingHp:this.spiderlingHp,hpLoss:r?this.rareSpiderlingHpDecay:this.spiderlingHpDecay,color:r?bo:bt}}shoot(){const r=he.getNeighborsArea(this.r,this.q,this.range);for(let f=r.length-1;f>=0;f--)r[f].wall&&r.splice(f,1);const t=this.getWebProjectile(r);return this.activeWeb=t,Je.addProjectile(t,!0),!0}getStatuses(){return[]}getSpiderFood(){return F1(this.spiderlingOnDeathChance,this.getSpiderlingOptions())}recalcDamageBuffs(){super.recalcDamageBuffs(),this.spiderlingDamage=this.spiderlingBaseDamage,this.rareSpiderlingDamage=this.rareSpiderlingBaseDamage;for(const r of this.damageBuffsMultiplicative)this.spiderlingDamage*=r,this.rareSpiderlingDamage*=r}recalcRangeBuffs(){this.trueRange=this.baseRange;for(const r of this.rangeBuffsAdditive)this.trueRange+=r/ee.HEX_SIZE;for(const r of this.rangeBuffsMultiplicative)this.trueRange*=r;this.trueRange=b.round(this.trueRange),this.range=this.trueRange}}const H1=(n,o={})=>new V1(n.truePos.x,n.truePos.y,n.r,n.q,n.trueSize,$t.range,$t.damage,$t.projectileSpeed,$t.cooldown,$t.cost,$t.webDurability,$t.webSlow,{color:b.color($t.rgb),projectileColor:b.color(mr),wall:!0,isTower:!0,towerId:$t.id,type:n.type,data:n.data,spendValue:o.changedCost??$t.cost,upgrades:{A:new Be("A","Stickier webs",600,"This does something yeah","Stickier webs slow enemies down even more.",r=>{r.webSlow+=.1},!0),B:new Be("B","Steel thread",400,"This does something yeah","Makes your web more durable.",r=>{r.webDurability+=900},!0),C:new Be("C","Spinning talent",800,"This does something yeah","Spin new webs faster.",r=>{r.increaseCooldown(-150)},!0),"A+":new Be("A+","Nether glue",1400,"This does something yeah","Magic infused glue makes webs unnaturally sticky.",r=>{r.webSlow+=.15}),"B+":new Be("B+","Titanium thread",1500,"This does something yeah","Makes your web way more durable.",r=>{r.webDurability+=1500}),"C+":new Be("C+","Spinning prodigy",1700,"This does something yeah","Spin new webs at top speed.",r=>{r.increaseCooldown(-150)}),AB:new Be("AB","Spiky silk",1300,"This does something yeah","How can silk be spiky?",r=>{r.increaseDamage(1)}),BC:new Be("BC","Great web",1e3,"This does something yeah","Make your web even larger.",r=>{r.increaseRange(1)}),CA:new Be("CA","Spiderlings",1200,"This does something yeah","The Arachne gives birth to spiderlings who damage and distract heroes.",r=>{r.spiderling=()=>{r.currentSpiderlingCooldown--,r.currentSpiderlingCooldown<=0&&(r.currentSpiderlingCooldown=r.spiderlingCooldown,r.spawnSpiderling())}}),"AB+":new Be("AB+","Suffocating silk",2200,"This does something yeah","Hope you don't have claustrophobia, or arachnophobia... Increases damage",r=>{r.increaseDamage(3)}),"BC+":new Be("BC+","Greatest web",1500,"This does something yeah","Spin your web between mountains.",r=>{r.increaseRange(1)}),"CA+":new Be("CA+","Brood Parasite",2e3,"This does something yeah","Nope nope nope nope nope nope nope nope nope nope nope. (Has a chance to birth a spiderling when a hero dies in the arachnes web)",r=>{r.getStatuses=()=>[r.getSpiderFood()]}),"AB++":new Be("AB++","Corrosive silk",6600,"This does something yeah","Silk corrodes away enemies and the web alike.",r=>{r.increaseDamage(16),r.projectileColor=b.color(Lh),r.corrosion=5}),"BC++":new Be("BC++","World wide web (Ability)",7500,"This does something yeah","The entire world is my domain.",r=>{r.ultCooldown=ei,r.ultCurrentCooldown=r.ultCooldown,r.ultimate=()=>{const t=he.getAllTiles(!1);for(let f=t.length-1;f>=0;f--){const d=r.getWebProjectile([t[f]],r.corrosion+5);Je.addProjectile(d,!0)}},r.shouldShowUltCooldown=()=>{r.showUltCooldown()}}),"CA++":new Be("CA++","One Big Happy Family",6660,"This does something yeah","These spiderlings were all raised with love and care, and only a minimal amount of cannibalism. Spawn more and stronger spiderlings, as well as rare super spiderlings every now and then. Motherhood is so fulfilling.",r=>{r.spiderlingCooldown-=100,r.spiderlingOnDeathChance+=.25,r.spiderlingHp+=150,r.rareSpiderlingChance+=.01})}}),G1=-.5*b.PI,W1=b.color(Dh),cd=(n,o,r)=>{const t=r/2,f=r/10,d=t-f;b.beginShape(),b.vertex(n+t,o-f),b.vertex(n-d,o-f),b.quadraticVertex(n-t,o-f,n-t,o),b.quadraticVertex(n-t,o+f,n-d,o+f),b.vertex(n+t,o+f),b.endShape(b.CLOSE)},z1=(n,o,r,t=W1,f=G1)=>{const d=r/20,i=r*(9/11),u=r/2,s=r/4;b.push(),b.translate(n,o),b.rotate(f),b.strokeWeight(ee.STROKE),b.rectMode(b.CENTER),b.fill(mr),cd(0,0,r),b.rect(u,0,d,s),b.fill(t),cd(-d,0,i),b.pop()};class dd extends us{constructor(r,t,f,d,i,u,s,h,m,g,c,l={}){super(r,t,f,s,m,g,c,l);V(this,"showAngle");V(this,"changeAngle");V(this,"zPos");V(this,"zVel");V(this,"zAcc");V(this,"explosionRadius");this.zPos=d,this.zVel=i,this.zAcc=u,this.showAngle=-b.PI/2,this.changeAngle=b.random(-b.PI/4,b.PI/4),this.explosionRadius=h}show(){b.strokeWeight(ee.STROKE),b.stroke($r),z1(this.pos.x,this.pos.y,_t(this.size)+this.zPos*ee.HEX_SIZE*.05,this.color,this.showAngle)}update(){return this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.truePrevPos=this.truePos.copy(),this.truePos.add(this.vel),this.pos=Vt(this.truePos),this.acc.mult(0),this.zVel+=this.zAcc,this.zPos+=this.zVel,this.zPos<=0?(this.hit(),!0):(this.showAngle+=this.changeAngle,!1)}hit(){Je.addVisual(Oa(this.truePos,this.explosionRadius*2,2,b.color(this.color)));const r=It.inRangeCircle(this.truePos,this.explosionRadius);for(const t of r){if(this.pierce<=0)break;const f=this.damage*(b.random()<this.critChance?this.critMultiplier:1);t.takeDamage(new lr(this.damageType,f));for(let d=0;d<this.statuses.length;d++)t.applyStatus(this.statuses[d]);this.pierce--}}}const Hl=(n,o,r="poison")=>new qr(r,o,"NORMAL",f=>{f.takeDamage(new lr("POISON",n))},(f,d)=>{b.fill(Uh),Pa(d.x,d.y,f.size/2)}),q1=(n,o,r,t=0,f=b)=>{const d=r/2,i=r/20,u=r/12,s=u*2;f.push(),f.translate(n,o),f.rotate(t),f.stroke(bt),f.strokeWeight(ee.STROKE),f.beginShape(),f.vertex(s,-d),f.vertex(i,-u),f.vertex(s,-u),f.vertex(-s,d),f.vertex(-i,u),f.vertex(-s,u),f.endShape(f.CLOSE),f.pop()},Mf=(n,o,r="PASSIVE")=>new qr(o,n,r,f=>{},(f,d)=>{b.fill(mr),b.noStroke(),ai(d.x,d.y,f.size*.3333333333333333,8)},f=>{},f=>{},!0),X1=(n,o="paralysis")=>new qr(o,n,"NORMAL",t=>{t.acc.setMag(0),t.vel.setMag(0)},(t,f)=>{b.fill(zs),q1(f.x,f.y,t.size*.6666666666666666)},t=>{},t=>{t.applyStatus(Mf(n/2,o,"NORMAL"))});class Y1 extends Xo{constructor(r,t,f,d,i,u,s,h,m,g,c,l,a,p){super(r,t,f,d,i,ro.name,u,s,g,c,l,p);V(this,"vialNumber");V(this,"poisonName");V(this,"poisonDamage");V(this,"poisonBaseDamage");V(this,"poisonDuration");V(this,"paralysisDuration");V(this,"explosionRadius");this.vialNumber=1,this.poisonName="Slinger",this.poisonDamage=h,this.poisonBaseDamage=h,this.poisonDuration=m,this.paralysisDuration=0,this.explosionRadius=a}showSymbol(r=this.pos){b.fill(bt),$h(r.x,r.y,this.size*1.5)}getStatuses(){return[this.getPoison()]}getPoison(){return Hl(this.poisonDamage,this.poisonDuration,this.poisonName)}getParalysis(){return X1(this.paralysisDuration)}baseShoot(){const r=this.trueRange/this.projectileSpeed,{aimPos:t}=this.getHitableAimPos(r);if(t===void 0)return;const f=lt.Vector.sub(t,this.truePos),d=b.floor(f.mag()/this.projectileSpeed);f.setMag(this.projectileSpeed);const i=this.getStatuses(),u=-1*(2*ee.TRUE_HEX_SIZE/d);return new dd(this,this.truePos.copy(),f,0,ee.TRUE_HEX_SIZE,u,ee.TRUE_HEX_SIZE,this.explosionRadius,this.getDamage(),"EXPLOSION",r,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:i})}shoot(){const r=this.baseShoot();if(r===void 0)return!1;Je.addProjectile(r);const t=this.vialNumber-1;this.lastShotAngle=r.vel.heading();const f=b.PI/4,d=.5;for(let i=0;i<t;i++){const u=this.lastShotAngle+b.random(-f,f),s=lt.Vector.fromAngle(u);s.setMag(r.vel.mag());const h=r.zAcc*1+b.random(-d,d),m=[];for(let c=0;c<r.statuses.length;c++)m.push(r.statuses[c].copy());const g=new dd(this,this.truePos.copy(),s,r.zPos,r.zVel,h,r.size,r.explosionRadius,r.damage,"EXPLOSION",r.lifeSpan,{color:this.projectileColor,pierce:r.pierce,critChance:r.critChance,critMultiplier:r.critMultiplier,statuses:m});Je.addProjectile(g)}return!0}increasePoisonDamage(r){this.poisonBaseDamage+=r,this.poisonDamage+=r,this.recalcDamageBuffs()}recalcDamageBuffs(){super.recalcDamageBuffs(),this.poisonDamage=this.poisonBaseDamage;for(const r of this.damageBuffsMultiplicative)this.poisonDamage*=r}}const Z1=(n,o={})=>new Y1(n.truePos.x,n.truePos.y,n.r,n.q,n.trueSize,ro.range,ro.damage,ro.poisonDamage,ro.poisonDuration,ro.projectileSpeed,ro.cooldown,ro.cost,ro.explosionRadius,{color:b.color(ro.rgb),projectileColor:b.color(Bh),projectilePierce:100,wall:!0,towerId:ro.id,isTower:!0,type:n.type,data:n.data,spendValue:o.changedCost??ro.cost,upgrades:{A:new Be("A","Extra vial",300,"This does something yeah","Poison is all in the dose, so let's dubble that shall we.",r=>{r.vialNumber+=1},!0),B:new Be("B","Vile pitcher",250,"This does something yeah","This slinger just got promoted to pitcher in the Mad Scientist Inc. office team.",r=>{r.increaseRange(ee.TRUE_HEX_SIZE),r.projectileSpeed+=ee.TRUE_BASE_SPEED},!0),C:new Be("C","Paralysis coating",200,"This does something yeah","Coats the vials with a paralizing agent.",r=>{r.paralysisDuration+=16,r.getStatuses=()=>[r.getPoison(),r.getParalysis()]},!0),"A+":new Be("A+","Handful of vials",2400,"This does something yeah","Don't worry about the costs, Mad Scientist Inc. buys all its glasswork wholesale.",r=>{r.vialNumber+=3}),"B+":new Be("B+","Mecha arm",2100,"This does something yeah","Mechanical arms allow for even further and faster throwing.",r=>{r.explosionRadius+=ee.TRUE_HEX_SIZE/5,r.increaseRange(ee.TRUE_HEX_SIZE),r.projectileSpeed+=ee.TRUE_BASE_SPEED*2}),"C+":new Be("C+","Coma inducer",2e3,"This does something yeah","Many vipers were harmed in the production of this stronger coating.",r=>{r.paralysisDuration+=24}),AB:new Be("AB","Unstable concoction",1e3,"This does something yeah","The unstable contends of the vials react violently with the air, increasing explosion damage and radius.",r=>{r.explosionRadius+=ee.TRUE_HEX_SIZE/3,r.increaseDamage(15)}),BC:new Be("BC","Mad prodigy",1700,"This does something yeah","Works faster and deadlier than a normal prodigy.",r=>{r.increaseCooldown(-20),r.increasePoisonDamage(.2)}),CA:new Be("CA","Antibody killer",750,"This does something yeah","The poison aggresively attacks antibodies, increasing its duration and damage.",r=>{r.poisonDuration+=400,r.increasePoisonDamage(.1)}),"AB+":new Be("AB+","Killer combustion",1200,"This does something yeah","Make them vials go BOOM.",r=>{r.explosionRadius+=ee.TRUE_HEX_SIZE/3,r.increaseDamage(15)}),"BC+":new Be("BC+","Patented pathogen",1800,"This does something yeah","This patented formula isn't available to any other plague slinger, and obviously better than anything those amateurs could have produced.",r=>{r.increasePoisonDamage(.3),r.poisonName=`Slinger-P${String(b.random())}`}),"CA+":new Be("CA+","Mutating virus",1200,"This does something yeah","The virus keeps mutating, making recovery incredibly slow.",r=>{r.poisonDuration+=1e3}),"AB++":new Be("AB++","BOOOOM!",4900,"This does something yeah","Just go boom, who cares about poison.",r=>{r.projectileColor=b.color(Do),r.explosionRadius+=ee.TRUE_HEX_SIZE/3,r.increaseDamage(30),r.vialNumber+=1,r.poisonDamage=0,r.poisonBaseDamage=0,r.poisonDuration=0,r.getPoison=()=>Hl(0,0,"Nope")}),"BC++":new Be("BC++","Unique strain",7e3,"This does something yeah","Every vial is filled with it's own unique strain of the virus, each having it's own deadly effect on the victim. No one else could have done this, Muhahaha... ehem",r=>{r.increasePoisonDamage(.2),r.getPoison=()=>Hl(r.poisonDamage,r.poisonDuration,`Slinger-P-Unique-${String(b.random())}`)}),"CA++":new Be("CA++","Eternal suffering",16e3,"This does something yeah","The virus hijacks part of it's victems DNA to become a part of them, never to be cured.",r=>{r.poisonDuration+=998e3})}});class K1 extends Xo{constructor(r,t,f,d,i,u,s,h,m,g,c,l,a){super(r,t,f,d,i,oo.name,u,s,h,m,g,a);V(this,"attractionForce");V(this,"active");V(this,"capacity");this.showTargetingType=!1,this.attractionForce=c,this.capacity=l,this.active=!0}showSymbol(r=this.pos){b.fill(Wh),Qh(r.x,r.y,this.size,this.lastShotAngle)}update(){return this.active?(this.lastShotAngle+=.03,this.shoot()):(this.currentCooldown--,this.currentCooldown<=0&&(this.currentCooldown=this.cooldown,this.active=!0)),this.handleBuffs(),this.ultCooldown--,!0}baseShoot(){const r=It.inRangeCircle(this.truePos,this.trueRange);if(!(r.length<1)){for(let t=0;t<r.length;t++){const f=lt.Vector.sub(this.truePos,r[t].truePos).setMag(this.attractionForce*r[t].mass);r[t].applyForce(f)}r.length>this.capacity&&(this.active=!1)}}shoot(){return this.baseShoot(),!0}}const $1=(n,o={})=>new K1(n.truePos.x,n.truePos.y,n.r,n.q,n.trueSize,oo.range,oo.damage,oo.projectileSpeed,oo.cooldown,oo.cost,oo.attractionForce,oo.capacity,{color:b.color(oo.rgb),projectileColor:b.color(oo.rgb),projectilePierce:100,wall:!0,isTower:!0,towerId:oo.id,type:n.type,data:n.data,spendValue:o.changedCost??oo.cost,upgrades:{A:new Be("A","Field stabilizer",1300,"This does something yeah","Stabilize the gravitational field to increase it's capacity to hold units.",r=>{r.capacity+=5},!0),B:new Be("B","Reserve cell",500,"This does something yeah","By keeping a center gravity cell in reserve the tower can be restarted after failure twice as fast.",r=>{r.increaseCooldown(-500)},!0),C:new Be("C","Greater field",1e3,"This does something yeah","Affect a slightly bigger area.",r=>{r.increaseRange(ee.TRUE_HEX_SIZE/2)},!0),"A+":new Be("A+","Micromanage flow",4e3,"This does something yeah","Strengthen the field in places with a lot of units by weakening parts that aren't being used, increasing capacity beyond it's limits.",r=>{r.capacity+=10}),"B+":new Be("B+","Placeholder",0,"This does something yeah","Gotta think of somehing.",r=>{}),"C+":new Be("C+","Grand field",2e3,"This does something yeah","Spread the field as far as possible without letting it collapse.",r=>{r.increaseRange(ee.TRUE_HEX_SIZE)}),AB:new Be("AB","Repulsion wave",0,"This does something yeah","Gotta.",r=>{}),BC:new Be("BC","Placeholder",0,"This does something yeah","Gotta think of somehing.",r=>{}),CA:new Be("CA","Placeholder",0,"This does something yeah","Gotta think of somehing.",r=>{}),"AB+":new Be("AB+","Placeholder",0,"This does something yeah","Gotta think of somehing.",r=>{}),"BC+":new Be("BC+","Placeholder",0,"This does something yeah","Gotta think of somehing.",r=>{}),"CA+":new Be("CA+","Placeholder",0,"This does something yeah","Gotta think of somehing.",r=>{}),"AB++":new Be("AB++","Placeholder",0,"This does something yeah","Gotta think of somehing.",r=>{}),"BC++":new Be("BC++","Placeholder",0,"This does something yeah","Gotta think of somehing.",r=>{}),"CA++":new Be("CA++","Placeholder",0,"This does something yeah","Gotta think of somehing.",r=>{})}}),Q1=-.5*b.PI,J1=b.color(Tn),ia=(n,o=!1)=>{const r=n/2,t=r-n/4,f=r-n/6,d=b.PI/20,i=b.PI/5;let u=0,s=0,h=!0;const m=[];for(;u<b.TWO_PI;){h&&o?s=b.random(t,f):s=b.random(f,r);const g=b.cos(u)*s,c=b.sin(u)*s;m.push(b.createVector(g,c)),u+=b.random(d,i),h=!h}return m},Mu=(n,o,r,t=Q1,f=J1)=>{b.push(),b.translate(n,o),b.rotate(t),b.strokeWeight(ee.STROKE),b.stroke(bt),b.fill(f),b.beginShape();for(const d of r)b.vertex(d.x,d.y);b.endShape(b.CLOSE),b.pop()};class Pf extends us{constructor(r,t,f,d,i,u,s,h={}){super(r,t,f,d,i,u,s,h);V(this,"rockVertices");V(this,"spikyRocks");this.spikyRocks=h.spikyRocks??!1,this.rockVertices=ia(_t(d),this.spikyRocks)}resize(){this.rockVertices=ia(_t(this.size),this.spikyRocks)}show(){Mu(this.pos.x,this.pos.y,this.rockVertices)}}class Gl extends Pf{constructor(r,t,f,d,i,u,s,h={}){super(r,t,f,d,i,u,s,h);V(this,"explosionRadius");V(this,"explosionVisualDuration");V(this,"explosionColor");this.explosionRadius=h.explosionRadius??ee.TRUE_HEX_SIZE/2,this.explosionVisualDuration=h.explosionVisualDuration??3,this.explosionColor=h.explosionColor??Do}hit(r){if(this.pierce<=0)return;Je.addVisual(Oa(this.truePos,this.explosionRadius*2,this.explosionVisualDuration,b.color(this.explosionColor)));const t=It.inRangeCircle(this.truePos,this.explosionRadius);for(const f of t){const d=this.damage*(b.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(f);f.takeDamage(new lr(this.damageType,d));for(let i=0;i<this.statuses.length;i++)f.applyStatus(this.statuses[i])}this.extraActionOnHit&&this.extraActionOnHit({pos:this.truePos,radius:this.explosionRadius}),this.pierce--}}const ev=(n="KoboldTeamwork")=>new Ps(n,o=>{o.name===Ir.name&&(o.cooldownBuffsAdditive.push(-5),o.rangeBuffsAdditive.push(b.round(ee.TRUE_HEX_SIZE,4)),o.maxSpoolHeatBuffsAdditive.push(500),o.recalcCooldownBuffs(),o.recalcRangeBuffs(),o.recalcHeatBuffs())},o=>{o.name===Ir.name&&(ko(-5,o.cooldownBuffsAdditive),ko(b.round(ee.TRUE_HEX_SIZE,4),o.rangeBuffsAdditive),ko(500,o.maxSpoolHeatBuffsAdditive),o.recalcCooldownBuffs(),o.recalcRangeBuffs(),o.recalcHeatBuffs())},(o,r)=>r,(o,r)=>r),tv=(n="KoboldFriends",o=250)=>new Ps(n,r=>{r.damageBuffsMultiplicative.push(1.5),r.rangeBuffsAdditive.push(b.round(ee.TRUE_HEX_SIZE*.2,4)),r.recalcRangeBuffs(),r.recalcDamageBuffs()},r=>{ko(1.5,r.damageBuffsMultiplicative),ko(b.round(ee.TRUE_HEX_SIZE*.2,4),r.rangeBuffsAdditive),r.recalcRangeBuffs(),r.recalcDamageBuffs()},(r,t)=>t,(r,t)=>t,o);class rv extends Xo{constructor(r,t,f,d,i,u,s,h,m,g,c){super(r,t,f,d,i,Ir.name,u,s,h,m,g,c);V(this,"currentMaxCooldown");V(this,"lowestCooldown");V(this,"baseLowestCooldown");V(this,"lowestCooldownBuffsAdditive");V(this,"spoolHeat");V(this,"baseMaxSpoolHeat");V(this,"maxSpoolHeat");V(this,"maxSpoolHeatBuffsAdditive");V(this,"explosionRadius");V(this,"heatGenerationSpeed");V(this,"heatPerDamage");V(this,"spikyRocks");V(this,"heatRangeIncrease");V(this,"extraDamageCalc",r=>0);this.currentMaxCooldown=m,this.lowestCooldown=Ir.lowestCooldown,this.baseLowestCooldown=Ir.lowestCooldown,this.lowestCooldownBuffsAdditive=[],this.spoolHeat=0,this.maxSpoolHeat=Ir.maxSpoolHeat,this.baseMaxSpoolHeat=Ir.maxSpoolHeat,this.maxSpoolHeatBuffsAdditive=[],this.heatGenerationSpeed=1,this.heatPerDamage=30,this.heatRangeIncrease=0,this.explosionRadius=ee.HEX_SIZE/2,this.spikyRocks=!1}showSymbol(r=this.pos){b.fill(Ma(bo,xu,this.spoolHeat/1e3)),Kh(r.x,r.y,this.size,this.lastShotAngle)}update(){return this.currentCooldown--,this.currentCooldown<=0&&(this.shoot()?(this.currentCooldown=this.currentMaxCooldown,this.spoolHeat+=b.max(this.cooldown-this.currentMaxCooldown,0)*this.heatGenerationSpeed,this.currentMaxCooldown=b.max(this.currentMaxCooldown-5,this.lowestCooldown),this.spoolHeat>this.maxSpoolHeat&&this.resetSpool()):this.resetSpool(),this.updateRange()),this.lastShotAngle-=.002*(Ir.cooldown-this.currentMaxCooldown+10),this.ultCurrentCooldown--,this.handleBuffs(),!0}updateRange(){this.recalcRangeBuffs()}resetSpool(){this.currentMaxCooldown=this.cooldown,this.spoolHeat=0}getProjectile(r,t){return new Pf(this,this.truePos.copy(),r,this.projectileSize,this.getDamage(),"PHYSICAL",t,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,spikyRocks:this.spikyRocks,extraDamageCalc:this.extraDamageCalc})}baseShoot(){const r=this.trueRange/this.projectileSpeed,{aimPos:t}=this.getHitableAimPos(r);if(t===void 0)return;const f=lt.Vector.sub(t,this.truePos);return f.setMag(this.projectileSpeed),this.getProjectile(f,r)}shoot(){const r=this.baseShoot();if(r===void 0)return!1;Je.addProjectile(r);const t=this.projectileNumber-1,f=b.PI;for(let d=0;d<t;d++){const i=b.random(-f,f),u=lt.Vector.fromAngle(i);u.setMag(r.vel.mag());const s=[];for(let m=0;m<r.statuses.length;m++)s.push(r.statuses[m].copy());const h=this.getProjectile(u,r.lifeSpan);Je.addProjectile(h)}return!0}increaseMaxSpoolHeat(r){this.maxSpoolHeat+=r,this.baseMaxSpoolHeat+=r}recalcCooldownBuffs(){super.recalcCooldownBuffs(),this.lowestCooldown=this.baseLowestCooldown;for(const r of this.lowestCooldownBuffsAdditive)this.lowestCooldown+=r}recalcHeatBuffs(){this.maxSpoolHeat=this.baseMaxSpoolHeat;for(const r of this.maxSpoolHeatBuffsAdditive)this.maxSpoolHeat+=r}recalcRangeBuffs(){this.trueRange=this.baseRange,this.trueRange+=this.heatRangeIncrease;for(const r of this.rangeBuffsAdditive)this.trueRange+=r;for(const r of this.rangeBuffsMultiplicative)this.trueRange*=r;this.range=_t(this.trueRange)}findAllConnected(){const r=[this],t=[],f=[];for(;r.length>0;){const d=r[0],i=he.getNeighbors(d.r,d.q);for(const u of i)!u.isTower||he.hexInArray(u,[...t,...r])||(f.push(u),u.name===this.name?r.push(u):t.push(u));t.push(d),r.splice(0,1)}return f}}const ov=(n,o={})=>new rv(n.truePos.x,n.truePos.y,n.r,n.q,n.trueSize,Ir.range,Ir.damage,Ir.projectileSpeed,Ir.cooldown,Ir.cost,{color:b.color(Ir.rgb),wall:!0,isTower:!0,towerId:Ir.id,type:n.type,data:n.data,spendValue:o.changedCost??Ir.cost,upgrades:{A:new Be("A","Bigger Rocks",200,"This does something yeah","Bigger rock deal more damage, and hit slightly easier. Not really rocket science is it.",r=>{r.increaseDamage(15),r.projectileSize+=ee.TRUE_HEX_SIZE/4},!0),B:new Be("B","Fans",300,"This does something yeah","The type that cools you off, not the type that brings the heat.",r=>{r.increaseMaxSpoolHeat(350)},!0),C:new Be("C","Balanced Speed",250,"This does something yeah","Longest cooldown is faster, because control is king.",r=>{r.increaseCooldown(-10)},!0),"A+":new Be("A+","Spiky Rocks",550,"This does something yeah","Hand selected spiky rocks, spikier than normal rocks, the spikiest really!",r=>{r.increaseDamage(25),r.spikyRocks=!0}),"B+":new Be("B+","Heat Sink",1100,"This does something yeah","A giant heat sink, allowing the kobold to fire at maximum speed for a long time.",r=>{r.increaseMaxSpoolHeat(1400)}),"C+":new Be("C+","Min Maxing",550,"This does something yeah","Optimize your spool, increase both the minimum and maximum speed.",r=>{r.increaseCooldown(-10),r.lowestCooldown-=10,r.baseLowestCooldown-=10,r.recalcCooldownBuffs()}),AB:new Be("AB","Packing Heat",650,"This does something yeah","Packs the rocks with explosive powder, dealing damage in a small area around the impact.",r=>{r.explosionRadius+=ee.TRUE_HEX_SIZE/2,r.getProjectile=(t,f)=>new Gl(r,r.truePos.copy(),t,r.projectileSize,r.getDamage(),"EXPLOSION",f,{color:r.projectileColor,pierce:r.projectilePierce,critChance:r.critChance,critMultiplier:r.critMultiplier,explosionRadius:r.explosionRadius,spikyRocks:r.spikyRocks,extraDamageCalc:r.extraDamageCalc})}),BC:new Be("BC","Harness the Heat",1200,"This does something yeah","As the spool heats up the rocks get hotter and fire faster, dealing increased damage.",r=>{r.heatPerDamage-=5,r.getDamage=()=>r.damage+r.spoolHeat/r.heatPerDamage}),CA:new Be("CA","Bully",600,"This does something yeah","Deal extra damage based on missing health of your target. Like the big man you are.",r=>{r.extraDamageCalc=t=>{const f=1-t.hp/t.maxHp;return r.getDamage()*f}}),"AB+":new Be("AB+","Agent of chaos",666,"This does something yeah","Bigger explosions, extra rocks, and juicy crits, let chaos reign!",r=>{r.critChance+=.15,r.critMultiplier+=1.6,r.explosionRadius+=ee.TRUE_HEX_SIZE/2,r.projectileNumber+=1,r.getProjectile=(t,f)=>new Gl(r,r.truePos.copy(),t,r.projectileSize,r.getDamage(),"EXPLOSION",f,{color:r.projectileColor,pierce:r.projectilePierce,critChance:r.critChance,critMultiplier:r.critMultiplier,explosionRadius:r.explosionRadius,spikyRocks:r.spikyRocks,extraDamageCalc:r.extraDamageCalc})}),"BC+":new Be("BC+","It's a Feature",1600,"This does something yeah","The Kobold incorporates heat generation in all aspects of the catapults desgin, increasing heat generation, but also damage and range at higher heat.",r=>{r.heatGenerationSpeed+=1,r.heatPerDamage-=5,r.getDamage=()=>r.damage+r.spoolHeat/r.heatPerDamage,r.updateRange=()=>{r.heatRangeIncrease=r.spoolHeat/500*ee.TRUE_HEX_SIZE,r.recalcRangeBuffs()}}),"CA+":new Be("CA+","Team-up",1e3,"This does something yeah","Helps out all adjecent Kobolds, Let's work together to stomp those pesky heroes!",r=>{const t=he.getNeighbors(r.r,r.q);for(const f of t){const d=ev();f.applyBuff(d),r.buffsThisApplied.push(d)}r.onSell=()=>{const f=he.getNeighbors(r.r,r.q);for(const d of r.buffsThisApplied)for(const i of f)i.removeBuff(d.id)}}),"AB++":new Be("AB++","Chaos Incarnate",2800,"This does something yeah","More chaos! MOAR!.",r=>{r.critMultiplier+=1.6,r.explosionRadius+=ee.TRUE_HEX_SIZE/2,r.projectileNumber+=2}),"BC++":new Be("BC++","Miniature Sun",6800,"This does something yeah","The Kobold builds a giant heat sink, resembling a miniature sun, building power to an overwhelming degree, until it fails... And then you do it all over again.",r=>{r.maxSpoolHeat+=5500,r.baseMaxSpoolHeat+=5500,r.increaseDamage(10),r.projectileSpeed+=ee.TRUE_BASE_SPEED*5}),"CA++":new Be("CA++","Kobold And Friends (Ability)",3350,"This does something yeah","Together we are unstoppable! Buffs every tower connected to himself via Kobolds for a short time.",r=>{r.ultCooldown=ei,r.ultCurrentCooldown=r.ultCooldown,r.ultimate=()=>{const t=r.findAllConnected();for(const f of t){const d=tv();f.applyTimedBuff(d)}},r.shouldShowUltCooldown=()=>{r.showUltCooldown()}})}});class sv extends Gl{constructor(o,r,t,f,d,i,u,s={}){super(o,r,t,f,d,i,u,s),this.explosionRadius=s.explosionRadius??ee.TRUE_HEX_SIZE*2}show(){b.push(),Mu(this.pos.x,this.pos.y,this.rockVertices),b.fill(this.color),Ts(this.pos.x,this.pos.y-_t(this.size)/2,_t(this.size)),b.pop()}update(){return this.vel.add(this.acc),this.truePrevPos=this.truePos.copy(),this.truePos.add(this.vel),this.prevPos=this.pos.copy(),this.pos=Vt(this.truePos),this.acc.mult(0),this.lifeSpan--,this.lifeSpan===0&&this.hit(this.lifeSpan),this.lifeSpan<=0||this.pierce<=0}}class nv extends us{constructor(r,t,f,d,i,u,s,h={}){super(r,t,f,d,i,u,s,h);V(this,"width");V(this,"corners");this.width=h.width??3,this.corners=[],this.setCorners()}setCorners(){const r=this.vel.heading(),t=this.vel.copy();t.setMag(-this.size/2);const f=lt.Vector.fromAngle(r+b.PI/2);f.setMag(this.width*this.size/2),this.corners.push(lt.Vector.add(f,t)),f.mult(-1),this.corners.push(lt.Vector.add(f,t)),t.mult(-1),this.corners.push(lt.Vector.add(f,t)),f.mult(-1),this.corners.push(lt.Vector.add(f,t))}show(){const r=this.vel.heading(),t=lt.Vector.fromAngle(r+b.PI/2),f=r-b.PI/2,d=_t(this.size);b.push(),b.strokeWeight(ee.STROKE),b.fill(this.color);for(let i=this.width-1;i>=0;i--)for(let u=0;u<2;u++){t.setMag(d/2*-i);const s=this.pos.x+t.x+b.random(-this.size/16,d/16),h=this.pos.y+t.y+b.random(-this.size/16,d/16);Ts(s,h,d,f)}b.pop()}update(){this.vel.add(this.acc),this.truePrevPos=this.truePos.copy(),this.truePos.add(this.vel),this.prevPos=this.pos.copy(),this.pos=Vt(this.truePos),this.acc.mult(0);const r=[];for(const f of this.corners)r.push(b.createVector(f.x+this.truePos.x,f.y+this.truePos.y));const t=It.inRangeRotatedRect(r);for(const f of t)this.hit(f);return this.extraActionOnMove({pos:this.truePos,corners:r}),this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}}class Af extends us{constructor(o,r,t,f,d,i,u,s={}){super(o,r,t,f,d,i,u,s),this.color=s.color??b.color(qs)}show(){b.push(),b.noStroke(),b.fill(this.color);const o=_t(this.size);let r=b.PI/2;for(let t=0;t<6;t++){r+=b.PI/3;const f=this.pos.x+b.cos(r)*o*2/3,d=this.pos.y+b.sin(r)*o*2/3;Ts(f,d,o/2,0,0)}Ts(this.pos.x,this.pos.y,o/2,0,0),b.pop()}update(){const o=It.inRangeCircle(this.truePos,this.size);for(const r of o){if(this.lifeSpan<1)break;r.takeDamage(new lr(this.damageType,this.damage));for(const t of this.statuses)r.applyStatus(t);this.lifeSpan--}if(this.lifeSpan-=10,this.lifeSpan<1){const r=he.getTrueHexVectorFromXY(this.truePos.x,this.truePos.y),t=he.grid[r.x][r.y];delete t.appliedEffects.burningLand}return this.lifeSpan<1}}class iv extends Xo{constructor(r,t,f,d,i,u,s,h,m,g,c){super(r,t,f,d,i,jt.name,u,s,h,m,g,c);V(this,"cometCooldown");V(this,"currentCometCooldown");V(this,"wallCooldown");V(this,"currentWallCooldown");V(this,"flameThrowerAngle");V(this,"fireColor");V(this,"flameColor");V(this,"wallRange");V(this,"baseWallRange");V(this,"trueWallRange");V(this,"cometRange");V(this,"baseCometRange");V(this,"trueCometRange");V(this,"wallDamage");V(this,"baseWallDamage");V(this,"cometDamage");V(this,"baseCometDamage");V(this,"cometExplosionRadius");V(this,"baseWallSize");V(this,"wallWidthMultiplier");V(this,"wallPierce");V(this,"ultInProgress");V(this,"burnDamage");V(this,"baseBurnDamage");V(this,"burnDuration");V(this,"burnPanicSpeedIncrease");V(this,"pushForce");V(this,"extraDamageCalc",r=>0);V(this,"extraActionOnHit",r=>{for(let t of this.extraActionsOnHit)t(r)});V(this,"extraActionOnMove",r=>{for(let t of this.extraActionsOnMove)t(r)});this.cometCooldown=jt.cometCooldown,this.currentCometCooldown=jt.cometCooldown/2,this.wallCooldown=jt.wallCooldown,this.currentWallCooldown=jt.wallCooldown/2,this.flameThrowerAngle=jt.flameThrowerAngle,this.fireColor=jt.rgb,this.flameColor=jt.flameRgb,this.trueWallRange=jt.wallRange,this.baseWallRange=jt.wallRange,this.wallRange=_t(this.trueWallRange),this.trueCometRange=jt.cometRange,this.baseCometRange=jt.cometRange,this.cometRange=_t(this.trueCometRange),this.wallDamage=jt.wallDamage,this.baseWallDamage=jt.wallDamage,this.cometDamage=jt.cometDamage,this.baseCometDamage=jt.cometDamage,this.cometExplosionRadius=jt.cometExplosionRadius,this.baseWallSize=jt.baseWallSize,this.wallWidthMultiplier=jt.wallWidthMultiplier,this.wallPierce=jt.wallPierce,this.burnDamage=jt.burnDamage,this.baseBurnDamage=jt.burnDamage,this.burnDuration=jt.burnDuration,this.burnPanicSpeedIncrease=jt.burnPanicSpeedIncrease,this.pushForce=jt.pushForce,this.ultInProgress=0}resize(){this.wallRange=_t(this.trueWallRange),this.cometRange=_t(this.trueCometRange),super.resize()}showSymbol(r=this.pos){b.fill(this.flameColor),Ts(r.x,r.y,this.size)}showRange(){let r=85;r=this.showCometRange(r),r=this.showWallRange(r);const t=as(this.color);t.setAlpha(r),b.fill(t),zo(this.pos,this.range*2)}showWallRange(r){return r}showCometRange(r){return r}update(){return this.currentCooldown--,this.currentWallCooldown--,this.currentCometCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.currentWallCooldown<=0&&this.baseWall()&&(this.currentWallCooldown=this.wallCooldown),this.currentCometCooldown<=0&&this.baseComet()&&(this.currentCometCooldown=this.cometCooldown),this.progressUlt(),this.ultCurrentCooldown--,this.handleBuffs(),!0}baseShoot(){const r=It.inRangeCircle(this.truePos,this.trueRange);if(r.length<1)return;const t=pn[this.targetingType].function(this.truePos,r),f=(lt.Vector.sub(t.truePos,this.truePos).heading()+b.TWO_PI)%b.TWO_PI;this.addFlameThrowerParticlesToMaou(f,8);const d=this.getStatuses();for(let i=0;i<r.length;i++){const u=(lt.Vector.sub(r[i].truePos,this.truePos).heading()+b.TWO_PI)%b.TWO_PI,s=f-u;if(s>-this.flameThrowerAngle&&s<this.flameThrowerAngle){r[i].takeDamage(new lr("FIRE",this.getFlameThrowerDamage()));for(let h=0;h<d.length;h++)r[i].applyStatus(d[h]);this.flameThrowerPush(r[i])}}this.burningLand(t,f)}shoot(){return this.baseShoot(),!0}burningLand(r,t){}applyBurningLand(r,t){const f=he.getTrueHexVectorFromXY(r.truePos.x,r.truePos.y),d=he.grid[f.x][f.y],i=[...he.getNeighborsArea(d.r,d.q,b.round(this.trueRange/ee.TRUE_HEX_SIZE)),d];for(let u=0;u<i.length;u++){const s=(lt.Vector.sub(i[u].truePos,this.truePos).heading()+b.TWO_PI)%b.TWO_PI,h=t-s;Qt(this.truePos,i[u].truePos)<this.trueRange**2&&h>-this.flameThrowerAngle&&h<this.flameThrowerAngle&&this.applyBurningLandToTile(i[u])}}applyBurningLandToTile(r){if(!r.canUnit||r.isTower||r.appliedEffects.burningLand)return;const t=this.getBurningTileProjectile(r.truePos,jt.burningLandLifespan);Je.addProjectile(t,!0),r.appliedEffects.burningLand=t}flameThrowerPush(r){}applyFlameThrowerPush(r){const t=lt.Vector.sub(r.truePos,this.truePos).setMag(.02*this.pushForce);r.applyForce(t)}baseComet(){return!0}shootComet(){const r=It.inRangeCircle(this.truePos,this.trueCometRange);if(r.length<1)return!1;const t=pn[this.targetingType].function(this.truePos,r);return this.shootCometAtTarget(t),!0}shootCometAtTarget(r){const t=r.truePos.copy(),f=30;t.add(lt.Vector.mult(r.vel,f));const d=b.createVector(b.windowHeight/4,-b.windowWidth).add(t),i=lt.Vector.sub(t,d);i.mult(1/f);const u=this.getCometProjectile(i,d,f);Je.addProjectile(u)}progressUlt(){}baseWall(){return!0}shootWall(){const r=It.inRangeCircle(this.truePos,this.trueWallRange),t=this.trueWallRange*1.5/this.projectileSpeed;let f=!1,d=b.createVector(0,0);for(;!f;){if(r.length<1)return;const s=pn[this.targetingType].function(this.truePos,r);d=s.truePos.copy();for(let h=1;h<=t;h++)if(d.add(s.vel),Qt(d,this.truePos)<(this.projectileSpeed*h)**2){f=!0;break}r.splice(r.indexOf(s),1)}const i=lt.Vector.sub(d,this.truePos);i.setMag(this.projectileSpeed);const u=this.getWallProjectile(i,this.truePos,t);return Je.addProjectile(u),!0}addFlameThrowerParticlesToMaou(r,t){for(let f=0;f<t;f++){const d=lt.Vector.fromAngle(r+b.random(-this.flameThrowerAngle,this.flameThrowerAngle),this.trueRange/b.random(6,12));Je.addVisual(ju(this.truePos,d,ee.TRUE_HEX_SIZE/4,b.random(8,12),_u(this.fireColor,this.flameColor)),f>1)}}getCometProjectile(r,t,f){return new sv(this,t,r,this.projectileSize*2,this.getCometDamage(),"EXPLOSION",f,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,explosionRadius:this.cometExplosionRadius,explosionColor:this.flameColor,explosionVisualDuration:4,statuses:this.getStatuses()})}getWallProjectile(r,t,f){return new nv(this,t,r,this.baseWallSize,this.getWallDamage(),"FIRE",f,{color:this.projectileColor,pierce:this.wallPierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnMove:this.extraActionOnMove,extraActionOnHit:this.extraActionOnHit,width:this.wallWidthMultiplier,statuses:this.getStatuses()})}getBurningTileProjectile(r,t){const f=[...this.flameColor,80];return new Af(this,r,b.createVector(0,0),ee.TRUE_HEX_SIZE,this.getDamage(),"FIRE",t,{color:b.color(f),statuses:this.getStatuses()})}getFlameThrowerDamage(){return this.damage}getCometDamage(){return this.cometDamage}getWallDamage(){return this.wallDamage}getStatuses(){return[]}getBurn(){return ef(this.burnDamage,this.burnDuration,this.burnPanicSpeedIncrease)}increaseCometRange(r){this.baseCometRange+=r,this.recalcRangeBuffs()}increaseWallRange(r){this.baseWallRange+=r,this.recalcRangeBuffs()}increaseCometDamage(r){this.baseCometDamage+=r,this.recalcDamageBuffs()}increaseWallDamage(r){this.baseWallDamage+=r,this.recalcDamageBuffs()}increaseBurnDamage(r){this.baseBurnDamage+=r,this.recalcDamageBuffs()}recalcDamageBuffs(){super.recalcDamageBuffs(),this.cometDamage=this.baseCometDamage;for(const r of this.damageBuffsMultiplicative)this.cometDamage*=r;this.wallDamage=this.baseWallDamage;for(const r of this.damageBuffsMultiplicative)this.wallDamage*=r;this.burnDamage=this.baseBurnDamage;for(const r of this.damageBuffsMultiplicative)this.burnDamage*=r}recalcRangeBuffs(){super.recalcRangeBuffs(),this.trueCometRange=this.baseCometRange,this.trueWallRange=this.baseWallRange;for(const r of this.rangeBuffsAdditive)this.trueCometRange+=r,this.trueWallRange+=r;for(const r of this.rangeBuffsMultiplicative)this.trueCometRange*=r,this.trueWallRange*=r;this.wallRange=_t(this.trueWallRange),this.cometRange=_t(this.trueCometRange)}}const av=(n,o={})=>new iv(n.truePos.x,n.truePos.y,n.r,n.q,n.trueSize,jt.range,jt.damage,jt.projectileSpeed,jt.cooldown,jt.cost,{color:b.color(jt.rgb),projectileColor:jt.flameRgb,wall:!0,isTower:!0,towerId:jt.id,type:n.type,data:n.data,spendValue:o.changedCost??jt.cost,upgrades:{A:new Be("A","Hotter Fire",800,"This does something yeah","They die quicker, so it's a mercy really.",r=>{r.increaseDamage(1),r.increaseWallDamage(30)},!0),B:new Be("B","Wide Flame",600,"This does something yeah","Increase the area of effect radius of the Pyromaniac.",r=>{r.flameThrowerAngle+=b.PI/12},!0),C:new Be("C","Burning Vision",500,"This does something yeah","Slightly increases range. I have a vision, of a world where no hero goes unburned.",r=>{r.increaseRange(ee.TRUE_HEX_SIZE*.25),r.increaseCometRange(ee.TRUE_HEX_SIZE)},!0),"A+":new Be("A+","Blue Flame",3600,"This does something yeah","Blue flames are both hotter and cooler.",r=>{r.increaseDamage(2),r.increaseCometDamage(400),r.increaseWallDamage(50),r.projectileColor=b.color(jl),r.fireColor=Nh,r.flameColor=jl}),"B+":new Be("B+","Inferno Grande",2050,"This does something yeah","Increases the size of the Pyromaniacs flames even further. There is no escaping the infero!",r=>{r.flameThrowerAngle+=b.PI/12,r.cometExplosionRadius+=ee.TRUE_HEX_SIZE,r.wallWidthMultiplier+=2}),"C+":new Be("C+","See The World",1750,"This does something yeah","increase Pyromaniac range even more.",r=>{r.increaseRange(ee.TRUE_HEX_SIZE*.25),r.increaseCometRange(ee.TRUE_HEX_SIZE*1.5),r.increaseWallRange(ee.TRUE_HEX_SIZE*1.5)}),AB:new Be("AB","Comet",1850,"This does something yeah","Shoots a mighty comet from the sky, dealing devastating damage in a large area.",r=>{r.baseComet=()=>r.shootComet(),r.showCometRange=t=>{const f=as(r.color);return f.setAlpha(t),b.fill(f),zo(r.pos,r.cometRange*2),t-40}}),BC:new Be("BC","Flame Wall",2300,"This does something yeah","Shoots out a wall of flames that moves slowly towards its target.",r=>{r.baseWall=()=>r.shootWall(),r.showWallRange=t=>{const f=as(r.color);return f.setAlpha(t),b.fill(f),zo(r.pos,r.wallRange*2),t-40}}),CA:new Be("CA","Feel The Burn",2100,"This does something yeah","Inflicts every enemy hit with a burning status effect.",r=>{r.increaseBurnDamage(1),r.burnDuration+=30,r.getStatuses=()=>[r.getBurn()]}),"AB+":new Be("AB+","Inner Fire",3900,"This does something yeah","The Pyromaniac builds their inner fire, increasing damage dealt based on attack cooldown.",r=>{r.increaseDamage(r.baseCooldown),r.increaseWallDamage(r.wallCooldown/2),r.increaseCometDamage(r.cometCooldown/2)}),"BC+":new Be("BC+","Expulsion",1800,"This does something yeah","Fire hits enemies with such force they are thrown backwards.",r=>{r.flameThrowerPush=t=>{r.applyFlameThrowerPush(t)},r.extraActionsOnHit.push(t=>{if("target"in t){const d=t.vel.copy().setMag(r.pushForce);t.target.applyForce(d);return}const f=It.inRangeCircle(t.pos,t.radius);for(const d of f){const i=lt.Vector.sub(d.truePos,t.pos).setMag(r.pushForce);d.applyForce(i)}})}),"CA+":new Be("CA+","Hell Fire",3250,"This does something yeah","The flames of hell burn brighter, longer, and cause more panic than beofer.",r=>{r.burnDuration+=50,r.increaseBurnDamage(1),r.burnPanicSpeedIncrease+=.5,r.getStatuses=()=>[r.getBurn()]}),"AB++":new Be("AB++","Apocalypse (Ability)",6500,"This does something yeah","Pyromaniac rains down countless comets, cleansing the world in the fires of apocalypse.",r=>{r.ultCooldown=ei,r.ultCurrentCooldown=r.ultCooldown,r.ultimate=()=>{r.progressUlt=()=>{if(r.ultInProgress<=0&&(r.progressUlt=()=>{}),Rt.units.length<1)return;const t=b.random(Rt.units);r.shootCometAtTarget(t),r.ultInProgress--},r.ultInProgress=30},r.shouldShowUltCooldown=()=>{r.showUltCooldown()}}),"BC++":new Be("BC++","Isolationism",5500,"Increases flame thrower damage by 1, wall by 30, comet by 200, increases comet explosion radius by 0.5, increases push power by 2, increases wall pierce by 7.","Don't allow anything near, flames hit harder and with more force. Also increases wall pierce and comet explosion radius a bit.",r=>{r.increaseDamage(1),r.increaseWallDamage(30),r.increaseCometDamage(200),r.cometExplosionRaidus+=ee.TRUE_HEX_SIZE/2,r.pushForce+=ee.TRUE_BASE_SPEED*2,r.wallPierce+=7}),"CA++":new Be("CA++","Burning Earth",13500,"This does something yeah","All Pyromaniacs attacks leave burning earth behind, dealing damage and inflicting burn.",r=>{r.burningLand=(t,f)=>{r.applyBurningLand(t,f)},r.extraActionsOnHit.push(t=>{if(!("radius"in t))return;const f=he.getTrueHexVectorFromXY(t.pos.x,t.pos.y);if(!he.rqVectorIsOnGrid(f))return;const d=he.grid[f.x][f.y],i=[...he.getNeighborsArea(d.r,d.q,2),d];for(let u=0;u<i.length;u++)Qt(t.pos,i[u].truePos)<t.radius**2&&r.applyBurningLandToTile(i[u])}),r.extraActionsOnMove.push(t=>{const f=he.getTrueHexVectorFromXY(t.pos.x,t.pos.y);if(!he.rqVectorIsOnGrid(f))return;const d=he.grid[f.x][f.y],i=[...he.getNeighborsArea(d.r,d.q,2),d];for(const u of i)vs(t.corners[0],t.corners[1],u.truePos)>0&&vs(t.corners[1],t.corners[2],u.truePos)>0&&vs(t.corners[2],t.corners[3],u.truePos)>0&&vs(t.corners[3],t.corners[0],u.truePos)>0&&r.applyBurningLandToTile(u)})})}}),lv=(n,o,r="UpgradeDiscount")=>new Ps(r,t=>{},t=>{},(t,f,d)=>f,(t,f,d)=>{const i=d||t.name;return o&&i!==o?f:b.ceil(f*n)}),uv=(n,o,r)=>{let t=Ta(r,o);t||(r==="Diamond"?t=hd(o):r==="Ruby"?t=cv(o):t=hd(o),Ca(r,o,t)),r==="Diamond"?b.fill(Gh):r==="Ruby"?b.fill(fg):b.fill(Ih),Ra(n,t)},hd=n=>{const o=[],r=n/2,t=n*.35,f=n*.3,d=n*.34,i=n*.17,u=n*.13;return o.push(b.createVector(-u,-t)),o.push(b.createVector(-i,-r)),o.push(b.createVector(i,-r)),o.push(b.createVector(u,-t)),o.push(b.createVector(i,-r)),o.push(b.createVector(d,-t)),o.push(b.createVector(i,-f)),o.push(b.createVector(d,-t)),o.push(b.createVector(d,t)),o.push(b.createVector(i,f)),o.push(b.createVector(d,t)),o.push(b.createVector(i,r)),o.push(b.createVector(u,t)),o.push(b.createVector(i,r)),o.push(b.createVector(-i,r)),o.push(b.createVector(-u,t)),o.push(b.createVector(-i,r)),o.push(b.createVector(-d,t)),o.push(b.createVector(-i,f)),o.push(b.createVector(-d,t)),o.push(b.createVector(-d,-t)),o.push(b.createVector(-i,-f)),o.push(b.createVector(-d,-t)),o.push(b.createVector(-i,-r)),o.push(b.createVector(-u,-t)),o.push(b.createVector(u,-t)),o.push(b.createVector(i,-f)),o.push(b.createVector(i,f)),o.push(b.createVector(u,t)),o.push(b.createVector(-u,t)),o.push(b.createVector(-i,f)),o.push(b.createVector(-i,-f)),o},cv=n=>{const o=[],r=n/2,t=n*.34,f=n*.26,d=n*.3,i=n*.16;return o.push(b.createVector(0,-t)),o.push(b.createVector(0,-r)),o.push(b.createVector(d,-t)),o.push(b.createVector(i,-f)),o.push(b.createVector(d,-t)),o.push(b.createVector(d,t)),o.push(b.createVector(i,f)),o.push(b.createVector(d,t)),o.push(b.createVector(0,r)),o.push(b.createVector(0,t)),o.push(b.createVector(0,r)),o.push(b.createVector(-d,t)),o.push(b.createVector(-i,f)),o.push(b.createVector(-d,t)),o.push(b.createVector(-d,-t)),o.push(b.createVector(-i,-f)),o.push(b.createVector(-d,-t)),o.push(b.createVector(0,-r)),o.push(b.createVector(0,-t)),o.push(b.createVector(i,-f)),o.push(b.createVector(i,f)),o.push(b.createVector(0,t)),o.push(b.createVector(-i,f)),o.push(b.createVector(-i,-f)),o};class dv extends Ru{constructor(r,t,f,d={}){super(r,t,f,d);V(this,"gemType");V(this,"beingCarried");V(this,"carriedBy");V(this,"pathName");this.gemType=b.random(["Diamond","Ruby","Emerald"]),this.beingCarried=!1,this.carriedBy=null,this.pathName=`Gem-${b.random()}`;const i=he.getTrueHexVectorFromXY(r,t),u=he.grid[i.x][i.y];Je.addCustomPath({origin:[u],name:this.pathName,waterCost:99,stopAfter:5,customNextName:Oh})}show(){b.strokeWeight(ee.STROKE/2),b.stroke($r),this.beingCarried&&(this.pos=this.carriedBy.pos.copy()),uv(this.pos,this.size,this.gemType)}update(){if(this.beingCarried||this.hp<=0)return!0;if(Qt(b.createVector(b.mouseX,b.mouseY),Vt(this.truePos))<_t(this.visionRadius)**2)return this.onPickup(),this.hp<=0;const r=It.inRangeCircle(this.truePos,this.visionRadius);return r.length>0&&(r[0].inventory.push(this),this.beingCarried=!0,this.carriedBy=r[0],this.hp=0),this.hp-=this.hpLossPerFrame,this.hp<=0}onPickup(){Je.increaseGold(this.goldValue),this.goldValue=0,this.hp=0}onDestroy(){Je.removeCustomPath(this.pathName),this.hp=0}onUnitDeath(){this.onPickup(),this.beingCarried=!1}}const hv=(n,o={})=>{const r=ee.TRUE_HEX_SIZE*.7;return new dv(n.x,n.y,r,{desiredSpeed:0,maxForce:0,damage:0,hp:o.hp??1e3,hpLossPerFrame:o.hpLoss??1,mass:1,goldValue:o.goldValue??50,color:b.color(o.color??Ih),attackRadius:0,visionRadius:ee.TRUE_HEX_SIZE*2})};class fv extends Xo{constructor(r,t,f,d,i,u,s,h,m,g,c){super(r,t,f,d,i,_r.name,u,s,h,m,g,c);V(this,"goldInHoard");V(this,"hoardCapacity");V(this,"hoardFillPerRound");V(this,"hoardInterest");V(this,"hoardFilledThisRound");V(this,"shouldFillHoardThisRound");V(this,"timeOverFullFill");V(this,"framesPerFill");V(this,"currentFrameCount");V(this,"stockMinMultiplier");V(this,"stockMaxMultiplier");V(this,"showCoins");V(this,"neighborBuildDiscount");V(this,"areaUpgradeDiscount");V(this,"gemsPerRound");V(this,"gemsThisRound");V(this,"gemGoldValue");V(this,"nextGemAt");V(this,"tollCost");V(this,"tollId");V(this,"onWaveEnd",()=>{const r=this.calculateRemainingGold();this.addGoldToHoard(r),this.addGoldToHoard(b.floor(this.goldInHoard*this.hoardInterest)),this.addGoldToMaouEveryTime();for(let t=0;t<this.gemsPerRound;t++)this.shouldSpawnGem(!0);this.hoardFilledThisRound=0,this.calcGoldForNextWave(),this.framesPerFill=this.timeOverFullFill/this.shouldFillHoardThisRound,this.gemsThisRound=this.gemsPerRound,this.nextGemAt=this.shouldFillHoardThisRound/(this.gemsPerRound+1),this.currentFrameCount=0,this.setMenuText()});this.showTargetingType=!1,this.goldInHoard=0,this.hoardCapacity=_r.hoardCapacity,this.hoardFillPerRound=_r.hoardFillPerRound,this.hoardInterest=_r.hoardInterest,this.hoardFilledThisRound=0,this.shouldFillHoardThisRound=this.hoardFillPerRound,this.timeOverFullFill=_r.timeOverFullFill,this.framesPerFill=this.timeOverFullFill/this.shouldFillHoardThisRound,this.currentFrameCount=0,this.stockMinMultiplier=1,this.stockMaxMultiplier=1.5,this.showCoins=2,this.neighborBuildDiscount=_r.neighborBuildDiscount,this.areaUpgradeDiscount=_r.areaUpgradeDiscount,this.gemsPerRound=_r.gemsPerRound,this.gemGoldValue=_r.gemGoldValue,this.nextGemAt=this.hoardFillPerRound/(this.gemsPerRound+1),this.gemsThisRound=3,this.tollCost=0,this.tollId=`dragon-toll-${b.random()}`}showSymbol(r=this.pos){b.fill(si),b.strokeWeight(ee.STROKE*2);const t=this.size*.15;for(let f=0;f<this.showCoins;f++)ni(r.x-t+t*f,r.y+t-t*f,this.size*.5)}update(){return this.currentFrameCount++,this.extractToll(),this.currentFrameCount>=this.framesPerFill&&this.shouldFillHoardThisRound>this.hoardFilledThisRound&&(this.addGoldToHoard(1),this.hoardFilledThisRound+=1,this.addGoldToMaouEveryTime(),this.shouldSpawnGem(),this.currentFrameCount-=this.framesPerFill),this.ultCurrentCooldown--,this.handleBuffs(),this.setMenuText(),this.usageData.framesExists++,!0}extractToll(){}calculateRemainingGold(){return this.shouldFillHoardThisRound-this.hoardFilledThisRound}calcGoldForNextWave(){this.shouldFillHoardThisRound=this.hoardFillPerRound}addGoldToHoard(r){this.goldInHoard=b.min(this.goldInHoard+r,this.hoardCapacity)}addGoldToMaouEveryTime(){this.addGoldToMaou()}addGoldToMaou(){Je.increaseGold(this.goldInHoard),this.goldInHoard=0}setMenuText(){this.extraMenuShowText=""}shouldSpawnGem(r=!1){}spawnGem(r=!1){if(this.hoardFilledThisRound<this.nextGemAt&&!r||this.gemsThisRound<1)return;const t=he.getNeighborsArea(this.r,this.q,2),f=b.random(t),d=hv(f.truePos,{hp:3e3,hpLoss:1,goldValue:this.gemGoldValue});Je.addObstacle(d),this.gemsThisRound-=1,this.nextGemAt+=this.shouldFillHoardThisRound/(this.gemsPerRound+1)}}const pv=(n,o={})=>new fv(n.truePos.x,n.truePos.y,n.r,n.q,n.trueSize,_r.range,_r.damage,_r.projectileSpeed,_r.cooldown,_r.cost,{color:b.color(_r.rgb),wall:!0,isTower:!0,towerId:_r.id,type:n.type,data:n.data,spendValue:o.changedCost??_r.cost,upgrades:{A:new Be("A","Excess Lifeforce",1e3,"Collects gold over 50 seconds, all uncollected gold at the end of the round gets doubled.","The magical energies of the hoard are bolstered by the lifeforce of quickly killed heroes, doubling the value of the still uncollected gold at the end of the wave. The faster you kill the more gold you get, for any layman among you.",r=>{r.calculateRemainingGold=()=>(r.shouldFillHoardThisRound-r.hoardFilledThisRound)*2},!0),B:new Be("B","Money Dump",1200,"Increases gold earned per round by 100.","By dumping a bunch of money in here, the hoard seems to accept that it's supposed to be bigger, and starts generating more money. Someone should really figure out how this thing works... Not me though, I'm busy killing things.",r=>{r.hoardFillPerRound+=100,r.showCoins+=1},!0),C:new Be("C","Stocks",600,"Gold per round becomes randomly between 100% and 150% of base value.","How did these even get here? Is there someone in there? Whatever. These investements are nice, if a bit fluid. Increases gold earned per wave randomly by up to 50%.",r=>{r.calcGoldForNextWave=()=>{r.shouldFillHoardThisRound=b.round(r.hoardFillPerRound*b.random(r.stockMinMultiplier,r.stockMaxMultiplier))}},!0),"A+":new Be("A+","Slow and Steady",1350,"Collects gold over 100 seconds instead.","Slows down the hoards money production, giving you more chance to double some leftovers.",r=>{r.timeOverFullFill+=2500}),"B+":new Be("B+","Money Mountain",5e3,"Increases gold per round by 300.","Give onto the hoard a mountain of money, and the hoard will return it two-fold. Eventually. Further increases money production.",r=>{r.hoardFillPerRound+=300,r.showCoins+=1}),"C+":new Be("C+","High Risk Trading",2250,"Gold per round becomes randomly between 50% and 300% of base value.","These are some high risk investements. You might get rich quick, or lose it all... Randomly decreases gold earned per wave by up to 50%, or increases it by up to 200%. Are you ready to take a chance and live the good life?",r=>{r.stockMinMultiplier-=.5,r.stockMaxMultiplier+=1.5}),AB:new Be("AB","My Precious Gems",1500,"Periodically spawns gems near the tower, which can be picked up by hovering the mouse near them, or can be stolen by heroes who will then need to be killed. 3 gems per wave, 50 gold per gem.","Some gems in the hoard have taken on the magical properties that give it something resembling sentience, and by their own will ejected themselves to start a hoard of their own. Ah new life. How precious. Let's squash it for financial gain!",r=>{r.shouldSpawnGem=(t=!1)=>{r.spawnGem(t)}}),BC:new Be("BC","Interesting (Ability)",3500,"This does something yeah","The money generated goes to the hoards vault instead of your supply, and the piles in the vault grow ever bigger the more there is. Adds 10% interest to current vault money at the end of the round. Move it into your supply with the ability.",r=>{r.hoardInterest+=.1,r.addGoldToMaouEveryTime=()=>{},r.ultCooldown=1,r.ultCurrentCooldown=r.ultCooldown,r.ultimate=()=>{r.addGoldToMaou(),r.setMenuText()},r.shouldShowUltCooldown=()=>{r.showUltCooldown()},r.setMenuText=()=>{r.extraMenuShowText=`Vault: ${r.goldInHoard} / ${r.hoardCapacity}`},r.setMenuText()}),CA:new Be("CA","Startup Supporter",2500,"This does something yeah","The hoard isn't sentient, is it? How can it be developing altruism? This investement in small businesses decreases the build cost of adjecent towers by 50%!",r=>{const t=he.getNeighbors(r.r,r.q);for(const f of t){const d=tf(r.neighborBuildDiscount);f.applyBuff(d),r.buffsThisApplied.push(d)}r.onSell=()=>{const f=he.getNeighborsArea(r.r,r.q,2);for(const d of r.buffsThisApplied)for(const i of f)i.removeBuff(d.id)}}),"AB+":new Be("AB+","Toll Booth",0,"This does something yeah","Still just a barrier.",r=>{r.tollCost+=5,r.increaseRange(ee.TRUE_HEX_SIZE*2.3),r.extractToll=()=>{const t=It.inRangeCircle(r.truePos,r.trueRange);if(!(t.length<1))for(let f=0;f<t.length;f++){const d=t[f].getData(r.tollId),i=t[f].getData("summoned");d!==null||i===!0||(t[f].addData({[r.tollId]:!0}),r.addGoldToHoard(r.tollCost),r.addGoldToMaouEveryTime())}}}),"BC+":new Be("BC+","High Ceiling",8e3,"This does something yeah","Increases vault size by breaking the ceiling and adding the second floor to the vault, allowing you to store more money. Also slightly increases interest, as if the hoard itself was pleased with its makeover.",r=>{r.hoardInterest+=.05,r.hoardCapacity+=7e3,r.addGoldToMaouEveryTime=()=>{},r.ultCooldown=1,r.ultCurrentCooldown=r.ultCooldown,r.ultimate=()=>{r.addGoldToMaou(),r.setMenuText()},r.shouldShowUltCooldown=()=>{r.showUltCooldown()},r.setMenuText=()=>{r.extraMenuShowText=`Vault: ${r.goldInHoard} / ${r.hoardCapacity}`},r.setMenuText()}),"CA+":new Be("CA+","Dragon Discount",3e3,"This does something yeah","The hoard seems to contain all kinds of rare weapons and artifacts that other towers can use, and it seems to be giving them away at a discount. Decreases upgrade costs of towers 2 rings around the hoard by 10%.",r=>{const t=he.getNeighborsArea(r.r,r.q,2);for(const f of t){const d=lv(r.areaUpgradeDiscount);f.applyBuff(d),r.buffsThisApplied.push(d)}r.onSell=()=>{const f=he.getNeighborsArea(r.r,r.q,2);for(const d of r.buffsThisApplied)for(const i of f)i.removeBuff(d.id)}}),"AB++":new Be("AB++","Nothing",0,"This does something yeah","Still just a barrier.",r=>{}),"BC++":new Be("BC++","Cavernous Basement",2e4,"Increases vault size by 35000.","It's really not so much cavernous as just a cavern, but whatever. Allows you to store way more money in the vault.",r=>{r.hoardCapacity+=35e3,r.setMenuText()}),"CA++":new Be("CA++","Nothing",0,"This does something yeah","Still just a barrier.",r=>{})}});class ka extends us{constructor(r,t,f,d,i,u,s,h={}){super(r,t,f,d,i,u,s,h);V(this,"splitOnHit");this.splitOnHit=h.splitOnHit??!1}show(){b.fill(this.color),Yo(this.pos.x,this.pos.y,_t(this.size))}showDebug(){b.stroke(this.color),b.strokeWeight(ee.STROKE*5),b.point(this.pos.x,this.pos.y)}update(){this.vel.add(this.acc),this.truePrevPos=this.truePos.copy(),this.truePos.add(this.vel),this.prevPos=this.pos.copy(),this.pos=Vt(this.truePos),this.acc.mult(0);const r=this.alreadyHitEnemyIds.length,t=It.inRangePath(this.truePrevPos,this.truePos,this.size);for(const f of t)this.hit(f);if(this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0)return!0;if(this.splitOnHit&&this.alreadyHitEnemyIds.length>r)for(let f=0;f<this.alreadyHitEnemyIds.length-r;f++)for(let d=0;d<3;d++){const i=this.copy();i.vel=lt.Vector.random2D().setMag(i.vel.mag()),Je.addProjectile(i)}return!1}copy(){const r=[];for(const f of this.statuses)r.push(f.copy());const t=new ka(this.origin,this.truePos.copy(),this.vel.copy(),this.size,this.damage,this.damageType,this.lifeSpan-1,{color:this.color,pierce:this.pierce-1,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:r,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,extraActionOnMove:this.extraActionOnMove,splitOnHit:this.splitOnHit});return t.alreadyHitEnemyIds=this.alreadyHitEnemyIds,t}}const Of=(n,o,r=5,t="trance",f=250)=>new qr(t,n,"ON_TAKE_DAMAGE",(d,i,u={damage:new lr("PHYSICAL",0)})=>{const s=u.damage.amount/d.maxHp;b.random()<r*s&&i&&(i.duration=0)},(d,i)=>{b.fill(Fh),Yo(i.x,i.y,d.size/2)},d=>{d.currentFlowField=o},d=>{d.currentFlowField=d.originalFlowField,d.applyStatus(Mf(f,t,"ON_TAKE_DAMAGE"))}),mv=(n,o,r,t=bo,f=0,d=b)=>{const i=r/2,u=r/3;d.push(),d.translate(n,o),d.rotate(f),d.stroke(bt),d.strokeWeight(ee.STROKE*2),d.line(0,-i,0,i),d.ellipse(-u*.8,i*.8,i,u),d.strokeWeight(ee.STROKE),d.stroke(t),d.line(-i,-i,i,i),d.line(i,-i,-i,i),d.pop()},gv=(n,o="silence")=>new qr(o,n,"NORMAL",(r,t,f={damage:new lr("PHYSICAL",0)})=>{for(const d of r.abilityCounters)r[d]++},(r,t)=>{b.fill(bt),mv(t.x,t.y,r.size/2)},r=>{},r=>{});class Pu extends ka{constructor(r,t,f,d,i,u,s,h={}){super(r,t,f,d,i,u,s,h);V(this,"target");V(this,"desiredSpeed");V(this,"maxForce");this.target=h.target??null,this.desiredSpeed=this.vel.mag(),this.maxForce=this.vel.mag()/20}show(){b.fill(this.color),Yo(this.pos.x,this.pos.y,_t(this.size))}showDebug(){b.stroke(this.color),b.strokeWeight(ee.STROKE*5),b.point(this.pos.x,this.pos.y)}update(){(this.target===null||this.alreadyHitEnemyIds.includes(this.target.id)||this.target.hp<=0)&&this.findNewTarget(),this.vel.add(this.getAccThroughHoming()),this.vel.add(this.acc),this.truePrevPos=this.truePos.copy(),this.truePos.add(this.vel),this.prevPos=this.pos.copy(),this.pos=Vt(this.truePos),this.acc.mult(0);const r=this.alreadyHitEnemyIds.length,t=It.inRangePath(this.truePrevPos,this.truePos,this.size);for(const f of t)this.hit(f);if(this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0)return!0;if(this.splitOnHit&&this.alreadyHitEnemyIds.length>r)for(let f=0;f<this.alreadyHitEnemyIds.length-r;f++)for(let d=0;d<3;d++){const i=this.copy();i.vel=lt.Vector.random2D().setMag(i.vel.mag()),Je.addProjectile(i)}return!1}copy(){const r=[];for(const f of this.statuses)r.push(f.copy());const t=new Pu(this.origin,this.truePos.copy(),this.vel.copy(),this.size,this.damage,this.damageType,this.lifeSpan-1,{color:this.color,pierce:this.pierce-1,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:r,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,extraActionOnMove:this.extraActionOnMove,splitOnHit:this.splitOnHit});return t.alreadyHitEnemyIds=this.alreadyHitEnemyIds,t}findNewTarget(){const r=It.inRangeCircle(this.truePos,this.origin.trueRange/3);let t=null,f=99999;const d=this.vel.copy().mult(5);d.add(this.truePos);for(const i of r){const u=Qt(i.truePos,d);u<f&&!this.alreadyHitEnemyIds.includes(i.id)&&(f=u,t=i)}this.target=t}getAccThroughHoming(){if(this.target===null)return b.createVector(0,0);const r=lt.Vector.sub(this.target.truePos,this.truePos);return r.setMag(this.desiredSpeed),r.sub(this.vel),r.limit(this.maxForce),r}}class yv extends Xo{constructor(r,t,f,d,i,u,s,h,m,g,c){super(r,t,f,d,i,Dr.name,u,s,h,m,g,c);V(this,"noteColor");V(this,"extraProjectileLifespan");V(this,"pathName");V(this,"pathNameNext");V(this,"tranceDuration");V(this,"silenceDuration");V(this,"breakoutChance");V(this,"splitOnHit");V(this,"extraProjectileAngle");this.noteColor=Dr.noteColor,this.extraProjectileLifespan=1,this.extraProjectileAngle=Dr.extraProjectileAngle,this.tranceDuration=Dr.tranceDuration,this.silenceDuration=Dr.silenceDuration,this.breakoutChance=Dr.breakoutChance,this.pathName=`Siren${b.random()}`,this.pathNameNext=`${this.pathName}Next`,Je.addCustomPath({origin:[this],name:this.pathName,waterCost:1,stopAfter:10}),this.splitOnHit=!1}showSymbol(r=this.pos){b.fill(this.noteColor),Yo(r.x,r.y,this.size)}shoot(){const r=this.baseShoot();if(r===void 0)return!1;const t=b.floor(this.projectileNumber/2)*-1;this.lastShotAngle=r.vel.heading();for(let f=t;f<t+this.projectileNumber;f++){const d=this.lastShotAngle+f*this.extraProjectileAngle,i=lt.Vector.fromAngle(d);i.setMag(r.vel.mag());const u=this.getProjectile(i,r.lifeSpan);Je.addProjectile(u)}return!0}baseShoot(){const r=this.trueRange/this.projectileSpeed*this.extraProjectileLifespan,{aimPos:t,target:f}=this.getHitableAimPos(r);if(t===void 0)return;const d=lt.Vector.sub(t,this.truePos);return d.setMag(this.projectileSpeed),this.getProjectile(d,r,f)}getProjectile(r,t,f){return new ka(this,this.truePos.copy(),r,this.projectileSize,this.getDamage(),"MAGIC",t,{color:b.color(this.noteColor),pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),splitOnHit:this.splitOnHit})}getStatuses(){return[this.getTrance()]}getTrance(){return Of(this.tranceDuration,this.pathNameNext,this.breakoutChance,"trance",250)}getSilence(){return gv(this.tranceDuration,"silence")}onSell(){Je.removeCustomPath(this.pathName)}}const vv=(n,o={})=>new yv(n.truePos.x,n.truePos.y,n.r,n.q,n.trueSize,Dr.range,Dr.damage,Dr.projectileSpeed,Dr.cooldown,Dr.cost,{color:b.color(Dr.rgb),wall:!0,isTower:!0,towerId:Dr.id,type:n.type,data:n.data,projectileColor:Dr.noteColor,spendValue:o.changedCost??Dr.cost,upgrades:{A:new Be("A","Piercing Voice",300,"This does something yeah","Song pierces through its target to the next.",r=>{r.projectilePierce+=1,r.extraProjectileLifespan+=.2},!0),B:new Be("B","Tireless",550,"This does something yeah","If you don't keep singing till you drop you'll never make it in showbizz. Lower cooldown",r=>{r.increaseCooldown(-20)},!0),C:new Be("C","Entancing Song",400,"This does something yeah","Increases the duration of the trance, and slightly decreases the chance heroes break out of the spell when damaged.",r=>{r.tranceDuration+=100,r.breakoutChance-=1},!0),"A+":new Be("A+","Optimize Acoustics",2100,"This does something yeah","Siren magically changes the properties of the space around her to optimize its acoustics. It is honestly kind of a waste to use magic capable of changing physics on something like this, but at least it increases the amount of people who hear her song...",r=>{r.projectilePierce+=2,r.extraProjectileLifespan+=.3,r.increaseRange(ee.TRUE_HEX_SIZE/2)}),"B+":new Be("B+","Endless Encores",1700,"Decreases cooldown by 20","Song after song, you'll never escape this concert. Even lower cooldown",r=>{r.increaseCooldown(-20)}),"C+":new Be("C+","Unbreakable Obsession",2900,"This does something yeah","A song so beautifull it takes ages to break free of its spell. That or a very hard blow to the head.",r=>{r.tranceDuration+=150,r.breakoutChance-=.5}),AB:new Be("AB","Rock Song",666,"This does something yeah","Not all Sirens are into that classical shit. Increases damage",r=>{r.increaseDamage(10)}),BC:new Be("BC","Authority",2500,"This does something yeah","My authority, you will respect it. Siren magically controls the entire area around her, increasing trance duration and dramatically lowering breakout chance.",r=>{r.tranceDuration+=50,r.breakoutChance-=2}),CA:new Be("CA","Crowd Pleaser",3600,"This does something yeah","They want to hear, Siren wants to sing more songs, everyone gets what they want.",r=>{r.projectileNumber+=3}),"AB+":new Be("AB+","Hard Rock",5200,"This does something yeah","More rock. More range. More bleeding ears.",r=>{r.increaseDamage(30),r.increaseRange(ee.TRUE_HEX_SIZE),r.noteColor=kh}),"BC+":new Be("BC+","Respect",4200,"Notes home in on targets.","It is basic human decency to listen when someone bothers to address you. Siren ensures everyone shows her this respect by making sure her words reach their ears.",r=>{r.getProjectile=(t,f,d)=>new Pu(r,r.truePos.copy(),t,r.projectileSize,r.getDamage(),"MAGIC",f*1.2,{color:b.color(r.noteColor),pierce:r.projectilePierce,critChance:r.critChance,critMultiplier:r.critMultiplier,statuses:r.getStatuses(),splitOnHit:r.splitOnHit,target:d})}),"CA+":new Be("CA+","Sound Wave",6900,"This does something yeah","Every song is like a sound wave. More projectiles, closer together, reaching further.",r=>{r.projectileNumber+=3,r.extraProjectileLifespan+=.2,r.extraProjectileAngle=b.PI/15}),"AB++":new Be("AB++","Rock The World",6e3,"This does something yeah.","Siren rocks so hard her song reaches more people then ever. The song is so loud it ruptures eardrums all over, dealing more damage, but sadly breaking the trance, and deaf ears can't be charmed by other Sirens either.",r=>{r.projectilePierce+=1,r.projectileSize+=ee.TRUE_HEX_SIZE/3,r.extraProjectileLifespan+=.3,r.increaseRange(ee.TRUE_HEX_SIZE/2),r.increaseDamage(50),r.projectileNumber+=2,r.getTrance=()=>Of(0,r.pathNameNext,r.breakoutChance,"trance",500)}),"BC++":new Be("BC++","Silence",8e3,"Notes also inflict the Silence status effect.","Silence in my presence! You will not speak until spoken to, and honestly, who would bother. Inflicts Silence status effect.",r=>{r.color=b.color(vu),r.getStatuses=()=>[r.getTrance(),r.getSilence()]}),"CA++":new Be("CA++","Echo Chamber",9750,"This does something yeah","Songs echo around whenever they hit a hero. Look it's a magical song, its echos could work this way.",r=>{r.projectilePierce+=3,r.splitOnHit=!0})}});class bv extends Xo{constructor(r,t,f,d,i,u,s,h,m,g,c,l,a){super(r,t,f,d,i,u,s,h,m,g,c,a);V(this,"burnUpTimer");V(this,"lastWaveCheck");this.burnUpTimer=l,this.lastWaveCheck=Rt.waveReader.currentWaveNumber}show(r=this.pos){b.stroke(0),b.strokeWeight(ee.STROKE*2),b.fill(this.color),ar(r.x,r.y,this.size),this.upgradesPurchased>3&&(b.strokeWeight(ee.STROKE),ar(r.x,r.y,this.size-3),this.upgradesPurchased>7&&(b.stroke(0),ar(r.x,r.y,this.size-6))),b.stroke(bt),b.fill(Gs),b.strokeWeight(ee.STROKE);let t=-b.PI/2;for(let f=0;f<b.min(this.burnUpTimer,10);f++){const d=this.pos.x+b.cos(t)*this.size*.7,i=this.pos.y+b.sin(t)*this.size*.7;ai(d,i,ee.HEX_SIZE/10,5),t+=b.TWO_PI/10}this.showSymbol(r),this.shouldShowUltCooldown()}update(){return super.update(),this.lastWaveCheck!==Rt.waveReader.currentWaveNumber&&(this.lastWaveCheck=Rt.waveReader.currentWaveNumber,this.burnUpTimer--),this.burnUpTimer>0}calcSellValue(){this.sellValue=0}onSell(){this.spendValue=0,he.setBuilderTileType(this,rt.UNSTABLE)}}class kf extends us{constructor(r,t,f,d,i,u,s,h={}){super(r,t,f,d,i,u,s,h);V(this,"rockVertices");V(this,"pushForce");V(this,"angle");V(this,"extendLife");this.rockVertices=ia(_t(d)),this.pushForce=h.pushForce??0,this.angle=0,this.extendLife=h.extendLife??!1}resize(){this.rockVertices=ia(_t(this.size))}show(){Mu(this.pos.x,this.pos.y,this.rockVertices,this.angle,this.color)}update(){return this.angle+=.01,super.update()}hit(r){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(r.id))return;this.alreadyHitEnemyIds.push(r.id);const t=this.damage*(b.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(r);this.updateOriginUsageDataSingle(r,t),r.takeDamage(new lr(this.damageType,t)),this.extendLife&&r.hp<=0&&this.origin.lastLifeExtension<Rt.waveReader.currentWaveNumber&&(this.origin.burnUpTimer++,this.origin.lastLifeExtension=Rt.waveReader.currentWaveNumber),r.applyForce(this.vel.copy().setMag(this.pushForce));for(let f=0;f<this.statuses.length;f++)r.applyStatus(this.statuses[f]);this.extraActionOnHit({pos:this.truePos,vel:this.vel,target:r}),this.pierce--}}class wv extends kf{constructor(r,t,f,d,i,u,s,h={}){super(r,t,f,d,i,u,s,h);V(this,"target");V(this,"desiredSpeed");V(this,"maxForce");this.target=h.target??null,this.desiredSpeed=this.vel.mag(),this.maxForce=this.vel.mag()/20}update(){this.angle+=.01,(this.target===null||this.alreadyHitEnemyIds.includes(this.target.id)||this.target.hp<=0)&&this.findNewTarget(),this.vel.add(this.getAccThroughHoming()),this.vel.add(this.acc),this.truePrevPos=this.truePos.copy(),this.truePos.add(this.vel),this.prevPos=this.pos.copy(),this.pos=Vt(this.truePos),this.acc.mult(0);const r=It.inRangePath(this.truePrevPos,this.truePos,this.size);for(const t of r)this.hit(t);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}findNewTarget(){const r=It.inRangeCircle(this.truePos,this.origin.trueRange/3);let t=null,f=99999;const d=this.vel.copy().mult(5);d.add(this.truePos);for(const i of r){const u=Qt(i.truePos,d);u<f&&!this.alreadyHitEnemyIds.includes(i.id)&&(f=u,t=i)}this.target=t}getAccThroughHoming(){if(this.target===null)return b.createVector(0,0);const r=lt.Vector.sub(this.target.truePos,this.truePos);return r.setMag(this.desiredSpeed),r.sub(this.vel),r.limit(this.maxForce),r}}class xv extends bv{constructor(r,t,f,d,i,u,s,h,m,g,c){super(r,t,f,d,i,no.name,u,s,h,m,g,no.baseBurnUpDuration,c);V(this,"flameColor");V(this,"pushForce");V(this,"burningLandLifespan");V(this,"homingProjectiles");V(this,"extendLifeOnKill");V(this,"lastLifeExtension");this.showTargetingType=!1,this.flameColor=no.flameRgb,this.pushForce=0,this.burningLandLifespan=0,this.homingProjectiles=!1,this.extendLifeOnKill=!1,this.lastLifeExtension=Rt.waveReader.currentWaveNumber-1}showSymbol(r=this.pos){b.fill(this.flameColor),Jh(r.x,r.y,this.size,this.lastShotAngle)}update(){return this.lastShotAngle-=.017,super.update()}baseShoot(r=0){const t=lt.Vector.fromAngle(r);t.setMag(this.projectileSpeed);const f=this.trueRange/this.projectileSpeed,d=this.getMagmaBlobProjectile(t,f);Je.addProjectile(d)}shoot(){for(let r=0;r<this.projectileNumber;r++){const t=this.lastShotAngle+b.TWO_PI*(r/this.projectileNumber);this.baseShoot(t)}return!0}getMagmaBlobProjectile(r,t){return new kf(this,this.truePos,r,this.projectileSize,this.getDamage(),"FIRE",t,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),pushForce:this.pushForce,extendLife:this.extendLifeOnKill})}getDamage(){return this.damage}getStatuses(){return[]}applyBurningLandToTile(r){if(!r.canUnit||r.isTower||r.appliedEffects.burningLand)return;const t=this.getBurningTileProjectile(r.truePos,this.burningLandLifespan);Je.addProjectile(t),r.appliedEffects.burningLand=t}getBurningTileProjectile(r,t){const f=[...this.flameColor,80];return new Af(this,r,b.createVector(0,0),ee.TRUE_HEX_SIZE,this.getDamage(),"FIRE",t,{color:b.color(f),statuses:this.getStatuses()})}}const Sv=(n,o={})=>new xv(n.truePos.x,n.truePos.y,n.r,n.q,n.trueSize,no.range,no.damage,no.projectileSpeed,no.cooldown,no.cost,{color:b.color(no.rgb),projectileColor:no.flameRgb,wall:!0,isTower:!0,towerId:no.id,type:n.type,data:n.data,spendValue:o.changedCost??no.cost,upgrades:{A:new Be("A","Short Fuse",200,"This does something yeah","The Wyrms anger about its unfair position in life heats up its shots, increasing damage.",r=>{r.burnUpTimer+=1,r.increaseDamage(15)},!0),B:new Be("B","Stability",150,"This does something yeah","The Wyrm embraces a stable lifestyle, decent job, happy family, little wyrm on the way. Pushes away the inevitable demise a bit.",r=>{r.burnUpTimer+=3},!0),C:new Be("C","Vision",250,"This does something yeah","Wyrm has a vision for the future, and whishes to share it with as many heroes as possible while it is still able.",r=>{r.burnUpTimer+=1,r.increaseRange(ee.TRUE_HEX_SIZE)},!0),"A+":new Be("A+","Burning Hatred",500,"This does something yeah","Wyrms hatred burns brighter than a thousand suns.",r=>{r.burnUpTimer+=1,r.increaseDamage(20)}),"B+":new Be("B+","Controlled Entropy",550,"This does something yeah","The wyrm masters entropic decay to delay the inevitable even longer.",r=>{r.burnUpTimer+=6}),"C+":new Be("C+","Longing Gaze",400,"This does something yeah","Wyrm wants to see as much of the world as possible before the end.",r=>{r.burnUpTimer+=1,r.increaseRange(ee.TRUE_HEX_SIZE)}),AB:new Be("AB","Loniliness",450,"This does something yeah","Wyrm pushes everyone away, unable to accept company in the face of its approaching doom.",r=>{r.pushForce+=ee.TRUE_BASE_SPEED*1.5}),BC:new Be("BC","The Other End",700,"This does something yeah","More projectiles is better, just don't ask where they are coming from, seriously, don't.",r=>{r.projectileNumber+=1}),CA:new Be("CA","Live Fast",600,"This does something yeah","Live fast and dangerous is this Wyrms motto. Faster firing, but at the cost of a shorter life.",r=>{r.increaseCooldown(-4),r.burnUpTimer-=1}),"AB+":new Be("AB+","Heat Seeking Heroes",950,"This does something yeah","The heroes look for a comforting and warm magma blob to the face, or well, that's what Wyrm tells himself.",r=>{r.getMagmaBlobProjectile=(t,f)=>new wv(r,r.truePos,t,r.projectileSize,r.getDamage(),"FIRE",f*1.2,{color:r.projectileColor,pierce:r.projectilePierce,critChance:r.critChance,critMultiplier:r.critMultiplier,statuses:r.getStatuses(),pushForce:r.pushForce,extendLife:r.extendLifeOnKill})}),"BC+":new Be("BC+","Dubble Or Nothing",1150,"This does something yeah","Dubbles the amount of magma blobs fired.",r=>{r.projectileNumber+=2}),"CA+":new Be("CA+","Yolo",800,"This does something yeah","Wyrm puts its everything into firing faster and harder, you only live once, so you gotta take as many as possible with you.",r=>{r.increaseCooldown(-4),r.increaseDamage(10),r.burnUpTimer-=1}),"AB++":new Be("AB++","Lease On Life",3e3,"This does something yeah","Through dark deals best not spoken of, thought Wyrm is not really capable of speaking to begin with, Wyrm extends his life by one wave, on his first kill of every wave.",r=>{r.burnUpTimer+=2,r.extendLifeOnKill=!0}),"BC++":new Be("BC++","Solitude",1600,"This does something yeah","Keeps all away, awaiting the end in fiery solitude.",r=>{r.projectileNumber+=5,r.projectilePierce+=2,r.increaseRange(ee.TRUE_HEX_SIZE/2)}),"CA++":new Be("CA++","Curtain Call",1500,"This does something yeah",'"When the darkness comes, I will not go alone." Creates a devastating explosion when the Wyrm dies, leaving nothing but fire in its wake. Also allows to call the curtain early through the ult.',r=>{r.ultCooldown=1,r.ultCurrentCooldown=r.ultCooldown,r.ultimate=()=>{r.burnUpTimer=0},r.shouldShowUltCooldown=()=>{r.showUltCooldown()},r.onSell=()=>{r.sellValue=0,he.setBuilderTileType(r,rt.UNSTABLE),r.burningLandLifespan=5e3;const t=he.getNeighborsArea(r.r,r.q,3);for(const f of t)r.applyBurningLandToTile(f);r.damage=1e3,r.projectileNumber=50,r.projectilePierce=10,r.projectileSize+=ee.TRUE_HEX_SIZE,r.range=ee.HEX_SIZE*20,r.shoot()}})}});class _v{constructor(){}static getTower(o,r,t={}){switch(typeof o=="string"?parseInt(o):o){case kt.BARRIER:return ud(r,t);case kt.ARCHER:return py(r,t);case kt.ARACHNE:return H1(r,t);case kt.PLAGUE:return Z1(r,t);case kt.GRAVI:return $1(r,t);case kt.KOBOLD:return ov(r,t);case kt.PYRO:return av(r,t);case kt.DRAGON_HOARD:return pv(r,t);case kt.SIREN:return vv(r,t);case kt.MAGMA_WYRM:return Sv(r,t);default:console.log("Wrong input");break}return ud(r,t)}}function Df(n,o){return function(){return n.apply(o,arguments)}}const{toString:If}=Object.prototype,{getPrototypeOf:Au}=Object,Ou=(n=>o=>{const r=If.call(o);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),cs=n=>(n=n.toLowerCase(),o=>Ou(o)===n),Da=n=>o=>typeof o===n,{isArray:Cn}=Array,li=Da("undefined");function Ev(n){return n!==null&&!li(n)&&n.constructor!==null&&!li(n.constructor)&&Rs(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Lf=cs("ArrayBuffer");function jv(n){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(n):o=n&&n.buffer&&Lf(n.buffer),o}const Tv=Da("string"),Rs=Da("function"),Bf=Da("number"),ku=n=>n!==null&&typeof n=="object",Cv=n=>n===!0||n===!1,Xi=n=>{if(Ou(n)!=="object")return!1;const o=Au(n);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Rv=cs("Date"),Mv=cs("File"),Pv=cs("Blob"),Av=cs("FileList"),Ov=n=>ku(n)&&Rs(n.pipe),kv=n=>{const o="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||If.call(n)===o||Rs(n.toString)&&n.toString()===o)},Dv=cs("URLSearchParams"),Iv=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hi(n,o,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let t,f;if(typeof n!="object"&&(n=[n]),Cn(n))for(t=0,f=n.length;t<f;t++)o.call(null,n[t],t,n);else{const d=r?Object.getOwnPropertyNames(n):Object.keys(n),i=d.length;let u;for(t=0;t<i;t++)u=d[t],o.call(null,n[u],u,n)}}function Uf(n,o){o=o.toLowerCase();const r=Object.keys(n);let t=r.length,f;for(;t-- >0;)if(f=r[t],o===f.toLowerCase())return f;return null}const Nf=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ff=n=>!li(n)&&n!==Nf;function Wl(){const{caseless:n}=Ff(this)&&this||{},o={},r=(t,f)=>{const d=n&&Uf(o,f)||f;Xi(o[d])&&Xi(t)?o[d]=Wl(o[d],t):Xi(t)?o[d]=Wl({},t):Cn(t)?o[d]=t.slice():o[d]=t};for(let t=0,f=arguments.length;t<f;t++)arguments[t]&&hi(arguments[t],r);return o}const Lv=(n,o,r,{allOwnKeys:t}={})=>(hi(o,(f,d)=>{r&&Rs(f)?n[d]=Df(f,r):n[d]=f},{allOwnKeys:t}),n),Bv=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Uv=(n,o,r,t)=>{n.prototype=Object.create(o.prototype,t),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:o.prototype}),r&&Object.assign(n.prototype,r)},Nv=(n,o,r,t)=>{let f,d,i;const u={};if(o=o||{},n==null)return o;do{for(f=Object.getOwnPropertyNames(n),d=f.length;d-- >0;)i=f[d],(!t||t(i,n,o))&&!u[i]&&(o[i]=n[i],u[i]=!0);n=r!==!1&&Au(n)}while(n&&(!r||r(n,o))&&n!==Object.prototype);return o},Fv=(n,o,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=o.length;const t=n.indexOf(o,r);return t!==-1&&t===r},Vv=n=>{if(!n)return null;if(Cn(n))return n;let o=n.length;if(!Bf(o))return null;const r=new Array(o);for(;o-- >0;)r[o]=n[o];return r},Hv=(n=>o=>n&&o instanceof n)(typeof Uint8Array<"u"&&Au(Uint8Array)),Gv=(n,o)=>{const t=(n&&n[Symbol.iterator]).call(n);let f;for(;(f=t.next())&&!f.done;){const d=f.value;o.call(n,d[0],d[1])}},Wv=(n,o)=>{let r;const t=[];for(;(r=n.exec(o))!==null;)t.push(r);return t},zv=cs("HTMLFormElement"),qv=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,t,f){return t.toUpperCase()+f}),fd=(({hasOwnProperty:n})=>(o,r)=>n.call(o,r))(Object.prototype),Xv=cs("RegExp"),Vf=(n,o)=>{const r=Object.getOwnPropertyDescriptors(n),t={};hi(r,(f,d)=>{o(f,d,n)!==!1&&(t[d]=f)}),Object.defineProperties(n,t)},Yv=n=>{Vf(n,(o,r)=>{if(Rs(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const t=n[r];if(Rs(t)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Zv=(n,o)=>{const r={},t=f=>{f.forEach(d=>{r[d]=!0})};return Cn(n)?t(n):t(String(n).split(o)),r},Kv=()=>{},$v=(n,o)=>(n=+n,Number.isFinite(n)?n:o),rl="abcdefghijklmnopqrstuvwxyz",pd="0123456789",Hf={DIGIT:pd,ALPHA:rl,ALPHA_DIGIT:rl+rl.toUpperCase()+pd},Qv=(n=16,o=Hf.ALPHA_DIGIT)=>{let r="";const{length:t}=o;for(;n--;)r+=o[Math.random()*t|0];return r};function Jv(n){return!!(n&&Rs(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const eb=n=>{const o=new Array(10),r=(t,f)=>{if(ku(t)){if(o.indexOf(t)>=0)return;if(!("toJSON"in t)){o[f]=t;const d=Cn(t)?[]:{};return hi(t,(i,u)=>{const s=r(i,f+1);!li(s)&&(d[u]=s)}),o[f]=void 0,d}}return t};return r(n,0)},qe={isArray:Cn,isArrayBuffer:Lf,isBuffer:Ev,isFormData:kv,isArrayBufferView:jv,isString:Tv,isNumber:Bf,isBoolean:Cv,isObject:ku,isPlainObject:Xi,isUndefined:li,isDate:Rv,isFile:Mv,isBlob:Pv,isRegExp:Xv,isFunction:Rs,isStream:Ov,isURLSearchParams:Dv,isTypedArray:Hv,isFileList:Av,forEach:hi,merge:Wl,extend:Lv,trim:Iv,stripBOM:Bv,inherits:Uv,toFlatObject:Nv,kindOf:Ou,kindOfTest:cs,endsWith:Fv,toArray:Vv,forEachEntry:Gv,matchAll:Wv,isHTMLForm:zv,hasOwnProperty:fd,hasOwnProp:fd,reduceDescriptors:Vf,freezeMethods:Yv,toObjectSet:Zv,toCamelCase:qv,noop:Kv,toFiniteNumber:$v,findKey:Uf,global:Nf,isContextDefined:Ff,ALPHABET:Hf,generateString:Qv,isSpecCompliantForm:Jv,toJSONObject:eb};function Ot(n,o,r,t,f){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",o&&(this.code=o),r&&(this.config=r),t&&(this.request=t),f&&(this.response=f)}qe.inherits(Ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Gf=Ot.prototype,Wf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Wf[n]={value:n}});Object.defineProperties(Ot,Wf);Object.defineProperty(Gf,"isAxiosError",{value:!0});Ot.from=(n,o,r,t,f,d)=>{const i=Object.create(Gf);return qe.toFlatObject(n,i,function(s){return s!==Error.prototype},u=>u!=="isAxiosError"),Ot.call(i,n.message,o,r,t,f),i.cause=n,i.name=n.name,d&&Object.assign(i,d),i};const tb=null;function zl(n){return qe.isPlainObject(n)||qe.isArray(n)}function zf(n){return qe.endsWith(n,"[]")?n.slice(0,-2):n}function md(n,o,r){return n?n.concat(o).map(function(f,d){return f=zf(f),!r&&d?"["+f+"]":f}).join(r?".":""):o}function rb(n){return qe.isArray(n)&&!n.some(zl)}const ob=qe.toFlatObject(qe,{},null,function(o){return/^is[A-Z]/.test(o)});function Ia(n,o,r){if(!qe.isObject(n))throw new TypeError("target must be an object");o=o||new FormData,r=qe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!qe.isUndefined(v[p])});const t=r.metaTokens,f=r.visitor||m,d=r.dots,i=r.indexes,s=(r.Blob||typeof Blob<"u"&&Blob)&&qe.isSpecCompliantForm(o);if(!qe.isFunction(f))throw new TypeError("visitor must be a function");function h(a){if(a===null)return"";if(qe.isDate(a))return a.toISOString();if(!s&&qe.isBlob(a))throw new Ot("Blob is not supported. Use a Buffer instead.");return qe.isArrayBuffer(a)||qe.isTypedArray(a)?s&&typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function m(a,p,v){let w=a;if(a&&!v&&typeof a=="object"){if(qe.endsWith(p,"{}"))p=t?p:p.slice(0,-2),a=JSON.stringify(a);else if(qe.isArray(a)&&rb(a)||(qe.isFileList(a)||qe.endsWith(p,"[]"))&&(w=qe.toArray(a)))return p=zf(p),w.forEach(function(E,j){!(qe.isUndefined(E)||E===null)&&o.append(i===!0?md([p],j,d):i===null?p:p+"[]",h(E))}),!1}return zl(a)?!0:(o.append(md(v,p,d),h(a)),!1)}const g=[],c=Object.assign(ob,{defaultVisitor:m,convertValue:h,isVisitable:zl});function l(a,p){if(!qe.isUndefined(a)){if(g.indexOf(a)!==-1)throw Error("Circular reference detected in "+p.join("."));g.push(a),qe.forEach(a,function(w,x){(!(qe.isUndefined(w)||w===null)&&f.call(o,w,qe.isString(x)?x.trim():x,p,c))===!0&&l(w,p?p.concat(x):[x])}),g.pop()}}if(!qe.isObject(n))throw new TypeError("data must be an object");return l(n),o}function gd(n){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(t){return o[t]})}function Du(n,o){this._pairs=[],n&&Ia(n,this,o)}const qf=Du.prototype;qf.append=function(o,r){this._pairs.push([o,r])};qf.toString=function(o){const r=o?function(t){return o.call(this,t,gd)}:gd;return this._pairs.map(function(f){return r(f[0])+"="+r(f[1])},"").join("&")};function sb(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xf(n,o,r){if(!o)return n;const t=r&&r.encode||sb,f=r&&r.serialize;let d;if(f?d=f(o,r):d=qe.isURLSearchParams(o)?o.toString():new Du(o,r).toString(t),d){const i=n.indexOf("#");i!==-1&&(n=n.slice(0,i)),n+=(n.indexOf("?")===-1?"?":"&")+d}return n}class nb{constructor(){this.handlers=[]}use(o,r,t){return this.handlers.push({fulfilled:o,rejected:r,synchronous:t?t.synchronous:!1,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){qe.forEach(this.handlers,function(t){t!==null&&o(t)})}}const yd=nb,Yf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ib=typeof URLSearchParams<"u"?URLSearchParams:Du,ab=typeof FormData<"u"?FormData:null,lb=typeof Blob<"u"?Blob:null,ub=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),cb=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Go={isBrowser:!0,classes:{URLSearchParams:ib,FormData:ab,Blob:lb},isStandardBrowserEnv:ub,isStandardBrowserWebWorkerEnv:cb,protocols:["http","https","file","blob","url","data"]};function db(n,o){return Ia(n,new Go.classes.URLSearchParams,Object.assign({visitor:function(r,t,f,d){return Go.isNode&&qe.isBuffer(r)?(this.append(t,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},o))}function hb(n){return qe.matchAll(/\w+|\[(\w*)]/g,n).map(o=>o[0]==="[]"?"":o[1]||o[0])}function fb(n){const o={},r=Object.keys(n);let t;const f=r.length;let d;for(t=0;t<f;t++)d=r[t],o[d]=n[d];return o}function Zf(n){function o(r,t,f,d){let i=r[d++];const u=Number.isFinite(+i),s=d>=r.length;return i=!i&&qe.isArray(f)?f.length:i,s?(qe.hasOwnProp(f,i)?f[i]=[f[i],t]:f[i]=t,!u):((!f[i]||!qe.isObject(f[i]))&&(f[i]=[]),o(r,t,f[i],d)&&qe.isArray(f[i])&&(f[i]=fb(f[i])),!u)}if(qe.isFormData(n)&&qe.isFunction(n.entries)){const r={};return qe.forEachEntry(n,(t,f)=>{o(hb(t),f,r,0)}),r}return null}const pb={"Content-Type":void 0};function mb(n,o,r){if(qe.isString(n))try{return(o||JSON.parse)(n),qe.trim(n)}catch(t){if(t.name!=="SyntaxError")throw t}return(r||JSON.stringify)(n)}const La={transitional:Yf,adapter:["xhr","http"],transformRequest:[function(o,r){const t=r.getContentType()||"",f=t.indexOf("application/json")>-1,d=qe.isObject(o);if(d&&qe.isHTMLForm(o)&&(o=new FormData(o)),qe.isFormData(o))return f&&f?JSON.stringify(Zf(o)):o;if(qe.isArrayBuffer(o)||qe.isBuffer(o)||qe.isStream(o)||qe.isFile(o)||qe.isBlob(o))return o;if(qe.isArrayBufferView(o))return o.buffer;if(qe.isURLSearchParams(o))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let u;if(d){if(t.indexOf("application/x-www-form-urlencoded")>-1)return db(o,this.formSerializer).toString();if((u=qe.isFileList(o))||t.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return Ia(u?{"files[]":o}:o,s&&new s,this.formSerializer)}}return d||f?(r.setContentType("application/json",!1),mb(o)):o}],transformResponse:[function(o){const r=this.transitional||La.transitional,t=r&&r.forcedJSONParsing,f=this.responseType==="json";if(o&&qe.isString(o)&&(t&&!this.responseType||f)){const i=!(r&&r.silentJSONParsing)&&f;try{return JSON.parse(o)}catch(u){if(i)throw u.name==="SyntaxError"?Ot.from(u,Ot.ERR_BAD_RESPONSE,this,null,this.response):u}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Go.classes.FormData,Blob:Go.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};qe.forEach(["delete","get","head"],function(o){La.headers[o]={}});qe.forEach(["post","put","patch"],function(o){La.headers[o]=qe.merge(pb)});const Iu=La,gb=qe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yb=n=>{const o={};let r,t,f;return n&&n.split(`
`).forEach(function(i){f=i.indexOf(":"),r=i.substring(0,f).trim().toLowerCase(),t=i.substring(f+1).trim(),!(!r||o[r]&&gb[r])&&(r==="set-cookie"?o[r]?o[r].push(t):o[r]=[t]:o[r]=o[r]?o[r]+", "+t:t)}),o},vd=Symbol("internals");function Bn(n){return n&&String(n).trim().toLowerCase()}function Yi(n){return n===!1||n==null?n:qe.isArray(n)?n.map(Yi):String(n)}function vb(n){const o=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let t;for(;t=r.exec(n);)o[t[1]]=t[2];return o}function bb(n){return/^[-_a-zA-Z]+$/.test(n.trim())}function ol(n,o,r,t,f){if(qe.isFunction(t))return t.call(this,o,r);if(f&&(o=r),!!qe.isString(o)){if(qe.isString(t))return o.indexOf(t)!==-1;if(qe.isRegExp(t))return t.test(o)}}function wb(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,r,t)=>r.toUpperCase()+t)}function xb(n,o){const r=qe.toCamelCase(" "+o);["get","set","has"].forEach(t=>{Object.defineProperty(n,t+r,{value:function(f,d,i){return this[t].call(this,o,f,d,i)},configurable:!0})})}class Ba{constructor(o){o&&this.set(o)}set(o,r,t){const f=this;function d(u,s,h){const m=Bn(s);if(!m)throw new Error("header name must be a non-empty string");const g=qe.findKey(f,m);(!g||f[g]===void 0||h===!0||h===void 0&&f[g]!==!1)&&(f[g||s]=Yi(u))}const i=(u,s)=>qe.forEach(u,(h,m)=>d(h,m,s));return qe.isPlainObject(o)||o instanceof this.constructor?i(o,r):qe.isString(o)&&(o=o.trim())&&!bb(o)?i(yb(o),r):o!=null&&d(r,o,t),this}get(o,r){if(o=Bn(o),o){const t=qe.findKey(this,o);if(t){const f=this[t];if(!r)return f;if(r===!0)return vb(f);if(qe.isFunction(r))return r.call(this,f,t);if(qe.isRegExp(r))return r.exec(f);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,r){if(o=Bn(o),o){const t=qe.findKey(this,o);return!!(t&&this[t]!==void 0&&(!r||ol(this,this[t],t,r)))}return!1}delete(o,r){const t=this;let f=!1;function d(i){if(i=Bn(i),i){const u=qe.findKey(t,i);u&&(!r||ol(t,t[u],u,r))&&(delete t[u],f=!0)}}return qe.isArray(o)?o.forEach(d):d(o),f}clear(o){const r=Object.keys(this);let t=r.length,f=!1;for(;t--;){const d=r[t];(!o||ol(this,this[d],d,o,!0))&&(delete this[d],f=!0)}return f}normalize(o){const r=this,t={};return qe.forEach(this,(f,d)=>{const i=qe.findKey(t,d);if(i){r[i]=Yi(f),delete r[d];return}const u=o?wb(d):String(d).trim();u!==d&&delete r[d],r[u]=Yi(f),t[u]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const r=Object.create(null);return qe.forEach(this,(t,f)=>{t!=null&&t!==!1&&(r[f]=o&&qe.isArray(t)?t.join(", "):t)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,r])=>o+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...r){const t=new this(o);return r.forEach(f=>t.set(f)),t}static accessor(o){const t=(this[vd]=this[vd]={accessors:{}}).accessors,f=this.prototype;function d(i){const u=Bn(i);t[u]||(xb(f,i),t[u]=!0)}return qe.isArray(o)?o.forEach(d):d(o),this}}Ba.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qe.freezeMethods(Ba.prototype);qe.freezeMethods(Ba);const ns=Ba;function sl(n,o){const r=this||Iu,t=o||r,f=ns.from(t.headers);let d=t.data;return qe.forEach(n,function(u){d=u.call(r,d,f.normalize(),o?o.status:void 0)}),f.normalize(),d}function Kf(n){return!!(n&&n.__CANCEL__)}function fi(n,o,r){Ot.call(this,n??"canceled",Ot.ERR_CANCELED,o,r),this.name="CanceledError"}qe.inherits(fi,Ot,{__CANCEL__:!0});function Sb(n,o,r){const t=r.config.validateStatus;!r.status||!t||t(r.status)?n(r):o(new Ot("Request failed with status code "+r.status,[Ot.ERR_BAD_REQUEST,Ot.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const _b=Go.isStandardBrowserEnv?function(){return{write:function(r,t,f,d,i,u){const s=[];s.push(r+"="+encodeURIComponent(t)),qe.isNumber(f)&&s.push("expires="+new Date(f).toGMTString()),qe.isString(d)&&s.push("path="+d),qe.isString(i)&&s.push("domain="+i),u===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(r){const t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Eb(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function jb(n,o){return o?n.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):n}function $f(n,o){return n&&!Eb(o)?jb(n,o):o}const Tb=Go.isStandardBrowserEnv?function(){const o=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let t;function f(d){let i=d;return o&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return t=f(window.location.href),function(i){const u=qe.isString(i)?f(i):i;return u.protocol===t.protocol&&u.host===t.host}}():function(){return function(){return!0}}();function Cb(n){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return o&&o[1]||""}function Rb(n,o){n=n||10;const r=new Array(n),t=new Array(n);let f=0,d=0,i;return o=o!==void 0?o:1e3,function(s){const h=Date.now(),m=t[d];i||(i=h),r[f]=s,t[f]=h;let g=d,c=0;for(;g!==f;)c+=r[g++],g=g%n;if(f=(f+1)%n,f===d&&(d=(d+1)%n),h-i<o)return;const l=m&&h-m;return l?Math.round(c*1e3/l):void 0}}function bd(n,o){let r=0;const t=Rb(50,250);return f=>{const d=f.loaded,i=f.lengthComputable?f.total:void 0,u=d-r,s=t(u),h=d<=i;r=d;const m={loaded:d,total:i,progress:i?d/i:void 0,bytes:u,rate:s||void 0,estimated:s&&i&&h?(i-d)/s:void 0,event:f};m[o?"download":"upload"]=!0,n(m)}}const Mb=typeof XMLHttpRequest<"u",Pb=Mb&&function(n){return new Promise(function(r,t){let f=n.data;const d=ns.from(n.headers).normalize(),i=n.responseType;let u;function s(){n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}qe.isFormData(f)&&(Go.isStandardBrowserEnv||Go.isStandardBrowserWebWorkerEnv)&&d.setContentType(!1);let h=new XMLHttpRequest;if(n.auth){const l=n.auth.username||"",a=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";d.set("Authorization","Basic "+btoa(l+":"+a))}const m=$f(n.baseURL,n.url);h.open(n.method.toUpperCase(),Xf(m,n.params,n.paramsSerializer),!0),h.timeout=n.timeout;function g(){if(!h)return;const l=ns.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),p={data:!i||i==="text"||i==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:l,config:n,request:h};Sb(function(w){r(w),s()},function(w){t(w),s()},p),h=null}if("onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(g)},h.onabort=function(){h&&(t(new Ot("Request aborted",Ot.ECONNABORTED,n,h)),h=null)},h.onerror=function(){t(new Ot("Network Error",Ot.ERR_NETWORK,n,h)),h=null},h.ontimeout=function(){let a=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const p=n.transitional||Yf;n.timeoutErrorMessage&&(a=n.timeoutErrorMessage),t(new Ot(a,p.clarifyTimeoutError?Ot.ETIMEDOUT:Ot.ECONNABORTED,n,h)),h=null},Go.isStandardBrowserEnv){const l=(n.withCredentials||Tb(m))&&n.xsrfCookieName&&_b.read(n.xsrfCookieName);l&&d.set(n.xsrfHeaderName,l)}f===void 0&&d.setContentType(null),"setRequestHeader"in h&&qe.forEach(d.toJSON(),function(a,p){h.setRequestHeader(p,a)}),qe.isUndefined(n.withCredentials)||(h.withCredentials=!!n.withCredentials),i&&i!=="json"&&(h.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&h.addEventListener("progress",bd(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",bd(n.onUploadProgress)),(n.cancelToken||n.signal)&&(u=l=>{h&&(t(!l||l.type?new fi(null,n,h):l),h.abort(),h=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const c=Cb(m);if(c&&Go.protocols.indexOf(c)===-1){t(new Ot("Unsupported protocol "+c+":",Ot.ERR_BAD_REQUEST,n));return}h.send(f||null)})},Zi={http:tb,xhr:Pb};qe.forEach(Zi,(n,o)=>{if(n){try{Object.defineProperty(n,"name",{value:o})}catch{}Object.defineProperty(n,"adapterName",{value:o})}});const Ab={getAdapter:n=>{n=qe.isArray(n)?n:[n];const{length:o}=n;let r,t;for(let f=0;f<o&&(r=n[f],!(t=qe.isString(r)?Zi[r.toLowerCase()]:r));f++);if(!t)throw t===!1?new Ot(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(qe.hasOwnProp(Zi,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!qe.isFunction(t))throw new TypeError("adapter is not a function");return t},adapters:Zi};function nl(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new fi(null,n)}function wd(n){return nl(n),n.headers=ns.from(n.headers),n.data=sl.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ab.getAdapter(n.adapter||Iu.adapter)(n).then(function(t){return nl(n),t.data=sl.call(n,n.transformResponse,t),t.headers=ns.from(t.headers),t},function(t){return Kf(t)||(nl(n),t&&t.response&&(t.response.data=sl.call(n,n.transformResponse,t.response),t.response.headers=ns.from(t.response.headers))),Promise.reject(t)})}const xd=n=>n instanceof ns?n.toJSON():n;function bn(n,o){o=o||{};const r={};function t(h,m,g){return qe.isPlainObject(h)&&qe.isPlainObject(m)?qe.merge.call({caseless:g},h,m):qe.isPlainObject(m)?qe.merge({},m):qe.isArray(m)?m.slice():m}function f(h,m,g){if(qe.isUndefined(m)){if(!qe.isUndefined(h))return t(void 0,h,g)}else return t(h,m,g)}function d(h,m){if(!qe.isUndefined(m))return t(void 0,m)}function i(h,m){if(qe.isUndefined(m)){if(!qe.isUndefined(h))return t(void 0,h)}else return t(void 0,m)}function u(h,m,g){if(g in o)return t(h,m);if(g in n)return t(void 0,h)}const s={url:d,method:d,data:d,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:u,headers:(h,m)=>f(xd(h),xd(m),!0)};return qe.forEach(Object.keys(n).concat(Object.keys(o)),function(m){const g=s[m]||f,c=g(n[m],o[m],m);qe.isUndefined(c)&&g!==u||(r[m]=c)}),r}const Qf="1.3.4",Lu={};["object","boolean","number","function","string","symbol"].forEach((n,o)=>{Lu[n]=function(t){return typeof t===n||"a"+(o<1?"n ":" ")+n}});const Sd={};Lu.transitional=function(o,r,t){function f(d,i){return"[Axios v"+Qf+"] Transitional option '"+d+"'"+i+(t?". "+t:"")}return(d,i,u)=>{if(o===!1)throw new Ot(f(i," has been removed"+(r?" in "+r:"")),Ot.ERR_DEPRECATED);return r&&!Sd[i]&&(Sd[i]=!0,console.warn(f(i," has been deprecated since v"+r+" and will be removed in the near future"))),o?o(d,i,u):!0}};function Ob(n,o,r){if(typeof n!="object")throw new Ot("options must be an object",Ot.ERR_BAD_OPTION_VALUE);const t=Object.keys(n);let f=t.length;for(;f-- >0;){const d=t[f],i=o[d];if(i){const u=n[d],s=u===void 0||i(u,d,n);if(s!==!0)throw new Ot("option "+d+" must be "+s,Ot.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ot("Unknown option "+d,Ot.ERR_BAD_OPTION)}}const ql={assertOptions:Ob,validators:Lu},ms=ql.validators;class aa{constructor(o){this.defaults=o,this.interceptors={request:new yd,response:new yd}}request(o,r){typeof o=="string"?(r=r||{},r.url=o):r=o||{},r=bn(this.defaults,r);const{transitional:t,paramsSerializer:f,headers:d}=r;t!==void 0&&ql.assertOptions(t,{silentJSONParsing:ms.transitional(ms.boolean),forcedJSONParsing:ms.transitional(ms.boolean),clarifyTimeoutError:ms.transitional(ms.boolean)},!1),f!==void 0&&ql.assertOptions(f,{encode:ms.function,serialize:ms.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i;i=d&&qe.merge(d.common,d[r.method]),i&&qe.forEach(["delete","get","head","post","put","patch","common"],a=>{delete d[a]}),r.headers=ns.concat(i,d);const u=[];let s=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(s=s&&p.synchronous,u.unshift(p.fulfilled,p.rejected))});const h=[];this.interceptors.response.forEach(function(p){h.push(p.fulfilled,p.rejected)});let m,g=0,c;if(!s){const a=[wd.bind(this),void 0];for(a.unshift.apply(a,u),a.push.apply(a,h),c=a.length,m=Promise.resolve(r);g<c;)m=m.then(a[g++],a[g++]);return m}c=u.length;let l=r;for(g=0;g<c;){const a=u[g++],p=u[g++];try{l=a(l)}catch(v){p.call(this,v);break}}try{m=wd.call(this,l)}catch(a){return Promise.reject(a)}for(g=0,c=h.length;g<c;)m=m.then(h[g++],h[g++]);return m}getUri(o){o=bn(this.defaults,o);const r=$f(o.baseURL,o.url);return Xf(r,o.params,o.paramsSerializer)}}qe.forEach(["delete","get","head","options"],function(o){aa.prototype[o]=function(r,t){return this.request(bn(t||{},{method:o,url:r,data:(t||{}).data}))}});qe.forEach(["post","put","patch"],function(o){function r(t){return function(d,i,u){return this.request(bn(u||{},{method:o,headers:t?{"Content-Type":"multipart/form-data"}:{},url:d,data:i}))}}aa.prototype[o]=r(),aa.prototype[o+"Form"]=r(!0)});const Ki=aa;class Bu{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const t=this;this.promise.then(f=>{if(!t._listeners)return;let d=t._listeners.length;for(;d-- >0;)t._listeners[d](f);t._listeners=null}),this.promise.then=f=>{let d;const i=new Promise(u=>{t.subscribe(u),d=u}).then(f);return i.cancel=function(){t.unsubscribe(d)},i},o(function(d,i,u){t.reason||(t.reason=new fi(d,i,u),r(t.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const r=this._listeners.indexOf(o);r!==-1&&this._listeners.splice(r,1)}static source(){let o;return{token:new Bu(function(f){o=f}),cancel:o}}}const kb=Bu;function Db(n){return function(r){return n.apply(null,r)}}function Ib(n){return qe.isObject(n)&&n.isAxiosError===!0}const Xl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xl).forEach(([n,o])=>{Xl[o]=n});const Lb=Xl;function Jf(n){const o=new Ki(n),r=Df(Ki.prototype.request,o);return qe.extend(r,Ki.prototype,o,{allOwnKeys:!0}),qe.extend(r,o,null,{allOwnKeys:!0}),r.create=function(f){return Jf(bn(n,f))},r}const yr=Jf(Iu);yr.Axios=Ki;yr.CanceledError=fi;yr.CancelToken=kb;yr.isCancel=Kf;yr.VERSION=Qf;yr.toFormData=Ia;yr.AxiosError=Ot;yr.Cancel=yr.CanceledError;yr.all=function(o){return Promise.all(o)};yr.spread=Db;yr.isAxiosError=Ib;yr.mergeConfig=bn;yr.AxiosHeaders=ns;yr.formToJSON=n=>Zf(qe.isHTMLForm(n)?new FormData(n):n);yr.HttpStatusCode=Lb;yr.default=yr;const Bb=yr,ui=Bb.create({baseURL:"http://localhost:3000/",withCredentials:!0,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}),Ub=()=>({headers:{Authorization:`Bearer ${Jb()}`}}),_d={0:{0:{0:n=>{},1:n=>{n.resetData()}}}},Nb=(n,o,r,t=!1)=>{const f=r/2,d=r*(2/3);b.stroke(bt),b.strokeWeight(ee.STROKE),b.fill(yu),b.circle(n,o,r*2),b.fill($r),t&&(b.fill(mr),b.strokeWeight(ee.STROKE*3)),b.triangle(n-f,o-d,n-f,o+d,n+d,o)},Fb=(n,o,r,t=!1)=>{const f=r/2,d=r/3,i=r/5;b.stroke(bt),b.strokeWeight(ee.STROKE),b.fill(Nh),b.circle(n,o,r*2),b.fill($r),t&&(b.fill(mr),b.strokeWeight(ee.STROKE*3)),b.triangle(n-d-i,o-f,n-d-i,o+f,n+f-i,o),b.triangle(n-d+i,o-f,n-d+i,o+f,n+f+i,o)},Vb=(n,o,r,t,f=ee.STROKE)=>{const d=r*.9,i=lt.Vector.fromAngle(1.75*b.PI).setMag(d);b.stroke(bt),b.strokeWeight(f),b.fill(wg),b.circle(n,o,r*2),b.fill($r),b.textSize(d*2),b.text("A",n-i.x,o-i.y),t||(b.strokeWeight(5*f),b.line(n-i.x,o-i.y,n+i.x,o+i.y))},ep=ee.HEX_SIZE/2,Hb=ee.HEX_SIZE*2.5,tp=b.height-Hb,rp=ee.HEX_SIZE,Gb=10,Yl=2.5,Wb=3,zb=(n=ep,o=tp,r=rp,t=1,f=!1)=>{let d=n+r;const i=o+r;Vb(d,i,r,f),d+=r*Yl,Nb(d,i,r,t===1),d+=r*Yl,Fb(d,i,r,t>1)},qb=(n,o=ep,r=tp,t=rp,f=!1,d=Gb)=>{const i=b.createVector(b.mouseX,b.mouseY),u=2;for(let s=0;s<Wb;s++){const h=b.createVector(o+Yl*t*s+t,r+t);if(Qt(h,i)<t*t){if(s===0)return[n,!f];if(s===1)return[1,f];if(s===2)return n*2<=d&&n!==0?[n*2,f]:[u,f]}}return[n,f]};class Bt{constructor(o,r,t,f,d,i=ee.HEX_SIZE,u=b.color(Do),s=b.color(bt),h=b.CENTER){V(this,"pos");V(this,"trueX");V(this,"trueY");V(this,"width");V(this,"trueWidth");V(this,"height");V(this,"trueHeight");V(this,"text");V(this,"onClick");V(this,"textSize");V(this,"trueTextSize");V(this,"buttonColor");V(this,"textColor");V(this,"mode");V(this,"id");this.pos=o,this.trueX=this.pos.x/b.windowWidth,this.trueY=this.pos.y/b.windowHeight,this.width=r,this.trueWidth=this.width/b.windowWidth,this.height=t,this.trueHeight=this.height/b.windowHeight,this.text=f,this.onClick=d,this.textSize=i,this.trueTextSize=Wg(this.textSize),this.buttonColor=u,this.textColor=s,this.mode=h,this.id=b.random()}update(){return!1}resize(){this.pos=b.createVector(this.trueX*b.windowWidth,this.trueY*b.windowHeight),this.width=this.trueWidth*b.windowWidth,this.height=this.trueHeight*b.windowHeight,this.textSize=_t(this.trueTextSize)}show(o=b){o.push(),o.strokeWeight(ee.STROKE),o.stroke($r),o.fill(this.buttonColor),o.rectMode(this.mode),o.rect(this.pos.x,this.pos.y,this.width,this.height),o.strokeWeight(0),o.textSize(this.textSize),o.textAlign(b.CENTER,b.CENTER),o.fill(this.textColor),o.text(`${this.text}`,this.pos.x,this.pos.y,this.width,this.height),o.pop()}clicked(){return b.mouseX>this.pos.x-this.width/2&&b.mouseX<this.pos.x+this.width/2&&b.mouseY>this.pos.y-this.height/2&&b.mouseY<this.pos.y+this.height/2}}class Xb extends Bt{constructor(r,t,f,d,i,u,s=ee.HEX_SIZE,h=b.color(Do),m=b.color(bt),g=b.CENTER){super(r,t,f,d,i,s,h,m,g);V(this,"duration");this.duration=u}update(){return this.duration--,this.duration<1}}const op=(n,o,r,t)=>{const f=r/5;b.strokeWeight(ee.STROKE),b.stroke(bt),b.fill(mr),b.rect(n-r/2,o-f/2,r+2,f+2),b.strokeWeight(0),b.fill(yu),b.rect(n-r/2+1,o-f/2+1,r*t,f)},xs=rs(!1),es=rs(),Ms=rs(!1),Yb=(n="No rewards exist yet, sorry",o="No new unlocks")=>{const r=new Bt(b.createVector(b.width/2,b.height/2),b.width*.8,b.height*.8,"",s=>{},ee.HEX_SIZE*2,b.color(Zs)),t=new Bt(b.createVector(b.width/2,b.height*.25),b.width*.7,b.height*.2,"Congratulations! You beat back those pesky heroes and won the day!",s=>{},ee.HEX_SIZE*2,b.color(bu)),f=new Bt(b.createVector(b.width*.3,b.height*.5),b.width*.3,b.height*.2,o,s=>{},ee.HEX_SIZE*1.5,b.color(El)),d=new Bt(b.createVector(b.width*.7,b.height*.5),b.width*.3,b.height*.2,n,s=>{},ee.HEX_SIZE*1.5,b.color(El)),i=new Bt(b.createVector(b.width*.3,b.height*.75),b.width*.3,b.height*.2,"Go back to the main menu",s=>{b.createCanvas(0,0),xs.value=!1,es.value=void 0},ee.HEX_SIZE*2),u=new Bt(b.createVector(b.width*.7,b.height*.75),b.width*.3,b.height*.2,"Continue in freeplay",s=>{at.buttonsDisabled=!1,at.removeButton(r.id),at.removeButton(t.id),at.removeButton(f.id),at.removeButton(d.id),at.removeButton(i.id),at.removeButton(u.id)},ee.HEX_SIZE*2);at.buttons.push(r,t,f,d,i,u)},Zb=()=>{const n=new Bt(b.createVector(b.width/2,b.height/2),b.width*.8,b.height*.8,"",f=>{},ee.HEX_SIZE*2,b.color(Sl)),o=new Bt(b.createVector(b.width/2,b.height/3),b.width*.7,b.height*.2,"Game over! The heroes got you. With the demons and monsters out of the way, the age of infighting for mankind can begin!",f=>{},ee.HEX_SIZE*2,b.color(zs)),r=new Bt(b.createVector(b.width*.3,b.height*.7),b.width*.3,b.height*.2,"Go back to the main menu",f=>{b.createCanvas(0,0),b.windowResized=()=>{},xs.value=!1,es.value=void 0},ee.HEX_SIZE*2),t=new Bt(b.createVector(b.width*.7,b.height*.7),b.width*.3,b.height*.2,"Retry",f=>{at.removeButton(n.id),at.removeButton(o.id),at.removeButton(r.id),at.removeButton(t.id),at.retry()},ee.HEX_SIZE*2);at.buttons.push(n,o,r,t)},$o={upgradeText:"Flavor",noDoubleClick:!1,alwaysAutoStartNextWave:!1,disableWaveMessage:!1,disablePlayerLevelUpMessage:!1,disableTowerLevelUpMessage:!1,keybinds:{SELL:{key:"s",keyCode:83},UPGRADE:{key:"u",keyCode:85},ARCHER_TOWER:{key:"a",keyCode:65},BARRIER_TOWER:{key:"b",keyCode:66},KOBOLD_TOWER:{key:"k",keyCode:75},ARACHNE_TOWER:{key:"w",keyCode:87},PLAGUE_TOWER:{key:"p",keyCode:80},SIREN_TOWER:{key:"z",keyCode:90},PYRO_TOWER:{key:"f",keyCode:70},GRAVI_TOWER:{key:"g",keyCode:71},DRAGON_HOARD_TOWER:{key:"d",keyCode:68},MAGMA_WYRM_TOWER:{key:"m",keyCode:77}}};class Kb{constructor(){V(this,"gameSpeed",0);V(this,"buttonsDisabled",!1);V(this,"autoStartNextWave",!1);V(this,"drawCount",0);V(this,"frameRateSum",0);V(this,"averageFrameRate",0);V(this,"buttons",[]);V(this,"messageButton");V(this,"showMessage",!0);V(this,"beforeMapMade",!1);V(this,"debugOn",!1);V(this,"map",null);V(this,"invisibleUnits",!1);this.messageButton=null}reconstruct(o,r){this.messageButton=null,hy(r),he.buildMapFromJson(o.map.map,Je,Rt),he.setSeed(o.map.seed),Rt.waveReader.spawns[Rt.waveReader.currentSpawn].spawnsNextUnit=!0,Je.maxHp=xl*fr.MAOU_HP_MOD,Je.hp=xl*fr.MAOU_HP_MOD,this.map=o,this.retry(),this.setup(),b.draw=()=>this.draw(),b.mousePressed=()=>this.mousePressed(),b.mouseReleased=()=>this.mouseReleased(),b.doubleClicked=()=>this.doubleClicked(),b.keyPressed=t=>this.keyPressed(t),b.windowResized=()=>this.windowResized(),this.windowResized()}retry(){this.buttonsDisabled=!1,this.beforeMapMade=!0,this.messageButton=null,this.buttons=[],Je.reset(),Rt.reset(),he.reConstructGrid(),he.buildMapFromJson(this.map.map.map,Je,Rt),Rt.waveReader.spawns[Rt.waveReader.currentSpawn].spawnsNextUnit=!0,Je.generateAllNeccesaryPaths()}setup(){b.createCanvas(b.windowWidth,b.windowHeight),b.background(Do),Je.gold=2e4,Je.generateAllNeccesaryPaths()}draw(){b.background(Do),b.strokeWeight(ee.STROKE),zb(ee.HEX_SIZE/2,b.height-ee.HEX_SIZE*2.5,ee.HEX_SIZE,this.gameSpeed,this.autoStartNextWave),he.show(),this.debugOn&&he.showDebug(),Je.show();for(let r=0;r<this.gameSpeed;r++){const t=Rt.update();Je.updateAll(),he.updateTeleporters(),t&&(Je.addXpToCurrentTowers(),Je.onWaveEndTowers(),Rt.waveReader.currentWaveNumber===fr.FINAL_WAVE+1&&this.gameClear(),this.autoStartNextWave||(this.gameSpeed=0,this.showMessage=!0),ln()),Je.hp<=0&&(Zb(),this.gameSpeed=0,this.buttonsDisabled=!0)}if(Je.showUnderProjectiles(),this.invisibleUnits||Rt.show(),Je.showAll(),this.gameSpeed===0&&this.showMessage&&!$o.disableWaveMessage){const r=Rt.waveReader.getMessage(),t=b.height*((r.length*ee.HEX_SIZE*.5>b.width*(11/16)?2:1)/24);this.messageButton=new Bt(b.createVector(b.width*(3/8),b.height*(7/8)),b.min(r.length*ee.HEX_SIZE*.5,b.width*(11/16)),t,r,()=>{this.showMessage=!1},ee.HEX_SIZE,b.color([...Oo,200])),this.messageButton.show()}for(let r=this.buttons.length-1;r>=0;r--)this.buttons[r].update()&&this.buttons.splice(r,1);b.fill(0),b.textSize(ee.TEXT*2),b.strokeWeight(ee.HEX_SIZE/16),b.stroke($r),b.text(`Wave: ${Rt.waveReader.currentWaveNumber}`,ee.HEX_SIZE*1.5,ee.HEX_SIZE*2),b.textSize(ee.TEXT*.9),b.strokeWeight(ee.STROKE),b.text(`Player Level: ${tt.level}`,ee.HEX_SIZE*1.5,ee.HEX_SIZE*3.5),op(ee.HEX_SIZE*4,ee.HEX_SIZE*4.5,ee.HEX_SIZE*5,tt.getXp()/tt.getRequiredXp()),b.strokeWeight(ee.STROKE),b.stroke($r),b.fill($r),b.text(`Hold ${$o.keybinds.SELL.key} to sell`,b.width*(3/4)-ee.HEX_SIZE*6,ee.HEX_SIZE),b.text(`Hold ${$o.keybinds.UPGRADE.key} to upgrade`,b.width*(3/4)-ee.HEX_SIZE*6,ee.HEX_SIZE*2),b.text(`${he.showSeedString}`,b.width*(3/4)-ee.HEX_SIZE*8,b.height-ee.HEX_SIZE/2);const o=he.getHexVectorFromXY(b.mouseX,b.mouseY);for(const r in sr){const t=sr[r];if(b.keyIsDown($o.keybinds[t.settingsKey].keyCode)&&he.rqVectorIsOnGrid(o,he.wallRing)&&Je.gold>=Je.getTowerCost(he.grid[o.x][o.y],t)){const f=he.grid[o.x][o.y];b.push(),b.fill([...t.rgb,100]),b.strokeWeight(ee.STROKE*3),ar(f.pos.x,f.pos.y,ee.HEX_SIZE),t.range>0&&(t.range<6?b.circle(f.pos.x,f.pos.y,t.range*4*ee.HEX_SIZE):b.circle(f.pos.x,f.pos.y,_t(t.range*2))),b.pop()}}if(b.keyIsDown($o.keybinds.SELL.keyCode)&&he.rqVectorIsOnGrid(o,he.wallRing)&&he.grid[o.x][o.y].isTower){const r=he.grid[o.x][o.y];b.push(),b.fill([...si,50]),b.strokeWeight(ee.STROKE),ar(r.pos.x,r.pos.y,ee.HEX_SIZE),b.fill(si),b.strokeWeight(ee.STROKE*2),ni(r.pos.x,r.pos.y,ee.HEX_SIZE*.6),b.pop()}if(b.keyIsDown($o.keybinds.UPGRADE.keyCode)&&he.rqVectorIsOnGrid(o,he.wallRing)&&he.grid[o.x][o.y].isTower){const r=he.grid[o.x][o.y];ty(r.usageData);let t=`
`;for(const u in r.usageData)t+=`${u}: ${r.usageData[u]}
`;const f=ee.HEX_SIZE*16,d=ee.HEX_SIZE*19;new Bt(b.createVector(b.mouseX+f/2,b.mouseY+d/2),f,d,t,()=>{},ee.HEX_SIZE,b.color([...Oo,200])).show()}for(const r of this.buttons)r.show();b.mouseIsPressed&&this.mouseDragged(),Je.buyingTowerType&&this.showDraggingOrBuying(Je.buyingTowerType)}mousePressed(){for(const r of this.buttons)r.clicked()&&r.onClick(r);this.messageButton&&this.messageButton.clicked()&&this.messageButton.onClick();const o=he.getHexVectorFromXY(b.mouseX,b.mouseY);for(const r in sr){const t=sr[r];if(b.keyIsDown($o.keybinds[t.settingsKey].keyCode)){Je.tryPlaceTower(t);return}}if(b.keyIsDown($o.keybinds.SELL.keyCode)&&he.rqVectorIsOnGrid(o,1)&&he.grid[o.x][o.y].isTower){const r=he.grid[o.x][o.y];Je.sellTower(r);return}if(he.rqVectorIsOnGrid(o,he.wallRing)&&he.grid[o.x][o.y].isTower){Je.selectTower(he.grid[o.x][o.y]);return}Je.clickInMenu(b.keyIsDown($o.keybinds.UPGRADE.keyCode)),this.buttonsDisabled||([this.gameSpeed,this.autoStartNextWave]=qb(this.gameSpeed,ee.HEX_SIZE/2,b.height-ee.HEX_SIZE*2.5,ee.HEX_SIZE,this.autoStartNextWave)),b.mouseX<b.width*(3/4)&&Je.deSelectTower()}mouseReleased(){Je.mouseReleased()}mouseDragged(){const o=Je.mouseDragged();o&&this.showDraggingOrBuying(o)}showDraggingOrBuying(o){const r=he.getHexVectorFromXY(b.mouseX,b.mouseY);if(b.push(),he.rqVectorIsOnGrid(r,he.wallRing)&&Je.gold>=Je.getTowerCost(he.grid[r.x][r.y],o)){const t=he.grid[r.x][r.y];b.fill([...o.rgb,120]),b.strokeWeight(ee.STROKE*3),ar(t.pos.x,t.pos.y,ee.HEX_SIZE),o.range>0&&(o.range<6?b.circle(t.pos.x,t.pos.y,o.range*4*ee.HEX_SIZE):b.circle(t.pos.x,t.pos.y,_t(o.range*2)))}else b.fill([...o.rgb,70]),b.strokeWeight(ee.STROKE*3),ar(b.mouseX,b.mouseY,ee.HEX_SIZE),o.range>0&&(o.range<6?b.circle(b.mouseX,b.mouseY,o.range*4*ee.HEX_SIZE):b.circle(b.mouseX,b.mouseY,_t(o.range*2)));b.pop()}doubleClicked(){const o=he.getHexVectorFromXY(b.mouseX,b.mouseY);if(he.rqVectorIsOnGrid(o,he.wallRing)&&he.grid[o.x][o.y].isTower){he.grid[o.x][o.y].castUlt();return}Je.doubleClicked()}keyPressed(o){if(!o.ctrlKey||!b.keyIsDown(67))return;const r=prompt("What cheat would you like to use? (money, lives, ult, unlock, wave:<number> aka wave:5)","");if(r==="money"&&(Je.gold+=1e5),r==="lives"&&(Je.hp+=1e5),r==="xp"&&tt.addXp(1e9,Je.towers),r==="unlock"){for(const t in Tl)tt.unlockDifficulty(t);for(const t of gx)tt.unlockMapComplexity(t);tt.allTowerUnlocksCheat()}if(r==="random"&&Je.randomlyUseGold(),r==="reset"&&Qb(),r==="debug"&&(this.debugOn=!this.debugOn),r==="invis"&&(this.invisibleUnits=!this.invisibleUnits),r==="ult")for(const t of Je.towers)t.ultCurrentCooldown=0;if((r==null?void 0:r.substring(0,4))==="wave"){const t=parseInt(r.substring(5));!Number.isNaN(t)&&t<1e3&&(Rt.waveReader.currentWaveNumber=t-1)}if((r==null?void 0:r.substring(0,1))==="w"){const t=parseInt(r.substring(1));!Number.isNaN(t)&&t<1e3&&(Je.gold+=Rt.waveReader.skipToWaveWithProperGold(t))}if((r==null?void 0:r.substring(0,1))==="r"){const t=parseInt(r.substring(1));!Number.isNaN(t)&&t<1e3&&(Je.gold+=Rt.waveReader.skipToWaveWithProperGold(t),Je.randomlyUseGold())}}windowResized(){Eu(),Rt.resize(),he.resize(),Je.resize();for(const o of this.buttons)o.resize();b.resizeCanvas(b.windowWidth,b.windowHeight)}addLevelUpMessage(o){this.gameSpeed=0,this.buttons.push(new Bt(b.createVector(b.width/2,b.height/2),b.width*(2/3),b.height/2,o,r=>{this.removeButton((r==null?void 0:r.id)??0),this.gameSpeed=1},ee.HEX_SIZE*2,b.color(Es)))}removeButton(o){for(let r=0;r<this.buttons.length;r++)if(this.buttons[r].id===o){this.buttons.splice(r,1);return}}addTowerUnlockMessage(o){this.buttons.push(new Xb(b.createVector(b.width*(3/8),b.height*((7-this.buttons.length)/8)),b.width*(7/16),b.height*(1/10),`${o} level up! Congratuations!`,r=>{this.removeButton((r==null?void 0:r.id)??0)},1e3,ee.HEX_SIZE,b.color([...Oo,200])))}gameClear(){var f;const o=[],r=dy(fr.name);tt.unlockedDifficulties[r]||(tt.unlockedDifficulties[r]=!0,o.push(`Unlocked ${r} difficulty`));const t=yx((f=this.map)==null?void 0:f.complexity);tt.unlockedMapComplexities[t]||(tt.unlockedMapComplexities[t]=!0,o.push(`Unlocked ${t} maps`)),Yb("No rewards yet",o.length>0?o.join(`
`):void 0),this.gameSpeed=0,this.buttonsDisabled=!0}}let at=new Kb;const $b=(n,o)=>{at.reconstruct(n,o)},Ed={2:()=>{tt.towersData.Barricade.unlocked=!0,at==null||at.addLevelUpMessage("Level up! Congratulations, you unlocked the Barricade! You can use it to set up your maze cheaply and early.")},3:()=>{tt.towersData.Kobold.unlocked=!0,at==null||at.addLevelUpMessage("Level up! Congratulations, you unlocked the Kobold! It fires fast in a small radius, and fires even faster when it gets fired up.")},4:()=>{tt.towersData.Arachne.unlocked=!0,at==null||at.addLevelUpMessage("Level up! Congratulations, you unlocked the Arachne! She can spin webs that slow your enemies.")},5:()=>{tt.towersData["Plague Slinger"].unlocked=!0,at==null||at.addLevelUpMessage("Level up! Congratulations, you unlocked the Plague Slinger! Plague Slingers throw vials of poison at your enemies, slow working, but high damage potential, especially against armor.")},6:()=>{tt.towersData.Siren.unlocked=!0,at==null||at.addLevelUpMessage("Level up! Congratulations, you unlocked the Siren! Only place this tower in the water! The Siren sings a song that entrances your enemies into abandoning their quest and seeking the Siren, sadly damage can break the trance.")},7:()=>{tt.towersData.Pyromaniac.unlocked=!0,at==null||at.addLevelUpMessage("Level up! Congratulations, you unlocked the Pyromaniac! Armed with a short range flame thrower and the ability to learn various other fire attacks, the Pyro is a high damage elite.")},8:()=>{tt.towersData["Gravi-tech Tower"].unlocked=!0,at==null||at.addLevelUpMessage("Level up! Congratulations, you unlocked the Gravi-tech Tower! The Gravi-tech emits a gravitational field around itself that pulls enemies in, the heavier the unit, the stronger the effect, but overcharges when too many enemies enter its field.")},9:()=>{tt.towersData["Dragon Hoard"].unlocked=!0,at==null||at.addLevelUpMessage("Level up! Congratulations, you unlocked the Dragon Hoard! Dragon Hoards are expensive, but magically generate more gold every round. And who knows, you might even be able to attract a dragon.")},10:()=>{tt.towersData["Magma Wyrm"].unlocked=!0,at==null||at.addLevelUpMessage("Level up! Congratulations, you unlocked the Magma Wyrm! You can only place this tower in lava! Like all lava towers, the Magma Wyrm expires after a certain number of turns, visible through the stars around its symbol, turning the lava tile into an unstable one. A cheap and strong tower, but only for a short time. You get no money back for selling Lava towers!")},11:()=>{tt.transmutationEssence+=110,at==null||at.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},12:()=>{tt.transmutationEssence+=120,at==null||at.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},13:()=>{tt.transmutationEssence+=130,at==null||at.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},14:()=>{tt.transmutationEssence+=140,at==null||at.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},15:()=>{tt.transmutationEssence+=150,at==null||at.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},16:()=>{tt.transmutationEssence+=160,at==null||at.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},17:()=>{tt.transmutationEssence+=170,at==null||at.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},18:()=>{tt.transmutationEssence+=180,at==null||at.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},19:()=>{tt.transmutationEssence+=190,at==null||at.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},20:()=>{tt.transmutationEssence+=200,at==null||at.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")}};class wn{constructor(o,r,t=!0){V(this,"username");V(this,"email");V(this,"guestUser");V(this,"lastUpdatedVersion");V(this,"transmutationEssence");V(this,"level");V(this,"xp");V(this,"xpRequired");V(this,"towersData");V(this,"unlockedMapComplexities");V(this,"unlockedDifficulties");this.username=o,this.email=r,this.guestUser=t,this.lastUpdatedVersion="0.0.0",this.level=1,this.xp=0,this.xpRequired=this.calcRequiredXp(),this.towersData={};for(const f in sr)this.towersData[sr[f].name]={unlocked:!1,xp:0,xpRequired:this.calcRequiredXp(1),unlocksAvailable:0,upgradesUnlocked:["A","B","C"],mods:{1:-1,2:-1,3:-1}};this.towersData.Archer.unlocked=!0,this.unlockedMapComplexities={Simple:!0,Average:!1,Complex:!1,Evil:!1},this.unlockedDifficulties={Easy:!0,Normal:!1,Hard:!1,Extreme:!1},this.transmutationEssence=0}addXp(o,r){this.xp+=o,this.xp>=this.xpRequired&&this.levelUp();const t=o/r.length;for(const f of r)this.towersData[f.name].xp+=t,this.towersData[f.name].xp>=this.towersData[f.name].xpRequired&&(this.towerAddUnlock(this.towersData[f.name]),at.addTowerUnlockMessage(f.name))}levelUp(){this.xp-=this.xpRequired,this.level++,this.xpRequired=this.calcRequiredXp(),this.level in Ed&&Ed[this.level]()}towerAddUnlock(o){o.xp-=o.xpRequired,o.unlocksAvailable++;const r=o.unlocksAvailable+o.upgradesUnlocked.length-2;o.xpRequired=this.calcRequiredXp(r)}getXp(){return b.floor(this.xp)}getRequiredXp(){return b.ceil(this.xpRequired)}calcRequiredXp(o=this.level){return b.round(Math.pow(o,lg+o/10)*ug)}towerUnlockUpgrade(o,r){return this.towersData[o].unlocksAvailable<1||r in this.towersData[o].upgradesUnlocked?!1:(this.towersData[o].upgradesUnlocked.push(r),this.towersData[o].unlocksAvailable--,!0)}checkAndRunVersionUpdates(){if(this.lastUpdatedVersion===td)return;const o=this.lastUpdatedVersion.split(".");for(const r in _d){const t=_d[r];for(const f in t){const d=t[f];for(const i in d)(parseInt(r)>parseInt(o[0])||parseInt(r)===parseInt(o[0])&&(parseInt(f)>parseInt(o[1])||parseInt(f)===parseInt(o[1])&&parseInt(i)>parseInt(o[2])))&&d[i](this)}}this.lastUpdatedVersion=td}resetData(){const o=new wn(this.username,this.email,this.guestUser);for(const r in o)this[r]=o[r]}unlockDifficulty(o){this.unlockedDifficulties[o]=!0,ln()}unlockMapComplexity(o){this.unlockedMapComplexities[o]=!0,ln()}allTowerUnlocksCheat(){for(const o in sr)this.towersData[sr[o].name].unlocked=!0,this.towersData[sr[o].name].unlocksAvailable=12}setToDataFromServer(o){this.guestUser=!1,this.username=o.username,this.email=o.email,this.lastUpdatedVersion=o.last_updated_version,this.transmutationEssence=o.transmutation_essence,this.level=o.level,this.xp=o.xp,this.xpRequired=this.calcRequiredXp(),this.unlockedMapComplexities.Average=o.unlocked_complexities>1,this.unlockedMapComplexities.Complex=o.unlocked_complexities>2,this.unlockedMapComplexities.Evil=o.unlocked_complexities>3,this.unlockedDifficulties.Normal=o.unlocked_difficulties>1,this.unlockedDifficulties.Hard=o.unlocked_difficulties>2,this.unlockedDifficulties.Extreme=o.unlocked_difficulties>3;for(const r of o.towers){this.towersData[r.tower_name].unlocked=r.unlocked,this.towersData[r.tower_name].xp=r.xp,this.towersData[r.tower_name].unlocksAvailable=r.unlocks_available,this.towersData[r.tower_name].mods[1]=r.mod_1,this.towersData[r.tower_name].mods[2]=r.mod_2,this.towersData[r.tower_name].mods[3]=r.mod_3,this.towersData[r.tower_name].upgradesUnlocked=r.upgrades_unlocked.split(":");const t=this.towersData[r.tower_name].unlocksAvailable+this.towersData[r.tower_name].upgradesUnlocked.length-2;this.towersData[r.tower_name].xpRequired=this.calcRequiredXp(t)}this.checkAndRunVersionUpdates(),ln()}setToLocalStorageData(o=!1,r="",t="fake@fake.fake"){let f=new wn("","fake@fake.fake");localStorage.getItem("guestUser")&&(f=JSON.parse(localStorage.getItem("guestUser")));for(const d in f)this[d]=f[d];o&&(this.username=r,this.email=t,this.guestUser=!1),this.checkAndRunVersionUpdates(),ln()}}const sp=(n="",o="fake@fake.fake",r=!0)=>{const t=new wn(n,o),f=r?"guestUser":"user";if(localStorage.getItem(f)){const d=JSON.parse(localStorage.getItem(f));for(const i in d)t[i]=d[i]}return t.checkAndRunVersionUpdates(),t},ln=async()=>{const n=tt.guestUser?"guestUser":"user";if(localStorage.setItem(n,JSON.stringify(tt)),!tt.guestUser)try{await ui.post("/users/update",ew(),Ub())}catch(o){console.log(o)}},Qb=(n="Nameless",o="tester@hotmail.com",r=tt.guestUser)=>{const t=new wn(n,o,r);for(const f in t)tt[f]=t[f];tt.checkAndRunVersionUpdates(),ln()},Uu=n=>{localStorage.setItem("JWT",n)},Jb=()=>localStorage.getItem("JWT"),ew=()=>{const n=new wn(tt.username,tt.email,!1);n.guestUser=tt.guestUser,n.username=tt.username,n.email=tt.email,n.lastUpdatedVersion=tt.lastUpdatedVersion,n.transmutationEssence=b.round(tt.transmutationEssence),n.level=b.round(tt.level),n.xp=b.floor(tt.xp),n.xpRequired=b.round(tt.xpRequired),n.unlockedMapComplexities.Average=tt.unlockedMapComplexities.Average,n.unlockedMapComplexities.Complex=tt.unlockedMapComplexities.Complex,n.unlockedMapComplexities.Evil=tt.unlockedMapComplexities.Evil,n.unlockedDifficulties.Normal=tt.unlockedDifficulties.Normal,n.unlockedDifficulties.Hard=tt.unlockedDifficulties.Hard,n.unlockedDifficulties.Extreme=tt.unlockedDifficulties.Extreme;for(const o in tt.towersData)n.towersData[o].unlocked=tt.towersData[o].unlocked,n.towersData[o].xp=b.floor(tt.towersData[o].xp),n.towersData[o].unlocksAvailable=b.round(tt.towersData[o].unlocksAvailable),n.towersData[o].mods[1]=b.round(tt.towersData[o].mods[1]),n.towersData[o].mods[2]=b.round(tt.towersData[o].mods[2]),n.towersData[o].mods[3]=b.round(tt.towersData[o].mods[3]),n.towersData[o].upgradesUnlocked=tt.towersData[o].upgradesUnlocked,n.towersData[o].xpRequired=b.round(tt.towersData[o].xpRequired);return n},tw=sp(),tt=tw,jd=(n,o,r,t=0,f=Oo,d=ee.STROKE)=>{const i=r/2,u=r/4,s=r*(3/8);b.push(),b.strokeWeight(d),b.fill(bt),b.translate(n,o),b.rotate(t),b.beginShape(),b.vertex(-i,-s),b.quadraticVertex(-i,-i,-s,-i),b.vertex(s,-i),b.quadraticVertex(i,-i,i,-s),b.vertex(i,s),b.quadraticVertex(i,i,s,i),b.vertex(-s,i),b.quadraticVertex(-i,i,-i,s),b.endShape(b.CLOSE),b.noFill(),b.strokeWeight(d*4),b.curve(-u*1.3,r*2.5,-u*1.3,-i,u*1.3,-i,u*1.3,r*2.5),b.strokeWeight(0),b.fill(f),b.circle(0,-u/2,u),b.rect(-r/16,-u/2,r/8,r/3),b.pop()};class rw{constructor(o,r={}){V(this,"maxHp");V(this,"hp");V(this,"gold");V(this,"color");V(this,"menuColor");V(this,"menuTowerSize");V(this,"selectedTower");V(this,"selectedTowerType");V(this,"draggingTowerType");V(this,"buyingTowerType");V(this,"selectedUpgrade");V(this,"buyingMultiple");V(this,"bases");V(this,"towers");V(this,"underProjectiles");V(this,"projectiles");V(this,"minions");V(this,"obstacles");V(this,"visualEffects");V(this,"totalVisuals");V(this,"maxLowPriorityVisuals");V(this,"lowPriorityVisualsOkay");V(this,"pathsToGenerate");V(this,"accumulatedXp");V(this,"nextTargetingButton");V(this,"previousTargetingButton");V(this,"upgradeButton");V(this,"sellButton");V(this,"buildManyButton");V(this,"buildButton");V(this,"menuStartX");V(this,"menuWidth");V(this,"menuWidthPercent");V(this,"menuHeightPercent");V(this,"mainMenuStartY");V(this,"mainMenuHeight");V(this,"infoMenuY");V(this,"menuTowerPositions");this.maxHp=o*fr.MAOU_HP_MOD,this.hp=this.maxHp,this.gold=1500,this.color=r.color??b.color(Zs),this.menuColor=r.menuColor??b.color(Tg),this.menuTowerSize=ee.HEX_SIZE*1.2,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedTowerType=null,this.draggingTowerType=null,this.buyingTowerType=null,this.selectedUpgrade=null,this.buyingMultiple=!1,this.projectiles=[],this.underProjectiles=[],this.visualEffects=[],this.totalVisuals=0,this.maxLowPriorityVisuals=1e3,this.lowPriorityVisualsOkay=!0,this.minions=[],this.obstacles=[],this.pathsToGenerate=[],this.accumulatedXp=0,this.nextTargetingButton=new Bt(b.createVector(0,0),0,0,"",()=>{}),this.previousTargetingButton=new Bt(b.createVector(0,0),0,0,"",()=>{}),this.upgradeButton=new Bt(b.createVector(0,0),0,0,"",()=>{}),this.sellButton=new Bt(b.createVector(0,0),0,0,"",()=>{}),this.buildButton=new Bt(b.createVector(0,0),0,0,"",()=>{}),this.buildManyButton=new Bt(b.createVector(0,0),0,0,"",()=>{}),this.menuStartX=b.width*(3/4),this.menuWidth=b.width-this.menuStartX,this.menuWidthPercent=this.menuWidth/100,this.menuHeightPercent=b.height/100,this.mainMenuStartY=this.menuHeightPercent*15,this.mainMenuHeight=b.height-this.mainMenuStartY,this.infoMenuY=this.mainMenuStartY+this.mainMenuHeight/2,this.menuTowerPositions=this.setSideMenuTowerPositions()}reset(){this.hp=this.maxHp,this.gold=1500,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedUpgrade=null,this.selectedTowerType=null,this.draggingTowerType=null,this.buyingTowerType=null,this.buyingMultiple=!1,this.projectiles=[],this.visualEffects=[],this.minions=[],this.obstacles=[],this.pathsToGenerate=[],this.accumulatedXp=0,this.upgradeButton=new Bt(b.createVector(0,0),0,0,"",()=>{}),this.sellButton=new Bt(b.createVector(0,0),0,0,"",()=>{}),this.buildButton=new Bt(b.createVector(0,0),0,0,"",()=>{}),this.buildManyButton=new Bt(b.createVector(0,0),0,0,"",()=>{}),this.menuStartX=b.width*(3/4),this.menuWidth=b.width-this.menuStartX,this.menuWidthPercent=this.menuWidth/100,this.menuHeightPercent=b.height/100,this.mainMenuStartY=this.menuHeightPercent*15,this.mainMenuHeight=b.height-this.mainMenuStartY,this.infoMenuY=this.mainMenuStartY+this.mainMenuHeight/2,this.menuTowerPositions=this.setSideMenuTowerPositions()}resize(){this.menuTowerSize=ee.HEX_SIZE*1.2;for(const o of this.projectiles)o.resize();for(const o of this.underProjectiles)o.resize();for(const o of this.visualEffects)o.resize();for(const o of this.minions)o.resize();for(const o of this.obstacles)o.resize()}recalcMenuSizes(){this.menuStartX=b.width*(3/4),this.menuWidth=b.width-this.menuStartX,this.menuWidthPercent=this.menuWidth/100,this.menuHeightPercent=b.height/100,this.mainMenuStartY=this.menuHeightPercent*15,this.mainMenuHeight=b.height-this.mainMenuStartY,this.infoMenuY=this.mainMenuStartY+this.mainMenuHeight/2,this.menuTowerPositions=this.setSideMenuTowerPositions()}show(){this.recalcMenuSizes(),b.strokeWeight(ee.HEX_SIZE/12),b.fill(this.menuColor),b.stroke(bt),b.rect(this.menuStartX,0,this.menuWidth,b.height),b.line(this.menuStartX,this.mainMenuStartY,b.width,this.mainMenuStartY),b.textSize(ee.HEX_SIZE*1.5),b.fill(0),b.text(`${b.floor(this.gold)}`,this.menuStartX+this.menuWidthPercent*10,this.menuHeightPercent*8),b.text(`${b.floor(this.hp)}`,this.menuStartX+this.menuWidthPercent*60,this.menuHeightPercent*8),b.fill(si),ni(this.menuStartX+this.menuWidthPercent*40,this.menuHeightPercent*8-ee.HEX_SIZE*.5,ee.HEX_SIZE*.8),Ug(this.menuStartX+this.menuWidthPercent*90,this.menuHeightPercent*8-ee.HEX_SIZE*.5,ee.HEX_SIZE*1.4),b.strokeWeight(ee.STROKE*2),b.line(this.menuStartX,this.infoMenuY,b.width,this.infoMenuY),this.selectedTower?this.showSelectedTower():this.showTowerMenu()}setSideMenuTowerPositions(){const o={},r=b.createVector(this.menuStartX+this.menuWidthPercent*15,this.mainMenuStartY+this.menuHeightPercent*8),t=0,f=ee.HEX_SIZE*3;let d=0,i=1;for(const u in sr){const s=parseInt(u),h=b.createVector(r.x+b.cos(t)*f*d,r.y+b.sin(t)*f*d);o[s]=h.copy(),d++,d>4&&(d=0,r.x+=b.cos(b.PI/3*i)*f,r.y+=b.sin(b.PI/3*i)*f,i=i*2%3)}return o}showTowerMenu(){b.push(),b.strokeWeight(ee.STROKE);for(const o in sr){const r=parseInt(o),t=sr[r],f=this.menuTowerPositions[r];b.fill(t.rgb),ar(f.x,f.y,this.menuTowerSize),tt.towersData[t.name].unlocked?t.showSymbol(b.createVector(f.x,f.y),this.menuTowerSize,{}):(b.push(),b.fill(bt),jd(f.x,f.y,ee.HEX_SIZE),b.pop())}b.pop(),this.selectedTowerType&&this.showTowerTypeInfo()}showSelectedTower(){if(!this.selectedTower)return;b.push(),this.selectedTower.showRange();const o=b.createVector(b.width-ee.HEX_SIZE*2,this.mainMenuStartY+ee.HEX_SIZE),r=ee.HEX_SIZE,t=b.createVector(this.menuStartX+this.menuWidth/2,this.mainMenuStartY+this.mainMenuHeight/4);b.fill(bo),Bg(o.x+r/2,o.y+r/2,r,1),b.textAlign(b.CENTER,b.CENTER),b.strokeWeight(ee.STROKE),b.textSize(ee.HEX_SIZE),b.fill(bt),tt.towersData[this.selectedTower.name].upgradesUnlocked.length<15&&(b.text(`Unlocks Available: ${tt.towersData[this.selectedTower.name].unlocksAvailable}`,t.x-this.menuWidthPercent*10,t.y+this.menuHeightPercent*19),op(t.x+this.menuWidthPercent*30,t.y+this.menuHeightPercent*19,this.menuWidthPercent*20,b.min(tt.towersData[this.selectedTower.name].xp/tt.towersData[this.selectedTower.name].xpRequired,1))),this.selectedTower.show(t),b.textSize(ee.HEX_SIZE*.6);let f=0,d=0,i=ee.HEX_SIZE*2;for(const u in this.selectedTower.upgrades){const s=this.selectedTower.upgrades[u],h=b.createVector(t.x+b.cos(d)*i,t.y+b.sin(d)*i);s.purchased?b.fill(yu):s.available?b.fill(ri):b.fill(Sl),b.strokeWeight(ee.STROKE),this.selectedUpgrade===s&&b.strokeWeight(ee.STROKE*3),ar(h.x,h.y,ee.HEX_SIZE),b.fill(bt),b.strokeWeight(ee.STROKE),tt.towersData[this.selectedTower.name].upgradesUnlocked.includes(u)?b.text(u,h.x,h.y):jd(h.x,h.y,ee.HEX_SIZE*.8),d+=b.TWO_PI/3,f++,f%3===0&&(i+=ee.HEX_SIZE*2,f===6&&(i-=ee.HEX_SIZE*4,d+=b.PI/3))}if(this.selectedUpgrade){const u=this.menuStartX+this.menuWidthPercent*50;b.strokeWeight(ee.STROKE),b.textSize(ee.HEX_SIZE),b.text(`${this.selectedUpgrade.name}`,u,this.infoMenuY+this.menuHeightPercent*3),b.text(`Cost: ${this.getTowerUpgradeCost(this.selectedTower,this.selectedUpgrade,this.selectedTower.name)}`,u,this.infoMenuY+this.menuHeightPercent*7),b.rectMode(b.CENTER),b.textSize(ee.HEX_SIZE*(180/b.max(this.selectedUpgrade.flavorDescription.length,180))),b.stroke($r),b.text(`${this.selectedUpgrade.flavorDescription}`,u,this.infoMenuY+this.menuHeightPercent*17,this.menuWidthPercent*95,this.menuHeightPercent*20),this.upgradeButton=new Bt(b.createVector(u,this.infoMenuY+this.menuHeightPercent*35),this.menuWidthPercent*35,this.menuHeightPercent*5,tt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedUpgrade.purchased?"Obtained":"Purchase":"Unlock",()=>{!this.selectedTower||!this.selectedUpgrade||!this.selectedUpgrade.available||(tt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.tryPurchaseUpgrade(this.selectedTower,this.selectedUpgrade):tt.towersData[this.selectedTower.name].unlocksAvailable>0&&tt.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id))},ee.HEX_SIZE*1.2,this.selectedUpgrade.available?b.color(ri):b.color(Sl),b.color(bt)),this.upgradeButton.show()}else{b.textAlign(b.CENTER,b.CENTER),b.strokeWeight(ee.STROKE),b.textSize(ee.HEX_SIZE*1.2),b.fill(bt),b.rectMode(b.CENTER);const u=sr[this.selectedTower.towerId];b.text(`${u.name}`,t.x,this.infoMenuY+this.menuHeightPercent*5),b.textSize(ee.HEX_SIZE*(180/b.max(u.description.length,180))),b.text(`${u.description}`,t.x,this.infoMenuY+this.menuHeightPercent*15,this.menuWidthPercent*95,this.menuHeightPercent*16),this.selectedTower.showTargetingType&&(b.stroke(Oo),b.text(`Targeting: ${pn[this.selectedTower.targetingType].name}`,t.x,this.infoMenuY+this.menuHeightPercent*25)),b.textSize(ee.HEX_SIZE*(180/b.max(this.selectedTower.extraMenuShowText.length,180))),b.stroke($r),b.text(`${this.selectedTower.extraMenuShowText}`,t.x,this.infoMenuY+this.menuHeightPercent*30,this.menuWidthPercent*95,this.menuHeightPercent*16),this.sellButton=new Bt(b.createVector(t.x,this.infoMenuY+this.menuHeightPercent*38),this.menuWidthPercent*35,this.menuHeightPercent*4,`Sell (${this.selectedTower.sellValue})`,()=>{this.selectedTower&&this.sellTower(this.selectedTower)},ee.HEX_SIZE*1.2,b.color(Gs),b.color(bt)),this.sellButton.show()}b.pop()}showTowerTypeInfo(){if(!this.selectedTowerType)return;b.push();const o=b.createVector(this.menuStartX+this.menuWidth/2,this.mainMenuStartY+this.mainMenuHeight/4),r=this.mainMenuStartY+this.mainMenuHeight/2;b.textAlign(b.CENTER,b.CENTER),b.strokeWeight(ee.STROKE),b.textSize(ee.HEX_SIZE),b.fill(bt),b.rectMode(b.CENTER),b.text(`${this.selectedTowerType.name} (${this.selectedTowerType.hotkey})`,o.x,r+this.menuHeightPercent*5),b.text(`${this.selectedTowerType.description}`,o.x,r+this.menuHeightPercent*15,this.menuWidthPercent*90,this.menuHeightPercent*20),this.buildButton=new Bt(b.createVector(o.x-this.menuWidthPercent*27,r+this.menuHeightPercent*38),this.menuWidthPercent*40,this.menuHeightPercent*6,`Build (${b.round(this.selectedTowerType.cost*fr.TOWER_COST_MOD)})`,()=>{this.selectedTowerType&&(this.buyingTowerType=this.selectedTowerType)},ee.HEX_SIZE*1.2,b.color(Gs),b.color(bt)),this.buildManyButton=new Bt(b.createVector(o.x+this.menuWidthPercent*27,r+this.menuHeightPercent*38),this.menuWidthPercent*40,this.menuHeightPercent*6,"Build Multiple",()=>{this.selectedTowerType&&(this.buyingTowerType=this.selectedTowerType,this.buyingMultiple=!0)},ee.HEX_SIZE*1.2,b.color(Gs),b.color(bt)),this.buildButton.show(),this.buildManyButton.show(),b.pop()}updateAll(){this.updateTowers(),this.updateProjectiles(),this.updateMinions(),this.updateObstacles(),this.updateAndShowVisuals()}showAll(o=!1){this.showObstacles(),this.showMinions(),this.showProjectiles(),this.onlyShowVisuals()}generateAllNeccesaryPaths(){he.generateAllPathsThroughFloodFill(Rt.spawners,this.bases),he.generateAllPathsThroughFloodFill(Rt.spawners,this.bases,!1,dg,1);for(const o of this.pathsToGenerate)he.generateAllPathsThroughFloodFill(Rt.spawners,o.origin,!1,o.name,o.waterCost,o.stopAfter,o.customNextName)}addCustomPath(o){this.pathsToGenerate.push(o),this.generateAllNeccesaryPaths()}removeCustomPath(o){for(let r=this.pathsToGenerate.length-1;r>=0;r--)this.pathsToGenerate[r].name===o&&this.pathsToGenerate.splice(r,1);this.generateAllNeccesaryPaths()}moveBuffs(o,r){for(const t of o.buffs)r.applyBuff(t)}tryPlaceTower(o,r){const t=r?he.getHexVectorFromXY(r.x,r.y):he.getHexVectorFromXY(b.mouseX,b.mouseY);if(he.rqVectorIsOnGrid(t,he.wallRing)&&this.gold>=this.getTowerCost(he.grid[t.x][t.y],o)){const f=he.grid[t.x][t.y],d=f.wall;f.wall=!0;const i=f.canUnit;f.canUnit=!1;const u=f.canWaterUnit;f.canWaterUnit=!1,he.generateAllPathsThroughFloodFill(Rt.spawners,this.bases,!0)&&!f.isTower&&this.placeTower(o.id,f)||(f.wall=d,f.canUnit=i,f.canWaterUnit=u);return}}placeTower(o,r){const t=sr[o];let f="canTower";if(t.towerType==="WATER"&&(f="canWaterTower"),t.towerType==="LAVA"&&(f="canLavaTower"),r.isTower||!r[f]||!tt.towersData[t.name].unlocked)return!1;const d=this.getTowerCost(r,t),i=_v.getTower(o,r,{changedCost:d});return this.towers.push(i),he.addTowerToGrid(i),this.moveBuffs(r,i),this.gold-=d,this.generateAllNeccesaryPaths(),!0}getTowerCost(o,r){return this.checkCostThroughBuffs(o,b.round(r.cost*fr.TOWER_COST_MOD),r.name)}checkCostThroughBuffs(o,r,t){let f=r;for(const d of o.buffs)f=d.onPurchase(o,f,t);return f}tryPurchaseUpgrade(o,r){if(r.purchased||!r.available)return!1;const t=this.getTowerUpgradeCost(o,r,o.name);return this.gold<t?!1:(this.gold-=t,o.purchaseUpgrade(r,t),!0)}getTowerUpgradeCost(o,r,t){return this.checkUpgradeCostThroughBuffs(o,b.round(r.cost*fr.TOWER_COST_MOD),t)}checkUpgradeCostThroughBuffs(o,r,t){let f=r;for(const d of o.buffs)f=d.onSkillPurchase(o,f,t);return f}sellTower(o){if(!o.isTower)return!1;for(let r=this.towers.length-1;r>=0;r--)this.towers[r].r===o.r&&this.towers[r].q===o.q&&(this.towers[r].onSell(),this.gold+=b.round(this.towers[r].sellValue),this.towers.splice(r,1));return he.removeTowerFromGrid(o),this.moveBuffs(o,he.grid[o.r][o.q]),this.deSelectTower(),this.generateAllNeccesaryPaths(),!0}selectTower(o){this.selectedUpgrade=null,this.selectedTower=o}deSelectTower(){this.selectedTower=null,this.selectedUpgrade=null}clickInMenu(o=!1){if(this.buyingTowerType){this.tryPlaceTower(this.buyingTowerType);const f=he.getHexVectorFromXY(b.mouseX,b.mouseY);he.rqVectorIsOnGrid(f,he.wallRing)&&this.buyingMultiple||(this.buyingTowerType=null,this.buyingMultiple=!1)}if(!this.selectedTower){this.clickMenuTowerSelect(),this.selectedTowerType&&(this.buildButton.clicked()&&this.buildButton.onClick(),this.buildManyButton.clicked()&&this.buildManyButton.onClick());return}const r=b.createVector(b.width-ee.HEX_SIZE*2,this.mainMenuStartY+ee.HEX_SIZE),t=ee.HEX_SIZE;if(b.mouseX>r.x&&b.mouseX<r.x+t&&b.mouseY>r.y&&b.mouseY<r.y+t&&this.deSelectTower(),this.clickUpgrade(o),!this.selectedUpgrade){this.sellButton.clicked()&&this.sellButton.onClick();return}this.upgradeButton.clicked()&&this.upgradeButton.onClick()}doubleClicked(){if(this.selectedTower){this.clickUpgrade(!0);return}const o=this.mouseOnMenuTower();if(o===null)return;const r=sr[o];this.selectedTowerType=r,this.buyingTowerType=this.selectedTowerType,this.buyingMultiple=!0}clickMenuTowerSelect(){const o=this.mouseOnMenuTower();if(o===null)return;const r=sr[o];this.selectedTowerType=r,this.draggingTowerType=r}mouseOnMenuTower(){for(const o in this.menuTowerPositions){const r=parseInt(o),t=this.menuTowerPositions[r];if(Qt(b.createVector(b.mouseX,b.mouseY),t)<this.menuTowerSize*this.menuTowerSize)return r}return null}mouseReleased(){this.draggingTowerType&&(this.tryPlaceTower(this.draggingTowerType),this.draggingTowerType=null)}mouseDragged(){return this.draggingTowerType?this.draggingTowerType:null}clickUpgrade(o=!1){if(this.selectedTower===null)return;const r=b.createVector(this.menuStartX+this.menuWidth/2,this.mainMenuStartY+this.mainMenuHeight/4);let t=0,f=0,d=ee.HEX_SIZE*2;for(const i in this.selectedTower.upgrades){const u=this.selectedTower.upgrades[i],s=b.createVector(r.x+b.cos(f)*d,r.y+b.sin(f)*d);if(Qt(b.createVector(b.mouseX,b.mouseY),s)<ee.HEX_SIZE*ee.HEX_SIZE&&(this.selectedUpgrade=u,o&&!u.purchased&&u.available))if(tt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)){if(this.tryPurchaseUpgrade(this.selectedTower,this.selectedUpgrade))return}else tt.towersData[this.selectedTower.name].unlocksAvailable>0&&tt.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id);f+=b.TWO_PI/3,t++,t%3===0&&(d+=ee.HEX_SIZE*2,t===6&&(d-=ee.HEX_SIZE*4,f+=b.PI/3))}}updateTowers(){for(const o of this.towers)o.update()||this.sellTower(he.grid[o.r][o.q])}onWaveEndTowers(){for(const o of this.towers)o.onWaveEnd()}addProjectile(o,r=!1){if(r){this.underProjectiles.push(o);return}this.projectiles.push(o)}updateProjectiles(){Ii.emptyQuadTree();for(let o=this.underProjectiles.length-1;o>=0;o--){if(this.underProjectiles[o].update()){this.underProjectiles.splice(o,1);continue}Ii.insert(new Us(this.underProjectiles[o].truePos,this.underProjectiles[o]))}for(let o=this.projectiles.length-1;o>=0;o--){if(this.projectiles[o].update()){this.projectiles.splice(o,1);continue}Ii.insert(new Us(this.projectiles[o].truePos,this.projectiles[o]))}}showProjectiles(){for(let o=this.projectiles.length-1;o>=0;o--)this.projectiles[o].show()}showUnderProjectiles(){for(let o=this.underProjectiles.length-1;o>=0;o--)this.underProjectiles[o].show()}addMinion(o){this.minions.push(o)}addObstacle(o){this.obstacles.push(o)}updateMinions(){for(let o=this.minions.length-1;o>=0;o--)this.minions[o].update()&&this.minions.splice(o,1);ii.emptyQuadTree();for(let o=this.minions.length-1;o>=0;o--)ii.insert(new Us(this.minions[o].truePos,this.minions[o]))}showMinions(){for(let o=this.minions.length-1;o>=0;o--)this.minions[o].show()}updateObstacles(){for(let o=this.obstacles.length-1;o>=0;o--)this.obstacles[o].update()&&(this.obstacles[o].onDestroy(),this.obstacles.splice(o,1));Cl.emptyQuadTree();for(let o=this.obstacles.length-1;o>=0;o--)Cl.insert(new Us(this.obstacles[o].truePos,this.obstacles[o]))}showObstacles(){for(let o=this.obstacles.length-1;o>=0;o--)this.obstacles[o].show()}addVisual(o,r=!1){r&&!this.lowPriorityVisualsOkay||this.visualEffects.push(o)}updateAndShowVisuals(){for(let o=this.visualEffects.length-1;o>=0;o--)if(this.visualEffects[o].update()){const t=this.visualEffects[o].onExpire();this.visualEffects.splice(o,1),t&&this.addVisual(t)}this.totalVisuals=this.visualEffects.length,this.lowPriorityVisualsOkay=this.totalVisuals<this.maxLowPriorityVisuals}onlyShowVisuals(){for(let o=this.visualEffects.length-1;o>=0;o--)this.visualEffects[o].show(this.visualEffects[o])}addBaseToMaou(o){this.bases.push(o)}unitReachedBase(o,r){const t=r.getTrueHexVectorFromXY(o.truePos.x,o.truePos.y);return r.hexInArray(r.grid[t.x][t.y],this.bases)?(this.hp-=o.damage,!0):!1}unitDied(o){this.gold+=o.goldValue,this.accumulatedXp+=o.xpValue,this.addXpToCurrentTowers()}addXpToCurrentTowers(){tt.addXp(this.accumulatedXp,this.towers),this.accumulatedXp=0}increaseHp(o,r=!1){this.hp+o>this.maxHp&&r?this.hp=b.max(this.hp,this.maxHp):this.hp+=o}increaseGold(o){this.gold+=o}randomlyUseGold(){let o=1e3;for(;o>0;){if(b.random()>.5){const r=sr[b.random(Object.keys(sr))];this.tryPlaceTower(r,b.createVector(b.random(b.width),b.random(b.height)))}else{const r=b.random(this.towers);if(r===void 0||r.upgradesPurchased>8)continue;this.tryPurchaseUpgrade(r,r.upgrades[b.random(["A","B","C","A+","B+","C+","AB","BC","CA","AB+","BC+","CA+","AB++","BC++","CA++"])])}o--}}}const ow=new rw(xl),Je=ow,Mi={},sw=n=>(n%=b.TWO_PI,n=b.round(n,10),n in Mi||(Mi[n]=lt.Vector.fromAngle(n)),Mi[n].copy());class nw extends vn{constructor(r,t,f,d,i,u={}){super(r,t,f,d,i,{color:b.color(oi),...u});V(this,"angle");V(this,"originalColor");V(this,"otherColor");this.angle=0,this.originalColor=u.color??oi,this.otherColor=u.otherColor??Oo}update(){this.angle+=b.TWO_PI/200;for(let r=0;r<5;r++){const t=this.angle+r*(b.TWO_PI/5),f=sw(t).mult(this.trueSize*(.02+b.random(.02)));Je.addVisual(ju(this.truePos,f,ee.TRUE_HEX_SIZE/4,b.random(26,34),_u(this.originalColor,this.otherColor)),!0)}}}class iw extends vn{constructor(r,t,f,d,i,u,s={}){super(r,t,f,d,i,{color:b.color(Zs),...s});V(this,"maxHp");V(this,"hp");this.maxHp=u,this.hp=u}show(){b.stroke($r),b.strokeWeight(ee.STROKE*2),b.fill(this.color),ar(this.pos.x,this.pos.y,this.size),ar(this.pos.x,this.pos.y,this.size*.75),ar(this.pos.x,this.pos.y,this.size*.5)}update(){return!0}}class aw{constructor(o,r,t,f,d={}){V(this,"seed");V(this,"showSeedString");V(this,"midPos");V(this,"trueMidPos");V(this,"rings");V(this,"maxR");V(this,"maxQ");V(this,"midR");V(this,"midQ");V(this,"minR");V(this,"minQ");V(this,"xDiff");V(this,"yDiff");V(this,"xTrueDiff");V(this,"yTrueDiff");V(this,"wallRing");V(this,"grid");V(this,"tileTypeColors",{[rt.EMPTY]:b.color(yn),[rt.HILL]:b.color(Tn),[rt.UNSTABLE]:b.color(zh),[rt.WALL]:b.color(Ea),[rt.WATER]:b.color(ci),[rt.LAVA]:b.color(jn),[rt.SPAWN]:b.color(bo),[rt.BASE]:b.color(Zs),[rt.TELEPORTER_ONE]:b.color(oi),[rt.TELEPORTER_TWO]:b.color(_l)});V(this,"neighborVectorsRQ",[b.createVector(-1,1),b.createVector(0,1),b.createVector(1,0),b.createVector(1,-1),b.createVector(0,-1),b.createVector(-1,0)]);V(this,"teleporters",{});this.seed="",this.showSeedString="",this.midPos=b.createVector(o,r),this.trueMidPos=b.createVector(200,200),this.rings=t,this.maxR=t*2,this.maxQ=t*2,this.midR=t,this.midQ=t,this.minR=0,this.minQ=0,this.xDiff=b.sqrt(3)*f,this.yDiff=1.5*f,this.xTrueDiff=b.sqrt(3)*ee.TRUE_HEX_SIZE,this.yTrueDiff=1.5*ee.TRUE_HEX_SIZE,this.grid=[],this.wallRing=d.wallRing??1,this.constructGrid(d.wallRing??1)}resize(){this.midPos=b.createVector(b.windowWidth*Sa,b.windowHeight*_a),this.xDiff=b.sqrt(3)*ee.HEX_SIZE,this.yDiff=1.5*ee.HEX_SIZE;for(let o=this.minR;o<=this.maxR;o++)for(let r=this.minQ;r<=this.maxQ;r++)this.grid[o][r].resize()}constructGrid(o=this.wallRing){for(let r=this.minR;r<=this.maxR;r++){this.grid.push([]);for(let t=this.minQ;t<=this.maxQ;t++){const f=this.getTrueDiffVectorFromRQ(this.midR,this.midQ,r,t);if(f.add(this.trueMidPos),this.grid[r].push(new vn(f.x,f.y,r,t,ee.TRUE_HEX_SIZE,{type:rt.EMPTY,color:this.tileTypeColors[rt.EMPTY]})),r+t<this.rings||r+t>this.rings*3)continue;const d=o;r>=this.minR+d&&r<=this.maxR-d&&t>=this.minQ+d&&t<=this.maxQ-d&&r+t>=this.rings+d&&r+t<=this.rings*3-d||this.setBuilderTileType(this.grid[r][t],rt.WALL)}}}reConstructGrid(o=this.wallRing){this.grid=[],this.teleporters={},this.constructGrid(o)}getDiffVectorFromRQ(o,r,t,f){const d=t-o,i=f-r;return b.createVector(this.xDiff*i+this.xDiff/2*d,this.yDiff*d)}getTrueDiffVectorFromRQ(o,r,t,f){const d=t-o,i=f-r;return b.createVector(this.xTrueDiff*i+this.xTrueDiff/2*d,this.yTrueDiff*d)}getHexVectorFromXY(o,r){const t=o-this.midPos.x,f=r-this.midPos.y,d=b.createVector(f/this.yDiff,(b.sqrt(3)/3*t-1/3*f)/ee.HEX_SIZE),i=this.axialRound(d);return i.x+=this.midR,i.y+=this.midQ,i}getTrueHexVectorFromXY(o,r){const t=o-this.trueMidPos.x,f=r-this.trueMidPos.y,d=b.createVector(f/this.yTrueDiff,(b.sqrt(3)/3*t-1/3*f)/ee.TRUE_HEX_SIZE),i=this.axialRound(d);return i.x+=this.midR,i.y+=this.midQ,i}rqVectorIsOnGrid(o,r=0){const t=o.x,f=o.y,d=r;return t>=this.minR+d&&t<=this.maxR-d&&f>=this.minQ+d&&f<=this.maxQ-d&&t+f>=this.rings+d&&t+f<=this.rings*3-d}axialRound(o){let r=b.round(o.x),t=b.round(o.y);const f=b.round(-o.x-o.y),d=b.abs(o.x-r),i=b.abs(o.y-t),u=b.abs(-o.x-o.y-f);return d>i&&d>u?r=-t-f:i>u&&(t=-r-f),b.createVector(r,t)}show(){for(let o=0;o<=this.maxR;o++)for(let r=0;r<=this.maxQ;r++)o+r<this.rings||o+r>this.rings*3||this.grid[o][r].show()}showDebug(){for(let o=0;o<=this.maxR;o++)for(let r=0;r<=this.maxQ;r++)o+r<this.rings||o+r>this.rings*3||this.grid[o][r].showDebug()}getNeighbors(o,r,t=!1){const f=t?this.getTeleporterNeighbors(o,r):[];for(let d of this.neighborVectorsRQ){const i=o+d.x,u=r+d.y;i<this.minR||i>this.maxR||u<this.minQ||u>this.maxQ||i+u<this.rings||i+u>this.rings*3||f.push(this.grid[i][u])}return f}getNeighborsArea(o,r,t){const f=[];for(let d=0;d<6;d++)for(let i=1;i<=t;i++){const u=o+this.neighborVectorsRQ[d].x*i,s=r+this.neighborVectorsRQ[d].y*i;for(let h=1;h<i;h++){const m=(d+2)%6,g=u+this.neighborVectorsRQ[m].x*h,c=s+this.neighborVectorsRQ[m].y*h;this.rqVectorIsOnGrid(b.createVector(g,c),this.wallRing)&&f.push(this.grid[g][c])}this.rqVectorIsOnGrid(b.createVector(u,s),this.wallRing)&&f.push(this.grid[u][s])}return f}getGrandNeighbors(o,r,t=0){const f=[];for(let d=0;d<6;d++){const i=o+this.neighborVectorsRQ[d].x,u=r+this.neighborVectorsRQ[d].y;for(let s=d;s<d+2;s++){const h=i+this.neighborVectorsRQ[s%6].x,m=u+this.neighborVectorsRQ[s%6].y;this.rqVectorIsOnGrid(b.createVector(h,m),t)&&f.push(this.grid[h][m])}}return f}getTeleporterNeighbors(o,r){const t=this.grid[o][r],f=[];if(!t.isTeleporter)return f;for(const d of this.teleporters[t.teleporterType])d.r===o&&d.q===r||f.push(d);return f}getAllTiles(o=!0){const r=[];for(let t=this.minR;t<=this.maxR;t++)for(let f=this.minQ;f<=this.maxQ;f++)t+f<this.rings||t+f>this.rings*3||(o||!this.grid[t][f].wall)&&r.push(this.grid[t][f]);return r}hexInArray(o,r){for(const t of r)if(t.r===o.r&&t.q===o.q)return!0;return!1}addRandomWalls(o=50,r=rt.HILL,t=1){for(let f=0;f<=this.maxR;f++)for(let d=0;d<=this.maxQ;d++)f+d<this.rings||f+d>this.rings*3||b.random(100)<o&&this.rqVectorIsOnGrid(b.createVector(f,d),t)&&this.setBuilderTileType(this.grid[f][d],r)}breakWallsInArray(o,r=rt.EMPTY){for(const t of o)this.setBuilderTileType(t,r)}aStar(o,r,t,f,d=!1){const i=this.grid[o][r],u=this.getDiffVectorFromRQ(o,r,t,f);i.data={...i.data,g:0,h:u.mag(),f:u.mag(),prev:void 0};const s=this.grid[t][f],h=this.xDiff,m=h*(this.rings*2)**2;let g;const c=[i],l=[];for(;c.length>0;){g=c[0];let a=0;for(let v=1;v<c.length;v++)c[v].data.f<g.data.f&&(g=c[v],a=v);const p=this.getNeighbors(g.r,g.q);for(const v of p){if(this.hexInArray(v,l)||d&&!v.canUnit)continue;if(this.hexInArray(v,[s])){const x=[v,g];for(;g.data.prev;)x.push(g.data.prev),g=g.data.prev;return x}let w=h;if(v.canUnit||(w=m),this.hexInArray(v,c)){if(v.data.g<=g.data.g+w)continue}else v.data.h=this.getDiffVectorFromRQ(v.r,v.q,t,f).mag(),c.push(v);v.data.g=g.data.g+w,v.data.f=v.data.g+v.data.h,v.data.prev=g}c.splice(a,1),l.push(g)}return[]}resetColors(o=!0,r=b.color(yn)){for(let t=0;t<=this.maxR;t++)for(let f=0;f<=this.maxQ;f++)t+f<this.rings||t+f>this.rings*3||(o?this.grid[t][f].color=this.tileTypeColors[this.grid[t][f].type]:this.grid[t][f].color=r)}resetData(o={}){for(let r=0;r<=this.maxR;r++)for(let t=0;t<=this.maxQ;t++)r+t<this.rings||r+t>this.rings*3||(this.grid[r][t].data={...o})}resetSpecificData(o){for(let r=0;r<=this.maxR;r++)for(let t=0;t<=this.maxQ;t++)r+t<this.rings||r+t>this.rings*3||(this.grid[r][t].data[o]=null)}generateAllPathsThroughFloodFill(o,r,t=!1,f=cg,d=1e6,i=1e10,u){const s=`${f}Steps`,h=u??`${f}Next`,m=`${f}PathVector`;this.resetSpecificData("testFloodSteps"),t||(this.resetSpecificData(s),u||this.resetSpecificData(h),this.resetSpecificData(m));for(const g of r){const c=g;t?c.data={...c.data,testFloodSteps:0}:c.data={...c.data,testFloodSteps:0,[s]:0,[h]:c,[m]:b.createVector(0,0)};let l;const a=[c],p=[];for(;a.length>0;){l=a[0];let v=0;for(let x=1;x<a.length;x++)a[x].data.testFloodSteps<l.data.testFloodSteps&&(l=a[x],v=x);if(l.data.testFloodSteps>i)break;const w=this.getNeighbors(l.r,l.q,!0);for(const x of w){if(this.hexInArray(x,[...p,...a])||!(x.canUnit||x.canWaterUnit)||x.wall)continue;x.isSpawn||a.push(x);const E=lt.Vector.sub(b.createVector(l.pos.x,l.pos.y),b.createVector(x.pos.x,x.pos.y)),j=x.canUnit?1:d;(!x.data.testFloodSteps||x.data.testFloodSteps>l.data.testFloodSteps)&&(x.data.testFloodSteps=l.data.testFloodSteps+j,t||(x.data[s]=l.data[s]+j,x.data[h]=l,x.data[m]=E))}a.splice(v,1),p.push(l)}}for(const g of o)if(t){if(!g.data.testFloodSteps||g.data.testFloodSteps>d)return!1}else if(!g.data[s]||g.data[s]>d)return!1;return!0}setTileType(o,r){const t=js[r];o.type=r,o.color=this.tileTypeColors[r],o.wall=r===rt.HILL||r===rt.WALL,o.canTower=t.canTower,o.canWaterTower=t.canWaterTower,o.canLavaTower=t.canLavaTower,o.canUnit=t.canUnit,o.canWaterUnit=t.canWaterUnit}setBuilderTileType(o,r){const t=js[r];o.type=r,o.color=b.color(t.rgb),o.wall=r===rt.HILL||r===rt.WALL||r===rt.LAVA,o.canTower=t.canTower,o.canWaterTower=t.canWaterTower,o.canLavaTower=t.canLavaTower,o.canUnit=t.canUnit,o.canWaterUnit=t.canWaterUnit,o.isSpawn=t.isSpawn,o.isTeleporter=t.isTeleporter,o.teleporterType=t.teleporterType}addSpawnerToGrid(o){this.grid[o.r][o.q]=o}addMaouBaseToGrid(o){this.grid[o.r][o.q]=o}addTowerToGrid(o){this.grid[o.r][o.q]=o}removeTowerFromGrid(o){const r=new vn(o.truePos.x,o.truePos.y,o.r,o.q,o.trueSize,{isTower:!1,data:o.data});this.setTileType(r,o.type),this.grid[o.r][o.q]=r}generateJsonableMap(){const o=[];for(const r of this.grid){const t=[];for(const f of r)t.push(f.type);o.push(t)}return o}buildMapFromJson(o,r,t){this.resetData();for(let f=0;f<this.grid.length;f++)for(let d=0;d<this.grid[f].length;d++){if(o[f][d]===rt.SPAWN&&(t.addSpawn(this.grid[f][d].truePos.x,this.grid[f][d].truePos.y,ee.TRUE_HEX_SIZE,{gridR:f,gridQ:d}),t.waveReader.setActiveSpawners(t.spawners),this.addSpawnerToGrid(t.spawners[t.spawners.length-1])),o[f][d]===rt.BASE){const i=new iw(this.grid[f][d].truePos.x,this.grid[f][d].truePos.y,f,d,ee.TRUE_HEX_SIZE,100);r.addBaseToMaou(i),this.addMaouBaseToGrid(i)}if(o[f][d]===rt.TELEPORTER_ONE||o[f][d]===rt.TELEPORTER_TWO){const i=new nw(this.grid[f][d].truePos.x,this.grid[f][d].truePos.y,f,d,ee.TRUE_HEX_SIZE);i.originalColor=o[f][d]===rt.TELEPORTER_ONE?oi:_l,i.otherColor=o[f][d]===rt.TELEPORTER_ONE?Oo:ti,this.addTeleporterToGrid(i)}this.setBuilderTileType(this.grid[f][d],o[f][d])}this.addAllTeleports()}addTeleporterToGrid(o){this.grid[o.r][o.q]=o}addAllTeleports(){for(let o=this.minR;o<=this.maxR;o++)for(let r=this.minQ;r<=this.maxQ;r++){if(o+r<this.rings||o+r>this.rings*3)continue;const t=this.grid[o][r];t.isTeleporter&&(t.teleporterType in this.teleporters||(this.teleporters[t.teleporterType]=[]),this.teleporters[t.teleporterType].push(t))}}setSeed(o){if(typeof o!="string"){this.seed="",this.showSeedString="";return}this.seed=o,this.showSeedString=`Seed: ${o}`}updateTeleporters(){for(const o in this.teleporters)for(const r of this.teleporters[o])r.update()}}const lw=new aw(b.windowWidth*Sa,b.windowHeight*_a,ig,ee.HEX_SIZE,{wallRing:ag}),he=lw,uw=(n,o,r,t,f=b.random(qo),d=he.wallRing,i=rt.HILL)=>{const u=Ua(f,"A");he.resetData(),he.addRandomWalls(100,i);const s=he.grid[n][o];s.data={...s.data,prev:void 0,visited:!0},he.setTileType(s,rt.EMPTY);const h=he.grid[r][t];he.setTileType(h,rt.EMPTY);let m=s;for(;m!==void 0;){const g=he.getNeighbors(m.r,m.q);for(const a of g)a.data.visited=!0;const c=he.getGrandNeighbors(m.r,m.q,d);for(let a=c.length-1;a>=0;a--)c[a].data.visited&&c.splice(a,1);const l=b.random(c);if(l===void 0){if(m=m.data.prev,m===void 0)return he.resetData(),u}else{l.data.visited=!0,he.setTileType(l,rt.EMPTY),l.data.prev=m;const a=b.createVector(m.r,m.q),p=l.r-m.r,v=l.q-m.q;if(b.abs(p)%2===0?a.x+=p/2:b.random()>.5&&(a.x+=p),b.abs(v)%2===0)a.y+=v/2;else{let x=0;b.random()>.5&&(x=v),a.y+=x,(m.r===a.x&&m.q===a.y||l.r===a.x&&l.q===a.y)&&(x===0?a.y+=v:a.y+=v*-1)}const w=he.grid[a.x][a.y];he.setTileType(w,rt.EMPTY),m=l}}return!1},Nu=(n,o,r,t=b.random(qo),f=he.wallRing,d=rt.HILL,i=rt.WATER,u=6,s=rt.LAVA,h=4,m="D")=>{const g=Ua(t,m);he.resetData(),he.addRandomWalls(100,d);for(const a of n){const p=he.grid[a.x][a.y];he.setBuilderTileType(p,rt.EMPTY)}const c=he.grid[o][r];c.data={...c.data,prev:void 0,visited:!0},he.setBuilderTileType(c,rt.EMPTY);let l=c;for(;l!==void 0;){const a=he.getNeighbors(l.r,l.q);for(const w of a)w.data.visited=!0;const p=he.getGrandNeighbors(l.r,l.q,f);for(let w=p.length-1;w>=0;w--)p[w].data.visited&&p.splice(w,1);const v=b.random(p);if(v===void 0){if(l=l.data.prev,l===void 0){let w=hw(d);if(w.length<10)return!1;let x=[],E=25,j=10;for(;x.length<u+h;){x=[];for(let S=w.length-1;S>=0;S--)w[S].length<=E&&w[S].length>=j&&x.push(w[S]);if(E++,j--,E>50)return!1}for(let S=0;S<u;S++){const R=b.floor(b.random(x.length));for(const M of x[R])he.setBuilderTileType(M,i);x.splice(R,1)}for(let S=0;S<h;S++){const R=b.floor(b.random(x.length));for(const M of x[R])he.setBuilderTileType(M,s);x.splice(R,1)}return he.resetData(),g}}else{v.data.visited=!0,he.setTileType(v,rt.EMPTY),v.data.prev=l;const w=b.createVector(l.r,l.q),x=v.r-l.r,E=v.q-l.q;if(b.abs(x)%2===0?w.x+=x/2:b.random()>.5&&(w.x+=x),b.abs(E)%2===0)w.y+=E/2;else{let S=0;b.random()>.5&&(S=E),w.y+=S,(l.r===w.x&&l.q===w.y||v.r===w.x&&v.q===w.y)&&(S===0?w.y+=E:w.y+=E*-1)}const j=he.grid[w.x][w.y];he.setTileType(j,rt.EMPTY),l=v}}return!1},cw=(n,o,r,t,f=b.random(qo),d=rt.HILL,i=rt.EMPTY)=>{Ua(f,"B"),he.addRandomWalls(5,rt.LAVA),he.addRandomWalls(30,d),he.addRandomWalls(20,rt.WATER);const u=he.aStar(n,o,r,t);he.breakWallsInArray(u,i),he.resetData()},Ua=(n,o)=>{const r=b.floor(n);return b.randomSeed(r),`${o}${r}`},Fu=()=>{he.setBuilderTileType(he.grid[he.midR][he.maxQ],rt.BASE),he.setBuilderTileType(he.grid[he.midR][he.minQ],rt.SPAWN)},Vu=(n,o)=>{for(const r of n)he.setBuilderTileType(he.grid[r.x][r.y],rt.BASE);for(const r of o)he.setBuilderTileType(he.grid[r.x][r.y],rt.SPAWN)},dw=(n=b.random(qo),o=void 0,r=rt.HILL)=>{const t=Ua(n,"C");he.resetData(),he.addRandomWalls(100,r);const f=he.grid[he.midR][he.midQ];f.data={...f.data,prev:void 0,visited:!0},he.setBuilderTileType(f,rt.BASE);let d=f;const i=he.getNeighborsArea(d.r,d.q,2);for(const l of i)he.setBuilderTileType(l,rt.EMPTY);o===void 0&&(o=b.ceil(b.random(19,30)));let u=0,s=2,h=0,m=0;for(;d!==void 0&&u<o;){const l=b.random(he.neighborVectorsRQ),a=b.round(b.random(4,10));let p=rt.EMPTY;b.random()<.3&&(p=b.random()<.2?rt.UNSTABLE:rt.WATER);let v=!1;for(let E=0;E<a;E++){const j=d.r+l.x,S=d.q+l.y;if(!he.rqVectorIsOnGrid(b.createVector(j,S),he.wallRing)||j===f.r&&S===f.q){v=!0,d=f;break}d=he.grid[j][S],!(E<s)&&he.setBuilderTileType(d,p)}if(v)continue;s=b.random()<.15?2:1;let w=rt.EMPTY;b.random()<.3?(w=b.random()<.3?rt.LAVA:rt.WATER,he.setBuilderTileType(d,w)):b.random()<.2?b.random()<.5?he.setBuilderTileType(d,rt.TELEPORTER_ONE):he.setBuilderTileType(d,rt.TELEPORTER_TWO):he.setBuilderTileType(d,w);const x=he.getNeighborsArea(d.r,d.q,s);if(he.hexInArray(f,x)){d=f;continue}for(const E of x)he.setBuilderTileType(E,w);if(u++,u===o){const E=he.getAllTiles();let j=0,S=0;for(const R of E)R.type===rt.EMPTY&&S++,R.type===rt.HILL&&j++;j>S&&u--}}const g=he.getAllTiles();for(const l of g)l.type===rt.TELEPORTER_ONE&&h++,l.type===rt.TELEPORTER_TWO&&m++;if(h===1)for(;;){const l=b.random(g);if(!(l.type===rt.WALL||l.type===rt.BASE||l.isTeleporter)){he.setBuilderTileType(l,rt.TELEPORTER_ONE);break}}if(m===1)for(;;){const l=b.random(g);if(!(l.type===rt.WALL||l.type===rt.BASE||l.isTeleporter)){he.setBuilderTileType(l,rt.TELEPORTER_TWO);break}}he.addAllTeleports();let c=!1;for(;!c;)for(let l=0;l<3;l++){const a=b.random(g),p=he.aStar(a.r,a.q,f.r,f.q);if(p.length<8)continue;let v=!0;for(const w of p)if(!w.canUnit){v=!1;break}v&&(he.setBuilderTileType(a,rt.SPAWN),c=!0)}return t},hw=n=>{const o=[],r=[],t=[];for(let f=he.minR;f<=he.maxR;f++)for(let d=he.minQ;d<=he.maxQ;d++){if(f+d<he.rings||f+d>he.rings*3)continue;let i=he.grid[f][d];if(he.hexInArray(i,t))continue;r.push(i);const u=[];for(;r.length>0;){if(i=r[0],r.splice(0,1),t.push(i),i.type!==n)continue;u.push(i);const s=he.getNeighbors(i.r,i.q);for(const h of s)he.hexInArray(h,r)||he.hexInArray(h,t)||r.push(h)}u.length>0&&o.push(u)}return o},fw=()=>{he.reConstructGrid(),Fu();const n=he.generateJsonableMap();return he.reConstructGrid(),n},pw={name:"Open",map:fw()},mw=()=>{he.reConstructGrid();const n=uw(he.rings,1,he.rings,he.rings*2-1,b.random(qo),1);Fu();const o=he.generateJsonableMap();return he.reConstructGrid(),{map:o,seed:n}},Td=mw(),gw={name:"Random Pathways",map:Td.map,seed:Td.seed},yw=()=>{he.reConstructGrid();const n=cw(he.rings,1,he.rings,he.rings*2-1,b.random(qo),rt.HILL);Fu();const o=he.generateJsonableMap();return he.reConstructGrid(),{map:o,seed:n}},Cd=yw(),vw={name:"Random Caverns",map:Cd.map,seed:Cd.seed},bw=()=>{he.reConstructGrid();const n=dw(b.random(qo)),o=he.generateJsonableMap();return he.reConstructGrid(),{map:o,seed:n}},Rd=bw(),ww={name:"Random Chambers",map:Rd.map,seed:Rd.seed},xw=()=>{const n=[b.createVector(he.midR,he.minQ),b.createVector(he.minR,he.maxQ),b.createVector(he.maxR,he.midQ)],o=[b.createVector(he.midR,he.minQ+1),b.createVector(he.minR+1,he.maxQ-1),b.createVector(he.maxR-1,he.midQ)];he.reConstructGrid();const r=Nu(o,he.midR,he.midQ,b.random(qo),1);Vu([b.createVector(he.midR,he.midQ)],n);const t=he.generateJsonableMap();return he.reConstructGrid(),{map:t,seed:r}},Md=xw(),Sw={name:"Random Pathways Revised",map:Md.map,seed:Md.seed},_w=()=>{const n=[b.createVector(he.midR,he.minQ),b.createVector(he.midR,he.maxQ)],o=[b.createVector(he.midR,he.minQ+1),b.createVector(he.midR,he.maxQ-1)];he.reConstructGrid();const r=Nu(o,he.midR,he.midQ,b.random(qo),1,rt.WATER,rt.HILL,0,rt.HILL,0,"E");Vu([b.createVector(he.midR,he.midQ)],n);const t=he.generateJsonableMap();return he.reConstructGrid(),{map:t,seed:r}},Pd=_w(),Ew={name:"Random Pathways Water World",map:Pd.map,seed:Pd.seed},jw=()=>{const n=[b.createVector(he.minR,he.midQ),b.createVector(he.minR,he.maxQ),b.createVector(he.maxR,he.minQ),b.createVector(he.maxR,he.midQ)],o=[b.createVector(he.minR+1,he.midQ),b.createVector(he.minR+1,he.maxQ-1),b.createVector(he.maxR-1,he.minQ+1),b.createVector(he.maxR-1,he.midQ)];he.reConstructGrid();const r=Nu(o,he.midR,he.midQ,b.random(qo),1,rt.LAVA,rt.HILL,0,rt.HILL,0,"F");Vu([b.createVector(he.midR,he.midQ)],n);const t=he.generateJsonableMap();return he.reConstructGrid(),{map:t,seed:r}},Ad=jw(),Tw={name:"Random Pathways Lava World",map:Ad.map,seed:Ad.seed},Cw={name:"Lake Base",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3],[0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3],[0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3],[6,0,0,0,4,4,4,4,4,4,4,4,4,7,0,0,0,0,0,0,0,1,0,0,0,0,3],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Rw={name:"Lakes Race",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,1,1,1,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3],[0,0,0,0,0,0,0,0,0,3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3],[0,0,0,0,0,0,0,0,3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3],[0,0,0,0,3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3],[0,0,0,3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3,0,0],[3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3,0,0,0],[3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3,0,0,0,0],[3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3,0,0,0,0,0],[3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3,0,0,0,0,0,0,0,0],[3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,1,1,1,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Mw={name:"The Wheel",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3],[0,0,0,0,0,3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3],[0,0,0,0,3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3],[0,0,0,3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3],[0,0,3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[6,0,1,1,1,1,1,1,1,1,1,1,0,7,0,1,1,1,1,1,1,1,1,1,1,0,3],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3,0,0],[3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3,0,0,0],[3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3,0,0,0,0],[3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3,0,0,0,0,0],[3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3,0,0,0,0,0,0,0],[3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3,0,0,0,0,0,0,0,0],[3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Pw={name:"Time Moves Ever Onward",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3],[0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3],[0,0,0,0,0,0,0,0,3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3],[0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3],[0,0,0,0,0,0,3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3],[0,0,0,0,3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3],[0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3],[0,0,3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3],[0,3,4,1,4,4,4,1,4,4,1,4,3,0,0,3,4,1,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,4,1,4,4,4,1,4,3,2,3,4,1,4,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,1,4,4,4,1,4,3,0,0,3,4,1,4,4,4,1,4,4,1,4,3,0],[3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3,0,0],[3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0],[3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0],[3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3,0,0,0,0,0,0],[3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0],[3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3,0,0,0,0,0,0,0,0],[3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0],[3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3,0,0,0,0,0,0,0,0,0,0],[3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,7,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Aw={name:"Hillside Flowers",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,2,0,0,0,0,0,0,0,0,0,0,0,2,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,1,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,1,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,1,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,1,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,1,0,1,0,1,1,1,1,0,0,1,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,5,0,0,0,2,2,0,3],[6,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,7,2,0,0,2,0,2,2,3],[3,0,0,0,0,0,1,0,1,0,1,0,1,0,0,1,0,5,5,2,0,2,0,0,0,3,0],[3,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,0,0,2,2,0,0,0,3,0,0],[3,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,3,0,0,0,0],[3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,2,0,0,0,0,0,0,0,0,0,0,0,2,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Ow={name:"Big Nope",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3],[0,3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3],[6,0,0,0,1,0,7,0,5,0,4,4,0,1,0,4,4,0,5,0,7,0,1,0,0,0,6],[3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3,0],[3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[6,3,3,3,3,3,3,3,3,3,3,3,3,6,0,0,0,0,0,0,0,0,0,0,0,0,0]]},kw={name:"Cross Over",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,6,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,4,4,4,4,4,4,4,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,1,0,0,4,4,4,4,4,4,0,0,0,0,0,1,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,0,1,0,0,4,4,4,4,0,1,0,1,0,1,0,0,3],[0,0,0,0,0,0,0,3,0,1,0,1,0,0,4,4,4,0,1,0,1,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,1,0,0,4,4,0,0,0,1,0,1,0,4,4,0,3],[0,0,0,0,0,3,0,1,0,1,0,1,0,0,4,0,0,0,0,0,1,0,4,0,4,0,3],[0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,4,0,0,4,0,3],[0,0,0,3,0,1,0,1,0,1,0,1,0,0,0,1,0,0,1,0,4,0,4,0,4,0,3],[0,0,3,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,4,0,4,4,0,4,0,3],[0,3,0,1,0,1,0,1,0,1,0,1,0,0,0,0,1,0,4,0,4,0,4,0,4,0,3],[6,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,4,0,0,4,0,0,0,7],[3,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,0,4,4,0,0,0,4,4,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,0,0,0,0,3,0,0],[3,1,0,1,0,1,0,1,0,0,0,1,1,0,4,0,0,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,0,4,0,0,0,3,0,0,0,0],[3,1,0,1,0,1,0,0,0,0,1,1,0,0,4,4,0,0,4,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0],[3,1,0,1,0,0,0,0,1,0,0,1,0,4,4,4,0,4,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0],[3,1,0,0,0,0,1,0,0,0,0,1,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,5,5,0,1,0,0,0,0,0,1,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,1,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,1,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,7,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Dw={name:"Island Temple",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3],[0,0,0,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3],[0,0,0,3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3],[0,0,3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3],[0,3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3],[3,4,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,4,3,4,4,5,4,4,3],[3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3,0],[3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3,0,0],[3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3,0,0,0],[3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Iw={name:"Whirlpool",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,1,1,1,1,1,1,1,1,1,1,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,4,4,4,4,4,4,4,4,4,4,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,4,0,0,0,0,0,0,0,0,0,4,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,4,0,1,1,1,1,1,1,1,1,0,4,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,4,0,1,0,0,0,0,0,0,0,1,0,4,0,1,0,3],[0,0,0,0,0,3,0,1,0,4,0,1,0,4,4,4,4,4,4,0,1,0,4,0,1,0,3],[0,0,0,0,3,0,1,0,4,0,1,0,4,0,0,0,0,0,4,0,1,0,4,0,1,0,3],[0,0,0,3,0,1,0,4,0,1,0,4,0,1,1,1,1,0,4,0,1,0,4,0,1,0,3],[0,0,3,0,1,0,4,0,1,0,4,0,1,5,0,0,1,0,4,0,1,0,4,0,1,0,3],[0,3,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,3],[7,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,6],[3,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,3,0],[3,0,4,0,1,0,4,0,1,0,4,0,0,5,4,0,1,0,4,0,1,0,4,0,3,0,0],[3,0,4,0,1,0,4,0,1,0,4,4,4,4,0,1,0,4,0,1,0,4,0,3,0,0,0],[3,0,4,0,1,0,4,0,1,0,0,0,0,0,1,0,4,0,1,0,4,0,3,0,0,0,0],[3,0,4,0,1,0,4,0,1,1,1,1,1,1,0,4,0,1,0,4,0,3,0,0,0,0,0],[3,0,4,0,1,0,4,0,0,0,0,0,0,0,4,0,1,0,4,0,3,0,0,0,0,0,0],[3,0,4,0,1,0,4,4,4,4,4,4,4,4,0,1,0,4,0,3,0,0,0,0,0,0,0],[3,0,4,0,1,0,0,0,0,0,0,0,0,0,1,0,4,0,3,0,0,0,0,0,0,0,0],[3,0,4,0,1,1,1,1,1,1,1,1,1,1,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,4,4,4,4,4,4,4,4,4,4,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Lw={name:"Tri Hard",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,4,0,0,0,0,6,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,9,3,4,0,0,0,0,0,0,0,0,0,3,8,3],[0,0,0,0,0,0,0,0,0,0,3,0,3,4,4,4,4,0,0,0,0,0,0,0,3,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,3,4,4,4,4,0,0,0,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,3,0,4,4,4,0,0,0,5,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,3,0,4,4,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,5,5,5,0,3,0,0,0,0,3],[0,0,0,0,3,0,0,5,5,3,0,1,1,1,1,1,0,0,0,0,0,3,4,4,0,0,3],[0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3],[0,0,3,5,5,5,0,0,3,0,0,0,1,1,0,0,1,1,0,0,3,0,0,4,4,4,3],[0,3,0,0,0,0,0,0,3,0,0,1,4,1,0,1,4,1,0,3,0,0,0,0,0,0,3],[3,0,0,5,5,5,5,3,0,0,0,1,1,0,0,1,1,0,0,3,4,4,4,4,0,0,3],[3,0,0,0,0,0,0,3,0,0,0,0,0,5,0,0,0,0,3,0,0,0,0,0,0,3,0],[3,5,5,5,0,0,3,0,0,0,0,0,0,5,0,0,0,0,3,0,0,4,4,4,3,0,0],[3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0],[3,0,0,5,5,3,0,0,0,0,1,0,1,0,0,0,0,3,4,4,0,0,3,0,0,0,0],[3,0,0,0,0,3,0,0,2,2,0,0,2,2,0,0,3,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,3,0,0,0,1,2,7,2,1,0,0,0,3,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,3,0,0,0,0,2,2,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,1,0,1,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,3,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0],[3,6,3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,0],[3,3,9,0,0,0,0,0,0,0,0,0,8,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Bw={name:"Hero's Journey",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,0,5,0,0,8,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,0,0,8,8,8,3],[0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,8,3],[0,0,0,0,0,0,0,0,3,4,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,5,5,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,0,5,4,5,0,5,5,5,0,5,5,5,5,5,5,5,0,0,3],[0,0,0,0,0,3,0,5,0,5,5,0,5,5,5,0,5,5,0,0,0,0,0,5,0,0,3],[0,0,0,0,3,0,5,5,0,0,0,5,5,5,5,0,5,0,5,5,5,5,0,5,0,0,3],[0,0,0,3,0,5,5,5,5,5,5,5,5,5,0,0,0,5,5,5,0,0,5,0,0,0,3],[0,0,3,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,5,5,0,0,0,0,3],[0,3,5,0,0,0,0,0,5,5,5,5,5,5,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,7,5,5,5,5,5,0,5,5,5,0,0,0,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,0,0,0,5,5,5,0,5,5,0,5,5,0,5,5,5,5,0,5,0,0,0,0,0,3,0],[3,5,5,0,5,5,5,0,0,0,5,5,5,0,5,5,5,0,5,0,0,0,0,0,3,0,0],[3,5,5,0,0,0,5,5,5,5,5,5,5,0,5,5,5,0,5,0,0,0,0,3,0,0,0],[3,5,5,5,5,0,5,5,5,5,5,0,0,5,5,0,0,5,0,0,0,0,3,0,0,0,0],[3,5,0,0,5,0,5,5,0,0,0,5,5,0,0,5,5,0,0,0,0,3,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,5,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,5,5,5,0,0,5,0,0,0,5,5,0,0,0,0,0,8,3,0,0,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,0,0,0,8,8,3,0,0,0,0,0,0,0,0],[3,0,0,5,5,0,0,5,0,0,0,0,0,0,8,8,8,3,0,0,0,0,0,0,0,0,0],[3,5,5,0,0,5,5,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,5,5,0,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0],[3,6,5,0,0,0,0,0,0,8,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Uw={name:"Royal Road",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,0,0,0,0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,0,0,3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3],[0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0],[3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3,0,0,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Nw={name:"Long Way Around",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,8,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,3,3,9,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,3,0,3,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,3,3,5,5,3,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,3,3,5,5,0,5,3,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,3,3,5,5,0,0,5,3,0,4,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,0,3,3,5,5,0,5,5,0,5,3,0,4,0,3],[0,0,0,0,0,3,0,0,0,0,0,3,3,5,5,0,0,5,0,5,5,3,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,3,3,5,5,0,5,5,0,5,5,0,5,3,0,0,0,0,3],[0,0,0,3,0,0,0,3,3,0,5,0,0,5,0,5,5,0,0,5,3,0,4,0,0,0,3],[0,0,3,0,0,3,3,0,0,0,5,5,0,5,5,0,5,5,0,5,3,0,4,0,4,0,3],[0,3,6,3,3,0,0,1,0,0,0,5,5,0,0,5,0,5,5,3,0,4,0,4,0,0,3],[3,3,3,0,0,0,0,0,0,0,0,0,5,5,0,5,5,0,0,3,0,4,0,4,0,0,3],[3,7,0,1,0,1,0,1,0,1,0,0,0,5,5,0,0,0,3,0,4,0,4,0,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,4,0,3,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,3,0,4,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,3,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,3,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,3,0,4,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,3,8,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,9,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Fw={name:"Betrayal",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,8,0,0,0,0,0,0,0,0,0,9,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,8,3,0,0,0,0,0,0,0,0,0,0,3,9,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,3],[3,6,0,0,0,0,0,0,0,0,0,0,9,7,8,0,0,0,0,0,0,0,0,0,0,6,3],[3,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,8,3,0,0,0,0,0,0,0,0,0,0,3,9,3,0,0,0,0,0,0,0,0,0,0,0],[3,3,8,0,0,0,0,0,0,0,0,0,9,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Vw={name:"Escape Pompeii",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,5,5,5,5,5,5,5,5,5,5,5,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,3,0,0,5,0,0,0,5,5,5,5,5,5,5,0,0,0,5,0,0,3],[0,0,0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,3,0,0,5,0,0,0,5,0,0,0,5,5,5,0,0,0,5,0,0,0,5,0,0,3],[0,3,0,0,5,0,0,0,5,0,0,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,3],[3,0,0,5,0,0,0,5,0,0,0,5,0,6,0,5,0,0,0,5,0,0,0,5,0,0,3],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,7,3,0],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,3,0,0],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0],[3,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0],[3,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0],[3,0,5,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0,0],[3,0,5,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0],[3,0,5,0,5,0,0,5,0,0,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,5,0,0,0,0,5,0,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,5,0,0,0,0,5,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,5,5,5,5,5,5,5,5,5,5,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Hw={name:"Two Way Road",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,1,7,1,0,0,0,0,0,0,0,4,4,4,3],[0,0,0,0,0,0,0,0,0,0,0,3,6,1,0,1,0,0,0,0,0,0,0,0,4,4,3],[0,0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,0,0,4,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,1,1,1,1,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,1,0,1,0,0,1,0,0,0,0,1,1,1,1,0,0,0,0,3],[0,0,0,0,0,3,0,1,0,1,0,0,1,0,1,1,0,0,0,0,0,1,0,0,0,0,3],[0,0,0,0,3,0,1,0,0,0,1,1,0,0,0,1,0,0,0,0,0,1,1,1,0,0,3],[0,0,0,3,0,0,1,0,0,1,0,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,1,1,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,1,1,1,3],[0,3,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,1,1,0,0,0,3],[3,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0,3],[3,0,0,0,1,1,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,3,0],[3,1,1,1,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,1,1,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,1,0,0,1,0,0,3,0,0,0],[3,0,0,1,1,1,0,0,0,0,0,1,0,0,0,1,1,0,0,0,1,0,3,0,0,0,0],[3,0,0,0,0,1,0,0,0,0,0,1,1,0,1,0,0,1,0,1,0,3,0,0,0,0,0],[3,0,0,0,0,1,1,1,1,0,0,0,0,1,0,0,1,0,1,0,3,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,1,1,1,1,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0],[3,4,0,0,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0,0],[3,4,4,0,0,0,0,0,0,0,0,1,0,1,6,3,0,0,0,0,0,0,0,0,0,0,0],[3,4,4,4,0,0,0,0,0,0,0,1,7,1,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Gw={name:"No Way To Turn",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,5,0,0,0,0,0,0,0,0,0,0,5,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,8,0,0,0,0,0,0,0,0,0,8,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,2,0,0,0,9,0,0,0,2,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,3],[0,0,0,0,0,0,3,6,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,6,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,9,0,0,0,2,0,0,0,2,0,0,0,9,0,0,0,0,3],[0,0,0,3,0,0,0,0,2,0,0,0,0,4,0,0,4,0,0,0,0,2,0,0,0,0,3],[0,0,3,0,0,0,0,2,0,0,0,0,0,4,0,4,0,0,0,0,0,2,0,0,0,0,3],[0,3,0,0,0,0,2,0,0,0,0,0,0,4,4,0,0,0,0,0,0,2,0,0,0,0,3],[3,5,5,8,2,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,2,2,8,5,5,3],[3,0,0,0,0,2,0,0,0,0,0,0,4,4,0,0,0,0,0,0,2,0,0,0,0,3,0],[3,0,0,0,0,2,0,0,0,0,0,4,0,4,0,0,0,0,0,2,0,0,0,0,3,0,0],[3,0,0,0,0,2,0,0,0,0,4,0,0,4,0,0,0,0,2,0,0,0,0,3,0,0,0],[3,0,0,0,0,9,0,0,0,2,0,0,0,2,0,0,0,9,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,2,0,0,0,9,0,0,0,2,0,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,8,0,0,0,0,0,0,0,0,0,8,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,5,0,0,0,0,0,0,0,0,0,0,5,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,0,0,0,0,0,7,0,0,0,0,0,5,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Ww={name:"Disappearance",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,1,6,0,0,0,0,0,0,0,0,0,5,7,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,1,1,1,1,1,0,0,0,0,0,5,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,8,1,1,1,1,1,0,5,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,1,1,1,1,1,1,0,0,0,0,1,0,5,0,3],[0,0,0,0,0,0,0,0,3,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,5,0,3],[0,0,0,0,0,0,0,3,0,0,1,0,0,0,0,0,4,0,0,0,0,1,0,0,5,0,3],[0,0,0,0,0,0,3,0,0,1,0,0,0,0,0,4,0,0,0,0,1,0,0,5,0,0,3],[0,0,0,0,0,3,0,1,1,0,0,0,0,0,4,0,0,0,0,1,0,0,5,0,0,0,3],[0,0,0,0,3,0,1,0,0,0,0,0,0,4,0,0,0,0,0,1,8,5,0,0,0,0,3],[0,0,0,3,0,1,0,0,0,0,0,0,4,4,0,0,0,0,0,1,1,5,0,0,0,0,3],[0,0,3,0,1,0,0,0,0,0,0,4,0,4,0,0,0,0,0,0,0,5,0,0,0,0,3],[0,3,6,1,0,0,0,0,0,0,4,0,0,4,0,0,0,0,0,0,9,5,0,0,0,0,3],[3,1,1,0,5,5,4,4,4,4,0,0,0,4,0,0,0,4,4,4,4,5,5,0,1,1,3],[3,0,0,0,0,5,8,0,0,0,0,0,0,4,0,0,4,0,0,0,0,0,0,1,6,3,0],[3,0,0,0,0,5,0,0,0,0,0,0,0,4,0,4,0,0,0,0,0,0,1,0,3,0,0],[3,0,0,0,0,5,1,1,0,0,0,0,0,4,4,0,0,0,0,0,0,1,0,3,0,0,0],[3,0,0,0,0,5,9,1,0,0,0,0,0,4,0,0,0,0,0,0,1,0,3,0,0,0,0],[3,0,0,0,5,0,0,1,0,0,0,0,4,0,0,0,0,0,1,1,0,3,0,0,0,0,0],[3,0,0,5,0,0,1,0,0,0,0,4,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0],[3,0,5,0,0,1,0,0,0,0,4,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0],[3,0,5,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0],[3,0,5,0,1,0,0,0,0,1,1,1,1,1,1,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,5,0,1,1,1,1,1,9,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,5,0,0,0,0,0,1,1,1,1,1,1,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,7,5,0,0,0,0,0,0,0,0,0,6,1,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},zw="/assets/Open-bc45d700.png",qw="/assets/Pathways-fa8baac1.png",Xw="/assets/Caverns-57f8e0cb.png",Yw="/assets/Chambers-c72833e5.png",Zw="/assets/PathwaysRevised-6384eca7.png",Kw="/assets/PathwaysWaterWorld-4ab7720b.png",$w="/assets/PathwaysLavaWorld-521a6ff9.png",Qw="/assets/Lake Base-cadaed5e.png",Jw="/assets/Lakes Race-cb1400b3.png",ex="/assets/The Wheel-5d281f5a.png",tx="/assets/Time Moves Ever Onward-c9082887.png",rx="/assets/Hillside Flowers-7e2294fa.png",ox="/assets/Big Nope-a0d1f9ab.png",sx="/assets/Cross Over-108367c2.png",nx="/assets/Island Temple-a4299b0b.png",ix="/assets/Whirlpool-38be4ce4.png",ax="/assets/Tri Hard-c2de4389.png",lx="/assets/Hero's Journey-91334804.png",ux="/assets/Royal Road-c45d9ac4.png",cx="/assets/Long Way Around-dbc21f2e.png",dx="/assets/Betrayal-417fa407.png",hx="/assets/Escape Pompeii-ce51058b.png",fx="/assets/Two Way Road-100b7ad0.png",px="/assets/No Way To Turn-54eb0f0f.png",mx="/assets/Disappearance-055d38cc.png",Od=[{map:pw,image:zw,complexity:"Simple"},{map:gw,image:qw,complexity:"Simple"},{map:Iw,image:ix,complexity:"Simple"},{map:Nw,image:cx,complexity:"Simple"},{map:Vw,image:hx,complexity:"Simple"},{map:Cw,image:Qw,complexity:"Simple"},{map:Mw,image:ex,complexity:"Simple"},{map:vw,image:Xw,complexity:"Average"},{map:ww,image:Yw,complexity:"Average"},{map:Rw,image:Jw,complexity:"Average"},{map:Pw,image:tx,complexity:"Average"},{map:Aw,image:rx,complexity:"Average"},{map:kw,image:sx,complexity:"Average"},{map:Hw,image:fx,complexity:"Average"},{map:Dw,image:nx,complexity:"Average"},{map:Uw,image:ux,complexity:"Average"},{map:Sw,image:Zw,complexity:"Complex"},{map:Ew,image:Kw,complexity:"Complex"},{map:Ow,image:ox,complexity:"Complex"},{map:Lw,image:ax,complexity:"Complex"},{map:Bw,image:lx,complexity:"Complex"},{map:Ww,image:mx,complexity:"Complex"},{map:Tw,image:$w,complexity:"Evil"},{map:Fw,image:dx,complexity:"Evil"},{map:Gw,image:px,complexity:"Evil"}],gx=["Simple","Average","Complex","Evil"],yx=n=>n==="Simple"?"Average":n==="Average"?"Complex":"Evil",vx={class:"difficulty-select"},bx={class:xn("button-div")},wx=["onClick"],xx={class:"button-div"},Sx=Ct("h3",null,"Select other map",-1),_x=[Sx],Ex=Ys({__name:"SelectDifficulty",emits:["selectedDifficulty","reselectMap"],setup(n,{emit:o}){const r=ra(()=>{const f=[];for(const d in Tl)f.push({...Tl[d],unlocked:tt.unlockedDifficulties[d]});return f}),t=f=>{f.unlocked&&o("selectedDifficulty",f)};return(f,d)=>(Ft(),nr("div",vx,[(Ft(!0),nr(Zr,null,vh(io(r),i=>(Ft(),nr("div",bx,[Ct("button",{class:xn(`${"button "+(i.unlocked?"":"locked ")+i.name}`),onClick:u=>t(i)},[Ct("h3",null,$i(i.name),1)],10,wx)]))),256)),Ct("div",xx,[Ct("button",{class:"button cancel",onClick:d[0]||(d[0]=i=>o("reselectMap"))},_x)])]))}});const jx={key:1},Tx={class:"all-maps"},Cx=["onClick"],Rx=["src"],Mx=Ct("h1",null,"<",-1),Px=[Mx],Ax=Ct("h1",null,">",-1),Ox=[Ax],kx=Ys({__name:"SelectMap",setup(n){const o=rs(1),r=ra(()=>(o.value-1)*6),t=ra(()=>{const g=[];for(const c of Od.slice(r.value,r.value+6))g.push({...c,unlocked:tt.unlockedMapComplexities[c.complexity]});return g}),f=rs(null),d=rs(!1),i=g=>{g.unlocked&&(f.value=g,d.value=!0)},u=()=>{f.value=null,d.value=!1},s=g=>{f.value!==null&&(d.value=!1,xs.value=!0,o.value=0,$b(f.value,g))},h=()=>{o.value--},m=()=>{o.value++};return(g,c)=>(Ft(),nr(Zr,null,[d.value?(Ft(),Ws(Ex,{key:0,onSelectedDifficulty:s,onReselectMap:u})):Kr("",!0),d.value?Kr("",!0):(Ft(),nr("div",jx,[Ct("div",Tx,[(Ft(!0),nr(Zr,null,vh(io(t),l=>(Ft(),nr("div",{class:xn(`map map-${l.complexity} ${l.unlocked?"":"locked"}`),onClick:a=>i(l)},[Ct("h3",null,$i(l.map.name)+" -- "+$i(l.complexity),1),Ct("img",{src:l.image,alt:"Map Preview",class:"map-image"},null,8,Rx)],10,Cx))),256)),o.value>1?(Ft(),nr("div",{key:0,class:"previous-maps maps-button",onClick:c[0]||(c[0]=l=>h())},Px)):Kr("",!0),o.value<io(Od).length/6?(Ft(),nr("div",{key:1,class:"next-maps maps-button",onClick:c[1]||(c[1]=l=>m())},Ox)):Kr("",!0)])]))],64))}});let la=[],Zl,Kl;const Dx=()=>{b.createCanvas(b.windowWidth,b.windowHeight),b.background(Do),Zl=new Bt(b.createVector(b.width*(1/11),b.height*(16/17)),b.width*(1/6),b.height*(1/10),"Save map",()=>{const n=Fx();if(n!==!0){alert(n);return}Gx()},ee.HEX_SIZE*2,b.color(Oo)),Kl=new Bt(b.createVector(b.width*(9/13),b.height*(16/17)),b.width*(2/10),b.height*(1/10),"Return to main menu",()=>{la=[],Hx()},ee.HEX_SIZE*1.5,b.color(Oo)),la.push(Zl,Kl),he.reConstructGrid(),b.draw=()=>Ix(),b.mousePressed=()=>Lx(),b.doubleClicked=()=>Bx(),b.keyPressed=n=>Ux(),b.windowResized=()=>Wx()},Ix=()=>{b.background(Do),b.strokeWeight(ee.STROKE),he.show(),Nx();for(const o of la)o.show();const n=he.getHexVectorFromXY(b.mouseX,b.mouseY);for(const o in js){const r=js[o],t=r.isBase||r.isSpawn?0:1;if(b.keyIsDown(r.keycode)&&he.rqVectorIsOnGrid(n,t)){const f=he.grid[n.x][n.y];b.fill([...r.rgb,100]),b.strokeWeight(ee.STROKE*2),ar(f.pos.x,f.pos.y,ee.HEX_SIZE)}}},Lx=()=>{for(const o of la)o.clicked()&&o.onClick();const n=he.getHexVectorFromXY(b.mouseX,b.mouseY);for(const o in js){const r=js[o],t=r.buildInOuterRing?0:1;if(b.keyIsDown(r.keycode)&&he.rqVectorIsOnGrid(n,t)){const f=he.grid[n.x][n.y];he.setBuilderTileType(f,parseInt(o));return}}},Bx=()=>{},Ux=n=>{},Nx=()=>{const n=b.width*.8,o=b.width-n,r=o/100,t=b.height/100,f=t*5;b.strokeWeight(ee.HEX_SIZE/12),b.fill(Su),b.stroke(bt),b.rect(n,0,o,b.height),b.textSize(ee.HEX_SIZE*1.2);for(const d in js){const i=parseInt(d),u=js[i],s=b.createVector(n+r*15,f+t*(5+9*i));b.strokeWeight(ee.STROKE),b.fill(u.rgb),ar(s.x,s.y,ee.HEX_SIZE),b.fill(0),b.strokeWeight(0),b.textSize(ee.HEX_SIZE),b.text(`${u.name}: ${u.hotkey}`,s.x+r*10,s.y+ee.HEX_SIZE/3)}},Fx=()=>{const n=[],o=[];for(const t of he.grid)for(const f of t)f.type===rt.SPAWN&&o.push(f),f.type===rt.BASE&&n.push(f);return n.length<1||o.length<1?"You need at least one base and one spawn":n.length>6||o.length>6?"Too many bases or spawns, max 6 of each":Vx(o,n)?!0:"Not all spawns can reach a base"},Vx=(n,o)=>{he.resetData(),he.addAllTeleports();for(const r of n){let t=!1,f;const d=[r],i=[];for(;d.length>0;){if(f=d[0],he.hexInArray(f,o)||f.data.flooded){t=!0;break}const u=he.getNeighbors(f.r,f.q,!0);for(const s of u)he.hexInArray(s,[...i,...d])||!s.canUnit||d.push(s);d.splice(0,1),i.push(f),f.data.flooded=!0}if(!t)return!1}return!0},Hx=()=>{b.createCanvas(0,0),b.windowResized=()=>{},xs.value=!1},Gx=async()=>{const n=prompt("What should this map be called?","Nameless here forever more");if(n===null)return;if(tt.guestUser){const i={name:n,map:he.generateJsonableMap()};b.saveJSON(i,`${n}.json`,!0);return}const o=prompt("About how difficult is this map? (simple: s, avarage: a, complex: c, evil: e)","s");if(o===null)return;let r=1;o==="a"?r=2:o==="c"?r=3:o==="e"&&(r=4);const t=prompt("Would you like to share this map online? y/n","n");if(t===null)return;let f=t==="y";const d={name:n,map:JSON.stringify(he.generateJsonableMap()),public:f,complexity:r};try{await ui.post("/maps/create",d)}catch(i){console.log(i)}},Wx=()=>{Eu(),he.resize(),Kl.resize(),Zl.resize(),b.resizeCanvas(b.windowWidth,b.windowHeight)},kd={"Game Design":["Hugo Kuipers"],"Technical Assistance":["Gerard Oosterhof","Merijn Hendriks"],"Playtesting & Advice":["Daniel Buwalda","Saskia Helmich","Timon Suk","Merijn Hendriks"]};let ua=b.windowHeight/7,zn=0;const zx=()=>{b.createCanvas(b.windowWidth,b.windowHeight),b.background(Ea),zn=b.windowHeight+ee.HEX_SIZE,ua=b.windowHeight/8,b.draw=()=>qx(),b.mousePressed=()=>Xx(),b.doubleClicked=()=>Yx(),b.keyPressed=n=>Zx(),b.windowResized=()=>Kx()},qx=()=>{b.background(Ea),b.strokeWeight(ee.STROKE*3),b.textAlign(b.CENTER),b.fill(mr);let n=zn;for(const o in kd){b.textSize(ee.HEX_SIZE*3),b.stroke(Gh),b.text(`~ ${o} ~`,b.windowWidth/2,n),n+=ua,b.textSize(ee.HEX_SIZE*2.5),b.stroke(Es);for(const r of kd[o])b.text(r,b.windowWidth/2,n),n+=ua}n<0&&np(),zn--,(b.keyIsDown(13)||b.mouseIsPressed)&&(zn-=4),b.keyIsDown(32)&&(zn-=10)},Xx=()=>{},Yx=()=>{},Zx=n=>{b.keyIsDown(27)&&np()},np=()=>{b.createCanvas(0,0),b.windowResized=()=>{},xs.value=!1},Kx=()=>{Eu(),ua=b.windowHeight/7,b.resizeCanvas(b.windowWidth,b.windowHeight)},$x={key:0,class:"main-menu"},Qx={key:0,class:"flr gray-back"},Jx={class:"flr"},eS={key:1},tS=Ct("h1",null,"Hexa Towers",-1),rS=[tS],oS={key:2,class:"menu"},sS=Ys({__name:"MainMenu",setup(n){const o=()=>{es.value=cu(kx)},r=()=>{Dx(),es.value=void 0,xs.value=!0},t=()=>{zx(),es.value=void 0,xs.value=!0},f=()=>{Ms.value=!1},d=()=>{Uu("null"),tt.setToLocalStorageData(),Ms.value=!1};return(i,u)=>io(xs)?Kr("",!0):(Ft(),nr("div",$x,[io(es)===void 0?(Ft(),nr("span",Qx,[io(tt).guestUser?(Ft(),nr("button",{key:0,class:"menu-button flr login-button",onClick:f},"Login")):(Ft(),nr("button",{key:1,class:"menu-button flr logout-button",onClick:d},"Logout")),Ct("p",Jx,"Hello "+$i(io(tt).username),1)])):Kr("",!0),io(es)===void 0?(Ft(),nr("header",eS,rS)):Kr("",!0),io(es)===void 0?(Ft(),nr("div",oS,[Ct("button",{class:"menu-button",onClick:o},"Free Play"),Ct("button",{class:"menu-button",onClick:r},"Map Builder"),Ct("button",{class:"menu-button",onClick:t},"Credits")])):Kr("",!0),(Ft(),Ws(K0(io(es))))]))}});const nS={class:"register"},iS=["onSubmit"],aS={class:"form-group"},lS=Ct("button",{class:"register-btn"},"Register",-1),uS=Ys({__name:"Register",setup(n){const o=[];for(const f in sr){const d=sr[f].name;o.push({name:d,unlocked:d==="Archer"})}const r=rs({username:"",email:"",password:"",passwordRepeat:""}),t=async()=>{try{await ui.post("/auth/register",{...r.value,towers:o});try{const{data:f}=await ui.post("/auth/login",{username:r.value.username,password:r.value.password});Uu(f.jwt_token),tt.setToDataFromServer(f),sp("","",!0).level>1&&prompt("It appears you have some local save data, would you like to use it for your account, or start from scratch (y/n)","")==="y"&&tt.setToLocalStorageData(!0,f.username,f.email),Ms.value=!0}catch(f){console.log(f)}}catch(f){console.log(f)}};return(f,d)=>(Ft(),nr("div",nS,[Ct("form",{onSubmit:Ah(t,["prevent"]),class:"register-form"},[Ct("div",aS,[sn(Ct("input",{id:"username","onUpdate:modelValue":d[0]||(d[0]=i=>r.value.username=i),autocomplete:"username",autofocus:"",placeholder:"Username",type:"text"},null,512),[[nn,r.value.username]]),sn(Ct("input",{id:"email","onUpdate:modelValue":d[1]||(d[1]=i=>r.value.email=i),autocomplete:"email",autofocus:"",placeholder:"Email",type:"text"},null,512),[[nn,r.value.email]]),sn(Ct("input",{id:"password","onUpdate:modelValue":d[2]||(d[2]=i=>r.value.password=i),autocomplete:"password",autofocus:"",placeholder:"Password",type:"password"},null,512),[[nn,r.value.password]]),sn(Ct("input",{id:"password-repeat","onUpdate:modelValue":d[3]||(d[3]=i=>r.value.passwordRepeat=i),autocomplete:"password-repeat",autofocus:"",placeholder:"Repeat Password",type:"password"},null,512),[[nn,r.value.passwordRepeat]]),lS])],40,iS)]))}});const cS={class:"login"},dS=["onSubmit"],hS={class:"form-group"},fS=Ct("button",{class:"login-btn"},"Login",-1),pS=Ys({__name:"Login",setup(n){const o=rs({username:"",password:""}),r=async()=>{try{const{data:t}=await ui.post("/auth/login",o.value);Uu(t.jwt_token),tt.setToDataFromServer(t),Ms.value=!0}catch(t){console.log(t)}};return(t,f)=>(Ft(),nr("div",cS,[Ct("form",{onSubmit:Ah(r,["prevent"]),class:"login-form"},[Ct("div",hS,[sn(Ct("input",{id:"username","onUpdate:modelValue":f[0]||(f[0]=d=>o.value.username=d),autocomplete:"username",autofocus:"",placeholder:"Username",type:"text"},null,512),[[nn,o.value.username]]),sn(Ct("input",{id:"password","onUpdate:modelValue":f[1]||(f[1]=d=>o.value.password=d),autocomplete:"password",autofocus:"",placeholder:"Password",type:"password"},null,512),[[nn,o.value.password]]),fS])],40,dS)]))}});const mS={class:"auth-main"},gS=Ct("header",null,[Ct("h1",null,"Hexa Towers")],-1),yS={class:"option"},vS={class:"option"},bS=Ys({__name:"AuthMain",setup(n){const o=rs(null),r=async()=>{Ms.value=!0},t=()=>{o.value="register"},f=()=>{o.value="login"},d=()=>{Ms.value=!0};return r(),(i,u)=>(Ft(),nr("div",mS,[gS,Ct("div",yS,[o.value!=="register"?(Ft(),nr("button",{key:0,class:"register-button",onClick:t},"Register")):Kr("",!0),o.value==="register"?(Ft(),Ws(uS,{key:1})):Kr("",!0)]),Ct("div",vS,[o.value!=="login"?(Ft(),nr("button",{key:0,class:"login-button",onClick:f},"Login")):Kr("",!0),o.value==="login"?(Ft(),Ws(pS,{key:1})):Kr("",!0)]),Ct("div",{class:"option"},[Ct("button",{class:"guest-button",onClick:d},"Continue as guest")])]))}});const wS=Ys({__name:"App",setup(n){return(o,r)=>(Ft(),nr(Zr,null,[io(Ms)?(Ft(),Ws(sS,{key:0})):Kr("",!0),io(Ms)?Kr("",!0):(Ft(),Ws(bS,{key:1}))],64))}});rg(wS).mount("#app");

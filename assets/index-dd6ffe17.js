var uf=Object.defineProperty;var cf=(s,n,t)=>n in s?uf(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var W=(s,n,t)=>(cf(s,typeof n!="symbol"?n+"":n,t),t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))e(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&e(h)}).observe(document,{childList:!0,subtree:!0});function t(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerpolicy&&(d.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?d.credentials="include":u.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function e(u){if(u.ep)return;u.ep=!0;const d=t(u);fetch(u.href,d)}})();function ol(s,n){const t=Object.create(null),e=s.split(",");for(let u=0;u<e.length;u++)t[e[u]]=!0;return n?u=>!!t[u.toLowerCase()]:u=>!!t[u]}function sl(s){if(wt(s)){const n={};for(let t=0;t<s.length;t++){const e=s[t],u=lr(e)?pf(e):sl(e);if(u)for(const d in u)n[d]=u[d]}return n}else{if(lr(s))return s;if(tr(s))return s}}const df=/;(?![^(]*\))/g,hf=/:([^]+)/,ff=/\/\*.*?\*\//gs;function pf(s){const n={};return s.replace(ff,"").split(df).forEach(t=>{if(t){const e=t.split(hf);e.length>1&&(n[e[0].trim()]=e[1].trim())}}),n}function Jo(s){let n="";if(lr(s))n=s;else if(wt(s))for(let t=0;t<s.length;t++){const e=Jo(s[t]);e&&(n+=e+" ")}else if(tr(s))for(const t in s)s[t]&&(n+=t+" ");return n.trim()}const mf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gf=ol(mf);function Oc(s){return!!s||s===""}const va=s=>lr(s)?s:s==null?"":wt(s)||tr(s)&&(s.toString===Dc||!_t(s.toString))?JSON.stringify(s,Pc,2):String(s),Pc=(s,n)=>n&&n.__v_isRef?Pc(s,n.value):Vo(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((t,[e,u])=>(t[`${e} =>`]=u,t),{})}:kc(n)?{[`Set(${n.size})`]:[...n.values()]}:tr(n)&&!wt(n)&&!Ic(n)?String(n):n,Jt={},Go=[],on=()=>{},yf=()=>!1,vf=/^on[^a-z]/,ji=s=>vf.test(s),il=s=>s.startsWith("onUpdate:"),Sr=Object.assign,al=(s,n)=>{const t=s.indexOf(n);t>-1&&s.splice(t,1)},bf=Object.prototype.hasOwnProperty,Pt=(s,n)=>bf.call(s,n),wt=Array.isArray,Vo=s=>Ti(s)==="[object Map]",kc=s=>Ti(s)==="[object Set]",_t=s=>typeof s=="function",lr=s=>typeof s=="string",ll=s=>typeof s=="symbol",tr=s=>s!==null&&typeof s=="object",Lc=s=>tr(s)&&_t(s.then)&&_t(s.catch),Dc=Object.prototype.toString,Ti=s=>Dc.call(s),wf=s=>Ti(s).slice(8,-1),Ic=s=>Ti(s)==="[object Object]",ul=s=>lr(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,Qs=ol(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ei=s=>{const n=Object.create(null);return t=>n[t]||(n[t]=s(t))},xf=/-(\w)/g,xn=Ei(s=>s.replace(xf,(n,t)=>t?t.toUpperCase():"")),_f=/\B([A-Z])/g,es=Ei(s=>s.replace(_f,"-$1").toLowerCase()),Ci=Ei(s=>s.charAt(0).toUpperCase()+s.slice(1)),na=Ei(s=>s?`on${Ci(s)}`:""),Ss=(s,n)=>!Object.is(s,n),oa=(s,n)=>{for(let t=0;t<s.length;t++)s[t](n)},fi=(s,n,t)=>{Object.defineProperty(s,n,{configurable:!0,enumerable:!1,value:t})},Sf=s=>{const n=parseFloat(s);return isNaN(n)?s:n};let Ou;const jf=()=>Ou||(Ou=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let en;class Tf{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=en,!n&&en&&(this.index=(en.scopes||(en.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const t=en;try{return en=this,n()}finally{en=t}}}on(){en=this}off(){en=this.parent}stop(n){if(this._active){let t,e;for(t=0,e=this.effects.length;t<e;t++)this.effects[t].stop();for(t=0,e=this.cleanups.length;t<e;t++)this.cleanups[t]();if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!n){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function Ef(s,n=en){n&&n.active&&n.effects.push(s)}function Cf(){return en}const cl=s=>{const n=new Set(s);return n.w=0,n.n=0,n},Bc=s=>(s.w&Zn)>0,Nc=s=>(s.n&Zn)>0,Mf=({deps:s})=>{if(s.length)for(let n=0;n<s.length;n++)s[n].w|=Zn},Af=s=>{const{deps:n}=s;if(n.length){let t=0;for(let e=0;e<n.length;e++){const u=n[e];Bc(u)&&!Nc(u)?u.delete(s):n[t++]=u,u.w&=~Zn,u.n&=~Zn}n.length=t}},ba=new WeakMap;let ms=0,Zn=1;const wa=30;let rn;const xo=Symbol(""),xa=Symbol("");class dl{constructor(n,t=null,e){this.fn=n,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,Ef(this,e)}run(){if(!this.active)return this.fn();let n=rn,t=Xn;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=rn,rn=this,Xn=!0,Zn=1<<++ms,ms<=wa?Mf(this):Pu(this),this.fn()}finally{ms<=wa&&Af(this),Zn=1<<--ms,rn=this.parent,Xn=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){rn===this?this.deferStop=!0:this.active&&(Pu(this),this.onStop&&this.onStop(),this.active=!1)}}function Pu(s){const{deps:n}=s;if(n.length){for(let t=0;t<n.length;t++)n[t].delete(s);n.length=0}}let Xn=!0;const Fc=[];function ts(){Fc.push(Xn),Xn=!1}function rs(){const s=Fc.pop();Xn=s===void 0?!0:s}function Pr(s,n,t){if(Xn&&rn){let e=ba.get(s);e||ba.set(s,e=new Map);let u=e.get(t);u||e.set(t,u=cl()),Uc(u)}}function Uc(s,n){let t=!1;ms<=wa?Nc(s)||(s.n|=Zn,t=!Bc(s)):t=!s.has(rn),t&&(s.add(rn),rn.deps.push(s))}function Ln(s,n,t,e,u,d){const h=ba.get(s);if(!h)return;let r=[];if(n==="clear")r=[...h.values()];else if(t==="length"&&wt(s)){const p=Number(e);h.forEach((f,g)=>{(g==="length"||g>=p)&&r.push(f)})}else switch(t!==void 0&&r.push(h.get(t)),n){case"add":wt(s)?ul(t)&&r.push(h.get("length")):(r.push(h.get(xo)),Vo(s)&&r.push(h.get(xa)));break;case"delete":wt(s)||(r.push(h.get(xo)),Vo(s)&&r.push(h.get(xa)));break;case"set":Vo(s)&&r.push(h.get(xo));break}if(r.length===1)r[0]&&_a(r[0]);else{const p=[];for(const f of r)f&&p.push(...f);_a(cl(p))}}function _a(s,n){const t=wt(s)?s:[...s];for(const e of t)e.computed&&ku(e);for(const e of t)e.computed||ku(e)}function ku(s,n){(s!==rn||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}const Rf=ol("__proto__,__v_isRef,__isVue"),Gc=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(ll)),Of=hl(),Pf=hl(!1,!0),kf=hl(!0),Lu=Lf();function Lf(){const s={};return["includes","indexOf","lastIndexOf"].forEach(n=>{s[n]=function(...t){const e=Lt(this);for(let d=0,h=this.length;d<h;d++)Pr(e,"get",d+"");const u=e[n](...t);return u===-1||u===!1?e[n](...t.map(Lt)):u}}),["push","pop","shift","unshift","splice"].forEach(n=>{s[n]=function(...t){ts();const e=Lt(this)[n].apply(this,t);return rs(),e}}),s}function Df(s){const n=Lt(this);return Pr(n,"has",s),n.hasOwnProperty(s)}function hl(s=!1,n=!1){return function(e,u,d){if(u==="__v_isReactive")return!s;if(u==="__v_isReadonly")return s;if(u==="__v_isShallow")return n;if(u==="__v_raw"&&d===(s?n?Qf:qc:n?zc:Wc).get(e))return e;const h=wt(e);if(!s){if(h&&Pt(Lu,u))return Reflect.get(Lu,u,d);if(u==="hasOwnProperty")return Df}const r=Reflect.get(e,u,d);return(ll(u)?Gc.has(u):Rf(u))||(s||Pr(e,"get",u),n)?r:xr(r)?h&&ul(u)?r:r.value:tr(r)?s?Yc(r):ml(r):r}}const If=Vc(),Bf=Vc(!0);function Vc(s=!1){return function(t,e,u,d){let h=t[e];if(qo(h)&&xr(h)&&!xr(u))return!1;if(!s&&(!pi(u)&&!qo(u)&&(h=Lt(h),u=Lt(u)),!wt(t)&&xr(h)&&!xr(u)))return h.value=u,!0;const r=wt(t)&&ul(e)?Number(e)<t.length:Pt(t,e),p=Reflect.set(t,e,u,d);return t===Lt(d)&&(r?Ss(u,h)&&Ln(t,"set",e,u):Ln(t,"add",e,u)),p}}function Nf(s,n){const t=Pt(s,n);s[n];const e=Reflect.deleteProperty(s,n);return e&&t&&Ln(s,"delete",n,void 0),e}function Ff(s,n){const t=Reflect.has(s,n);return(!ll(n)||!Gc.has(n))&&Pr(s,"has",n),t}function Uf(s){return Pr(s,"iterate",wt(s)?"length":xo),Reflect.ownKeys(s)}const Hc={get:Of,set:If,deleteProperty:Nf,has:Ff,ownKeys:Uf},Gf={get:kf,set(s,n){return!0},deleteProperty(s,n){return!0}},Vf=Sr({},Hc,{get:Pf,set:Bf}),fl=s=>s,Mi=s=>Reflect.getPrototypeOf(s);function Hs(s,n,t=!1,e=!1){s=s.__v_raw;const u=Lt(s),d=Lt(n);t||(n!==d&&Pr(u,"get",n),Pr(u,"get",d));const{has:h}=Mi(u),r=e?fl:t?vl:js;if(h.call(u,n))return r(s.get(n));if(h.call(u,d))return r(s.get(d));s!==u&&s.get(n)}function Ws(s,n=!1){const t=this.__v_raw,e=Lt(t),u=Lt(s);return n||(s!==u&&Pr(e,"has",s),Pr(e,"has",u)),s===u?t.has(s):t.has(s)||t.has(u)}function zs(s,n=!1){return s=s.__v_raw,!n&&Pr(Lt(s),"iterate",xo),Reflect.get(s,"size",s)}function Du(s){s=Lt(s);const n=Lt(this);return Mi(n).has.call(n,s)||(n.add(s),Ln(n,"add",s,s)),this}function Iu(s,n){n=Lt(n);const t=Lt(this),{has:e,get:u}=Mi(t);let d=e.call(t,s);d||(s=Lt(s),d=e.call(t,s));const h=u.call(t,s);return t.set(s,n),d?Ss(n,h)&&Ln(t,"set",s,n):Ln(t,"add",s,n),this}function Bu(s){const n=Lt(this),{has:t,get:e}=Mi(n);let u=t.call(n,s);u||(s=Lt(s),u=t.call(n,s)),e&&e.call(n,s);const d=n.delete(s);return u&&Ln(n,"delete",s,void 0),d}function Nu(){const s=Lt(this),n=s.size!==0,t=s.clear();return n&&Ln(s,"clear",void 0,void 0),t}function qs(s,n){return function(e,u){const d=this,h=d.__v_raw,r=Lt(h),p=n?fl:s?vl:js;return!s&&Pr(r,"iterate",xo),h.forEach((f,g)=>e.call(u,p(f),p(g),d))}}function Ys(s,n,t){return function(...e){const u=this.__v_raw,d=Lt(u),h=Vo(d),r=s==="entries"||s===Symbol.iterator&&h,p=s==="keys"&&h,f=u[s](...e),g=t?fl:n?vl:js;return!n&&Pr(d,"iterate",p?xa:xo),{next(){const{value:m,done:i}=f.next();return i?{value:m,done:i}:{value:r?[g(m[0]),g(m[1])]:g(m),done:i}},[Symbol.iterator](){return this}}}}function Wn(s){return function(...n){return s==="delete"?!1:this}}function Hf(){const s={get(d){return Hs(this,d)},get size(){return zs(this)},has:Ws,add:Du,set:Iu,delete:Bu,clear:Nu,forEach:qs(!1,!1)},n={get(d){return Hs(this,d,!1,!0)},get size(){return zs(this)},has:Ws,add:Du,set:Iu,delete:Bu,clear:Nu,forEach:qs(!1,!0)},t={get(d){return Hs(this,d,!0)},get size(){return zs(this,!0)},has(d){return Ws.call(this,d,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:qs(!0,!1)},e={get(d){return Hs(this,d,!0,!0)},get size(){return zs(this,!0)},has(d){return Ws.call(this,d,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:qs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{s[d]=Ys(d,!1,!1),t[d]=Ys(d,!0,!1),n[d]=Ys(d,!1,!0),e[d]=Ys(d,!0,!0)}),[s,t,n,e]}const[Wf,zf,qf,Yf]=Hf();function pl(s,n){const t=n?s?Yf:qf:s?zf:Wf;return(e,u,d)=>u==="__v_isReactive"?!s:u==="__v_isReadonly"?s:u==="__v_raw"?e:Reflect.get(Pt(t,u)&&u in e?t:e,u,d)}const Xf={get:pl(!1,!1)},$f={get:pl(!1,!0)},Kf={get:pl(!0,!1)},Wc=new WeakMap,zc=new WeakMap,qc=new WeakMap,Qf=new WeakMap;function Zf(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jf(s){return s.__v_skip||!Object.isExtensible(s)?0:Zf(wf(s))}function ml(s){return qo(s)?s:gl(s,!1,Hc,Xf,Wc)}function ep(s){return gl(s,!1,Vf,$f,zc)}function Yc(s){return gl(s,!0,Gf,Kf,qc)}function gl(s,n,t,e,u){if(!tr(s)||s.__v_raw&&!(n&&s.__v_isReactive))return s;const d=u.get(s);if(d)return d;const h=Jf(s);if(h===0)return s;const r=new Proxy(s,h===2?e:t);return u.set(s,r),r}function Ho(s){return qo(s)?Ho(s.__v_raw):!!(s&&s.__v_isReactive)}function qo(s){return!!(s&&s.__v_isReadonly)}function pi(s){return!!(s&&s.__v_isShallow)}function Xc(s){return Ho(s)||qo(s)}function Lt(s){const n=s&&s.__v_raw;return n?Lt(n):s}function yl(s){return fi(s,"__v_skip",!0),s}const js=s=>tr(s)?ml(s):s,vl=s=>tr(s)?Yc(s):s;function $c(s){Xn&&rn&&(s=Lt(s),Uc(s.dep||(s.dep=cl())))}function Kc(s,n){s=Lt(s);const t=s.dep;t&&_a(t)}function xr(s){return!!(s&&s.__v_isRef===!0)}function ws(s){return tp(s,!1)}function tp(s,n){return xr(s)?s:new rp(s,n)}class rp{constructor(n,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?n:Lt(n),this._value=t?n:js(n)}get value(){return $c(this),this._value}set value(n){const t=this.__v_isShallow||pi(n)||qo(n);n=t?n:Lt(n),Ss(n,this._rawValue)&&(this._rawValue=n,this._value=t?n:js(n),Kc(this))}}function _o(s){return xr(s)?s.value:s}const np={get:(s,n,t)=>_o(Reflect.get(s,n,t)),set:(s,n,t,e)=>{const u=s[n];return xr(u)&&!xr(t)?(u.value=t,!0):Reflect.set(s,n,t,e)}};function Qc(s){return Ho(s)?s:new Proxy(s,np)}var Zc;class op{constructor(n,t,e,u){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[Zc]=!1,this._dirty=!0,this.effect=new dl(n,()=>{this._dirty||(this._dirty=!0,Kc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=e}get value(){const n=Lt(this);return $c(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}Zc="__v_isReadonly";function sp(s,n,t=!1){let e,u;const d=_t(s);return d?(e=s,u=on):(e=s.get,u=s.set),new op(e,u,d||!u,t)}function $n(s,n,t,e){let u;try{u=e?s(...e):s()}catch(d){Ai(d,n,t)}return u}function zr(s,n,t,e){if(_t(s)){const d=$n(s,n,t,e);return d&&Lc(d)&&d.catch(h=>{Ai(h,n,t)}),d}const u=[];for(let d=0;d<s.length;d++)u.push(zr(s[d],n,t,e));return u}function Ai(s,n,t,e=!0){const u=n?n.vnode:null;if(n){let d=n.parent;const h=n.proxy,r=t;for(;d;){const f=d.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](s,h,r)===!1)return}d=d.parent}const p=n.appContext.config.errorHandler;if(p){$n(p,null,10,[s,h,r]);return}}ip(s,t,u,e)}function ip(s,n,t,e=!0){console.error(s)}let Ts=!1,Sa=!1;const wr=[];let bn=0;const Wo=[];let Mn=null,yo=0;const Jc=Promise.resolve();let bl=null;function ap(s){const n=bl||Jc;return s?n.then(this?s.bind(this):s):n}function lp(s){let n=bn+1,t=wr.length;for(;n<t;){const e=n+t>>>1;Es(wr[e])<s?n=e+1:t=e}return n}function wl(s){(!wr.length||!wr.includes(s,Ts&&s.allowRecurse?bn+1:bn))&&(s.id==null?wr.push(s):wr.splice(lp(s.id),0,s),ed())}function ed(){!Ts&&!Sa&&(Sa=!0,bl=Jc.then(rd))}function up(s){const n=wr.indexOf(s);n>bn&&wr.splice(n,1)}function cp(s){wt(s)?Wo.push(...s):(!Mn||!Mn.includes(s,s.allowRecurse?yo+1:yo))&&Wo.push(s),ed()}function Fu(s,n=Ts?bn+1:0){for(;n<wr.length;n++){const t=wr[n];t&&t.pre&&(wr.splice(n,1),n--,t())}}function td(s){if(Wo.length){const n=[...new Set(Wo)];if(Wo.length=0,Mn){Mn.push(...n);return}for(Mn=n,Mn.sort((t,e)=>Es(t)-Es(e)),yo=0;yo<Mn.length;yo++)Mn[yo]();Mn=null,yo=0}}const Es=s=>s.id==null?1/0:s.id,dp=(s,n)=>{const t=Es(s)-Es(n);if(t===0){if(s.pre&&!n.pre)return-1;if(n.pre&&!s.pre)return 1}return t};function rd(s){Sa=!1,Ts=!0,wr.sort(dp);const n=on;try{for(bn=0;bn<wr.length;bn++){const t=wr[bn];t&&t.active!==!1&&$n(t,null,14)}}finally{bn=0,wr.length=0,td(),Ts=!1,bl=null,(wr.length||Wo.length)&&rd()}}function hp(s,n,...t){if(s.isUnmounted)return;const e=s.vnode.props||Jt;let u=t;const d=n.startsWith("update:"),h=d&&n.slice(7);if(h&&h in e){const g=`${h==="modelValue"?"model":h}Modifiers`,{number:m,trim:i}=e[g]||Jt;i&&(u=t.map(o=>lr(o)?o.trim():o)),m&&(u=t.map(Sf))}let r,p=e[r=na(n)]||e[r=na(xn(n))];!p&&d&&(p=e[r=na(es(n))]),p&&zr(p,s,6,u);const f=e[r+"Once"];if(f){if(!s.emitted)s.emitted={};else if(s.emitted[r])return;s.emitted[r]=!0,zr(f,s,6,u)}}function nd(s,n,t=!1){const e=n.emitsCache,u=e.get(s);if(u!==void 0)return u;const d=s.emits;let h={},r=!1;if(!_t(s)){const p=f=>{const g=nd(f,n,!0);g&&(r=!0,Sr(h,g))};!t&&n.mixins.length&&n.mixins.forEach(p),s.extends&&p(s.extends),s.mixins&&s.mixins.forEach(p)}return!d&&!r?(tr(s)&&e.set(s,null),null):(wt(d)?d.forEach(p=>h[p]=null):Sr(h,d),tr(s)&&e.set(s,h),h)}function Ri(s,n){return!s||!ji(n)?!1:(n=n.slice(2).replace(/Once$/,""),Pt(s,n[0].toLowerCase()+n.slice(1))||Pt(s,es(n))||Pt(s,n))}let Wr=null,od=null;function mi(s){const n=Wr;return Wr=s,od=s&&s.type.__scopeId||null,n}function fp(s,n=Wr,t){if(!n||s._n)return s;const e=(...u)=>{e._d&&$u(-1);const d=mi(n);let h;try{h=s(...u)}finally{mi(d),e._d&&$u(1)}return h};return e._n=!0,e._c=!0,e._d=!0,e}function sa(s){const{type:n,vnode:t,proxy:e,withProxy:u,props:d,propsOptions:[h],slots:r,attrs:p,emit:f,render:g,renderCache:m,data:i,setupState:o,ctx:a,inheritAttrs:l}=s;let c,y;const w=mi(s);try{if(t.shapeFlag&4){const S=u||e;c=vn(g.call(S,S,m,d,o,i,a)),y=p}else{const S=n;c=vn(S.length>1?S(d,{attrs:p,slots:r,emit:f}):S(d,null)),y=n.props?p:pp(p)}}catch(S){_s.length=0,Ai(S,s,1),c=Pn(sn)}let x=c;if(y&&l!==!1){const S=Object.keys(y),{shapeFlag:E}=x;S.length&&E&7&&(h&&S.some(il)&&(y=mp(y,h)),x=Jn(x,y))}return t.dirs&&(x=Jn(x),x.dirs=x.dirs?x.dirs.concat(t.dirs):t.dirs),t.transition&&(x.transition=t.transition),c=x,mi(w),c}const pp=s=>{let n;for(const t in s)(t==="class"||t==="style"||ji(t))&&((n||(n={}))[t]=s[t]);return n},mp=(s,n)=>{const t={};for(const e in s)(!il(e)||!(e.slice(9)in n))&&(t[e]=s[e]);return t};function gp(s,n,t){const{props:e,children:u,component:d}=s,{props:h,children:r,patchFlag:p}=n,f=d.emitsOptions;if(n.dirs||n.transition)return!0;if(t&&p>=0){if(p&1024)return!0;if(p&16)return e?Uu(e,h,f):!!h;if(p&8){const g=n.dynamicProps;for(let m=0;m<g.length;m++){const i=g[m];if(h[i]!==e[i]&&!Ri(f,i))return!0}}}else return(u||r)&&(!r||!r.$stable)?!0:e===h?!1:e?h?Uu(e,h,f):!0:!!h;return!1}function Uu(s,n,t){const e=Object.keys(n);if(e.length!==Object.keys(s).length)return!0;for(let u=0;u<e.length;u++){const d=e[u];if(n[d]!==s[d]&&!Ri(t,d))return!0}return!1}function yp({vnode:s,parent:n},t){for(;n&&n.subTree===s;)(s=n.vnode).el=t,n=n.parent}const vp=s=>s.__isSuspense;function bp(s,n){n&&n.pendingBranch?wt(s)?n.effects.push(...s):n.effects.push(s):cp(s)}function wp(s,n){if(sr){let t=sr.provides;const e=sr.parent&&sr.parent.provides;e===t&&(t=sr.provides=Object.create(e)),t[s]=n}}function Zs(s,n,t=!1){const e=sr||Wr;if(e){const u=e.parent==null?e.vnode.appContext&&e.vnode.appContext.provides:e.parent.provides;if(u&&s in u)return u[s];if(arguments.length>1)return t&&_t(n)?n.call(e.proxy):n}}const Xs={};function ia(s,n,t){return sd(s,n,t)}function sd(s,n,{immediate:t,deep:e,flush:u,onTrack:d,onTrigger:h}=Jt){const r=Cf()===(sr==null?void 0:sr.scope)?sr:null;let p,f=!1,g=!1;if(xr(s)?(p=()=>s.value,f=pi(s)):Ho(s)?(p=()=>s,e=!0):wt(s)?(g=!0,f=s.some(x=>Ho(x)||pi(x)),p=()=>s.map(x=>{if(xr(x))return x.value;if(Ho(x))return Io(x);if(_t(x))return $n(x,r,2)})):_t(s)?n?p=()=>$n(s,r,2):p=()=>{if(!(r&&r.isUnmounted))return m&&m(),zr(s,r,3,[i])}:p=on,n&&e){const x=p;p=()=>Io(x())}let m,i=x=>{m=y.onStop=()=>{$n(x,r,4)}},o;if(Ms)if(i=on,n?t&&zr(n,r,3,[p(),g?[]:void 0,i]):p(),u==="sync"){const x=y0();o=x.__watcherHandles||(x.__watcherHandles=[])}else return on;let a=g?new Array(s.length).fill(Xs):Xs;const l=()=>{if(y.active)if(n){const x=y.run();(e||f||(g?x.some((S,E)=>Ss(S,a[E])):Ss(x,a)))&&(m&&m(),zr(n,r,3,[x,a===Xs?void 0:g&&a[0]===Xs?[]:a,i]),a=x)}else y.run()};l.allowRecurse=!!n;let c;u==="sync"?c=l:u==="post"?c=()=>Or(l,r&&r.suspense):(l.pre=!0,r&&(l.id=r.uid),c=()=>wl(l));const y=new dl(p,c);n?t?l():a=y.run():u==="post"?Or(y.run.bind(y),r&&r.suspense):y.run();const w=()=>{y.stop(),r&&r.scope&&al(r.scope.effects,y)};return o&&o.push(w),w}function xp(s,n,t){const e=this.proxy,u=lr(s)?s.includes(".")?id(e,s):()=>e[s]:s.bind(e,e);let d;_t(n)?d=n:(d=n.handler,t=n);const h=sr;Yo(this);const r=sd(u,d.bind(e),t);return h?Yo(h):So(),r}function id(s,n){const t=n.split(".");return()=>{let e=s;for(let u=0;u<t.length&&e;u++)e=e[t[u]];return e}}function Io(s,n){if(!tr(s)||s.__v_skip||(n=n||new Set,n.has(s)))return s;if(n.add(s),xr(s))Io(s.value,n);else if(wt(s))for(let t=0;t<s.length;t++)Io(s[t],n);else if(kc(s)||Vo(s))s.forEach(t=>{Io(t,n)});else if(Ic(s))for(const t in s)Io(s[t],n);return s}function _p(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cd(()=>{s.isMounted=!0}),dd(()=>{s.isUnmounting=!0}),s}const Fr=[Function,Array],Sp={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fr,onEnter:Fr,onAfterEnter:Fr,onEnterCancelled:Fr,onBeforeLeave:Fr,onLeave:Fr,onAfterLeave:Fr,onLeaveCancelled:Fr,onBeforeAppear:Fr,onAppear:Fr,onAfterAppear:Fr,onAppearCancelled:Fr},setup(s,{slots:n}){const t=u0(),e=_p();let u;return()=>{const d=n.default&&ld(n.default(),!0);if(!d||!d.length)return;let h=d[0];if(d.length>1){for(const l of d)if(l.type!==sn){h=l;break}}const r=Lt(s),{mode:p}=r;if(e.isLeaving)return aa(h);const f=Gu(h);if(!f)return aa(h);const g=ja(f,r,e,t);Ta(f,g);const m=t.subTree,i=m&&Gu(m);let o=!1;const{getTransitionKey:a}=f.type;if(a){const l=a();u===void 0?u=l:l!==u&&(u=l,o=!0)}if(i&&i.type!==sn&&(!vo(f,i)||o)){const l=ja(i,r,e,t);if(Ta(i,l),p==="out-in")return e.isLeaving=!0,l.afterLeave=()=>{e.isLeaving=!1,t.update.active!==!1&&t.update()},aa(h);p==="in-out"&&f.type!==sn&&(l.delayLeave=(c,y,w)=>{const x=ad(e,i);x[String(i.key)]=i,c._leaveCb=()=>{y(),c._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=w})}return h}}},jp=Sp;function ad(s,n){const{leavingVNodes:t}=s;let e=t.get(n.type);return e||(e=Object.create(null),t.set(n.type,e)),e}function ja(s,n,t,e){const{appear:u,mode:d,persisted:h=!1,onBeforeEnter:r,onEnter:p,onAfterEnter:f,onEnterCancelled:g,onBeforeLeave:m,onLeave:i,onAfterLeave:o,onLeaveCancelled:a,onBeforeAppear:l,onAppear:c,onAfterAppear:y,onAppearCancelled:w}=n,x=String(s.key),S=ad(t,s),E=(O,I)=>{O&&zr(O,e,9,I)},C=(O,I)=>{const R=I[1];E(O,I),wt(O)?O.every(L=>L.length<=1)&&R():O.length<=1&&R()},A={mode:d,persisted:h,beforeEnter(O){let I=r;if(!t.isMounted)if(u)I=l||r;else return;O._leaveCb&&O._leaveCb(!0);const R=S[x];R&&vo(s,R)&&R.el._leaveCb&&R.el._leaveCb(),E(I,[O])},enter(O){let I=p,R=f,L=g;if(!t.isMounted)if(u)I=c||p,R=y||f,L=w||g;else return;let N=!1;const D=O._enterCb=H=>{N||(N=!0,H?E(L,[O]):E(R,[O]),A.delayedLeave&&A.delayedLeave(),O._enterCb=void 0)};I?C(I,[O,D]):D()},leave(O,I){const R=String(s.key);if(O._enterCb&&O._enterCb(!0),t.isUnmounting)return I();E(m,[O]);let L=!1;const N=O._leaveCb=D=>{L||(L=!0,I(),D?E(a,[O]):E(o,[O]),O._leaveCb=void 0,S[R]===s&&delete S[R])};S[R]=s,i?C(i,[O,N]):N()},clone(O){return ja(O,n,t,e)}};return A}function aa(s){if(Oi(s))return s=Jn(s),s.children=null,s}function Gu(s){return Oi(s)?s.children?s.children[0]:void 0:s}function Ta(s,n){s.shapeFlag&6&&s.component?Ta(s.component.subTree,n):s.shapeFlag&128?(s.ssContent.transition=n.clone(s.ssContent),s.ssFallback.transition=n.clone(s.ssFallback)):s.transition=n}function ld(s,n=!1,t){let e=[],u=0;for(let d=0;d<s.length;d++){let h=s[d];const r=t==null?h.key:String(t)+String(h.key!=null?h.key:d);h.type===Ir?(h.patchFlag&128&&u++,e=e.concat(ld(h.children,n,r))):(n||h.type!==sn)&&e.push(r!=null?Jn(h,{key:r}):h)}if(u>1)for(let d=0;d<e.length;d++)e[d].patchFlag=-2;return e}function xl(s){return _t(s)?{setup:s,name:s.name}:s}const Js=s=>!!s.type.__asyncLoader,Oi=s=>s.type.__isKeepAlive;function Tp(s,n){ud(s,"a",n)}function Ep(s,n){ud(s,"da",n)}function ud(s,n,t=sr){const e=s.__wdc||(s.__wdc=()=>{let u=t;for(;u;){if(u.isDeactivated)return;u=u.parent}return s()});if(Pi(n,e,t),t){let u=t.parent;for(;u&&u.parent;)Oi(u.parent.vnode)&&Cp(e,n,t,u),u=u.parent}}function Cp(s,n,t,e){const u=Pi(n,s,e,!0);hd(()=>{al(e[n],u)},t)}function Pi(s,n,t=sr,e=!1){if(t){const u=t[s]||(t[s]=[]),d=n.__weh||(n.__weh=(...h)=>{if(t.isUnmounted)return;ts(),Yo(t);const r=zr(n,t,s,h);return So(),rs(),r});return e?u.unshift(d):u.push(d),d}}const Dn=s=>(n,t=sr)=>(!Ms||s==="sp")&&Pi(s,(...e)=>n(...e),t),Mp=Dn("bm"),cd=Dn("m"),Ap=Dn("bu"),Rp=Dn("u"),dd=Dn("bum"),hd=Dn("um"),Op=Dn("sp"),Pp=Dn("rtg"),kp=Dn("rtc");function Lp(s,n=sr){Pi("ec",s,n)}function po(s,n,t,e){const u=s.dirs,d=n&&n.dirs;for(let h=0;h<u.length;h++){const r=u[h];d&&(r.oldValue=d[h].value);let p=r.dir[e];p&&(ts(),zr(p,t,8,[s.el,r,s,n]),rs())}}const _l="components";function Dp(s,n){return pd(_l,s,!0,n)||s}const fd=Symbol();function Ip(s){return lr(s)?pd(_l,s,!1)||s:s||fd}function pd(s,n,t=!0,e=!1){const u=Wr||sr;if(u){const d=u.type;if(s===_l){const r=p0(d,!1);if(r&&(r===n||r===xn(n)||r===Ci(xn(n))))return d}const h=Vu(u[s]||d[s],n)||Vu(u.appContext[s],n);return!h&&e?d:h}}function Vu(s,n){return s&&(s[n]||s[xn(n)]||s[Ci(xn(n))])}function md(s,n,t,e){let u;const d=t&&t[e];if(wt(s)||lr(s)){u=new Array(s.length);for(let h=0,r=s.length;h<r;h++)u[h]=n(s[h],h,void 0,d&&d[h])}else if(typeof s=="number"){u=new Array(s);for(let h=0;h<s;h++)u[h]=n(h+1,h,void 0,d&&d[h])}else if(tr(s))if(s[Symbol.iterator])u=Array.from(s,(h,r)=>n(h,r,void 0,d&&d[r]));else{const h=Object.keys(s);u=new Array(h.length);for(let r=0,p=h.length;r<p;r++){const f=h[r];u[r]=n(s[f],f,r,d&&d[r])}}else u=[];return t&&(t[e]=u),u}const Ea=s=>s?Ed(s)?El(s)||s.proxy:Ea(s.parent):null,xs=Sr(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>Ea(s.parent),$root:s=>Ea(s.root),$emit:s=>s.emit,$options:s=>Sl(s),$forceUpdate:s=>s.f||(s.f=()=>wl(s.update)),$nextTick:s=>s.n||(s.n=ap.bind(s.proxy)),$watch:s=>xp.bind(s)}),la=(s,n)=>s!==Jt&&!s.__isScriptSetup&&Pt(s,n),Bp={get({_:s},n){const{ctx:t,setupState:e,data:u,props:d,accessCache:h,type:r,appContext:p}=s;let f;if(n[0]!=="$"){const o=h[n];if(o!==void 0)switch(o){case 1:return e[n];case 2:return u[n];case 4:return t[n];case 3:return d[n]}else{if(la(e,n))return h[n]=1,e[n];if(u!==Jt&&Pt(u,n))return h[n]=2,u[n];if((f=s.propsOptions[0])&&Pt(f,n))return h[n]=3,d[n];if(t!==Jt&&Pt(t,n))return h[n]=4,t[n];Ca&&(h[n]=0)}}const g=xs[n];let m,i;if(g)return n==="$attrs"&&Pr(s,"get",n),g(s);if((m=r.__cssModules)&&(m=m[n]))return m;if(t!==Jt&&Pt(t,n))return h[n]=4,t[n];if(i=p.config.globalProperties,Pt(i,n))return i[n]},set({_:s},n,t){const{data:e,setupState:u,ctx:d}=s;return la(u,n)?(u[n]=t,!0):e!==Jt&&Pt(e,n)?(e[n]=t,!0):Pt(s.props,n)||n[0]==="$"&&n.slice(1)in s?!1:(d[n]=t,!0)},has({_:{data:s,setupState:n,accessCache:t,ctx:e,appContext:u,propsOptions:d}},h){let r;return!!t[h]||s!==Jt&&Pt(s,h)||la(n,h)||(r=d[0])&&Pt(r,h)||Pt(e,h)||Pt(xs,h)||Pt(u.config.globalProperties,h)},defineProperty(s,n,t){return t.get!=null?s._.accessCache[n]=0:Pt(t,"value")&&this.set(s,n,t.value,null),Reflect.defineProperty(s,n,t)}};let Ca=!0;function Np(s){const n=Sl(s),t=s.proxy,e=s.ctx;Ca=!1,n.beforeCreate&&Hu(n.beforeCreate,s,"bc");const{data:u,computed:d,methods:h,watch:r,provide:p,inject:f,created:g,beforeMount:m,mounted:i,beforeUpdate:o,updated:a,activated:l,deactivated:c,beforeDestroy:y,beforeUnmount:w,destroyed:x,unmounted:S,render:E,renderTracked:C,renderTriggered:A,errorCaptured:O,serverPrefetch:I,expose:R,inheritAttrs:L,components:N,directives:D,filters:H}=n;if(f&&Fp(f,e,null,s.appContext.config.unwrapInjectedRef),h)for(const le in h){const J=h[le];_t(J)&&(e[le]=J.bind(t))}if(u){const le=u.call(t,t);tr(le)&&(s.data=ml(le))}if(Ca=!0,d)for(const le in d){const J=d[le],ue=_t(J)?J.bind(t,t):_t(J.get)?J.get.bind(t,t):on,se=!_t(J)&&_t(J.set)?J.set.bind(t):on,me=yi({get:ue,set:se});Object.defineProperty(e,le,{enumerable:!0,configurable:!0,get:()=>me.value,set:xe=>me.value=xe})}if(r)for(const le in r)gd(r[le],e,t,le);if(p){const le=_t(p)?p.call(t):p;Reflect.ownKeys(le).forEach(J=>{wp(J,le[J])})}g&&Hu(g,s,"c");function ae(le,J){wt(J)?J.forEach(ue=>le(ue.bind(t))):J&&le(J.bind(t))}if(ae(Mp,m),ae(cd,i),ae(Ap,o),ae(Rp,a),ae(Tp,l),ae(Ep,c),ae(Lp,O),ae(kp,C),ae(Pp,A),ae(dd,w),ae(hd,S),ae(Op,I),wt(R))if(R.length){const le=s.exposed||(s.exposed={});R.forEach(J=>{Object.defineProperty(le,J,{get:()=>t[J],set:ue=>t[J]=ue})})}else s.exposed||(s.exposed={});E&&s.render===on&&(s.render=E),L!=null&&(s.inheritAttrs=L),N&&(s.components=N),D&&(s.directives=D)}function Fp(s,n,t=on,e=!1){wt(s)&&(s=Ma(s));for(const u in s){const d=s[u];let h;tr(d)?"default"in d?h=Zs(d.from||u,d.default,!0):h=Zs(d.from||u):h=Zs(d),xr(h)&&e?Object.defineProperty(n,u,{enumerable:!0,configurable:!0,get:()=>h.value,set:r=>h.value=r}):n[u]=h}}function Hu(s,n,t){zr(wt(s)?s.map(e=>e.bind(n.proxy)):s.bind(n.proxy),n,t)}function gd(s,n,t,e){const u=e.includes(".")?id(t,e):()=>t[e];if(lr(s)){const d=n[s];_t(d)&&ia(u,d)}else if(_t(s))ia(u,s.bind(t));else if(tr(s))if(wt(s))s.forEach(d=>gd(d,n,t,e));else{const d=_t(s.handler)?s.handler.bind(t):n[s.handler];_t(d)&&ia(u,d,s)}}function Sl(s){const n=s.type,{mixins:t,extends:e}=n,{mixins:u,optionsCache:d,config:{optionMergeStrategies:h}}=s.appContext,r=d.get(n);let p;return r?p=r:!u.length&&!t&&!e?p=n:(p={},u.length&&u.forEach(f=>gi(p,f,h,!0)),gi(p,n,h)),tr(n)&&d.set(n,p),p}function gi(s,n,t,e=!1){const{mixins:u,extends:d}=n;d&&gi(s,d,t,!0),u&&u.forEach(h=>gi(s,h,t,!0));for(const h in n)if(!(e&&h==="expose")){const r=Up[h]||t&&t[h];s[h]=r?r(s[h],n[h]):n[h]}return s}const Up={data:Wu,props:go,emits:go,methods:go,computed:go,beforeCreate:Tr,created:Tr,beforeMount:Tr,mounted:Tr,beforeUpdate:Tr,updated:Tr,beforeDestroy:Tr,beforeUnmount:Tr,destroyed:Tr,unmounted:Tr,activated:Tr,deactivated:Tr,errorCaptured:Tr,serverPrefetch:Tr,components:go,directives:go,watch:Vp,provide:Wu,inject:Gp};function Wu(s,n){return n?s?function(){return Sr(_t(s)?s.call(this,this):s,_t(n)?n.call(this,this):n)}:n:s}function Gp(s,n){return go(Ma(s),Ma(n))}function Ma(s){if(wt(s)){const n={};for(let t=0;t<s.length;t++)n[s[t]]=s[t];return n}return s}function Tr(s,n){return s?[...new Set([].concat(s,n))]:n}function go(s,n){return s?Sr(Sr(Object.create(null),s),n):n}function Vp(s,n){if(!s)return n;if(!n)return s;const t=Sr(Object.create(null),s);for(const e in n)t[e]=Tr(s[e],n[e]);return t}function Hp(s,n,t,e=!1){const u={},d={};fi(d,Di,1),s.propsDefaults=Object.create(null),yd(s,n,u,d);for(const h in s.propsOptions[0])h in u||(u[h]=void 0);t?s.props=e?u:ep(u):s.type.props?s.props=u:s.props=d,s.attrs=d}function Wp(s,n,t,e){const{props:u,attrs:d,vnode:{patchFlag:h}}=s,r=Lt(u),[p]=s.propsOptions;let f=!1;if((e||h>0)&&!(h&16)){if(h&8){const g=s.vnode.dynamicProps;for(let m=0;m<g.length;m++){let i=g[m];if(Ri(s.emitsOptions,i))continue;const o=n[i];if(p)if(Pt(d,i))o!==d[i]&&(d[i]=o,f=!0);else{const a=xn(i);u[a]=Aa(p,r,a,o,s,!1)}else o!==d[i]&&(d[i]=o,f=!0)}}}else{yd(s,n,u,d)&&(f=!0);let g;for(const m in r)(!n||!Pt(n,m)&&((g=es(m))===m||!Pt(n,g)))&&(p?t&&(t[m]!==void 0||t[g]!==void 0)&&(u[m]=Aa(p,r,m,void 0,s,!0)):delete u[m]);if(d!==r)for(const m in d)(!n||!Pt(n,m))&&(delete d[m],f=!0)}f&&Ln(s,"set","$attrs")}function yd(s,n,t,e){const[u,d]=s.propsOptions;let h=!1,r;if(n)for(let p in n){if(Qs(p))continue;const f=n[p];let g;u&&Pt(u,g=xn(p))?!d||!d.includes(g)?t[g]=f:(r||(r={}))[g]=f:Ri(s.emitsOptions,p)||(!(p in e)||f!==e[p])&&(e[p]=f,h=!0)}if(d){const p=Lt(t),f=r||Jt;for(let g=0;g<d.length;g++){const m=d[g];t[m]=Aa(u,p,m,f[m],s,!Pt(f,m))}}return h}function Aa(s,n,t,e,u,d){const h=s[t];if(h!=null){const r=Pt(h,"default");if(r&&e===void 0){const p=h.default;if(h.type!==Function&&_t(p)){const{propsDefaults:f}=u;t in f?e=f[t]:(Yo(u),e=f[t]=p.call(null,n),So())}else e=p}h[0]&&(d&&!r?e=!1:h[1]&&(e===""||e===es(t))&&(e=!0))}return e}function vd(s,n,t=!1){const e=n.propsCache,u=e.get(s);if(u)return u;const d=s.props,h={},r=[];let p=!1;if(!_t(s)){const g=m=>{p=!0;const[i,o]=vd(m,n,!0);Sr(h,i),o&&r.push(...o)};!t&&n.mixins.length&&n.mixins.forEach(g),s.extends&&g(s.extends),s.mixins&&s.mixins.forEach(g)}if(!d&&!p)return tr(s)&&e.set(s,Go),Go;if(wt(d))for(let g=0;g<d.length;g++){const m=xn(d[g]);zu(m)&&(h[m]=Jt)}else if(d)for(const g in d){const m=xn(g);if(zu(m)){const i=d[g],o=h[m]=wt(i)||_t(i)?{type:i}:Object.assign({},i);if(o){const a=Xu(Boolean,o.type),l=Xu(String,o.type);o[0]=a>-1,o[1]=l<0||a<l,(a>-1||Pt(o,"default"))&&r.push(m)}}}const f=[h,r];return tr(s)&&e.set(s,f),f}function zu(s){return s[0]!=="$"}function qu(s){const n=s&&s.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:s===null?"null":""}function Yu(s,n){return qu(s)===qu(n)}function Xu(s,n){return wt(n)?n.findIndex(t=>Yu(t,s)):_t(n)&&Yu(n,s)?0:-1}const bd=s=>s[0]==="_"||s==="$stable",jl=s=>wt(s)?s.map(vn):[vn(s)],zp=(s,n,t)=>{if(n._n)return n;const e=fp((...u)=>jl(n(...u)),t);return e._c=!1,e},wd=(s,n,t)=>{const e=s._ctx;for(const u in s){if(bd(u))continue;const d=s[u];if(_t(d))n[u]=zp(u,d,e);else if(d!=null){const h=jl(d);n[u]=()=>h}}},xd=(s,n)=>{const t=jl(n);s.slots.default=()=>t},qp=(s,n)=>{if(s.vnode.shapeFlag&32){const t=n._;t?(s.slots=Lt(n),fi(n,"_",t)):wd(n,s.slots={})}else s.slots={},n&&xd(s,n);fi(s.slots,Di,1)},Yp=(s,n,t)=>{const{vnode:e,slots:u}=s;let d=!0,h=Jt;if(e.shapeFlag&32){const r=n._;r?t&&r===1?d=!1:(Sr(u,n),!t&&r===1&&delete u._):(d=!n.$stable,wd(n,u)),h=n}else n&&(xd(s,n),h={default:1});if(d)for(const r in u)!bd(r)&&!(r in h)&&delete u[r]};function _d(){return{app:null,config:{isNativeTag:yf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xp=0;function $p(s,n){return function(e,u=null){_t(e)||(e=Object.assign({},e)),u!=null&&!tr(u)&&(u=null);const d=_d(),h=new Set;let r=!1;const p=d.app={_uid:Xp++,_component:e,_props:u,_container:null,_context:d,_instance:null,version:v0,get config(){return d.config},set config(f){},use(f,...g){return h.has(f)||(f&&_t(f.install)?(h.add(f),f.install(p,...g)):_t(f)&&(h.add(f),f(p,...g))),p},mixin(f){return d.mixins.includes(f)||d.mixins.push(f),p},component(f,g){return g?(d.components[f]=g,p):d.components[f]},directive(f,g){return g?(d.directives[f]=g,p):d.directives[f]},mount(f,g,m){if(!r){const i=Pn(e,u);return i.appContext=d,g&&n?n(i,f):s(i,f,m),r=!0,p._container=f,f.__vue_app__=p,El(i.component)||i.component.proxy}},unmount(){r&&(s(null,p._container),delete p._container.__vue_app__)},provide(f,g){return d.provides[f]=g,p}};return p}}function Ra(s,n,t,e,u=!1){if(wt(s)){s.forEach((i,o)=>Ra(i,n&&(wt(n)?n[o]:n),t,e,u));return}if(Js(e)&&!u)return;const d=e.shapeFlag&4?El(e.component)||e.component.proxy:e.el,h=u?null:d,{i:r,r:p}=s,f=n&&n.r,g=r.refs===Jt?r.refs={}:r.refs,m=r.setupState;if(f!=null&&f!==p&&(lr(f)?(g[f]=null,Pt(m,f)&&(m[f]=null)):xr(f)&&(f.value=null)),_t(p))$n(p,r,12,[h,g]);else{const i=lr(p),o=xr(p);if(i||o){const a=()=>{if(s.f){const l=i?Pt(m,p)?m[p]:g[p]:p.value;u?wt(l)&&al(l,d):wt(l)?l.includes(d)||l.push(d):i?(g[p]=[d],Pt(m,p)&&(m[p]=g[p])):(p.value=[d],s.k&&(g[s.k]=p.value))}else i?(g[p]=h,Pt(m,p)&&(m[p]=h)):o&&(p.value=h,s.k&&(g[s.k]=h))};h?(a.id=-1,Or(a,t)):a()}}}const Or=bp;function Kp(s){return Qp(s)}function Qp(s,n){const t=jf();t.__VUE__=!0;const{insert:e,remove:u,patchProp:d,createElement:h,createText:r,createComment:p,setText:f,setElementText:g,parentNode:m,nextSibling:i,setScopeId:o=on,insertStaticContent:a}=s,l=(B,F,re,$=null,ne=null,ie=null,oe=!1,pe=null,ge=!!F.dynamicChildren)=>{if(B===F)return;B&&!vo(B,F)&&($=Se(B),xe(B,ne,ie,!0),B=null),F.patchFlag===-2&&(ge=!1,F.dynamicChildren=null);const{type:he,ref:Pe,shapeFlag:Be}=F;switch(he){case ki:c(B,F,re,$);break;case sn:y(B,F,re,$);break;case ua:B==null&&w(F,re,$,oe);break;case Ir:N(B,F,re,$,ne,ie,oe,pe,ge);break;default:Be&1?E(B,F,re,$,ne,ie,oe,pe,ge):Be&6?D(B,F,re,$,ne,ie,oe,pe,ge):(Be&64||Be&128)&&he.process(B,F,re,$,ne,ie,oe,pe,ge,G)}Pe!=null&&ne&&Ra(Pe,B&&B.ref,ie,F||B,!F)},c=(B,F,re,$)=>{if(B==null)e(F.el=r(F.children),re,$);else{const ne=F.el=B.el;F.children!==B.children&&f(ne,F.children)}},y=(B,F,re,$)=>{B==null?e(F.el=p(F.children||""),re,$):F.el=B.el},w=(B,F,re,$)=>{[B.el,B.anchor]=a(B.children,F,re,$,B.el,B.anchor)},x=({el:B,anchor:F},re,$)=>{let ne;for(;B&&B!==F;)ne=i(B),e(B,re,$),B=ne;e(F,re,$)},S=({el:B,anchor:F})=>{let re;for(;B&&B!==F;)re=i(B),u(B),B=re;u(F)},E=(B,F,re,$,ne,ie,oe,pe,ge)=>{oe=oe||F.type==="svg",B==null?C(F,re,$,ne,ie,oe,pe,ge):I(B,F,ne,ie,oe,pe,ge)},C=(B,F,re,$,ne,ie,oe,pe)=>{let ge,he;const{type:Pe,props:Be,shapeFlag:Ne,transition:Le,dirs:Ze}=B;if(ge=B.el=h(B.type,ie,Be&&Be.is,Be),Ne&8?g(ge,B.children):Ne&16&&O(B.children,ge,null,$,ne,ie&&Pe!=="foreignObject",oe,pe),Ze&&po(B,null,$,"created"),A(ge,B,B.scopeId,oe,$),Be){for(const Ae in Be)Ae!=="value"&&!Qs(Ae)&&d(ge,Ae,null,Be[Ae],ie,B.children,$,ne,_e);"value"in Be&&d(ge,"value",null,Be.value),(he=Be.onVnodeBeforeMount)&&fn(he,$,B)}Ze&&po(B,null,$,"beforeMount");const Re=(!ne||ne&&!ne.pendingBranch)&&Le&&!Le.persisted;Re&&Le.beforeEnter(ge),e(ge,F,re),((he=Be&&Be.onVnodeMounted)||Re||Ze)&&Or(()=>{he&&fn(he,$,B),Re&&Le.enter(ge),Ze&&po(B,null,$,"mounted")},ne)},A=(B,F,re,$,ne)=>{if(re&&o(B,re),$)for(let ie=0;ie<$.length;ie++)o(B,$[ie]);if(ne){let ie=ne.subTree;if(F===ie){const oe=ne.vnode;A(B,oe,oe.scopeId,oe.slotScopeIds,ne.parent)}}},O=(B,F,re,$,ne,ie,oe,pe,ge=0)=>{for(let he=ge;he<B.length;he++){const Pe=B[he]=pe?qn(B[he]):vn(B[he]);l(null,Pe,F,re,$,ne,ie,oe,pe)}},I=(B,F,re,$,ne,ie,oe)=>{const pe=F.el=B.el;let{patchFlag:ge,dynamicChildren:he,dirs:Pe}=F;ge|=B.patchFlag&16;const Be=B.props||Jt,Ne=F.props||Jt;let Le;re&&mo(re,!1),(Le=Ne.onVnodeBeforeUpdate)&&fn(Le,re,F,B),Pe&&po(F,B,re,"beforeUpdate"),re&&mo(re,!0);const Ze=ne&&F.type!=="foreignObject";if(he?R(B.dynamicChildren,he,pe,re,$,Ze,ie):oe||J(B,F,pe,null,re,$,Ze,ie,!1),ge>0){if(ge&16)L(pe,F,Be,Ne,re,$,ne);else if(ge&2&&Be.class!==Ne.class&&d(pe,"class",null,Ne.class,ne),ge&4&&d(pe,"style",Be.style,Ne.style,ne),ge&8){const Re=F.dynamicProps;for(let Ae=0;Ae<Re.length;Ae++){const qe=Re[Ae],$e=Be[qe],be=Ne[qe];(be!==$e||qe==="value")&&d(pe,qe,$e,be,ne,B.children,re,$,_e)}}ge&1&&B.children!==F.children&&g(pe,F.children)}else!oe&&he==null&&L(pe,F,Be,Ne,re,$,ne);((Le=Ne.onVnodeUpdated)||Pe)&&Or(()=>{Le&&fn(Le,re,F,B),Pe&&po(F,B,re,"updated")},$)},R=(B,F,re,$,ne,ie,oe)=>{for(let pe=0;pe<F.length;pe++){const ge=B[pe],he=F[pe],Pe=ge.el&&(ge.type===Ir||!vo(ge,he)||ge.shapeFlag&70)?m(ge.el):re;l(ge,he,Pe,null,$,ne,ie,oe,!0)}},L=(B,F,re,$,ne,ie,oe)=>{if(re!==$){if(re!==Jt)for(const pe in re)!Qs(pe)&&!(pe in $)&&d(B,pe,re[pe],null,oe,F.children,ne,ie,_e);for(const pe in $){if(Qs(pe))continue;const ge=$[pe],he=re[pe];ge!==he&&pe!=="value"&&d(B,pe,he,ge,oe,F.children,ne,ie,_e)}"value"in $&&d(B,"value",re.value,$.value)}},N=(B,F,re,$,ne,ie,oe,pe,ge)=>{const he=F.el=B?B.el:r(""),Pe=F.anchor=B?B.anchor:r("");let{patchFlag:Be,dynamicChildren:Ne,slotScopeIds:Le}=F;Le&&(pe=pe?pe.concat(Le):Le),B==null?(e(he,re,$),e(Pe,re,$),O(F.children,re,Pe,ne,ie,oe,pe,ge)):Be>0&&Be&64&&Ne&&B.dynamicChildren?(R(B.dynamicChildren,Ne,re,ne,ie,oe,pe),(F.key!=null||ne&&F===ne.subTree)&&Sd(B,F,!0)):J(B,F,re,Pe,ne,ie,oe,pe,ge)},D=(B,F,re,$,ne,ie,oe,pe,ge)=>{F.slotScopeIds=pe,B==null?F.shapeFlag&512?ne.ctx.activate(F,re,$,oe,ge):H(F,re,$,ne,ie,oe,ge):z(B,F,ge)},H=(B,F,re,$,ne,ie,oe)=>{const pe=B.component=l0(B,$,ne);if(Oi(B)&&(pe.ctx.renderer=G),c0(pe),pe.asyncDep){if(ne&&ne.registerDep(pe,ae),!B.el){const ge=pe.subTree=Pn(sn);y(null,ge,F,re)}return}ae(pe,B,F,re,ne,ie,oe)},z=(B,F,re)=>{const $=F.component=B.component;if(gp(B,F,re))if($.asyncDep&&!$.asyncResolved){le($,F,re);return}else $.next=F,up($.update),$.update();else F.el=B.el,$.vnode=F},ae=(B,F,re,$,ne,ie,oe)=>{const pe=()=>{if(B.isMounted){let{next:Pe,bu:Be,u:Ne,parent:Le,vnode:Ze}=B,Re=Pe,Ae;mo(B,!1),Pe?(Pe.el=Ze.el,le(B,Pe,oe)):Pe=Ze,Be&&oa(Be),(Ae=Pe.props&&Pe.props.onVnodeBeforeUpdate)&&fn(Ae,Le,Pe,Ze),mo(B,!0);const qe=sa(B),$e=B.subTree;B.subTree=qe,l($e,qe,m($e.el),Se($e),B,ne,ie),Pe.el=qe.el,Re===null&&yp(B,qe.el),Ne&&Or(Ne,ne),(Ae=Pe.props&&Pe.props.onVnodeUpdated)&&Or(()=>fn(Ae,Le,Pe,Ze),ne)}else{let Pe;const{el:Be,props:Ne}=F,{bm:Le,m:Ze,parent:Re}=B,Ae=Js(F);if(mo(B,!1),Le&&oa(Le),!Ae&&(Pe=Ne&&Ne.onVnodeBeforeMount)&&fn(Pe,Re,F),mo(B,!0),Be&&ee){const qe=()=>{B.subTree=sa(B),ee(Be,B.subTree,B,ne,null)};Ae?F.type.__asyncLoader().then(()=>!B.isUnmounted&&qe()):qe()}else{const qe=B.subTree=sa(B);l(null,qe,re,$,B,ne,ie),F.el=qe.el}if(Ze&&Or(Ze,ne),!Ae&&(Pe=Ne&&Ne.onVnodeMounted)){const qe=F;Or(()=>fn(Pe,Re,qe),ne)}(F.shapeFlag&256||Re&&Js(Re.vnode)&&Re.vnode.shapeFlag&256)&&B.a&&Or(B.a,ne),B.isMounted=!0,F=re=$=null}},ge=B.effect=new dl(pe,()=>wl(he),B.scope),he=B.update=()=>ge.run();he.id=B.uid,mo(B,!0),he()},le=(B,F,re)=>{F.component=B;const $=B.vnode.props;B.vnode=F,B.next=null,Wp(B,F.props,$,re),Yp(B,F.children,re),ts(),Fu(),rs()},J=(B,F,re,$,ne,ie,oe,pe,ge=!1)=>{const he=B&&B.children,Pe=B?B.shapeFlag:0,Be=F.children,{patchFlag:Ne,shapeFlag:Le}=F;if(Ne>0){if(Ne&128){se(he,Be,re,$,ne,ie,oe,pe,ge);return}else if(Ne&256){ue(he,Be,re,$,ne,ie,oe,pe,ge);return}}Le&8?(Pe&16&&_e(he,ne,ie),Be!==he&&g(re,Be)):Pe&16?Le&16?se(he,Be,re,$,ne,ie,oe,pe,ge):_e(he,ne,ie,!0):(Pe&8&&g(re,""),Le&16&&O(Be,re,$,ne,ie,oe,pe,ge))},ue=(B,F,re,$,ne,ie,oe,pe,ge)=>{B=B||Go,F=F||Go;const he=B.length,Pe=F.length,Be=Math.min(he,Pe);let Ne;for(Ne=0;Ne<Be;Ne++){const Le=F[Ne]=ge?qn(F[Ne]):vn(F[Ne]);l(B[Ne],Le,re,null,ne,ie,oe,pe,ge)}he>Pe?_e(B,ne,ie,!0,!1,Be):O(F,re,$,ne,ie,oe,pe,ge,Be)},se=(B,F,re,$,ne,ie,oe,pe,ge)=>{let he=0;const Pe=F.length;let Be=B.length-1,Ne=Pe-1;for(;he<=Be&&he<=Ne;){const Le=B[he],Ze=F[he]=ge?qn(F[he]):vn(F[he]);if(vo(Le,Ze))l(Le,Ze,re,null,ne,ie,oe,pe,ge);else break;he++}for(;he<=Be&&he<=Ne;){const Le=B[Be],Ze=F[Ne]=ge?qn(F[Ne]):vn(F[Ne]);if(vo(Le,Ze))l(Le,Ze,re,null,ne,ie,oe,pe,ge);else break;Be--,Ne--}if(he>Be){if(he<=Ne){const Le=Ne+1,Ze=Le<Pe?F[Le].el:$;for(;he<=Ne;)l(null,F[he]=ge?qn(F[he]):vn(F[he]),re,Ze,ne,ie,oe,pe,ge),he++}}else if(he>Ne)for(;he<=Be;)xe(B[he],ne,ie,!0),he++;else{const Le=he,Ze=he,Re=new Map;for(he=Ze;he<=Ne;he++){const q=F[he]=ge?qn(F[he]):vn(F[he]);q.key!=null&&Re.set(q.key,he)}let Ae,qe=0;const $e=Ne-Ze+1;let be=!1,nt=0;const V=new Array($e);for(he=0;he<$e;he++)V[he]=0;for(he=Le;he<=Be;he++){const q=B[he];if(qe>=$e){xe(q,ne,ie,!0);continue}let K;if(q.key!=null)K=Re.get(q.key);else for(Ae=Ze;Ae<=Ne;Ae++)if(V[Ae-Ze]===0&&vo(q,F[Ae])){K=Ae;break}K===void 0?xe(q,ne,ie,!0):(V[K-Ze]=he+1,K>=nt?nt=K:be=!0,l(q,F[K],re,null,ne,ie,oe,pe,ge),qe++)}const Q=be?Zp(V):Go;for(Ae=Q.length-1,he=$e-1;he>=0;he--){const q=Ze+he,K=F[q],de=q+1<Pe?F[q+1].el:$;V[he]===0?l(null,K,re,de,ne,ie,oe,pe,ge):be&&(Ae<0||he!==Q[Ae]?me(K,re,de,2):Ae--)}}},me=(B,F,re,$,ne=null)=>{const{el:ie,type:oe,transition:pe,children:ge,shapeFlag:he}=B;if(he&6){me(B.component.subTree,F,re,$);return}if(he&128){B.suspense.move(F,re,$);return}if(he&64){oe.move(B,F,re,G);return}if(oe===Ir){e(ie,F,re);for(let Be=0;Be<ge.length;Be++)me(ge[Be],F,re,$);e(B.anchor,F,re);return}if(oe===ua){x(B,F,re);return}if($!==2&&he&1&&pe)if($===0)pe.beforeEnter(ie),e(ie,F,re),Or(()=>pe.enter(ie),ne);else{const{leave:Be,delayLeave:Ne,afterLeave:Le}=pe,Ze=()=>e(ie,F,re),Re=()=>{Be(ie,()=>{Ze(),Le&&Le()})};Ne?Ne(ie,Ze,Re):Re()}else e(ie,F,re)},xe=(B,F,re,$=!1,ne=!1)=>{const{type:ie,props:oe,ref:pe,children:ge,dynamicChildren:he,shapeFlag:Pe,patchFlag:Be,dirs:Ne}=B;if(pe!=null&&Ra(pe,null,re,B,!0),Pe&256){F.ctx.deactivate(B);return}const Le=Pe&1&&Ne,Ze=!Js(B);let Re;if(Ze&&(Re=oe&&oe.onVnodeBeforeUnmount)&&fn(Re,F,B),Pe&6)De(B.component,re,$);else{if(Pe&128){B.suspense.unmount(re,$);return}Le&&po(B,null,F,"beforeUnmount"),Pe&64?B.type.remove(B,F,re,ne,G,$):he&&(ie!==Ir||Be>0&&Be&64)?_e(he,F,re,!1,!0):(ie===Ir&&Be&384||!ne&&Pe&16)&&_e(ge,F,re),$&&Ce(B)}(Ze&&(Re=oe&&oe.onVnodeUnmounted)||Le)&&Or(()=>{Re&&fn(Re,F,B),Le&&po(B,null,F,"unmounted")},re)},Ce=B=>{const{type:F,el:re,anchor:$,transition:ne}=B;if(F===Ir){ve(re,$);return}if(F===ua){S(B);return}const ie=()=>{u(re),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(B.shapeFlag&1&&ne&&!ne.persisted){const{leave:oe,delayLeave:pe}=ne,ge=()=>oe(re,ie);pe?pe(B.el,ie,ge):ge()}else ie()},ve=(B,F)=>{let re;for(;B!==F;)re=i(B),u(B),B=re;u(F)},De=(B,F,re)=>{const{bum:$,scope:ne,update:ie,subTree:oe,um:pe}=B;$&&oa($),ne.stop(),ie&&(ie.active=!1,xe(oe,B,F,re)),pe&&Or(pe,F),Or(()=>{B.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},_e=(B,F,re,$=!1,ne=!1,ie=0)=>{for(let oe=ie;oe<B.length;oe++)xe(B[oe],F,re,$,ne)},Se=B=>B.shapeFlag&6?Se(B.component.subTree):B.shapeFlag&128?B.suspense.next():i(B.anchor||B.el),P=(B,F,re)=>{B==null?F._vnode&&xe(F._vnode,null,null,!0):l(F._vnode||null,B,F,null,null,null,re),Fu(),td(),F._vnode=B},G={p:l,um:xe,m:me,r:Ce,mt:H,mc:O,pc:J,pbc:R,n:Se,o:s};let X,ee;return n&&([X,ee]=n(G)),{render:P,hydrate:X,createApp:$p(P,X)}}function mo({effect:s,update:n},t){s.allowRecurse=n.allowRecurse=t}function Sd(s,n,t=!1){const e=s.children,u=n.children;if(wt(e)&&wt(u))for(let d=0;d<e.length;d++){const h=e[d];let r=u[d];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=u[d]=qn(u[d]),r.el=h.el),t||Sd(h,r)),r.type===ki&&(r.el=h.el)}}function Zp(s){const n=s.slice(),t=[0];let e,u,d,h,r;const p=s.length;for(e=0;e<p;e++){const f=s[e];if(f!==0){if(u=t[t.length-1],s[u]<f){n[e]=u,t.push(e);continue}for(d=0,h=t.length-1;d<h;)r=d+h>>1,s[t[r]]<f?d=r+1:h=r;f<s[t[d]]&&(d>0&&(n[e]=t[d-1]),t[d]=e)}}for(d=t.length,h=t[d-1];d-- >0;)t[d]=h,h=n[h];return t}const Jp=s=>s.__isTeleport,Ir=Symbol(void 0),ki=Symbol(void 0),sn=Symbol(void 0),ua=Symbol(void 0),_s=[];let nn=null;function Mr(s=!1){_s.push(nn=s?null:[])}function e0(){_s.pop(),nn=_s[_s.length-1]||null}let Cs=1;function $u(s){Cs+=s}function jd(s){return s.dynamicChildren=Cs>0?nn||Go:null,e0(),Cs>0&&nn&&nn.push(s),s}function tn(s,n,t,e,u,d){return jd(_r(s,n,t,e,u,d,!0))}function Li(s,n,t,e,u){return jd(Pn(s,n,t,e,u,!0))}function t0(s){return s?s.__v_isVNode===!0:!1}function vo(s,n){return s.type===n.type&&s.key===n.key}const Di="__vInternal",Td=({key:s})=>s??null,ei=({ref:s,ref_key:n,ref_for:t})=>s!=null?lr(s)||xr(s)||_t(s)?{i:Wr,r:s,k:n,f:!!t}:s:null;function _r(s,n=null,t=null,e=0,u=null,d=s===Ir?0:1,h=!1,r=!1){const p={__v_isVNode:!0,__v_skip:!0,type:s,props:n,key:n&&Td(n),ref:n&&ei(n),scopeId:od,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:e,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:Wr};return r?(Tl(p,t),d&128&&s.normalize(p)):t&&(p.shapeFlag|=lr(t)?8:16),Cs>0&&!h&&nn&&(p.patchFlag>0||d&6)&&p.patchFlag!==32&&nn.push(p),p}const Pn=r0;function r0(s,n=null,t=null,e=0,u=null,d=!1){if((!s||s===fd)&&(s=sn),t0(s)){const r=Jn(s,n,!0);return t&&Tl(r,t),Cs>0&&!d&&nn&&(r.shapeFlag&6?nn[nn.indexOf(s)]=r:nn.push(r)),r.patchFlag|=-2,r}if(m0(s)&&(s=s.__vccOpts),n){n=n0(n);let{class:r,style:p}=n;r&&!lr(r)&&(n.class=Jo(r)),tr(p)&&(Xc(p)&&!wt(p)&&(p=Sr({},p)),n.style=sl(p))}const h=lr(s)?1:vp(s)?128:Jp(s)?64:tr(s)?4:_t(s)?2:0;return _r(s,n,t,e,u,h,d,!0)}function n0(s){return s?Xc(s)||Di in s?Sr({},s):s:null}function Jn(s,n,t=!1){const{props:e,ref:u,patchFlag:d,children:h}=s,r=n?s0(e||{},n):e;return{__v_isVNode:!0,__v_skip:!0,type:s.type,props:r,key:r&&Td(r),ref:n&&n.ref?t&&u?wt(u)?u.concat(ei(n)):[u,ei(n)]:ei(n):u,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:h,target:s.target,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:n&&s.type!==Ir?d===-1?16:d|16:d,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:s.transition,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Jn(s.ssContent),ssFallback:s.ssFallback&&Jn(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce}}function o0(s=" ",n=0){return Pn(ki,null,s,n)}function Bo(s="",n=!1){return n?(Mr(),Li(sn,null,s)):Pn(sn,null,s)}function vn(s){return s==null||typeof s=="boolean"?Pn(sn):wt(s)?Pn(Ir,null,s.slice()):typeof s=="object"?qn(s):Pn(ki,null,String(s))}function qn(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:Jn(s)}function Tl(s,n){let t=0;const{shapeFlag:e}=s;if(n==null)n=null;else if(wt(n))t=16;else if(typeof n=="object")if(e&65){const u=n.default;u&&(u._c&&(u._d=!1),Tl(s,u()),u._c&&(u._d=!0));return}else{t=32;const u=n._;!u&&!(Di in n)?n._ctx=Wr:u===3&&Wr&&(Wr.slots._===1?n._=1:(n._=2,s.patchFlag|=1024))}else _t(n)?(n={default:n,_ctx:Wr},t=32):(n=String(n),e&64?(t=16,n=[o0(n)]):t=8);s.children=n,s.shapeFlag|=t}function s0(...s){const n={};for(let t=0;t<s.length;t++){const e=s[t];for(const u in e)if(u==="class")n.class!==e.class&&(n.class=Jo([n.class,e.class]));else if(u==="style")n.style=sl([n.style,e.style]);else if(ji(u)){const d=n[u],h=e[u];h&&d!==h&&!(wt(d)&&d.includes(h))&&(n[u]=d?[].concat(d,h):h)}else u!==""&&(n[u]=e[u])}return n}function fn(s,n,t,e=null){zr(s,n,7,[t,e])}const i0=_d();let a0=0;function l0(s,n,t){const e=s.type,u=(n?n.appContext:s.appContext)||i0,d={uid:a0++,vnode:s,type:e,parent:n,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new Tf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vd(e,u),emitsOptions:nd(e,u),emit:null,emitted:null,propsDefaults:Jt,inheritAttrs:e.inheritAttrs,ctx:Jt,data:Jt,props:Jt,attrs:Jt,slots:Jt,refs:Jt,setupState:Jt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=n?n.root:d,d.emit=hp.bind(null,d),s.ce&&s.ce(d),d}let sr=null;const u0=()=>sr||Wr,Yo=s=>{sr=s,s.scope.on()},So=()=>{sr&&sr.scope.off(),sr=null};function Ed(s){return s.vnode.shapeFlag&4}let Ms=!1;function c0(s,n=!1){Ms=n;const{props:t,children:e}=s.vnode,u=Ed(s);Hp(s,t,u,n),qp(s,e);const d=u?d0(s,n):void 0;return Ms=!1,d}function d0(s,n){const t=s.type;s.accessCache=Object.create(null),s.proxy=yl(new Proxy(s.ctx,Bp));const{setup:e}=t;if(e){const u=s.setupContext=e.length>1?f0(s):null;Yo(s),ts();const d=$n(e,s,0,[s.props,u]);if(rs(),So(),Lc(d)){if(d.then(So,So),n)return d.then(h=>{Ku(s,h,n)}).catch(h=>{Ai(h,s,0)});s.asyncDep=d}else Ku(s,d,n)}else Cd(s,n)}function Ku(s,n,t){_t(n)?s.type.__ssrInlineRender?s.ssrRender=n:s.render=n:tr(n)&&(s.setupState=Qc(n)),Cd(s,t)}let Qu;function Cd(s,n,t){const e=s.type;if(!s.render){if(!n&&Qu&&!e.render){const u=e.template||Sl(s).template;if(u){const{isCustomElement:d,compilerOptions:h}=s.appContext.config,{delimiters:r,compilerOptions:p}=e,f=Sr(Sr({isCustomElement:d,delimiters:r},h),p);e.render=Qu(u,f)}}s.render=e.render||on}Yo(s),ts(),Np(s),rs(),So()}function h0(s){return new Proxy(s.attrs,{get(n,t){return Pr(s,"get","$attrs"),n[t]}})}function f0(s){const n=e=>{s.exposed=e||{}};let t;return{get attrs(){return t||(t=h0(s))},slots:s.slots,emit:s.emit,expose:n}}function El(s){if(s.exposed)return s.exposeProxy||(s.exposeProxy=new Proxy(Qc(yl(s.exposed)),{get(n,t){if(t in n)return n[t];if(t in xs)return xs[t](s)},has(n,t){return t in n||t in xs}}))}function p0(s,n=!0){return _t(s)?s.displayName||s.name:s.name||n&&s.__name}function m0(s){return _t(s)&&"__vccOpts"in s}const yi=(s,n)=>sp(s,n,Ms),g0=Symbol(""),y0=()=>Zs(g0),v0="3.2.47",b0="http://www.w3.org/2000/svg",bo=typeof document<"u"?document:null,Zu=bo&&bo.createElement("template"),w0={insert:(s,n,t)=>{n.insertBefore(s,t||null)},remove:s=>{const n=s.parentNode;n&&n.removeChild(s)},createElement:(s,n,t,e)=>{const u=n?bo.createElementNS(b0,s):bo.createElement(s,t?{is:t}:void 0);return s==="select"&&e&&e.multiple!=null&&u.setAttribute("multiple",e.multiple),u},createText:s=>bo.createTextNode(s),createComment:s=>bo.createComment(s),setText:(s,n)=>{s.nodeValue=n},setElementText:(s,n)=>{s.textContent=n},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>bo.querySelector(s),setScopeId(s,n){s.setAttribute(n,"")},insertStaticContent(s,n,t,e,u,d){const h=t?t.previousSibling:n.lastChild;if(u&&(u===d||u.nextSibling))for(;n.insertBefore(u.cloneNode(!0),t),!(u===d||!(u=u.nextSibling)););else{Zu.innerHTML=e?`<svg>${s}</svg>`:s;const r=Zu.content;if(e){const p=r.firstChild;for(;p.firstChild;)r.appendChild(p.firstChild);r.removeChild(p)}n.insertBefore(r,t)}return[h?h.nextSibling:n.firstChild,t?t.previousSibling:n.lastChild]}};function x0(s,n,t){const e=s._vtc;e&&(n=(n?[n,...e]:[...e]).join(" ")),n==null?s.removeAttribute("class"):t?s.setAttribute("class",n):s.className=n}function _0(s,n,t){const e=s.style,u=lr(t);if(t&&!u){if(n&&!lr(n))for(const d in n)t[d]==null&&Oa(e,d,"");for(const d in t)Oa(e,d,t[d])}else{const d=e.display;u?n!==t&&(e.cssText=t):n&&s.removeAttribute("style"),"_vod"in s&&(e.display=d)}}const Ju=/\s*!important$/;function Oa(s,n,t){if(wt(t))t.forEach(e=>Oa(s,n,e));else if(t==null&&(t=""),n.startsWith("--"))s.setProperty(n,t);else{const e=S0(s,n);Ju.test(t)?s.setProperty(es(e),t.replace(Ju,""),"important"):s[e]=t}}const ec=["Webkit","Moz","ms"],ca={};function S0(s,n){const t=ca[n];if(t)return t;let e=xn(n);if(e!=="filter"&&e in s)return ca[n]=e;e=Ci(e);for(let u=0;u<ec.length;u++){const d=ec[u]+e;if(d in s)return ca[n]=d}return n}const tc="http://www.w3.org/1999/xlink";function j0(s,n,t,e,u){if(e&&n.startsWith("xlink:"))t==null?s.removeAttributeNS(tc,n.slice(6,n.length)):s.setAttributeNS(tc,n,t);else{const d=gf(n);t==null||d&&!Oc(t)?s.removeAttribute(n):s.setAttribute(n,d?"":t)}}function T0(s,n,t,e,u,d,h){if(n==="innerHTML"||n==="textContent"){e&&h(e,u,d),s[n]=t??"";return}if(n==="value"&&s.tagName!=="PROGRESS"&&!s.tagName.includes("-")){s._value=t;const p=t??"";(s.value!==p||s.tagName==="OPTION")&&(s.value=p),t==null&&s.removeAttribute(n);return}let r=!1;if(t===""||t==null){const p=typeof s[n];p==="boolean"?t=Oc(t):t==null&&p==="string"?(t="",r=!0):p==="number"&&(t=0,r=!0)}try{s[n]=t}catch{}r&&s.removeAttribute(n)}function E0(s,n,t,e){s.addEventListener(n,t,e)}function C0(s,n,t,e){s.removeEventListener(n,t,e)}function M0(s,n,t,e,u=null){const d=s._vei||(s._vei={}),h=d[n];if(e&&h)h.value=e;else{const[r,p]=A0(n);if(e){const f=d[n]=P0(e,u);E0(s,r,f,p)}else h&&(C0(s,r,h,p),d[n]=void 0)}}const rc=/(?:Once|Passive|Capture)$/;function A0(s){let n;if(rc.test(s)){n={};let e;for(;e=s.match(rc);)s=s.slice(0,s.length-e[0].length),n[e[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):es(s.slice(2)),n]}let da=0;const R0=Promise.resolve(),O0=()=>da||(R0.then(()=>da=0),da=Date.now());function P0(s,n){const t=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=t.attached)return;zr(k0(e,t.value),n,5,[e])};return t.value=s,t.attached=O0(),t}function k0(s,n){if(wt(n)){const t=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{t.call(s),s._stopped=!0},n.map(e=>u=>!u._stopped&&e&&e(u))}else return n}const nc=/^on[a-z]/,L0=(s,n,t,e,u=!1,d,h,r,p)=>{n==="class"?x0(s,e,u):n==="style"?_0(s,t,e):ji(n)?il(n)||M0(s,n,t,e,h):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):D0(s,n,e,u))?T0(s,n,e,d,h,r,p):(n==="true-value"?s._trueValue=e:n==="false-value"&&(s._falseValue=e),j0(s,n,e,u))};function D0(s,n,t,e){return e?!!(n==="innerHTML"||n==="textContent"||n in s&&nc.test(n)&&_t(t)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&s.tagName==="INPUT"||n==="type"&&s.tagName==="TEXTAREA"||nc.test(n)&&lr(t)?!1:n in s}const I0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};jp.props;const B0=Sr({patchProp:L0},w0);let oc;function N0(){return oc||(oc=Kp(B0))}const F0=(...s)=>{const n=N0().createApp(...s),{mount:t}=n;return n.mount=e=>{const u=U0(e);if(!u)return;const d=n._component;!_t(d)&&!d.render&&!d.template&&(d.template=u.innerHTML),u.innerHTML="";const h=t(u,!1,u instanceof SVGElement);return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),h},n};function U0(s){return lr(s)?document.querySelector(s):s}var $s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Ks(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pa={},V0={get exports(){return Pa},set exports(s){Pa=s}};/*! p5.js v1.4.2 July 21, 2022 */(function(s,n){(function(t){s.exports=t()})(function(){var t;return function e(u,d,h){function r(g,m){if(!d[g]){if(!u[g]){var i=typeof Ks=="function"&&Ks;if(!m&&i)return i(g,!0);if(p)return p(g,!0);var o=new Error("Cannot find module '"+g+"'");throw o.code="MODULE_NOT_FOUND",o}var a=d[g]={exports:{}};u[g][0].call(a.exports,function(l){return r(u[g][1][l]||l)},a,a.exports,e,u,d,h)}return d[g].exports}for(var p=typeof Ks=="function"&&Ks,f=0;f<h.length;f++)r(h[f]);return r}({1:[function(e,u,d){d.byteLength=function(a){var l=i(a),c=l[0],y=l[1];return 3*(c+y)/4-y},d.toByteArray=function(a){var l,c,y=i(a),w=y[0],x=y[1],S=new p(function(A,O){return 3*(A+O)/4-O}(w,x)),E=0,C=0<x?w-4:w;for(c=0;c<C;c+=4)l=r[a.charCodeAt(c)]<<18|r[a.charCodeAt(c+1)]<<12|r[a.charCodeAt(c+2)]<<6|r[a.charCodeAt(c+3)],S[E++]=l>>16&255,S[E++]=l>>8&255,S[E++]=255&l;return x===2&&(l=r[a.charCodeAt(c)]<<2|r[a.charCodeAt(c+1)]>>4,S[E++]=255&l),x===1&&(l=r[a.charCodeAt(c)]<<10|r[a.charCodeAt(c+1)]<<4|r[a.charCodeAt(c+2)]>>2,S[E++]=l>>8&255,S[E++]=255&l),S},d.fromByteArray=function(a){for(var l,c=a.length,y=c%3,w=[],x=0,S=c-y;x<S;x+=16383)w.push(o(a,x,S<x+16383?S:x+16383));return y==1?(l=a[c-1],w.push(h[l>>2]+h[l<<4&63]+"==")):y==2&&(l=(a[c-2]<<8)+a[c-1],w.push(h[l>>10]+h[l>>4&63]+h[l<<2&63]+"=")),w.join("")};for(var h=[],r=[],p=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,m=f.length;g<m;++g)h[g]=f[g],r[f.charCodeAt(g)]=g;function i(a){var l=a.length;if(0<l%4)throw new Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");return c===-1&&(c=l),[c,c===l?0:4-c%4]}function o(a,l,c){for(var y,w,x=[],S=l;S<c;S+=3)y=(a[S]<<16&16711680)+(a[S+1]<<8&65280)+(255&a[S+2]),x.push(h[(w=y)>>18&63]+h[w>>12&63]+h[w>>6&63]+h[63&w]);return x.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],2:[function(e,u,d){},{}],3:[function(e,u,d){arguments[4][2][0].apply(d,arguments)},{dup:2}],4:[function(e,u,d){(function(i){var r=e("base64-js"),p=e("ieee754"),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=i,d.SlowBuffer=function(P){return+P!=P&&(P=0),i.alloc(+P)},d.INSPECT_MAX_BYTES=50;var g=2147483647;function m(P){if(g<P)throw new RangeError('The value "'+P+'" is invalid for option "size"');var G=new Uint8Array(P);return Object.setPrototypeOf(G,i.prototype),G}function i(P,G,X){if(typeof P!="number")return o(P,G,X);if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(P)}function o(P,G,X){if(typeof P=="string")return function(F,re){if(typeof re=="string"&&re!==""||(re="utf8"),!i.isEncoding(re))throw new TypeError("Unknown encoding: "+re);var $=0|w(F,re),ne=m($),ie=ne.write(F,re);return ie!==$&&(ne=ne.slice(0,ie)),ne}(P,G);if(ArrayBuffer.isView(P))return c(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(De(P,ArrayBuffer)||P&&De(P.buffer,ArrayBuffer))return function(F,re,$){if(re<0||F.byteLength<re)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<re+($||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=re===void 0&&$===void 0?new Uint8Array(F):$===void 0?new Uint8Array(F,re):new Uint8Array(F,re,$),Object.setPrototypeOf(ne,i.prototype),ne}(P,G,X);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=P.valueOf&&P.valueOf();if(ee!=null&&ee!==P)return i.from(ee,G,X);var B=function(F){if(i.isBuffer(F)){var re=0|y(F.length),$=m(re);return $.length===0||F.copy($,0,0,re),$}if(F.length!==void 0)return typeof F.length!="number"||_e(F.length)?m(0):c(F);if(F.type==="Buffer"&&Array.isArray(F.data))return c(F.data)}(P);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return i.from(P[Symbol.toPrimitive]("string"),G,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function a(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function l(P){return a(P),m(P<0?0:0|y(P))}function c(P){for(var G=P.length<0?0:0|y(P.length),X=m(G),ee=0;ee<G;ee+=1)X[ee]=255&P[ee];return X}function y(P){if(g<=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return 0|P}function w(P,G){if(i.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||De(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var X=P.length,ee=2<arguments.length&&arguments[2]===!0;if(!ee&&X===0)return 0;for(var B=!1;;)switch(G){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return xe(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return Ce(P).length;default:if(B)return ee?-1:xe(P).length;G=(""+G).toLowerCase(),B=!0}}function x(P,G,X){var ee=P[G];P[G]=P[X],P[X]=ee}function S(P,G,X,ee,B){if(P.length===0)return-1;if(typeof X=="string"?(ee=X,X=0):2147483647<X?X=2147483647:X<-2147483648&&(X=-2147483648),_e(X=+X)&&(X=B?0:P.length-1),X<0&&(X=P.length+X),X>=P.length){if(B)return-1;X=P.length-1}else if(X<0){if(!B)return-1;X=0}if(typeof G=="string"&&(G=i.from(G,ee)),i.isBuffer(G))return G.length===0?-1:E(P,G,X,ee,B);if(typeof G=="number")return G&=255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(P,G,X):Uint8Array.prototype.lastIndexOf.call(P,G,X):E(P,[G],X,ee,B);throw new TypeError("val must be string, number or Buffer")}function E(P,G,X,ee,B){var F,re=1,$=P.length,ne=G.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(P.length<2||G.length<2)return-1;$/=re=2,ne/=2,X/=2}function ie(he,Pe){return re===1?he[Pe]:he.readUInt16BE(Pe*re)}if(B){var oe=-1;for(F=X;F<$;F++)if(ie(P,F)===ie(G,oe===-1?0:F-oe)){if(oe===-1&&(oe=F),F-oe+1===ne)return oe*re}else oe!==-1&&(F-=F-oe),oe=-1}else for($<X+ne&&(X=$-ne),F=X;0<=F;F--){for(var pe=!0,ge=0;ge<ne;ge++)if(ie(P,F+ge)!==ie(G,ge)){pe=!1;break}if(pe)return F}return-1}function C(P,G,X,ee){X=Number(X)||0;var B=P.length-X;ee?B<(ee=Number(ee))&&(ee=B):ee=B;var F=G.length;F/2<ee&&(ee=F/2);for(var re=0;re<ee;++re){var $=parseInt(G.substr(2*re,2),16);if(_e($))return re;P[X+re]=$}return re}function A(P,G,X,ee){return ve(function(B){for(var F=[],re=0;re<B.length;++re)F.push(255&B.charCodeAt(re));return F}(G),P,X,ee)}function O(P,G,X,ee){return ve(function(B,F){for(var re,$,ne,ie=[],oe=0;oe<B.length&&!((F-=2)<0);++oe)re=B.charCodeAt(oe),$=re>>8,ne=re%256,ie.push(ne),ie.push($);return ie}(G,P.length-X),P,X,ee)}function I(P,G,X){return G===0&&X===P.length?r.fromByteArray(P):r.fromByteArray(P.slice(G,X))}function R(P,G,X){X=Math.min(P.length,X);for(var ee=[],B=G;B<X;){var F,re,$,ne,ie=P[B],oe=null,pe=239<ie?4:223<ie?3:191<ie?2:1;if(B+pe<=X)switch(pe){case 1:ie<128&&(oe=ie);break;case 2:(192&(F=P[B+1]))==128&&127<(ne=(31&ie)<<6|63&F)&&(oe=ne);break;case 3:F=P[B+1],re=P[B+2],(192&F)==128&&(192&re)==128&&2047<(ne=(15&ie)<<12|(63&F)<<6|63&re)&&(ne<55296||57343<ne)&&(oe=ne);break;case 4:F=P[B+1],re=P[B+2],$=P[B+3],(192&F)==128&&(192&re)==128&&(192&$)==128&&65535<(ne=(15&ie)<<18|(63&F)<<12|(63&re)<<6|63&$)&&ne<1114112&&(oe=ne)}oe===null?(oe=65533,pe=1):65535<oe&&(oe-=65536,ee.push(oe>>>10&1023|55296),oe=56320|1023&oe),ee.push(oe),B+=pe}return function(ge){var he=ge.length;if(he<=L)return String.fromCharCode.apply(String,ge);for(var Pe="",Be=0;Be<he;)Pe+=String.fromCharCode.apply(String,ge.slice(Be,Be+=L));return Pe}(ee)}d.kMaxLength=g,(i.TYPED_ARRAY_SUPPORT=function(){try{var P=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(P,G),P.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(P,G,X){return o(P,G,X)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(P,G,X){return B=G,F=X,a(ee=P),ee<=0?m(ee):B!==void 0?typeof F=="string"?m(ee).fill(B,F):m(ee).fill(B):m(ee);var ee,B,F},i.allocUnsafe=function(P){return l(P)},i.allocUnsafeSlow=function(P){return l(P)},i.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==i.prototype},i.compare=function(P,G){if(De(P,Uint8Array)&&(P=i.from(P,P.offset,P.byteLength)),De(G,Uint8Array)&&(G=i.from(G,G.offset,G.byteLength)),!i.isBuffer(P)||!i.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===G)return 0;for(var X=P.length,ee=G.length,B=0,F=Math.min(X,ee);B<F;++B)if(P[B]!==G[B]){X=P[B],ee=G[B];break}return X<ee?-1:ee<X?1:0},i.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(P,G){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return i.alloc(0);var X;if(G===void 0)for(X=G=0;X<P.length;++X)G+=P[X].length;var ee=i.allocUnsafe(G),B=0;for(X=0;X<P.length;++X){var F=P[X];if(De(F,Uint8Array)&&(F=i.from(F)),!i.isBuffer(F))throw new TypeError('"list" argument must be an Array of Buffers');F.copy(ee,B),B+=F.length}return ee},i.byteLength=w,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<P;G+=2)x(this,G,G+1);return this},i.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<P;G+=4)x(this,G,G+3),x(this,G+1,G+2);return this},i.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<P;G+=8)x(this,G,G+7),x(this,G+1,G+6),x(this,G+2,G+5),x(this,G+3,G+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?R(this,0,P):function(G,X,ee){var B=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((ee===void 0||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0)<=(X>>>=0))return"";for(G=G||"utf8";;)switch(G){case"hex":return H(this,X,ee);case"utf8":case"utf-8":return R(this,X,ee);case"ascii":return N(this,X,ee);case"latin1":case"binary":return D(this,X,ee);case"base64":return I(this,X,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,X,ee);default:if(B)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),B=!0}}.apply(this,arguments)},i.prototype.equals=function(P){if(!i.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P||i.compare(this,P)===0},i.prototype.inspect=function(){var P="",G=d.INSPECT_MAX_BYTES;return P=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(P+=" ... "),"<Buffer "+P+">"},f&&(i.prototype[f]=i.prototype.inspect),i.prototype.compare=function(P,G,X,ee,B){if(De(P,Uint8Array)&&(P=i.from(P,P.offset,P.byteLength)),!i.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(G===void 0&&(G=0),X===void 0&&(X=P?P.length:0),ee===void 0&&(ee=0),B===void 0&&(B=this.length),G<0||X>P.length||ee<0||B>this.length)throw new RangeError("out of range index");if(B<=ee&&X<=G)return 0;if(B<=ee)return-1;if(X<=G)return 1;if(this===P)return 0;for(var F=(B>>>=0)-(ee>>>=0),re=(X>>>=0)-(G>>>=0),$=Math.min(F,re),ne=this.slice(ee,B),ie=P.slice(G,X),oe=0;oe<$;++oe)if(ne[oe]!==ie[oe]){F=ne[oe],re=ie[oe];break}return F<re?-1:re<F?1:0},i.prototype.includes=function(P,G,X){return this.indexOf(P,G,X)!==-1},i.prototype.indexOf=function(P,G,X){return S(this,P,G,X,!0)},i.prototype.lastIndexOf=function(P,G,X){return S(this,P,G,X,!1)},i.prototype.write=function(P,G,X,ee){if(G===void 0)ee="utf8",X=this.length,G=0;else if(X===void 0&&typeof G=="string")ee=G,X=this.length,G=0;else{if(!isFinite(G))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");G>>>=0,isFinite(X)?(X>>>=0,ee===void 0&&(ee="utf8")):(ee=X,X=void 0)}var B=this.length-G;if((X===void 0||B<X)&&(X=B),0<P.length&&(X<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee=ee||"utf8";for(var F,re,$,ne,ie,oe,pe=!1;;)switch(ee){case"hex":return C(this,P,G,X);case"utf8":case"utf-8":return ie=G,oe=X,ve(xe(P,(ne=this).length-ie),ne,ie,oe);case"ascii":return A(this,P,G,X);case"latin1":case"binary":return A(this,P,G,X);case"base64":return F=this,re=G,$=X,ve(Ce(P),F,re,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,P,G,X);default:if(pe)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),pe=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function N(P,G,X){var ee="";X=Math.min(P.length,X);for(var B=G;B<X;++B)ee+=String.fromCharCode(127&P[B]);return ee}function D(P,G,X){var ee="";X=Math.min(P.length,X);for(var B=G;B<X;++B)ee+=String.fromCharCode(P[B]);return ee}function H(P,G,X){var ee=P.length;(!G||G<0)&&(G=0),(!X||X<0||ee<X)&&(X=ee);for(var B="",F=G;F<X;++F)B+=Se[P[F]];return B}function z(P,G,X){for(var ee=P.slice(G,X),B="",F=0;F<ee.length;F+=2)B+=String.fromCharCode(ee[F]+256*ee[F+1]);return B}function ae(P,G,X){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(X<P+G)throw new RangeError("Trying to access beyond buffer length")}function le(P,G,X,ee,B,F){if(!i.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(B<G||G<F)throw new RangeError('"value" argument is out of bounds');if(X+ee>P.length)throw new RangeError("Index out of range")}function J(P,G,X,ee){if(X+ee>P.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function ue(P,G,X,ee,B){return G=+G,X>>>=0,B||J(P,0,X,4),p.write(P,G,X,ee,23,4),X+4}function se(P,G,X,ee,B){return G=+G,X>>>=0,B||J(P,0,X,8),p.write(P,G,X,ee,52,8),X+8}i.prototype.slice=function(P,G){var X=this.length;(P=~~P)<0?(P+=X)<0&&(P=0):X<P&&(P=X),(G=G===void 0?X:~~G)<0?(G+=X)<0&&(G=0):X<G&&(G=X),G<P&&(G=P);var ee=this.subarray(P,G);return Object.setPrototypeOf(ee,i.prototype),ee},i.prototype.readUIntLE=function(P,G,X){P>>>=0,G>>>=0,X||ae(P,G,this.length);for(var ee=this[P],B=1,F=0;++F<G&&(B*=256);)ee+=this[P+F]*B;return ee},i.prototype.readUIntBE=function(P,G,X){P>>>=0,G>>>=0,X||ae(P,G,this.length);for(var ee=this[P+--G],B=1;0<G&&(B*=256);)ee+=this[P+--G]*B;return ee},i.prototype.readUInt8=function(P,G){return P>>>=0,G||ae(P,1,this.length),this[P]},i.prototype.readUInt16LE=function(P,G){return P>>>=0,G||ae(P,2,this.length),this[P]|this[P+1]<<8},i.prototype.readUInt16BE=function(P,G){return P>>>=0,G||ae(P,2,this.length),this[P]<<8|this[P+1]},i.prototype.readUInt32LE=function(P,G){return P>>>=0,G||ae(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},i.prototype.readUInt32BE=function(P,G){return P>>>=0,G||ae(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},i.prototype.readIntLE=function(P,G,X){P>>>=0,G>>>=0,X||ae(P,G,this.length);for(var ee=this[P],B=1,F=0;++F<G&&(B*=256);)ee+=this[P+F]*B;return(B*=128)<=ee&&(ee-=Math.pow(2,8*G)),ee},i.prototype.readIntBE=function(P,G,X){P>>>=0,G>>>=0,X||ae(P,G,this.length);for(var ee=G,B=1,F=this[P+--ee];0<ee&&(B*=256);)F+=this[P+--ee]*B;return(B*=128)<=F&&(F-=Math.pow(2,8*G)),F},i.prototype.readInt8=function(P,G){return P>>>=0,G||ae(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},i.prototype.readInt16LE=function(P,G){P>>>=0,G||ae(P,2,this.length);var X=this[P]|this[P+1]<<8;return 32768&X?4294901760|X:X},i.prototype.readInt16BE=function(P,G){P>>>=0,G||ae(P,2,this.length);var X=this[P+1]|this[P]<<8;return 32768&X?4294901760|X:X},i.prototype.readInt32LE=function(P,G){return P>>>=0,G||ae(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},i.prototype.readInt32BE=function(P,G){return P>>>=0,G||ae(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},i.prototype.readFloatLE=function(P,G){return P>>>=0,G||ae(P,4,this.length),p.read(this,P,!0,23,4)},i.prototype.readFloatBE=function(P,G){return P>>>=0,G||ae(P,4,this.length),p.read(this,P,!1,23,4)},i.prototype.readDoubleLE=function(P,G){return P>>>=0,G||ae(P,8,this.length),p.read(this,P,!0,52,8)},i.prototype.readDoubleBE=function(P,G){return P>>>=0,G||ae(P,8,this.length),p.read(this,P,!1,52,8)},i.prototype.writeUIntLE=function(P,G,X,ee){P=+P,G>>>=0,X>>>=0,ee||le(this,P,G,X,Math.pow(2,8*X)-1,0);var B=1,F=0;for(this[G]=255&P;++F<X&&(B*=256);)this[G+F]=P/B&255;return G+X},i.prototype.writeUIntBE=function(P,G,X,ee){P=+P,G>>>=0,X>>>=0,ee||le(this,P,G,X,Math.pow(2,8*X)-1,0);var B=X-1,F=1;for(this[G+B]=255&P;0<=--B&&(F*=256);)this[G+B]=P/F&255;return G+X},i.prototype.writeUInt8=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,1,255,0),this[G]=255&P,G+1},i.prototype.writeUInt16LE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,2,65535,0),this[G]=255&P,this[G+1]=P>>>8,G+2},i.prototype.writeUInt16BE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,2,65535,0),this[G]=P>>>8,this[G+1]=255&P,G+2},i.prototype.writeUInt32LE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,4,4294967295,0),this[G+3]=P>>>24,this[G+2]=P>>>16,this[G+1]=P>>>8,this[G]=255&P,G+4},i.prototype.writeUInt32BE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,4,4294967295,0),this[G]=P>>>24,this[G+1]=P>>>16,this[G+2]=P>>>8,this[G+3]=255&P,G+4},i.prototype.writeIntLE=function(P,G,X,ee){if(P=+P,G>>>=0,!ee){var B=Math.pow(2,8*X-1);le(this,P,G,X,B-1,-B)}var F=0,re=1,$=0;for(this[G]=255&P;++F<X&&(re*=256);)P<0&&$===0&&this[G+F-1]!==0&&($=1),this[G+F]=(P/re>>0)-$&255;return G+X},i.prototype.writeIntBE=function(P,G,X,ee){if(P=+P,G>>>=0,!ee){var B=Math.pow(2,8*X-1);le(this,P,G,X,B-1,-B)}var F=X-1,re=1,$=0;for(this[G+F]=255&P;0<=--F&&(re*=256);)P<0&&$===0&&this[G+F+1]!==0&&($=1),this[G+F]=(P/re>>0)-$&255;return G+X},i.prototype.writeInt8=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,1,127,-128),P<0&&(P=255+P+1),this[G]=255&P,G+1},i.prototype.writeInt16LE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,2,32767,-32768),this[G]=255&P,this[G+1]=P>>>8,G+2},i.prototype.writeInt16BE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,2,32767,-32768),this[G]=P>>>8,this[G+1]=255&P,G+2},i.prototype.writeInt32LE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,4,2147483647,-2147483648),this[G]=255&P,this[G+1]=P>>>8,this[G+2]=P>>>16,this[G+3]=P>>>24,G+4},i.prototype.writeInt32BE=function(P,G,X){return P=+P,G>>>=0,X||le(this,P,G,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[G]=P>>>24,this[G+1]=P>>>16,this[G+2]=P>>>8,this[G+3]=255&P,G+4},i.prototype.writeFloatLE=function(P,G,X){return ue(this,P,G,!0,X)},i.prototype.writeFloatBE=function(P,G,X){return ue(this,P,G,!1,X)},i.prototype.writeDoubleLE=function(P,G,X){return se(this,P,G,!0,X)},i.prototype.writeDoubleBE=function(P,G,X){return se(this,P,G,!1,X)},i.prototype.copy=function(P,G,X,ee){if(!i.isBuffer(P))throw new TypeError("argument should be a Buffer");if(X=X||0,ee||ee===0||(ee=this.length),G>=P.length&&(G=P.length),G=G||0,0<ee&&ee<X&&(ee=X),ee===X||P.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),P.length-G<ee-X&&(ee=P.length-G+X);var B=ee-X;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(G,X,ee);else if(this===P&&X<G&&G<ee)for(var F=B-1;0<=F;--F)P[F+G]=this[F+X];else Uint8Array.prototype.set.call(P,this.subarray(X,ee),G);return B},i.prototype.fill=function(P,G,X,ee){if(typeof P=="string"){if(typeof G=="string"?(ee=G,G=0,X=this.length):typeof X=="string"&&(ee=X,X=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!i.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(P.length===1){var B=P.charCodeAt(0);(ee==="utf8"&&B<128||ee==="latin1")&&(P=B)}}else typeof P=="number"?P&=255:typeof P=="boolean"&&(P=Number(P));if(G<0||this.length<G||this.length<X)throw new RangeError("Out of range index");if(X<=G)return this;var F;if(G>>>=0,X=X===void 0?this.length:X>>>0,typeof(P=P||0)=="number")for(F=G;F<X;++F)this[F]=P;else{var re=i.isBuffer(P)?P:i.from(P,ee),$=re.length;if($===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(F=0;F<X-G;++F)this[F+G]=re[F%$]}return this};var me=/[^+/0-9A-Za-z-_]/g;function xe(P,G){var X;G=G||1/0;for(var ee=P.length,B=null,F=[],re=0;re<ee;++re){if(55295<(X=P.charCodeAt(re))&&X<57344){if(!B){if(56319<X){-1<(G-=3)&&F.push(239,191,189);continue}if(re+1===ee){-1<(G-=3)&&F.push(239,191,189);continue}B=X;continue}if(X<56320){-1<(G-=3)&&F.push(239,191,189),B=X;continue}X=65536+(B-55296<<10|X-56320)}else B&&-1<(G-=3)&&F.push(239,191,189);if(B=null,X<128){if(--G<0)break;F.push(X)}else if(X<2048){if((G-=2)<0)break;F.push(X>>6|192,63&X|128)}else if(X<65536){if((G-=3)<0)break;F.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;F.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return F}function Ce(P){return r.toByteArray(function(G){if((G=(G=G.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;G.length%4!=0;)G+="=";return G}(P))}function ve(P,G,X,ee){for(var B=0;B<ee&&!(B+X>=G.length||B>=P.length);++B)G[B+X]=P[B];return B}function De(P,G){return P instanceof G||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===G.name}function _e(P){return P!=P}var Se=function(){for(var P="0123456789abcdef",G=new Array(256),X=0;X<16;++X)for(var ee=16*X,B=0;B<16;++B)G[ee+B]=P[X]+P[B];return G}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:236}],5:[function(e,u,d){u.exports=function(h){if(typeof h!="function")throw TypeError(String(h)+" is not a function");return h}},{}],6:[function(e,u,d){var h=e("../internals/is-object");u.exports=function(r){if(!h(r)&&r!==null)throw TypeError("Can't set "+String(r)+" as a prototype");return r}},{"../internals/is-object":74}],7:[function(e,u,d){var h=e("../internals/well-known-symbol"),r=e("../internals/object-create"),p=e("../internals/object-define-property"),f=h("unscopables"),g=Array.prototype;g[f]==null&&p.f(g,f,{configurable:!0,value:r(null)}),u.exports=function(m){g[f][m]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(e,u,d){var h=e("../internals/string-multibyte").charAt;u.exports=function(r,p,f){return p+(f?h(r,p).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,u,d){u.exports=function(h,r,p){if(!(h instanceof r))throw TypeError("Incorrect "+(p?p+" ":"")+"invocation");return h}},{}],10:[function(e,u,d){var h=e("../internals/is-object");u.exports=function(r){if(!h(r))throw TypeError(String(r)+" is not an object");return r}},{"../internals/is-object":74}],11:[function(e,u,d){u.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(e,u,d){function h(J){return m(J)&&i(le,o(J))}var r,p=e("../internals/array-buffer-native"),f=e("../internals/descriptors"),g=e("../internals/global"),m=e("../internals/is-object"),i=e("../internals/has"),o=e("../internals/classof"),a=e("../internals/create-non-enumerable-property"),l=e("../internals/redefine"),c=e("../internals/object-define-property").f,y=e("../internals/object-get-prototype-of"),w=e("../internals/object-set-prototype-of"),x=e("../internals/well-known-symbol"),S=e("../internals/uid"),E=g.Int8Array,C=E&&E.prototype,A=g.Uint8ClampedArray,O=A&&A.prototype,I=E&&y(E),R=C&&y(C),L=Object.prototype,N=L.isPrototypeOf,D=x("toStringTag"),H=S("TYPED_ARRAY_TAG"),z=p&&!!w&&o(g.opera)!=="Opera",ae=!1,le={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(r in le)g[r]||(z=!1);if((!z||typeof I!="function"||I===Function.prototype)&&(I=function(){throw TypeError("Incorrect invocation")},z))for(r in le)g[r]&&w(g[r],I);if((!z||!R||R===L)&&(R=I.prototype,z))for(r in le)g[r]&&w(g[r].prototype,R);if(z&&y(O)!==R&&w(O,R),f&&!i(R,D))for(r in ae=!0,c(R,D,{get:function(){return m(this)?this[H]:void 0}}),le)g[r]&&a(g[r],H,r);u.exports={NATIVE_ARRAY_BUFFER_VIEWS:z,TYPED_ARRAY_TAG:ae&&H,aTypedArray:function(J){if(h(J))return J;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(J){if(w){if(N.call(I,J))return J}else for(var ue in le)if(i(le,r)){var se=g[ue];if(se&&(J===se||N.call(se,J)))return J}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(J,ue,se){if(f){if(se)for(var me in le){var xe=g[me];xe&&i(xe.prototype,J)&&delete xe.prototype[J]}R[J]&&!se||l(R,J,se?ue:z&&C[J]||ue)}},exportTypedArrayStaticMethod:function(J,ue,se){var me,xe;if(f){if(w){if(se)for(me in le)(xe=g[me])&&i(xe,J)&&delete xe[J];if(I[J]&&!se)return;try{return l(I,J,se?ue:z&&E[J]||ue)}catch{}}for(me in le)!(xe=g[me])||xe[J]&&!se||l(xe,J,ue)}},isView:function(J){var ue=o(J);return ue==="DataView"||i(le,ue)},isTypedArray:h,TypedArray:I,TypedArrayPrototype:R}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(e,u,d){function h(ie){return[255&ie]}function r(ie){return[255&ie,ie>>8&255]}function p(ie){return[255&ie,ie>>8&255,ie>>16&255,ie>>24&255]}function f(ie){return ie[3]<<24|ie[2]<<16|ie[1]<<8|ie[0]}function g(ie){return G(ie,23,4)}function m(ie){return G(ie,52,8)}function i(ie,oe){D(ie[me],oe,{get:function(){return le(this)[oe]}})}function o(ie,oe,pe,ge){var he=O(pe),Pe=le(ie);if(he+oe>Pe.byteLength)throw P(xe);var Be=le(Pe.buffer).bytes,Ne=he+Pe.byteOffset,Le=Be.slice(Ne,Ne+oe);return ge?Le:Le.reverse()}function a(ie,oe,pe,ge,he,Pe){var Be=O(pe),Ne=le(ie);if(Be+oe>Ne.byteLength)throw P(xe);for(var Le=le(Ne.buffer).bytes,Ze=Be+Ne.byteOffset,Re=ge(+he),Ae=0;Ae<oe;Ae++)Le[Ze+Ae]=Re[Pe?Ae:oe-Ae-1]}var l=e("../internals/global"),c=e("../internals/descriptors"),y=e("../internals/array-buffer-native"),w=e("../internals/create-non-enumerable-property"),x=e("../internals/redefine-all"),S=e("../internals/fails"),E=e("../internals/an-instance"),C=e("../internals/to-integer"),A=e("../internals/to-length"),O=e("../internals/to-index"),I=e("../internals/ieee754"),R=e("../internals/object-get-prototype-of"),L=e("../internals/object-set-prototype-of"),N=e("../internals/object-get-own-property-names").f,D=e("../internals/object-define-property").f,H=e("../internals/array-fill"),z=e("../internals/set-to-string-tag"),ae=e("../internals/internal-state"),le=ae.get,J=ae.set,ue="ArrayBuffer",se="DataView",me="prototype",xe="Wrong index",Ce=l[ue],ve=Ce,De=l[se],_e=De&&De[me],Se=Object.prototype,P=l.RangeError,G=I.pack,X=I.unpack;if(y){if(!S(function(){Ce(1)})||!S(function(){new Ce(-1)})||S(function(){return new Ce,new Ce(1.5),new Ce(NaN),Ce.name!=ue})){for(var ee,B=(ve=function(ie){return E(this,ve),new Ce(O(ie))})[me]=Ce[me],F=N(Ce),re=0;F.length>re;)(ee=F[re++])in ve||w(ve,ee,Ce[ee]);B.constructor=ve}L&&R(_e)!==Se&&L(_e,Se);var $=new De(new ve(2)),ne=_e.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||x(_e,{setInt8:function(ie,oe){ne.call(this,ie,oe<<24>>24)},setUint8:function(ie,oe){ne.call(this,ie,oe<<24>>24)}},{unsafe:!0})}else ve=function(ie){E(this,ve,ue);var oe=O(ie);J(this,{bytes:H.call(new Array(oe),0),byteLength:oe}),c||(this.byteLength=oe)},De=function(ie,oe,pe){E(this,De,se),E(ie,ve,se);var ge=le(ie).byteLength,he=C(oe);if(he<0||ge<he)throw P("Wrong offset");if(ge<he+(pe=pe===void 0?ge-he:A(pe)))throw P("Wrong length");J(this,{buffer:ie,byteLength:pe,byteOffset:he}),c||(this.buffer=ie,this.byteLength=pe,this.byteOffset=he)},c&&(i(ve,"byteLength"),i(De,"buffer"),i(De,"byteLength"),i(De,"byteOffset")),x(De[me],{getInt8:function(ie){return o(this,1,ie)[0]<<24>>24},getUint8:function(ie){return o(this,1,ie)[0]},getInt16:function(ie,oe){var pe=o(this,2,ie,1<arguments.length?oe:void 0);return(pe[1]<<8|pe[0])<<16>>16},getUint16:function(ie,oe){var pe=o(this,2,ie,1<arguments.length?oe:void 0);return pe[1]<<8|pe[0]},getInt32:function(ie,oe){return f(o(this,4,ie,1<arguments.length?oe:void 0))},getUint32:function(ie,oe){return f(o(this,4,ie,1<arguments.length?oe:void 0))>>>0},getFloat32:function(ie,oe){return X(o(this,4,ie,1<arguments.length?oe:void 0),23)},getFloat64:function(ie,oe){return X(o(this,8,ie,1<arguments.length?oe:void 0),52)},setInt8:function(ie,oe){a(this,1,ie,h,oe)},setUint8:function(ie,oe){a(this,1,ie,h,oe)},setInt16:function(ie,oe,pe){a(this,2,ie,r,oe,2<arguments.length?pe:void 0)},setUint16:function(ie,oe,pe){a(this,2,ie,r,oe,2<arguments.length?pe:void 0)},setInt32:function(ie,oe,pe){a(this,4,ie,p,oe,2<arguments.length?pe:void 0)},setUint32:function(ie,oe,pe){a(this,4,ie,p,oe,2<arguments.length?pe:void 0)},setFloat32:function(ie,oe,pe){a(this,4,ie,g,oe,2<arguments.length?pe:void 0)},setFloat64:function(ie,oe,pe){a(this,8,ie,m,oe,2<arguments.length?pe:void 0)}});z(ve,ue),z(De,se),u.exports={ArrayBuffer:ve,DataView:De}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":37,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(e,u,d){var h=e("../internals/to-object"),r=e("../internals/to-absolute-index"),p=e("../internals/to-length"),f=Math.min;u.exports=[].copyWithin||function(g,m,i){var o=h(this),a=p(o.length),l=r(g,a),c=r(m,a),y=2<arguments.length?i:void 0,w=f((y===void 0?a:r(y,a))-c,a-l),x=1;for(c<l&&l<c+w&&(x=-1,c+=w-1,l+=w-1);0<w--;)c in o?o[l]=o[c]:delete o[l],l+=x,c+=x;return o}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(e,u,d){var h=e("../internals/to-object"),r=e("../internals/to-absolute-index"),p=e("../internals/to-length");u.exports=function(f,g,m){for(var i=h(this),o=p(i.length),a=arguments.length,l=r(1<a?g:void 0,o),c=2<a?m:void 0,y=c===void 0?o:r(c,o);l<y;)i[l++]=f;return i}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(e,u,d){var h=e("../internals/array-iteration").forEach,r=e("../internals/array-method-is-strict"),p=e("../internals/array-method-uses-to-length"),f=r("forEach"),g=p("forEach");u.exports=f&&g?[].forEach:function(m,i){return h(this,m,1<arguments.length?i:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,u,d){var h=e("../internals/function-bind-context"),r=e("../internals/to-object"),p=e("../internals/call-with-safe-iteration-closing"),f=e("../internals/is-array-iterator-method"),g=e("../internals/to-length"),m=e("../internals/create-property"),i=e("../internals/get-iterator-method");u.exports=function(o,a,l){var c,y,w,x,S,E,C=r(o),A=typeof this=="function"?this:Array,O=arguments.length,I=1<O?a:void 0,R=I!==void 0,L=i(C),N=0;if(R&&(I=h(I,2<O?l:void 0,2)),L==null||A==Array&&f(L))for(y=new A(c=g(C.length));N<c;N++)E=R?I(C[N],N):C[N],m(y,N,E);else for(S=(x=L.call(C)).next,y=new A;!(w=S.call(x)).done;N++)E=R?p(x,I,[w.value,N],!0):w.value,m(y,N,E);return y.length=N,y}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":39,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(e,u,d){function h(g){return function(m,i,o){var a,l=r(m),c=p(l.length),y=f(o,c);if(g&&i!=i){for(;y<c;)if((a=l[y++])!=a)return!0}else for(;y<c;y++)if((g||y in l)&&l[y]===i)return g||y||0;return!g&&-1}}var r=e("../internals/to-indexed-object"),p=e("../internals/to-length"),f=e("../internals/to-absolute-index");u.exports={includes:h(!0),indexOf:h(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(e,u,d){function h(o){var a=o==1,l=o==2,c=o==3,y=o==4,w=o==6,x=o==5||w;return function(S,E,C,A){for(var O,I,R=f(S),L=p(R),N=r(E,C,3),D=g(L.length),H=0,z=A||m,ae=a?z(S,D):l?z(S,0):void 0;H<D;H++)if((x||H in L)&&(I=N(O=L[H],H,R),o)){if(a)ae[H]=I;else if(I)switch(o){case 3:return!0;case 5:return O;case 6:return H;case 2:i.call(ae,O)}else if(y)return!1}return w?-1:c||y?y:ae}}var r=e("../internals/function-bind-context"),p=e("../internals/indexed-object"),f=e("../internals/to-object"),g=e("../internals/to-length"),m=e("../internals/array-species-create"),i=[].push;u.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(e,u,d){var h=e("../internals/to-indexed-object"),r=e("../internals/to-integer"),p=e("../internals/to-length"),f=e("../internals/array-method-is-strict"),g=e("../internals/array-method-uses-to-length"),m=Math.min,i=[].lastIndexOf,o=!!i&&1/[1].lastIndexOf(1,-0)<0,a=f("lastIndexOf"),l=g("indexOf",{ACCESSORS:!0,1:0}),c=o||!a||!l;u.exports=c?function(y,w){if(o)return i.apply(this,arguments)||0;var x=h(this),S=p(x.length),E=S-1;for(1<arguments.length&&(E=m(E,r(w))),E<0&&(E=S+E);0<=E;E--)if(E in x&&x[E]===y)return E||0;return-1}:i},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(e,u,d){var h=e("../internals/fails"),r=e("../internals/well-known-symbol"),p=e("../internals/engine-v8-version"),f=r("species");u.exports=function(g){return 51<=p||!h(function(){var m=[];return(m.constructor={})[f]=function(){return{foo:1}},m[g](Boolean).foo!==1})}},{"../internals/engine-v8-version":47,"../internals/fails":50,"../internals/well-known-symbol":146}],22:[function(e,u,d){var h=e("../internals/fails");u.exports=function(r,p){var f=[][r];return!!f&&h(function(){f.call(null,p||function(){throw 1},1)})}},{"../internals/fails":50}],23:[function(e,u,d){function h(i){throw i}var r=e("../internals/descriptors"),p=e("../internals/fails"),f=e("../internals/has"),g=Object.defineProperty,m={};u.exports=function(i,o){if(f(m,i))return m[i];var a=[][i],l=!!f(o=o||{},"ACCESSORS")&&o.ACCESSORS,c=f(o,0)?o[0]:h,y=f(o,1)?o[1]:void 0;return m[i]=!!a&&!p(function(){if(l&&!r)return!0;var w={length:-1};l?g(w,1,{enumerable:!0,get:h}):w[1]=1,a.call(w,c,y)})}},{"../internals/descriptors":42,"../internals/fails":50,"../internals/has":60}],24:[function(e,u,d){function h(m){return function(i,o,a,l){r(o);var c=p(i),y=f(c),w=g(c.length),x=m?w-1:0,S=m?-1:1;if(a<2)for(;;){if(x in y){l=y[x],x+=S;break}if(x+=S,m?x<0:w<=x)throw TypeError("Reduce of empty array with no initial value")}for(;m?0<=x:x<w;x+=S)x in y&&(l=o(l,y[x],x,c));return l}}var r=e("../internals/a-function"),p=e("../internals/to-object"),f=e("../internals/indexed-object"),g=e("../internals/to-length");u.exports={left:h(!1),right:h(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(e,u,d){var h=e("../internals/is-object"),r=e("../internals/is-array"),p=e("../internals/well-known-symbol")("species");u.exports=function(f,g){var m;return r(f)&&(typeof(m=f.constructor)!="function"||m!==Array&&!r(m.prototype)?h(m)&&(m=m[p])===null&&(m=void 0):m=void 0),new(m===void 0?Array:m)(g===0?0:g)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(e,u,d){var h=e("../internals/an-object");u.exports=function(r,p,f,g){try{return g?p(h(f)[0],f[1]):p(f)}catch(i){var m=r.return;throw m!==void 0&&h(m.call(r)),i}}},{"../internals/an-object":10}],27:[function(e,u,d){var h=e("../internals/well-known-symbol")("iterator"),r=!1;try{var p=0,f={next:function(){return{done:!!p++}},return:function(){r=!0}};f[h]=function(){return this},Array.from(f,function(){throw 2})}catch{}u.exports=function(g,m){if(!m&&!r)return!1;var i=!1;try{var o={};o[h]=function(){return{next:function(){return{done:i=!0}}}},g(o)}catch{}return i}},{"../internals/well-known-symbol":146}],28:[function(e,u,d){var h={}.toString;u.exports=function(r){return h.call(r).slice(8,-1)}},{}],29:[function(e,u,d){var h=e("../internals/to-string-tag-support"),r=e("../internals/classof-raw"),p=e("../internals/well-known-symbol")("toStringTag"),f=r(function(){return arguments}())=="Arguments";u.exports=h?r:function(g){var m,i,o;return g===void 0?"Undefined":g===null?"Null":typeof(i=function(a,l){try{return a[l]}catch{}}(m=Object(g),p))=="string"?i:f?r(m):(o=r(m))=="Object"&&typeof m.callee=="function"?"Arguments":o}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(e,u,d){var h=e("../internals/object-define-property").f,r=e("../internals/object-create"),p=e("../internals/redefine-all"),f=e("../internals/function-bind-context"),g=e("../internals/an-instance"),m=e("../internals/iterate"),i=e("../internals/define-iterator"),o=e("../internals/set-species"),a=e("../internals/descriptors"),l=e("../internals/internal-metadata").fastKey,c=e("../internals/internal-state"),y=c.set,w=c.getterFor;u.exports={getConstructor:function(x,S,E,C){function A(L,N,D){var H,z,ae=I(L),le=R(L,N);return le?le.value=D:(ae.last=le={index:z=l(N,!0),key:N,value:D,previous:H=ae.last,next:void 0,removed:!1},ae.first||(ae.first=le),H&&(H.next=le),a?ae.size++:L.size++,z!=="F"&&(ae.index[z]=le)),L}var O=x(function(L,N){g(L,O,S),y(L,{type:S,index:r(null),first:void 0,last:void 0,size:0}),a||(L.size=0),N!=null&&m(N,L[C],L,E)}),I=w(S),R=function(L,N){var D,H=I(L),z=l(N);if(z!=="F")return H.index[z];for(D=H.first;D;D=D.next)if(D.key==N)return D};return p(O.prototype,{clear:function(){for(var L=I(this),N=L.index,D=L.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete N[D.index],D=D.next;L.first=L.last=void 0,a?L.size=0:this.size=0},delete:function(L){var N=I(this),D=R(this,L);if(D){var H=D.next,z=D.previous;delete N.index[D.index],D.removed=!0,z&&(z.next=H),H&&(H.previous=z),N.first==D&&(N.first=H),N.last==D&&(N.last=z),a?N.size--:this.size--}return!!D},forEach:function(L,N){for(var D,H=I(this),z=f(L,1<arguments.length?N:void 0,3);D=D?D.next:H.first;)for(z(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(L){return!!R(this,L)}}),p(O.prototype,E?{get:function(L){var N=R(this,L);return N&&N.value},set:function(L,N){return A(this,L===0?0:L,N)}}:{add:function(L){return A(this,L=L===0?0:L,L)}}),a&&h(O.prototype,"size",{get:function(){return I(this).size}}),O},setStrong:function(x,S,E){var C=S+" Iterator",A=w(S),O=w(C);i(x,S,function(I,R){y(this,{type:C,target:I,state:A(I),kind:R,last:void 0})},function(){for(var I=O(this),R=I.kind,L=I.last;L&&L.removed;)L=L.previous;return I.target&&(I.last=L=L?L.next:I.state.first)?R=="keys"?{value:L.key,done:!1}:R=="values"?{value:L.value,done:!1}:{value:[L.key,L.value],done:!1}:{value:I.target=void 0,done:!0}},E?"entries":"values",!E,!0),o(S)}}},{"../internals/an-instance":9,"../internals/define-iterator":40,"../internals/descriptors":42,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/global"),p=e("../internals/is-forced"),f=e("../internals/redefine"),g=e("../internals/internal-metadata"),m=e("../internals/iterate"),i=e("../internals/an-instance"),o=e("../internals/is-object"),a=e("../internals/fails"),l=e("../internals/check-correctness-of-iteration"),c=e("../internals/set-to-string-tag"),y=e("../internals/inherit-if-required");u.exports=function(w,x,S){function E(J){var ue=R[J];f(R,J,J=="add"?function(se){return ue.call(this,se===0?0:se),this}:J=="delete"?function(se){return!(A&&!o(se))&&ue.call(this,se===0?0:se)}:J=="get"?function(se){return A&&!o(se)?void 0:ue.call(this,se===0?0:se)}:J=="has"?function(se){return!(A&&!o(se))&&ue.call(this,se===0?0:se)}:function(se,me){return ue.call(this,se===0?0:se,me),this})}var C=w.indexOf("Map")!==-1,A=w.indexOf("Weak")!==-1,O=C?"set":"add",I=r[w],R=I&&I.prototype,L=I,N={};if(p(w,typeof I!="function"||!(A||R.forEach&&!a(function(){new I().entries().next()}))))L=S.getConstructor(x,w,C,O),g.REQUIRED=!0;else if(p(w,!0)){var D=new L,H=D[O](A?{}:-0,1)!=D,z=a(function(){D.has(1)}),ae=l(function(J){new I(J)}),le=!A&&a(function(){for(var J=new I,ue=5;ue--;)J[O](ue,ue);return!J.has(-0)});ae||(((L=x(function(J,ue){i(J,L,w);var se=y(new I,J,L);return ue!=null&&m(ue,se[O],se,C),se})).prototype=R).constructor=L),(z||le)&&(E("delete"),E("has"),C&&E("get")),(le||H)&&E(O),A&&R.clear&&delete R.clear}return N[w]=L,h({global:!0,forced:L!=I},N),c(L,w),A||S.setStrong(L,w,C),L}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":49,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],32:[function(e,u,d){var h=e("../internals/has"),r=e("../internals/own-keys"),p=e("../internals/object-get-own-property-descriptor"),f=e("../internals/object-define-property");u.exports=function(g,m){for(var i=r(m),o=f.f,a=p.f,l=0;l<i.length;l++){var c=i[l];h(g,c)||o(g,c,a(m,c))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],33:[function(e,u,d){var h=e("../internals/well-known-symbol")("match");u.exports=function(r){var p=/./;try{"/./"[r](p)}catch{try{return p[h]=!1,"/./"[r](p)}catch{}}return!1}},{"../internals/well-known-symbol":146}],34:[function(e,u,d){var h=e("../internals/fails");u.exports=!h(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})},{"../internals/fails":50}],35:[function(e,u,d){var h=e("../internals/require-object-coercible"),r=/"/g;u.exports=function(p,f,g,m){var i=String(h(p)),o="<"+f;return g!==""&&(o+=" "+g+'="'+String(m).replace(r,"&quot;")+'"'),o+">"+i+"</"+f+">"}},{"../internals/require-object-coercible":113}],36:[function(e,u,d){function h(){return this}var r=e("../internals/iterators-core").IteratorPrototype,p=e("../internals/object-create"),f=e("../internals/create-property-descriptor"),g=e("../internals/set-to-string-tag"),m=e("../internals/iterators");u.exports=function(i,o,a){var l=o+" Iterator";return i.prototype=p(r,{next:f(1,a)}),g(i,l,!1,!0),m[l]=h,i}},{"../internals/create-property-descriptor":38,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],37:[function(e,u,d){var h=e("../internals/descriptors"),r=e("../internals/object-define-property"),p=e("../internals/create-property-descriptor");u.exports=h?function(f,g,m){return r.f(f,g,p(1,m))}:function(f,g,m){return f[g]=m,f}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/object-define-property":92}],38:[function(e,u,d){u.exports=function(h,r){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:r}}},{}],39:[function(e,u,d){var h=e("../internals/to-primitive"),r=e("../internals/object-define-property"),p=e("../internals/create-property-descriptor");u.exports=function(f,g,m){var i=h(g);i in f?r.f(f,i,p(0,m)):f[i]=m}},{"../internals/create-property-descriptor":38,"../internals/object-define-property":92,"../internals/to-primitive":138}],40:[function(e,u,d){function h(){return this}var r=e("../internals/export"),p=e("../internals/create-iterator-constructor"),f=e("../internals/object-get-prototype-of"),g=e("../internals/object-set-prototype-of"),m=e("../internals/set-to-string-tag"),i=e("../internals/create-non-enumerable-property"),o=e("../internals/redefine"),a=e("../internals/well-known-symbol"),l=e("../internals/is-pure"),c=e("../internals/iterators"),y=e("../internals/iterators-core"),w=y.IteratorPrototype,x=y.BUGGY_SAFARI_ITERATORS,S=a("iterator"),E="values",C="entries";u.exports=function(A,O,I,R,L,N,D){p(I,O,R);function H(ve){if(ve===L&&xe)return xe;if(!x&&ve in se)return se[ve];switch(ve){case"keys":case E:case C:return function(){return new I(this,ve)}}return function(){return new I(this)}}var z,ae,le,J=O+" Iterator",ue=!1,se=A.prototype,me=se[S]||se["@@iterator"]||L&&se[L],xe=!x&&me||H(L),Ce=O=="Array"&&se.entries||me;if(Ce&&(z=f(Ce.call(new A)),w!==Object.prototype&&z.next&&(l||f(z)===w||(g?g(z,w):typeof z[S]!="function"&&i(z,S,h)),m(z,J,!0,!0),l&&(c[J]=h))),L==E&&me&&me.name!==E&&(ue=!0,xe=function(){return me.call(this)}),l&&!D||se[S]===xe||i(se,S,xe),c[O]=xe,L)if(ae={values:H(E),keys:N?xe:H("keys"),entries:H(C)},D)for(le in ae)!x&&!ue&&le in se||o(se,le,ae[le]);else r({target:O,proto:!0,forced:x||ue},ae);return ae}},{"../internals/create-iterator-constructor":36,"../internals/create-non-enumerable-property":37,"../internals/export":49,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],41:[function(e,u,d){var h=e("../internals/path"),r=e("../internals/has"),p=e("../internals/well-known-symbol-wrapped"),f=e("../internals/object-define-property").f;u.exports=function(g){var m=h.Symbol||(h.Symbol={});r(m,g)||f(m,g,{value:p.f(g)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],42:[function(e,u,d){var h=e("../internals/fails");u.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":50}],43:[function(e,u,d){var h=e("../internals/global"),r=e("../internals/is-object"),p=h.document,f=r(p)&&r(p.createElement);u.exports=function(g){return f?p.createElement(g):{}}},{"../internals/global":59,"../internals/is-object":74}],44:[function(e,u,d){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],45:[function(e,u,d){var h=e("../internals/engine-user-agent");u.exports=/(iphone|ipod|ipad).*applewebkit/i.test(h)},{"../internals/engine-user-agent":46}],46:[function(e,u,d){var h=e("../internals/get-built-in");u.exports=h("navigator","userAgent")||""},{"../internals/get-built-in":56}],47:[function(e,u,d){var h,r,p=e("../internals/global"),f=e("../internals/engine-user-agent"),g=p.process,m=g&&g.versions,i=m&&m.v8;i?r=(h=i.split("."))[0]+h[1]:f&&(!(h=f.match(/Edge\/(\d+)/))||74<=h[1])&&(h=f.match(/Chrome\/(\d+)/))&&(r=h[1]),u.exports=r&&+r},{"../internals/engine-user-agent":46,"../internals/global":59}],48:[function(e,u,d){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],49:[function(e,u,d){var h=e("../internals/global"),r=e("../internals/object-get-own-property-descriptor").f,p=e("../internals/create-non-enumerable-property"),f=e("../internals/redefine"),g=e("../internals/set-global"),m=e("../internals/copy-constructor-properties"),i=e("../internals/is-forced");u.exports=function(o,a){var l,c,y,w,x,S=o.target,E=o.global,C=o.stat;if(l=E?h:C?h[S]||g(S,{}):(h[S]||{}).prototype)for(c in a){if(w=a[c],y=o.noTargetGet?(x=r(l,c))&&x.value:l[c],!i(E?c:S+(C?".":"#")+c,o.forced)&&y!==void 0){if(typeof w==typeof y)continue;m(w,y)}(o.sham||y&&y.sham)&&p(w,"sham",!0),f(l,c,w,o)}}},{"../internals/copy-constructor-properties":32,"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],50:[function(e,u,d){u.exports=function(h){try{return!!h()}catch{return!0}}},{}],51:[function(e,u,d){e("../modules/es.regexp.exec");var h=e("../internals/redefine"),r=e("../internals/fails"),p=e("../internals/well-known-symbol"),f=e("../internals/regexp-exec"),g=e("../internals/create-non-enumerable-property"),m=p("species"),i=!r(function(){var y=/./;return y.exec=function(){var w=[];return w.groups={a:"7"},w},"".replace(y,"$<a>")!=="7"}),o="a".replace(/./,"$0")==="$0",a=p("replace"),l=!!/./[a]&&/./[a]("a","$0")==="",c=!r(function(){var y=/(?:)/,w=y.exec;y.exec=function(){return w.apply(this,arguments)};var x="ab".split(y);return x.length!==2||x[0]!=="a"||x[1]!=="b"});u.exports=function(y,w,x,S){var E=p(y),C=!r(function(){var N={};return N[E]=function(){return 7},""[y](N)!=7}),A=C&&!r(function(){var N=!1,D=/a/;return y==="split"&&((D={constructor:{}}).constructor[m]=function(){return D},D.flags="",D[E]=/./[E]),D.exec=function(){return N=!0,null},D[E](""),!N});if(!C||!A||y==="replace"&&(!i||!o||l)||y==="split"&&!c){var O=/./[E],I=x(E,""[y],function(N,D,H,z,ae){return D.exec===f?C&&!ae?{done:!0,value:O.call(D,H,z)}:{done:!0,value:N.call(H,D,z)}:{done:!1}},{REPLACE_KEEPS_$0:o,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:l}),R=I[0],L=I[1];h(String.prototype,y,R),h(RegExp.prototype,E,w==2?function(N,D){return L.call(N,this,D)}:function(N){return L.call(N,this)})}S&&g(RegExp.prototype[E],"sham",!0)}},{"../internals/create-non-enumerable-property":37,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],52:[function(e,u,d){var h=e("../internals/is-array"),r=e("../internals/to-length"),p=e("../internals/function-bind-context"),f=function(g,m,i,o,a,l,c,y){for(var w,x=a,S=0,E=!!c&&p(c,y,3);S<o;){if(S in i){if(w=E?E(i[S],S,m):i[S],0<l&&h(w))x=f(g,m,w,r(w.length),x,l-1)-1;else{if(9007199254740991<=x)throw TypeError("Exceed the acceptable array length");g[x]=w}x++}S++}return x};u.exports=f},{"../internals/function-bind-context":54,"../internals/is-array":72,"../internals/to-length":134}],53:[function(e,u,d){var h=e("../internals/fails");u.exports=!h(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":50}],54:[function(e,u,d){var h=e("../internals/a-function");u.exports=function(r,p,f){if(h(r),p===void 0)return r;switch(f){case 0:return function(){return r.call(p)};case 1:return function(g){return r.call(p,g)};case 2:return function(g,m){return r.call(p,g,m)};case 3:return function(g,m,i){return r.call(p,g,m,i)}}return function(){return r.apply(p,arguments)}}},{"../internals/a-function":5}],55:[function(e,u,d){var h=e("../internals/a-function"),r=e("../internals/is-object"),p=[].slice,f={};u.exports=Function.bind||function(g){var m=h(this),i=p.call(arguments,1),o=function(){var a=i.concat(p.call(arguments));return this instanceof o?function(l,c,y){if(!(c in f)){for(var w=[],x=0;x<c;x++)w[x]="a["+x+"]";f[c]=Function("C,a","return new C("+w.join(",")+")")}return f[c](l,y)}(m,a.length,a):m.apply(g,a)};return r(m.prototype)&&(o.prototype=m.prototype),o}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,u,d){function h(f){return typeof f=="function"?f:void 0}var r=e("../internals/path"),p=e("../internals/global");u.exports=function(f,g){return arguments.length<2?h(r[f])||h(p[f]):r[f]&&r[f][g]||p[f]&&p[f][g]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,u,d){var h=e("../internals/classof"),r=e("../internals/iterators"),p=e("../internals/well-known-symbol")("iterator");u.exports=function(f){if(f!=null)return f[p]||f["@@iterator"]||r[h(f)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(e,u,d){var h=e("../internals/an-object"),r=e("../internals/get-iterator-method");u.exports=function(p){var f=r(p);if(typeof f!="function")throw TypeError(String(p)+" is not iterable");return h(f.call(p))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,u,d){(function(h){function r(p){return p&&p.Math==Math&&p}u.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof h=="object"&&h)||Function("return this")()}).call(this,typeof $s<"u"?$s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(e,u,d){var h={}.hasOwnProperty;u.exports=function(r,p){return h.call(r,p)}},{}],61:[function(e,u,d){u.exports={}},{}],62:[function(e,u,d){var h=e("../internals/global");u.exports=function(r,p){var f=h.console;f&&f.error&&(arguments.length===1?f.error(r):f.error(r,p))}},{"../internals/global":59}],63:[function(e,u,d){var h=e("../internals/get-built-in");u.exports=h("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,u,d){var h=e("../internals/descriptors"),r=e("../internals/fails"),p=e("../internals/document-create-element");u.exports=!h&&!r(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":42,"../internals/document-create-element":43,"../internals/fails":50}],65:[function(e,u,d){var h=Math.abs,r=Math.pow,p=Math.floor,f=Math.log,g=Math.LN2;u.exports={pack:function(m,i,o){var a,l,c,y=new Array(o),w=8*o-i-1,x=(1<<w)-1,S=x>>1,E=i===23?r(2,-24)-r(2,-77):0,C=m<0||m===0&&1/m<0?1:0,A=0;for((m=h(m))!=m||m===1/0?(l=m!=m?1:0,a=x):(a=p(f(m)/g),m*(c=r(2,-a))<1&&(a--,c*=2),2<=(m+=1<=a+S?E/c:E*r(2,1-S))*c&&(a++,c/=2),x<=a+S?(l=0,a=x):1<=a+S?(l=(m*c-1)*r(2,i),a+=S):(l=m*r(2,S-1)*r(2,i),a=0));8<=i;y[A++]=255&l,l/=256,i-=8);for(a=a<<i|l,w+=i;0<w;y[A++]=255&a,a/=256,w-=8);return y[--A]|=128*C,y},unpack:function(m,i){var o,a=m.length,l=8*a-i-1,c=(1<<l)-1,y=c>>1,w=l-7,x=a-1,S=m[x--],E=127&S;for(S>>=7;0<w;E=256*E+m[x],x--,w-=8);for(o=E&(1<<-w)-1,E>>=-w,w+=i;0<w;o=256*o+m[x],x--,w-=8);if(E===0)E=1-y;else{if(E===c)return o?NaN:S?-1/0:1/0;o+=r(2,i),E-=y}return(S?-1:1)*o*r(2,E-i)}}},{}],66:[function(e,u,d){var h=e("../internals/fails"),r=e("../internals/classof-raw"),p="".split;u.exports=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return r(f)=="String"?p.call(f,""):Object(f)}:Object},{"../internals/classof-raw":28,"../internals/fails":50}],67:[function(e,u,d){var h=e("../internals/is-object"),r=e("../internals/object-set-prototype-of");u.exports=function(p,f,g){var m,i;return r&&typeof(m=f.constructor)=="function"&&m!==g&&h(i=m.prototype)&&i!==g.prototype&&r(p,i),p}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(e,u,d){var h=e("../internals/shared-store"),r=Function.toString;typeof h.inspectSource!="function"&&(h.inspectSource=function(p){return r.call(p)}),u.exports=h.inspectSource},{"../internals/shared-store":119}],69:[function(e,u,d){function h(y){g(y,o,{value:{objectID:"O"+ ++a,weakData:{}}})}var r=e("../internals/hidden-keys"),p=e("../internals/is-object"),f=e("../internals/has"),g=e("../internals/object-define-property").f,m=e("../internals/uid"),i=e("../internals/freezing"),o=m("meta"),a=0,l=Object.isExtensible||function(){return!0},c=u.exports={REQUIRED:!1,fastKey:function(y,w){if(!p(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!f(y,o)){if(!l(y))return"F";if(!w)return"E";h(y)}return y[o].objectID},getWeakData:function(y,w){if(!f(y,o)){if(!l(y))return!0;if(!w)return!1;h(y)}return y[o].weakData},onFreeze:function(y){return i&&c.REQUIRED&&l(y)&&!f(y,o)&&h(y),y}};r[o]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(e,u,d){var h,r,p,f=e("../internals/native-weak-map"),g=e("../internals/global"),m=e("../internals/is-object"),i=e("../internals/create-non-enumerable-property"),o=e("../internals/has"),a=e("../internals/shared-key"),l=e("../internals/hidden-keys"),c=g.WeakMap;if(f){var y=new c,w=y.get,x=y.has,S=y.set;h=function(C,A){return S.call(y,C,A),A},r=function(C){return w.call(y,C)||{}},p=function(C){return x.call(y,C)}}else{var E=a("state");l[E]=!0,h=function(C,A){return i(C,E,A),A},r=function(C){return o(C,E)?C[E]:{}},p=function(C){return o(C,E)}}u.exports={set:h,get:r,has:p,enforce:function(C){return p(C)?r(C):h(C,{})},getterFor:function(C){return function(A){var O;if(!m(A)||(O=r(A)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return O}}}},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,u,d){var h=e("../internals/well-known-symbol"),r=e("../internals/iterators"),p=h("iterator"),f=Array.prototype;u.exports=function(g){return g!==void 0&&(r.Array===g||f[p]===g)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(e,u,d){var h=e("../internals/classof-raw");u.exports=Array.isArray||function(r){return h(r)=="Array"}},{"../internals/classof-raw":28}],73:[function(e,u,d){function h(o,a){var l=g[f(o)];return l==i||l!=m&&(typeof a=="function"?r(a):!!a)}var r=e("../internals/fails"),p=/#|\.prototype\./,f=h.normalize=function(o){return String(o).replace(p,".").toLowerCase()},g=h.data={},m=h.NATIVE="N",i=h.POLYFILL="P";u.exports=h},{"../internals/fails":50}],74:[function(e,u,d){u.exports=function(h){return typeof h=="object"?h!==null:typeof h=="function"}},{}],75:[function(e,u,d){u.exports=!1},{}],76:[function(e,u,d){var h=e("../internals/is-object"),r=e("../internals/classof-raw"),p=e("../internals/well-known-symbol")("match");u.exports=function(f){var g;return h(f)&&((g=f[p])!==void 0?!!g:r(f)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(e,u,d){function h(o,a){this.stopped=o,this.result=a}var r=e("../internals/an-object"),p=e("../internals/is-array-iterator-method"),f=e("../internals/to-length"),g=e("../internals/function-bind-context"),m=e("../internals/get-iterator-method"),i=e("../internals/call-with-safe-iteration-closing");(u.exports=function(o,a,l,c,y){var w,x,S,E,C,A,O,I=g(a,l,c?2:1);if(y)w=o;else{if(typeof(x=m(o))!="function")throw TypeError("Target is not iterable");if(p(x)){for(S=0,E=f(o.length);S<E;S++)if((C=c?I(r(O=o[S])[0],O[1]):I(o[S]))&&C instanceof h)return C;return new h(!1)}w=x.call(o)}for(A=w.next;!(O=A.call(w)).done;)if(typeof(C=i(w,I,O.value,c))=="object"&&C&&C instanceof h)return C;return new h(!1)}).stop=function(o){return new h(!0,o)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(e,u,d){var h,r,p,f=e("../internals/object-get-prototype-of"),g=e("../internals/create-non-enumerable-property"),m=e("../internals/has"),i=e("../internals/well-known-symbol"),o=e("../internals/is-pure"),a=i("iterator"),l=!1;[].keys&&("next"in(p=[].keys())?(r=f(f(p)))!==Object.prototype&&(h=r):l=!0),h==null&&(h={}),o||m(h,a)||g(h,a,function(){return this}),u.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":37,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(e,u,d){arguments[4][61][0].apply(d,arguments)},{dup:61}],80:[function(e,u,d){u.exports=Math.sign||function(h){return(h=+h)==0||h!=h?h:h<0?-1:1}},{}],81:[function(e,u,d){var h,r,p,f,g,m,i,o,a=e("../internals/global"),l=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/classof-raw"),y=e("../internals/task").set,w=e("../internals/engine-is-ios"),x=a.MutationObserver||a.WebKitMutationObserver,S=a.process,E=a.Promise,C=c(S)=="process",A=l(a,"queueMicrotask"),O=A&&A.value;O||(h=function(){var I,R;for(C&&(I=S.domain)&&I.exit();r;){R=r.fn,r=r.next;try{R()}catch(L){throw r?f():p=void 0,L}}p=void 0,I&&I.enter()},f=C?function(){S.nextTick(h)}:x&&!w?(g=!0,m=document.createTextNode(""),new x(h).observe(m,{characterData:!0}),function(){m.data=g=!g}):E&&E.resolve?(i=E.resolve(void 0),o=i.then,function(){o.call(i,h)}):function(){y.call(a,h)}),u.exports=O||function(I){var R={fn:I,next:void 0};p&&(p.next=R),r||(r=R,f()),p=R}},{"../internals/classof-raw":28,"../internals/engine-is-ios":45,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(e,u,d){var h=e("../internals/global");u.exports=h.Promise},{"../internals/global":59}],83:[function(e,u,d){var h=e("../internals/fails");u.exports=!!Object.getOwnPropertySymbols&&!h(function(){return!String(Symbol())})},{"../internals/fails":50}],84:[function(e,u,d){var h=e("../internals/fails"),r=e("../internals/well-known-symbol"),p=e("../internals/is-pure"),f=r("iterator");u.exports=!h(function(){var g=new URL("b?a=1&b=2&c=3","http://a"),m=g.searchParams,i="";return g.pathname="c%20d",m.forEach(function(o,a){m.delete("b"),i+=a+o}),p&&!g.toJSON||!m.sort||g.href!=="http://a/c%20d?a=1&c=3"||m.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!m[f]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||i!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":50,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(e,u,d){var h=e("../internals/global"),r=e("../internals/inspect-source"),p=h.WeakMap;u.exports=typeof p=="function"&&/native code/.test(r(p))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,u,d){function h(p){var f,g;this.promise=new p(function(m,i){if(f!==void 0||g!==void 0)throw TypeError("Bad Promise constructor");f=m,g=i}),this.resolve=r(f),this.reject=r(g)}var r=e("../internals/a-function");u.exports.f=function(p){return new h(p)}},{"../internals/a-function":5}],87:[function(e,u,d){var h=e("../internals/is-regexp");u.exports=function(r){if(h(r))throw TypeError("The method doesn't accept regular expressions");return r}},{"../internals/is-regexp":76}],88:[function(e,u,d){var h=e("../internals/global").isFinite;u.exports=Number.isFinite||function(r){return typeof r=="number"&&h(r)}},{"../internals/global":59}],89:[function(e,u,d){var h=e("../internals/descriptors"),r=e("../internals/fails"),p=e("../internals/object-keys"),f=e("../internals/object-get-own-property-symbols"),g=e("../internals/object-property-is-enumerable"),m=e("../internals/to-object"),i=e("../internals/indexed-object"),o=Object.assign,a=Object.defineProperty;u.exports=!o||r(function(){if(h&&o({b:1},o(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var l={},c={},y=Symbol(),w="abcdefghijklmnopqrst";return l[y]=7,w.split("").forEach(function(x){c[x]=x}),o({},l)[y]!=7||p(o({},c)).join("")!=w})?function(l,c){for(var y=m(l),w=arguments.length,x=1,S=f.f,E=g.f;x<w;)for(var C,A=i(arguments[x++]),O=S?p(A).concat(S(A)):p(A),I=O.length,R=0;R<I;)C=O[R++],h&&!E.call(A,C)||(y[C]=A[C]);return y}:o},{"../internals/descriptors":42,"../internals/fails":50,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(e,u,d){function h(){}function r(S){return"<script>"+S+"</"+y+">"}var p,f=e("../internals/an-object"),g=e("../internals/object-define-properties"),m=e("../internals/enum-bug-keys"),i=e("../internals/hidden-keys"),o=e("../internals/html"),a=e("../internals/document-create-element"),l=e("../internals/shared-key"),c="prototype",y="script",w=l("IE_PROTO"),x=function(){try{p=document.domain&&new ActiveXObject("htmlfile")}catch{}var S,E;x=p?function(A){A.write(r("")),A.close();var O=A.parentWindow.Object;return A=null,O}(p):((E=a("iframe")).style.display="none",o.appendChild(E),E.src=String("javascript:"),(S=E.contentWindow.document).open(),S.write(r("document.F=Object")),S.close(),S.F);for(var C=m.length;C--;)delete x[c][m[C]];return x()};i[w]=!0,u.exports=Object.create||function(S,E){var C;return S!==null?(h[c]=f(S),C=new h,h[c]=null,C[w]=S):C=x(),E===void 0?C:g(C,E)}},{"../internals/an-object":10,"../internals/document-create-element":43,"../internals/enum-bug-keys":48,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,u,d){var h=e("../internals/descriptors"),r=e("../internals/object-define-property"),p=e("../internals/an-object"),f=e("../internals/object-keys");u.exports=h?Object.defineProperties:function(g,m){p(g);for(var i,o=f(m),a=o.length,l=0;l<a;)r.f(g,i=o[l++],m[i]);return g}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,u,d){var h=e("../internals/descriptors"),r=e("../internals/ie8-dom-define"),p=e("../internals/an-object"),f=e("../internals/to-primitive"),g=Object.defineProperty;d.f=h?g:function(m,i,o){if(p(m),i=f(i,!0),p(o),r)try{return g(m,i,o)}catch{}if("get"in o||"set"in o)throw TypeError("Accessors not supported");return"value"in o&&(m[i]=o.value),m}},{"../internals/an-object":10,"../internals/descriptors":42,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(e,u,d){var h=e("../internals/descriptors"),r=e("../internals/object-property-is-enumerable"),p=e("../internals/create-property-descriptor"),f=e("../internals/to-indexed-object"),g=e("../internals/to-primitive"),m=e("../internals/has"),i=e("../internals/ie8-dom-define"),o=Object.getOwnPropertyDescriptor;d.f=h?o:function(a,l){if(a=f(a),l=g(l,!0),i)try{return o(a,l)}catch{}if(m(a,l))return p(!r.f.call(a,l),a[l])}},{"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(e,u,d){var h=e("../internals/to-indexed-object"),r=e("../internals/object-get-own-property-names").f,p={}.toString,f=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];u.exports.f=function(g){return f&&p.call(g)=="[object Window]"?function(m){try{return r(m)}catch{return f.slice()}}(g):r(h(g))}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(e,u,d){var h=e("../internals/object-keys-internal"),r=e("../internals/enum-bug-keys").concat("length","prototype");d.f=Object.getOwnPropertyNames||function(p){return h(p,r)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],96:[function(e,u,d){d.f=Object.getOwnPropertySymbols},{}],97:[function(e,u,d){var h=e("../internals/has"),r=e("../internals/to-object"),p=e("../internals/shared-key"),f=e("../internals/correct-prototype-getter"),g=p("IE_PROTO"),m=Object.prototype;u.exports=f?Object.getPrototypeOf:function(i){return i=r(i),h(i,g)?i[g]:typeof i.constructor=="function"&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?m:null}},{"../internals/correct-prototype-getter":34,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(e,u,d){var h=e("../internals/has"),r=e("../internals/to-indexed-object"),p=e("../internals/array-includes").indexOf,f=e("../internals/hidden-keys");u.exports=function(g,m){var i,o=r(g),a=0,l=[];for(i in o)!h(f,i)&&h(o,i)&&l.push(i);for(;m.length>a;)h(o,i=m[a++])&&(~p(l,i)||l.push(i));return l}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(e,u,d){var h=e("../internals/object-keys-internal"),r=e("../internals/enum-bug-keys");u.exports=Object.keys||function(p){return h(p,r)}},{"../internals/enum-bug-keys":48,"../internals/object-keys-internal":98}],100:[function(e,u,d){var h={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,p=r&&!h.call({1:2},1);d.f=p?function(f){var g=r(this,f);return!!g&&g.enumerable}:h},{}],101:[function(e,u,d){var h=e("../internals/an-object"),r=e("../internals/a-possible-prototype");u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,f=!1,g={};try{(p=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(g,[]),f=g instanceof Array}catch{}return function(m,i){return h(m),r(i),f?p.call(m,i):m.__proto__=i,m}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,u,d){var h=e("../internals/to-string-tag-support"),r=e("../internals/classof");u.exports=h?{}.toString:function(){return"[object "+r(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(e,u,d){var h=e("../internals/get-built-in"),r=e("../internals/object-get-own-property-names"),p=e("../internals/object-get-own-property-symbols"),f=e("../internals/an-object");u.exports=h("Reflect","ownKeys")||function(g){var m=r.f(f(g)),i=p.f;return i?m.concat(i(g)):m}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,u,d){var h=e("../internals/global");u.exports=h},{"../internals/global":59}],105:[function(e,u,d){u.exports=function(h){try{return{error:!1,value:h()}}catch(r){return{error:!0,value:r}}}},{}],106:[function(e,u,d){var h=e("../internals/an-object"),r=e("../internals/is-object"),p=e("../internals/new-promise-capability");u.exports=function(f,g){if(h(f),r(g)&&g.constructor===f)return g;var m=p.f(f);return(0,m.resolve)(g),m.promise}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,u,d){var h=e("../internals/redefine");u.exports=function(r,p,f){for(var g in p)h(r,g,p[g],f);return r}},{"../internals/redefine":108}],108:[function(e,u,d){var h=e("../internals/global"),r=e("../internals/create-non-enumerable-property"),p=e("../internals/has"),f=e("../internals/set-global"),g=e("../internals/inspect-source"),m=e("../internals/internal-state"),i=m.get,o=m.enforce,a=String(String).split("String");(u.exports=function(l,c,y,w){var x=!!w&&!!w.unsafe,S=!!w&&!!w.enumerable,E=!!w&&!!w.noTargetGet;typeof y=="function"&&(typeof c!="string"||p(y,"name")||r(y,"name",c),o(y).source=a.join(typeof c=="string"?c:"")),l!==h?(x?!E&&l[c]&&(S=!0):delete l[c],S?l[c]=y:r(l,c,y)):S?l[c]=y:f(c,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&i(this).source||g(this)})},{"../internals/create-non-enumerable-property":37,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,u,d){var h=e("./classof-raw"),r=e("./regexp-exec");u.exports=function(p,f){var g=p.exec;if(typeof g=="function"){var m=g.call(p,f);if(typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(h(p)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return r.call(p,f)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(e,u,d){var h,r,p=e("./regexp-flags"),f=e("./regexp-sticky-helpers"),g=RegExp.prototype.exec,m=String.prototype.replace,i=g,o=(h=/a/,r=/b*/g,g.call(h,"a"),g.call(r,"a"),h.lastIndex!==0||r.lastIndex!==0),a=f.UNSUPPORTED_Y||f.BROKEN_CARET,l=/()??/.exec("")[1]!==void 0;(o||l||a)&&(i=function(c){var y,w,x,S,E=this,C=a&&E.sticky,A=p.call(E),O=E.source,I=0,R=c;return C&&((A=A.replace("y","")).indexOf("g")===-1&&(A+="g"),R=String(c).slice(E.lastIndex),0<E.lastIndex&&(!E.multiline||E.multiline&&c[E.lastIndex-1]!==`
`)&&(O="(?: "+O+")",R=" "+R,I++),w=new RegExp("^(?:"+O+")",A)),l&&(w=new RegExp("^"+O+"$(?!\\s)",A)),o&&(y=E.lastIndex),x=g.call(C?w:E,R),C?x?(x.input=x.input.slice(I),x[0]=x[0].slice(I),x.index=E.lastIndex,E.lastIndex+=x[0].length):E.lastIndex=0:o&&x&&(E.lastIndex=E.global?x.index+x[0].length:y),l&&x&&1<x.length&&m.call(x[0],w,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(x[S]=void 0)}),x}),u.exports=i},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,u,d){var h=e("../internals/an-object");u.exports=function(){var r=h(this),p="";return r.global&&(p+="g"),r.ignoreCase&&(p+="i"),r.multiline&&(p+="m"),r.dotAll&&(p+="s"),r.unicode&&(p+="u"),r.sticky&&(p+="y"),p}},{"../internals/an-object":10}],112:[function(e,u,d){var h=e("./fails");function r(p,f){return RegExp(p,f)}d.UNSUPPORTED_Y=h(function(){var p=r("a","y");return p.lastIndex=2,p.exec("abcd")!=null}),d.BROKEN_CARET=h(function(){var p=r("^r","gy");return p.lastIndex=2,p.exec("str")!=null})},{"./fails":50}],113:[function(e,u,d){u.exports=function(h){if(h==null)throw TypeError("Can't call method on "+h);return h}},{}],114:[function(e,u,d){u.exports=Object.is||function(h,r){return h===r?h!==0||1/h==1/r:h!=h&&r!=r}},{}],115:[function(e,u,d){var h=e("../internals/global"),r=e("../internals/create-non-enumerable-property");u.exports=function(p,f){try{r(h,p,f)}catch{h[p]=f}return f}},{"../internals/create-non-enumerable-property":37,"../internals/global":59}],116:[function(e,u,d){var h=e("../internals/get-built-in"),r=e("../internals/object-define-property"),p=e("../internals/well-known-symbol"),f=e("../internals/descriptors"),g=p("species");u.exports=function(m){var i=h(m),o=r.f;f&&i&&!i[g]&&o(i,g,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":42,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(e,u,d){var h=e("../internals/object-define-property").f,r=e("../internals/has"),p=e("../internals/well-known-symbol")("toStringTag");u.exports=function(f,g,m){f&&!r(f=m?f:f.prototype,p)&&h(f,p,{configurable:!0,value:g})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(e,u,d){var h=e("../internals/shared"),r=e("../internals/uid"),p=h("keys");u.exports=function(f){return p[f]||(p[f]=r(f))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(e,u,d){var h=e("../internals/global"),r=e("../internals/set-global"),p="__core-js_shared__",f=h[p]||r(p,{});u.exports=f},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,u,d){var h=e("../internals/is-pure"),r=e("../internals/shared-store");(u.exports=function(p,f){return r[p]||(r[p]=f!==void 0?f:{})})("versions",[]).push({version:"3.6.5",mode:h?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,u,d){var h=e("../internals/an-object"),r=e("../internals/a-function"),p=e("../internals/well-known-symbol")("species");u.exports=function(f,g){var m,i=h(f).constructor;return i===void 0||(m=h(i)[p])==null?g:r(m)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(e,u,d){var h=e("../internals/fails");u.exports=function(r){return h(function(){var p=""[r]('"');return p!==p.toLowerCase()||3<p.split('"').length})}},{"../internals/fails":50}],123:[function(e,u,d){function h(f){return function(g,m){var i,o,a=String(p(g)),l=r(m),c=a.length;return l<0||c<=l?f?"":void 0:(i=a.charCodeAt(l))<55296||56319<i||l+1===c||(o=a.charCodeAt(l+1))<56320||57343<o?f?a.charAt(l):i:f?a.slice(l,l+2):o-56320+(i-55296<<10)+65536}}var r=e("../internals/to-integer"),p=e("../internals/require-object-coercible");u.exports={codeAt:h(!1),charAt:h(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(e,u,d){function h(l){return l+22+75*(l<26)}function r(l,c,y){var w=0;for(l=y?o(l/700):l>>1,l+=o(l/c);455<l;w+=36)l=o(l/35);return o(w+36*l/(l+38))}function p(l){var c,y,w=[],x=(l=function(ae){for(var le=[],J=0,ue=ae.length;J<ue;){var se=ae.charCodeAt(J++);if(55296<=se&&se<=56319&&J<ue){var me=ae.charCodeAt(J++);(64512&me)==56320?le.push(((1023&se)<<10)+(1023&me)+65536):(le.push(se),J--)}else le.push(se)}return le}(l)).length,S=128,E=0,C=72;for(c=0;c<l.length;c++)(y=l[c])<128&&w.push(a(y));var A=w.length,O=A;for(A&&w.push("-");O<x;){var I=f;for(c=0;c<l.length;c++)S<=(y=l[c])&&y<I&&(I=y);var R=O+1;if(I-S>o((f-E)/R))throw RangeError(i);for(E+=(I-S)*R,S=I,c=0;c<l.length;c++){if((y=l[c])<S&&++E>f)throw RangeError(i);if(y==S){for(var L=E,N=36;;N+=36){var D=N<=C?1:C+26<=N?26:N-C;if(L<D)break;var H=L-D,z=36-D;w.push(a(h(D+H%z))),L=o(H/z)}w.push(a(h(L))),C=r(E,R,O==A),E=0,++O}}++E,++S}return w.join("")}var f=2147483647,g=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",o=Math.floor,a=String.fromCharCode;u.exports=function(l){var c,y,w=[],x=l.toLowerCase().replace(m,".").split(".");for(c=0;c<x.length;c++)y=x[c],w.push(g.test(y)?"xn--"+p(y):y);return w.join(".")}},{}],125:[function(e,u,d){var h=e("../internals/to-integer"),r=e("../internals/require-object-coercible");u.exports="".repeat||function(p){var f=String(r(this)),g="",m=h(p);if(m<0||m==1/0)throw RangeError("Wrong number of repetitions");for(;0<m;(m>>>=1)&&(f+=f))1&m&&(g+=f);return g}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(e,u,d){var h=e("../internals/fails"),r=e("../internals/whitespaces");u.exports=function(p){return h(function(){return!!r[p]()||"​᠎"[p]()!="​᠎"||r[p].name!==p})}},{"../internals/fails":50,"../internals/whitespaces":147}],127:[function(e,u,d){function h(m){return function(i){var o=String(r(i));return 1&m&&(o=o.replace(f,"")),2&m&&(o=o.replace(g,"")),o}}var r=e("../internals/require-object-coercible"),p="["+e("../internals/whitespaces")+"]",f=RegExp("^"+p+p+"*"),g=RegExp(p+p+"*$");u.exports={start:h(1),end:h(2),trim:h(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(e,u,d){function h(D){if(L.hasOwnProperty(D)){var H=L[D];delete L[D],H()}}function r(D){return function(){h(D)}}function p(D){h(D.data)}function f(D){o.postMessage(D+"",S.protocol+"//"+S.host)}var g,m,i,o=e("../internals/global"),a=e("../internals/fails"),l=e("../internals/classof-raw"),c=e("../internals/function-bind-context"),y=e("../internals/html"),w=e("../internals/document-create-element"),x=e("../internals/engine-is-ios"),S=o.location,E=o.setImmediate,C=o.clearImmediate,A=o.process,O=o.MessageChannel,I=o.Dispatch,R=0,L={},N="onreadystatechange";E&&C||(E=function(D){for(var H=[],z=1;z<arguments.length;)H.push(arguments[z++]);return L[++R]=function(){(typeof D=="function"?D:Function(D)).apply(void 0,H)},g(R),R},C=function(D){delete L[D]},l(A)=="process"?g=function(D){A.nextTick(r(D))}:I&&I.now?g=function(D){I.now(r(D))}:O&&!x?(i=(m=new O).port2,m.port1.onmessage=p,g=c(i.postMessage,i,1)):!o.addEventListener||typeof postMessage!="function"||o.importScripts||a(f)||S.protocol==="file:"?g=N in w("script")?function(D){y.appendChild(w("script"))[N]=function(){y.removeChild(this),h(D)}}:function(D){setTimeout(r(D),0)}:(g=f,o.addEventListener("message",p,!1))),u.exports={set:E,clear:C}},{"../internals/classof-raw":28,"../internals/document-create-element":43,"../internals/engine-is-ios":45,"../internals/fails":50,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(e,u,d){var h=e("../internals/classof-raw");u.exports=function(r){if(typeof r!="number"&&h(r)!="Number")throw TypeError("Incorrect invocation");return+r}},{"../internals/classof-raw":28}],130:[function(e,u,d){var h=e("../internals/to-integer"),r=Math.max,p=Math.min;u.exports=function(f,g){var m=h(f);return m<0?r(m+g,0):p(m,g)}},{"../internals/to-integer":133}],131:[function(e,u,d){var h=e("../internals/to-integer"),r=e("../internals/to-length");u.exports=function(p){if(p===void 0)return 0;var f=h(p),g=r(f);if(f!==g)throw RangeError("Wrong length or index");return g}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(e,u,d){var h=e("../internals/indexed-object"),r=e("../internals/require-object-coercible");u.exports=function(p){return h(r(p))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(e,u,d){var h=Math.ceil,r=Math.floor;u.exports=function(p){return isNaN(p=+p)?0:(0<p?r:h)(p)}},{}],134:[function(e,u,d){var h=e("../internals/to-integer"),r=Math.min;u.exports=function(p){return 0<p?r(h(p),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(e,u,d){var h=e("../internals/require-object-coercible");u.exports=function(r){return Object(h(r))}},{"../internals/require-object-coercible":113}],136:[function(e,u,d){var h=e("../internals/to-positive-integer");u.exports=function(r,p){var f=h(r);if(f%p)throw RangeError("Wrong offset");return f}},{"../internals/to-positive-integer":137}],137:[function(e,u,d){var h=e("../internals/to-integer");u.exports=function(r){var p=h(r);if(p<0)throw RangeError("The argument can't be less than 0");return p}},{"../internals/to-integer":133}],138:[function(e,u,d){var h=e("../internals/is-object");u.exports=function(r,p){if(!h(r))return r;var f,g;if(p&&typeof(f=r.toString)=="function"&&!h(g=f.call(r))||typeof(f=r.valueOf)=="function"&&!h(g=f.call(r))||!p&&typeof(f=r.toString)=="function"&&!h(g=f.call(r)))return g;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(e,u,d){var h={};h[e("../internals/well-known-symbol")("toStringTag")]="z",u.exports=String(h)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(e,u,d){function h(oe,pe){for(var ge=0,he=pe.length,Pe=new(re(oe))(he);ge<he;)Pe[ge]=pe[ge++];return Pe}function r(oe,pe){ve(oe,pe,{get:function(){return xe(this)[pe]}})}function p(oe){var pe;return oe instanceof P||(pe=R(oe))=="ArrayBuffer"||pe=="SharedArrayBuffer"}function f(oe,pe){return $(oe)&&typeof pe!="symbol"&&pe in oe&&String(+pe)==String(pe)}function g(oe,pe){return f(oe,pe=O(pe,!0))?x(2,oe[pe]):De(oe,pe)}function m(oe,pe,ge){return!(f(oe,pe=O(pe,!0))&&L(ge)&&I(ge,"value"))||I(ge,"get")||I(ge,"set")||ge.configurable||I(ge,"writable")&&!ge.writable||I(ge,"enumerable")&&!ge.enumerable?ve(oe,pe,ge):(oe[pe]=ge.value,oe)}var i=e("../internals/export"),o=e("../internals/global"),a=e("../internals/descriptors"),l=e("../internals/typed-array-constructors-require-wrappers"),c=e("../internals/array-buffer-view-core"),y=e("../internals/array-buffer"),w=e("../internals/an-instance"),x=e("../internals/create-property-descriptor"),S=e("../internals/create-non-enumerable-property"),E=e("../internals/to-length"),C=e("../internals/to-index"),A=e("../internals/to-offset"),O=e("../internals/to-primitive"),I=e("../internals/has"),R=e("../internals/classof"),L=e("../internals/is-object"),N=e("../internals/object-create"),D=e("../internals/object-set-prototype-of"),H=e("../internals/object-get-own-property-names").f,z=e("../internals/typed-array-from"),ae=e("../internals/array-iteration").forEach,le=e("../internals/set-species"),J=e("../internals/object-define-property"),ue=e("../internals/object-get-own-property-descriptor"),se=e("../internals/internal-state"),me=e("../internals/inherit-if-required"),xe=se.get,Ce=se.set,ve=J.f,De=ue.f,_e=Math.round,Se=o.RangeError,P=y.ArrayBuffer,G=y.DataView,X=c.NATIVE_ARRAY_BUFFER_VIEWS,ee=c.TYPED_ARRAY_TAG,B=c.TypedArray,F=c.TypedArrayPrototype,re=c.aTypedArrayConstructor,$=c.isTypedArray,ne="BYTES_PER_ELEMENT",ie="Wrong length";a?(X||(ue.f=g,J.f=m,r(F,"buffer"),r(F,"byteOffset"),r(F,"byteLength"),r(F,"length")),i({target:"Object",stat:!0,forced:!X},{getOwnPropertyDescriptor:g,defineProperty:m}),u.exports=function(oe,pe,ge){function he($e,be){ve($e,be,{get:function(){return nt=be,(V=xe(this)).view[Ne](nt*Pe+V.byteOffset,!0);var nt,V},set:function(nt){return V=be,Q=nt,q=xe(this),ge&&(Q=(Q=_e(Q))<0?0:255<Q?255:255&Q),void q.view[Le](V*Pe+q.byteOffset,Q,!0);var V,Q,q},enumerable:!0})}var Pe=oe.match(/\d+$/)[0]/8,Be=oe+(ge?"Clamped":"")+"Array",Ne="get"+oe,Le="set"+oe,Ze=o[Be],Re=Ze,Ae=Re&&Re.prototype,qe={};X?l&&(Re=pe(function($e,be,nt,V){return w($e,Re,Be),me(L(be)?p(be)?V!==void 0?new Ze(be,A(nt,Pe),V):nt!==void 0?new Ze(be,A(nt,Pe)):new Ze(be):$(be)?h(Re,be):z.call(Re,be):new Ze(C(be)),$e,Re)}),D&&D(Re,B),ae(H(Ze),function($e){$e in Re||S(Re,$e,Ze[$e])}),Re.prototype=Ae):(Re=pe(function($e,be,nt,V){w($e,Re,Be);var Q,q,K,de=0,Ee=0;if(L(be)){if(!p(be))return $(be)?h(Re,be):z.call(Re,be);Q=be,Ee=A(nt,Pe);var ke=be.byteLength;if(V===void 0){if(ke%Pe||(q=ke-Ee)<0)throw Se(ie)}else if(ke<(q=E(V)*Pe)+Ee)throw Se(ie);K=q/Pe}else K=C(be),Q=new P(q=K*Pe);for(Ce($e,{buffer:Q,byteOffset:Ee,byteLength:q,length:K,view:new G(Q)});de<K;)he($e,de++)}),D&&D(Re,B),Ae=Re.prototype=N(F)),Ae.constructor!==Re&&S(Ae,"constructor",Re),ee&&S(Ae,ee,Be),qe[Be]=Re,i({global:!0,forced:Re!=Ze,sham:!X},qe),ne in Re||S(Re,ne,Pe),ne in Ae||S(Ae,ne,Pe),le(Be)}):u.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(e,u,d){var h=e("../internals/global"),r=e("../internals/fails"),p=e("../internals/check-correctness-of-iteration"),f=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,g=h.ArrayBuffer,m=h.Int8Array;u.exports=!f||!r(function(){m(1)})||!r(function(){new m(-1)})||!p(function(i){new m,new m(null),new m(1.5),new m(i)},!0)||r(function(){return new m(new g(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":50,"../internals/global":59}],142:[function(e,u,d){var h=e("../internals/to-object"),r=e("../internals/to-length"),p=e("../internals/get-iterator-method"),f=e("../internals/is-array-iterator-method"),g=e("../internals/function-bind-context"),m=e("../internals/array-buffer-view-core").aTypedArrayConstructor;u.exports=function(i,o,a){var l,c,y,w,x,S,E=h(i),C=arguments.length,A=1<C?o:void 0,O=A!==void 0,I=p(E);if(I!=null&&!f(I))for(S=(x=I.call(E)).next,E=[];!(w=S.call(x)).done;)E.push(w.value);for(O&&2<C&&(A=g(A,a,2)),c=r(E.length),y=new(m(this))(c),l=0;l<c;l++)y[l]=O?A(E[l],l):E[l];return y}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(e,u,d){var h=0,r=Math.random();u.exports=function(p){return"Symbol("+String(p===void 0?"":p)+")_"+(++h+r).toString(36)}},{}],144:[function(e,u,d){var h=e("../internals/native-symbol");u.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(e,u,d){var h=e("../internals/well-known-symbol");d.f=h},{"../internals/well-known-symbol":146}],146:[function(e,u,d){var h=e("../internals/global"),r=e("../internals/shared"),p=e("../internals/has"),f=e("../internals/uid"),g=e("../internals/native-symbol"),m=e("../internals/use-symbol-as-uid"),i=r("wks"),o=h.Symbol,a=m?o:o&&o.withoutSetter||f;u.exports=function(l){return p(i,l)||(g&&p(o,l)?i[l]=o[l]:i[l]=a("Symbol."+l)),i[l]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(e,u,d){u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],148:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/global"),p=e("../internals/array-buffer"),f=e("../internals/set-species"),g="ArrayBuffer",m=p[g];h({global:!0,forced:r[g]!==m},{ArrayBuffer:m}),f(g)},{"../internals/array-buffer":13,"../internals/export":49,"../internals/global":59,"../internals/set-species":116}],149:[function(e,u,d){function h(A){if(!g(A))return!1;var O=A[w];return O!==void 0?!!O:f(A)}var r=e("../internals/export"),p=e("../internals/fails"),f=e("../internals/is-array"),g=e("../internals/is-object"),m=e("../internals/to-object"),i=e("../internals/to-length"),o=e("../internals/create-property"),a=e("../internals/array-species-create"),l=e("../internals/array-method-has-species-support"),c=e("../internals/well-known-symbol"),y=e("../internals/engine-v8-version"),w=c("isConcatSpreadable"),x=9007199254740991,S="Maximum allowed index exceeded",E=51<=y||!p(function(){var A=[];return A[w]=!1,A.concat()[0]!==A}),C=l("concat");r({target:"Array",proto:!0,forced:!E||!C},{concat:function(A){var O,I,R,L,N,D=m(this),H=a(D,0),z=0;for(O=-1,R=arguments.length;O<R;O++)if(h(N=O===-1?D:arguments[O])){if(L=i(N.length),x<z+L)throw TypeError(S);for(I=0;I<L;I++,z++)I in N&&o(H,z,N[I])}else{if(x<=z)throw TypeError(S);o(H,z++,N)}return H.length=z,H}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/fails":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/array-iteration").every,p=e("../internals/array-method-is-strict"),f=e("../internals/array-method-uses-to-length"),g=p("every"),m=f("every");h({target:"Array",proto:!0,forced:!g||!m},{every:function(i,o){return r(this,i,1<arguments.length?o:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],151:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/array-fill"),p=e("../internals/add-to-unscopables");h({target:"Array",proto:!0},{fill:r}),p("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":49}],152:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/array-iteration").filter,p=e("../internals/array-method-has-species-support"),f=e("../internals/array-method-uses-to-length"),g=p("filter"),m=f("filter");h({target:"Array",proto:!0,forced:!g||!m},{filter:function(i,o){return r(this,i,1<arguments.length?o:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],153:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/flatten-into-array"),p=e("../internals/to-object"),f=e("../internals/to-length"),g=e("../internals/a-function"),m=e("../internals/array-species-create");h({target:"Array",proto:!0},{flatMap:function(i,o){var a,l=p(this),c=f(l.length);return g(i),(a=m(l,0)).length=r(a,l,l,c,0,1,i,1<arguments.length?o:void 0),a}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":49,"../internals/flatten-into-array":52,"../internals/to-length":134,"../internals/to-object":135}],154:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/array-for-each");h({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},{"../internals/array-for-each":16,"../internals/export":49}],155:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/array-from");h({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(p){Array.from(p)})},{from:r})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":49}],156:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/array-includes").includes,p=e("../internals/add-to-unscopables");h({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(f,g){return r(this,f,1<arguments.length?g:void 0)}}),p("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":49}],157:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/array-includes").indexOf,p=e("../internals/array-method-is-strict"),f=e("../internals/array-method-uses-to-length"),g=[].indexOf,m=!!g&&1/[1].indexOf(1,-0)<0,i=p("indexOf"),o=f("indexOf",{ACCESSORS:!0,1:0});h({target:"Array",proto:!0,forced:m||!i||!o},{indexOf:function(a,l){return m?g.apply(this,arguments)||0:r(this,a,1<arguments.length?l:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],158:[function(e,u,d){var h=e("../internals/to-indexed-object"),r=e("../internals/add-to-unscopables"),p=e("../internals/iterators"),f=e("../internals/internal-state"),g=e("../internals/define-iterator"),m="Array Iterator",i=f.set,o=f.getterFor(m);u.exports=g(Array,"Array",function(a,l){i(this,{type:m,target:h(a),index:0,kind:l})},function(){var a=o(this),l=a.target,c=a.kind,y=a.index++;return!l||y>=l.length?{value:a.target=void 0,done:!0}:c=="keys"?{value:y,done:!1}:c=="values"?{value:l[y],done:!1}:{value:[y,l[y]],done:!1}},"values"),p.Arguments=p.Array,r("keys"),r("values"),r("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/indexed-object"),p=e("../internals/to-indexed-object"),f=e("../internals/array-method-is-strict"),g=[].join,m=r!=Object,i=f("join",",");h({target:"Array",proto:!0,forced:m||!i},{join:function(o){return g.call(p(this),o===void 0?",":o)}})},{"../internals/array-method-is-strict":22,"../internals/export":49,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/array-last-index-of");h({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},{"../internals/array-last-index-of":20,"../internals/export":49}],161:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/array-iteration").map,p=e("../internals/array-method-has-species-support"),f=e("../internals/array-method-uses-to-length"),g=p("map"),m=f("map");h({target:"Array",proto:!0,forced:!g||!m},{map:function(i,o){return r(this,i,1<arguments.length?o:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":49}],162:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/is-object"),p=e("../internals/is-array"),f=e("../internals/to-absolute-index"),g=e("../internals/to-length"),m=e("../internals/to-indexed-object"),i=e("../internals/create-property"),o=e("../internals/well-known-symbol"),a=e("../internals/array-method-has-species-support"),l=e("../internals/array-method-uses-to-length"),c=a("slice"),y=l("slice",{ACCESSORS:!0,0:0,1:2}),w=o("species"),x=[].slice,S=Math.max;h({target:"Array",proto:!0,forced:!c||!y},{slice:function(E,C){var A,O,I,R=m(this),L=g(R.length),N=f(E,L),D=f(C===void 0?L:C,L);if(p(R)&&(typeof(A=R.constructor)!="function"||A!==Array&&!p(A.prototype)?r(A)&&(A=A[w])===null&&(A=void 0):A=void 0,A===Array||A===void 0))return x.call(R,N,D);for(O=new(A===void 0?Array:A)(S(D-N,0)),I=0;N<D;N++,I++)N in R&&i(O,I,R[N]);return O.length=I,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":39,"../internals/export":49,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/array-iteration").some,p=e("../internals/array-method-is-strict"),f=e("../internals/array-method-uses-to-length"),g=p("some"),m=f("some");h({target:"Array",proto:!0,forced:!g||!m},{some:function(i,o){return r(this,i,1<arguments.length?o:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":49}],164:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/to-absolute-index"),p=e("../internals/to-integer"),f=e("../internals/to-length"),g=e("../internals/to-object"),m=e("../internals/array-species-create"),i=e("../internals/create-property"),o=e("../internals/array-method-has-species-support"),a=e("../internals/array-method-uses-to-length"),l=o("splice"),c=a("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,w=Math.min;h({target:"Array",proto:!0,forced:!l||!c},{splice:function(x,S){var E,C,A,O,I,R,L=g(this),N=f(L.length),D=r(x,N),H=arguments.length;if(H===0?E=C=0:C=H===1?(E=0,N-D):(E=H-2,w(y(p(S),0),N-D)),9007199254740991<N+E-C)throw TypeError("Maximum allowed length exceeded");for(A=m(L,C),O=0;O<C;O++)(I=D+O)in L&&i(A,O,L[I]);if(E<(A.length=C)){for(O=D;O<N-C;O++)R=O+E,(I=O+C)in L?L[R]=L[I]:delete L[R];for(O=N;N-C+E<O;O--)delete L[O-1]}else if(C<E)for(O=N-C;D<O;O--)R=O+E-1,(I=O+C-1)in L?L[R]=L[I]:delete L[R];for(O=0;O<E;O++)L[O+D]=arguments[O+2];return L.length=N-C+E,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":39,"../internals/export":49,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(e,u,d){e("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],166:[function(e,u,d){var h=e("../internals/descriptors"),r=e("../internals/object-define-property").f,p=Function.prototype,f=p.toString,g=/^\s*function ([^ (]*)/;!h||"name"in p||r(p,"name",{configurable:!0,get:function(){try{return f.call(this).match(g)[1]}catch{return""}}})},{"../internals/descriptors":42,"../internals/object-define-property":92}],167:[function(e,u,d){var h=e("../internals/collection"),r=e("../internals/collection-strong");u.exports=h("Map",function(p){return function(f){return p(this,arguments.length?f:void 0)}},r)},{"../internals/collection":31,"../internals/collection-strong":30}],168:[function(e,u,d){var h=e("../internals/export"),r=Math.hypot,p=Math.abs,f=Math.sqrt;h({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(g,m){for(var i,o,a=0,l=0,c=arguments.length,y=0;l<c;)y<(i=p(arguments[l++]))?(a=a*(o=y/i)*o+1,y=i):a+=0<i?(o=i/y)*o:i;return y===1/0?1/0:y*f(a)}})},{"../internals/export":49}],169:[function(e,u,d){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":49,"../internals/math-sign":80}],170:[function(e,u,d){function h(D){var H,z,ae,le,J,ue,se,me,xe=a(D,!1);if(typeof xe=="string"&&2<xe.length){if((H=(xe=S(xe)).charCodeAt(0))===43||H===45){if((z=xe.charCodeAt(2))===88||z===120)return NaN}else if(H===48){switch(xe.charCodeAt(1)){case 66:case 98:ae=2,le=49;break;case 79:case 111:ae=8,le=55;break;default:return+xe}for(ue=(J=xe.slice(2)).length,se=0;se<ue;se++)if((me=J.charCodeAt(se))<48||le<me)return NaN;return parseInt(J,ae)}}return+xe}var r=e("../internals/descriptors"),p=e("../internals/global"),f=e("../internals/is-forced"),g=e("../internals/redefine"),m=e("../internals/has"),i=e("../internals/classof-raw"),o=e("../internals/inherit-if-required"),a=e("../internals/to-primitive"),l=e("../internals/fails"),c=e("../internals/object-create"),y=e("../internals/object-get-own-property-names").f,w=e("../internals/object-get-own-property-descriptor").f,x=e("../internals/object-define-property").f,S=e("../internals/string-trim").trim,E="Number",C=p[E],A=C.prototype,O=i(c(A))==E;if(f(E,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var I,R=function(D){var H=arguments.length<1?0:D,z=this;return z instanceof R&&(O?l(function(){A.valueOf.call(z)}):i(z)!=E)?o(new C(h(H)),z,R):h(H)},L=r?y(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;L.length>N;N++)m(C,I=L[N])&&!m(R,I)&&x(R,I,w(C,I));(R.prototype=A).constructor=R,g(p,E,R)}},{"../internals/classof-raw":28,"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],171:[function(e,u,d){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":49,"../internals/number-is-finite":88}],172:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/to-integer"),p=e("../internals/this-number-value"),f=e("../internals/string-repeat"),g=e("../internals/fails"),m=1 .toFixed,i=Math.floor,o=function(a,l,c){return l===0?c:l%2==1?o(a,l-1,c*a):o(a*a,l/2,c)};h({target:"Number",proto:!0,forced:m&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!g(function(){m.call({})})},{toFixed:function(a){function l(L,N){for(var D=-1,H=N;++D<6;)H+=L*O[D],O[D]=H%1e7,H=i(H/1e7)}function c(L){for(var N=6,D=0;0<=--N;)D+=O[N],O[N]=i(D/L),D=D%L*1e7}function y(){for(var L=6,N="";0<=--L;)if(N!==""||L===0||O[L]!==0){var D=String(O[L]);N=N===""?D:N+f.call("0",7-D.length)+D}return N}var w,x,S,E,C=p(this),A=r(a),O=[0,0,0,0,0,0],I="",R="0";if(A<0||20<A)throw RangeError("Incorrect fraction digits");if(C!=C)return"NaN";if(C<=-1e21||1e21<=C)return String(C);if(C<0&&(I="-",C=-C),1e-21<C)if(x=(w=function(L){for(var N=0,D=L;4096<=D;)N+=12,D/=4096;for(;2<=D;)N+=1,D/=2;return N}(C*o(2,69,1))-69)<0?C*o(2,-w,1):C/o(2,w,1),x*=4503599627370496,0<(w=52-w)){for(l(0,x),S=A;7<=S;)l(1e7,0),S-=7;for(l(o(10,S,1),0),S=w-1;23<=S;)c(1<<23),S-=23;c(1<<S),l(1,1),c(2),R=y()}else l(0,x),l(1<<-w,0),R=y()+f.call("0",A);return R=0<A?I+((E=R.length)<=A?"0."+f.call("0",A-E)+R:R.slice(0,E-A)+"."+R.slice(E-A)):I+R}})},{"../internals/export":49,"../internals/fails":50,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],173:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/object-assign");h({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},{"../internals/export":49,"../internals/object-assign":89}],174:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/fails"),p=e("../internals/object-get-own-property-names-external").f;h({target:"Object",stat:!0,forced:r(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:p})},{"../internals/export":49,"../internals/fails":50,"../internals/object-get-own-property-names-external":94}],175:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/fails"),p=e("../internals/to-object"),f=e("../internals/object-get-prototype-of"),g=e("../internals/correct-prototype-getter");h({target:"Object",stat:!0,forced:r(function(){f(1)}),sham:!g},{getPrototypeOf:function(m){return f(p(m))}})},{"../internals/correct-prototype-getter":34,"../internals/export":49,"../internals/fails":50,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/to-object"),p=e("../internals/object-keys");h({target:"Object",stat:!0,forced:e("../internals/fails")(function(){p(1)})},{keys:function(f){return p(r(f))}})},{"../internals/export":49,"../internals/fails":50,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(e,u,d){var h=e("../internals/to-string-tag-support"),r=e("../internals/redefine"),p=e("../internals/object-to-string");h||r(Object.prototype,"toString",p,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(e,u,d){function h(Re){var Ae;return!(!O(Re)||typeof(Ae=Re.then)!="function")&&Ae}function r(Re,Ae,qe){if(!Ae.notified){Ae.notified=!0;var $e=Ae.reactions;le(function(){for(var be=Ae.value,nt=Ae.state==1,V=0;$e.length>V;){var Q,q,K,de=$e[V++],Ee=nt?de.ok:de.fail,ke=de.resolve,We=de.reject,we=de.domain;try{Ee?(nt||(Ae.rejection===2&&Le(Re,Ae),Ae.rejection=1),Ee===!0?Q=be:(we&&we.enter(),Q=Ee(be),we&&(we.exit(),K=!0)),Q===de.promise?We(B("Promise-chain cycle")):(q=h(Q))?q.call(Q,ke,We):ke(Q)):We(be)}catch(Qe){we&&!K&&we.exit(),We(Qe)}}Ae.reactions=[],Ae.notified=!1,qe&&!Ae.rejection&&Be(Re,Ae)})}}function p(Re,Ae,qe){var $e,be;pe?(($e=F.createEvent("Event")).promise=Ae,$e.reason=qe,$e.initEvent(Re,!1,!0),y.dispatchEvent($e)):$e={promise:Ae,reason:qe},(be=y["on"+Re])?be($e):Re===ge&&ue("Unhandled promise rejection",qe)}function f(Re,Ae,qe,$e){return function(be){Re(Ae,qe,be,$e)}}function g(Re,Ae,qe,$e){Ae.done||(Ae.done=!0,$e&&(Ae=$e),Ae.value=qe,Ae.state=2,r(Re,Ae,!0))}var m,i,o,a,l=e("../internals/export"),c=e("../internals/is-pure"),y=e("../internals/global"),w=e("../internals/get-built-in"),x=e("../internals/native-promise-constructor"),S=e("../internals/redefine"),E=e("../internals/redefine-all"),C=e("../internals/set-to-string-tag"),A=e("../internals/set-species"),O=e("../internals/is-object"),I=e("../internals/a-function"),R=e("../internals/an-instance"),L=e("../internals/classof-raw"),N=e("../internals/inspect-source"),D=e("../internals/iterate"),H=e("../internals/check-correctness-of-iteration"),z=e("../internals/species-constructor"),ae=e("../internals/task").set,le=e("../internals/microtask"),J=e("../internals/promise-resolve"),ue=e("../internals/host-report-errors"),se=e("../internals/new-promise-capability"),me=e("../internals/perform"),xe=e("../internals/internal-state"),Ce=e("../internals/is-forced"),ve=e("../internals/well-known-symbol"),De=e("../internals/engine-v8-version"),_e=ve("species"),Se="Promise",P=xe.get,G=xe.set,X=xe.getterFor(Se),ee=x,B=y.TypeError,F=y.document,re=y.process,$=w("fetch"),ne=se.f,ie=ne,oe=L(re)=="process",pe=!!(F&&F.createEvent&&y.dispatchEvent),ge="unhandledrejection",he=Ce(Se,function(){if(N(ee)===String(ee)&&(De===66||!oe&&typeof PromiseRejectionEvent!="function")||c&&!ee.prototype.finally)return!0;if(51<=De&&/native code/.test(ee))return!1;function Re(qe){qe(function(){},function(){})}var Ae=ee.resolve(1);return(Ae.constructor={})[_e]=Re,!(Ae.then(function(){})instanceof Re)}),Pe=he||!H(function(Re){ee.all(Re).catch(function(){})}),Be=function(Re,Ae){ae.call(y,function(){var qe,$e=Ae.value;if(Ne(Ae)&&(qe=me(function(){oe?re.emit("unhandledRejection",$e,Re):p(ge,Re,$e)}),Ae.rejection=oe||Ne(Ae)?2:1,qe.error))throw qe.value})},Ne=function(Re){return Re.rejection!==1&&!Re.parent},Le=function(Re,Ae){ae.call(y,function(){oe?re.emit("rejectionHandled",Re):p("rejectionhandled",Re,Ae.value)})},Ze=function(Re,Ae,qe,$e){if(!Ae.done){Ae.done=!0,$e&&(Ae=$e);try{if(Re===qe)throw B("Promise can't be resolved itself");var be=h(qe);be?le(function(){var nt={done:!1};try{be.call(qe,f(Ze,Re,nt,Ae),f(g,Re,nt,Ae))}catch(V){g(Re,nt,V,Ae)}}):(Ae.value=qe,Ae.state=1,r(Re,Ae,!1))}catch(nt){g(Re,{done:!1},nt,Ae)}}};he&&(ee=function(Re){R(this,ee,Se),I(Re),m.call(this);var Ae=P(this);try{Re(f(Ze,this,Ae),f(g,this,Ae))}catch(qe){g(this,Ae,qe)}},(m=function(){G(this,{type:Se,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=E(ee.prototype,{then:function(Re,Ae){var qe=X(this),$e=ne(z(this,ee));return $e.ok=typeof Re!="function"||Re,$e.fail=typeof Ae=="function"&&Ae,$e.domain=oe?re.domain:void 0,qe.parent=!0,qe.reactions.push($e),qe.state!=0&&r(this,qe,!1),$e.promise},catch:function(Re){return this.then(void 0,Re)}}),i=function(){var Re=new m,Ae=P(Re);this.promise=Re,this.resolve=f(Ze,Re,Ae),this.reject=f(g,Re,Ae)},se.f=ne=function(Re){return Re===ee||Re===o?new i(Re):ie(Re)},c||typeof x!="function"||(a=x.prototype.then,S(x.prototype,"then",function(Re,Ae){var qe=this;return new ee(function($e,be){a.call(qe,$e,be)}).then(Re,Ae)},{unsafe:!0}),typeof $=="function"&&l({global:!0,enumerable:!0,forced:!0},{fetch:function(Re){return J(ee,$.apply(y,arguments))}}))),l({global:!0,wrap:!0,forced:he},{Promise:ee}),C(ee,Se,!1,!0),A(Se),o=w(Se),l({target:Se,stat:!0,forced:he},{reject:function(Re){var Ae=ne(this);return Ae.reject.call(void 0,Re),Ae.promise}}),l({target:Se,stat:!0,forced:c||he},{resolve:function(Re){return J(c&&this===o?ee:this,Re)}}),l({target:Se,stat:!0,forced:Pe},{all:function(Re){var Ae=this,qe=ne(Ae),$e=qe.resolve,be=qe.reject,nt=me(function(){var V=I(Ae.resolve),Q=[],q=0,K=1;D(Re,function(de){var Ee=q++,ke=!1;Q.push(void 0),K++,V.call(Ae,de).then(function(We){ke||(ke=!0,Q[Ee]=We,--K||$e(Q))},be)}),--K||$e(Q)});return nt.error&&be(nt.value),qe.promise},race:function(Re){var Ae=this,qe=ne(Ae),$e=qe.reject,be=me(function(){var nt=I(Ae.resolve);D(Re,function(V){nt.call(Ae,V).then(qe.resolve,$e)})});return be.error&&$e(be.value),qe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":47,"../internals/export":49,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/get-built-in"),p=e("../internals/a-function"),f=e("../internals/an-object"),g=e("../internals/is-object"),m=e("../internals/object-create"),i=e("../internals/function-bind"),o=e("../internals/fails"),a=r("Reflect","construct"),l=o(function(){function w(){}return!(a(function(){},[],w)instanceof w)}),c=!o(function(){a(function(){})}),y=l||c;h({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(w,x,S){p(w),f(x);var E=arguments.length<3?w:p(S);if(c&&!l)return a(w,x,E);if(w==E){switch(x.length){case 0:return new w;case 1:return new w(x[0]);case 2:return new w(x[0],x[1]);case 3:return new w(x[0],x[1],x[2]);case 4:return new w(x[0],x[1],x[2],x[3])}var C=[null];return C.push.apply(C,x),new(i.apply(w,C))}var A=E.prototype,O=m(g(A)?A:Object.prototype),I=Function.apply.call(w,O,x);return g(I)?I:O}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":49,"../internals/fails":50,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(e,u,d){var h=e("../internals/descriptors"),r=e("../internals/global"),p=e("../internals/is-forced"),f=e("../internals/inherit-if-required"),g=e("../internals/object-define-property").f,m=e("../internals/object-get-own-property-names").f,i=e("../internals/is-regexp"),o=e("../internals/regexp-flags"),a=e("../internals/regexp-sticky-helpers"),l=e("../internals/redefine"),c=e("../internals/fails"),y=e("../internals/internal-state").set,w=e("../internals/set-species"),x=e("../internals/well-known-symbol")("match"),S=r.RegExp,E=S.prototype,C=/a/g,A=/a/g,O=new S(C)!==C,I=a.UNSUPPORTED_Y;if(h&&p("RegExp",!O||I||c(function(){return A[x]=!1,S(C)!=C||S(A)==A||S(C,"i")!="/a/i"}))){let H=function(z){z in R||g(R,z,{configurable:!0,get:function(){return S[z]},set:function(ae){S[z]=ae}})};for(var D=H,R=function(z,ae){var le,J=this instanceof R,ue=i(z),se=ae===void 0;if(!J&&ue&&z.constructor===R&&se)return z;O?ue&&!se&&(z=z.source):z instanceof R&&(se&&(ae=o.call(z)),z=z.source),I&&(le=!!ae&&-1<ae.indexOf("y"))&&(ae=ae.replace(/y/g,""));var me=f(O?new S(z,ae):S(z,ae),J?this:E,R);return I&&le&&y(me,{sticky:le}),me},L=m(S),N=0;L.length>N;)H(L[N++]);(E.constructor=R).prototype=E,l(r,"RegExp",R)}w("RegExp")},{"../internals/descriptors":42,"../internals/fails":50,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/regexp-exec");h({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},{"../internals/export":49,"../internals/regexp-exec":110}],182:[function(e,u,d){var h=e("../internals/redefine"),r=e("../internals/an-object"),p=e("../internals/fails"),f=e("../internals/regexp-flags"),g="toString",m=RegExp.prototype,i=m[g],o=p(function(){return i.call({source:"a",flags:"b"})!="/a/b"}),a=i.name!=g;(o||a)&&h(RegExp.prototype,g,function(){var l=r(this),c=String(l.source),y=l.flags;return"/"+c+"/"+String(y===void 0&&l instanceof RegExp&&!("flags"in m)?f.call(l):y)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":50,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(e,u,d){var h=e("../internals/collection"),r=e("../internals/collection-strong");u.exports=h("Set",function(p){return function(f){return p(this,arguments.length?f:void 0)}},r)},{"../internals/collection":31,"../internals/collection-strong":30}],184:[function(e,u,d){var h,r=e("../internals/export"),p=e("../internals/object-get-own-property-descriptor").f,f=e("../internals/to-length"),g=e("../internals/not-a-regexp"),m=e("../internals/require-object-coercible"),i=e("../internals/correct-is-regexp-logic"),o=e("../internals/is-pure"),a="".endsWith,l=Math.min,c=i("endsWith");r({target:"String",proto:!0,forced:!!(o||c||!(h=p(String.prototype,"endsWith"))||h.writable)&&!c},{endsWith:function(y,w){var x=String(m(this));g(y);var S=1<arguments.length?w:void 0,E=f(x.length),C=S===void 0?E:l(f(S),E),A=String(y);return a?a.call(x,A,C):x.slice(C-A.length,C)===A}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/not-a-regexp"),p=e("../internals/require-object-coercible");h({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(f,g){return!!~String(p(this)).indexOf(r(f),1<arguments.length?g:void 0)}})},{"../internals/correct-is-regexp-logic":33,"../internals/export":49,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(e,u,d){var h=e("../internals/string-multibyte").charAt,r=e("../internals/internal-state"),p=e("../internals/define-iterator"),f="String Iterator",g=r.set,m=r.getterFor(f);p(String,"String",function(i){g(this,{type:f,string:String(i),index:0})},function(){var i,o=m(this),a=o.string,l=o.index;return l>=a.length?{value:void 0,done:!0}:(i=h(a,l),o.index+=i.length,{value:i,done:!1})})},{"../internals/define-iterator":40,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(e,u,d){var h=e("../internals/fix-regexp-well-known-symbol-logic"),r=e("../internals/an-object"),p=e("../internals/to-length"),f=e("../internals/require-object-coercible"),g=e("../internals/advance-string-index"),m=e("../internals/regexp-exec-abstract");h("match",1,function(i,o,a){return[function(l){var c=f(this),y=l==null?void 0:l[i];return y!==void 0?y.call(l,c):new RegExp(l)[i](String(c))},function(l){var c=a(o,l,this);if(c.done)return c.value;var y=r(l),w=String(this);if(!y.global)return m(y,w);for(var x,S=y.unicode,E=[],C=y.lastIndex=0;(x=m(y,w))!==null;){var A=String(x[0]);(E[C]=A)===""&&(y.lastIndex=g(w,p(y.lastIndex),S)),C++}return C===0?null:E}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(e,u,d){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":49,"../internals/string-repeat":125}],189:[function(e,u,d){var h=e("../internals/fix-regexp-well-known-symbol-logic"),r=e("../internals/an-object"),p=e("../internals/to-object"),f=e("../internals/to-length"),g=e("../internals/to-integer"),m=e("../internals/require-object-coercible"),i=e("../internals/advance-string-index"),o=e("../internals/regexp-exec-abstract"),a=Math.max,l=Math.min,c=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,w=/\$([$&'`]|\d\d?)/g;h("replace",2,function(x,S,E,C){var A=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,O=C.REPLACE_KEEPS_$0,I=A?"$":"$0";return[function(L,N){var D=m(this),H=L==null?void 0:L[x];return H!==void 0?H.call(L,D,N):S.call(String(D),L,N)},function(L,N){if(!A&&O||typeof N=="string"&&N.indexOf(I)===-1){var D=E(S,L,this,N);if(D.done)return D.value}var H=r(L),z=String(this),ae=typeof N=="function";ae||(N=String(N));var le=H.global;if(le){var J=H.unicode;H.lastIndex=0}for(var ue=[];;){var se=o(H,z);if(se===null||(ue.push(se),!le))break;String(se[0])===""&&(H.lastIndex=i(z,f(H.lastIndex),J))}for(var me,xe="",Ce=0,ve=0;ve<ue.length;ve++){se=ue[ve];for(var De=String(se[0]),_e=a(l(g(se.index),z.length),0),Se=[],P=1;P<se.length;P++)Se.push((me=se[P])===void 0?me:String(me));var G=se.groups;if(ae){var X=[De].concat(Se,_e,z);G!==void 0&&X.push(G);var ee=String(N.apply(void 0,X))}else ee=R(De,z,_e,Se,G,N);Ce<=_e&&(xe+=z.slice(Ce,_e)+ee,Ce=_e+De.length)}return xe+z.slice(Ce)}];function R(L,N,D,H,z,ae){var le=D+L.length,J=H.length,ue=w;return z!==void 0&&(z=p(z),ue=y),S.call(ae,ue,function(se,me){var xe;switch(me.charAt(0)){case"$":return"$";case"&":return L;case"`":return N.slice(0,D);case"'":return N.slice(le);case"<":xe=z[me.slice(1,-1)];break;default:var Ce=+me;if(Ce==0)return se;if(J<Ce){var ve=c(Ce/10);return ve===0?se:ve<=J?H[ve-1]===void 0?me.charAt(1):H[ve-1]+me.charAt(1):se}xe=H[Ce-1]}return xe===void 0?"":xe})}})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(e,u,d){var h=e("../internals/fix-regexp-well-known-symbol-logic"),r=e("../internals/an-object"),p=e("../internals/require-object-coercible"),f=e("../internals/same-value"),g=e("../internals/regexp-exec-abstract");h("search",1,function(m,i,o){return[function(a){var l=p(this),c=a==null?void 0:a[m];return c!==void 0?c.call(a,l):new RegExp(a)[m](String(l))},function(a){var l=o(i,a,this);if(l.done)return l.value;var c=r(a),y=String(this),w=c.lastIndex;f(w,0)||(c.lastIndex=0);var x=g(c,y);return f(c.lastIndex,w)||(c.lastIndex=w),x===null?-1:x.index}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(e,u,d){var h=e("../internals/fix-regexp-well-known-symbol-logic"),r=e("../internals/is-regexp"),p=e("../internals/an-object"),f=e("../internals/require-object-coercible"),g=e("../internals/species-constructor"),m=e("../internals/advance-string-index"),i=e("../internals/to-length"),o=e("../internals/regexp-exec-abstract"),a=e("../internals/regexp-exec"),l=e("../internals/fails"),c=[].push,y=Math.min,w=4294967295,x=!l(function(){return!RegExp(w,"y")});h("split",2,function(S,E,C){var A;return A="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(O,I){var R=String(f(this)),L=I===void 0?w:I>>>0;if(L==0)return[];if(O===void 0)return[R];if(!r(O))return E.call(R,O,L);for(var N,D,H,z=[],ae=(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.unicode?"u":"")+(O.sticky?"y":""),le=0,J=new RegExp(O.source,ae+"g");(N=a.call(J,R))&&!(le<(D=J.lastIndex)&&(z.push(R.slice(le,N.index)),1<N.length&&N.index<R.length&&c.apply(z,N.slice(1)),H=N[0].length,le=D,z.length>=L));)J.lastIndex===N.index&&J.lastIndex++;return le===R.length?!H&&J.test("")||z.push(""):z.push(R.slice(le)),z.length>L?z.slice(0,L):z}:"0".split(void 0,0).length?function(O,I){return O===void 0&&I===0?[]:E.call(this,O,I)}:E,[function(O,I){var R=f(this),L=O==null?void 0:O[S];return L!==void 0?L.call(O,R,I):A.call(String(R),O,I)},function(O,I){var R=C(A,O,this,I,A!==E);if(R.done)return R.value;var L=p(O),N=String(this),D=g(L,RegExp),H=L.unicode,z=(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(x?"y":"g"),ae=new D(x?L:"^(?:"+L.source+")",z),le=I===void 0?w:I>>>0;if(le==0)return[];if(N.length===0)return o(ae,N)===null?[N]:[];for(var J=0,ue=0,se=[];ue<N.length;){ae.lastIndex=x?ue:0;var me,xe=o(ae,x?N:N.slice(ue));if(xe===null||(me=y(i(ae.lastIndex+(x?0:ue)),N.length))===J)ue=m(N,ue,H);else{if(se.push(N.slice(J,ue)),se.length===le)return se;for(var Ce=1;Ce<=xe.length-1;Ce++)if(se.push(xe[Ce]),se.length===le)return se;ue=J=me}}return se.push(N.slice(J)),se}]},!x)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":50,"../internals/fix-regexp-well-known-symbol-logic":51,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/create-html");h({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return r(this,"sub","","")}})},{"../internals/create-html":35,"../internals/export":49,"../internals/string-html-forced":122}],193:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/string-trim").trim;h({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return r(this)}})},{"../internals/export":49,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(e,u,d){var h=e("../internals/export"),r=e("../internals/descriptors"),p=e("../internals/global"),f=e("../internals/has"),g=e("../internals/is-object"),m=e("../internals/object-define-property").f,i=e("../internals/copy-constructor-properties"),o=p.Symbol;if(r&&typeof o=="function"&&(!("description"in o.prototype)||o().description!==void 0)){var a={},l=function(S){var E=arguments.length<1||S===void 0?void 0:String(S),C=this instanceof l?new o(E):E===void 0?o():o(E);return E===""&&(a[C]=!0),C};i(l,o);var c=l.prototype=o.prototype;c.constructor=l;var y=c.toString,w=String(o("test"))=="Symbol(test)",x=/^Symbol\((.*)\)[^)]+$/;m(c,"description",{configurable:!0,get:function(){var S=g(this)?this.valueOf():this,E=y.call(S);if(f(a,S))return"";var C=w?E.slice(7,-1):E.replace(x,"$1");return C===""?void 0:C}}),h({global:!0,forced:!0},{Symbol:l})}},{"../internals/copy-constructor-properties":32,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(e,u,d){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":41}],196:[function(e,u,d){function h(q,K){var de=Be[q]=R(ie[B]);return re(de,{type:ee,tag:q,description:K}),a||(de.description=K),de}function r(q,K){E(q);var de=A(K),Ee=L(de).concat(Q(de));return G(Ee,function(ke){a&&!V.call(de,ke)||nt(q,ke,de[ke])}),q}function p(q,K){var de=A(q),Ee=O(K,!0);if(de!==ne||!w(Be,Ee)||w(Ne,Ee)){var ke=pe(de,Ee);return!ke||!w(Be,Ee)||w(de,X)&&de[X][Ee]||(ke.enumerable=!0),ke}}function f(q){var K=he(A(q)),de=[];return G(K,function(Ee){w(Be,Ee)||w(xe,Ee)||de.push(Ee)}),de}var g=e("../internals/export"),m=e("../internals/global"),i=e("../internals/get-built-in"),o=e("../internals/is-pure"),a=e("../internals/descriptors"),l=e("../internals/native-symbol"),c=e("../internals/use-symbol-as-uid"),y=e("../internals/fails"),w=e("../internals/has"),x=e("../internals/is-array"),S=e("../internals/is-object"),E=e("../internals/an-object"),C=e("../internals/to-object"),A=e("../internals/to-indexed-object"),O=e("../internals/to-primitive"),I=e("../internals/create-property-descriptor"),R=e("../internals/object-create"),L=e("../internals/object-keys"),N=e("../internals/object-get-own-property-names"),D=e("../internals/object-get-own-property-names-external"),H=e("../internals/object-get-own-property-symbols"),z=e("../internals/object-get-own-property-descriptor"),ae=e("../internals/object-define-property"),le=e("../internals/object-property-is-enumerable"),J=e("../internals/create-non-enumerable-property"),ue=e("../internals/redefine"),se=e("../internals/shared"),me=e("../internals/shared-key"),xe=e("../internals/hidden-keys"),Ce=e("../internals/uid"),ve=e("../internals/well-known-symbol"),De=e("../internals/well-known-symbol-wrapped"),_e=e("../internals/define-well-known-symbol"),Se=e("../internals/set-to-string-tag"),P=e("../internals/internal-state"),G=e("../internals/array-iteration").forEach,X=me("hidden"),ee="Symbol",B="prototype",F=ve("toPrimitive"),re=P.set,$=P.getterFor(ee),ne=Object[B],ie=m.Symbol,oe=i("JSON","stringify"),pe=z.f,ge=ae.f,he=D.f,Pe=le.f,Be=se("symbols"),Ne=se("op-symbols"),Le=se("string-to-symbol-registry"),Ze=se("symbol-to-string-registry"),Re=se("wks"),Ae=m.QObject,qe=!Ae||!Ae[B]||!Ae[B].findChild,$e=a&&y(function(){return R(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!=7})?function(q,K,de){var Ee=pe(ne,K);Ee&&delete ne[K],ge(q,K,de),Ee&&q!==ne&&ge(ne,K,Ee)}:ge,be=c?function(q){return typeof q=="symbol"}:function(q){return Object(q)instanceof ie},nt=function(q,K,de){q===ne&&nt(Ne,K,de),E(q);var Ee=O(K,!0);return E(de),w(Be,Ee)?(de.enumerable?(w(q,X)&&q[X][Ee]&&(q[X][Ee]=!1),de=R(de,{enumerable:I(0,!1)})):(w(q,X)||ge(q,X,I(1,{})),q[X][Ee]=!0),$e(q,Ee,de)):ge(q,Ee,de)},V=function(q){var K=O(q,!0),de=Pe.call(this,K);return!(this===ne&&w(Be,K)&&!w(Ne,K))&&(!(de||!w(this,K)||!w(Be,K)||w(this,X)&&this[X][K])||de)},Q=function(q){var K=q===ne,de=he(K?Ne:A(q)),Ee=[];return G(de,function(ke){!w(Be,ke)||K&&!w(ne,ke)||Ee.push(Be[ke])}),Ee};l||(ue((ie=function(q){if(this instanceof ie)throw TypeError("Symbol is not a constructor");var K=arguments.length&&q!==void 0?String(q):void 0,de=Ce(K),Ee=function(ke){this===ne&&Ee.call(Ne,ke),w(this,X)&&w(this[X],de)&&(this[X][de]=!1),$e(this,de,I(1,ke))};return a&&qe&&$e(ne,de,{configurable:!0,set:Ee}),h(de,K)})[B],"toString",function(){return $(this).tag}),ue(ie,"withoutSetter",function(q){return h(Ce(q),q)}),le.f=V,ae.f=nt,z.f=p,N.f=D.f=f,H.f=Q,De.f=function(q){return h(ve(q),q)},a&&(ge(ie[B],"description",{configurable:!0,get:function(){return $(this).description}}),o||ue(ne,"propertyIsEnumerable",V,{unsafe:!0}))),g({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:ie}),G(L(Re),function(q){_e(q)}),g({target:ee,stat:!0,forced:!l},{for:function(q){var K=String(q);if(w(Le,K))return Le[K];var de=ie(K);return Le[K]=de,Ze[de]=K,de},keyFor:function(q){if(!be(q))throw TypeError(q+" is not a symbol");if(w(Ze,q))return Ze[q]},useSetter:function(){qe=!0},useSimple:function(){qe=!1}}),g({target:"Object",stat:!0,forced:!l,sham:!a},{create:function(q,K){return K===void 0?R(q):r(R(q),K)},defineProperty:nt,defineProperties:r,getOwnPropertyDescriptor:p}),g({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:f,getOwnPropertySymbols:Q}),g({target:"Object",stat:!0,forced:y(function(){H.f(1)})},{getOwnPropertySymbols:function(q){return H.f(C(q))}}),oe&&g({target:"JSON",stat:!0,forced:!l||y(function(){var q=ie();return oe([q])!="[null]"||oe({a:q})!="{}"||oe(Object(q))!="{}"})},{stringify:function(q,K,de){for(var Ee,ke=[q],We=1;We<arguments.length;)ke.push(arguments[We++]);if((S(Ee=K)||q!==void 0)&&!be(q))return x(K)||(K=function(we,Qe){if(typeof Ee=="function"&&(Qe=Ee.call(this,we,Qe)),!be(Qe))return Qe}),ke[1]=K,oe.apply(null,ke)}}),ie[B][F]||J(ie[B],F,ie[B].valueOf),Se(ie,ee),xe[X]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":37,"../internals/create-property-descriptor":38,"../internals/define-well-known-symbol":41,"../internals/descriptors":42,"../internals/export":49,"../internals/fails":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-copy-within"),p=h.aTypedArray;(0,h.exportTypedArrayMethod)("copyWithin",function(f,g,m){return r.call(p(this),f,g,2<arguments.length?m:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").every,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("every",function(f,g){return r(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-fill"),p=h.aTypedArray;(0,h.exportTypedArrayMethod)("fill",function(f){return r.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").filter,p=e("../internals/species-constructor"),f=h.aTypedArray,g=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("filter",function(m,i){for(var o=r(f(this),m,1<arguments.length?i:void 0),a=p(this,this.constructor),l=0,c=o.length,y=new(g(a))(c);l<c;)y[l]=o[l++];return y})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").findIndex,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("findIndex",function(f,g){return r(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").find,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("find",function(f,g){return r(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,u,d){e("../internals/typed-array-constructor")("Float32",function(h){return function(r,p,f){return h(this,r,p,f)}})},{"../internals/typed-array-constructor":140}],204:[function(e,u,d){e("../internals/typed-array-constructor")("Float64",function(h){return function(r,p,f){return h(this,r,p,f)}})},{"../internals/typed-array-constructor":140}],205:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").forEach,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("forEach",function(f,g){r(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-includes").includes,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("includes",function(f,g){return r(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-includes").indexOf,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("indexOf",function(f,g){return r(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(e,u,d){e("../internals/typed-array-constructor")("Int16",function(h){return function(r,p,f){return h(this,r,p,f)}})},{"../internals/typed-array-constructor":140}],209:[function(e,u,d){e("../internals/typed-array-constructor")("Int32",function(h){return function(r,p,f){return h(this,r,p,f)}})},{"../internals/typed-array-constructor":140}],210:[function(e,u,d){function h(){return i.call(l(this))}var r=e("../internals/global"),p=e("../internals/array-buffer-view-core"),f=e("../modules/es.array.iterator"),g=e("../internals/well-known-symbol")("iterator"),m=r.Uint8Array,i=f.values,o=f.keys,a=f.entries,l=p.aTypedArray,c=p.exportTypedArrayMethod,y=m&&m.prototype[g],w=!!y&&(y.name=="values"||y.name==null);c("entries",function(){return a.call(l(this))}),c("keys",function(){return o.call(l(this))}),c("values",h,!w),c(g,h,!w)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=h.aTypedArray,p=h.exportTypedArrayMethod,f=[].join;p("join",function(g){return f.apply(r(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-last-index-of"),p=h.aTypedArray;(0,h.exportTypedArrayMethod)("lastIndexOf",function(f){return r.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").map,p=e("../internals/species-constructor"),f=h.aTypedArray,g=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("map",function(m,i){return r(f(this),m,1<arguments.length?i:void 0,function(o,a){return new(g(p(o,o.constructor)))(a)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-reduce").right,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduceRight",function(f,g){return r(p(this),f,arguments.length,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-reduce").left,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduce",function(f,g){return r(p(this),f,arguments.length,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=h.aTypedArray,p=h.exportTypedArrayMethod,f=Math.floor;p("reverse",function(){for(var g,m=r(this).length,i=f(m/2),o=0;o<i;)g=this[o],this[o++]=this[--m],this[m]=g;return this})},{"../internals/array-buffer-view-core":12}],217:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/to-length"),p=e("../internals/to-offset"),f=e("../internals/to-object"),g=e("../internals/fails"),m=h.aTypedArray;(0,h.exportTypedArrayMethod)("set",function(i,o){m(this);var a=p(1<arguments.length?o:void 0,1),l=this.length,c=f(i),y=r(c.length),w=0;if(l<y+a)throw RangeError("Wrong length");for(;w<y;)this[a+w]=c[w++]},g(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/species-constructor"),p=e("../internals/fails"),f=h.aTypedArray,g=h.aTypedArrayConstructor,m=h.exportTypedArrayMethod,i=[].slice;m("slice",function(o,a){for(var l=i.call(f(this),o,a),c=r(this,this.constructor),y=0,w=l.length,x=new(g(c))(w);y<w;)x[y]=l[y++];return x},p(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/species-constructor":121}],219:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").some,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("some",function(f,g){return r(p(this),f,1<arguments.length?g:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=h.aTypedArray,p=h.exportTypedArrayMethod,f=[].sort;p("sort",function(g){return f.call(r(this),g)})},{"../internals/array-buffer-view-core":12}],221:[function(e,u,d){var h=e("../internals/array-buffer-view-core"),r=e("../internals/to-length"),p=e("../internals/to-absolute-index"),f=e("../internals/species-constructor"),g=h.aTypedArray;(0,h.exportTypedArrayMethod)("subarray",function(m,i){var o=g(this),a=o.length,l=p(m,a);return new(f(o,o.constructor))(o.buffer,o.byteOffset+l*o.BYTES_PER_ELEMENT,r((i===void 0?a:p(i,a))-l))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(e,u,d){var h=e("../internals/global"),r=e("../internals/array-buffer-view-core"),p=e("../internals/fails"),f=h.Int8Array,g=r.aTypedArray,m=r.exportTypedArrayMethod,i=[].toLocaleString,o=[].slice,a=!!f&&p(function(){i.call(new f(1))});m("toLocaleString",function(){return i.apply(a?o.call(g(this)):g(this),arguments)},p(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!p(function(){f.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],223:[function(e,u,d){var h=e("../internals/array-buffer-view-core").exportTypedArrayMethod,r=e("../internals/fails"),p=e("../internals/global").Uint8Array,f=p&&p.prototype||{},g=[].toString,m=[].join;r(function(){g.call({})})&&(g=function(){return m.call(this)}),h("toString",g,f.toString!=g)},{"../internals/array-buffer-view-core":12,"../internals/fails":50,"../internals/global":59}],224:[function(e,u,d){e("../internals/typed-array-constructor")("Uint16",function(h){return function(r,p,f){return h(this,r,p,f)}})},{"../internals/typed-array-constructor":140}],225:[function(e,u,d){e("../internals/typed-array-constructor")("Uint32",function(h){return function(r,p,f){return h(this,r,p,f)}})},{"../internals/typed-array-constructor":140}],226:[function(e,u,d){e("../internals/typed-array-constructor")("Uint8",function(h){return function(r,p,f){return h(this,r,p,f)}})},{"../internals/typed-array-constructor":140}],227:[function(e,u,d){e("../internals/typed-array-constructor")("Uint8",function(h){return function(r,p,f){return h(this,r,p,f)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(e,u,d){var h=e("../internals/global"),r=e("../internals/dom-iterables"),p=e("../internals/array-for-each"),f=e("../internals/create-non-enumerable-property");for(var g in r){var m=h[g],i=m&&m.prototype;if(i&&i.forEach!==p)try{f(i,"forEach",p)}catch{i.forEach=p}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59}],229:[function(e,u,d){var h=e("../internals/global"),r=e("../internals/dom-iterables"),p=e("../modules/es.array.iterator"),f=e("../internals/create-non-enumerable-property"),g=e("../internals/well-known-symbol"),m=g("iterator"),i=g("toStringTag"),o=p.values;for(var a in r){var l=h[a],c=l&&l.prototype;if(c){if(c[m]!==o)try{f(c,m,o)}catch{c[m]=o}if(c[i]||f(c,i,a),r[a]){for(var y in p)if(c[y]!==p[y])try{f(c,y,p[y])}catch{c[y]=p[y]}}}}},{"../internals/create-non-enumerable-property":37,"../internals/dom-iterables":44,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],230:[function(e,u,d){e("../modules/es.array.iterator");function h(ee){try{return decodeURIComponent(ee)}catch{return ee}}function r(ee){var B,F=ee.replace(ve," "),re=4;try{return decodeURIComponent(F)}catch{for(;re;)F=F.replace((B=re--,De[B-1]||(De[B-1]=RegExp("((?:%[\\da-f]{2}){"+B+"})","gi"))),h);return F}}function p(ee){return Se[ee]}function f(ee){return encodeURIComponent(ee).replace(_e,p)}function g(ee,B){if(B)for(var F,re,$=B.split("&"),ne=0;ne<$.length;)(F=$[ne++]).length&&(re=F.split("="),ee.push({key:r(re.shift()),value:r(re.join("="))}))}function m(ee){this.entries.length=0,g(this.entries,ee)}function i(ee,B){if(ee<B)throw TypeError("Not enough arguments")}var o=e("../internals/export"),a=e("../internals/get-built-in"),l=e("../internals/native-url"),c=e("../internals/redefine"),y=e("../internals/redefine-all"),w=e("../internals/set-to-string-tag"),x=e("../internals/create-iterator-constructor"),S=e("../internals/internal-state"),E=e("../internals/an-instance"),C=e("../internals/has"),A=e("../internals/function-bind-context"),O=e("../internals/classof"),I=e("../internals/an-object"),R=e("../internals/is-object"),L=e("../internals/object-create"),N=e("../internals/create-property-descriptor"),D=e("../internals/get-iterator"),H=e("../internals/get-iterator-method"),z=e("../internals/well-known-symbol"),ae=a("fetch"),le=a("Headers"),J=z("iterator"),ue="URLSearchParams",se=ue+"Iterator",me=S.set,xe=S.getterFor(ue),Ce=S.getterFor(se),ve=/\+/g,De=Array(4),_e=/[!'()~]|%20/g,Se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=x(function(ee,B){me(this,{type:se,iterator:D(xe(ee).entries),kind:B})},"Iterator",function(){var ee=Ce(this),B=ee.kind,F=ee.iterator.next(),re=F.value;return F.done||(F.value=B==="keys"?re.key:B==="values"?re.value:[re.key,re.value]),F}),G=function(ee){E(this,G,ue);var B,F,re,$,ne,ie,oe,pe,ge,he=0<arguments.length?ee:void 0,Pe=[];if(me(this,{type:ue,entries:Pe,updateURL:function(){},updateSearchParams:m}),he!==void 0)if(R(he))if(typeof(B=H(he))=="function")for(re=(F=B.call(he)).next;!($=re.call(F)).done;){if((oe=(ie=(ne=D(I($.value))).next).call(ne)).done||(pe=ie.call(ne)).done||!ie.call(ne).done)throw TypeError("Expected sequence with length 2");Pe.push({key:oe.value+"",value:pe.value+""})}else for(ge in he)C(he,ge)&&Pe.push({key:ge,value:he[ge]+""});else g(Pe,typeof he=="string"?he.charAt(0)==="?"?he.slice(1):he:he+"")},X=G.prototype;y(X,{append:function(ee,B){i(arguments.length,2);var F=xe(this);F.entries.push({key:ee+"",value:B+""}),F.updateURL()},delete:function(ee){i(arguments.length,1);for(var B=xe(this),F=B.entries,re=ee+"",$=0;$<F.length;)F[$].key===re?F.splice($,1):$++;B.updateURL()},get:function(ee){i(arguments.length,1);for(var B=xe(this).entries,F=ee+"",re=0;re<B.length;re++)if(B[re].key===F)return B[re].value;return null},getAll:function(ee){i(arguments.length,1);for(var B=xe(this).entries,F=ee+"",re=[],$=0;$<B.length;$++)B[$].key===F&&re.push(B[$].value);return re},has:function(ee){i(arguments.length,1);for(var B=xe(this).entries,F=ee+"",re=0;re<B.length;)if(B[re++].key===F)return!0;return!1},set:function(ee,B){i(arguments.length,1);for(var F,re=xe(this),$=re.entries,ne=!1,ie=ee+"",oe=B+"",pe=0;pe<$.length;pe++)(F=$[pe]).key===ie&&(ne?$.splice(pe--,1):(ne=!0,F.value=oe));ne||$.push({key:ie,value:oe}),re.updateURL()},sort:function(){var ee,B,F,re=xe(this),$=re.entries,ne=$.slice();for(F=$.length=0;F<ne.length;F++){for(ee=ne[F],B=0;B<F;B++)if($[B].key>ee.key){$.splice(B,0,ee);break}B===F&&$.push(ee)}re.updateURL()},forEach:function(ee,B){for(var F,re=xe(this).entries,$=A(ee,1<arguments.length?B:void 0,3),ne=0;ne<re.length;)$((F=re[ne++]).value,F.key,this)},keys:function(){return new P(this,"keys")},values:function(){return new P(this,"values")},entries:function(){return new P(this,"entries")}},{enumerable:!0}),c(X,J,X.entries),c(X,"toString",function(){for(var ee,B=xe(this).entries,F=[],re=0;re<B.length;)ee=B[re++],F.push(f(ee.key)+"="+f(ee.value));return F.join("&")},{enumerable:!0}),w(G,ue),o({global:!0,forced:!l},{URLSearchParams:G}),l||typeof ae!="function"||typeof le!="function"||o({global:!0,enumerable:!0,forced:!0},{fetch:function(ee,B){var F,re,$,ne=[ee];return 1<arguments.length&&(R(F=B)&&(re=F.body,O(re)===ue&&(($=F.headers?new le(F.headers):new le).has("content-type")||$.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),F=L(F,{body:N(0,String(re)),headers:N(0,$)}))),ne.push(F)),ae.apply(this,ne)}}),u.exports={URLSearchParams:G,getState:xe}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":36,"../internals/create-property-descriptor":38,"../internals/export":49,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(e,u,d){e("../modules/es.string.iterator");function h(fe,Ve){var Je,Ye,ot;if(Ve.charAt(0)=="["){if(Ve.charAt(Ve.length-1)!="]"||!(Je=ie(Ve.slice(1,-1))))return Ce;fe.host=Je}else if(Ne(fe)){if(Ve=L(Ve),B.test(Ve)||(Je=ne(Ve))===null)return Ce;fe.host=Je}else{if(F.test(Ve))return Ce;for(Je="",Ye=I(Ve),ot=0;ot<Ye.length;ot++)Je+=Pe(Ye[ot],oe);fe.host=Je}}function r(fe){var Ve,Je,Ye,ot;if(typeof fe=="number"){for(Ve=[],Je=0;Je<4;Je++)Ve.unshift(fe%256),fe=se(fe/256);return Ve.join(".")}if(typeof fe!="object")return fe;for(Ve="",Ye=function(Ge){for(var Tt=null,Ot=1,Bt=null,xt=0,tt=0;tt<8;tt++)Ge[tt]!==0?(Ot<xt&&(Tt=Bt,Ot=xt),Bt=null,xt=0):(Bt===null&&(Bt=tt),++xt);return Ot<xt&&(Tt=Bt,Ot=xt),Tt}(fe),Je=0;Je<8;Je++)ot&&fe[Je]===0||(ot=ot&&!1,Ye===Je?(Ve+=Je?":":"::",ot=!0):(Ve+=fe[Je].toString(16),Je<7&&(Ve+=":")));return"["+Ve+"]"}function p(fe){return fe.username!=""||fe.password!=""}function f(fe){return!fe.host||fe.cannotBeABaseURL||fe.scheme=="file"}function g(fe,Ve){var Je;return fe.length==2&&De.test(fe.charAt(0))&&((Je=fe.charAt(1))==":"||!Ve&&Je=="|")}function m(fe){var Ve;return 1<fe.length&&g(fe.slice(0,2))&&(fe.length==2||(Ve=fe.charAt(2))==="/"||Ve==="\\"||Ve==="?"||Ve==="#")}function i(fe){var Ve=fe.path,Je=Ve.length;!Je||fe.scheme=="file"&&Je==1&&g(Ve[0],!0)||Ve.pop()}function o(fe,Ve,Je,Ye){var ot,Ge,Tt,Ot,Bt,xt,tt=Je||Le,Xt=0,dt="",as=!1,uo=!1,ls=!1;for(Je||(fe.scheme="",fe.username="",fe.password="",fe.host=null,fe.port=null,fe.path=[],fe.query=null,fe.fragment=null,fe.cannotBeABaseURL=!1,Ve=Ve.replace(re,"")),Ve=Ve.replace($,""),ot=I(Ve);Xt<=ot.length;){switch(Ge=ot[Xt],tt){case Le:if(!Ge||!De.test(Ge)){if(Je)return xe;tt=Re;continue}dt+=Ge.toLowerCase(),tt=Ze;break;case Ze:if(Ge&&(_e.test(Ge)||Ge=="+"||Ge=="-"||Ge=="."))dt+=Ge.toLowerCase();else{if(Ge!=":"){if(Je)return xe;dt="",tt=Re,Xt=0;continue}if(Je&&(Ne(fe)!=A(Be,dt)||dt=="file"&&(p(fe)||fe.port!==null)||fe.scheme=="file"&&!fe.host))return;if(fe.scheme=dt,Je)return void(Ne(fe)&&Be[fe.scheme]==fe.port&&(fe.port=null));dt="",fe.scheme=="file"?tt=Ee:Ne(fe)&&Ye&&Ye.scheme==fe.scheme?tt=Ae:Ne(fe)?tt=nt:ot[Xt+1]=="/"?(tt=qe,Xt++):(fe.cannotBeABaseURL=!0,fe.path.push(""),tt=lt)}break;case Re:if(!Ye||Ye.cannotBeABaseURL&&Ge!="#")return xe;if(Ye.cannotBeABaseURL&&Ge=="#"){fe.scheme=Ye.scheme,fe.path=Ye.path.slice(),fe.query=Ye.query,fe.fragment="",fe.cannotBeABaseURL=!0,tt=vt;break}tt=Ye.scheme=="file"?Ee:$e;continue;case Ae:if(Ge!="/"||ot[Xt+1]!="/"){tt=$e;continue}tt=V,Xt++;break;case qe:if(Ge=="/"){tt=Q;break}tt=Qe;continue;case $e:if(fe.scheme=Ye.scheme,Ge==l)fe.username=Ye.username,fe.password=Ye.password,fe.host=Ye.host,fe.port=Ye.port,fe.path=Ye.path.slice(),fe.query=Ye.query;else if(Ge=="/"||Ge=="\\"&&Ne(fe))tt=be;else if(Ge=="?")fe.username=Ye.username,fe.password=Ye.password,fe.host=Ye.host,fe.port=Ye.port,fe.path=Ye.path.slice(),fe.query="",tt=ft;else{if(Ge!="#"){fe.username=Ye.username,fe.password=Ye.password,fe.host=Ye.host,fe.port=Ye.port,fe.path=Ye.path.slice(),fe.path.pop(),tt=Qe;continue}fe.username=Ye.username,fe.password=Ye.password,fe.host=Ye.host,fe.port=Ye.port,fe.path=Ye.path.slice(),fe.query=Ye.query,fe.fragment="",tt=vt}break;case be:if(!Ne(fe)||Ge!="/"&&Ge!="\\"){if(Ge!="/"){fe.username=Ye.username,fe.password=Ye.password,fe.host=Ye.host,fe.port=Ye.port,tt=Qe;continue}tt=Q}else tt=V;break;case nt:if(tt=V,Ge!="/"||dt.charAt(Xt+1)!="/")continue;Xt++;break;case V:if(Ge=="/"||Ge=="\\")break;tt=Q;continue;case Q:if(Ge=="@"){as&&(dt="%40"+dt),as=!0,Tt=I(dt);for(var us=0;us<Tt.length;us++){var cs=Tt[us];if(cs!=":"||ls){var Mo=Pe(cs,he);ls?fe.password+=Mo:fe.username+=Mo}else ls=!0}dt=""}else if(Ge==l||Ge=="/"||Ge=="?"||Ge=="#"||Ge=="\\"&&Ne(fe)){if(as&&dt=="")return"Invalid authority";Xt-=I(dt).length+1,dt="",tt=q}else dt+=Ge;break;case q:case K:if(Je&&fe.scheme=="file"){tt=We;continue}if(Ge!=":"||uo){if(Ge==l||Ge=="/"||Ge=="?"||Ge=="#"||Ge=="\\"&&Ne(fe)){if(Ne(fe)&&dt=="")return Ce;if(Je&&dt==""&&(p(fe)||fe.port!==null))return;if(Ot=h(fe,dt))return Ot;if(dt="",tt=we,Je)return;continue}Ge=="["?uo=!0:Ge=="]"&&(uo=!1),dt+=Ge}else{if(dt=="")return Ce;if(Ot=h(fe,dt))return Ot;if(dt="",tt=de,Je==K)return}break;case de:if(!Se.test(Ge)){if(Ge==l||Ge=="/"||Ge=="?"||Ge=="#"||Ge=="\\"&&Ne(fe)||Je){if(dt!=""){var Ao=parseInt(dt,10);if(65535<Ao)return ve;fe.port=Ne(fe)&&Ao===Be[fe.scheme]?null:Ao,dt=""}if(Je)return;tt=we;continue}return ve}dt+=Ge;break;case Ee:if(fe.scheme="file",Ge=="/"||Ge=="\\")tt=ke;else{if(!Ye||Ye.scheme!="file"){tt=Qe;continue}if(Ge==l)fe.host=Ye.host,fe.path=Ye.path.slice(),fe.query=Ye.query;else if(Ge=="?")fe.host=Ye.host,fe.path=Ye.path.slice(),fe.query="",tt=ft;else{if(Ge!="#"){m(ot.slice(Xt).join(""))||(fe.host=Ye.host,fe.path=Ye.path.slice(),i(fe)),tt=Qe;continue}fe.host=Ye.host,fe.path=Ye.path.slice(),fe.query=Ye.query,fe.fragment="",tt=vt}}break;case ke:if(Ge=="/"||Ge=="\\"){tt=We;break}Ye&&Ye.scheme=="file"&&!m(ot.slice(Xt).join(""))&&(g(Ye.path[0],!0)?fe.path.push(Ye.path[0]):fe.host=Ye.host),tt=Qe;continue;case We:if(Ge==l||Ge=="/"||Ge=="\\"||Ge=="?"||Ge=="#"){if(!Je&&g(dt))tt=Qe;else if(dt==""){if(fe.host="",Je)return;tt=we}else{if(Ot=h(fe,dt))return Ot;if(fe.host=="localhost"&&(fe.host=""),Je)return;dt="",tt=we}continue}dt+=Ge;break;case we:if(Ne(fe)){if(tt=Qe,Ge!="/"&&Ge!="\\")continue}else if(Je||Ge!="?")if(Je||Ge!="#"){if(Ge!=l&&(tt=Qe,Ge!="/"))continue}else fe.fragment="",tt=vt;else fe.query="",tt=ft;break;case Qe:if(Ge==l||Ge=="/"||Ge=="\\"&&Ne(fe)||!Je&&(Ge=="?"||Ge=="#")){if((xt=(xt=dt).toLowerCase())===".."||xt==="%2e."||xt===".%2e"||xt==="%2e%2e"?(i(fe),Ge=="/"||Ge=="\\"&&Ne(fe)||fe.path.push("")):(Bt=dt)==="."||Bt.toLowerCase()==="%2e"?Ge=="/"||Ge=="\\"&&Ne(fe)||fe.path.push(""):(fe.scheme=="file"&&!fe.path.length&&g(dt)&&(fe.host&&(fe.host=""),dt=dt.charAt(0)+":"),fe.path.push(dt)),dt="",fe.scheme=="file"&&(Ge==l||Ge=="?"||Ge=="#"))for(;1<fe.path.length&&fe.path[0]==="";)fe.path.shift();Ge=="?"?(fe.query="",tt=ft):Ge=="#"&&(fe.fragment="",tt=vt)}else dt+=Pe(Ge,ge);break;case lt:Ge=="?"?(fe.query="",tt=ft):Ge=="#"?(fe.fragment="",tt=vt):Ge!=l&&(fe.path[0]+=Pe(Ge,oe));break;case ft:Je||Ge!="#"?Ge!=l&&(Ge=="'"&&Ne(fe)?fe.query+="%27":fe.query+=Ge=="#"?"%23":Pe(Ge,oe)):(fe.fragment="",tt=vt);break;case vt:Ge!=l&&(fe.fragment+=Pe(Ge,pe))}Xt++}}function a(fe,Ve){return{get:fe,set:Ve,configurable:!0,enumerable:!0}}var l,c=e("../internals/export"),y=e("../internals/descriptors"),w=e("../internals/native-url"),x=e("../internals/global"),S=e("../internals/object-define-properties"),E=e("../internals/redefine"),C=e("../internals/an-instance"),A=e("../internals/has"),O=e("../internals/object-assign"),I=e("../internals/array-from"),R=e("../internals/string-multibyte").codeAt,L=e("../internals/string-punycode-to-ascii"),N=e("../internals/set-to-string-tag"),D=e("../modules/web.url-search-params"),H=e("../internals/internal-state"),z=x.URL,ae=D.URLSearchParams,le=D.getState,J=H.set,ue=H.getterFor("URL"),se=Math.floor,me=Math.pow,xe="Invalid scheme",Ce="Invalid host",ve="Invalid port",De=/[A-Za-z]/,_e=/[\d+-.A-Za-z]/,Se=/\d/,P=/^(0x|0X)/,G=/^[0-7]+$/,X=/^\d+$/,ee=/^[\dA-Fa-f]+$/,B=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,re=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,$=/[\u0009\u000A\u000D]/g,ne=function(fe){var Ve,Je,Ye,ot,Ge,Tt,Ot,Bt=fe.split(".");if(Bt.length&&Bt[Bt.length-1]==""&&Bt.pop(),4<(Ve=Bt.length))return fe;for(Je=[],Ye=0;Ye<Ve;Ye++){if((ot=Bt[Ye])=="")return fe;if(Ge=10,1<ot.length&&ot.charAt(0)=="0"&&(Ge=P.test(ot)?16:8,ot=ot.slice(Ge==8?1:2)),ot==="")Tt=0;else{if(!(Ge==10?X:Ge==8?G:ee).test(ot))return fe;Tt=parseInt(ot,Ge)}Je.push(Tt)}for(Ye=0;Ye<Ve;Ye++)if(Tt=Je[Ye],Ye==Ve-1){if(Tt>=me(256,5-Ve))return null}else if(255<Tt)return null;for(Ot=Je.pop(),Ye=0;Ye<Je.length;Ye++)Ot+=Je[Ye]*me(256,3-Ye);return Ot},ie=function(fe){function Ve(){return fe.charAt(dt)}var Je,Ye,ot,Ge,Tt,Ot,Bt,xt=[0,0,0,0,0,0,0,0],tt=0,Xt=null,dt=0;if(Ve()==":"){if(fe.charAt(1)!=":")return;dt+=2,Xt=++tt}for(;Ve();){if(tt==8)return;if(Ve()!=":"){for(Je=Ye=0;Ye<4&&ee.test(Ve());)Je=16*Je+parseInt(Ve(),16),dt++,Ye++;if(Ve()=="."){if(Ye==0||(dt-=Ye,6<tt))return;for(ot=0;Ve();){if(Ge=null,0<ot){if(!(Ve()=="."&&ot<4))return;dt++}if(!Se.test(Ve()))return;for(;Se.test(Ve());){if(Tt=parseInt(Ve(),10),Ge===null)Ge=Tt;else{if(Ge==0)return;Ge=10*Ge+Tt}if(255<Ge)return;dt++}xt[tt]=256*xt[tt]+Ge,++ot!=2&&ot!=4||tt++}if(ot!=4)return;break}if(Ve()==":"){if(dt++,!Ve())return}else if(Ve())return;xt[tt++]=Je}else{if(Xt!==null)return;dt++,Xt=++tt}}if(Xt!==null)for(Ot=tt-Xt,tt=7;tt!=0&&0<Ot;)Bt=xt[tt],xt[tt--]=xt[Xt+Ot-1],xt[Xt+--Ot]=Bt;else if(tt!=8)return;return xt},oe={},pe=O({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),ge=O({},pe,{"#":1,"?":1,"{":1,"}":1}),he=O({},ge,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pe=function(fe,Ve){var Je=R(fe,0);return 32<Je&&Je<127&&!A(Ve,fe)?fe:encodeURIComponent(fe)},Be={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ne=function(fe){return A(Be,fe.scheme)},Le={},Ze={},Re={},Ae={},qe={},$e={},be={},nt={},V={},Q={},q={},K={},de={},Ee={},ke={},We={},we={},Qe={},lt={},ft={},vt={},pt=function(fe,Ve){var Je,Ye,ot=C(this,pt,"URL"),Ge=1<arguments.length?Ve:void 0,Tt=String(fe),Ot=J(ot,{type:"URL"});if(Ge!==void 0){if(Ge instanceof pt)Je=ue(Ge);else if(Ye=o(Je={},String(Ge)))throw TypeError(Ye)}if(Ye=o(Ot,Tt,null,Je))throw TypeError(Ye);var Bt=Ot.searchParams=new ae,xt=le(Bt);xt.updateSearchParams(Ot.query),xt.updateURL=function(){Ot.query=String(Bt)||null},y||(ot.href=At.call(ot),ot.origin=ln.call(ot),ot.protocol=jr.call(ot),ot.username=no.call(ot),ot.password=jn.call(ot),ot.host=un.call(ot),ot.hostname=oo.call(ot),ot.port=so.call(ot),ot.pathname=io.call(ot),ot.search=ao.call(ot),ot.searchParams=lo.call(ot),ot.hash=Co.call(ot))},mt=pt.prototype,At=function(){var fe=ue(this),Ve=fe.scheme,Je=fe.username,Ye=fe.password,ot=fe.host,Ge=fe.port,Tt=fe.path,Ot=fe.query,Bt=fe.fragment,xt=Ve+":";return ot!==null?(xt+="//",p(fe)&&(xt+=Je+(Ye?":"+Ye:"")+"@"),xt+=r(ot),Ge!==null&&(xt+=":"+Ge)):Ve=="file"&&(xt+="//"),xt+=fe.cannotBeABaseURL?Tt[0]:Tt.length?"/"+Tt.join("/"):"",Ot!==null&&(xt+="?"+Ot),Bt!==null&&(xt+="#"+Bt),xt},ln=function(){var fe=ue(this),Ve=fe.scheme,Je=fe.port;if(Ve=="blob")try{return new URL(Ve.path[0]).origin}catch{return"null"}return Ve!="file"&&Ne(fe)?Ve+"://"+r(fe.host)+(Je!==null?":"+Je:""):"null"},jr=function(){return ue(this).scheme+":"},no=function(){return ue(this).username},jn=function(){return ue(this).password},un=function(){var fe=ue(this),Ve=fe.host,Je=fe.port;return Ve===null?"":Je===null?r(Ve):r(Ve)+":"+Je},oo=function(){var fe=ue(this).host;return fe===null?"":r(fe)},so=function(){var fe=ue(this).port;return fe===null?"":String(fe)},io=function(){var fe=ue(this),Ve=fe.path;return fe.cannotBeABaseURL?Ve[0]:Ve.length?"/"+Ve.join("/"):""},ao=function(){var fe=ue(this).query;return fe?"?"+fe:""},lo=function(){return ue(this).searchParams},Co=function(){var fe=ue(this).fragment;return fe?"#"+fe:""};if(y&&S(mt,{href:a(At,function(fe){var Ve=ue(this),Je=String(fe),Ye=o(Ve,Je);if(Ye)throw TypeError(Ye);le(Ve.searchParams).updateSearchParams(Ve.query)}),origin:a(ln),protocol:a(jr,function(fe){var Ve=ue(this);o(Ve,String(fe)+":",Le)}),username:a(no,function(fe){var Ve=ue(this),Je=I(String(fe));if(!f(Ve)){Ve.username="";for(var Ye=0;Ye<Je.length;Ye++)Ve.username+=Pe(Je[Ye],he)}}),password:a(jn,function(fe){var Ve=ue(this),Je=I(String(fe));if(!f(Ve)){Ve.password="";for(var Ye=0;Ye<Je.length;Ye++)Ve.password+=Pe(Je[Ye],he)}}),host:a(un,function(fe){var Ve=ue(this);Ve.cannotBeABaseURL||o(Ve,String(fe),q)}),hostname:a(oo,function(fe){var Ve=ue(this);Ve.cannotBeABaseURL||o(Ve,String(fe),K)}),port:a(so,function(fe){var Ve=ue(this);f(Ve)||((fe=String(fe))==""?Ve.port=null:o(Ve,fe,de))}),pathname:a(io,function(fe){var Ve=ue(this);Ve.cannotBeABaseURL||(Ve.path=[],o(Ve,fe+"",we))}),search:a(ao,function(fe){var Ve=ue(this);(fe=String(fe))==""?Ve.query=null:(fe.charAt(0)=="?"&&(fe=fe.slice(1)),Ve.query="",o(Ve,fe,ft)),le(Ve.searchParams).updateSearchParams(Ve.query)}),searchParams:a(lo),hash:a(Co,function(fe){var Ve=ue(this);(fe=String(fe))!=""?(fe.charAt(0)=="#"&&(fe=fe.slice(1)),Ve.fragment="",o(Ve,fe,vt)):Ve.fragment=null})}),E(mt,"toJSON",function(){return At.call(this)},{enumerable:!0}),E(mt,"toString",function(){return At.call(this)},{enumerable:!0}),z){var Fn=z.createObjectURL,Un=z.revokeObjectURL;Fn&&E(pt,"createObjectURL",function(fe){return Fn.apply(z,arguments)}),Un&&E(pt,"revokeObjectURL",function(fe){return Un.apply(z,arguments)})}N(pt,"URL"),c({global:!0,forced:!w,sham:!y},{URL:pt})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":42,"../internals/export":49,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":230}],232:[function(e,u,d){u.exports=e("./").polyfill()},{"./":233}],233:[function(e,u,d){(function(h,r){var p,f;p=this,f=function(){function g($){return typeof $=="function"}var m=Array.isArray?Array.isArray:function($){return Object.prototype.toString.call($)==="[object Array]"},i=0,o=void 0,a=void 0,l=function($,ne){C[i]=$,C[i+1]=ne,(i+=2)===2&&(a?a(A):N())},c=typeof window<"u"?window:void 0,y=c||{},w=y.MutationObserver||y.WebKitMutationObserver,x=typeof self>"u"&&h!==void 0&&{}.toString.call(h)==="[object process]",S=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function E(){var $=setTimeout;return function(){return $(A,1)}}var C=new Array(1e3);function A(){for(var $=0;$<i;$+=2)(0,C[$])(C[$+1]),C[$]=void 0,C[$+1]=void 0;i=0}var O,I,R,L,N=void 0;function D($,ne){var ie=this,oe=new this.constructor(ae);oe[z]===void 0&&X(oe);var pe=ie._state;if(pe){var ge=arguments[pe-1];l(function(){return P(pe,oe,ge,ie._result)})}else _e(ie,oe,$,ne);return oe}function H($){if($&&typeof $=="object"&&$.constructor===this)return $;var ne=new this(ae);return xe(ne,$),ne}N=x?function(){return h.nextTick(A)}:w?(I=0,R=new w(A),L=document.createTextNode(""),R.observe(L,{characterData:!0}),function(){L.data=I=++I%2}):S?((O=new MessageChannel).port1.onmessage=A,function(){return O.port2.postMessage(0)}):c===void 0&&typeof e=="function"?function(){try{var $=Function("return this")().require("vertx");return(o=$.runOnLoop||$.runOnContext)!==void 0?function(){o(A)}:E()}catch{return E()}}():E();var z=Math.random().toString(36).substring(2);function ae(){}var le=void 0,J=1,ue=2;function se($,ne,ie){l(function(oe){var pe=!1,ge=function(he,Pe,Be,Ne){try{he.call(Pe,Be,Ne)}catch(Le){return Le}}(ie,ne,function(he){pe||(pe=!0,ne!==he?xe(oe,he):ve(oe,he))},function(he){pe||(pe=!0,De(oe,he))},oe._label);!pe&&ge&&(pe=!0,De(oe,ge))},$)}function me($,ne,ie){var oe,pe;ne.constructor===$.constructor&&ie===D&&ne.constructor.resolve===H?(oe=$,(pe=ne)._state===J?ve(oe,pe._result):pe._state===ue?De(oe,pe._result):_e(pe,void 0,function(ge){return xe(oe,ge)},function(ge){return De(oe,ge)})):ie===void 0?ve($,ne):g(ie)?se($,ne,ie):ve($,ne)}function xe($,ne){if($===ne)De($,new TypeError("You cannot resolve a promise with itself"));else if(pe=typeof(oe=ne),oe===null||pe!="object"&&pe!="function")ve($,ne);else{var ie=void 0;try{ie=ne.then}catch(ge){return void De($,ge)}me($,ne,ie)}var oe,pe}function Ce($){$._onerror&&$._onerror($._result),Se($)}function ve($,ne){$._state===le&&($._result=ne,$._state=J,$._subscribers.length!==0&&l(Se,$))}function De($,ne){$._state===le&&($._state=ue,$._result=ne,l(Ce,$))}function _e($,ne,ie,oe){var pe=$._subscribers,ge=pe.length;$._onerror=null,pe[ge]=ne,pe[ge+J]=ie,pe[ge+ue]=oe,ge===0&&$._state&&l(Se,$)}function Se($){var ne=$._subscribers,ie=$._state;if(ne.length!==0){for(var oe=void 0,pe=void 0,ge=$._result,he=0;he<ne.length;he+=3)oe=ne[he],pe=ne[he+ie],oe?P(ie,oe,pe,ge):pe(ge);$._subscribers.length=0}}function P($,ne,ie,oe){var pe=g(ie),ge=void 0,he=void 0,Pe=!0;if(pe){try{ge=ie(oe)}catch(Be){Pe=!1,he=Be}if(ne===ge)return void De(ne,new TypeError("A promises callback cannot return that same promise."))}else ge=oe;ne._state!==le||(pe&&Pe?xe(ne,ge):Pe===!1?De(ne,he):$===J?ve(ne,ge):$===ue&&De(ne,ge))}var G=0;function X($){$[z]=G++,$._state=void 0,$._result=void 0,$._subscribers=[]}var ee=(B.prototype._enumerate=function($){for(var ne=0;this._state===le&&ne<$.length;ne++)this._eachEntry($[ne],ne)},B.prototype._eachEntry=function($,ne){var ie=this._instanceConstructor,oe=ie.resolve;if(oe===H){var pe=void 0,ge=void 0,he=!1;try{pe=$.then}catch(Be){he=!0,ge=Be}if(pe===D&&$._state!==le)this._settledAt($._state,ne,$._result);else if(typeof pe!="function")this._remaining--,this._result[ne]=$;else if(ie===F){var Pe=new ie(ae);he?De(Pe,ge):me(Pe,$,pe),this._willSettleAt(Pe,ne)}else this._willSettleAt(new ie(function(Be){return Be($)}),ne)}else this._willSettleAt(oe($),ne)},B.prototype._settledAt=function($,ne,ie){var oe=this.promise;oe._state===le&&(this._remaining--,$===ue?De(oe,ie):this._result[ne]=ie),this._remaining===0&&ve(oe,this._result)},B.prototype._willSettleAt=function($,ne){var ie=this;_e($,void 0,function(oe){return ie._settledAt(J,ne,oe)},function(oe){return ie._settledAt(ue,ne,oe)})},B);function B($,ne){this._instanceConstructor=$,this.promise=new $(ae),this.promise[z]||X(this.promise),m(ne)?(this.length=ne.length,this._remaining=ne.length,this._result=new Array(this.length),this.length===0?ve(this.promise,this._result):(this.length=this.length||0,this._enumerate(ne),this._remaining===0&&ve(this.promise,this._result))):De(this.promise,new Error("Array Methods must be provided an Array"))}var F=(re.prototype.catch=function($){return this.then(null,$)},re.prototype.finally=function($){var ne=this.constructor;return g($)?this.then(function(ie){return ne.resolve($()).then(function(){return ie})},function(ie){return ne.resolve($()).then(function(){throw ie})}):this.then($,$)},re);function re($){this[z]=G++,this._result=this._state=void 0,this._subscribers=[],ae!==$&&(typeof $!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof re?function(ne,ie){try{ie(function(oe){xe(ne,oe)},function(oe){De(ne,oe)})}catch(oe){De(ne,oe)}}(this,$):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return F.prototype.then=D,F.all=function($){return new ee(this,$).promise},F.race=function($){var ne=this;return m($)?new ne(function(ie,oe){for(var pe=$.length,ge=0;ge<pe;ge++)ne.resolve($[ge]).then(ie,oe)}):new ne(function(ie,oe){return oe(new TypeError("You must pass an array to race."))})},F.resolve=H,F.reject=function($){var ne=new this(ae);return De(ne,$),ne},F._setScheduler=function($){a=$},F._setAsap=function($){l=$},F._asap=l,F.polyfill=function(){var $=void 0;if(r!==void 0)$=r;else if(typeof self<"u")$=self;else try{$=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ne=$.Promise;if(ne){var ie=null;try{ie=Object.prototype.toString.call(ne.resolve())}catch{}if(ie==="[object Promise]"&&!ne.cast)return}$.Promise=F},F.Promise=F},typeof d=="object"&&u!==void 0?u.exports=f():p.ES6Promise=f()}).call(this,e("_process"),typeof $s<"u"?$s:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:241}],234:[function(e,u,d){(function(h,r){if(d!==void 0&&u!==void 0)r(d,u);else{var p={exports:{}};r(p.exports,p),h.fetchJsonp=p.exports}})(this,function(h,r){var p=5e3,f="callback";function g(i){try{delete window[i]}catch{window[i]=void 0}}function m(i){var o=document.getElementById(i);o&&document.getElementsByTagName("head")[0].removeChild(o)}r.exports=function(i){var o=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],a=i,l=o.timeout||p,c=o.jsonpCallback||f,y=void 0;return new Promise(function(w,x){var S=o.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),E=c+"_"+S;window[S]=function(A){w({ok:!0,json:function(){return Promise.resolve(A)}}),y&&clearTimeout(y),m(E),g(S)},a+=a.indexOf("?")===-1?"?":"&";var C=document.createElement("script");C.setAttribute("src",""+a+c+"="+S),o.charset&&C.setAttribute("charset",o.charset),C.id=E,document.getElementsByTagName("head")[0].appendChild(C),y=setTimeout(function(){x(new Error("JSONP request to "+i+" timed out")),g(S),m(E),window[S]=function(){g(S)}},l),C.onerror=function(){x(new Error("JSONP request to "+i+" failed")),g(S),m(E),y&&clearTimeout(y)}})}})},{}],235:[function(e,u,d){var h=h||function(r){if(!(r===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var p=r.document,f=function(){return r.URL||r.webkitURL||r},g=p.createElementNS("http://www.w3.org/1999/xhtml","a"),m="download"in g,i=/constructor/i.test(r.HTMLElement)||r.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(x){(r.setImmediate||r.setTimeout)(function(){throw x},0)},l=function(x){setTimeout(function(){typeof x=="string"?f().revokeObjectURL(x):x.remove()},4e4)},c=function(x){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob([String.fromCharCode(65279),x],{type:x.type}):x},y=function(x,S,E){E||(x=c(x));function C(){(function(R,L,N){for(var D=(L=[].concat(L)).length;D--;){var H=R["on"+L[D]];if(typeof H=="function")try{H.call(R,N||R)}catch(z){a(z)}}})(O,"writestart progress write writeend".split(" "))}var A,O=this,I=x.type==="application/octet-stream";if(O.readyState=O.INIT,m)return A=f().createObjectURL(x),void setTimeout(function(){var R,L;g.href=A,g.download=S,R=g,L=new MouseEvent("click"),R.dispatchEvent(L),C(),l(A),O.readyState=O.DONE});(function(){if((o||I&&i)&&r.FileReader){var R=new FileReader;return R.onloadend=function(){var L=o?R.result:R.result.replace(/^data:[^;]*;/,"data:attachment/file;");r.open(L,"_blank")||(r.location.href=L),L=void 0,O.readyState=O.DONE,C()},R.readAsDataURL(x),O.readyState=O.INIT}A=A||f().createObjectURL(x),I?r.location.href=A:r.open(A,"_blank")||(r.location.href=A),O.readyState=O.DONE,C(),l(A)})()},w=y.prototype;return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(x,S,E){return S=S||x.name||"download",E||(x=c(x)),navigator.msSaveOrOpenBlob(x,S)}:(w.abort=function(){},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,function(x,S,E){return new y(x,S||x.name||"download",E)})}}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);u!==void 0&&u.exports?u.exports.saveAs=h:t!=null},{}],236:[function(e,u,d){d.read=function(h,r,p,f,g){var m,i,o=8*g-f-1,a=(1<<o)-1,l=a>>1,c=-7,y=p?g-1:0,w=p?-1:1,x=h[r+y];for(y+=w,m=x&(1<<-c)-1,x>>=-c,c+=o;0<c;m=256*m+h[r+y],y+=w,c-=8);for(i=m&(1<<-c)-1,m>>=-c,c+=f;0<c;i=256*i+h[r+y],y+=w,c-=8);if(m===0)m=1-l;else{if(m===a)return i?NaN:1/0*(x?-1:1);i+=Math.pow(2,f),m-=l}return(x?-1:1)*i*Math.pow(2,m-f)},d.write=function(h,r,p,f,g,m){var i,o,a,l=8*m-g-1,c=(1<<l)-1,y=c>>1,w=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=f?0:m-1,S=f?1:-1,E=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(o=isNaN(r)?1:0,i=c):(i=Math.floor(Math.log(r)/Math.LN2),r*(a=Math.pow(2,-i))<1&&(i--,a*=2),2<=(r+=1<=i+y?w/a:w*Math.pow(2,1-y))*a&&(i++,a/=2),c<=i+y?(o=0,i=c):1<=i+y?(o=(r*a-1)*Math.pow(2,g),i+=y):(o=r*Math.pow(2,y-1)*Math.pow(2,g),i=0));8<=g;h[p+x]=255&o,x+=S,o/=256,g-=8);for(i=i<<g|o,l+=g;0<l;h[p+x]=255&i,x+=S,i/=256,l-=8);h[p+x-S]|=128*E}},{}],237:[function(e,u,d){var h;function r(V,Q){return V.b===Q.b&&V.a===Q.a}function p(V,Q){return V.b<Q.b||V.b===Q.b&&V.a<=Q.a}function f(V,Q,q){var K=Q.b-V.b,de=q.b-Q.b;return 0<K+de?K<de?Q.a-V.a+K/(K+de)*(V.a-q.a):Q.a-q.a+de/(K+de)*(q.a-V.a):0}function g(V,Q,q){var K=Q.b-V.b,de=q.b-Q.b;return 0<K+de?(Q.a-q.a)*K+(Q.a-V.a)*de:0}function m(V,Q){return V.a<Q.a||V.a===Q.a&&V.b<=Q.b}function i(V,Q,q){var K=Q.a-V.a,de=q.a-Q.a;return 0<K+de?K<de?Q.b-V.b+K/(K+de)*(V.b-q.b):Q.b-q.b+de/(K+de)*(q.b-V.b):0}function o(V,Q,q){var K=Q.a-V.a,de=q.a-Q.a;return 0<K+de?(Q.b-q.b)*K+(Q.b-V.b)*de:0}function a(V,Q,q,K){return(V=V<0?0:V)<=(q=q<0?0:q)?q===0?(Q+K)/2:Q+V/(V+q)*(K-Q):K+q/(V+q)*(Q-K)}function l(V){var Q=S(V.b);return C(Q,V.c),C(Q.b,V.c),A(Q,V.a),Q}function c(V,Q){var q=!1,K=!1;V!==Q&&(Q.a!==V.a&&(K=!0,I(Q.a,V.a)),Q.d!==V.d&&(q=!0,R(Q.d,V.d)),E(Q,V),K||(C(Q,V.a),V.a.c=V),q||(A(Q,V.d),V.d.a=V))}function y(V){var Q=V.b,q=!1;V.d!==V.b.d&&(q=!0,R(V.d,V.b.d)),V.c===V?I(V.a,null):(V.b.d.a=oe(V),V.a.c=V.c,E(V,oe(V)),q||A(V,V.d)),Q.c===Q?(I(Q.a,null),R(Q.d,null)):(V.d.a=oe(Q),Q.a.c=Q.c,E(Q,oe(Q))),O(V)}function w(V){var Q=S(V),q=Q.b;return E(Q,V.e),Q.a=V.b.a,C(q,Q.a),Q.d=q.d=V.d,Q=Q.b,E(V.b,oe(V.b)),E(V.b,Q),V.b.a=Q.a,Q.b.a.c=Q.b,Q.b.d=V.b.d,Q.f=V.f,Q.b.f=V.b.f,Q}function x(V,Q){var q=!1,K=S(V),de=K.b;return Q.d!==V.d&&(q=!0,R(Q.d,V.d)),E(K,V.e),E(de,Q),K.a=V.b.a,de.a=Q.a,K.d=de.d=V.d,V.d.a=de,q||A(K,V.d),K}function S(V){var Q=new ie,q=new ie,K=V.b.h;return(((q.h=K).b.h=Q).h=V).b.h=q,Q.b=q,((Q.c=Q).e=q).b=Q,(q.c=q).e=Q}function E(V,Q){var q=V.c,K=Q.c;q.b.e=Q,(K.b.e=V).c=K,Q.c=q}function C(V,Q){var q=Q.f,K=new ge(Q,q);for(q.e=K,q=(Q.f=K).c=V;q.a=K,(q=q.c)!==V;);}function A(V,Q){var q=Q.d,K=new ne(Q,q);for(q.b=K,(Q.d=K).a=V,K.c=Q.c,q=V;q.d=K,(q=q.e)!==V;);}function O(V){var Q=V.h;V=V.b.h,(Q.b.h=V).b.h=Q}function I(V,Q){for(var q=V.c,K=q;K.a=Q,(K=K.c)!==q;);q=V.f,((K=V.e).f=q).e=K}function R(V,Q){for(var q=V.a,K=q;K.d=Q,(K=K.e)!==q;);q=V.d,((K=V.b).d=q).b=K}function L(V){var Q=0;return Math.abs(V[1])>Math.abs(V[0])&&(Q=1),Math.abs(V[2])>Math.abs(V[Q])&&(Q=2),Q}function N(V,Q){V.f+=Q.f,V.b.f+=Q.b.f}function D(V,Q,q){return V=V.a,Q=Q.a,q=q.a,Q.b.a===V?q.b.a===V?p(Q.a,q.a)?g(q.b.a,Q.a,q.a)<=0:0<=g(Q.b.a,q.a,Q.a):g(q.b.a,V,q.a)<=0:q.b.a===V?0<=g(Q.b.a,V,Q.a):(Q=f(Q.b.a,V,Q.a),(V=f(q.b.a,V,q.a))<=Q)}function H(V){V.a.i=null;var Q=V.e;Q.a.c=Q.c,Q.c.a=Q.a,V.e=null}function z(V,Q){y(V.a),V.c=!1,(V.a=Q).i=V}function ae(V){for(var Q=V.a.a;(V=nt(V)).a.a===Q;);return V.c&&(z(V,Q=x(be(V).a.b,V.a.e)),V=nt(V)),V}function le(V,Q,q){var K=new $e;return K.a=q,K.e=ee(V.f,Q.e,K),q.i=K}function J(V,Q){switch(V.s){case 100130:return(1&Q)!=0;case 100131:return Q!==0;case 100132:return 0<Q;case 100133:return Q<0;case 100134:return 2<=Q||Q<=-2}return!1}function ue(V){var Q=V.a,q=Q.d;q.c=V.d,q.a=Q,H(V)}function se(V,Q,q){for(Q=(V=Q).a;V!==q;){V.c=!1;var K=be(V),de=K.a;if(de.a!==Q.a){if(!K.c){ue(V);break}z(K,de=x(Q.c.b,de.b))}Q.c!==de&&(c(oe(de),de),c(Q,de)),ue(V),Q=K.a,V=K}return Q}function me(V,Q,q,K,de,Ee){for(var ke=!0;le(V,Q,q.b),(q=q.c)!==K;);for(de===null&&(de=be(Q).a.b.c);(q=(K=be(Q)).a.b).a===de.a;)q.c!==de&&(c(oe(q),q),c(oe(de),q)),K.f=Q.f-q.f,K.d=J(V,K.f),Q.b=!0,!ke&&De(V,Q)&&(N(q,de),H(Q),y(de)),ke=!1,Q=K,de=q;Q.b=!0,Ee&&Se(V,Q)}function xe(V,Q,q,K,de){var Ee=[Q.g[0],Q.g[1],Q.g[2]];Q.d=null,Q.d=V.o&&V.o(Ee,q,K,V.c)||null,Q.d===null&&(de?V.n||($(V,100156),V.n=!0):Q.d=q[0])}function Ce(V,Q,q){var K=[null,null,null,null];K[0]=Q.a.d,K[1]=q.a.d,xe(V,Q.a,K,[.5,.5,0,0],!1),c(Q,q)}function ve(V,Q,q,K,de){var Ee=Math.abs(Q.b-V.b)+Math.abs(Q.a-V.a),ke=Math.abs(q.b-V.b)+Math.abs(q.a-V.a),We=de+1;K[de]=.5*ke/(Ee+ke),K[We]=.5*Ee/(Ee+ke),V.g[0]+=K[de]*Q.g[0]+K[We]*q.g[0],V.g[1]+=K[de]*Q.g[1]+K[We]*q.g[1],V.g[2]+=K[de]*Q.g[2]+K[We]*q.g[2]}function De(V,Q){var q=be(Q),K=Q.a,de=q.a;if(p(K.a,de.a)){if(0<g(de.b.a,K.a,de.a))return!1;if(r(K.a,de.a)){if(K.a!==de.a){q=V.e;var Ee=K.a.h;if(0<=Ee){var ke=(q=q.b).d,We=q.e,we=q.c,Qe=we[Ee];ke[Qe]=ke[q.a],(we[ke[Qe]]=Qe)<=--q.a&&(Qe<=1||p(We[ke[Qe>>1]],We[ke[Qe]])?Ae(q,Qe):qe(q,Qe)),We[Ee]=null,we[Ee]=q.b,q.b=Ee}else for(q.c[-(Ee+1)]=null;0<q.a&&q.c[q.d[q.a-1]]===null;)--q.a;Ce(V,oe(de),K)}}else w(de.b),c(K,oe(de)),Q.b=q.b=!0}else{if(g(K.b.a,de.a,K.a)<0)return!1;nt(Q).b=Q.b=!0,w(K.b),c(oe(de),K)}return!0}function _e(V,Q){var q=be(Q),K=Q.a,de=q.a,Ee=K.a,ke=de.a,We=K.b.a,we=de.b.a,Qe=new ge;if(g(We,V.a,Ee),g(we,V.a,ke),Ee===ke||Math.min(Ee.a,We.a)>Math.max(ke.a,we.a))return!1;if(p(Ee,ke)){if(0<g(we,Ee,ke))return!1}else if(g(We,ke,Ee)<0)return!1;var lt,ft,vt=We,pt=Ee,mt=we,At=ke;if(p(vt,pt)||(lt=vt,vt=pt,pt=lt),p(mt,At)||(lt=mt,mt=At,At=lt),p(vt,mt)||(lt=vt,vt=mt,mt=lt,lt=pt,pt=At,At=lt),p(mt,pt)?p(pt,At)?((lt=f(vt,mt,pt))+(ft=f(mt,pt,At))<0&&(lt=-lt,ft=-ft),Qe.b=a(lt,mt.b,ft,pt.b)):((lt=g(vt,mt,pt))+(ft=-g(vt,At,pt))<0&&(lt=-lt,ft=-ft),Qe.b=a(lt,mt.b,ft,At.b)):Qe.b=(mt.b+pt.b)/2,m(vt,pt)||(lt=vt,vt=pt,pt=lt),m(mt,At)||(lt=mt,mt=At,At=lt),m(vt,mt)||(lt=vt,vt=mt,mt=lt,lt=pt,pt=At,At=lt),m(mt,pt)?m(pt,At)?((lt=i(vt,mt,pt))+(ft=i(mt,pt,At))<0&&(lt=-lt,ft=-ft),Qe.a=a(lt,mt.a,ft,pt.a)):((lt=o(vt,mt,pt))+(ft=-o(vt,At,pt))<0&&(lt=-lt,ft=-ft),Qe.a=a(lt,mt.a,ft,At.a)):Qe.a=(mt.a+pt.a)/2,p(Qe,V.a)&&(Qe.b=V.a.b,Qe.a=V.a.a),vt=p(Ee,ke)?Ee:ke,p(vt,Qe)&&(Qe.b=vt.b,Qe.a=vt.a),r(Qe,Ee)||r(Qe,ke))return De(V,Q),!1;if(!r(We,V.a)&&0<=g(We,V.a,Qe)||!r(we,V.a)&&g(we,V.a,Qe)<=0){if(we===V.a)return w(K.b),c(de.b,K),K=be(Q=ae(Q)).a,se(V,be(Q),q),me(V,Q,oe(K),K,K,!0),!0;if(We!==V.a)return 0<=g(We,V.a,Qe)&&(nt(Q).b=Q.b=!0,w(K.b),K.a.b=V.a.b,K.a.a=V.a.a),g(we,V.a,Qe)<=0&&(Q.b=q.b=!0,w(de.b),de.a.b=V.a.b,de.a.a=V.a.a),!1;for(w(de.b),c(K.e,oe(de)),ke=(Ee=q=Q).a.b.a;(Ee=nt(Ee)).a.b.a===ke;);return Ee=be(Q=Ee).a.b.c,q.a=oe(de),me(V,Q,(de=se(V,q,null)).c,K.b.c,Ee,!0),!0}return w(K.b),w(de.b),c(oe(de),K),K.a.b=Qe.b,K.a.a=Qe.a,K.a.h=Pe(V.e,K.a),K=K.a,de=[0,0,0,0],Qe=[Ee.d,We.d,ke.d,we.d],K.g[0]=K.g[1]=K.g[2]=0,ve(K,Ee,We,de,0),ve(K,ke,we,de,2),xe(V,K,Qe,de,!0),nt(Q).b=Q.b=q.b=!0,!1}function Se(V,Q){for(var q=be(Q);;){for(;q.b;)q=be(Q=q);if(!Q.b&&((Q=nt(q=Q))===null||!Q.b))break;Q.b=!1;var K,de=Q.a,Ee=q.a;if(K=de.b.a!==Ee.b.a)e:{var ke=be(K=Q),We=K.a,we=ke.a,Qe=void 0;if(p(We.b.a,we.b.a)){if(g(We.b.a,we.b.a,We.a)<0){K=!1;break e}nt(K).b=K.b=!0,Qe=w(We),c(we.b,Qe),Qe.d.c=K.d}else{if(0<g(we.b.a,We.b.a,we.a)){K=!1;break e}K.b=ke.b=!0,Qe=w(we),c(We.e,we.b),Qe.b.d.c=K.d}K=!0}if(K&&(q.c?(H(q),y(Ee),Ee=(q=be(Q)).a):Q.c&&(H(Q),y(de),de=(Q=nt(q)).a)),de.a!==Ee.a){if(de.b.a===Ee.b.a||Q.c||q.c||de.b.a!==V.a&&Ee.b.a!==V.a)De(V,Q);else if(_e(V,Q))break}de.a===Ee.a&&de.b.a===Ee.b.a&&(N(Ee,de),H(Q),y(de),Q=nt(q))}}function P(V,Q){for(var q=(V.a=Q).c;q.i===null;)if((q=q.c)===Q.c){q=V;var K=Q;(ke=new $e).a=K.c.b;for(var de=(we=q.f).a;(de=de.a).b!==null&&!we.c(we.b,ke,de.b););var Ee=be(we=de.b),ke=we.a;if(de=Ee.a,g(ke.b.a,K,ke.a)===0)r((ke=we.a).a,K)||r(ke.b.a,K)||(w(ke.b),we.c&&(y(ke.c),we.c=!1),c(K.c,ke),P(q,K));else{var We=p(de.b.a,ke.b.a)?we:Ee;Ee=void 0,we.d||We.c?(Ee=We===we?x(K.c.b,ke.e):x(de.b.c.b,K.c).b,We.c?z(We,Ee):((we=le(ke=q,we,Ee)).f=nt(we).f+we.a.f,we.d=J(ke,we.f)),P(q,K)):me(q,we,K.c,K.c,null,!0)}return}if(we=(ke=be(q=ae(q.i))).a,(ke=se(V,ke,null)).c===we){ke=(we=ke).c,de=be(q),Ee=q.a,We=de.a;var we,Qe=!1;Ee.b.a!==We.b.a&&_e(V,q),r(Ee.a,V.a)&&(c(oe(ke),Ee),ke=be(q=ae(q)).a,se(V,be(q),de),Qe=!0),r(We.a,V.a)&&(c(we,oe(We)),we=se(V,de,null),Qe=!0),Qe?me(V,q,we.c,ke,ke,!0):(K=p(We.a,Ee.a)?oe(We):Ee,me(V,q,K=x(we.c.b,K),K.c,K.c,!1),K.b.i.c=!0,Se(V,q))}else me(V,q,ke.c,we,we,!0)}function G(V,Q){var q=new $e,K=l(V.b);K.a.b=4e150,K.a.a=Q,K.b.a.b=-4e150,K.b.a.a=Q,V.a=K.b.a,q.a=K,q.f=0,q.d=!1,q.c=!1,q.h=!0,q.b=!1,K=ee(K=V.f,K.a,q),q.e=K}function X(V){this.a=new B,this.b=V,this.c=D}function ee(V,Q,q){for(;(Q=Q.c).b!==null&&!V.c(V.b,Q.b,q););return V=new B(q,Q.a,Q),Q.a.c=V,Q.a=V}function B(V,Q,q){this.b=V||null,this.a=Q||this,this.c=q||this}function F(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function re(V,Q){if(V.d!==Q)for(;V.d!==Q;)if(V.d<Q)switch(V.d){case 0:$(V,100151),V.u(null);break;case 1:$(V,100152),V.t()}else switch(V.d){case 2:$(V,100154),V.v();break;case 1:$(V,100153),V.w()}}function $(V,Q){V.p&&V.p(Q,V.c)}function ne(V,Q){this.b=V||this,this.d=Q||this,this.a=null,this.c=!1}function ie(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function oe(V){return V.b.e}function pe(){this.c=new ge,this.a=new ne,this.b=new ie,this.d=new ie,this.b.b=this.d,this.d.b=this.b}function ge(V,Q){this.e=V||this,this.f=Q||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function he(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ne}function Pe(V,Q){if(V.e){var q,K=V.b,de=++K.a;return 2*de>K.f&&(K.f*=2,K.c=Le(K.c,K.f+1)),K.b===0?q=de:(q=K.b,K.b=K.c[K.b]),K.e[q]=Q,K.c[q]=de,K.d[de]=q,K.h&&qe(K,de),q}return K=V.a++,V.c[K]=Q,-(K+1)}function Be(V){if(V.a===0)return Re(V.b);var Q=V.c[V.d[V.a-1]];if(V.b.a!==0&&p(Ze(V.b),Q))return Re(V.b);for(;--V.a,0<V.a&&V.c[V.d[V.a-1]]===null;);return Q}function Ne(){this.d=Le([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Le(V,Q){for(var q=Array(Q),K=0;K<V.length;K++)q[K]=V[K];for(;K<Q;K++)q[K]=0;return q}function Ze(V){return V.e[V.d[1]]}function Re(V){var Q=V.d,q=V.e,K=V.c,de=Q[1],Ee=q[de];return 0<V.a&&(Q[1]=Q[V.a],K[Q[1]]=1,q[de]=null,K[de]=V.b,V.b=de,0<--V.a&&Ae(V,1)),Ee}function Ae(V,Q){for(var q=V.d,K=V.e,de=V.c,Ee=Q,ke=q[Ee];;){var We=Ee<<1;We<V.a&&p(K[q[We+1]],K[q[We]])&&(We+=1);var we=q[We];if(We>V.a||p(K[ke],K[we])){de[q[Ee]=ke]=Ee;break}de[q[Ee]=we]=Ee,Ee=We}}function qe(V,Q){for(var q=V.d,K=V.e,de=V.c,Ee=Q,ke=q[Ee];;){var We=Ee>>1,we=q[We];if(We==0||p(K[we],K[ke])){de[q[Ee]=ke]=Ee;break}de[q[Ee]=we]=Ee,Ee=We}}function $e(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function be(V){return V.e.c.b}function nt(V){return V.e.a.b}(h=F.prototype).x=function(){re(this,0)},h.B=function(V,Q){switch(V){case 100142:return;case 100140:switch(Q){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Q)}break;case 100141:return void(this.m=!!Q);default:return void $(this,100900)}$(this,100901)},h.y=function(V){switch(V){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:$(this,100900)}return!1},h.A=function(V,Q,q){this.j[0]=V,this.j[1]=Q,this.j[2]=q},h.z=function(V,Q){var q=Q||null;switch(V){case 100100:case 100106:this.h=q;break;case 100104:case 100110:this.l=q;break;case 100101:case 100107:this.k=q;break;case 100102:case 100108:this.i=q;break;case 100103:case 100109:this.p=q;break;case 100105:case 100111:this.o=q;break;case 100112:this.r=q;break;default:$(this,100900)}},h.C=function(V,Q){var q=!1,K=[0,0,0];re(this,2);for(var de=0;de<3;++de){var Ee=V[de];Ee<-1e150&&(Ee=-1e150,q=!0),1e150<Ee&&(Ee=1e150,q=!0),K[de]=Ee}q&&$(this,100155),(q=this.q)===null?c(q=l(this.b),q.b):(w(q),q=q.e),q.a.d=Q,q.a.g[0]=K[0],q.a.g[1]=K[1],q.a.g[2]=K[2],q.f=1,q.b.f=-1,this.q=q},h.u=function(V){re(this,0),this.d=1,this.b=new pe,this.c=V},h.t=function(){re(this,1),this.d=2,this.q=null},h.v=function(){re(this,2),this.d=1},h.w=function(){re(this,1),this.d=0;var V,Q,q=!1,K=[we=this.j[0],de=this.j[1],ke=this.j[2]];if(we===0&&de===0&&ke===0){for(var de=[-2e150,-2e150,-2e150],Ee=[2e150,2e150,2e150],ke=[],We=[],we=(q=this.b.c).e;we!==q;we=we.e)for(var Qe=0;Qe<3;++Qe){var lt=we.g[Qe];lt<Ee[Qe]&&(Ee[Qe]=lt,We[Qe]=we),lt>de[Qe]&&(de[Qe]=lt,ke[Qe]=we)}if(we=0,de[1]-Ee[1]>de[0]-Ee[0]&&(we=1),de[2]-Ee[2]>de[we]-Ee[we]&&(we=2),Ee[we]>=de[we])K[0]=0,K[1]=0,K[2]=1;else{for(de=0,Ee=We[we],ke=ke[we],We=[0,0,0],Ee=[Ee.g[0]-ke.g[0],Ee.g[1]-ke.g[1],Ee.g[2]-ke.g[2]],Qe=[0,0,0],we=q.e;we!==q;we=we.e)Qe[0]=we.g[0]-ke.g[0],Qe[1]=we.g[1]-ke.g[1],Qe[2]=we.g[2]-ke.g[2],We[0]=Ee[1]*Qe[2]-Ee[2]*Qe[1],We[1]=Ee[2]*Qe[0]-Ee[0]*Qe[2],We[2]=Ee[0]*Qe[1]-Ee[1]*Qe[0],de<(lt=We[0]*We[0]+We[1]*We[1]+We[2]*We[2])&&(de=lt,K[0]=We[0],K[1]=We[1],K[2]=We[2]);de<=0&&(K[0]=K[1]=K[2]=0,K[L(Ee)]=1)}q=!0}for(We=L(K),we=this.b.c,de=(We+1)%3,ke=(We+2)%3,We=0<K[We]?1:-1,K=we.e;K!==we;K=K.e)K.b=K.g[de],K.a=We*K.g[ke];if(q){for(K=0,we=(q=this.b.a).b;we!==q;we=we.b)if(!((de=we.a).f<=0))for(;K+=(de.a.b-de.b.a.b)*(de.a.a+de.b.a.a),(de=de.e)!==we.a;);if(K<0)for(q=(K=this.b.c).e;q!==K;q=q.e)q.a=-q.a}for(this.n=!1,we=(K=this.b.b).h;we!==K;we=q)q=we.h,de=we.e,r(we.a,we.b.a)&&we.e.e!==we&&(Ce(this,de,we),y(we),de=(we=de).e),de.e===we&&(de!==we&&(de!==q&&de!==q.b||(q=q.h),y(de)),we!==q&&we!==q.b||(q=q.h),y(we));for(this.e=K=new he,we=(q=this.b.c).e;we!==q;we=we.e)we.h=Pe(K,we);for(function(ft){ft.d=[];for(var vt=0;vt<ft.a;vt++)ft.d[vt]=vt;ft.d.sort(function(pt){return function(mt,At){return p(pt[mt],pt[At])?1:-1}}(ft.c)),ft.e=!0,function(pt){for(var mt=pt.a;1<=mt;--mt)Ae(pt,mt);pt.h=!0}(ft.b)}(K),this.f=new X(this),G(this,-4e150),G(this,4e150);(K=Be(this.e))!==null;){for(;;){e:if(we=this.e,we.a===0)q=Ze(we.b);else if(q=we.c[we.d[we.a-1]],we.b.a!==0&&(we=Ze(we.b),p(we,q))){q=we;break e}if(q===null||!r(q,K))break;q=Be(this.e),Ce(this,K.c,q.c)}P(this,K)}for(this.a=this.f.a.a.b.a.a,K=0;(q=this.f.a.a.b)!==null;)q.h||++K,H(q);for(this.f=null,(K=this.e).b=null,K.d=null,this.e=K.c=null,we=(K=this.b).a.b;we!==K.a;we=q)q=we.b,(we=we.a).e.e===we&&(N(we.c,we),y(we));if(!this.n){if(K=this.b,this.m)for(we=K.b.h;we!==K.b;we=q)q=we.h,we.b.d.c!==we.d.c?we.f=we.d.c?1:-1:y(we);else for(we=K.a.b;we!==K.a;we=q)if(q=we.b,we.c){for(we=we.a;p(we.b.a,we.a);we=we.c.b);for(;p(we.a,we.b.a);we=we.e);for(de=we.c.b,ke=void 0;we.e!==de;)if(p(we.b.a,de.a)){for(;de.e!==we&&(p((Q=de.e).b.a,Q.a)||g(de.a,de.b.a,de.e.b.a)<=0);)de=(ke=x(de.e,de)).b;de=de.c.b}else{for(;de.e!==we&&(p((V=we.c.b).a,V.b.a)||0<=g(we.b.a,we.a,we.c.b.a));)we=(ke=x(we,we.c.b)).b;we=we.e}for(;de.e.e!==we;)de=(ke=x(de.e,de)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(q=(K=this.b).a.b;q!==K.a;q=q.b)if(q.c){for(this.h&&this.h(2,this.c),we=q.a;this.k&&this.k(we.a.d,this.c),(we=we.e)!==q.a;);this.i&&this.i(this.c)}}else{for(K=this.b,q=!!this.l,we=!1,de=-1,ke=K.a.d;ke!==K.a;ke=ke.d)if(ke.c)for(we||(this.h&&this.h(4,this.c),we=!0),We=ke.a;q&&de!==(Ee=We.b.d.c?0:1)&&(de=Ee,this.l&&this.l(!!de,this.c)),this.k&&this.k(We.a.d,this.c),(We=We.e)!==ke.a;);we&&this.i&&this.i(this.c)}if(this.r){for(we=(K=this.b).a.b;we!==K.a;we=q)if(q=we.b,!we.c){for(ke=(de=we.a).e,We=void 0;ke=(We=ke).e,(We.d=null)===We.b.d&&(We.c===We?I(We.a,null):(We.a.c=We.c,E(We,oe(We))),(Ee=We.b).c===Ee?I(Ee.a,null):(Ee.a.c=Ee.c,E(Ee,oe(Ee))),O(We)),We!==de;);de=we.d,((we=we.b).d=de).b=we}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:F,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},F.prototype.gluDeleteTess=F.prototype.x,F.prototype.gluTessProperty=F.prototype.B,F.prototype.gluGetTessProperty=F.prototype.y,F.prototype.gluTessNormal=F.prototype.A,F.prototype.gluTessCallback=F.prototype.z,F.prototype.gluTessVertex=F.prototype.C,F.prototype.gluTessBeginPolygon=F.prototype.u,F.prototype.gluTessBeginContour=F.prototype.t,F.prototype.gluTessEndContour=F.prototype.v,F.prototype.gluTessEndPolygon=F.prototype.w,u!==void 0&&(u.exports=this.libtess)},{}],238:[function(e,u,d){function h(r,p,f,g){for(var m=r[p++],i=1<<m,o=1+i,a=1+o,l=m+1,c=(1<<l)-1,y=0,w=0,x=0,S=r[p++],E=new Int32Array(4096),C=null;;){for(;y<16&&S!==0;)w|=r[p++]<<y,y+=8,S===1?S=r[p++]:--S;if(y<l)break;var A=w&c;if(w>>=l,y-=l,A!=i){if(A==o)break;for(var O=A<a?A:C,I=0,R=O;i<R;)R=E[R]>>8,++I;var L=R;if(g<x+I+(O!==A?1:0))return void console.log("Warning, gif stream longer than expected.");f[x++]=L;var N=x+=I;for(O!==A&&(f[x++]=L),R=O;I--;)R=E[R],f[--N]=255&R,R>>=8;C!==null&&a<4096&&(E[a++]=C<<8|L,c+1<=a&&l<12&&(++l,c=c<<1|1)),C=A}else a=1+o,c=(1<<(l=m+1))-1,C=null}return x!==g&&console.log("Warning, gif stream shorter than expected."),f}try{d.GifWriter=function(r,p,f,g){var m=0,i=(g=g===void 0?{}:g).loop===void 0?null:g.loop,o=g.palette===void 0?null:g.palette;if(p<=0||f<=0||65535<p||65535<f)throw new Error("Width/Height invalid.");function a(C){var A=C.length;if(A<2||256<A||A&A-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return A}r[m++]=71,r[m++]=73,r[m++]=70,r[m++]=56,r[m++]=57,r[m++]=97;var l=0,c=0;if(o!==null){for(var y=a(o);y>>=1;)++l;if(y=1<<l,--l,g.background!==void 0){if(y<=(c=g.background))throw new Error("Background index out of range.");if(c===0)throw new Error("Background index explicitly passed as 0.")}}if(r[m++]=255&p,r[m++]=p>>8&255,r[m++]=255&f,r[m++]=f>>8&255,r[m++]=(o!==null?128:0)|l,r[m++]=c,r[m++]=0,o!==null)for(var w=0,x=o.length;w<x;++w){var S=o[w];r[m++]=S>>16&255,r[m++]=S>>8&255,r[m++]=255&S}if(i!==null){if(i<0||65535<i)throw new Error("Loop count invalid.");r[m++]=33,r[m++]=255,r[m++]=11,r[m++]=78,r[m++]=69,r[m++]=84,r[m++]=83,r[m++]=67,r[m++]=65,r[m++]=80,r[m++]=69,r[m++]=50,r[m++]=46,r[m++]=48,r[m++]=3,r[m++]=1,r[m++]=255&i,r[m++]=i>>8&255,r[m++]=0}var E=!1;this.addFrame=function(C,A,O,I,R,L){if(E===!0&&(--m,E=!1),L=L===void 0?{}:L,C<0||A<0||65535<C||65535<A)throw new Error("x/y invalid.");if(O<=0||I<=0||65535<O||65535<I)throw new Error("Width/Height invalid.");if(R.length<O*I)throw new Error("Not enough pixels for the frame size.");var N=!0,D=L.palette;if(D==null&&(N=!1,D=o),D==null)throw new Error("Must supply either a local or global palette.");for(var H=a(D),z=0;H>>=1;)++z;H=1<<z;var ae=L.delay===void 0?0:L.delay,le=L.disposal===void 0?0:L.disposal;if(le<0||3<le)throw new Error("Disposal out of range.");var J=!1,ue=0;if(L.transparent!==void 0&&L.transparent!==null&&(J=!0,(ue=L.transparent)<0||H<=ue))throw new Error("Transparent color index.");if(le===0&&!J&&ae===0||(r[m++]=33,r[m++]=249,r[m++]=4,r[m++]=le<<2|(J===!0?1:0),r[m++]=255&ae,r[m++]=ae>>8&255,r[m++]=ue,r[m++]=0),r[m++]=44,r[m++]=255&C,r[m++]=C>>8&255,r[m++]=255&A,r[m++]=A>>8&255,r[m++]=255&O,r[m++]=O>>8&255,r[m++]=255&I,r[m++]=I>>8&255,r[m++]=N===!0?128|z-1:0,N===!0)for(var se=0,me=D.length;se<me;++se){var xe=D[se];r[m++]=xe>>16&255,r[m++]=xe>>8&255,r[m++]=255&xe}return m=function(Ce,ve,De,_e){Ce[ve++]=De;var Se=ve++,P=1<<De,G=P-1,X=1+P,ee=1+X,B=De+1,F=0,re=0;function $(Ne){for(;Ne<=F;)Ce[ve++]=255&re,re>>=8,F-=8,ve===Se+256&&(Ce[Se]=255,Se=ve++)}function ne(Ne){re|=Ne<<F,F+=B,$(8)}var ie=_e[0]&G,oe={};ne(P);for(var pe=1,ge=_e.length;pe<ge;++pe){var he=_e[pe]&G,Pe=ie<<8|he,Be=oe[Pe];if(Be===void 0){for(re|=ie<<F,F+=B;8<=F;)Ce[ve++]=255&re,re>>=8,F-=8,ve===Se+256&&(Ce[Se]=255,Se=ve++);ee===4096?(ne(P),ee=1+X,B=De+1,oe={}):(1<<B<=ee&&++B,oe[Pe]=ee++),ie=he}else ie=Be}return ne(ie),ne(X),$(1),Se+1===ve?Ce[Se]=0:(Ce[Se]=ve-Se-1,Ce[ve++]=0),ve}(r,m,z<2?2:z,R)},this.end=function(){return E===!1&&(r[m++]=59,E=!0),m},this.getOutputBuffer=function(){return r},this.setOutputBuffer=function(C){r=C},this.getOutputBufferPosition=function(){return m},this.setOutputBufferPosition=function(C){m=C}},d.GifReader=function(r){var p=0;if(r[p++]!==71||r[p++]!==73||r[p++]!==70||r[p++]!==56||(r[p++]+1&253)!=56||r[p++]!==97)throw new Error("Invalid GIF 87a/89a header.");var f=r[p++]|r[p++]<<8,g=r[p++]|r[p++]<<8,m=r[p++],i=m>>7,o=1<<1+(7&m);r[p++],r[p++];var a=null,l=null;i&&(a=p,p+=3*(l=o));var c=!0,y=[],w=0,x=null,S=0,E=null;for(this.width=f,this.height=g;c&&p<r.length;)switch(r[p++]){case 33:switch(r[p++]){case 255:if(r[p]!==11||r[p+1]==78&&r[p+2]==69&&r[p+3]==84&&r[p+4]==83&&r[p+5]==67&&r[p+6]==65&&r[p+7]==80&&r[p+8]==69&&r[p+9]==50&&r[p+10]==46&&r[p+11]==48&&r[p+12]==3&&r[p+13]==1&&r[p+16]==0)p+=14,E=r[p++]|r[p++]<<8,p++;else for(p+=12;;){if(!(0<=(J=r[p++])))throw Error("Invalid block size");if(J===0)break;p+=J}break;case 249:if(r[p++]!==4||r[p+4]!==0)throw new Error("Invalid graphics extension block.");var C=r[p++];w=r[p++]|r[p++]<<8,x=r[p++],!(1&C)&&(x=null),S=C>>2&7,p++;break;case 254:for(;;){if(!(0<=(J=r[p++])))throw Error("Invalid block size");if(J===0)break;p+=J}break;default:throw new Error("Unknown graphic control label: 0x"+r[p-1].toString(16))}break;case 44:var A=r[p++]|r[p++]<<8,O=r[p++]|r[p++]<<8,I=r[p++]|r[p++]<<8,R=r[p++]|r[p++]<<8,L=r[p++],N=L>>6&1,D=1<<1+(7&L),H=a,z=l,ae=!1;L>>7&&(ae=!0,H=p,p+=3*(z=D));var le=p;for(p++;;){var J;if(!(0<=(J=r[p++])))throw Error("Invalid block size");if(J===0)break;p+=J}y.push({x:A,y:O,width:I,height:R,has_local_palette:ae,palette_offset:H,palette_size:z,data_offset:le,data_length:p-le,transparent_index:x,interlaced:!!N,delay:w,disposal:S});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+r[p-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return E},this.frameInfo=function(ue){if(ue<0||ue>=y.length)throw new Error("Frame index out of range.");return y[ue]},this.decodeAndBlitFrameBGRA=function(ue,se){var me=this.frameInfo(ue),xe=me.width*me.height,Ce=new Uint8Array(xe);h(r,me.data_offset,Ce,xe);var ve=me.palette_offset,De=me.transparent_index;De===null&&(De=256);var _e=me.width,Se=f-_e,P=_e,G=4*(me.y*f+me.x),X=4*((me.y+me.height)*f+me.x),ee=G,B=4*Se;me.interlaced===!0&&(B+=4*f*7);for(var F=8,re=0,$=Ce.length;re<$;++re){var ne=Ce[re];if(P===0&&(P=_e,X<=(ee+=B)&&(B=4*Se+4*f*(F-1),ee=G+(_e+Se)*(F<<1),F>>=1)),ne===De)ee+=4;else{var ie=r[ve+3*ne],oe=r[ve+3*ne+1],pe=r[ve+3*ne+2];se[ee++]=pe,se[ee++]=oe,se[ee++]=ie,se[ee++]=255}--P}},this.decodeAndBlitFrameRGBA=function(ue,se){var me=this.frameInfo(ue),xe=me.width*me.height,Ce=new Uint8Array(xe);h(r,me.data_offset,Ce,xe);var ve=me.palette_offset,De=me.transparent_index;De===null&&(De=256);var _e=me.width,Se=f-_e,P=_e,G=4*(me.y*f+me.x),X=4*((me.y+me.height)*f+me.x),ee=G,B=4*Se;me.interlaced===!0&&(B+=4*f*7);for(var F=8,re=0,$=Ce.length;re<$;++re){var ne=Ce[re];if(P===0&&(P=_e,X<=(ee+=B)&&(B=4*Se+4*f*(F-1),ee=G+(_e+Se)*(F<<1),F>>=1)),ne===De)ee+=4;else{var ie=r[ve+3*ne],oe=r[ve+3*ne+1],pe=r[ve+3*ne+2];se[ee++]=ie,se[ee++]=oe,se[ee++]=pe,se[ee++]=255}--P}}}}catch{}},{}],239:[function(e,u,d){(function(h){var r,p;r=this,p=function(f){function g(v){if(this==null)throw TypeError();var b=String(this),j=b.length,T=v?Number(v):0;if(T!=T&&(T=0),!(T<0||j<=T)){var M,k=b.charCodeAt(T);return 55296<=k&&k<=56319&&T+1<j&&56320<=(M=b.charCodeAt(T+1))&&M<=57343?1024*(k-55296)+M-56320+65536:k}}var m;String.prototype.codePointAt||((m=function(){try{var v={},b=Object.defineProperty,j=b(v,v,v)&&b}catch{}return j}())?m(String.prototype,"codePointAt",{value:g,configurable:!0,writable:!0}):String.prototype.codePointAt=g);var i=0,o=-3;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function l(v,b){this.source=v,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=b,this.destLen=0,this.ltree=new a,this.dtree=new a}var c=new a,y=new a,w=new Uint8Array(30),x=new Uint16Array(30),S=new Uint8Array(30),E=new Uint16Array(30),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A=new a,O=new Uint8Array(320);function I(v,b,j,T){var M,k;for(M=0;M<j;++M)v[M]=0;for(M=0;M<30-j;++M)v[M+j]=M/j|0;for(k=T,M=0;M<30;++M)b[M]=k,k+=1<<v[M]}var R=new Uint16Array(16);function L(v,b,j,T){var M,k;for(M=0;M<16;++M)v.table[M]=0;for(M=0;M<T;++M)v.table[b[j+M]]++;for(M=k=v.table[0]=0;M<16;++M)R[M]=k,k+=v.table[M];for(M=0;M<T;++M)b[j+M]&&(v.trans[R[b[j+M]]++]=M)}function N(v){v.bitcount--||(v.tag=v.source[v.sourceIndex++],v.bitcount=7);var b=1&v.tag;return v.tag>>>=1,b}function D(v,b,j){if(!b)return j;for(;v.bitcount<24;)v.tag|=v.source[v.sourceIndex++]<<v.bitcount,v.bitcount+=8;var T=v.tag&65535>>>16-b;return v.tag>>>=b,v.bitcount-=b,T+j}function H(v,b){for(;v.bitcount<24;)v.tag|=v.source[v.sourceIndex++]<<v.bitcount,v.bitcount+=8;for(var j=0,T=0,M=0,k=v.tag;T=2*T+(1&k),k>>>=1,++M,j+=b.table[M],0<=(T-=b.table[M]););return v.tag=k,v.bitcount-=M,b.trans[j+T]}function z(v,b,j){var T,M,k,U,Y,Z;for(T=D(v,5,257),M=D(v,5,1),k=D(v,4,4),U=0;U<19;++U)O[U]=0;for(U=0;U<k;++U){var ce=D(v,3,0);O[C[U]]=ce}for(L(A,O,0,19),Y=0;Y<T+M;){var ye=H(v,A);switch(ye){case 16:var Te=O[Y-1];for(Z=D(v,2,3);Z;--Z)O[Y++]=Te;break;case 17:for(Z=D(v,3,3);Z;--Z)O[Y++]=0;break;case 18:for(Z=D(v,7,11);Z;--Z)O[Y++]=0;break;default:O[Y++]=ye}}L(b,O,0,T),L(j,O,T,M)}function ae(v,b,j){for(;;){var T,M,k,U,Y=H(v,b);if(Y===256)return i;if(Y<256)v.dest[v.destLen++]=Y;else for(T=D(v,w[Y-=257],x[Y]),M=H(v,j),U=k=v.destLen-D(v,S[M],E[M]);U<k+T;++U)v.dest[v.destLen++]=v.dest[U]}}function le(v){for(var b,j;8<v.bitcount;)v.sourceIndex--,v.bitcount-=8;if((b=256*(b=v.source[v.sourceIndex+1])+v.source[v.sourceIndex])!==(65535&~(256*v.source[v.sourceIndex+3]+v.source[v.sourceIndex+2])))return o;for(v.sourceIndex+=4,j=b;j;--j)v.dest[v.destLen++]=v.source[v.sourceIndex++];return v.bitcount=0,i}(function(v,b){var j;for(j=0;j<7;++j)v.table[j]=0;for(v.table[7]=24,v.table[8]=152,v.table[9]=112,j=0;j<24;++j)v.trans[j]=256+j;for(j=0;j<144;++j)v.trans[24+j]=j;for(j=0;j<8;++j)v.trans[168+j]=280+j;for(j=0;j<112;++j)v.trans[176+j]=144+j;for(j=0;j<5;++j)b.table[j]=0;for(b.table[5]=32,j=0;j<32;++j)b.trans[j]=j})(c,y),I(w,x,4,3),I(S,E,2,1),w[28]=0,x[28]=258;var J=function(v,b){var j,T,M=new l(v,b);do{switch(j=N(M),D(M,2,0)){case 0:T=le(M);break;case 1:T=ae(M,c,y);break;case 2:z(M,M.ltree,M.dtree),T=ae(M,M.ltree,M.dtree);break;default:T=o}if(T!==i)throw new Error("Data error")}while(!j);return M.destLen<M.dest.length?typeof M.dest.slice=="function"?M.dest.slice(0,M.destLen):M.dest.subarray(0,M.destLen):M.dest};function ue(v,b,j,T,M){return Math.pow(1-M,3)*v+3*Math.pow(1-M,2)*M*b+3*(1-M)*Math.pow(M,2)*j+Math.pow(M,3)*T}function se(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function me(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function xe(v){throw new Error(v)}function Ce(v,b){v||xe(b)}se.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},se.prototype.addPoint=function(v,b){typeof v=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=v,this.x2=v),v<this.x1&&(this.x1=v),v>this.x2&&(this.x2=v)),typeof b=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))},se.prototype.addX=function(v){this.addPoint(v,null)},se.prototype.addY=function(v){this.addPoint(null,v)},se.prototype.addBezier=function(v,b,j,T,M,k,U,Y){var Z=[v,b],ce=[j,T],ye=[M,k],Te=[U,Y];this.addPoint(v,b),this.addPoint(U,Y);for(var te=0;te<=1;te++){var Ke=6*Z[te]-12*ce[te]+6*ye[te],Xe=-3*Z[te]+9*ce[te]-9*ye[te]+3*Te[te],Fe=3*ce[te]-3*Z[te];if(Xe!=0){var Me=Math.pow(Ke,2)-4*Fe*Xe;if(!(Me<0)){var Ie=(-Ke+Math.sqrt(Me))/(2*Xe);0<Ie&&Ie<1&&(te===0&&this.addX(ue(Z[te],ce[te],ye[te],Te[te],Ie)),te===1&&this.addY(ue(Z[te],ce[te],ye[te],Te[te],Ie)));var it=(-Ke-Math.sqrt(Me))/(2*Xe);0<it&&it<1&&(te===0&&this.addX(ue(Z[te],ce[te],ye[te],Te[te],it)),te===1&&this.addY(ue(Z[te],ce[te],ye[te],Te[te],it)))}}else{if(Ke==0)continue;var st=-Fe/Ke;0<st&&st<1&&(te===0&&this.addX(ue(Z[te],ce[te],ye[te],Te[te],st)),te===1&&this.addY(ue(Z[te],ce[te],ye[te],Te[te],st)))}}},se.prototype.addQuad=function(v,b,j,T,M,k){var U=v+.6666666666666666*(j-v),Y=b+2/3*(T-b),Z=U+1/3*(M-v),ce=Y+1/3*(k-b);this.addBezier(v,b,U,Y,Z,ce,M,k)},me.prototype.moveTo=function(v,b){this.commands.push({type:"M",x:v,y:b})},me.prototype.lineTo=function(v,b){this.commands.push({type:"L",x:v,y:b})},me.prototype.curveTo=me.prototype.bezierCurveTo=function(v,b,j,T,M,k){this.commands.push({type:"C",x1:v,y1:b,x2:j,y2:T,x:M,y:k})},me.prototype.quadTo=me.prototype.quadraticCurveTo=function(v,b,j,T){this.commands.push({type:"Q",x1:v,y1:b,x:j,y:T})},me.prototype.close=me.prototype.closePath=function(){this.commands.push({type:"Z"})},me.prototype.extend=function(v){if(v.commands)v=v.commands;else if(v instanceof se){var b=v;return this.moveTo(b.x1,b.y1),this.lineTo(b.x2,b.y1),this.lineTo(b.x2,b.y2),this.lineTo(b.x1,b.y2),void this.close()}Array.prototype.push.apply(this.commands,v)},me.prototype.getBoundingBox=function(){for(var v=new se,b=0,j=0,T=0,M=0,k=0;k<this.commands.length;k++){var U=this.commands[k];switch(U.type){case"M":v.addPoint(U.x,U.y),b=T=U.x,j=M=U.y;break;case"L":v.addPoint(U.x,U.y),T=U.x,M=U.y;break;case"Q":v.addQuad(T,M,U.x1,U.y1,U.x,U.y),T=U.x,M=U.y;break;case"C":v.addBezier(T,M,U.x1,U.y1,U.x2,U.y2,U.x,U.y),T=U.x,M=U.y;break;case"Z":T=b,M=j;break;default:throw new Error("Unexpected path command "+U.type)}}return v.isEmpty()&&v.addPoint(0,0),v},me.prototype.draw=function(v){v.beginPath();for(var b=0;b<this.commands.length;b+=1){var j=this.commands[b];j.type==="M"?v.moveTo(j.x,j.y):j.type==="L"?v.lineTo(j.x,j.y):j.type==="C"?v.bezierCurveTo(j.x1,j.y1,j.x2,j.y2,j.x,j.y):j.type==="Q"?v.quadraticCurveTo(j.x1,j.y1,j.x,j.y):j.type==="Z"&&v.closePath()}this.fill&&(v.fillStyle=this.fill,v.fill()),this.stroke&&(v.strokeStyle=this.stroke,v.lineWidth=this.strokeWidth,v.stroke())},me.prototype.toPathData=function(v){function b(){for(var k,U=arguments,Y="",Z=0;Z<arguments.length;Z+=1){var ce=U[Z];0<=ce&&0<Z&&(Y+=" "),Y+=(k=ce,Math.round(k)===k?""+Math.round(k):k.toFixed(v))}return Y}v=v!==void 0?v:2;for(var j="",T=0;T<this.commands.length;T+=1){var M=this.commands[T];M.type==="M"?j+="M"+b(M.x,M.y):M.type==="L"?j+="L"+b(M.x,M.y):M.type==="C"?j+="C"+b(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?j+="Q"+b(M.x1,M.y1,M.x,M.y):M.type==="Z"&&(j+="Z")}return j},me.prototype.toSVG=function(v){var b='<path d="';return b+=this.toPathData(v),b+='"',this.fill&&this.fill!=="black"&&(this.fill===null?b+=' fill="none"':b+=' fill="'+this.fill+'"'),this.stroke&&(b+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),b+="/>"},me.prototype.toDOMElement=function(v){var b=this.toPathData(v),j=document.createElementNS("http://www.w3.org/2000/svg","path");return j.setAttribute("d",b),j};var ve={fail:xe,argument:Ce,assert:Ce},De={},_e={},Se={};function P(v){return function(){return v}}_e.BYTE=function(v){return ve.argument(0<=v&&v<=255,"Byte value should be between 0 and 255."),[v]},Se.BYTE=P(1),_e.CHAR=function(v){return[v.charCodeAt(0)]},Se.CHAR=P(1),_e.CHARARRAY=function(v){for(var b=[],j=0;j<v.length;j+=1)b[j]=v.charCodeAt(j);return b},Se.CHARARRAY=function(v){return v.length},_e.USHORT=function(v){return[v>>8&255,255&v]},Se.USHORT=P(2),_e.SHORT=function(v){return 32768<=v&&(v=-(65536-v)),[v>>8&255,255&v]},Se.SHORT=P(2),_e.UINT24=function(v){return[v>>16&255,v>>8&255,255&v]},Se.UINT24=P(3),_e.ULONG=function(v){return[v>>24&255,v>>16&255,v>>8&255,255&v]},Se.ULONG=P(4),_e.LONG=function(v){return 2147483648<=v&&(v=-(4294967296-v)),[v>>24&255,v>>16&255,v>>8&255,255&v]},Se.LONG=P(4),_e.FIXED=_e.ULONG,Se.FIXED=Se.ULONG,_e.FWORD=_e.SHORT,Se.FWORD=Se.SHORT,_e.UFWORD=_e.USHORT,Se.UFWORD=Se.USHORT,_e.LONGDATETIME=function(v){return[0,0,0,0,v>>24&255,v>>16&255,v>>8&255,255&v]},Se.LONGDATETIME=P(8),_e.TAG=function(v){return ve.argument(v.length===4,"Tag should be exactly 4 ASCII characters."),[v.charCodeAt(0),v.charCodeAt(1),v.charCodeAt(2),v.charCodeAt(3)]},Se.TAG=P(4),_e.Card8=_e.BYTE,Se.Card8=Se.BYTE,_e.Card16=_e.USHORT,Se.Card16=Se.USHORT,_e.OffSize=_e.BYTE,Se.OffSize=Se.BYTE,_e.SID=_e.USHORT,Se.SID=Se.USHORT,_e.NUMBER=function(v){return-107<=v&&v<=107?[v+139]:108<=v&&v<=1131?[247+((v-=108)>>8),255&v]:-1131<=v&&v<=-108?[251+((v=-v-108)>>8),255&v]:-32768<=v&&v<=32767?_e.NUMBER16(v):_e.NUMBER32(v)},Se.NUMBER=function(v){return _e.NUMBER(v).length},_e.NUMBER16=function(v){return[28,v>>8&255,255&v]},Se.NUMBER16=P(3),_e.NUMBER32=function(v){return[29,v>>24&255,v>>16&255,v>>8&255,255&v]},Se.NUMBER32=P(5),_e.REAL=function(v){var b=v.toString(),j=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(b);if(j){var T=parseFloat("1e"+((j[2]?+j[2]:0)+j[1].length));b=(Math.round(v*T)/T).toString()}for(var M="",k=0,U=b.length;k<U;k+=1){var Y=b[k];M+=Y==="e"?b[++k]==="-"?"c":"b":Y==="."?"a":Y==="-"?"e":Y}for(var Z=[30],ce=0,ye=(M+=1&M.length?"f":"ff").length;ce<ye;ce+=2)Z.push(parseInt(M.substr(ce,2),16));return Z},Se.REAL=function(v){return _e.REAL(v).length},_e.NAME=_e.CHARARRAY,Se.NAME=Se.CHARARRAY,_e.STRING=_e.CHARARRAY,Se.STRING=Se.CHARARRAY,De.UTF8=function(v,b,j){for(var T=[],M=j,k=0;k<M;k++,b+=1)T[k]=v.getUint8(b);return String.fromCharCode.apply(null,T)},De.UTF16=function(v,b,j){for(var T=[],M=j/2,k=0;k<M;k++,b+=2)T[k]=v.getUint16(b);return String.fromCharCode.apply(null,T)},_e.UTF16=function(v){for(var b=[],j=0;j<v.length;j+=1){var T=v.charCodeAt(j);b[b.length]=T>>8&255,b[b.length]=255&T}return b},Se.UTF16=function(v){return 2*v.length};var G={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};De.MACSTRING=function(v,b,j,T){var M=G[T];if(M!==void 0){for(var k="",U=0;U<j;U++){var Y=v.getUint8(b+U);k+=Y<=127?String.fromCharCode(Y):M[127&Y]}return k}};var X,ee=typeof WeakMap=="function"&&new WeakMap;function B(v){return-128<=v&&v<=127}function F(v,b,j){for(var T=0,M=v.length;b<M&&T<64&&v[b]===0;)++b,++T;return j.push(128|T-1),b}function re(v,b,j){for(var T=0,M=v.length,k=b;k<M&&T<64;){var U=v[k];if(!B(U)||U===0&&k+1<M&&v[k+1]===0)break;++k,++T}j.push(T-1);for(var Y=b;Y<k;++Y)j.push(v[Y]+256&255);return k}function $(v,b,j){for(var T=0,M=v.length,k=b;k<M&&T<64;){var U=v[k];if(U===0||B(U)&&k+1<M&&B(v[k+1]))break;++k,++T}j.push(64|T-1);for(var Y=b;Y<k;++Y){var Z=v[Y];j.push(Z+65536>>8&255,Z+256&255)}return k}_e.MACSTRING=function(v,b){var j=function(U){if(!X)for(var Y in X={},G)X[Y]=new String(Y);var Z=X[U];if(Z!==void 0){if(ee){var ce=ee.get(Z);if(ce!==void 0)return ce}var ye=G[U];if(ye!==void 0){for(var Te={},te=0;te<ye.length;te++)Te[ye.charCodeAt(te)]=te+128;return ee&&ee.set(Z,Te),Te}}}(b);if(j!==void 0){for(var T=[],M=0;M<v.length;M++){var k=v.charCodeAt(M);if(128<=k&&(k=j[k])===void 0)return;T[M]=k}return T}},Se.MACSTRING=function(v,b){var j=_e.MACSTRING(v,b);return j!==void 0?j.length:0},_e.VARDELTAS=function(v){for(var b=0,j=[];b<v.length;){var T=v[b];b=T===0?F(v,b,j):-128<=T&&T<=127?re(v,b,j):$(v,b,j)}return j},_e.INDEX=function(v){for(var b=1,j=[b],T=[],M=0;M<v.length;M+=1){var k=_e.OBJECT(v[M]);Array.prototype.push.apply(T,k),b+=k.length,j.push(b)}if(T.length===0)return[0,0];for(var U=[],Y=1+Math.floor(Math.log(b)/Math.log(2))/8|0,Z=[void 0,_e.BYTE,_e.USHORT,_e.UINT24,_e.ULONG][Y],ce=0;ce<j.length;ce+=1){var ye=Z(j[ce]);Array.prototype.push.apply(U,ye)}return Array.prototype.concat(_e.Card16(v.length),_e.OffSize(Y),U,T)},Se.INDEX=function(v){return _e.INDEX(v).length},_e.DICT=function(v){for(var b=[],j=Object.keys(v),T=j.length,M=0;M<T;M+=1){var k=parseInt(j[M],0),U=v[k];b=(b=b.concat(_e.OPERAND(U.value,U.type))).concat(_e.OPERATOR(k))}return b},Se.DICT=function(v){return _e.DICT(v).length},_e.OPERATOR=function(v){return v<1200?[v]:[12,v-1200]},_e.OPERAND=function(v,b){var j=[];if(Array.isArray(b))for(var T=0;T<b.length;T+=1)ve.argument(v.length===b.length,"Not enough arguments given for type"+b),j=j.concat(_e.OPERAND(v[T],b[T]));else if(b==="SID")j=j.concat(_e.NUMBER(v));else if(b==="offset")j=j.concat(_e.NUMBER32(v));else if(b==="number")j=j.concat(_e.NUMBER(v));else{if(b!=="real")throw new Error("Unknown operand type "+b);j=j.concat(_e.REAL(v))}return j},_e.OP=_e.BYTE,Se.OP=Se.BYTE;var ne=typeof WeakMap=="function"&&new WeakMap;function ie(v,b,j){for(var T=0;T<b.length;T+=1){var M=b[T];this[M.name]=M.value}if(this.tableName=v,this.fields=b,j)for(var k=Object.keys(j),U=0;U<k.length;U+=1){var Y=k[U],Z=j[Y];this[Y]!==void 0&&(this[Y]=Z)}}function oe(v,b,j){j===void 0&&(j=b.length);var T=new Array(b.length+1);T[0]={name:v+"Count",type:"USHORT",value:j};for(var M=0;M<b.length;M++)T[M+1]={name:v+M,type:"USHORT",value:b[M]};return T}function pe(v,b,j){var T=b.length,M=new Array(T+1);M[0]={name:v+"Count",type:"USHORT",value:T};for(var k=0;k<T;k++)M[k+1]={name:v+k,type:"TABLE",value:j(b[k],k)};return M}function ge(v,b,j){var T=b.length,M=[];M[0]={name:v+"Count",type:"USHORT",value:T};for(var k=0;k<T;k++)M=M.concat(j(b[k],k));return M}function he(v){v.format===1?ie.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(oe("glyph",v.glyphs))):ve.assert(!1,"Can't create coverage table format 2 yet.")}function Pe(v){ie.call(this,"scriptListTable",ge("scriptRecord",v,function(b,j){var T=b.script,M=T.defaultLangSys;return ve.assert(!!M,"Unable to write GSUB: script "+b.tag+" has no default language system."),[{name:"scriptTag"+j,type:"TAG",value:b.tag},{name:"script"+j,type:"TABLE",value:new ie("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ie("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:M.reqFeatureIndex}].concat(oe("featureIndex",M.featureIndexes)))}].concat(ge("langSys",T.langSysRecords,function(k,U){var Y=k.langSys;return[{name:"langSysTag"+U,type:"TAG",value:k.tag},{name:"langSys"+U,type:"TABLE",value:new ie("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Y.reqFeatureIndex}].concat(oe("featureIndex",Y.featureIndexes)))}]})))}]}))}function Be(v){ie.call(this,"featureListTable",ge("featureRecord",v,function(b,j){var T=b.feature;return[{name:"featureTag"+j,type:"TAG",value:b.tag},{name:"feature"+j,type:"TABLE",value:new ie("featureTable",[{name:"featureParams",type:"USHORT",value:T.featureParams}].concat(oe("lookupListIndex",T.lookupListIndexes)))}]}))}function Ne(v,b){ie.call(this,"lookupListTable",pe("lookup",v,function(j){var T=b[j.lookupType];return ve.assert(!!T,"Unable to write GSUB lookup type "+j.lookupType+" tables."),new ie("lookupTable",[{name:"lookupType",type:"USHORT",value:j.lookupType},{name:"lookupFlag",type:"USHORT",value:j.lookupFlag}].concat(pe("subtable",j.subtables,T)))}))}_e.CHARSTRING=function(v){if(ne){var b=ne.get(v);if(b!==void 0)return b}for(var j=[],T=v.length,M=0;M<T;M+=1){var k=v[M];j=j.concat(_e[k.type](k.value))}return ne&&ne.set(v,j),j},Se.CHARSTRING=function(v){return _e.CHARSTRING(v).length},_e.OBJECT=function(v){var b=_e[v.type];return ve.argument(b!==void 0,"No encoding function for type "+v.type),b(v.value)},Se.OBJECT=function(v){var b=Se[v.type];return ve.argument(b!==void 0,"No sizeOf function for type "+v.type),b(v.value)},_e.TABLE=function(v){for(var b=[],j=v.fields.length,T=[],M=[],k=0;k<j;k+=1){var U=v.fields[k],Y=_e[U.type];ve.argument(Y!==void 0,"No encoding function for field type "+U.type+" ("+U.name+")");var Z=v[U.name];Z===void 0&&(Z=U.value);var ce=Y(Z);U.type==="TABLE"?(M.push(b.length),b=b.concat([0,0]),T.push(ce)):b=b.concat(ce)}for(var ye=0;ye<T.length;ye+=1){var Te=M[ye],te=b.length;ve.argument(te<65536,"Table "+v.tableName+" too big."),b[Te]=te>>8,b[Te+1]=255&te,b=b.concat(T[ye])}return b},Se.TABLE=function(v){for(var b=0,j=v.fields.length,T=0;T<j;T+=1){var M=v.fields[T],k=Se[M.type];ve.argument(k!==void 0,"No sizeOf function for field type "+M.type+" ("+M.name+")");var U=v[M.name];U===void 0&&(U=M.value),b+=k(U),M.type==="TABLE"&&(b+=2)}return b},_e.RECORD=_e.TABLE,Se.RECORD=Se.TABLE,_e.LITERAL=function(v){return v},Se.LITERAL=function(v){return v.length},ie.prototype.encode=function(){return _e.TABLE(this)},ie.prototype.sizeOf=function(){return Se.TABLE(this)};var Le={Table:ie,Record:ie,Coverage:(he.prototype=Object.create(ie.prototype)).constructor=he,ScriptList:(Pe.prototype=Object.create(ie.prototype)).constructor=Pe,FeatureList:(Be.prototype=Object.create(ie.prototype)).constructor=Be,LookupList:(Ne.prototype=Object.create(ie.prototype)).constructor=Ne,ushortList:oe,tableList:pe,recordList:ge};function Ze(v,b){return v.getUint8(b)}function Re(v,b){return v.getUint16(b,!1)}function Ae(v,b){return v.getUint32(b,!1)}function qe(v,b){return v.getInt16(b,!1)+v.getUint16(b+2,!1)/65535}var $e={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function be(v,b){this.data=v,this.offset=b,this.relativeOffset=0}be.prototype.parseByte=function(){var v=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,v},be.prototype.parseChar=function(){var v=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,v},be.prototype.parseCard8=be.prototype.parseByte,be.prototype.parseCard16=be.prototype.parseUShort=function(){var v=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,v},be.prototype.parseSID=be.prototype.parseUShort,be.prototype.parseOffset16=be.prototype.parseUShort,be.prototype.parseShort=function(){var v=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,v},be.prototype.parseF2Dot14=function(){var v=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,v},be.prototype.parseOffset32=be.prototype.parseULong=function(){var v=Ae(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,v},be.prototype.parseFixed=function(){var v=qe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,v},be.prototype.parseString=function(v){var b=this.data,j=this.offset+this.relativeOffset,T="";this.relativeOffset+=v;for(var M=0;M<v;M++)T+=String.fromCharCode(b.getUint8(j+M));return T},be.prototype.parseTag=function(){return this.parseString(4)},be.prototype.parseLongDateTime=function(){var v=Ae(this.data,this.offset+this.relativeOffset+4);return v-=2082844800,this.relativeOffset+=8,v},be.prototype.parseVersion=function(v){var b=Re(this.data,this.offset+this.relativeOffset),j=Re(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,v===void 0&&(v=4096),b+j/v/10},be.prototype.skip=function(v,b){b===void 0&&(b=1),this.relativeOffset+=$e[v]*b},be.prototype.parseULongList=function(v){v===void 0&&(v=this.parseULong());for(var b=new Array(v),j=this.data,T=this.offset+this.relativeOffset,M=0;M<v;M++)b[M]=j.getUint32(T),T+=4;return this.relativeOffset+=4*v,b},be.prototype.parseOffset16List=be.prototype.parseUShortList=function(v){v===void 0&&(v=this.parseUShort());for(var b=new Array(v),j=this.data,T=this.offset+this.relativeOffset,M=0;M<v;M++)b[M]=j.getUint16(T),T+=2;return this.relativeOffset+=2*v,b},be.prototype.parseShortList=function(v){for(var b=new Array(v),j=this.data,T=this.offset+this.relativeOffset,M=0;M<v;M++)b[M]=j.getInt16(T),T+=2;return this.relativeOffset+=2*v,b},be.prototype.parseByteList=function(v){for(var b=new Array(v),j=this.data,T=this.offset+this.relativeOffset,M=0;M<v;M++)b[M]=j.getUint8(T++);return this.relativeOffset+=v,b},be.prototype.parseList=function(v,b){b||(b=v,v=this.parseUShort());for(var j=new Array(v),T=0;T<v;T++)j[T]=b.call(this);return j},be.prototype.parseList32=function(v,b){b||(b=v,v=this.parseULong());for(var j=new Array(v),T=0;T<v;T++)j[T]=b.call(this);return j},be.prototype.parseRecordList=function(v,b){b||(b=v,v=this.parseUShort());for(var j=new Array(v),T=Object.keys(b),M=0;M<v;M++){for(var k={},U=0;U<T.length;U++){var Y=T[U],Z=b[Y];k[Y]=Z.call(this)}j[M]=k}return j},be.prototype.parseRecordList32=function(v,b){b||(b=v,v=this.parseULong());for(var j=new Array(v),T=Object.keys(b),M=0;M<v;M++){for(var k={},U=0;U<T.length;U++){var Y=T[U],Z=b[Y];k[Y]=Z.call(this)}j[M]=k}return j},be.prototype.parseStruct=function(v){if(typeof v=="function")return v.call(this);for(var b=Object.keys(v),j={},T=0;T<b.length;T++){var M=b[T],k=v[M];j[M]=k.call(this)}return j},be.prototype.parseValueRecord=function(v){if(v===void 0&&(v=this.parseUShort()),v!==0){var b={};return 1&v&&(b.xPlacement=this.parseShort()),2&v&&(b.yPlacement=this.parseShort()),4&v&&(b.xAdvance=this.parseShort()),8&v&&(b.yAdvance=this.parseShort()),16&v&&(b.xPlaDevice=void 0,this.parseShort()),32&v&&(b.yPlaDevice=void 0,this.parseShort()),64&v&&(b.xAdvDevice=void 0,this.parseShort()),128&v&&(b.yAdvDevice=void 0,this.parseShort()),b}},be.prototype.parseValueRecordList=function(){for(var v=this.parseUShort(),b=this.parseUShort(),j=new Array(b),T=0;T<b;T++)j[T]=this.parseValueRecord(v);return j},be.prototype.parsePointer=function(v){var b=this.parseOffset16();if(0<b)return new be(this.data,this.offset+b).parseStruct(v)},be.prototype.parsePointer32=function(v){var b=this.parseOffset32();if(0<b)return new be(this.data,this.offset+b).parseStruct(v)},be.prototype.parseListOfLists=function(v){for(var b=this.parseOffset16List(),j=b.length,T=this.relativeOffset,M=new Array(j),k=0;k<j;k++){var U=b[k];if(U!==0)if(this.relativeOffset=U,v){for(var Y=this.parseOffset16List(),Z=new Array(Y.length),ce=0;ce<Y.length;ce++)this.relativeOffset=U+Y[ce],Z[ce]=v.call(this);M[k]=Z}else M[k]=this.parseUShortList();else M[k]=void 0}return this.relativeOffset=T,M},be.prototype.parseCoverage=function(){var v=this.offset+this.relativeOffset,b=this.parseUShort(),j=this.parseUShort();if(b===1)return{format:1,glyphs:this.parseUShortList(j)};if(b!==2)throw new Error("0x"+v.toString(16)+": Coverage format must be 1 or 2.");for(var T=new Array(j),M=0;M<j;M++)T[M]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:T}},be.prototype.parseClassDef=function(){var v=this.offset+this.relativeOffset,b=this.parseUShort();if(b===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(b===2)return{format:2,ranges:this.parseRecordList({start:be.uShort,end:be.uShort,classId:be.uShort})};throw new Error("0x"+v.toString(16)+": ClassDef format must be 1 or 2.")},be.list=function(v,b){return function(){return this.parseList(v,b)}},be.list32=function(v,b){return function(){return this.parseList32(v,b)}},be.recordList=function(v,b){return function(){return this.parseRecordList(v,b)}},be.recordList32=function(v,b){return function(){return this.parseRecordList32(v,b)}},be.pointer=function(v){return function(){return this.parsePointer(v)}},be.pointer32=function(v){return function(){return this.parsePointer32(v)}},be.tag=be.prototype.parseTag,be.byte=be.prototype.parseByte,be.uShort=be.offset16=be.prototype.parseUShort,be.uShortList=be.prototype.parseUShortList,be.uLong=be.offset32=be.prototype.parseULong,be.uLongList=be.prototype.parseULongList,be.struct=be.prototype.parseStruct,be.coverage=be.prototype.parseCoverage,be.classDef=be.prototype.parseClassDef;var nt={reserved:be.uShort,reqFeatureIndex:be.uShort,featureIndexes:be.uShortList};be.prototype.parseScriptList=function(){return this.parsePointer(be.recordList({tag:be.tag,script:be.pointer({defaultLangSys:be.pointer(nt),langSysRecords:be.recordList({tag:be.tag,langSys:be.pointer(nt)})})}))||[]},be.prototype.parseFeatureList=function(){return this.parsePointer(be.recordList({tag:be.tag,feature:be.pointer({featureParams:be.offset16,lookupListIndexes:be.uShortList})}))||[]},be.prototype.parseLookupList=function(v){return this.parsePointer(be.list(be.pointer(function(){var b=this.parseUShort();ve.argument(1<=b&&b<=9,"GPOS/GSUB lookup type "+b+" unknown.");var j=this.parseUShort(),T=16&j;return{lookupType:b,lookupFlag:j,subtables:this.parseList(be.pointer(v[b])),markFilteringSet:T?this.parseUShort():void 0}})))||[]},be.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var v=this.parseUShort(),b=this.parseUShort();return ve.argument(v===1&&b<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:be.offset32,featureTableSubstitutionOffset:be.offset32})})||[]};var V={getByte:Ze,getCard8:Ze,getUShort:Re,getCard16:Re,getShort:function(v,b){return v.getInt16(b,!1)},getULong:Ae,getFixed:qe,getTag:function(v,b){for(var j="",T=b;T<b+4;T+=1)j+=String.fromCharCode(v.getInt8(T));return j},getOffset:function(v,b,j){for(var T=0,M=0;M<j;M+=1)T<<=8,T+=v.getUint8(b+M);return T},getBytes:function(v,b,j){for(var T=[],M=b;M<j;M+=1)T.push(v.getUint8(M));return T},bytesToString:function(v){for(var b="",j=0;j<v.length;j+=1)b+=String.fromCharCode(v[j]);return b},Parser:be},Q={parse:function(v,b){var j={};j.version=V.getUShort(v,b),ve.argument(j.version===0,"cmap table version should be 0."),j.numTables=V.getUShort(v,b+2);for(var T=-1,M=j.numTables-1;0<=M;--M){var k=V.getUShort(v,b+4+8*M),U=V.getUShort(v,b+4+8*M+2);if(k===3&&(U===0||U===1||U===10)||k===0&&(U===0||U===1||U===2||U===3||U===4)){T=V.getULong(v,b+4+8*M+4);break}}if(T===-1)throw new Error("No valid cmap sub-tables found.");var Y=new V.Parser(v,b+T);if(j.format=Y.parseUShort(),j.format===12)(function(Z,ce){var ye;ce.parseUShort(),Z.length=ce.parseULong(),Z.language=ce.parseULong(),Z.groupCount=ye=ce.parseULong(),Z.glyphIndexMap={};for(var Te=0;Te<ye;Te+=1)for(var te=ce.parseULong(),Ke=ce.parseULong(),Xe=ce.parseULong(),Fe=te;Fe<=Ke;Fe+=1)Z.glyphIndexMap[Fe]=Xe,Xe++})(j,Y);else{if(j.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+j.format+").");(function(Z,ce,ye,Te,te){var Ke;Z.length=ce.parseUShort(),Z.language=ce.parseUShort(),Z.segCount=Ke=ce.parseUShort()>>1,ce.skip("uShort",3),Z.glyphIndexMap={};for(var Xe=new V.Parser(ye,Te+te+14),Fe=new V.Parser(ye,Te+te+16+2*Ke),Me=new V.Parser(ye,Te+te+16+4*Ke),Ie=new V.Parser(ye,Te+te+16+6*Ke),it=Te+te+16+8*Ke,st=0;st<Ke-1;st+=1)for(var St=void 0,ct=Xe.parseUShort(),ht=Fe.parseUShort(),Zt=Me.parseShort(),Et=Ie.parseUShort(),jt=ht;jt<=ct;jt+=1)Et!==0?(it=Ie.offset+Ie.relativeOffset-2,it+=Et,it+=2*(jt-ht),(St=V.getUShort(ye,it))!==0&&(St=St+Zt&65535)):St=jt+Zt&65535,Z.glyphIndexMap[jt]=St})(j,Y,v,b,T)}return j},make:function(v){var b,j=!0;for(b=v.length-1;0<b;--b)if(65535<v.get(b).unicode){console.log("Adding CMAP format 12 (needed!)"),j=!1;break}var T=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:j?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:j?12:20}];j||(T=T.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),T=T.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var M,k,U,Y=new Le.Table("cmap",T);for(Y.segments=[],b=0;b<v.length;b+=1){for(var Z=v.get(b),ce=0;ce<Z.unicodes.length;ce+=1)M=Y,k=Z.unicodes[ce],U=b,M.segments.push({end:k,start:k,delta:-(k-U),offset:0,glyphIndex:U});Y.segments=Y.segments.sort(function(St,ct){return St.start-ct.start})}Y.segments.push({end:65535,start:65535,delta:1,offset:0});var ye=Y.segments.length,Te=0,te=[],Ke=[],Xe=[],Fe=[],Me=[],Ie=[];for(b=0;b<ye;b+=1){var it=Y.segments[b];it.end<=65535&&it.start<=65535?(te=te.concat({name:"end_"+b,type:"USHORT",value:it.end}),Ke=Ke.concat({name:"start_"+b,type:"USHORT",value:it.start}),Xe=Xe.concat({name:"idDelta_"+b,type:"SHORT",value:it.delta}),Fe=Fe.concat({name:"idRangeOffset_"+b,type:"USHORT",value:it.offset}),it.glyphId!==void 0&&(Me=Me.concat({name:"glyph_"+b,type:"USHORT",value:it.glyphId}))):Te+=1,j||it.glyphIndex===void 0||(Ie=(Ie=(Ie=Ie.concat({name:"cmap12Start_"+b,type:"ULONG",value:it.start})).concat({name:"cmap12End_"+b,type:"ULONG",value:it.end})).concat({name:"cmap12Glyph_"+b,type:"ULONG",value:it.glyphIndex}))}if(Y.segCountX2=2*(ye-Te),Y.searchRange=2*Math.pow(2,Math.floor(Math.log(ye-Te)/Math.log(2))),Y.entrySelector=Math.log(Y.searchRange/2)/Math.log(2),Y.rangeShift=Y.segCountX2-Y.searchRange,Y.fields=Y.fields.concat(te),Y.fields.push({name:"reservedPad",type:"USHORT",value:0}),Y.fields=Y.fields.concat(Ke),Y.fields=Y.fields.concat(Xe),Y.fields=Y.fields.concat(Fe),Y.fields=Y.fields.concat(Me),Y.cmap4Length=14+2*te.length+2+2*Ke.length+2*Xe.length+2*Fe.length+2*Me.length,!j){var st=16+4*Ie.length;Y.cmap12Offset=20+Y.cmap4Length,Y.fields=Y.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:st},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ie.length/3}]),Y.fields=Y.fields.concat(Ie)}return Y}},q=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],K=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],de=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Ee=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ke(v){this.font=v}function We(v){this.cmap=v}function we(v,b){this.encoding=v,this.charset=b}function Qe(v){switch(v.version){case 1:this.names=Ee.slice();break;case 2:this.names=new Array(v.numberOfGlyphs);for(var b=0;b<v.numberOfGlyphs;b++)v.glyphNameIndex[b]<Ee.length?this.names[b]=Ee[v.glyphNameIndex[b]]:this.names[b]=v.names[v.glyphNameIndex[b]-Ee.length];break;case 2.5:this.names=new Array(v.numberOfGlyphs);for(var j=0;j<v.numberOfGlyphs;j++)this.names[j]=Ee[j+v.glyphNameIndex[j]];break;case 3:default:this.names=[]}}ke.prototype.charToGlyphIndex=function(v){var b=v.codePointAt(0),j=this.font.glyphs;if(j){for(var T=0;T<j.length;T+=1)for(var M=j.get(T),k=0;k<M.unicodes.length;k+=1)if(M.unicodes[k]===b)return T}return null},We.prototype.charToGlyphIndex=function(v){return this.cmap.glyphIndexMap[v.codePointAt(0)]||0},we.prototype.charToGlyphIndex=function(v){var b=v.codePointAt(0),j=this.encoding[b];return this.charset.indexOf(j)},Qe.prototype.nameToGlyphIndex=function(v){return this.names.indexOf(v)},Qe.prototype.glyphIndexToName=function(v){return this.names[v]};var lt={line:function(v,b,j,T,M){v.beginPath(),v.moveTo(b,j),v.lineTo(T,M),v.stroke()}};function ft(v){this.bindConstructorValues(v)}function vt(v,b,j){Object.defineProperty(v,b,{get:function(){return v.path,v[j]},set:function(T){v[j]=T},enumerable:!0,configurable:!0})}function pt(v,b){if(this.font=v,this.glyphs={},Array.isArray(b))for(var j=0;j<b.length;j++)this.glyphs[j]=b[j];this.length=b&&b.length||0}ft.prototype.bindConstructorValues=function(v){var b,j;this.index=v.index||0,this.name=v.name||null,this.unicode=v.unicode||void 0,this.unicodes=v.unicodes||v.unicode!==void 0?[v.unicode]:[],v.xMin&&(this.xMin=v.xMin),v.yMin&&(this.yMin=v.yMin),v.xMax&&(this.xMax=v.xMax),v.yMax&&(this.yMax=v.yMax),v.advanceWidth&&(this.advanceWidth=v.advanceWidth),Object.defineProperty(this,"path",(b=v.path,j=b||new me,{configurable:!0,get:function(){return typeof j=="function"&&(j=j()),j},set:function(T){j=T}}))},ft.prototype.addUnicode=function(v){this.unicodes.length===0&&(this.unicode=v),this.unicodes.push(v)},ft.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ft.prototype.getPath=function(v,b,j,T,M){var k,U;v=v!==void 0?v:0,b=b!==void 0?b:0,j=j!==void 0?j:72;var Y=(T=T||{}).xScale,Z=T.yScale;if(T.hinting&&M&&M.hinting&&(U=this.path&&M.hinting.exec(this,j)),U)k=M.hinting.getCommands(U),v=Math.round(v),b=Math.round(b),Y=Z=1;else{k=this.path.commands;var ce=1/this.path.unitsPerEm*j;Y===void 0&&(Y=ce),Z===void 0&&(Z=ce)}for(var ye=new me,Te=0;Te<k.length;Te+=1){var te=k[Te];te.type==="M"?ye.moveTo(v+te.x*Y,b+-te.y*Z):te.type==="L"?ye.lineTo(v+te.x*Y,b+-te.y*Z):te.type==="Q"?ye.quadraticCurveTo(v+te.x1*Y,b+-te.y1*Z,v+te.x*Y,b+-te.y*Z):te.type==="C"?ye.curveTo(v+te.x1*Y,b+-te.y1*Z,v+te.x2*Y,b+-te.y2*Z,v+te.x*Y,b+-te.y*Z):te.type==="Z"&&ye.closePath()}return ye},ft.prototype.getContours=function(){if(this.points===void 0)return[];for(var v=[],b=[],j=0;j<this.points.length;j+=1){var T=this.points[j];b.push(T),T.lastPointOfContour&&(v.push(b),b=[])}return ve.argument(b.length===0,"There are still points left in the current contour."),v},ft.prototype.getMetrics=function(){for(var v=this.path.commands,b=[],j=[],T=0;T<v.length;T+=1){var M=v[T];M.type!=="Z"&&(b.push(M.x),j.push(M.y)),M.type!=="Q"&&M.type!=="C"||(b.push(M.x1),j.push(M.y1)),M.type==="C"&&(b.push(M.x2),j.push(M.y2))}var k={xMin:Math.min.apply(null,b),yMin:Math.min.apply(null,j),xMax:Math.max.apply(null,b),yMax:Math.max.apply(null,j),leftSideBearing:this.leftSideBearing};return isFinite(k.xMin)||(k.xMin=0),isFinite(k.xMax)||(k.xMax=this.advanceWidth),isFinite(k.yMin)||(k.yMin=0),isFinite(k.yMax)||(k.yMax=0),k.rightSideBearing=this.advanceWidth-k.leftSideBearing-(k.xMax-k.xMin),k},ft.prototype.draw=function(v,b,j,T,M){this.getPath(b,j,T,M).draw(v)},ft.prototype.drawPoints=function(v,b,j,T){function M(Te,te,Ke,Xe){var Fe=2*Math.PI;v.beginPath();for(var Me=0;Me<Te.length;Me+=1)v.moveTo(te+Te[Me].x*Xe,Ke+Te[Me].y*Xe),v.arc(te+Te[Me].x*Xe,Ke+Te[Me].y*Xe,2,0,Fe,!1);v.closePath(),v.fill()}b=b!==void 0?b:0,j=j!==void 0?j:0,T=T!==void 0?T:24;for(var k=1/this.path.unitsPerEm*T,U=[],Y=[],Z=this.path,ce=0;ce<Z.commands.length;ce+=1){var ye=Z.commands[ce];ye.x!==void 0&&U.push({x:ye.x,y:-ye.y}),ye.x1!==void 0&&Y.push({x:ye.x1,y:-ye.y1}),ye.x2!==void 0&&Y.push({x:ye.x2,y:-ye.y2})}v.fillStyle="blue",M(U,b,j,k),v.fillStyle="red",M(Y,b,j,k)},ft.prototype.drawMetrics=function(v,b,j,T){var M;b=b!==void 0?b:0,j=j!==void 0?j:0,T=T!==void 0?T:24,M=1/this.path.unitsPerEm*T,v.lineWidth=1,v.strokeStyle="black",lt.line(v,b,-1e4,b,1e4),lt.line(v,-1e4,j,1e4,j);var k=this.xMin||0,U=this.yMin||0,Y=this.xMax||0,Z=this.yMax||0,ce=this.advanceWidth||0;v.strokeStyle="blue",lt.line(v,b+k*M,-1e4,b+k*M,1e4),lt.line(v,b+Y*M,-1e4,b+Y*M,1e4),lt.line(v,-1e4,j+-U*M,1e4,j+-U*M),lt.line(v,-1e4,j+-Z*M,1e4,j+-Z*M),v.strokeStyle="green",lt.line(v,b+ce*M,-1e4,b+ce*M,1e4)},pt.prototype.get=function(v){return typeof this.glyphs[v]=="function"&&(this.glyphs[v]=this.glyphs[v]()),this.glyphs[v]},pt.prototype.push=function(v,b){this.glyphs[v]=b,this.length++};var mt={GlyphSet:pt,glyphLoader:function(v,b){return new ft({index:b,font:v})},ttfGlyphLoader:function(v,b,j,T,M,k){return function(){var U=new ft({index:b,font:v});return U.path=function(){j(U,T,M);var Y=k(v.glyphs,U);return Y.unitsPerEm=v.unitsPerEm,Y},vt(U,"xMin","_xMin"),vt(U,"xMax","_xMax"),vt(U,"yMin","_yMin"),vt(U,"yMax","_yMax"),U}},cffGlyphLoader:function(v,b,j,T){return function(){var M=new ft({index:b,font:v});return M.path=function(){var k=j(v,M,T);return k.unitsPerEm=v.unitsPerEm,k},M}}};function At(v,b){if(v===b)return!0;if(Array.isArray(v)&&Array.isArray(b)){if(v.length!==b.length)return!1;for(var j=0;j<v.length;j+=1)if(!At(v[j],b[j]))return!1;return!0}return!1}function ln(v){return v.length<1240?107:v.length<33900?1131:32768}function jr(v,b,j){var T,M,k=[],U=[],Y=V.getCard16(v,b);if(Y!==0){var Z=V.getByte(v,b+2);T=b+(Y+1)*Z+2;for(var ce=b+3,ye=0;ye<Y+1;ye+=1)k.push(V.getOffset(v,ce,Z)),ce+=Z;M=T+k[Y]}else M=b+2;for(var Te=0;Te<k.length-1;Te+=1){var te=V.getBytes(v,T+k[Te],T+k[Te+1]);j&&(te=j(te)),U.push(te)}return{objects:U,startOffset:b,endOffset:M}}function no(v,b){if(b===28)return v.parseByte()<<8|v.parseByte();if(b===29)return v.parseByte()<<24|v.parseByte()<<16|v.parseByte()<<8|v.parseByte();if(b===30)return function(j){for(var T="",M=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var k=j.parseByte(),U=k>>4,Y=15&k;if(U==15||(T+=M[U],Y==15))break;T+=M[Y]}return parseFloat(T)}(v);if(32<=b&&b<=246)return b-139;if(247<=b&&b<=250)return 256*(b-247)+v.parseByte()+108;if(251<=b&&b<=254)return 256*-(b-251)-v.parseByte()-108;throw new Error("Invalid b0 "+b)}function jn(v,b,j){b=b!==void 0?b:0;var T=new V.Parser(v,b),M=[],k=[];for(j=j!==void 0?j:v.length;T.relativeOffset<j;){var U=T.parseByte();U<=21?(U===12&&(U=1200+T.parseByte()),M.push([U,k]),k=[]):k.push(no(T,U))}return function(Y){for(var Z={},ce=0;ce<Y.length;ce+=1){var ye=Y[ce][0],Te=Y[ce][1],te=void 0;if(te=Te.length===1?Te[0]:Te,Z.hasOwnProperty(ye)&&!isNaN(Z[ye]))throw new Error("Object "+Z+" already has key "+ye);Z[ye]=te}return Z}(M)}function un(v,b){return b=b<=390?q[b]:v[b-391]}function oo(v,b,j){for(var T,M={},k=0;k<b.length;k+=1){var U=b[k];if(Array.isArray(U.type)){var Y=[];Y.length=U.type.length;for(var Z=0;Z<U.type.length;Z++)(T=v[U.op]!==void 0?v[U.op][Z]:void 0)===void 0&&(T=U.value!==void 0&&U.value[Z]!==void 0?U.value[Z]:null),U.type[Z]==="SID"&&(T=un(j,T)),Y[Z]=T;M[U.name]=Y}else(T=v[U.op])===void 0&&(T=U.value!==void 0?U.value:null),U.type==="SID"&&(T=un(j,T)),M[U.name]=T}return M}var so=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],io=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function ao(v,b,j,T){return oo(jn(v,b,j),io,T)}function lo(v,b,j,T){for(var M,k,U=[],Y=0;Y<j.length;Y+=1){var Z=new DataView(new Uint8Array(j[Y]).buffer),ce=(k=T,oo(jn(M=Z,0,M.byteLength),so,k));ce._subrs=[],ce._subrsBias=0;var ye=ce.private[0],Te=ce.private[1];if(ye!==0&&Te!==0){var te=ao(v,Te+b,ye,T);if(ce._defaultWidthX=te.defaultWidthX,ce._nominalWidthX=te.nominalWidthX,te.subrs!==0){var Ke=jr(v,Te+te.subrs+b);ce._subrs=Ke.objects,ce._subrsBias=ln(ce._subrs)}ce._privateDict=te}U.push(ce)}return U}function Co(v,b,j){var T,M,k,U,Y,Z,ce,ye,Te=new me,te=[],Ke=0,Xe=!1,Fe=!1,Me=0,Ie=0;if(v.isCIDFont){var it=v.tables.cff.topDict._fdSelect[b.index],st=v.tables.cff.topDict._fdArray[it];Y=st._subrs,Z=st._subrsBias,ce=st._defaultWidthX,ye=st._nominalWidthX}else Y=v.tables.cff.topDict._subrs,Z=v.tables.cff.topDict._subrsBias,ce=v.tables.cff.topDict._defaultWidthX,ye=v.tables.cff.topDict._nominalWidthX;var St=ce;function ct(Zt,Et){Fe&&Te.closePath(),Te.moveTo(Zt,Et),Fe=!0}function ht(){te.length%2==0||Xe||(St=te.shift()+ye),Ke+=te.length>>1,te.length=0,Xe=!0}return function Zt(Et){for(var jt,Ct,Nt,Dt,$t,Ft,It,Kt,Vt,rr,Rt,nr,zt=0;zt<Et.length;){var qt=Et[zt];switch(zt+=1,qt){case 1:case 3:ht();break;case 4:1<te.length&&!Xe&&(St=te.shift()+ye,Xe=!0),Ie+=te.pop(),ct(Me,Ie);break;case 5:for(;0<te.length;)Me+=te.shift(),Ie+=te.shift(),Te.lineTo(Me,Ie);break;case 6:for(;0<te.length&&(Me+=te.shift(),Te.lineTo(Me,Ie),te.length!==0);)Ie+=te.shift(),Te.lineTo(Me,Ie);break;case 7:for(;0<te.length&&(Ie+=te.shift(),Te.lineTo(Me,Ie),te.length!==0);)Me+=te.shift(),Te.lineTo(Me,Ie);break;case 8:for(;0<te.length;)T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),U=M+te.shift(),Me=k+te.shift(),Ie=U+te.shift(),Te.curveTo(T,M,k,U,Me,Ie);break;case 10:$t=te.pop()+Z,(Ft=Y[$t])&&Zt(Ft);break;case 11:return;case 12:switch(qt=Et[zt],zt+=1,qt){case 35:T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),U=M+te.shift(),It=k+te.shift(),Kt=U+te.shift(),Vt=It+te.shift(),rr=Kt+te.shift(),Rt=Vt+te.shift(),nr=rr+te.shift(),Me=Rt+te.shift(),Ie=nr+te.shift(),te.shift(),Te.curveTo(T,M,k,U,It,Kt),Te.curveTo(Vt,rr,Rt,nr,Me,Ie);break;case 34:T=Me+te.shift(),M=Ie,k=T+te.shift(),U=M+te.shift(),It=k+te.shift(),Kt=U,Vt=It+te.shift(),rr=U,Rt=Vt+te.shift(),nr=Ie,Me=Rt+te.shift(),Te.curveTo(T,M,k,U,It,Kt),Te.curveTo(Vt,rr,Rt,nr,Me,Ie);break;case 36:T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),U=M+te.shift(),It=k+te.shift(),Kt=U,Vt=It+te.shift(),rr=U,Rt=Vt+te.shift(),nr=rr+te.shift(),Me=Rt+te.shift(),Te.curveTo(T,M,k,U,It,Kt),Te.curveTo(Vt,rr,Rt,nr,Me,Ie);break;case 37:T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),U=M+te.shift(),It=k+te.shift(),Kt=U+te.shift(),Vt=It+te.shift(),rr=Kt+te.shift(),Rt=Vt+te.shift(),nr=rr+te.shift(),Math.abs(Rt-Me)>Math.abs(nr-Ie)?Me=Rt+te.shift():Ie=nr+te.shift(),Te.curveTo(T,M,k,U,It,Kt),Te.curveTo(Vt,rr,Rt,nr,Me,Ie);break;default:console.log("Glyph "+b.index+": unknown operator 1200"+qt),te.length=0}break;case 14:0<te.length&&!Xe&&(St=te.shift()+ye,Xe=!0),Fe&&(Te.closePath(),Fe=!1);break;case 18:ht();break;case 19:case 20:ht(),zt+=Ke+7>>3;break;case 21:2<te.length&&!Xe&&(St=te.shift()+ye,Xe=!0),Ie+=te.pop(),ct(Me+=te.pop(),Ie);break;case 22:1<te.length&&!Xe&&(St=te.shift()+ye,Xe=!0),ct(Me+=te.pop(),Ie);break;case 23:ht();break;case 24:for(;2<te.length;)T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),U=M+te.shift(),Me=k+te.shift(),Ie=U+te.shift(),Te.curveTo(T,M,k,U,Me,Ie);Me+=te.shift(),Ie+=te.shift(),Te.lineTo(Me,Ie);break;case 25:for(;6<te.length;)Me+=te.shift(),Ie+=te.shift(),Te.lineTo(Me,Ie);T=Me+te.shift(),M=Ie+te.shift(),k=T+te.shift(),U=M+te.shift(),Me=k+te.shift(),Ie=U+te.shift(),Te.curveTo(T,M,k,U,Me,Ie);break;case 26:for(te.length%2&&(Me+=te.shift());0<te.length;)T=Me,M=Ie+te.shift(),k=T+te.shift(),U=M+te.shift(),Me=k,Ie=U+te.shift(),Te.curveTo(T,M,k,U,Me,Ie);break;case 27:for(te.length%2&&(Ie+=te.shift());0<te.length;)T=Me+te.shift(),M=Ie,k=T+te.shift(),U=M+te.shift(),Me=k+te.shift(),Ie=U,Te.curveTo(T,M,k,U,Me,Ie);break;case 28:jt=Et[zt],Ct=Et[zt+1],te.push((jt<<24|Ct<<16)>>16),zt+=2;break;case 29:$t=te.pop()+v.gsubrsBias,(Ft=v.gsubrs[$t])&&Zt(Ft);break;case 30:for(;0<te.length&&(T=Me,M=Ie+te.shift(),k=T+te.shift(),U=M+te.shift(),Me=k+te.shift(),Ie=U+(te.length===1?te.shift():0),Te.curveTo(T,M,k,U,Me,Ie),te.length!==0);)T=Me+te.shift(),M=Ie,k=T+te.shift(),U=M+te.shift(),Ie=U+te.shift(),Me=k+(te.length===1?te.shift():0),Te.curveTo(T,M,k,U,Me,Ie);break;case 31:for(;0<te.length&&(T=Me+te.shift(),M=Ie,k=T+te.shift(),U=M+te.shift(),Ie=U+te.shift(),Me=k+(te.length===1?te.shift():0),Te.curveTo(T,M,k,U,Me,Ie),te.length!==0);)T=Me,M=Ie+te.shift(),k=T+te.shift(),U=M+te.shift(),Me=k+te.shift(),Ie=U+(te.length===1?te.shift():0),Te.curveTo(T,M,k,U,Me,Ie);break;default:qt<32?console.log("Glyph "+b.index+": unknown operator "+qt):qt<247?te.push(qt-139):qt<251?(jt=Et[zt],zt+=1,te.push(256*(qt-247)+jt+108)):qt<255?(jt=Et[zt],zt+=1,te.push(256*-(qt-251)-jt-108)):(jt=Et[zt],Ct=Et[zt+1],Nt=Et[zt+2],Dt=Et[zt+3],zt+=4,te.push((jt<<24|Ct<<16|Nt<<8|Dt)/65536))}}}(j),b.advanceWidth=St,Te}function Fn(v,b){var j,T=q.indexOf(v);return 0<=T&&(j=T),0<=(T=b.indexOf(v))?j=T+q.length:(j=q.length+b.length,b.push(v)),j}function Un(v,b,j){for(var T={},M=0;M<v.length;M+=1){var k=v[M],U=b[k.name];U===void 0||At(U,k.value)||(k.type==="SID"&&(U=Fn(U,j)),T[k.op]={name:k.name,type:k.type,value:U})}return T}function fe(v,b){var j=new Le.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return j.dict=Un(so,v,b),j}function Ve(v){var b=new Le.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return b.topDicts=[{name:"topDict_0",type:"TABLE",value:v}],b}function Je(v){var b=[],j=v.path;b.push({name:"width",type:"NUMBER",value:v.advanceWidth});for(var T=0,M=0,k=0;k<j.commands.length;k+=1){var U=void 0,Y=void 0,Z=j.commands[k];if(Z.type==="Q"&&(Z={type:"C",x:Z.x,y:Z.y,x1:1/3*T+2/3*Z.x1,y1:1/3*M+2/3*Z.y1,x2:1/3*Z.x+2/3*Z.x1,y2:1/3*Z.y+2/3*Z.y1}),Z.type==="M")U=Math.round(Z.x-T),Y=Math.round(Z.y-M),b.push({name:"dx",type:"NUMBER",value:U}),b.push({name:"dy",type:"NUMBER",value:Y}),b.push({name:"rmoveto",type:"OP",value:21}),T=Math.round(Z.x),M=Math.round(Z.y);else if(Z.type==="L")U=Math.round(Z.x-T),Y=Math.round(Z.y-M),b.push({name:"dx",type:"NUMBER",value:U}),b.push({name:"dy",type:"NUMBER",value:Y}),b.push({name:"rlineto",type:"OP",value:5}),T=Math.round(Z.x),M=Math.round(Z.y);else if(Z.type==="C"){var ce=Math.round(Z.x1-T),ye=Math.round(Z.y1-M),Te=Math.round(Z.x2-Z.x1),te=Math.round(Z.y2-Z.y1);U=Math.round(Z.x-Z.x2),Y=Math.round(Z.y-Z.y2),b.push({name:"dx1",type:"NUMBER",value:ce}),b.push({name:"dy1",type:"NUMBER",value:ye}),b.push({name:"dx2",type:"NUMBER",value:Te}),b.push({name:"dy2",type:"NUMBER",value:te}),b.push({name:"dx",type:"NUMBER",value:U}),b.push({name:"dy",type:"NUMBER",value:Y}),b.push({name:"rrcurveto",type:"OP",value:8}),T=Math.round(Z.x),M=Math.round(Z.y)}}return b.push({name:"endchar",type:"OP",value:14}),b}var Ye={parse:function(v,b,j){j.tables.cff={};var T,M,k,U=jr(v,(T=v,M=b,(k={}).formatMajor=V.getCard8(T,M),k.formatMinor=V.getCard8(T,M+1),k.size=V.getCard8(T,M+2),k.offsetSize=V.getCard8(T,M+3),k.startOffset=M,k.endOffset=M+4,k).endOffset,V.bytesToString),Y=jr(v,U.endOffset),Z=jr(v,Y.endOffset,V.bytesToString),ce=jr(v,Z.endOffset);j.gsubrs=ce.objects,j.gsubrsBias=ln(j.gsubrs);var ye=lo(v,b,Y.objects,Z.objects);if(ye.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ye.length);var Te=ye[0];if((j.tables.cff.topDict=Te)._privateDict&&(j.defaultWidthX=Te._privateDict.defaultWidthX,j.nominalWidthX=Te._privateDict.nominalWidthX),Te.ros[0]!==void 0&&Te.ros[1]!==void 0&&(j.isCIDFont=!0),j.isCIDFont){var te=Te.fdArray,Ke=Te.fdSelect;if(te===0||Ke===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var Xe=lo(v,b,jr(v,te+=b).objects,Z.objects);Te._fdArray=Xe,Ke+=b,Te._fdSelect=function(ht,Zt,Et,jt){var Ct,Nt=[],Dt=new V.Parser(ht,Zt),$t=Dt.parseCard8();if($t===0)for(var Ft=0;Ft<Et;Ft++){if(jt<=(Ct=Dt.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ct+" (FD count "+jt+")");Nt.push(Ct)}else{if($t!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+$t);var It,Kt=Dt.parseCard16(),Vt=Dt.parseCard16();if(Vt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Vt);for(var rr=0;rr<Kt;rr++){if(Ct=Dt.parseCard8(),It=Dt.parseCard16(),jt<=Ct)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ct+" (FD count "+jt+")");if(Et<It)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+It);for(;Vt<It;Vt++)Nt.push(Ct);Vt=It}if(It!==Et)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+It)}return Nt}(v,Ke,j.numGlyphs,Xe.length)}var Fe=b+Te.private[1],Me=ao(v,Fe,Te.private[0],Z.objects);if(j.defaultWidthX=Me.defaultWidthX,j.nominalWidthX=Me.nominalWidthX,Me.subrs!==0){var Ie=jr(v,Fe+Me.subrs);j.subrs=Ie.objects,j.subrsBias=ln(j.subrs)}else j.subrs=[],j.subrsBias=0;var it=jr(v,b+Te.charStrings);j.nGlyphs=it.objects.length;var st=function(ht,Zt,Et,jt){var Ct,Nt,Dt=new V.Parser(ht,Zt);--Et;var $t=[".notdef"],Ft=Dt.parseCard8();if(Ft===0)for(var It=0;It<Et;It+=1)Ct=Dt.parseSID(),$t.push(un(jt,Ct));else if(Ft===1)for(;$t.length<=Et;){Ct=Dt.parseSID(),Nt=Dt.parseCard8();for(var Kt=0;Kt<=Nt;Kt+=1)$t.push(un(jt,Ct)),Ct+=1}else{if(Ft!==2)throw new Error("Unknown charset format "+Ft);for(;$t.length<=Et;){Ct=Dt.parseSID(),Nt=Dt.parseCard16();for(var Vt=0;Vt<=Nt;Vt+=1)$t.push(un(jt,Ct)),Ct+=1}}return $t}(v,b+Te.charset,j.nGlyphs,Z.objects);Te.encoding===0?j.cffEncoding=new we(K,st):Te.encoding===1?j.cffEncoding=new we(de,st):j.cffEncoding=function(ht,Zt,Et){var jt,Ct={},Nt=new V.Parser(ht,Zt),Dt=Nt.parseCard8();if(Dt===0)for(var $t=Nt.parseCard8(),Ft=0;Ft<$t;Ft+=1)Ct[jt=Nt.parseCard8()]=Ft;else{if(Dt!==1)throw new Error("Unknown encoding format "+Dt);var It=Nt.parseCard8();jt=1;for(var Kt=0;Kt<It;Kt+=1)for(var Vt=Nt.parseCard8(),rr=Nt.parseCard8(),Rt=Vt;Rt<=Vt+rr;Rt+=1)Ct[Rt]=jt,jt+=1}return new we(Ct,Et)}(v,b+Te.encoding,st),j.encoding=j.encoding||j.cffEncoding,j.glyphs=new mt.GlyphSet(j);for(var St=0;St<j.nGlyphs;St+=1){var ct=it.objects[St];j.glyphs.push(St,mt.cffGlyphLoader(j,St,Co,ct))}},make:function(v,b){for(var j,T=new Le.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),M=1/b.unitsPerEm,k={version:b.version,fullName:b.fullName,familyName:b.familyName,weight:b.weightName,fontBBox:b.fontBBox||[0,0,0,0],fontMatrix:[M,0,0,M,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},U=[],Y=1;Y<v.length;Y+=1)j=v.get(Y),U.push(j.name);var Z=[];T.header=new Le.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),T.nameIndex=function(Xe){var Fe=new Le.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Fe.names=[];for(var Me=0;Me<Xe.length;Me+=1)Fe.names.push({name:"name_"+Me,type:"NAME",value:Xe[Me]});return Fe}([b.postScriptName]);var ce,ye,Te,te=fe(k,Z);T.topDictIndex=Ve(te),T.globalSubrIndex=new Le.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),T.charsets=function(Xe,Fe){for(var Me=new Le.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ie=0;Ie<Xe.length;Ie+=1){var it=Fn(Xe[Ie],Fe);Me.fields.push({name:"glyph_"+Ie,type:"SID",value:it})}return Me}(U,Z),T.charStringsIndex=function(Xe){for(var Fe=new Le.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Me=0;Me<Xe.length;Me+=1){var Ie=Xe.get(Me),it=Je(Ie);Fe.charStrings.push({name:Ie.name,type:"CHARSTRING",value:it})}return Fe}(v),T.privateDict=(ce={},ye=Z,(Te=new Le.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Un(io,ce,ye),Te),T.stringIndex=function(Xe){var Fe=new Le.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Fe.strings=[];for(var Me=0;Me<Xe.length;Me+=1)Fe.strings.push({name:"string_"+Me,type:"STRING",value:Xe[Me]});return Fe}(Z);var Ke=T.header.sizeOf()+T.nameIndex.sizeOf()+T.topDictIndex.sizeOf()+T.stringIndex.sizeOf()+T.globalSubrIndex.sizeOf();return k.charset=Ke,k.encoding=0,k.charStrings=k.charset+T.charsets.sizeOf(),k.private[1]=k.charStrings+T.charStringsIndex.sizeOf(),te=fe(k,Z),T.topDictIndex=Ve(te),T}},ot={parse:function(v,b){var j={},T=new V.Parser(v,b);return j.version=T.parseVersion(),j.fontRevision=Math.round(1e3*T.parseFixed())/1e3,j.checkSumAdjustment=T.parseULong(),j.magicNumber=T.parseULong(),ve.argument(j.magicNumber===1594834165,"Font header has wrong magic number."),j.flags=T.parseUShort(),j.unitsPerEm=T.parseUShort(),j.created=T.parseLongDateTime(),j.modified=T.parseLongDateTime(),j.xMin=T.parseShort(),j.yMin=T.parseShort(),j.xMax=T.parseShort(),j.yMax=T.parseShort(),j.macStyle=T.parseUShort(),j.lowestRecPPEM=T.parseUShort(),j.fontDirectionHint=T.parseShort(),j.indexToLocFormat=T.parseShort(),j.glyphDataFormat=T.parseShort(),j},make:function(v){var b=Math.round(new Date().getTime()/1e3)+2082844800,j=b;return v.createdTimestamp&&(j=v.createdTimestamp+2082844800),new Le.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:j},{name:"modified",type:"LONGDATETIME",value:b},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],v)}},Ge={parse:function(v,b){var j={},T=new V.Parser(v,b);return j.version=T.parseVersion(),j.ascender=T.parseShort(),j.descender=T.parseShort(),j.lineGap=T.parseShort(),j.advanceWidthMax=T.parseUShort(),j.minLeftSideBearing=T.parseShort(),j.minRightSideBearing=T.parseShort(),j.xMaxExtent=T.parseShort(),j.caretSlopeRise=T.parseShort(),j.caretSlopeRun=T.parseShort(),j.caretOffset=T.parseShort(),T.relativeOffset+=8,j.metricDataFormat=T.parseShort(),j.numberOfHMetrics=T.parseUShort(),j},make:function(v){return new Le.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],v)}},Tt={parse:function(v,b,j,T,M){for(var k,U,Y=new V.Parser(v,b),Z=0;Z<T;Z+=1){Z<j&&(k=Y.parseUShort(),U=Y.parseShort());var ce=M.get(Z);ce.advanceWidth=k,ce.leftSideBearing=U}},make:function(v){for(var b=new Le.Table("hmtx",[]),j=0;j<v.length;j+=1){var T=v.get(j),M=T.advanceWidth||0,k=T.leftSideBearing||0;b.fields.push({name:"advanceWidth_"+j,type:"USHORT",value:M}),b.fields.push({name:"leftSideBearing_"+j,type:"SHORT",value:k})}return b}},Ot={make:function(v){for(var b=new Le.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:v.length}]),j="",T=12+4*v.length,M=0;M<v.length;++M){var k=j.indexOf(v[M]);k<0&&(k=j.length,j+=v[M]),b.fields.push({name:"offset "+M,type:"USHORT",value:T+k}),b.fields.push({name:"length "+M,type:"USHORT",value:v[M].length})}return b.fields.push({name:"stringPool",type:"CHARARRAY",value:j}),b},parse:function(v,b){var j=new V.Parser(v,b),T=j.parseULong();ve.argument(T===1,"Unsupported ltag table version."),j.skip("uLong",1);for(var M=j.parseULong(),k=[],U=0;U<M;U++){for(var Y="",Z=b+j.parseUShort(),ce=j.parseUShort(),ye=Z;ye<Z+ce;++ye)Y+=String.fromCharCode(v.getInt8(ye));k.push(Y)}return k}},Bt={parse:function(v,b){var j={},T=new V.Parser(v,b);return j.version=T.parseVersion(),j.numGlyphs=T.parseUShort(),j.version===1&&(j.maxPoints=T.parseUShort(),j.maxContours=T.parseUShort(),j.maxCompositePoints=T.parseUShort(),j.maxCompositeContours=T.parseUShort(),j.maxZones=T.parseUShort(),j.maxTwilightPoints=T.parseUShort(),j.maxStorage=T.parseUShort(),j.maxFunctionDefs=T.parseUShort(),j.maxInstructionDefs=T.parseUShort(),j.maxStackElements=T.parseUShort(),j.maxSizeOfInstructions=T.parseUShort(),j.maxComponentElements=T.parseUShort(),j.maxComponentDepth=T.parseUShort()),j},make:function(v){return new Le.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:v}])}},xt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],tt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Xt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},dt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function as(v,b,j){switch(v){case 0:if(b===65535)return"und";if(j)return j[b];break;case 1:return tt[b];case 3:return dt[b]}}var uo="utf-16",ls={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},us={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function cs(v,b,j){switch(v){case 0:return uo;case 1:return us[j]||ls[b];case 3:if(b===1||b===10)return uo}}function Mo(v){var b={};for(var j in v)b[v[j]]=parseInt(j);return b}function Ao(v,b,j,T,M,k){return new Le.Record("NameRecord",[{name:"platformID",type:"USHORT",value:v},{name:"encodingID",type:"USHORT",value:b},{name:"languageID",type:"USHORT",value:j},{name:"nameID",type:"USHORT",value:T},{name:"length",type:"USHORT",value:M},{name:"offset",type:"USHORT",value:k}])}function zl(v,b){var j=function(k,U){var Y=k.length,Z=U.length-Y+1;e:for(var ce=0;ce<Z;ce++)for(;ce<Z;ce++){for(var ye=0;ye<Y;ye++)if(U[ce+ye]!==k[ye])continue e;return ce}return-1}(v,b);if(j<0){j=b.length;for(var T=0,M=v.length;T<M;++T)b.push(v[T])}return j}var ql={parse:function(v,b,j){for(var T={},M=new V.Parser(v,b),k=M.parseUShort(),U=M.parseUShort(),Y=M.offset+M.parseUShort(),Z=0;Z<U;Z++){var ce=M.parseUShort(),ye=M.parseUShort(),Te=M.parseUShort(),te=M.parseUShort(),Ke=xt[te]||te,Xe=M.parseUShort(),Fe=M.parseUShort(),Me=as(ce,Te,j),Ie=cs(ce,ye,Te);if(Ie!==void 0&&Me!==void 0){var it=void 0;if(it=Ie===uo?De.UTF16(v,Y+Fe,Xe):De.MACSTRING(v,Y+Fe,Xe,Ie)){var st=T[Ke];st===void 0&&(st=T[Ke]={}),st[Me]=it}}}return k===1&&M.parseUShort(),T},make:function(v,b){var j,T=[],M={},k=Mo(xt);for(var U in v){var Y=k[U];if(Y===void 0&&(Y=U),j=parseInt(Y),isNaN(j))throw new Error('Name table entry "'+U+'" does not exist, see nameTableNames for complete list.');M[j]=v[U],T.push(j)}for(var Z=Mo(tt),ce=Mo(dt),ye=[],Te=[],te=0;te<T.length;te++){var Ke=M[j=T[te]];for(var Xe in Ke){var Fe=Ke[Xe],Me=1,Ie=Z[Xe],it=Xt[Ie],st=cs(Me,it,Ie),St=_e.MACSTRING(Fe,st);St===void 0&&(Me=0,(Ie=b.indexOf(Xe))<0&&(Ie=b.length,b.push(Xe)),it=4,St=_e.UTF16(Fe));var ct=zl(St,Te);ye.push(Ao(Me,it,Ie,j,St.length,ct));var ht=ce[Xe];if(ht!==void 0){var Zt=_e.UTF16(Fe),Et=zl(Zt,Te);ye.push(Ao(3,1,ht,j,Zt.length,Et))}}}ye.sort(function(Nt,Dt){return Nt.platformID-Dt.platformID||Nt.encodingID-Dt.encodingID||Nt.languageID-Dt.languageID||Nt.nameID-Dt.nameID});for(var jt=new Le.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:ye.length},{name:"stringOffset",type:"USHORT",value:6+12*ye.length}]),Ct=0;Ct<ye.length;Ct++)jt.fields.push({name:"record_"+Ct,type:"RECORD",value:ye[Ct]});return jt.fields.push({name:"strings",type:"LITERAL",value:Te}),jt}},qi=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Yi={parse:function(v,b){var j={},T=new V.Parser(v,b);j.version=T.parseUShort(),j.xAvgCharWidth=T.parseShort(),j.usWeightClass=T.parseUShort(),j.usWidthClass=T.parseUShort(),j.fsType=T.parseUShort(),j.ySubscriptXSize=T.parseShort(),j.ySubscriptYSize=T.parseShort(),j.ySubscriptXOffset=T.parseShort(),j.ySubscriptYOffset=T.parseShort(),j.ySuperscriptXSize=T.parseShort(),j.ySuperscriptYSize=T.parseShort(),j.ySuperscriptXOffset=T.parseShort(),j.ySuperscriptYOffset=T.parseShort(),j.yStrikeoutSize=T.parseShort(),j.yStrikeoutPosition=T.parseShort(),j.sFamilyClass=T.parseShort(),j.panose=[];for(var M=0;M<10;M++)j.panose[M]=T.parseByte();return j.ulUnicodeRange1=T.parseULong(),j.ulUnicodeRange2=T.parseULong(),j.ulUnicodeRange3=T.parseULong(),j.ulUnicodeRange4=T.parseULong(),j.achVendID=String.fromCharCode(T.parseByte(),T.parseByte(),T.parseByte(),T.parseByte()),j.fsSelection=T.parseUShort(),j.usFirstCharIndex=T.parseUShort(),j.usLastCharIndex=T.parseUShort(),j.sTypoAscender=T.parseShort(),j.sTypoDescender=T.parseShort(),j.sTypoLineGap=T.parseShort(),j.usWinAscent=T.parseUShort(),j.usWinDescent=T.parseUShort(),1<=j.version&&(j.ulCodePageRange1=T.parseULong(),j.ulCodePageRange2=T.parseULong()),2<=j.version&&(j.sxHeight=T.parseShort(),j.sCapHeight=T.parseShort(),j.usDefaultChar=T.parseUShort(),j.usBreakChar=T.parseUShort(),j.usMaxContent=T.parseUShort()),j},make:function(v){return new Le.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],v)},unicodeRanges:qi,getUnicodeRange:function(v){for(var b=0;b<qi.length;b+=1){var j=qi[b];if(v>=j.begin&&v<j.end)return b}return-1}},Yl={parse:function(v,b){var j={},T=new V.Parser(v,b);switch(j.version=T.parseVersion(),j.italicAngle=T.parseFixed(),j.underlinePosition=T.parseShort(),j.underlineThickness=T.parseShort(),j.isFixedPitch=T.parseULong(),j.minMemType42=T.parseULong(),j.maxMemType42=T.parseULong(),j.minMemType1=T.parseULong(),j.maxMemType1=T.parseULong(),j.version){case 1:j.names=Ee.slice();break;case 2:j.numberOfGlyphs=T.parseUShort(),j.glyphNameIndex=new Array(j.numberOfGlyphs);for(var M=0;M<j.numberOfGlyphs;M++)j.glyphNameIndex[M]=T.parseUShort();j.names=[];for(var k=0;k<j.numberOfGlyphs;k++)if(j.glyphNameIndex[k]>=Ee.length){var U=T.parseChar();j.names.push(T.parseString(U))}break;case 2.5:j.numberOfGlyphs=T.parseUShort(),j.offset=new Array(j.numberOfGlyphs);for(var Y=0;Y<j.numberOfGlyphs;Y++)j.offset[Y]=T.parseChar()}return j},make:function(){return new Le.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Yr=new Array(9);Yr[1]=function(){var v=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{substFormat:1,coverage:this.parsePointer(be.coverage),deltaGlyphId:this.parseUShort()}:b===2?{substFormat:2,coverage:this.parsePointer(be.coverage),substitute:this.parseOffset16List()}:void ve.assert(!1,"0x"+v.toString(16)+": lookup type 1 format must be 1 or 2.")},Yr[2]=function(){var v=this.parseUShort();return ve.argument(v===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(be.coverage),sequences:this.parseListOfLists()}},Yr[3]=function(){var v=this.parseUShort();return ve.argument(v===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(be.coverage),alternateSets:this.parseListOfLists()}},Yr[4]=function(){var v=this.parseUShort();return ve.argument(v===1,"GSUB ligature table identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(be.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Ro={sequenceIndex:be.uShort,lookupListIndex:be.uShort};Yr[5]=function(){var v=this.offset+this.relativeOffset,b=this.parseUShort();if(b===1)return{substFormat:b,coverage:this.parsePointer(be.coverage),ruleSets:this.parseListOfLists(function(){var M=this.parseUShort(),k=this.parseUShort();return{input:this.parseUShortList(M-1),lookupRecords:this.parseRecordList(k,Ro)}})};if(b===2)return{substFormat:b,coverage:this.parsePointer(be.coverage),classDef:this.parsePointer(be.classDef),classSets:this.parseListOfLists(function(){var M=this.parseUShort(),k=this.parseUShort();return{classes:this.parseUShortList(M-1),lookupRecords:this.parseRecordList(k,Ro)}})};if(b===3){var j=this.parseUShort(),T=this.parseUShort();return{substFormat:b,coverages:this.parseList(j,be.pointer(be.coverage)),lookupRecords:this.parseRecordList(T,Ro)}}ve.assert(!1,"0x"+v.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Yr[6]=function(){var v=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{substFormat:1,coverage:this.parsePointer(be.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ro)}})}:b===2?{substFormat:2,coverage:this.parsePointer(be.coverage),backtrackClassDef:this.parsePointer(be.classDef),inputClassDef:this.parsePointer(be.classDef),lookaheadClassDef:this.parsePointer(be.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ro)}})}:b===3?{substFormat:3,backtrackCoverage:this.parseList(be.pointer(be.coverage)),inputCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),lookupRecords:this.parseRecordList(Ro)}:void ve.assert(!1,"0x"+v.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Yr[7]=function(){var v=this.parseUShort();ve.argument(v===1,"GSUB Extension Substitution subtable identifier-format must be 1");var b=this.parseUShort(),j=new be(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:b,extension:Yr[b].call(j)}},Yr[8]=function(){var v=this.parseUShort();return ve.argument(v===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:v,coverage:this.parsePointer(be.coverage),backtrackCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),substitutes:this.parseUShortList()}};var Ns=new Array(9);Ns[1]=function(v){return v.substFormat===1?new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(v.coverage)},{name:"deltaGlyphID",type:"USHORT",value:v.deltaGlyphId}]):new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Le.Coverage(v.coverage)}].concat(Le.ushortList("substitute",v.substitute)))},Ns[3]=function(v){return ve.assert(v.substFormat===1,"Lookup type 3 substFormat must be 1."),new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(v.coverage)}].concat(Le.tableList("altSet",v.alternateSets,function(b){return new Le.Table("alternateSetTable",Le.ushortList("alternate",b))})))},Ns[4]=function(v){return ve.assert(v.substFormat===1,"Lookup type 4 substFormat must be 1."),new Le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Le.Coverage(v.coverage)}].concat(Le.tableList("ligSet",v.ligatureSets,function(b){return new Le.Table("ligatureSetTable",Le.tableList("ligature",b,function(j){return new Le.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:j.ligGlyph}].concat(Le.ushortList("component",j.components,j.components.length+1)))}))})))};var Xl={parse:function(v,b){var j=new be(v,b=b||0),T=j.parseVersion(1);return ve.argument(T===1||T===1.1,"Unsupported GSUB table version."),T===1?{version:T,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(Yr)}:{version:T,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(Yr),variations:j.parseFeatureVariationsList()}},make:function(v){return new Le.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Le.ScriptList(v.scripts)},{name:"features",type:"TABLE",value:new Le.FeatureList(v.features)},{name:"lookups",type:"TABLE",value:new Le.LookupList(v.lookups,Ns)}])}},$l={parse:function(v,b){var j=new V.Parser(v,b),T=j.parseULong();ve.argument(T===1,"Unsupported META table version."),j.parseULong(),j.parseULong();for(var M=j.parseULong(),k={},U=0;U<M;U++){var Y=j.parseTag(),Z=j.parseULong(),ce=j.parseULong(),ye=De.UTF8(v,b+Z,ce);k[Y]=ye}return k},make:function(v){var b=Object.keys(v).length,j="",T=16+12*b,M=new Le.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:T},{name:"numTags",type:"ULONG",value:b}]);for(var k in v){var U=j.length;j+=v[k],M.fields.push({name:"tag "+k,type:"TAG",value:k}),M.fields.push({name:"offset "+k,type:"ULONG",value:T+U}),M.fields.push({name:"length "+k,type:"ULONG",value:v[k].length})}return M.fields.push({name:"stringPool",type:"CHARARRAY",value:j}),M}};function Kl(v){return Math.log(v)/Math.log(2)|0}function Xi(v){for(;v.length%4!=0;)v.push(0);for(var b=0,j=0;j<v.length;j+=4)b+=(v[j]<<24)+(v[j+1]<<16)+(v[j+2]<<8)+v[j+3];return b%=Math.pow(2,32)}function Ql(v,b,j,T){return new Le.Record("Table Record",[{name:"tag",type:"TAG",value:v!==void 0?v:""},{name:"checkSum",type:"ULONG",value:b!==void 0?b:0},{name:"offset",type:"ULONG",value:j!==void 0?j:0},{name:"length",type:"ULONG",value:T!==void 0?T:0}])}function Zl(v){var b=new Le.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);b.tables=v,b.numTables=v.length;var j=Math.pow(2,Kl(b.numTables));b.searchRange=16*j,b.entrySelector=Kl(j),b.rangeShift=16*b.numTables-b.searchRange;for(var T=[],M=[],k=b.sizeOf()+Ql().sizeOf()*b.numTables;k%4!=0;)k+=1,M.push({name:"padding",type:"BYTE",value:0});for(var U=0;U<v.length;U+=1){var Y=v[U];ve.argument(Y.tableName.length===4,"Table name"+Y.tableName+" is invalid.");var Z=Y.sizeOf(),ce=Ql(Y.tableName,Xi(Y.encode()),k,Z);for(T.push({name:ce.tag+" Table Record",type:"RECORD",value:ce}),M.push({name:Y.tableName+" table",type:"RECORD",value:Y}),k+=Z,ve.argument(!isNaN(k),"Something went wrong calculating the offset.");k%4!=0;)k+=1,M.push({name:"padding",type:"BYTE",value:0})}return T.sort(function(ye,Te){return ye.value.tag>Te.value.tag?1:-1}),b.fields=b.fields.concat(T),b.fields=b.fields.concat(M),b}function Jl(v,b,j){for(var T=0;T<b.length;T+=1){var M=v.charToGlyphIndex(b[T]);if(0<M)return v.glyphs.get(M).getMetrics()}return j}var Vh={make:Zl,fontToTable:function(v){for(var b,j=[],T=[],M=[],k=[],U=[],Y=[],Z=[],ce=0,ye=0,Te=0,te=0,Ke=0,Xe=0;Xe<v.glyphs.length;Xe+=1){var Fe=v.glyphs.get(Xe),Me=0|Fe.unicode;if(isNaN(Fe.advanceWidth))throw new Error("Glyph "+Fe.name+" ("+Xe+"): advanceWidth is not a number.");(Me<b||b===void 0)&&0<Me&&(b=Me),ce<Me&&(ce=Me);var Ie=Yi.getUnicodeRange(Me);if(Ie<32)ye|=1<<Ie;else if(Ie<64)Te|=1<<Ie-32;else if(Ie<96)te|=1<<Ie-64;else{if(!(Ie<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Ke|=1<<Ie-96}if(Fe.name!==".notdef"){var it=Fe.getMetrics();j.push(it.xMin),T.push(it.yMin),M.push(it.xMax),k.push(it.yMax),Y.push(it.leftSideBearing),Z.push(it.rightSideBearing),U.push(Fe.advanceWidth)}}var st={xMin:Math.min.apply(null,j),yMin:Math.min.apply(null,T),xMax:Math.max.apply(null,M),yMax:Math.max.apply(null,k),advanceWidthMax:Math.max.apply(null,U),advanceWidthAvg:function(ko){for(var Ru=0,ra=0;ra<ko.length;ra+=1)Ru+=ko[ra];return Ru/ko.length}(U),minLeftSideBearing:Math.min.apply(null,Y),maxLeftSideBearing:Math.max.apply(null,Y),minRightSideBearing:Math.min.apply(null,Z)};st.ascender=v.ascender,st.descender=v.descender;var St=ot.make({flags:3,unitsPerEm:v.unitsPerEm,xMin:st.xMin,yMin:st.yMin,xMax:st.xMax,yMax:st.yMax,lowestRecPPEM:3,createdTimestamp:v.createdTimestamp}),ct=Ge.make({ascender:st.ascender,descender:st.descender,advanceWidthMax:st.advanceWidthMax,minLeftSideBearing:st.minLeftSideBearing,minRightSideBearing:st.minRightSideBearing,xMaxExtent:st.maxLeftSideBearing+(st.xMax-st.xMin),numberOfHMetrics:v.glyphs.length}),ht=Bt.make(v.glyphs.length),Zt=Yi.make({xAvgCharWidth:Math.round(st.advanceWidthAvg),usWeightClass:v.tables.os2.usWeightClass,usWidthClass:v.tables.os2.usWidthClass,usFirstCharIndex:b,usLastCharIndex:ce,ulUnicodeRange1:ye,ulUnicodeRange2:Te,ulUnicodeRange3:te,ulUnicodeRange4:Ke,fsSelection:v.tables.os2.fsSelection,sTypoAscender:st.ascender,sTypoDescender:st.descender,sTypoLineGap:0,usWinAscent:st.yMax,usWinDescent:Math.abs(st.yMin),ulCodePageRange1:1,sxHeight:Jl(v,"xyvw",{yMax:Math.round(st.ascender/2)}).yMax,sCapHeight:Jl(v,"HIKLEFJMNTZBDPRAGOQSUVWXY",st).yMax,usDefaultChar:v.hasChar(" ")?32:0,usBreakChar:v.hasChar(" ")?32:0}),Et=Tt.make(v.glyphs),jt=Q.make(v.glyphs),Ct=v.getEnglishName("fontFamily"),Nt=v.getEnglishName("fontSubfamily"),Dt=Ct+" "+Nt,$t=v.getEnglishName("postScriptName");$t=$t||Ct.replace(/\s/g,"")+"-"+Nt;var Ft={};for(var It in v.names)Ft[It]=v.names[It];Ft.uniqueID||(Ft.uniqueID={en:v.getEnglishName("manufacturer")+":"+Dt}),Ft.postScriptName||(Ft.postScriptName={en:$t}),Ft.preferredFamily||(Ft.preferredFamily=v.names.fontFamily),Ft.preferredSubfamily||(Ft.preferredSubfamily=v.names.fontSubfamily);var Kt=[],Vt=ql.make(Ft,Kt),rr=0<Kt.length?Ot.make(Kt):void 0,Rt=Yl.make(),nr=Ye.make(v.glyphs,{version:v.getEnglishName("version"),fullName:Dt,familyName:Ct,weightName:Nt,postScriptName:$t,unitsPerEm:v.unitsPerEm,fontBBox:[0,st.yMin,st.ascender,st.advanceWidthMax]}),zt=v.metas&&0<Object.keys(v.metas).length?$l.make(v.metas):void 0,qt=[St,ct,ht,Zt,Vt,jt,Rt,nr,Et];rr&&qt.push(rr),v.tables.gsub&&qt.push(Xl.make(v.tables.gsub)),zt&&qt.push(zt);for(var hn=Zl(qt),Po=Xi(hn.encode()),ho=hn.fields,Nr=!1,fo=0;fo<ho.length;fo+=1)if(ho[fo].name==="head table"){ho[fo].value.checkSumAdjustment=2981146554-Po,Nr=!0;break}if(!Nr)throw new Error("Could not find head table with checkSum to adjust.");return hn},computeCheckSum:Xi};function $i(v,b){for(var j=0,T=v.length-1;j<=T;){var M=j+T>>>1,k=v[M].tag;if(k===b)return M;k<b?j=1+M:T=M-1}return-j-1}function eu(v,b){for(var j=0,T=v.length-1;j<=T;){var M=j+T>>>1,k=v[M];if(k===b)return M;k<b?j=1+M:T=M-1}return-j-1}function tu(v,b){for(var j,T=0,M=v.length-1;T<=M;){var k=T+M>>>1,U=(j=v[k]).start;if(U===b)return j;U<b?T=1+k:M=k-1}if(0<T)return b>(j=v[T-1]).end?0:j}function Fs(v,b){this.font=v,this.tableName=b}function Us(v){Fs.call(this,v,"gpos")}function cn(v){Fs.call(this,v,"gsub")}function Hh(v,b){var j=v.length;if(j!==b.length)return!1;for(var T=0;T<j;T++)if(v[T]!==b[T])return!1;return!0}function ru(v,b,j){for(var T=v.subtables,M=0;M<T.length;M++){var k=T[M];if(k.substFormat===b)return k}if(j)return T.push(j),j}function nu(v){for(var b=new ArrayBuffer(v.length),j=new Uint8Array(b),T=0;T<v.length;++T)j[T]=v[T];return b}function Oo(v,b){if(!v)throw b}function ou(v,b,j,T,M){var k;return k=0<(b&T)?(k=v.parseByte(),!(b&M)&&(k=-k),j+k):0<(b&M)?j:j+v.parseShort()}function Wh(v,b,j){var T,M,k=new V.Parser(b,j);if(v.numberOfContours=k.parseShort(),v._xMin=k.parseShort(),v._yMin=k.parseShort(),v._xMax=k.parseShort(),v._yMax=k.parseShort(),0<v.numberOfContours){for(var U=v.endPointIndices=[],Y=0;Y<v.numberOfContours;Y+=1)U.push(k.parseUShort());v.instructionLength=k.parseUShort(),v.instructions=[];for(var Z=0;Z<v.instructionLength;Z+=1)v.instructions.push(k.parseByte());var ce=U[U.length-1]+1;T=[];for(var ye=0;ye<ce;ye+=1)if(M=k.parseByte(),T.push(M),0<(8&M))for(var Te=k.parseByte(),te=0;te<Te;te+=1)T.push(M),ye+=1;if(ve.argument(T.length===ce,"Bad flags."),0<U.length){var Ke,Xe=[];if(0<ce){for(var Fe=0;Fe<ce;Fe+=1)M=T[Fe],(Ke={}).onCurve=!!(1&M),Ke.lastPointOfContour=0<=U.indexOf(Fe),Xe.push(Ke);for(var Me=0,Ie=0;Ie<ce;Ie+=1)M=T[Ie],(Ke=Xe[Ie]).x=ou(k,M,Me,2,16),Me=Ke.x;for(var it=0,st=0;st<ce;st+=1)M=T[st],(Ke=Xe[st]).y=ou(k,M,it,4,32),it=Ke.y}v.points=Xe}else v.points=[]}else if(v.numberOfContours===0)v.points=[];else{v.isComposite=!0,v.points=[],v.components=[];for(var St=!0;St;){T=k.parseUShort();var ct={glyphIndex:k.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&T)?0<(2&T)?(ct.dx=k.parseShort(),ct.dy=k.parseShort()):ct.matchedPoints=[k.parseUShort(),k.parseUShort()]:0<(2&T)?(ct.dx=k.parseChar(),ct.dy=k.parseChar()):ct.matchedPoints=[k.parseByte(),k.parseByte()],0<(8&T)?ct.xScale=ct.yScale=k.parseF2Dot14():0<(64&T)?(ct.xScale=k.parseF2Dot14(),ct.yScale=k.parseF2Dot14()):0<(128&T)&&(ct.xScale=k.parseF2Dot14(),ct.scale01=k.parseF2Dot14(),ct.scale10=k.parseF2Dot14(),ct.yScale=k.parseF2Dot14()),v.components.push(ct),St=!!(32&T)}if(256&T){v.instructionLength=k.parseUShort(),v.instructions=[];for(var ht=0;ht<v.instructionLength;ht+=1)v.instructions.push(k.parseByte())}}}function Ki(v,b){for(var j=[],T=0;T<v.length;T+=1){var M=v[T],k={x:b.xScale*M.x+b.scale01*M.y+b.dx,y:b.scale10*M.x+b.yScale*M.y+b.dy,onCurve:M.onCurve,lastPointOfContour:M.lastPointOfContour};j.push(k)}return j}function su(v){var b=new me;if(!v)return b;for(var j=function(Te){for(var te=[],Ke=[],Xe=0;Xe<Te.length;Xe+=1){var Fe=Te[Xe];Ke.push(Fe),Fe.lastPointOfContour&&(te.push(Ke),Ke=[])}return ve.argument(Ke.length===0,"There are still points left in the current contour."),te}(v),T=0;T<j.length;++T){var M=j[T],k=null,U=M[M.length-1],Y=M[0];if(U.onCurve)b.moveTo(U.x,U.y);else if(Y.onCurve)b.moveTo(Y.x,Y.y);else{var Z={x:.5*(U.x+Y.x),y:.5*(U.y+Y.y)};b.moveTo(Z.x,Z.y)}for(var ce=0;ce<M.length;++ce)if(k=U,U=Y,Y=M[(ce+1)%M.length],U.onCurve)b.lineTo(U.x,U.y);else{var ye=Y;k.onCurve||(.5*(U.x+k.x),.5*(U.y+k.y)),Y.onCurve||(ye={x:.5*(U.x+Y.x),y:.5*(U.y+Y.y)}),b.quadraticCurveTo(U.x,U.y,ye.x,ye.y)}b.closePath()}return b}function zh(v,b){if(b.isComposite)for(var j=0;j<b.components.length;j+=1){var T=b.components[j],M=v.get(T.glyphIndex);if(M.getPath(),M.points){var k=void 0;if(T.matchedPoints===void 0)k=Ki(M.points,T);else{if(T.matchedPoints[0]>b.points.length-1||T.matchedPoints[1]>M.points.length-1)throw Error("Matched points out of range in "+b.name);var U=b.points[T.matchedPoints[0]],Y=M.points[T.matchedPoints[1]],Z={xScale:T.xScale,scale01:T.scale01,scale10:T.scale10,yScale:T.yScale,dx:0,dy:0};Y=Ki([Y],Z)[0],Z.dx=U.x-Y.x,Z.dy=U.y-Y.y,k=Ki(M.points,Z)}b.points=b.points.concat(k)}}return su(b.points)}(Us.prototype=Fs.prototype={searchTag:$i,binSearch:eu,getTable:function(v){var b=this.font.tables[this.tableName];return!b&&v&&(b=this.font.tables[this.tableName]=this.createDefaultTable()),b},getScriptNames:function(){var v=this.getTable();return v?v.scripts.map(function(b){return b.tag}):[]},getDefaultScriptName:function(){var v=this.getTable();if(v){for(var b=!1,j=0;j<v.scripts.length;j++){var T=v.scripts[j].tag;if(T==="DFLT")return T;T==="latn"&&(b=!0)}return b?"latn":void 0}},getScriptTable:function(v,b){var j=this.getTable(b);if(j){v=v||"DFLT";var T=j.scripts,M=$i(j.scripts,v);if(0<=M)return T[M].script;if(b){var k={tag:v,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return T.splice(-1-M,0,k),k.script}}},getLangSysTable:function(v,b,j){var T=this.getScriptTable(v,j);if(T){if(!b||b==="dflt"||b==="DFLT")return T.defaultLangSys;var M=$i(T.langSysRecords,b);if(0<=M)return T.langSysRecords[M].langSys;if(j){var k={tag:b,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return T.langSysRecords.splice(-1-M,0,k),k.langSys}}},getFeatureTable:function(v,b,j,T){var M=this.getLangSysTable(v,b,T);if(M){for(var k,U=M.featureIndexes,Y=this.font.tables[this.tableName].features,Z=0;Z<U.length;Z++)if((k=Y[U[Z]]).tag===j)return k.feature;if(T){var ce=Y.length;return ve.assert(ce===0||j>=Y[ce-1].tag,"Features must be added in alphabetical order."),k={tag:j,feature:{params:0,lookupListIndexes:[]}},Y.push(k),U.push(ce),k.feature}}},getLookupTables:function(v,b,j,T,M){var k=this.getFeatureTable(v,b,j,M),U=[];if(k){for(var Y,Z=k.lookupListIndexes,ce=this.font.tables[this.tableName].lookups,ye=0;ye<Z.length;ye++)(Y=ce[Z[ye]]).lookupType===T&&U.push(Y);if(U.length===0&&M){Y={lookupType:T,lookupFlag:0,subtables:[],markFilteringSet:void 0};var Te=ce.length;return ce.push(Y),Z.push(Te),[Y]}}return U},getGlyphClass:function(v,b){switch(v.format){case 1:return v.startGlyph<=b&&b<v.startGlyph+v.classes.length?v.classes[b-v.startGlyph]:0;case 2:var j=tu(v.ranges,b);return j?j.classId:0}},getCoverageIndex:function(v,b){switch(v.format){case 1:var j=eu(v.glyphs,b);return 0<=j?j:-1;case 2:var T=tu(v.ranges,b);return T?T.index+b-T.start:-1}},expandCoverage:function(v){if(v.format===1)return v.glyphs;for(var b=[],j=v.ranges,T=0;T<j.length;T++)for(var M=j[T],k=M.start,U=M.end,Y=k;Y<=U;Y++)b.push(Y);return b}}).init=function(){var v=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(v)},Us.prototype.getKerningValue=function(v,b,j){for(var T=0;T<v.length;T++)for(var M=v[T].subtables,k=0;k<M.length;k++){var U=M[k],Y=this.getCoverageIndex(U.coverage,b);if(!(Y<0))switch(U.posFormat){case 1:for(var Z=U.pairSets[Y],ce=0;ce<Z.length;ce++){var ye=Z[ce];if(ye.secondGlyph===j)return ye.value1&&ye.value1.xAdvance||0}break;case 2:var Te=this.getGlyphClass(U.classDef1,b),te=this.getGlyphClass(U.classDef2,j),Ke=U.classRecords[Te][te];return Ke.value1&&Ke.value1.xAdvance||0}}return 0},Us.prototype.getKerningTables=function(v,b){if(this.font.tables.gpos)return this.getLookupTables(v,b,"kern",2)},(cn.prototype=Fs.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},cn.prototype.getSingle=function(v,b,j){for(var T=[],M=this.getLookupTables(b,j,v,1),k=0;k<M.length;k++)for(var U=M[k].subtables,Y=0;Y<U.length;Y++){var Z=U[Y],ce=this.expandCoverage(Z.coverage),ye=void 0;if(Z.substFormat===1){var Te=Z.deltaGlyphId;for(ye=0;ye<ce.length;ye++){var te=ce[ye];T.push({sub:te,by:te+Te})}}else{var Ke=Z.substitute;for(ye=0;ye<ce.length;ye++)T.push({sub:ce[ye],by:Ke[ye]})}}return T},cn.prototype.getAlternates=function(v,b,j){for(var T=[],M=this.getLookupTables(b,j,v,3),k=0;k<M.length;k++)for(var U=M[k].subtables,Y=0;Y<U.length;Y++)for(var Z=U[Y],ce=this.expandCoverage(Z.coverage),ye=Z.alternateSets,Te=0;Te<ce.length;Te++)T.push({sub:ce[Te],by:ye[Te]});return T},cn.prototype.getLigatures=function(v,b,j){for(var T=[],M=this.getLookupTables(b,j,v,4),k=0;k<M.length;k++)for(var U=M[k].subtables,Y=0;Y<U.length;Y++)for(var Z=U[Y],ce=this.expandCoverage(Z.coverage),ye=Z.ligatureSets,Te=0;Te<ce.length;Te++)for(var te=ce[Te],Ke=ye[Te],Xe=0;Xe<Ke.length;Xe++){var Fe=Ke[Xe];T.push({sub:[te].concat(Fe.components),by:Fe.ligGlyph})}return T},cn.prototype.addSingle=function(v,b,j,T){var M=ru(this.getLookupTables(j,T,v,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});ve.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format);var k=b.sub,U=this.binSearch(M.coverage.glyphs,k);U<0&&(U=-1-U,M.coverage.glyphs.splice(U,0,k),M.substitute.splice(U,0,0)),M.substitute[U]=b.by},cn.prototype.addAlternate=function(v,b,j,T){var M=ru(this.getLookupTables(j,T,v,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});ve.assert(M.coverage.format===1,"Ligature: unable to modify coverage table format "+M.coverage.format);var k=b.sub,U=this.binSearch(M.coverage.glyphs,k);U<0&&(U=-1-U,M.coverage.glyphs.splice(U,0,k),M.alternateSets.splice(U,0,0)),M.alternateSets[U]=b.by},cn.prototype.addLigature=function(v,b,j,T){var M=this.getLookupTables(j,T,v,4,!0)[0],k=M.subtables[0];k||(k={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},M.subtables[0]=k),ve.assert(k.coverage.format===1,"Ligature: unable to modify coverage table format "+k.coverage.format);var U=b.sub[0],Y=b.sub.slice(1),Z={ligGlyph:b.by,components:Y},ce=this.binSearch(k.coverage.glyphs,U);if(0<=ce){for(var ye=k.ligatureSets[ce],Te=0;Te<ye.length;Te++)if(Hh(ye[Te].components,Y))return;ye.push(Z)}else ce=-1-ce,k.coverage.glyphs.splice(ce,0,U),k.ligatureSets.splice(ce,0,[Z])},cn.prototype.getFeature=function(v,b,j){if(/ss\d\d/.test(v))return this.getSingle(v,b,j);switch(v){case"aalt":case"salt":return this.getSingle(v,b,j).concat(this.getAlternates(v,b,j));case"dlig":case"liga":case"rlig":return this.getLigatures(v,b,j)}},cn.prototype.add=function(v,b,j,T){if(/ss\d\d/.test(v))return this.addSingle(v,b,j,T);switch(v){case"aalt":case"salt":return typeof b.by=="number"?this.addSingle(v,b,j,T):this.addAlternate(v,b,j,T);case"dlig":case"liga":case"rlig":return this.addLigature(v,b,j,T)}};var iu,co,au,Qi,lu={getPath:su,parse:function(v,b,j,T){for(var M=new mt.GlyphSet(T),k=0;k<j.length-1;k+=1){var U=j[k];U!==j[k+1]?M.push(k,mt.ttfGlyphLoader(T,k,Wh,v,b+U,zh)):M.push(k,mt.glyphLoader(T,k))}return M}};function uu(v){this.font=v,this.getCommands=function(b){return lu.getPath(b).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function qh(v){return v}function cu(v){return Math.sign(v)*Math.round(Math.abs(v))}function Yh(v){return Math.sign(v)*Math.round(Math.abs(2*v))/2}function Xh(v){return Math.sign(v)*(Math.round(Math.abs(v)+.5)-.5)}function $h(v){return Math.sign(v)*Math.ceil(Math.abs(v))}function Kh(v){return Math.sign(v)*Math.floor(Math.abs(v))}function du(v){var b=this.srPeriod,j=this.srPhase,T=1;return v<0&&(v=-v,T=-1),v+=this.srThreshold-j,v=Math.trunc(v/b)*b,(v+=j)<0?j*T:v*T}var dn={x:1,y:0,axis:"x",distance:function(v,b,j,T){return(j?v.xo:v.x)-(T?b.xo:b.x)},interpolate:function(v,b,j,T){var M,k,U,Y,Z,ce,ye;if(!T||T===this)return M=v.xo-b.xo,k=v.xo-j.xo,Z=b.x-b.xo,ce=j.x-j.xo,(ye=(U=Math.abs(M))+(Y=Math.abs(k)))===0?void(v.x=v.xo+(Z+ce)/2):void(v.x=v.xo+(Z*Y+ce*U)/ye);M=T.distance(v,b,!0,!0),k=T.distance(v,j,!0,!0),Z=T.distance(b,b,!1,!0),ce=T.distance(j,j,!1,!0),(ye=(U=Math.abs(M))+(Y=Math.abs(k)))!==0?dn.setRelative(v,v,(Z*Y+ce*U)/ye,T,!0):dn.setRelative(v,v,(Z+ce)/2,T,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(v,b,j,T,M){if(T&&T!==this){var k=M?b.xo:b.x,U=M?b.yo:b.y,Y=k+j*T.x,Z=U+j*T.y;v.x=Y+(v.y-Z)/T.normalSlope}else v.x=(M?b.xo:b.x)+j},slope:0,touch:function(v){v.xTouched=!0},touched:function(v){return v.xTouched},untouch:function(v){v.xTouched=!1}},Tn={x:0,y:1,axis:"y",distance:function(v,b,j,T){return(j?v.yo:v.y)-(T?b.yo:b.y)},interpolate:function(v,b,j,T){var M,k,U,Y,Z,ce,ye;if(!T||T===this)return M=v.yo-b.yo,k=v.yo-j.yo,Z=b.y-b.yo,ce=j.y-j.yo,(ye=(U=Math.abs(M))+(Y=Math.abs(k)))===0?void(v.y=v.yo+(Z+ce)/2):void(v.y=v.yo+(Z*Y+ce*U)/ye);M=T.distance(v,b,!0,!0),k=T.distance(v,j,!0,!0),Z=T.distance(b,b,!1,!0),ce=T.distance(j,j,!1,!0),(ye=(U=Math.abs(M))+(Y=Math.abs(k)))!==0?Tn.setRelative(v,v,(Z*Y+ce*U)/ye,T,!0):Tn.setRelative(v,v,(Z+ce)/2,T,!0)},normalSlope:0,setRelative:function(v,b,j,T,M){if(T&&T!==this){var k=M?b.xo:b.x,U=M?b.yo:b.y,Y=k+j*T.x,Z=U+j*T.y;v.y=Z+T.normalSlope*(v.x-Y)}else v.y=(M?b.yo:b.y)+j},slope:Number.POSITIVE_INFINITY,touch:function(v){v.yTouched=!0},touched:function(v){return v.yTouched},untouch:function(v){v.yTouched=!1}};function ds(v,b){this.x=v,this.y=b,this.axis=void 0,this.slope=b/v,this.normalSlope=-v/b,Object.freeze(this)}function hs(v,b){var j=Math.sqrt(v*v+b*b);return b/=j,(v/=j)===1&&b===0?dn:v===0&&b===1?Tn:new ds(v,b)}function En(v,b,j,T){this.x=this.xo=Math.round(64*v)/64,this.y=this.yo=Math.round(64*b)/64,this.lastPointOfContour=j,this.onCurve=T,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(dn),Object.freeze(Tn),ds.prototype.distance=function(v,b,j,T){return this.x*dn.distance(v,b,j,T)+this.y*Tn.distance(v,b,j,T)},ds.prototype.interpolate=function(v,b,j,T){var M,k,U,Y,Z,ce,ye;U=T.distance(v,b,!0,!0),Y=T.distance(v,j,!0,!0),M=T.distance(b,b,!1,!0),k=T.distance(j,j,!1,!0),(ye=(Z=Math.abs(U))+(ce=Math.abs(Y)))!==0?this.setRelative(v,v,(M*ce+k*Z)/ye,T,!0):this.setRelative(v,v,(M+k)/2,T,!0)},ds.prototype.setRelative=function(v,b,j,T,M){T=T||this;var k=M?b.xo:b.x,U=M?b.yo:b.y,Y=k+j*T.x,Z=U+j*T.y,ce=T.normalSlope,ye=this.slope,Te=v.x,te=v.y;v.x=(ye*Te-ce*Y+Z-te)/(ye-ce),v.y=ye*(v.x-Te)+te},ds.prototype.touch=function(v){v.xTouched=!0,v.yTouched=!0},En.prototype.nextTouched=function(v){for(var b=this.nextPointOnContour;!v.touched(b)&&b!==this;)b=b.nextPointOnContour;return b},En.prototype.prevTouched=function(v){for(var b=this.prevPointOnContour;!v.touched(b)&&b!==this;)b=b.prevPointOnContour;return b};var fs=Object.freeze(new En(0,0)),Qh={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Gn(v,b){switch(this.env=v,this.stack=[],this.prog=b,v){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=dn,this.round=cu}}function Gs(v){for(var b=v.tZone=new Array(v.gZone.length),j=0;j<b.length;j++)b[j]=new En(0,0)}function hu(v,b){var j,T=v.prog,M=v.ip,k=1;do if((j=T[++M])===88)k++;else if(j===89)k--;else if(j===64)M+=T[M+1]+1;else if(j===65)M+=2*T[M+1]+1;else if(176<=j&&j<=183)M+=j-176+1;else if(184<=j&&j<=191)M+=2*(j-184+1);else if(b&&k===1&&j===27)break;while(0<k);v.ip=M}function fu(v,b){f.DEBUG&&console.log(b.step,"SVTCA["+v.axis+"]"),b.fv=b.pv=b.dpv=v}function pu(v,b){f.DEBUG&&console.log(b.step,"SPVTCA["+v.axis+"]"),b.pv=b.dpv=v}function mu(v,b){f.DEBUG&&console.log(b.step,"SFVTCA["+v.axis+"]"),b.fv=v}function gu(v,b){var j,T,M=b.stack,k=M.pop(),U=M.pop(),Y=b.z2[k],Z=b.z1[U];f.DEBUG&&console.log("SPVTL["+v+"]",k,U),T=v?(j=Y.y-Z.y,Z.x-Y.x):(j=Z.x-Y.x,Z.y-Y.y),b.pv=b.dpv=hs(j,T)}function yu(v,b){var j,T,M=b.stack,k=M.pop(),U=M.pop(),Y=b.z2[k],Z=b.z1[U];f.DEBUG&&console.log("SFVTL["+v+"]",k,U),T=v?(j=Y.y-Z.y,Z.x-Y.x):(j=Z.x-Y.x,Z.y-Y.y),b.fv=hs(j,T)}function Zi(v){f.DEBUG&&console.log(v.step,"POP[]"),v.stack.pop()}function vu(v,b){var j=b.stack.pop(),T=b.z0[j],M=b.fv,k=b.pv;f.DEBUG&&console.log(b.step,"MDAP["+v+"]",j);var U=k.distance(T,fs);v&&(U=b.round(U)),M.setRelative(T,fs,U,k),M.touch(T),b.rp0=b.rp1=j}function bu(v,b){var j,T,M,k=b.z2,U=k.length-2;f.DEBUG&&console.log(b.step,"IUP["+v.axis+"]");for(var Y=0;Y<U;Y++)j=k[Y],v.touched(j)||(T=j.prevTouched(v))!==j&&(T===(M=j.nextTouched(v))&&v.setRelative(j,j,v.distance(T,T,!1,!0),v,!0),v.interpolate(j,T,M,v))}function wu(v,b){for(var j=b.stack,T=v?b.rp1:b.rp2,M=(v?b.z0:b.z1)[T],k=b.fv,U=b.pv,Y=b.loop,Z=b.z2;Y--;){var ce=j.pop(),ye=Z[ce],Te=U.distance(M,M,!1,!0);k.setRelative(ye,ye,Te,U),k.touch(ye),f.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-Y)+": ":"")+"SHP["+(v?"rp1":"rp2")+"]",ce)}b.loop=1}function xu(v,b){var j=b.stack,T=v?b.rp1:b.rp2,M=(v?b.z0:b.z1)[T],k=b.fv,U=b.pv,Y=j.pop(),Z=b.z2[b.contours[Y]],ce=Z;f.DEBUG&&console.log(b.step,"SHC["+v+"]",Y);for(var ye=U.distance(M,M,!1,!0);ce!==M&&k.setRelative(ce,ce,ye,U),(ce=ce.nextPointOnContour)!==Z;);}function _u(v,b){var j,T,M=b.stack,k=v?b.rp1:b.rp2,U=(v?b.z0:b.z1)[k],Y=b.fv,Z=b.pv,ce=M.pop();switch(f.DEBUG&&console.log(b.step,"SHZ["+v+"]",ce),ce){case 0:j=b.tZone;break;case 1:j=b.gZone;break;default:throw new Error("Invalid zone")}for(var ye=Z.distance(U,U,!1,!0),Te=j.length-2,te=0;te<Te;te++)T=j[te],Y.setRelative(T,T,ye,Z)}function Su(v,b){var j=b.stack,T=j.pop()/64,M=j.pop(),k=b.z1[M],U=b.z0[b.rp0],Y=b.fv,Z=b.pv;Y.setRelative(k,U,T,Z),Y.touch(k),f.DEBUG&&console.log(b.step,"MSIRP["+v+"]",T,M),b.rp1=b.rp0,b.rp2=M,v&&(b.rp0=M)}function ju(v,b){var j=b.stack,T=j.pop(),M=j.pop(),k=b.z0[M],U=b.fv,Y=b.pv,Z=b.cvt[T];f.DEBUG&&console.log(b.step,"MIAP["+v+"]",T,"(",Z,")",M);var ce=Y.distance(k,fs);v&&(Math.abs(ce-Z)<b.cvCutIn&&(ce=Z),ce=b.round(ce)),U.setRelative(k,fs,ce,Y),b.zp0===0&&(k.xo=k.x,k.yo=k.y),U.touch(k),b.rp0=b.rp1=M}function Tu(v,b){var j=b.stack,T=j.pop(),M=b.z2[T];f.DEBUG&&console.log(b.step,"GC["+v+"]",T),j.push(64*b.dpv.distance(M,fs,v,!1))}function Eu(v,b){var j=b.stack,T=j.pop(),M=j.pop(),k=b.z1[T],U=b.z0[M],Y=b.dpv.distance(U,k,v,v);f.DEBUG&&console.log(b.step,"MD["+v+"]",T,M,"->",Y),b.stack.push(Math.round(64*Y))}function Ji(v,b){var j=b.stack,T=j.pop(),M=b.fv,k=b.pv,U=b.ppem,Y=b.deltaBase+16*(v-1),Z=b.deltaShift,ce=b.z0;f.DEBUG&&console.log(b.step,"DELTAP["+v+"]",T,j);for(var ye=0;ye<T;ye++){var Te=j.pop(),te=j.pop();if(Y+((240&te)>>4)===U){var Ke=(15&te)-8;0<=Ke&&Ke++,f.DEBUG&&console.log(b.step,"DELTAPFIX",Te,"by",Ke*Z);var Xe=ce[Te];M.setRelative(Xe,Xe,Ke*Z,k)}}}function Vs(v,b){var j=b.stack,T=j.pop();f.DEBUG&&console.log(b.step,"ROUND[]"),j.push(64*b.round(T/64))}function ea(v,b){var j=b.stack,T=j.pop(),M=b.ppem,k=b.deltaBase+16*(v-1),U=b.deltaShift;f.DEBUG&&console.log(b.step,"DELTAC["+v+"]",T,j);for(var Y=0;Y<T;Y++){var Z=j.pop(),ce=j.pop();if(k+((240&ce)>>4)===M){var ye=(15&ce)-8;0<=ye&&ye++;var Te=ye*U;f.DEBUG&&console.log(b.step,"DELTACFIX",Z,"by",Te),b.cvt[Z]+=Te}}}function Cu(v,b){var j,T,M=b.stack,k=M.pop(),U=M.pop(),Y=b.z2[k],Z=b.z1[U];f.DEBUG&&console.log(b.step,"SDPVTL["+v+"]",k,U),T=v?(j=Y.y-Z.y,Z.x-Y.x):(j=Z.x-Y.x,Z.y-Y.y),b.dpv=hs(j,T)}function Vn(v,b){var j=b.stack,T=b.prog,M=b.ip;f.DEBUG&&console.log(b.step,"PUSHB["+v+"]");for(var k=0;k<v;k++)j.push(T[++M]);b.ip=M}function Hn(v,b){var j=b.ip,T=b.prog,M=b.stack;f.DEBUG&&console.log(b.ip,"PUSHW["+v+"]");for(var k=0;k<v;k++){var U=T[++j]<<8|T[++j];32768&U&&(U=-(1+(65535^U))),M.push(U)}b.ip=j}function at(v,b,j,T,M,k){var U,Y,Z,ce,ye=k.stack,Te=v&&ye.pop(),te=ye.pop(),Ke=k.rp0,Xe=k.z0[Ke],Fe=k.z1[te],Me=k.minDis,Ie=k.fv,it=k.dpv;Z=0<=(Y=U=it.distance(Fe,Xe,!0,!0))?1:-1,Y=Math.abs(Y),v&&(ce=k.cvt[Te],T&&Math.abs(Y-ce)<k.cvCutIn&&(Y=ce)),j&&Y<Me&&(Y=Me),T&&(Y=k.round(Y)),Ie.setRelative(Fe,Xe,Z*Y,it),Ie.touch(Fe),f.DEBUG&&console.log(k.step,(v?"MIRP[":"MDRP[")+(b?"M":"m")+(j?">":"_")+(T?"R":"_")+(M===0?"Gr":M===1?"Bl":M===2?"Wh":"")+"]",v?Te+"("+k.cvt[Te]+","+ce+")":"",te,"(d =",U,"->",Z*Y,")"),k.rp1=k.rp0,k.rp2=te,b&&(k.rp0=te)}uu.prototype.exec=function(v,b){if(typeof b!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var j=this.font,T=this._prepState;if(!T||T.ppem!==b){var M=this._fpgmState;if(!M){Gn.prototype=Qh,(M=this._fpgmState=new Gn("fpgm",j.tables.fpgm)).funcs=[],M.font=j,f.DEBUG&&(console.log("---EXEC FPGM---"),M.step=-1);try{co(M)}catch(ce){return console.log("Hinting error in FPGM:"+ce),void(this._errorState=3)}}Gn.prototype=M,(T=this._prepState=new Gn("prep",j.tables.prep)).ppem=b;var k=j.tables.cvt;if(k)for(var U=T.cvt=new Array(k.length),Y=b/j.unitsPerEm,Z=0;Z<k.length;Z++)U[Z]=k[Z]*Y;else T.cvt=[];f.DEBUG&&(console.log("---EXEC PREP---"),T.step=-1);try{co(T)}catch(ce){this._errorState<2&&console.log("Hinting error in PREP:"+ce),this._errorState=2}}if(!(1<this._errorState))try{return au(v,T)}catch(ce){return this._errorState<1&&(console.log("Hinting error:"+ce),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},au=function(v,b){var j,T,M,k=b.ppem/b.font.unitsPerEm,U=k,Y=v.components;if(Gn.prototype=b,Y){var Z=b.font;T=[],j=[];for(var ce=0;ce<Y.length;ce++){var ye=Y[ce],Te=Z.glyphs.get(ye.glyphIndex);M=new Gn("glyf",Te.instructions),f.DEBUG&&(console.log("---EXEC COMP "+ce+"---"),M.step=-1),Qi(Te,M,k,U);for(var te=Math.round(ye.dx*k),Ke=Math.round(ye.dy*U),Xe=M.gZone,Fe=M.contours,Me=0;Me<Xe.length;Me++){var Ie=Xe[Me];Ie.xTouched=Ie.yTouched=!1,Ie.xo=Ie.x=Ie.x+te,Ie.yo=Ie.y=Ie.y+Ke}var it=T.length;T.push.apply(T,Xe);for(var st=0;st<Fe.length;st++)j.push(Fe[st]+it)}v.instructions&&!M.inhibitGridFit&&((M=new Gn("glyf",v.instructions)).gZone=M.z0=M.z1=M.z2=T,M.contours=j,T.push(new En(0,0),new En(Math.round(v.advanceWidth*k),0)),f.DEBUG&&(console.log("---EXEC COMPOSITE---"),M.step=-1),co(M),T.length-=2)}else M=new Gn("glyf",v.instructions),f.DEBUG&&(console.log("---EXEC GLYPH---"),M.step=-1),Qi(v,M,k,U),T=M.gZone;return T},Qi=function(v,b,j,T){for(var M,k,U,Y=v.points||[],Z=Y.length,ce=b.gZone=b.z0=b.z1=b.z2=[],ye=b.contours=[],Te=0;Te<Z;Te++)M=Y[Te],ce[Te]=new En(M.x*j,M.y*T,M.lastPointOfContour,M.onCurve);for(var te=0;te<Z;te++)M=ce[te],k||(k=M,ye.push(te)),M.lastPointOfContour?((M.nextPointOnContour=k).prevPointOnContour=M,k=void 0):(U=ce[te+1],(M.nextPointOnContour=U).prevPointOnContour=M);if(!b.inhibitGridFit){if(f.DEBUG){console.log("PROCESSING GLYPH",b.stack);for(var Ke=0;Ke<Z;Ke++)console.log(Ke,ce[Ke].x,ce[Ke].y)}if(ce.push(new En(0,0),new En(Math.round(v.advanceWidth*j),0)),co(b),ce.length-=2,f.DEBUG){console.log("FINISHED GLYPH",b.stack);for(var Xe=0;Xe<Z;Xe++)console.log(Xe,ce[Xe].x,ce[Xe].y)}}},co=function(v){var b=v.prog;if(b){var j,T=b.length;for(v.ip=0;v.ip<T;v.ip++){if(f.DEBUG&&v.step++,!(j=iu[b[v.ip]]))throw new Error("unknown instruction: 0x"+Number(b[v.ip]).toString(16));j(v)}}},iu=[fu.bind(void 0,Tn),fu.bind(void 0,dn),pu.bind(void 0,Tn),pu.bind(void 0,dn),mu.bind(void 0,Tn),mu.bind(void 0,dn),gu.bind(void 0,0),gu.bind(void 0,1),yu.bind(void 0,0),yu.bind(void 0,1),function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"SPVFS[]",j,T),v.pv=v.dpv=hs(T,j)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"SPVFS[]",j,T),v.fv=hs(T,j)},function(v){var b=v.stack,j=v.pv;f.DEBUG&&console.log(v.step,"GPV[]"),b.push(16384*j.x),b.push(16384*j.y)},function(v){var b=v.stack,j=v.fv;f.DEBUG&&console.log(v.step,"GFV[]"),b.push(16384*j.x),b.push(16384*j.y)},function(v){v.fv=v.pv,f.DEBUG&&console.log(v.step,"SFVTPV[]")},function(v){var b=v.stack,j=b.pop(),T=b.pop(),M=b.pop(),k=b.pop(),U=b.pop(),Y=v.z0,Z=v.z1,ce=Y[j],ye=Y[T],Te=Z[M],te=Z[k],Ke=v.z2[U];f.DEBUG&&console.log("ISECT[], ",j,T,M,k,U);var Xe=ce.x,Fe=ce.y,Me=ye.x,Ie=ye.y,it=Te.x,st=Te.y,St=te.x,ct=te.y,ht=(Xe-Me)*(st-ct)-(Fe-Ie)*(it-St),Zt=Xe*Ie-Fe*Me,Et=it*ct-st*St;Ke.x=(Zt*(it-St)-Et*(Xe-Me))/ht,Ke.y=(Zt*(st-ct)-Et*(Fe-Ie))/ht},function(v){v.rp0=v.stack.pop(),f.DEBUG&&console.log(v.step,"SRP0[]",v.rp0)},function(v){v.rp1=v.stack.pop(),f.DEBUG&&console.log(v.step,"SRP1[]",v.rp1)},function(v){v.rp2=v.stack.pop(),f.DEBUG&&console.log(v.step,"SRP2[]",v.rp2)},function(v){var b=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"SZP0[]",b),v.zp0=b){case 0:v.tZone||Gs(v),v.z0=v.tZone;break;case 1:v.z0=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){var b=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"SZP1[]",b),v.zp1=b){case 0:v.tZone||Gs(v),v.z1=v.tZone;break;case 1:v.z1=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){var b=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"SZP2[]",b),v.zp2=b){case 0:v.tZone||Gs(v),v.z2=v.tZone;break;case 1:v.z2=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){var b=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"SZPS[]",b),v.zp0=v.zp1=v.zp2=b,b){case 0:v.tZone||Gs(v),v.z0=v.z1=v.z2=v.tZone;break;case 1:v.z0=v.z1=v.z2=v.gZone;break;default:throw new Error("Invalid zone pointer")}},function(v){v.loop=v.stack.pop(),f.DEBUG&&console.log(v.step,"SLOOP[]",v.loop)},function(v){f.DEBUG&&console.log(v.step,"RTG[]"),v.round=cu},function(v){f.DEBUG&&console.log(v.step,"RTHG[]"),v.round=Xh},function(v){var b=v.stack.pop();f.DEBUG&&console.log(v.step,"SMD[]",b),v.minDis=b/64},function(v){f.DEBUG&&console.log(v.step,"ELSE[]"),hu(v,!1)},function(v){var b=v.stack.pop();f.DEBUG&&console.log(v.step,"JMPR[]",b),v.ip+=b-1},function(v){var b=v.stack.pop();f.DEBUG&&console.log(v.step,"SCVTCI[]",b),v.cvCutIn=b/64},void 0,void 0,function(v){var b=v.stack;f.DEBUG&&console.log(v.step,"DUP[]"),b.push(b[b.length-1])},Zi,function(v){f.DEBUG&&console.log(v.step,"CLEAR[]"),v.stack.length=0},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"SWAP[]"),b.push(j),b.push(T)},function(v){var b=v.stack;f.DEBUG&&console.log(v.step,"DEPTH[]"),b.push(b.length)},function(v){var b=v.stack,j=b.pop();f.DEBUG&&console.log(v.step,"CINDEX[]",j),b.push(b[b.length-j])},function(v){var b=v.stack,j=b.pop();f.DEBUG&&console.log(v.step,"MINDEX[]",j),b.push(b.splice(b.length-j,1)[0])},void 0,void 0,void 0,function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"LOOPCALL[]",j,T);var M=v.ip,k=v.prog;v.prog=v.funcs[j];for(var U=0;U<T;U++)co(v),f.DEBUG&&console.log(++v.step,U+1<T?"next loopcall":"done loopcall",U);v.ip=M,v.prog=k},function(v){var b=v.stack.pop();f.DEBUG&&console.log(v.step,"CALL[]",b);var j=v.ip,T=v.prog;v.prog=v.funcs[b],co(v),v.ip=j,v.prog=T,f.DEBUG&&console.log(++v.step,"returning from",b)},function(v){if(v.env!=="fpgm")throw new Error("FDEF not allowed here");var b=v.stack,j=v.prog,T=v.ip,M=b.pop(),k=T;for(f.DEBUG&&console.log(v.step,"FDEF[]",M);j[++T]!==45;);v.ip=T,v.funcs[M]=j.slice(k+1,T)},void 0,vu.bind(void 0,0),vu.bind(void 0,1),bu.bind(void 0,Tn),bu.bind(void 0,dn),wu.bind(void 0,0),wu.bind(void 0,1),xu.bind(void 0,0),xu.bind(void 0,1),_u.bind(void 0,0),_u.bind(void 0,1),function(v){for(var b=v.stack,j=v.loop,T=v.fv,M=b.pop()/64,k=v.z2;j--;){var U=b.pop(),Y=k[U];f.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-j)+": ":"")+"SHPIX[]",U,M),T.setRelative(Y,Y,M),T.touch(Y)}v.loop=1},function(v){for(var b=v.stack,j=v.rp1,T=v.rp2,M=v.loop,k=v.z0[j],U=v.z1[T],Y=v.fv,Z=v.dpv,ce=v.z2;M--;){var ye=b.pop(),Te=ce[ye];f.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-M)+": ":"")+"IP[]",ye,j,"<->",T),Y.interpolate(Te,k,U,Z),Y.touch(Te)}v.loop=1},Su.bind(void 0,0),Su.bind(void 0,1),function(v){for(var b=v.stack,j=v.rp0,T=v.z0[j],M=v.loop,k=v.fv,U=v.pv,Y=v.z1;M--;){var Z=b.pop(),ce=Y[Z];f.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-M)+": ":"")+"ALIGNRP[]",Z),k.setRelative(ce,T,0,U),k.touch(ce)}v.loop=1},function(v){f.DEBUG&&console.log(v.step,"RTDG[]"),v.round=Yh},ju.bind(void 0,0),ju.bind(void 0,1),function(v){var b=v.prog,j=v.ip,T=v.stack,M=b[++j];f.DEBUG&&console.log(v.step,"NPUSHB[]",M);for(var k=0;k<M;k++)T.push(b[++j]);v.ip=j},function(v){var b=v.ip,j=v.prog,T=v.stack,M=j[++b];f.DEBUG&&console.log(v.step,"NPUSHW[]",M);for(var k=0;k<M;k++){var U=j[++b]<<8|j[++b];32768&U&&(U=-(1+(65535^U))),T.push(U)}v.ip=b},function(v){var b=v.stack,j=v.store;j=j||(v.store=[]);var T=b.pop(),M=b.pop();f.DEBUG&&console.log(v.step,"WS",T,M),j[M]=T},function(v){var b=v.stack,j=v.store,T=b.pop();f.DEBUG&&console.log(v.step,"RS",T);var M=j&&j[T]||0;b.push(M)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"WCVTP",j,T),v.cvt[T]=j/64},function(v){var b=v.stack,j=b.pop();f.DEBUG&&console.log(v.step,"RCVT",j),b.push(64*v.cvt[j])},Tu.bind(void 0,0),Tu.bind(void 0,1),void 0,Eu.bind(void 0,0),Eu.bind(void 0,1),function(v){f.DEBUG&&console.log(v.step,"MPPEM[]"),v.stack.push(v.ppem)},void 0,function(v){f.DEBUG&&console.log(v.step,"FLIPON[]"),v.autoFlip=!0},void 0,void 0,function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"LT[]",j,T),b.push(T<j?1:0)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"LTEQ[]",j,T),b.push(T<=j?1:0)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"GT[]",j,T),b.push(j<T?1:0)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"GTEQ[]",j,T),b.push(j<=T?1:0)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"EQ[]",j,T),b.push(j===T?1:0)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"NEQ[]",j,T),b.push(j!==T?1:0)},function(v){var b=v.stack,j=b.pop();f.DEBUG&&console.log(v.step,"ODD[]",j),b.push(Math.trunc(j)%2?1:0)},function(v){var b=v.stack,j=b.pop();f.DEBUG&&console.log(v.step,"EVEN[]",j),b.push(Math.trunc(j)%2?0:1)},function(v){var b=v.stack.pop();f.DEBUG&&console.log(v.step,"IF[]",b),b||(hu(v,!0),f.DEBUG&&console.log(v.step,"EIF[]"))},function(v){f.DEBUG&&console.log(v.step,"EIF[]")},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"AND[]",j,T),b.push(j&&T?1:0)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"OR[]",j,T),b.push(j||T?1:0)},function(v){var b=v.stack,j=b.pop();f.DEBUG&&console.log(v.step,"NOT[]",j),b.push(j?0:1)},Ji.bind(void 0,1),function(v){var b=v.stack.pop();f.DEBUG&&console.log(v.step,"SDB[]",b),v.deltaBase=b},function(v){var b=v.stack.pop();f.DEBUG&&console.log(v.step,"SDS[]",b),v.deltaShift=Math.pow(.5,b)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"ADD[]",j,T),b.push(T+j)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"SUB[]",j,T),b.push(T-j)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"DIV[]",j,T),b.push(64*T/j)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"MUL[]",j,T),b.push(T*j/64)},function(v){var b=v.stack,j=b.pop();f.DEBUG&&console.log(v.step,"ABS[]",j),b.push(Math.abs(j))},function(v){var b=v.stack,j=b.pop();f.DEBUG&&console.log(v.step,"NEG[]",j),b.push(-j)},function(v){var b=v.stack,j=b.pop();f.DEBUG&&console.log(v.step,"FLOOR[]",j),b.push(64*Math.floor(j/64))},function(v){var b=v.stack,j=b.pop();f.DEBUG&&console.log(v.step,"CEILING[]",j),b.push(64*Math.ceil(j/64))},Vs.bind(void 0,0),Vs.bind(void 0,1),Vs.bind(void 0,2),Vs.bind(void 0,3),void 0,void 0,void 0,void 0,function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"WCVTF[]",j,T),v.cvt[T]=j*v.ppem/v.font.unitsPerEm},Ji.bind(void 0,2),Ji.bind(void 0,3),ea.bind(void 0,1),ea.bind(void 0,2),ea.bind(void 0,3),function(v){var b,j=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"SROUND[]",j),v.round=du,192&j){case 0:b=.5;break;case 64:b=1;break;case 128:b=2;break;default:throw new Error("invalid SROUND value")}switch(v.srPeriod=b,48&j){case 0:v.srPhase=0;break;case 16:v.srPhase=.25*b;break;case 32:v.srPhase=.5*b;break;case 48:v.srPhase=.75*b;break;default:throw new Error("invalid SROUND value")}j&=15,v.srThreshold=j===0?0:(j/8-.5)*b},function(v){var b,j=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"S45ROUND[]",j),v.round=du,192&j){case 0:b=Math.sqrt(2)/2;break;case 64:b=Math.sqrt(2);break;case 128:b=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(v.srPeriod=b,48&j){case 0:v.srPhase=0;break;case 16:v.srPhase=.25*b;break;case 32:v.srPhase=.5*b;break;case 48:v.srPhase=.75*b;break;default:throw new Error("invalid S45ROUND value")}j&=15,v.srThreshold=j===0?0:(j/8-.5)*b},void 0,void 0,function(v){f.DEBUG&&console.log(v.step,"ROFF[]"),v.round=qh},void 0,function(v){f.DEBUG&&console.log(v.step,"RUTG[]"),v.round=$h},function(v){f.DEBUG&&console.log(v.step,"RDTG[]"),v.round=Kh},Zi,Zi,void 0,void 0,void 0,void 0,void 0,function(v){var b=v.stack.pop();f.DEBUG&&console.log(v.step,"SCANCTRL[]",b)},Cu.bind(void 0,0),Cu.bind(void 0,1),function(v){var b=v.stack,j=b.pop(),T=0;f.DEBUG&&console.log(v.step,"GETINFO[]",j),1&j&&(T=35),32&j&&(T|=4096),b.push(T)},void 0,function(v){var b=v.stack,j=b.pop(),T=b.pop(),M=b.pop();f.DEBUG&&console.log(v.step,"ROLL[]"),b.push(T),b.push(j),b.push(M)},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"MAX[]",j,T),b.push(Math.max(T,j))},function(v){var b=v.stack,j=b.pop(),T=b.pop();f.DEBUG&&console.log(v.step,"MIN[]",j,T),b.push(Math.min(T,j))},function(v){var b=v.stack.pop();f.DEBUG&&console.log(v.step,"SCANTYPE[]",b)},function(v){var b=v.stack.pop(),j=v.stack.pop();switch(f.DEBUG&&console.log(v.step,"INSTCTRL[]",b,j),b){case 1:return void(v.inhibitGridFit=!!j);case 2:return void(v.ignoreCvt=!!j);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Vn.bind(void 0,1),Vn.bind(void 0,2),Vn.bind(void 0,3),Vn.bind(void 0,4),Vn.bind(void 0,5),Vn.bind(void 0,6),Vn.bind(void 0,7),Vn.bind(void 0,8),Hn.bind(void 0,1),Hn.bind(void 0,2),Hn.bind(void 0,3),Hn.bind(void 0,4),Hn.bind(void 0,5),Hn.bind(void 0,6),Hn.bind(void 0,7),Hn.bind(void 0,8),at.bind(void 0,0,0,0,0,0),at.bind(void 0,0,0,0,0,1),at.bind(void 0,0,0,0,0,2),at.bind(void 0,0,0,0,0,3),at.bind(void 0,0,0,0,1,0),at.bind(void 0,0,0,0,1,1),at.bind(void 0,0,0,0,1,2),at.bind(void 0,0,0,0,1,3),at.bind(void 0,0,0,1,0,0),at.bind(void 0,0,0,1,0,1),at.bind(void 0,0,0,1,0,2),at.bind(void 0,0,0,1,0,3),at.bind(void 0,0,0,1,1,0),at.bind(void 0,0,0,1,1,1),at.bind(void 0,0,0,1,1,2),at.bind(void 0,0,0,1,1,3),at.bind(void 0,0,1,0,0,0),at.bind(void 0,0,1,0,0,1),at.bind(void 0,0,1,0,0,2),at.bind(void 0,0,1,0,0,3),at.bind(void 0,0,1,0,1,0),at.bind(void 0,0,1,0,1,1),at.bind(void 0,0,1,0,1,2),at.bind(void 0,0,1,0,1,3),at.bind(void 0,0,1,1,0,0),at.bind(void 0,0,1,1,0,1),at.bind(void 0,0,1,1,0,2),at.bind(void 0,0,1,1,0,3),at.bind(void 0,0,1,1,1,0),at.bind(void 0,0,1,1,1,1),at.bind(void 0,0,1,1,1,2),at.bind(void 0,0,1,1,1,3),at.bind(void 0,1,0,0,0,0),at.bind(void 0,1,0,0,0,1),at.bind(void 0,1,0,0,0,2),at.bind(void 0,1,0,0,0,3),at.bind(void 0,1,0,0,1,0),at.bind(void 0,1,0,0,1,1),at.bind(void 0,1,0,0,1,2),at.bind(void 0,1,0,0,1,3),at.bind(void 0,1,0,1,0,0),at.bind(void 0,1,0,1,0,1),at.bind(void 0,1,0,1,0,2),at.bind(void 0,1,0,1,0,3),at.bind(void 0,1,0,1,1,0),at.bind(void 0,1,0,1,1,1),at.bind(void 0,1,0,1,1,2),at.bind(void 0,1,0,1,1,3),at.bind(void 0,1,1,0,0,0),at.bind(void 0,1,1,0,0,1),at.bind(void 0,1,1,0,0,2),at.bind(void 0,1,1,0,0,3),at.bind(void 0,1,1,0,1,0),at.bind(void 0,1,1,0,1,1),at.bind(void 0,1,1,0,1,2),at.bind(void 0,1,1,0,1,3),at.bind(void 0,1,1,1,0,0),at.bind(void 0,1,1,1,0,1),at.bind(void 0,1,1,1,0,2),at.bind(void 0,1,1,1,0,3),at.bind(void 0,1,1,1,1,0),at.bind(void 0,1,1,1,1,1),at.bind(void 0,1,1,1,1,2),at.bind(void 0,1,1,1,1,3)];var Zh=Array.from||function(v){return v.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Wt(v){(v=v||{}).empty||(Oo(v.familyName,"When creating a new Font object, familyName is required."),Oo(v.styleName,"When creating a new Font object, styleName is required."),Oo(v.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Oo(v.ascender,"When creating a new Font object, ascender is required."),Oo(v.descender,"When creating a new Font object, descender is required."),Oo(v.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:v.familyName||" "},fontSubfamily:{en:v.styleName||" "},fullName:{en:v.fullName||v.familyName+" "+v.styleName},postScriptName:{en:v.postScriptName||(v.familyName+v.styleName).replace(/\s/g,"")},designer:{en:v.designer||" "},designerURL:{en:v.designerURL||" "},manufacturer:{en:v.manufacturer||" "},manufacturerURL:{en:v.manufacturerURL||" "},license:{en:v.license||" "},licenseURL:{en:v.licenseURL||" "},version:{en:v.version||"Version 0.1"},description:{en:v.description||" "},copyright:{en:v.copyright||" "},trademark:{en:v.trademark||" "}},this.unitsPerEm=v.unitsPerEm||1e3,this.ascender=v.ascender,this.descender=v.descender,this.createdTimestamp=v.createdTimestamp,this.tables={os2:{usWeightClass:v.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:v.widthClass||this.usWidthClasses.MEDIUM,fsSelection:v.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new mt.GlyphSet(this,v.glyphs||[]),this.encoding=new ke(this),this.position=new Us(this),this.substitution=new cn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:this.outlinesFormat==="truetype"?this._hinting=new uu(this):void 0}})}function Mu(v,b){var j=JSON.stringify(v),T=256;for(var M in b){var k=parseInt(M);if(k&&!(k<256)){if(JSON.stringify(b[M])===j)return k;T<=k&&(T=k+1)}}return b[T]=v,T}function Jh(v,b,j,T){for(var M=[{name:"nameID_"+v,type:"USHORT",value:Mu(b.name,T)},{name:"flags_"+v,type:"USHORT",value:0}],k=0;k<j.length;++k){var U=j[k].tag;M.push({name:"axis_"+v+" "+U,type:"FIXED",value:b.coordinates[U]<<16})}return M}function ef(v,b,j,T){var M={},k=new V.Parser(v,b);M.name=T[k.parseUShort()]||{},k.skip("uShort",1),M.coordinates={};for(var U=0;U<j.length;++U)M.coordinates[j[U].tag]=k.parseFixed();return M}Wt.prototype.hasChar=function(v){return this.encoding.charToGlyphIndex(v)!==null},Wt.prototype.charToGlyphIndex=function(v){return this.encoding.charToGlyphIndex(v)},Wt.prototype.charToGlyph=function(v){var b=this.charToGlyphIndex(v),j=this.glyphs.get(b);return j=j||this.glyphs.get(0)},Wt.prototype.stringToGlyphs=function(v,b){b=b||this.defaultRenderOptions;for(var j=Zh(v),T=[],M=0;M<j.length;M+=1){var k=j[M];T.push(this.charToGlyphIndex(k))}var U=T.length;if(b.features){var Y=b.script||this.substitution.getDefaultScriptName(),Z=[];b.features.liga&&(Z=Z.concat(this.substitution.getFeature("liga",Y,b.language))),b.features.rlig&&(Z=Z.concat(this.substitution.getFeature("rlig",Y,b.language)));for(var ce=0;ce<U;ce+=1)for(var ye=0;ye<Z.length;ye++){for(var Te=Z[ye],te=Te.sub,Ke=te.length,Xe=0;Xe<Ke&&te[Xe]===T[ce+Xe];)Xe++;Xe===Ke&&(T.splice(ce,Ke,Te.by),U=U-Ke+1)}}for(var Fe=new Array(U),Me=this.glyphs.get(0),Ie=0;Ie<U;Ie+=1)Fe[Ie]=this.glyphs.get(T[Ie])||Me;return Fe},Wt.prototype.nameToGlyphIndex=function(v){return this.glyphNames.nameToGlyphIndex(v)},Wt.prototype.nameToGlyph=function(v){var b=this.nameToGlyphIndex(v),j=this.glyphs.get(b);return j=j||this.glyphs.get(0)},Wt.prototype.glyphIndexToName=function(v){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(v):""},Wt.prototype.getKerningValue=function(v,b){v=v.index||v,b=b.index||b;var j=this.position.defaultKerningTables;return j?this.position.getKerningValue(j,v,b):this.kerningPairs[v+","+b]||0},Wt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Wt.prototype.forEachGlyph=function(v,b,j,T,M,k){b=b!==void 0?b:0,j=j!==void 0?j:0,T=T!==void 0?T:72,M=M||this.defaultRenderOptions;var U,Y=1/this.unitsPerEm*T,Z=this.stringToGlyphs(v,M);if(M.kerning){var ce=M.script||this.position.getDefaultScriptName();U=this.position.getKerningTables(ce,M.language)}for(var ye=0;ye<Z.length;ye+=1){var Te=Z[ye];k.call(this,Te,b,j,T,M),Te.advanceWidth&&(b+=Te.advanceWidth*Y),M.kerning&&ye<Z.length-1&&(b+=(U?this.position.getKerningValue(U,Te.index,Z[ye+1].index):this.getKerningValue(Te,Z[ye+1]))*Y),M.letterSpacing?b+=M.letterSpacing*T:M.tracking&&(b+=M.tracking/1e3*T)}return b},Wt.prototype.getPath=function(v,b,j,T,M){var k=new me;return this.forEachGlyph(v,b,j,T,M,function(U,Y,Z,ce){var ye=U.getPath(Y,Z,ce,M,this);k.extend(ye)}),k},Wt.prototype.getPaths=function(v,b,j,T,M){var k=[];return this.forEachGlyph(v,b,j,T,M,function(U,Y,Z,ce){var ye=U.getPath(Y,Z,ce,M,this);k.push(ye)}),k},Wt.prototype.getAdvanceWidth=function(v,b,j){return this.forEachGlyph(v,0,0,b,j,function(){})},Wt.prototype.draw=function(v,b,j,T,M,k){this.getPath(b,j,T,M,k).draw(v)},Wt.prototype.drawPoints=function(v,b,j,T,M,k){this.forEachGlyph(b,j,T,M,k,function(U,Y,Z,ce){U.drawPoints(v,Y,Z,ce)})},Wt.prototype.drawMetrics=function(v,b,j,T,M,k){this.forEachGlyph(b,j,T,M,k,function(U,Y,Z,ce){U.drawMetrics(v,Y,Z,ce)})},Wt.prototype.getEnglishName=function(v){var b=this.names[v];if(b)return b.en},Wt.prototype.validate=function(){var v=this;function b(j){var T=v.getEnglishName(j);T&&T.trim().length}b("fontFamily"),b("weightName"),b("manufacturer"),b("copyright"),b("version"),this.unitsPerEm},Wt.prototype.toTables=function(){return Vh.fontToTable(this)},Wt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Wt.prototype.toArrayBuffer=function(){for(var v=this.toTables().encode(),b=new ArrayBuffer(v.length),j=new Uint8Array(b),T=0;T<v.length;T++)j[T]=v[T];return b},Wt.prototype.download=function(v){var b=this.getEnglishName("fontFamily"),j=this.getEnglishName("fontSubfamily");v=v||b.replace(/\s/g,"")+"-"+j+".otf";var T=this.toArrayBuffer();if(typeof window<"u")window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,T.byteLength,function(U){U.root.getFile(v,{create:!0},function(Y){Y.createWriter(function(Z){var ce=new DataView(T),ye=new Blob([ce],{type:"font/opentype"});Z.write(ye),Z.addEventListener("writeend",function(){location.href=Y.toURL()},!1)})})},function(U){throw new Error(U.name+": "+U.message)});else{var M=e("fs"),k=function(U){for(var Y=new h(U.byteLength),Z=new Uint8Array(U),ce=0;ce<Y.length;++ce)Y[ce]=Z[ce];return Y}(T);M.writeFileSync(v,k)}},Wt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Wt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Wt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var tf={make:function(v,b){var j,T,M,k,U=new Le.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:v.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:v.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*v.axes.length}]);U.offsetToData=U.sizeOf();for(var Y=0;Y<v.axes.length;Y++)U.fields=U.fields.concat((j=Y,T=v.axes[Y],M=b,k=Mu(T.name,M),[{name:"tag_"+j,type:"TAG",value:T.tag},{name:"minValue_"+j,type:"FIXED",value:T.minValue<<16},{name:"defaultValue_"+j,type:"FIXED",value:T.defaultValue<<16},{name:"maxValue_"+j,type:"FIXED",value:T.maxValue<<16},{name:"flags_"+j,type:"USHORT",value:0},{name:"nameID_"+j,type:"USHORT",value:k}]));for(var Z=0;Z<v.instances.length;Z++)U.fields=U.fields.concat(Jh(Z,v.instances[Z],v.axes,b));return U},parse:function(v,b,j){var T=new V.Parser(v,b),M=T.parseULong();ve.argument(M===65536,"Unsupported fvar table version.");var k=T.parseOffset16();T.skip("uShort",1);for(var U,Y,Z,ce,ye,Te=T.parseUShort(),te=T.parseUShort(),Ke=T.parseUShort(),Xe=T.parseUShort(),Fe=[],Me=0;Me<Te;Me++)Fe.push((U=v,Y=b+k+Me*te,Z=j,ye=ce=void 0,ce={},ye=new V.Parser(U,Y),ce.tag=ye.parseTag(),ce.minValue=ye.parseFixed(),ce.defaultValue=ye.parseFixed(),ce.maxValue=ye.parseFixed(),ye.skip("uShort",1),ce.name=Z[ye.parseUShort()]||{},ce));for(var Ie=[],it=b+k+Te*te,st=0;st<Ke;st++)Ie.push(ef(v,it+st*Xe,Fe,j));return{axes:Fe,instances:Ie}}},Xr=new Array(10);Xr[1]=function(){var v=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{posFormat:1,coverage:this.parsePointer(be.coverage),value:this.parseValueRecord()}:b===2?{posFormat:2,coverage:this.parsePointer(be.coverage),values:this.parseValueRecordList()}:void ve.assert(!1,"0x"+v.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Xr[2]=function(){var v=this.offset+this.relativeOffset,b=this.parseUShort();ve.assert(b===1||b===2,"0x"+v.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var j=this.parsePointer(be.coverage),T=this.parseUShort(),M=this.parseUShort();if(b===1)return{posFormat:b,coverage:j,valueFormat1:T,valueFormat2:M,pairSets:this.parseList(be.pointer(be.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(T),value2:this.parseValueRecord(M)}})))};if(b===2){var k=this.parsePointer(be.classDef),U=this.parsePointer(be.classDef),Y=this.parseUShort(),Z=this.parseUShort();return{posFormat:b,coverage:j,valueFormat1:T,valueFormat2:M,classDef1:k,classDef2:U,class1Count:Y,class2Count:Z,classRecords:this.parseList(Y,be.list(Z,function(){return{value1:this.parseValueRecord(T),value2:this.parseValueRecord(M)}}))}}},Xr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Xr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Xr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Xr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Xr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Xr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Xr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var rf=new Array(10),nf={parse:function(v,b){var j=new be(v,b=b||0),T=j.parseVersion(1);return ve.argument(T===1||T===1.1,"Unsupported GPOS table version "+T),T===1?{version:T,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(Xr)}:{version:T,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(Xr),variations:j.parseFeatureVariationsList()}},make:function(v){return new Le.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Le.ScriptList(v.scripts)},{name:"features",type:"TABLE",value:new Le.FeatureList(v.features)},{name:"lookups",type:"TABLE",value:new Le.LookupList(v.lookups,rf)}])}},of={parse:function(v,b){var j=new V.Parser(v,b),T=j.parseUShort();if(T===0)return function(M){var k={};M.skip("uShort");var U=M.parseUShort();ve.argument(U===0,"Unsupported kern sub-table version."),M.skip("uShort",2);var Y=M.parseUShort();M.skip("uShort",3);for(var Z=0;Z<Y;Z+=1){var ce=M.parseUShort(),ye=M.parseUShort(),Te=M.parseShort();k[ce+","+ye]=Te}return k}(j);if(T===1)return function(M){var k={};M.skip("uShort"),1<M.parseULong()&&console.warn("Only the first kern subtable is supported."),M.skip("uLong");var U=255&M.parseUShort();if(M.skip("uShort"),U==0){var Y=M.parseUShort();M.skip("uShort",3);for(var Z=0;Z<Y;Z+=1){var ce=M.parseUShort(),ye=M.parseUShort(),Te=M.parseShort();k[ce+","+ye]=Te}}return k}(j);throw new Error("Unsupported kern table version ("+T+").")}},sf={parse:function(v,b,j,T){for(var M=new V.Parser(v,b),k=T?M.parseUShort:M.parseULong,U=[],Y=0;Y<j+1;Y+=1){var Z=k.call(M);T&&(Z*=2),U.push(Z)}return U}};function af(v,b){e("fs").readFile(v,function(j,T){if(j)return b(j.message);b(null,nu(T))})}function lf(v,b){var j=new XMLHttpRequest;j.open("get",v,!0),j.responseType="arraybuffer",j.onload=function(){return j.response?b(null,j.response):b("Font could not be loaded: "+j.statusText)},j.onerror=function(){b("Font could not be loaded")},j.send()}function Au(v,b){for(var j=[],T=12,M=0;M<b;M+=1){var k=V.getTag(v,T),U=V.getULong(v,T+4),Y=V.getULong(v,T+8),Z=V.getULong(v,T+12);j.push({tag:k,checksum:U,offset:Y,length:Z,compression:!1}),T+=16}return j}function ar(v,b){if(b.compression!=="WOFF")return{data:v,offset:b.offset};var j=new Uint8Array(v.buffer,b.offset+2,b.compressedLength-2),T=new Uint8Array(b.length);if(J(j,T),T.byteLength!==b.length)throw new Error("Decompression error: "+b.tag+" decompressed length doesn't match recorded length");return{data:new DataView(T.buffer,0),offset:0}}function ta(v){var b,j,T,M,k,U,Y,Z,ce,ye,Te,te,Ke,Xe,Fe=new Wt({empty:!0}),Me=new DataView(v,0),Ie=[],it=V.getTag(Me,0);if(it===String.fromCharCode(0,1,0,0)||it==="true"||it==="typ1")Fe.outlinesFormat="truetype",Ie=Au(Me,T=V.getUShort(Me,4));else if(it==="OTTO")Fe.outlinesFormat="cff",Ie=Au(Me,T=V.getUShort(Me,4));else{if(it!=="wOFF")throw new Error("Unsupported OpenType signature "+it);var st=V.getTag(Me,4);if(st===String.fromCharCode(0,1,0,0))Fe.outlinesFormat="truetype";else{if(st!=="OTTO")throw new Error("Unsupported OpenType flavor "+it);Fe.outlinesFormat="cff"}Ie=function(Rt,nr){for(var zt=[],qt=44,hn=0;hn<nr;hn+=1){var Po=V.getTag(Rt,qt),ho=V.getULong(Rt,qt+4),Nr=V.getULong(Rt,qt+8),fo=V.getULong(Rt,qt+12),ko=void 0;ko=Nr<fo&&"WOFF",zt.push({tag:Po,offset:ho,compression:ko,compressedLength:Nr,length:fo}),qt+=20}return zt}(Me,T=V.getUShort(Me,12))}for(var St=0;St<T;St+=1){var ct=Ie[St],ht=void 0;switch(ct.tag){case"cmap":ht=ar(Me,ct),Fe.tables.cmap=Q.parse(ht.data,ht.offset),Fe.encoding=new We(Fe.tables.cmap);break;case"cvt ":ht=ar(Me,ct),Xe=new V.Parser(ht.data,ht.offset),Fe.tables.cvt=Xe.parseShortList(ct.length/2);break;case"fvar":k=ct;break;case"fpgm":ht=ar(Me,ct),Xe=new V.Parser(ht.data,ht.offset),Fe.tables.fpgm=Xe.parseByteList(ct.length);break;case"head":ht=ar(Me,ct),Fe.tables.head=ot.parse(ht.data,ht.offset),Fe.unitsPerEm=Fe.tables.head.unitsPerEm,b=Fe.tables.head.indexToLocFormat;break;case"hhea":ht=ar(Me,ct),Fe.tables.hhea=Ge.parse(ht.data,ht.offset),Fe.ascender=Fe.tables.hhea.ascender,Fe.descender=Fe.tables.hhea.descender,Fe.numberOfHMetrics=Fe.tables.hhea.numberOfHMetrics;break;case"hmtx":ce=ct;break;case"ltag":ht=ar(Me,ct),j=Ot.parse(ht.data,ht.offset);break;case"maxp":ht=ar(Me,ct),Fe.tables.maxp=Bt.parse(ht.data,ht.offset),Fe.numGlyphs=Fe.tables.maxp.numGlyphs;break;case"name":te=ct;break;case"OS/2":ht=ar(Me,ct),Fe.tables.os2=Yi.parse(ht.data,ht.offset);break;case"post":ht=ar(Me,ct),Fe.tables.post=Yl.parse(ht.data,ht.offset),Fe.glyphNames=new Qe(Fe.tables.post);break;case"prep":ht=ar(Me,ct),Xe=new V.Parser(ht.data,ht.offset),Fe.tables.prep=Xe.parseByteList(ct.length);break;case"glyf":U=ct;break;case"loca":Te=ct;break;case"CFF ":M=ct;break;case"kern":ye=ct;break;case"GPOS":Y=ct;break;case"GSUB":Z=ct;break;case"meta":Ke=ct}}var Zt=ar(Me,te);if(Fe.tables.name=ql.parse(Zt.data,Zt.offset,j),Fe.names=Fe.tables.name,U&&Te){var Et=b===0,jt=ar(Me,Te),Ct=sf.parse(jt.data,jt.offset,Fe.numGlyphs,Et),Nt=ar(Me,U);Fe.glyphs=lu.parse(Nt.data,Nt.offset,Ct,Fe)}else{if(!M)throw new Error("Font doesn't contain TrueType or CFF outlines.");var Dt=ar(Me,M);Ye.parse(Dt.data,Dt.offset,Fe)}var $t=ar(Me,ce);if(Tt.parse($t.data,$t.offset,Fe.numberOfHMetrics,Fe.numGlyphs,Fe.glyphs),function(Rt){for(var nr,zt=Rt.tables.cmap.glyphIndexMap,qt=Object.keys(zt),hn=0;hn<qt.length;hn+=1){var Po=qt[hn],ho=zt[Po];(nr=Rt.glyphs.get(ho)).addUnicode(parseInt(Po))}for(var Nr=0;Nr<Rt.glyphs.length;Nr+=1)nr=Rt.glyphs.get(Nr),Rt.cffEncoding?Rt.isCIDFont?nr.name="gid"+Nr:nr.name=Rt.cffEncoding.charset[Nr]:Rt.glyphNames.names&&(nr.name=Rt.glyphNames.glyphIndexToName(Nr))}(Fe),ye){var Ft=ar(Me,ye);Fe.kerningPairs=of.parse(Ft.data,Ft.offset)}else Fe.kerningPairs={};if(Y){var It=ar(Me,Y);Fe.tables.gpos=nf.parse(It.data,It.offset),Fe.position.init()}if(Z){var Kt=ar(Me,Z);Fe.tables.gsub=Xl.parse(Kt.data,Kt.offset)}if(k){var Vt=ar(Me,k);Fe.tables.fvar=tf.parse(Vt.data,Vt.offset,Fe.names)}if(Ke){var rr=ar(Me,Ke);Fe.tables.meta=$l.parse(rr.data,rr.offset),Fe.metas=Fe.tables.meta}return Fe}f.Font=Wt,f.Glyph=ft,f.Path=me,f.BoundingBox=se,f._parse=V,f.parse=ta,f.load=function(v,b){(typeof window>"u"?af:lf)(v,function(j,T){if(j)return b(j);var M;try{M=ta(T)}catch(k){return b(k,null)}return b(null,M)})},f.loadSync=function(v){return ta(nu(e("fs").readFileSync(v)))},Object.defineProperty(f,"__esModule",{value:!0})},p(typeof d=="object"&&u!==void 0?d:r.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],240:[function(e,u,d){(function(h){function r(g,m){for(var i=0,o=g.length-1;0<=o;o--){var a=g[o];a==="."?g.splice(o,1):a===".."?(g.splice(o,1),i++):i&&(g.splice(o,1),i--)}if(m)for(;i--;)g.unshift("..");return g}function p(g,m){if(g.filter)return g.filter(m);for(var i=[],o=0;o<g.length;o++)m(g[o],o,g)&&i.push(g[o]);return i}d.resolve=function(){for(var g="",m=!1,i=arguments.length-1;-1<=i&&!m;i--){var o=0<=i?arguments[i]:h.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");o&&(g=o+"/"+g,m=o.charAt(0)==="/")}return(m?"/":"")+(g=r(p(g.split("/"),function(a){return!!a}),!m).join("/"))||"."},d.normalize=function(g){var m=d.isAbsolute(g),i=f(g,-1)==="/";return(g=r(p(g.split("/"),function(o){return!!o}),!m).join("/"))||m||(g="."),g&&i&&(g+="/"),(m?"/":"")+g},d.isAbsolute=function(g){return g.charAt(0)==="/"},d.join=function(){var g=Array.prototype.slice.call(arguments,0);return d.normalize(p(g,function(m,i){if(typeof m!="string")throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},d.relative=function(g,m){function i(x){for(var S=0;S<x.length&&x[S]==="";S++);for(var E=x.length-1;0<=E&&x[E]==="";E--);return E<S?[]:x.slice(S,E-S+1)}g=d.resolve(g).substr(1),m=d.resolve(m).substr(1);for(var o=i(g.split("/")),a=i(m.split("/")),l=Math.min(o.length,a.length),c=l,y=0;y<l;y++)if(o[y]!==a[y]){c=y;break}var w=[];for(y=c;y<o.length;y++)w.push("..");return(w=w.concat(a.slice(c))).join("/")},d.sep="/",d.delimiter=":",d.dirname=function(g){if(typeof g!="string"&&(g+=""),g.length===0)return".";for(var m=g.charCodeAt(0),i=m===47,o=-1,a=!0,l=g.length-1;1<=l;--l)if((m=g.charCodeAt(l))===47){if(!a){o=l;break}}else a=!1;return o===-1?i?"/":".":i&&o===1?"/":g.slice(0,o)},d.basename=function(g,m){var i=function(o){typeof o!="string"&&(o+="");var a,l=0,c=-1,y=!0;for(a=o.length-1;0<=a;--a)if(o.charCodeAt(a)===47){if(!y){l=a+1;break}}else c===-1&&(y=!1,c=a+1);return c===-1?"":o.slice(l,c)}(g);return m&&i.substr(-1*m.length)===m&&(i=i.substr(0,i.length-m.length)),i},d.extname=function(g){typeof g!="string"&&(g+="");for(var m=-1,i=0,o=-1,a=!0,l=0,c=g.length-1;0<=c;--c){var y=g.charCodeAt(c);if(y===47){if(a)continue;i=c+1;break}o===-1&&(a=!1,o=c+1),y===46?m===-1?m=c:l!==1&&(l=1):m!==-1&&(l=-1)}return m===-1||o===-1||l===0||l===1&&m===o-1&&m===i+1?"":g.slice(m,o)};var f="ab".substr(-1)==="b"?function(g,m,i){return g.substr(m,i)}:function(g,m,i){return m<0&&(m=g.length+m),g.substr(m,i)}}).call(this,e("_process"))},{_process:241}],241:[function(e,u,d){var h,r,p=u.exports={};function f(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function m(S){if(h===setTimeout)return setTimeout(S,0);if((h===f||!h)&&setTimeout)return h=setTimeout,setTimeout(S,0);try{return h(S,0)}catch{try{return h.call(null,S,0)}catch{return h.call(this,S,0)}}}(function(){try{h=typeof setTimeout=="function"?setTimeout:f}catch{h=f}try{r=typeof clearTimeout=="function"?clearTimeout:g}catch{r=g}})();var i,o=[],a=!1,l=-1;function c(){a&&i&&(a=!1,i.length?o=i.concat(o):l=-1,o.length&&y())}function y(){if(!a){var S=m(c);a=!0;for(var E=o.length;E;){for(i=o,o=[];++l<E;)i&&i[l].run();l=-1,E=o.length}i=null,a=!1,function(C){if(r===clearTimeout)return clearTimeout(C);if((r===g||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(C);try{r(C)}catch{try{return r.call(null,C)}catch{return r.call(this,C)}}}(S)}}function w(S,E){this.fun=S,this.array=E}function x(){}p.nextTick=function(S){var E=new Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)E[C-1]=arguments[C];o.push(new w(S,E)),o.length!==1||a||m(y)},w.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=x,p.addListener=x,p.once=x,p.off=x,p.removeListener=x,p.removeAllListeners=x,p.emit=x,p.prependListener=x,p.prependOnceListener=x,p.listeners=function(S){return[]},p.binding=function(S){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(S){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],242:[function(e,u,d){(function(h){if(!h.fetch){var r="URLSearchParams"in h,p="Symbol"in h&&"iterator"in Symbol,f="FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),g="FormData"in h,m="ArrayBuffer"in h;if(m)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(D){return D&&DataView.prototype.isPrototypeOf(D)},a=ArrayBuffer.isView||function(D){return D&&-1<i.indexOf(Object.prototype.toString.call(D))};S.prototype.append=function(D,H){D=y(D),H=w(H);var z=this.map[D];this.map[D]=z?z+","+H:H},S.prototype.delete=function(D){delete this.map[y(D)]},S.prototype.get=function(D){return D=y(D),this.has(D)?this.map[D]:null},S.prototype.has=function(D){return this.map.hasOwnProperty(y(D))},S.prototype.set=function(D,H){this.map[y(D)]=w(H)},S.prototype.forEach=function(D,H){for(var z in this.map)this.map.hasOwnProperty(z)&&D.call(H,this.map[z],z,this)},S.prototype.keys=function(){var D=[];return this.forEach(function(H,z){D.push(z)}),x(D)},S.prototype.values=function(){var D=[];return this.forEach(function(H){D.push(H)}),x(D)},S.prototype.entries=function(){var D=[];return this.forEach(function(H,z){D.push([z,H])}),x(D)},p&&(S.prototype[Symbol.iterator]=S.prototype.entries);var l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];R.prototype.clone=function(){return new R(this,{body:this._bodyInit})},I.call(R.prototype),I.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},N.error=function(){var D=new N(null,{status:0,statusText:""});return D.type="error",D};var c=[301,302,303,307,308];N.redirect=function(D,H){if(c.indexOf(H)===-1)throw new RangeError("Invalid status code");return new N(null,{status:H,headers:{location:D}})},h.Headers=S,h.Request=R,h.Response=N,h.fetch=function(D,H){return new Promise(function(z,ae){var le=new R(D,H),J=new XMLHttpRequest;J.onload=function(){var ue,se,me={status:J.status,statusText:J.statusText,headers:(ue=J.getAllResponseHeaders()||"",se=new S,ue.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Ce){var ve=Ce.split(":"),De=ve.shift().trim();if(De){var _e=ve.join(":").trim();se.append(De,_e)}}),se)};me.url="responseURL"in J?J.responseURL:me.headers.get("X-Request-URL");var xe="response"in J?J.response:J.responseText;z(new N(xe,me))},J.onerror=function(){ae(new TypeError("Network request failed"))},J.ontimeout=function(){ae(new TypeError("Network request failed"))},J.open(le.method,le.url,!0),le.credentials==="include"?J.withCredentials=!0:le.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&f&&(J.responseType="blob"),le.headers.forEach(function(ue,se){J.setRequestHeader(se,ue)}),J.send(le._bodyInit===void 0?null:le._bodyInit)})},h.fetch.polyfill=!0}function y(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(D))throw new TypeError("Invalid character in header field name");return D.toLowerCase()}function w(D){return typeof D!="string"&&(D=String(D)),D}function x(D){var H={next:function(){var z=D.shift();return{done:z===void 0,value:z}}};return p&&(H[Symbol.iterator]=function(){return H}),H}function S(D){this.map={},D instanceof S?D.forEach(function(H,z){this.append(z,H)},this):Array.isArray(D)?D.forEach(function(H){this.append(H[0],H[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(H){this.append(H,D[H])},this)}function E(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function C(D){return new Promise(function(H,z){D.onload=function(){H(D.result)},D.onerror=function(){z(D.error)}})}function A(D){var H=new FileReader,z=C(H);return H.readAsArrayBuffer(D),z}function O(D){if(D.slice)return D.slice(0);var H=new Uint8Array(D.byteLength);return H.set(new Uint8Array(D)),H.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(D){if(this._bodyInit=D)if(typeof D=="string")this._bodyText=D;else if(f&&Blob.prototype.isPrototypeOf(D))this._bodyBlob=D;else if(g&&FormData.prototype.isPrototypeOf(D))this._bodyFormData=D;else if(r&&URLSearchParams.prototype.isPrototypeOf(D))this._bodyText=D.toString();else if(m&&f&&o(D))this._bodyArrayBuffer=O(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(D)&&!a(D))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=O(D)}else this._bodyText="";this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f&&(this.blob=function(){var D=E(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?E(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var D,H,z,ae=E(this);if(ae)return ae;if(this._bodyBlob)return D=this._bodyBlob,H=new FileReader,z=C(H),H.readAsText(D),z;if(this._bodyArrayBuffer)return Promise.resolve(function(le){for(var J=new Uint8Array(le),ue=new Array(J.length),se=0;se<J.length;se++)ue[se]=String.fromCharCode(J[se]);return ue.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}function R(D,H){var z,ae,le=(H=H||{}).body;if(D instanceof R){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,H.headers||(this.headers=new S(D.headers)),this.method=D.method,this.mode=D.mode,le||D._bodyInit==null||(le=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=H.credentials||this.credentials||"omit",!H.headers&&this.headers||(this.headers=new S(H.headers)),this.method=(z=H.method||this.method||"GET",ae=z.toUpperCase(),-1<l.indexOf(ae)?ae:z),this.mode=H.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&le)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(le)}function L(D){var H=new FormData;return D.trim().split("&").forEach(function(z){if(z){var ae=z.split("="),le=ae.shift().replace(/\+/g," "),J=ae.join("=").replace(/\+/g," ");H.append(decodeURIComponent(le),decodeURIComponent(J))}}),H}function N(D,H){H=H||{},this.type="default",this.status=H.status===void 0?200:H.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new S(H.headers),this.url=H.url||"",this._initBody(D)}})(typeof self<"u"?self:this)},{}],243:[function(e,u,d){e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=f(e("../core/main")),p=f(e("../color/color_conversion"));function f(o){return o&&o.__esModule?o:{default:o}}var g=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],m=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];r.default.prototype._rgbColorName=function(o){var a=p.default._rgbaToHSBA(o);return function(l){var c;if(l[0]!==0){l[0]=Math.round(100*l[0]);var y=l[0].toString().split(""),w=y.length-1;y[w]=parseInt(y[w]),y[w]<2.5?y[w]=0:2.5<=y[w]&&y[w]<7.5&&(y[w]=5),y.length===2?(y[0]=parseInt(y[0]),7.5<=y[w]&&(y[w]=0,y[0]=y[0]+1),l[0]=10*y[0]+y[1]):7.5<=y[w]?l[0]=10:l[0]=y[w]}l[2]=l[2]/255;for(var x=l.length-1;1<=x;x--)l[x]<=.25?l[x]=0:.25<l[x]&&l[x]<.75?l[x]=.5:l[x]=1;if(l[0]===0&&l[1]===0&&l[2]===1){for(var S=2;0<=S;S--)h[S]=Math.round(1e4*h[S])/1e4;for(var E=0;E<g.length;E++){if(g[E].h===h[0]&&g[E].s===h[1]&&g[E].b===h[2]){c=g[E].name;break}c="white"}}else for(var C=0;C<m.length;C++)if(m[C].h===l[0]&&m[C].s===l[1]&&m[C].b===l[2]){c=m[C].name;break}return c}([(h=a)[0],a[1],a[2]])};var i=r.default;d.default=i},{"../color/color_conversion":249,"../core/main":264,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],244:[function(e,u,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h},p="_Description",f="_fallbackDesc",g="_fallbackTable",m="_Label",i="_labelDesc",o="_labelTable";function a(c){if(c==="label"||c==="fallback")throw new Error("description should not be LABEL or FALLBACK");return c.endsWith(".")||c.endsWith(";")||c.endsWith(",")||c.endsWith("?")||c.endsWith("!")||(c+="."),c}r.default.prototype.describe=function(c,y){if(r.default._validateParameters("describe",arguments),typeof c=="string"){var w=this.canvas.id;c=a(c),this.dummyDOM||(this.dummyDOM=document.getElementById(w).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==c&&(this.descriptions.fallback.innerHTML=c):this._describeHTML("fallback",c),y===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==c&&(this.descriptions.label.innerHTML=c):this._describeHTML("label",c))}},r.default.prototype.describeElement=function(c,y,w){if(r.default._validateParameters("describeElement",arguments),typeof y=="string"&&typeof c=="string"){var x=this.canvas.id;y=a(y);var S=function(C){if(C==="label"||C==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return C.endsWith(".")||C.endsWith(";")||C.endsWith(",")?C=C.replace(/.$/,":"):C.endsWith(":")||(C+=":"),C}(c);c=c.replace(/[^a-zA-Z0-9]/g,"");var E='<th scope="row">'.concat(S,"</th><td>").concat(y,"</td>");this.dummyDOM||(this.dummyDOM=document.getElementById(x).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[c]?this.descriptions.fallbackElements[c].innerHTML!==E&&(this.descriptions.fallbackElements[c].innerHTML=E):this._describeElementHTML("fallback",c,E),w===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[c]?this.descriptions.labelElements[c].innerHTML!==E&&(this.descriptions.labelElements[c].innerHTML=E):this._describeElementHTML("label",c,E))}},r.default.prototype._describeHTML=function(c,y){var w=this.canvas.id;if(c==="fallback"){if(this.dummyDOM.querySelector("#".concat(w+p)))this.dummyDOM.querySelector("#"+w+g).insertAdjacentHTML("beforebegin",'<p id="'.concat(w+f,'"></p>'));else{var x='<div id="'.concat(w).concat(p,'" role="region" aria-label="Canvas Description"><p id="').concat(w).concat(f,'"></p></div>');this.dummyDOM.querySelector("#".concat(w,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutput")).insertAdjacentHTML("beforebegin",x):this.dummyDOM.querySelector("#".concat(w)).innerHTML=x}return this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(w).concat(f)),void(this.descriptions.fallback.innerHTML=y)}if(c==="label"){if(this.dummyDOM.querySelector("#".concat(w+m)))this.dummyDOM.querySelector("#".concat(w+o))&&this.dummyDOM.querySelector("#".concat(w+o)).insertAdjacentHTML("beforebegin",'<p id="'.concat(w).concat(i,'"></p>'));else{var S='<div id="'.concat(w).concat(m,'" class="p5Label"><p id="').concat(w).concat(i,'"></p></div>');this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",S):this.dummyDOM.querySelector("#"+w).insertAdjacentHTML("afterend",S)}return this.descriptions.label=this.dummyDOM.querySelector("#"+w+i),void(this.descriptions.label.innerHTML=y)}},r.default.prototype._describeElementHTML=function(c,y,w){var x=this.canvas.id;if(c==="fallback"){if(this.dummyDOM.querySelector("#".concat(x+p)))this.dummyDOM.querySelector("#"+x+g)||this.dummyDOM.querySelector("#"+x+f).insertAdjacentHTML("afterend",'<table id="'.concat(x).concat(g,'"><caption>Canvas elements and their descriptions</caption></table>'));else{var S='<div id="'.concat(x).concat(p,'" role="region" aria-label="Canvas Description"><table id="').concat(x).concat(g,'"><caption>Canvas elements and their descriptions</caption></table></div>');this.dummyDOM.querySelector("#".concat(x,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutput")).insertAdjacentHTML("beforebegin",S):this.dummyDOM.querySelector("#"+x).innerHTML=S}var E=document.createElement("tr");return E.id=x+"_fte_"+y,this.dummyDOM.querySelector("#"+x+g).appendChild(E),this.descriptions.fallbackElements[y]=this.dummyDOM.querySelector("#".concat(x).concat("_fte_").concat(y)),void(this.descriptions.fallbackElements[y].innerHTML=w)}if(c==="label"){if(this.dummyDOM.querySelector("#".concat(x+m)))this.dummyDOM.querySelector("#".concat(x+o))||this.dummyDOM.querySelector("#"+x+i).insertAdjacentHTML("afterend",'<table id="'.concat(x+o,'"></table>'));else{var C='<div id="'.concat(x).concat(m,'" class="p5Label"><table id="').concat(x).concat(o,'"></table></div>');this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",C):this.dummyDOM.querySelector("#"+x).insertAdjacentHTML("afterend",C)}var A=document.createElement("tr");A.id=x+"_lte_"+y,this.dummyDOM.querySelector("#"+x+o).appendChild(A),this.descriptions.labelElements[y]=this.dummyDOM.querySelector("#".concat(x).concat("_lte_").concat(y)),this.descriptions.labelElements[y].innerHTML=w}};var l=r.default;d.default=l},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],245:[function(e,u,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.prototype._updateGridOutput=function(f){if(this.dummyDOM.querySelector("#".concat(f,"_summary"))){var g=this._accessibleOutputs[f],m=function(a,l){var c="",y="",w=0;for(var x in l){var S=0;for(var E in l[x]){var C='<li id="'.concat(a,"shape").concat(w,'">').concat(l[x][E].color," ").concat(x,",");x==="line"?C+=" location = ".concat(l[x][E].pos,", length = ").concat(l[x][E].length," pixels"):(C+=" location = ".concat(l[x][E].pos),x!=="point"&&(C+=", area = ".concat(l[x][E].area," %")),C+="</li>"),c+=C,S++,w++}y=1<S?"".concat(y," ").concat(S," ").concat(x,"s"):"".concat(y," ").concat(S," ").concat(x)}return{numShapes:[w,y],details:c}}(f,this.ingredients.shapes),i=function(a,l,c,y){var w="".concat(l," canvas, ").concat(c," by ").concat(y," pixels, contains ").concat(a[0]);return w=a[0]===1?"".concat(w," shape: ").concat(a[1]):"".concat(w," shapes: ").concat(a[1]),w}(m.numShapes,this.ingredients.colors.background,this.width,this.height),o=function(a,l){var c=0,y="",w=Array.apply(null,Array(10)).map(function(){});for(var x in w)w[x]=Array.apply(null,Array(10)).map(function(){});for(var S in l)for(var E in l[S]){var C=void 0;C=S!=="line"?'<a href="#'.concat(a,"shape").concat(c,'">').concat(l[S][E].color," ").concat(S,"</a>"):'<a href="#'.concat(a,"shape").concat(c,'">').concat(l[S][E].color," ").concat(S," midpoint</a>"),w[l[S][E].loc.locY][l[S][E].loc.locX]?w[l[S][E].loc.locY][l[S][E].loc.locX]=w[l[S][E].loc.locY][l[S][E].loc.locX]+"  "+C:w[l[S][E].loc.locY][l[S][E].loc.locX]=C,c++}for(var A in w){var O="<tr>";for(var I in w[A])O+="<td>",w[A][I]!==void 0&&(O+=w[A][I]),O+="</td>";y=y+O+"</tr>"}return y}(f,this.ingredients.shapes);i!==g.summary.innerHTML&&(g.summary.innerHTML=i),o!==g.map.innerHTML&&(g.map.innerHTML=o),m.details!==g.shapeDetails.innerHTML&&(g.shapeDetails.innerHTML=m.details),this._accessibleOutputs[f]=g}};var p=r.default;d.default=p},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],246:[function(e,u,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(m,i,o){return m[0]<.4*i?m[1]<.4*o?"top left":m[1]>.6*o?"bottom left":"mid left":m[0]>.6*i?m[1]<.4*o?"top right":m[1]>.6*o?"bottom right":"mid right":m[1]<.4*o?"top middle":m[1]>.6*o?"bottom middle":"middle"}function f(m,i,o){var a=Math.floor(m[0]/i*10),l=Math.floor(m[1]/o*10);return a===10&&--a,l===10&&--l,{locX:a,locY:l}}r.default.prototype.textOutput=function(m){r.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),m===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},r.default.prototype.gridOutput=function(m){r.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),m===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},r.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},r.default.prototype._createOutput=function(m,i){var o,a,l,c=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(c).parentNode);var y="";i==="Fallback"?(o=c+m,a=c+"accessibleOutput",this.dummyDOM.querySelector("#".concat(a))||(this.dummyDOM.querySelector("#".concat(c,"_Description"))?this.dummyDOM.querySelector("#".concat(c,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(c)).innerHTML='<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>'))):i==="Label"&&(o=c+m+(y=i),a=c+"accessibleOutput"+i,this.dummyDOM.querySelector("#".concat(a))||(this.dummyDOM.querySelector("#".concat(c,"_Label"))?this.dummyDOM.querySelector("#".concat(c,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(a,'"></div>')):this.dummyDOM.querySelector("#".concat(c)).insertAdjacentHTML("afterend",'<div id="'.concat(a,'"></div>')))),this._accessibleOutputs[o]={},m==="textOutput"?(y="#".concat(c,"gridOutput").concat(y),l='<div id="'.concat(o,'">Text Output<div id="').concat(o,'Summary" aria-label="text output summary"><p id="').concat(o,'_summary"></p><ul id="').concat(o,'_list"></ul></div><table id="').concat(o,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(y)?this.dummyDOM.querySelector(y).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(a)).innerHTML=l,this._accessibleOutputs[o].list=this.dummyDOM.querySelector("#".concat(o,"_list"))):m==="gridOutput"&&(y="#".concat(c,"textOutput").concat(y),l='<div id="'.concat(o,'">Grid Output<p id="').concat(o,'_summary" aria-label="grid output summary"><table id="').concat(o,'_map" summary="grid output content"></table><ul id="').concat(o,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(y)?this.dummyDOM.querySelector(y).insertAdjacentHTML("afterend",l):this.dummyDOM.querySelector("#".concat(a)).innerHTML=l,this._accessibleOutputs[o].map=this.dummyDOM.querySelector("#".concat(o,"_map"))),this._accessibleOutputs[o].shapeDetails=this.dummyDOM.querySelector("#".concat(o,"_shapeDetails")),this._accessibleOutputs[o].summary=this.dummyDOM.querySelector("#".concat(o,"_summary"))},r.default.prototype._updateAccsOutput=function(){var m=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(m+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(m+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(m+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(m+"gridOutputLabel"))},r.default.prototype._accsBackground=function(m){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==m&&(this.ingredients.colors.backgroundRGBA=m,this.ingredients.colors.background=this._rgbColorName(m))},r.default.prototype._accsCanvasColors=function(m,i){m==="fill"?this.ingredients.colors.fillRGBA!==i&&(this.ingredients.colors.fillRGBA=i,this.ingredients.colors.fill=this._rgbColorName(i)):m==="stroke"&&this.ingredients.colors.strokeRGBA!==i&&(this.ingredients.colors.strokeRGBA=i,this.ingredients.colors.stroke=this._rgbColorName(i))},r.default.prototype._accsOutput=function(m,i){m==="ellipse"&&i[2]===i[3]?m="circle":m==="rectangle"&&i[2]===i[3]&&(m="square");var o={},a=!0,l=function(x,S){var E,C;return C=x==="rectangle"||x==="ellipse"||x==="arc"||x==="circle"||x==="square"?(E=Math.round(S[0]+S[2]/2),Math.round(S[1]+S[3]/2)):x==="triangle"?(E=(S[0]+S[2]+S[4])/3,(S[1]+S[3]+S[5])/3):x==="quadrilateral"?(E=(S[0]+S[2]+S[4]+S[6])/4,(S[1]+S[3]+S[5]+S[7])/4):x==="line"?(E=(S[0]+S[2])/2,(S[1]+S[3])/2):(E=S[0],S[1]),[E,C]}(m,i);if(m==="line"){o.color=this.ingredients.colors.stroke,o.length=Math.round(this.dist(i[0],i[1],i[2],i[3]));var c=p([i[0],[1]],this.width,this.height),y=p([i[2],[3]],this.width,this.height);o.loc=f(l,this.width,this.height),o.pos=c===y?"at ".concat(c):"from ".concat(c," to ").concat(y)}else m==="point"?o.color=this.ingredients.colors.stroke:(o.color=this.ingredients.colors.fill,o.area=function(x,S,E,C){var A=0;if(x==="arc"){var O=((S[5]-S[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(A=O*S[2]*S[3]/8,S[6]==="open"||S[6]==="chord"){var I=S[0],R=S[1],L=S[0]+S[2]/2*Math.cos(S[4]).toFixed(2),N=S[1]+S[3]/2*Math.sin(S[4]).toFixed(2),D=S[0]+S[2]/2*Math.cos(S[5]).toFixed(2),H=S[1]+S[3]/2*Math.sin(S[5]).toFixed(2),z=Math.abs(I*(N-H)+L*(H-R)+D*(R-N))/2;O>Math.PI?A+=z:A-=z}}else x==="ellipse"||x==="circle"?A=3.14*S[2]/2*S[3]/2:x==="line"||x==="point"?A=0:x==="quadrilateral"?A=Math.abs((S[6]+S[0])*(S[7]-S[1])+(S[0]+S[2])*(S[1]-S[3])+(S[2]+S[4])*(S[3]-S[5])+(S[4]+S[6])*(S[5]-S[7]))/2:x==="rectangle"||x==="square"?A=S[2]*S[3]:x==="triangle"&&(A=Math.abs(S[0]*(S[3]-S[5])+S[2]*(S[5]-S[1])+S[4]*(S[1]-S[3]))/2);return Math.round(100*A/(E*C))}(m,i,this.width,this.height)),o.pos=p(l,this.width,this.height),o.loc=f(l,this.width,this.height);if(this.ingredients.shapes[m]){if(this.ingredients.shapes[m]!==[o]){for(var w in this.ingredients.shapes[m])JSON.stringify(this.ingredients.shapes[m][w])===JSON.stringify(o)&&(a=!1);a===!0&&this.ingredients.shapes[m].push(o)}}else this.ingredients.shapes[m]=[o]};var g=r.default;d.default=g},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":172}],247:[function(e,u,d){e("core-js/modules/es.array.concat"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.prototype._updateTextOutput=function(f){if(this.dummyDOM.querySelector("#".concat(f,"_summary"))){var g=this._accessibleOutputs[f],m=function(a,l){var c="",y=0;for(var w in l)for(var x in l[w]){var S='<li><a href="#'.concat(a,"shape").concat(y,'">').concat(l[w][x].color," ").concat(w,"</a>");w==="line"?S+=", ".concat(l[w][x].pos,", ").concat(l[w][x].length," pixels long.</li>"):(S+=", at ".concat(l[w][x].pos),w!=="point"&&(S+=", covering ".concat(l[w][x].area,"% of the canvas")),S+=".</li>"),c+=S,y++}return{numShapes:y,listShapes:c}}(f,this.ingredients.shapes),i=function(a,l,c,y){var w="Your output is a, ".concat(c," by ").concat(y," pixels, ").concat(l," canvas containing the following");return w=a===1?"".concat(w," shape:"):"".concat(w," ").concat(a," shapes:"),w}(m.numShapes,this.ingredients.colors.background,this.width,this.height),o=function(a,l){var c="",y=0;for(var w in l)for(var x in l[w]){var S='<tr id="'.concat(a,"shape").concat(y,'"><th>').concat(l[w][x].color," ").concat(w,"</th>");w==="line"?S+="<td>location = ".concat(l[w][x].pos,"</td><td>length = ").concat(l[w][x].length," pixels</td></tr>"):(S+="<td>location = ".concat(l[w][x].pos,"</td>"),w!=="point"&&(S+="<td> area = ".concat(l[w][x].area,"%</td>")),S+="</tr>"),c+=S,y++}return c}(f,this.ingredients.shapes);i!==g.summary.innerHTML&&(g.summary.innerHTML=i),m.listShapes!==g.list.innerHTML&&(g.list.innerHTML=m.listShapes),o!==g.shapeDetails.innerHTML&&(g.shapeDetails.innerHTML=o),this._accessibleOutputs[f]=g}};var p=r.default;d.default=p},{"../core/main":264,"core-js/modules/es.array.concat":149}],248:[function(e,u,d){var h,r=(h=e("./core/main"))&&h.__esModule?h:{default:h};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),u.exports=r.default},{"./accessibility/color_namer":243,"./accessibility/describe":244,"./accessibility/gridOutput":245,"./accessibility/outputs":246,"./accessibility/textOutput":247,"./color/color_conversion":249,"./color/creating_reading":250,"./color/p5.Color":251,"./color/setting":252,"./core/constants":253,"./core/environment":254,"./core/friendly_errors/fes_core":255,"./core/friendly_errors/file_errors":256,"./core/friendly_errors/sketch_reader":257,"./core/friendly_errors/stacktrace":258,"./core/friendly_errors/validate_params":259,"./core/helpers":260,"./core/init":261,"./core/legacy":263,"./core/main":264,"./core/p5.Element":265,"./core/p5.Graphics":266,"./core/p5.Renderer":267,"./core/p5.Renderer2D":268,"./core/preload":269,"./core/rendering":270,"./core/shape/2d_primitives":271,"./core/shape/attributes":272,"./core/shape/curves":273,"./core/shape/vertex":274,"./core/shim":275,"./core/structure":276,"./core/transform":277,"./data/local_storage.js":278,"./data/p5.TypedDict":279,"./dom/dom":280,"./events/acceleration":281,"./events/keyboard":282,"./events/mouse":283,"./events/touch":284,"./image/filters":285,"./image/image":286,"./image/loading_displaying":287,"./image/p5.Image":288,"./image/pixels":289,"./io/files":290,"./io/p5.Table":291,"./io/p5.TableRow":292,"./io/p5.XML":293,"./math/calculation":294,"./math/math":295,"./math/noise":296,"./math/p5.Vector":297,"./math/random":298,"./math/trigonometry":299,"./typography/attributes":300,"./typography/loading_displaying":301,"./typography/p5.Font":302,"./utilities/array_functions":303,"./utilities/conversion":304,"./utilities/string_functions":305,"./utilities/time_date":306,"./webgl/3d_primitives":307,"./webgl/interaction":308,"./webgl/light":309,"./webgl/loading":310,"./webgl/material":311,"./webgl/p5.Camera":312,"./webgl/p5.Geometry":313,"./webgl/p5.Matrix":314,"./webgl/p5.RenderBuffer":315,"./webgl/p5.RendererGL":318,"./webgl/p5.RendererGL.Immediate":316,"./webgl/p5.RendererGL.Retained":317,"./webgl/p5.Shader":319,"./webgl/p5.Texture":320,"./webgl/text":321}],249:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.ColorConversion={},r.default.ColorConversion._hsbaToHSLA=function(f){var g=f[0],m=f[1],i=f[2],o=(2-m)*i/2;return o!=0&&(o==1?m=0:o<.5?m/=2-m:m=m*i/(2-2*o)),[g,m,o,f[3]]},r.default.ColorConversion._hsbaToRGBA=function(f){var g=6*f[0],m=f[1],i=f[2],o=[];if(m===0)o=[i,i,i,f[3]];else{var a,l,c,y=Math.floor(g),w=i*(1-m),x=i*(1-m*(g-y)),S=i*(1-m*(1+y-g));c=y===1?(a=x,l=i,w):y===2?(a=w,l=i,S):y===3?(a=w,l=x,i):y===4?(a=S,l=w,i):y===5?(a=i,l=w,x):(a=i,l=S,w),o=[a,l,c,f[3]]}return o},r.default.ColorConversion._hslaToHSBA=function(f){var g,m=f[0],i=f[1],o=f[2];return[m,i=2*((g=o<.5?(1+i)*o:o+i-o*i)-o)/g,g,f[3]]},r.default.ColorConversion._hslaToRGBA=function(f){var g=6*f[0],m=f[1],i=f[2],o=[];if(m===0)o=[i,i,i,f[3]];else{var a,l=2*i-(a=i<.5?(1+m)*i:i+m-i*m),c=function(y,w,x){return y<0?y+=6:6<=y&&(y-=6),y<1?w+(x-w)*y:y<3?x:y<4?w+(x-w)*(4-y):w};o=[c(2+g,l,a),c(g,l,a),c(g-2,l,a),f[3]]}return o},r.default.ColorConversion._rgbaToHSBA=function(f){var g,m,i=f[0],o=f[1],a=f[2],l=Math.max(i,o,a),c=l-Math.min(i,o,a);return c==0?m=g=0:(m=c/l,i===l?g=(o-a)/c:o===l?g=2+(a-i)/c:a===l&&(g=4+(i-o)/c),g<0?g+=6:6<=g&&(g-=6)),[g/6,m,l,f[3]]},r.default.ColorConversion._rgbaToHSLA=function(f){var g,m,i=f[0],o=f[1],a=f[2],l=Math.max(i,o,a),c=Math.min(i,o,a),y=l+c,w=l-c;return w==0?m=g=0:(m=y<1?w/y:w/(2-y),i===l?g=(o-a)/w:o===l?g=2+(a-i)/w:a===l&&(g=4+(i-o)/w),g<0?g+=6:6<=g&&(g-=6)),[g/6,m,y/2,f[3]]};var p=r.default.ColorConversion;d.default=p},{"../core/main":264}],250:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}e("core-js/modules/es.array.map"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=g();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),p.default.prototype.alpha=function(i){return p.default._validateParameters("alpha",arguments),this.color(i)._getAlpha()},p.default.prototype.blue=function(i){return p.default._validateParameters("blue",arguments),this.color(i)._getBlue()},p.default.prototype.brightness=function(i){return p.default._validateParameters("brightness",arguments),this.color(i)._getBrightness()},p.default.prototype.color=function(){if(p.default._validateParameters("color",arguments),arguments[0]instanceof p.default.Color)return arguments[0];var i=arguments[0]instanceof Array?arguments[0]:arguments;return new p.default.Color(this,i)},p.default.prototype.green=function(i){return p.default._validateParameters("green",arguments),this.color(i)._getGreen()},p.default.prototype.hue=function(i){return p.default._validateParameters("hue",arguments),this.color(i)._getHue()},p.default.prototype.lerpColor=function(i,o,a){p.default._validateParameters("lerpColor",arguments);var l,c,y,w,x,S,E=this._colorMode,C=this._colorMaxes;if(E===f.RGB)x=i.levels.map(function(A){return A/255}),S=o.levels.map(function(A){return A/255});else if(E===f.HSB)i._getBrightness(),o._getBrightness(),x=i.hsba,S=o.hsba;else{if(E!==f.HSL)throw new Error("".concat(E,"cannot be used for interpolation."));i._getLightness(),o._getLightness(),x=i.hsla,S=o.hsla}return a=Math.max(Math.min(a,1),0),this.lerp===void 0&&(this.lerp=function(A,O,I){return I*(O-A)+A}),l=this.lerp(x[0],S[0],a),c=this.lerp(x[1],S[1],a),y=this.lerp(x[2],S[2],a),w=this.lerp(x[3],S[3],a),l*=C[E][0],c*=C[E][1],y*=C[E][2],w*=C[E][3],this.color(l,c,y,w)},p.default.prototype.lightness=function(i){return p.default._validateParameters("lightness",arguments),this.color(i)._getLightness()},p.default.prototype.red=function(i){return p.default._validateParameters("red",arguments),this.color(i)._getRed()},p.default.prototype.saturation=function(i){return p.default._validateParameters("saturation",arguments),this.color(i)._getSaturation()};var m=p.default;d.default=m},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.map":161}],251:[function(e,u,d){function h(x){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(x)}e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r=m(e("../core/main")),p=function(x){if(x&&x.__esModule)return x;if(x===null||h(x)!=="object"&&typeof x!="function")return{default:x};var S=g();if(S&&S.has(x))return S.get(x);var E={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in x)if(Object.prototype.hasOwnProperty.call(x,A)){var O=C?Object.getOwnPropertyDescriptor(x,A):null;O&&(O.get||O.set)?Object.defineProperty(E,A,O):E[A]=x[A]}return E.default=x,S&&S.set(x,E),E}(e("../core/constants")),f=m(e("./color_conversion"));function g(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return g=function(){return x},x}function m(x){return x&&x.__esModule?x:{default:x}}r.default.Color=function(x,S){if(this._storeModeAndMaxes(x._colorMode,x._colorMaxes),this.mode!==p.RGB&&this.mode!==p.HSL&&this.mode!==p.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=r.default.Color._parseInputs.apply(this,S),this._calculateLevels(),this},r.default.Color.prototype.toString=function(x){var S=this.levels,E=this._array,C=E[3];switch(x){case"#rrggbb":return"#".concat(S[0]<16?"0".concat(S[0].toString(16)):S[0].toString(16),S[1]<16?"0".concat(S[1].toString(16)):S[1].toString(16),S[2]<16?"0".concat(S[2].toString(16)):S[2].toString(16));case"#rrggbbaa":return"#".concat(S[0]<16?"0".concat(S[0].toString(16)):S[0].toString(16),S[1]<16?"0".concat(S[1].toString(16)):S[1].toString(16),S[2]<16?"0".concat(S[2].toString(16)):S[2].toString(16),S[3]<16?"0".concat(S[3].toString(16)):S[3].toString(16));case"#rgb":return"#".concat(Math.round(15*E[0]).toString(16),Math.round(15*E[1]).toString(16),Math.round(15*E[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*E[0]).toString(16),Math.round(15*E[1]).toString(16),Math.round(15*E[2]).toString(16),Math.round(15*E[3]).toString(16));case"rgb":return"rgb(".concat(S[0],", ",S[1],", ",S[2],")");case"rgb%":return"rgb(".concat((100*E[0]).toPrecision(3),"%, ",(100*E[1]).toPrecision(3),"%, ",(100*E[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*E[0]).toPrecision(3),"%, ",(100*E[1]).toPrecision(3),"%, ",(100*E[2]).toPrecision(3),"%, ",(100*E[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[p.HSB][0],", ",this.hsba[1]*this.maxes[p.HSB][1],", ",this.hsba[2]*this.maxes[p.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[p.HSB][0],", ",this.hsba[1]*this.maxes[p.HSB][1],", ",this.hsba[2]*this.maxes[p.HSB][2],", ",C,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*C).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[p.HSL][0],", ",this.hsla[1]*this.maxes[p.HSL][1],", ",this.hsla[2]*this.maxes[p.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[p.HSL][0],", ",this.hsla[1]*this.maxes[p.HSL][1],", ",this.hsla[2]*this.maxes[p.HSL][2],", ",C,")");case"hsla%":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*C).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(S[0],",",S[1],",",S[2],",",C,")")}},r.default.Color.prototype.setRed=function(x){this._array[0]=x/this.maxes[p.RGB][0],this._calculateLevels()},r.default.Color.prototype.setGreen=function(x){this._array[1]=x/this.maxes[p.RGB][1],this._calculateLevels()},r.default.Color.prototype.setBlue=function(x){this._array[2]=x/this.maxes[p.RGB][2],this._calculateLevels()},r.default.Color.prototype.setAlpha=function(x){this._array[3]=x/this.maxes[this.mode][3],this._calculateLevels()},r.default.Color.prototype._calculateLevels=function(){for(var x=this._array,S=this.levels=new Array(x.length),E=x.length-1;0<=E;--E)S[E]=Math.round(255*x[E]);this.hsla=null,this.hsba=null},r.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},r.default.Color.prototype._storeModeAndMaxes=function(x,S){this.mode=x,this.maxes=S},r.default.Color.prototype._getMode=function(){return this.mode},r.default.Color.prototype._getMaxes=function(){return this.maxes},r.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[p.RGB][2]},r.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[p.HSB][2]},r.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[p.RGB][1]},r.default.Color.prototype._getHue=function(){return this.mode===p.HSB?(this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[p.HSB][0]):(this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[p.HSL][0])},r.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[p.HSL][2]},r.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[p.RGB][0]},r.default.Color.prototype._getSaturation=function(){return this.mode===p.HSB?(this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[p.HSB][1]):(this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[p.HSL][1])};var i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},o=/\s*/,a=/(\d{1,3})/,l=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,c=new RegExp("".concat(l.source,"%")),y={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",a.source,",",a.source,",",a.source,"\\)$"].join(o.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",c.source,",",c.source,",",c.source,"\\)$"].join(o.source),"i"),RGBA:new RegExp(["^rgba\\(",a.source,",",a.source,",",a.source,",",l.source,"\\)$"].join(o.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",c.source,",",c.source,",",c.source,",",l.source,"\\)$"].join(o.source),"i"),HSL:new RegExp(["^hsl\\(",a.source,",",c.source,",",c.source,"\\)$"].join(o.source),"i"),HSLA:new RegExp(["^hsla\\(",a.source,",",c.source,",",c.source,",",l.source,"\\)$"].join(o.source),"i"),HSB:new RegExp(["^hsb\\(",a.source,",",c.source,",",c.source,"\\)$"].join(o.source),"i"),HSBA:new RegExp(["^hsba\\(",a.source,",",c.source,",",c.source,",",l.source,"\\)$"].join(o.source),"i")};r.default.Color._parseInputs=function(x,S,E,C){var A,O=arguments.length,I=this.mode,R=this.maxes[I],L=[];if(3<=O){for(L[0]=x/R[0],L[1]=S/R[1],L[2]=E/R[2],L[3]=typeof C=="number"?C/R[3]:1,A=L.length-1;0<=A;--A){var N=L[A];N<0?L[A]=0:1<N&&(L[A]=1)}return I===p.HSL?f.default._hslaToRGBA(L):I===p.HSB?f.default._hsbaToRGBA(L):L}if(O===1&&typeof x=="string"){var D=x.trim().toLowerCase();if(i[D])return r.default.Color._parseInputs.call(this,i[D]);if(y.HEX3.test(D))return(L=y.HEX3.exec(D).slice(1).map(function(H){return parseInt(H+H,16)/255}))[3]=1,L;if(y.HEX6.test(D))return(L=y.HEX6.exec(D).slice(1).map(function(H){return parseInt(H,16)/255}))[3]=1,L;if(y.HEX4.test(D))return L=y.HEX4.exec(D).slice(1).map(function(H){return parseInt(H+H,16)/255});if(y.HEX8.test(D))return L=y.HEX8.exec(D).slice(1).map(function(H){return parseInt(H,16)/255});if(y.RGB.test(D))return(L=y.RGB.exec(D).slice(1).map(function(H){return H/255}))[3]=1,L;if(y.RGB_PERCENT.test(D))return(L=y.RGB_PERCENT.exec(D).slice(1).map(function(H){return parseFloat(H)/100}))[3]=1,L;if(y.RGBA.test(D))return L=y.RGBA.exec(D).slice(1).map(function(H,z){return z===3?parseFloat(H):H/255});if(y.RGBA_PERCENT.test(D))return L=y.RGBA_PERCENT.exec(D).slice(1).map(function(H,z){return z===3?parseFloat(H):parseFloat(H)/100});if(y.HSL.test(D)?(L=y.HSL.exec(D).slice(1).map(function(H,z){return z===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:y.HSLA.test(D)&&(L=y.HSLA.exec(D).slice(1).map(function(H,z){return z===0?parseInt(H,10)/360:z===3?parseFloat(H):parseInt(H,10)/100})),(L=L.map(function(H){return Math.max(Math.min(H,1),0)})).length)return f.default._hslaToRGBA(L);if(y.HSB.test(D)?(L=y.HSB.exec(D).slice(1).map(function(H,z){return z===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:y.HSBA.test(D)&&(L=y.HSBA.exec(D).slice(1).map(function(H,z){return z===0?parseInt(H,10)/360:z===3?parseFloat(H):parseInt(H,10)/100})),L.length){for(A=L.length-1;0<=A;--A)L[A]=Math.max(Math.min(L[A],1),0);return f.default._hsbaToRGBA(L)}L=[1,1,1,1]}else{if(O!==1&&O!==2||typeof x!="number")throw new Error("".concat(arguments,"is not a valid color representation."));L[0]=x/R[2],L[1]=x/R[2],L[2]=x/R[2],L[3]=typeof S=="number"?S/R[3]:1,L=L.map(function(H){return Math.max(Math.min(H,1),0)})}return L};var w=r.default.Color;d.default=w},{"../core/constants":253,"../core/main":264,"./color_conversion":249,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.trim":193}],252:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}e("core-js/modules/es.array.fill"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=g();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}e("./p5.Color"),p.default.prototype.background=function(){var i;return(i=this._renderer).background.apply(i,arguments),this},p.default.prototype.clear=function(){var i=(arguments.length<=0?void 0:arguments[0])||0,o=(arguments.length<=1?void 0:arguments[1])||0,a=(arguments.length<=2?void 0:arguments[2])||0,l=(arguments.length<=3?void 0:arguments[3])||0;return this._renderer.clear(i,o,a,l),this},p.default.prototype.colorMode=function(i,o,a,l,c){if(p.default._validateParameters("colorMode",arguments),i===f.RGB||i===f.HSB||i===f.HSL){this._colorMode=i;var y=this._colorMaxes[i];arguments.length===2?(y[0]=o,y[1]=o,y[2]=o,y[3]=o):arguments.length===4?(y[0]=o,y[1]=a,y[2]=l):arguments.length===5&&(y[0]=o,y[1]=a,y[2]=l,y[3]=c)}return this},p.default.prototype.fill=function(){var i;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(i=this._renderer).fill.apply(i,arguments),this},p.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},p.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},p.default.prototype.stroke=function(){var i;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(i=this._renderer).stroke.apply(i,arguments),this},p.default.prototype.erase=function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255;return this._renderer.erase(i,o),this},p.default.prototype.noErase=function(){return this._renderer.noErase(),this};var m=p.default;d.default=m},{"../core/constants":253,"../core/main":264,"./p5.Color":251,"core-js/modules/es.array.fill":151}],253:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.BEZIER=d.QUADRATIC=d.LINEAR=d._CTX_MIDDLE=d._DEFAULT_LEADMULT=d._DEFAULT_TEXT_FILL=d.WORD=d.CHAR=d.BOLDITALIC=d.BOLD=d.ITALIC=d.NORMAL=d.BLUR=d.ERODE=d.DILATE=d.POSTERIZE=d.INVERT=d.OPAQUE=d.GRAY=d.THRESHOLD=d.BURN=d.DODGE=d.SOFT_LIGHT=d.HARD_LIGHT=d.OVERLAY=d.REPLACE=d.SCREEN=d.MULTIPLY=d.EXCLUSION=d.SUBTRACT=d.DIFFERENCE=d.LIGHTEST=d.DARKEST=d.ADD=d.REMOVE=d.BLEND=d.UP_ARROW=d.TAB=d.SHIFT=d.RIGHT_ARROW=d.RETURN=d.OPTION=d.LEFT_ARROW=d.ESCAPE=d.ENTER=d.DOWN_ARROW=d.DELETE=d.CONTROL=d.BACKSPACE=d.ALT=d.AUTO=d.HSL=d.HSB=d.RGB=d.MITER=d.BEVEL=d.ROUND=d.SQUARE=d.PROJECT=d.PIE=d.CHORD=d.OPEN=d.CLOSE=d.TESS=d.QUAD_STRIP=d.QUADS=d.TRIANGLE_STRIP=d.TRIANGLE_FAN=d.TRIANGLES=d.LINE_LOOP=d.LINE_STRIP=d.LINES=d.POINTS=d.BASELINE=d.BOTTOM=d.TOP=d.CENTER=d.LEFT=d.RIGHT=d.RADIUS=d.CORNERS=d.CORNER=d.RAD_TO_DEG=d.DEG_TO_RAD=d.RADIANS=d.DEGREES=d.TWO_PI=d.TAU=d.QUARTER_PI=d.PI=d.HALF_PI=d.WAIT=d.TEXT=d.MOVE=d.HAND=d.CROSS=d.ARROW=d.WEBGL=d.P2D=d.VERSION=void 0,d.FALLBACK=d.LABEL=d.AXES=d.GRID=d._DEFAULT_FILL=d._DEFAULT_STROKE=d.PORTRAIT=d.LANDSCAPE=d.MIRROR=d.CLAMP=d.REPEAT=d.NEAREST=d.IMAGE=d.IMMEDIATE=d.TEXTURE=d.FILL=d.STROKE=d.CURVE=void 0;var h=Math.PI;d.VERSION="1.4.2",d.P2D="p2d",d.WEBGL="webgl",d.ARROW="default",d.CROSS="crosshair",d.HAND="pointer",d.MOVE="move",d.TEXT="text",d.WAIT="wait";var r=h/2;d.HALF_PI=r;var p=h;d.PI=p;var f=h/4;d.QUARTER_PI=f;var g=2*h;d.TAU=g;var m=2*h;d.TWO_PI=m,d.DEGREES="degrees",d.RADIANS="radians";var i=h/180;d.DEG_TO_RAD=i;var o=180/h;d.RAD_TO_DEG=o,d.CORNER="corner",d.CORNERS="corners",d.RADIUS="radius",d.RIGHT="right",d.LEFT="left",d.CENTER="center",d.TOP="top",d.BOTTOM="bottom",d.BASELINE="alphabetic",d.POINTS=0,d.LINES=1,d.LINE_STRIP=3,d.LINE_LOOP=2,d.TRIANGLES=4,d.TRIANGLE_FAN=6,d.TRIANGLE_STRIP=5,d.QUADS="quads",d.QUAD_STRIP="quad_strip",d.TESS="tess",d.CLOSE="close",d.OPEN="open",d.CHORD="chord",d.PIE="pie",d.PROJECT="square",d.SQUARE="butt",d.ROUND="round",d.BEVEL="bevel",d.MITER="miter",d.RGB="rgb",d.HSB="hsb",d.HSL="hsl",d.AUTO="auto",d.ALT=18,d.BACKSPACE=8,d.CONTROL=17,d.DELETE=46,d.DOWN_ARROW=40,d.ENTER=13,d.ESCAPE=27,d.LEFT_ARROW=37,d.OPTION=18,d.RETURN=13,d.RIGHT_ARROW=39,d.SHIFT=16,d.TAB=9,d.UP_ARROW=38,d.BLEND="source-over",d.REMOVE="destination-out",d.ADD="lighter",d.DARKEST="darken",d.LIGHTEST="lighten",d.DIFFERENCE="difference",d.SUBTRACT="subtract",d.EXCLUSION="exclusion",d.MULTIPLY="multiply",d.SCREEN="screen",d.REPLACE="copy",d.OVERLAY="overlay",d.HARD_LIGHT="hard-light",d.SOFT_LIGHT="soft-light",d.DODGE="color-dodge",d.BURN="color-burn",d.THRESHOLD="threshold",d.GRAY="gray",d.OPAQUE="opaque",d.INVERT="invert",d.POSTERIZE="posterize",d.DILATE="dilate",d.ERODE="erode",d.BLUR="blur",d.NORMAL="normal",d.ITALIC="italic",d.BOLD="bold",d.BOLDITALIC="bold italic",d.CHAR="CHAR",d.WORD="WORD",d._DEFAULT_TEXT_FILL="#000000",d._DEFAULT_LEADMULT=1.25,d._CTX_MIDDLE="middle",d.LINEAR="linear",d.QUADRATIC="quadratic",d.BEZIER="bezier",d.CURVE="curve",d.STROKE="stroke",d.FILL="fill",d.TEXTURE="texture",d.IMMEDIATE="immediate",d.IMAGE="image",d.NEAREST="nearest",d.REPEAT="repeat",d.CLAMP="clamp",d.MIRROR="mirror",d.LANDSCAPE="landscape",d.PORTRAIT="portrait",d._DEFAULT_STROKE="#000000",d._DEFAULT_FILL="#FFFFFF",d.GRID="grid",d.AXES="axes",d.LABEL="label",d.FALLBACK="fallback"},{}],254:[function(e,u,d){function h(c){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(c)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("./main"))&&r.__esModule?r:{default:r},f=function(c){if(c&&c.__esModule)return c;if(c===null||h(c)!=="object"&&typeof c!="function")return{default:c};var y=g();if(y&&y.has(c))return y.get(c);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in c)if(Object.prototype.hasOwnProperty.call(c,S)){var E=x?Object.getOwnPropertyDescriptor(c,S):null;E&&(E.get||E.set)?Object.defineProperty(w,S,E):w[S]=c[S]}return w.default=c,y&&y.set(c,w),w}(e("./constants"));function g(){if(typeof WeakMap!="function")return null;var c=new WeakMap;return g=function(){return c},c}var m=[f.ARROW,f.CROSS,f.HAND,f.MOVE,f.TEXT,f.WAIT];p.default.prototype._frameRate=0,p.default.prototype._lastFrameTime=window.performance.now(),p.default.prototype._targetFrameRate=60;var i=window.print;function o(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function a(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}p.default.prototype.print=function(){var c;arguments.length?(c=console).log.apply(c,arguments):i()},p.default.prototype.frameCount=0,p.default.prototype.deltaTime=0,p.default.prototype.focused=document.hasFocus(),p.default.prototype.cursor=function(c,y,w){var x="auto",S=this._curElement.elt;if(m.includes(c))x=c;else if(typeof c=="string"){var E="";y&&w&&typeof y=="number"&&typeof w=="number"&&(E="".concat(y," ").concat(w)),x=c.substring(0,7)==="http://"||c.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(c)?"url(".concat(c,") ").concat(E,", auto"):c}S.style.cursor=x},p.default.prototype.frameRate=function(c){return p.default._validateParameters("frameRate",arguments),typeof c!="number"||c<0?this._frameRate:(this._setProperty("_targetFrameRate",c),c===0&&this._setProperty("_frameRate",c),this)},p.default.prototype.getFrameRate=function(){return this.frameRate()},p.default.prototype.setFrameRate=function(c){return this.frameRate(c)},p.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},p.default.prototype.displayWidth=screen.width,p.default.prototype.displayHeight=screen.height,p.default.prototype.windowWidth=o(),p.default.prototype.windowHeight=a(),p.default.prototype._onresize=function(c){this._setProperty("windowWidth",o()),this._setProperty("windowHeight",a());var y,w=this._isGlobal?window:this;typeof w.windowResized=="function"&&((y=w.windowResized(c))===void 0||y||c.preventDefault())},p.default.prototype.width=0,p.default.prototype.height=0,p.default.prototype.fullscreen=function(c){if(p.default._validateParameters("fullscreen",arguments),c===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;c?function(y){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");y.requestFullscreen?y.requestFullscreen():y.mozRequestFullScreen?y.mozRequestFullScreen():y.webkitRequestFullscreen?y.webkitRequestFullscreen():y.msRequestFullscreen&&y.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},p.default.prototype.pixelDensity=function(c){var y;return p.default._validateParameters("pixelDensity",arguments),typeof c=="number"?(c!==this._pixelDensity&&(this._pixelDensity=c),(y=this).resizeCanvas(this.width,this.height,!0)):y=this._pixelDensity,y},p.default.prototype.displayDensity=function(){return window.devicePixelRatio},p.default.prototype.getURL=function(){return location.href},p.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(c){return c!==""})},p.default.prototype.getURLParams=function(){for(var c,y=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,w={};(c=y.exec(location.search))!=null;)c.index===y.lastIndex&&y.lastIndex++,w[c[1]]=c[2];return w};var l=p.default;d.default=l},{"./constants":253,"./main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.includes":156,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191}],255:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../main"))&&h.__esModule?h:{default:h};e("../internationalization");var p=null,f=null;r.default._friendlyError=r.default._checkForUserDefinedFunctions=r.default._fesErrorMonitor=function(){},p=null;var g="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";f=function(){function o(l){return Object.getOwnPropertyNames(l).filter(function(c){return c[0]!=="_"&&!(c in a)&&(a[c]=!0)}).map(function(c){var y;return y=typeof l[c]=="function"?"function":c===c.toUpperCase()?"constant":"variable",{name:c,type:y}})}var a={};(p=[].concat(o(r.default.prototype),o(e("../constants")))).sort(function(l,c){return c.name.length-l.name.length})};function m(o,a){a=a||console.log.bind(console),p||f(),p.some(function(l){if(o.message&&o.message.match("\\W?".concat(l.name,"\\W"))!==null){var c=l.type==="function"?"".concat(l.name,"()"):l.name;return a("Did you just try to use p5.js's ".concat(c," ").concat(l.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(g)),!0}})}r.default.prototype._helpForMisusedAtTopLevelCode=m,document.readyState!=="complete"&&(window.addEventListener("error",m,!1),window.addEventListener("load",function(){window.removeEventListener("error",m,!1)}));var i=r.default;d.default=i},{"../constants":253,"../internationalization":262,"../main":264,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":166,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],256:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../main"))&&h.__esModule?h:{default:h};e("../internationalization"),r.default._friendlyFileLoadError=function(){};var p=r.default;d.default=p},{"../internationalization":262,"../main":264}],257:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.flat-map"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.unscopables.flat-map"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r=g(e("../main"));e("../internationalization"),f(e("../constants"));function p(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return p=function(){return i},i}function f(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=p();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}function g(i){return i&&i.__esModule?i:{default:i}}r.default._fesCodeReader=function(){};var m=r.default;d.default=m},{"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.flat-map":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.unscopables.flat-map":165,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],258:[function(e,u,d){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../main"))&&h.__esModule?h:{default:h};function p(){var g=/(^|@)\S+:\d+/,m=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(o){return o.stacktrace!==void 0||o["opera#sourceloc"]!==void 0?this.parseOpera(o):o.stack&&o.stack.match(m)?this.parseV8OrIE(o):o.stack?this.parseFFOrSafari(o):void 0},extractLocation:function(o){if(o.indexOf(":")===-1)return[o];var a=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o.replace(/[()]/g,""));return[a[1],a[2]||void 0,a[3]||void 0]},parseV8OrIE:function(o){return o.stack.split(`
`).filter(function(a){return!!a.match(m)},this).map(function(a){-1<a.indexOf("(eval ")&&(a=a.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var l=a.replace(/^\s+/,"").replace(/\(eval code/g,"("),c=l.match(/ (\((.+):(\d+):(\d+)\)$)/),y=(l=c?l.replace(c[0],""):l).split(/\s+/).slice(1),w=this.extractLocation(c?c[1]:y.pop());return{functionName:y.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(w[0])?void 0:w[0],lineNumber:w[1],columnNumber:w[2],source:a}},this)},parseFFOrSafari:function(o){return o.stack.split(`
`).filter(function(a){return!a.match(i)},this).map(function(a){if(-1<a.indexOf(" > eval")&&(a=a.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),a.indexOf("@")===-1&&a.indexOf(":")===-1)return{functionName:a};var l=/((.*".+"[^@]*)?[^@]*)(?:@)/,c=a.match(l),y=c&&c[1]?c[1]:void 0,w=this.extractLocation(a.replace(l,""));return{functionName:y,fileName:w[0],lineNumber:w[1],columnNumber:w[2],source:a}},this)},parseOpera:function(o){return!o.stacktrace||-1<o.message.indexOf(`
`)&&o.message.split(`
`).length>o.stacktrace.split(`
`).length?this.parseOpera9(o):o.stack?this.parseOpera11(o):this.parseOpera10(o)},parseOpera9:function(o){for(var a=/Line (\d+).*script (?:in )?(\S+)/i,l=o.message.split(`
`),c=[],y=2,w=l.length;y<w;y+=2){var x=a.exec(l[y]);x&&c.push({fileName:x[2],lineNumber:x[1],source:l[y]})}return c},parseOpera10:function(o){for(var a=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,l=o.stacktrace.split(`
`),c=[],y=0,w=l.length;y<w;y+=2){var x=a.exec(l[y]);x&&c.push({functionName:x[3]||void 0,fileName:x[2],lineNumber:x[1],source:l[y]})}return c},parseOpera11:function(o){return o.stack.split(`
`).filter(function(a){return!!a.match(g)&&!a.match(/^Error created at/)},this).map(function(a){var l,c=a.split("@"),y=this.extractLocation(c.pop()),w=c.shift()||"",x=w.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return w.match(/\(([^)]*)\)/)&&(l=w.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{functionName:x,args:l===void 0||l==="[arguments not available]"?void 0:l.split(","),fileName:y[0],lineNumber:y[1],columnNumber:y[2],source:a}},this)}}}r.default._getErrorStackParser=function(){return new p};var f=r.default;d.default=f},{"../main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],259:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../main"))&&h.__esModule?h:{default:h};(function(m){if(!(m&&m.__esModule)&&!(m===null||f(m)!=="object"&&typeof m!="function")){var i=p();if(i&&i.has(m))return i.get(m);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in m)if(Object.prototype.hasOwnProperty.call(m,l)){var c=a?Object.getOwnPropertyDescriptor(m,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=m[l]}o.default=m,i&&i.set(m,o)}})(e("../constants")),e("../internationalization");function p(){if(typeof WeakMap!="function")return null;var m=new WeakMap;return p=function(){return m},m}function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(m)}r.default._validateParameters=r.default._clearValidateParamsCache=function(){};var g=r.default;d.default=g},{"../../../docs/parameterData.json":void 0,"../constants":253,"../internationalization":262,"../main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.map":167,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],260:[function(e,u,d){function h(g){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r=function(g){if(g&&g.__esModule)return g;if(g===null||h(g)!=="object"&&typeof g!="function")return{default:g};var m=p();if(m&&m.has(g))return m.get(g);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in g)if(Object.prototype.hasOwnProperty.call(g,a)){var l=o?Object.getOwnPropertyDescriptor(g,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=g[a]}return i.default=g,m&&m.set(g,i),i}(e("./constants"));function p(){if(typeof WeakMap!="function")return null;var g=new WeakMap;return p=function(){return g},g}var f={modeAdjust:function(g,m,i,o,a){return a===r.CORNER?{x:g,y:m,w:i,h:o}:a===r.CORNERS?{x:g,y:m,w:i-g,h:o-m}:a===r.RADIUS?{x:g-i,y:m-o,w:2*i,h:2*o}:a===r.CENTER?{x:g-.5*i,y:m-.5*o,w:i,h:o}:void 0}};d.default=f},{"./constants":253}],261:[function(e,u,d){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};e("./internationalization");var p=Promise.resolve();Promise.all([new Promise(function(f,g){document.readyState==="complete"?f():window.addEventListener("load",f,!1)}),p]).then(function(){window._setupDone===void 0?window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!r.default.instance&&new r.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":264,"./internationalization":262,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":229}],262:[function(e,u,d){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.setTranslatorLanguage=d.currentTranslatorLanguage=d.availableTranslatorLanguages=d.initialize=d.translator=void 0;var h,r,p=g(e("i18next")),f=g(e("i18next-browser-languagedetector"));function g(a){return a&&a.__esModule?a:{default:a}}function m(a,l){for(var c=0;c<l.length;c++){var y=l[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}var i=function(){function a(y,w){(function(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")})(this,a),this.init(y,w)}var l,c;return l=a,(c=[{key:"fetchWithTimeout",value:function(y,w,x){var S=2<arguments.length&&x!==void 0?x:2e3;return Promise.race([fetch(y,w),new Promise(function(E,C){return setTimeout(function(){return C(new Error("timeout"))},S)})])}},{key:"init",value:function(y,w){var x=1<arguments.length&&w!==void 0?w:{};this.services=y,this.options=x}},{key:"read",value:function(y,w,x){var S=this.options.loadPath;if(y===this.options.fallback)x(null,h[y][w]);else if(r.includes(y)){var E=this.services.interpolator.interpolate(S,{lng:y,ns:w});this.loadUrl(E,x)}else x("Not found",!1)}},{key:"loadUrl",value:function(y,w){this.fetchWithTimeout(y).then(function(x){if(!x.ok)throw new Error("failed loading ".concat(y));return x.json()},function(){throw new Error("failed loading ".concat(y))}).then(function(x){return w(null,x)}).catch(w)}}])&&m(l.prototype,c),a}();i.type="backend";var o=function(a,l){console.debug("p5.js translator called before translations were loaded"),p.default.t(a,l)};d.translator=o,d.initialize=function(){return p.default.use(f.default).use(i).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:h}).then(function(a){d.translator=o=a},function(a){return console.debug("Translations failed to load (".concat(a,")"))})},d.availableTranslatorLanguages=function(){return p.default.languages},d.currentTranslatorLanguage=function(){return p.default.language},d.setTranslatorLanguage=function(a){return p.default.changeLanguage(a||void 0,function(l){return console.debug("Translations failed to load (".concat(l,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":229,i18next:3,"i18next-browser-languagedetector":3}],263:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("./main"))&&h.__esModule?h:{default:h};r.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},r.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},r.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},r.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var p=r.default;d.default=p},{"./main":264}],264:[function(e,u,d){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0,e("./shim");var r=function(o){if(o&&o.__esModule)return o;if(o===null||h(o)!=="object"&&typeof o!="function")return{default:o};var a=p();if(a&&a.has(o))return a.get(o);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in o)if(Object.prototype.hasOwnProperty.call(o,y)){var w=c?Object.getOwnPropertyDescriptor(o,y):null;w&&(w.get||w.set)?Object.defineProperty(l,y,w):l[y]=o[y]}return l.default=o,a&&a.set(o,l),l}(e("./constants"));function p(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return p=function(){return o},o}function f(o,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}var g=function(){function o(c,y,w){var x=this;(function(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")})(this,o),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=y,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var S=Object.getOwnPropertyNames(o.prototype._registeredMethods),E=!0,C=!1,A=void 0;try{for(var O,I=S[Symbol.iterator]();!(E=(O=I.next()).done);E=!0){var R=O.value;this._registeredMethods[R]=o.prototype._registeredMethods[R].slice()}}catch(se){C=!0,A=se}finally{try{E||I.return==null||I.return()}finally{if(C)throw A}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){x._userNode&&typeof x._userNode=="string"&&(x._userNode=document.getElementById(x._userNode));var se=x._isGlobal?window:x;if(se.preload){var me=document.getElementById(x._loadingScreenId);me||((me=document.createElement("div")).innerHTML="Loading...",me.style.position="absolute",me.id=x._loadingScreenId,(x._userNode||document.body).appendChild(me));var xe=x._preloadMethods;for(var Ce in xe){xe[Ce]=xe[Ce]||o;var ve=xe[Ce];ve!==o.prototype&&ve!==o||(x._isGlobal&&(window[Ce]=x._wrapPreload(x,Ce)),ve=x),x._registeredPreloadMethods[Ce]=ve[Ce],ve[Ce]=x._wrapPreload(ve,Ce)}se.preload(),x._runIfPreloadsAreDone()}else x._setup(),x._draw()},this._runIfPreloadsAreDone=function(){var se=this._isGlobal?window:this;if(se._preloadCount===0){var me=document.getElementById(se._loadingScreenId);me&&me.parentNode.removeChild(me),this._setupDone||(this._lastFrameTime=window.performance.now(),se._setup(),se._draw())}},this._decrementPreload=function(){var se=this._isGlobal?window:this;typeof se.preload=="function"&&(se._setProperty("_preloadCount",se._preloadCount-1),se._runIfPreloadsAreDone())},this._wrapPreload=function(se,me){var xe=this;return function(){xe._incrementPreload();for(var Ce=arguments.length,ve=new Array(Ce),De=0;De<Ce;De++)ve[De]=arguments[De];return xe._registeredPreloadMethods[me].apply(se,ve)}},this._incrementPreload=function(){var se=this._isGlobal?window:this;se._setProperty("_preloadCount",se._preloadCount+1)},this._setup=function(){x.createCanvas(x._defaultCanvasSize.width,x._defaultCanvasSize.height,"p2d");var se=x._isGlobal?window:x;if(typeof se.preload=="function")for(var me in x._preloadMethods)se[me]=x._preloadMethods[me][me],se[me]&&x&&(se[me]=se[me].bind(x));x._millisStart=window.performance.now(),typeof se.setup=="function"&&se.setup();var xe=document.getElementsByTagName("canvas"),Ce=!0,ve=!1,De=void 0;try{for(var _e,Se=xe[Symbol.iterator]();!(Ce=(_e=Se.next()).done);Ce=!0){var P=_e.value;P.dataset.hidden==="true"&&(P.style.visibility="",delete P.dataset.hidden)}}catch(G){ve=!0,De=G}finally{try{Ce||Se.return==null||Se.return()}finally{if(ve)throw De}}x._lastFrameTime=window.performance.now(),x._setupDone=!0,(x._accessibleOutputs.grid||x._accessibleOutputs.text)&&x._updateAccsOutput()},this._draw=function(){var se=window.performance.now(),me=se-x._lastFrameTime,xe=1e3/x._targetFrameRate;(!x._loop||xe-5<=me)&&(x.redraw(),x._frameRate=1e3/(se-x._lastFrameTime),x.deltaTime=se-x._lastFrameTime,x._setProperty("deltaTime",x.deltaTime),x._lastFrameTime=se,x._updateMouseCoords!==void 0&&(x._updateMouseCoords(),x._setProperty("movedX",0),x._setProperty("movedY",0))),x._loop&&(x._requestAnimId=window.requestAnimationFrame(x._draw))},this._setProperty=function(se,me){x[se]=me,x._isGlobal&&(window[se]=me)},this.remove=function(){var se=document.getElementById(x._loadingScreenId);if(se&&(se.parentNode.removeChild(se),x._incrementPreload()),x._curElement){for(var me in x._loop=!1,x._requestAnimId&&window.cancelAnimationFrame(x._requestAnimId),x._events)window.removeEventListener(me,x._events[me]);var xe=!0,Ce=!1,ve=void 0;try{for(var De,_e=x._elements[Symbol.iterator]();!(xe=(De=_e.next()).done);xe=!0){var Se=De.value;for(var P in Se.elt&&Se.elt.parentNode&&Se.elt.parentNode.removeChild(Se.elt),Se._events)Se.elt.removeEventListener(P,Se._events[P])}}catch(B){Ce=!0,ve=B}finally{try{xe||_e.return==null||_e.return()}finally{if(Ce)throw ve}}var G=x;x._registeredMethods.remove.forEach(function(B){B!==void 0&&B.call(G)})}if(x._isGlobal){for(var X in o.prototype)try{delete window[X]}catch{window[X]=void 0}for(var ee in x)if(x.hasOwnProperty(ee))try{delete window[ee]}catch{window[ee]=void 0}o.instance=null}},this._registeredMethods.init.forEach(function(se){se!==void 0&&se.call(this)},this),this._setupPromisePreloads();var L=this._createFriendlyGlobalFunctionBinder();if(c)c(this),o._checkForUserDefinedFunctions(this);else{for(var N in this._isGlobal=!0,o.instance=this,o.prototype)if(typeof o.prototype[N]=="function"){var D=N.substring(2);this._events.hasOwnProperty(D)||(Math.hasOwnProperty(N)&&Math[N]===o.prototype[N]?L(N,o.prototype[N]):L(N,o.prototype[N].bind(this)))}else L(N,o.prototype[N]);for(var H in this)this.hasOwnProperty(H)&&L(H,this[H])}for(var z in this._events){var ae=this["_on".concat(z)];if(ae){var le=ae.bind(this);window.addEventListener(z,le,{passive:!1}),this._events[z]=le}}function J(){x._setProperty("focused",!0)}function ue(){x._setProperty("focused",!1)}window.addEventListener("focus",J),window.addEventListener("blur",ue),this.registerMethod("remove",function(){window.removeEventListener("focus",J),window.removeEventListener("blur",ue)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var a,l;return a=o,(l=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=r.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(c,y){o.prototype._preloadMethods.hasOwnProperty(c)||(o.prototype._preloadMethods[c]=y)}},{key:"registerMethod",value:function(c,y){var w=this||o.prototype;w._registeredMethods.hasOwnProperty(c)||(w._registeredMethods[c]=[]),w._registeredMethods[c].push(y)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(c){var y=0<arguments.length&&c!==void 0?c:{},w=y.globalObject||window;return y.log||console.log.bind(console),function(x,S){w[x]=S}}}])&&f(a.prototype,l),o}();for(var m in g.instance=null,g.disableFriendlyErrors=!1,r)g.prototype[m]=r[m];g.VERSION=r.VERSION,g.prototype._preloadMethods={loadJSON:g.prototype,loadImage:g.prototype,loadStrings:g.prototype,loadXML:g.prototype,loadBytes:g.prototype,loadTable:g.prototype,loadFont:g.prototype,loadModel:g.prototype,loadShader:g.prototype},g.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},g.prototype._registeredPreloadMethods={};var i=g;d.default=i},{"./constants":253,"./shim":275,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229}],265:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("./main"))&&h.__esModule?h:{default:h};r.default.Element=function(f,g){this.elt=f,this._pInst=this._pixelsState=g,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},r.default.Element.prototype.parent=function(f){return f===void 0?this.elt.parentNode:(typeof f=="string"?(f[0]==="#"&&(f=f.substring(1)),f=document.getElementById(f)):f instanceof r.default.Element&&(f=f.elt),f.appendChild(this.elt),this)},r.default.Element.prototype.id=function(f){return f===void 0?this.elt.id:(this.elt.id=f,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},r.default.Element.prototype.class=function(f){return f===void 0?this.elt.className:(this.elt.className=f,this)},r.default.Element.prototype.mousePressed=function(f){return r.default.Element._adjustListener("mousedown",function(g){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(g),f.call(this,g)},this),this},r.default.Element.prototype.doubleClicked=function(f){return r.default.Element._adjustListener("dblclick",f,this),this},r.default.Element.prototype.mouseWheel=function(f){return r.default.Element._adjustListener("wheel",f,this),this},r.default.Element.prototype.mouseReleased=function(f){return r.default.Element._adjustListener("mouseup",f,this),this},r.default.Element.prototype.mouseClicked=function(f){return r.default.Element._adjustListener("click",f,this),this},r.default.Element.prototype.mouseMoved=function(f){return r.default.Element._adjustListener("mousemove",f,this),this},r.default.Element.prototype.mouseOver=function(f){return r.default.Element._adjustListener("mouseover",f,this),this},r.default.Element.prototype.mouseOut=function(f){return r.default.Element._adjustListener("mouseout",f,this),this},r.default.Element.prototype.touchStarted=function(f){return r.default.Element._adjustListener("touchstart",f,this),this},r.default.Element.prototype.touchMoved=function(f){return r.default.Element._adjustListener("touchmove",f,this),this},r.default.Element.prototype.touchEnded=function(f){return r.default.Element._adjustListener("touchend",f,this),this},r.default.Element.prototype.dragOver=function(f){return r.default.Element._adjustListener("dragover",f,this),this},r.default.Element.prototype.dragLeave=function(f){return r.default.Element._adjustListener("dragleave",f,this),this},r.default.Element._adjustListener=function(f,g,m){return g===!1?r.default.Element._detachListener(f,m):r.default.Element._attachListener(f,g,m),this},r.default.Element._attachListener=function(f,g,m){m._events[f]&&r.default.Element._detachListener(f,m);var i=g.bind(m);m.elt.addEventListener(f,i,!1),m._events[f]=i},r.default.Element._detachListener=function(f,g){var m=g._events[f];g.elt.removeEventListener(f,m,!1),g._events[f]=null},r.default.Element.prototype._setProperty=function(f,g){this[f]=g};var p=r.default.Element;d.default=p},{"./main":264}],266:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("./main"))&&r.__esModule?r:{default:r},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=g();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}(e("./constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.Graphics=function(i,o,a,l){var c=a||f.P2D;this.canvas=document.createElement("canvas");var y=l._userNode||document.body;for(var w in y.appendChild(this.canvas),p.default.Element.call(this,this.canvas,l),p.default.prototype)this[w]||(typeof p.default.prototype[w]=="function"?this[w]=p.default.prototype[w].bind(this):this[w]=p.default.prototype[w]);return p.default.prototype._initializeInstanceVariables.apply(this),this.width=i,this.height=o,this._pixelDensity=l._pixelDensity,c===f.WEBGL?this._renderer=new p.default.RendererGL(this.canvas,this,!1):this._renderer=new p.default.Renderer2D(this.canvas,this,!1),l._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(i,o),this._renderer._applyDefaults(),this},p.default.Graphics.prototype=Object.create(p.default.Element.prototype),p.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},p.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var i=this._pInst._elements.indexOf(this);for(var o in i!==-1&&this._pInst._elements.splice(i,1),this._events)this.elt.removeEventListener(o,this._events[o])};var m=p.default.Graphics;d.default=m},{"./constants":253,"./main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.splice":164}],267:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("./main"))&&h.__esModule?h:{default:h},p=function(o){if(o&&o.__esModule)return o;if(o===null||g(o)!=="object"&&typeof o!="function")return{default:o};var a=f();if(a&&a.has(o))return a.get(o);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in o)if(Object.prototype.hasOwnProperty.call(o,y)){var w=c?Object.getOwnPropertyDescriptor(o,y):null;w&&(w.get||w.set)?Object.defineProperty(l,y,w):l[y]=o[y]}return l.default=o,a&&a.set(o,l),l}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return f=function(){return o},o}function g(o){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function m(o){var a=0,l=0;if(o.offsetParent)for(;a+=o.offsetLeft,l+=o.offsetTop,o=o.offsetParent;);else a+=o.offsetLeft,l+=o.offsetTop;return[a,l]}r.default.Renderer=function(o,a,l){r.default.Element.call(this,o,a),this.canvas=o,this._pixelsState=a,l?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=p.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=p.LEFT,this._textBaseline=p.BASELINE,this._textWrap=p.WORD,this._rectMode=p.CORNER,this._ellipseMode=p.CENTER,this._curveTightness=0,this._imageMode=p.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},r.default.Renderer.prototype=Object.create(r.default.Element.prototype),r.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},r.default.Renderer.prototype.pop=function(o){o.properties&&Object.assign(this,o.properties)},r.default.Renderer.prototype.resize=function(o,a){this.width=o,this.height=a,this.elt.width=o*this._pInst._pixelDensity,this.elt.height=a*this._pInst._pixelDensity,this.elt.style.width="".concat(o,"px"),this.elt.style.height="".concat(a,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},r.default.Renderer.prototype.get=function(o,a,l,c){var y=this._pixelsState,w=y._pixelDensity,x=this.canvas;if(o===void 0&&a===void 0)o=a=0,l=y.width,c=y.height;else if(o*=w,a*=w,l===void 0&&c===void 0)return o<0||a<0||o>=x.width||a>=x.height?[0,0,0,0]:this._getPixel(o,a);var S=new r.default.Image(l,c);return S.canvas.getContext("2d").drawImage(x,o,a,l*w,c*w,0,0,l,c),S},r.default.Renderer.prototype.textLeading=function(o){return typeof o=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",o),this._pInst):this._textLeading},r.default.Renderer.prototype.textSize=function(o){return typeof o=="number"?(this._setProperty("_textSize",o),this._leadingSet||this._setProperty("_textLeading",o*p._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},r.default.Renderer.prototype.textStyle=function(o){return o?(o!==p.NORMAL&&o!==p.ITALIC&&o!==p.BOLD&&o!==p.BOLDITALIC||this._setProperty("_textStyle",o),this._applyTextProperties()):this._textStyle},r.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},r.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},r.default.Renderer.prototype.textAlign=function(o,a){return o!==void 0?(this._setProperty("_textAlign",o),a!==void 0&&this._setProperty("_textBaseline",a),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},r.default.Renderer.prototype.textWrap=function(o){return this._setProperty("_textWrap",o),this._textWrap},r.default.Renderer.prototype.text=function(o,a,l,c,y){var w,x,S,E,C,A,O,I=this._pInst,R=this._textWrap,L=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&o!==void 0){if(typeof o!="string"&&(o=o.toString()),w=(o=o.replace(/(\t)/g,"  ")).split(`
`),c!==void 0){switch(this._rectMode===p.CENTER&&(a-=c/2),this._textAlign){case p.CENTER:a+=c/2;break;case p.RIGHT:a+=c}var N=!1;if(y!==void 0){switch(this._rectMode===p.CENTER&&(l-=y/2),this._textBaseline){case p.BOTTOM:O=l+y,l=Math.max(O,l);break;case p.CENTER:O=l+y/2,l=Math.max(O,l);break;case p.BASELINE:N=!0,this._textBaseline=p.TOP}L=l+y-I.textAscent()}if(R===p.WORD){for(var D=[],H=0;H<w.length;H++){x="",C=w[H].split(" ");for(var z=0;z<C.length;z++)S="".concat(x+C[z])+" ",x=c<(E=this.textWidth(S))&&0<x.length?(D.push(x),"".concat(C[z])+" "):S;D.push(x)}var ae=0,le=I.textAlign().vertical;le===p.CENTER?ae=(D.length-1)*I.textLeading()/2:le===p.BOTTOM&&(ae=(D.length-1)*I.textLeading());for(var J=0;J<w.length;J++){x="",C=w[J].split(" ");for(var ue=0;ue<C.length;ue++)S="".concat(x+C[ue])+" ",c<(E=this.textWidth(S))&&0<x.length?(this._renderText(I,x.trim(),a,l-ae,L),x="".concat(C[ue])+" ",l+=I.textLeading()):x=S;this._renderText(I,x.trim(),a,l-ae,L),l+=I.textLeading(),N&&(this._textBaseline=p.BASELINE)}}else{for(var se=[],me=0;me<w.length;me++){x="",A=w[me].split("");for(var xe=0;xe<A.length;xe++)S="".concat(x+A[xe]),(E=this.textWidth(S))<=c?x+=A[xe]:c<E&&0<x.length&&(se.push(x),x="".concat(A[xe]))}se.push(x);var Ce=0,ve=I.textAlign().vertical;ve===p.CENTER?Ce=(se.length-1)*I.textLeading()/2:ve===p.BOTTOM&&(Ce=(se.length-1)*I.textLeading());for(var De=0;De<w.length;De++){x="",A=w[De].split("");for(var _e=0;_e<A.length;_e++)S="".concat(x+A[_e]),(E=this.textWidth(S))<=c?x+=A[_e]:c<E&&0<x.length&&(this._renderText(I,x.trim(),a,l-Ce,L),l+=I.textLeading(),x="".concat(A[_e]))}this._renderText(I,x.trim(),a,l-Ce,L),l+=I.textLeading(),N&&(this._textBaseline=p.BASELINE)}}else{var Se=0,P=I.textAlign().vertical;P===p.CENTER?Se=(w.length-1)*I.textLeading()/2:P===p.BOTTOM&&(Se=(w.length-1)*I.textLeading());for(var G=0;G<w.length;G++)this._renderText(I,w[G],a,l-Se,L),l+=I.textLeading()}return I}},r.default.Renderer.prototype._applyDefaults=function(){return this},r.default.Renderer.prototype._isOpenType=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return g(o)==="object"&&o.font&&o.font.supported},r.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var o=document.createElement("span");o.style.fontFamily=this._textFont,o.style.fontSize="".concat(this._textSize,"px"),o.innerHTML="ABCjgq|";var a=document.createElement("div");a.style.display="inline-block",a.style.width="1px",a.style.height="0px";var l=document.createElement("div");l.appendChild(o),l.appendChild(a),l.style.height="0px",l.style.overflow="hidden",document.body.appendChild(l),a.style.verticalAlign="baseline";var c=m(a),y=m(o),w=c[1]-y[1];a.style.verticalAlign="bottom",c=m(a),y=m(o);var x=c[1]-y[1]-w;return document.body.removeChild(l),this._setProperty("_textAscent",w),this._setProperty("_textDescent",x),this};var i=r.default.Renderer;d.default=i},{"../core/constants":253,"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],268:[function(e,u,d){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r=m(e("./main")),p=function(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var l=g();if(l&&l.has(a))return l.get(a);var c={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in a)if(Object.prototype.hasOwnProperty.call(a,w)){var x=y?Object.getOwnPropertyDescriptor(a,w):null;x&&(x.get||x.set)?Object.defineProperty(c,w,x):c[w]=a[w]}return c.default=a,l&&l.set(a,c),c}(e("./constants")),f=m(e("../image/filters"));function g(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return g=function(){return a},a}function m(a){return a&&a.__esModule?a:{default:a}}e("./p5.Renderer");var i="rgba(0,0,0,0)";r.default.Renderer2D=function(a,l,c){return r.default.Renderer.call(this,a,l,c),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},r.default.Renderer2D.prototype=Object.create(r.default.Renderer.prototype),r.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=p.BLEND,this._setFill(p._DEFAULT_FILL),this._setStroke(p._DEFAULT_STROKE),this.drawingContext.lineCap=p.ROUND,this.drawingContext.font="normal 12px sans-serif"},r.default.Renderer2D.prototype.resize=function(a,l){r.default.Renderer.prototype.resize.call(this,a,l),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},r.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof r.default.Image)if(0<=(arguments.length<=1?void 0:arguments[1])){var a=arguments.length<=0?void 0:arguments[0];this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(a,0,0,this.width,this.height)}else this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var l,c=this._getFill(),y=(l=this._pInst).color.apply(l,arguments);this._pInst._addAccsOutput()&&this._pInst._accsBackground(y.levels);var w=y.toString();this._setFill(w),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(c),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},r.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},r.default.Renderer2D.prototype.fill=function(){var a,l=(a=this._pInst).color.apply(a,arguments);this._setFill(l.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",l.levels)},r.default.Renderer2D.prototype.stroke=function(){var a,l=(a=this._pInst).color.apply(a,arguments);this._setStroke(l.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",l.levels)},r.default.Renderer2D.prototype.erase=function(a,l){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var c=this._pInst.color(255,a).toString();this.drawingContext.fillStyle=c,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var y=this._pInst.color(255,l).toString();this.drawingContext.strokeStyle=y;var w=this._cachedBlendMode;this.blendMode(p.REMOVE),this._cachedBlendMode=w,this._isErasing=!0}},r.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},r.default.Renderer2D.prototype.image=function(a,l,c,y,w,x,S,E,C){var A;a.gifProperties&&a._animateGif(this._pInst);try{this._tint&&(r.default.MediaElement&&a instanceof r.default.MediaElement&&a.loadPixels(),a.canvas&&(A=this._getTintedImageCanvas(a))),A=A||a.canvas||a.elt;var O=1;a.width&&0<a.width&&(O=A.width/a.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(A,O*l,O*c,O*y,O*w,x,S,E,C),this._isErasing&&this._pInst.erase()}catch(I){if(I.name!=="NS_ERROR_NOT_AVAILABLE")throw I}},r.default.Renderer2D.prototype._getTintedImageCanvas=function(a){if(!a.canvas)return a;var l=f.default._toPixels(a.canvas),c=document.createElement("canvas");c.width=a.canvas.width,c.height=a.canvas.height;for(var y=c.getContext("2d"),w=y.createImageData(a.canvas.width,a.canvas.height),x=w.data,S=0;S<l.length;S+=4){var E=l[S],C=l[S+1],A=l[S+2],O=l[S+3];x[S]=E*this._tint[0]/255,x[S+1]=C*this._tint[1]/255,x[S+2]=A*this._tint[2]/255,x[S+3]=O*this._tint[3]/255}return y.putImageData(w,0,0),c},r.default.Renderer2D.prototype.blendMode=function(a){if(a===p.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(a!==p.BLEND&&a!==p.REMOVE&&a!==p.DARKEST&&a!==p.LIGHTEST&&a!==p.DIFFERENCE&&a!==p.MULTIPLY&&a!==p.EXCLUSION&&a!==p.SCREEN&&a!==p.REPLACE&&a!==p.OVERLAY&&a!==p.HARD_LIGHT&&a!==p.SOFT_LIGHT&&a!==p.DODGE&&a!==p.BURN&&a!==p.ADD)throw new Error("Mode ".concat(a," not recognized."));this._cachedBlendMode=a,this.drawingContext.globalCompositeOperation=a}},r.default.Renderer2D.prototype.blend=function(){for(var a=this.drawingContext.globalCompositeOperation,l=arguments.length,c=new Array(l),y=0;y<l;y++)c[y]=arguments[y];var w=c[c.length-1],x=Array.prototype.slice.call(c,0,c.length-1);this.drawingContext.globalCompositeOperation=w,r.default.prototype.copy.apply(this,x),this.drawingContext.globalCompositeOperation=a},r.default.Renderer2D.prototype._getPixel=function(a,l){var c;return[(c=this.drawingContext.getImageData(a,l,1,1).data)[0],c[1],c[2],c[3]]},r.default.Renderer2D.prototype.loadPixels=function(){var a=this._pixelsState,l=a._pixelDensity,c=this.width*l,y=this.height*l,w=this.drawingContext.getImageData(0,0,c,y);a._setProperty("imageData",w),a._setProperty("pixels",w.data)},r.default.Renderer2D.prototype.set=function(a,l,c){a=Math.floor(a),l=Math.floor(l);var y=this._pixelsState;if(c instanceof r.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(y._pixelDensity,y._pixelDensity),this.drawingContext.clearRect(a,l,c.width,c.height),this.drawingContext.drawImage(c.canvas,a,l),this.drawingContext.restore();else{var w=0,x=0,S=0,E=0,C=4*(l*y._pixelDensity*(this.width*y._pixelDensity)+a*y._pixelDensity);if(y.imageData||y.loadPixels.call(y),typeof c=="number")C<y.pixels.length&&(S=x=w=c,E=255);else if(c instanceof Array){if(c.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");C<y.pixels.length&&(w=c[0],x=c[1],S=c[2],E=c[3])}else c instanceof r.default.Color&&C<y.pixels.length&&(w=c.levels[0],x=c.levels[1],S=c.levels[2],E=c.levels[3]);for(var A=0;A<y._pixelDensity;A++)for(var O=0;O<y._pixelDensity;O++)C=4*((l*y._pixelDensity+O)*this.width*y._pixelDensity+(a*y._pixelDensity+A)),y.pixels[C]=w,y.pixels[C+1]=x,y.pixels[C+2]=S,y.pixels[C+3]=E}},r.default.Renderer2D.prototype.updatePixels=function(a,l,c,y){var w=this._pixelsState,x=w._pixelDensity;a===void 0&&l===void 0&&c===void 0&&y===void 0&&(l=a=0,c=this.width,y=this.height),a*=x,l*=x,c*=x,y*=x,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=w.imageData),this.drawingContext.putImageData(w.imageData,a,l,0,0,c,y)},r.default.Renderer2D.prototype._acuteArcToBezier=function(a,l){var c=l/2,y=Math.cos(c),w=Math.sin(c),x=1/Math.tan(c),S=a+c,E=Math.cos(S),C=Math.sin(S),A=(4-y)/3,O=w+(y-A)*x;return{ax:Math.cos(a).toFixed(7),ay:Math.sin(a).toFixed(7),bx:(A*E+O*C).toFixed(7),by:(A*C-O*E).toFixed(7),cx:(A*E-O*C).toFixed(7),cy:(A*C+O*E).toFixed(7),dx:Math.cos(a+l).toFixed(7),dy:Math.sin(a+l).toFixed(7)}},r.default.Renderer2D.prototype.arc=function(a,l,c,y,w,x,S){var E=this.drawingContext,C=c/2,A=y/2,O=0,I=[];for(a+=C,l+=A;1e-5<=x-w;)O=Math.min(x-w,p.HALF_PI),I.push(this._acuteArcToBezier(w,O)),w+=O;return this._doFill&&(E.beginPath(),I.forEach(function(R,L){L===0&&E.moveTo(a+R.ax*C,l+R.ay*A),E.bezierCurveTo(a+R.bx*C,l+R.by*A,a+R.cx*C,l+R.cy*A,a+R.dx*C,l+R.dy*A)}),S!==p.PIE&&S!=null||E.lineTo(a,l),E.closePath(),E.fill()),this._doStroke&&(E.beginPath(),I.forEach(function(R,L){L===0&&E.moveTo(a+R.ax*C,l+R.ay*A),E.bezierCurveTo(a+R.bx*C,l+R.by*A,a+R.cx*C,l+R.cy*A,a+R.dx*C,l+R.dy*A)}),S===p.PIE?(E.lineTo(a,l),E.closePath()):S===p.CHORD&&E.closePath(),E.stroke()),this},r.default.Renderer2D.prototype.ellipse=function(a){var l=this.drawingContext,c=this._doFill,y=this._doStroke,w=parseFloat(a[0]),x=parseFloat(a[1]),S=parseFloat(a[2]),E=parseFloat(a[3]);if(c&&!y){if(this._getFill()===i)return this}else if(!c&&y&&this._getStroke()===i)return this;var C=S/2*.5522847498,A=E/2*.5522847498,O=w+S,I=x+E,R=w+S/2,L=x+E/2;l.beginPath(),l.moveTo(w,L),l.bezierCurveTo(w,L-A,R-C,x,R,x),l.bezierCurveTo(R+C,x,O,L-A,O,L),l.bezierCurveTo(O,L+A,R+C,I,R,I),l.bezierCurveTo(R-C,I,w,L+A,w,L),c&&l.fill(),y&&l.stroke()},r.default.Renderer2D.prototype.line=function(a,l,c,y){var w=this.drawingContext;return this._doStroke&&(this._getStroke()===i||(w.beginPath(),w.moveTo(a,l),w.lineTo(c,y),w.stroke())),this},r.default.Renderer2D.prototype.point=function(a,l){var c=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===i)return this;var y=this._getStroke(),w=this._getFill();this._setFill(y),c.beginPath(),c.arc(a,l,c.lineWidth/2,0,p.TWO_PI,!1),c.fill(),this._setFill(w)},r.default.Renderer2D.prototype.quad=function(a,l,c,y,w,x,S,E){var C=this.drawingContext,A=this._doFill,O=this._doStroke;if(A&&!O){if(this._getFill()===i)return this}else if(!A&&O&&this._getStroke()===i)return this;return C.beginPath(),C.moveTo(a,l),C.lineTo(c,y),C.lineTo(w,x),C.lineTo(S,E),C.closePath(),A&&C.fill(),O&&C.stroke(),this},r.default.Renderer2D.prototype.rect=function(a){var l=a[0],c=a[1],y=a[2],w=a[3],x=a[4],S=a[5],E=a[6],C=a[7],A=this.drawingContext,O=this._doFill,I=this._doStroke;if(O&&!I){if(this._getFill()===i)return this}else if(!O&&I&&this._getStroke()===i)return this;if(A.beginPath(),x===void 0)A.rect(l,c,y,w);else{S===void 0&&(S=x),E===void 0&&(E=S),C===void 0&&(C=E);var R=Math.abs(y),L=Math.abs(w),N=R/2,D=L/2;R<2*x&&(x=N),L<2*x&&(x=D),R<2*S&&(S=N),L<2*S&&(S=D),R<2*E&&(E=N),L<2*E&&(E=D),R<2*C&&(C=N),L<2*C&&(C=D),A.beginPath(),A.moveTo(l+x,c),A.arcTo(l+y,c,l+y,c+w,S),A.arcTo(l+y,c+w,l,c+w,E),A.arcTo(l,c+w,l,c,C),A.arcTo(l,c,l+y,c,x),A.closePath()}return this._doFill&&A.fill(),this._doStroke&&A.stroke(),this},r.default.Renderer2D.prototype.triangle=function(a){var l=this.drawingContext,c=this._doFill,y=this._doStroke,w=a[0],x=a[1],S=a[2],E=a[3],C=a[4],A=a[5];if(c&&!y){if(this._getFill()===i)return this}else if(!c&&y&&this._getStroke()===i)return this;l.beginPath(),l.moveTo(w,x),l.lineTo(S,E),l.lineTo(C,A),l.closePath(),c&&l.fill(),y&&l.stroke()},r.default.Renderer2D.prototype.endShape=function(a,l,c,y,w,x,S){if(l.length===0)return this;if(!this._doStroke&&!this._doFill)return this;var E,C,A,O=a===p.CLOSE;O&&!x&&l.push(l[0]);var I=l.length;if(!c||S!==p.POLYGON&&S!==null)if(!y||S!==p.POLYGON&&S!==null)if(!w||S!==p.POLYGON&&S!==null)if(S===p.POINTS)for(C=0;C<I;C++)E=l[C],this._doStroke&&this._pInst.stroke(E[6]),this._pInst.point(E[0],E[1]);else if(S===p.LINES)for(C=0;C+1<I;C+=2)E=l[C],this._doStroke&&this._pInst.stroke(l[C+1][6]),this._pInst.line(E[0],E[1],l[C+1][0],l[C+1][1]);else if(S===p.TRIANGLES)for(C=0;C+2<I;C+=3)E=l[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(E[0],E[1]),this.drawingContext.lineTo(l[C+1][0],l[C+1][1]),this.drawingContext.lineTo(l[C+2][0],l[C+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(l[C+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(l[C+2][6]),this.drawingContext.stroke());else if(S===p.TRIANGLE_STRIP)for(C=0;C+1<I;C++)E=l[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[C+1][0],l[C+1][1]),this.drawingContext.lineTo(E[0],E[1]),this._doStroke&&this._pInst.stroke(l[C+1][6]),this._doFill&&this._pInst.fill(l[C+1][5]),C+2<I&&(this.drawingContext.lineTo(l[C+2][0],l[C+2][1]),this._doStroke&&this._pInst.stroke(l[C+2][6]),this._doFill&&this._pInst.fill(l[C+2][5])),this._doFillStrokeClose(O);else if(S===p.TRIANGLE_FAN){if(2<I){for(this.drawingContext.beginPath(),C=2;C<I;C++)E=l[C],this.drawingContext.moveTo(l[0][0],l[0][1]),this.drawingContext.lineTo(l[C-1][0],l[C-1][1]),this.drawingContext.lineTo(E[0],E[1]),this.drawingContext.lineTo(l[0][0],l[0][1]),C<I-1&&(this._doFill&&E[5]!==l[C+1][5]||this._doStroke&&E[6]!==l[C+1][6])&&(this._doFill&&(this._pInst.fill(E[5]),this.drawingContext.fill(),this._pInst.fill(l[C+1][5])),this._doStroke&&(this._pInst.stroke(E[6]),this.drawingContext.stroke(),this._pInst.stroke(l[C+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(O)}}else if(S===p.QUADS)for(C=0;C+3<I;C+=4){for(E=l[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(E[0],E[1]),A=1;A<4;A++)this.drawingContext.lineTo(l[C+A][0],l[C+A][1]);this.drawingContext.lineTo(E[0],E[1]),this._doFill&&this._pInst.fill(l[C+3][5]),this._doStroke&&this._pInst.stroke(l[C+3][6]),this._doFillStrokeClose(O)}else if(S===p.QUAD_STRIP){if(3<I)for(C=0;C+1<I;C+=2)E=l[C],this.drawingContext.beginPath(),C+3<I?(this.drawingContext.moveTo(l[C+2][0],l[C+2][1]),this.drawingContext.lineTo(E[0],E[1]),this.drawingContext.lineTo(l[C+1][0],l[C+1][1]),this.drawingContext.lineTo(l[C+3][0],l[C+3][1]),this._doFill&&this._pInst.fill(l[C+3][5]),this._doStroke&&this._pInst.stroke(l[C+3][6])):(this.drawingContext.moveTo(E[0],E[1]),this.drawingContext.lineTo(l[C+1][0],l[C+1][1])),this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0][0],l[0][1]),C=1;C<I;C++)(E=l[C]).isVert&&(E.moveTo?this.drawingContext.moveTo(E[0],E[1]):this.drawingContext.lineTo(E[0],E[1]));this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),C=0;C<I;C++)l[C].isVert?l[C].moveTo?this.drawingContext.moveTo(l[C][0],l[C][1]):this.drawingContext.lineTo(l[C][0],l[C][1]):this.drawingContext.quadraticCurveTo(l[C][0],l[C][1],l[C][2],l[C][3]);this._doFillStrokeClose(O)}else{for(this.drawingContext.beginPath(),C=0;C<I;C++)l[C].isVert?l[C].moveTo?this.drawingContext.moveTo(l[C][0],l[C][1]):this.drawingContext.lineTo(l[C][0],l[C][1]):this.drawingContext.bezierCurveTo(l[C][0],l[C][1],l[C][2],l[C][3],l[C][4],l[C][5]);this._doFillStrokeClose(O)}else if(3<I){var R=[],L=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(l[1][0],l[1][1]),C=1;C+2<I;C++)E=l[C],R[0]=[E[0],E[1]],R[1]=[E[0]+(L*l[C+1][0]-L*l[C-1][0])/6,E[1]+(L*l[C+1][1]-L*l[C-1][1])/6],R[2]=[l[C+1][0]+(L*l[C][0]-L*l[C+2][0])/6,l[C+1][1]+(L*l[C][1]-L*l[C+2][1])/6],R[3]=[l[C+1][0],l[C+1][1]],this.drawingContext.bezierCurveTo(R[1][0],R[1][1],R[2][0],R[2][1],R[3][0],R[3][1]);O&&this.drawingContext.lineTo(l[C+1][0],l[C+1][1]),this._doFillStrokeClose(O)}return x=w=y=c=!1,O&&l.pop(),this},r.default.Renderer2D.prototype.strokeCap=function(a){return a!==p.ROUND&&a!==p.SQUARE&&a!==p.PROJECT||(this.drawingContext.lineCap=a),this},r.default.Renderer2D.prototype.strokeJoin=function(a){return a!==p.ROUND&&a!==p.BEVEL&&a!==p.MITER||(this.drawingContext.lineJoin=a),this},r.default.Renderer2D.prototype.strokeWeight=function(a){return this.drawingContext.lineWidth=a===void 0||a===0?1e-4:a,this},r.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},r.default.Renderer2D.prototype._setFill=function(a){a!==this._cachedFillStyle&&(this.drawingContext.fillStyle=a,this._cachedFillStyle=a)},r.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},r.default.Renderer2D.prototype._setStroke=function(a){a!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=a,this._cachedStrokeStyle=a)},r.default.Renderer2D.prototype.bezier=function(a,l,c,y,w,x,S,E){return this._pInst.beginShape(),this._pInst.vertex(a,l),this._pInst.bezierVertex(c,y,w,x,S,E),this._pInst.endShape(),this},r.default.Renderer2D.prototype.curve=function(a,l,c,y,w,x,S,E){return this._pInst.beginShape(),this._pInst.curveVertex(a,l),this._pInst.curveVertex(c,y),this._pInst.curveVertex(w,x),this._pInst.curveVertex(S,E),this._pInst.endShape(),this},r.default.Renderer2D.prototype._doFillStrokeClose=function(a){a&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},r.default.Renderer2D.prototype.applyMatrix=function(a,l,c,y,w,x){this.drawingContext.transform(a,l,c,y,w,x)},r.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},r.default.Renderer2D.prototype.rotate=function(a){this.drawingContext.rotate(a)},r.default.Renderer2D.prototype.scale=function(a,l){return this.drawingContext.scale(a,l),this},r.default.Renderer2D.prototype.translate=function(a,l){return a instanceof r.default.Vector&&(l=a.y,a=a.x),this.drawingContext.translate(a,l),this},r.default.Renderer2D.prototype.text=function(a,l,c,y,w){var x;y!==void 0&&this.drawingContext.textBaseline===p.BASELINE&&(x=!0,this.drawingContext.textBaseline=p.TOP);var S=r.default.Renderer.prototype.text.apply(this,arguments);return x&&(this.drawingContext.textBaseline=p.BASELINE),S},r.default.Renderer2D.prototype._renderText=function(a,l,c,y,w){if(!(w<=y))return a.push(),this._isOpenType()?this._textFont._renderPath(l,c,y,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(l,c,y),this._doFill&&(this._fillSet||this._setFill(p._DEFAULT_TEXT_FILL),this.drawingContext.fillText(l,c,y))),a.pop(),a},r.default.Renderer2D.prototype.textWidth=function(a){return this._isOpenType()?this._textFont._textWidth(a,this._textSize):this.drawingContext.measureText(a).width},r.default.Renderer2D.prototype._applyTextProperties=function(){var a,l=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),a=this._textFont,this._isOpenType()&&(a=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(a||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===p.CENTER?this.drawingContext.textBaseline=p._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,l},r.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),r.default.Renderer.prototype.push.apply(this)},r.default.Renderer2D.prototype.pop=function(a){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,r.default.Renderer.prototype.pop.call(this,a)};var o=r.default.Renderer2D;d.default=o},{"../image/filters":285,"./constants":253,"./main":264,"./p5.Renderer":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],269:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,r=(h=e("./main"))&&h.__esModule?h:{default:h};r.default.prototype._promisePreloads=[];var p=!(r.default.prototype.registerPromisePreload=function(g){r.default.prototype._promisePreloads.push(g)});r.default.prototype._setupPromisePreloads=function(){var g=!0,m=!1,i=void 0;try{for(var o,a=this._promisePreloads[Symbol.iterator]();!(g=(o=a.next()).done);g=!0){var l=o.value,c=this,y=l.method,w=l.addCallbacks,x=l.legacyPreloadSetup,S=l.target||this,E=S[y].bind(S);if(S===r.default.prototype){if(p)continue;c=null,E=S[y]}S[y]=this._wrapPromisePreload(c,E,w),x&&(S[x.method]=this._legacyPreloadGenerator(c,x,S[y]))}}catch(C){m=!0,i=C}finally{try{g||a.return==null||a.return()}finally{if(m)throw i}}p=!0},r.default.prototype._wrapPromisePreload=function(g,m,i){var o=function(){var a=this;this._incrementPreload();for(var l=null,c=null,y=arguments.length,w=new Array(y),x=0;x<y;x++)w[x]=arguments[x];if(i)for(var S=w.length-1;0<=S&&!c&&typeof w[S]=="function";S--)c=l,l=w.pop();var E=Promise.resolve(m.apply(this,w));return l&&E.then(l),c&&E.catch(c),E.then(function(){return a._decrementPreload()}),E};return g&&(o=o.bind(g)),o};function f(){return{}}r.default.prototype._legacyPreloadGenerator=function(g,m,i){var o=m.createBaseObject||f,a=function(){var l=this;this._incrementPreload();var c=o.apply(this,arguments);return i.apply(this,arguments).then(function(y){Object.assign(c,y),l._decrementPreload()}),c};return g&&(a=a.bind(g)),a}},{"./main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],270:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("./main"))&&h.__esModule?h:{default:h},p=function(o){if(o&&o.__esModule)return o;if(o===null||g(o)!=="object"&&typeof o!="function")return{default:o};var a=f();if(a&&a.has(o))return a.get(o);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in o)if(Object.prototype.hasOwnProperty.call(o,y)){var w=c?Object.getOwnPropertyDescriptor(o,y):null;w&&(w.get||w.set)?Object.defineProperty(l,y,w):l[y]=o[y]}return l.default=o,a&&a.set(o,l),l}(e("./constants"));function f(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return f=function(){return o},o}function g(o){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var m="defaultCanvas0";r.default.prototype.createCanvas=function(o,a,l){r.default._validateParameters("createCanvas",arguments);var c,y=l||p.P2D;if(y===p.WEBGL){if(c=document.getElementById(m)){c.parentNode.removeChild(c);var w=this._renderer;this._elements=this._elements.filter(function(E){return E!==w})}(c=document.createElement("canvas")).id=m,c.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)c=this.canvas;else{c=document.createElement("canvas");for(var x=0;document.getElementById("defaultCanvas".concat(x));)x++;m="defaultCanvas".concat(x),c.id=m,c.classList.add("p5Canvas")}if(this._setupDone||(c.dataset.hidden=!0,c.style.visibility="hidden"),this._userNode)this._userNode.appendChild(c);else{if(document.getElementsByTagName("main").length===0){var S=document.createElement("main");document.body.appendChild(S)}document.getElementsByTagName("main")[0].appendChild(c)}return y===p.WEBGL?(this._setProperty("_renderer",new r.default.RendererGL(c,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new r.default.Renderer2D(c,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(o,a),this._renderer._applyDefaults(),this._renderer},r.default.prototype.resizeCanvas=function(o,a,l){if(r.default._validateParameters("resizeCanvas",arguments),this._renderer){var c={};for(var y in this.drawingContext){var w=this.drawingContext[y];g(w)!=="object"&&typeof w!="function"&&(c[y]=w)}for(var x in this._renderer.resize(o,a),this.width=o,this.height=a,c)try{this.drawingContext[x]=c[x]}catch{}l||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},r.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},r.default.prototype.createGraphics=function(o,a,l){return r.default._validateParameters("createGraphics",arguments),new r.default.Graphics(o,a,l,this)},r.default.prototype.blendMode=function(o){r.default._validateParameters("blendMode",arguments),o===p.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),o=p.BLEND),this._renderer.blendMode(o)};var i=r.default;d.default=i},{"../webgl/p5.RendererGL":318,"./constants":253,"./main":264,"./p5.Graphics":266,"./p5.Renderer2D":268,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],271:[function(e,u,d){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}e("core-js/modules/es.array.slice"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r=m(e("../main")),p=function(o){if(o&&o.__esModule)return o;if(o===null||h(o)!=="object"&&typeof o!="function")return{default:o};var a=g();if(a&&a.has(o))return a.get(o);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in o)if(Object.prototype.hasOwnProperty.call(o,y)){var w=c?Object.getOwnPropertyDescriptor(o,y):null;w&&(w.get||w.set)?Object.defineProperty(l,y,w):l[y]=o[y]}return l.default=o,a&&a.set(o,l),l}(e("../constants")),f=m(e("../helpers"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}function m(o){return o&&o.__esModule?o:{default:o}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),r.default.prototype._normalizeArcAngles=function(o,a,l,c,y){var w;return o-=p.TWO_PI*Math.floor(o/p.TWO_PI),a-=p.TWO_PI*Math.floor(a/p.TWO_PI),w=Math.min(Math.abs(o-a),p.TWO_PI-Math.abs(o-a)),y&&(o=o<=p.HALF_PI?Math.atan(l/c*Math.tan(o)):o>p.HALF_PI&&o<=3*p.HALF_PI?Math.atan(l/c*Math.tan(o))+p.PI:Math.atan(l/c*Math.tan(o))+p.TWO_PI,a=a<=p.HALF_PI?Math.atan(l/c*Math.tan(a)):a>p.HALF_PI&&a<=3*p.HALF_PI?Math.atan(l/c*Math.tan(a))+p.PI:Math.atan(l/c*Math.tan(a))+p.TWO_PI),a<o&&(a+=p.TWO_PI),{start:o,stop:a,correspondToSamePoint:w<1e-5}},r.default.prototype.arc=function(o,a,l,c,y,w,x,S){if(r.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;if(y===w)return this;y=this._toRadians(y),w=this._toRadians(w),l=Math.abs(l),c=Math.abs(c);var E=f.default.modeAdjust(o,a,l,c,this._renderer._ellipseMode),C=this._normalizeArcAngles(y,w,E.w,E.h,!0);return C.correspondToSamePoint?this._renderer.ellipse([E.x,E.y,E.w,E.h,S]):(this._renderer.arc(E.x,E.y,E.w,E.h,C.start,C.stop,x,S),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[E.x,E.y,E.w,E.h,C.start,C.stop,x])),this},r.default.prototype.ellipse=function(o,a,l,c,y){return r.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},r.default.prototype.circle=function(){r.default._validateParameters("circle",arguments);var o=Array.prototype.slice.call(arguments,0,2);return o.push(arguments[2]),o.push(arguments[2]),this._renderEllipse.apply(this,o)},r.default.prototype._renderEllipse=function(o,a,l,c,y){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;l<0&&(l=Math.abs(l)),c===void 0?c=l:c<0&&(c=Math.abs(c));var w=f.default.modeAdjust(o,a,l,c,this._renderer._ellipseMode);return this._renderer.ellipse([w.x,w.y,w.w,w.h,y]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[w.x,w.y,w.w,w.h]),this},r.default.prototype.line=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c;return r.default._validateParameters("line",a),this._renderer._doStroke&&(c=this._renderer).line.apply(c,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",a),this},r.default.prototype.point=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c;return r.default._validateParameters("point",a),this._renderer._doStroke&&(a.length===1&&a[0]instanceof r.default.Vector?this._renderer.point.call(this._renderer,a[0].x,a[0].y,a[0].z):((c=this._renderer).point.apply(c,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",a))),this},r.default.prototype.quad=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c;return r.default._validateParameters("quad",a),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&a.length<=12?this._renderer.quad.call(this._renderer,a[0],a[1],0,a[2],a[3],0,a[4],a[5],0,a[6],a[7],0,a[8],a[9]):((c=this._renderer).quad.apply(c,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",a))),this},r.default.prototype.rect=function(){return r.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},r.default.prototype.square=function(o,a,l,c,y,w,x){return r.default._validateParameters("square",arguments),this._renderRect.call(this,o,a,l,l,c,y,w,x)},r.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var o=f.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),a=[o.x,o.y,o.w,o.h],l=4;l<arguments.length;l++)a[l]=arguments[l];this._renderer.rect(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[o.x,o.y,o.w,o.h])}return this},r.default.prototype.triangle=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return r.default._validateParameters("triangle",a),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",a),this};var i=r.default;d.default=i},{"../constants":253,"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../helpers":260,"../main":264,"core-js/modules/es.array.slice":162}],272:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../main"))&&r.__esModule?r:{default:r},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=g();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}(e("../constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.prototype.ellipseMode=function(i){return p.default._validateParameters("ellipseMode",arguments),i!==f.CORNER&&i!==f.CORNERS&&i!==f.RADIUS&&i!==f.CENTER||(this._renderer._ellipseMode=i),this},p.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},p.default.prototype.rectMode=function(i){return p.default._validateParameters("rectMode",arguments),i!==f.CORNER&&i!==f.CORNERS&&i!==f.RADIUS&&i!==f.CENTER||(this._renderer._rectMode=i),this},p.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},p.default.prototype.strokeCap=function(i){return p.default._validateParameters("strokeCap",arguments),i!==f.ROUND&&i!==f.SQUARE&&i!==f.PROJECT||this._renderer.strokeCap(i),this},p.default.prototype.strokeJoin=function(i){return p.default._validateParameters("strokeJoin",arguments),i!==f.ROUND&&i!==f.BEVEL&&i!==f.MITER||this._renderer.strokeJoin(i),this},p.default.prototype.strokeWeight=function(i){return p.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(i),this};var m=p.default;d.default=m},{"../constants":253,"../main":264}],273:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../main"))&&h.__esModule?h:{default:h};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),r.default.prototype.bezier=function(){for(var f,g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return r.default._validateParameters("bezier",m),(this._renderer._doStroke||this._renderer._doFill)&&(f=this._renderer).bezier.apply(f,m),this},r.default.prototype.bezierDetail=function(f){return r.default._validateParameters("bezierDetail",arguments),this._bezierDetail=f,this},r.default.prototype.bezierPoint=function(f,g,m,i,o){r.default._validateParameters("bezierPoint",arguments);var a=1-o;return Math.pow(a,3)*f+3*Math.pow(a,2)*o*g+3*a*Math.pow(o,2)*m+Math.pow(o,3)*i},r.default.prototype.bezierTangent=function(f,g,m,i,o){r.default._validateParameters("bezierTangent",arguments);var a=1-o;return 3*i*Math.pow(o,2)-3*m*Math.pow(o,2)+6*m*a*o-6*g*a*o+3*g*Math.pow(a,2)-3*f*Math.pow(a,2)},r.default.prototype.curve=function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];var i;return r.default._validateParameters("curve",g),this._renderer._doStroke&&(i=this._renderer).curve.apply(i,g),this},r.default.prototype.curveDetail=function(f){return r.default._validateParameters("curveDetail",arguments),this._curveDetail=f<3?3:f,this},r.default.prototype.curveTightness=function(f){return r.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=f,this},r.default.prototype.curvePoint=function(f,g,m,i,o){r.default._validateParameters("curvePoint",arguments);var a=o*o*o,l=o*o;return f*(-.5*a+l-.5*o)+g*(1.5*a-2.5*l+1)+m*(-1.5*a+2*l+.5*o)+i*(.5*a-.5*l)},r.default.prototype.curveTangent=function(f,g,m,i,o){r.default._validateParameters("curveTangent",arguments);var a=o*o;return f*(-3*a/2+2*o-.5)+g*(9*a/2-5*o)+m*(-9*a/2+4*o+.5)+i*(3*a/2-o)};var p=r.default;d.default=p},{"../friendly_errors/fes_core":255,"../friendly_errors/file_errors":256,"../friendly_errors/validate_params":259,"../main":264}],274:[function(e,u,d){function h(S){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(S)}e("core-js/modules/es.array.slice"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../main"))&&r.__esModule?r:{default:r},f=function(S){if(S&&S.__esModule)return S;if(S===null||h(S)!=="object"&&typeof S!="function")return{default:S};var E=g();if(E&&E.has(S))return E.get(S);var C={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in S)if(Object.prototype.hasOwnProperty.call(S,O)){var I=A?Object.getOwnPropertyDescriptor(S,O):null;I&&(I.get||I.set)?Object.defineProperty(C,O,I):C[O]=S[O]}return C.default=S,E&&E.set(S,C),C}(e("../constants"));function g(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return g=function(){return S},S}var m=null,i=[],o=[],a=!1,l=!1,c=!1,y=!1,w=!0;p.default.prototype.beginContour=function(){return o=[],y=!0,this},p.default.prototype.beginShape=function(S){var E;return p.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(E=this._renderer).beginShape.apply(E,arguments):(m=S===f.POINTS||S===f.LINES||S===f.TRIANGLES||S===f.TRIANGLE_FAN||S===f.TRIANGLE_STRIP||S===f.QUADS||S===f.QUAD_STRIP?S:null,i=[],o=[]),this},p.default.prototype.bezierVertex=function(){for(var S=arguments.length,E=new Array(S),C=0;C<S;C++)E[C]=arguments[C];var A;if(p.default._validateParameters("bezierVertex",E),this._renderer.isP3D)(A=this._renderer).bezierVertex.apply(A,E);else if(i.length===0)p.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{a=!0;for(var O=[],I=0;I<E.length;I++)O[I]=E[I];O.isVert=!1,y?o.push(O):i.push(O)}return this},p.default.prototype.curveVertex=function(){for(var S=arguments.length,E=new Array(S),C=0;C<S;C++)E[C]=arguments[C];var A;return p.default._validateParameters("curveVertex",E),this._renderer.isP3D?(A=this._renderer).curveVertex.apply(A,E):(l=!0,this.vertex(E[0],E[1])),this},p.default.prototype.endContour=function(){var S=o[0].slice();S.isVert=o[0].isVert,S.moveTo=!1,o.push(S),w&&(i.push(i[0]),w=!1);for(var E=0;E<o.length;E++)i.push(o[E]);return this},p.default.prototype.endShape=function(S){if(p.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(S,l,a,c,y,m);else{if(i.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var E=S===f.CLOSE;E&&!y&&i.push(i[0]),this._renderer.endShape(S,i,l,a,c,y,m),w=!(y=c=a=l=!1),E&&i.pop()}return this},p.default.prototype.quadraticVertex=function(){for(var S=arguments.length,E=new Array(S),C=0;C<S;C++)E[C]=arguments[C];if(p.default._validateParameters("quadraticVertex",E),this._renderer.isP3D){var A;(A=this._renderer).quadraticVertex.apply(A,E)}else{if(this._contourInited){var O={};return O.x=E[0],O.y=E[1],O.x3=E[2],O.y3=E[3],O.type=f.QUADRATIC,this._contourVertices.push(O),this}if(0<i.length){c=!0;for(var I=[],R=0;R<E.length;R++)I[R]=E[R];I.isVert=!1,y?o.push(I):i.push(I)}else p.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},p.default.prototype.vertex=function(S,E,C,A,O){if(this._renderer.isP3D){var I;(I=this._renderer).vertex.apply(I,arguments)}else{var R=[];R.isVert=!0,R[0]=S,R[1]=E,R[2]=0,R[3]=0,R[4]=0,R[5]=this._renderer._getFill(),R[6]=this._renderer._getStroke(),C&&(R.moveTo=C),y?(o.length===0&&(R.moveTo=!0),o.push(R)):i.push(R)}return this},p.default.prototype.normal=function(S,E,C){var A;return this._assert3d("normal"),p.default._validateParameters("normal",arguments),(A=this._renderer).normal.apply(A,arguments),this};var x=p.default;d.default=x},{"../constants":253,"../main":264,"core-js/modules/es.array.slice":162}],275:[function(e,u,d){function h(r){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(r)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(r,p){window.setTimeout(r,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var r=Object.keys,p=Object.defineProperty,f=typeof Symbol=="function"&&h(Symbol())==="symbol",g=Object.prototype.propertyIsEnumerable,m=function(i){return function(o){return g.call(i,o)}};p(Object,"assign",{value:function(i,o){if(i==null)throw new TypeError("target must be an object");var a,l,c,y,w=Object(i);for(a=1;a<arguments.length;++a)for(l=Object(arguments[a]),y=r(l),f&&Object.getOwnPropertySymbols&&y.push.apply(y,Object.getOwnPropertySymbols(l).filter(m(l))),c=0;c<y.length;++c)w[y[c]]=l[y[c]];return w},configurable:!0,enumerable:!1,writable:!0})}}()},{"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":229}],276:[function(e,u,d){e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("./main"))&&h.__esModule?h:{default:h};r.default.prototype.noLoop=function(){this._loop=!1},r.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},r.default.prototype.isLooping=function(){return this._loop},r.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},r.default.prototype.pop=function(){var f=this._styles.pop();f?(this._renderer.pop(f.renderer),Object.assign(this,f.props)):console.warn("pop() was called without matching push()")},r.default.prototype.redraw=function(f){if(!this._inUserDraw&&this._setupDone){var g=parseInt(f);(isNaN(g)||g<1)&&(g=1);var m=this._isGlobal?window:this;if(typeof m.draw=="function"){m.setup===void 0&&m.scale(m._pixelDensity,m._pixelDensity);for(var i=function(a){a.call(m)},o=0;o<g;o++){m.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),m._renderer.isP3D&&m._renderer._update(),m._setProperty("frameCount",m.frameCount+1),m._registeredMethods.pre.forEach(i),this._inUserDraw=!0;try{m.draw()}finally{this._inUserDraw=!1}m._registeredMethods.post.forEach(i)}}}};var p=r.default;d.default=p},{"./main":264,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":173,"core-js/modules/web.dom-collections.for-each":228}],277:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("./main"))&&h.__esModule?h:{default:h};function p(g){return function(m){if(Array.isArray(m)){for(var i=0,o=new Array(m.length);i<m.length;i++)o[i]=m[i];return o}}(g)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.default.prototype.applyMatrix=function(){var g,m,i=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||i?(g=this._renderer).applyMatrix.apply(g,p(arguments[0])):(m=this._renderer).applyMatrix.apply(m,arguments),this},r.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},r.default.prototype.rotate=function(g,m){return r.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(g),m),this},r.default.prototype.rotateX=function(g){return this._assert3d("rotateX"),r.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(g)),this},r.default.prototype.rotateY=function(g){return this._assert3d("rotateY"),r.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(g)),this},r.default.prototype.rotateZ=function(g){return this._assert3d("rotateZ"),r.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(g)),this},r.default.prototype.scale=function(g,m,i){if(r.default._validateParameters("scale",arguments),g instanceof r.default.Vector){var o=g;g=o.x,m=o.y,i=o.z}else if(g instanceof Array){var a=g;g=a[0],m=a[1],i=a[2]||1}return isNaN(m)?m=i=g:isNaN(i)&&(i=1),this._renderer.scale.call(this._renderer,g,m,i),this},r.default.prototype.shearX=function(g){r.default._validateParameters("shearX",arguments);var m=this._toRadians(g);return this._renderer.applyMatrix(1,0,Math.tan(m),1,0,0),this},r.default.prototype.shearY=function(g){r.default._validateParameters("shearY",arguments);var m=this._toRadians(g);return this._renderer.applyMatrix(1,Math.tan(m),0,1,0,0),this},r.default.prototype.translate=function(g,m,i){return r.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(g,m,i):this._renderer.translate(g,m),this};var f=r.default;d.default=f},{"./main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229}],278:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(g){return function(m){if(Array.isArray(m)){for(var i=0,o=new Array(m.length);i<m.length;i++)o[i]=m[i];return o}}(g)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(g)}r.default.prototype.storeItem=function(g,m){typeof g!="string"&&console.log("The argument that you passed to storeItem() - ".concat(g," is not a string.")),g.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(g," must not end with 'p5TypeID'.")),m===void 0&&console.log("You cannot store undefined variables using storeItem().");var i=f(m);switch(i){case"number":case"boolean":m=m.toString();break;case"object":m instanceof r.default.Color?i="p5.Color":m instanceof r.default.Vector&&(i="p5.Vector",m=[m.x,m.y,m.z]),m=JSON.stringify(m)}localStorage.setItem(g,m);var o="".concat(g,"p5TypeID");localStorage.setItem(o,i)},r.default.prototype.getItem=function(g){var m=localStorage.getItem(g),i=localStorage.getItem("".concat(g,"p5TypeID"));if(i===void 0)console.log("Unable to determine type of item stored under ".concat(g,"in local storage. Did you save the item with something other than setItem()?"));else if(m!==null)switch(i){case"number":m=parseFloat(m);break;case"boolean":m=m==="true";break;case"object":m=JSON.parse(m);break;case"p5.Color":m=JSON.parse(m),m=this.color.apply(this,p(m.levels));break;case"p5.Vector":m=JSON.parse(m),m=this.createVector.apply(this,p(m))}return m},r.default.prototype.clearStorage=function(){localStorage.clear()},r.default.prototype.removeItem=function(g){typeof g!="string"&&console.log("The argument that you passed to removeItem() - ".concat(g," is not a string.")),localStorage.removeItem(g),localStorage.removeItem("".concat(g,"p5TypeID"))}},{"../core/main":264,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],279:[function(e,u,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.prototype.createStringDict=function(f,g){return r.default._validateParameters("createStringDict",arguments),new r.default.StringDict(f,g)},r.default.prototype.createNumberDict=function(f,g){return r.default._validateParameters("createNumberDict",arguments),new r.default.NumberDict(f,g)},r.default.TypedDict=function(f,g){return f instanceof Object?this.data=f:(this.data={},this.data[f]=g),this},r.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},r.default.TypedDict.prototype.hasKey=function(f){return this.data.hasOwnProperty(f)},r.default.TypedDict.prototype.get=function(f){if(this.data.hasOwnProperty(f))return this.data[f];console.log("".concat(f," does not exist in this Dictionary"))},r.default.TypedDict.prototype.set=function(f,g){this._validate(g)?this.data[f]=g:console.log("Those values dont work for this dictionary type.")},r.default.TypedDict.prototype._addObj=function(f){for(var g in f)this.set(g,f[g])},r.default.TypedDict.prototype.create=function(f,g){f instanceof Object&&g===void 0?this._addObj(f):f!==void 0?this.set(f,g):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},r.default.TypedDict.prototype.clear=function(){this.data={}},r.default.TypedDict.prototype.remove=function(f){if(!this.data.hasOwnProperty(f))throw new Error("".concat(f," does not exist in this Dictionary"));delete this.data[f]},r.default.TypedDict.prototype.print=function(){for(var f in this.data)console.log("key:".concat(f," value:").concat(this.data[f]))},r.default.TypedDict.prototype.saveTable=function(f){var g="";for(var m in this.data)g+="".concat(m,",").concat(this.data[m],`
`);var i=new Blob([g],{type:"text/csv"});r.default.prototype.downloadFile(i,f||"mycsv","csv")},r.default.TypedDict.prototype.saveJSON=function(f,g){r.default.prototype.saveJSON(this.data,f,g)},r.default.TypedDict.prototype._validate=function(f){return!0},r.default.StringDict=function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];r.default.TypedDict.apply(this,g)},r.default.StringDict.prototype=Object.create(r.default.TypedDict.prototype),r.default.StringDict.prototype._validate=function(f){return typeof f=="string"},r.default.NumberDict=function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];r.default.TypedDict.apply(this,g)},r.default.NumberDict.prototype=Object.create(r.default.TypedDict.prototype),r.default.NumberDict.prototype._validate=function(f){return typeof f=="number"},r.default.NumberDict.prototype.add=function(f,g){this.data.hasOwnProperty(f)?this.data[f]+=g:console.log("The key - ".concat(f," does not exist in this dictionary."))},r.default.NumberDict.prototype.sub=function(f,g){this.add(f,-g)},r.default.NumberDict.prototype.mult=function(f,g){this.data.hasOwnProperty(f)?this.data[f]*=g:console.log("The key - ".concat(f," does not exist in this dictionary."))},r.default.NumberDict.prototype.div=function(f,g){this.data.hasOwnProperty(f)?this.data[f]/=g:console.log("The key - ".concat(f," does not exist in this dictionary."))},r.default.NumberDict.prototype._valueTest=function(f){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var g=this.data[Object.keys(this.data)[0]];for(var m in this.data)this.data[m]*f<g*f&&(g=this.data[m]);return g},r.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},r.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},r.default.NumberDict.prototype._keyTest=function(f){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var g=Object.keys(this.data)[0],m=1;m<Object.keys(this.data).length;m++)Object.keys(this.data)[m]*f<g*f&&(g=Object.keys(this.data)[m]);return g},r.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},r.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)};var p=r.default.TypedDict;d.default=p},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],280:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(o){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function f(o,a,l){(a._userNode?a._userNode:document.body).appendChild(o);var c=l?new r.default.MediaElement(o,a):new r.default.Element(o,a);return a._elements.push(c),c}function g(o,a,l,c){var y=document.createElement(a);typeof(l=l||"")=="string"&&(l=[l]);var w=!0,x=!1,S=void 0;try{for(var E,C=l[Symbol.iterator]();!(w=(E=C.next()).done);w=!0){var A=E.value,O=document.createElement("source");O.setAttribute("src",A),y.appendChild(O)}}catch(R){x=!0,S=R}finally{try{w||C.return==null||C.return()}finally{if(x)throw S}}typeof c=="function"&&y.addEventListener("canplaythrough",function R(){c(),y.removeEventListener("canplaythrough",R)});var I=f(y,o,!0);return I.loadedmetadata=!1,y.addEventListener("loadedmetadata",function(){I.width=y.videoWidth,I.height=y.videoHeight,I.elt.width===0&&(I.elt.width=y.videoWidth),I.elt.height===0&&(I.elt.height=y.videoHeight),I.presetPlaybackRate&&(I.elt.playbackRate=I.presetPlaybackRate,delete I.presetPlaybackRate),I.loadedmetadata=!0}),I}r.default.prototype.select=function(o,a){r.default._validateParameters("select",arguments);var l=this._getContainer(a).querySelector(o);return l?this._wrapElement(l):null},r.default.prototype.selectAll=function(o,a){r.default._validateParameters("selectAll",arguments);var l=[],c=this._getContainer(a).querySelectorAll(o);if(c)for(var y=0;y<c.length;y++){var w=this._wrapElement(c[y]);l.push(w)}return l},r.default.prototype._getContainer=function(o){var a=document;return typeof o=="string"?a=document.querySelector(o)||document:o instanceof r.default.Element?a=o.elt:o instanceof HTMLElement&&(a=o),a},r.default.prototype._wrapElement=function(o){var a=Array.prototype.slice.call(o.children);if(o.tagName!=="INPUT"||o.type!=="checkbox")return o.tagName==="VIDEO"||o.tagName==="AUDIO"?new r.default.MediaElement(o,this):o.tagName==="SELECT"?this.createSelect(new r.default.Element(o,this)):0<a.length&&a.every(function(c){return c.tagName==="INPUT"||c.tagName==="LABEL"})?this.createRadio(new r.default.Element(o,this)):new r.default.Element(o,this);var l=new r.default.Element(o,this);return l.checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},l},r.default.prototype.removeElements=function(o){r.default._validateParameters("removeElements",arguments),this._elements.filter(function(a){return!(a.elt instanceof HTMLCanvasElement)}).map(function(a){return a.remove()})},r.default.Element.prototype.changed=function(o){return r.default.Element._adjustListener("change",o,this),this},r.default.Element.prototype.input=function(o){return r.default.Element._adjustListener("input",o,this),this},r.default.prototype.createDiv=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",a=document.createElement("div");return a.innerHTML=o,f(a,this)},r.default.prototype.createP=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",a=document.createElement("p");return a.innerHTML=o,f(a,this)},r.default.prototype.createSpan=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",a=document.createElement("span");return a.innerHTML=o,f(a,this)},r.default.prototype.createImg=function(){r.default._validateParameters("createImg",arguments);var o,a=document.createElement("img"),l=arguments;return 1<l.length&&typeof l[1]=="string"&&(a.alt=l[1]),2<l.length&&typeof l[2]=="string"&&(a.crossOrigin=l[2]),a.src=l[0],o=f(a,this),a.addEventListener("load",function(){o.width=a.offsetWidth||a.width,o.height=a.offsetHeight||a.height;var c=l[l.length-1];typeof c=="function"&&c(o)}),o},r.default.prototype.createA=function(o,a,l){r.default._validateParameters("createA",arguments);var c=document.createElement("a");return c.href=o,c.innerHTML=a,l&&(c.target=l),f(c,this)},r.default.prototype.createSlider=function(o,a,l,c){r.default._validateParameters("createSlider",arguments);var y=document.createElement("input");return y.type="range",y.min=o,y.max=a,c===0?y.step=1e-18:c&&(y.step=c),typeof l=="number"&&(y.value=l),f(y,this)},r.default.prototype.createButton=function(o,a){r.default._validateParameters("createButton",arguments);var l=document.createElement("button");return l.innerHTML=o,a&&(l.value=a),f(l,this)},r.default.prototype.createCheckbox=function(){r.default._validateParameters("createCheckbox",arguments);var o=document.createElement("div"),a=document.createElement("input");a.type="checkbox";var l=document.createElement("label");l.appendChild(a),o.appendChild(l);var c=f(o,this);if(c.checked=function(){var w=c.elt.firstElementChild.getElementsByTagName("input")[0];if(w){if(arguments.length===0)return w.checked;w.checked=!!arguments[0]}return c},this.value=function(w){return c.value=w,this},arguments[0]){c.value(arguments[0]);var y=document.createElement("span");y.innerHTML=arguments[0],l.appendChild(y)}return arguments[1]&&(a.checked=!0),c},r.default.prototype.createSelect=function(){var o;r.default._validateParameters("createSelect",arguments);var a=arguments[0];if(a instanceof r.default.Element&&a.elt instanceof HTMLSelectElement)o=a,this.elt=a.elt;else if(a instanceof HTMLSelectElement)o=f(a,this),this.elt=a;else{var l=document.createElement("select");a&&typeof a=="boolean"&&l.setAttribute("multiple","true"),o=f(l,this),this.elt=l}return o.option=function(c,y){var w;if(c!==void 0){for(var x=0;x<this.elt.length;x+=1)if(this.elt[x].innerHTML===c){w=x;break}if(w!==void 0)y===!1?this.elt.remove(w):this.elt[w].value=y;else{var S=document.createElement("option");S.innerHTML=c,S.value=y===void 0?c:y,this.elt.appendChild(S),this._pInst._elements.push(S)}}},o.selected=function(c){if(c!==void 0){for(var y=0;y<this.elt.length;y+=1)this.elt[y].value.toString()===c.toString()&&(this.elt.selectedIndex=y);return this}if(this.elt.getAttribute("multiple")){var w=[],x=!0,S=!1,E=void 0;try{for(var C,A=this.elt.selectedOptions[Symbol.iterator]();!(x=(C=A.next()).done);x=!0){var O=C.value;w.push(O.value)}}catch(I){S=!0,E=I}finally{try{x||A.return==null||A.return()}finally{if(S)throw E}}return w}return this.elt.value},o.disable=function(c){if(typeof c=="string")for(var y=0;y<this.elt.length;y++)this.elt[y].value.toString()===c&&(this.elt[y].disabled=!0,this.elt[y].selected=!1);else this.elt.disabled=!0;return this},o},r.default.prototype.createRadio=function(){var o,a,l=arguments[0];l instanceof HTMLDivElement||l instanceof HTMLSpanElement?(o=l,typeof arguments[1]=="string"&&(a=arguments[1])):(typeof l=="string"&&(a=l),o=document.createElement("div"));var c=f(this.elt=o,this);c._name=a||"radioOption";function y(x){return x instanceof HTMLInputElement&&x.type==="radio"}function w(x){return x instanceof HTMLLabelElement}return c._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(x){return y(x)||w(x)&&y(x.firstElementChild)}).map(function(x){return y(x)?x:x.firstElementChild})},c.option=function(x,S){var E,C,A,O=!0,I=!1,R=void 0;try{for(var L,N=c._getOptionsArray()[Symbol.iterator]();!(O=(L=N.next()).done);O=!0){var D=L.value;if(D.value===x){E=D;break}}}catch(H){I=!0,R=H}finally{try{O||N.return==null||N.return()}finally{if(I)throw R}}return E===void 0&&((E=document.createElement("input")).setAttribute("type","radio"),E.setAttribute("value",x)),E.setAttribute("name",c._name),w(E.parentElement)?C=E.parentElement:(C=document.createElement("label")).insertAdjacentElement("afterbegin",E),C.lastElementChild instanceof HTMLSpanElement?A=C.lastElementChild:(A=document.createElement("span"),E.insertAdjacentElement("afterend",A)),A.innerHTML=S===void 0?x:S,this.elt.appendChild(C),E},c.remove=function(x){var S=!0,E=!1,C=void 0;try{for(var A,O=c._getOptionsArray()[Symbol.iterator]();!(S=(A=O.next()).done);S=!0){var I=A.value;if(I.value===x)return void(w(I.parentElement)?I.parentElement.remove():I.remove())}}catch(R){E=!0,C=R}finally{try{S||O.return==null||O.return()}finally{if(E)throw C}}},c.value=function(){var x="",S=!0,E=!1,C=void 0;try{for(var A,O=c._getOptionsArray()[Symbol.iterator]();!(S=(A=O.next()).done);S=!0){var I=A.value;if(I.checked){x=I.value;break}}}catch(R){E=!0,C=R}finally{try{S||O.return==null||O.return()}finally{if(E)throw C}}return x},c.selected=function(x){var S=null;if(x===void 0){var E=!0,C=!1,A=void 0;try{for(var O,I=c._getOptionsArray()[Symbol.iterator]();!(E=(O=I.next()).done);E=!0){var R=O.value;if(R.checked){S=R;break}}}catch(le){C=!0,A=le}finally{try{E||I.return==null||I.return()}finally{if(C)throw A}}}else{c._getOptionsArray().forEach(function(le){le.checked=!1,le.removeAttribute("checked")});var L=!0,N=!1,D=void 0;try{for(var H,z=c._getOptionsArray()[Symbol.iterator]();!(L=(H=z.next()).done);L=!0){var ae=H.value;ae.value===x&&(ae.setAttribute("checked",!0),ae.checked=!0,S=ae)}}catch(le){N=!0,D=le}finally{try{L||z.return==null||z.return()}finally{if(N)throw D}}}return S},c.disable=function(){var x=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],S=!0,E=!1,C=void 0;try{for(var A,O=c._getOptionsArray()[Symbol.iterator]();!(S=(A=O.next()).done);S=!0)A.value.setAttribute("disabled",x)}catch(I){E=!0,C=I}finally{try{S||O.return==null||O.return()}finally{if(E)throw C}}},c},r.default.prototype.createColorPicker=function(o){r.default._validateParameters("createColorPicker",arguments);var a,l=document.createElement("input");return l.type="color",o?o instanceof r.default.Color?l.value=o.toString("#rrggbb"):(r.default.prototype._colorMode="rgb",r.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},l.value=r.default.prototype.color(o).toString("#rrggbb")):l.value="#000000",(a=f(l,this)).color=function(){return o&&(o.mode&&(r.default.prototype._colorMode=o.mode),o.maxes&&(r.default.prototype._colorMaxes=o.maxes)),r.default.prototype.color(this.elt.value)},a},r.default.prototype.createInput=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text";r.default._validateParameters("createInput",arguments);var l=document.createElement("input");return l.setAttribute("value",o),l.setAttribute("type",a),f(l,this)},r.default.prototype.createFileInput=function(o){var a=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(r.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var l=document.createElement("input");return l.setAttribute("type","file"),a&&l.setAttribute("multiple",!0),l.addEventListener("change",function(c){var y=!0,w=!1,x=void 0;try{for(var S,E=c.target.files[Symbol.iterator]();!(y=(S=E.next()).done);y=!0){var C=S.value;r.default.File._load(C,o)}}catch(A){w=!0,x=A}finally{try{y||E.return==null||E.return()}finally{if(w)throw x}}},!1),f(l,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},r.default.prototype.createVideo=function(o,a){return r.default._validateParameters("createVideo",arguments),g(this,"video",o,a)},r.default.prototype.createAudio=function(o,a){return r.default._validateParameters("createAudio",arguments),g(this,"audio",o,a)},r.default.prototype.VIDEO="video",r.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(o){var a=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return a?new Promise(function(l,c){a.call(navigator,o,l,c)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),r.default.prototype.createCapture=function(){if(r.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var o,a,l=!0,c=!0,y=!0,w=!1,x=void 0;try{for(var S,E=arguments[Symbol.iterator]();!(y=(S=E.next()).done);y=!0){var C=S.value;C===r.default.prototype.VIDEO?c=!1:C===r.default.prototype.AUDIO?l=!1:p(C)==="object"?o=C:typeof C=="function"&&(a=C)}}catch(I){w=!0,x=I}finally{try{y||E.return==null||E.return()}finally{if(w)throw x}}o=o||{video:l,audio:c};var A=document.createElement("video");A.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(o).then(function(I){try{"srcObject"in A?A.srcObject=I:A.src=window.URL.createObjectURL(I)}catch{A.src=I}},console.log);var O=f(A,this,!0);return O.loadedmetadata=!1,A.addEventListener("loadedmetadata",function(){A.play(),A.width?(O.width=A.width,O.height=A.height):(O.width=O.elt.width=A.videoWidth,O.height=O.elt.height=A.videoHeight),O.loadedmetadata=!0,a&&a(A.srcObject)}),O},r.default.prototype.createElement=function(o,a){r.default._validateParameters("createElement",arguments);var l=document.createElement(o);return a!==void 0&&(l.innerHTML=a),f(l,this)},r.default.Element.prototype.addClass=function(o){return this.elt.className?this.hasClass(o)||(this.elt.className=this.elt.className+" "+o):this.elt.className=o,this},r.default.Element.prototype.removeClass=function(o){return this.elt.classList.remove(o),this},r.default.Element.prototype.hasClass=function(o){return this.elt.classList.contains(o)},r.default.Element.prototype.toggleClass=function(o){return this.elt.classList.contains(o)?this.elt.classList.remove(o):this.elt.classList.add(o),this},r.default.Element.prototype.child=function(o){return o===void 0?this.elt.childNodes:(typeof o=="string"?(o[0]==="#"&&(o=o.substring(1)),o=document.getElementById(o)):o instanceof r.default.Element&&(o=o.elt),o instanceof HTMLElement&&this.elt.appendChild(o),this)},r.default.Element.prototype.center=function(o){var a=this.elt.style.display,l=this.elt.style.display==="none",c=this.parent().style.display==="none",y={x:this.elt.offsetLeft,y:this.elt.offsetTop};l&&this.show(),c&&this.parent().show(),this.elt.style.display="block",this.position(0,0);var w=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),x=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return o==="both"||o===void 0?this.position(w/2+this.parent().offsetLeft,x/2+this.parent().offsetTop):o==="horizontal"?this.position(w/2+this.parent().offsetLeft,y.y):o==="vertical"&&this.position(y.x,x/2+this.parent().offsetTop),this.style("display",a),l&&this.hide(),c&&this.parent().hide(),this},r.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},r.default.Element.prototype.position=function(){if(arguments.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};var o="absolute";return arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"||(o=arguments[2]),this.elt.style.position=o,this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this},r.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var o="";return this.elt.style.transform&&(o=(o=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=o,this},r.default.Element.prototype._rotate=function(){var o="";return this.elt.style.transform&&(o=(o=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=o,this},r.default.Element.prototype.style=function(o,a){if(a instanceof r.default.Color&&(a="rgba("+a.levels[0]+","+a.levels[1]+","+a.levels[2]+","+a.levels[3]/255+")"),a===void 0){if(o.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(o);for(var l=o.split(";"),c=0;c<l.length;c++){var y=l[c].split(":");y[0]&&y[1]&&(this.elt.style[y[0].trim()]=y[1].trim())}}else if(this.elt.style[o]=a,o==="width"||o==="height"||o==="left"||o==="top"){var w=window.getComputedStyle(this.elt).getPropertyValue(o).replace(/\D+/g,"");this[o]=parseInt(w,10)}return this},r.default.Element.prototype.attribute=function(o,a){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return a===void 0?this.elt.getAttribute(o):(this.elt.setAttribute(o,a),this);if(a===void 0)return this.elt.firstChild.getAttribute(o);for(var l=0;l<this.elt.childNodes.length;l++)this.elt.childNodes[l].setAttribute(o,a)},r.default.Element.prototype.removeAttribute=function(o){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var a=0;a<this.elt.childNodes.length;a++)this.elt.childNodes[a].removeAttribute(o);return this.elt.removeAttribute(o),this},r.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},r.default.Element.prototype.show=function(){return this.elt.style.display="block",this},r.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},r.default.Element.prototype.size=function(o,a){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var l=o,c=a,y=r.default.prototype.AUTO;if(l!==y||c!==y){if(l===y?l=a*this.width/this.height:c===y&&(c=o*this.height/this.width),this.elt instanceof HTMLCanvasElement){var w,x={},S=this.elt.getContext("2d");for(w in S)x[w]=S[w];for(w in this.elt.setAttribute("width",l*this._pInst._pixelDensity),this.elt.setAttribute("height",c*this._pInst._pixelDensity),this.elt.style.width=l+"px",this.elt.style.height=c+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),x)this.elt.getContext("2d")[w]=x[w]}else this.elt.style.width=l+"px",this.elt.style.height=c+"px",this.elt.width=l,this.elt.height=c;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},r.default.Element.prototype.remove=function(){if(this instanceof r.default.MediaElement){this.stop();var o=this.elt.srcObject;o!==null&&o.getTracks().forEach(function(c){c.stop()})}var a=this._pInst._elements.indexOf(this);for(var l in a!==-1&&this._pInst._elements.splice(a,1),this._events)this.elt.removeEventListener(l,this._events[l]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},r.default.Element.prototype.drop=function(o,a){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var l=function(c){c.preventDefault()};this.elt.addEventListener("dragover",l),this.elt.addEventListener("dragleave",l)}r.default.Element._attachListener("drop",function(c){c.preventDefault(),typeof a=="function"&&a.call(this,c);for(var y=c.dataTransfer.files,w=0;w<y.length;w++){var x=y[w];r.default.File._load(x,o)}},this)}else console.log("The File APIs are not fully supported in this browser.");return this},r.default.MediaElement=function(o,a){r.default.Element.call(this,o,a);var l=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(l,"src",{get:function(){var c=l.elt.children[0].src,y=l.elt.src===window.location.href?"":l.elt.src;return c===window.location.href?y:c},set:function(c){for(var y=0;y<l.elt.children.length;y++)l.elt.removeChild(l.elt.children[y]);var w=document.createElement("source");w.src=c,o.appendChild(w),l.elt.src=c,l.modified=!0}}),l._onended=function(){},l.elt.onended=function(){l._onended(l)}},r.default.MediaElement.prototype=Object.create(r.default.Element.prototype),r.default.MediaElement.prototype.play=function(){var o,a=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),(o=(1<this.elt.readyState||this.elt.load(),this.elt.play()))&&o.catch&&o.catch(function(l){l.name==="NotAllowedError"?r.default._friendlyAutoplayError(a.src):console.error("Media play method encountered an unexpected error",l)}),this},r.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},r.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},r.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},r.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},r.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var o=this,a=setTimeout(function(){return r.default._friendlyAutoplayError(o.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(a)},{passive:!0,once:!0})},r.default.MediaElement.prototype.autoplay=function(o){var a=this,l=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",o),o&&!l){var c=function(){return a._setupAutoplayFailDetection()};this.elt.readyState===4?c():this.elt.addEventListener("canplay",c,{passive:!0,once:!0})}return this},r.default.MediaElement.prototype.volume=function(o){if(o===void 0)return this.elt.volume;this.elt.volume=o},r.default.MediaElement.prototype.speed=function(o){if(o===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=o:this.presetPlaybackRate=o},r.default.MediaElement.prototype.time=function(o){return o===void 0?this.elt.currentTime:(this.elt.currentTime=o,this)},r.default.MediaElement.prototype.duration=function(){return this.elt.duration},r.default.MediaElement.prototype.pixels=[],r.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},r.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),r.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},r.default.MediaElement.prototype.updatePixels=function(o,a,l,c){return this.loadedmetadata&&(this._ensureCanvas(),r.default.Renderer2D.prototype.updatePixels.call(this,o,a,l,c)),this.setModified(!0),this},r.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),r.default.Renderer2D.prototype.get.apply(this,arguments)},r.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),r.default.Renderer2D.prototype._getPixel.apply(this,arguments)},r.default.MediaElement.prototype.set=function(o,a,l){this.loadedmetadata&&(this._ensureCanvas(),r.default.Renderer2D.prototype.set.call(this,o,a,l),this.setModified(!0))},r.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),r.default.prototype.copy.apply(this,arguments)},r.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),r.default.Image.prototype.mask.apply(this,arguments)},r.default.MediaElement.prototype.isModified=function(){return this._modified},r.default.MediaElement.prototype.setModified=function(o){this._modified=o},r.default.MediaElement.prototype.onended=function(o){return this._onended=o,this},r.default.MediaElement.prototype.connect=function(o){var a,l;if(typeof r.default.prototype.getAudioContext=="function")a=r.default.prototype.getAudioContext(),l=r.default.soundOut.input;else try{l=(a=o.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=a.createMediaElementSource(this.elt),this.audioSourceNode.connect(l)),o?o.input?this.audioSourceNode.connect(o.input):this.audioSourceNode.connect(o):this.audioSourceNode.connect(l)},r.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},r.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},r.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function m(o,a,l,c){this.callback=o,this.time=a,this.id=l,this.val=c}r.default.MediaElement.prototype.addCue=function(o,a,l){var c=this._cueIDCounter++,y=new m(a,o,c,l);return this._cues.push(y),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),c},r.default.MediaElement.prototype.removeCue=function(o){for(var a=0;a<this._cues.length;a++)this._cues[a].id===o&&(console.log(o),this._cues.splice(a,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},r.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},r.default.MediaElement.prototype._onTimeUpdate=function(){for(var o=this.time(),a=0;a<this._cues.length;a++){var l=this._cues[a].time,c=this._cues[a].val;this._prevTime<l&&l<=o&&this._cues[a].callback(c)}this._prevTime=o},r.default.File=function(o,a){this.file=o,this._pInst=a;var l=o.type.split("/");this.type=l[0],this.subtype=l[1],this.name=o.name,this.size=o.size,this.data=void 0},r.default.File._createLoader=function(o,a){var l=new FileReader;return l.onload=function(c){var y=new r.default.File(o);if(y.file.type==="application/json")y.data=JSON.parse(c.target.result);else if(y.file.type==="text/xml"){var w=new DOMParser().parseFromString(c.target.result,"text/xml");y.data=new r.default.XML(w.documentElement)}else y.data=c.target.result;a(y)},l},r.default.File._load=function(o,a){if(/^text\//.test(o.type)||o.type==="application/json")r.default.File._createLoader(o,a).readAsText(o);else if(/^(video|audio)\//.test(o.type)){var l=new r.default.File(o);l.data=URL.createObjectURL(o),a(l)}else r.default.File._createLoader(o,a).readAsDataURL(o)};var i=r.default;d.default=i},{"../core/main":264,"core-js/modules/es.array.every":150,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":228,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231}],281:[function(e,u,d){function h(S){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(S)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(S){if(S&&S.__esModule)return S;if(S===null||h(S)!=="object"&&typeof S!="function")return{default:S};var E=g();if(E&&E.has(S))return E.get(S);var C={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in S)if(Object.prototype.hasOwnProperty.call(S,O)){var I=A?Object.getOwnPropertyDescriptor(S,O):null;I&&(I.get||I.set)?Object.defineProperty(C,O,I):C[O]=S[O]}return C.default=S,E&&E.set(S,C),C}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return g=function(){return S},S}p.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",p.default.prototype.accelerationX=0,p.default.prototype.accelerationY=0,p.default.prototype.accelerationZ=0,p.default.prototype.pAccelerationX=0,p.default.prototype.pAccelerationY=0,p.default.prototype.pAccelerationZ=0,p.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},p.default.prototype.rotationX=0,p.default.prototype.rotationY=0,p.default.prototype.rotationZ=0,p.default.prototype.pRotationX=0,p.default.prototype.pRotationY=0;var m=p.default.prototype.pRotationZ=0,i=0,o=0,a="clockwise",l="clockwise",c="clockwise";p.default.prototype.pRotateDirectionX=void 0,p.default.prototype.pRotateDirectionY=void 0,p.default.prototype.pRotateDirectionZ=void 0,p.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},p.default.prototype.turnAxis=void 0;var y=.5,w=30;p.default.prototype.setMoveThreshold=function(S){p.default._validateParameters("setMoveThreshold",arguments),y=S},p.default.prototype.setShakeThreshold=function(S){p.default._validateParameters("setShakeThreshold",arguments),w=S},p.default.prototype._ondeviceorientation=function(S){this._updatePRotations(),this._angleMode===f.radians&&(S.beta=S.beta*(_PI/180),S.gamma=S.gamma*(_PI/180),S.alpha=S.alpha*(_PI/180)),this._setProperty("rotationX",S.beta),this._setProperty("rotationY",S.gamma),this._setProperty("rotationZ",S.alpha),this._handleMotion()},p.default.prototype._ondevicemotion=function(S){this._updatePAccelerations(),this._setProperty("accelerationX",2*S.acceleration.x),this._setProperty("accelerationY",2*S.acceleration.y),this._setProperty("accelerationZ",2*S.acceleration.z),this._handleMotion()},p.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var S,E,C=this._isGlobal?window:this;if(typeof C.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>y||Math.abs(this.accelerationY-this.pAccelerationY)>y||Math.abs(this.accelerationZ-this.pAccelerationZ)>y)&&C.deviceMoved(),typeof C.deviceTurned=="function"){var A=this.rotationX+180,O=this.pRotationX+180,I=m+180;0<A-O&&A-O<270||A-O<-270?a="clockwise":(A-O<0||270<A-O)&&(a="counter-clockwise"),a!==this.pRotateDirectionX&&(I=A),90<Math.abs(A-I)&&Math.abs(A-I)<270&&(I=A,this._setProperty("turnAxis","X"),C.deviceTurned()),this.pRotateDirectionX=a,m=I-180;var R=this.rotationY+180,L=this.pRotationY+180,N=i+180;0<R-L&&R-L<270||R-L<-270?l="clockwise":(R-L<0||270<R-this.pRotationY)&&(l="counter-clockwise"),l!==this.pRotateDirectionY&&(N=R),90<Math.abs(R-N)&&Math.abs(R-N)<270&&(N=R,this._setProperty("turnAxis","Y"),C.deviceTurned()),this.pRotateDirectionY=l,i=N-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?c="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(c="counter-clockwise"),c!==this.pRotateDirectionZ&&(o=this.rotationZ),90<Math.abs(this.rotationZ-o)&&Math.abs(this.rotationZ-o)<270&&(o=this.rotationZ,this._setProperty("turnAxis","Z"),C.deviceTurned()),this.pRotateDirectionZ=c,this._setProperty("turnAxis",void 0)}typeof C.deviceShaken=="function"&&(this.pAccelerationX!==null&&(S=Math.abs(this.accelerationX-this.pAccelerationX),E=Math.abs(this.accelerationY-this.pAccelerationY)),w<S+E&&C.deviceShaken())};var x=p.default;d.default=x},{"../core/constants":253,"../core/main":264}],282:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.prototype.isKeyPressed=!1,r.default.prototype.keyIsPressed=!1,r.default.prototype.key="",r.default.prototype.keyCode=0,r.default.prototype._onkeydown=function(f){if(!this._downKeys[f.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",f.which),this._downKeys[f.which]=!0,this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which);var g=this._isGlobal?window:this;typeof g.keyPressed=="function"&&!f.charCode&&g.keyPressed(f)===!1&&f.preventDefault()}},r.default.prototype._onkeyup=function(f){this._downKeys[f.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which),this._setProperty("keyCode",f.which);var g=this._isGlobal?window:this;typeof g.keyReleased=="function"&&g.keyReleased(f)===!1&&f.preventDefault()},r.default.prototype._onkeypress=function(f){if(f.which!==this._lastKeyCodeTyped){this._setProperty("_lastKeyCodeTyped",f.which),this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which);var g=this._isGlobal?window:this;typeof g.keyTyped=="function"&&g.keyTyped(f)===!1&&f.preventDefault()}},r.default.prototype._onblur=function(f){this._downKeys={}},r.default.prototype.keyIsDown=function(f){return r.default._validateParameters("keyIsDown",arguments),this._downKeys[f]||!1},r.default.prototype._areDownKeys=function(){for(var f in this._downKeys)if(this._downKeys.hasOwnProperty(f)&&this._downKeys[f]===!0)return!0;return!1};var p=r.default;d.default=p},{"../core/main":264}],283:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=g();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.prototype.movedX=0,p.default.prototype.movedY=0,p.default.prototype._hasMouseInteracted=!1,p.default.prototype.mouseX=0,p.default.prototype.mouseY=0,p.default.prototype.pmouseX=0,p.default.prototype.pmouseY=0,p.default.prototype.winMouseX=0,p.default.prototype.winMouseY=0,p.default.prototype.pwinMouseX=0,p.default.prototype.pwinMouseY=0,p.default.prototype.mouseButton=0,p.default.prototype.mouseIsPressed=!1,p.default.prototype._updateNextMouseCoords=function(i){if(this._curElement!==null&&(!i.touches||0<i.touches.length)){var o=function(a,l,c,y){y&&!y.clientX&&(y.touches?y=y.touches[0]:y.changedTouches&&(y=y.changedTouches[0]));var w=a.getBoundingClientRect(),x=a.scrollWidth/l||1,S=a.scrollHeight/c||1;return{x:(y.clientX-w.left)/x,y:(y.clientY-w.top)/S,winX:y.clientX,winY:y.clientY,id:y.identifier}}(this._curElement.elt,this.width,this.height,i);this._setProperty("movedX",i.movementX),this._setProperty("movedY",i.movementY),this._setProperty("mouseX",o.x),this._setProperty("mouseY",o.y),this._setProperty("winMouseX",o.winX),this._setProperty("winMouseY",o.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},p.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},p.default.prototype._setMouseButton=function(i){i.button===1?this._setProperty("mouseButton",f.CENTER):i.button===2?this._setProperty("mouseButton",f.RIGHT):this._setProperty("mouseButton",f.LEFT)},p.default.prototype._onmousemove=function(i){var o=this._isGlobal?window:this;this._updateNextMouseCoords(i),this.mouseIsPressed?typeof o.mouseDragged=="function"?o.mouseDragged(i)===!1&&i.preventDefault():typeof o.touchMoved=="function"&&o.touchMoved(i)===!1&&i.preventDefault():typeof o.mouseMoved=="function"&&o.mouseMoved(i)===!1&&i.preventDefault()},p.default.prototype._onmousedown=function(i){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(i),this._updateNextMouseCoords(i),typeof o.mousePressed=="function"?o.mousePressed(i)===!1&&i.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof o.touchStarted=="function"&&o.touchStarted(i)===!1&&i.preventDefault()},p.default.prototype._onmouseup=function(i){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof o.mouseReleased=="function"?o.mouseReleased(i)===!1&&i.preventDefault():typeof o.touchEnded=="function"&&o.touchEnded(i)===!1&&i.preventDefault()},p.default.prototype._ondragend=p.default.prototype._onmouseup,p.default.prototype._ondragover=p.default.prototype._onmousemove,p.default.prototype._onclick=function(i){var o=this._isGlobal?window:this;typeof o.mouseClicked=="function"&&o.mouseClicked(i)===!1&&i.preventDefault()},p.default.prototype._ondblclick=function(i){var o=this._isGlobal?window:this;typeof o.doubleClicked=="function"&&o.doubleClicked(i)===!1&&i.preventDefault()},p.default.prototype._mouseWheelDeltaY=0,p.default.prototype._pmouseWheelDeltaY=0,p.default.prototype._onwheel=function(i){var o=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",i.deltaY),typeof o.mouseWheel=="function"&&(i.delta=i.deltaY,o.mouseWheel(i)===!1&&i.preventDefault())},p.default.prototype.requestPointerLock=function(){var i=this._curElement.elt;return i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock,i.requestPointerLock?(i.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},p.default.prototype.exitPointerLock=function(){document.exitPointerLock()};var m=p.default;d.default=m},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],284:[function(e,u,d){e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(g,m,i,o,a){var l=4<arguments.length&&a!==void 0?a:0,c=g.getBoundingClientRect(),y=g.scrollWidth/m||1,w=g.scrollHeight/i||1,x=o.touches[l]||o.changedTouches[l];return{x:(x.clientX-c.left)/y,y:(x.clientY-c.top)/w,winX:x.clientX,winY:x.clientY,id:x.identifier}}r.default.prototype.touches=[],r.default.prototype._updateTouchCoords=function(g){if(this._curElement!==null){for(var m=[],i=0;i<g.touches.length;i++)m[i]=p(this._curElement.elt,this.width,this.height,g,i);this._setProperty("touches",m)}},r.default.prototype._ontouchstart=function(g){var m=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(g),this._updateNextMouseCoords(g),this._updateMouseCoords(),typeof m.touchStarted=="function"?m.touchStarted(g)===!1&&g.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof m.mousePressed=="function"&&m.mousePressed(g)===!1&&g.preventDefault()},r.default.prototype._ontouchmove=function(g){var m=this._isGlobal?window:this;this._updateTouchCoords(g),this._updateNextMouseCoords(g),typeof m.touchMoved=="function"?m.touchMoved(g)===!1&&g.preventDefault():typeof m.mouseDragged=="function"&&m.mouseDragged(g)===!1&&g.preventDefault()},r.default.prototype._ontouchend=function(g){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(g),this._updateNextMouseCoords(g);var m=this._isGlobal?window:this;typeof m.touchEnded=="function"?m.touchEnded(g)===!1&&g.preventDefault():typeof m.mouseReleased=="function"&&m.mouseReleased(g)===!1&&g.preventDefault()};var f=r.default;d.default=f},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],285:[function(e,u,d){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r,p,f,g={};function m(o,a){for(var l,c,y,w,x,S,E,C,A,O,I=g._toPixels(o),R=o.width,L=o.height,N=R*L,D=new Int32Array(N),H=0;H<N;H++)D[H]=g._getARGB(I,H);var z,ae,le,J,ue=new Int32Array(N),se=new Int32Array(N),me=new Int32Array(N),xe=new Int32Array(N),Ce=0;for(function(De){var _e=3.5*De|0;if(h!==(_e=_e<1?1:_e<248?_e:248)){r=1+(h=_e)<<1,p=new Int32Array(r),f=new Array(r);for(var Se=0;Se<r;Se++)f[Se]=new Int32Array(256);for(var P,G,X,ee,B=1,F=_e-1;B<_e;B++){p[_e+B]=p[F]=G=F*F,X=f[_e+B],ee=f[F--];for(var re=0;re<256;re++)X[re]=ee[re]=G*re}P=p[_e]=_e*_e,X=f[_e];for(var $=0;$<256;$++)X[$]=P*$}}(a),ae=0;ae<L;ae++){for(z=0;z<R;z++){if(w=y=c=x=l=0,(S=z-h)<0)O=-S,S=0;else{if(R<=S)break;O=0}for(le=O;le<r&&!(R<=S);le++){var ve=D[S+Ce];x+=(J=f[le])[(-16777216&ve)>>>24],c+=J[(16711680&ve)>>16],y+=J[(65280&ve)>>8],w+=J[255&ve],l+=p[le],S++}ue[E=Ce+z]=x/l,se[E]=c/l,me[E]=y/l,xe[E]=w/l}Ce+=R}for(A=(C=-h)*R,ae=Ce=0;ae<L;ae++){for(z=0;z<R;z++){if(w=y=c=x=l=0,C<0)O=E=-C,S=z;else{if(L<=C)break;O=0,E=C,S=z+A}for(le=O;le<r&&!(L<=E);le++)x+=(J=f[le])[ue[S]],c+=J[se[S]],y+=J[me[S]],w+=J[xe[S]],l+=p[le],E++,S+=R;D[z+Ce]=x/l<<24|c/l<<16|y/l<<8|w/l}Ce+=R,A+=R,C++}g._setPixels(I,D)}g._toPixels=function(o){if(o instanceof ImageData)return o.data;if(o.getContext("2d"))return o.getContext("2d").getImageData(0,0,o.width,o.height).data;if(o.getContext("webgl")){var a=o.getContext("webgl"),l=a.drawingBufferWidth*a.drawingBufferHeight*4,c=new Uint8Array(l);return a.readPixels(0,0,o.width,o.height,a.RGBA,a.UNSIGNED_BYTE,c),c}},g._getARGB=function(o,a){var l=4*a;return o[3+l]<<24&4278190080|o[l]<<16&16711680|o[1+l]<<8&65280|255&o[2+l]},g._setPixels=function(o,a){for(var l=0,c=0,y=o.length;c<y;c++)o[(l=4*c)+0]=(16711680&a[c])>>>16,o[l+1]=(65280&a[c])>>>8,o[l+2]=255&a[c],o[l+3]=(4278190080&a[c])>>>24},g._toImageData=function(o){return o instanceof ImageData?o:o.getContext("2d").getImageData(0,0,o.width,o.height)},g._createImageData=function(o,a){return g._tmpCanvas=document.createElement("canvas"),g._tmpCtx=g._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(o,a)},g.apply=function(o,a,l){var c=o.getContext("2d"),y=c.getImageData(0,0,o.width,o.height),w=a(y,l);w instanceof ImageData?c.putImageData(w,0,0,0,0,o.width,o.height):c.putImageData(y,0,0,0,0,o.width,o.height)},g.threshold=function(o,a){var l=g._toPixels(o);a===void 0&&(a=.5);for(var c=Math.floor(255*a),y=0;y<l.length;y+=4){var w=void 0;w=c<=.2126*l[y]+.7152*l[y+1]+.0722*l[y+2]?255:0,l[y]=l[y+1]=l[y+2]=w}},g.gray=function(o){for(var a=g._toPixels(o),l=0;l<a.length;l+=4){var c=.2126*a[l]+.7152*a[l+1]+.0722*a[l+2];a[l]=a[l+1]=a[l+2]=c}},g.opaque=function(o){for(var a=g._toPixels(o),l=0;l<a.length;l+=4)a[l+3]=255;return a},g.invert=function(o){for(var a=g._toPixels(o),l=0;l<a.length;l+=4)a[l]=255-a[l],a[l+1]=255-a[l+1],a[l+2]=255-a[l+2]},g.posterize=function(o,a){var l=g._toPixels(o);if(a<2||255<a)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var c=a-1,y=0;y<l.length;y+=4){var w=l[y],x=l[y+1],S=l[y+2];l[y]=255*(w*a>>8)/c,l[y+1]=255*(x*a>>8)/c,l[y+2]=255*(S*a>>8)/c}},g.dilate=function(o){for(var a,l,c,y,w,x,S,E,C,A,O,I,R,L,N,D,H,z=g._toPixels(o),ae=0,le=z.length?z.length/4:0,J=new Int32Array(le);ae<le;)for(l=(a=ae)+o.width;ae<l;)c=y=g._getARGB(z,ae),(S=ae-1)<a&&(S=ae),l<=(x=ae+1)&&(x=ae),(E=ae-o.width)<0&&(E=0),le<=(C=ae+o.width)&&(C=ae),I=g._getARGB(z,E),O=g._getARGB(z,S),R=g._getARGB(z,C),(w=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<(N=77*(O>>16&255)+151*(O>>8&255)+28*(255&O))&&(y=O,w=N),w<(L=77*((A=g._getARGB(z,x))>>16&255)+151*(A>>8&255)+28*(255&A))&&(y=A,w=L),w<(D=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))&&(y=I,w=D),w<(H=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))&&(y=R,w=H),J[ae++]=y;g._setPixels(z,J)},g.erode=function(o){for(var a,l,c,y,w,x,S,E,C,A,O,I,R,L,N,D,H,z=g._toPixels(o),ae=0,le=z.length?z.length/4:0,J=new Int32Array(le);ae<le;)for(l=(a=ae)+o.width;ae<l;)c=y=g._getARGB(z,ae),(S=ae-1)<a&&(S=ae),l<=(x=ae+1)&&(x=ae),(E=ae-o.width)<0&&(E=0),le<=(C=ae+o.width)&&(C=ae),I=g._getARGB(z,E),O=g._getARGB(z,S),R=g._getARGB(z,C),(N=77*(O>>16&255)+151*(O>>8&255)+28*(255&O))<(w=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(y=O,w=N),(L=77*((A=g._getARGB(z,x))>>16&255)+151*(A>>8&255)+28*(255&A))<w&&(y=A,w=L),(D=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))<w&&(y=I,w=D),(H=77*(R>>16&255)+151*(R>>8&255)+28*(255&R))<w&&(y=R,w=H),J[ae++]=y;g._setPixels(z,J)},g.blur=function(o,a){m(o,a)};var i=g;d.default=i},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],286:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h=p(e("../core/main")),r=p(e("omggif"));function p(m){return m&&m.__esModule?m:{default:m}}function f(m){return function(i){if(Array.isArray(i)){for(var o=0,a=new Array(i.length);o<i.length;o++)a[o]=i[o];return a}}(m)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}h.default.prototype.createImage=function(m,i){return h.default._validateParameters("createImage",arguments),new h.default.Image(m,i)},h.default.prototype.saveCanvas=function(){h.default._validateParameters("saveCanvas",arguments);var m,i,o,a,l=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(m=arguments[0],l.shift()):arguments[0]instanceof h.default.Element?(m=arguments[0].elt,l.shift()):m=this._curElement&&this._curElement.elt,1<=l.length&&(i=l[0]),2<=l.length&&(o=l[1]),o=o||h.default.prototype._checkFileExtension(i,o)[1]||"png"){default:a="image/png";break;case"jpeg":case"jpg":a="image/jpeg"}m.toBlob(function(c){h.default.prototype.downloadFile(c,i,o)},a)},h.default.prototype.saveGif=function(m,i){var o=m.gifProperties,a=o.loopLimit;a===1?a=null:a===null&&(a=0);for(var l=new Uint8Array(m.width*m.height*o.numFrames),c=[],y={},w=0;w<o.numFrames;w++){for(var x=new Set,S=o.frames[w].image.data,E=S.length,C=new Uint32Array(m.width*m.height),A=0,O=0;A<E;A+=4,O++){var I=S[A+0]<<16|S[A+1]<<8|S[A+2]<<0;x.add(I),C[O]=I}var R=f(x).sort().toString();y[R]===void 0?y[R]={freq:1,frames:[w]}:(y[R].freq+=1,y[R].frames.push(w)),c.push(C)}var L=[],N=Object.keys(y).sort(function(Se,P){return y[P].freq-y[Se].freq}),D=N[0].split(",").map(function(Se){return parseInt(Se)});L=L.concat(y[D].frames);for(var H=new Set(D),z=1;z<N.length;z++){var ae=N[z].split(",").map(function(Se){return parseInt(Se)}).filter(function(Se){return!H.has(Se)});if(D.length+ae.length<=256){for(var le=0;le<ae.length;le++)D.push(ae[le]),H.add(ae[le]);L=L.concat(y[N[z]].frames)}}L=new Set(L);for(var J={},ue=0;ue<D.length;ue++)J[D[ue]]||(J[D[ue]]=ue);for(var se=1;se<D.length;)se<<=1;D.length=se;for(var me={loop:a,palette:new Uint32Array(D)},xe=new r.default.GifWriter(l,m.width,m.height,me),Ce={},ve=function(Se){for(var P=!L.has(Se),G=P?[]:D,X=new Uint8Array(m.width*m.height),ee={},B=new Set,F=0;F<c[Se].length;F++){var re=c[Se][F];P?(ee[re]===void 0&&(ee[re]=G.length,G.push(re)),X[F]=ee[re]):X[F]=J[re],0<Se&&c[Se-1][F]!==re&&B.add(re)}var $={},ne=G.filter(function(he){return!B.has(he)});if(0<ne.length){var ie=ne[0],oe=P?ee[ie]:J[ie];if(0<Se){for(var pe=0;pe<c[Se].length;pe++)c[Se-1][pe]===c[Se][pe]&&(X[pe]=oe);$.transparent=oe,Ce.frameOpts.disposal=1}}if($.delay=o.frames[Se].delay/10,P){for(var ge=1;ge<G.length;)ge<<=1;G.length=ge,$.palette=new Uint32Array(G)}0<Se&&xe.addFrame(0,0,m.width,m.height,Ce.pixelPaletteIndex,Ce.frameOpts),Ce={pixelPaletteIndex:X,frameOpts:$}},De=0;De<o.numFrames;De++)ve(De);Ce.frameOpts.disposal=1,xe.addFrame(0,0,m.width,m.height,Ce.pixelPaletteIndex,Ce.frameOpts);var _e=new Blob([l.slice(0,xe.end())],{type:"image/gif"});h.default.prototype.downloadFile(_e,i,"gif")},h.default.prototype.saveFrames=function(m,i,o,a,l){h.default._validateParameters("saveFrames",arguments);var c=o||3;c=h.default.prototype.constrain(c,0,15),c*=1e3;var y=a||15;y=h.default.prototype.constrain(y,0,22);var w=0,x=h.default.prototype._makeFrame,S=this._curElement.elt,E=[],C=setInterval(function(){E.push(x(m+w,i,S)),w++},1e3/y);setTimeout(function(){if(clearInterval(C),l)l(E);else{var A=!0,O=!1,I=void 0;try{for(var R,L=E[Symbol.iterator]();!(A=(R=L.next()).done);A=!0){var N=R.value;h.default.prototype.downloadFile(N.imageData,N.filename,N.ext)}}catch(D){O=!0,I=D}finally{try{A||L.return==null||L.return()}finally{if(O)throw I}}}E=[]},c+.01)},h.default.prototype._makeFrame=function(m,i,o){var a,l;if(a=this?this._curElement.elt:o,i)switch(i.toLowerCase()){case"png":l="image/png";break;case"jpeg":case"jpg":l="image/jpeg";break;default:l="image/png"}else i="png",l="image/png";var c=a.toDataURL(l);c=c.replace(l,"image/octet-stream");var y={};return y.imageData=c,y.filename=m,y.ext=i,y};var g=h.default;d.default=g},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,omggif:238}],287:[function(e,u,d){function h(c){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(c)}e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r=o(e("../core/main")),p=o(e("./filters")),f=o(e("../core/helpers")),g=function(c){if(c&&c.__esModule)return c;if(c===null||h(c)!=="object"&&typeof c!="function")return{default:c};var y=i();if(y&&y.has(c))return y.get(c);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in c)if(Object.prototype.hasOwnProperty.call(c,S)){var E=x?Object.getOwnPropertyDescriptor(c,S):null;E&&(E.get||E.set)?Object.defineProperty(w,S,E):w[S]=c[S]}return w.default=c,y&&y.set(c,w),w}(e("../core/constants")),m=o(e("omggif"));function i(){if(typeof WeakMap!="function")return null;var c=new WeakMap;return i=function(){return c},c}function o(c){return c&&c.__esModule?c:{default:c}}function a(c,y){return 0<c&&c<y?c:y}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),r.default.prototype.loadImage=function(c,y,w){r.default._validateParameters("loadImage",arguments);var x=new r.default.Image(1,1,this),S=this,E=new Request(c,{method:"GET",mode:"cors"});return fetch(c,E).then(function(C){var A=C.headers.get("content-type");if(A===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),A&&A.includes("image/gif"))C.arrayBuffer().then(function(I){I&&function(R,L,N,D,H){var z=new m.default.GifReader(R);L.width=L.canvas.width=z.width,L.height=L.canvas.height=z.height;var ae=[],le=z.numFrames(),J=new Uint8ClampedArray(L.width*L.height*4);if(1<le){for(var ue=function(_e,Se){try{Se.decodeAndBlitFrameRGBA(_e,J)}catch(P){r.default._friendlyFileLoadError(8,L.src),typeof D=="function"?D(P):console.error(P)}},se=0;se<le;se++){var me=z.frameInfo(se),xe=L.drawingContext.getImageData(0,0,L.width,L.height);J=xe.data.slice(),ue(se,z);var Ce=new ImageData(J,L.width,L.height);L.drawingContext.putImageData(Ce,0,0);var ve=me.delay;ve===0&&(ve=10),ae.push({image:L.drawingContext.getImageData(0,0,L.width,L.height),delay:10*ve}),me.disposal===2?L.drawingContext.clearRect(me.x,me.y,me.width,me.height):me.disposal===3&&L.drawingContext.putImageData(xe,0,0,me.x,me.y,me.width,me.height)}var De=z.loopCount();De===null?De=1:De===0&&(De=null),L.drawingContext.putImageData(ae[0].image,0,0),L.gifProperties={displayIndex:0,loopLimit:De,loopCount:0,frames:ae,numFrames:le,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof N=="function"&&N(L),H()}(new Uint8Array(I),x,y,w,function(R){S._decrementPreload()}.bind(S))},function(I){typeof w=="function"?w(I):console.error(I)});else{var O=new Image;O.onload=function(){x.width=x.canvas.width=O.width,x.height=x.canvas.height=O.height,x.drawingContext.drawImage(O,0,0),x.modified=!0,typeof y=="function"&&y(x),S._decrementPreload()},O.onerror=function(I){r.default._friendlyFileLoadError(0,O.src),typeof w=="function"?w(I):console.error(I)},c.indexOf("data:image/")!==0&&(O.crossOrigin="Anonymous"),O.src=c}x.modified=!0}).catch(function(C){r.default._friendlyFileLoadError(0,c),typeof w=="function"?w(C):console.error(C)}),x},r.default.prototype.image=function(c,y,w,x,S,E,C,A,O){r.default._validateParameters("image",arguments);var I=c.width,R=c.height;c.elt&&c.elt.videoWidth&&!c.canvas&&(I=c.elt.videoWidth,R=c.elt.videoHeight);var L=y,N=w,D=x||I,H=S||R,z=E||0,ae=C||0,le=A||I,J=O||R;le=a(le,I),J=a(J,R);var ue=1;c.elt&&!c.canvas&&c.elt.style.width&&(ue=c.elt.videoWidth&&!x?c.elt.videoWidth:c.elt.width,ue/=parseInt(c.elt.style.width,10)),z*=ue,ae*=ue,J*=ue,le*=ue;var se=f.default.modeAdjust(L,N,D,H,this._renderer._imageMode);this._renderer.image(c,z,ae,le,J,se.x,se.y,se.w,se.h)},r.default.prototype.tint=function(){for(var c=arguments.length,y=new Array(c),w=0;w<c;w++)y[w]=arguments[w];r.default._validateParameters("tint",y);var x=this.color.apply(this,y);this._renderer._tint=x.levels},r.default.prototype.noTint=function(){this._renderer._tint=null},r.default.prototype._getTintedImageCanvas=function(c){if(!c.canvas)return c;var y=p.default._toPixels(c.canvas),w=document.createElement("canvas");w.width=c.canvas.width,w.height=c.canvas.height;for(var x=w.getContext("2d"),S=x.createImageData(c.canvas.width,c.canvas.height),E=S.data,C=0;C<y.length;C+=4){var A=y[C],O=y[C+1],I=y[C+2],R=y[C+3];E[C]=A*this._renderer._tint[0]/255,E[C+1]=O*this._renderer._tint[1]/255,E[C+2]=I*this._renderer._tint[2]/255,E[C+3]=R*this._renderer._tint[3]/255}return x.putImageData(S,0,0),w},r.default.prototype.imageMode=function(c){r.default._validateParameters("imageMode",arguments),c!==g.CORNER&&c!==g.CORNERS&&c!==g.CENTER||(this._renderer._imageMode=c)};var l=r.default;d.default=l},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/helpers":260,"../core/main":264,"./filters":285,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.includes":185,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,omggif:238}],288:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h=p(e("../core/main")),r=p(e("./filters"));function p(g){return g&&g.__esModule?g:{default:g}}h.default.Image=function(g,m){this.width=g,this.height=m,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},h.default.Image.prototype._animateGif=function(g){var m=this.gifProperties,i=g._lastFrameTime;if(m.lastChangeTime===0&&(m.lastChangeTime=i),m.playing){m.timeDisplayed=i-m.lastChangeTime;var o=m.frames[m.displayIndex].delay;if(m.timeDisplayed>=o){var a=Math.floor(m.timeDisplayed/o);if(m.timeDisplayed=0,m.lastChangeTime=i,m.displayIndex+=a,m.loopCount=Math.floor(m.displayIndex/m.numFrames),m.loopLimit!==null&&m.loopCount>=m.loopLimit)m.playing=!1;else{var l=m.displayIndex%m.numFrames;this.drawingContext.putImageData(m.frames[l].image,0,0),m.displayIndex=l,this.setModified(!0)}}}},h.default.Image.prototype._setProperty=function(g,m){this[g]=m,this.setModified(!0)},h.default.Image.prototype.loadPixels=function(){h.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},h.default.Image.prototype.updatePixels=function(g,m,i,o){h.default.Renderer2D.prototype.updatePixels.call(this,g,m,i,o),this.setModified(!0)},h.default.Image.prototype.get=function(g,m,i,o){return h.default._validateParameters("p5.Image.get",arguments),h.default.Renderer2D.prototype.get.apply(this,arguments)},h.default.Image.prototype._getPixel=h.default.Renderer2D.prototype._getPixel,h.default.Image.prototype.set=function(g,m,i){h.default.Renderer2D.prototype.set.call(this,g,m,i),this.setModified(!0)},h.default.Image.prototype.resize=function(g,m){g===0&&m===0?(g=this.canvas.width,m=this.canvas.height):g===0?g=this.canvas.width*m/this.canvas.height:m===0&&(m=this.canvas.height*g/this.canvas.width),g=Math.floor(g),m=Math.floor(m);var i=document.createElement("canvas");if(i.width=g,i.height=m,this.gifProperties)for(var o=this.gifProperties,a=function(y,w){for(var x=0,S=0;S<w.height;S++)for(var E=0;E<w.width;E++){var C=Math.floor(E*y.width/w.width),A=4*(Math.floor(S*y.height/w.height)*y.width+C);w.data[x++]=y.data[A++],w.data[x++]=y.data[A++],w.data[x++]=y.data[A++],w.data[x++]=y.data[A++]}},l=0;l<o.numFrames;l++){var c=this.drawingContext.createImageData(g,m);a(o.frames[l].image,c),o.frames[l].image=c}i.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,i.width,i.height),this.canvas.width=this.width=g,this.canvas.height=this.height=m,this.drawingContext.drawImage(i,0,0,g,m,0,0,g,m),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},h.default.Image.prototype.copy=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];h.default.prototype.copy.apply(this,m)},h.default.Image.prototype.mask=function(g){g===void 0&&(g=this);var m=this.drawingContext.globalCompositeOperation,i=1;g instanceof h.default.Renderer&&(i=g._pInst._pixelDensity);var o=[g,0,0,i*g.width,i*g.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",h.default.Image.prototype.copy.apply(this,o),this.drawingContext.globalCompositeOperation=m,this.setModified(!0)},h.default.Image.prototype.filter=function(g,m){r.default.apply(this.canvas,r.default[g],m),this.setModified(!0)},h.default.Image.prototype.blend=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];h.default._validateParameters("p5.Image.blend",arguments),h.default.prototype.blend.apply(this,m),this.setModified(!0)},h.default.Image.prototype.setModified=function(g){this._modified=g},h.default.Image.prototype.isModified=function(){return this._modified},h.default.Image.prototype.save=function(g,m){this.gifProperties?h.default.prototype.saveGif(this,g):h.default.prototype.saveCanvas(this.canvas,g,m)},h.default.Image.prototype.reset=function(){if(this.gifProperties){var g=this.gifProperties;g.playing=!0,g.timeSinceStart=0,g.timeDisplayed=0,g.lastChangeTime=0,g.loopCount=0,g.displayIndex=0,this.drawingContext.putImageData(g.frames[0].image,0,0)}},h.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var g=this.gifProperties;return g.displayIndex%g.numFrames}},h.default.Image.prototype.setFrame=function(g){if(this.gifProperties){var m=this.gifProperties;g<m.numFrames&&0<=g?(m.timeDisplayed=0,m.lastChangeTime=0,m.displayIndex=g,this.drawingContext.putImageData(m.frames[g].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},h.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},h.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},h.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},h.default.Image.prototype.delay=function(g,m){if(this.gifProperties){var i=this.gifProperties;if(m<i.numFrames&&0<=m)i.frames[m].delay=g;else{var o=!0,a=!1,l=void 0;try{for(var c,y=i.frames[Symbol.iterator]();!(o=(c=y.next()).done);o=!0)c.value.delay=g}catch(w){a=!0,l=w}finally{try{o||y.return==null||y.return()}finally{if(a)throw l}}}}};var f=h.default.Image;d.default=f},{"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],289:[function(e,u,d){e("core-js/modules/es.array.filter"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h=p(e("../core/main")),r=p(e("./filters"));function p(g){return g&&g.__esModule?g:{default:g}}e("../color/p5.Color"),h.default.prototype.pixels=[],h.default.prototype.blend=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];var o;h.default._validateParameters("blend",m),this._renderer?(o=this._renderer).blend.apply(o,m):h.default.Renderer2D.prototype.blend.apply(this,m)},h.default.prototype.copy=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];var o,a,l,c,y,w,x,S,E;if(h.default._validateParameters("copy",m),m.length===9)o=m[0],a=m[1],l=m[2],c=m[3],y=m[4],w=m[5],x=m[6],S=m[7],E=m[8];else{if(m.length!==8)throw new Error("Signature not supported");o=this,a=m[0],l=m[1],c=m[2],y=m[3],w=m[4],x=m[5],S=m[6],E=m[7]}h.default.prototype._copyHelper(this,o,a,l,c,y,w,x,S,E)},h.default.prototype._copyHelper=function(g,m,i,o,a,l,c,y,w,x){m.loadPixels();var S=m.canvas.width/m.width,E=0,C=0;m._renderer&&m._renderer.isP3D&&(E=m.width/2,C=m.height/2),g._renderer&&g._renderer.isP3D?h.default.RendererGL.prototype.image.call(g._renderer,m,i+E,o+C,a,l,c,y,w,x):g.drawingContext.drawImage(m.canvas,S*(i+E),S*(o+C),S*a,S*l,c,y,w,x)},h.default.prototype.filter=function(g,m){h.default._validateParameters("filter",arguments),this.canvas!==void 0?r.default.apply(this.canvas,r.default[g],m):r.default.apply(this.elt,r.default[g],m)},h.default.prototype.get=function(g,m,i,o){var a;return h.default._validateParameters("get",arguments),(a=this._renderer).get.apply(a,arguments)},h.default.prototype.loadPixels=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];h.default._validateParameters("loadPixels",m),this._renderer.loadPixels()},h.default.prototype.set=function(g,m,i){this._renderer.set(g,m,i)},h.default.prototype.updatePixels=function(g,m,i,o){h.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(g,m,i,o)};var f=h.default;d.default=f},{"../color/p5.Color":251,"../core/main":264,"./filters":285,"core-js/modules/es.array.filter":152}],290:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h=f(e("../core/main"));e("whatwg-fetch"),e("es6-promise/auto");var r=f(e("fetch-jsonp")),p=f(e("file-saver"));function f(l){return l&&l.__esModule?l:{default:l}}function g(l){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function m(l,c){var y={};if((c=c||[])===void 0)for(var w=0;w<l.length;w++)c[w.toString()]=w;for(var x=0;x<c.length;x++){var S=c[x],E=l[x];y[S]=E}return y}function i(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function o(l,c){c&&c!==!0&&c!=="true"||(c="");var y="";return(l=l||"untitled")&&l.includes(".")&&(y=l.split(".").pop()),c&&y!==c&&(y=c,l="".concat(l,".").concat(y)),[l,y]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),h.default.prototype.loadJSON=function(){for(var l=arguments.length,c=new Array(l),y=0;y<l;y++)c[y]=arguments[y];h.default._validateParameters("loadJSON",c);for(var w,x,S,E=c[0],C={},A="json",O=1;O<c.length;O++){var I=c[O];typeof I=="string"?I!=="jsonp"&&I!=="json"||(A=I):typeof I=="function"?w?x=I:w=I:g(I)==="object"&&(I.hasOwnProperty("jsonpCallback")||I.hasOwnProperty("jsonpCallbackFunction"))&&(A="jsonp",S=I)}var R=this;return this.httpDo(E,"GET",S,A,function(L){for(var N in L)C[N]=L[N];w!==void 0&&w(L),R._decrementPreload()},function(L){if(h.default._friendlyFileLoadError(5,E),!x)throw L;x(L)}),C},h.default.prototype.loadStrings=function(){for(var l=arguments.length,c=new Array(l),y=0;y<l;y++)c[y]=arguments[y];h.default._validateParameters("loadStrings",c);for(var w,x,S=[],E=1;E<c.length;E++){var C=c[E];typeof C=="function"&&(w===void 0?w=C:x===void 0&&(x=C))}var A=this;return h.default.prototype.httpDo.call(this,c[0],"GET","text",function(O){for(var I=O.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),R=0,L=I.length;R<L;R+=32768)Array.prototype.push.apply(S,I.slice(R,Math.min(R+32768,L)));w!==void 0&&w(S),A._decrementPreload()},function(O){if(h.default._friendlyFileLoadError(3,O),!x)throw O;x(O)}),S},h.default.prototype.loadTable=function(l){var c,y,w,x=!1,S=l.substring(l.lastIndexOf(".")+1,l.length);S==="csv"?w=",":S==="ssv"?w=";":S==="tsv"&&(w="	");for(var E=1;E<arguments.length;E++)typeof arguments[E]=="function"?c===void 0?c=arguments[E]:y===void 0&&(y=arguments[E]):typeof arguments[E]=="string"&&(arguments[E]==="header"&&(x=!0),arguments[E]==="csv"?w=",":arguments[E]==="ssv"?w=";":arguments[E]==="tsv"&&(w="	"));var C=new h.default.Table,A=this;return this.httpDo(l,"GET","table",function(O){for(var I,R,L={},N=[],D=0,H=null,z=function(){L.currentState=0,L.token=""},ae=function(){H.push(L.token),z()},le=function(){L.currentState=4,N.push(H),H=null};;){if((I=O[D++])==null){if(L.escaped)throw new Error("Unclosed quote in file.");if(H){ae(),le();break}}if(H===null&&(L.escaped=!1,H=[],z()),L.currentState===0){if(I==='"'){L.escaped=!0,L.currentState=1;continue}L.currentState=1}if(L.currentState===1&&L.escaped)if(I==='"')O[D]==='"'?(L.token+='"',D++):(L.escaped=!1,L.currentState=2);else{if(I==="\r")continue;L.token+=I}else I==="\r"?(O[D]===`
`&&D++,ae(),le()):I===`
`?(ae(),le()):I===w?ae():L.currentState===1&&(L.token+=I)}if(x)C.columns=N.shift();else for(var J=0;J<N[0].length;J++)C.columns[J]="null";for(var ue=0;ue<N.length;ue++)(N[ue].length!==1||N[ue][0]!=="undefined"&&N[ue][0]!=="")&&((R=new h.default.TableRow).arr=N[ue],R.obj=m(N[ue],C.columns),C.addRow(R));typeof c=="function"&&c(C),A._decrementPreload()},function(O){h.default._friendlyFileLoadError(2,l),y?y(O):console.error(O)}),C},h.default.prototype.loadXML=function(){for(var l=arguments.length,c=new Array(l),y=0;y<l;y++)c[y]=arguments[y];for(var w,x,S=new h.default.XML,E=1;E<c.length;E++){var C=c[E];typeof C=="function"&&(w===void 0?w=C:x===void 0&&(x=C))}var A=this;return this.httpDo(c[0],"GET","xml",function(O){for(var I in O)S[I]=O[I];w!==void 0&&w(S),A._decrementPreload()},function(O){if(h.default._friendlyFileLoadError(1,O),!x)throw O;x(O)}),S},h.default.prototype.loadBytes=function(l,c,y){var w={},x=this;return this.httpDo(l,"GET","arrayBuffer",function(S){w.bytes=new Uint8Array(S),typeof c=="function"&&c(w),x._decrementPreload()},function(S){if(h.default._friendlyFileLoadError(6,l),!y)throw S;y(S)}),w},h.default.prototype.httpGet=function(){h.default._validateParameters("httpGet",arguments);var l=Array.prototype.slice.call(arguments);return l.splice(1,0,"GET"),h.default.prototype.httpDo.apply(this,l)},h.default.prototype.httpPost=function(){h.default._validateParameters("httpPost",arguments);var l=Array.prototype.slice.call(arguments);return l.splice(1,0,"POST"),h.default.prototype.httpDo.apply(this,l)},h.default.prototype.httpDo=function(){for(var l,c,y,w,x,S={},E=0,C="text/plain",A=arguments.length-1;0<A&&typeof(A<0||arguments.length<=A?void 0:arguments[A])=="function";A--)E++;var O=arguments.length<=0?void 0:arguments[0];if(arguments.length-E==2&&typeof O=="string"&&g(arguments.length<=1?void 0:arguments[1])==="object")w=new Request(O,arguments.length<=1?void 0:arguments[1]),c=arguments.length<=2?void 0:arguments[2],y=arguments.length<=3?void 0:arguments[3];else{for(var I,R="GET",L=1;L<arguments.length;L++){var N=L<0||arguments.length<=L?void 0:arguments[L];if(typeof N=="string")N==="GET"||N==="POST"||N==="PUT"||N==="DELETE"?R=N:N==="json"||N==="jsonp"||N==="binary"||N==="arrayBuffer"||N==="xml"||N==="text"||N==="table"?l=N:I=N;else if(typeof N=="number")I=N.toString();else if(g(N)==="object")if(N.hasOwnProperty("jsonpCallback")||N.hasOwnProperty("jsonpCallbackFunction"))for(var D in N)S[D]=N[D];else C=N instanceof h.default.XML?(I=N.serialize(),"application/xml"):(I=JSON.stringify(N),"application/json");else typeof N=="function"&&(c?y=N:c=N)}var H=R==="GET"?new Headers:new Headers({"Content-Type":C});w=new Request(O,{method:R,mode:"cors",body:I,headers:H})}return(x=(x=(l=l||(O.includes("json")?"json":O.includes("xml")?"xml":"text"))==="jsonp"?(0,r.default)(O,S):fetch(w)).then(function(z){if(!z.ok){var ae=new Error(z.body);throw ae.status=z.status,ae.ok=!1,ae}var le=0;switch(l!=="jsonp"&&(le=z.headers.get("content-length")),le&&64e6<le&&h.default._friendlyFileLoadError(7,O),l){case"json":case"jsonp":return z.json();case"binary":return z.blob();case"arrayBuffer":return z.arrayBuffer();case"xml":return z.text().then(function(J){var ue=new DOMParser().parseFromString(J,"text/xml");return new h.default.XML(ue.documentElement)});default:return z.text()}})).then(c||function(){}),x.catch(y||console.error),x},window.URL=window.URL||window.webkitURL,h.default.prototype._pWriters=[],h.default.prototype.createWriter=function(l,c){var y;for(var w in h.default.prototype._pWriters)if(h.default.prototype._pWriters[w].name===l)return y=new h.default.PrintWriter(l+this.millis(),c),h.default.prototype._pWriters.push(y),y;return y=new h.default.PrintWriter(l,c),h.default.prototype._pWriters.push(y),y},h.default.PrintWriter=function(l,c){var y=this;this.name=l,this.content="",this.write=function(w){this.content+=w},this.print=function(w){this.content+="".concat(w,`
`)},this.clear=function(){this.content=""},this.close=function(){var w=[];for(var x in w.push(this.content),h.default.prototype.writeFile(w,l,c),h.default.prototype._pWriters)h.default.prototype._pWriters[x].name===this.name&&h.default.prototype._pWriters.splice(x,1);y.clear(),y={}}},h.default.prototype.save=function(l,c,y){var w=arguments,x=this._curElement?this._curElement.elt:this.elt;if(w.length!==0)if(w[0]instanceof h.default.Renderer||w[0]instanceof h.default.Graphics)h.default.prototype.saveCanvas(w[0].elt,w[1],w[2]);else if(w.length===1&&typeof w[0]=="string")h.default.prototype.saveCanvas(x,w[0]);else switch(o(w[1],w[2])[1]){case"json":return void h.default.prototype.saveJSON(w[0],w[1],w[2]);case"txt":return void h.default.prototype.saveStrings(w[0],w[1],w[2]);default:w[0]instanceof Array?h.default.prototype.saveStrings(w[0],w[1],w[2]):w[0]instanceof h.default.Table?h.default.prototype.saveTable(w[0],w[1],w[2]):w[0]instanceof h.default.Image?h.default.prototype.saveCanvas(w[0].canvas,w[1]):w[0]instanceof h.default.SoundFile&&h.default.prototype.saveSound(w[0],w[1],w[2],w[3])}else h.default.prototype.saveCanvas(x)},h.default.prototype.saveJSON=function(l,c,y){var w;h.default._validateParameters("saveJSON",arguments),w=y?JSON.stringify(l):JSON.stringify(l,void 0,2),this.saveStrings(w.split(`
`),c,"json")},h.default.prototype.saveJSONObject=h.default.prototype.saveJSON,h.default.prototype.saveJSONArray=h.default.prototype.saveJSON,h.default.prototype.saveStrings=function(l,c,y,w){h.default._validateParameters("saveStrings",arguments);for(var x=y||"txt",S=this.createWriter(c,x),E=0;E<l.length;E++)w?S.write(l[E]+`\r
`):S.write(l[E]+`
`);S.close(),S.clear()},h.default.prototype.saveTable=function(l,c,y){var w;h.default._validateParameters("saveTable",arguments),w=y===void 0?c.substring(c.lastIndexOf(".")+1,c.length):y;var x=this.createWriter(c,w),S=l.columns,E=",";if(w==="tsv"&&(E="	"),w!=="html"){if(S[0]!=="0"){for(var C=0;C<S.length;C++)C<S.length-1?x.write(S[C]+E):x.write(S[C]);x.write(`
`)}for(var A=0;A<l.rows.length;A++){var O=void 0;for(O=0;O<l.rows[A].arr.length;O++)O<l.rows[A].arr.length-1?w==="csv"&&String(l.rows[A].arr[O]).includes(",")?x.write('"'+l.rows[A].arr[O]+'"'+E):x.write(l.rows[A].arr[O]+E):w==="csv"&&String(l.rows[A].arr[O]).includes(",")?x.write('"'+l.rows[A].arr[O]+'"'):x.write(l.rows[A].arr[O]);x.write(`
`)}}else{if(x.print("<html>"),x.print("<head>"),x.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),x.print("</head>"),x.print("<body>"),x.print("  <table>"),S[0]!=="0"){x.print("    <tr>");for(var I=0;I<S.length;I++){var R=i(S[I]);x.print("      <td>".concat(R)),x.print("      </td>")}x.print("    </tr>")}for(var L=0;L<l.rows.length;L++){x.print("    <tr>");for(var N=0;N<l.columns.length;N++){var D=i(l.rows[L].getString(N));x.print("      <td>".concat(D)),x.print("      </td>")}x.print("    </tr>")}x.print("  </table>"),x.print("</body>"),x.print("</html>")}x.close(),x.clear()},h.default.prototype.writeFile=function(l,c,y){var w="application/octet-stream";h.default.prototype._isSafari()&&(w="text/plain");var x=new Blob(l,{type:w});h.default.prototype.downloadFile(x,c,y)},h.default.prototype.downloadFile=function(l,c,y){var w=o(c,y),x=w[0];if(l instanceof Blob)p.default.saveAs(l,x);else{var S=document.createElement("a");if(S.href=l,S.download=x,S.onclick=function(C){var A;A=C,document.body.removeChild(A.target),C.stopPropagation()},S.style.display="none",document.body.appendChild(S),h.default.prototype._isSafari()){var E=`Hello, Safari user! To download this file...
`;E+=`1. Go to File --> Save As.
`,E+=`2. Choose "Page Source" as the Format.
`,E+='3. Name it with this extension: ."'.concat(w[1],'"'),alert(E)}S.click()}},h.default.prototype._checkFileExtension=o,h.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")};var a=h.default;d.default=a},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,"core-js/modules/web.url":231,"es6-promise/auto":232,"fetch-jsonp":234,"file-saver":235,"whatwg-fetch":242}],291:[function(e,u,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.Table=function(f){this.columns=[],this.rows=[]},r.default.Table.prototype.addRow=function(f){var g=f||new r.default.TableRow;if(g.arr===void 0||g.obj===void 0)throw new Error("invalid TableRow: ".concat(g));return(g.table=this).rows.push(g),g},r.default.Table.prototype.removeRow=function(f){this.rows[f].table=null;var g=this.rows.splice(f+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(g)},r.default.Table.prototype.getRow=function(f){return this.rows[f]},r.default.Table.prototype.getRows=function(){return this.rows},r.default.Table.prototype.findRow=function(f,g){if(typeof g=="string"){for(var m=0;m<this.rows.length;m++)if(this.rows[m].obj[g]===f)return this.rows[m]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[g]===f)return this.rows[i];return null},r.default.Table.prototype.findRows=function(f,g){var m=[];if(typeof g=="string")for(var i=0;i<this.rows.length;i++)this.rows[i].obj[g]===f&&m.push(this.rows[i]);else for(var o=0;o<this.rows.length;o++)this.rows[o].arr[g]===f&&m.push(this.rows[o]);return m},r.default.Table.prototype.matchRow=function(f,g){if(typeof g=="number"){for(var m=0;m<this.rows.length;m++)if(this.rows[m].arr[g].match(f))return this.rows[m]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[g].match(f))return this.rows[i];return null},r.default.Table.prototype.matchRows=function(f,g){var m=[];if(typeof g=="number")for(var i=0;i<this.rows.length;i++)this.rows[i].arr[g].match(f)&&m.push(this.rows[i]);else for(var o=0;o<this.rows.length;o++)this.rows[o].obj[g].match(f)&&m.push(this.rows[o]);return m},r.default.Table.prototype.getColumn=function(f){var g=[];if(typeof f=="string")for(var m=0;m<this.rows.length;m++)g.push(this.rows[m].obj[f]);else for(var i=0;i<this.rows.length;i++)g.push(this.rows[i].arr[f]);return g},r.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},r.default.Table.prototype.addColumn=function(f){var g=f||null;this.columns.push(g)},r.default.Table.prototype.getColumnCount=function(){return this.columns.length},r.default.Table.prototype.getRowCount=function(){return this.rows.length},r.default.Table.prototype.removeTokens=function(f,g){for(var m=[],i=0;i<f.length;i++)m.push(f.charAt(i).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var o=new RegExp(m.join("|"),"g");if(g===void 0)for(var a=0;a<this.columns.length;a++)for(var l=0;l<this.rows.length;l++){var c=this.rows[l].arr[a];c=c.replace(o,""),this.rows[l].arr[a]=c,this.rows[l].obj[this.columns[a]]=c}else if(typeof g=="string")for(var y=0;y<this.rows.length;y++){var w=this.rows[y].obj[g];w=w.replace(o,""),this.rows[y].obj[g]=w;var x=this.columns.indexOf(g);this.rows[y].arr[x]=w}else for(var S=0;S<this.rows.length;S++){var E=this.rows[S].arr[g];E=E.replace(o,""),this.rows[S].arr[g]=E,this.rows[S].obj[this.columns[g]]=E}},r.default.Table.prototype.trim=function(f){var g=new RegExp(" ","g");if(f===void 0)for(var m=0;m<this.columns.length;m++)for(var i=0;i<this.rows.length;i++){var o=this.rows[i].arr[m];o=o.replace(g,""),this.rows[i].arr[m]=o,this.rows[i].obj[this.columns[m]]=o}else if(typeof f=="string")for(var a=0;a<this.rows.length;a++){var l=this.rows[a].obj[f];l=l.replace(g,""),this.rows[a].obj[f]=l;var c=this.columns.indexOf(f);this.rows[a].arr[c]=l}else for(var y=0;y<this.rows.length;y++){var w=this.rows[y].arr[f];w=w.replace(g,""),this.rows[y].arr[f]=w,this.rows[y].obj[this.columns[f]]=w}},r.default.Table.prototype.removeColumn=function(f){var g,m;typeof f=="string"?(g=f,m=this.columns.indexOf(f)):(m=f,g=this.columns[f]);var i=this.columns.splice(m+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(i);for(var o=0;o<this.rows.length;o++){var a=this.rows[o].arr,l=a.splice(m+1,a.length);a.pop(),this.rows[o].arr=a.concat(l),delete this.rows[o].obj[g]}},r.default.Table.prototype.set=function(f,g,m){this.rows[f].set(g,m)},r.default.Table.prototype.setNum=function(f,g,m){this.rows[f].setNum(g,m)},r.default.Table.prototype.setString=function(f,g,m){this.rows[f].setString(g,m)},r.default.Table.prototype.get=function(f,g){return this.rows[f].get(g)},r.default.Table.prototype.getNum=function(f,g){return this.rows[f].getNum(g)},r.default.Table.prototype.getString=function(f,g){return this.rows[f].getString(g)},r.default.Table.prototype.getObject=function(f){for(var g,m={},i=0;i<this.rows.length;i++)if(g=this.rows[i].obj,typeof f=="string"){if(!(0<=this.columns.indexOf(f)))throw new Error('This table has no column named "'.concat(f,'"'));m[g[f]]=g}else m[i]=this.rows[i].obj;return m},r.default.Table.prototype.getArray=function(){for(var f=[],g=0;g<this.rows.length;g++)f.push(this.rows[g].arr);return f};var p=r.default;d.default=p},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],292:[function(e,u,d){e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.TableRow=function(f,g){var m=[],i={};f&&(g=g||",",m=f.split(g));for(var o=0;o<m.length;o++){var a=o,l=m[o];i[a]=l}this.arr=m,this.obj=i,this.table=null},r.default.TableRow.prototype.set=function(f,g){if(typeof f=="string"){var m=this.table.columns.indexOf(f);if(!(0<=m))throw new Error('This table has no column named "'.concat(f,'"'));this.obj[f]=g,this.arr[m]=g}else{if(!(f<this.table.columns.length))throw new Error("Column #".concat(f," is out of the range of this table"));this.arr[f]=g;var i=this.table.columns[f];this.obj[i]=g}},r.default.TableRow.prototype.setNum=function(f,g){var m=parseFloat(g);this.set(f,m)},r.default.TableRow.prototype.setString=function(f,g){var m=g.toString();this.set(f,m)},r.default.TableRow.prototype.get=function(f){return typeof f=="string"?this.obj[f]:this.arr[f]},r.default.TableRow.prototype.getNum=function(f){var g;if((g=parseFloat(typeof f=="string"?this.obj[f]:this.arr[f])).toString()==="NaN")throw"Error: ".concat(this.obj[f]," is NaN (Not a Number)");return g},r.default.TableRow.prototype.getString=function(f){return typeof f=="string"?this.obj[f].toString():this.arr[f].toString()};var p=r.default;d.default=p},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],293:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(g){for(var m=[],i=0;i<g.length;i++)m.push(new r.default.XML(g[i]));return m}r.default.XML=function(g){if(g)this.DOM=g;else{var m=document.implementation.createDocument(null,"doc");this.DOM=m.createElement("root")}},r.default.XML.prototype.getParent=function(){return new r.default.XML(this.DOM.parentElement)},r.default.XML.prototype.getName=function(){return this.DOM.tagName},r.default.XML.prototype.setName=function(g){var m=this.DOM.innerHTML,i=this.DOM.attributes,o=document.implementation.createDocument(null,"default").createElement(g);o.innerHTML=m;for(var a=0;a<i.length;a++)o.setAttribute(i[a].nodeName,i.nodeValue);this.DOM=o},r.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},r.default.XML.prototype.listChildren=function(){for(var g=[],m=0;m<this.DOM.childNodes.length;m++)g.push(this.DOM.childNodes[m].nodeName);return g},r.default.XML.prototype.getChildren=function(g){return p(g?this.DOM.getElementsByTagName(g):this.DOM.children)},r.default.XML.prototype.getChild=function(g){if(typeof g!="string")return new r.default.XML(this.DOM.children[g]);var m=!0,i=!1,o=void 0;try{for(var a,l=this.DOM.children[Symbol.iterator]();!(m=(a=l.next()).done);m=!0){var c=a.value;if(c.tagName===g)return new r.default.XML(c)}}catch(y){i=!0,o=y}finally{try{m||l.return==null||l.return()}finally{if(i)throw o}}},r.default.XML.prototype.addChild=function(g){g instanceof r.default.XML&&this.DOM.appendChild(g.DOM)},r.default.XML.prototype.removeChild=function(g){var m=-1;if(typeof g=="string"){for(var i=0;i<this.DOM.children.length;i++)if(this.DOM.children[i].tagName===g){m=i;break}}else m=g;m!==-1&&this.DOM.removeChild(this.DOM.children[m])},r.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},r.default.XML.prototype.listAttributes=function(){var g=[],m=!0,i=!1,o=void 0;try{for(var a,l=this.DOM.attributes[Symbol.iterator]();!(m=(a=l.next()).done);m=!0){var c=a.value;g.push(c.nodeName)}}catch(y){i=!0,o=y}finally{try{m||l.return==null||l.return()}finally{if(i)throw o}}return g},r.default.XML.prototype.hasAttribute=function(g){var m={},i=!0,o=!1,a=void 0;try{for(var l,c=this.DOM.attributes[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var y=l.value;m[y.nodeName]=y.nodeValue}}catch(w){o=!0,a=w}finally{try{i||c.return==null||c.return()}finally{if(o)throw a}}return!!m[g]},r.default.XML.prototype.getNum=function(g,m){var i={},o=!0,a=!1,l=void 0;try{for(var c,y=this.DOM.attributes[Symbol.iterator]();!(o=(c=y.next()).done);o=!0){var w=c.value;i[w.nodeName]=w.nodeValue}}catch(x){a=!0,l=x}finally{try{o||y.return==null||y.return()}finally{if(a)throw l}}return Number(i[g])||m||0},r.default.XML.prototype.getString=function(g,m){var i={},o=!0,a=!1,l=void 0;try{for(var c,y=this.DOM.attributes[Symbol.iterator]();!(o=(c=y.next()).done);o=!0){var w=c.value;i[w.nodeName]=w.nodeValue}}catch(x){a=!0,l=x}finally{try{o||y.return==null||y.return()}finally{if(a)throw l}}return i[g]?String(i[g]):m||null},r.default.XML.prototype.setAttribute=function(g,m){this.DOM.setAttribute(g,m)},r.default.XML.prototype.getContent=function(g){return this.DOM.textContent.replace(/\s\s+/g,",")||g||null},r.default.XML.prototype.setContent=function(g){this.DOM.children.length||(this.DOM.textContent=g)},r.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)};var f=r.default;d.default=f},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],294:[function(e,u,d){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var g=arguments.length,m=[],i=0,o=0;o<g;o++){var a=arguments[o];if((a=+a)===1/0||a===-1/0)return 1/0;i<(a=Math.abs(a))&&(i=a),m[o]=a}i===0&&(i=1);for(var l=0,c=0,y=0;y<g;y++){var w=m[y]/i,x=w*w-c,S=l+x;c=S-l-x,l=S}return Math.sqrt(l)*i}r.default.prototype.abs=Math.abs,r.default.prototype.ceil=Math.ceil,r.default.prototype.constrain=function(g,m,i){return r.default._validateParameters("constrain",arguments),Math.max(Math.min(g,i),m)},r.default.prototype.dist=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return r.default._validateParameters("dist",m),m.length===4?p(m[2]-m[0],m[3]-m[1]):m.length===6?p(m[3]-m[0],m[4]-m[1],m[5]-m[2]):void 0},r.default.prototype.exp=Math.exp,r.default.prototype.floor=Math.floor,r.default.prototype.lerp=function(g,m,i){return r.default._validateParameters("lerp",arguments),i*(m-g)+g},r.default.prototype.log=Math.log,r.default.prototype.mag=function(g,m){return r.default._validateParameters("mag",arguments),p(g,m)},r.default.prototype.map=function(g,m,i,o,a,l){r.default._validateParameters("map",arguments);var c=(g-m)/(i-m)*(a-o)+o;return l?o<a?this.constrain(c,o,a):this.constrain(c,a,o):c},r.default.prototype.max=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return m[0]instanceof Array?Math.max.apply(null,m[0]):Math.max.apply(null,m)},r.default.prototype.min=function(){for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return m[0]instanceof Array?Math.min.apply(null,m[0]):Math.min.apply(null,m)},r.default.prototype.norm=function(g,m,i){return r.default._validateParameters("norm",arguments),this.map(g,m,i,0,1)},r.default.prototype.pow=Math.pow,r.default.prototype.round=function(g,m){if(!m)return Math.round(g);var i=Math.pow(10,m);return Math.round(g*i)/i},r.default.prototype.sq=function(g){return g*g},r.default.prototype.sqrt=Math.sqrt,r.default.prototype.fract=function(g){r.default._validateParameters("fract",arguments);var m=0,i=Number(g);if(isNaN(i)||Math.abs(i)===1/0)return i;if(i<0&&(i=-i,m=1),!String(i).includes(".")||String(i).includes("e"))return i<1?Math.abs(m-i):0;var o=String(i);return o=Number("0"+o.slice(o.indexOf("."))),Math.abs(m-o)};var f=r.default;d.default=f},{"../core/main":264,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":168,"core-js/modules/es.number.constructor":170,"core-js/modules/es.string.includes":185}],295:[function(e,u,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(m,i,o){return(p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(a,l,c){var y=[null];y.push.apply(y,l);var w=new(Function.bind.apply(a,y));return c&&f(w,c.prototype),w}).apply(null,arguments)}function f(m,i){return(f=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o})(m,i)}r.default.prototype.createVector=function(m,i,o){return this instanceof r.default?p(r.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new r.default.Vector(m,i,o)};var g=r.default;d.default=g},{"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],296:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(a){return .5*(1-Math.cos(a*Math.PI))}var f,g=4095,m=4,i=.5;r.default.prototype.noise=function(a){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(f==null){f=new Array(4096);for(var y=0;y<4096;y++)f[y]=Math.random()}a<0&&(a=-a),l<0&&(l=-l),c<0&&(c=-c);for(var w,x,S,E,C,A=Math.floor(a),O=Math.floor(l),I=Math.floor(c),R=a-A,L=l-O,N=c-I,D=0,H=.5,z=0;z<m;z++){var ae=A+(O<<4)+(I<<8);w=p(R),x=p(L),S=f[ae&g],S+=w*(f[ae+1&g]-S),E=f[ae+16&g],S+=x*((E+=w*(f[ae+16+1&g]-E))-S),E=f[(ae+=256)&g],E+=w*(f[ae+1&g]-E),C=f[ae+16&g],E+=x*((C+=w*(f[ae+16+1&g]-C))-E),D+=(S+=p(N)*(E-S))*H,H*=i,A<<=1,O<<=1,I<<=1,1<=(R*=2)&&(A++,R--),1<=(L*=2)&&(O++,L--),1<=(N*=2)&&(I++,N--)}return D},r.default.prototype.noiseDetail=function(a,l){0<a&&(m=a),0<l&&(i=l)},r.default.prototype.noiseSeed=function(a){var l,c,y,w=(y=4294967296,{setSeed:function(S){c=l=(S??Math.random()*y)>>>0},getSeed:function(){return l},rand:function(){return(c=(1664525*c+1013904223)%y)/y}});w.setSeed(a),f=new Array(4096);for(var x=0;x<4096;x++)f[x]=w.rand()};var o=r.default;d.default=o},{"../core/main":264}],297:[function(e,u,d){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var l=g();if(l&&l.has(a))return l.get(a);var c={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in a)if(Object.prototype.hasOwnProperty.call(a,w)){var x=y?Object.getOwnPropertyDescriptor(a,w):null;x&&(x.get||x.set)?Object.defineProperty(c,w,x):c[w]=a[w]}return c.default=a,l&&l.set(a,c),c}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return g=function(){return a},a}p.default.Vector=function(a,l,c,y,w){var x,S,E;E={}.toString.call(a)==="[object Function]"?(this.isPInst=!0,this._fromRadians=a,this._toRadians=l,x=c||0,S=y||0,w||0):(x=a||0,S=l||0,c||0),this.x=x,this.y=S,this.z=E},p.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},p.default.Vector.prototype.set=function(a,l,c){return a instanceof p.default.Vector?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):a instanceof Array?(this.x=a[0]||0,this.y=a[1]||0,this.z=a[2]||0):(this.x=a||0,this.y=l||0,this.z=c||0),this},p.default.Vector.prototype.copy=function(){return this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new p.default.Vector(this.x,this.y,this.z)},p.default.Vector.prototype.add=function(a,l,c){return a instanceof p.default.Vector?(this.x+=a.x||0,this.y+=a.y||0,this.z+=a.z||0):a instanceof Array?(this.x+=a[0]||0,this.y+=a[1]||0,this.z+=a[2]||0):(this.x+=a||0,this.y+=l||0,this.z+=c||0),this};function m(a,l){return a!==0&&(this.x=this.x%a),l!==0&&(this.y=this.y%l),this}function i(a,l,c){return a!==0&&(this.x=this.x%a),l!==0&&(this.y=this.y%l),c!==0&&(this.z=this.z%c),this}p.default.Vector.prototype.rem=function(a,l,c){if(a instanceof p.default.Vector){if(Number.isFinite(a.x)&&Number.isFinite(a.y)&&Number.isFinite(a.z)){var y=parseFloat(a.x),w=parseFloat(a.y),x=parseFloat(a.z);return i.call(this,y,w,x)}}else if(a instanceof Array){if(a.every(function(C){return Number.isFinite(C)})){if(a.length===2)return m.call(this,a[0],a[1]);if(a.length===3)return i.call(this,a[0],a[1],a[2])}}else if(arguments.length===1){if(Number.isFinite(a)&&a!==0)return this.x=this.x%a,this.y=this.y%a,this.z=this.z%a,this}else if(arguments.length===2){var S=Array.prototype.slice.call(arguments);if(S.every(function(C){return Number.isFinite(C)})&&S.length===2)return m.call(this,S[0],S[1])}else if(arguments.length===3){var E=Array.prototype.slice.call(arguments);if(E.every(function(C){return Number.isFinite(C)})&&E.length===3)return i.call(this,E[0],E[1],E[2])}},p.default.Vector.prototype.sub=function(a,l,c){return a instanceof p.default.Vector?(this.x-=a.x||0,this.y-=a.y||0,this.z-=a.z||0):a instanceof Array?(this.x-=a[0]||0,this.y-=a[1]||0,this.z-=a[2]||0):(this.x-=a||0,this.y-=l||0,this.z-=c||0),this},p.default.Vector.prototype.mult=function(a,l,c){if(a instanceof p.default.Vector)return Number.isFinite(a.x)&&Number.isFinite(a.y)&&Number.isFinite(a.z)&&typeof a.x=="number"&&typeof a.y=="number"&&typeof a.z=="number"?(this.x*=a.x,this.y*=a.y,this.z*=a.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(a instanceof Array)return a.every(function(w){return Number.isFinite(w)})&&a.every(function(w){return typeof w=="number"})?a.length===1?(this.x*=a[0],this.y*=a[0],this.z*=a[0]):a.length===2?(this.x*=a[0],this.y*=a[1]):a.length===3&&(this.x*=a[0],this.y*=a[1],this.z*=a[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var y=Array.prototype.slice.call(arguments);return y.every(function(w){return Number.isFinite(w)})&&y.every(function(w){return typeof w=="number"})?(arguments.length===1&&(this.x*=a,this.y*=a,this.z*=a),arguments.length===2&&(this.x*=a,this.y*=l),arguments.length===3&&(this.x*=a,this.y*=l,this.z*=c)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},p.default.Vector.prototype.div=function(a,l,c){if(a instanceof p.default.Vector){if(Number.isFinite(a.x)&&Number.isFinite(a.y)&&Number.isFinite(a.z)&&typeof a.x=="number"&&typeof a.y=="number"&&typeof a.z=="number"){if(a.x===0||a.y===0||a.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=a.x,this.y/=a.y,this.z/=a.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(a instanceof Array){if(a.every(function(w){return Number.isFinite(w)})&&a.every(function(w){return typeof w=="number"})){if(a.some(function(w){return w===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;a.length===1?(this.x/=a[0],this.y/=a[0],this.z/=a[0]):a.length===2?(this.x/=a[0],this.y/=a[1]):a.length===3&&(this.x/=a[0],this.y/=a[1],this.z/=a[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var y=Array.prototype.slice.call(arguments);if(y.every(function(w){return Number.isFinite(w)})&&y.every(function(w){return typeof w=="number"})){if(y.some(function(w){return w===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=a,this.y/=a,this.z/=a),arguments.length===2&&(this.x/=a,this.y/=l),arguments.length===3&&(this.x/=a,this.y/=l,this.z/=c)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},p.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},p.default.Vector.prototype.magSq=function(){var a=this.x,l=this.y,c=this.z;return a*a+l*l+c*c},p.default.Vector.prototype.dot=function(a,l,c){return a instanceof p.default.Vector?this.dot(a.x,a.y,a.z):this.x*(a||0)+this.y*(l||0)+this.z*(c||0)},p.default.Vector.prototype.cross=function(a){var l=this.y*a.z-this.z*a.y,c=this.z*a.x-this.x*a.z,y=this.x*a.y-this.y*a.x;return this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,l,c,y):new p.default.Vector(l,c,y)},p.default.Vector.prototype.dist=function(a){return a.copy().sub(this).mag()},p.default.Vector.prototype.normalize=function(){var a=this.mag();return a!==0&&this.mult(1/a),this},p.default.Vector.prototype.limit=function(a){var l=this.magSq();return a*a<l&&this.div(Math.sqrt(l)).mult(a),this},p.default.Vector.prototype.setMag=function(a){return this.normalize().mult(a)},p.default.Vector.prototype.heading=function(){var a=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(a):a},p.default.Vector.prototype.setHeading=function(a){var l=this.mag();return this.x=l*Math.cos(a),this.y=l*Math.sin(a),this},p.default.Vector.prototype.rotate=function(a){var l=this.heading()+a;this.isPInst&&(l=this._toRadians(l));var c=this.mag();return this.x=Math.cos(l)*c,this.y=Math.sin(l)*c,this},p.default.Vector.prototype.angleBetween=function(a){var l,c=this.dot(a)/(this.mag()*a.mag());return l=Math.acos(Math.min(1,Math.max(-1,c))),l*=Math.sign(this.cross(a).z||1),this.isPInst&&(l=this._fromRadians(l)),l},p.default.Vector.prototype.lerp=function(a,l,c,y){return a instanceof p.default.Vector?this.lerp(a.x,a.y,a.z,l):(this.x+=(a-this.x)*y||0,this.y+=(l-this.y)*y||0,this.z+=(c-this.z)*y||0,this)},p.default.Vector.prototype.reflect=function(a){return a.normalize(),this.sub(a.mult(2*this.dot(a)))},p.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},p.default.Vector.prototype.equals=function(a,l,c){var y,w,x;return x=a instanceof p.default.Vector?(y=a.x||0,w=a.y||0,a.z||0):a instanceof Array?(y=a[0]||0,w=a[1]||0,a[2]||0):(y=a||0,w=l||0,c||0),this.x===y&&this.y===w&&this.z===x},p.default.Vector.fromAngle=function(a,l){return l===void 0&&(l=1),new p.default.Vector(l*Math.cos(a),l*Math.sin(a),0)},p.default.Vector.fromAngles=function(a,l,c){c===void 0&&(c=1);var y=Math.cos(l),w=Math.sin(l),x=Math.cos(a),S=Math.sin(a);return new p.default.Vector(c*S*w,-c*x,c*S*y)},p.default.Vector.random2D=function(){return this.fromAngle(Math.random()*f.TWO_PI)},p.default.Vector.random3D=function(){var a=Math.random()*f.TWO_PI,l=2*Math.random()-1,c=Math.sqrt(1-l*l),y=c*Math.cos(a),w=c*Math.sin(a);return new p.default.Vector(y,w,l)},p.default.Vector.add=function(a,l,c){return c?c.set(a):(c=a.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),c.add(l),c},p.default.Vector.rem=function(a,l){if(a instanceof p.default.Vector&&l instanceof p.default.Vector){var c=a.copy();return c.rem(l),c}},p.default.Vector.sub=function(a,l,c){return c?c.set(a):(c=a.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),c.sub(l),c},p.default.Vector.mult=function(a,l,c){return c?c.set(a):(c=a.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),c.mult(l),c},p.default.Vector.rotate=function(a,l,c){return arguments.length===2?c=a.copy():(c instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),c.set(a)),c.rotate(l),c},p.default.Vector.div=function(a,l,c){return c?c.set(a):(c=a.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),c.div(l),c},p.default.Vector.dot=function(a,l){return a.dot(l)},p.default.Vector.cross=function(a,l){return a.cross(l)},p.default.Vector.dist=function(a,l){return a.dist(l)},p.default.Vector.lerp=function(a,l,c,y){return y?y.set(a):(y=a.copy(),arguments.length===4&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),y.lerp(l,c),y},p.default.Vector.mag=function(a){var l=a.x,c=a.y,y=a.z,w=l*l+c*c+y*y;return Math.sqrt(w)},p.default.Vector.normalize=function(a,l){return arguments.length<2?l=a.copy():(l instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),l.set(a)),l.normalize()};var o=p.default.Vector;d.default=o},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":150,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":169,"core-js/modules/es.number.constructor":170,"core-js/modules/es.number.is-finite":171,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.sub":192}],298:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h},p="_lcg_random_state",f=4294967296,g=0;r.default.prototype._lcg=function(i){return this[i]=(1664525*this[i]+1013904223)%f,this[i]/f},r.default.prototype._lcgSetSeed=function(i,o){this[i]=(o??Math.random()*f)>>>0},r.default.prototype.randomSeed=function(i){this._lcgSetSeed(p,i),this._gaussian_previous=!1},r.default.prototype.random=function(i,o){var a;if(r.default._validateParameters("random",arguments),a=this[p]!=null?this._lcg(p):Math.random(),i===void 0)return a;if(o===void 0)return i instanceof Array?i[Math.floor(a*i.length)]:a*i;if(o<i){var l=i;i=o,o=l}return a*(o-i)+i},r.default.prototype.randomGaussian=function(i){var o,a,l,c,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)o=g,this._gaussian_previous=!1;else{for(;1<=(c=(a=this.random(2)-1)*a+(l=this.random(2)-1)*l););o=a*(c=Math.sqrt(-2*Math.log(c)/c)),g=l*c,this._gaussian_previous=!0}return o*y+(i||0)};var m=r.default;d.default=m},{"../core/main":264}],299:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=g();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.prototype._angleMode=f.RADIANS,p.default.prototype.acos=function(i){return this._fromRadians(Math.acos(i))},p.default.prototype.asin=function(i){return this._fromRadians(Math.asin(i))},p.default.prototype.atan=function(i){return this._fromRadians(Math.atan(i))},p.default.prototype.atan2=function(i,o){return this._fromRadians(Math.atan2(i,o))},p.default.prototype.cos=function(i){return Math.cos(this._toRadians(i))},p.default.prototype.sin=function(i){return Math.sin(this._toRadians(i))},p.default.prototype.tan=function(i){return Math.tan(this._toRadians(i))},p.default.prototype.degrees=function(i){return i*f.RAD_TO_DEG},p.default.prototype.radians=function(i){return i*f.DEG_TO_RAD},p.default.prototype.angleMode=function(i){if(p.default._validateParameters("angleMode",arguments),i===void 0)return this._angleMode;i!==f.DEGREES&&i!==f.RADIANS||(this._angleMode=i)},p.default.prototype._toRadians=function(i){return this._angleMode===f.DEGREES?i*f.DEG_TO_RAD:i},p.default.prototype._toDegrees=function(i){return this._angleMode===f.RADIANS?i*f.RAD_TO_DEG:i},p.default.prototype._fromRadians=function(i){return this._angleMode===f.DEGREES?i*f.RAD_TO_DEG:i};var m=p.default;d.default=m},{"../core/constants":253,"../core/main":264}],300:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.prototype.textAlign=function(f,g){var m;return r.default._validateParameters("textAlign",arguments),(m=this._renderer).textAlign.apply(m,arguments)},r.default.prototype.textLeading=function(f){var g;return r.default._validateParameters("textLeading",arguments),(g=this._renderer).textLeading.apply(g,arguments)},r.default.prototype.textSize=function(f){var g;return r.default._validateParameters("textSize",arguments),(g=this._renderer).textSize.apply(g,arguments)},r.default.prototype.textStyle=function(f){var g;return r.default._validateParameters("textStyle",arguments),(g=this._renderer).textStyle.apply(g,arguments)},r.default.prototype.textWidth=function(){for(var f,g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return m[0]+="",r.default._validateParameters("textWidth",m),m[0].length===0?0:(f=this._renderer).textWidth.apply(f,m)},r.default.prototype.textAscent=function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return r.default._validateParameters("textAscent",g),this._renderer.textAscent()},r.default.prototype.textDescent=function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return r.default._validateParameters("textDescent",g),this._renderer.textDescent()},r.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},r.default.prototype.textWrap=function(f){if(f!=="WORD"&&f!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(f)};var p=r.default;d.default=p},{"../core/main":264}],301:[function(e,u,d){function h(a){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=i(e("../core/constants")),g=i(e("opentype.js"));function m(){if(typeof WeakMap!="function")return null;var a=new WeakMap;return m=function(){return a},a}function i(a){if(a&&a.__esModule)return a;if(a===null||h(a)!=="object"&&typeof a!="function")return{default:a};var l=m();if(l&&l.has(a))return l.get(a);var c={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in a)if(Object.prototype.hasOwnProperty.call(a,w)){var x=y?Object.getOwnPropertyDescriptor(a,w):null;x&&(x.get||x.set)?Object.defineProperty(c,w,x):c[w]=a[w]}return c.default=a,l&&l.set(a,c),c}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),p.default.prototype.loadFont=function(a,l,c){p.default._validateParameters("loadFont",arguments);var y=new p.default.Font(this),w=this;return g.load(a,function(x,S){if(x)return p.default._friendlyFileLoadError(4,a),c!==void 0?c(x):void console.error(x,a);y.font=S,l!==void 0&&l(y),w._decrementPreload();var E,C,A=a.split("\\").pop().split("/").pop(),O=A.lastIndexOf("."),I=O<1?null:A.slice(O+1);["ttf","otf","woff","woff2"].includes(I)&&(E=A.slice(0,O!==-1?O:0),(C=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(E,`;
src: url(`).concat(a,`);
}
`))),document.head.appendChild(C))}),y},p.default.prototype.text=function(a,l,c,y,w){var x;return p.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(x=this._renderer).text.apply(x,arguments):this},p.default.prototype.textFont=function(a,l){if(p.default._validateParameters("textFont",arguments),arguments.length){if(!a)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",a),l&&(this._renderer._setProperty("_textSize",l),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",l*f._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont};var o=p.default;d.default=o},{"../core/constants":253,"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.split":191,"opentype.js":239}],302:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h},p=function(R){if(R&&R.__esModule)return R;if(R===null||g(R)!=="object"&&typeof R!="function")return{default:R};var L=f();if(L&&L.has(R))return L.get(R);var N={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in R)if(Object.prototype.hasOwnProperty.call(R,H)){var z=D?Object.getOwnPropertyDescriptor(R,H):null;z&&(z.get||z.set)?Object.defineProperty(N,H,z):N[H]=R[H]}return N.default=R,L&&L.set(R,N),N}(e("../core/constants"));function f(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return f=function(){return R},R}function g(R){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(R)}function m(R,L){for(var N=function(le,J){if(g(le)!=="object")le=J;else for(var ue in J)le[ue]===void 0&&(le[ue]=J[ue]);return le}(L,{sampleFactor:.1,simplifyThreshold:0}),D=w(R,0,1),H=D/(D*N.sampleFactor),z=[],ae=0;ae<D;ae+=H)z.push(w(R,ae));return N.simplifyThreshold&&function(le){for(var J=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ue=0,se=le.length-1;3<le.length&&0<=se;--se)l(a(le,se-1),a(le,se),a(le,se+1),J)&&(le.splice(se%le.length,1),ue++)}(z,N.simplifyThreshold),z}function i(R){for(var L,N=[],D=0;D<R.length;D++)R[D].type==="M"&&(L&&N.push(L),L=[]),L.push(o(R[D]));return N.push(L),N}function o(R){var L=[R.type];return R.type==="M"||R.type==="L"?L.push(R.x,R.y):R.type==="C"?L.push(R.x1,R.y1,R.x2,R.y2,R.x,R.y):R.type==="Q"&&L.push(R.x1,R.y1,R.x,R.y),L}function a(R,L){var N=R.length;return R[L<0?L%N+N:L%N]}function l(R,L,N,D){if(!D)return H=R,ae=N,((z=L)[0]-H[0])*(ae[1]-H[1])-(ae[0]-H[0])*(z[1]-H[1])==0;var H,z,ae;l.tmpPoint1===void 0&&(l.tmpPoint1=[],l.tmpPoint2=[]);var le=l.tmpPoint1,J=l.tmpPoint2;le.x=L.x-R.x,le.y=L.y-R.y,J.x=N.x-L.x,J.y=N.y-L.y;var ue=le.x*J.x+le.y*J.y,se=Math.sqrt(le.x*le.x+le.y*le.y),me=Math.sqrt(J.x*J.x+J.y*J.y);return Math.acos(ue/(se*me))<D}function c(R,L,N,D,H,z,ae,le,J){var ue=1-J,se=Math.pow(ue,3),me=Math.pow(ue,2),xe=J*J,Ce=xe*J,ve=se*R+3*me*J*N+3*ue*J*J*H+Ce*ae,De=se*L+3*me*J*D+3*ue*J*J*z+Ce*le,_e=R+2*J*(N-R)+xe*(H-2*N+R),Se=L+2*J*(D-L)+xe*(z-2*D+L),P=N+2*J*(H-N)+xe*(ae-2*H+N),G=D+2*J*(z-D)+xe*(le-2*z+D),X=ue*R+J*N,ee=ue*L+J*D,B=ue*H+J*ae,F=ue*z+J*le,re=90-180*Math.atan2(_e-P,Se-G)/Math.PI;return(P<_e||Se<G)&&(re+=180),{x:ve,y:De,m:{x:_e,y:Se},n:{x:P,y:G},start:{x:X,y:ee},end:{x:B,y:F},alpha:re}}function y(R,L,N,D,H,z,ae,le,J){return J==null?A(R,L,N,D,H,z,ae,le):c(R,L,N,D,H,z,ae,le,function(ue,se,me,xe,Ce,ve,De,_e,Se){if(!(Se<0||A(ue,se,me,xe,Ce,ve,De,_e)<Se)){var P,G=.5,X=1-G;for(P=A(ue,se,me,xe,Ce,ve,De,_e,X);.01<Math.abs(P-Se);)P=A(ue,se,me,xe,Ce,ve,De,_e,X+=(P<Se?1:-1)*(G/=2));return X}}(R,L,N,D,H,z,ae,le,J))}function w(R,L,N){for(var D,H,z,ae,le,J=0,ue=0,se=(R=function(me,xe){function Ce(ge,he,Pe){var Be,Ne;if(!ge)return["C",he.x,he.y,he.x,he.y,he.x,he.y];switch(ge[0]in{T:1,Q:1}||(he.qx=he.qy=null),ge[0]){case"M":he.X=ge[1],he.Y=ge[2];break;case"A":ge=["C"].concat(function Le(Ze,Re,Ae,qe,$e,be,nt,V,Q,q){var K=Math.PI,de=120*K/180,Ee,ke,We,we,Qe=K/180*(+$e||0),lt=[],ft,vt=function(Bt,xt,tt){var Xt=Bt*Math.cos(tt)-xt*Math.sin(tt),dt=Bt*Math.sin(tt)+xt*Math.cos(tt);return{x:Xt,y:dt}};if(q)Ee=q[0],ke=q[1],We=q[2],we=q[3];else{ft=vt(Ze,Re,-Qe),Ze=ft.x,Re=ft.y,ft=vt(V,Q,-Qe),V=ft.x,Q=ft.y;var pt=(Ze-V)/2,mt=(Re-Q)/2,At=pt*pt/(Ae*Ae)+mt*mt/(qe*qe);1<At&&(At=Math.sqrt(At),Ae*=At,qe*=At);var ln=Ae*Ae,jr=qe*qe,no=(be===nt?-1:1)*Math.sqrt(Math.abs((ln*jr-ln*mt*mt-jr*pt*pt)/(ln*mt*mt+jr*pt*pt)));We=no*Ae*mt/qe+(Ze+V)/2,we=no*-qe*pt/Ae+(Re+Q)/2,Ee=Math.asin(((Re-we)/qe).toFixed(9)),ke=Math.asin(((Q-we)/qe).toFixed(9)),(Ee=Ze<We?K-Ee:Ee)<0&&(Ee=2*K+Ee),(ke=V<We?K-ke:ke)<0&&(ke=2*K+ke),nt&&ke<Ee&&(Ee-=2*K),!nt&&Ee<ke&&(ke-=2*K)}var jn=ke-Ee;if(Math.abs(jn)>de){var un=ke,oo=V,so=Q;ke=Ee+de*(nt&&Ee<ke?1:-1),V=We+Ae*Math.cos(ke),Q=we+qe*Math.sin(ke),lt=Le(V,Q,Ae,qe,$e,0,nt,oo,so,[ke,un,We,we])}jn=ke-Ee;var io=Math.cos(Ee),ao=Math.sin(Ee),lo=Math.cos(ke),Co=Math.sin(ke),Fn=Math.tan(jn/4),Un=4/3*Ae*Fn,fe=4/3*qe*Fn,Ve=[Ze,Re],Je=[Ze+Un*ao,Re-fe*io],Ye=[V+Un*Co,Q-fe*lo],ot=[V,Q];Je[0]=2*Ve[0]-Je[0],Je[1]=2*Ve[1]-Je[1];{if(q)return[Je,Ye,ot].concat(lt);lt=[Je,Ye,ot].concat(lt).join().split(",");for(var Ge=[],Tt=0,Ot=lt.length;Tt<Ot;Tt++)Ge[Tt]=Tt%2?vt(lt[Tt-1],lt[Tt],Qe).y:vt(lt[Tt],lt[Tt+1],Qe).x;return Ge}}.apply(0,[he.x,he.y].concat(ge.slice(1))));break;case"S":Ne=Pe==="C"||Pe==="S"?(Be=2*he.x-he.bx,2*he.y-he.by):(Be=he.x,he.y),ge=["C",Be,Ne].concat(ge.slice(1));break;case"T":Pe==="Q"||Pe==="T"?(he.qx=2*he.x-he.qx,he.qy=2*he.y-he.qy):(he.qx=he.x,he.qy=he.y),ge=["C"].concat(C(he.x,he.y,he.qx,he.qy,ge[1],ge[2]));break;case"Q":he.qx=ge[1],he.qy=ge[2],ge=["C"].concat(C(he.x,he.y,ge[1],ge[2],ge[3],ge[4]));break;case"L":ge=["C"].concat(E(he.x,he.y,ge[1],ge[2]));break;case"H":ge=["C"].concat(E(he.x,he.y,ge[1],he.y));break;case"V":ge=["C"].concat(E(he.x,he.y,he.x,ge[1]));break;case"Z":ge=["C"].concat(E(he.x,he.y,he.X,he.Y))}return ge}function ve(ge,he){if(7<ge[he].length){ge[he].shift();for(var Pe=ge[he];Pe.length;)ee[he]="A",P&&(B[he]="A"),ge.splice(he++,0,["C"].concat(Pe.splice(0,6)));ge.splice(he,1),_e=Math.max(Se.length,P&&P.length||0)}}function De(ge,he,Pe,Be,Ne){ge&&he&&ge[Ne][0]==="M"&&he[Ne][0]!=="M"&&(he.splice(Ne,0,["M",Be.x,Be.y]),Pe.bx=0,Pe.by=0,Pe.x=ge[Ne][1],Pe.y=ge[Ne][2],_e=Math.max(Se.length,P&&P.length||0))}var _e,Se=x(me),P=xe&&x(xe),G={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},X={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee=[],B=[],F="",re="";_e=Math.max(Se.length,P&&P.length||0);for(var $=0;$<_e;$++){Se[$]&&(F=Se[$][0]),F!=="C"&&(ee[$]=F,$&&(re=ee[$-1])),Se[$]=Ce(Se[$],G,re),ee[$]!=="A"&&F==="C"&&(ee[$]="C"),ve(Se,$),P&&(P[$]&&(F=P[$][0]),F!=="C"&&(B[$]=F,$&&(re=B[$-1])),P[$]=Ce(P[$],X,re),B[$]!=="A"&&F==="C"&&(B[$]="C"),ve(P,$)),De(Se,P,G,X,$),De(P,Se,X,G,$);var ne=Se[$],ie=P&&P[$],oe=ne.length,pe=P&&ie.length;G.x=ne[oe-2],G.y=ne[oe-1],G.bx=parseFloat(ne[oe-4])||G.x,G.by=parseFloat(ne[oe-3])||G.y,X.bx=P&&(parseFloat(ie[pe-4])||X.x),X.by=P&&(parseFloat(ie[pe-3])||X.y),X.x=P&&ie[pe-2],X.y=P&&ie[pe-1]}return P?[Se,P]:Se}(R)).length;ue<se;ue++){if((z=R[ue])[0]==="M")D=+z[1],H=+z[2];else{if(L<J+(ae=y(D,H,z[1],z[2],z[3],z[4],z[5],z[6]))&&!N)return{x:(le=y(D,H,z[1],z[2],z[3],z[4],z[5],z[6],L-J)).x,y:le.y,alpha:le.alpha};J+=ae,D=+z[5],H=+z[6]}z.shift()+z}return(le=N?J:c(D,H,z[0],z[1],z[2],z[3],z[4],z[5],1)).alpha&&(le={x:le.x,y:le.y,alpha:le.alpha}),le}function x(R){var L,N=[],D=0,H=0,z=0,ae=0,le=0;if(!R)return N;R[0][0]==="M"&&(z=D=+R[0][1],ae=H=+R[0][2],le++,N[0]=["M",D,H]);for(var J,ue,se=R.length===3&&R[0][0]==="M"&&R[1][0].toUpperCase()==="R"&&R[2][0].toUpperCase()==="Z",me=le,xe=R.length;me<xe;me++){if(N.push(J=[]),(ue=R[me])[0]!==String.prototype.toUpperCase.call(ue[0]))switch(J[0]=String.prototype.toUpperCase.call(ue[0]),J[0]){case"A":J[1]=ue[1],J[2]=ue[2],J[3]=ue[3],J[4]=ue[4],J[5]=ue[5],J[6]=+(ue[6]+D),J[7]=+(ue[7]+H);break;case"V":J[1]=+ue[1]+H;break;case"H":J[1]=+ue[1]+D;break;case"R":for(var Ce=2,ve=(L=[D,H].concat(ue.slice(1))).length;Ce<ve;Ce++)L[Ce]=+L[Ce]+D,L[++Ce]=+L[Ce]+H;N.pop(),N=N.concat(S(L,se));break;case"M":z=+ue[1]+D,ae=+ue[2]+H;break;default:for(var De=1,_e=ue.length;De<_e;De++)J[De]=+ue[De]+(De%2?D:H)}else if(ue[0]==="R")L=[D,H].concat(ue.slice(1)),N.pop(),N=N.concat(S(L,se)),J=["R"].concat(ue.slice(-2));else for(var Se=0,P=ue.length;Se<P;Se++)J[Se]=ue[Se];switch(J[0]){case"Z":D=z,H=ae;break;case"H":D=J[1];break;case"V":H=J[1];break;case"M":z=J[J.length-2],ae=J[J.length-1];break;default:D=J[J.length-2],H=J[J.length-1]}}return N}function S(R,L){for(var N=[],D=0,H=R.length;D<H-2*!L;D+=2){var z=[{x:+R[D-2],y:+R[D-1]},{x:+R[D],y:+R[D+1]},{x:+R[D+2],y:+R[D+3]},{x:+R[D+4],y:+R[D+5]}];L?D?H-4===D?z[3]={x:+R[0],y:+R[1]}:H-2===D&&(z[2]={x:+R[0],y:+R[1]},z[3]={x:+R[2],y:+R[3]}):z[0]={x:+R[H-2],y:+R[H-1]}:H-4===D?z[3]=z[2]:D||(z[0]={x:+R[D],y:+R[D+1]}),N.push(["C",(-z[0].x+6*z[1].x+z[2].x)/6,(-z[0].y+6*z[1].y+z[2].y)/6,(z[1].x+6*z[2].x-z[3].x)/6,(z[1].y+6*z[2].y-z[3].y)/6,z[2].x,z[2].y])}return N}function E(R,L,N,D){return[R,L,N,D,N,D]}function C(R,L,N,D,H,z){return[1/3*R+2/3*N,1/3*L+2/3*D,1/3*H+2/3*N,1/3*z+2/3*D,H,z]}function A(R,L,N,D,H,z,ae,le,J){J==null&&(J=1);for(var ue=(J=1<J?1:J<0?0:J)/2,se=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],me=0,xe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ce=0;Ce<12;Ce++){var ve=ue*se[Ce]+ue,De=O(ve,R,N,H,ae),_e=O(ve,L,D,z,le),Se=De*De+_e*_e;me+=xe[Ce]*Math.sqrt(Se)}return ue*me}function O(R,L,N,D,H){return R*(R*(-3*L+9*N-9*D+3*H)+6*L-12*N+6*D)-3*L+3*N}r.default.Font=function(R){this.parent=R,this.cache={},this.font=void 0},r.default.Font.prototype.textBounds=function(R){var L,N=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,H=3<arguments.length?arguments[3]:void 0,z=4<arguments.length?arguments[4]:void 0,ae=z&&z.renderer&&z.renderer._pInst||this.parent,le=ae._renderer.drawingContext;if(le.textAlign||p.LEFT,le.textBaseline||p.BASELINE,H=H||ae._renderer._textSize,!L){var J,ue,se=[],me=[],xe=[];xe[0]=[];var Ce=[],ve=this._scale(H),De=ae._renderer.textLeading(),_e=0;this.font.forEachGlyph(R,N,D,H,z,function(ee,B,F,re){var $=ee.getMetrics();ee.index===0||ee.index===10?xe[_e+=1]=[]:(xe[_e].push(B+$.xMin*ve),xe[_e].push(B+$.xMax*ve),Ce.push(F+_e*De+-$.yMin*ve),Ce.push(F+_e*De+-$.yMax*ve))}),0<xe[_e].length&&(se[_e]=Math.min.apply(null,xe[_e]),me[_e]=Math.max.apply(null,xe[_e]));for(var Se=0,P=0;P<=_e;P++){se[P]=Math.min.apply(null,xe[P]),me[P]=Math.max.apply(null,xe[P]);var G=me[P]-se[P];Se<G&&(Se=G)}var X=Math.min.apply(null,se);L={x:X,y:J=Math.min.apply(null,Ce),h:Math.max.apply(null,Ce)-J,w:Se,advance:X-N},ue=this._handleAlignment(ae._renderer,R,L.x,L.y,L.w+L.advance),L.x=ue.x,L.y=ue.y}return L},r.default.Font.prototype.textToPoints=function(R,L,N,D,H){var z,ae=0,le=[],J=this._getGlyphs(R);D=D||this.parent._renderer._textSize;for(var ue=0;ue<J.length;ue++){if(!(J[z=ue].name&&J[z].name==="space"||R.length===J.length&&R[z]===" "))for(var se=i(J[ue].getPath(L,N,D).commands),me=0;me<se.length;me++)for(var xe=m(se[me],H),Ce=0;Ce<xe.length;Ce++)xe[Ce].x+=ae,le.push(xe[Ce]);ae+=J[ue].advanceWidth*this._scale(D)}return le},r.default.Font.prototype._getGlyphs=function(R){return this.font.stringToGlyphs(R)},r.default.Font.prototype._getPath=function(R,L,N,D){var H=(D&&D.renderer&&D.renderer._pInst||this.parent)._renderer,z=this._handleAlignment(H,R,L,N);return this.font.getPath(R,z.x,z.y,H._textSize,D)},r.default.Font.prototype._getPathData=function(R,L,N,D){var H=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,L,N,D):g(L)==="object"&&(D=L),D&&typeof D.decimals=="number"&&(H=D.decimals),R.toPathData(H)},r.default.Font.prototype._getSVG=function(R,L,N,D){var H=3;return typeof R=="string"&&2<arguments.length?R=this._getPath(R,L,N,D):g(L)==="object"&&(D=L),D&&(typeof D.decimals=="number"&&(H=D.decimals),typeof D.strokeWidth=="number"&&(R.strokeWidth=D.strokeWidth),D.fill!==void 0&&(R.fill=D.fill),D.stroke!==void 0&&(R.stroke=D.stroke)),R.toSVG(H)},r.default.Font.prototype._renderPath=function(R,L,N,D){var H,z=D&&D.renderer||this.parent._renderer,ae=z.drawingContext;H=g(R)==="object"&&R.commands?R.commands:this._getPath(R,L,N,D).commands,ae.beginPath();var le=!0,J=!1,ue=void 0;try{for(var se,me=H[Symbol.iterator]();!(le=(se=me.next()).done);le=!0){var xe=se.value;xe.type==="M"?ae.moveTo(xe.x,xe.y):xe.type==="L"?ae.lineTo(xe.x,xe.y):xe.type==="C"?ae.bezierCurveTo(xe.x1,xe.y1,xe.x2,xe.y2,xe.x,xe.y):xe.type==="Q"?ae.quadraticCurveTo(xe.x1,xe.y1,xe.x,xe.y):xe.type==="Z"&&ae.closePath()}}catch(Ce){J=!0,ue=Ce}finally{try{le||me.return==null||me.return()}finally{if(J)throw ue}}return z._doStroke&&z._strokeSet&&ae.stroke(),z._doFill&&(z._fillSet||z._setFill(p._DEFAULT_TEXT_FILL),ae.fill()),this},r.default.Font.prototype._textWidth=function(R,L){return this.font.getAdvanceWidth(R,L)},r.default.Font.prototype._textAscent=function(R){return this.font.ascender*this._scale(R)},r.default.Font.prototype._textDescent=function(R){return-this.font.descender*this._scale(R)},r.default.Font.prototype._scale=function(R){return 1/this.font.unitsPerEm*(R||this.parent._renderer._textSize)},r.default.Font.prototype._handleAlignment=function(R,L,N,D,H){var z=R._textSize;switch(H===void 0&&(H=this._textWidth(L,z)),R._textAlign){case p.CENTER:N-=H/2;break;case p.RIGHT:N-=H}switch(R._textBaseline){case p.TOP:D+=this._textAscent(z);break;case p.CENTER:D+=this._textAscent(z)/2;break;case p.BOTTOM:D-=this._textDescent(z)}return{x:N,y:D}};var I=r.default;d.default=I},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":166,"core-js/modules/es.number.to-fixed":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],303:[function(e,u,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.prototype.append=function(f,g){return f.push(g),f},r.default.prototype.arrayCopy=function(f,g,m,i,o){var a,l;f=o!==void 0?(l=Math.min(o,f.length),a=i,f.slice(g,l+g)):(l=m!==void 0?(l=m,Math.min(l,f.length)):f.length,a=0,m=g,f.slice(0,l)),Array.prototype.splice.apply(m,[a,l].concat(f))},r.default.prototype.concat=function(f,g){return f.concat(g)},r.default.prototype.reverse=function(f){return f.reverse()},r.default.prototype.shorten=function(f){return f.pop(),f},r.default.prototype.shuffle=function(f,g){for(var m,i,o=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(f),a=(f=g||o?f:f.slice()).length;1<a;)m=this.random(0,1)*a|0,i=f[--a],f[a]=f[m],f[m]=i;return f},r.default.prototype.sort=function(f,g){var m=g?f.slice(0,Math.min(g,f.length)):f,i=g?f.slice(Math.min(g,f.length)):[];return(m=typeof m[0]=="string"?m.sort():m.sort(function(o,a){return o-a})).concat(i)},r.default.prototype.splice=function(f,g,m){return Array.prototype.splice.apply(f,[m,0].concat(g)),f},r.default.prototype.subset=function(f,g,m){return m!==void 0?f.slice(g,g+m):f.slice(g,f.length)};var p=r.default;d.default=p},{"../core/main":264,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],304:[function(e,u,d){e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.prototype.float=function(f){return f instanceof Array?f.map(parseFloat):parseFloat(f)},r.default.prototype.int=function(f){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return f===1/0||f==="Infinity"?1/0:f===-1/0||f==="-Infinity"?-1/0:typeof f=="string"?parseInt(f,g):typeof f=="number"?0|f:typeof f=="boolean"?f?1:0:f instanceof Array?f.map(function(m){return r.default.prototype.int(m,g)}):void 0},r.default.prototype.str=function(f){return f instanceof Array?f.map(r.default.prototype.str):String(f)},r.default.prototype.boolean=function(f){return typeof f=="number"?f!==0:typeof f=="string"?f.toLowerCase()==="true":typeof f=="boolean"?f:f instanceof Array?f.map(r.default.prototype.boolean):void 0},r.default.prototype.byte=function(f){var g=r.default.prototype.int(f,10);return typeof g=="number"?(g+128)%256-128:g instanceof Array?g.map(r.default.prototype.byte):void 0},r.default.prototype.char=function(f){return typeof f!="number"||isNaN(f)?f instanceof Array?f.map(r.default.prototype.char):typeof f=="string"?r.default.prototype.char(parseInt(f,10)):void 0:String.fromCharCode(f)},r.default.prototype.unchar=function(f){return typeof f=="string"&&f.length===1?f.charCodeAt(0):f instanceof Array?f.map(r.default.prototype.unchar):void 0},r.default.prototype.hex=function(f,g){if(g=g??(g=8),f instanceof Array)return f.map(function(i){return r.default.prototype.hex(i,g)});if(f===1/0||f===-1/0)return(f===1/0?"F":"0").repeat(g);if(typeof f=="number"){f<0&&(f=4294967295+f+1);for(var m=Number(f).toString(16).toUpperCase();m.length<g;)m="0".concat(m);return m.length>=g&&(m=m.substring(m.length-g,m.length)),m}},r.default.prototype.unhex=function(f){return f instanceof Array?f.map(r.default.prototype.unhex):parseInt("0x".concat(f),16)};var p=r.default;d.default=p},{"../core/main":264,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":170,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],305:[function(e,u,d){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(o,a,l){var c=o<0,y=c?o.toString().substring(1):o.toString(),w=y.indexOf("."),x=w!==-1?y.substring(0,w):y,S=w!==-1?y.substring(w+1):"",E=c?"-":"";if(l!==void 0){var C="";(w!==-1||0<l-S.length)&&(C="."),S.length>l&&(S=S.substring(0,l));for(var A=0;A<a-x.length;A++)E+="0";E+=x,E+=C,E+=S;for(var O=0;O<l-S.length;O++)E+="0";return E}for(var I=0;I<Math.max(a-x.length,0);I++)E+="0";return E+=y}function f(o,a){var l=(o=o.toString()).indexOf("."),c=l!==-1?o.substring(l):"",y=l!==-1?o.substring(0,l):o;if(y=y.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),a===0)c="";else if(a!==void 0)if(a>c.length)for(var w=a-(c+=l===-1?".":"").length+1,x=0;x<w;x++)c+="0";else c=c.substring(0,a+1);return y+c}function g(o){return 0<parseFloat(o)?"+".concat(o.toString()):o.toString()}function m(o){return 0<=parseFloat(o)?" ".concat(o.toString()):o.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),r.default.prototype.join=function(o,a){return r.default._validateParameters("join",arguments),o.join(a)},r.default.prototype.match=function(o,a){return r.default._validateParameters("match",arguments),o.match(a)},r.default.prototype.matchAll=function(o,a){r.default._validateParameters("matchAll",arguments);for(var l=new RegExp(a,"g"),c=l.exec(o),y=[];c!==null;)y.push(c),c=l.exec(o);return y},r.default.prototype.nf=function(o,a,l){return r.default._validateParameters("nf",arguments),o instanceof Array?o.map(function(c){return p(c,a,l)}):Object.prototype.toString.call(o)==="[object Arguments]"?o.length===3?this.nf(o[0],o[1],o[2]):o.length===2?this.nf(o[0],o[1]):this.nf(o[0]):p(o,a,l)},r.default.prototype.nfc=function(o,a){return r.default._validateParameters("nfc",arguments),o instanceof Array?o.map(function(l){return f(l,a)}):f(o,a)},r.default.prototype.nfp=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r.default._validateParameters("nfp",a);var c=r.default.prototype.nf.apply(this,a);return c instanceof Array?c.map(g):g(c)},r.default.prototype.nfs=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r.default._validateParameters("nfs",a);var c=r.default.prototype.nf.apply(this,a);return c instanceof Array?c.map(m):m(c)},r.default.prototype.split=function(o,a){return r.default._validateParameters("split",arguments),o.split(a)},r.default.prototype.splitTokens=function(o,a){var l;if(r.default._validateParameters("splitTokens",arguments),a!==void 0){var c=a,y=/\]/g.exec(c),w=/\[/g.exec(c);l=w&&y?(c=c.slice(0,y.index)+c.slice(y.index+1),w=/\[/g.exec(c),c=c.slice(0,w.index)+c.slice(w.index+1),new RegExp("[\\[".concat(c,"\\]]"),"g")):y?(c=c.slice(0,y.index)+c.slice(y.index+1),new RegExp("[".concat(c,"\\]]"),"g")):w?(c=c.slice(0,w.index)+c.slice(w.index+1),new RegExp("[".concat(c,"\\[]"),"g")):new RegExp("[".concat(c,"]"),"g")}else l=/\s/g;return o.split(l).filter(function(x){return x})},r.default.prototype.trim=function(o){return r.default._validateParameters("trim",arguments),o instanceof Array?o.map(this.trim):o.trim()};var i=r.default;d.default=i},{"../core/friendly_errors/fes_core":255,"../core/friendly_errors/file_errors":256,"../core/friendly_errors/validate_params":259,"../core/main":264,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],306:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.prototype.day=function(){return new Date().getDate()},r.default.prototype.hour=function(){return new Date().getHours()},r.default.prototype.minute=function(){return new Date().getMinutes()},r.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},r.default.prototype.month=function(){return new Date().getMonth()+1},r.default.prototype.second=function(){return new Date().getSeconds()},r.default.prototype.year=function(){return new Date().getFullYear()};var p=r.default;d.default=p},{"../core/main":264}],307:[function(e,u,d){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}e("core-js/modules/es.array.concat"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r};e("./p5.Geometry");var f=function(o){if(o&&o.__esModule)return o;if(o===null||h(o)!=="object"&&typeof o!="function")return{default:o};var a=g();if(a&&a.has(o))return a.get(o);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in o)if(Object.prototype.hasOwnProperty.call(o,y)){var w=c?Object.getOwnPropertyDescriptor(o,y):null;w&&(w.get||w.set)?Object.defineProperty(l,y,w):l[y]=o[y]}return l.default=o,a&&a.set(o,l),l}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var o=new WeakMap;return g=function(){return o},o}p.default.prototype.plane=function(o,a,l,c){this._assert3d("plane"),p.default._validateParameters("plane",arguments),o===void 0&&(o=50),a===void 0&&(a=o),l===void 0&&(l=1),c===void 0&&(c=1);var y="plane|".concat(l,"|").concat(c);if(!this._renderer.geometryInHash(y)){var w=new p.default.Geometry(l,c,function(){for(var x,S,E,C=0;C<=this.detailY;C++){S=C/this.detailY;for(var A=0;A<=this.detailX;A++)x=A/this.detailX,E=new p.default.Vector(x-.5,S-.5,0),this.vertices.push(E),this.uvs.push(x,S)}});w.computeFaces().computeNormals(),l<=1&&c<=1?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(y,w)}return this._renderer.drawBuffersScaled(y,o,a,1),this},p.default.prototype.box=function(o,a,l,c,y){this._assert3d("box"),p.default._validateParameters("box",arguments),o===void 0&&(o=50),a===void 0&&(a=o),l===void 0&&(l=a);var w=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;c===void 0&&(c=w?1:4),y===void 0&&(y=w?1:4);var x="box|".concat(c,"|").concat(y);if(!this._renderer.geometryInHash(x)){var S=new p.default.Geometry(c,y,function(){var E=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var C=0;C<E.length;C++){for(var A=E[C],O=4*C,I=0;I<4;I++){var R=A[I],L=new p.default.Vector((2*(1&R)-1)/2,((2&R)-1)/2,((4&R)/2-1)/2);this.vertices.push(L),this.uvs.push(1&I,(2&I)/2)}this.faces.push([O,1+O,2+O]),this.faces.push([2+O,1+O,3+O])}});S.computeNormals(),c<=4&&y<=4?S._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(x,S)}return this._renderer.drawBuffersScaled(x,o,a,l),this},p.default.prototype.sphere=function(o,a,l){return this._assert3d("sphere"),p.default._validateParameters("sphere",arguments),o===void 0&&(o=50),a===void 0&&(a=24),l===void 0&&(l=16),this.ellipsoid(o,o,o,a,l),this};function m(o,a,l,c,y,w,x){o=o<=0?1:o,a=a<0?0:a,l=l<=0?o:l,c=c<3?3:c;var S,E,C,A=(w=w===void 0||w)?-2:0,O=(y=y<1?1:y)+((x=x===void 0?a!==0:x)?2:0),I=Math.atan2(o-a,l),R=Math.sin(I),L=Math.cos(I);for(S=A;S<=O;++S){var N=S/y,D=l*N,H=void 0;for(H=S<0?(N=D=0,o):y<S?(D=l,N=1,a):o+(a-o)*N,S!==-2&&S!==y+2||(H=0),D-=l/2,E=0;E<c;++E){var z=E/(c-1),ae=2*Math.PI*z,le=Math.sin(ae),J=Math.cos(ae);this.vertices.push(new p.default.Vector(le*H,D,J*H));var ue=void 0;ue=S<0?new p.default.Vector(0,-1,0):y<S&&a?new p.default.Vector(0,1,0):new p.default.Vector(le*L,R,J*L),this.vertexNormals.push(ue),this.uvs.push(z,N)}}var se=0;if(w){for(C=0;C<c;++C){var me=(C+1)%c;this.faces.push([se+C,se+c+me,se+c+C])}se+=2*c}for(S=0;S<y;++S){for(E=0;E<c;++E){var xe=(E+1)%c;this.faces.push([se+E,se+xe,se+c+xe]),this.faces.push([se+E,se+c+xe,se+c+E])}se+=c}if(x)for(se+=c,E=0;E<c;++E)this.faces.push([se+E,se+(E+1)%c,se+c])}p.default.prototype.cylinder=function(o,a,l,c,y,w){this._assert3d("cylinder"),p.default._validateParameters("cylinder",arguments),o===void 0&&(o=50),a===void 0&&(a=o),l===void 0&&(l=24),c===void 0&&(c=1),w===void 0&&(w=!0),y===void 0&&(y=!0);var x="cylinder|".concat(l,"|").concat(c,"|").concat(y,"|").concat(w);if(!this._renderer.geometryInHash(x)){var S=new p.default.Geometry(l,c);m.call(S,1,1,1,l,c,y,w),l<=24&&c<=16?S._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,S)}return this._renderer.drawBuffersScaled(x,o,a,o),this},p.default.prototype.cone=function(o,a,l,c,y){this._assert3d("cone"),p.default._validateParameters("cone",arguments),o===void 0&&(o=50),a===void 0&&(a=o),l===void 0&&(l=24),c===void 0&&(c=1),y===void 0&&(y=!0);var w="cone|".concat(l,"|").concat(c,"|").concat(y);if(!this._renderer.geometryInHash(w)){var x=new p.default.Geometry(l,c);m.call(x,1,0,1,l,c,y,!1),l<=24&&c<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,o,a,o),this},p.default.prototype.ellipsoid=function(o,a,l,c,y){this._assert3d("ellipsoid"),p.default._validateParameters("ellipsoid",arguments),o===void 0&&(o=50),a===void 0&&(a=o),l===void 0&&(l=o),c===void 0&&(c=24),y===void 0&&(y=16);var w="ellipsoid|".concat(c,"|").concat(y);if(!this._renderer.geometryInHash(w)){var x=new p.default.Geometry(c,y,function(){for(var S=0;S<=this.detailY;S++)for(var E=S/this.detailY,C=Math.PI*E-Math.PI/2,A=Math.cos(C),O=Math.sin(C),I=0;I<=this.detailX;I++){var R=I/this.detailX,L=2*Math.PI*R,N=Math.cos(L),D=Math.sin(L),H=new p.default.Vector(A*D,O,A*N);this.vertices.push(H),this.vertexNormals.push(H),this.uvs.push(R,E)}});x.computeFaces(),c<=24&&y<=24?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,o,a,l),this},p.default.prototype.torus=function(o,a,l,c){if(this._assert3d("torus"),p.default._validateParameters("torus",arguments),o===void 0)o=50;else if(!o)return;if(a===void 0)a=10;else if(!a)return;l===void 0&&(l=24),c===void 0&&(c=16);var y=(a/o).toPrecision(4),w="torus|".concat(y,"|").concat(l,"|").concat(c);if(!this._renderer.geometryInHash(w)){var x=new p.default.Geometry(l,c,function(){for(var S=0;S<=this.detailY;S++)for(var E=S/this.detailY,C=2*Math.PI*E,A=Math.cos(C),O=Math.sin(C),I=1+y*A,R=0;R<=this.detailX;R++){var L=R/this.detailX,N=2*Math.PI*L,D=Math.cos(N),H=Math.sin(N),z=new p.default.Vector(I*D,I*H,y*O),ae=new p.default.Vector(A*D,A*H,O);this.vertices.push(z),this.vertexNormals.push(ae),this.uvs.push(L,E)}});x.computeFaces(),l<=24&&c<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,x)}return this._renderer.drawBuffersScaled(w,o,o,o),this},p.default.RendererGL.prototype.point=function(o,a,l){l===void 0&&(l=0);var c=[];return c.push(new p.default.Vector(o,a,l)),this._drawPoints(c,this.immediateMode.buffers.point),this},p.default.RendererGL.prototype.triangle=function(o){var a=o[0],l=o[1],c=o[2],y=o[3],w=o[4],x=o[5];if(!this.geometryInHash("tri")){var S=new p.default.Geometry(1,1,function(){var A=[];A.push(new p.default.Vector(0,0,0)),A.push(new p.default.Vector(0,1,0)),A.push(new p.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=A,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});S._makeTriangleEdges()._edgesToVertices(),S.computeNormals(),this.createBuffers("tri",S)}var E=this.uMVMatrix.copy();try{var C=new p.default.Matrix([c-a,y-l,0,0,w-a,x-l,0,0,0,0,1,0,a,l,0,1]).mult(this.uMVMatrix);this.uMVMatrix=C,this.drawBuffers("tri")}finally{this.uMVMatrix=E}return this},p.default.RendererGL.prototype.ellipse=function(o){this.arc(o[0],o[1],o[2],o[3],0,f.TWO_PI,f.OPEN,o[4])},p.default.RendererGL.prototype.arc=function(o){var a,l,c=o,y=arguments[1],w=arguments[2],x=arguments[3],S=arguments[4],E=arguments[5],C=arguments[6],A=arguments[7]||25;if(l=Math.abs(E-S)>=f.TWO_PI?"".concat(a="ellipse","|").concat(A,"|"):"".concat(a="arc","|").concat(S,"|").concat(E,"|").concat(C,"|").concat(A,"|"),!this.geometryInHash(l)){var O=new p.default.Geometry(A,1,function(){if(this.strokeIndices=[],S.toFixed(10)!==E.toFixed(10)){C!==f.PIE&&C!==void 0||(this.vertices.push(new p.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var R=0;R<=A;R++){var L=(E-S)*(R/A)+S,N=.5+Math.cos(L)/2,D=.5+Math.sin(L)/2;this.vertices.push(new p.default.Vector(N,D,0)),this.uvs.push([N,D]),R<A-1&&(this.faces.push([0,R+1,R+2]),this.strokeIndices.push([R+1,R+2]))}switch(C){case f.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case f.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case f.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});O.computeNormals(),A<=50?O._makeTriangleEdges()._edgesToVertices(O):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(a," with more than 50 detail")),this.createBuffers(l,O)}var I=this.uMVMatrix.copy();try{this.uMVMatrix.translate([c,y,0]),this.uMVMatrix.scale(w,x,1),this.drawBuffers(l)}finally{this.uMVMatrix=I}return this},p.default.RendererGL.prototype.rect=function(o){var a=this._pInst._glAttributes.perPixelLighting,l=o[0],c=o[1],y=o[2],w=o[3],x=o[4]||(a?1:24),S=o[5]||(a?1:16),E="rect|".concat(x,"|").concat(S);if(!this.geometryInHash(E)){var C=new p.default.Geometry(x,S,function(){for(var O=0;O<=this.detailY;O++)for(var I=O/this.detailY,R=0;R<=this.detailX;R++){var L=R/this.detailX,N=new p.default.Vector(L,I,0);this.vertices.push(N),this.uvs.push(L,I)}0<x&&0<S&&(this.strokeIndices=[[0,x],[x,(x+1)*(S+1)-1],[(x+1)*(S+1)-1,(x+1)*S],[(x+1)*S,0]])});C.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(E,C)}var A=this.uMVMatrix.copy();try{this.uMVMatrix.translate([l,c,0]),this.uMVMatrix.scale(y,w,1),this.drawBuffers(E)}finally{this.uMVMatrix=A}return this},p.default.RendererGL.prototype.quad=function(o,a,l,c,y,w,x,S,E,C,A,O,I,R){I===void 0&&(I=2),R===void 0&&(R=2);var L="quad|".concat(o,"|").concat(a,"|").concat(l,"|").concat(c,"|").concat(y,"|").concat(w,"|").concat(x,"|").concat(S,"|").concat(E,"|").concat(C,"|").concat(A,"|").concat(O,"|").concat(I,"|").concat(R);if(!this.geometryInHash(L)){var N=new p.default.Geometry(I,R,function(){for(var ue=1/(this.detailX-1),se=1/(this.detailY-1),me=0;me<this.detailY;me++)for(var xe=0;xe<this.detailX;xe++){var Ce=xe*ue,ve=me*se,De=(1-Ce)*((1-ve)*o+ve*C)+Ce*((1-ve)*c+ve*x),_e=(1-Ce)*((1-ve)*a+ve*A)+Ce*((1-ve)*y+ve*S),Se=(1-Ce)*((1-ve)*l+ve*O)+Ce*((1-ve)*w+ve*E);this.vertices.push(new p.default.Vector(De,_e,Se)),this.uvs.push([Ce,ve])}});N.faces=[];for(var D=0;D<R-1;D++)for(var H=0;H<I-1;H++){var z=H+D*I,ae=H+1+D*I,le=H+1+(D+1)*I,J=H+(D+1)*I;N.faces.push([z,ae,le]),N.faces.push([z,le,J])}N.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(L,N)}return this.drawBuffers(L),this},p.default.RendererGL.prototype.bezier=function(o,a,l,c,y,w,x,S,E,C,A,O){arguments.length===8&&(A=S,C=x,S=w,x=y,y=c,c=l,l=w=E=O=0);var I=this._pInst._bezierDetail||20;this.beginShape();for(var R=0;R<=I;R++){var L=Math.pow(1-R/I,3),N=R/I*3*Math.pow(1-R/I,2),D=3*Math.pow(R/I,2)*(1-R/I),H=Math.pow(R/I,3);this.vertex(o*L+c*N+x*D+C*H,a*L+y*N+S*D+A*H,l*L+w*N+E*D+O*H)}return this.endShape(),this},p.default.RendererGL.prototype.curve=function(o,a,l,c,y,w,x,S,E,C,A,O){arguments.length===8&&(C=x,A=S,x=y,S=c,y=c=l,l=w=E=O=0);var I=this._pInst._curveDetail;this.beginShape();for(var R=0;R<=I;R++){var L=.5*Math.pow(R/I,3),N=.5*Math.pow(R/I,2),D=R/I*.5,H=L*(3*c-o-3*x+C)+N*(2*o-5*c+4*x-C)+D*(-o+x)+2*c*.5,z=L*(3*y-a-3*S+A)+N*(2*a-5*y+4*S-A)+D*(-a+S)+2*y*.5,ae=L*(3*w-l-3*E+O)+N*(2*l-5*w+4*E-O)+D*(-l+E)+2*w*.5;this.vertex(H,z,ae)}return this.endShape(),this},p.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},p.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var o,a,l,c,y,w=[],x=[],S=[],E=arguments.length;if((o=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,A=0,O=1,I=0;A<1;){if(o=parseFloat(A.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(o),O.toFixed(6)===C.toFixed(6)){o=parseFloat(O.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(o);break}A+=C,O-=C,++I}}var R=this._lookUpTableBezier.length;if(E===6){for(this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],y=0;y<R;y++)a=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],l=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],this.vertex(a,l);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(E===9){for(this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],S=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],y=0;y<R;y++)a=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],l=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],c=S[0]*this._lookUpTableBezier[y][0]+S[1]*this._lookUpTableBezier[y][1]+S[2]*this._lookUpTableBezier[y][2]+S[3]*this._lookUpTableBezier[y][3],this.vertex(a,l,c);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},p.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var o,a,l,c,y,w=[],x=[],S=[],E=arguments.length;if((o=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var C=1/this._lutQuadraticDetail,A=0,O=1,I=0;A<1;){if(o=parseFloat(A.toFixed(6)),this._lookUpTableQuadratic[I]=this._quadraticCoefficients(o),O.toFixed(6)===C.toFixed(6)){o=parseFloat(O.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableQuadratic[I]=this._quadraticCoefficients(o);break}A+=C,O-=C,++I}}var R=this._lookUpTableQuadratic.length;if(E===4){for(this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],y=0;y<R;y++)a=w[0]*this._lookUpTableQuadratic[y][0]+w[1]*this._lookUpTableQuadratic[y][1]+w[2]*this._lookUpTableQuadratic[y][2],l=x[0]*this._lookUpTableQuadratic[y][0]+x[1]*this._lookUpTableQuadratic[y][1]+x[2]*this._lookUpTableQuadratic[y][2],this.vertex(a,l);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(E===6){for(this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],S=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],y=0;y<R;y++)a=w[0]*this._lookUpTableQuadratic[y][0]+w[1]*this._lookUpTableQuadratic[y][1]+w[2]*this._lookUpTableQuadratic[y][2],l=x[0]*this._lookUpTableQuadratic[y][0]+x[1]*this._lookUpTableQuadratic[y][1]+x[2]*this._lookUpTableQuadratic[y][2],c=S[0]*this._lookUpTableQuadratic[y][0]+S[1]*this._lookUpTableQuadratic[y][1]+S[2]*this._lookUpTableQuadratic[y][2],this.vertex(a,l,c);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},p.default.RendererGL.prototype.curveVertex=function(){var o,a,l,c,y,w=[],x=[],S=[],E=arguments.length;if((o=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,A=0,O=1,I=0;A<1;){if(o=parseFloat(A.toFixed(6)),this._lookUpTableBezier[I]=this._bezierCoefficients(o),O.toFixed(6)===C.toFixed(6)){o=parseFloat(O.toFixed(6))+parseFloat(A.toFixed(6)),++I,this._lookUpTableBezier[I]=this._bezierCoefficients(o);break}A+=C,O-=C,++I}}var R=this._lookUpTableBezier.length;if(E===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),y=0;y<R;y++)a=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],l=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],this.vertex(a,l);for(y=0;y<E;y++)this.immediateMode._curveVertex.shift()}}else if(E===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),S=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),y=0;y<R;y++)a=w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],l=x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],c=S[0]*this._lookUpTableBezier[y][0]+S[1]*this._lookUpTableBezier[y][1]+S[2]*this._lookUpTableBezier[y][2]+S[3]*this._lookUpTableBezier[y][3],this.vertex(a,l,c);for(y=0;y<E;y++)this.immediateMode._curveVertex.shift()}},p.default.RendererGL.prototype.image=function(o,a,l,c,y,w,x,S,E){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(o),this._pInst.textureMode(f.NORMAL);var C=0;a<=o.width&&(C=a/o.width);var A=1;a+c<=o.width&&(A=(a+c)/o.width);var O=0;l<=o.height&&(O=l/o.height);var I=1;l+y<=o.height&&(I=(l+y)/o.height),this.beginShape(),this.vertex(w,x,0,C,O),this.vertex(w+S,x,0,A,O),this.vertex(w+S,x+E,0,A,I),this.vertex(w,x+E,0,C,I),this.endShape(f.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(f.REMOVE)};var i=p.default;d.default=i},{"../core/constants":253,"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.number.to-fixed":172}],308:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=g();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.prototype.orbitControl=function(i,o,a){if(this._assert3d("orbitControl"),p.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var l=this._renderer._curCamera;i===void 0&&(i=1),o===void 0&&(o=i),a===void 0&&(a=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var c=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,a*c):this._renderer._curCamera._orbit(0,0,-a*c)),this.mouseIsPressed){if(this.mouseButton===this.LEFT){var y=-i*(this.mouseX-this.pmouseX)/c,w=o*(this.mouseY-this.pmouseY)/c;this._renderer._curCamera._orbit(y,w,0)}else if(this.mouseButton===this.RIGHT){var x=l._getLocalAxes(),S=Math.sqrt(x.x[0]*x.x[0]+x.x[2]*x.x[2]);S!==0&&(x.x[0]/=S,x.x[2]/=S);var E=Math.sqrt(x.y[0]*x.y[0]+x.y[2]*x.y[2]);E!==0&&(x.y[0]/=E,x.y[2]/=E);var C=-1*i*(this.mouseX-this.pmouseX),A=-1*o*(this.mouseY-this.pmouseY);l.setPosition(l.eyeX+C*x.x[0]+A*x.z[0],l.eyeY,l.eyeZ+C*x.x[2]+A*x.z[2])}}return this}},p.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];p.default._validateParameters("debugMode",o);for(var l=this._registeredMethods.post.length-1;0<=l;l--)this._registeredMethods.post[l].toString()!==this._grid().toString()&&this._registeredMethods.post[l].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(l,1);o[0]===f.GRID?this.registerMethod("post",this._grid.call(this,o[1],o[2],o[3],o[4],o[5])):o[0]===f.AXES?this.registerMethod("post",this._axesIcon.call(this,o[1],o[2],o[3],o[4])):(this.registerMethod("post",this._grid.call(this,o[0],o[1],o[2],o[3],o[4])),this.registerMethod("post",this._axesIcon.call(this,o[5],o[6],o[7],o[8])))},p.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1)},p.default.prototype._grid=function(i,o,a,l,c){i===void 0&&(i=this.width/2),o===void 0&&(o=Math.round(i/30)<4?4:Math.round(i/30)),a===void 0&&(a=0),l===void 0&&(l=0),c===void 0&&(c=0);var y=i/o,w=i/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var x=0;x<=o;x++)this.beginShape(this.LINES),this.vertex(-w+a,l,x*y-w+c),this.vertex(+w+a,l,x*y-w+c),this.endShape();for(var S=0;S<=o;S++)this.beginShape(this.LINES),this.vertex(S*y-w+a,l,-w+c),this.vertex(S*y-w+a,l,+w+c),this.endShape();this.pop()}},p.default.prototype._axesIcon=function(i,o,a,l){return i===void 0&&(i=40<this.width/20?this.width/20:40),o===void 0&&(o=-this.width/4),a===void 0&&(a=o),l===void 0&&(l=o),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(o,a,l),this.vertex(o+i,a,l),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(o,a,l),this.vertex(o,a+i,l),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(o,a,l),this.vertex(o,a,l+i),this.endShape(),this.pop()}};var m=p.default;d.default=m},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182}],309:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=g();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.prototype.ambientLight=function(i,o,a,l){this._assert3d("ambientLight"),p.default._validateParameters("ambientLight",arguments);var c=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(c._array[0],c._array[1],c._array[2]),this._renderer._enableLighting=!0,this},p.default.prototype.specularColor=function(i,o,a){this._assert3d("specularColor"),p.default._validateParameters("specularColor",arguments);var l=this.color.apply(this,arguments);return this._renderer.specularColors=[l._array[0],l._array[1],l._array[2]],this},p.default.prototype.directionalLight=function(i,o,a,l,c,y){var w,x,S,E;this._assert3d("directionalLight"),p.default._validateParameters("directionalLight",arguments),w=i instanceof p.default.Color?i:this.color(i,o,a);var C=arguments[arguments.length-1];E=typeof C=="number"?(x=arguments[arguments.length-3],S=arguments[arguments.length-2],arguments[arguments.length-1]):(x=C.x,S=C.y,C.z);var A=Math.sqrt(x*x+S*S+E*E);return this._renderer.directionalLightDirections.push(x/A,S/A,E/A),this._renderer.directionalLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},p.default.prototype.pointLight=function(i,o,a,l,c,y){var w,x,S,E;this._assert3d("pointLight"),p.default._validateParameters("pointLight",arguments),w=i instanceof p.default.Color?i:this.color(i,o,a);var C=arguments[arguments.length-1];return E=typeof C=="number"?(x=arguments[arguments.length-3],S=arguments[arguments.length-2],arguments[arguments.length-1]):(x=C.x,S=C.y,C.z),this._renderer.pointLightPositions.push(x,S,E),this._renderer.pointLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},p.default.prototype.lights=function(){if(this._assert3d("lights"),this._colorMode===f.RGB)this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1);else{var i=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,i),this.directionalLight(0,0,i,0,0,-1)}return this},p.default.prototype.lightFalloff=function(i,o,a){return this._assert3d("lightFalloff"),p.default._validateParameters("lightFalloff",arguments),i<0&&(i=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),o<0&&(o=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),a<0&&(a=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),i===0&&o===0&&a===0&&(i=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=i,this._renderer.linearAttenuation=o,this._renderer.quadraticAttenuation=a,this},p.default.prototype.spotLight=function(i,o,a,l,c,y,w,x,S,E,C){var A,O,I;this._assert3d("spotLight"),p.default._validateParameters("spotLight",arguments);var R=arguments.length;switch(R){case 11:case 10:A=this.color(i,o,a),O=new p.default.Vector(l,c,y),I=new p.default.Vector(w,x,S);break;case 9:i instanceof p.default.Color?(A=i,O=new p.default.Vector(o,a,l),I=new p.default.Vector(c,y,w),E=x,C=S):l instanceof p.default.Vector?(A=this.color(i,o,a),O=l,I=new p.default.Vector(c,y,w),E=x,C=S):w instanceof p.default.Vector?(A=this.color(i,o,a),O=new p.default.Vector(l,c,y),I=w,E=x,C=S):(A=this.color(i,o,a),O=new p.default.Vector(l,c,y),I=new p.default.Vector(w,x,S));break;case 8:E=(I=i instanceof p.default.Color?(A=i,O=new p.default.Vector(o,a,l),new p.default.Vector(c,y,w)):l instanceof p.default.Vector?(A=this.color(i,o,a),O=l,new p.default.Vector(c,y,w)):(A=this.color(i,o,a),O=new p.default.Vector(l,c,y),w),x);break;case 7:i instanceof p.default.Color&&o instanceof p.default.Vector?(A=i,O=o,I=new p.default.Vector(a,l,c),E=y,C=w):i instanceof p.default.Color&&c instanceof p.default.Vector?(A=i,O=new p.default.Vector(o,a,l),I=c,E=y,C=w):l instanceof p.default.Vector&&c instanceof p.default.Vector?(A=this.color(i,o,a),O=l,I=c,E=y,C=w):I=i instanceof p.default.Color?(A=i,O=new p.default.Vector(o,a,l),new p.default.Vector(c,y,w)):l instanceof p.default.Vector?(A=this.color(i,o,a),O=l,new p.default.Vector(c,y,w)):(A=this.color(i,o,a),O=new p.default.Vector(l,c,y),w);break;case 6:l instanceof p.default.Vector&&c instanceof p.default.Vector?(A=this.color(i,o,a),O=l,I=c,E=y):i instanceof p.default.Color&&c instanceof p.default.Vector?(A=i,O=new p.default.Vector(o,a,l),I=c,E=y):i instanceof p.default.Color&&o instanceof p.default.Vector&&(A=i,O=o,I=new p.default.Vector(a,l,c),E=y);break;case 5:i instanceof p.default.Color&&o instanceof p.default.Vector&&a instanceof p.default.Vector?(A=i,O=o,I=a,E=l,C=c):l instanceof p.default.Vector&&c instanceof p.default.Vector?(A=this.color(i,o,a),O=l,I=c):i instanceof p.default.Color&&c instanceof p.default.Vector?(A=i,O=new p.default.Vector(o,a,l),I=c):i instanceof p.default.Color&&o instanceof p.default.Vector&&(A=i,O=o,I=new p.default.Vector(a,l,c));break;case 4:A=i,O=o,I=a,E=l;break;case 3:A=i,O=o,I=a;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(R<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(A._array[0],A._array[1],A._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(O.x,O.y,O.z),I.normalize(),this._renderer.spotLightDirections.push(I.x,I.y,I.z),E===void 0&&(E=Math.PI/3),C!==void 0&&C<1?(C=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):C===void 0&&(C=100),E=this._renderer._pInst._toRadians(E),this._renderer.spotLightAngle.push(Math.cos(E)),this._renderer.spotLightConc.push(C),this._renderer._enableLighting=!0,this},p.default.prototype.noLights=function(){return this._assert3d("noLights"),p.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var m=p.default;d.default=m},{"../core/constants":253,"../core/main":264}],310:[function(e,u,d){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};function p(g,m,i){for(var o=0,a=g.length;o<a;o++)if(g[o]!==m.getUint8(i+o,!1))return!1;return!0}e("./p5.Geometry"),r.default.prototype.loadModel=function(g){var m,i,o;r.default._validateParameters("loadModel",arguments);var a=g.slice(-4);typeof arguments[1]=="boolean"?(m=arguments[1],i=arguments[2],o=arguments[3],arguments[4]!==void 0&&(a=arguments[4])):(m=!1,i=arguments[1],o=arguments[2],arguments[3]!==void 0&&(a=arguments[3]));var l=new r.default.Geometry;l.gid="".concat(g,"|").concat(m);var c=this;return a.match(/\.stl$/i)?this.httpDo(g,"GET","arrayBuffer",function(y){(function(w,x){if(function(C){for(var A=new DataView(C),O=[115,111,108,105,100],I=0;I<5;I++)if(p(O,A,I))return!1;return!0}(x))(function(C,A){for(var O,I,R,L,N,D,H,z=new DataView(A),ae=z.getUint32(80,!0),le=!1,J=0;J<70;J++)z.getUint32(J,!1)===1129270351&&z.getUint8(J+4)===82&&z.getUint8(J+5)===61&&(le=!0,L=[],N=z.getUint8(J+6)/255,D=z.getUint8(J+7)/255,H=z.getUint8(J+8)/255);for(var ue=0;ue<ae;ue++){var se=84+50*ue,me=z.getFloat32(se,!0),xe=z.getFloat32(4+se,!0),Ce=z.getFloat32(8+se,!0);if(le){var ve=z.getUint16(48+se,!0);R=32768&ve?(O=N,I=D,H):(O=(31&ve)/31,I=(ve>>5&31)/31,(ve>>10&31)/31)}for(var De=new r.default.Vector(me,xe,Ce),_e=1;_e<=3;_e++){var Se=se+12*_e,P=new r.default.Vector(z.getFloat32(Se,!0),z.getFloat32(4+Se,!0),z.getFloat32(8+Se,!0));C.vertices.push(P),C.vertexNormals.push(De),le&&L.push(O,I,R)}C.faces.push([3*ue,3*ue+1,3*ue+2]),C.uvs.push([0,0],[0,0],[0,0])}})(w,x);else{var S=new DataView(x);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");var E=new TextDecoder("utf-8").decode(S).split(`
`);(function(C,A){for(var O,I,R="",L=[],N=0;N<A.length;++N){for(var D=A[N].trim(),H=D.split(" "),z=0;z<H.length;++z)H[z]===""&&H.splice(z,1);if(H.length!==0)switch(R){case"":if(H[0]!=="solid")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "solid"'));R="solid";break;case"solid":if(H[0]!=="facet"||H[1]!=="normal")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "facet normal"'));O=new r.default.Vector(parseFloat(H[2]),parseFloat(H[3]),parseFloat(H[4])),C.vertexNormals.push(O,O,O),R="facet normal";break;case"facet normal":if(H[0]!=="outer"||H[1]!=="loop")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "outer loop"'));R="vertex";break;case"vertex":if(H[0]==="vertex")I=new r.default.Vector(parseFloat(H[1]),parseFloat(H[2]),parseFloat(H[3])),C.vertices.push(I),C.uvs.push([0,0]),L.push(C.vertices.indexOf(I));else{if(H[0]!=="endloop")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "vertex" or "endloop"'));C.faces.push(L),L=[],R="endloop"}break;case"endloop":if(H[0]!=="endfacet")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "endfacet"'));R="endfacet";break;case"endfacet":if(H[0]!=="endsolid"){if(H[0]!=="facet"||H[1]!=="normal")return console.error(D),console.error('Invalid state "'.concat(H[0],'", should be "endsolid" or "facet normal"'));O=new r.default.Vector(parseFloat(H[2]),parseFloat(H[3]),parseFloat(H[4])),C.vertexNormals.push(O,O,O),R="facet normal"}break;default:console.error('Invalid state "'.concat(R,'"'))}}})(w,E)}})(l,y),m&&l.normalize(),c._decrementPreload(),typeof i=="function"&&i(l)},o):a.match(/\.obj$/i)?this.loadStrings(g,function(y){(function(w,x){for(var S={v:[],vt:[],vn:[]},E={},C=0;C<x.length;++C){var A=x[C].trim().split(/\b\s+/);if(0<A.length){if(A[0]==="v"||A[0]==="vn"){var O=new r.default.Vector(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));S[A[0]].push(O)}else if(A[0]==="vt"){var I=[parseFloat(A[1]),1-parseFloat(A[2])];S[A[0]].push(I)}else if(A[0]==="f")for(var R=3;R<A.length;++R){for(var L=[],N=[1,R-1,R],D=0;D<N.length;++D){var H=A[N[D]],z=0;if(E[H]!==void 0)z=E[H];else{for(var ae=H.split("/"),le=0;le<ae.length;le++)ae[le]=parseInt(ae[le])-1;z=E[H]=w.vertices.length,w.vertices.push(S.v[ae[0]].copy()),S.vt[ae[1]]?w.uvs.push(S.vt[ae[1]].slice()):w.uvs.push([0,0]),S.vn[ae[2]]&&w.vertexNormals.push(S.vn[ae[2]].copy())}L.push(z)}L[0]!==L[1]&&L[0]!==L[2]&&L[1]!==L[2]&&w.faces.push(L)}}}w.vertexNormals.length===0&&w.computeNormals()})(l,y),m&&l.normalize(),c._decrementPreload(),typeof i=="function"&&i(l)},o):(r.default._friendlyFileLoadError(3,g),o?o():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),l},r.default.prototype.model=function(g){this._assert3d("model"),r.default._validateParameters("model",arguments),0<g.vertices.length&&(this._renderer.geometryInHash(g.gid)||(g._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(g.gid,g)),this._renderer.drawBuffers(g.gid))};var f=r.default;d.default=f},{"../core/main":264,"./p5.Geometry":313,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],311:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}e("core-js/modules/es.array.join"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=g();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}e("./p5.Texture"),p.default.prototype.loadShader=function(i,o,a,l){p.default._validateParameters("loadShader",arguments),l=l||console.error;function c(){w._decrementPreload(),a&&a(y)}var y=new p.default.Shader,w=this,x=!1,S=!1;return this.loadStrings(i,function(E){y._vertSrc=E.join(`
`),S=!0,x&&c()},l),this.loadStrings(o,function(E){y._fragSrc=E.join(`
`),x=!0,S&&c()},l),y},p.default.prototype.createShader=function(i,o){return this._assert3d("createShader"),p.default._validateParameters("createShader",arguments),new p.default.Shader(this._renderer,i,o)},p.default.prototype.shader=function(i){return this._assert3d("shader"),p.default._validateParameters("shader",arguments),i._renderer===void 0&&(i._renderer=this._renderer),i.init(),i.isStrokeShader()?this._renderer.userStrokeShader=i:(this._renderer.userFillShader=i,this._renderer._useNormalMaterial=!1),this},p.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},p.default.prototype.texture=function(i){return this._assert3d("texture"),p.default._validateParameters("texture",arguments),i.gifProperties&&i._animateGif(this),this._renderer.drawMode=f.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=i,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.textureMode=function(i){i!==f.IMAGE&&i!==f.NORMAL?console.warn("You tried to set ".concat(i," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=i},p.default.prototype.textureWrap=function(i){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i;this._renderer.textureWrapX=i,this._renderer.textureWrapY=o;for(var a=this._renderer.textures,l=0;l<a.length;l++)a[l].setWrapMode(i,o)},p.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return p.default._validateParameters("normalMaterial",o),this._renderer.drawMode=f.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},p.default.prototype.ambientMaterial=function(i,o,a){this._assert3d("ambientMaterial"),p.default._validateParameters("ambientMaterial",arguments);var l=p.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=l._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.emissiveMaterial=function(i,o,a,l){this._assert3d("emissiveMaterial"),p.default._validateParameters("emissiveMaterial",arguments);var c=p.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=c._array,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},p.default.prototype.specularMaterial=function(i,o,a,l){this._assert3d("specularMaterial"),p.default._validateParameters("specularMaterial",arguments);var c=p.default.prototype.color.apply(this,arguments);return this._renderer.curFillColor=c._array,this._renderer._useSpecularMaterial=!0,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},p.default.prototype.shininess=function(i){return this._assert3d("shininess"),p.default._validateParameters("shininess",arguments),i<1&&(i=1),this._renderer._useShininess=i,this},p.default.RendererGL.prototype._applyColorBlend=function(i){var o=this.GL,a=this.drawMode===f.TEXTURE||i[i.length-1]<1||this._isErasing;return a!==this._isBlending&&(a||this.curBlendMode!==f.BLEND&&this.curBlendMode!==f.ADD?o.enable(o.BLEND):o.disable(o.BLEND),o.depthMask(!0),this._isBlending=a),this._applyBlendMode(),i},p.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var i=this.GL;switch(this.curBlendMode){case f.BLEND:case f.ADD:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA);break;case f.REMOVE:i.blendEquation(i.FUNC_REVERSE_SUBTRACT),i.blendFunc(i.SRC_ALPHA,i.DST_ALPHA);break;case f.MULTIPLY:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ONE,i.ONE);break;case f.SCREEN:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE,i.ONE,i.ONE);break;case f.EXCLUSION:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE);break;case f.REPLACE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO);break;case f.SUBTRACT:i.blendEquationSeparate(i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case f.DARKEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MIN_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case f.LIGHTEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MAX_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var m=p.default;d.default=m},{"../core/constants":253,"../core/main":264,"./p5.Texture":320,"core-js/modules/es.array.join":159}],312:[function(e,u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.prototype.camera=function(){var f;this._assert3d("camera");for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return r.default._validateParameters("camera",m),(f=this._renderer._curCamera).camera.apply(f,m),this},r.default.prototype.perspective=function(){var f;this._assert3d("perspective");for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return r.default._validateParameters("perspective",m),(f=this._renderer._curCamera).perspective.apply(f,m),this},r.default.prototype.ortho=function(){var f;this._assert3d("ortho");for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return r.default._validateParameters("ortho",m),(f=this._renderer._curCamera).ortho.apply(f,m),this},r.default.prototype.frustum=function(){var f;this._assert3d("frustum");for(var g=arguments.length,m=new Array(g),i=0;i<g;i++)m[i]=arguments[i];return r.default._validateParameters("frustum",m),(f=this._renderer._curCamera).frustum.apply(f,m),this},r.default.prototype.createCamera=function(){this._assert3d("createCamera");var f=new r.default.Camera(this._renderer);return f._computeCameraDefaultSettings(),f._setDefaultCamera(),this._renderer._curCamera=f},r.default.Camera=function(f){this._renderer=f,this.cameraType="default",this.cameraMatrix=new r.default.Matrix,this.projMatrix=new r.default.Matrix},r.default.Camera.prototype.perspective=function(f,g,m,i){this.cameraType=0<arguments.length?"custom":"default",f===void 0?(f=this.defaultCameraFOV,this.cameraFOV=f):this.cameraFOV=this._renderer._pInst._toRadians(f),g===void 0&&(g=this.defaultAspectRatio),m===void 0&&(m=this.defaultCameraNear),i===void 0&&(i=this.defaultCameraFar),m<=1e-4&&(m=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<m&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=g,this.cameraNear=m,this.cameraFar=i,this.projMatrix=r.default.Matrix.identity();var o=1/Math.tan(this.cameraFOV/2),a=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(o/g,0,0,0,0,-o,0,0,0,0,(i+m)*a,-1,0,0,2*i*m*a,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},r.default.Camera.prototype.ortho=function(f,g,m,i,o,a){f===void 0&&(f=-this._renderer.width/2),g===void 0&&(g=this._renderer.width/2),m===void 0&&(m=-this._renderer.height/2),i===void 0&&(i=this._renderer.height/2),o===void 0&&(o=0),a===void 0&&(a=Math.max(this._renderer.width,this._renderer.height));var l=g-f,c=i-m,y=a-o,w=2/l,x=2/c,S=-2/y,E=-(g+f)/l,C=-(i+m)/c,A=-(a+o)/y;this.projMatrix=r.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-x,0,0,0,0,S,0,E,C,A,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},r.default.Camera.prototype.frustum=function(f,g,m,i,o,a){f===void 0&&(f=-this._renderer.width/2),g===void 0&&(g=this._renderer.width/2),m===void 0&&(m=-this._renderer.height/2),i===void 0&&(i=this._renderer.height/2),o===void 0&&(o=0),a===void 0&&(a=Math.max(this._renderer.width,this._renderer.height));var l=g-f,c=i-m,y=a-o,w=2*o/l,x=2*o/c,S=-2*a*o/y,E=(g+f)/l,C=(i+m)/c,A=-(a+o)/y;this.projMatrix=r.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,x,0,0,E,C,A,-1,0,0,S,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},r.default.Camera.prototype._rotateView=function(f,g,m,i){var o=this.centerX,a=this.centerY,l=this.centerZ;o-=this.eyeX,a-=this.eyeY,l-=this.eyeZ;var c=r.default.Matrix.identity(this._renderer._pInst);c.rotate(this._renderer._pInst._toRadians(f),g,m,i);var y=[o*c.mat4[0]+a*c.mat4[4]+l*c.mat4[8],o*c.mat4[1]+a*c.mat4[5]+l*c.mat4[9],o*c.mat4[2]+a*c.mat4[6]+l*c.mat4[10]];y[0]+=this.eyeX,y[1]+=this.eyeY,y[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,y[0],y[1],y[2],this.upX,this.upY,this.upZ)},r.default.Camera.prototype.pan=function(f){var g=this._getLocalAxes();this._rotateView(f,g.y[0],g.y[1],g.y[2])},r.default.Camera.prototype.tilt=function(f){var g=this._getLocalAxes();this._rotateView(f,g.x[0],g.x[1],g.x[2])},r.default.Camera.prototype.lookAt=function(f,g,m){this.camera(this.eyeX,this.eyeY,this.eyeZ,f,g,m,this.upX,this.upY,this.upZ)},r.default.Camera.prototype.camera=function(f,g,m,i,o,a,l,c,y){f===void 0&&(f=this.defaultEyeX,g=this.defaultEyeY,m=this.defaultEyeZ,i=f,o=g,c=1,y=l=a=0),this.eyeX=f,this.eyeY=g,this.eyeZ=m,i!==void 0&&(this.centerX=i,this.centerY=o,this.centerZ=a),l!==void 0&&(this.upX=l,this.upY=c,this.upZ=y);var w=this._getLocalAxes();this.cameraMatrix.set(w.x[0],w.y[0],w.z[0],0,w.x[1],w.y[1],w.z[1],0,w.x[2],w.y[2],w.z[2],0,0,0,0,1);var x=-f,S=-g,E=-m;return this.cameraMatrix.translate([x,S,E]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},r.default.Camera.prototype.move=function(f,g,m){var i=this._getLocalAxes(),o=[i.x[0]*f,i.x[1]*f,i.x[2]*f],a=[i.y[0]*g,i.y[1]*g,i.y[2]*g],l=[i.z[0]*m,i.z[1]*m,i.z[2]*m];this.camera(this.eyeX+o[0]+a[0]+l[0],this.eyeY+o[1]+a[1]+l[1],this.eyeZ+o[2]+a[2]+l[2],this.centerX+o[0]+a[0]+l[0],this.centerY+o[1]+a[1]+l[1],this.centerZ+o[2]+a[2]+l[2],0,1,0)},r.default.Camera.prototype.setPosition=function(f,g,m){var i=f-this.eyeX,o=g-this.eyeY,a=m-this.eyeZ;this.camera(f,g,m,this.centerX+i,this.centerY+o,this.centerZ+a,0,1,0)},r.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},r.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},r.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},r.default.Camera.prototype.copy=function(){var f=new r.default.Camera(this._renderer);return f.cameraFOV=this.cameraFOV,f.aspectRatio=this.aspectRatio,f.eyeX=this.eyeX,f.eyeY=this.eyeY,f.eyeZ=this.eyeZ,f.centerX=this.centerX,f.centerY=this.centerY,f.centerZ=this.centerZ,f.cameraNear=this.cameraNear,f.cameraFar=this.cameraFar,f.cameraType=this.cameraType,f.cameraMatrix=this.cameraMatrix.copy(),f.projMatrix=this.projMatrix.copy(),f},r.default.Camera.prototype._getLocalAxes=function(){var f=this.eyeX-this.centerX,g=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,i=Math.sqrt(f*f+g*g+m*m);i!==0&&(f/=i,g/=i,m/=i);var o=this.upX,a=this.upY,l=this.upZ,c=a*m-l*g,y=-o*m+l*f,w=o*g-a*f;o=g*w-m*y,a=-f*w+m*c,l=f*y-g*c;var x=Math.sqrt(c*c+y*y+w*w);x!==0&&(c/=x,y/=x,w/=x);var S=Math.sqrt(o*o+a*a+l*l);return S!==0&&(o/=S,a/=S,l/=S),{x:[c,y,w],y:[o,a,l],z:[f,g,m]}},r.default.Camera.prototype._orbit=function(f,g,m){var i=this.eyeX-this.centerX,o=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,l=Math.sqrt(i*i+o*o+a*a),c=Math.atan2(i,a),y=Math.acos(Math.max(-1,Math.min(1,o/l)));c+=f,(l+=m)<0&&(l=.1),(y+=g)>Math.PI?y=Math.PI:y<=0&&(y=.001);var w=Math.sin(y)*l*Math.sin(c),x=Math.cos(y)*l,S=Math.sin(y)*l*Math.cos(c);this.camera(w+this.centerX,x+this.centerY,S+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},r.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},r.default.prototype.setCamera=function(f){this._renderer._curCamera=f,this._renderer.uPMatrix.set(f.projMatrix.mat4[0],f.projMatrix.mat4[1],f.projMatrix.mat4[2],f.projMatrix.mat4[3],f.projMatrix.mat4[4],f.projMatrix.mat4[5],f.projMatrix.mat4[6],f.projMatrix.mat4[7],f.projMatrix.mat4[8],f.projMatrix.mat4[9],f.projMatrix.mat4[10],f.projMatrix.mat4[11],f.projMatrix.mat4[12],f.projMatrix.mat4[13],f.projMatrix.mat4[14],f.projMatrix.mat4[15])};var p=r.default.Camera;d.default=p},{"../core/main":264}],313:[function(e,u,d){e("core-js/modules/es.string.sub"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.Geometry=function(f,g,m){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=f!==void 0?f:1,this.detailY=g!==void 0?g:1,this.dirtyFlags={},m instanceof Function&&m.call(this),this},r.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},r.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var f,g,m,i,o=this.detailX+1,a=0;a<this.detailY;a++)for(var l=0;l<this.detailX;l++)g=(f=a*o+l)+1,m=(a+1)*o+l+1,i=(a+1)*o+l,this.faces.push([f,g,i]),this.faces.push([i,g,m]);return this},r.default.Geometry.prototype._getFaceNormal=function(f){var g=this.faces[f],m=this.vertices[g[0]],i=this.vertices[g[1]],o=this.vertices[g[2]],a=r.default.Vector.sub(i,m),l=r.default.Vector.sub(o,m),c=r.default.Vector.cross(a,l),y=r.default.Vector.mag(c),w=y/(r.default.Vector.mag(a)*r.default.Vector.mag(l));return w===0||isNaN(w)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),c):(1<w&&(w=1),c.mult(Math.asin(w)/y))},r.default.Geometry.prototype.computeNormals=function(){var f,g=this.vertexNormals,m=this.vertices,i=this.faces;for(f=g.length=0;f<m.length;++f)g.push(new r.default.Vector);for(var o=0;o<i.length;++o)for(var a=i[o],l=this._getFaceNormal(o),c=0;c<3;++c)g[a[c]].add(l);for(f=0;f<m.length;++f)g[f].normalize();return this},r.default.Geometry.prototype.averageNormals=function(){for(var f=0;f<=this.detailY;f++){var g=this.detailX+1,m=r.default.Vector.add(this.vertexNormals[f*g],this.vertexNormals[f*g+this.detailX]);m=r.default.Vector.div(m,2),this.vertexNormals[f*g]=m,this.vertexNormals[f*g+this.detailX]=m}return this},r.default.Geometry.prototype.averagePoleNormals=function(){for(var f=new r.default.Vector(0,0,0),g=0;g<this.detailX;g++)f.add(this.vertexNormals[g]);f=r.default.Vector.div(f,this.detailX);for(var m=0;m<this.detailX;m++)this.vertexNormals[m]=f;f=new r.default.Vector(0,0,0);for(var i=this.vertices.length-1;i>this.vertices.length-1-this.detailX;i--)f.add(this.vertexNormals[i]);f=r.default.Vector.div(f,this.detailX);for(var o=this.vertices.length-1;o>this.vertices.length-1-this.detailX;o--)this.vertexNormals[o]=f;return this},r.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var f=0,g=this.strokeIndices.length;f<g;f++)this.edges.push(this.strokeIndices[f]);else for(var m=0;m<this.faces.length;m++)this.edges.push([this.faces[m][0],this.faces[m][1]]),this.edges.push([this.faces[m][1],this.faces[m][2]]),this.edges.push([this.faces[m][2],this.faces[m][0]]);return this},r.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var f=this.lineNormals.length=0;f<this.edges.length;f++){var g=this.vertices[this.edges[f][0]],m=this.vertices[this.edges[f][1]],i=m.copy().sub(g).normalize(),o=g.array(),a=g.array(),l=m.array(),c=m.array(),y=i.array(),w=i.array();y.push(1),w.push(-1),this.lineNormals.push(y,w,y,y,w,w),this.lineVertices.push(o,a,l,l,a,c)}return this},r.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var f=this.vertices[0].copy(),g=this.vertices[0].copy(),m=0;m<this.vertices.length;m++)f.x=Math.max(f.x,this.vertices[m].x),g.x=Math.min(g.x,this.vertices[m].x),f.y=Math.max(f.y,this.vertices[m].y),g.y=Math.min(g.y,this.vertices[m].y),f.z=Math.max(f.z,this.vertices[m].z),g.z=Math.min(g.z,this.vertices[m].z);for(var i=r.default.Vector.lerp(f,g,.5),o=r.default.Vector.sub(f,g),a=200/Math.max(Math.max(o.x,o.y),o.z),l=0;l<this.vertices.length;l++)this.vertices[l].sub(i),this.vertices[l].mult(a)}return this};var p=r.default.Geometry;d.default=p},{"../core/main":264,"core-js/modules/es.string.sub":192}],314:[function(e,u,d){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h},p=Array,f=function(m){return m instanceof Array};typeof Float32Array<"u"&&(p=Float32Array,f=function(m){return m instanceof Array||m instanceof Float32Array}),r.default.Matrix=function(){for(var m=new Array(arguments.length),i=0;i<m.length;++i)m[i]=arguments[i];return m.length&&m[m.length-1]instanceof r.default&&(this.p5=m[m.length-1]),m[0]==="mat3"?this.mat3=Array.isArray(m[1])?m[1]:new p([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(m[0])?m[0]:new p([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},r.default.Matrix.prototype.set=function(m){return m instanceof r.default.Matrix?this.mat4=m.mat4:f(m)?this.mat4=m:arguments.length===16&&(this.mat4[0]=m,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},r.default.Matrix.prototype.get=function(){return new r.default.Matrix(this.mat4,this.p5)},r.default.Matrix.prototype.copy=function(){var m=new r.default.Matrix(this.p5);return m.mat4[0]=this.mat4[0],m.mat4[1]=this.mat4[1],m.mat4[2]=this.mat4[2],m.mat4[3]=this.mat4[3],m.mat4[4]=this.mat4[4],m.mat4[5]=this.mat4[5],m.mat4[6]=this.mat4[6],m.mat4[7]=this.mat4[7],m.mat4[8]=this.mat4[8],m.mat4[9]=this.mat4[9],m.mat4[10]=this.mat4[10],m.mat4[11]=this.mat4[11],m.mat4[12]=this.mat4[12],m.mat4[13]=this.mat4[13],m.mat4[14]=this.mat4[14],m.mat4[15]=this.mat4[15],m},r.default.Matrix.identity=function(m){return new r.default.Matrix(m)},r.default.Matrix.prototype.transpose=function(m){var i,o,a,l,c,y;return m instanceof r.default.Matrix?(i=m.mat4[1],o=m.mat4[2],a=m.mat4[3],l=m.mat4[6],c=m.mat4[7],y=m.mat4[11],this.mat4[0]=m.mat4[0],this.mat4[1]=m.mat4[4],this.mat4[2]=m.mat4[8],this.mat4[3]=m.mat4[12],this.mat4[4]=i,this.mat4[5]=m.mat4[5],this.mat4[6]=m.mat4[9],this.mat4[7]=m.mat4[13],this.mat4[8]=o,this.mat4[9]=l,this.mat4[10]=m.mat4[10],this.mat4[11]=m.mat4[14],this.mat4[12]=a,this.mat4[13]=c,this.mat4[14]=y,this.mat4[15]=m.mat4[15]):f(m)&&(i=m[1],o=m[2],a=m[3],l=m[6],c=m[7],y=m[11],this.mat4[0]=m[0],this.mat4[1]=m[4],this.mat4[2]=m[8],this.mat4[3]=m[12],this.mat4[4]=i,this.mat4[5]=m[5],this.mat4[6]=m[9],this.mat4[7]=m[13],this.mat4[8]=o,this.mat4[9]=l,this.mat4[10]=m[10],this.mat4[11]=m[14],this.mat4[12]=a,this.mat4[13]=c,this.mat4[14]=y,this.mat4[15]=m[15]),this},r.default.Matrix.prototype.invert=function(m){var i,o,a,l,c,y,w,x,S,E,C,A,O,I,R,L;m instanceof r.default.Matrix?(i=m.mat4[0],o=m.mat4[1],a=m.mat4[2],l=m.mat4[3],c=m.mat4[4],y=m.mat4[5],w=m.mat4[6],x=m.mat4[7],S=m.mat4[8],E=m.mat4[9],C=m.mat4[10],A=m.mat4[11],O=m.mat4[12],I=m.mat4[13],R=m.mat4[14],L=m.mat4[15]):f(m)&&(i=m[0],o=m[1],a=m[2],l=m[3],c=m[4],y=m[5],w=m[6],x=m[7],S=m[8],E=m[9],C=m[10],A=m[11],O=m[12],I=m[13],R=m[14],L=m[15]);var N=i*y-o*c,D=i*w-a*c,H=i*x-l*c,z=o*w-a*y,ae=o*x-l*y,le=a*x-l*w,J=S*I-E*O,ue=S*R-C*O,se=S*L-A*O,me=E*R-C*I,xe=E*L-A*I,Ce=C*L-A*R,ve=N*Ce-D*xe+H*me+z*se-ae*ue+le*J;return ve?(ve=1/ve,this.mat4[0]=(y*Ce-w*xe+x*me)*ve,this.mat4[1]=(a*xe-o*Ce-l*me)*ve,this.mat4[2]=(I*le-R*ae+L*z)*ve,this.mat4[3]=(C*ae-E*le-A*z)*ve,this.mat4[4]=(w*se-c*Ce-x*ue)*ve,this.mat4[5]=(i*Ce-a*se+l*ue)*ve,this.mat4[6]=(R*H-O*le-L*D)*ve,this.mat4[7]=(S*le-C*H+A*D)*ve,this.mat4[8]=(c*xe-y*se+x*J)*ve,this.mat4[9]=(o*se-i*xe-l*J)*ve,this.mat4[10]=(O*ae-I*H+L*N)*ve,this.mat4[11]=(E*H-S*ae-A*N)*ve,this.mat4[12]=(y*ue-c*me-w*J)*ve,this.mat4[13]=(i*me-o*ue+a*J)*ve,this.mat4[14]=(I*D-O*z-R*N)*ve,this.mat4[15]=(S*z-E*D+C*N)*ve,this):null},r.default.Matrix.prototype.invert3x3=function(){var m=this.mat3[0],i=this.mat3[1],o=this.mat3[2],a=this.mat3[3],l=this.mat3[4],c=this.mat3[5],y=this.mat3[6],w=this.mat3[7],x=this.mat3[8],S=x*l-c*w,E=-x*a+c*y,C=w*a-l*y,A=m*S+i*E+o*C;return A?(A=1/A,this.mat3[0]=S*A,this.mat3[1]=(-x*i+o*w)*A,this.mat3[2]=(c*i-o*l)*A,this.mat3[3]=E*A,this.mat3[4]=(x*m-o*y)*A,this.mat3[5]=(-c*m+o*a)*A,this.mat3[6]=C*A,this.mat3[7]=(-w*m+i*y)*A,this.mat3[8]=(l*m-i*a)*A,this):null},r.default.Matrix.prototype.transpose3x3=function(m){var i=m[1],o=m[2],a=m[5];return this.mat3[1]=m[3],this.mat3[2]=m[6],this.mat3[3]=i,this.mat3[5]=m[7],this.mat3[6]=o,this.mat3[7]=a,this},r.default.Matrix.prototype.inverseTranspose=function(m){this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=m.mat4[0],this.mat3[1]=m.mat4[1],this.mat3[2]=m.mat4[2],this.mat3[3]=m.mat4[4],this.mat3[4]=m.mat4[5],this.mat3[5]=m.mat4[6],this.mat3[6]=m.mat4[8],this.mat3[7]=m.mat4[9],this.mat3[8]=m.mat4[10]);var i=this.invert3x3();if(i)i.transpose3x3(this.mat3);else for(var o=0;o<9;o++)this.mat3[o]=0;return this},r.default.Matrix.prototype.determinant=function(){var m=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],i=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],o=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],a=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],l=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],c=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],y=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],w=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],x=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],S=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],E=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return m*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-i*E+o*S+a*x-l*w+c*y},r.default.Matrix.prototype.mult=function(m){var i;if(m===this||m===this.mat4)i=this.copy().mat4;else if(m instanceof r.default.Matrix)i=m.mat4;else if(f(m))i=m;else{if(arguments.length!==16)return;i=arguments}var o=this.mat4[0],a=this.mat4[1],l=this.mat4[2],c=this.mat4[3];return this.mat4[0]=o*i[0]+a*i[4]+l*i[8]+c*i[12],this.mat4[1]=o*i[1]+a*i[5]+l*i[9]+c*i[13],this.mat4[2]=o*i[2]+a*i[6]+l*i[10]+c*i[14],this.mat4[3]=o*i[3]+a*i[7]+l*i[11]+c*i[15],o=this.mat4[4],a=this.mat4[5],l=this.mat4[6],c=this.mat4[7],this.mat4[4]=o*i[0]+a*i[4]+l*i[8]+c*i[12],this.mat4[5]=o*i[1]+a*i[5]+l*i[9]+c*i[13],this.mat4[6]=o*i[2]+a*i[6]+l*i[10]+c*i[14],this.mat4[7]=o*i[3]+a*i[7]+l*i[11]+c*i[15],o=this.mat4[8],a=this.mat4[9],l=this.mat4[10],c=this.mat4[11],this.mat4[8]=o*i[0]+a*i[4]+l*i[8]+c*i[12],this.mat4[9]=o*i[1]+a*i[5]+l*i[9]+c*i[13],this.mat4[10]=o*i[2]+a*i[6]+l*i[10]+c*i[14],this.mat4[11]=o*i[3]+a*i[7]+l*i[11]+c*i[15],o=this.mat4[12],a=this.mat4[13],l=this.mat4[14],c=this.mat4[15],this.mat4[12]=o*i[0]+a*i[4]+l*i[8]+c*i[12],this.mat4[13]=o*i[1]+a*i[5]+l*i[9]+c*i[13],this.mat4[14]=o*i[2]+a*i[6]+l*i[10]+c*i[14],this.mat4[15]=o*i[3]+a*i[7]+l*i[11]+c*i[15],this},r.default.Matrix.prototype.apply=function(m){var i;if(m===this||m===this.mat4)i=this.copy().mat4;else if(m instanceof r.default.Matrix)i=m.mat4;else if(f(m))i=m;else{if(arguments.length!==16)return;i=arguments}var o=this.mat4,a=o[0],l=o[4],c=o[8],y=o[12];o[0]=i[0]*a+i[1]*l+i[2]*c+i[3]*y,o[4]=i[4]*a+i[5]*l+i[6]*c+i[7]*y,o[8]=i[8]*a+i[9]*l+i[10]*c+i[11]*y,o[12]=i[12]*a+i[13]*l+i[14]*c+i[15]*y;var w=o[1],x=o[5],S=o[9],E=o[13];o[1]=i[0]*w+i[1]*x+i[2]*S+i[3]*E,o[5]=i[4]*w+i[5]*x+i[6]*S+i[7]*E,o[9]=i[8]*w+i[9]*x+i[10]*S+i[11]*E,o[13]=i[12]*w+i[13]*x+i[14]*S+i[15]*E;var C=o[2],A=o[6],O=o[10],I=o[14];o[2]=i[0]*C+i[1]*A+i[2]*O+i[3]*I,o[6]=i[4]*C+i[5]*A+i[6]*O+i[7]*I,o[10]=i[8]*C+i[9]*A+i[10]*O+i[11]*I,o[14]=i[12]*C+i[13]*A+i[14]*O+i[15]*I;var R=o[3],L=o[7],N=o[11],D=o[15];return o[3]=i[0]*R+i[1]*L+i[2]*N+i[3]*D,o[7]=i[4]*R+i[5]*L+i[6]*N+i[7]*D,o[11]=i[8]*R+i[9]*L+i[10]*N+i[11]*D,o[15]=i[12]*R+i[13]*L+i[14]*N+i[15]*D,this},r.default.Matrix.prototype.scale=function(m,i,o){return m instanceof r.default.Vector?(i=m.y,o=m.z,m=m.x):m instanceof Array&&(i=m[1],o=m[2],m=m[0]),this.mat4[0]*=m,this.mat4[1]*=m,this.mat4[2]*=m,this.mat4[3]*=m,this.mat4[4]*=i,this.mat4[5]*=i,this.mat4[6]*=i,this.mat4[7]*=i,this.mat4[8]*=o,this.mat4[9]*=o,this.mat4[10]*=o,this.mat4[11]*=o,this},r.default.Matrix.prototype.rotate=function(m,i,o,a){i instanceof r.default.Vector?(o=i.y,a=i.z,i=i.x):i instanceof Array&&(o=i[1],a=i[2],i=i[0]);var l=Math.sqrt(i*i+o*o+a*a);i*=1/l,o*=1/l,a*=1/l;var c=this.mat4[0],y=this.mat4[1],w=this.mat4[2],x=this.mat4[3],S=this.mat4[4],E=this.mat4[5],C=this.mat4[6],A=this.mat4[7],O=this.mat4[8],I=this.mat4[9],R=this.mat4[10],L=this.mat4[11],N=Math.sin(m),D=Math.cos(m),H=1-D,z=i*i*H+D,ae=o*i*H+a*N,le=a*i*H-o*N,J=i*o*H-a*N,ue=o*o*H+D,se=a*o*H+i*N,me=i*a*H+o*N,xe=o*a*H-i*N,Ce=a*a*H+D;return this.mat4[0]=c*z+S*ae+O*le,this.mat4[1]=y*z+E*ae+I*le,this.mat4[2]=w*z+C*ae+R*le,this.mat4[3]=x*z+A*ae+L*le,this.mat4[4]=c*J+S*ue+O*se,this.mat4[5]=y*J+E*ue+I*se,this.mat4[6]=w*J+C*ue+R*se,this.mat4[7]=x*J+A*ue+L*se,this.mat4[8]=c*me+S*xe+O*Ce,this.mat4[9]=y*me+E*xe+I*Ce,this.mat4[10]=w*me+C*xe+R*Ce,this.mat4[11]=x*me+A*xe+L*Ce,this},r.default.Matrix.prototype.translate=function(m){var i=m[0],o=m[1],a=m[2]||0;this.mat4[12]+=this.mat4[0]*i+this.mat4[4]*o+this.mat4[8]*a,this.mat4[13]+=this.mat4[1]*i+this.mat4[5]*o+this.mat4[9]*a,this.mat4[14]+=this.mat4[2]*i+this.mat4[6]*o+this.mat4[10]*a,this.mat4[15]+=this.mat4[3]*i+this.mat4[7]*o+this.mat4[11]*a},r.default.Matrix.prototype.rotateX=function(m){this.rotate(m,1,0,0)},r.default.Matrix.prototype.rotateY=function(m){this.rotate(m,0,1,0)},r.default.Matrix.prototype.rotateZ=function(m){this.rotate(m,0,0,1)},r.default.Matrix.prototype.perspective=function(m,i,o,a){var l=1/Math.tan(m/2),c=1/(o-a);return this.mat4[0]=l/i,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=l,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(a+o)*c,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*a*o*c,this.mat4[15]=0,this},r.default.Matrix.prototype.ortho=function(m,i,o,a,l,c){var y=1/(m-i),w=1/(o-a),x=1/(l-c);return this.mat4[0]=-2*y,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*w,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*x,this.mat4[11]=0,this.mat4[12]=(m+i)*y,this.mat4[13]=(a+o)*w,this.mat4[14]=(c+l)*x,this.mat4[15]=1,this};var g=r.default.Matrix;d.default=g},{"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],315:[function(e,u,d){e("core-js/modules/es.array.map"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.RenderBuffer=function(f,g,m,i,o,a){this.size=f,this.src=g,this.dst=m,this.attr=i,this._renderer=o,this.map=a},r.default.RenderBuffer.prototype._prepareBuffer=function(f,g){var m,i=g.attributes,o=this._renderer.GL;m=f.model?f.model:f;var a=i[this.attr];if(a){var l=f[this.dst],c=m[this.src];if(0<c.length){var y=!l;if(y&&(f[this.dst]=l=o.createBuffer()),o.bindBuffer(o.ARRAY_BUFFER,l),y||m.dirtyFlags[this.src]!==!1){var w=this.map,x=w?w(c):c;this._renderer._bindBuffer(l,o.ARRAY_BUFFER,x),m.dirtyFlags[this.src]=!1}g.enableAttrib(a,this.size)}}};var p=r.default.RenderBuffer;d.default=p},{"../core/main":264,"core-js/modules/es.array.map":161}],316:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=g();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}e("./p5.RenderBuffer"),p.default.RendererGL.prototype.beginShape=function(i){return this.immediateMode.shapeMode=i!==void 0?i:f.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this},p.default.RendererGL.prototype.vertex=function(i,o){var a,l,c;a=l=c=0,arguments.length===3?a=arguments[2]:arguments.length===4?(l=arguments[2],c=arguments[3]):arguments.length===5&&(a=arguments[2],l=arguments[3],c=arguments[4]);var y=new p.default.Vector(i,o,a);this.immediateMode.geometry.vertices.push(y),this.immediateMode.geometry.vertexNormals.push(this._currentNormal);var w=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.geometry.vertexColors.push(w[0],w[1],w[2],w[3]),this.textureMode===f.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(l/=this._tex.width,c/=this._tex.height):this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(l,c),this.immediateMode._bezierVertex[0]=i,this.immediateMode._bezierVertex[1]=o,this.immediateMode._bezierVertex[2]=a,this.immediateMode._quadraticVertex[0]=i,this.immediateMode._quadraticVertex[1]=o,this.immediateMode._quadraticVertex[2]=a,this},p.default.RendererGL.prototype.normal=function(i,o,a){return i instanceof p.default.Vector?this._currentNormal=i:this._currentNormal=new p.default.Vector(i,o,a),this},p.default.RendererGL.prototype.endShape=function(i,o,a,l,c,y){return this.immediateMode.shapeMode===f.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},p.default.RendererGL.prototype._processVertices=function(i){if(this.immediateMode.geometry.vertices.length!==0){var o=this._doStroke&&this.drawMode!==f.TEXTURE,a=i===f.CLOSE;o&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,a),this.immediateMode.geometry._edgesToVertices());var l=this.immediateMode.shapeMode===f.TESS;(this.isBezier||this.isQuadratic||this.isCurve||l)&&this.immediateMode.shapeMode!==f.LINES&&this._tesselateShape()}},p.default.RendererGL.prototype._calculateEdges=function(i,o,a){var l=[],c=0;switch(i){case f.TRIANGLE_STRIP:for(c=0;c<o.length-2;c++)l.push([c,c+1]),l.push([c,c+2]);l.push([c,c+1]);break;case f.TRIANGLES:for(c=0;c<o.length-2;c+=3)l.push([c,c+1]),l.push([c+1,c+2]),l.push([c+2,c]);break;case f.LINES:for(c=0;c<o.length-1;c+=2)l.push([c,c+1]);break;default:for(c=0;c<o.length-1;c++)l.push([c,c+1])}return a&&l.push([o.length-1,0]),l},p.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=f.TRIANGLES;var i=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))],o=this._triangulate(i);this.immediateMode.geometry.vertices=[];for(var a=0,l=o.length;a<l;a+=3)this.vertex(o[a],o[a+1],o[a+2])},p.default.RendererGL.prototype._drawImmediateFill=function(){var i=this.GL,o=this._getImmediateFillShader();this._setFillUniforms(o);var a=!0,l=!1,c=void 0;try{for(var y,w=this.immediateMode.buffers.fill[Symbol.iterator]();!(a=(y=w.next()).done);a=!0)y.value._prepareBuffer(this.immediateMode.geometry,o)}catch(x){l=!0,c=x}finally{try{a||w.return==null||w.return()}finally{if(l)throw c}}this.immediateMode.shapeMode!==f.LINE_STRIP&&this.immediateMode.shapeMode!==f.LINES||(this.immediateMode.shapeMode=f.TRIANGLE_FAN),this._applyColorBlend(this.curFillColor),i.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),o.unbindShader()},p.default.RendererGL.prototype._drawImmediateStroke=function(){var i=this.GL,o=this._getImmediateStrokeShader();this._setStrokeUniforms(o);var a=!0,l=!1,c=void 0;try{for(var y,w=this.immediateMode.buffers.stroke[Symbol.iterator]();!(a=(y=w.next()).done);a=!0)y.value._prepareBuffer(this.immediateMode.geometry,o)}catch(x){l=!0,c=x}finally{try{a||w.return==null||w.return()}finally{if(l)throw c}}this._applyColorBlend(this.curStrokeColor),i.drawArrays(i.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),o.unbindShader()};var m=p.default.RendererGL;d.default=m},{"../core/constants":253,"../core/main":264,"./p5.RenderBuffer":315,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/web.dom-collections.iterator":229}],317:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};e("./p5.RendererGL"),e("./p5.RenderBuffer");var p=0;r.default.RendererGL.prototype._initBufferDefaults=function(g){if(this._freeBuffers(g),1e3<++p){var m=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[m],p--}return this.retainedMode.geometry[g]={}},r.default.RendererGL.prototype._freeBuffers=function(g){var m=this.retainedMode.geometry[g];if(m){delete this.retainedMode.geometry[g],p--;var i=this.GL;m.indexBuffer&&i.deleteBuffer(m.indexBuffer),o(this.retainedMode.buffers.stroke),o(this.retainedMode.buffers.fill)}function o(a){var l=!0,c=!1,y=void 0;try{for(var w,x=a[Symbol.iterator]();!(l=(w=x.next()).done);l=!0){var S=w.value;m[S.dst]&&(i.deleteBuffer(m[S.dst]),m[S.dst]=null)}}catch(E){c=!0,y=E}finally{try{l||x.return==null||x.return()}finally{if(c)throw y}}}},r.default.RendererGL.prototype.createBuffers=function(g,m){var i=this.GL,o=this._initBufferDefaults(g);o.model=m;var a=o.indexBuffer;if(m.faces.length){a=a||(o.indexBuffer=i.createBuffer());var l=r.default.RendererGL.prototype._flatten(m.faces),c=l.some(function(w){return 65535<w}),y=c?Uint32Array:Uint16Array;this._bindBuffer(a,i.ELEMENT_ARRAY_BUFFER,l,y),o.indexBufferType=c?i.UNSIGNED_INT:i.UNSIGNED_SHORT,o.vertexCount=3*m.faces.length}else a&&(i.deleteBuffer(a),o.indexBuffer=null),o.vertexCount=m.vertices?m.vertices.length:0;return o.lineVertexCount=m.lineVertices?m.lineVertices.length:0,o},r.default.RendererGL.prototype.drawBuffers=function(g){var m=this.GL,i=this.retainedMode.geometry[g];if(this._doStroke&&0<i.lineVertexCount){var o=this._getRetainedStrokeShader();this._setStrokeUniforms(o);var a=!0,l=!1,c=void 0;try{for(var y,w=this.retainedMode.buffers.stroke[Symbol.iterator]();!(a=(y=w.next()).done);a=!0)y.value._prepareBuffer(i,o)}catch(I){l=!0,c=I}finally{try{a||w.return==null||w.return()}finally{if(l)throw c}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(m.TRIANGLES,g),o.unbindShader()}if(this._doFill){var x=this._getRetainedFillShader();this._setFillUniforms(x);var S=!0,E=!1,C=void 0;try{for(var A,O=this.retainedMode.buffers.fill[Symbol.iterator]();!(S=(A=O.next()).done);S=!0)A.value._prepareBuffer(i,x)}catch(I){E=!0,C=I}finally{try{S||O.return==null||O.return()}finally{if(E)throw C}}i.indexBuffer&&this._bindBuffer(i.indexBuffer,m.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(m.TRIANGLES,g),x.unbindShader()}return this},r.default.RendererGL.prototype.drawBuffersScaled=function(g,m,i,o){var a=this.uMVMatrix.copy();try{this.uMVMatrix.scale(m,i,o),this.drawBuffers(g)}finally{this.uMVMatrix=a}},r.default.RendererGL.prototype._drawArrays=function(g,m){return this.GL.drawArrays(g,0,this.retainedMode.geometry[m].lineVertexCount),this},r.default.RendererGL.prototype._drawElements=function(g,m){var i=this.retainedMode.geometry[m],o=this.GL;if(i.indexBuffer){if(i.indexBufferType===o.UNSIGNED_INT&&!o.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");o.drawElements(o.TRIANGLES,i.vertexCount,i.indexBufferType,0)}else o.drawArrays(g||o.TRIANGLES,0,i.vertexCount)},r.default.RendererGL.prototype._drawPoints=function(g,m){var i=this.GL,o=this._getImmediatePointShader();this._setPointUniforms(o),this._bindBuffer(m,i.ARRAY_BUFFER,this._vToNArray(g),Float32Array,i.STATIC_DRAW),o.enableAttrib(o.attributes.aPosition,3),i.drawArrays(i.Points,0,g.length),o.unbindShader()};var f=r.default.RendererGL;d.default=f},{"../core/main":264,"./p5.RenderBuffer":315,"./p5.RendererGL":318,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":229}],318:[function(e,u,d){function h(c){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(c)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r=m(e("../core/main")),p=function(c){if(c&&c.__esModule)return c;if(c===null||h(c)!=="object"&&typeof c!="function")return{default:c};var y=g();if(y&&y.has(c))return y.get(c);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in c)if(Object.prototype.hasOwnProperty.call(c,S)){var E=x?Object.getOwnPropertyDescriptor(c,S):null;E&&(E.get||E.set)?Object.defineProperty(w,S,E):w[S]=c[S]}return w.default=c,y&&y.set(c,w),w}(e("../core/constants")),f=m(e("libtess"));e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix"),e("path");function g(){if(typeof WeakMap!="function")return null;var c=new WeakMap;return g=function(){return c},c}function m(c){return c&&c.__esModule?c:{default:c}}function i(c){return function(y){if(Array.isArray(y)){for(var w=0,x=new Array(y.length);w<y.length;w++)x[w]=y[w];return x}}(c)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,a={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vColor;
}`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
uniform vec4 uMaterialColor;
void main(void) {
  gl_FragColor = uMaterialColor;
}`,lightVert:o+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;
  }
}`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
}
`,phongFrag:o+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;
  }
}`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = uMaterialColor;
  gl_FragColor.a *= saturate(max(antialias, cover));
}`,lineVert:`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform vec4 uViewport;
uniform int uPerspective;

attribute vec4 aPosition;
attribute vec4 aDirection;
  
void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posq.xyz = posq.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 q = uProjectionMatrix * posq;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);

  // flip tangent to normal (it's already normalized)
  vec2 normal = vec2(-tangent.y, tangent.x);

  float thickness = aDirection.w * uStrokeWeight;
  vec2 offset = normal * thickness / 2.0;

  vec2 curPerspScale;

  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
}
`,lineFrag:`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;

void main() {
  gl_FragColor = uMaterialColor;
}`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
	float mask = 0.0;

	// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

	mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

	// if strokeWeight is 1 or less lets just draw a square
	// this prevents weird artifacting from carving circles when our points are really small
	// if strokeWeight is larger than 1, we just use it as is

	mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

	// throw away the borders of the mask
    // otherwise we get weird alpha blending issues

	if(mask > 0.98){
      discard;
  	}

  	gl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;
}`};r.default.RendererGL=function(c,y,w,x){return r.default.Renderer.call(this,c,y,w),this._setAttributeDefaults(y),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=p.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=p.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new r.default.Matrix,this.uPMatrix=new r.default.Matrix,this.uNMatrix=new r.default.Matrix("mat3"),this._currentNormal=new r.default.Vector(0,0,1),this._curCamera=new r.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new r.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new r.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new r.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new r.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new r.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new r.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new r.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new r.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new r.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new r.default.Geometry,shapeMode:p.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new r.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new r.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new r.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new r.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new r.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new r.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new r.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=p.IMAGE,this.textureWrapX=p.CLAMP,this.textureWrapY=p.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},r.default.RendererGL.prototype=Object.create(r.default.Renderer.prototype),r.default.RendererGL.prototype._setAttributeDefaults=function(c){var y={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};c._glAttributes===null?c._glAttributes=y:c._glAttributes=Object.assign(y,c._glAttributes)},r.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var c=this.drawingContext;c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL),c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(y){throw y}},r.default.RendererGL.prototype._resetContext=function(c,y){var w=this.width,x=this.height,S=this.canvas.id,E=this._pInst instanceof r.default.Graphics;if(E){var C=this._pInst;C.canvas.parentNode.removeChild(C.canvas),C.canvas=document.createElement("canvas"),(C._pInst._userNode||document.body).appendChild(C.canvas),r.default.Element.call(C,C.canvas,C._pInst),C.width=w,C.height=x}else{var A=this.canvas;A&&A.parentNode.removeChild(A),(A=document.createElement("canvas")).id=S,this._pInst._userNode?this._pInst._userNode.appendChild(A):document.body.appendChild(A),this._pInst.canvas=A}var O=new r.default.RendererGL(this._pInst.canvas,this._pInst,!E);this._pInst._setProperty("_renderer",O),O.resize(w,x),O._applyDefaults(),E||this._pInst._elements.push(O),typeof y=="function"&&setTimeout(function(){y.apply(window._renderer,c)},0)},r.default.prototype.setAttributes=function(c,y){if(this._glAttributes!==void 0){var w=!0;if(y!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[c]!==y&&(this._glAttributes[c]=y,w=!1)):c instanceof Object&&this._glAttributes!==c&&(this._glAttributes=c,w=!1),this._renderer.isP3D&&!w){if(!this._setupDone){for(var x in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(x))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},r.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},r.default.RendererGL.prototype.background=function(){var c,y=(c=this._pInst).color.apply(c,arguments),w=y.levels[0]/255,x=y.levels[1]/255,S=y.levels[2]/255,E=y.levels[3]/255;this.GL.clearColor(w,x,S,E),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},r.default.RendererGL.prototype.fill=function(c,y,w,x){var S=r.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=S._array,this.drawMode=p.FILL,this._useNormalMaterial=!1,this._tex=null},r.default.RendererGL.prototype.stroke=function(c,y,w,x){arguments[3]=255;var S=r.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=S._array},r.default.RendererGL.prototype.strokeCap=function(c){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},r.default.RendererGL.prototype.strokeJoin=function(c){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},r.default.RendererGL.prototype.filter=function(c){console.error("filter() does not work in WEBGL mode")},r.default.RendererGL.prototype.blendMode=function(c){c===p.DARKEST||c===p.LIGHTEST||c===p.ADD||c===p.BLEND||c===p.SUBTRACT||c===p.SCREEN||c===p.EXCLUSION||c===p.REPLACE||c===p.MULTIPLY||c===p.REMOVE?this.curBlendMode=c:c!==p.BURN&&c!==p.OVERLAY&&c!==p.HARD_LIGHT&&c!==p.SOFT_LIGHT&&c!==p.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},r.default.RendererGL.prototype.erase=function(c,y){this._isErasing||(this._applyBlendMode(p.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,c/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,y/255])},r.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},r.default.RendererGL.prototype.strokeWeight=function(c){this.curStrokeWeight!==c&&(this.pointSize=c,this.curStrokeWeight=c)},r.default.RendererGL.prototype._getPixel=function(c,y){var w;return w=new Uint8Array(4),this.drawingContext.readPixels(c,y,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,w),[w[0],w[1],w[2],w[3]]},r.default.RendererGL.prototype.loadPixels=function(){var c=this._pixelsState;if(this._pInst._glAttributes.preserveDrawingBuffer===!0){var y=c.pixels,w=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;y instanceof Uint8Array&&y.length===w||(y=new Uint8Array(w),this._pixelsState._setProperty("pixels",y));var x=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*x,this.height*x,this.GL.RGBA,this.GL.UNSIGNED_BYTE,y)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},r.default.RendererGL.prototype.geometryInHash=function(c){return this.retainedMode.geometry[c]!==void 0},r.default.RendererGL.prototype.resize=function(c,y){r.default.Renderer.prototype.resize.call(this,c,y),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var w=this._pixelsState;w.pixels!==void 0&&w._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},r.default.RendererGL.prototype.clear=function(){var c=(arguments.length<=0?void 0:arguments[0])||0,y=(arguments.length<=1?void 0:arguments[1])||0,w=(arguments.length<=2?void 0:arguments[2])||0,x=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(c,y,w,x),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},r.default.RendererGL.prototype.applyMatrix=function(c,y,w,x,S,E){arguments.length===16?r.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([c,y,0,0,w,x,0,0,0,0,1,0,S,E,0,1])},r.default.RendererGL.prototype.translate=function(c,y,w){return c instanceof r.default.Vector&&(w=c.z,y=c.y,c=c.x),this.uMVMatrix.translate([c,y,w]),this},r.default.RendererGL.prototype.scale=function(c,y,w){return this.uMVMatrix.scale(c,y,w),this},r.default.RendererGL.prototype.rotate=function(c,y){return y===void 0?this.rotateZ(c):(r.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},r.default.RendererGL.prototype.rotateX=function(c){return this.rotate(c,1,0,0),this},r.default.RendererGL.prototype.rotateY=function(c){return this.rotate(c,0,1,0),this},r.default.RendererGL.prototype.rotateZ=function(c){return this.rotate(c,0,0,1),this},r.default.RendererGL.prototype.push=function(){var c=r.default.Renderer.prototype.push.apply(this),y=c.properties;return y.uMVMatrix=this.uMVMatrix.copy(),y.uPMatrix=this.uPMatrix.copy(),y._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),y.ambientLightColors=this.ambientLightColors.slice(),y.specularColors=this.specularColors.slice(),y.directionalLightDirections=this.directionalLightDirections.slice(),y.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),y.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),y.pointLightPositions=this.pointLightPositions.slice(),y.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),y.pointLightSpecularColors=this.pointLightSpecularColors.slice(),y.spotLightPositions=this.spotLightPositions.slice(),y.spotLightDirections=this.spotLightDirections.slice(),y.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),y.spotLightSpecularColors=this.spotLightSpecularColors.slice(),y.spotLightAngle=this.spotLightAngle.slice(),y.spotLightConc=this.spotLightConc.slice(),y.userFillShader=this.userFillShader,y.userStrokeShader=this.userStrokeShader,y.userPointShader=this.userPointShader,y.pointSize=this.pointSize,y.curStrokeWeight=this.curStrokeWeight,y.curStrokeColor=this.curStrokeColor,y.curFillColor=this.curFillColor,y._useSpecularMaterial=this._useSpecularMaterial,y._useEmissiveMaterial=this._useEmissiveMaterial,y._useShininess=this._useShininess,y.constantAttenuation=this.constantAttenuation,y.linearAttenuation=this.linearAttenuation,y.quadraticAttenuation=this.quadraticAttenuation,y._enableLighting=this._enableLighting,y._useNormalMaterial=this._useNormalMaterial,y._tex=this._tex,y.drawMode=this.drawMode,y._currentNormal=this._currentNormal,c},r.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=r.default.Matrix.identity(this._pInst),this},r.default.RendererGL.prototype._getImmediateStrokeShader=function(){var c=this.userStrokeShader;return c&&c.isStrokeShader()?c:this._getLineShader()},r.default.RendererGL.prototype._getRetainedStrokeShader=r.default.RendererGL.prototype._getImmediateStrokeShader,r.default.RendererGL.prototype._getImmediateFillShader=function(){var c=this.userFillShader;if(this._useNormalMaterial&&(!c||!c.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!c||!c.isLightShader())return this._getLightShader()}else if(this._tex){if(!c||!c.isTextureShader())return this._getLightShader()}else if(!c)return this._getImmediateModeShader();return c},r.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var c=this.userFillShader;if(this._enableLighting){if(!c||!c.isLightShader())return this._getLightShader()}else if(this._tex){if(!c||!c.isTextureShader())return this._getLightShader()}else if(!c)return this._getColorShader();return c},r.default.RendererGL.prototype._getImmediatePointShader=function(){var c=this.userPointShader;return c&&c.isPointShader()?c:this._getPointShader()},r.default.RendererGL.prototype._getRetainedLineShader=r.default.RendererGL.prototype._getImmediateLineShader,r.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new r.default.Shader(this,a.phongVert,a.phongFrag):this._defaultLightShader=new r.default.Shader(this,a.lightVert,a.lightTextureFrag)),this._defaultLightShader},r.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new r.default.Shader(this,a.immediateVert,a.vertexColorFrag)),this._defaultImmediateModeShader},r.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new r.default.Shader(this,a.normalVert,a.normalFrag)),this._defaultNormalShader},r.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new r.default.Shader(this,a.normalVert,a.basicFrag)),this._defaultColorShader},r.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new r.default.Shader(this,a.pointVert,a.pointFrag)),this._defaultPointShader},r.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new r.default.Shader(this,a.lineVert,a.lineFrag)),this._defaultLineShader},r.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new r.default.Shader(this,a.fontVert,a.fontFrag)),this._defaultFontShader},r.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var c=new r.default.Image(1,1);c.set(0,0,255),this._emptyTexture=new r.default.Texture(this,c)}return this._emptyTexture},r.default.RendererGL.prototype.getTexture=function(c){var y=this.textures,w=!0,x=!1,S=void 0;try{for(var E,C=y[Symbol.iterator]();!(w=(E=C.next()).done);w=!0){var A=E.value;if(A.src===c)return A}}catch(I){x=!0,S=I}finally{try{w||C.return==null||C.return()}finally{if(x)throw S}}var O=new r.default.Texture(this,c);return y.push(O),O},r.default.RendererGL.prototype._setStrokeUniforms=function(c){c.bindShader(),c.setUniform("uMaterialColor",this.curStrokeColor),c.setUniform("uStrokeWeight",this.curStrokeWeight)},r.default.RendererGL.prototype._setFillUniforms=function(c){c.bindShader(),c.setUniform("uMaterialColor",this.curFillColor),c.setUniform("isTexture",!!this._tex),this._tex&&c.setUniform("uSampler",this._tex),c.setUniform("uTint",this._tint),c.setUniform("uSpecular",this._useSpecularMaterial),c.setUniform("uEmissive",this._useEmissiveMaterial),c.setUniform("uShininess",this._useShininess),c.setUniform("uUseLighting",this._enableLighting);var y=this.pointLightDiffuseColors.length/3;c.setUniform("uPointLightCount",y),c.setUniform("uPointLightLocation",this.pointLightPositions),c.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),c.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var w=this.directionalLightDiffuseColors.length/3;c.setUniform("uDirectionalLightCount",w),c.setUniform("uLightingDirection",this.directionalLightDirections),c.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),c.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var x=this.ambientLightColors.length/3;c.setUniform("uAmbientLightCount",x),c.setUniform("uAmbientColor",this.ambientLightColors);var S=this.spotLightDiffuseColors.length/3;c.setUniform("uSpotLightCount",S),c.setUniform("uSpotLightAngle",this.spotLightAngle),c.setUniform("uSpotLightConc",this.spotLightConc),c.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),c.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),c.setUniform("uSpotLightLocation",this.spotLightPositions),c.setUniform("uSpotLightDirection",this.spotLightDirections),c.setUniform("uConstantAttenuation",this.constantAttenuation),c.setUniform("uLinearAttenuation",this.linearAttenuation),c.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),c.bindTextures()},r.default.RendererGL.prototype._setPointUniforms=function(c){c.bindShader(),c.setUniform("uMaterialColor",this.curStrokeColor),c.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},r.default.RendererGL.prototype._bindBuffer=function(c,y,w,x,S){if(y=y||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(y,c),w!==void 0){var E=new(x||Float32Array)(w);this.GL.bufferData(y,E,S||this.GL.STATIC_DRAW)}},r.default.RendererGL.prototype._arraysEqual=function(c,y){var w=c.length;if(w!==y.length)return!1;for(var x=0;x<w;x++)if(c[x]!==y[x])return!1;return!0},r.default.RendererGL.prototype._isTypedArray=function(c){return c instanceof Uint32Array},r.default.RendererGL.prototype._flatten=function(c){if(c.length===0)return[];if(2e4<c.length){var y,w=Object.prototype.toString,x=[],S=c.slice();for(y=S.pop();w.call(y)==="[object Array]"?S.push.apply(S,i(y)):x.push(y),S.length&&(y=S.pop())!==void 0;);return x.reverse(),x}var E;return(E=[]).concat.apply(E,i(c))},r.default.RendererGL.prototype._vToNArray=function(c){var y=[],w=!0,x=!1,S=void 0;try{for(var E,C=c[Symbol.iterator]();!(w=(E=C.next()).done);w=!0){var A=E.value;y.push(A.x,A.y,A.z)}}catch(O){x=!0,S=O}finally{try{w||C.return==null||C.return()}finally{if(x)throw S}}return y},r.default.prototype._assert3d=function(c){if(!this._renderer.isP3D)throw new Error("".concat(c,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},r.default.RendererGL.prototype._initTessy=function(){var c=new f.default.GluTesselator;return c.gluTessCallback(f.default.gluEnum.GLU_TESS_VERTEX_DATA,function(y,w){w[w.length]=y[0],w[w.length]=y[1],w[w.length]=y[2]}),c.gluTessCallback(f.default.gluEnum.GLU_TESS_BEGIN,function(y){y!==f.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(y))}),c.gluTessCallback(f.default.gluEnum.GLU_TESS_ERROR,function(y){console.log("error callback"),console.log("error number: ".concat(y))}),c.gluTessCallback(f.default.gluEnum.GLU_TESS_COMBINE,function(y,w,x){return[y[0],y[1],y[2]]}),c.gluTessCallback(f.default.gluEnum.GLU_TESS_EDGE_FLAG,function(y){}),c},r.default.RendererGL.prototype._triangulate=function(c){this._tessy.gluTessNormal(0,0,1);var y=[];this._tessy.gluTessBeginPolygon(y);for(var w=0;w<c.length;w++){this._tessy.gluTessBeginContour();for(var x=c[w],S=0;S<x.length;S+=3){var E=[x[S],x[S+1],x[S+2]];this._tessy.gluTessVertex(E,E)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),y},r.default.RendererGL.prototype._bezierCoefficients=function(c){var y=c*c,w=1-c,x=w*w;return[x*w,3*x*c,3*w*y,y*c]},r.default.RendererGL.prototype._quadraticCoefficients=function(c){var y=1-c;return[y*y,2*y*c,c*c]},r.default.RendererGL.prototype._bezierToCatmull=function(c){return[c[1],c[1]+(c[2]-c[0])/this._curveTightness,c[2]-(c[3]-c[1])/this._curveTightness,c[2]]};var l=r.default.RendererGL;d.default=l},{"../core/constants":253,"../core/main":264,"../core/p5.Renderer":267,"./p5.Camera":312,"./p5.Matrix":314,"./p5.Shader":319,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":151,"core-js/modules/es.array.filter":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":229,libtess:237,path:240}],319:[function(e,u,d){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var h,r=(h=e("../core/main"))&&h.__esModule?h:{default:h};r.default.Shader=function(f,g,m){this._renderer=f,this._vertSrc=g,this._fragSrc=m,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},r.default.Shader.prototype.init=function(){if(this._glProgram===0){var f=this._renderer.GL;if(this._vertShader=f.createShader(f.VERTEX_SHADER),f.shaderSource(this._vertShader,this._vertSrc),f.compileShader(this._vertShader),!f.getShaderParameter(this._vertShader,f.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(f.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=f.createShader(f.FRAGMENT_SHADER),f.shaderSource(this._fragShader,this._fragSrc),f.compileShader(this._fragShader),!f.getShaderParameter(this._fragShader,f.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(f.getShaderInfoLog(this._fragShader))),null;this._glProgram=f.createProgram(),f.attachShader(this._glProgram,this._vertShader),f.attachShader(this._glProgram,this._fragShader),f.linkProgram(this._glProgram),f.getProgramParameter(this._glProgram,f.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(f.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},r.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var f=this._renderer.GL,g=f.getProgramParameter(this._glProgram,f.ACTIVE_ATTRIBUTES),m=0;m<g;++m){var i=f.getActiveAttrib(this._glProgram,m),o=i.name,a=f.getAttribLocation(this._glProgram,o),l={};l.name=o,l.location=a,l.index=m,l.type=i.type,l.size=i.size,this.attributes[o]=l}this._loadedAttributes=!0}},r.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var f=this._renderer.GL,g=f.getProgramParameter(this._glProgram,f.ACTIVE_UNIFORMS),m=0,i=0;i<g;++i){var o=f.getActiveUniform(this._glProgram,i),a={};a.location=f.getUniformLocation(this._glProgram,o.name),a.size=o.size;var l=o.name;1<o.size&&(l=l.substring(0,l.indexOf("[0]"))),a.name=l,a.type=o.type,a._cachedData=void 0,a.type===f.SAMPLER_2D&&(a.samplerIndex=m,m++,this.samplers.push(a)),a.isArray=1<o.size||a.type===f.FLOAT_MAT3||a.type===f.FLOAT_MAT4||a.type===f.FLOAT_VEC2||a.type===f.FLOAT_VEC3||a.type===f.FLOAT_VEC4||a.type===f.INT_VEC2||a.type===f.INT_VEC4||a.type===f.INT_VEC3,this.uniforms[l]=a}this._loadedUniforms=!0}},r.default.Shader.prototype.compile=function(){},r.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},r.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},r.default.Shader.prototype.bindTextures=function(){var f=this._renderer.GL,g=!0,m=!1,i=void 0;try{for(var o,a=this.samplers[Symbol.iterator]();!(g=(o=a.next()).done);g=!0){var l=o.value,c=l.texture;c===void 0&&(c=this._renderer._getEmptyTexture()),f.activeTexture(f.TEXTURE0+l.samplerIndex),c.bindTexture(),c.update(),f.uniform1i(l.location,l.samplerIndex)}}catch(y){m=!0,i=y}finally{try{g||a.return==null||a.return()}finally{if(m)throw i}}},r.default.Shader.prototype.updateTextures=function(){var f=!0,g=!1,m=void 0;try{for(var i,o=this.samplers[Symbol.iterator]();!(f=(i=o.next()).done);f=!0){var a=i.value.texture;a&&a.update()}}catch(l){g=!0,m=l}finally{try{f||o.return==null||o.return()}finally{if(g)throw m}}},r.default.Shader.prototype.unbindTextures=function(){},r.default.Shader.prototype._setMatrixUniforms=function(){var f=this._renderer._curCamera.cameraMatrix,g=this._renderer.uPMatrix,m=this._renderer.uMVMatrix,i=m.copy();i.mult(g),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",f.mat4),this.setUniform("uProjectionMatrix",g.mat4),this.setUniform("uModelViewMatrix",m.mat4),this.setUniform("uModelViewProjectionMatrix",i.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},r.default.Shader.prototype.useProgram=function(){var f=this._renderer.GL;return this._renderer._curShader!==this&&(f.useProgram(this._glProgram),this._renderer._curShader=this),this},r.default.Shader.prototype.setUniform=function(f,g){var m=this.uniforms[f];if(m){var i=this._renderer.GL;if(m.isArray){if(m._cachedData&&this._renderer._arraysEqual(m._cachedData,g))return;m._cachedData=g.slice(0)}else{if(m._cachedData&&m._cachedData===g)return;Array.isArray(g)?m._cachedData=g.slice(0):m._cachedData=g}var o=m.location;switch(this.useProgram(),m.type){case i.BOOL:g===!0?i.uniform1i(o,1):i.uniform1i(o,0);break;case i.INT:1<m.size?g.length&&i.uniform1iv(o,g):i.uniform1i(o,g);break;case i.FLOAT:1<m.size?g.length&&i.uniform1fv(o,g):i.uniform1f(o,g);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(o,!1,g);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(o,!1,g);break;case i.FLOAT_VEC2:1<m.size?g.length&&i.uniform2fv(o,g):i.uniform2f(o,g[0],g[1]);break;case i.FLOAT_VEC3:1<m.size?g.length&&i.uniform3fv(o,g):i.uniform3f(o,g[0],g[1],g[2]);break;case i.FLOAT_VEC4:1<m.size?g.length&&i.uniform4fv(o,g):i.uniform4f(o,g[0],g[1],g[2],g[3]);break;case i.INT_VEC2:1<m.size?g.length&&i.uniform2iv(o,g):i.uniform2i(o,g[0],g[1]);break;case i.INT_VEC3:1<m.size?g.length&&i.uniform3iv(o,g):i.uniform3i(o,g[0],g[1],g[2]);break;case i.INT_VEC4:1<m.size?g.length&&i.uniform4iv(o,g):i.uniform4i(o,g[0],g[1],g[2],g[3]);break;case i.SAMPLER_2D:i.activeTexture(i.TEXTURE0+m.samplerIndex),m.texture=g instanceof r.default.Texture?g:this._renderer.getTexture(g),i.uniform1i(o,m.samplerIndex)}return this}},r.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},r.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},r.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},r.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},r.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},r.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},r.default.Shader.prototype.enableAttrib=function(f,g,m,i,o,a){if(f){var l=f.location;if(l!==-1){var c=this._renderer.GL;f.enabled||(c.enableVertexAttribArray(l),f.enabled=!0),this._renderer.GL.vertexAttribPointer(l,g,m||c.FLOAT,i||!1,o||0,a||0)}}return this};var p=r.default.Shader;d.default=p},{"../core/main":264,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":166,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}],320:[function(e,u,d){function h(i){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var o=g();if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in i)if(Object.prototype.hasOwnProperty.call(i,c)){var y=l?Object.getOwnPropertyDescriptor(i,c):null;y&&(y.get||y.set)?Object.defineProperty(a,c,y):a[c]=i[c]}return a.default=i,o&&o.set(i,a),a}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return g=function(){return i},i}p.default.Texture=function(i,o,a){this._renderer=i;var l=this._renderer.GL;(a=a||{}).dataType===l.FLOAT&&(l.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),l.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=o,this.glTex=void 0,this.glTarget=l.TEXTURE_2D,this.glFormat=a.format||l.RGBA,this.mipmaps=!1,this.glMinFilter=a.minFilter||l.LINEAR,this.glMagFilter=a.magFilter||l.LINEAR,this.glWrapS=a.wrapS||l.CLAMP_TO_EDGE,this.glWrapT=a.wrapT||l.CLAMP_TO_EDGE,this.glDataType=a.dataType||l.UNSIGNED_BYTE,this.isSrcMediaElement=p.default.MediaElement!==void 0&&o instanceof p.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=p.default.Element!==void 0&&o instanceof p.default.Element&&!(o instanceof p.default.Graphics),this.isSrcP5Image=o instanceof p.default.Image,this.isSrcP5Graphics=o instanceof p.default.Graphics,this.isImageData=typeof ImageData<"u"&&o instanceof ImageData;var c=this._getTextureDataFromSource();return this.width=c.width,this.height=c.height,this.init(c),this},p.default.Texture.prototype._getTextureDataFromSource=function(){var i;return this.isSrcP5Image?i=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?i=this.src.elt:this.isImageData&&(i=this.src),i},p.default.Texture.prototype.init=function(i){var o=this._renderer.GL;if(this.glTex=o.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,this.glMagFilter),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){var a=new Uint8Array([1,1,1,1]);o.texImage2D(this.glTarget,0,o.RGBA,1,1,0,this.glFormat,this.glDataType,a)}else o.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,i)},p.default.Texture.prototype.update=function(){var i=this.src;if(i.width===0||i.height===0)return!1;var o=this._getTextureDataFromSource(),a=!1,l=this._renderer.GL;return o.width!==this.width||o.height!==this.height?(a=!0,this.width=o.width,this.height=o.height,this.isSrcP5Image?i.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&i.setModified(!0)):this.isSrcP5Image?i.isModified()&&(a=!0,i.setModified(!1)):this.isSrcMediaElement?i.isModified()?(a=!0,i.setModified(!1)):i.loadedmetadata&&this._videoPrevUpdateTime!==i.time()&&(this._videoPrevUpdateTime=i.time(),a=!0):this.isImageData?i._dirty&&(a=!(i._dirty=!1)):a=!0,a&&(this.bindTexture(),l.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,o)),a},p.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},p.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},p.default.Texture.prototype.setInterpolation=function(i,o){var a=this._renderer.GL;i===f.NEAREST?this.glMinFilter=a.NEAREST:this.glMinFilter=a.LINEAR,o===f.NEAREST?this.glMagFilter=a.NEAREST:this.glMagFilter=a.LINEAR,this.bindTexture(),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.glMinFilter),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},p.default.Texture.prototype.setWrapMode=function(i,o){function a(w){return(w&w-1)==0}var l=this._renderer.GL,c=a(this.width),y=a(this.height);i===f.REPEAT?c&&y?this.glWrapS=l.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=l.CLAMP_TO_EDGE):i===f.MIRROR?c&&y?this.glWrapS=l.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=l.CLAMP_TO_EDGE):this.glWrapS=l.CLAMP_TO_EDGE,o===f.REPEAT?c&&y?this.glWrapT=l.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=l.CLAMP_TO_EDGE):o===f.MIRROR?c&&y?this.glWrapT=l.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=l.CLAMP_TO_EDGE):this.glWrapT=l.CLAMP_TO_EDGE,this.bindTexture(),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,this.glWrapS),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var m=p.default.Texture;d.default=m},{"../core/constants":253,"../core/main":264,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],321:[function(e,u,d){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var r,p=(r=e("../core/main"))&&r.__esModule?r:{default:r},f=function(l){if(l&&l.__esModule)return l;if(l===null||h(l)!=="object"&&typeof l!="function")return{default:l};var c=g();if(c&&c.has(l))return c.get(l);var y={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in l)if(Object.prototype.hasOwnProperty.call(l,x)){var S=w?Object.getOwnPropertyDescriptor(l,x):null;S&&(S.get||S.set)?Object.defineProperty(y,x,S):y[x]=l[x]}return y.default=l,c&&c.set(l,y),y}(e("../core/constants"));function g(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return g=function(){return l},l}e("./p5.Shader"),e("./p5.RendererGL.Retained"),p.default.RendererGL.prototype._applyTextProperties=function(){},p.default.RendererGL.prototype.textWidth=function(l){return this._isOpenType()?this._textFont._textWidth(l,this._textSize):0};function m(l,c){this.width=l,this.height=c,this.infos=[],this.findImage=function(y){var w,x,S=this.width*this.height;if(S<y)throw new Error("font is too complex to render in 3D");for(var E=this.infos.length-1;0<=E;--E){var C=this.infos[E];if(C.index+y<S){x=(w=C).imageData;break}}if(!w){try{x=new ImageData(this.width,this.height)}catch{var A=document.getElementsByTagName("canvas")[0],O=!A;A||((A=document.createElement("canvas")).style.display="none",document.body.appendChild(A));var I=A.getContext("2d");I&&(x=I.createImageData(this.width,this.height)),O&&document.body.removeChild(A)}w={index:0,imageData:x},this.infos.push(w)}var R=w.index;return w.index+=y,x._dirty=!0,{imageData:x,index:R}}}function i(l,c,y,w,x){var S=l.imageData.data,E=4*l.index++;S[E++]=c,S[E++]=y,S[E++]=w,S[E++]=x}function o(l){this.font=l,this.strokeImageInfos=new m(64,64),this.colDimImageInfos=new m(64,64),this.rowDimImageInfos=new m(64,64),this.colCellImageInfos=new m(64,64),this.rowCellImageInfos=new m(64,64),this.glyphInfos={},this.getGlyphInfo=function(c){var y=this.glyphInfos[c.index];if(y)return y;var w,x=c.getBoundingBox(),S=x.x1,E=x.y1,C=x.x2-S,A=x.y2-E,O=c.path.commands;if(C==0||A==0||!O.length)return this.glyphInfos[c.index]={};var I,R,L,N,D=[],H=[],z=[];for(w=8;0<=w;--w)z.push([]);for(w=8;0<=w;--w)H.push([]);function ae(he,Pe,Be){var Ne=D.length;function Le(Q,q,K){for(var de=Q.length;0<de--;){var Ee=Q[de];Ee<q&&(q=Ee),K<Ee&&(K=Ee)}return{min:q,max:K}}D.push(Be);for(var Ze=Le(he,1,0),Re=Math.max(Math.floor(9*Ze.min),0),Ae=Math.min(Math.ceil(9*Ze.max),9),qe=Re;qe<Ae;++qe)z[qe].push(Ne);for(var $e=Le(Pe,1,0),be=Math.max(Math.floor(9*$e.min),0),nt=Math.min(Math.ceil(9*$e.max),9),V=be;V<nt;++V)H[V].push(Ne)}function le(he){return(Pe=(Ne=255)*he)<(Be=0)?Be:Ne<Pe?Ne:Pe;var Pe,Be,Ne}function J(he,Pe,Be,Ne){this.p0=he,this.c0=Pe,this.c1=Be,this.p1=Ne,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return p.default.Vector.sub(p.default.Vector.sub(this.p1,this.p0),p.default.Vector.mult(p.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Le){var Ze=p.default.Vector.lerp(this.p0,this.c0,Le),Re=p.default.Vector.lerp(this.c0,this.c1,Le),Ae=p.default.Vector.lerp(Ze,Re,Le);this.c1=p.default.Vector.lerp(this.c1,this.p1,Le),this.c0=p.default.Vector.lerp(Re,this.c1,Le);var qe=p.default.Vector.lerp(Ae,this.c0,Le),$e=new J(this.p0,Ze,Ae,qe);return this.p0=qe,$e},this.splitInflections=function(){var Le=p.default.Vector.sub(this.c0,this.p0),Ze=p.default.Vector.sub(p.default.Vector.sub(this.c1,this.c0),Le),Re=p.default.Vector.sub(p.default.Vector.sub(p.default.Vector.sub(this.p1,this.c1),Le),p.default.Vector.mult(Ze,2)),Ae=[],qe=Ze.x*Re.y-Ze.y*Re.x;if(qe!==0){var $e=Le.x*Re.y-Le.y*Re.x,be=Le.x*Ze.y-Le.y*Ze.x,nt=$e*$e-4*qe*be;if(0<=nt){qe<0&&(qe=-qe,$e=-$e,be=-be);var V=Math.sqrt(nt),Q=(-$e-V)/(2*qe),q=(-$e+V)/(2*qe);0<Q&&Q<1&&(Ae.push(this.split(Q)),q=1-(1-q)/(1-Q)),0<q&&q<1&&Ae.push(this.split(q))}}return Ae.push(this),Ae}}function ue(he,Pe,Be,Ne,Le,Ze,Re,Ae){var qe=new J(new p.default.Vector(he,Pe),new p.default.Vector(Be,Ne),new p.default.Vector(Le,Ze),new p.default.Vector(Re,Ae)).splitInflections(),$e=[],be=30/a,nt=!0,V=!1,Q=void 0;try{for(var q,K=qe[Symbol.iterator]();!(nt=(q=K.next()).done);nt=!0){for(var de=q.value,Ee=[],ke=void 0;!(.125<=(ke=be/de.quadError()));){var We=Math.pow(ke,.3333333333333333),we=de.split(We),Qe=de.split(1-We/(1-We));$e.push(we),Ee.push(de),de=Qe}ke<1&&$e.push(de.split(.5)),$e.push(de),Array.prototype.push.apply($e,Ee.reverse())}}catch(lt){V=!0,Q=lt}finally{try{nt||K.return==null||K.return()}finally{if(V)throw Q}}return $e}function se(he,Pe,Be,Ne){ae([he,Be],[Pe,Ne],{x:he,y:Pe,cx:(he+Be)/2,cy:(Pe+Ne)/2})}function me(he,Pe,Be,Ne){return Math.abs(Be-he)<1e-5&&Math.abs(Ne-Pe)<1e-5}var xe=!0,Ce=!1,ve=void 0;try{for(var De,_e=O[Symbol.iterator]();!(xe=(De=_e.next()).done);xe=!0){var Se=De.value,P=(Se.x-S)/C,G=(Se.y-E)/A;if(!me(I,R,P,G)){switch(Se.type){case"M":L=P,N=G;break;case"L":se(I,R,P,G);break;case"Q":var X=(Se.x1-S)/C,ee=(Se.y1-E)/A;ae([I,P,X],[R,G,ee],{x:I,y:R,cx:X,cy:ee});break;case"Z":me(I,R,L,N)?D.push({x:I,y:R}):(se(I,R,L,N),D.push({x:L,y:N}));break;case"C":for(var B=ue(I,R,(Se.x1-S)/C,(Se.y1-E)/A,(Se.x2-S)/C,(Se.y2-E)/A,P,G),F=0;F<B.length;F++){var re=B[F].toQuadratic();ae([re.x,re.x1,re.cx],[re.y,re.y1,re.cy],re)}break;default:throw new Error("unknown command type: ".concat(Se.type))}I=P,R=G}}}catch(he){Ce=!0,ve=he}finally{try{xe||_e.return==null||_e.return()}finally{if(Ce)throw ve}}for(var $=D.length,ne=this.strokeImageInfos.findImage($),ie=ne.index,oe=0;oe<$;++oe){var pe=D[oe];i(ne,le(pe.x),le(pe.y),le(pe.cx),le(pe.cy))}function ge(he,Pe,Be){for(var Ne=he.length,Le=Pe.findImage(Ne),Ze=Le.index,Re=0,Ae=0;Ae<Ne;++Ae)Re+=he[Ae].length;for(var qe=Be.findImage(Re),$e=0;$e<Ne;++$e){var be=he[$e],nt=be.length,V=qe.index;i(Le,V>>7,127&V,nt>>7,127&nt);for(var Q=0;Q<nt;++Q){var q=be[Q]+ie;i(qe,q>>7,127&q,0,0)}}return{cellImageInfo:qe,dimOffset:Ze,dimImageInfo:Le}}return(y=this.glyphInfos[c.index]={glyph:c,uGlyphRect:[x.x1,-x.y1,x.x2,-x.y2],strokeImageInfo:ne,strokes:D,colInfo:ge(z,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ge(H,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[y.colInfo.dimOffset,y.rowInfo.dimOffset],y}}var a=Math.sqrt(3);p.default.RendererGL.prototype._renderText=function(l,c,y,w,x){if(this._textFont&&typeof this._textFont!="string"){if(!(x<=w)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported"),l;l.push();var S=this._doStroke,E=this.drawMode;this._doStroke=!1,this.drawMode=f.TEXTURE;var C=this._textFont.font,A=this._textFont._fontInfo;A=A||(this._textFont._fontInfo=new o(C));var O=this._textFont._handleAlignment(this,c,y,w),I=this._textSize/C.unitsPerEm;this.translate(O.x,O.y,0),this.scale(I,I,1);var R=this.GL,L=!this._defaultFontShader,N=this._getFontShader();N.init(),N.bindShader(),L&&(N.setUniform("uGridImageSize",[64,64]),N.setUniform("uCellsImageSize",[64,64]),N.setUniform("uStrokeImageSize",[64,64]),N.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var D=this.retainedMode.geometry.glyph;if(!D){var H=this._textGeom=new p.default.Geometry(1,1,function(){for(var B=0;B<=1;B++)for(var F=0;F<=1;F++)this.vertices.push(new p.default.Vector(F,B,0)),this.uvs.push(F,B)});H.computeFaces().computeNormals(),D=this.createBuffers("glyph",H)}var z=!0,ae=!1,le=void 0;try{for(var J,ue=this.retainedMode.buffers.text[Symbol.iterator]();!(z=(J=ue.next()).done);z=!0)J.value._prepareBuffer(D,N)}catch(B){ae=!0,le=B}finally{try{z||ue.return==null||ue.return()}finally{if(ae)throw le}}this._bindBuffer(D.indexBuffer,R.ELEMENT_ARRAY_BUFFER),N.setUniform("uMaterialColor",this.curFillColor);try{var se=0,me=null,xe=C.stringToGlyphs(c),Ce=!0,ve=!1,De=void 0;try{for(var _e,Se=xe[Symbol.iterator]();!(Ce=(_e=Se.next()).done);Ce=!0){var P=_e.value;me&&(se+=C.getKerningValue(me,P));var G=A.getGlyphInfo(P);if(G.uGlyphRect){var X=G.rowInfo,ee=G.colInfo;N.setUniform("uSamplerStrokes",G.strokeImageInfo.imageData),N.setUniform("uSamplerRowStrokes",X.cellImageInfo.imageData),N.setUniform("uSamplerRows",X.dimImageInfo.imageData),N.setUniform("uSamplerColStrokes",ee.cellImageInfo.imageData),N.setUniform("uSamplerCols",ee.dimImageInfo.imageData),N.setUniform("uGridOffset",G.uGridOffset),N.setUniform("uGlyphRect",G.uGlyphRect),N.setUniform("uGlyphOffset",se),N.bindTextures(),R.drawElements(R.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}se+=P.advanceWidth,me=P}}catch(B){ve=!0,De=B}finally{try{Ce||Se.return==null||Se.return()}finally{if(ve)throw De}}}finally{N.unbindShader(),this._doStroke=S,this.drawMode=E,l.pop()}return l}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":253,"../core/main":264,"./p5.RendererGL.Retained":317,"./p5.Shader":319,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":229}]},{},[248])(248)})})(V0);const ut=G0(Pa),_=new ut(s=>{}),He=_.windowWidth/80,dr=He*(2/3),yt=He/24,H0=13,W0=3/8,z0=1/2,q0=1,As=3600,ns=9999999999,ka=500,sc="0.0.1",qr=[255,0,0],Md=[200,0,0],Cl=[247,52,43],La=[153,117,112],vi=[217,33,33],Y0=[117,13,13],Ml=[0,255,0],Ad=[200,200,0],Rs=[144,238,144],X0=[3,192,74],$0=[74,176,150],K0=[255,145,164],Q0=[41,110,1],Rd=[152,208,35],Z0=[65,245,25],J0=[70,125,93],Od=[150,221,126],Da=[64,224,208],Pd=[0,0,255],ic=[50,148,235],Os=[163,214,251],Al=[14,135,204],kd=[11,11,69],Ld=[76,80,169],em=[0,90,156],tm=[192,192,195],os=[152,118,82],Kn=[64,224,208],Ar=[255,255,255],Ut=[0,0,0],rm=[15,15,15],Ii=[10,10,10],Dd=[20,20,20],Id=[55,55,55],Bi=[100,100,100],Bd=[120,120,120],Nd=[90,90,90],Rl=[150,150,150],nm=[255,255,0],om=[255,191,0],Ps=[255,223,0],Xo=[255,217,61],ks=[255,179,0],sm=[216,187,93],_n=[255,150,45],bi=[255,69,0],$o=[251,139,35],Fd=[197,177,160],im=[105,98,79],am=[101,67,33],lm=[248,24,148],ss=[200,0,200],wi=[100,0,100],um=[60,0,60],Ol=[177,156,217],cm=[177,156,217,155];var bt=(s=>(s[s.EMPTY=0]="EMPTY",s[s.HILL=1]="HILL",s[s.UNSTABLE=2]="UNSTABLE",s[s.WALL=3]="WALL",s[s.WATER=4]="WATER",s[s.LAVA=5]="LAVA",s[s.SPAWN=6]="SPAWN",s[s.BASE=7]="BASE",s[s.TELEPORTER_ONE=8]="TELEPORTER_ONE",s[s.TELEPORTER_TWO=9]="TELEPORTER_TWO",s))(bt||{});const dm={name:"Empty",description:"An empty tile",hotkey:"e",keycode:69,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Os},hm={name:"Hill",description:"A slightly elevated tile",hotkey:"h",keycode:72,canTower:!0,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:os},fm={name:"Unstable",description:"An unstable tile",hotkey:"u",keycode:85,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Fd},pm={name:"Wall",description:"A wall tile",hotkey:"w",keycode:87,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:Id},mm={name:"Water",description:"A water tile",hotkey:"a",keycode:65,canTower:!1,canWaterTower:!0,canLavaTower:!1,canUnit:!1,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Al},gm={name:"Lava",description:"A lava tile",hotkey:"l",keycode:76,canTower:!1,canWaterTower:!1,canLavaTower:!0,canUnit:!1,canWaterUnit:!1,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!1,teleporterType:0,rgb:Cl},ym={name:"Spawn",description:"An enemy spawn point",hotkey:"s",keycode:83,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!0,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:qr},vm={name:"Base",description:"A Maou base to be protected",hotkey:"b",keycode:66,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!0,isSpawn:!1,buildInOuterRing:!0,isTeleporter:!1,teleporterType:0,rgb:ss},bm={name:"Teleporter Type One",description:"A teleporter connected to all other teleporters of the same type",hotkey:"t",keycode:84,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:1,rgb:X0},wm={name:"Teleporter Type Two",description:"A teleporter connected to all other teleporters of the same type",hotkey:"y",keycode:89,canTower:!1,canWaterTower:!1,canLavaTower:!1,canUnit:!0,canWaterUnit:!0,isBase:!1,isSpawn:!1,buildInOuterRing:!1,isTeleporter:!0,teleporterType:2,rgb:K0},eo={[0]:dm,[1]:hm,[2]:fm,[3]:pm,[4]:mm,[5]:gm,[6]:ym,[7]:vm,[8]:bm,[9]:wm},cr=(s,n,t,e=!1,u=_)=>{const d=e?0:30;u.beginShape();for(let h=0;h<6;h++){const r=u.PI/180*(d+h*60),p=s+u.cos(r)*t,f=n+u.sin(r)*t;u.vertex(p,f)}u.endShape(u.CLOSE)},xm=(s,n,t,e,u,d=!1,h=_)=>{let r=d?-h.TWO_PI/3:-h.PI/2,p=s+h.cos(r)*t,f=n+h.sin(r)*t;h.beginShape();for(let i=0;i<=e;i++)p=s+h.cos(r)*t,f=n+h.sin(r)*t,h.vertex(p,f),r+=h.PI/3;h.endShape();const g=s+h.cos(r)*t,m=n+h.sin(r)*t;h.line(p,f,_.lerp(p,g,u),_.lerp(f,m,u))},_m=3,No=(s,n,t=_m)=>{_.push();const e=s.x+n.x,u=s.y+n.y,d=n.heading(),h=n.mag(),r=ut.Vector.fromAngle(d-_.PI/4),p=ut.Vector.fromAngle(d+_.PI/4);r.mult(-(h/3)),p.mult(-(h/3)),_.strokeWeight(t),_.line(s.x,s.y,e,u),_.line(e,u,e+r.x,u+r.y),_.line(e,u,e+p.x,u+p.y),_.pop()};class Ls{constructor(n,t,e,u,d,h={}){W(this,"pos");W(this,"r");W(this,"q");W(this,"size");W(this,"collisionRadius");W(this,"vertices");W(this,"color");W(this,"wall");W(this,"canTower");W(this,"canWaterTower");W(this,"canLavaTower");W(this,"canUnit");W(this,"canWaterUnit");W(this,"isTower");W(this,"isSpawn");W(this,"isTeleporter");W(this,"teleporterType");W(this,"type");W(this,"data");W(this,"buffs");W(this,"timedBuffs");W(this,"appliedEffects");this.pos=_.createVector(n,t),this.r=e,this.q=u,this.size=d,this.collisionRadius=d*(2+_.sqrt(3))/4,this.vertices=[],this.color=h.color?_.color(h.color.levels):_.color(Os),this.wall=h.wall??!1,this.canTower=h.canTower??!0,this.canWaterTower=h.canWaterTower??!1,this.canLavaTower=h.canLavaTower??!1,this.canUnit=h.canUnit??!0,this.canWaterUnit=h.canWaterUnit??!0,this.isSpawn=h.isSpawn??!1,this.isTower=h.isTower??!1,this.isTeleporter=h.isTeleporter??!1,this.teleporterType=h.teleporterType??0,this.type=h.type??Fo.EMPTY,this.buffs=[],this.timedBuffs=[],this.appliedEffects={},this.data=h.data??{}}show(n=this.pos){_.push(),_.fill(this.color),_.stroke(10),_.strokeWeight(1),cr(n.x,n.y,this.size),_.pop()}showDebug(){if(_.push(),_.strokeWeight(3),this.data.floodPathVector&&(_.stroke(0,0,255),No(this.pos,this.data.floodPathVector.copy().mult(.3))),this.data.floodNext&&(_.stroke(255,0,255),_.line(this.pos.x,this.pos.y,this.data.floodNext.pos.x,this.data.floodNext.pos.y),No(this.pos,this.data.floodPathVector.copy().mult(.4))),this.data["scout-1-vector"]&&(_.stroke(0,255,255),No(this.pos,this.data["scout-1-vector"].copy().mult(.3))),this.data["scout-1-prev"]){const n=ut.Vector.sub(_.createVector(this.data["scout-1-prev"].pos.x,this.data["scout-1-prev"].pos.y),_.createVector(this.pos.x,this.pos.y));_.stroke(255,0,0),No(this.pos,n.copy().mult(.3))}_.pop()}preCalculateVertices(n=!1){const t=n?0:30;for(let e=0;e<6;e++){const u=_.PI/180*(t+e*60),d=this.pos.x+_.cos(u)*this.size,h=this.pos.y+_.sin(u)*this.size;this.vertices.push(_.createVector(d,h))}}applyBuff(n){this.buffs.push(n)}removeBuff(n){for(let t=0;t<this.buffs.length;t++)if(this.buffs[t].id===n){this.buffs.splice(t,1);return}}onCollision(){return null}}class Sm extends Ls{constructor(t,e,u,d,h,r,p={}){super(t,e,u,d,h,{color:_.color(ss),...p});W(this,"maxHp");W(this,"hp");this.maxHp=r,this.hp=r}show(){_.push(),_.stroke(10),_.strokeWeight(2),_.fill(this.color),cr(this.pos.x,this.pos.y,this.size),cr(this.pos.x,this.pos.y,this.size-5),cr(this.pos.x,this.pos.y,this.size-10),_.pop()}update(){return!0}}var Fo=(s=>(s[s.EMPTY=0]="EMPTY",s[s.HILL=1]="HILL",s[s.UNSTABLE=2]="UNSTABLE",s[s.WALL=3]="WALL",s[s.WATER=4]="WATER",s[s.LAVA=5]="LAVA",s[s.SPAWN=6]="SPAWN",s[s.BASE=7]="BASE",s))(Fo||{});class jm{constructor(n,t,e,u,d={}){W(this,"seed");W(this,"midPos");W(this,"rings");W(this,"maxR");W(this,"maxQ");W(this,"midR");W(this,"midQ");W(this,"minR");W(this,"minQ");W(this,"hexSize");W(this,"xDiff");W(this,"yDiff");W(this,"wallRing");W(this,"grid");W(this,"tileTypeColors",{[0]:_.color(Os),[1]:_.color(os),[2]:_.color(Fd),[3]:_.color(Id),[4]:_.color(Al),[5]:_.color(Cl),[6]:_.color(qr),[7]:_.color(ss)});W(this,"neighborVectorsRQ",[_.createVector(-1,1),_.createVector(0,1),_.createVector(1,0),_.createVector(1,-1),_.createVector(0,-1),_.createVector(-1,0)]);W(this,"teleporters",{});this.seed="",this.midPos=_.createVector(n,t),this.rings=e,this.maxR=e*2,this.maxQ=e*2,this.midR=e,this.midQ=e,this.minR=0,this.minQ=0,this.hexSize=u,this.xDiff=_.sqrt(3)*u,this.yDiff=1.5*u,this.grid=[],this.wallRing=d.wallRing??1,this.constructGrid(d.wallRing??1)}constructGrid(n=this.wallRing){for(let t=this.minR;t<=this.maxR;t++){this.grid.push([]);for(let e=this.minQ;e<=this.maxQ;e++){const u=this.getDiffVectorFromRQ(this.midR,this.midQ,t,e);if(u.add(this.midPos),this.grid[t].push(new Ls(u.x,u.y,t,e,this.hexSize,{type:0,color:this.tileTypeColors[0]})),t+e<this.rings||t+e>this.rings*3)continue;const d=n;t>=this.minR+d&&t<=this.maxR-d&&e>=this.minQ+d&&e<=this.maxQ-d&&t+e>=this.rings+d&&t+e<=this.rings*3-d||this.setBuilderTileType(this.grid[t][e],bt.WALL)}}}reConstructGrid(n=this.wallRing){this.grid=[],this.teleporters={},this.constructGrid(n)}getDiffVectorFromRQ(n,t,e,u){const d=e-n,h=u-t;return _.createVector(this.xDiff*h+this.xDiff/2*d,this.yDiff*d)}getHexVectorFromXY(n,t){const e=n-this.midPos.x,u=t-this.midPos.y,d=_.createVector(u/this.yDiff,(_.sqrt(3)/3*e-1/3*u)/this.hexSize),h=this.axialRound(d);return h.x+=this.midR,h.y+=this.midQ,h}rqVectorIsOnGrid(n,t=0){const e=n.x,u=n.y,d=t;return e>=this.minR+d&&e<=this.maxR-d&&u>=this.minQ+d&&u<=this.maxQ-d&&e+u>=this.rings+d&&e+u<=this.rings*3-d}axialRound(n){let t=_.round(n.x),e=_.round(n.y);const u=_.round(-n.x-n.y),d=_.abs(n.x-t),h=_.abs(n.y-e),r=_.abs(-n.x-n.y-u);return d>h&&d>r?t=-e-u:h>r&&(e=-t-u),_.createVector(t,e)}show(){for(let n=0;n<=this.maxR;n++)for(let t=0;t<=this.maxQ;t++)n+t<this.rings||n+t>this.rings*3||this.grid[n][t].show()}showDebug(){for(let n=0;n<=this.maxR;n++)for(let t=0;t<=this.maxQ;t++)n+t<this.rings||n+t>this.rings*3||this.grid[n][t].showDebug()}getNeighbors(n,t,e=!1){const u=e?this.getTeleporterNeighbors(n,t):[];for(let d of this.neighborVectorsRQ){const h=n+d.x,r=t+d.y;h<this.minR||h>this.maxR||r<this.minQ||r>this.maxQ||h+r<this.rings||h+r>this.rings*3||u.push(this.grid[h][r])}return u}getNeighborsArea(n,t,e){const u=[];for(let d=0;d<6;d++)for(let h=1;h<=e;h++){const r=n+this.neighborVectorsRQ[d].x*h,p=t+this.neighborVectorsRQ[d].y*h;for(let f=1;f<h;f++){const g=(d+2)%6,m=r+this.neighborVectorsRQ[g].x*f,i=p+this.neighborVectorsRQ[g].y*f;this.rqVectorIsOnGrid(_.createVector(m,i),this.wallRing)&&u.push(this.grid[m][i])}this.rqVectorIsOnGrid(_.createVector(r,p),this.wallRing)&&u.push(this.grid[r][p])}return u}getGrandNeighbors(n,t,e=0){const u=[];for(let d=0;d<6;d++){const h=n+this.neighborVectorsRQ[d].x,r=t+this.neighborVectorsRQ[d].y;for(let p=d;p<d+2;p++){const f=h+this.neighborVectorsRQ[p%6].x,g=r+this.neighborVectorsRQ[p%6].y;this.rqVectorIsOnGrid(_.createVector(f,g),e)&&u.push(this.grid[f][g])}}return u}getTeleporterNeighbors(n,t){const e=this.grid[n][t],u=[];if(!e.isTeleporter)return u;for(const d of this.teleporters[e.teleporterType])d.r===n&&d.q===t||u.push(d);return u}getAllTiles(n=!0){const t=[];for(let e=this.minR;e<=this.maxR;e++)for(let u=this.minQ;u<=this.maxQ;u++)e+u<this.rings||e+u>this.rings*3||(n||!this.grid[e][u].wall)&&t.push(this.grid[e][u]);return t}hexInArray(n,t){for(const e of t)if(e.r===n.r&&e.q===n.q)return!0;return!1}addRandomWalls(n=50,t=bt.HILL,e=1){for(let u=0;u<=this.maxR;u++)for(let d=0;d<=this.maxQ;d++)u+d<this.rings||u+d>this.rings*3||_.random(100)<n&&this.rqVectorIsOnGrid(_.createVector(u,d),e)&&this.setBuilderTileType(this.grid[u][d],t)}breakWallsInArray(n,t=bt.EMPTY){for(const e of n)this.setBuilderTileType(e,t)}aStar(n,t,e,u,d=!1){const h=this.grid[n][t],r=this.getDiffVectorFromRQ(n,t,e,u);h.data={...h.data,g:0,h:r.mag(),f:r.mag(),prev:void 0};const p=this.grid[e][u],f=this.xDiff,g=f*(this.rings*2)**2;let m;const i=[h],o=[];for(;i.length>0;){m=i[0];let a=0;for(let c=1;c<i.length;c++)i[c].data.f<m.data.f&&(m=i[c],a=c);const l=this.getNeighbors(m.r,m.q);for(const c of l){if(this.hexInArray(c,o)||d&&!c.canUnit)continue;if(this.hexInArray(c,[p])){const w=[c,m];for(;m.data.prev;)w.push(m.data.prev),m=m.data.prev;return w}let y=f;if(c.canUnit||(y=g),this.hexInArray(c,i)){if(c.data.g<=m.data.g+y)continue}else c.data.h=this.getDiffVectorFromRQ(c.r,c.q,e,u).mag(),i.push(c);c.data.g=m.data.g+y,c.data.f=c.data.g+c.data.h,c.data.prev=m}i.splice(a,1),o.push(m)}return[]}resetColors(n=!0,t=_.color(Os)){for(let e=0;e<=this.maxR;e++)for(let u=0;u<=this.maxQ;u++)e+u<this.rings||e+u>this.rings*3||(n?this.grid[e][u].color=this.tileTypeColors[this.grid[e][u].type]:this.grid[e][u].color=t)}resetData(n={}){for(let t=0;t<=this.maxR;t++)for(let e=0;e<=this.maxQ;e++)t+e<this.rings||t+e>this.rings*3||(this.grid[t][e].data={...n})}resetSpecificData(n){for(let t=0;t<=this.maxR;t++)for(let e=0;e<=this.maxQ;e++)t+e<this.rings||t+e>this.rings*3||(this.grid[t][e].data[n]=null)}generateAllPathsThroughFloodFill(n,t,e=!1,u="flood",d=1e6,h=1e6){const r=`${u}Steps`,p=`${u}Next`,f=`${u}PathVector`;this.resetSpecificData("testFloodSteps"),e||(this.resetSpecificData(r),this.resetSpecificData(p),this.resetSpecificData(f));for(const g of t){const m=g;e?m.data={...m.data,testFloodSteps:0}:m.data={...m.data,testFloodSteps:0,[r]:0,[p]:m,[f]:_.createVector(0,0)};let i;const o=[m],a=[];for(;o.length>0;){i=o[0];let l=0;for(let y=1;y<o.length;y++)o[y].data.testFloodSteps<i.data.testFloodSteps&&(i=o[y],l=y);if(i.data.testFloodSteps>h)break;const c=this.getNeighbors(i.r,i.q,!0);for(const y of c){if(this.hexInArray(y,[...a,...o])||!(y.canUnit||y.canWaterUnit)||y.wall)continue;y.isSpawn||o.push(y);const w=ut.Vector.sub(_.createVector(i.pos.x,i.pos.y),_.createVector(y.pos.x,y.pos.y)),x=y.canUnit?1:d;(!y.data.testFloodSteps||y.data.testFloodSteps>i.data.testFloodSteps)&&(y.data.testFloodSteps=i.data.testFloodSteps+x,e||(y.data[r]=i.data[r]+x,y.data[p]=i,y.data[f]=w))}o.splice(l,1),a.push(i)}}for(const g of n)if(e){if(!g.data.testFloodSteps||g.data.testFloodSteps>d)return!1}else if(!g.data[r]||g.data[r]>d)return!1;return!0}setTileType(n,t){const e=eo[t];n.type=t,n.color=this.tileTypeColors[t],n.wall=t===1||t===3,n.canTower=e.canTower,n.canWaterTower=e.canWaterTower,n.canLavaTower=e.canLavaTower,n.canUnit=e.canUnit,n.canWaterUnit=e.canWaterUnit}setBuilderTileType(n,t){const e=eo[t];n.type=t,n.color=_.color(e.rgb),n.wall=t===bt.HILL||t===bt.WALL||t===bt.LAVA,n.canTower=e.canTower,n.canWaterTower=e.canWaterTower,n.canLavaTower=e.canLavaTower,n.canUnit=e.canUnit,n.canWaterUnit=e.canWaterUnit,n.isSpawn=e.isSpawn,n.isTeleporter=e.isTeleporter,n.teleporterType=e.teleporterType}addSpawnerToGrid(n){this.grid[n.r][n.q]=n}addMaouBaseToGrid(n){this.grid[n.r][n.q]=n}addTowerToGrid(n){this.grid[n.r][n.q]=n}removeTowerFromGrid(n){const t=new Ls(n.pos.x,n.pos.y,n.r,n.q,n.size,{isTower:!1,data:n.data});this.setTileType(t,n.type),this.grid[n.r][n.q]=t}generateJsonableMap(){const n=[];for(const t of this.grid){const e=[];for(const u of t)e.push(u.type);n.push(e)}return n}buildMapFromJson(n,t,e){this.resetData();for(let u=0;u<this.grid.length;u++)for(let d=0;d<this.grid[u].length;d++){if(n[u][d]===bt.SPAWN&&(e.addSpawn(this.grid[u][d].pos.x,this.grid[u][d].pos.y,He,{gridR:u,gridQ:d}),e.waveReader.setActiveSpawners(e.spawners),this.addSpawnerToGrid(e.spawners[e.spawners.length-1])),n[u][d]===bt.BASE){const h=new Sm(this.grid[u][d].pos.x,this.grid[u][d].pos.y,u,d,He,100);t.addBaseToMaou(h),this.addMaouBaseToGrid(h)}n[u][d],bt.TELEPORTER_ONE,this.setBuilderTileType(this.grid[u][d],n[u][d])}this.addAllTeleports()}addTeleporterToGrid(n){this.grid[n.r][n.q]=n}addAllTeleports(){for(let n=this.minR;n<=this.maxR;n++)for(let t=this.minQ;t<=this.maxQ;t++){if(n+t<this.rings||n+t>this.rings*3)continue;const e=this.grid[n][t];e.isTeleporter&&(e.teleporterType in this.teleporters||(this.teleporters[e.teleporterType]=[]),this.teleporters[e.teleporterType].push(e))}}}const je=new jm(_.windowWidth*W0,_.windowHeight*z0,H0,He,{wallRing:q0}),Ia=(s,n,t,e=1,u=255)=>{const d=t*2/9;_.push(),_.translate(s.x,s.y),_.rotate(n.heading()),_.triangle(2*d,-d,2*d,d,3*d,0),_.fill([...Ar,u]),_.circle(0,0,t),_.pop(),_.push(),_.noStroke(),_.circle(s.x,s.y,t*e),_.pop()},Ht=(s,n)=>(s.x-n.x)*(s.x-n.x)+(s.y-n.y)*(s.y-n.y),ac=(s,n,t)=>_.min(t,_.max(n,s)),Tm=(s,n,t=255)=>_.color(_.random(s[0],n[0]),_.random(s[1],n[1]),_.random(s[2],n[2]),t),Pl=(s,n,t,e=255)=>{const u=1-t;return _.color(s[0]*t+n[0]*u,s[1]*t+n[1]*u,s[2]*t+n[2]*u,e)},to=s=>_.color(_.red(s),_.green(s),_.blue(s),_.alpha(s)),Yn=(s,n,t)=>(n.x-s.x)*(t.y-s.y)-(t.x-s.x)*(n.y-s.y),an=(s,n)=>{const t=n.indexOf(s);n.splice(t,1)};class zo{constructor(n,t){W(this,"pos");W(this,"data");this.pos=n,this.data=t}}class On{constructor(n,t,e,u,d=2,h=10){W(this,"pos");W(this,"width");W(this,"height");W(this,"capacity");W(this,"maxDepth");W(this,"split");W(this,"list");W(this,"northEast");W(this,"southEast");W(this,"southWest");W(this,"northWest");this.pos=_.createVector(n,t),this.width=e,this.height=u,this.capacity=d,this.maxDepth=h,this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}getDir(){return[this.northEast,this.southEast,this.southWest,this.northWest]}show(){if(this.split)for(const n of this.getDir())n.show();_.push(),_.strokeWeight(1),_.stroke(qr),_.noFill(),_.rect(this.pos.x,this.pos.y,this.width,this.height),_.pop()}insert(n){this.maxDepth<=0?this.list.push(n):this.split?(this.northEast.contains(n.pos)&&this.northEast.insert(n),this.southEast.contains(n.pos)&&this.southEast.insert(n),this.southWest.contains(n.pos)&&this.southWest.insert(n),this.northWest.contains(n.pos)&&this.northWest.insert(n)):(this.list.push(n),this.list.length>this.capacity&&this.subDivide())}subDivide(){const n=this.width/2,t=this.height/2;this.northEast=new On(this.pos.x+n,this.pos.y,n,t,this.capacity,this.maxDepth-1),this.southEast=new On(this.pos.x+n,this.pos.y+t,n,t,this.capacity,this.maxDepth-1),this.southWest=new On(this.pos.x,this.pos.y+t,n,t,this.capacity,this.maxDepth-1),this.northWest=new On(this.pos.x,this.pos.y,n,t,this.capacity,this.maxDepth-1),this.split=!0;for(let e=this.list.length-1;e>=0;e--)this.insert(this.list[e]),this.list.splice(e,1)}contains(n){return n.x>=this.pos.x&&n.x<this.pos.x+this.width&&n.y>=this.pos.y&&n.y<this.pos.y+this.height}inRangeCircle(n,t){const e=t**2;if(!this.intersectsCirlce(n,e))return[];const u=[];if(this.split)for(const d of this.getDir())u.push(...d.inRangeCircle(n,t));else for(const d of this.list)Ht(d.pos,n)>e||u.push(d.data);return u}inRangeCircleFromMin(n,t,e){const u=t**2,d=e**2;if(!this.intersectsCirlce(n,u))return[];const h=[];if(this.split)for(const r of this.getDir())h.push(...r.inRangeCircleFromMin(n,t,e));else for(const r of this.list)Ht(r.pos,n)>u||Ht(r.pos,n)<d||h.push(r.data);return h}inRangeCirclePart(n,t,e,u){const d=t**2;if(!this.intersectsCirlce(n,d))return[];const h=[];if(this.split)for(const r of this.getDir())h.push(...r.inRangeCirclePart(n,t,e,u));else for(const r of this.list){if(Ht(r.pos,n)>d)continue;const p=(ut.Vector.sub(r.pos,n).heading()+_.TWO_PI)%_.TWO_PI,f=e-p;f>-u&&f<u&&h.push(r.data)}return h}inRangePath(n,t,e){const u=[],d=[],h=ut.Vector.sub(t,n),r=ut.Vector.fromAngle(h.heading()+_.PI/2);r.setMag(e),d.push(ut.Vector.add(r,n)),r.mult(-1),d.push(ut.Vector.add(r,n)),d.push(ut.Vector.add(r,t)),r.mult(-1),d.push(ut.Vector.add(r,t));const p=(h.heading()+_.TWO_PI)%_.TWO_PI;u.push(...this.inRangeCirclePart(t,e,p,_.PI/2));const f=(h.heading()+_.PI*3)%_.TWO_PI;return u.push(...this.inRangeCirclePart(n,e,f,_.PI/2)),u.push(...this.inRangeRotatedRect(d)),u}inRangeRect(n,t,e){if(!this.intersectsRect(n,t,e))return[];const u=[];if(this.split)for(const d of this.getDir())u.push(...d.inRangeRect(n,t,e));else for(const d of this.list)d.pos.x>n.x+t||d.pos.x<n.x||d.pos.y>n.y+e||d.pos.y<n.y||u.push(d.data);return u}inRangeRotatedRect(n){const t=[];if(this.split)for(const e of this.getDir())t.push(...e.inRangeRotatedRect(n));else for(const e of this.list)Yn(n[0],n[1],e.pos)>0&&Yn(n[1],n[2],e.pos)>0&&Yn(n[2],n[3],e.pos)>0&&Yn(n[3],n[0],e.pos)>0&&t.push(e.data);return t}intersectsCirlce(n,t){const e=_.createVector(ac(n.x,this.pos.x,this.pos.x+this.width),ac(n.y,this.pos.y,this.pos.y+this.height));return Ht(e,n)<=t}intersectsRect(n,t,e){return!(n.x>this.pos.x+this.width||n.x+t<this.pos.x||n.y>this.pos.y+this.height||n.y+e<this.pos.y)}emptyQuadTree(){this.split=!1,this.list=[],this.northEast=void 0,this.southEast=void 0,this.southWest=void 0,this.northWest=void 0}}const xi=new On(0,0,_.windowWidth,_.windowHeight,3,7);class ir{constructor(n,t){W(this,"type");W(this,"amount");this.type=n,this.amount=t}}const Em={name:"Easy",UNIT_HP_MOD:.8,UNIT_SPEED_MOD:.9,UNIT_FORCE_MOD:.75,MAOU_HP_MOD:2,TOWER_COST_MOD:.85,TOWER_SELL_MOD:1,FINAL_WAVE:40},yn={name:"Normal",UNIT_HP_MOD:1,UNIT_SPEED_MOD:1,UNIT_FORCE_MOD:1,MAOU_HP_MOD:1,TOWER_COST_MOD:1,TOWER_SELL_MOD:.9,FINAL_WAVE:60},Cm={name:"Hard",UNIT_HP_MOD:1.25,UNIT_SPEED_MOD:1.1,UNIT_FORCE_MOD:1.4,MAOU_HP_MOD:1,TOWER_COST_MOD:1.1,TOWER_SELL_MOD:.8,FINAL_WAVE:80},Mm={name:"Extreme",UNIT_HP_MOD:1.5,UNIT_SPEED_MOD:1.25,UNIT_FORCE_MOD:2,MAOU_HP_MOD:.1,TOWER_COST_MOD:1.2,TOWER_SELL_MOD:0,FINAL_WAVE:100},Ba={Easy:Em,Normal:yn,Hard:Cm,Extreme:Mm},Am=s=>s==="Easy"?"Normal":s==="Normal"?"Hard":"Extreme";let or={name:yn.name,UNIT_HP_MOD:yn.UNIT_HP_MOD,UNIT_SPEED_MOD:yn.UNIT_SPEED_MOD,UNIT_FORCE_MOD:yn.UNIT_FORCE_MOD,MAOU_HP_MOD:yn.MAOU_HP_MOD,TOWER_COST_MOD:yn.TOWER_COST_MOD,TOWER_SELL_MOD:yn.TOWER_SELL_MOD,FINAL_WAVE:yn.FINAL_WAVE};const Rm=s=>{or.name=s.name,or.UNIT_HP_MOD=s.UNIT_HP_MOD,or.UNIT_SPEED_MOD=s.UNIT_SPEED_MOD,or.UNIT_FORCE_MOD=s.UNIT_FORCE_MOD,or.MAOU_HP_MOD=s.MAOU_HP_MOD,or.TOWER_COST_MOD=s.TOWER_COST_MOD,or.TOWER_SELL_MOD=s.TOWER_SELL_MOD,or.FINAL_WAVE=s.FINAL_WAVE},Gt=new On(0,0,_.windowWidth,_.windowHeight,3,7),Na=new On(0,0,_.windowWidth,_.windowHeight,3,7);class pr{constructor(n,t,e,u={}){W(this,"pos");W(this,"hexPos");W(this,"prevPos");W(this,"vel");W(this,"acc");W(this,"accumulatedFrictionMag");W(this,"futurePos");W(this,"desiredSpeed");W(this,"baseDesiredSpeed");W(this,"multiplicativeSpeedBuffs");W(this,"setSpeedBuffs");W(this,"baseForce");W(this,"maxForce");W(this,"baseMaxForce");W(this,"additiveMaxForceBuffs");W(this,"multiplicativeMaxForceBuffs");W(this,"size");W(this,"radius");W(this,"mass");W(this,"baseMass");W(this,"maxHp");W(this,"hp");W(this,"damage");W(this,"goldValue");W(this,"xpValue");W(this,"dead");W(this,"color");W(this,"pathGoal");W(this,"id");W(this,"statuses");W(this,"level");W(this,"visionRadius");W(this,"attackRadius");W(this,"attackCooldown");W(this,"attackCurrentCooldown");W(this,"currentFlowField");W(this,"originalFlowField");W(this,"canSwim");W(this,"framesAlive");W(this,"rage");W(this,"rageTimer");W(this,"rageTimerOnRefresh");W(this,"rageForceIncreasePercent");W(this,"abilityCounters");W(this,"armor");W(this,"collisionEffectCooldowns");this.pos=_.createVector(n,t),this.hexPos=_.createVector(0,0),this.prevPos=_.createVector(n,t),this.vel=_.createVector(0,0),this.acc=_.createVector(0,0),this.accumulatedFrictionMag=0,this.futurePos=_.createVector(0,0),this.desiredSpeed=(u.desiredSpeed??2)*(u.otherDifficulty??or).UNIT_SPEED_MOD,this.baseDesiredSpeed=this.desiredSpeed,this.baseForce=(u.maxForce??.1)*(u.otherDifficulty??or).UNIT_FORCE_MOD,this.maxForce=this.baseForce,this.multiplicativeSpeedBuffs=[],this.setSpeedBuffs=[],this.baseMaxForce=this.maxForce,this.additiveMaxForceBuffs=[],this.multiplicativeMaxForceBuffs=[],this.size=e,this.radius=e/2,this.mass=u.mass??1,this.baseMass=u.mass??1,this.maxHp=(u.hp??50)*(u.otherDifficulty??or).UNIT_HP_MOD,this.hp=this.maxHp,this.damage=u.damage??10,this.goldValue=u.goldValue??50,this.dead=!1,this.color=u.color??_.color(Md),this.pathGoal=void 0,this.id=u.id??_.random(),this.statuses={NORMAL:[],ON_DEATH:[],PASSIVE:[],ON_TAKE_DAMAGE:[]},this.level=u.level??1,this.visionRadius=u.visionRadius??He*3,this.attackRadius=u.attackRadius??this.radius,this.attackCooldown=u.attackCooldown??50,this.attackCurrentCooldown=this.attackCooldown,this.currentFlowField=u.flowField??"floodNext",this.originalFlowField=u.flowField??"floodNext",this.canSwim=u.canSwim??!1,this.framesAlive=0,this.rage=0,this.rageTimer=5e3,this.rageTimerOnRefresh=500,this.rageForceIncreasePercent=1.1,this.abilityCounters=[],this.xpValue=u.xpValue??10,this.armor=null,this.collisionEffectCooldowns={}}show(){_.push(),_.strokeWeight(2),_.stroke(0),_.fill(this.color),Ia(this.pos,this.vel,this.size,_.max(this.hp/this.maxHp,0)),this.showStatusEffects(),this.armor&&this.armor.show(this.pos,this.size,this.vel.heading()),_.pop()}showDot(){_.strokeWeight(5),_.point(this.pos.x,this.pos.y)}showDebug(){_.push(),_.strokeWeight(5),_.stroke(0,255,0),_.fill(this.color),Ia(this.pos,this.vel,this.size,_.max(this.hp/this.maxHp,0)),_.pop()}update(){const n=this.getTarget();this.hexPos=je.getHexVectorFromXY(this.pos.x,this.pos.y),n!==void 0?this.followPathAndSeekTarget(n,je.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField):this.followPathField(je.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField),this.checkAndApplyRage(),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.applyStatusEffects("NORMAL"),this.pos.add(this.vel),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.pos),this.acc.mult(0),this.accumulatedFrictionMag=0;for(const t in this.collisionEffectCooldowns)this.collisionEffectCooldowns[t]--,this.collisionEffectCooldowns[t]<=0&&delete this.collisionEffectCooldowns[t];this.detectCollisions(),this.detectDrowning(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(n),this.hp<=0&&this.die(),this.decreaseStatusTimers(),this.framesAlive++}applyStatusEffects(n,t={}){for(let e=this.statuses[n].length-1;e>=0;e--)this.statuses[n][e].effectUnit(this,this.statuses[n][e],t)}showStatusEffects(){const n=[];for(const d in this.statuses)n.push(...this.statuses[d]);const t=this.size/3,e=this.pos.x+(n.length/2+.5)*-t,u=_.createVector(e,this.pos.y-this.size);for(let d=n.length-1;d>=0;d--)u.x+=t,n[d].show(this,u)}decreaseStatusTimers(){for(const n in this.statuses){const t=this.statuses[n];for(let e=t.length-1;e>=0;e--){const u=t[e];u.duration--,u.duration<=0&&(this.statuses[n].splice(e,1),u.onRemoval(this))}}}cleanseAllStatuses(){for(const n in this.statuses){const t=this.statuses[n];for(let e=t.length-1;e>=0;e--){const u=t[e];u.cleanse(),u.duration<=0&&(this.statuses[n].splice(e,1),u.onRemoval(this))}}}applyStatus(n,t=!1){for(let u=this.statuses[n.timing].length-1;u>=0;u--)if(this.statuses[n.timing][u].name===n.name)return t?(this.statuses[n.timing][u].duration=n.duration,!0):!1;const e=n.copy();return this.statuses[n.timing].push(e),e.onApply(this),!0}edges(n=0){this.pos.x>_.width-n&&(this.pos.x-=_.width-2*n),this.pos.x<n&&(this.pos.x+=_.width-2*n),this.pos.y>_.height-n&&(this.pos.y-=_.height-2*n),this.pos.y<n&&(this.pos.y+=_.height-2*n)}bouncyEdges(n=0){this.pos.x>_.width-n&&this.vel.x>0&&(this.pos.x=_.width-n,this.vel.mult([-1,1])),this.pos.x<n&&this.vel.x<0&&(this.pos.x=n,this.vel.mult([-1,1])),this.pos.y>_.height-n&&this.vel.y>0&&(this.pos.y=_.height-n,this.vel.mult([1,-1])),this.pos.y<n&&this.vel.y<0&&(this.pos.y=n,this.vel.mult([1,-1]))}findPositionThroughEdges(n,t=0){const e=ut.Vector.sub(n,this.pos);return e.x>_.width/2-t&&(e.x-=_.width-2*t),e.x<-_.width/2+t&&(e.x+=_.width-2*t),e.y>_.height/2-t&&(e.y-=_.height-2*t),e.y<-_.height/2+t&&(e.y+=_.height-2*t),e.add(this.pos)}applyForce(n){const t=n.copy().div(this.mass);this.acc.add(t)}friction(n=.1){let t=_.min(n,1);t*=this.vel.mag()-this.accumulatedFrictionMag,this.accumulatedFrictionMag+=t}applyAccumulatedFriction(){const n=this.vel.copy();n.normalize(),n.mult(-1),n.setMag(this.accumulatedFrictionMag*this.mass),this.applyForce(n)}drag(n=1){const t=this.vel.copy();t.normalize(),t.mult(-1);const e=this.vel.mag(),u=.1;t.setMag(n*u*e*e),this.applyForce(t)}getDesire(n){const t=ut.Vector.sub(n,this.pos);return t.setMag(this.desiredSpeed),t}seek(n){const t=this.getDesire(n);return t.sub(this.vel),t.limit(this.maxForce),t}arrive(n){const t=this.getDesire(n),e=_.dist(this.pos.x,this.pos.y,n.x,n.y);return e<200&&t.setMag(_.map(e,0,200,0,this.desiredSpeed)),t.sub(this.vel),t.limit(this.maxForce),t}flee(n){const t=this.getDesire(n).mult(-1);return t.sub(this.vel),t.limit(this.maxForce),t}pursue(n){return Ht(this.pos,n.pos)>n.futurePos.mag()**2?this.seek(this.findPositionThroughEdges(n.futurePos,100)):this.seek(this.findPositionThroughEdges(n.pos,100))}evade(n){return Ht(this.pos,n.pos)>n.futurePos.mag()**2?this.flee(this.findPositionThroughEdges(n.futurePos,100)):this.flee(this.findPositionThroughEdges(n.pos,100))}catch(n){this.size/2+n.size/2>_.dist(n.pos.x,n.pos.y,this.pos.x,this.pos.y)&&(this.hp=_.min(this.maxHp,this.hp+80),n.hp-=80,n.pos.x=_.random(_.width),n.pos.y=_.random(_.height),n.die())}takeDamage(n){this.applyStatusEffects("ON_TAKE_DAMAGE",{damage:n}),this.armor&&(n=this.armor.reduceDamage(n),this.checkArmor()),this.hp-=n.amount,this.hp<=0&&this.die()}getHeal(n){this.hp=_.min(this.maxHp,this.hp+n)}die(){this.dead||(this.dead=!0,this.applyStatusEffects("ON_DEATH"))}reachedMaou(){}getCurrentTile(){const n=je.getHexVectorFromXY(this.pos.x,this.pos.y);return je.rqVectorIsOnGrid(n)?je.grid[n.x][n.y]:(this.outOfBoundsCheckAndCorrection(),this.getCurrentTile())}detectCollisions(){const n=this.getCurrentTile();if(n===void 0)return;const t=je.getNeighbors(n.r,n.q),e=Na.inRangeCircle(this.pos,He*2);for(const u of e)if(Ht(this.pos,u.pos)<(this.radius+u.radius)**2){this.applyCollision(u.pos,u.radius,!0);const d=`obstacle-${u.pos.x}-${u.pos.y}`;if(d in this.collisionEffectCooldowns)continue;this.collisionEffectCooldowns[d]=this.attackCooldown,this.attack(u)}for(const u of[...t,n])if((u.wall||u.isSpawn)&&Ht(this.pos,u.pos)<(this.radius+u.collisionRadius)**2){this.applyCollision(u.pos,u.collisionRadius,!0);const d=`${u.r}-${u.q}`;if(d in this.collisionEffectCooldowns)continue;this.collisionEffectCooldowns[d]=20;const h=u.onCollision();h!==null&&this.takeDamage(h)}}applyCollision(n,t,e=!1){const u=ut.Vector.sub(this.pos,n),d=u.angleBetween(this.vel),h=ut.Vector.fromAngle(u.heading()+(_.PI-d));h.setMag(this.vel.mag()*1),this.vel.set(h),e&&(u.setMag(this.radius+t),u.add(n),this.pos.set(u))}detectDrowning(){const n=this.getCurrentTile();n===void 0||!n.canWaterTower||this.drown()}drown(){this.takeDamage(new ir("DROWN",this.maxHp/200)),this.friction(.15)}outOfBoundsCheckAndCorrection(){const n=je.getHexVectorFromXY(this.pos.x,this.pos.y);je.rqVectorIsOnGrid(n)||(this.pos=this.prevPos.copy(),this.vel=_.createVector(0,0))}readPathField(n,t=this.currentFlowField){return n.data[t]?(Ht(this.pos,n.pos)<(n.collisionRadius-this.radius)**2&&(this.pathGoal=n.data[t]),this.pathGoal||(this.pathGoal=n.data[t]),this.pathGoal.pos):n.pos}followPathField(n,t=this.currentFlowField){if(this.tryTeleport(n,t))return;const u=this.readPathField(n,t),d=this.seek(u);this.applyForce(d)}tryTeleport(n,t=this.currentFlowField){if(!n.isTeleporter||!n.data[t]||!n.data[t].isTeleporter)return!1;const e=ut.Vector.sub(this.pos,n.pos),u=ut.Vector.add(n.data[t].pos,e);return this.pos=u,this.pathGoal=n.data[t].data[t],!0}getTarget(n=xi){const t=n.inRangeCircle(this.pos,this.visionRadius);if(t.length<1)return;let e=0,u=99999;for(let d=0;d<t.length;d++){const h=Ht(t[d].pos,this.pos);h<u&&(u=h,e=d)}return t[e]}seekTargetWithoutApplyForce(n){const t=this.getCurrentTile(),e=n.getCurrentTile();let u=this.seek(n.pos);if(t!==e){const d=je.aStar(t.r,t.q,e.r,e.q,!0);d.length===0?u=_.createVector(0,0):u=this.seek(d[d.length-2].pos)}return u}seekTarget(n){this.applyForce(this.seekTargetWithoutApplyForce(n))}followPathAndSeekTarget(n,t,e=this.currentFlowField){if(this.tryTeleport(t,e))return;const d=this.readPathField(t,e),h=this.seek(d),r=this.seekTargetWithoutApplyForce(n),p=ut.Vector.add(h,r);p.limit(this.maxForce),this.applyForce(p)}tryAttack(n){this.attackCurrentCooldown--,n!==void 0&&(this.attackCurrentCooldown>0||Ht(this.pos,n.pos)>(dr/2+this.attackRadius)**2||(this.attack(n),this.attackCurrentCooldown=this.attackCooldown))}attack(n){n.takeDamage(new ir("PHYSICAL",this.damage))}checkAndApplyRage(){this.rageTimer--,this.rageTimer<1&&(this.rageTimer=this.rageTimerOnRefresh,this.rage++,this.multiplicativeMaxForceBuffs.push(this.rageForceIncreasePercent),this.recalcMaxForceBuffs())}addArmor(n){this.armor=n,this.mass+=n.weight,this.baseMass+=n.weight}removeArmor(){this.armor!==null&&(this.mass-=this.armor.weight,this.baseMass-=this.armor.weight,this.armor=null)}checkArmor(){this.armor!==null&&this.armor.hp<=0&&this.removeArmor()}recalcMaxForceBuffs(){this.maxForce=this.baseMaxForce;for(const n of this.additiveMaxForceBuffs)this.maxForce+=n;for(const n of this.multiplicativeMaxForceBuffs)this.maxForce*=n}recalcSpeedBuffs(){this.desiredSpeed=this.baseDesiredSpeed;for(const n of this.multiplicativeSpeedBuffs)this.desiredSpeed*=n;for(const n of this.setSpeedBuffs)this.desiredSpeed=n}insertIntoQuadTree(){Gt.insert(new zo(this.pos,this))}}class Om extends Ls{constructor(t,e,u,d={}){super(t,e,d.gridR??0,d.gridQ??0,u,{color:_.color(qr),...d});W(this,"flat");W(this,"exitDir");W(this,"unitSize");this.flat=d.flat??!1,this.exitDir=d.exitDir??this.flat?-_.PI/6:0,this.unitSize=d.unitSize??20}spawnUnit(t={}){const e=new pr(this.pos.x,this.pos.y,this.unitSize,{color:t.color??to(t.color),...t});return e.vel=ut.Vector.fromAngle(this.exitDir,0),e}spawnUnitViaWaveReader(t){return t.vel=ut.Vector.fromAngle(this.exitDir,0),t}show(){_.stroke(0),_.strokeWeight(2),_.fill(this.color),cr(this.pos.x,this.pos.y,this.size,this.flat),_.ellipse(this.pos.x,this.pos.y,this.size*1.6)}update(){return!0}}const Qr=Object.freeze({name:"Berserker",discription:"The Berserker gets stronger and faster the more damage she has sustained.",hp:300,hpScaling:25,damage:40,speed:yt*1.5,force:yt*.12,attackCooldown:50,mass:1,gold:50,xp:40,baseLevel:13,rgb:rm});class Pm extends pr{constructor(n,t,e,u={}){super(n,t,e,u)}update(){const n=_.min(this.maxHp/_.max(this.hp,1),4);this.attackCooldown=Qr.attackCooldown/n,this.recalcMaxForceBuffs(),this.recalcSpeedBuffs(),super.update()}recalcMaxForceBuffs(){super.recalcMaxForceBuffs();const n=_.min(this.maxHp/_.max(this.hp,1),4);this.maxForce*=n*1.5}recalcSpeedBuffs(){super.recalcSpeedBuffs();const n=_.min(this.maxHp/_.max(this.hp,1),4);this.desiredSpeed*=n}}const km=(s,n)=>new Pm(s.x,s.y,dr,{desiredSpeed:Qr.speed,maxForce:Qr.force,hp:Qr.hp+(n-Qr.baseLevel)*Qr.hpScaling,damage:Qr.damage,goldValue:_.max(Qr.gold-(n-Qr.baseLevel),1),xpValue:Qr.xp,color:_.color(Qr.rgb)}),Lm=(s,n,t,e)=>{const u=t/2,d=t*(3/8);_.strokeWeight(e),_.beginShape(),_.vertex(s-u,n-d),_.quadraticVertex(s-u,n-u,s-d,n-u),_.vertex(s+d,n-u),_.quadraticVertex(s+u,n-u,s+u,n-d),_.vertex(s+u,n+d),_.quadraticVertex(s+u,n+u,s+d,n+u),_.vertex(s-d,n+u),_.quadraticVertex(s-u,n+u,s-u,n+d),_.endShape(_.CLOSE),_.strokeWeight(e*3),_.line(s-d,n-d,s+d,n+d),_.line(s+d,n-d,s-d,n+d)},Ko=(s,n,t)=>{const e=t/2,u=t/8;_.push(),_.circle(s,n,t*2),_.noFill(),_.beginShape(),_.vertex(s-e,n-e),_.vertex(s+e,n-e),_.vertex(s-e,n+e),_.vertex(s+e,n+e),_.endShape(),_.line(s-u,n-(e+u),s-u,n-e),_.line(s+u,n-(e+u),s+u,n-e),_.line(s-u,n+(e+u),s-u,n+e),_.line(s+u,n+(e+u),s+u,n+e),_.pop()},Dm=(s,n,t)=>{const e=t/2,u=t*(3/8),d={x:s,y:n-e},h={x:s,y:n+e},r={x:s+u,y:n-u},p={x:s-u,y:n-u};_.noFill(),_.curve(d.x,d.y-e,d.x,d.y,r.x,r.y,r.x+u,r.y-u),_.curve(r.x,r.y-e,r.x,r.y,h.x,h.y,h.x-t*3,h.y),_.curve(h.x+t*3,h.y,h.x,h.y,p.x,p.y,p.x,p.y-e),_.curve(p.x-u,p.y-u,p.x,p.y,d.x,d.y,d.x,d.y-e)};class In{constructor(n,t,e,u,d,h,r,p={}){W(this,"origin");W(this,"pos");W(this,"prevPos");W(this,"vel");W(this,"acc");W(this,"size");W(this,"radius");W(this,"damage");W(this,"damageType");W(this,"pierce");W(this,"critChance");W(this,"critMultiplier");W(this,"statuses");W(this,"lifeSpan");W(this,"color");W(this,"alreadyHitEnemyIds");W(this,"extraDamageCalc");W(this,"extraActionOnHit");W(this,"extraActionOnMove");this.origin=n,this.pos=t.copy(),this.prevPos=t.copy(),this.vel=e.copy(),this.acc=_.createVector(0,0),this.size=u,this.radius=u/2,this.damage=d,this.damageType=h,this.pierce=p.pierce??1,this.critChance=p.critChance??0,this.critMultiplier=p.critMultiplier??2,this.statuses=p.statuses??[],this.lifeSpan=r,this.color=p.color??_.color(Dd),this.alreadyHitEnemyIds=[],this.extraDamageCalc=p.extraDamageCalc??(()=>0),this.extraActionOnHit=p.extraActionOnHit??(()=>{}),this.extraActionOnMove=p.extraActionOnMove??(()=>{})}show(){_.push();const n=this.vel.copy();n.setMag(this.size);const t=ut.Vector.add(this.pos,n.copy().mult(-.5));_.stroke(this.color),No(t,n,2),_.pop()}showDebug(){_.stroke(this.color),_.strokeWeight(5),_.point(this.pos.x,this.pos.y)}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const n=Gt.inRangePath(this.prevPos,this.pos,this.size);for(const t of n)this.hit(t);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}applyForce(n){this.acc.add(n)}hit(n){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(n.id))return;this.alreadyHitEnemyIds.push(n.id);const t=this.damage*(_.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(n);this.updateOriginUsageDataSingle(n,t),n.takeDamage(new ir(this.damageType,t));for(let e=0;e<this.statuses.length;e++)n.applyStatus(this.statuses[e]);this.extraActionOnHit({pos:this.pos,vel:this.vel,target:n}),this.pierce--}updateOriginUsageData(n,t){this.origin.usageData.totalDamageDone+=t,this.origin.usageData.unitsHit++,this.origin.usageData.highestDamageHit<t&&(this.origin.usageData.highestDamageHit=t),t>=n.hp&&(this.origin.usageData.unitsKilled++,this.origin.usageData.overkillDamageDone+=t-n.hp)}updateOriginUsageDataSingle(n,t){this.origin.usageData.totalHits++,this.updateOriginUsageData(n,t)}updateOriginUsageDataAoe(n,t){this.origin.usageData.totalHits++;for(const e of n)this.updateOriginUsageData(e,t)}}const Im=s=>({totalDamageDone:0,totalHits:0,highestDamageHit:0,overkillDamageDone:0,unitsKilled:0,unitsHit:0,framesExists:0,totalCost:s,killsPerCost:0,damagePerCost:0,killsPerFrame:0,damagePerFrame:0,killsPerCostPerFrame:0,damagePerCoastPerFrame:0}),Bm=s=>{s.killsPerCost=_.round(s.unitsKilled/s.totalCost,2),s.damagePerCost=_.round(s.totalDamageDone/s.totalCost,2),s.killsPerFrame=_.round(s.unitsKilled/s.framesExists,2),s.damagePerFrame=_.round(s.totalDamageDone/s.framesExists,2),s.killsPerCostPerFrame=_.round(s.unitsKilled/s.totalCost/s.framesExists,2),s.damagePerCoastPerFrame=_.round(s.totalDamageDone/s.totalCost/s.framesExists,2)};var An=(s=>(s[s.CLOSEST=0]="CLOSEST",s[s.FURTHEST=1]="FURTHEST",s[s.FIRST=2]="FIRST",s[s.LAST=3]="LAST",s[s.STRONGEST=4]="STRONGEST",s[s.WEAKEST=5]="WEAKEST",s))(An||{});const Nm={name:"Closest",description:"Target the enemy closest to the tower.",function:(s,n)=>{let t=0,e=99999;for(let u=0;u<n.length;u++){const d=Ht(n[u].pos,s);d<e&&(e=d,t=u)}return n[t]}},Fm={name:"Furthest",description:"Target the enemy furthest from the tower.",function:(s,n)=>{let t=0,e=0;for(let u=0;u<n.length;u++){const d=Ht(n[u].pos,s);d>e&&(e=d,t=u)}return n[t]}},Um={name:"First",description:"Target the enemy closest to reaching the base.",function:(s,n)=>{let t=0,e=99999;for(let u=0;u<n.length;u++){const d=n[u].getCurrentTile();d.data.floodSteps<e&&(e=d.data.floodSteps,t=u)}return n[t]}},Gm={name:"Last",description:"Target the enemy closest to the spawn.",function:(s,n)=>{let t=0,e=0;for(let u=0;u<n.length;u++){const d=n[u].getCurrentTile();d.data.floodSteps>e&&(e=d.data.floodSteps,t=u)}return n[t]}},Vm={name:"Strongest",description:"Target the strongest enemy.",function:(s,n)=>{let t=0,e=0;for(let u=0;u<n.length;u++){const d=n[u].hp;e<d&&(e=d,t=u)}return n[t]}},Hm={name:"Weakest",description:"Target the weakest enemy.",function:(s,n)=>{let t=0,e=99999999;for(let u=0;u<n.length;u++){const d=n[u].hp;e>d&&(e=d,t=u)}return n[t]}},kl={[0]:Nm,[1]:Fm,[2]:Um,[3]:Gm,[4]:Vm,[5]:Hm};class Sn extends Ls{constructor(t,e,u,d,h,r,p,f,g,m,i,o){super(t,e,u,d,h,{color:_.color(Ad),...o});W(this,"range");W(this,"baseRange");W(this,"rangeBuffsAdditive");W(this,"rangeBuffsMultiplicative");W(this,"name");W(this,"cooldown");W(this,"baseCooldown");W(this,"cooldownBuffsAdditive");W(this,"currentCooldown");W(this,"cost");W(this,"spendValue");W(this,"damage");W(this,"baseDamage");W(this,"damageBuffsMultiplicative");W(this,"projectileSpeed");W(this,"projectilePierce");W(this,"projectileSize");W(this,"projectileNumber");W(this,"critChance");W(this,"critMultiplier");W(this,"lastShotAngle");W(this,"targetingType");W(this,"availableTargetingTypes");W(this,"upgradesPurchased");W(this,"purchasedUpgrades");W(this,"upgrades");W(this,"projectileColor");W(this,"ultimate");W(this,"ultCooldown");W(this,"ultCurrentCooldown");W(this,"extraActionsOnHit");W(this,"extraActionsOnMove");W(this,"buffsThisApplied");W(this,"usageData");this.name=r,this.range=p,this.baseRange=p,this.rangeBuffsAdditive=[],this.rangeBuffsMultiplicative=[],this.cooldown=m,this.baseCooldown=m,this.cooldownBuffsAdditive=[],this.currentCooldown=m,this.cost=i,this.spendValue=o.spendValue??i,this.damage=f,this.baseDamage=f,this.damageBuffsMultiplicative=[],this.projectileSpeed=g,this.critChance=o.critChance??0,this.critMultiplier=o.critMultiplier??1,this.projectilePierce=o.projectilePierce??1,this.projectileColor=o.projectileColor??_.color(Dd),this.projectileSize=o.projectileSize??He*(2/3),this.projectileNumber=1,this.lastShotAngle=0,this.targetingType=An.CLOSEST,this.availableTargetingTypes=[An.CLOSEST,An.FURTHEST,An.FIRST,An.LAST,An.STRONGEST,An.WEAKEST],this.upgradesPurchased=0,this.ultimate=()=>{},this.ultCooldown=0,this.ultCurrentCooldown=0,this.purchasedUpgrades=[],this.upgrades=o.upgrades,this.extraActionsOnHit=[],this.extraActionsOnMove=[],this.buffsThisApplied=[],this.usageData=Im(o.spendValue??i),this.canUnit=!1,this.canWaterUnit=!1}show(t=this.pos){_.push(),_.stroke(0),_.strokeWeight(2),_.fill(this.color),cr(t.x,t.y,this.size),this.upgradesPurchased>3&&(_.strokeWeight(1),cr(t.x,t.y,this.size-3),this.upgradesPurchased>7&&(_.stroke(0),cr(t.x,t.y,this.size-6))),this.showSymbol(t),this.shouldShowUltCooldown(),_.pop()}showSymbol(t=this.pos){}shouldShowUltCooldown(){}showUltCooldown(){if(this.ultCurrentCooldown<=0){let d=this.ultCurrentCooldown*-1%100;d>50&&(d=100-d),d/=50,_.push(),_.noFill(),_.strokeWeight(2),_.stroke(Pl(ks,Ar,d)),cr(this.pos.x,this.pos.y,this.size-1),_.pop();return}const t=(this.ultCooldown-this.ultCurrentCooldown)/this.ultCooldown*6,e=_.floor(t),u=t%1;_.push(),_.noFill(),_.strokeWeight(2),_.stroke(ks),xm(this.pos.x,this.pos.y,this.size-1,e,u),_.pop()}applyBuff(t){t.onApply(this),this.buffs.push(t)}applyTimedBuff(t){t.onApply(this),this.timedBuffs.push(t)}applyAllMyBuffs(){for(const t of this.buffs)t.onApply(this)}removeBuff(t){for(let e=0;e<this.buffs.length;e++)if(this.buffs[e].id===t){this.buffs[e].onRemove(this),this.buffs.splice(e,1);return}}recalcCooldownBuffs(){this.cooldown=this.baseCooldown;for(const t of this.cooldownBuffsAdditive)this.cooldown+=t}recalcRangeBuffs(){this.range=this.baseRange;for(const t of this.rangeBuffsAdditive)this.range+=t;for(const t of this.rangeBuffsMultiplicative)this.range*=t}recalcDamageBuffs(){this.damage=this.baseDamage;for(const t of this.damageBuffsMultiplicative)this.damage*=t}showRange(){if(this.range>0){const t=to(this.color);t.setAlpha(100),_.fill(t),_.circle(this.pos.x,this.pos.y,this.range*2)}}update(){return this.currentCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.ultCurrentCooldown--,this.handleBuffs(),this.usageData.framesExists++,!0}handleBuffs(){for(let t=this.timedBuffs.length-1;t>=0;t--){const e=this.timedBuffs[t];e.duration--,e.duration<=0&&(e.onRemove(this),this.timedBuffs.splice(t,1))}}castUlt(){this.ultCurrentCooldown>0||(this.ultCurrentCooldown=this.ultCooldown,this.ultimate())}getDamage(){return this.damage}baseShoot(){const t=Gt.inRangeCircle(this.pos,this.range);if(t.length<1)return;const e=kl[this.targetingType].function(this.pos,t),u=this.range/this.projectileSpeed,d=e.pos.copy();for(let p=1;p<=u&&(d.add(e.vel),!(Ht(d,this.pos)<(this.projectileSpeed*p)**2));p++);const h=ut.Vector.sub(d,this.pos);return h.setMag(this.projectileSpeed),new In(this,this.pos.copy(),h,10,this.getDamage(),"PHYSICAL",u,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier})}shoot(){const t=this.baseShoot();return t===void 0?!1:(this.lastShotAngle=t.vel.heading(),et.addProjectile(t),!0)}purchaseUpgrade(t){const e=_.round(t.cost*or.TOWER_COST_MOD);if(!(et.gold<e)){et.gold-=e,t.onPurchase(this),t.purchased=!0,this.purchasedUpgrades.push(t.id);for(const u in this.upgrades){const d=this.upgrades[u];d.available=d.isAvailable(this.purchasedUpgrades)}this.spendValue+=e,this.usageData.totalCost+=e,this.upgradesPurchased++}}changeRange(t){this.range+=t,this.onRangeChange()}onRangeChange(){}onSell(){}onWaveEnd(){}increaseDamage(t){this.damage+=t,this.baseDamage+=t,this.recalcDamageBuffs()}increaseRange(t){this.range+=t,this.baseRange+=t,this.recalcRangeBuffs()}}class Oe{constructor(n,t,e,u,d,h=!1){W(this,"id");W(this,"name");W(this,"cost");W(this,"description");W(this,"onPurchase");W(this,"available");W(this,"purchased");this.id=n,this.name=t,this.cost=e,this.description=u,this.onPurchase=d,this.available=h,this.purchased=!1}isAvailable(n){if(this.purchased||n.length>7)return!1;switch(this.id){case"A":case"B":case"C":return!0;case"A+":return n.includes("A");case"B+":return n.includes("B");case"C+":return n.includes("C");case"AB":return n.includes("A")&&n.includes("B");case"BC":return n.includes("B")&&n.includes("C");case"CA":return n.includes("C")&&n.includes("A");case"AB+":return n.includes("AB")||n.includes("A+")&&n.includes("B+");case"BC+":return n.includes("BC")||n.includes("B+")&&n.includes("C+");case"CA+":return n.includes("CA")||n.includes("C+")&&n.includes("A+");case"AB++":return n.includes("AB+");case"BC++":return n.includes("BC+");case"CA++":return n.includes("CA+");default:return!1}}}const Ud=(s,n,t,e=_)=>{const u=[];for(let d=0;d<8;d++){const h=e.PI/4*d;u.push(e.createVector(e.cos(h)*t,e.sin(h)*t))}e.noFill(),e.strokeWeight(1);for(let d=1;d<4;d++){e.beginShape();for(const h of u)d===1&&e.line(s,n,s+h.x,n+h.y),h.setMag(t*.3*d),e.vertex(s+h.x,n+h.y);e.endShape(e.CLOSE)}},Wm=(s,n,t,e,u=_)=>{const d=ut.Vector.fromAngle(t);d.setMag(n/2);const h=ut.Vector.fromAngle(t);h.setMag(n),u.push(),u.beginShape(),u.vertex(s.x,s.y);const r=ut.Vector.add(s,d);u.vertex(r.x,r.y),h.rotate(e),r.add(h),u.vertex(r.x,r.y),h.rotate(e).mult(.5),r.add(h),u.vertex(r.x,r.y),h.rotate(u.PI*1.02),r.add(h),u.vertex(r.x,r.y),h.rotate(-e).mult(2),r.add(h),u.vertex(r.x,r.y),h.rotate(-e).mult(.5),r.add(h),u.vertex(r.x,r.y),u.endShape(u.CLOSE),u.pop()},Ni=(s,n,t,e=!0,u=_,d=qr,h=0,r=8)=>{const p=t*.4,f=t/10,g=t*(3/5),m=p*2;u.push(),u.translate(s,n),u.rotate(h),u.noStroke();for(let i=0;i<2;i++)for(let o=-4;o<7;o+=3){if(r<=0)continue;const a=i*(_.PI-2*o*_.PI*.05)+o*_.PI*.05,l=u.createVector(u.cos(a)*p,u.sin(a)*p);let c=-u.PI/5;o>0&&(c*=-1),i>0&&(c*=-1),Wm(l,m,a,c,u),r--}u.circle(0,-g,g),u.circle(0,0,t),u.fill(d),u.circle(-f,-m,f),u.circle(f,-m,f),e&&(u.stroke(Ar),u.strokeWeight(1),Ud(0,0,p,u)),u.pop()};class zm extends In{constructor(t,e,u,d,h,r,p,f,g,m,i={}){super(t,e,u,d,h,r,p,i);W(this,"hexes");W(this,"frictionSlow");W(this,"corrosion");this.pierce=f,this.hexes=g,this.frictionSlow=m,this.color=i.color??_.color(Ar),this.corrosion=i.corrosion??0}show(){_.push(),_.stroke(this.color);for(const t of this.hexes)Ud(t.pos.x,t.pos.y,t.size);_.pop()}update(){const t=[];for(const e of this.hexes){const u=Gt.inRangeCircle(e.pos,e.size);t.push(...u)}t.length>0&&this.origin.usageData.totalHits++;for(const e of t){if(this.pierce<1)break;for(const u of this.statuses)e.applyStatus(u,!0);this.updateOriginUsageData(e,this.damage),e.takeDamage(new ir(this.damageType,this.damage)),e.friction(this.frictionSlow),this.pierce--}return this.pierce-=this.corrosion,this.pierce<1}}class Gd extends pr{constructor(t,e,u,d={}){super(t,e,u,{...d,otherDifficulty:yn});W(this,"hpLossPerFrame");this.hpLossPerFrame=d.hpLossPerFrame??.1}update(){this.hp-=this.hpLossPerFrame;const t=this.getTarget(Gt);return t!==void 0?this.seekTarget(t):this.friction(.01),this.applyAccumulatedFriction(),this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.futurePos=this.vel.copy().mult(10),this.futurePos.add(this.pos),this.acc.mult(0),this.accumulatedFrictionMag=0,this.detectCollisions(),this.outOfBoundsCheckAndCorrection(),this.tryAttack(t),this.hp<=0&&this.die(),this.hp<=0}show(){_.push(),_.fill(this.color),_.circle(this.pos.x,this.pos.y,this.size),_.pop()}}class qm extends Gd{constructor(n,t,e,u={}){super(n,t,e,u)}show(){const n=this.vel.heading()+_.PI/2;_.push(),_.fill(this.color),Ni(this.pos.x,this.pos.y,this.size,!1,_,qr,n,_.ceil(this.hp/this.maxHp*10)),_.pop()}}const Vd=(s,n={})=>new qm(s.x,s.y,dr*.4,{desiredSpeed:yt*2,maxForce:yt*.2,hp:n.hp??100,hpLossPerFrame:n.hpLoss??.1,damage:n.damage??10,mass:1,goldValue:0,color:_.color(n.color??Ut),visionRadius:n.vision??He*5,attackRadius:n.attackRadius??dr/2,attackCooldown:n.attackCooldown??20});class Rr{constructor(n,t,e,u,d,h,r,p=!1){W(this,"name");W(this,"timing");W(this,"duration");W(this,"effect");W(this,"show");W(this,"onApply");W(this,"onRemoval");W(this,"noCleanse");this.name=n,this.duration=t,this.timing=e,this.effect=u,this.show=d,this.onApply=h??(()=>{}),this.onRemoval=r??(()=>{}),this.noCleanse=p}effectUnit(n,t,e){this.effect(n,t,e)}cleanse(){this.noCleanse||(this.duration=0)}copy(){return new Rr(this.name,this.duration,this.timing,this.effect,this.show,this.onApply,this.onRemoval,this.noCleanse)}}const Ym=(s=.25,n={},t="spider food")=>new Rr(t,2,"ON_DEATH",e=>{_.random()<s&&et.addMinion(Vd(e.pos,n))},(e,u)=>{_.fill(Ut),Ni(u.x,u.y,e.size/3)},e=>{},e=>{}),er=Object.freeze({name:"Arachne",description:"Arachne",hotkey:"w",keycode:87,range:1,cooldown:450,cost:600,damage:0,projectileSpeed:0,towerType:"NORMAL",rgb:Ar,webDurability:1e3,webSlow:.25,spiderlingCooldown:250,spiderlingOnDeathChance:.2,spiderlingHp:100,spiderlingDamage:10,spiderlingHpDecay:.1,rareSpiderlingChance:0,rareSpiderlingHp:2e3,rareSpiderlingDamage:100,rareSpiderlingHpDecay:.1,showSymbol:(s,n,t={})=>{_.push(),_.fill(Ut),Ni(s.x,s.y,n*.7,!1),_.pop()}});class Xm extends Sn{constructor(t,e,u,d,h,r,p,f,g,m,i,o,a){super(t,e,u,d,h,er.name,r,p,f,g,m,a);W(this,"webDurability");W(this,"webSlow");W(this,"activeWeb");W(this,"corrosion");W(this,"spiderlingCooldown");W(this,"currentSpiderlingCooldown");W(this,"spiderlingOnDeathChance");W(this,"spiderlingHp");W(this,"spiderlingDamage");W(this,"spiderlingBaseDamage");W(this,"spiderlingHpDecay");W(this,"rareSpiderlingChance");W(this,"rareSpiderlingHp");W(this,"rareSpiderlingDamage");W(this,"rareSpiderlingBaseDamage");W(this,"rareSpiderlingHpDecay");W(this,"getWebProjectile",(t,e=this.corrosion)=>{const u=this.getStatuses();return new zm(this,this.pos,_.createVector(0,0),this.size,this.damage,"PHYSICAL",this.webDurability,this.webDurability,t,this.webSlow,{color:this.projectileColor,corrosion:e,statuses:u})});this.webDurability=i,this.webSlow=o,this.activeWeb=null,this.corrosion=0,this.spiderlingCooldown=er.spiderlingCooldown,this.currentSpiderlingCooldown=er.spiderlingCooldown,this.spiderlingOnDeathChance=er.spiderlingOnDeathChance,this.spiderlingHp=er.spiderlingHp,this.spiderlingDamage=er.spiderlingDamage,this.spiderlingBaseDamage=er.spiderlingDamage,this.spiderlingHpDecay=er.spiderlingHpDecay,this.rareSpiderlingChance=er.rareSpiderlingChance,this.rareSpiderlingHp=er.rareSpiderlingHp,this.rareSpiderlingDamage=er.rareSpiderlingDamage,this.rareSpiderlingBaseDamage=er.rareSpiderlingDamage,this.rareSpiderlingHpDecay=er.rareSpiderlingHpDecay}showSymbol(t=this.pos){_.push(),_.fill(Ut),Ni(t.x,t.y,this.size*.7,!1),_.pop()}showRange(){const t=to(this.color);t.setAlpha(100),_.fill(t),_.circle(this.pos.x,this.pos.y,this.range*4*this.size)}update(){return this.activeWeb===null?(this.currentCooldown--,this.currentCooldown<=0&&(this.shoot(),this.currentCooldown=this.cooldown)):this.activeWeb.pierce<=0&&(this.activeWeb=null),this.ultCurrentCooldown--,this.spiderling(),this.handleBuffs(),this.usageData.framesExists++,!0}spiderling(){}spawnSpiderling(){const t=[];for(const d of je.getNeighborsArea(this.r,this.q,this.range))d.canUnit&&t.push(d);const e=_.random(t),u=Vd(e.pos,this.getSpiderlingOptions());et.addMinion(u)}getSpiderlingOptions(){const t=_.random()<this.rareSpiderlingChance;return{damage:t?this.rareSpiderlingDamage:this.spiderlingDamage,hp:t?this.rareSpiderlingHp:this.spiderlingHp,hpLoss:t?this.rareSpiderlingHpDecay:this.spiderlingHpDecay,color:t?qr:Ut}}shoot(){const t=je.getNeighborsArea(this.r,this.q,this.range);for(let u=t.length-1;u>=0;u--)t[u].wall&&t.splice(u,1);const e=this.getWebProjectile(t);return this.activeWeb=e,et.addProjectile(e),!0}getStatuses(){return[]}getSpiderFood(){return Ym(this.spiderlingOnDeathChance,this.getSpiderlingOptions())}recalcDamageBuffs(){super.recalcDamageBuffs(),this.spiderlingDamage=this.spiderlingBaseDamage,this.rareSpiderlingDamage=this.rareSpiderlingBaseDamage;for(const t of this.damageBuffsMultiplicative)this.spiderlingDamage*=t,this.rareSpiderlingDamage*=t}recalcRangeBuffs(){this.range=this.baseRange;for(const t of this.rangeBuffsAdditive)this.range+=t/He;for(const t of this.rangeBuffsMultiplicative)this.damage*=t;this.range=_.round(this.range)}}const $m=(s,n={})=>new Xm(s.pos.x,s.pos.y,s.r,s.q,s.size,er.range,er.damage,er.projectileSpeed,er.cooldown,er.cost,er.webDurability,er.webSlow,{color:_.color(er.rgb),projectileColor:_.color(Ar),wall:!0,isTower:!0,type:s.type,data:s.data,spendValue:n.changedCost??er.cost,upgrades:{A:new Oe("A","Stickier webs",600,"Stickier webs slow enemies down even more.",t=>{t.webSlow+=.1},!0),B:new Oe("B","Steel thread",400,"Makes your web more durable.",t=>{t.webDurability+=900},!0),C:new Oe("C","Spinning talent",800,"Spin new webs faster.",t=>{t.cooldown-=150,t.baseCooldown-=150},!0),"A+":new Oe("A+","Nether glue",1400,"Magic infused glue makes webs unnaturally sticky.",t=>{t.webSlow+=.15}),"B+":new Oe("B+","Titanium thread",1500,"Makes your web way more durable.",t=>{t.webDurability+=1500}),"C+":new Oe("C+","Spinning prodigy",1700,"Spin new webs at top speed.",t=>{t.cooldown-=150,t.baseCooldown-=150}),AB:new Oe("AB","Spiky silk",1300,"How can silk be spiky?",t=>{t.increaseDamage(1)}),BC:new Oe("BC","Great web",1e3,"Make your web even larger.",t=>{t.range+=1,t.baseRange+=1}),CA:new Oe("CA","Spiderlings",1200,"The Arachne gives birth to spiderlings who damage and distract heroes.",t=>{t.spiderling=()=>{t.currentSpiderlingCooldown--,t.currentSpiderlingCooldown<=0&&(t.currentSpiderlingCooldown=t.spiderlingCooldown,t.spawnSpiderling())}}),"AB+":new Oe("AB+","Suffocating silk",2200,"Hope you don't have claustrophobia, or arachnophobia... Increases damage",t=>{t.increaseDamage(3)}),"BC+":new Oe("BC+","Greatest web",1500,"Spin your web between mountains.",t=>{t.range+=1,t.baseRange+=1}),"CA+":new Oe("CA+","Brood Parasite",2e3,"Nope nope nope nope nope nope nope nope nope nope nope. (Has a chance to birth a spiderling when a hero dies in the arachnes web)",t=>{t.getStatuses=()=>[t.getSpiderFood()]}),"AB++":new Oe("AB++","Corrosive silk",6600,"Silk corrodes away enemies and the web alike.",t=>{t.increaseDamage(16),t.projectileColor=_.color(Q0),t.corrosion=5}),"BC++":new Oe("BC++","World wide web (Ability)",7500,"The entire world is my domain.",t=>{t.ultCooldown=As,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{const e=je.getAllTiles(!1);for(let u=e.length-1;u>=0;u--){const d=t.getWebProjectile([e[u]],t.corrosion+5);et.addProjectile(d)}},t.shouldShowUltCooldown=()=>{t.showUltCooldown()}}),"CA++":new Oe("CA++","One Big Happy Family",6660,"These spiderlings were all raised with love and care, and only a minimal amount of cannibalism. Spawn more and stronger spiderlings, as well as rare super spiderlings every now and then. Motherhood is so fulfilling.",t=>{t.spiderlingCooldown-=100,t.spiderlingOnDeathChance+=.25,t.spiderlingHp+=150,t.rareSpiderlingChance+=.01})}}),Km=0,Qm=1,Hd=(s,n,t,e=Km,u=Qm)=>{_.push(),_.translate(s,n),_.rotate(e);const d=t/2,h={x:0,y:-d},r={x:0,y:d},p=_.createVector(-t/4,0),f=_.createVector(t*(5/6),0);_.strokeWeight(u),_.noFill(),_.line(h.x,h.y,r.x,r.y),No(p,f,u*1.5),_.strokeWeight(u*2),_.curve(h.x-2.5*t,h.y,h.x,h.y,r.x,r.y,r.x-2.5*t,r.y),_.pop()},Rn=Object.freeze({name:"Archer",description:"",hotkey:"a",keycode:65,range:He*6,cooldown:150,cost:200,damage:25,projectileSpeed:yt*10,towerType:"NORMAL",rgb:om,showSymbol:(s,n,t={angle:0})=>{Hd(s.x,s.y,n,t.angle,1)}});class Zm extends Sn{constructor(t,e,u,d,h,r,p,f,g,m,i){super(t,e,u,d,h,Rn.name,r,p,f,g,m,i);W(this,"arrowNumber");this.arrowNumber=1}showSymbol(t=this.pos){Hd(t.x,t.y,this.size,this.lastShotAngle,1)}shoot(){const t=this.baseShoot();if(t===void 0)return!1;const e=_.floor(this.arrowNumber/2)*-1;this.lastShotAngle=t.vel.heading();const u=_.PI/9;for(let d=e;d<e+this.arrowNumber;d++){const h=this.lastShotAngle+d*u,r=ut.Vector.fromAngle(h);r.setMag(t.vel.mag());const p=[];for(let g=0;g<t.statuses.length;g++)p.push(t.statuses[g].copy());const f=new In(this,this.pos.copy(),r,t.size,t.damage,"PHYSICAL",t.lifeSpan,{color:this.projectileColor,pierce:t.pierce,critChance:t.critChance,critMultiplier:t.critMultiplier,statuses:p});et.addProjectile(f)}return!0}}const Jm=(s,n={})=>new Zm(s.pos.x,s.pos.y,s.r,s.q,s.size,Rn.range,Rn.damage,Rn.projectileSpeed,Rn.cooldown,Rn.cost,{color:_.color(Rn.rgb),wall:!0,isTower:!0,type:s.type,data:s.data,spendValue:n.changedCost??Rn.cost,upgrades:{A:new Oe("A","Sharper Arrows",150,"Even sharper arrows deal more damage.",t=>{t.increaseDamage(15)},!0),B:new Oe("B","Sunglasses",100,"You'd think the protection from the sun gives this archer a range increase, but it's really the confidence boost.",t=>{t.range+=He,t.baseRange+=He},!0),C:new Oe("C","Faster firing",300,"Shorter cooldown between arrows.",t=>{t.cooldown-=40,t.baseCooldown-=40},!0),"A+":new Oe("A+","Dark Arrows",700,"Arrows made from metal mined deep in the underworld. They deal alot more damage",t=>{t.increaseDamage(35),t.projectileColor=_.color(um)}),"B+":new Oe("B+","Scope",500,"How do you put a scope on a bow? Doesn't matter, more range.",t=>{t.range+=He*2,t.baseRange+=He*2}),"C+":new Oe("C+","Faster firing festival",750,"Gotta go fast.",t=>{t.cooldown-=40,t.baseCooldown-=40}),AB:new Oe("AB","Aimed shot",150,"Until now, aiming was more of a suggestion... Faster projectiles",t=>{t.projectileSpeed+=yt*10}),BC:new Oe("BC","Triple shot",700,"Trying to emulate some cool moves you saw eh.",t=>{t.arrowNumber+=2}),CA:new Oe("CA","Line em up",250,"Three birds one arrow.",t=>{t.projectilePierce+=2}),"AB+":new Oe("AB+","Great shot",1600,"Faster, further, friendlier, if by that you mean deadlier.",t=>{t.projectileSpeed+=yt*10,t.increaseDamage(25),t.range+=He,t.baseRange+=He}),"BC+":new Oe("BC+","More arrows",1e3,"More arrows more better.",t=>{t.arrowNumber+=2}),"CA+":new Oe("CA+","Spot Weakspot",500,"Hit them in their weakspot for critical damage.",t=>{t.critChance+=.2,t.critMultiplier+=1}),"AB++":new Oe("AB++","Charged shot",3250,"Even more powerful shot, deal bonus damage based on the time since the last shot.",t=>{t.increaseDamage(50),t.getDamage=()=>{const e=-t.currentCooldown+t.cooldown;return t.damage+e}}),"BC++":new Oe("BC++","Blot out the sun",3e3,"Let them fight in the shadow.",t=>{t.arrowNumber+=13}),"CA++":new Oe("CA++","Luck is also a skill",1900,"Rely entirely on luck for those nice and big numbers.",t=>{t.critChance+=.2,t.critMultiplier+=2,t.projectilePierce+=1})}});class Eo{constructor(n,t,e,u,d,h,r){W(this,"name");W(this,"id");W(this,"duration");W(this,"onApply");W(this,"onRemove");W(this,"onPurchase");W(this,"onSkillPurchase");this.name=n,this.id=r??_.random(),this.duration=h??99999,this.onApply=t,this.onRemove=e,this.onPurchase=u,this.onSkillPurchase=d}copy(n){return new Eo(this.name,this.onApply,this.onRemove,this.onPurchase,this.onSkillPurchase,n??this.id)}}const lc=(s="FreeBarricade")=>new Eo(s,n=>{},n=>{},(n,t,e)=>(e||n.name)!==Br[Vr.BARRIER].name?t:0,(n,t,e)=>t),Wd=(s,n,t,e=_)=>{const u=t/2,d=t/3,h=t/4,r=t*(3/10);e.push(),e.translate(s,n),e.stroke(Ut),e.strokeWeight(1),e.beginShape(),e.vertex(0,-u),e.quadraticVertex(d/2*1.1,-u/2*1.1,h,0),e.quadraticVertex(r,r,0,d),e.quadraticVertex(-r,r,-h,0),e.quadraticVertex(-d/2*1.1,-u/2*1.1,0,-u),e.endShape(),e.pop()},eg=(s,n,t,e="oiled")=>new Rr(e,s,"ON_TAKE_DAMAGE",(u,d,h={damage:new ir("PHYSICAL",0)})=>{h.damage.type==="FIRE"&&(h.damage.amount*=n)},(u,d)=>{_.fill(Ar),Wd(d.x,d.y,u.size/2)},u=>{u.multiplicativeMaxForceBuffs.push(t),u.recalcMaxForceBuffs()},u=>{an(t,u.multiplicativeMaxForceBuffs),u.recalcMaxForceBuffs()}),ha=(s,n,t)=>{const e=t/2,u=e-t/4,d=e-t/6,h=_.PI/40,r=_.PI/10;let p=0,f=0,g=!0;const m=[];for(;p<_.TWO_PI;){g?f=_.random(u,d):f=_.random(d,e);const i=s+_.cos(p)*f,o=n+_.sin(p)*f;m.push(_.createVector(i,o)),p+=_.random(h,r),g=!g}return m},fa=(s,n=_)=>{n.push(),n.noStroke(),n.beginShape();for(const t of s)n.vertex(t.x,t.y);n.endShape(n.CLOSE),n.pop()};class Qn{constructor(n,t,e,u,d,h,r,p){W(this,"duration");W(this,"color");W(this,"size");W(this,"pos");W(this,"vertices");W(this,"show");W(this,"onExpire");W(this,"vel");this.pos=n.copy(),this.vel=(p==null?void 0:p.copy())??_.createVector(0,0),this.size=t,this.duration=e,this.color=u,this.vertices=d,this.show=h,this.onExpire=r}update(){return this.duration--,this.show(this),this.pos.add(this.vel),this.duration<=0}}const Fi=(s,n,t=5,e=_.color(_n))=>{const u=ha(s.x,s.y,n);return new Qn(s,n,t,e,u,()=>{_.fill(e),fa(u)},()=>{const h=ha(s.x,s.y,n*.6666666666666666);return new Qn(s,n*(2/3),t,e,h,()=>{_.fill(e),fa(h)},()=>{const r=ha(s.x,s.y,n/2);return new Qn(s,n/2,t,e,r,()=>{_.fill(e),fa(r)},()=>{})})})},jo=(s,n,t,e=0,u=1,d=_)=>{const h=t/2,r=t/3,p=t/4,f=t*(3/10);d.push(),d.translate(s,n),d.rotate(e),d.stroke(Ut),d.strokeWeight(u),d.beginShape(),d.vertex(0,-h),d.quadraticVertex(r/2*1.1,-h/2*1.1,p,0),d.quadraticVertex(f,f,0,r),d.quadraticVertex(-f,f,-p,0),d.quadraticVertex(-r/2*1.1,-h/2*1.1,0,-h),d.endShape(),d.pop()},zd=(s,n,t,e="burn")=>new Rr(e,n,"NORMAL",d=>{d.takeDamage(new ir("FIRE",s));const h=ut.Vector.random2D().setMag(_.min(d.maxForce,d.desiredSpeed)*t);d.applyForce(h)},(d,h)=>{_.fill($o),jo(h.x,h.y,d.size/2)},d=>{},d=>{}),tg=(s,n,t,e=1,u=_.color(Bi))=>new Qn(s,n,e,u,[],()=>{const h=_.TWO_PI/42;let r=n,p=0,f=!0,g=[_.createVector(s.x+_.cos(p)*r,s.y+_.sin(p)*r)];_.push(),_.noStroke(),_.fill(u),_.beginShape();for(let m=0;m<42;m++){for(let i=1;i<3;i++)f?r=t:r=n,g[i]=_.createVector(s.x+_.cos(p)*r,s.y+_.sin(p)*r),f=!f,p+=h;_.triangle(g[0].x,g[0].y,g[1].x,g[1].y,g[2].x,g[2].y),g[0]=g[2]}_.endShape(_.CLOSE),_.pop()},()=>{}),rg=(s,n,t="BuildDiscount")=>new Eo(t,e=>{},e=>{},(e,u,d)=>{const h=d||e.name;return n&&h!==n?u:_.ceil(u*s)},(e,u,d)=>u),ng=(s,n="TowerRangeBuffMulti")=>new Eo(n,t=>{t.rangeBuffsMultiplicative.push(s),t.recalcRangeBuffs()},t=>{an(s,t.rangeBuffsMultiplicative),t.recalcRangeBuffs()},(t,e)=>e,(t,e)=>e),og=(s,n,t,e=0,u=os,d=255)=>{const h=t/4,r=t/6,p=t/9;_.push(),_.translate(s,n),_.rotate(e),_.noStroke(),_.fill([...u,d]),_.circle(0,0,t),_.stroke([...Rl,d]);for(let f=0;f<7;f++){_.rotate(_.TWO_PI/7),_.strokeWeight(3),_.line(0,0,0,h),_.push(),_.translate(0,h),_.rotate(_.TWO_PI/10);for(let g=0;g<2;g++){_.strokeWeight(2),_.line(0,0,0,r),_.push(),_.translate(0,r),_.rotate(_.TWO_PI/14);for(let m=0;m<2;m++)_.strokeWeight(1),_.line(0,0,0,p),_.rotate(-_.TWO_PI/7);_.pop(),_.rotate(-_.TWO_PI/5)}_.pop(),_.strokeWeight(3),_.line(0,0,0,h)}_.pop()},sg=(s,n,t=6,e=os)=>new Qn(s,n,t,_.color(e),[],()=>{og(s.x,s.y,n,0,e,t*10)},()=>{}),ig=(s,n,t,e=0,u=_)=>{const d=t/2,h=t*(3/8),r=t*(1/11),p=t/30;u.push(),u.translate(s,n),u.rotate(e),u.beginShape(),u.vertex(-d,h),u.vertex(-d,-r),u.quadraticVertex(-h,-d,-p,-d),u.vertex(-p,h),u.endShape(u.CLOSE),u.beginShape(),u.vertex(d,h),u.vertex(d,-r),u.quadraticVertex(h,-d,p,-d),u.vertex(p,h),u.endShape(u.CLOSE),u.pop()},ag=(s,n,t,e=0,u=_)=>{const d=t/2,h=t*(3/8),r=t*(1/11),p=t/5;u.push(),u.translate(s,n),u.rotate(e),u.beginShape(),u.vertex(-d,h),u.vertex(-d,-r),u.quadraticVertex(-h,-d,-p,-d),u.vertex(-p,h),u.endShape(u.CLOSE),u.beginShape(),u.vertex(d,h),u.vertex(d,-r),u.quadraticVertex(h,-d,p,-d),u.vertex(p,h),u.endShape(u.CLOSE),u.pop()};class lg extends Gd{constructor(t,e,u,d={}){super(t,e,u,d);W(this,"colorArr");W(this,"colorWeight");this.colorArr=d.colorArr??Ol,this.colorWeight=_.random()}show(){_.push(),_.fill(Pl(this.colorArr,Bi,this.colorWeight,200)),cr(this.pos.x,this.pos.y,this.size,!1,_),_.pop()}}const ug=(s,n={})=>{const t=He*.6;return new lg(s.x,s.y,t,{desiredSpeed:0,maxForce:0,damage:0,hp:n.hp??100,hpLossPerFrame:n.hpLoss??.1,mass:1,goldValue:0,color:_.color(n.color??Bi),colorArr:n.color,attackRadius:t})},Qt=Object.freeze({name:"Barricade",description:"",hotkey:"b",keycode:66,range:0,cooldown:200,cost:50,damage:10,earthquakeDamage:40,earthquakeCooldown:300,oilForceDebuff:.8,oilFireBuff:1.2,oilDuration:100,burnDamage:1,burnDuration:50,burnPanicSpeedIncrease:1.5,neighborBuildDiscount:.9,neighborRangeBuffPercent:1.1,summonBarrierCooldown:750,summonBarrierHp:300,maouHealPerRound:1,projectileSpeed:0,towerType:"NORMAL",rgb:Bi,showSymbol:(s,n)=>{}});class cg extends Sn{constructor(t,e,u,d,h,r,p,f,g,m,i){super(t,e,u,d,h,Qt.name,r,p,f,g,m,i);W(this,"oilForceDebuff");W(this,"oilFireBuff");W(this,"oilDuration");W(this,"burnDamage");W(this,"baseBurnDamage");W(this,"burnDuration");W(this,"burnPanicSpeedIncrease");W(this,"neighborBuildDiscount");W(this,"neighborRangeBuffPercent");W(this,"maouHealPerRound");W(this,"earthquakeDamage");W(this,"earthquakeCooldown");W(this,"earthquakeCurrentCooldown");W(this,"gateOpen");W(this,"summonBarrierCooldown");W(this,"summonBarrierCurrentCooldown");W(this,"summonBarrierHp");W(this,"summonedBarriers");this.oilForceDebuff=Qt.oilForceDebuff,this.oilFireBuff=Qt.oilFireBuff,this.oilDuration=Qt.oilDuration,this.burnDamage=Qt.burnDamage,this.baseBurnDamage=Qt.burnDamage,this.burnDuration=Qt.burnDuration,this.burnPanicSpeedIncrease=Qt.burnPanicSpeedIncrease,this.neighborBuildDiscount=Qt.neighborBuildDiscount,this.neighborRangeBuffPercent=Qt.neighborRangeBuffPercent,this.maouHealPerRound=Qt.maouHealPerRound,this.earthquakeDamage=Qt.earthquakeDamage,this.earthquakeCooldown=Qt.earthquakeCooldown,this.earthquakeCurrentCooldown=Qt.earthquakeCooldown,this.gateOpen=!1,this.summonBarrierCooldown=Qt.summonBarrierCooldown,this.summonBarrierCurrentCooldown=Qt.summonBarrierCooldown,this.summonBarrierHp=Qt.summonBarrierHp,this.summonedBarriers=[]}showSymbol(t=this.pos){}update(){this.showSpikes(),this.earthquakeCurrentCooldown--,this.earthquakeCurrentCooldown<=0&&this.shootEarthquake()&&(this.earthquakeCurrentCooldown=this.earthquakeCooldown);for(let t=this.summonedBarriers.length-1;t>=0;t--)this.summonedBarriers[t].hp<=0&&this.summonedBarriers.splice(t,1);return this.tryBarrier(),super.update()}tryBarrier(){}summonBarrier(t,e=Ol,u=this.summonBarrierHp){const d=ug(t.pos.copy(),{hp:u,hpLoss:0,color:e});d.radius=d.size*(2+_.sqrt(3))/4,this.summonedBarriers.push(d),et.addObstacle(d)}showSpikes(){}shoot(){return!1}shootEarthquake(){return!1}getStatuses(){return[this.getOiled()]}getOiled(){return eg(this.oilDuration,this.oilFireBuff,this.oilForceDebuff)}getBurn(){return zd(this.burnDamage,this.burnDuration,this.burnPanicSpeedIncrease)}recalcDamageBuffs(){super.recalcDamageBuffs(),this.burnDamage=this.baseBurnDamage;for(const t of this.damageBuffsMultiplicative)this.burnDamage*=t}}const uc=(s,n={})=>new cg(s.pos.x,s.pos.y,s.r,s.q,s.size,Qt.range,Qt.damage,Qt.projectileSpeed,Qt.cooldown,Qt.cost,{color:_.color(Qt.rgb),wall:!0,isTower:!0,type:s.type,data:s.data,spendValue:n.changedCost??Qt.cost,projectileColor:_.color(Ar),upgrades:{A:new Oe("A","Oil Vats",200,"Imps on top of the Barricade pour oil down periodically, covering those passing beneath, making them slightly less coordinated and more susceptible to fire damage.",t=>{t.baseRange===0&&t.increaseRange(He*1.7),t.shoot=()=>{const e=Gt.inRangeCircle(t.pos,t.range);if(e.length<1)return!1;const u=kl[t.targetingType].function(t.pos,e),d=Gt.inRangeCircle(u.pos,He),h=t.getStatuses();for(const r of d)for(const p of h)r.applyStatus(p);return et.addVisual(Fi(u.pos,He,3,t.projectileColor)),!0}},!0),B:new Oe("B","Barricraze",50,"Makes building Barricades adjecent to this one free. That's crazy!",t=>{const e=je.getNeighbors(t.r,t.q);for(const u of e){const d=lc();u.applyBuff(d),t.buffsThisApplied.push(d)}t.onSell=()=>{const u=je.getNeighbors(t.r,t.q);for(const d of t.buffsThisApplied)for(const h of u)h.removeBuff(d.id)}},!0),C:new Oe("C","Spikes",75,"Put some spikes all over the surface of the Barricade, so enemies hurt themselves if they run into it. Or if you make them do so.",t=>{t.onCollision=()=>new ir("PHYSICAL",t.damage),t.showSpikes=()=>{t.gateOpen||et.addVisual(tg(t.pos.copy(),t.size*.9,t.collisionRadius*1.2,2,_.color(Ut)))}},!0),"A+":new Oe("A+","Burning Oil",250,"The imps pour burning oil instead of regular, burning enemies instead of getting them oiled up.",t=>{t.projectileColor=_.color($o),t.getStatuses=()=>[t.getBurn()]}),"B+":new Oe("B+","Barricade Town",100,"Makes every new Barricade in a three tile radius free. 'Heh, this is just one small step towards the completion of my master plan.'",t=>{const e=je.getNeighborsArea(t.r,t.q,3);for(const u of e){const d=lc();u.applyBuff(d),t.buffsThisApplied.push(d)}t.onSell=()=>{const u=je.getNeighborsArea(t.r,t.q,3);for(const d of t.buffsThisApplied)for(const h of u)h.removeBuff(d.id)}}),"C+":new Oe("C+","Giant Spikes",400,"Adds rather oversized spikes to the sides of the Barricade, increasing collision damage, and slightly increases size, so those collisions happen more easily.",t=>{t.increaseDamage(15),t.collisionRadius*=1.2}),AB:new Oe("AB","Strong Foundation",150,"The strong foundation provided by the Barricade makes it cheaper to build towers adjecent to it.",t=>{const e=je.getNeighbors(t.r,t.q);for(const u of e){const d=rg(t.neighborBuildDiscount);u.applyBuff(d),t.buffsThisApplied.push(d)}}),BC:new Oe("BC","Rooftop Garden",80,"Some alternative green imps have decided to keep a rooftop garden. It's not really our style, but at least the fresh veggies boost our health.",t=>{t.onWaveEnd=()=>{et.increaseHp(t.maouHealPerRound)}}),CA:new Oe("CA","Ar-range-ment",125,"An imp made a dark deal to increase the Barricade's range in exchange for a constant uttering of puns. Scum.",t=>{t.increaseRange(He*.5)}),"AB+":new Oe("AB+","Neighborhood Watch",350,"The vigilant imps on top of the Barricade keep watch for their entire neighborhood, slightly increasing their range. Wouldn't want any undesirables fouling up our pristine community now would we",t=>{const e=je.getNeighbors(t.r,t.q);for(const u of e){const d=ng(t.neighborRangeBuffPercent);u.applyBuff(d),t.buffsThisApplied.push(d)}}),"BC+":new Oe("BC+","Earthquakes",320,"Whatever those imps are doing in the basement is causing some minor earthquakes, dealing a bit of damage to everything directly around the Barricade.",t=>{t.baseRange===0&&t.increaseRange(He*1.7),t.shootEarthquake=()=>{const e=Gt.inRangeCircle(t.pos,t.range);if(e.length<1)return!1;for(const u of e)u.takeDamage(new ir("PHYSICAL",t.earthquakeDamage));return et.addVisual(sg(t.pos,t.range*2,12)),!0}}),"CA+":new Oe("CA+","Defensive Perimeter",500,"An imp with a talent for magic summons a small barrier next to Barricade, blocking the heroes passage until it is destroyed.",t=>{t.tryBarrier=()=>{if(t.summonBarrierCurrentCooldown--,t.summonBarrierCurrentCooldown>0)return;t.summonBarrierCurrentCooldown=t.summonBarrierCooldown;const e=je.getNeighbors(t.r,t.q);for(let u=e.length-1;u>=0;u--){if(!(e[u].canUnit||e[u].canWaterUnit)){e.splice(u,1);continue}for(const d of t.summonedBarriers)if(d.pos.x===e[u].pos.x&&d.pos.y===e[u].pos.y){e.splice(u,1);break}}e.length<1||t.summonBarrier(_.random(e))}}),"AB++":new Oe("AB++","Community Pool",1700,"A tropical swimming pool is just what this burgeoning community needs! Destroys the Barricade to leave a water tile behind.",t=>{je.setBuilderTileType(t,bt.WATER),t.spendValue=0,et.sellTower(t)}),"BC++":new Oe("BC++","Great Gate (Ability)",2425,"Turns the Barricade into a grand gate, allowing heroes to pass with the push of a lever.",t=>{t.ultCooldown=As/2,t.ultCurrentCooldown=50,t.ultimate=()=>{if(t.gateOpen=!t.gateOpen,t.wall=!t.wall,t.canUnit=!t.canUnit,t.canWaterUnit=!t.canWaterUnit,je.generateAllPathsThroughFloodFill(Yt.spawners,et.bases,!0)){et.generateAllNeccesaryPaths();return}t.ultCurrentCooldown=0,t.gateOpen=!t.gateOpen,t.wall=!t.wall,t.canUnit=!t.canUnit,t.canWaterUnit=!t.canWaterUnit},t.shouldShowUltCooldown=()=>{t.showUltCooldown()},t.showSymbol=(e=t.pos)=>{_.push(),_.stroke(Ut),_.strokeWeight(1),_.fill(_n),t.gateOpen?ag(e.x,e.y,t.size):ig(e.x,e.y,t.size),_.pop()}}),"CA++":new Oe("CA++","You Shall Not Pass (Ability)",1500,"One of imps summons barriers all around the Barricade, temporarily stopping the heroes. With some dramatic flair.",t=>{t.ultCooldown=As,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{for(const u of t.summonedBarriers)u.hp=0;const e=je.getNeighbors(t.r,t.q);for(let u=e.length-1;u>=0;u--)(e[u].canUnit||e[u].canWaterUnit)&&t.summonBarrier(e[u],ss,t.summonBarrierHp*2)},t.shouldShowUltCooldown=()=>{t.showUltCooldown()}})}}),qd=(s,n,t,e=0,u=_)=>{const d=t/2,h=t/3,r=84,p=u.TWO_PI/r,f=6;let g=h,m=e,i=!0;u.push(),u.stroke(Ut),u.strokeWeight(1),u.beginShape();for(let o=0;o<r;o++){i?g=d:g=h;const a=s+u.cos(m)*g,l=n+u.sin(m)*g;u.vertex(a,l),o%f===0&&(i=!i),m+=p}u.endShape(u.CLOSE),u.pop()},Ur={name:"Gravi-tech Tower",description:"",hotkey:"g",keycode:71,range:He*4,cooldown:1e3,cost:1200,damage:0,projectileSpeed:6,towerType:"NORMAL",rgb:Kn,attractionForce:yt*.1,capacity:5,showSymbol:(s,n,t={angle:0})=>{_.fill(Bd),qd(s.x,s.y,n,t.angle)}};class dg extends Sn{constructor(t,e,u,d,h,r,p,f,g,m,i,o,a){super(t,e,u,d,h,Ur.name,r,p,f,g,m,a);W(this,"attractionForce");W(this,"active");W(this,"capacity");this.attractionForce=i,this.capacity=o,this.active=!0}showSymbol(t=this.pos){_.push(),_.fill(Bd),qd(t.x,t.y,this.size,this.lastShotAngle),_.pop()}update(){return this.active?(this.lastShotAngle+=.03,this.shoot()):(this.currentCooldown--,this.currentCooldown<=0&&(this.currentCooldown=this.cooldown,this.active=!0)),this.handleBuffs(),this.ultCooldown--,!0}baseShoot(){const t=Gt.inRangeCircle(this.pos,this.range);if(!(t.length<1)){for(let e=0;e<t.length;e++){const u=ut.Vector.sub(this.pos,t[e].pos).setMag(this.attractionForce*t[e].mass);t[e].applyForce(u)}t.length>this.capacity&&(this.active=!1)}}shoot(){return this.baseShoot(),!0}}const hg=(s,n={})=>new dg(s.pos.x,s.pos.y,s.r,s.q,s.size,Ur.range,Ur.damage,Ur.projectileSpeed,Ur.cooldown,Ur.cost,Ur.attractionForce,Ur.capacity,{color:_.color(Ur.rgb),projectileColor:_.color(Ur.rgb),projectilePierce:100,wall:!0,isTower:!0,type:s.type,data:s.data,spendValue:n.changedCost??Ur.cost,upgrades:{A:new Oe("A","Field stabilizer",1300,"Stabilize the gravitational field to increase it's capacity to hold units.",t=>{t.capacity+=5},!0),B:new Oe("B","Reserve cell",500,"By keeping a center gravity cell in reserve the tower can be restarted after failure twice as fast.",t=>{t.cooldown-=500,t.baseCooldown-=500},!0),C:new Oe("C","Greater field",1e3,"Affect a slightly bigger area.",t=>{t.increaseRange(He/2)},!0),"A+":new Oe("A+","Micromanage flow",4e3,"Strengthen the field in places with a lot of units by weakening parts that aren't being used, increasing capacity beyond it's limits.",t=>{t.capacity+=10}),"B+":new Oe("B+","Placeholder",0,"Gotta think of somehing.",t=>{}),"C+":new Oe("C+","Grand field",2e3,"Spread the field as far as possible without letting it collapse.",t=>{t.increaseRange(He)}),AB:new Oe("AB","Repulsion wave",0,"Gotta.",t=>{}),BC:new Oe("BC","Placeholder",0,"Gotta think of somehing.",t=>{}),CA:new Oe("CA","Placeholder",0,"Gotta think of somehing.",t=>{}),"AB+":new Oe("AB+","Placeholder",0,"Gotta think of somehing.",t=>{}),"BC+":new Oe("BC+","Placeholder",0,"Gotta think of somehing.",t=>{}),"CA+":new Oe("CA+","Placeholder",0,"Gotta think of somehing.",t=>{}),"AB++":new Oe("AB++","Placeholder",0,"Gotta think of somehing.",t=>{}),"BC++":new Oe("BC++","Placeholder",0,"Gotta think of somehing.",t=>{}),"CA++":new Oe("CA++","Placeholder",0,"Gotta think of somehing.",t=>{})}}),fg=(s,n,t)=>{const e=t/2,u=t/4;_.push(),_.rectMode(_.CENTER),_.rect(s,n,e,e),_.rect(s,n+u,t,t/15),_.pop()},Yd=(s,n,t,e=_.color(Ar))=>{const u=t/2,d=t*(1/4),h=t*(1/12),r=t*(3/4),p=t/3,f=t*(2/3),g=_.createVector(s+h,n+h),m=_.PI,i=_.createVector(g.x+_.cos(m)*h*2,g.y+_.sin(m)*h*2),o=_.createVector(g.x+_.cos(m)*h*6,g.y+_.sin(m)*h*6),a=_.PI*(3/5),l=_.createVector(g.x+_.cos(a)*d,g.y+_.sin(a)*d),c=_.PI*(11/12),y=_.createVector(g.x+_.cos(c)*h*6,g.y+_.sin(c)*h*6),w=_.PI*(5/6),x=_.createVector(g.x+_.cos(w)*f,g.y+_.sin(w)*f),S=_.PI*-4/5,E=_.createVector(g.x+_.cos(S)*h,g.y+_.sin(S)*h);_.strokeWeight(1),_.circle(g.x,g.y,u),_.beginShape(),_.vertex(i.x,i.y),_.quadraticVertex(o.x,o.y,x.x,x.y),_.quadraticVertex(y.x,y.y,l.x,l.y),_.endShape(),_.fill(Ii),_.stroke(0),fg(g.x,g.y-p,r),_.fill(e),_.circle(E.x,E.y,h)},pg=-.5*_.PI,mg=_.color(Ad),cc=(s,n,t)=>{const e=t/2,u=t/10,d=e-u;_.beginShape(),_.vertex(s+e,n-u),_.vertex(s-d,n-u),_.quadraticVertex(s-e,n-u,s-e,n),_.quadraticVertex(s-e,n+u,s-d,n+u),_.vertex(s+e,n+u),_.endShape(_.CLOSE)},gg=(s,n,t,e=mg,u=pg)=>{const d=t/20,h=t*(9/11),r=t/2,p=t/4;_.push(),_.translate(s,n),_.rotate(u),_.rectMode(_.CENTER),_.fill(Ar),cc(0,0,t),_.rect(r,0,d,p),_.fill(e),cc(-d,0,h),_.pop()};class dc extends In{constructor(t,e,u,d,h,r,p,f,g,m,i,o={}){super(t,e,u,p,g,m,i,o);W(this,"showAngle");W(this,"changeAngle");W(this,"zPos");W(this,"zVel");W(this,"zAcc");W(this,"explosionRadius");this.zPos=d,this.zVel=h,this.zAcc=r,this.showAngle=-_.PI/2,this.changeAngle=_.random(-_.PI/4,_.PI/4),this.explosionRadius=f}show(){_.push(),gg(this.pos.x,this.pos.y,this.size+this.zPos/(He*.1),this.color,this.showAngle),_.pop()}update(){return this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0),this.zVel+=this.zAcc,this.zPos+=this.zVel,this.zPos<=0?(this.hit(),!0):(this.showAngle+=this.changeAngle,!1)}hit(){et.addVisual(Fi(this.pos,this.explosionRadius*2,2,_.color(this.color)));const t=Gt.inRangeCircle(this.pos,this.explosionRadius);for(const e of t){if(this.pierce<=0)break;const u=this.damage*(_.random()<this.critChance?this.critMultiplier:1);e.takeDamage(new ir(this.damageType,u));for(let d=0;d<this.statuses.length;d++)e.applyStatus(this.statuses[d]);this.pierce--}}}const Fa=(s,n,t="poison")=>new Rr(t,n,"NORMAL",u=>{u.takeDamage(new ir("POISON",s))},(u,d)=>{_.fill(Z0),Wd(d.x,d.y,u.size/2)}),yg=(s,n,t,e=0,u=_)=>{const d=t/2,h=t/20,r=t/12,p=r*2;u.push(),u.translate(s,n),u.rotate(e),u.stroke(Ut),u.strokeWeight(1),u.beginShape(),u.vertex(p,-d),u.vertex(h,-r),u.vertex(p,-r),u.vertex(-p,d),u.vertex(-h,r),u.vertex(-p,r),u.endShape(u.CLOSE),u.pop()},vg=5,Xd=(s,n,t,e=vg,u=_)=>{e%2==0&&(e+=1);let d=-u.PI/2;u.beginShape();for(let h=0;h<e;h++){d+=u.TWO_PI*(u.ceil(e/2)/e);const r=s+u.cos(d)*t,p=n+u.sin(d)*t;u.vertex(r,p)}u.endShape(u.CLOSE)},$d=(s,n,t="PASSIVE")=>new Rr(n,s,t,u=>{},(u,d)=>{_.push(),_.fill(Ar),_.noStroke(),Xd(d.x,d.y,u.size*.3333333333333333,8),_.pop()},u=>{},u=>{},!0),bg=(s,n="paralysis")=>new Rr(n,s,"NORMAL",e=>{e.acc.setMag(0),e.vel.setMag(0)},(e,u)=>{_.fill(Xo),yg(u.x,u.y,e.size*.6666666666666666)},e=>{},e=>{e.applyStatus($d(s/2,n,"NORMAL"))}),Gr=Object.freeze({name:"Plague Slinger",description:"",hotkey:"p",keycode:80,range:He*4,cooldown:120,cost:500,damage:10,poisonDuration:500,poisonDamage:.2,projectileSpeed:yt*6,towerType:"NORMAL",explosionRadius:He,rgb:Rd,showSymbol:(s,n,t={})=>{_.fill(Ut),Yd(s.x,s.y,n*1.5)}});class wg extends Sn{constructor(t,e,u,d,h,r,p,f,g,m,i,o,a,l){super(t,e,u,d,h,Gr.name,r,p,m,i,o,l);W(this,"vialNumber");W(this,"poisonName");W(this,"poisonDamage");W(this,"poisonBaseDamage");W(this,"poisonDuration");W(this,"paralysisDuration");W(this,"explosionRadius");this.vialNumber=1,this.poisonName="Slinger",this.poisonDamage=f,this.poisonBaseDamage=f,this.poisonDuration=g,this.paralysisDuration=0,this.explosionRadius=a}showSymbol(t=this.pos){_.push(),_.fill(Ut),Yd(t.x,t.y,this.size*1.5),_.pop()}getStatuses(){return[this.getPoison()]}getPoison(){return Fa(this.poisonDamage,this.poisonDuration,this.poisonName)}getParalysis(){return bg(this.paralysisDuration)}baseShoot(){const t=Gt.inRangeCircle(this.pos,this.range);if(t.length<1)return;let e=0,u=this.range**2;for(let o=0;o<t.length;o++){const a=Ht(t[o].pos,this.pos);a<u&&(u=a,e=o)}const d=t[e],h=this.getStatuses(),r=this.range/this.projectileSpeed,p=d.pos.copy();for(let o=1;o<=r;o++){p.add(d.vel);const a=Ht(p,this.pos);if(a<(this.projectileSpeed*o)**2||a>this.range*this.range)break}const f=ut.Vector.sub(p,this.pos),g=_.floor(f.mag()/this.projectileSpeed);f.setMag(this.projectileSpeed);const m=-1*(2*He/g);return new dc(this,this.pos.copy(),f,0,He,m,20,this.explosionRadius,this.getDamage(),"EXPLOSION",r,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:h})}shoot(){const t=this.baseShoot();if(t===void 0)return!1;et.addProjectile(t);const e=this.vialNumber-1;this.lastShotAngle=t.vel.heading();const u=_.PI/4,d=.5;for(let h=0;h<e;h++){const r=this.lastShotAngle+_.random(-u,u),p=ut.Vector.fromAngle(r);p.setMag(t.vel.mag());const f=t.zAcc*1+_.random(-d,d),g=[];for(let i=0;i<t.statuses.length;i++)g.push(t.statuses[i].copy());const m=new dc(this,this.pos.copy(),p,t.zPos,t.zVel,f,t.size,t.explosionRadius,t.damage,"EXPLOSION",t.lifeSpan,{color:this.projectileColor,pierce:t.pierce,critChance:t.critChance,critMultiplier:t.critMultiplier,statuses:g});et.addProjectile(m)}return!0}increasePoisonDamage(t){this.poisonBaseDamage+=t,this.poisonDamage+=t}recalcDamageBuffs(){super.recalcDamageBuffs(),this.poisonDamage=this.poisonBaseDamage;for(const t of this.damageBuffsMultiplicative)this.poisonDamage*=t}}const xg=(s,n={})=>new wg(s.pos.x,s.pos.y,s.r,s.q,s.size,Gr.range,Gr.damage,Gr.poisonDamage,Gr.poisonDuration,Gr.projectileSpeed,Gr.cooldown,Gr.cost,Gr.explosionRadius,{color:_.color(Gr.rgb),projectileColor:_.color(Rd),projectilePierce:100,wall:!0,isTower:!0,type:s.type,data:s.data,spendValue:n.changedCost??Gr.cost,upgrades:{A:new Oe("A","Extra vial",300,"Poison is all in the dose, so let's dubble that shall we.",t=>{t.vialNumber+=1},!0),B:new Oe("B","Vile pitcher",250,"This slinger just got promoted to pitcher in the Mad Scientist Inc. office team.",t=>{t.range+=He,t.baseRange+=He,t.projectileSpeed+=yt*1},!0),C:new Oe("C","Paralysis coating",200,"Coats the vials with a paralizing agent.",t=>{t.paralysisDuration+=16,t.getStatuses=()=>[t.getPoison(),t.getParalysis()]},!0),"A+":new Oe("A+","Handful of vials",2400,"Don't worry about the costs, Mad Scientist Inc. buys all its glasswork wholesale.",t=>{t.vialNumber+=3}),"B+":new Oe("B+","Mecha arm",3100,"Mechanical arms allow for even further and faster throwing.",t=>{t.explosionRadius+=He/5,t.range+=He,t.baseRange+=He,t.projectileSpeed+=yt*2}),"C+":new Oe("C+","Coma inducer",2e3,"Many vipers were harmed in the production of this stronger coating.",t=>{t.paralysisDuration+=24}),AB:new Oe("AB","Unstable concoction",1e3,"The unstable contends of the vials react violently with the air, increasing explosion damage and radius.",t=>{t.explosionRadius+=He/3,t.increaseDamage(15)}),BC:new Oe("BC","Mad prodigy",1700,"Works faster and deadlier than a normal prodigy.",t=>{t.cooldown-=20,t.baseCooldown-=20,t.increasePoisonDamage(.2)}),CA:new Oe("CA","Antibody killer",750,"The poison aggresively attacks antibodies, increasing its duration and damage.",t=>{t.poisonDuration+=400,t.increasePoisonDamage(.1)}),"AB+":new Oe("AB+","Killer combustion",1200,"Make them vials go BOOM.",t=>{t.explosionRadius+=He/3,t.increaseDamage(15)}),"BC+":new Oe("BC+","Patented pathogen",1800,"This patented formula isn't available to any other plague slinger, and obviously better than anything those amateurs could have produced.",t=>{t.increasePoisonDamage(.3),t.poisonName=`Slinger-P${String(_.random())}`}),"CA+":new Oe("CA+","Mutating virus",1200,"The virus keeps mutating, making recovery incredibly slow.",t=>{t.poisonDuration+=1e3}),"AB++":new Oe("AB++","BOOOOM!",4900,"Just go boom, who cares about poison.",t=>{t.projectileColor=_.color(_n),t.explosionRadius+=He/3,t.increaseDamage(30),t.vialNumber+=1,t.poisonDamage=0,t.poisonBaseDamage=0,t.poisonDuration=0,t.getPoison=()=>Fa(0,0,"Nope")}),"BC++":new Oe("BC++","Unique strain",7e3,"Every vial is filled with it's own unique strain of the virus, each having it's own deadly effect on the victim. No one else could have done this, Muhahaha... ehem",t=>{t.increasePoisonDamage(.2),t.getPoison=()=>Fa(t.poisonDamage,t.poisonDuration,`Slinger-P-Unique-${String(_.random())}`)}),"CA++":new Oe("CA++","Eternal suffering",16e3,"The virus hijacks part of it's victems DNA to become a part of them, never to be cured.",t=>{t.poisonDuration+=998e3})}}),_g=-.5*_.PI,Sg=_.color(os),Kd=(s,n=!1)=>{const t=s/2,e=t-s/4,u=t-s/6,d=_.PI/20,h=_.PI/5;let r=0,p=0,f=!0;const g=[];for(;r<_.TWO_PI;){f&&n?p=_.random(e,u):p=_.random(u,t);const m=_.cos(r)*p,i=_.sin(r)*p;g.push(_.createVector(m,i)),r+=_.random(d,h),f=!f}return g},Ui=(s,n,t,e=_g,u=Sg)=>{_.push(),_.translate(s,n),_.rotate(e),_.strokeWeight(1),_.stroke(Ut),_.fill(u),_.beginShape();for(const d of t)_.vertex(d.x,d.y);_.endShape(_.CLOSE),_.pop()};class Qd extends In{constructor(t,e,u,d,h,r,p,f={}){super(t,e,u,d,h,r,p,f);W(this,"rockVertices");this.rockVertices=Kd(d,f.spikyRocks??!1)}show(){Ui(this.pos.x,this.pos.y,this.rockVertices)}}class Ua extends Qd{constructor(t,e,u,d,h,r,p,f={}){super(t,e,u,d,h,r,p,f);W(this,"explosionRadius");W(this,"explosionVisualDuration");W(this,"explosionColor");this.explosionRadius=f.explosionRadius??He/2,this.explosionVisualDuration=f.explosionVisualDuration??3,this.explosionColor=f.explosionColor??_n}hit(t){if(this.pierce<=0)return;et.addVisual(Fi(this.pos,this.explosionRadius*2,this.explosionVisualDuration,_.color(this.explosionColor)));const e=Gt.inRangeCircle(this.pos,this.explosionRadius);for(const u of e){const d=this.damage*(_.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(u);u.takeDamage(new ir(this.damageType,d));for(let h=0;h<this.statuses.length;h++)u.applyStatus(this.statuses[h])}this.extraActionOnHit&&this.extraActionOnHit({pos:this.pos,radius:this.explosionRadius}),this.pierce--}}const Zd=(s,n,t,e=0,u=os,d=_)=>{const h=t/3,r=d.TWO_PI/5;let p=e;d.push(),d.stroke(Ut),d.strokeWeight(1),d.circle(s,n,t*1.1);for(let f=0;f<5;f++){const g=s+d.cos(p)*h,m=n+d.sin(p)*h;d.fill(u),d.circle(g,m,h),p+=r}d.pop()},jg=(s="KoboldTeamwork")=>new Eo(s,n=>{n.name===br.name&&(n.cooldownBuffsAdditive.push(-5),n.rangeBuffsAdditive.push(He),n.maxSpoolHeatBuffsAdditive.push(500),n.recalcCooldownBuffs(),n.recalcRangeBuffs(),n.recalcHeatBuffs())},n=>{n.name===br.name&&(an(-5,n.cooldownBuffsAdditive),an(He,n.rangeBuffsAdditive),an(500,n.maxSpoolHeatBuffsAdditive),n.recalcCooldownBuffs(),n.recalcRangeBuffs(),n.recalcHeatBuffs())},(n,t)=>t,(n,t)=>t),Tg=(s="KoboldFriends",n=250)=>new Eo(s,t=>{t.damageBuffsMultiplicative.push(1.5),t.rangeBuffsAdditive.push(He*.2),t.recalcRangeBuffs(),t.recalcDamageBuffs()},t=>{an(1.5,t.damageBuffsMultiplicative),an(He*.2,t.rangeBuffsAdditive),t.recalcRangeBuffs(),t.recalcDamageBuffs()},(t,e)=>e,(t,e)=>e,n),br=Object.freeze({name:"Kobold",description:"The Kobold supports your defense with its own invention, a spool driven catapult! Every shot fires faster than the last, until the spool overheats or no target can be found.",hotkey:"k",keycode:75,range:He*3.5,cooldown:70,lowestCooldown:20,maxSpoolHeat:400,cost:300,damage:10,projectileSpeed:yt*5,towerType:"NORMAL",rgb:J0,showSymbol:(s,n,t={angle:0,heat:0})=>{_.fill(Nd),Zd(s.x,s.y,n,t.angle)}});class Eg extends Sn{constructor(t,e,u,d,h,r,p,f,g,m,i){super(t,e,u,d,h,br.name,r,p,f,g,m,i);W(this,"currentMaxCooldown");W(this,"lowestCooldown");W(this,"baseLowestCooldown");W(this,"lowestCooldownBuffsAdditive");W(this,"spoolHeat");W(this,"baseMaxSpoolHeat");W(this,"maxSpoolHeat");W(this,"maxSpoolHeatBuffsAdditive");W(this,"explosionRadius");W(this,"heatGenerationSpeed");W(this,"heatPerDamage");W(this,"spikyRocks");W(this,"extraDamageCalc",t=>0);this.currentMaxCooldown=g,this.lowestCooldown=br.lowestCooldown,this.baseLowestCooldown=br.lowestCooldown,this.lowestCooldownBuffsAdditive=[],this.spoolHeat=0,this.maxSpoolHeat=br.maxSpoolHeat,this.baseMaxSpoolHeat=br.maxSpoolHeat,this.maxSpoolHeatBuffsAdditive=[],this.heatGenerationSpeed=1,this.heatPerDamage=30,this.explosionRadius=He/2,this.spikyRocks=!1}showSymbol(t=this.pos){_.push(),_.fill(Pl(qr,Nd,this.spoolHeat/1e3)),Zd(t.x,t.y,this.size,this.lastShotAngle),_.pop()}update(){return this.currentCooldown--,this.currentCooldown<=0&&(this.shoot()?(this.currentCooldown=this.currentMaxCooldown,this.spoolHeat+=_.max(this.cooldown-this.currentMaxCooldown,0)*this.heatGenerationSpeed,this.currentMaxCooldown=_.max(this.currentMaxCooldown-5,this.lowestCooldown),this.spoolHeat>this.maxSpoolHeat&&this.resetSpool()):this.resetSpool(),this.updateRange()),this.lastShotAngle-=.002*(br.cooldown-this.currentMaxCooldown+10),this.ultCurrentCooldown--,this.handleBuffs(),!0}updateRange(){this.recalcRangeBuffs()}resetSpool(){this.currentMaxCooldown=this.cooldown,this.spoolHeat=0}getProjectile(t,e){return new Qd(this,this.pos.copy(),t,this.projectileSize,this.getDamage(),"PHYSICAL",e,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,spikyRocks:this.spikyRocks,extraDamageCalc:this.extraDamageCalc})}baseShoot(){const t=Gt.inRangeCircle(this.pos,this.range);if(t.length<1)return;let e=0,u=this.range**2;for(let g=0;g<t.length;g++){const m=Ht(t[g].pos,this.pos);m<u&&(u=m,e=g)}const d=t[e],h=this.range/this.projectileSpeed,r=d.pos.copy();for(let g=1;g<=h&&(r.add(d.vel),!(Ht(r,this.pos)<(this.projectileSpeed*g)**2));g++);const p=ut.Vector.sub(r,this.pos);return p.setMag(this.projectileSpeed),this.getProjectile(p,h)}shoot(){const t=this.baseShoot();if(t===void 0)return!1;et.addProjectile(t);const e=this.projectileNumber-1,u=_.PI;for(let d=0;d<e;d++){const h=_.random(-u,u),r=ut.Vector.fromAngle(h);r.setMag(t.vel.mag());const p=[];for(let g=0;g<t.statuses.length;g++)p.push(t.statuses[g].copy());const f=this.getProjectile(r,t.lifeSpan);et.addProjectile(f)}return!0}recalcCooldownBuffs(){super.recalcCooldownBuffs(),this.lowestCooldown=this.baseLowestCooldown;for(const t of this.lowestCooldownBuffsAdditive)this.lowestCooldown+=t}recalcHeatBuffs(){this.maxSpoolHeat=this.baseMaxSpoolHeat;for(const t of this.maxSpoolHeatBuffsAdditive)this.maxSpoolHeat+=t}findAllConnected(){const t=[this],e=[],u=[];for(;t.length>0;){const d=t[0],h=je.getNeighbors(d.r,d.q);for(const r of h)!r.isTower||je.hexInArray(r,[...e,...t])||(u.push(r),r.name===this.name?t.push(r):e.push(r));e.push(d),t.splice(0,1)}return u}}const Cg=(s,n={})=>new Eg(s.pos.x,s.pos.y,s.r,s.q,s.size,br.range,br.damage,br.projectileSpeed,br.cooldown,br.cost,{color:_.color(br.rgb),wall:!0,isTower:!0,type:s.type,data:s.data,spendValue:n.changedCost??br.cost,upgrades:{A:new Oe("A","Bigger Rocks",200,"Bigger rock deal more damage, and hit slightly easier. Not really rocket science is it.",t=>{t.increaseDamage(15),t.projectileSize+=He/4},!0),B:new Oe("B","Fans",300,"The type that cools you off, not the type that brings the heat.",t=>{t.maxSpoolHeat+=250,t.baseMaxSpoolHeat+=250},!0),C:new Oe("C","Balanced Speed",350,"Longest cooldown is faster, because control is king.",t=>{t.cooldown-=10,t.baseCooldown-=10},!0),"A+":new Oe("A+","Spiky Rocks",550,"Hand selected spiky rocks, spikier than normal rocks, the spikiest really!",t=>{t.increaseDamage(25),t.spikyRocks=!0}),"B+":new Oe("B+","Heat Sink",1200,"A giant heat sink, allowing the kobold to fire at maximum speed for a long time.",t=>{t.maxSpoolHeat+=1400,t.baseMaxSpoolHeat+=1400}),"C+":new Oe("C+","Min Maxing",750,"Optimize your spool, increase both the minimum and maximum speed.",t=>{t.cooldown-=10,t.baseCooldown-=10,t.lowestCooldown-=10,t.baseLowestCooldown-=10,t.recalcCooldownBuffs()}),AB:new Oe("AB","Packing Heat",650,"Packs the rocks with explosive powder, dealing damage in a small area around the impact.",t=>{t.explosionRadius+=He/2,t.getProjectile=(e,u)=>new Ua(t,t.pos.copy(),e,t.projectileSize,t.getDamage(),"EXPLOSION",u,{color:t.projectileColor,pierce:t.projectilePierce,critChance:t.critChance,critMultiplier:t.critMultiplier,explosionRadius:t.explosionRadius,spikyRocks:t.spikyRocks,extraDamageCalc:t.extraDamageCalc})}),BC:new Oe("BC","Harness the Heat",1500,"As the spool heats up the rocks get hotter and fire faster, dealing increased damage.",t=>{t.heatPerDamage-=5,t.getDamage=()=>t.damage+t.spoolHeat/t.heatPerDamage}),CA:new Oe("CA","Bully",600,"Deal extra damage based on missing health of your target. Like the big man you are.",t=>{t.extraDamageCalc=e=>{const u=1-e.hp/e.maxHp;return t.getDamage()*u}}),"AB+":new Oe("AB+","Agent of chaos",666,"Bigger explosions, extra rocks, and juicy crits, let chaos reign!",t=>{t.critChance+=.25,t.critMultiplier+=1.6,t.explosionRadius+=He/2,t.projectileNumber+=1,t.getProjectile=(e,u)=>new Ua(t,t.pos.copy(),e,t.projectileSize,t.getDamage(),"EXPLOSION",u,{color:t.projectileColor,pierce:t.projectilePierce,critChance:t.critChance,critMultiplier:t.critMultiplier,explosionRadius:t.explosionRadius,spikyRocks:t.spikyRocks,extraDamageCalc:t.extraDamageCalc})}),"BC+":new Oe("BC+","It's a Feature",2e3,"The Kobold incorporates heat generation in all aspects of the catapults desgin, increasing heat generation, but also damage and range at higher heat.",t=>{t.heatGenerationSpeed+=1,t.heatPerDamage-=5,t.getDamage=()=>t.damage+t.spoolHeat/t.heatPerDamage,t.updateRange=()=>{t.recalcRangeBuffs(),t.range+=t.spoolHeat/500*He}}),"CA+":new Oe("CA+","Team-up",1e3,"Helps out all adjecent Kobolds, Let's work together to stomp those pesky heroes!",t=>{const e=je.getNeighbors(t.r,t.q);for(const u of e){const d=jg();u.applyBuff(d),t.buffsThisApplied.push(d)}t.onSell=()=>{const u=je.getNeighbors(t.r,t.q);for(const d of t.buffsThisApplied)for(const h of u)h.removeBuff(d.id)}}),"AB++":new Oe("AB++","Chaos Incarnate",2500,"More chaos! MOAR!.",t=>{t.critMultiplier+=1.6,t.explosionRadius+=He/2,t.projectileNumber+=2}),"BC++":new Oe("BC++","Miniature Sun",6800,"The Kobold builds a giant heat sink, resembling a miniature sun, building power to an overwhelming degree, until it fails... And then you do it all over again.",t=>{t.maxSpoolHeat+=5500,t.baseMaxSpoolHeat+=5500,t.increaseDamage(10),t.projectileSpeed+=yt*5}),"CA++":new Oe("CA++","Kobold And Friends (Ability)",3350,"Together we are unstoppable! Buffs every tower connected to himself via Kobolds for a short time.",t=>{t.ultCooldown=As,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{const e=t.findAllConnected();for(const u of e){const d=Tg();u.applyTimedBuff(d)}},t.shouldShowUltCooldown=()=>{t.showUltCooldown()}})}}),Mg=(s,n,t,e=25,u=_.color($o))=>new Qn(s,t,e,u,[],d=>{_.push();const h=to(u);h.setAlpha(d.duration*10),_.stroke(h),_.strokeWeight(d.size),_.point(d.pos),_.pop()},()=>{},n);class Ag extends Ua{constructor(n,t,e,u,d,h,r,p={}){super(n,t,e,u,d,h,r,p),this.explosionRadius=p.explosionRadius??He*2}show(){_.push(),Ui(this.pos.x,this.pos.y,this.rockVertices),_.fill(this.color),jo(this.pos.x,this.pos.y-this.size/2,this.size),_.pop()}update(){return this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0),this.lifeSpan--,this.lifeSpan===0&&this.hit(this.lifeSpan),this.lifeSpan<=0||this.pierce<=0}}class Rg extends In{constructor(t,e,u,d,h,r,p,f={}){super(t,e,u,d,h,r,p,f);W(this,"width");W(this,"corners");this.width=f.width??3,this.corners=[],this.setCorners()}setCorners(){const t=this.vel.heading(),e=this.vel.copy();e.setMag(-this.size/2);const u=ut.Vector.fromAngle(t+_.PI/2);u.setMag(this.width*this.size/2),this.corners.push(ut.Vector.add(u,e)),u.mult(-1),this.corners.push(ut.Vector.add(u,e)),e.mult(-1),this.corners.push(ut.Vector.add(u,e)),u.mult(-1),this.corners.push(ut.Vector.add(u,e))}show(){const t=this.vel.heading(),e=ut.Vector.fromAngle(t+_.PI/2),u=t-_.PI/2;_.push(),_.strokeWeight(1),_.fill(this.color);for(let d=this.width-1;d>=0;d--)for(let h=0;h<2;h++){e.setMag(this.size/2*-d);const r=this.pos.x+e.x+_.random(-this.size/16,this.size/16),p=this.pos.y+e.y+_.random(-this.size/16,this.size/16);jo(r,p,this.size,u)}_.pop()}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const t=[];for(const u of this.corners)t.push(_.createVector(u.x+this.pos.x,u.y+this.pos.y));const e=Gt.inRangeRotatedRect(t);for(const u of e)this.hit(u);return this.extraActionOnMove({pos:this.pos,corners:t}),this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}}class Jd extends In{constructor(n,t,e,u,d,h,r,p={}){super(n,t,e,u,d,h,r,p),this.color=p.color??_.color($o)}show(){_.push(),_.noStroke(),_.fill(this.color);let n=_.PI/2;for(let t=0;t<6;t++){n+=_.PI/3;const e=this.pos.x+_.cos(n)*this.size*2/3,u=this.pos.y+_.sin(n)*this.size*2/3;jo(e,u,this.size/2,0,0)}jo(this.pos.x,this.pos.y,this.size/2,0,0),_.pop()}update(){const n=Gt.inRangeCircle(this.pos,this.size);for(const t of n){if(this.lifeSpan<1)break;t.takeDamage(new ir(this.damageType,this.damage));for(const e of this.statuses)t.applyStatus(e);this.lifeSpan--}if(this.lifeSpan-=10,this.lifeSpan<1){const t=je.getHexVectorFromXY(this.pos.x,this.pos.y),e=je.grid[t.x][t.y];delete e.appliedEffects.burningLand}return this.lifeSpan<1}}const Mt=Object.freeze({name:"Pyromaniac",description:"The Pyromaniac lets loose various fire attacks to burn your enemies to a crisp.",hotkey:"f",keycode:70,range:He*2.5,wallRange:He*5,cometRange:He*6,flameThrowerAngle:_.PI/6,cooldown:1,cometCooldown:500,wallCooldown:200,cost:1600,damage:1,wallDamage:30,cometDamage:400,cometExplosionRadius:He*2,baseWallSize:He*.6,wallWidthMultiplier:3,wallPierce:8,pushForce:yt*2,projectileSpeed:yt*2,towerType:"NORMAL",burnDamage:1,burnDuration:20,burnPanicSpeedIncrease:1.5,burningLandLifespan:1500,rgb:qr,flameRgb:$o,showSymbol:(s,n,t={angle:0})=>{_.push(),_.fill($o),jo(s.x,s.y,n),_.pop()}});class Og extends Sn{constructor(t,e,u,d,h,r,p,f,g,m,i){super(t,e,u,d,h,Mt.name,r,p,f,g,m,i);W(this,"cometCooldown");W(this,"currentCometCooldown");W(this,"wallCooldown");W(this,"currentWallCooldown");W(this,"flameThrowerAngle");W(this,"fireColor");W(this,"flameColor");W(this,"wallRange");W(this,"baseWallRange");W(this,"cometRange");W(this,"baseCometRange");W(this,"wallDamage");W(this,"baseWallDamage");W(this,"cometDamage");W(this,"baseCometDamage");W(this,"cometExplosionRadius");W(this,"baseWallSize");W(this,"wallWidthMultiplier");W(this,"wallPierce");W(this,"ultInProgress");W(this,"burnDamage");W(this,"baseBurnDamage");W(this,"burnDuration");W(this,"burnPanicSpeedIncrease");W(this,"pushForce");W(this,"extraDamageCalc",t=>0);W(this,"extraActionOnHit",t=>{for(let e of this.extraActionsOnHit)e(t)});W(this,"extraActionOnMove",t=>{for(let e of this.extraActionsOnMove)e(t)});this.cometCooldown=Mt.cometCooldown,this.currentCometCooldown=Mt.cometCooldown,this.wallCooldown=Mt.wallCooldown,this.currentWallCooldown=Mt.wallCooldown,this.flameThrowerAngle=Mt.flameThrowerAngle,this.fireColor=Mt.rgb,this.flameColor=Mt.flameRgb,this.wallRange=Mt.wallRange,this.baseWallRange=Mt.wallRange,this.cometRange=Mt.cometRange,this.baseCometRange=Mt.cometRange,this.wallDamage=Mt.wallDamage,this.baseWallDamage=Mt.wallDamage,this.cometDamage=Mt.cometDamage,this.baseCometDamage=Mt.cometDamage,this.cometExplosionRadius=Mt.cometExplosionRadius,this.baseWallSize=Mt.baseWallSize,this.wallWidthMultiplier=Mt.wallWidthMultiplier,this.wallPierce=Mt.wallPierce,this.burnDamage=Mt.burnDamage,this.baseBurnDamage=Mt.burnDamage,this.burnDuration=Mt.burnDuration,this.burnPanicSpeedIncrease=Mt.burnPanicSpeedIncrease,this.pushForce=Mt.pushForce,this.ultInProgress=0}showSymbol(t=this.pos){_.push(),_.fill(this.flameColor),jo(t.x,t.y,this.size),_.pop()}showRange(){_.push();let t=85;t=this.showCometRange(t),t=this.showWallRange(t);const e=to(this.color);e.setAlpha(t),_.fill(e),_.circle(this.pos.x,this.pos.y,this.range*2),_.pop()}showWallRange(t){return t}showCometRange(t){return t}update(){return this.currentCooldown--,this.currentWallCooldown--,this.currentCometCooldown--,this.currentCooldown<=0&&this.shoot()&&(this.currentCooldown=this.cooldown),this.currentWallCooldown<=0&&this.baseWall()&&(this.currentWallCooldown=this.wallCooldown),this.currentCometCooldown<=0&&this.baseComet()&&(this.currentCometCooldown=this.cometCooldown),this.progressUlt(),this.ultCurrentCooldown--,this.handleBuffs(),!0}baseShoot(){const t=Gt.inRangeCircle(this.pos,this.range);if(t.length<1)return;let e=0,u=this.range**2;for(let p=0;p<t.length;p++){const f=Ht(t[p].pos,this.pos);f<u&&(u=f,e=p)}const d=t[e],h=(ut.Vector.sub(d.pos,this.pos).heading()+_.TWO_PI)%_.TWO_PI;this.addFlameThrowerParticlesToMaou(h,8);const r=this.getStatuses();for(let p=0;p<t.length;p++){const f=(ut.Vector.sub(t[p].pos,this.pos).heading()+_.TWO_PI)%_.TWO_PI,g=h-f;if(g>-this.flameThrowerAngle&&g<this.flameThrowerAngle){t[p].takeDamage(new ir("FIRE",this.getFlameThrowerDamage()));for(let m=0;m<r.length;m++)t[p].applyStatus(r[m]);this.flameThrowerPush(t[p])}}this.burningLand(d,h)}shoot(){return this.baseShoot(),!0}burningLand(t,e){}applyBurningLand(t,e){const u=je.getHexVectorFromXY(t.pos.x,t.pos.y),d=je.grid[u.x][u.y],h=[...je.getNeighborsArea(d.r,d.q,2),d];for(let r=0;r<h.length;r++){const p=(ut.Vector.sub(h[r].pos,this.pos).heading()+_.TWO_PI)%_.TWO_PI,f=e-p;Ht(this.pos,h[r].pos)<this.range**2&&f>-this.flameThrowerAngle&&f<this.flameThrowerAngle&&this.applyBurningLandToTile(h[r])}}applyBurningLandToTile(t){if(!t.canUnit||t.isTower||t.appliedEffects.burningLand)return;const e=this.getBurningTileProjectile(t.pos,Mt.burningLandLifespan);et.addProjectile(e),t.appliedEffects.burningLand=e}flameThrowerPush(t){}applyFlameThrowerPush(t){const e=ut.Vector.sub(t.pos,this.pos).setMag(.02*this.pushForce);t.applyForce(e)}baseComet(){return!0}shootComet(){const t=Gt.inRangeCircle(this.pos,this.cometRange);if(t.length<1)return!1;let e=0,u=0;for(let h=0;h<t.length;h++){const r=t[h].hp;u<r&&(u=r,e=h)}const d=t[e];return this.shootCometAtTarget(d),!0}shootCometAtTarget(t){const e=t.pos.copy(),u=30;e.add(ut.Vector.mult(t.vel,u));const d=_.createVector(_.windowHeight/4,-_.windowWidth).add(e),h=ut.Vector.sub(e,d);h.mult(1/u);const r=this.getCometProjectile(h,d,u);et.addProjectile(r)}progressUlt(){}baseWall(){return!0}shootWall(){const t=Gt.inRangeCircle(this.pos,this.wallRange);if(t.length<1)return!1;let e=0,u=this.range**2;for(let g=0;g<t.length;g++){const m=Ht(t[g].pos,this.pos);m<u&&(u=m,e=g)}const d=t[e],h=this.wallRange*1.5/this.projectileSpeed,r=d.pos.copy();for(let g=1;g<=h&&(r.add(d.vel),!(Ht(r,this.pos)<(this.projectileSpeed*g)**2));g++);const p=ut.Vector.sub(r,this.pos);p.setMag(this.projectileSpeed);const f=this.getWallProjectile(p,this.pos,h);return et.addProjectile(f),!0}addFlameThrowerParticlesToMaou(t,e){for(let u=0;u<e;u++){const d=ut.Vector.fromAngle(t+_.random(-this.flameThrowerAngle,this.flameThrowerAngle),this.range/_.random(5,15));et.addVisual(Mg(this.pos,d,5,_.random(8,15),Tm(this.fireColor,this.flameColor)))}}getCometProjectile(t,e,u){return new Ag(this,e,t,this.projectileSize*2,this.getCometDamage(),"EXPLOSION",u,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,explosionRadius:this.cometExplosionRadius,explosionColor:this.flameColor,explosionVisualDuration:4,statuses:this.getStatuses()})}getWallProjectile(t,e,u){return new Rg(this,e,t,this.baseWallSize,this.getWallDamage(),"FIRE",u,{color:this.projectileColor,pierce:this.wallPierce,critChance:this.critChance,critMultiplier:this.critMultiplier,extraDamageCalc:this.extraDamageCalc,extraActionOnMove:this.extraActionOnMove,extraActionOnHit:this.extraActionOnHit,width:this.wallWidthMultiplier,statuses:this.getStatuses()})}getBurningTileProjectile(t,e){const u=[...this.flameColor,80];return new Jd(this,t,_.createVector(0,0),He,this.getDamage(),"FIRE",e,{color:_.color(u),statuses:this.getStatuses()})}getFlameThrowerDamage(){return this.damage}getCometDamage(){return this.cometDamage}getWallDamage(){return this.wallDamage}getStatuses(){return[]}getBurn(){return zd(this.burnDamage,this.burnDuration,this.burnPanicSpeedIncrease)}increaseCometRange(t){this.cometRange+=t,this.baseCometRange+=t}increaseWallRange(t){this.wallRange+=t,this.baseWallRange+=t}increaseCometDamage(t){this.cometDamage+=t,this.baseCometDamage+=t}increaseWallDamage(t){this.wallDamage+=t,this.baseWallDamage+=t}increaseBurnDamage(t){this.burnDamage+=t,this.baseBurnDamage+=t}recalcDamageBuffs(){super.recalcDamageBuffs(),this.cometDamage=this.baseCometDamage;for(const t of this.damageBuffsMultiplicative)this.cometDamage*=t;this.wallDamage=this.baseWallDamage;for(const t of this.damageBuffsMultiplicative)this.wallDamage*=t;this.burnDamage=this.baseBurnDamage;for(const t of this.damageBuffsMultiplicative)this.burnDamage*=t}recalcRangeBuffs(){super.recalcRangeBuffs(),this.cometRange=this.baseCometRange,this.wallRange=this.baseWallRange;for(const t of this.rangeBuffsAdditive)this.cometRange+=t,this.wallRange+=t;for(const t of this.rangeBuffsMultiplicative)this.cometRange*=t,this.wallRange*=t}}const Pg=(s,n={})=>new Og(s.pos.x,s.pos.y,s.r,s.q,s.size,Mt.range,Mt.damage,Mt.projectileSpeed,Mt.cooldown,Mt.cost,{color:_.color(Mt.rgb),projectileColor:Mt.flameRgb,wall:!0,isTower:!0,type:s.type,data:s.data,spendValue:n.changedCost??Mt.cost,upgrades:{A:new Oe("A","Hotter Fire",800,"They die quicker, so it's a mercy really.",t=>{t.increaseDamage(1),t.increaseWallDamage(30)},!0),B:new Oe("B","Wide Flame",600,"Increase the area of effect radius of the Pyromaniac.",t=>{t.flameThrowerAngle+=_.PI/12},!0),C:new Oe("C","Burning Vision",500,"Slightly increases range. I have a vision, of a world where no hero goes unburned.",t=>{t.increaseRange(He*.25),t.increaseCometRange(He)},!0),"A+":new Oe("A+","Blue Flame",3600,"Blue flames are both hotter and cooler.",t=>{t.increaseDamage(2),t.increaseCometDamage(400),t.increaseWallDamage(50),t.projectileColor=_.color(ic),t.fireColor=Pd,t.flameColor=ic}),"B+":new Oe("B+","Inferno Grande",2050,"Increases the size of the Pyromaniacs flames even further. There is no escaping the infero!",t=>{t.flameThrowerAngle+=_.PI/12,t.cometExplosionRadius+=He,t.wallWidthMultiplier+=2}),"C+":new Oe("C+","See The World",1750,"increase Pyromaniac range even more.",t=>{t.increaseRange(He*.25),t.increaseCometRange(He*1.5),t.increaseWallRange(He*1.5)}),AB:new Oe("AB","Comet",1850,"Shoots a mighty comet from the sky, dealing devastating damage in a large area.",t=>{t.baseComet=()=>t.shootComet(),t.showCometRange=e=>{const u=to(t.color);return u.setAlpha(e),_.fill(u),_.circle(t.pos.x,t.pos.y,t.cometRange*2),e-40}}),BC:new Oe("BC","Flame Wall",2300,"Shoots out a wall of flames that moves slowly towards its target.",t=>{t.baseWall=()=>t.shootWall(),t.showWallRange=e=>{const u=to(t.color);return u.setAlpha(e),_.fill(u),_.circle(t.pos.x,t.pos.y,t.wallRange*2),e-40}}),CA:new Oe("CA","Feel The Burn",2100,"Inflicts every enemy hit with a burning status effect.",t=>{t.increaseBurnDamage(1),t.burnDuration+=30,t.getStatuses=()=>[t.getBurn()]}),"AB+":new Oe("AB+","Inner Fire",3900,"The Pyromaniac builds their inner fire, increasing damage dealt based on attack cooldown.",t=>{t.increaseDamage(t.cooldown),t.increaseWallDamage(t.wallCooldown/2),t.increaseCometDamage(t.cometCooldown/2)}),"BC+":new Oe("BC+","Expulsion",1800,"Fire hits enemies with such force they are thrown backwards.",t=>{t.flameThrowerPush=e=>{t.applyFlameThrowerPush(e)},t.extraActionsOnHit.push(e=>{if("target"in e){const d=e.vel.copy().setMag(t.pushForce);e.target.applyForce(d);return}const u=Gt.inRangeCircle(e.pos,e.radius);for(const d of u){const h=ut.Vector.sub(d.pos,e.pos).setMag(t.pushForce);d.applyForce(h)}})}),"CA+":new Oe("CA+","Hell Fire",3250,"The flames of hell burn brighter, longer, and cause more panic than beofer.",t=>{t.burnDuration+=50,t.increaseBurnDamage(1),t.burnPanicSpeedIncrease+=.5,t.getStatuses=()=>[t.getBurn()]}),"AB++":new Oe("AB++","Apocalypse (Ability)",6500,"Pyromaniac rains down countless comets, cleansing the world in the fires of apocalypse.",t=>{t.ultCooldown=As,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{t.progressUlt=()=>{if(t.ultInProgress<=0&&(t.progressUlt=()=>{}),Yt.units.length<1)return;const e=_.random(Yt.units);t.shootCometAtTarget(e),t.ultInProgress--},t.ultInProgress=30},t.shouldShowUltCooldown=()=>{t.showUltCooldown()}}),"BC++":new Oe("BC++","Isolationism",5500,"Don't allow anything near, flames hit harder and with more force. Also increases wall pierce and comet explosion radius a bit.",t=>{t.increaseDamage(1),t.increaseWallDamage(30),t.increaseCometDamage(200),t.cometExplosionRaidus+=He/2,t.pushForce+=yt*2,t.wallPierce+=7}),"CA++":new Oe("CA++","Burning Earth",13500,"All Pyromaniacs attacks leave burning earth behind, dealing damage and inflicting burn.",t=>{t.burningLand=(e,u)=>{t.applyBurningLand(e,u)},t.extraActionsOnHit.push(e=>{if(!("radius"in e))return;const u=je.getHexVectorFromXY(e.pos.x,e.pos.y);if(!je.rqVectorIsOnGrid(u))return;const d=je.grid[u.x][u.y],h=[...je.getNeighborsArea(d.r,d.q,2),d];for(let r=0;r<h.length;r++)Ht(e.pos,h[r].pos)<e.radius**2&&t.applyBurningLandToTile(h[r])}),t.extraActionsOnMove.push(e=>{const u=je.getHexVectorFromXY(e.pos.x,e.pos.y);if(!je.rqVectorIsOnGrid(u))return;const d=je.grid[u.x][u.y],h=[...je.getNeighborsArea(d.r,d.q,2),d];for(const r of h)Yn(e.corners[0],e.corners[1],r.pos)>0&&Yn(e.corners[1],e.corners[2],r.pos)>0&&Yn(e.corners[2],e.corners[3],r.pos)>0&&Yn(e.corners[3],e.corners[0],r.pos)>0&&t.applyBurningLandToTile(r)})})}}),Dr=Object.freeze({name:"Dragon Hoard",description:"A Dragons hoard seems to be imbued with a special magic, growing over time without outside interference. Truly misterious.",hotkey:"d",keycode:68,range:0,cooldown:0,cost:2500,damage:0,hoardCapacity:1e3,hoardFillPerRound:200,timeOverFullFill:2500,hoardInterest:0,projectileSpeed:0,towerType:"NORMAL",rgb:ks,showSymbol:(s,n)=>{_.push(),_.fill(Ps),_.strokeWeight(2);const t=n*.1;Ko(s.x-t,s.y+t,n*.5),Ko(s.x+t,s.y-t,n*.5),_.pop()}});class kg extends Sn{constructor(t,e,u,d,h,r,p,f,g,m,i){super(t,e,u,d,h,Dr.name,r,p,f,g,m,i);W(this,"goldInHoard");W(this,"hoardCapacity");W(this,"hoardFillPerRound");W(this,"hoardInterest");W(this,"hoardFilledThisRound");W(this,"shouldFillHoardThisRound");W(this,"timeOverFullFill");W(this,"framesPerFill");W(this,"currentFrameCount");W(this,"stockMinMultiplier");W(this,"stockMaxMultiplier");W(this,"onWaveEnd",()=>{const t=this.calculateRemainingGold();this.addGoldToHoard(t),this.addGoldToMaou(),this.hoardFilledThisRound=0,this.calcGoldForNextWave(),this.currentFrameCount=0});this.goldInHoard=0,this.hoardCapacity=Dr.hoardCapacity,this.hoardFillPerRound=Dr.hoardFillPerRound,this.hoardInterest=Dr.hoardInterest,this.hoardFilledThisRound=0,this.shouldFillHoardThisRound=this.hoardFillPerRound,this.timeOverFullFill=Dr.timeOverFullFill,this.framesPerFill=this.timeOverFullFill/this.shouldFillHoardThisRound,this.currentFrameCount=0,this.stockMinMultiplier=1,this.stockMaxMultiplier=1.5}showSymbol(t=this.pos){_.push(),_.fill(Ps),_.strokeWeight(2);const e=this.size*.1;Ko(t.x-e,t.y+e,this.size*.5),Ko(t.x+e,t.y-e,this.size*.5),_.pop()}update(){return this.currentFrameCount++,this.currentFrameCount>=this.framesPerFill&&this.shouldFillHoardThisRound>this.hoardFilledThisRound&&(this.addGoldToHoard(1),this.hoardFilledThisRound+=1,this.addGoldToMaou(),this.currentFrameCount=0),this.ultCurrentCooldown--,this.handleBuffs(),this.usageData.framesExists++,!0}calculateRemainingGold(){return this.shouldFillHoardThisRound-this.hoardFilledThisRound}calcGoldForNextWave(){this.shouldFillHoardThisRound=this.hoardFillPerRound}addGoldToHoard(t){this.goldInHoard=_.min(this.goldInHoard+t,this.hoardCapacity)}addGoldToMaou(){et.increaseGold(this.goldInHoard),this.goldInHoard=0}}const Lg=(s,n={})=>new kg(s.pos.x,s.pos.y,s.r,s.q,s.size,Dr.range,Dr.damage,Dr.projectileSpeed,Dr.cooldown,Dr.cost,{color:_.color(Dr.rgb),wall:!0,isTower:!0,type:s.type,data:s.data,spendValue:n.changedCost??Dr.cost,upgrades:{A:new Oe("A","Excess Lifeforce",1e3,"The magical energies of the hoard are bolstered by the lifeforce of quickly killed heroes, doubling the value of the still uncollected gold at the end of the wave. The faster you kill the more gold you get, for any layman among you.",t=>{t.calculateRemainingGold=()=>(t.shouldFillHoardThisRound-t.hoardFilledThisRound)*2},!0),B:new Oe("B","Money Dump",1200,"By dumping a bunch of money in here, the hoard seems to accept that it's supposed to be bigger, and starts generating more money. Someone should really figure out how this thing works... Not me though, I'm busy killing things.",t=>{t.hoardFillPerRound+=100},!0),C:new Oe("C","Stocks",600,"How did these even get here? Is there someone in there? Whatever. These investements are nice, if a bit fluid. Increases gold earned per wave randomly by up to 50%.",t=>{t.calcGoldForNextWave=()=>{t.shouldFillHoardThisRound=_.round(t.hoardFillPerRound*_.random(t.stockMinMultiplier,t.stockMaxMultiplier))}},!0),"A+":new Oe("A+","Slow and Steady",1350,"Slows down the hoards money production, giving you more chance to double some leftovers.",t=>{t.timeOverFullFill+=2500}),"B+":new Oe("B+","Money Mountain",5e3,"Give onto the hoard a mountain of money, and the hoard will return it two-fold. Eventually. Further increases money production.",t=>{t.hoardFillPerRound+=300}),"C+":new Oe("C+","High Risk Trading",2250,"These are some high risk investements. You might get rich quick, or lose it all... Randomly decreases gold earned per wave by up to 50%, or increases it by up to 200%. Are you ready to take a chance and live the good life?",t=>{t.stockMinMultiplier-=.5,t.stockMaxMultiplier+=1.5}),AB:new Oe("AB","Nothing",0,"Still just a barrier.",t=>{}),BC:new Oe("BC","Nothing",0,"Still just a barrier.",t=>{}),CA:new Oe("CA","Nothing",0,"Still just a barrier.",t=>{}),"AB+":new Oe("AB+","Nothing",0,"Still just a barrier.",t=>{}),"BC+":new Oe("BC+","Nothing",0,"Still just a barrier.",t=>{}),"CA+":new Oe("CA+","Nothing",0,"Still just a barrier.",t=>{}),"AB++":new Oe("AB++","Nothing",0,"Still just a barrier.",t=>{}),"BC++":new Oe("BC++","Nothing",0,"Still just a barrier.",t=>{}),"CA++":new Oe("CA++","Nothing",0,"Still just a barrier.",t=>{})}}),Bn=(s,n,t,e=0,u=2,d=Ut,h=_)=>{const r=t/2,p=t/3,f=t/6;h.push(),h.translate(s,n),h.rotate(e),h.stroke(d),h.strokeWeight(u),h.beginShape(),h.vertex(0,-r),h.vertex(r,-f),h.vertex(r,f),h.vertex(0,-p),h.vertex(0,r),h.endShape(h.CLOSE),h.ellipse(-p*.8,r*.8,r,p),h.pop()};class Ll extends In{constructor(t,e,u,d,h,r,p,f={}){super(t,e,u,d,h,r,p,f);W(this,"splitOnHit");this.splitOnHit=f.splitOnHit??!1}show(){_.push(),_.fill(this.color),Bn(this.pos.x,this.pos.y,this.size),_.pop()}showDebug(){_.stroke(this.color),_.strokeWeight(5),_.point(this.pos.x,this.pos.y)}update(){this.vel.add(this.acc),this.prevPos=this.pos.copy(),this.pos.add(this.vel),this.acc.mult(0);const t=this.alreadyHitEnemyIds.length,e=Gt.inRangePath(this.prevPos,this.pos,this.size);for(const u of e)this.hit(u);if(this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0)return!0;if(this.splitOnHit&&this.alreadyHitEnemyIds.length>t)for(let u=0;u<this.alreadyHitEnemyIds.length-t;u++)for(let d=0;d<3;d++){const h=this.copy();h.vel=ut.Vector.random2D().setMag(h.vel.mag()),et.addProjectile(h)}return!1}copy(){const t=[];for(const u of this.statuses)t.push(u.copy());const e=new Ll(this.origin,this.pos.copy(),this.vel.copy(),this.size,this.damage,this.damageType,this.lifeSpan-1,{color:this.color,pierce:this.pierce-1,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:t,extraDamageCalc:this.extraDamageCalc,extraActionOnHit:this.extraActionOnHit,extraActionOnMove:this.extraActionOnMove,splitOnHit:this.splitOnHit});return e.alreadyHitEnemyIds=this.alreadyHitEnemyIds,e}}const eh=(s,n,t=1,e="trance",u=250)=>new Rr(e,s,"ON_TAKE_DAMAGE",(d,h,r={damage:new ir("PHYSICAL",0)})=>{const p=r.damage.amount/d.maxHp;_.random()<t*p&&h&&(h.duration=0)},(d,h)=>{_.fill(kd),Bn(h.x,h.y,d.size/2)},d=>{d.currentFlowField=n},d=>{d.currentFlowField=d.originalFlowField,d.applyStatus($d(u,e,"ON_TAKE_DAMAGE"))}),Dg=(s,n,t,e=qr,u=0,d=_)=>{const h=t/2,r=t/3;d.push(),d.translate(s,n),d.rotate(u),d.stroke(Ut),d.strokeWeight(2),d.line(0,-h,0,h),d.ellipse(-r*.8,h*.8,h,r),d.strokeWeight(1),d.stroke(e),d.line(-h,-h,h,h),d.line(h,-h,-h,h),d.pop()},Ig=(s,n="silence")=>new Rr(n,s,"NORMAL",(t,e,u={damage:new ir("PHYSICAL",0)})=>{for(const d of t.abilityCounters)t[d]++},(t,e)=>{_.fill(Ut),Dg(e.x,e.y,t.size/2)},t=>{},t=>{}),Cr=Object.freeze({name:"Siren",description:"The Siren entrances heroes with her song, leading them to wander mindlessely to her.",hotkey:"z",keycode:90,range:He*7,cooldown:110,cost:900,damage:10,projectileSpeed:yt*3,tranceDuration:150,breakoutChance:5,extraProjectileAngle:_.PI/8,towerType:"WATER",rgb:Al,noteColor:kd,showSymbol:(s,n,t={angle:0})=>{_.push(),_.fill(Cr.noteColor),Bn(s.x,s.y,n),_.pop()}});class Bg extends Sn{constructor(t,e,u,d,h,r,p,f,g,m,i){super(t,e,u,d,h,Cr.name,r,p,f,g,m,i);W(this,"noteColor");W(this,"extraProjectileLifespan");W(this,"pathName");W(this,"pathNameNext");W(this,"tranceDuration");W(this,"breakoutChance");W(this,"splitOnHit");W(this,"extraProjectileAngle");this.noteColor=Cr.noteColor,this.extraProjectileLifespan=1,this.extraProjectileAngle=Cr.extraProjectileAngle,this.tranceDuration=Cr.tranceDuration,this.breakoutChance=Cr.breakoutChance,this.pathName=`Siren${_.random()}`,this.pathNameNext=`${this.pathName}Next`,et.pathsToGenerate.push({origin:[this],name:this.pathName,waterCost:1,stopAfter:10}),this.targetingType=An.FIRST,this.splitOnHit=!1}showSymbol(t=this.pos){_.push(),_.fill(this.noteColor),Bn(t.x,t.y,this.size),_.pop()}shoot(){const t=this.baseShoot();if(t===void 0)return!1;const e=_.floor(this.projectileNumber/2)*-1;this.lastShotAngle=t.vel.heading();for(let u=e;u<e+this.projectileNumber;u++){const d=this.lastShotAngle+u*this.extraProjectileAngle,h=ut.Vector.fromAngle(d);h.setMag(t.vel.mag());const r=this.getProjectile(h,t.lifeSpan);et.addProjectile(r)}return!0}baseShoot(){const t=Gt.inRangeCircle(this.pos,this.range);if(t.length<1)return;const e=kl[this.targetingType].function(this.pos,t),u=this.range/this.projectileSpeed*this.extraProjectileLifespan,d=e.pos.copy();for(let p=1;p<=u&&(d.add(e.vel),!(Ht(d,this.pos)<(this.projectileSpeed*p)**2));p++);const h=ut.Vector.sub(d,this.pos);return h.setMag(this.projectileSpeed),this.getProjectile(h,u)}getProjectile(t,e){return new Ll(this,this.pos.copy(),t,this.projectileSize,this.getDamage(),"PHYSICAL",e,{color:_.color(this.noteColor),pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),splitOnHit:this.splitOnHit})}getStatuses(){return[this.getTrance()]}getTrance(){return eh(this.tranceDuration,this.pathNameNext,this.breakoutChance,"trance",250)}getSilence(){return Ig(this.tranceDuration,"silence")}onSell(){for(let t=0;t<et.pathsToGenerate.length;t++)if(et.pathsToGenerate[t].name===this.pathName){et.pathsToGenerate.splice(t,1);return}}}const Ng=(s,n={})=>new Bg(s.pos.x,s.pos.y,s.r,s.q,s.size,Cr.range,Cr.damage,Cr.projectileSpeed,Cr.cooldown,Cr.cost,{color:_.color(Cr.rgb),wall:!0,isTower:!0,type:s.type,data:s.data,projectileColor:Cr.noteColor,spendValue:n.changedCost??Cr.cost,upgrades:{A:new Oe("A","Piercing Voice",300,"Song pierces through its target to the next.",t=>{t.projectilePierce+=1,t.extraProjectileLifespan+=.2},!0),B:new Oe("B","Tireless",550,"If you don't keep singing till you drop you'll never make it in showbizz. Lower cooldown",t=>{t.cooldown-=20,t.baseCooldown-=20},!0),C:new Oe("C","Entancing Song",400,"Increases the duration of the trance, and slightly decreases the chance heroes break out of the spell when damaged.",t=>{t.tranceDuraton+=100,t.breakoutChance-=1},!0),"A+":new Oe("A+","Optimize Acoustics",2100,"Siren magically changes the properties of the space around her to optimize its acoustics. It is honestly kind of a waste to use magic capable of changing physics on something like this, but at least it increases the amount of people who hear her song...",t=>{t.projectilePierce+=2,t.extraProjectileLifespan+=.3,t.increaseRange(He/2)}),"B+":new Oe("B+","Endless Encores",1700,"Song after song, you'll never escape this concert. Even lower cooldown",t=>{t.cooldown-=20,t.baseCooldown-=20}),"C+":new Oe("C+","Unbreakable Obsession",2900,"A song so beautifull it takes ages to break free of its spell. That or a very hard blow to the head.",t=>{t.tranceDutaion+=150,t.breakoutChance-=1}),AB:new Oe("AB","Rock Song",666,"Not all Sirens are into that classical shit. Increases damage",t=>{t.increaseDamage(10)}),BC:new Oe("BC","Authority",2500,"My authority, you will respect it. Siren magically controls the entire area around her, increasing trance duration, lowering breakout chance, and making sure her song always reacher her target.",t=>{t.tranceDutaion+=100,t.breakoutChance-=.5}),CA:new Oe("CA","Crowd Pleaser",3600,"They want to hear, Siren wants to sing more songs, everyone gets what they want.",t=>{t.projectileNumber+=3}),"AB+":new Oe("AB+","Hard Rock",5200,"More rock. More range. More bleeding ears.",t=>{t.increaseDamage(30),t.increaseRange(He),t.noteColor=Md}),"BC+":new Oe("BC+","Placeholder",0,"Placeholder.",t=>{}),"CA+":new Oe("CA+","Sound Wave",6900,"Every song is like a sound wave. More projectiles, closer together, reaching further.",t=>{t.projectileNumber+=3,t.extraProjectileLifespan+=.2,t.extraProjectileAngle=_.PI/15}),"AB++":new Oe("AB++","Rock The World",6e3,"Siren rocks so hard her song reaches more people then ever. The song is so loud it ruptures eardrums all over, dealing more damage, but sadly breaking the trance, and deaf ears can't be charmed by other Sirens either.",t=>{t.projectilePierce+=1,t.projectileSize+=He/3,t.extraProjectileLifespan+=.3,t.increaseRange(He/2),t.increaseDamage(50),t.projectileNumber+=2,t.getTrance=()=>eh(0,t.pathNameNext,t.breakoutChance,"trance",500)}),"BC++":new Oe("BC++","Chorus",0,"Placeholder.",t=>{t.color=_.color($0)}),"CA++":new Oe("CA++","Echo Chamber",7750,"Songs echo around whenever they hit a hero. Look it's a magical song, its echos could work this way.",t=>{t.projectilePierce+=3,t.splitOnHit=!0})}}),th=(s,n,t,e=0,u=_)=>{let d=t*.8,h=0;const r=t/50,p=(d-r)/100,g=(13/20*t-r)/100;u.push(),u.translate(s,n),u.rotate(e),u.stroke(Ut),u.strokeWeight(1),u.beginShape();for(let m=0;m<100;m++){const i=u.cos(h)*d,o=u.sin(h)*d;u.vertex(i,o),h+=u.PI/20,d-=p}for(let m=0;m<100;m++){const i=u.cos(h)*d,o=u.sin(h)*d;u.vertex(i,o),h-=u.PI/20,d+=g}u.endShape(),u.triangle(t*6/10,t/10,t*8/10,t/10,t*7/10,t*-1/5),u.pop()};class Fg extends Sn{constructor(t,e,u,d,h,r,p,f,g,m,i,o,a){super(t,e,u,d,h,r,p,f,g,m,i,a);W(this,"burnUpTimer");W(this,"lastWaveCheck");this.burnUpTimer=o,this.lastWaveCheck=Yt.waveReader.currentWaveNumber}show(t=this.pos){_.push(),_.stroke(0),_.strokeWeight(2),_.fill(this.color),cr(t.x,t.y,this.size),this.upgradesPurchased>3&&(_.strokeWeight(1),cr(t.x,t.y,this.size-3),this.upgradesPurchased>7&&(_.stroke(0),cr(t.x,t.y,this.size-6))),_.stroke(Ut),_.fill(bi),_.strokeWeight(1);let e=-_.PI/2;for(let u=0;u<_.min(this.burnUpTimer,10);u++){const d=this.pos.x+_.cos(e)*this.size*.7,h=this.pos.y+_.sin(e)*this.size*.7;Xd(d,h,He/10,5),e+=_.TWO_PI/10}this.showSymbol(t),this.shouldShowUltCooldown(),_.pop()}update(){return super.update(),this.lastWaveCheck!==Yt.waveReader.currentWaveNumber&&(this.lastWaveCheck=Yt.waveReader.currentWaveNumber,this.burnUpTimer--),this.burnUpTimer>0}onSell(){this.spendValue=0,je.setBuilderTileType(this,bt.UNSTABLE)}}class rh extends In{constructor(t,e,u,d,h,r,p,f={}){super(t,e,u,d,h,r,p,f);W(this,"rockVertices");W(this,"pushForce");W(this,"angle");W(this,"extendLife");this.rockVertices=Kd(d),this.pushForce=f.pushForce??0,this.angle=0,this.extendLife=f.extendLife??!1}show(){Ui(this.pos.x,this.pos.y,this.rockVertices,this.angle,this.color)}update(){return this.angle+=.01,super.update()}hit(t){if(this.pierce<=0||this.alreadyHitEnemyIds.includes(t.id))return;this.alreadyHitEnemyIds.push(t.id);const e=this.damage*(_.random()<this.critChance?this.critMultiplier:1)+this.extraDamageCalc(t);this.updateOriginUsageDataSingle(t,e),t.takeDamage(new ir(this.damageType,e)),this.extendLife&&t.hp<=0&&this.origin.lastLifeExtension<Yt.waveReader.currentWaveNumber&&(this.origin.burnUpTimer++,this.origin.lastLifeExtension=Yt.waveReader.currentWaveNumber),t.applyForce(this.vel.copy().setMag(this.pushForce));for(let u=0;u<this.statuses.length;u++)t.applyStatus(this.statuses[u]);this.extraActionOnHit({pos:this.pos,vel:this.vel,target:t}),this.pierce--}}class Ug extends rh{constructor(t,e,u,d,h,r,p,f={}){super(t,e,u,d,h,r,p,f);W(this,"target");W(this,"desiredSpeed");W(this,"maxForce");this.target=f.target??null,this.desiredSpeed=this.vel.mag(),this.maxForce=this.vel.mag()/20}show(){Ui(this.pos.x,this.pos.y,this.rockVertices,this.angle,this.color)}update(){this.angle+=.01,(this.target===null||this.alreadyHitEnemyIds.includes(this.target.id)||this.target.hp<=0)&&this.findNewTarget(),this.prevPos=this.pos.copy(),this.vel.add(this.getAccThroughHoming()),this.vel.add(this.acc),this.pos.add(this.vel),this.acc.mult(0);const t=Gt.inRangePath(this.prevPos,this.pos,this.size);for(const e of t)this.hit(e);return this.lifeSpan--,this.lifeSpan<=0||this.pierce<=0}findNewTarget(){const t=Gt.inRangeCircle(this.pos,this.origin.range/3);let e=null,u=99999;const d=this.vel.copy().mult(5);d.add(this.pos);for(const h of t){const r=Ht(h.pos,d);r<u&&(u=r,e=h)}this.target=e}getAccThroughHoming(){if(this.target===null)return _.createVector(0,0);const t=ut.Vector.sub(this.target.pos,this.pos);return t.setMag(this.desiredSpeed),t.sub(this.vel),t.limit(this.maxForce),t}}const Hr=Object.freeze({name:"Magma Wyrm",description:"The Magma Wyrm lives a turbulent life surrounded by lava. It dies soon after its birth when its enviroment can no longer sustain it and crumbles.",hotkey:"m",keycode:77,range:He*5,cooldown:15,cost:100,damage:15,projectileSpeed:3,towerType:"LAVA",baseBurnUpDuration:2,rgb:Cl,flameRgb:bi,showSymbol:(s,n,t={angle:0})=>{_.push(),_.fill(bi),th(s.x,s.y,n),_.pop()}});class Gg extends Fg{constructor(t,e,u,d,h,r,p,f,g,m,i){super(t,e,u,d,h,Hr.name,r,p,f,g,m,Hr.baseBurnUpDuration,i);W(this,"flameColor");W(this,"pushForce");W(this,"burningLandLifespan");W(this,"homingProjectiles");W(this,"extendLifeOnKill");W(this,"lastLifeExtension");this.flameColor=Hr.flameRgb,this.pushForce=0,this.burningLandLifespan=0,this.homingProjectiles=!1,this.extendLifeOnKill=!1,this.lastLifeExtension=Yt.waveReader.currentWaveNumber-1}showSymbol(t=this.pos){_.push(),_.fill(this.flameColor),th(t.x,t.y,this.size,this.lastShotAngle),_.pop()}update(){return this.lastShotAngle-=.017,super.update()}baseShoot(t=0){const e=ut.Vector.fromAngle(t);e.setMag(this.projectileSpeed);const u=this.range/this.projectileSpeed,d=this.getMagmaBlobProjectile(e,u);et.addProjectile(d)}shoot(){for(let t=0;t<this.projectileNumber;t++){const e=this.lastShotAngle+_.TWO_PI*(t/this.projectileNumber);this.baseShoot(e)}return!0}getMagmaBlobProjectile(t,e){return new rh(this,this.pos,t,this.projectileSize,this.getDamage(),"FIRE",e,{color:this.projectileColor,pierce:this.projectilePierce,critChance:this.critChance,critMultiplier:this.critMultiplier,statuses:this.getStatuses(),pushForce:this.pushForce,extendLife:this.extendLifeOnKill})}getDamage(){return this.damage}getStatuses(){return[]}applyBurningLandToTile(t){if(!t.canUnit||t.isTower||t.appliedEffects.burningLand)return;const e=this.getBurningTileProjectile(t.pos,this.burningLandLifespan);et.addProjectile(e),t.appliedEffects.burningLand=e}getBurningTileProjectile(t,e){const u=[...this.flameColor,80];return new Jd(this,t,_.createVector(0,0),He,this.getDamage(),"FIRE",e,{color:_.color(u),statuses:this.getStatuses()})}}const Vg=(s,n={})=>new Gg(s.pos.x,s.pos.y,s.r,s.q,s.size,Hr.range,Hr.damage,Hr.projectileSpeed,Hr.cooldown,Hr.cost,{color:_.color(Hr.rgb),projectileColor:Hr.flameRgb,wall:!0,isTower:!0,type:s.type,data:s.data,spendValue:n.changedCost??Hr.cost,upgrades:{A:new Oe("A","Short Fuse",200,"The Wyrms anger about its unfair position in life heats up its shots, increasing damage.",t=>{t.burnUpTimer+=1,t.increaseDamage(15)},!0),B:new Oe("B","Stability",150,"The Wyrm embraces a stable lifestyle, decent job, happy family, little wyrm on the way. Pushes away the inevitable demise a bit.",t=>{t.burnUpTimer+=3},!0),C:new Oe("C","Vision",250,"Wyrm has a vision for the future, and whishes to share it with as many heroes as possible while it is still able.",t=>{t.burnUpTimer+=1,t.range+=He,t.baseRange+=He},!0),"A+":new Oe("A+","Burning Hatred",500,"Wyrms hatred burns brighter than a thousand suns.",t=>{t.burnUpTimer+=1,t.increaseDamage(20)}),"B+":new Oe("B+","Controlled Entropy",550,"The wyrm masters entropic decay to delay the inevitable even longer.",t=>{t.burnUpTimer+=6}),"C+":new Oe("C+","Longing Gaze",400,"Wyrm wants to see as much of the world as possible before the end.",t=>{t.burnUpTimer+=1,t.range+=He,t.baseRange+=He}),AB:new Oe("AB","Loniliness",450,"Wyrm pushes everyone away, unable to accept company in the face of its approaching doom.",t=>{t.pushForce+=yt*1.5}),BC:new Oe("BC","The Other End",700,"More projectiles is better, just don't ask where they are coming from, seriously, don't.",t=>{t.projectileNumber+=1}),CA:new Oe("CA","Live Fast",600,"Live fast and dangerous is this Wyrms motto. Faster firing, but at the cost of a shorter life.",t=>{t.cooldown-=4,t.baseCooldown-=4,t.burnUpTimer-=1}),"AB+":new Oe("AB+","Heat Seeking Heroes",950,"The heroes look for a comforting and warm magma blob to the face, or well, that's what Wyrm tells himself.",t=>{t.getMagmaBlobProjectile=(e,u)=>new Ug(t,t.pos,e,t.projectileSize,t.getDamage(),"FIRE",u*1.2,{color:t.projectileColor,pierce:t.projectilePierce,critChance:t.critChance,critMultiplier:t.critMultiplier,statuses:t.getStatuses(),pushForce:t.pushForce,extendLife:t.extendLifeOnKill})}),"BC+":new Oe("BC+","Dubble Or Nothing",1150,"Dubbles the amount of magma blobs fired.",t=>{t.projectileNumber+=2}),"CA+":new Oe("CA+","Yolo",800,"Wyrm puts its everything into firing faster and harder, you only live once, so you gotta take as many as possible with you.",t=>{t.cooldown-=4,t.baseCooldown-=4,t.increaseDamage(10),t.burnUpTimer-=1}),"AB++":new Oe("AB++","Lease On Life",3e3,"Through dark deals best not spoken of, thought Wyrm is not really capable of speaking to begin with, Wyrm extends his life by one wave, on his first kill of every wave.",t=>{t.burnUpTimer+=2,t.extendLifeOnKill=!0}),"BC++":new Oe("BC++","Solitude",1600,"Keeps all away, awaiting the end in fiery solitude.",t=>{t.projectileNumber+=5,t.projectilePierce+=2,t.range+=He/2,t.baseRange+=He/2}),"CA++":new Oe("CA++","Curtain Call",1500,'"When the darkness comes, I will not go alone." Creates a devastating explosion when the Wyrm dies, leaving nothing but fire in its wake. Also allows to call the curtain early through the ult.',t=>{t.ultCooldown=1,t.ultCurrentCooldown=t.ultCooldown,t.ultimate=()=>{t.burnUpTimer=0},t.shouldShowUltCooldown=()=>{t.showUltCooldown()},t.onSell=()=>{t.spendValue=0,je.setBuilderTileType(t,bt.UNSTABLE),t.burningLandLifespan=5e3;const e=je.getNeighborsArea(t.r,t.q,3);for(const u of e)t.applyBurningLandToTile(u);t.damage=1e3,t.projectileNumber=50,t.projectilePierce=10,t.projectileSize+=He,t.range=He*20,t.shoot()}})}});var Vr=(s=>(s[s.ARCHER=0]="ARCHER",s[s.BARRIER=1]="BARRIER",s[s.KOBOLD=2]="KOBOLD",s[s.ARACHNE=3]="ARACHNE",s[s.PLAGUE=4]="PLAGUE",s[s.SIREN=5]="SIREN",s[s.PYRO=6]="PYRO",s[s.GRAVI=7]="GRAVI",s[s.DRAGON_HOARD=8]="DRAGON_HOARD",s[s.MAGMA_WYRM=9]="MAGMA_WYRM",s))(Vr||{});const Br={[0]:Rn,[1]:Qt,[2]:br,[3]:er,[4]:Gr,[5]:Cr,[6]:Mt,[7]:Ur,[8]:Dr,[9]:Hr};class Hg{constructor(){}static getTower(n,t,e={}){switch(typeof n=="string"?parseInt(n):n){case Vr.BARRIER:return uc(t,e);case Vr.ARCHER:return Jm(t,e);case Vr.ARACHNE:return $m(t,e);case Vr.PLAGUE:return xg(t,e);case Vr.GRAVI:return hg(t,e);case Vr.KOBOLD:return Cg(t,e);case Vr.PYRO:return Pg(t,e);case Vr.DRAGON_HOARD:return Lg(t,e);case Vr.SIREN:return Ng(t,e);case Vr.MAGMA_WYRM:return Vg(t,e);default:console.log("Wrong input");break}return uc(t,e)}}const hc={0:{0:{0:s=>{},1:s=>{s.resetData()}}}},Wg=(s,n,t,e=!1)=>{const u=t/2,d=t*(2/3);_.push(),_.fill(Ml),_.circle(s,n,t*2),_.fill(Ii),e&&(_.fill(Ar),_.strokeWeight(3)),_.triangle(s-u,n-d,s-u,n+d,s+d,n),_.pop()},zg=(s,n,t,e=!1)=>{const u=t/2,d=t/3,h=t/5;_.push(),_.fill(Pd),_.circle(s,n,t*2),_.fill(Ii),e&&(_.fill(Ar),_.strokeWeight(3)),_.triangle(s-d-h,n-u,s-d-h,n+u,s+u-h,n),_.triangle(s-d+h,n-u,s-d+h,n+u,s+u+h,n),_.pop()},qg=1,Yg=(s,n,t,e,u=qg)=>{const d=t*.9,h=ut.Vector.fromAngle(1.75*_.PI).setMag(d);_.push(),_.strokeWeight(u),_.fill(nm),_.circle(s,n,t*2),_.fill(Ii),_.textSize(d*2),_.text("A",s-h.x,n-h.y),e||(_.strokeWeight(5*u),_.line(s-h.x,n-h.y,s+h.x,n+h.y)),_.pop()},nh=10,Xg=50,oh=_.height-Xg,sh=20,$g=10,Ga=2.5,Kg=3,Qg=(s=nh,n=oh,t=sh,e=1,u=!1)=>{let d=s+t;const h=n+t;Yg(d,h,t,u),d+=t*Ga,Wg(d,h,t,e===1),d+=t*Ga,zg(d,h,t,e>1)},Zg=(s,n=nh,t=oh,e=sh,u=!1,d=$g)=>{const h=_.createVector(_.mouseX,_.mouseY),r=2;for(let p=0;p<Kg;p++){const f=_.createVector(n+Ga*e*p+e,t+e);if(Ht(f,h)<e*e){if(p===0)return[s,!u];if(p===1)return[1,u];if(p===2)return s*2<=d&&s!==0?[s*2,u]:[r,u]}}return[s,u]};class ur{constructor(n,t,e,u,d,h=He,r=_.color(_n),p=_.color(Ut),f=_.CENTER){W(this,"pos");W(this,"width");W(this,"height");W(this,"text");W(this,"onClick");W(this,"textSize");W(this,"buttonColor");W(this,"textColor");W(this,"mode");W(this,"id");this.pos=n,this.width=t,this.height=e,this.text=u,this.onClick=d,this.textSize=h,this.buttonColor=r,this.textColor=p,this.mode=f,this.id=_.random()}update(){return!1}show(n=_){n.push(),n.strokeWeight(1),n.fill(this.buttonColor),n.rectMode(this.mode),n.rect(this.pos.x,this.pos.y,this.width,this.height),n.strokeWeight(0),n.textSize(this.textSize),n.textAlign(_.CENTER,_.CENTER),n.fill(this.textColor),n.text(`${this.text}`,this.pos.x,this.pos.y,this.width,this.height),n.pop()}clicked(){return _.mouseX>this.pos.x-this.width/2&&_.mouseX<this.pos.x+this.width/2&&_.mouseY>this.pos.y-this.height/2&&_.mouseY<this.pos.y+this.height/2}}class Jg extends ur{constructor(t,e,u,d,h,r,p=He,f=_.color(_n),g=_.color(Ut),m=_.CENTER){super(t,e,u,d,h,p,f,g,m);W(this,"duration");this.duration=r}update(){return this.duration--,this.duration<1}}const ih=(s,n,t,e)=>{const u=t/5;_.push(),_.strokeWeight(1),_.stroke(Ut),_.fill(Ar),_.rect(s-t/2,n-u/2,t+2,u+2),_.strokeWeight(0),_.fill(Ml),_.rect(s-t/2+1,n-u/2+1,t*e,u),_.pop()},Qo=ws(!1),Uo=ws(),ey=(s="No rewards exist yet, sorry",n="No new unlocks")=>{const t=new ur(_.createVector(_.width/2,_.height/2),_.width*.8,_.height*.8,"",p=>{},He*2,_.color(ss)),e=new ur(_.createVector(_.width/2,_.height*.25),_.width*.7,_.height*.2,"Congratulations! You beat back those pesky heroes and won the day!",p=>{},He*2,_.color(Od)),u=new ur(_.createVector(_.width*.3,_.height*.5),_.width*.3,_.height*.2,n,p=>{},He*1.5,_.color(Da)),d=new ur(_.createVector(_.width*.7,_.height*.5),_.width*.3,_.height*.2,s,p=>{},He*1.5,_.color(Da)),h=new ur(_.createVector(_.width*.3,_.height*.75),_.width*.3,_.height*.2,"Go back to the main menu",p=>{_.createCanvas(0,0),Qo.value=!1,Uo.value=void 0},He*2),r=new ur(_.createVector(_.width*.7,_.height*.75),_.width*.3,_.height*.2,"Continue in freeplay",p=>{rt.buttonsDisabled=!1,rt.removeButton(t.id),rt.removeButton(e.id),rt.removeButton(u.id),rt.removeButton(d.id),rt.removeButton(h.id),rt.removeButton(r.id)},He*2);rt.buttons.push(t,e,u,d,h,r)},ty=()=>{const s=new ur(_.createVector(_.width/2,_.height/2),_.width*.8,_.height*.8,"",u=>{},He*2,_.color(La)),n=new ur(_.createVector(_.width/2,_.height/3),_.width*.7,_.height*.2,"Game over! The heroes got you. With the demons and monsters out of the way, the age of infighting for mankind can begin!",u=>{},He*2,_.color(Xo)),t=new ur(_.createVector(_.width*.3,_.height*.7),_.width*.3,_.height*.2,"Go back to the main menu",u=>{_.createCanvas(0,0),Qo.value=!1,Uo.value=void 0},He*2),e=new ur(_.createVector(_.width*.7,_.height*.7),_.width*.3,_.height*.2,"Retry",u=>{rt.removeButton(s.id),rt.removeButton(n.id),rt.removeButton(t.id),rt.removeButton(e.id),rt.retry()},He*2);rt.buttons.push(s,n,t,e)};class ry{constructor(){W(this,"gameSpeed",0);W(this,"buttonsDisabled",!1);W(this,"autoStartNextWave",!1);W(this,"drawCount",0);W(this,"frameRateSum",0);W(this,"averageFrameRate",0);W(this,"buttons",[]);W(this,"messageButton");W(this,"showMessage",!0);W(this,"beforeMapMade",!1);W(this,"debugOn",!1);W(this,"map",null);this.messageButton=null}reconstruct(n,t){this.messageButton=null,Rm(t),je.buildMapFromJson(n.map.map,et,Yt),et.maxHp=ka*or.MAOU_HP_MOD,et.hp=ka*or.MAOU_HP_MOD,this.map=n,this.retry(),this.setup(),_.draw=()=>this.draw(),_.mousePressed=()=>this.mousePressed(),_.doubleClicked=()=>this.doubleClicked(),_.keyPressed=e=>this.keyPressed(e)}retry(){this.buttonsDisabled=!1,this.beforeMapMade=!0,this.messageButton=null,this.buttons=[],et.reset(),Yt.reset(),je.reConstructGrid(),je.buildMapFromJson(this.map.map.map,et,Yt),je.generateAllPathsThroughFloodFill(Yt.spawners,et.bases)}setup(){_.createCanvas(_.windowWidth,_.windowHeight),_.background(_n),je.generateAllPathsThroughFloodFill(Yt.spawners,et.bases)}draw(){_.background(_n),_.strokeWeight(1),Qg(10,_.height-50,20,this.gameSpeed,this.autoStartNextWave),je.show(),this.debugOn&&je.showDebug(),et.show();for(let t=0;t<this.gameSpeed;t++){const e=Yt.updateAndShow();et.updateTowers(),et.updateProjectiles(),et.showProjectiles(),et.updateMinions(),et.showMinions(),et.updateObstacles(),et.showObstacles(),et.updateAndShowVisuals(),e&&(et.addXpToCurrentTowers(),et.onWaveEndTowers(),Yt.waveReader.currentWaveNumber===or.FINAL_WAVE+1&&this.gameClear(),this.autoStartNextWave||(this.gameSpeed=0,this.showMessage=!0),_i()),et.hp<=0&&(ty(),this.gameSpeed=0,this.buttonsDisabled=!0)}if(this.gameSpeed===0&&(Yt.showUnits(),et.showProjectiles(),et.showMinions(),et.showObstacles(),et.onlyShowVisuals(),this.showMessage)){const t=Yt.waveReader.getMessage(),e=_.height*((t.length*He*.5>_.width*(11/16)?2:1)/24);this.messageButton=new ur(_.createVector(_.width*(3/8),_.height*(7/8)),_.min(t.length*He*.5,_.width*(11/16)),e,t,()=>{this.showMessage=!1},He,_.color([...Kn,200])),this.messageButton.show()}for(let t=this.buttons.length-1;t>=0;t--)this.buttons[t].update()&&this.buttons.splice(t,1);_.fill(0),_.textSize(32),_.strokeWeight(He/16),_.text(`Wave: ${Yt.waveReader.currentWaveNumber}`,50,50),_.textSize(16),_.strokeWeight(1),_.text(`Player Level: ${gt.level}`,30,75),ih(30+He*3,90,He*5,gt.getXp()/gt.getRequiredXp()),_.text("Hold s to sell",_.width*(3/4)-130,20),_.text("Hold u to update",_.width*(3/4)-130,40),_.text(`Seed: ${et.currentSeed}`,_.width*(3/4)-160,_.height-10);const n=je.getHexVectorFromXY(_.mouseX,_.mouseY);for(const t in Br){const e=Br[t];if(_.keyIsDown(e.keycode)&&je.rqVectorIsOnGrid(n,je.wallRing)&&et.gold>=et.getTowerCost(je.grid[n.x][n.y],e)){const u=je.grid[n.x][n.y];_.push(),_.fill([...e.rgb,100]),_.strokeWeight(3),cr(u.pos.x,u.pos.y,je.hexSize),e.range>0&&(e.range<10?_.circle(u.pos.x,u.pos.y,e.range*4*He):_.circle(u.pos.x,u.pos.y,e.range*2)),_.pop()}}if(_.keyIsDown(83)&&je.rqVectorIsOnGrid(n,je.wallRing)&&je.grid[n.x][n.y].isTower){const t=je.grid[n.x][n.y];_.push(),_.fill([...Ps,50]),_.strokeWeight(1),cr(t.pos.x,t.pos.y,je.hexSize),_.fill(Ps),_.strokeWeight(2),Ko(t.pos.x,t.pos.y,je.hexSize*.6),_.pop()}if(_.keyIsDown(85)&&je.rqVectorIsOnGrid(n,je.wallRing)&&je.grid[n.x][n.y].isTower){const t=je.grid[n.x][n.y];Bm(t.usageData);let e=`
`;for(const r in t.usageData)e+=`${r}: ${t.usageData[r]}
`;const u=He*16,d=He*19;_.push(),new ur(_.createVector(_.mouseX+u/2,_.mouseY+d/2),u,d,e,()=>{},He,_.color([...Kn,200])).show(),_.pop()}for(const t of this.buttons)t.show()}mousePressed(){for(const t of this.buttons)t.clicked()&&t.onClick(t);this.messageButton&&this.messageButton.clicked()&&this.messageButton.onClick();const n=je.getHexVectorFromXY(_.mouseX,_.mouseY);for(const t in Br){const e=Br[t];if(_.keyIsDown(e.keycode)&&je.rqVectorIsOnGrid(n,je.wallRing)&&et.gold>=et.getTowerCost(je.grid[n.x][n.y],e)){const u=je.grid[n.x][n.y],d=u.wall;u.wall=!0;const h=u.canUnit;u.canUnit=!1;const r=u.canWaterUnit;u.canWaterUnit=!1,je.generateAllPathsThroughFloodFill(Yt.spawners,et.bases,!0)&&!u.isTower&&et.placeTower(parseInt(t),u)||(u.wall=d,u.canUnit=h,u.canWaterUnit=r);return}}if(_.keyIsDown(83)&&je.rqVectorIsOnGrid(n,1)&&je.grid[n.x][n.y].isTower){const t=je.grid[n.x][n.y];et.sellTower(t),je.generateAllPathsThroughFloodFill(Yt.spawners,et.bases);return}if(je.rqVectorIsOnGrid(n,je.wallRing)&&je.grid[n.x][n.y].isTower){et.selectTower(je.grid[n.x][n.y]);return}et.clickUpgrade(_.keyIsDown(85)),this.buttonsDisabled||([this.gameSpeed,this.autoStartNextWave]=Zg(this.gameSpeed,10,_.height-50,20,this.autoStartNextWave)),_.mouseX<_.width*(3/4)&&et.deSelectTower()}doubleClicked(){const n=je.getHexVectorFromXY(_.mouseX,_.mouseY);if(je.rqVectorIsOnGrid(n,je.wallRing)&&je.grid[n.x][n.y].isTower){je.grid[n.x][n.y].castUlt();return}}keyPressed(n){if(!n.ctrlKey||!_.keyIsDown(67))return;const t=prompt("What cheat would you like to use? (money, lives, ult, unlock, wave:<number> aka wave:5)","");if(t==="money"&&(et.gold+=1e5),t==="lives"&&(et.hp+=1e5),t==="xp"&&gt.addXp(1e9,et.towers),t==="unlock"){for(const e in Ba)gt.unlockDifficulty(e);for(const e of Wv)gt.unlockMapComplexity(e);gt.allTowerUnlocksCheat()}if(t==="reset"&&sy(),t==="debug"&&(this.debugOn=!this.debugOn),t==="ult")for(const e of et.towers)e.ultCurrentCooldown=0;if((t==null?void 0:t.substring(0,4))==="wave"){const e=parseInt(t.substring(5));!Number.isNaN(e)&&e<1e3&&(Yt.waveReader.currentWaveNumber=e-1)}if((t==null?void 0:t.substring(0,1))==="w"){const e=parseInt(t.substring(1));!Number.isNaN(e)&&e<1e3&&(et.gold+=Yt.waveReader.skipToWaveWithProperGold(e))}}addLevelUpMessage(n){this.gameSpeed=0,this.buttons.push(new ur(_.createVector(_.width/2,_.height/2),_.width*(2/3),_.height/2,n,t=>{this.removeButton((t==null?void 0:t.id)??0),this.gameSpeed=1},He*2,_.color(ks)))}removeButton(n){for(let t=0;t<this.buttons.length;t++)if(this.buttons[t].id===n){this.buttons.splice(t,1);return}}addTowerUnlockMessage(n){this.buttons.push(new Jg(_.createVector(_.width*(3/8),_.height*(7/8)),_.width*(7/16),_.height*(1/10),`${n} level up! Congratuations!`,t=>{this.removeButton((t==null?void 0:t.id)??0)},1e3,He,_.color([...Kn,200])))}gameClear(){var u;const n=[],t=Am(or.name);gt.unlockedDifficulties[t]||(gt.unlockedDifficulties[t]=!0,n.push(`Unlocked ${t} difficulty`));const e=zv((u=this.map)==null?void 0:u.complexity);gt.unlockedMapComplexities[e]||(gt.unlockedMapComplexities[e]=!0,n.push(`Unlocked ${e} maps`)),ey("No rewards yet",n.length>0?n.join(`
`):void 0),this.gameSpeed=0,this.buttonsDisabled=!0}}let rt=new ry;const ny=(s,n)=>{rt.reconstruct(s,n)},fc={2:()=>{gt.towersData.Barricade.unlocked=!0,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you unlocked the Barricade! You can use it to set up your maze cheaply and early.")},3:()=>{gt.towersData.Kobold.unlocked=!0,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you unlocked the Kobold! It fires fast in a small radius, and fires even faster when it gets fired up.")},4:()=>{gt.towersData.Arachne.unlocked=!0,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you unlocked the Arachne! She can spin webs that slow your enemies.")},5:()=>{gt.towersData["Plague Slinger"].unlocked=!0,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you unlocked the Plague Slinger! Plague Slingers throw vials of poison at your enemies, slow working, but high damage potential, especially against armor.")},6:()=>{gt.towersData.Siren.unlocked=!0,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you unlocked the Siren! Only place this tower in the water! The Siren sings a song that entrances your enemies into abandoning their quest and seeking the Siren, sadly damage can break the trance.")},7:()=>{gt.towersData.Pyromaniac.unlocked=!0,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you unlocked the Pyromaniac! Armed with a short range flame thrower and the ability to learn various other fire attacks, the Pyro is a high damage elite.")},8:()=>{gt.towersData["Gravi-tech Tower"].unlocked=!0,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you unlocked the Gravi-tech Tower! The Gravi-tech emits a gravitational field around itself that pulls enemies in, the heavier the unit, the stronger the effect, but overcharges when too many enemies enter its field.")},9:()=>{gt.towersData["Dragon Hoard"].unlocked=!0,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you unlocked the Dragon Hoard! Dragon Hoards are expensive, but magically generate more gold every round. And who knows, you might even be able to attract a dragon.")},10:()=>{gt.towersData["Magma Wyrm"].unlocked=!0,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you unlocked the Magma Wyrm! You can only place this tower in lava! Like all lava towers, the Magma Wyrm expires after a certain number of turns, visible through the stars around its symbol, turning the lava tile into an unstable one. A cheap and strong tower, but only for a short time. You get no money back for selling Lava towers!")},11:()=>{gt.transmutationEssence+=110,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},12:()=>{gt.transmutationEssence+=120,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},13:()=>{gt.transmutationEssence+=130,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},14:()=>{gt.transmutationEssence+=140,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},15:()=>{gt.transmutationEssence+=150,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},16:()=>{gt.transmutationEssence+=160,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},17:()=>{gt.transmutationEssence+=170,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},18:()=>{gt.transmutationEssence+=180,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},19:()=>{gt.transmutationEssence+=190,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")},20:()=>{gt.transmutationEssence+=200,rt==null||rt.addLevelUpMessage("Level up! Congratulations, you earned some extra Transmutation Essence!")}};class Gi{constructor(n,t,e){W(this,"username");W(this,"password");W(this,"email");W(this,"lastUpdatedVersion");W(this,"transmutationEssence");W(this,"level");W(this,"levelUpExponent");W(this,"levelUpScalar");W(this,"xp");W(this,"xpRequired");W(this,"towersData");W(this,"unlockedMapComplexities");W(this,"unlockedDifficulties");this.username=n,this.password=t,this.email=e,this.lastUpdatedVersion="0.0.0",this.level=1,this.levelUpExponent=1.5,this.levelUpScalar=100,this.xp=0,this.xpRequired=Math.pow(this.level,this.levelUpExponent+this.level/10)*this.levelUpScalar,this.towersData={};for(const u in Br)this.towersData[Br[u].name]={unlocked:!1,xp:0,xpRequired:Math.pow(1,this.levelUpExponent+1/10)*this.levelUpScalar,unlocksAvailable:0,upgradesUnlocked:["A","B","C"],mods:{1:null,2:null,3:null}};this.towersData.Archer.unlocked=!0,this.unlockedMapComplexities={Simple:!0,Average:!1,Complex:!1,Evil:!1},this.unlockedDifficulties={Easy:!0,Normal:!1,Hard:!1,Extreme:!1},this.transmutationEssence=0}addXp(n,t){this.xp+=n,this.xp>=this.xpRequired&&this.levelUp();const e=n/t.length;for(const u of t)this.towersData[u.name].xp+=e,this.towersData[u.name].xp>=this.towersData[u.name].xpRequired&&(this.towerAddUnlock(this.towersData[u.name]),rt.addTowerUnlockMessage(u.name))}levelUp(){this.xp-=this.xpRequired,this.level++,this.xpRequired=Math.pow(this.level,this.levelUpExponent+this.level/10)*this.levelUpScalar,this.level in fc&&fc[this.level]()}towerAddUnlock(n){n.xp-=n.xpRequired,n.unlocksAvailable++;const t=n.unlocksAvailable+n.upgradesUnlocked.length-2;n.xpRequired=Math.pow(t,this.levelUpExponent+t/10)*this.levelUpScalar}getXp(){return _.floor(this.xp)}getRequiredXp(){return _.ceil(this.xpRequired)}towerUnlockUpgrade(n,t){return this.towersData[n].unlocksAvailable<1||t in this.towersData[n].upgradesUnlocked?!1:(this.towersData[n].upgradesUnlocked.push(t),this.towersData[n].unlocksAvailable--,!0)}checkAndRunVersionUpdates(){if(this.lastUpdatedVersion===sc)return;const n=this.lastUpdatedVersion.split(".");for(const t in hc){const e=hc[t];for(const u in e){const d=e[u];for(const h in d)(parseInt(t)>parseInt(n[0])||parseInt(t)===parseInt(n[0])&&(parseInt(u)>parseInt(n[1])||parseInt(u)===parseInt(n[1])&&parseInt(h)>parseInt(n[2])))&&d[h](this)}}this.lastUpdatedVersion=sc}resetData(){const n=new Gi(this.username,this.password,this.email);for(const t in n)this[t]=n[t]}unlockDifficulty(n){this.unlockedDifficulties[n]=!0,_i()}unlockMapComplexity(n){this.unlockedMapComplexities[n]=!0,_i()}allTowerUnlocksCheat(){for(const n in Br)this.towersData[Br[n].name].unlocked=!0,this.towersData[Br[n].name].unlocksAvailable=12}}const oy=(s="Nameless",n="guest",t="tester@hotmail.com")=>{const e=new Gi(s,n,t);if(localStorage.getItem("user")){const u=JSON.parse(localStorage.getItem("user"));for(const d in u)e[d]=u[d]}return e.checkAndRunVersionUpdates(),e},_i=()=>{localStorage.setItem("user",JSON.stringify(gt))},sy=(s="Nameless",n="guest",t="tester@hotmail.com")=>{const e=new Gi(s,n,t);for(const u in e)gt[u]=e[u];gt.checkAndRunVersionUpdates(),_i()},iy=oy(),gt=iy,ay=0,ly=1,pc=(s,n,t,e=ay,u=Kn,d=ly)=>{const h=t/2,r=t/4,p=t*(3/8);_.push(),_.strokeWeight(d),_.fill(Ut),_.translate(s,n),_.rotate(e),_.beginShape(),_.vertex(-h,-p),_.quadraticVertex(-h,-h,-p,-h),_.vertex(p,-h),_.quadraticVertex(h,-h,h,-p),_.vertex(h,p),_.quadraticVertex(h,h,p,h),_.vertex(-p,h),_.quadraticVertex(-h,h,-h,p),_.endShape(_.CLOSE),_.noFill(),_.strokeWeight(d*4),_.curve(-r*1.3,t*2.5,-r*1.3,-h,r*1.3,-h,r*1.3,t*2.5),_.strokeWeight(0),_.fill(u),_.circle(0,-r/2,r),_.rect(-t/16,-r/2,t/8,t/3),_.pop()},Va=new On(0,0,_.windowWidth,_.windowHeight,3,7);class uy{constructor(n,t={}){W(this,"maxHp");W(this,"hp");W(this,"gold");W(this,"color");W(this,"menuColor");W(this,"hexSize");W(this,"selectedTower");W(this,"selectedUpgrade");W(this,"bases");W(this,"towers");W(this,"projectiles");W(this,"minions");W(this,"obstacles");W(this,"visualEffects");W(this,"pathsToGenerate");W(this,"currentSeed");W(this,"accumulatedXp");W(this,"upgradeButton");this.maxHp=n*or.MAOU_HP_MOD,this.hp=this.maxHp,this.gold=1500,this.color=t.color??_.color(ss),this.menuColor=t.menuColor??_.color(cm),this.hexSize=t.hexSize??He,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedUpgrade=null,this.projectiles=[],this.visualEffects=[],this.minions=[],this.obstacles=[],this.pathsToGenerate=[],this.currentSeed="",this.accumulatedXp=0,this.upgradeButton=new ur(_.createVector(0,0),0,0,"",()=>{})}reset(){this.hp=this.maxHp,this.gold=1500,this.bases=[],this.towers=[],this.selectedTower=null,this.selectedUpgrade=null,this.projectiles=[],this.visualEffects=[],this.minions=[],this.obstacles=[],this.pathsToGenerate=[],this.accumulatedXp=0,this.upgradeButton=new ur(_.createVector(0,0),0,0,"",()=>{})}show(){const n=_.width*.75,t=_.width-n,e=t/100,u=_.height/100,d=u*15;if(_.height-d,_.strokeWeight(this.hexSize/12),_.fill(this.menuColor),_.stroke(Ut),_.rect(n,0,t,_.height),_.line(n,d,_.width,d),_.textSize(this.hexSize*1.5),_.fill(0),_.text(`${_.floor(this.gold)}`,n+e*10,u*8),_.text(`${_.floor(this.hp)}`,n+e*60,u*8),_.fill(Ps),Ko(n+e*40,u*8-this.hexSize*.5,this.hexSize*.8),Dm(n+e*90,u*8-this.hexSize*.5,this.hexSize*1.4),this.selectedTower)this.showSelectedTower();else{_.textSize(this.hexSize*1.2);for(const h in Br){const r=parseInt(h),p=Br[r],f=_.createVector(n+e*15,d+u*(8+8*r));_.strokeWeight(1),_.fill(p.rgb),cr(f.x,f.y,this.hexSize*1.2),_.fill(0),_.strokeWeight(0),_.text(`${p.name}: ${_.round(p.cost*or.TOWER_COST_MOD)} (${p.hotkey})`,f.x+e*10,f.y+this.hexSize/3),gt.towersData[p.name].unlocked?p.showSymbol(_.createVector(f.x,f.y),this.hexSize*1.2,{}):(_.push(),_.fill(Ut),pc(f.x,f.y,this.hexSize),_.pop())}}}showSelectedTower(){if(!this.selectedTower)return;const n=_.width*(3/4),t=_.width-n,e=t/100,u=_.height/100,d=u*15,h=_.height-d;_.push(),this.selectedTower.showRange();const r=_.createVector(_.width-this.hexSize*2,d+this.hexSize*2),p=this.hexSize,f=_.createVector(n+t/2,d+h/4),g=d+h/2;_.fill(qr),Lm(r.x+p/2,r.y-p/2,p,1),_.textAlign(_.CENTER,_.CENTER),_.strokeWeight(1),gt.towersData[this.selectedTower.name].upgradesUnlocked.length<15&&(_.textSize(this.hexSize),_.fill(Ut),_.text(`Unlocks Available: ${gt.towersData[this.selectedTower.name].unlocksAvailable}`,f.x-e*10,f.y+u*19),ih(f.x+e*30,f.y+u*19,e*20,_.min(gt.towersData[this.selectedTower.name].xp/gt.towersData[this.selectedTower.name].xpRequired,1))),this.selectedTower.show(f),_.textSize(this.hexSize*.6);let m=0,i=0,o=this.hexSize*2;for(const a in this.selectedTower.upgrades){const l=this.selectedTower.upgrades[a],c=_.createVector(f.x+_.cos(i)*o,f.y+_.sin(i)*o);l.purchased?_.fill(Ml):l.available?_.fill(Rs):_.fill(La),_.strokeWeight(1),this.selectedUpgrade===l&&_.strokeWeight(3),cr(c.x,c.y,this.hexSize),_.fill(Ut),_.strokeWeight(1),gt.towersData[this.selectedTower.name].upgradesUnlocked.includes(a)?_.text(a,c.x,c.y):pc(c.x,c.y,this.hexSize*.8),i+=_.TWO_PI/3,m++,m%3===0&&(o+=this.hexSize*2,m===6&&(o-=this.hexSize*4,i+=_.PI/3))}if(_.strokeWeight(2),_.line(n,g,_.width,g),this.selectedUpgrade){const a=n+e*50;_.strokeWeight(1),_.textSize(this.hexSize*.8),_.text(`${this.selectedUpgrade.name}`,a,g+u*6),_.text(`Cost: ${_.round(this.selectedUpgrade.cost*or.TOWER_COST_MOD)}`,a,g+u*12),_.rectMode(_.CENTER),_.text(`${this.selectedUpgrade.description}`,a,g+u*25,e*80,u*25),this.upgradeButton=new ur(_.createVector(a,g+u*35),e*35,u*5,gt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedUpgrade.purchased?"Obtained":"Purchase":"Unlock",()=>{!this.selectedTower||!this.selectedUpgrade||!this.selectedUpgrade.available||(gt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedTower.purchaseUpgrade(this.selectedUpgrade):gt.towersData[this.selectedTower.name].unlocksAvailable>0&&gt.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id))},this.hexSize*1.2,this.selectedUpgrade.available?_.color(Rs):_.color(La),_.color(Ut)),this.upgradeButton.show()}_.pop()}update(){return!0}generateAllNeccesaryPaths(){je.generateAllPathsThroughFloodFill(Yt.spawners,this.bases);for(const n of this.pathsToGenerate)je.generateAllPathsThroughFloodFill(Yt.spawners,n.origin,!1,n.name,n.waterCost,n.stopAfter)}moveBuffs(n,t){for(const e of n.buffs)t.applyBuff(e)}placeTower(n,t){const e=Br[n];let u="canTower";if(e.towerType==="WATER"&&(u="canWaterTower"),e.towerType==="LAVA"&&(u="canLavaTower"),t.isTower||!t[u]||!gt.towersData[e.name].unlocked)return!1;const d=this.getTowerCost(t,e),h=Hg.getTower(n,t,{changedCost:d});return this.towers.push(h),je.addTowerToGrid(h),this.moveBuffs(t,h),this.gold-=d,this.generateAllNeccesaryPaths(),!0}getTowerCost(n,t){return this.checkCostThroughBuffs(n,_.round(t.cost*or.TOWER_COST_MOD),t.name)}checkCostThroughBuffs(n,t,e){let u=t;for(const d of n.buffs)u=d.onPurchase(n,u,e);return u}sellTower(n){if(!n.isTower)return!1;for(let t=this.towers.length-1;t>=0;t--)this.towers[t].r===n.r&&this.towers[t].q===n.q&&(this.towers[t].onSell(),this.gold+=_.round(this.towers[t].spendValue*or.TOWER_SELL_MOD),this.towers.splice(t,1));return je.removeTowerFromGrid(n),this.moveBuffs(n,je.grid[n.r][n.q]),this.deSelectTower(),!0}selectTower(n){this.selectedUpgrade=null,this.selectedTower=n}deSelectTower(){this.selectedTower=null,this.selectedUpgrade=null}clickUpgrade(n=!1){if(this.upgradeButton.clicked()&&this.upgradeButton.onClick(),!this.selectedTower)return;const t=_.width*(3/4),e=_.width-t,d=_.height/100*15,h=_.height-d,r=_.createVector(t+e/2,d+h/4);let p=0,f=0,g=this.hexSize*2;for(const m in this.selectedTower.upgrades){const i=this.selectedTower.upgrades[m],o=_.createVector(r.x+_.cos(f)*g,r.y+_.sin(f)*g);Ht(_.createVector(_.mouseX,_.mouseY),o)<this.hexSize*this.hexSize&&(this.selectedUpgrade=i,n&&!i.purchased&&i.available&&(gt.towersData[this.selectedTower.name].upgradesUnlocked.includes(this.selectedUpgrade.id)?this.selectedTower.purchaseUpgrade(this.selectedUpgrade):gt.towersData[this.selectedTower.name].unlocksAvailable>0&&gt.towerUnlockUpgrade(this.selectedTower.name,this.selectedUpgrade.id))),f+=_.TWO_PI/3,p++,p%3===0&&(g+=this.hexSize*2,p===6&&(g-=this.hexSize*4,f+=_.PI/3))}}updateTowers(){for(const n of this.towers)n.update()||this.sellTower(je.grid[n.r][n.q])}onWaveEndTowers(){for(const n of this.towers)n.onWaveEnd()}addProjectile(n){this.projectiles.push(n)}updateProjectiles(){Va.emptyQuadTree();for(let n=this.projectiles.length-1;n>=0;n--){if(this.projectiles[n].update()){this.projectiles.splice(n,1);continue}Va.insert(new zo(this.projectiles[n].pos,this.projectiles[n]))}}showProjectiles(){for(let n=this.projectiles.length-1;n>=0;n--)this.projectiles[n].show()}addMinion(n){this.minions.push(n)}addObstacle(n){this.obstacles.push(n)}updateMinions(){for(let n=this.minions.length-1;n>=0;n--)this.minions[n].update()&&this.minions.splice(n,1);xi.emptyQuadTree();for(let n=this.minions.length-1;n>=0;n--)xi.insert(new zo(this.minions[n].pos,this.minions[n]))}showMinions(){for(let n=this.minions.length-1;n>=0;n--)this.minions[n].show()}updateObstacles(){for(let n=this.obstacles.length-1;n>=0;n--)this.obstacles[n].update()&&this.obstacles.splice(n,1);Na.emptyQuadTree();for(let n=this.obstacles.length-1;n>=0;n--)Na.insert(new zo(this.obstacles[n].pos,this.obstacles[n]))}showObstacles(){for(let n=this.obstacles.length-1;n>=0;n--)this.obstacles[n].show()}addVisual(n){this.visualEffects.push(n)}updateAndShowVisuals(){for(let n=this.visualEffects.length-1;n>=0;n--)if(this.visualEffects[n].update()){const e=this.visualEffects[n].onExpire();this.visualEffects.splice(n,1),e&&this.addVisual(e)}}onlyShowVisuals(){for(let n=this.visualEffects.length-1;n>=0;n--)this.visualEffects[n].show(this.visualEffects[n])}addBaseToMaou(n){this.bases.push(n)}unitReachedBase(n,t){const e=t.getHexVectorFromXY(n.pos.x,n.pos.y);return t.hexInArray(t.grid[e.x][e.y],this.bases)?(this.hp-=n.damage,!0):!1}unitDied(n){this.gold+=n.goldValue,this.accumulatedXp+=n.xpValue,this.addXpToCurrentTowers()}addXpToCurrentTowers(){gt.addXp(this.accumulatedXp,this.towers),this.accumulatedXp=0}increaseHp(n,t=!1){this.hp+n>this.maxHp&&t?this.hp=_.max(this.hp,this.maxHp):this.hp+=n}increaseGold(n){this.gold+=n}}const cy=new uy(ka),et=cy,Zr={name:"Bomber",discription:"Bombers run quickly, and deal high damage, but are a danger to their friends on death.",hp:50,hpScaling:4,damage:75,speed:yt*2,force:yt*.2,mass:1,gold:5,xp:10,baseLevel:8,rgb:bi,explosionRadius:He};class dy extends pr{constructor(t,e,u,d={}){super(t,e,u,d);W(this,"explosionRadius");this.explosionRadius=Zr.explosionRadius}die(){if(this.dead)return;super.die();const t=Gt.inRangeCircle(this.pos,this.explosionRadius),e=xi.inRangeCircle(this.pos,this.explosionRadius),u=[...t,...e];for(const d of u){const h=this.maxHp/2;d.takeDamage(new ir("EXPLOSION",h))}et.addVisual(Fi(this.pos,this.explosionRadius*2,4))}}const hy=(s,n)=>new dy(s.x,s.y,dr,{desiredSpeed:Zr.speed,maxForce:Zr.force,hp:Zr.hp+(n-Zr.baseLevel)*Zr.hpScaling,damage:Zr.damage,goldValue:_.max(Zr.gold-(n-Zr.baseLevel),1),xpValue:Zr.xp,color:_.color(Zr.rgb)}),pn={name:"Farmer",discription:"A simple farmer, recruited to get rid of a low level threat.",hp:40,hpScaling:5,damage:10,speed:yt*1,force:yt*.1,mass:1,gold:25,xp:10,baseLevel:1,rgb:am};class fy extends pr{constructor(n,t,e,u={}){super(n,t,e,u)}}const mc=(s,n)=>new fy(s.x,s.y,dr,{desiredSpeed:pn.speed,maxForce:pn.force,hp:pn.hp+(n-pn.baseLevel)*pn.hpScaling,damage:pn.damage,goldValue:_.max(pn.gold-(n-pn.baseLevel),1),xpValue:pn.xp,color:_.color(pn.rgb)}),mn={name:"Swordsman",discription:"A simple swordsman, slightly trained, unlike the farmers.",hp:120,hpScaling:8,damage:20,speed:yt*1.5,force:yt*.12,mass:1,gold:32,xp:20,baseLevel:3,rgb:vi};class py extends pr{constructor(n,t,e,u={}){super(n,t,e,u)}}const my=(s,n)=>new py(s.x,s.y,dr,{desiredSpeed:mn.speed,maxForce:mn.force,hp:mn.hp+(n-mn.baseLevel)*mn.hpScaling,damage:mn.damage,goldValue:_.max(mn.gold-(n-mn.baseLevel),1),xpValue:mn.xp,color:_.color(mn.rgb)}),$r={name:"Heavy Weight",discription:"A heavy unit, moves slowly, but with great bulk comes great health.",hp:500,hpScaling:35,damage:25,speed:yt*.7,force:yt*.05,mass:2,gold:50,xp:35,baseLevel:6,rgb:em};class gy extends pr{constructor(n,t,e,u={}){super(n,t,e,u)}}const yy=(s,n)=>new gy(s.x,s.y,dr,{desiredSpeed:$r.speed,maxForce:$r.force,hp:$r.hp+(n-$r.baseLevel)*$r.hpScaling,damage:$r.damage,mass:$r.mass,goldValue:_.max($r.gold-(n-$r.baseLevel),1),xpValue:$r.xp,color:_.color($r.rgb)}),mr={name:"Paladin",discription:"A heavyly armored holy warrior, heals himself by the blessing of the divine.",hp:2e3,hpScaling:110,damage:250,speed:yt*.6,force:yt*.25,mass:2.5,gold:150,xp:100,baseLevel:10,healBy:1,healScaling:.25,healCooldown:10,rgb:tm};class vy extends pr{constructor(t,e,u,d={}){super(t,e,u,d);W(this,"currentHealCooldown");W(this,"healCooldown");W(this,"healBy");this.currentHealCooldown=mr.healCooldown,this.healCooldown=mr.healCooldown,this.healBy=d.healAmount,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.healSelf())}healSelf(){this.getHeal(this.healBy)}}const by=(s,n)=>new vy(s.x,s.y,dr,{desiredSpeed:mr.speed,maxForce:mr.force,hp:mr.hp+(n-mr.baseLevel)*mr.hpScaling,damage:mr.damage,mass:mr.mass,goldValue:_.max(mr.gold-(n-mr.baseLevel),1),xpValue:mr.xp,color:_.color(mr.rgb),healAmount:mr.healBy+(n-mr.baseLevel)*mr.healScaling}),Kr={name:"Rusher",discription:"Rushers sprint right through your defenses.",hp:240,hpScaling:15,damage:30,speed:yt*3.2,force:yt*.35,mass:.75,gold:33,xp:55,baseLevel:16,rgb:Xo};class wy extends pr{constructor(n,t,e,u={}){super(n,t,e,u)}}const ah=(s,n,t=!1)=>new wy(s.x,s.y,dr,{desiredSpeed:Kr.speed,maxForce:Kr.force,hp:Kr.hp+(n-Kr.baseLevel)*Kr.hpScaling,damage:Kr.damage,mass:Kr.mass,goldValue:t?0:_.max(Kr.gold-(n-Kr.baseLevel),1),xpValue:Kr.xp,color:_.color(Kr.rgb)}),gr={name:"Healer",discription:"The Healer heals everyone in around them.",hp:400,hpScaling:20,damage:10,speed:yt*1.3,force:yt*.1,mass:1,gold:50,xp:60,baseLevel:17,healAmount:20,healScaling:2,healCooldown:100,healRange:He*4,rgb:Od};class xy extends pr{constructor(t,e,u,d={}){super(t,e,u,d);W(this,"currentHealCooldown");W(this,"healCooldown");W(this,"healAmount");W(this,"healRange");this.currentHealCooldown=gr.healCooldown,this.healCooldown=gr.healCooldown,this.healAmount=d.healAmount,this.healRange=gr.healRange,this.abilityCounters=["currentHealCooldown"]}update(){super.update(),this.currentHealCooldown--,this.currentHealCooldown<=0&&(this.currentHealCooldown=this.healCooldown,this.heal())}heal(){const t=Gt.inRangeCircle(this.pos,this.healRange);for(const e of t)e.getHeal(this.healAmount)}}const _y=(s,n)=>new xy(s.x,s.y,dr,{desiredSpeed:gr.speed,maxForce:gr.force,hp:gr.hp+(n-gr.baseLevel)*gr.hpScaling,damage:gr.damage,goldValue:_.max(gr.gold-(n-gr.baseLevel),1),xpValue:gr.xp,color:_.color(gr.rgb),healAmount:gr.healAmount+(n-gr.baseLevel)*gr.healScaling}),Lr={name:"Summoner",discription:"Slow moving unit that summons rushers as long as she lives.",hp:3500,hpScaling:75,damage:100,speed:yt*.5,force:yt*.3,mass:2,gold:200,xp:200,baseLevel:20,summonCooldown:160,rgb:wi};class Sy extends pr{constructor(t,e,u,d={}){super(t,e,u,d);W(this,"currentSummonCooldown");W(this,"summonCooldown");this.currentSummonCooldown=Lr.summonCooldown,this.summonCooldown=Lr.summonCooldown,this.abilityCounters=["currentSummonCooldown"]}update(){super.update(),this.currentSummonCooldown--,this.currentSummonCooldown<=0&&(this.currentSummonCooldown=this.summonCooldown,this.summonRusher())}summonRusher(){Yt.units.push(ah(this.pos.copy(),this.level,!0))}}const jy=(s,n)=>new Sy(s.x,s.y,dr,{desiredSpeed:Lr.speed,maxForce:Lr.force,hp:Lr.hp+(n-Lr.baseLevel)*Lr.hpScaling,damage:Lr.damage,mass:Lr.mass,goldValue:_.max(Lr.gold-(n-Lr.baseLevel),1),xpValue:Lr.xp,color:_.color(Lr.rgb),level:n}),gn={name:"Knight",discription:"A knight on a quest to slay an evil monster. Apparantly you qualify",hp:1100,hpScaling:50,damage:50,speed:yt*1.7,force:yt*.18,mass:1,gold:75,xp:100,baseLevel:23,rgb:Y0};class Ty extends pr{constructor(n,t,e,u={}){super(n,t,e,u)}}const Ey=(s,n)=>new Ty(s.x,s.y,dr,{desiredSpeed:gn.speed,maxForce:gn.force,hp:gn.hp+(n-gn.baseLevel)*gn.hpScaling,damage:gn.damage,goldValue:_.max(gn.gold-(n-gn.baseLevel),1),xpValue:gn.xp,color:_.color(gn.rgb)}),Cy=(s,n,t=25,e=_.color(Ld))=>new Qn(s,n,t,e,[],u=>{_.push(),_.stroke(e),_.strokeWeight(3),_.noFill(),_.circle(u.pos.x,u.pos.y,2*n*((t-u.duration)/t)),_.pop()},()=>{}),vr=Object.freeze({name:"Protector",discription:"The Protector sends out a wave that repels projectiles.",hp:250,hpScaling:10,damage:15,speed:yt*1.5,force:yt*.15,mass:1,gold:55,xp:55,baseLevel:25,pulseRange:He*4,pulseForce:yt*10,pulseDuration:25,pulseCooldown:75,rgb:Ld});class My extends pr{constructor(t,e,u,d={}){super(t,e,u,d);W(this,"currentPulseCooldown");W(this,"pulseCooldown");W(this,"pulseRange");W(this,"pulseDuration");W(this,"currentPulseDuration");W(this,"pulseForce");W(this,"pulseOrigin");this.currentPulseCooldown=vr.pulseCooldown,this.pulseCooldown=vr.pulseCooldown,this.pulseRange=vr.pulseRange,this.abilityCounters=["currentPulseCooldown"],this.pulseDuration=vr.pulseDuration,this.currentPulseDuration=vr.pulseDuration,this.pulseForce=vr.pulseForce,this.pulseOrigin=this.pos}update(){super.update(),this.currentPulseCooldown--,this.currentPulseCooldown<=0&&(this.currentPulseCooldown=this.pulseCooldown,this.castPulse()),this.currentPulseDuration>0&&(this.currentPulseDuration--,this.advancePulse())}castPulse(){this.pulseOrigin=this.pos.copy(),this.currentPulseDuration=this.pulseDuration,et.addVisual(Cy(this.pulseOrigin,this.pulseRange,this.pulseDuration))}advancePulse(){const t=this.pulseRange*((this.pulseDuration-this.currentPulseDuration)/this.pulseDuration),e=this.pulseRange*(_.max(this.pulseDuration-(this.currentPulseDuration+3),0)/this.pulseDuration),u=Va.inRangeCircleFromMin(this.pulseOrigin,t,e);for(const d of u){const h=ut.Vector.sub(d.pos,this.pulseOrigin).setMag(this.pulseForce);d.applyForce(h)}}}const Ay=(s,n)=>new My(s.x,s.y,dr,{desiredSpeed:vr.speed,maxForce:vr.force,hp:vr.hp+(n-vr.baseLevel)*vr.hpScaling,damage:vr.damage,goldValue:_.max(vr.gold-(n-vr.baseLevel),1),xpValue:vr.xp,color:_.color(vr.rgb)}),Ry=0,Oy=2,gc=(s,n,t,e=Ry,u=Oy)=>{const d=t*.2;_.push(),_.translate(s,n),_.rotate(e),_.triangle(0,-d*4,d*.8,d*2,-d*.8,d*2),_.strokeWeight(u*1.5),_.line(0,d*3.5,0,d*2.1),_.strokeWeight(u),_.line(d,d*2,-d,d*2),_.pop()},Py=(s,n,t,e="Command",u="PASSIVE")=>new Rr(e,s,u,d=>{},(d,h)=>{_.push(),_.fill(Rl),_.stroke(0),_.strokeWeight(0),gc(h.x,h.y,d.size*(1/3),_.PI/4,.5),gc(h.x,h.y,d.size*(1/3),-_.PI/4,.5),_.pop()},d=>{d.setSpeedBuffs.push(n),d.recalcSpeedBuffs(),d.additiveMaxForceBuffs.push(t),d.recalcMaxForceBuffs()},d=>{an(n,d.setSpeedBuffs),d.recalcSpeedBuffs(),an(t,d.additiveMaxForceBuffs),d.recalcMaxForceBuffs()},!0),Er=Object.freeze({name:"Commander",discription:"The Commander leads those around her to work together, combining a loose militia into an effective force.",hp:4500,hpScaling:110,damage:200,speed:yt*1.6,force:yt*.2,mass:2,gold:350,xp:450,baseLevel:30,commandCooldown:10,commandSpeed:yt*1.6,commandExtraForce:yt*.2,commandRange:He*5,rgb:sm});class ky extends pr{constructor(t,e,u,d={}){super(t,e,u,d);W(this,"currentCommandCooldown");W(this,"commandCooldown");W(this,"commandSpeed");W(this,"commandExtraForce");W(this,"commandRange");this.currentCommandCooldown=Er.commandCooldown,this.commandCooldown=Er.commandCooldown,this.commandSpeed=Er.commandSpeed,this.commandExtraForce=Er.commandExtraForce,this.commandRange=Er.commandRange,this.abilityCounters=["currentCommandCooldown"]}update(){super.update(),this.currentCommandCooldown--,this.currentCommandCooldown<=0&&(this.currentCommandCooldown=this.commandCooldown,this.command())}command(){const t=Gt.inRangeCircle(this.pos,this.commandRange);for(const e of t)e.applyStatus(Py(this.commandCooldown*2,this.commandSpeed,this.commandExtraForce),!0)}}const Ly=(s,n)=>new ky(s.x,s.y,dr,{desiredSpeed:Er.speed,maxForce:Er.force,hp:Er.hp+(n-Er.baseLevel)*Er.hpScaling,damage:Er.damage,goldValue:_.max(Er.gold-(n-Er.baseLevel),1),xpValue:Er.xp,color:_.color(Er.rgb)}),Jr=Object.freeze({name:"Mercenary",discription:"Mercenaries are hired to protect the others during their journey, but are hardly motivated to do much about an overlord.",hp:800,hpScaling:40,damage:1,damageToMinions:50,speed:yt*1.6,force:yt*.2,attackCooldown:10,mass:1,gold:45,xp:80,baseLevel:32,rgb:im});class Dy extends pr{constructor(t,e,u,d={}){super(t,e,u,d);W(this,"damageToMinions");this.damageToMinions=Jr.damageToMinions}followPathAndSeekTarget(t,e,u){const d=this.getCurrentTile(),h=t.getCurrentTile();if(je.aStar(d.r,d.q,h.r,h.q,!0).length>12){this.followPathField(je.grid[this.hexPos.x][this.hexPos.y],this.currentFlowField);return}this.seekTarget(t)}attack(t){t.takeDamage(new ir("PHYSICAL",this.damageToMinions))}}const Iy=(s,n)=>new Dy(s.x,s.y,dr,{desiredSpeed:Jr.speed,maxForce:Jr.force,hp:Jr.hp+(n-Jr.baseLevel)*Jr.hpScaling,damage:Jr.damage,goldValue:_.max(Jr.gold-(n-Jr.baseLevel),1),xpValue:Jr.xp,color:_.color(Jr.rgb),visionRadius:He*6}),By=(s,n,t="Song of Healing",e="NORMAL")=>new Rr(t,s,e,u=>{u.getHeal(u.maxHp*n)},(u,d)=>{_.push(),_.fill(Rs),Bn(d.x,d.y,u.size*(1/2),0,1,Rs),_.pop()},u=>{},u=>{},!0),Ny=(s,n,t="Song of Protection",e="ON_TAKE_DAMAGE")=>new Rr(t,s,e,(u,d,h={damage:new ir("PHYSICAL",0)})=>{h.damage.amount*=n},(u,d)=>{_.push(),_.fill(wi),Bn(d.x,d.y,u.size*(1/2),0,1,wi),_.pop()},u=>{},u=>{},!0),Fy=(s,n,t="Song of Power",e="PASSIVE")=>new Rr(t,s,e,(u,d,h={damage:new ir("PHYSICAL",0)})=>{},(u,d)=>{_.push(),_.fill(vi),Bn(d.x,d.y,u.size*(1/2),0,1,vi),_.pop()},u=>{u.multiplicativeMaxForceBuffs.push(n),u.recalcMaxForceBuffs()},u=>{an(n,u.multiplicativeMaxForceBuffs),u.recalcMaxForceBuffs()},!0),Uy=(s,n,t="Song of Speed",e="PASSIVE")=>new Rr(t,s,e,(u,d,h={damage:new ir("PHYSICAL",0)})=>{},(u,d)=>{_.push(),_.fill(Xo),Bn(d.x,d.y,u.size*(1/2),0,1,Xo),_.pop()},u=>{u.multiplicativeSpeedBuffs.push(n),u.recalcSpeedBuffs()},u=>{an(n,u.multiplicativeSpeedBuffs),u.recalcSpeedBuffs()},!0),Gy=(s,n,t=50,e=ks)=>{const u=[];for(let d=0;d<15;d++)u.push(new Qn(s,n,t,_.color(e),[],h=>{_.push();const r=to(_.color(e));r.setAlpha(h.duration*5),_.fill(r),Bn(h.pos.x,h.pos.y,n,0,1,r),_.pop()},()=>{},ut.Vector.random2D().mult(_.random(1,3))));return u},fr=Object.freeze({name:"Bard",discription:"The Bard sings songs to bolster their allies, though their support can be a bit random at times.",hp:750,hpScaling:15,damage:22,speed:yt*1.6,force:yt*.11,mass:1,gold:45,xp:115,baseLevel:36,songCooldown:250,songRange:He*5,songDuration:400,healPercentPerFrame:4e-4,protectionDamageReduction:.5,forceBuffAmount:2,speedBuffAmount:1.35,rgb:Da});class Vy extends pr{constructor(t,e,u,d={}){super(t,e,u,d);W(this,"currentSongCooldown");W(this,"songCooldown");W(this,"songRange");W(this,"songDuration");W(this,"healPercentPerFrame");W(this,"protectionDamageReduction");W(this,"forceBuffAmount");W(this,"speedBuffAmount");this.currentSongCooldown=fr.songCooldown,this.songCooldown=fr.songCooldown,this.songRange=fr.songRange,this.songDuration=fr.songDuration,this.healPercentPerFrame=fr.healPercentPerFrame,this.protectionDamageReduction=fr.protectionDamageReduction,this.forceBuffAmount=fr.forceBuffAmount,this.speedBuffAmount=fr.speedBuffAmount,this.abilityCounters=["currentSongCooldown"]}update(){super.update(),this.currentSongCooldown--,this.currentSongCooldown<=0&&(this.currentSongCooldown=this.songCooldown,this.song())}song(){const t=Gt.inRangeCircle(this.pos,this.songRange),e=this.getRandomSong();for(const u of t)e.status?u.applyStatus(e.song,!0):e.song(u);for(const u of Gy(this.pos,this.size,50,e.color))et.addVisual(u)}getRandomSong(){return _.random([{song:By(this.songDuration,this.healPercentPerFrame),color:Rs,status:!0},{song:Ny(this.songDuration,this.protectionDamageReduction),color:wi,status:!0},{song:Fy(this.songDuration,this.forceBuffAmount),color:vi,status:!0},{song:Uy(this.songDuration,this.speedBuffAmount),color:Xo,status:!0},{song:this.getSongOfCleansing,color:Ar,status:!1}])}getSongOfCleansing(t){t.cleanseAllStatuses()}}const Hy=(s,n)=>new Vy(s.x,s.y,dr,{desiredSpeed:fr.speed,maxForce:fr.force,hp:fr.hp+(n-fr.baseLevel)*fr.hpScaling,damage:fr.damage,goldValue:_.max(fr.gold-(n-fr.baseLevel),1),xpValue:fr.xp,color:_.color(fr.rgb)}),yr=Object.freeze({name:"Illusionist",discription:"The Illusionist has mastered the art of subversion, confusing your towers with her tricks.",hp:8e3,hpScaling:50,damage:300,speed:yt*1.15,force:yt*.19,mass:1,gold:500,xp:500,baseLevel:40,illusionCooldown:400,illusionStartCooldown:100,illusionHp:250,rgb:lm});class Wy extends pr{constructor(t,e,u,d={}){super(t,e,u,d);W(this,"currentIllusionCooldown");W(this,"illusionCooldown");W(this,"illusions");W(this,"illusionHp");this.currentIllusionCooldown=yr.illusionStartCooldown,this.illusionCooldown=yr.illusionCooldown,this.illusions=[],this.illusionHp=yr.illusionHp,this.abilityCounters=["currentIllusionCooldown"]}update(){super.update(),this.currentIllusionCooldown--,this.currentIllusionCooldown<=0&&(this.currentIllusionCooldown=this.illusionCooldown,this.castIllusions()),this.updateIllusions()}updateIllusions(){for(let t=this.illusions.length-1;t>=0;t--){const e=this.illusions[t];if(e.unit.hp<=0){this.illusions.splice(t,1);continue}const u=ut.Vector.add(this.hexPos,je.neighborVectorsRQ[e.pos]),d=je.getDiffVectorFromRQ(this.hexPos.x,this.hexPos.y,u.x,u.y),h=ut.Vector.add(this.pos,d);e.unit.pos.x=h.x,e.unit.pos.y=h.y}}show(){super.show(),this.showIllusions()}showIllusions(){for(const t of this.illusions){const e=je.getHexVectorFromXY(t.unit.pos.x,t.unit.pos.y);je.grid[e.x][e.y]===void 0||!je.grid[e.x][e.y].canUnit||(_.push(),_.noStroke(),_.fill([...yr.rgb,100]),Ia(t.unit.pos,this.vel,t.unit.size,_.max(t.unit.hp/t.unit.maxHp,0),100),_.pop())}}castIllusions(){this.illusions=[];for(let t=0;t<je.neighborVectorsRQ.length;t++){const e=ut.Vector.add(this.hexPos,je.neighborVectorsRQ[t]),u=je.getDiffVectorFromRQ(this.hexPos.x,this.hexPos.y,e.x,e.y),d=ut.Vector.add(this.pos,u),h=new pr(d.x,d.y,this.size,{hp:this.illusionHp,color:_.color(yr.rgb)});this.illusions.push({unit:h,pos:t})}}insertIntoQuadTree(){Gt.insert(new zo(this.pos,this));for(const t of this.illusions){const e=je.getHexVectorFromXY(t.unit.pos.x,t.unit.pos.y);je.grid[e.x][e.y]===void 0||!je.grid[e.x][e.y].canUnit||Gt.insert(new zo(t.unit.pos,t.unit))}}}const zy=(s,n)=>new Wy(s.x,s.y,dr,{desiredSpeed:yr.speed,maxForce:yr.force,hp:yr.hp+(n-yr.baseLevel)*yr.hpScaling,damage:yr.damage,mass:yr.mass,goldValue:_.max(yr.gold-(n-yr.baseLevel),1),xpValue:yr.xp,color:_.color(yr.rgb),level:n});var Ue=(s=>(s[s.FARMER=0]="FARMER",s[s.SWORDSMAN=1]="SWORDSMAN",s[s.HEAVYWEIGHT=2]="HEAVYWEIGHT",s[s.BOMBER=3]="BOMBER",s[s.PALADIN=4]="PALADIN",s[s.BERSERKER=5]="BERSERKER",s[s.RUSHER=6]="RUSHER",s[s.HEALER=7]="HEALER",s[s.SUMMONER=8]="SUMMONER",s[s.KNIGHT=9]="KNIGHT",s[s.PROTECTOR=10]="PROTECTOR",s[s.COMMANDER=11]="COMMANDER",s[s.MERCENARY=12]="MERCENARY",s[s.BARD=13]="BARD",s[s.ILLUSIONIST=14]="ILLUSIONIST",s))(Ue||{});const qy=(s,n,t,e=0,u=_)=>{const d=t/2,h=t*(3/8),r=t*(1/11),p={x:0,y:-d},f={x:0,y:d},g={x:h,y:-h},m={x:-h,y:-h};u.push(),u.translate(s,n),u.rotate(e),u.beginShape(),u.vertex(m.x,m.y),u.quadraticVertex(-r*2,-r*3,p.x,p.y),u.quadraticVertex(r*2,-r*3,g.x,g.y),u.quadraticVertex(r*4,r*5,f.x,f.y),u.quadraticVertex(-r*4,r*5,m.x,m.y),u.endShape(u.CLOSE),u.pop()},Lo={STEEL:{hpMultiplier:1.5,damageReductionFlatPerType:{PHYSICAL:2,POISON:0,FIRE:1,EXPLOSION:2,DROWN:0},damageReductionPercentPerType:{PHYSICAL:.5,POISON:0,FIRE:.5,EXPLOSION:1,DROWN:0},weight:1,color:Rl},MITHRIL:{hpMultiplier:3,damageReductionFlatPerType:{PHYSICAL:10,POISON:1,FIRE:5,EXPLOSION:10,DROWN:0},damageReductionPercentPerType:{PHYSICAL:2/3,POISON:.25,FIRE:2/3,EXPLOSION:1,DROWN:0},weight:.2,color:Os}};class Yy{constructor(n,t){W(this,"type");W(this,"hp");W(this,"maxHp");W(this,"hpPercentToAlpha");W(this,"damageReductionFlatPerType");W(this,"damageReductionPercentPerType");W(this,"weight");W(this,"color");this.type=n,this.maxHp=t*Lo[n].hpMultiplier,this.hp=t*Lo[n].hpMultiplier,this.hpPercentToAlpha=255,this.damageReductionFlatPerType=Lo[n].damageReductionFlatPerType,this.damageReductionPercentPerType=Lo[n].damageReductionPercentPerType,this.weight=Lo[n].weight,this.color=Lo[n].color}reduceDamage(n){n.amount=_.max(n.amount-this.damageReductionFlatPerType[n.type],0);const t=n.amount*this.damageReductionPercentPerType[n.type];return this.hp-=t,n.amount=_.max(n.amount-t,0),this.hpPercentToAlpha=55+this.hp/this.maxHp*200,n}show(n,t,e){_.push(),_.strokeWeight(1),_.stroke(this.color),_.fill([...this.color,this.hpPercentToAlpha]),qy(n.x,n.y,t*.8),_.pop()}}class yc{constructor(){}static getUnit(n,t,e,u){let d;switch(n){case Ue.FARMER:d=mc(t,e);break;case Ue.SWORDSMAN:d=my(t,e);break;case Ue.HEAVYWEIGHT:d=yy(t,e);break;case Ue.BOMBER:d=hy(t,e);break;case Ue.PALADIN:d=by(t,e);break;case Ue.BERSERKER:d=km(t,e);break;case Ue.RUSHER:d=ah(t,e);break;case Ue.HEALER:d=_y(t,e);break;case Ue.SUMMONER:d=jy(t,e);break;case Ue.KNIGHT:d=Ey(t,e);break;case Ue.PROTECTOR:d=Ay(t,e);break;case Ue.COMMANDER:d=Ly(t,e);break;case Ue.MERCENARY:d=Iy(t,e);break;case Ue.BARD:d=Hy(t,e);break;case Ue.ILLUSIONIST:d=zy(t,e);break;default:console.log("Wrong input"),d=mc(t,e);break}if(!u)return d;const h=new Yy(u,d.hp);return d.addArmor(h),d}}const lh={wave:[],message:"First come just some lowly Farmers, should be no issue."};for(let s=0;s<12;s++)lh.wave.push({unit:Ue.FARMER,cooldown:100});const uh={wave:[],message:"More of the same thing, just slightly closer together."};for(let s=0;s<15;s++)uh.wave.push({unit:Ue.FARMER,cooldown:70});const ch={wave:[],message:"Swordsmen are slightly stronger than farmers, still though, no self respecting overlord should be having issues at this point."};for(let s=0;s<12;s++)ch.wave.push({unit:Ue.SWORDSMAN,cooldown:90});const Ha={wave:[],message:"This time they're both coming at you."};for(let s=0;s<7;s++){for(let n=0;n<2;n++)Ha.wave.push({unit:Ue.FARMER,cooldown:35});Ha.wave.push({unit:Ue.SWORDSMAN,cooldown:100})}const Wa={wave:[],message:"Those cowardly Farmers think they're safer in groups. Let's show them how wrong they are."};for(let s=0;s<7;s++){for(let n=0;n<5;n++)Wa.wave.push({unit:Ue.FARMER,cooldown:5});Wa.wave.push({unit:Ue.FARMER,cooldown:160})}const wo={wave:[],message:"The first Heavyweights are about to show up, they can take a hit, but are vulnerable to slow and push effects."};for(let s=0;s<2;s++)wo.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:200}),wo.wave.push({unit:Ue.SWORDSMAN,cooldown:25}),wo.wave.push({unit:Ue.SWORDSMAN,cooldown:25}),wo.wave.push({unit:Ue.SWORDSMAN,cooldown:220});wo.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:125});wo.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:125});const dh={wave:[],message:"So many Swordsmen almost make an army. Good thing overlords make a business out of squasing those."};for(let s=0;s<20;s++)dh.wave.push({unit:Ue.SWORDSMAN,cooldown:45});const hh={wave:[],message:"Those Bombers carry explosives to blow up our base, but if you blow them up they'll damage their own allies."};for(let s=0;s<40;s++)hh.wave.push({unit:Ue.BOMBER,cooldown:12});const ti={wave:[],message:"Next is a nice mix of lots of weaklings and a few strong ones."};for(let s=0;s<4;s++){ti.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:30});for(let n=0;n<15;n++)ti.wave.push({unit:Ue.FARMER,cooldown:60});ti.wave.push({unit:Ue.FARMER,cooldown:30})}const fh={wave:[],message:"A bonefide Paladin has heard of the 'evil' you've been up to, and has decided that should end. Look out for his divine blessing which slowly regenerates his health."};fh.wave.push({unit:Ue.PALADIN,cooldown:10});const ph={wave:[],message:"That's a lot of Swordsmen. They never learn do they."};for(let s=0;s<50;s++)ph.wave.push({unit:Ue.SWORDSMAN,cooldown:35});const ri={wave:[],message:"Groups of heavies are a pain, but I bet you could use those bombers to your advantage."};for(let s=0;s<4;s++){for(let n=0;n<3;n++)ri.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:4});ri.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:210});for(let n=0;n<12;n++)ri.wave.push({unit:Ue.BOMBER,cooldown:45})}const za={wave:[],message:"Berserkers turn pain into pleasure, uhh, I mean, into a rage they use to rush right through your defenses."};for(let s=0;s<9;s++)za.wave.push({unit:Ue.BERSERKER,cooldown:10}),za.wave.push({unit:Ue.BERSERKER,cooldown:190});const qa={wave:[],message:"Next wave benefits from those sweet big hits me thinks."};for(let s=0;s<12;s++)qa.wave.push({unit:Ue.BERSERKER,cooldown:40}),qa.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:40});const Ya={wave:[],message:"Slow and high health, this wave takes a while."};for(let s=0;s<3;s++){Ya.wave.push({unit:Ue.PALADIN,cooldown:280});for(let n=0;n<8;n++)Ya.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:130})}const mh={wave:[],message:"The first Rushers are about to show, they are a bit hard to deal with, but a few good hits should do the trick."};for(let s=0;s<22;s++)mh.wave.push({unit:Ue.RUSHER,cooldown:60});const ni={wave:[],message:"Those Swordsmen mobs are still not giving up. This time they brought some Healers along."};for(let s=0;s<5;s++){ni.wave.push({unit:Ue.HEALER,cooldown:35});for(let n=0;n<7;n++)ni.wave.push({unit:Ue.SWORDSMAN,cooldown:25});ni.wave.push({unit:Ue.SWORDSMAN,cooldown:190})}const oi={wave:[],message:"Don't let those Healers do their thing!"};for(let s=0;s<13;s++)oi.wave.push({unit:Ue.HEALER,cooldown:45}),oi.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:45}),oi.wave.push({unit:Ue.HEALER,cooldown:195});const gs={wave:[],message:"Rushers and Berserkers, it's a hectic round."};for(let s=0;s<7;s++)gs.wave.push({unit:Ue.BERSERKER,cooldown:30}),gs.wave.push({unit:Ue.RUSHER,cooldown:60}),gs.wave.push({unit:Ue.RUSHER,cooldown:60}),gs.wave.push({unit:Ue.RUSHER,cooldown:30});const gh={wave:[],message:"Best kill this Summoner quickly if you don't want to be overrun."};gh.wave.push({unit:Ue.SUMMONER,cooldown:10});const si={wave:[],message:"It seems one of these geniuses came up with the idea of actually wearing armor. And here I thought they all shared their one braincell."};for(let s=0;s<4;s++){for(let n=0;n<4;n++)si.wave.push({unit:Ue.SWORDSMAN,cooldown:40,armor:"STEEL"}),si.wave.push({unit:Ue.SWORDSMAN,cooldown:40});si.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:150,armor:"STEEL"})}const kr={wave:[],message:"Some actual armor tidbits this time, you look like you need it :p. Armor mitigates small hits more than large ones, however poison goes straight through. Explosions on the other hand get fully absorbed."};for(let s=0;s<1;s++){for(let n=0;n<6;n++)kr.wave.push({unit:Ue.FARMER,cooldown:25});kr.wave.push({unit:Ue.FARMER,cooldown:300,armor:"STEEL"});for(let n=0;n<5;n++)kr.wave.push({unit:Ue.SWORDSMAN,cooldown:25});kr.wave.push({unit:Ue.SWORDSMAN,cooldown:300,armor:"STEEL"});for(let n=0;n<4;n++)kr.wave.push({unit:Ue.BOMBER,cooldown:25});kr.wave.push({unit:Ue.BOMBER,cooldown:300,armor:"STEEL"});for(let n=0;n<3;n++)kr.wave.push({unit:Ue.BERSERKER,cooldown:25});kr.wave.push({unit:Ue.BERSERKER,cooldown:300,armor:"STEEL"});for(let n=0;n<2;n++)kr.wave.push({unit:Ue.RUSHER,cooldown:25});kr.wave.push({unit:Ue.RUSHER,cooldown:300,armor:"STEEL"});for(let n=0;n<1;n++)kr.wave.push({unit:Ue.HEALER,cooldown:25});kr.wave.push({unit:Ue.HEALER,cooldown:300,armor:"STEEL"})}const Xa={wave:[],message:"The Knights are coming. They are pretty strong allrounders, their weakness however, is that they are friggin boring. Go have skill or quirk! Pathetic."};for(let s=0;s<4;s++){for(let n=0;n<2;n++)Xa.wave.push({unit:Ue.KNIGHT,cooldown:90});Xa.wave.push({unit:Ue.KNIGHT,cooldown:250})}const $a={wave:[],message:"Not sure they thought this combo through..."};for(let s=0;s<12;s++){$a.wave.push({unit:Ue.HEALER,cooldown:75});for(let n=0;n<3;n++)$a.wave.push({unit:Ue.BERSERKER,cooldown:100,armor:"STEEL"})}const To={wave:[],message:"The Protectors figured out we like to shoot things at them, and will try to defend themselves and others. Rather weak once you do get them good though."};for(let s=0;s<5;s++)To.wave.push({unit:Ue.PROTECTOR,cooldown:80});for(let s=0;s<5;s++)To.wave.push({unit:Ue.PROTECTOR,cooldown:40}),To.wave.push({unit:Ue.SWORDSMAN,cooldown:40,armor:"STEEL"});To.wave.push({unit:Ue.PROTECTOR,cooldown:240});for(let s=0;s<1;s++){for(let n=0;n<5;n++)To.wave.push({unit:Ue.PROTECTOR,cooldown:30,armor:"STEEL"});To.wave.push({unit:Ue.KNIGHT,cooldown:20})}const ii={wave:[],message:"Their armor gives them a little protection from their own explosions, but if you have some aoe this wave should be no issue."};for(let s=0;s<2;s++){ii.wave.push({unit:Ue.PROTECTOR,cooldown:5,armor:"STEEL"});for(let n=0;n<100;n++)ii.wave.push({unit:Ue.BOMBER,cooldown:3,armor:"STEEL"}),ii.wave.push({unit:Ue.BOMBER,cooldown:3})}const Ka={wave:[],message:"Looks like a Knight finally managed to find some armor shiny enough to suit his station."};for(let s=0;s<1;s++){for(let n=0;n<10;n++)Ka.wave.push({unit:Ue.PROTECTOR,cooldown:35,armor:"STEEL"});Ka.wave.push({unit:Ue.KNIGHT,cooldown:5,armor:"STEEL"})}const Qa={wave:[],message:"Armored heavies don't have much of a chance of making it through, but this paladin has figured out they make pretty decent meat shields. Holy warrior indeed."};for(let s=0;s<1;s++){Qa.wave.push({unit:Ue.PALADIN,cooldown:5});for(let n=0;n<8;n++)Qa.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:200,armor:"STEEL"})}const ys={wave:[],message:"It's a military march huh, some big shot's gonna show soon."};for(let s=0;s<1;s++){for(let n=0;n<2;n++){for(let t=0;t<4;t++){for(let e=0;e<5;e++)ys.wave.push({unit:Ue.FARMER,cooldown:30,armor:"STEEL"});ys.wave.push({unit:Ue.SWORDSMAN,cooldown:60,armor:"STEEL"})}ys.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:120,armor:"STEEL"})}ys.wave.push({unit:Ue.KNIGHT,cooldown:240,armor:"STEEL"})}const vs={wave:[],message:"You know I actually kind of respect this Commander. She manages to turn a random band of idiots into an effective force. Reminds me a little of myself."};for(let s=0;s<1;s++)vs.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:55,armor:"STEEL"}),vs.wave.push({unit:Ue.PROTECTOR,cooldown:15,armor:"STEEL"}),vs.wave.push({unit:Ue.COMMANDER,cooldown:8}),vs.wave.push({unit:Ue.HEAVYWEIGHT,cooldown:15,armor:"STEEL"});const yh={wave:[],message:"The bad news is that that's a lot of Knights, the good news is that we can sell their stuff for a nice price."};for(let s=100;s>0;s--)yh.wave.push({unit:Ue.KNIGHT,cooldown:s+50});const Za={wave:[],message:"Some Mercenaries are scouting ahead of their main force. These guys are more interested in the bounty on monsters they kill than actually fighting you."};for(let s=0;s<4;s++){for(let n=0;n<5;n++)Za.wave.push({unit:Ue.MERCENARY,cooldown:15});Za.wave.push({unit:Ue.MERCENARY,cooldown:120,armor:"STEEL"})}const bs={wave:[],message:"Now it's some more Mercenaries, this time properly protecting their charges."};for(let s=0;s<2;s++){bs.wave.push({unit:Ue.HEALER,cooldown:10}),bs.wave.push({unit:Ue.PROTECTOR,cooldown:10});for(let n=0;n<3;n++){for(let t=0;t<8;t++)bs.wave.push({unit:Ue.SWORDSMAN,cooldown:5,armor:"STEEL"});bs.wave.push({unit:Ue.MERCENARY,cooldown:20,armor:"STEEL"})}}const Ja={wave:[],message:"Would you like to meet an armored Paladin? How about an armored Summoner?.. How about both..."};for(let s=0;s<1;s++)Ja.wave.push({unit:Ue.PALADIN,cooldown:350,armor:"STEEL"}),Ja.wave.push({unit:Ue.SUMMONER,cooldown:350,armor:"STEEL"});const Do={wave:[],message:"Well aren't we lucky, a few Commanders squabbling over the best way to approach our base. Best kill them quick before reinforcements arrive."};for(let s=0;s<1;s++){for(let n=0;n<2;n++)Do.wave.push({unit:Ue.COMMANDER,cooldown:10});Do.wave.push({unit:Ue.COMMANDER,cooldown:500});for(let n=0;n<7;n++)Do.wave.push({unit:Ue.KNIGHT,cooldown:20});Do.wave.push({unit:Ue.KNIGHT,cooldown:200});for(let n=0;n<20;n++)Do.wave.push({unit:Ue.RUSHER,cooldown:10})}const Cn={wave:[],message:"Some Bards are tagging along with the troops, mostly to induldge in the afterparty of your defeat I'm sure."};for(let s=0;s<1;s++){for(let n=0;n<30;n++)Cn.wave.push({unit:Ue.FARMER,cooldown:4,armor:"STEEL"});Cn.wave.push({unit:Ue.BARD,cooldown:225});for(let n=0;n<25;n++)Cn.wave.push({unit:Ue.SWORDSMAN,cooldown:7,armor:"STEEL"});Cn.wave.push({unit:Ue.BARD,cooldown:275});for(let n=0;n<10;n++)Cn.wave.push({unit:Ue.BERSERKER,cooldown:15});Cn.wave.push({unit:Ue.BARD,cooldown:325}),Cn.wave.push({unit:Ue.BARD,cooldown:25});for(let n=0;n<8;n++)Cn.wave.push({unit:Ue.RUSHER,cooldown:25})}const ai={wave:[],message:"It's the support squad! And they are supporting, uhh, each other."};for(let s=0;s<10;s++)ai.wave.push({unit:Ue.HEALER,cooldown:20}),ai.wave.push({unit:Ue.PROTECTOR,cooldown:20}),ai.wave.push({unit:Ue.BARD,cooldown:110});const li={wave:[],message:"Please kill these guys quickly, they were loud enough before they started drinking."};for(let s=0;s<9;s++){li.wave.push({unit:Ue.MERCENARY,cooldown:20,armor:"STEEL"});for(let n=0;n<2;n++)li.wave.push({unit:Ue.BERSERKER,cooldown:20});li.wave.push({unit:Ue.BARD,cooldown:200})}const vh={wave:[],message:"The best way to kill an evil overlord is to send wave after wave. Well that's the theory anyway. These Summoners are going to test that theory."};for(let s=0;s<5;s++)vh.wave.push({unit:Ue.SUMMONER,cooldown:5});const bh={wave:[],message:"Last wave for Easy. This Illusionist will show you a good time....  .   .   .   .   Get it?"};for(let s=0;s<1;s++)bh.wave.push({unit:Ue.ILLUSIONIST,cooldown:200});const vc={1:lh,2:uh,3:ch,4:Ha,5:Wa,6:wo,7:dh,8:hh,9:ti,10:fh,11:ph,12:ri,13:za,14:qa,15:Ya,16:mh,17:ni,18:oi,19:gs,20:gh,21:si,22:kr,23:Xa,24:$a,25:To,26:ii,27:Ka,28:Qa,29:ys,30:vs,31:yh,32:Za,33:bs,34:Ja,35:Do,36:Cn,37:ai,38:li,39:vh,40:bh},Xy=s=>s in vc?vc[s]:-1,wh="waveDone",xh="waveUpdated";class bc{constructor(){W(this,"currentCooldown");W(this,"spawns");W(this,"currentSpawn");W(this,"currentWave");W(this,"currentMessage");W(this,"nextWaveSpawnIndex");W(this,"currentWaveNumber");W(this,"baseWaveReward");W(this,"flatWaveReward");this.currentCooldown=10,this.spawns=[],this.currentSpawn=0,this.currentWaveNumber=0,this.nextWaveSpawnIndex=0,this.baseWaveReward=250,this.flatWaveReward=500,this.currentWave=[],this.currentMessage="",this.startNextWave()}update(){const n=this.currentWave[this.nextWaveSpawnIndex];if(n===void 0)return wh;if(this.currentCooldown--,this.currentCooldown>0)return xh;const t=yc.getUnit(n.unit,this.spawns[this.currentSpawn].pos,this.currentWaveNumber,n.armor);return this.nextWaveSpawnIndex++,this.currentCooldown=n.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,t}setActiveSpawners(n){this.spawns=n,this.currentSpawn=0}startNextWave(){this.nextWaveSpawnIndex=0,this.currentWaveNumber++;const n=Xy(this.currentWaveNumber);n===-1?(this.currentWave=this.generateRandomWave(),this.currentMessage="Random waves from now on. How far can you get?"):(this.currentWave=n.wave,this.currentMessage=n.message)}generateRandomWave(){const n=Object.keys(Ue).length/2,t=120,e=[];let u=this.currentWaveNumber**2*100;for(;u>0;){const d={unit:Math.floor(Math.random()*n),cooldown:_.max(Math.ceil(Math.random()*t-e.length),2)},h=d.unit**2*10+(t-d.cooldown);e.push(d),u-=h}return e}endWave(){return this.currentCooldown=10,this.flatWaveReward}getMessage(){return this.currentMessage}killCurrentWaveWithGold(){let n=0;for(;this.nextWaveSpawnIndex<this.currentWave.length;){const t=this.currentWave[this.nextWaveSpawnIndex];if(t===void 0)return n;const e=yc.getUnit(t.unit,this.spawns[this.currentSpawn].pos,this.currentWaveNumber,t.armor);this.nextWaveSpawnIndex++,this.currentCooldown=t.cooldown,this.currentSpawn=(this.currentSpawn+1)%this.spawns.length,n+=e.goldValue}return n}skipToWaveWithProperGold(n){let t=this.killCurrentWaveWithGold();for(let e=this.currentWaveNumber;e<n-1;e++)t+=this.endWave(),this.startNextWave(),t+=this.killCurrentWaveWithGold();return this.currentWaveNumber=n-1,t}}class $y{constructor(n={}){W(this,"units");W(this,"spawners");W(this,"spawnSize");W(this,"spawnFlat");W(this,"unitSize");W(this,"color");W(this,"nextId");W(this,"waveReader");this.units=[],this.spawners=[],this.spawnSize=n.spawnSize??32,this.spawnFlat=n.spawnFlat??!1,this.unitSize=n.unitSize??20,this.color=n.color??_.color(Kn),this.nextId=0,this.waveReader=new bc}reset(){this.units=[],this.spawners=[],this.nextId=0,this.waveReader=new bc}addSpawn(n,t,e=this.spawnSize,u={}){this.spawners.push(new Om(n,t,e,{unitSize:this.unitSize,flat:this.spawnFlat,color:this.color,...u}))}addUnit(n={}){const t=n.fromSpawn??_.floor(_.random(this.spawners.length));this.spawners[t]!==void 0&&(this.units.push(this.spawners[t].spawnUnit({color:n.color,id:this.nextId,...n})),this.nextId++)}addUnitViaWaveReader(n,t={}){const e=t.fromSpawn??_.floor(_.random(this.spawners.length));this.spawners[e]!==void 0&&(this.units.push(this.spawners[e].spawnUnitViaWaveReader(n)),this.nextId++)}update(){this.updateWaveReader(),this.updateSpawns(),this.updateUnits()}updateSpawns(){for(let n=this.spawners.length-1;n>=0;n--)this.spawners[n].update()}updateUnits(){for(let n=this.units.length-1;n>=0;n--)this.units[n].update()}show(){this.showSpawns(),this.showUnits()}showSpawns(){for(let n=this.spawners.length-1;n>=0;n--)this.spawners[n].show()}showUnits(){for(let n=this.units.length-1;n>=0;n--)this.units[n].show()}updateAndShow(){const n=this.updateWaveReader();return this.updateAndShowSpawns(),this.updateAndShowUnits(),n}updateAndShowSpawns(){for(let n=this.spawners.length-1;n>=0;n--)this.spawners[n].update(),this.spawners[n].show()}updateAndShowUnits(){for(let n=this.units.length-1;n>=0;n--)this.units[n].update(),this.units[n].show();Gt.emptyQuadTree();for(let n=this.units.length-1;n>=0;n--){const t=this.units[n];et.unitReachedBase(t,je)?this.units.splice(n,1):t.dead?(et.unitDied(t),this.units.splice(n,1)):t.insertIntoQuadTree()}}updateWaveReader(){const n=this.waveReader.update();if(n===wh){if(this.units.length===0)return this.waveCleared(),!0}else n!==xh&&this.addUnitViaWaveReader(n);return!1}waveCleared(){const n=this.waveReader.endWave();et.gold+=n,this.waveReader.startNextWave()}}const Ky=new $y({color:_.color(qr),spawnSize:He,unitSize:dr}),Yt=Ky,Qy=(s,n,t,e,u=_.random(ns),d=je.wallRing,h=bt.HILL)=>{Dl(u,"A"),je.resetData(),je.addRandomWalls(100,h);const r=je.grid[s][n];r.data={...r.data,prev:void 0,visited:!0},je.setTileType(r,Fo.EMPTY);const p=je.grid[t][e];je.setTileType(p,Fo.EMPTY);let f=r;for(;f!==void 0;){const g=je.getNeighbors(f.r,f.q);for(const o of g)o.data.visited=!0;const m=je.getGrandNeighbors(f.r,f.q,d);for(let o=m.length-1;o>=0;o--)m[o].data.visited&&m.splice(o,1);const i=_.random(m);if(i===void 0){if(f=f.data.prev,f===void 0)return je.resetData(),!0}else{i.data.visited=!0,je.setTileType(i,Fo.EMPTY),i.data.prev=f;const o=_.createVector(f.r,f.q),a=i.r-f.r,l=i.q-f.q;if(_.abs(a)%2===0?o.x+=a/2:_.random()>.5&&(o.x+=a),_.abs(l)%2===0)o.y+=l/2;else{let y=0;_.random()>.5&&(y=l),o.y+=y,(f.r===o.x&&f.q===o.y||i.r===o.x&&i.q===o.y)&&(y===0?o.y+=l:o.y+=l*-1)}const c=je.grid[o.x][o.y];je.setTileType(c,Fo.EMPTY),f=i}}return!1},Zy=(s,n,t,e,u=_.random(ns),d=bt.HILL,h=bt.EMPTY)=>{Dl(u,"B"),je.addRandomWalls(5,bt.LAVA),je.addRandomWalls(30,d),je.addRandomWalls(20,bt.WATER);const r=je.aStar(s,n,t,e);je.breakWallsInArray(r,h),je.resetData()},Dl=(s,n)=>{const t=_.floor(s);_.randomSeed(t),console.log(`${n}${t}`)},Il=()=>{je.setBuilderTileType(je.grid[je.midR][je.maxQ],bt.BASE),je.setBuilderTileType(je.grid[je.midR][je.minQ],bt.SPAWN)},Jy=(s=_.random(ns),n=void 0,t=bt.HILL)=>{Dl(s,"C"),je.resetData(),je.addRandomWalls(100,t);const e=je.grid[je.midR][je.midQ];e.data={...e.data,prev:void 0,visited:!0},je.setBuilderTileType(e,bt.BASE);let u=e;const d=je.getNeighborsArea(u.r,u.q,2);for(const i of d)je.setBuilderTileType(i,bt.EMPTY);n===void 0&&(n=_.ceil(_.random(19,30)));let h=0,r=2,p=0,f=0;for(;u!==void 0&&h<n;){const i=_.random(je.neighborVectorsRQ),o=_.round(_.random(4,10));let a=bt.EMPTY;_.random()<.3&&(a=_.random()<.2?bt.UNSTABLE:bt.WATER);let l=!1;for(let w=0;w<o;w++){const x=u.r+i.x,S=u.q+i.y;if(!je.rqVectorIsOnGrid(_.createVector(x,S),je.wallRing)||x===e.r&&S===e.q){l=!0,u=e;break}u=je.grid[x][S],!(w<r)&&je.setBuilderTileType(u,a)}if(l)continue;r=_.random()<.15?2:1;let c=bt.EMPTY;_.random()<.3?(c=_.random()<.3?bt.LAVA:bt.WATER,je.setBuilderTileType(u,c)):_.random()<.2?_.random()<.5?je.setBuilderTileType(u,bt.TELEPORTER_ONE):je.setBuilderTileType(u,bt.TELEPORTER_TWO):je.setBuilderTileType(u,c);const y=je.getNeighborsArea(u.r,u.q,r);if(je.hexInArray(e,y)){u=e;continue}for(const w of y)je.setBuilderTileType(w,c);if(h++,h===n){const w=je.getAllTiles();let x=0,S=0;for(const E of w)E.type===bt.EMPTY&&S++,E.type===bt.HILL&&x++;x>S&&h--}}const g=je.getAllTiles();for(const i of g)i.type===bt.TELEPORTER_ONE&&p++,i.type===bt.TELEPORTER_TWO&&f++;if(p===1)for(;;){const i=_.random(g);if(!(i.type===bt.WALL||i.type===bt.BASE||i.isTeleporter)){je.setBuilderTileType(i,bt.TELEPORTER_ONE);break}}if(f===1)for(;;){const i=_.random(g);if(!(i.type===bt.WALL||i.type===bt.BASE||i.isTeleporter)){je.setBuilderTileType(i,bt.TELEPORTER_TWO);break}}je.addAllTeleports();let m=!1;for(;!m;)for(let i=0;i<3;i++){const o=_.random(g),a=je.aStar(o.r,o.q,e.r,e.q);if(a.length<8)continue;let l=!0;for(const c of a)if(!c.canUnit){l=!1;break}l&&(je.setBuilderTileType(o,bt.SPAWN),m=!0)}return!0},ev=()=>{je.reConstructGrid(),Il();const s=je.generateJsonableMap();return je.reConstructGrid(),s},tv={name:"Open",map:ev()},rv=()=>{je.reConstructGrid(),Qy(je.rings,1,je.rings,je.rings*2-1,_.random(ns),1),Il();const s=je.generateJsonableMap();return je.reConstructGrid(),s},nv={name:"Random Pathways",map:rv()},ov=()=>{je.reConstructGrid(),Zy(je.rings,1,je.rings,je.rings*2-1,_.random(ns),bt.HILL),Il();const s=je.generateJsonableMap();return je.reConstructGrid(),s},sv={name:"Random Caverns",map:ov()},iv=()=>{je.reConstructGrid(),Jy(_.random(ns));const s=je.generateJsonableMap();return je.reConstructGrid(),s},av={name:"Random Chambers",map:iv()},lv={name:"Lake Base",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3],[0,0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3],[0,0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3],[0,3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3],[6,0,0,0,4,4,4,4,4,4,4,4,4,7,0,0,0,0,0,0,0,1,0,0,0,0,3],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,1,0,0,0,0,3,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},uv={name:"Lakes Race",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,1,1,1,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3],[0,0,0,0,0,0,0,0,0,3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3],[0,0,0,0,0,0,0,0,3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3],[0,0,0,0,3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3],[0,0,0,3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,3,0,0],[3,0,0,0,0,1,0,0,0,0,4,4,4,4,0,0,0,0,1,0,0,0,0,3,0,0,0],[3,0,0,0,1,0,1,0,0,4,4,4,4,4,0,0,1,0,1,0,0,0,3,0,0,0,0],[3,0,0,1,0,0,1,0,4,4,4,4,4,4,0,1,0,0,1,0,0,3,0,0,0,0,0],[3,0,1,0,0,0,1,0,4,4,4,4,4,0,1,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,0,0,4,0,1,0,4,4,4,4,0,1,0,4,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,4,4,0,1,0,0,0,0,0,1,0,4,4,0,0,3,0,0,0,0,0,0,0,0],[3,0,4,4,4,0,1,0,0,0,0,1,0,4,4,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,4,0,0,1,0,1,0,1,0,0,4,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,1,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,1,1,1,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},cv={name:"The Wheel",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3],[0,0,0,0,0,3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3],[0,0,0,0,3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3],[0,0,0,3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3],[0,0,3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[6,0,1,1,1,1,1,1,1,1,1,1,0,7,0,1,1,1,1,1,1,1,1,1,1,0,3],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,3,0,0],[3,0,1,0,0,4,4,4,0,0,1,0,0,1,0,0,4,4,4,0,0,1,0,3,0,0,0],[3,0,1,0,0,4,4,0,0,1,0,0,0,1,0,0,4,4,0,0,1,0,3,0,0,0,0],[3,0,1,0,0,4,0,0,1,0,0,0,0,1,0,0,4,0,0,1,0,3,0,0,0,0,0],[3,0,1,0,0,0,0,1,0,0,4,0,0,1,0,0,0,0,1,0,3,0,0,0,0,0,0],[3,0,1,0,0,0,1,0,0,4,4,0,0,1,0,0,0,1,0,3,0,0,0,0,0,0,0],[3,0,1,0,0,1,0,0,4,4,4,0,0,1,0,0,1,0,3,0,0,0,0,0,0,0,0],[3,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,1,0,1,1,1,1,1,1,1,1,0,1,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},dv={name:"Time Moves Ever Onward",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3],[0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3],[0,0,0,0,0,0,0,0,3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3],[0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3],[0,0,0,0,0,0,3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3],[0,0,0,0,3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3],[0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3],[0,0,3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3],[0,3,4,1,4,4,4,1,4,4,1,4,3,0,0,3,4,1,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,4,1,4,4,4,1,4,3,2,3,4,1,4,4,4,1,4,4,4,1,4,3],[3,4,1,4,4,1,4,4,4,1,4,3,0,0,3,4,1,4,4,4,1,4,4,1,4,3,0],[3,4,1,1,1,4,1,1,1,4,3,0,1,0,3,4,1,1,1,4,1,1,1,4,3,0,0],[3,4,4,4,4,4,4,4,4,3,0,0,0,0,3,4,4,4,4,4,4,4,4,3,0,0,0],[3,4,4,4,4,4,4,4,3,0,0,1,0,0,3,4,4,4,4,4,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,3,0,0,0,0,0,0,3,4,4,4,4,4,4,3,0,0,0,0,0],[3,4,4,4,4,4,3,0,0,0,1,0,0,0,3,4,4,4,4,4,3,0,0,0,0,0,0],[3,4,4,4,4,3,0,0,0,0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0,0,0],[3,4,4,4,3,0,0,0,0,1,0,0,0,0,3,4,4,4,3,0,0,0,0,0,0,0,0],[3,4,4,3,0,0,0,0,0,0,0,0,0,0,3,4,4,3,0,0,0,0,0,0,0,0,0],[3,4,3,0,0,0,0,0,1,0,0,0,0,0,3,4,3,0,0,0,0,0,0,0,0,0,0],[3,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,7,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},hv={name:"Hillside Flowers",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,2,0,0,0,0,0,0,0,0,0,0,0,2,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,1,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,1,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,1,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,1,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,1,0,1,0,1,1,1,1,0,0,1,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,5,0,0,0,2,2,0,3],[6,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,5,7,2,0,0,2,0,2,2,3],[3,0,0,0,0,0,1,0,1,0,1,0,1,0,0,1,0,5,5,2,0,2,0,0,0,3,0],[3,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,0,0,2,2,0,0,0,3,0,0],[3,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,3,0,0,0,0],[3,0,0,0,0,0,0,5,5,0,0,0,0,5,5,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,5,7,5,0,0,0,5,7,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,2,5,5,0,0,0,0,5,5,2,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,2,2,0,0,0,0,0,0,0,0,2,2,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,2,0,0,0,0,0,0,0,0,0,0,0,2,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},fv={name:"Big Nope",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,3,3,3,3,3,3,3,3,3,3,3,6],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3],[0,3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3],[6,0,0,0,1,0,7,0,5,0,4,4,0,1,0,4,4,0,5,0,7,0,1,0,0,0,6],[3,0,0,0,1,0,2,0,5,0,4,4,0,0,4,4,0,5,0,2,0,1,0,0,0,3,0],[3,0,0,0,1,0,0,0,5,0,4,4,4,4,4,0,5,0,0,0,1,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,5,0,4,4,4,4,0,5,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,5,5,5,5,5,5,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,1,0,7,2,0,0,0,0,2,7,0,1,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[6,3,3,3,3,3,3,3,3,3,3,3,3,6,0,0,0,0,0,0,0,0,0,0,0,0,0]]},pv={name:"Cross Over",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,6,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,4,4,4,4,4,4,4,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,1,0,0,4,4,4,4,4,4,0,0,0,0,0,1,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,0,4,4,4,4,4,0,1,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,0,1,0,0,4,4,4,4,0,1,0,1,0,1,0,0,3],[0,0,0,0,0,0,0,3,0,1,0,1,0,0,4,4,4,0,1,0,1,0,1,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,1,0,0,4,4,0,0,0,1,0,1,0,4,4,0,3],[0,0,0,0,0,3,0,1,0,1,0,1,0,0,4,0,0,0,0,0,1,0,4,0,4,0,3],[0,0,0,0,3,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,4,0,0,4,0,3],[0,0,0,3,0,1,0,1,0,1,0,1,0,0,0,1,0,0,1,0,4,0,4,0,4,0,3],[0,0,3,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,4,0,4,4,0,4,0,3],[0,3,0,1,0,1,0,1,0,1,0,1,0,0,0,0,1,0,4,0,4,0,4,0,4,0,3],[6,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,4,0,0,4,0,0,0,7],[3,1,0,1,0,1,0,1,0,1,0,1,0,0,1,0,0,4,4,0,0,0,4,4,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,0,0,0,0,3,0,0],[3,1,0,1,0,1,0,1,0,0,0,1,1,0,4,0,0,4,4,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,0,4,0,0,0,3,0,0,0,0],[3,1,0,1,0,1,0,0,0,0,1,1,0,0,4,4,0,0,4,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,1,8,1,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0],[3,1,0,1,0,0,0,0,1,0,0,1,0,4,4,4,0,4,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0],[3,1,0,0,0,0,1,0,0,0,0,1,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,5,5,0,1,0,0,0,0,0,1,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,1,0,0,0,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,1,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,7,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},mv={name:"Island Temple",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3],[0,0,0,0,0,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3],[0,0,0,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3],[0,0,0,3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3],[0,0,3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3],[0,3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3],[3,4,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,4,3,4,4,5,4,4,3],[3,4,5,5,5,5,1,0,0,0,0,0,0,1,0,0,0,0,4,3,4,4,8,4,4,3,0],[3,4,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,4,3,4,4,0,4,4,3,0,0],[3,4,0,0,0,1,0,1,1,1,1,0,1,0,0,0,4,3,4,4,0,4,4,3,0,0,0],[3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,3,4,4,0,4,4,3,0,0,0,0],[3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,0,4,4,3,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,0,4,4,3,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},gv={name:"Whirlpool",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,1,1,1,1,1,1,1,1,1,1,1,1,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,4,4,4,4,4,4,4,4,4,4,0,1,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,4,0,0,0,0,0,0,0,0,0,4,0,1,0,3],[0,0,0,0,0,0,0,3,0,1,0,4,0,1,1,1,1,1,1,1,1,0,4,0,1,0,3],[0,0,0,0,0,0,3,0,1,0,4,0,1,0,0,0,0,0,0,0,1,0,4,0,1,0,3],[0,0,0,0,0,3,0,1,0,4,0,1,0,4,4,4,4,4,4,0,1,0,4,0,1,0,3],[0,0,0,0,3,0,1,0,4,0,1,0,4,0,0,0,0,0,4,0,1,0,4,0,1,0,3],[0,0,0,3,0,1,0,4,0,1,0,4,0,1,1,1,1,0,4,0,1,0,4,0,1,0,3],[0,0,3,0,1,0,4,0,1,0,4,0,1,5,0,0,1,0,4,0,1,0,4,0,1,0,3],[0,3,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,3],[7,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,6],[3,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,0,4,0,1,3,0],[3,0,4,0,1,0,4,0,1,0,4,0,0,5,4,0,1,0,4,0,1,0,4,0,3,0,0],[3,0,4,0,1,0,4,0,1,0,4,4,4,4,0,1,0,4,0,1,0,4,0,3,0,0,0],[3,0,4,0,1,0,4,0,1,0,0,0,0,0,1,0,4,0,1,0,4,0,3,0,0,0,0],[3,0,4,0,1,0,4,0,1,1,1,1,1,1,0,4,0,1,0,4,0,3,0,0,0,0,0],[3,0,4,0,1,0,4,0,0,0,0,0,0,0,4,0,1,0,4,0,3,0,0,0,0,0,0],[3,0,4,0,1,0,4,4,4,4,4,4,4,4,0,1,0,4,0,3,0,0,0,0,0,0,0],[3,0,4,0,1,0,0,0,0,0,0,0,0,0,1,0,4,0,3,0,0,0,0,0,0,0,0],[3,0,4,0,1,1,1,1,1,1,1,1,1,1,0,4,0,3,0,0,0,0,0,0,0,0,0],[3,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,4,4,4,4,4,4,4,4,4,4,4,4,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},yv={name:"Tri Hard",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,4,0,0,0,0,6,0,0,0,0,0,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,9,3,4,0,0,0,0,0,0,0,0,0,3,8,3],[0,0,0,0,0,0,0,0,0,0,3,0,3,4,4,4,4,0,0,0,0,0,0,0,3,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,3,4,4,4,4,0,0,0,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,3,0,4,4,4,0,0,0,5,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,3,0,4,4,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,5,5,5,0,3,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,5,5,5,0,3,0,0,0,0,3],[0,0,0,0,3,0,0,5,5,3,0,1,1,1,1,1,0,0,0,0,0,3,4,4,0,0,3],[0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3],[0,0,3,5,5,5,0,0,3,0,0,0,1,1,0,0,1,1,0,0,3,0,0,4,4,4,3],[0,3,0,0,0,0,0,0,3,0,0,1,4,1,0,1,4,1,0,3,0,0,0,0,0,0,3],[3,0,0,5,5,5,5,3,0,0,0,1,1,0,0,1,1,0,0,3,4,4,4,4,0,0,3],[3,0,0,0,0,0,0,3,0,0,0,0,0,5,0,0,0,0,3,0,0,0,0,0,0,3,0],[3,5,5,5,0,0,3,0,0,0,0,0,0,5,0,0,0,0,3,0,0,4,4,4,3,0,0],[3,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0],[3,0,0,5,5,3,0,0,0,0,1,0,1,0,0,0,0,3,4,4,0,0,3,0,0,0,0],[3,0,0,0,0,3,0,0,2,2,0,0,2,2,0,0,3,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,3,0,0,0,1,2,7,2,1,0,0,0,3,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,3,0,0,0,0,2,2,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,1,0,1,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,3,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0],[3,6,3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,0],[3,3,9,0,0,0,0,0,0,0,0,0,8,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},vv={name:"Hero's Journey",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,0,5,0,0,8,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,8,8,8,8,3],[0,0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,0,5,0,0,0,0,0,8,8,8,3],[0,0,0,0,0,0,0,0,0,3,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,8,3],[0,0,0,0,0,0,0,0,3,4,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,5,5,4,4,5,0,5,5,0,5,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,0,5,4,5,0,5,5,5,0,5,5,5,5,5,5,5,0,0,3],[0,0,0,0,0,3,0,5,0,5,5,0,5,5,5,0,5,5,0,0,0,0,0,5,0,0,3],[0,0,0,0,3,0,5,5,0,0,0,5,5,5,5,0,5,0,5,5,5,5,0,5,0,0,3],[0,0,0,3,0,5,5,5,5,5,5,5,5,5,0,0,0,5,5,5,0,0,5,0,0,0,3],[0,0,3,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,5,5,0,0,0,0,3],[0,3,5,0,0,0,0,0,5,5,5,5,5,5,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,7,5,5,5,5,5,0,5,5,5,0,0,0,5,5,5,5,5,0,5,0,0,0,0,0,3],[3,0,0,0,5,5,5,0,5,5,0,5,5,0,5,5,5,5,0,5,0,0,0,0,0,3,0],[3,5,5,0,5,5,5,0,0,0,5,5,5,0,5,5,5,0,5,0,0,0,0,0,3,0,0],[3,5,5,0,0,0,5,5,5,5,5,5,5,0,5,5,5,0,5,0,0,0,0,3,0,0,0],[3,5,5,5,5,0,5,5,5,5,5,0,0,5,5,0,0,5,0,0,0,0,3,0,0,0,0],[3,5,0,0,5,0,5,5,0,0,0,5,5,0,0,5,5,0,0,0,0,3,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,5,5,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,5,5,5,0,0,5,0,0,0,5,5,0,0,0,0,0,8,3,0,0,0,0,0,0,0],[3,0,5,0,0,5,5,0,5,5,5,0,0,0,0,0,8,8,3,0,0,0,0,0,0,0,0],[3,0,0,5,5,0,0,5,0,0,0,0,0,0,8,8,8,3,0,0,0,0,0,0,0,0,0],[3,5,5,0,0,5,5,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,5,5,0,0,0,0,0,0,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0],[3,6,5,0,0,0,0,0,0,8,8,8,8,8,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},bv={name:"Royal Road",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,0,0,0,0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,0,0,3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3],[0,0,0,0,0,0,0,3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3],[0,0,0,0,0,0,3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3],[0,0,0,0,0,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3],[0,0,0,0,3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3],[0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0],[6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0],[3,5,0,4,0,5,5,5,5,5,5,5,5,5,0,4,0,5,3,0,0,0,0,0,0,0,0],[3,5,0,4,0,0,0,0,0,0,0,0,0,0,4,0,5,3,0,0,0,0,0,0,0,0,0],[3,5,0,4,4,4,4,4,4,4,4,4,4,4,0,5,3,0,0,0,0,0,0,0,0,0,0],[3,5,0,0,0,0,0,0,0,0,0,0,0,0,5,3,0,0,0,0,0,0,0,0,0,0,0],[3,5,5,5,5,5,5,5,5,5,5,5,5,5,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},wv={name:"Long Way Around",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,8,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,3,3,9,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,3,3,0,3,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,3,3,5,5,3,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,3,3,5,5,0,5,3,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,3,3,5,5,0,0,5,3,0,4,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,0,3,3,5,5,0,5,5,0,5,3,0,4,0,3],[0,0,0,0,0,3,0,0,0,0,0,3,3,5,5,0,0,5,0,5,5,3,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,3,3,5,5,0,5,5,0,5,5,0,5,3,0,0,0,0,3],[0,0,0,3,0,0,0,3,3,0,5,0,0,5,0,5,5,0,0,5,3,0,4,0,0,0,3],[0,0,3,0,0,3,3,0,0,0,5,5,0,5,5,0,5,5,0,5,3,0,4,0,4,0,3],[0,3,6,3,3,0,0,1,0,0,0,5,5,0,0,5,0,5,5,3,0,4,0,4,0,0,3],[3,3,3,0,0,0,0,0,0,0,0,0,5,5,0,5,5,0,0,3,0,4,0,4,0,0,3],[3,7,0,1,0,1,0,1,0,1,0,0,0,5,5,0,0,0,3,0,4,0,4,0,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,4,0,3,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,3,0,4,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,3,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,4,0,3,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,1,0,3,0,4,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,0,1,0,1,0,1,0,1,0,1,0,3,8,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,9,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},xv={name:"Betrayal",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,8,0,0,0,0,0,0,0,0,0,9,3,3],[0,0,0,0,0,0,0,0,0,0,0,3,8,3,0,0,0,0,0,0,0,0,0,0,3,9,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3],[0,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3],[0,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3],[0,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,3],[0,3,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,3],[3,6,0,0,0,0,0,0,0,0,0,0,9,7,8,0,0,0,0,0,0,0,0,0,0,6,3],[3,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,3,0],[3,0,0,0,0,0,0,0,0,0,0,3,6,3,0,0,0,0,0,0,0,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,0],[3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,0],[3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,0],[3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,0],[3,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,8,3,0,0,0,0,0,0,0,0,0,0,3,9,3,0,0,0,0,0,0,0,0,0,0,0],[3,3,8,0,0,0,0,0,0,0,0,0,9,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},_v={name:"Escape Pompeii",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,0,0,3,0,0,5,5,5,5,5,5,5,5,5,5,5,0,0,3],[0,0,0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,0,3,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,3],[0,0,0,0,0,0,3,0,0,5,0,0,0,5,5,5,5,5,5,5,0,0,0,5,0,0,3],[0,0,0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,0,3,0,0,5,0,0,0,5,0,0,0,0,0,0,0,0,5,0,0,0,5,0,0,3],[0,0,3,0,0,5,0,0,0,5,0,0,0,5,5,5,0,0,0,5,0,0,0,5,0,0,3],[0,3,0,0,5,0,0,0,5,0,0,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,3],[3,0,0,5,0,0,0,5,0,0,0,5,0,6,0,5,0,0,0,5,0,0,0,5,0,0,3],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,7,3,0],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,3,0,0],[3,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0],[3,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0],[3,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0],[3,0,5,0,5,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0,0],[3,0,5,0,5,0,0,5,0,0,0,5,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0],[3,0,5,0,5,0,0,5,0,0,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0],[3,0,5,0,0,0,0,5,0,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0,0],[3,0,5,0,0,0,0,5,0,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0,0,0],[3,0,5,5,5,5,5,5,5,5,5,5,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},Sv={name:"Two Way Road",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,0,0,0,0,0,0,0,0,0,0,0,3,1,7,1,0,0,0,0,0,0,0,4,4,4,3],[0,0,0,0,0,0,0,0,0,0,0,3,6,1,0,1,0,0,0,0,0,0,0,0,4,4,3],[0,0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,0,0,4,3],[0,0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,0,3,0,1,0,1,0,0,1,1,1,1,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,0,3,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,3],[0,0,0,0,0,0,3,0,1,0,1,0,0,1,0,0,0,0,1,1,1,1,0,0,0,0,3],[0,0,0,0,0,3,0,1,0,1,0,0,1,0,1,1,0,0,0,0,0,1,0,0,0,0,3],[0,0,0,0,3,0,1,0,0,0,1,1,0,0,0,1,0,0,0,0,0,1,1,1,0,0,3],[0,0,0,3,0,0,1,0,0,1,0,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,3],[0,0,3,0,0,0,1,1,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,1,1,1,3],[0,3,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,1,1,0,0,0,3],[3,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0,3],[3,0,0,0,1,1,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,3,0],[3,1,1,1,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,1,1,0,0,0,3,0,0],[3,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,1,0,0,1,0,0,3,0,0,0],[3,0,0,1,1,1,0,0,0,0,0,1,0,0,0,1,1,0,0,0,1,0,3,0,0,0,0],[3,0,0,0,0,1,0,0,0,0,0,1,1,0,1,0,0,1,0,1,0,3,0,0,0,0,0],[3,0,0,0,0,1,1,1,1,0,0,0,0,1,0,0,1,0,1,0,3,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,3,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,1,1,1,1,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0],[3,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0],[3,4,0,0,0,0,0,0,0,0,0,0,1,0,1,0,3,0,0,0,0,0,0,0,0,0,0],[3,4,4,0,0,0,0,0,0,0,0,1,0,1,6,3,0,0,0,0,0,0,0,0,0,0,0],[3,4,4,4,0,0,0,0,0,0,0,1,7,1,3,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0]]},jv="/assets/Open-bc45d700.png",Tv="/assets/Pathways-fa8baac1.png",Ev="/assets/Caverns-57f8e0cb.png",Cv="/assets/Chambers-c72833e5.png",Mv="/assets/Lake Base-cadaed5e.png",Av="/assets/Lakes Race-cb1400b3.png",Rv="/assets/The Wheel-5d281f5a.png",Ov="/assets/Time Moves Ever Onward-c9082887.png",Pv="/assets/Hillside Flowers-7e2294fa.png",kv="/assets/Big Nope-a0d1f9ab.png",Lv="/assets/Cross Over-108367c2.png",Dv="/assets/Island Temple-a4299b0b.png",Iv="/assets/Whirlpool-38be4ce4.png",Bv="/assets/Tri Hard-c2de4389.png",Nv="/assets/Hero's Journey-91334804.png",Fv="/assets/Royal Road-c45d9ac4.png",Uv="/assets/Long Way Around-dbc21f2e.png",Gv="/assets/Betrayal-417fa407.png",Vv="/assets/Escape Pompeii-ce51058b.png",Hv="/assets/Two Way Road-100b7ad0.png",wc=[{map:tv,image:jv,complexity:"Simple"},{map:nv,image:Tv,complexity:"Simple"},{map:gv,image:Iv,complexity:"Simple"},{map:wv,image:Uv,complexity:"Simple"},{map:_v,image:Vv,complexity:"Simple"},{map:lv,image:Mv,complexity:"Simple"},{map:cv,image:Rv,complexity:"Simple"},{map:sv,image:Ev,complexity:"Average"},{map:av,image:Cv,complexity:"Average"},{map:uv,image:Av,complexity:"Average"},{map:dv,image:Ov,complexity:"Average"},{map:hv,image:Pv,complexity:"Average"},{map:pv,image:Lv,complexity:"Average"},{map:Sv,image:Hv,complexity:"Average"},{map:mv,image:Dv,complexity:"Average"},{map:bv,image:Fv,complexity:"Average"},{map:fv,image:kv,complexity:"Complex"},{map:yv,image:Bv,complexity:"Complex"},{map:vv,image:Nv,complexity:"Complex"},{map:xv,image:Gv,complexity:"Evil"}],Wv=["Simple","Average","Complex","Evil"],zv=s=>s==="Simple"?"Average":s==="Average"?"Complex":"Evil",qv={class:"difficulty-select"},Yv={class:Jo("button-div")},Xv=["onClick"],$v={class:"button-div"},Kv=_r("h3",null,"Select other map",-1),Qv=[Kv],Zv=xl({__name:"SelectDifficulty",emits:["selectedDifficulty","reselectMap"],setup(s,{emit:n}){const t=yi(()=>{const u=[];for(const d in Ba)u.push({...Ba[d],unlocked:gt.unlockedDifficulties[d]});return u}),e=u=>{u.unlocked&&n("selectedDifficulty",u)};return(u,d)=>(Mr(),tn("div",qv,[(Mr(!0),tn(Ir,null,md(_o(t),h=>(Mr(),tn("div",Yv,[_r("button",{class:Jo(`${"button "+(h.unlocked?"":"locked ")+h.name}`),onClick:r=>e(h)},[_r("h3",null,va(h.name),1)],10,Xv)]))),256)),_r("div",$v,[_r("button",{class:"button cancel",onClick:d[0]||(d[0]=h=>n("reselectMap"))},Qv)])]))}});const Jv={key:1},e1={class:"all-maps"},t1=["onClick"],r1=["src"],n1=_r("h1",null,"<",-1),o1=[n1],s1=_r("h1",null,">",-1),i1=[s1],a1=xl({__name:"SelectMap",setup(s){const n=ws(1),t=yi(()=>(n.value-1)*6),e=yi(()=>{const m=[];for(const i of wc.slice(t.value,t.value+6))m.push({...i,unlocked:gt.unlockedMapComplexities[i.complexity]});return m}),u=ws(null),d=ws(!1),h=m=>{m.unlocked&&(u.value=m,d.value=!0)},r=()=>{u.value=null,d.value=!1},p=m=>{u.value!==null&&(d.value=!1,Qo.value=!0,n.value=0,ny(u.value,m))},f=()=>{n.value--},g=()=>{n.value++};return(m,i)=>(Mr(),tn(Ir,null,[d.value?(Mr(),Li(Zv,{key:0,onSelectedDifficulty:p,onReselectMap:r})):Bo("",!0),d.value?Bo("",!0):(Mr(),tn("div",Jv,[_r("div",e1,[(Mr(!0),tn(Ir,null,md(_o(e),o=>(Mr(),tn("div",{class:Jo(`map map-${o.complexity} ${o.unlocked?"":"locked"}`),onClick:a=>h(o)},[_r("h3",null,va(o.map.name)+" -- "+va(o.complexity),1),_r("img",{src:o.image,alt:"Map Preview",class:"map-image"},null,8,r1)],10,t1))),256)),n.value>1?(Mr(),tn("div",{key:0,class:"previous-maps maps-button",onClick:i[0]||(i[0]=o=>f())},o1)):Bo("",!0),n.value<_o(wc).length/6?(Mr(),tn("div",{key:1,class:"next-maps maps-button",onClick:i[1]||(i[1]=o=>g())},i1)):Bo("",!0)])]))],64))}});let Bl=[];const l1=()=>{_.createCanvas(_.windowWidth,_.windowHeight),_.background(_n),Bl.push(new ur(_.createVector(_.width*(1/11),_.height*(16/17)),_.width*(1/6),_.height*(1/10),"Save map",()=>{const s=p1();if(s!==!0){alert(s);return}const n=prompt("What should this map be called?","Nameless here forever more"),t={name:n,map:je.generateJsonableMap()};_.saveJSON(t,`${n}.json`,!0)},He*2,_.color(Kn)),new ur(_.createVector(_.width*(9/13),_.height*(16/17)),_.width*(2/10),_.height*(1/10),"Return to main menu",()=>{g1()},He*1.5,_.color(Kn))),je.reConstructGrid(),_.draw=()=>u1(),_.mousePressed=()=>c1(),_.doubleClicked=()=>d1(),_.keyPressed=s=>h1()},u1=()=>{_.background(_n),_.strokeWeight(1),je.show(),je.showDebug(),f1();for(const n of Bl)n.show();const s=je.getHexVectorFromXY(_.mouseX,_.mouseY);for(const n in eo){const t=eo[n],e=t.isBase||t.isSpawn?0:1;if(_.keyIsDown(t.keycode)&&je.rqVectorIsOnGrid(s,e)){const u=je.grid[s.x][s.y];_.push(),_.fill([...t.rgb,100]),_.strokeWeight(2),cr(u.pos.x,u.pos.y,je.hexSize),_.pop()}}},c1=()=>{for(const n of Bl)n.clicked()&&n.onClick();const s=je.getHexVectorFromXY(_.mouseX,_.mouseY);for(const n in eo){const t=eo[n],e=t.buildInOuterRing?0:1;if(_.keyIsDown(t.keycode)&&je.rqVectorIsOnGrid(s,e)){const u=je.grid[s.x][s.y];je.setBuilderTileType(u,parseInt(n));return}}},d1=()=>{},h1=s=>{},f1=()=>{const s=_.width*.8,n=_.width-s,t=n/100,e=_.height/100,u=e*5;_.strokeWeight(He/12),_.fill(Ol),_.stroke(Ut),_.rect(s,0,n,_.height),_.textSize(He*1.2);for(const d in eo){const h=parseInt(d),r=eo[h],p=_.createVector(s+t*15,u+e*(5+9*h));_.strokeWeight(1),_.fill(r.rgb),cr(p.x,p.y,He),_.fill(0),_.strokeWeight(0),_.textSize(He),_.text(`${r.name}: ${r.hotkey}`,p.x+t*10,p.y+He/3)}},p1=()=>{const s=[],n=[];for(const e of je.grid)for(const u of e)u.type===bt.SPAWN&&n.push(u),u.type===bt.BASE&&s.push(u);return s.length<1||n.length<1?"You need at least one base and one spawn":s.length>6||n.length>6?"Too many bases or spawns":m1(n,s)?!0:"Not all spawns can reach a base"},m1=(s,n)=>{je.resetData(),je.addAllTeleports();for(const t of s){let e=!1,u;const d=[t],h=[];for(;d.length>0;){if(u=d[0],je.hexInArray(u,n)||u.data.flooded){e=!0;break}const r=je.getNeighbors(u.r,u.q,!0);for(const p of r)je.hexInArray(p,[...h,...d])||!p.canUnit||d.push(p);d.splice(0,1),h.push(u),u.data.flooded=!0}if(!e)return!1}return!0},g1=()=>{_.createCanvas(0,0),Qo.value=!1},y1={key:0,class:"main-menu"},v1=_r("header",null,[_r("h1",null,"Hexa Towers")],-1),b1={key:0,class:"menu"},w1=xl({__name:"MainMenu",setup(s){const n=()=>{Uo.value=yl(a1)},t=()=>{l1(),Uo.value=void 0,Qo.value=!0};return(e,u)=>_o(Qo)?Bo("",!0):(Mr(),tn("div",y1,[v1,_o(Uo)===void 0?(Mr(),tn("div",b1,[_r("button",{class:"menu-button",onClick:n},"Free Play"),_r("button",{class:"menu-button",onClick:t},"Map Builder")])):Bo("",!0),(Mr(),Li(Ip(_o(Uo))))]))}});function _h(s,n){return function(){return s.apply(n,arguments)}}const{toString:Sh}=Object.prototype,{getPrototypeOf:Nl}=Object,Fl=(s=>n=>{const t=Sh.call(n);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Nn=s=>(s=s.toLowerCase(),n=>Fl(n)===s),Vi=s=>n=>typeof n===s,{isArray:is}=Array,Ds=Vi("undefined");function x1(s){return s!==null&&!Ds(s)&&s.constructor!==null&&!Ds(s.constructor)&&ro(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const jh=Nn("ArrayBuffer");function _1(s){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(s):n=s&&s.buffer&&jh(s.buffer),n}const S1=Vi("string"),ro=Vi("function"),Th=Vi("number"),Ul=s=>s!==null&&typeof s=="object",j1=s=>s===!0||s===!1,ui=s=>{if(Fl(s)!=="object")return!1;const n=Nl(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},T1=Nn("Date"),E1=Nn("File"),C1=Nn("Blob"),M1=Nn("FileList"),A1=s=>Ul(s)&&ro(s.pipe),R1=s=>{const n="[object FormData]";return s&&(typeof FormData=="function"&&s instanceof FormData||Sh.call(s)===n||ro(s.toString)&&s.toString()===n)},O1=Nn("URLSearchParams"),P1=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Is(s,n,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let e,u;if(typeof s!="object"&&(s=[s]),is(s))for(e=0,u=s.length;e<u;e++)n.call(null,s[e],e,s);else{const d=t?Object.getOwnPropertyNames(s):Object.keys(s),h=d.length;let r;for(e=0;e<h;e++)r=d[e],n.call(null,s[r],r,s)}}function Eh(s,n){n=n.toLowerCase();const t=Object.keys(s);let e=t.length,u;for(;e-- >0;)if(u=t[e],n===u.toLowerCase())return u;return null}const Ch=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Mh=s=>!Ds(s)&&s!==Ch;function el(){const{caseless:s}=Mh(this)&&this||{},n={},t=(e,u)=>{const d=s&&Eh(n,u)||u;ui(n[d])&&ui(e)?n[d]=el(n[d],e):ui(e)?n[d]=el({},e):is(e)?n[d]=e.slice():n[d]=e};for(let e=0,u=arguments.length;e<u;e++)arguments[e]&&Is(arguments[e],t);return n}const k1=(s,n,t,{allOwnKeys:e}={})=>(Is(n,(u,d)=>{t&&ro(u)?s[d]=_h(u,t):s[d]=u},{allOwnKeys:e}),s),L1=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),D1=(s,n,t,e)=>{s.prototype=Object.create(n.prototype,e),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:n.prototype}),t&&Object.assign(s.prototype,t)},I1=(s,n,t,e)=>{let u,d,h;const r={};if(n=n||{},s==null)return n;do{for(u=Object.getOwnPropertyNames(s),d=u.length;d-- >0;)h=u[d],(!e||e(h,s,n))&&!r[h]&&(n[h]=s[h],r[h]=!0);s=t!==!1&&Nl(s)}while(s&&(!t||t(s,n))&&s!==Object.prototype);return n},B1=(s,n,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=n.length;const e=s.indexOf(n,t);return e!==-1&&e===t},N1=s=>{if(!s)return null;if(is(s))return s;let n=s.length;if(!Th(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=s[n];return t},F1=(s=>n=>s&&n instanceof s)(typeof Uint8Array<"u"&&Nl(Uint8Array)),U1=(s,n)=>{const e=(s&&s[Symbol.iterator]).call(s);let u;for(;(u=e.next())&&!u.done;){const d=u.value;n.call(s,d[0],d[1])}},G1=(s,n)=>{let t;const e=[];for(;(t=s.exec(n))!==null;)e.push(t);return e},V1=Nn("HTMLFormElement"),H1=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,e,u){return e.toUpperCase()+u}),xc=(({hasOwnProperty:s})=>(n,t)=>s.call(n,t))(Object.prototype),W1=Nn("RegExp"),Ah=(s,n)=>{const t=Object.getOwnPropertyDescriptors(s),e={};Is(t,(u,d)=>{n(u,d,s)!==!1&&(e[d]=u)}),Object.defineProperties(s,e)},z1=s=>{Ah(s,(n,t)=>{if(ro(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const e=s[t];if(ro(e)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},q1=(s,n)=>{const t={},e=u=>{u.forEach(d=>{t[d]=!0})};return is(s)?e(s):e(String(s).split(n)),t},Y1=()=>{},X1=(s,n)=>(s=+s,Number.isFinite(s)?s:n),pa="abcdefghijklmnopqrstuvwxyz",_c="0123456789",Rh={DIGIT:_c,ALPHA:pa,ALPHA_DIGIT:pa+pa.toUpperCase()+_c},$1=(s=16,n=Rh.ALPHA_DIGIT)=>{let t="";const{length:e}=n;for(;s--;)t+=n[Math.random()*e|0];return t};function K1(s){return!!(s&&ro(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const Q1=s=>{const n=new Array(10),t=(e,u)=>{if(Ul(e)){if(n.indexOf(e)>=0)return;if(!("toJSON"in e)){n[u]=e;const d=is(e)?[]:{};return Is(e,(h,r)=>{const p=t(h,u+1);!Ds(p)&&(d[r]=p)}),n[u]=void 0,d}}return e};return t(s,0)},ze={isArray:is,isArrayBuffer:jh,isBuffer:x1,isFormData:R1,isArrayBufferView:_1,isString:S1,isNumber:Th,isBoolean:j1,isObject:Ul,isPlainObject:ui,isUndefined:Ds,isDate:T1,isFile:E1,isBlob:C1,isRegExp:W1,isFunction:ro,isStream:A1,isURLSearchParams:O1,isTypedArray:F1,isFileList:M1,forEach:Is,merge:el,extend:k1,trim:P1,stripBOM:L1,inherits:D1,toFlatObject:I1,kindOf:Fl,kindOfTest:Nn,endsWith:B1,toArray:N1,forEachEntry:U1,matchAll:G1,isHTMLForm:V1,hasOwnProperty:xc,hasOwnProp:xc,reduceDescriptors:Ah,freezeMethods:z1,toObjectSet:q1,toCamelCase:H1,noop:Y1,toFiniteNumber:X1,findKey:Eh,global:Ch,isContextDefined:Mh,ALPHABET:Rh,generateString:$1,isSpecCompliantForm:K1,toJSONObject:Q1};function kt(s,n,t,e,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),e&&(this.request=e),u&&(this.response=u)}ze.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Oh=kt.prototype,Ph={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Ph[s]={value:s}});Object.defineProperties(kt,Ph);Object.defineProperty(Oh,"isAxiosError",{value:!0});kt.from=(s,n,t,e,u,d)=>{const h=Object.create(Oh);return ze.toFlatObject(s,h,function(p){return p!==Error.prototype},r=>r!=="isAxiosError"),kt.call(h,s.message,n,t,e,u),h.cause=s,h.name=s.name,d&&Object.assign(h,d),h};const Z1=null;function tl(s){return ze.isPlainObject(s)||ze.isArray(s)}function kh(s){return ze.endsWith(s,"[]")?s.slice(0,-2):s}function Sc(s,n,t){return s?s.concat(n).map(function(u,d){return u=kh(u),!t&&d?"["+u+"]":u}).join(t?".":""):n}function J1(s){return ze.isArray(s)&&!s.some(tl)}const eb=ze.toFlatObject(ze,{},null,function(n){return/^is[A-Z]/.test(n)});function Hi(s,n,t){if(!ze.isObject(s))throw new TypeError("target must be an object");n=n||new FormData,t=ze.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(l,c){return!ze.isUndefined(c[l])});const e=t.metaTokens,u=t.visitor||g,d=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(n);if(!ze.isFunction(u))throw new TypeError("visitor must be a function");function f(a){if(a===null)return"";if(ze.isDate(a))return a.toISOString();if(!p&&ze.isBlob(a))throw new kt("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(a)||ze.isTypedArray(a)?p&&typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function g(a,l,c){let y=a;if(a&&!c&&typeof a=="object"){if(ze.endsWith(l,"{}"))l=e?l:l.slice(0,-2),a=JSON.stringify(a);else if(ze.isArray(a)&&J1(a)||(ze.isFileList(a)||ze.endsWith(l,"[]"))&&(y=ze.toArray(a)))return l=kh(l),y.forEach(function(x,S){!(ze.isUndefined(x)||x===null)&&n.append(h===!0?Sc([l],S,d):h===null?l:l+"[]",f(x))}),!1}return tl(a)?!0:(n.append(Sc(c,l,d),f(a)),!1)}const m=[],i=Object.assign(eb,{defaultVisitor:g,convertValue:f,isVisitable:tl});function o(a,l){if(!ze.isUndefined(a)){if(m.indexOf(a)!==-1)throw Error("Circular reference detected in "+l.join("."));m.push(a),ze.forEach(a,function(y,w){(!(ze.isUndefined(y)||y===null)&&u.call(n,y,ze.isString(w)?w.trim():w,l,i))===!0&&o(y,l?l.concat(w):[w])}),m.pop()}}if(!ze.isObject(s))throw new TypeError("data must be an object");return o(s),n}function jc(s){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(e){return n[e]})}function Gl(s,n){this._pairs=[],s&&Hi(s,this,n)}const Lh=Gl.prototype;Lh.append=function(n,t){this._pairs.push([n,t])};Lh.toString=function(n){const t=n?function(e){return n.call(this,e,jc)}:jc;return this._pairs.map(function(u){return t(u[0])+"="+t(u[1])},"").join("&")};function tb(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dh(s,n,t){if(!n)return s;const e=t&&t.encode||tb,u=t&&t.serialize;let d;if(u?d=u(n,t):d=ze.isURLSearchParams(n)?n.toString():new Gl(n,t).toString(e),d){const h=s.indexOf("#");h!==-1&&(s=s.slice(0,h)),s+=(s.indexOf("?")===-1?"?":"&")+d}return s}class rb{constructor(){this.handlers=[]}use(n,t,e){return this.handlers.push({fulfilled:n,rejected:t,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ze.forEach(this.handlers,function(e){e!==null&&n(e)})}}const Tc=rb,Ih={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nb=typeof URLSearchParams<"u"?URLSearchParams:Gl,ob=typeof FormData<"u"?FormData:null,sb=typeof Blob<"u"?Blob:null,ib=(()=>{let s;return typeof navigator<"u"&&((s=navigator.product)==="ReactNative"||s==="NativeScript"||s==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ab=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),wn={isBrowser:!0,classes:{URLSearchParams:nb,FormData:ob,Blob:sb},isStandardBrowserEnv:ib,isStandardBrowserWebWorkerEnv:ab,protocols:["http","https","file","blob","url","data"]};function lb(s,n){return Hi(s,new wn.classes.URLSearchParams,Object.assign({visitor:function(t,e,u,d){return wn.isNode&&ze.isBuffer(t)?(this.append(e,t.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},n))}function ub(s){return ze.matchAll(/\w+|\[(\w*)]/g,s).map(n=>n[0]==="[]"?"":n[1]||n[0])}function cb(s){const n={},t=Object.keys(s);let e;const u=t.length;let d;for(e=0;e<u;e++)d=t[e],n[d]=s[d];return n}function Bh(s){function n(t,e,u,d){let h=t[d++];const r=Number.isFinite(+h),p=d>=t.length;return h=!h&&ze.isArray(u)?u.length:h,p?(ze.hasOwnProp(u,h)?u[h]=[u[h],e]:u[h]=e,!r):((!u[h]||!ze.isObject(u[h]))&&(u[h]=[]),n(t,e,u[h],d)&&ze.isArray(u[h])&&(u[h]=cb(u[h])),!r)}if(ze.isFormData(s)&&ze.isFunction(s.entries)){const t={};return ze.forEachEntry(s,(e,u)=>{n(ub(e),u,t,0)}),t}return null}const db={"Content-Type":void 0};function hb(s,n,t){if(ze.isString(s))try{return(n||JSON.parse)(s),ze.trim(s)}catch(e){if(e.name!=="SyntaxError")throw e}return(t||JSON.stringify)(s)}const Wi={transitional:Ih,adapter:["xhr","http"],transformRequest:[function(n,t){const e=t.getContentType()||"",u=e.indexOf("application/json")>-1,d=ze.isObject(n);if(d&&ze.isHTMLForm(n)&&(n=new FormData(n)),ze.isFormData(n))return u&&u?JSON.stringify(Bh(n)):n;if(ze.isArrayBuffer(n)||ze.isBuffer(n)||ze.isStream(n)||ze.isFile(n)||ze.isBlob(n))return n;if(ze.isArrayBufferView(n))return n.buffer;if(ze.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let r;if(d){if(e.indexOf("application/x-www-form-urlencoded")>-1)return lb(n,this.formSerializer).toString();if((r=ze.isFileList(n))||e.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Hi(r?{"files[]":n}:n,p&&new p,this.formSerializer)}}return d||u?(t.setContentType("application/json",!1),hb(n)):n}],transformResponse:[function(n){const t=this.transitional||Wi.transitional,e=t&&t.forcedJSONParsing,u=this.responseType==="json";if(n&&ze.isString(n)&&(e&&!this.responseType||u)){const h=!(t&&t.silentJSONParsing)&&u;try{return JSON.parse(n)}catch(r){if(h)throw r.name==="SyntaxError"?kt.from(r,kt.ERR_BAD_RESPONSE,this,null,this.response):r}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ze.forEach(["delete","get","head"],function(n){Wi.headers[n]={}});ze.forEach(["post","put","patch"],function(n){Wi.headers[n]=ze.merge(db)});const Vl=Wi,fb=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pb=s=>{const n={};let t,e,u;return s&&s.split(`
`).forEach(function(h){u=h.indexOf(":"),t=h.substring(0,u).trim().toLowerCase(),e=h.substring(u+1).trim(),!(!t||n[t]&&fb[t])&&(t==="set-cookie"?n[t]?n[t].push(e):n[t]=[e]:n[t]=n[t]?n[t]+", "+e:e)}),n},Ec=Symbol("internals");function ps(s){return s&&String(s).trim().toLowerCase()}function ci(s){return s===!1||s==null?s:ze.isArray(s)?s.map(ci):String(s)}function mb(s){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let e;for(;e=t.exec(s);)n[e[1]]=e[2];return n}function gb(s){return/^[-_a-zA-Z]+$/.test(s.trim())}function ma(s,n,t,e,u){if(ze.isFunction(e))return e.call(this,n,t);if(u&&(n=t),!!ze.isString(n)){if(ze.isString(e))return n.indexOf(e)!==-1;if(ze.isRegExp(e))return e.test(n)}}function yb(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,e)=>t.toUpperCase()+e)}function vb(s,n){const t=ze.toCamelCase(" "+n);["get","set","has"].forEach(e=>{Object.defineProperty(s,e+t,{value:function(u,d,h){return this[e].call(this,n,u,d,h)},configurable:!0})})}class zi{constructor(n){n&&this.set(n)}set(n,t,e){const u=this;function d(r,p,f){const g=ps(p);if(!g)throw new Error("header name must be a non-empty string");const m=ze.findKey(u,g);(!m||u[m]===void 0||f===!0||f===void 0&&u[m]!==!1)&&(u[m||p]=ci(r))}const h=(r,p)=>ze.forEach(r,(f,g)=>d(f,g,p));return ze.isPlainObject(n)||n instanceof this.constructor?h(n,t):ze.isString(n)&&(n=n.trim())&&!gb(n)?h(pb(n),t):n!=null&&d(t,n,e),this}get(n,t){if(n=ps(n),n){const e=ze.findKey(this,n);if(e){const u=this[e];if(!t)return u;if(t===!0)return mb(u);if(ze.isFunction(t))return t.call(this,u,e);if(ze.isRegExp(t))return t.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=ps(n),n){const e=ze.findKey(this,n);return!!(e&&this[e]!==void 0&&(!t||ma(this,this[e],e,t)))}return!1}delete(n,t){const e=this;let u=!1;function d(h){if(h=ps(h),h){const r=ze.findKey(e,h);r&&(!t||ma(e,e[r],r,t))&&(delete e[r],u=!0)}}return ze.isArray(n)?n.forEach(d):d(n),u}clear(n){const t=Object.keys(this);let e=t.length,u=!1;for(;e--;){const d=t[e];(!n||ma(this,this[d],d,n,!0))&&(delete this[d],u=!0)}return u}normalize(n){const t=this,e={};return ze.forEach(this,(u,d)=>{const h=ze.findKey(e,d);if(h){t[h]=ci(u),delete t[d];return}const r=n?yb(d):String(d).trim();r!==d&&delete t[d],t[r]=ci(u),e[r]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return ze.forEach(this,(e,u)=>{e!=null&&e!==!1&&(t[u]=n&&ze.isArray(e)?e.join(", "):e)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const e=new this(n);return t.forEach(u=>e.set(u)),e}static accessor(n){const e=(this[Ec]=this[Ec]={accessors:{}}).accessors,u=this.prototype;function d(h){const r=ps(h);e[r]||(vb(u,h),e[r]=!0)}return ze.isArray(n)?n.forEach(d):d(n),this}}zi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.freezeMethods(zi.prototype);ze.freezeMethods(zi);const kn=zi;function ga(s,n){const t=this||Vl,e=n||t,u=kn.from(e.headers);let d=e.data;return ze.forEach(s,function(r){d=r.call(t,d,u.normalize(),n?n.status:void 0)}),u.normalize(),d}function Nh(s){return!!(s&&s.__CANCEL__)}function Bs(s,n,t){kt.call(this,s??"canceled",kt.ERR_CANCELED,n,t),this.name="CanceledError"}ze.inherits(Bs,kt,{__CANCEL__:!0});function bb(s,n,t){const e=t.config.validateStatus;!t.status||!e||e(t.status)?s(t):n(new kt("Request failed with status code "+t.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const wb=wn.isStandardBrowserEnv?function(){return{write:function(t,e,u,d,h,r){const p=[];p.push(t+"="+encodeURIComponent(e)),ze.isNumber(u)&&p.push("expires="+new Date(u).toGMTString()),ze.isString(d)&&p.push("path="+d),ze.isString(h)&&p.push("domain="+h),r===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function xb(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function _b(s,n){return n?s.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):s}function Fh(s,n){return s&&!xb(n)?_b(s,n):n}const Sb=wn.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let e;function u(d){let h=d;return n&&(t.setAttribute("href",h),h=t.href),t.setAttribute("href",h),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return e=u(window.location.href),function(h){const r=ze.isString(h)?u(h):h;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}();function jb(s){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return n&&n[1]||""}function Tb(s,n){s=s||10;const t=new Array(s),e=new Array(s);let u=0,d=0,h;return n=n!==void 0?n:1e3,function(p){const f=Date.now(),g=e[d];h||(h=f),t[u]=p,e[u]=f;let m=d,i=0;for(;m!==u;)i+=t[m++],m=m%s;if(u=(u+1)%s,u===d&&(d=(d+1)%s),f-h<n)return;const o=g&&f-g;return o?Math.round(i*1e3/o):void 0}}function Cc(s,n){let t=0;const e=Tb(50,250);return u=>{const d=u.loaded,h=u.lengthComputable?u.total:void 0,r=d-t,p=e(r),f=d<=h;t=d;const g={loaded:d,total:h,progress:h?d/h:void 0,bytes:r,rate:p||void 0,estimated:p&&h&&f?(h-d)/p:void 0,event:u};g[n?"download":"upload"]=!0,s(g)}}const Eb=typeof XMLHttpRequest<"u",Cb=Eb&&function(s){return new Promise(function(t,e){let u=s.data;const d=kn.from(s.headers).normalize(),h=s.responseType;let r;function p(){s.cancelToken&&s.cancelToken.unsubscribe(r),s.signal&&s.signal.removeEventListener("abort",r)}ze.isFormData(u)&&(wn.isStandardBrowserEnv||wn.isStandardBrowserWebWorkerEnv)&&d.setContentType(!1);let f=new XMLHttpRequest;if(s.auth){const o=s.auth.username||"",a=s.auth.password?unescape(encodeURIComponent(s.auth.password)):"";d.set("Authorization","Basic "+btoa(o+":"+a))}const g=Fh(s.baseURL,s.url);f.open(s.method.toUpperCase(),Dh(g,s.params,s.paramsSerializer),!0),f.timeout=s.timeout;function m(){if(!f)return;const o=kn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),l={data:!h||h==="text"||h==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:o,config:s,request:f};bb(function(y){t(y),p()},function(y){e(y),p()},l),f=null}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(e(new kt("Request aborted",kt.ECONNABORTED,s,f)),f=null)},f.onerror=function(){e(new kt("Network Error",kt.ERR_NETWORK,s,f)),f=null},f.ontimeout=function(){let a=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const l=s.transitional||Ih;s.timeoutErrorMessage&&(a=s.timeoutErrorMessage),e(new kt(a,l.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,s,f)),f=null},wn.isStandardBrowserEnv){const o=(s.withCredentials||Sb(g))&&s.xsrfCookieName&&wb.read(s.xsrfCookieName);o&&d.set(s.xsrfHeaderName,o)}u===void 0&&d.setContentType(null),"setRequestHeader"in f&&ze.forEach(d.toJSON(),function(a,l){f.setRequestHeader(l,a)}),ze.isUndefined(s.withCredentials)||(f.withCredentials=!!s.withCredentials),h&&h!=="json"&&(f.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&f.addEventListener("progress",Cc(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Cc(s.onUploadProgress)),(s.cancelToken||s.signal)&&(r=o=>{f&&(e(!o||o.type?new Bs(null,s,f):o),f.abort(),f=null)},s.cancelToken&&s.cancelToken.subscribe(r),s.signal&&(s.signal.aborted?r():s.signal.addEventListener("abort",r)));const i=jb(g);if(i&&wn.protocols.indexOf(i)===-1){e(new kt("Unsupported protocol "+i+":",kt.ERR_BAD_REQUEST,s));return}f.send(u||null)})},di={http:Z1,xhr:Cb};ze.forEach(di,(s,n)=>{if(s){try{Object.defineProperty(s,"name",{value:n})}catch{}Object.defineProperty(s,"adapterName",{value:n})}});const Mb={getAdapter:s=>{s=ze.isArray(s)?s:[s];const{length:n}=s;let t,e;for(let u=0;u<n&&(t=s[u],!(e=ze.isString(t)?di[t.toLowerCase()]:t));u++);if(!e)throw e===!1?new kt(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ze.hasOwnProp(di,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!ze.isFunction(e))throw new TypeError("adapter is not a function");return e},adapters:di};function ya(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Bs(null,s)}function Mc(s){return ya(s),s.headers=kn.from(s.headers),s.data=ga.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Mb.getAdapter(s.adapter||Vl.adapter)(s).then(function(e){return ya(s),e.data=ga.call(s,s.transformResponse,e),e.headers=kn.from(e.headers),e},function(e){return Nh(e)||(ya(s),e&&e.response&&(e.response.data=ga.call(s,s.transformResponse,e.response),e.response.headers=kn.from(e.response.headers))),Promise.reject(e)})}const Ac=s=>s instanceof kn?s.toJSON():s;function Zo(s,n){n=n||{};const t={};function e(f,g,m){return ze.isPlainObject(f)&&ze.isPlainObject(g)?ze.merge.call({caseless:m},f,g):ze.isPlainObject(g)?ze.merge({},g):ze.isArray(g)?g.slice():g}function u(f,g,m){if(ze.isUndefined(g)){if(!ze.isUndefined(f))return e(void 0,f,m)}else return e(f,g,m)}function d(f,g){if(!ze.isUndefined(g))return e(void 0,g)}function h(f,g){if(ze.isUndefined(g)){if(!ze.isUndefined(f))return e(void 0,f)}else return e(void 0,g)}function r(f,g,m){if(m in n)return e(f,g);if(m in s)return e(void 0,f)}const p={url:d,method:d,data:d,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:r,headers:(f,g)=>u(Ac(f),Ac(g),!0)};return ze.forEach(Object.keys(s).concat(Object.keys(n)),function(g){const m=p[g]||u,i=m(s[g],n[g],g);ze.isUndefined(i)&&m!==r||(t[g]=i)}),t}const Uh="1.3.4",Hl={};["object","boolean","number","function","string","symbol"].forEach((s,n)=>{Hl[s]=function(e){return typeof e===s||"a"+(n<1?"n ":" ")+s}});const Rc={};Hl.transitional=function(n,t,e){function u(d,h){return"[Axios v"+Uh+"] Transitional option '"+d+"'"+h+(e?". "+e:"")}return(d,h,r)=>{if(n===!1)throw new kt(u(h," has been removed"+(t?" in "+t:"")),kt.ERR_DEPRECATED);return t&&!Rc[h]&&(Rc[h]=!0,console.warn(u(h," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(d,h,r):!0}};function Ab(s,n,t){if(typeof s!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const e=Object.keys(s);let u=e.length;for(;u-- >0;){const d=e[u],h=n[d];if(h){const r=s[d],p=r===void 0||h(r,d,s);if(p!==!0)throw new kt("option "+d+" must be "+p,kt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new kt("Unknown option "+d,kt.ERR_BAD_OPTION)}}const rl={assertOptions:Ab,validators:Hl},zn=rl.validators;class Si{constructor(n){this.defaults=n,this.interceptors={request:new Tc,response:new Tc}}request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=Zo(this.defaults,t);const{transitional:e,paramsSerializer:u,headers:d}=t;e!==void 0&&rl.assertOptions(e,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),u!==void 0&&rl.assertOptions(u,{encode:zn.function,serialize:zn.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h;h=d&&ze.merge(d.common,d[t.method]),h&&ze.forEach(["delete","get","head","post","put","patch","common"],a=>{delete d[a]}),t.headers=kn.concat(h,d);const r=[];let p=!0;this.interceptors.request.forEach(function(l){typeof l.runWhen=="function"&&l.runWhen(t)===!1||(p=p&&l.synchronous,r.unshift(l.fulfilled,l.rejected))});const f=[];this.interceptors.response.forEach(function(l){f.push(l.fulfilled,l.rejected)});let g,m=0,i;if(!p){const a=[Mc.bind(this),void 0];for(a.unshift.apply(a,r),a.push.apply(a,f),i=a.length,g=Promise.resolve(t);m<i;)g=g.then(a[m++],a[m++]);return g}i=r.length;let o=t;for(m=0;m<i;){const a=r[m++],l=r[m++];try{o=a(o)}catch(c){l.call(this,c);break}}try{g=Mc.call(this,o)}catch(a){return Promise.reject(a)}for(m=0,i=f.length;m<i;)g=g.then(f[m++],f[m++]);return g}getUri(n){n=Zo(this.defaults,n);const t=Fh(n.baseURL,n.url);return Dh(t,n.params,n.paramsSerializer)}}ze.forEach(["delete","get","head","options"],function(n){Si.prototype[n]=function(t,e){return this.request(Zo(e||{},{method:n,url:t,data:(e||{}).data}))}});ze.forEach(["post","put","patch"],function(n){function t(e){return function(d,h,r){return this.request(Zo(r||{},{method:n,headers:e?{"Content-Type":"multipart/form-data"}:{},url:d,data:h}))}}Si.prototype[n]=t(),Si.prototype[n+"Form"]=t(!0)});const hi=Si;class Wl{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(d){t=d});const e=this;this.promise.then(u=>{if(!e._listeners)return;let d=e._listeners.length;for(;d-- >0;)e._listeners[d](u);e._listeners=null}),this.promise.then=u=>{let d;const h=new Promise(r=>{e.subscribe(r),d=r}).then(u);return h.cancel=function(){e.unsubscribe(d)},h},n(function(d,h,r){e.reason||(e.reason=new Bs(d,h,r),t(e.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}static source(){let n;return{token:new Wl(function(u){n=u}),cancel:n}}}const Rb=Wl;function Ob(s){return function(t){return s.apply(null,t)}}function Pb(s){return ze.isObject(s)&&s.isAxiosError===!0}const nl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nl).forEach(([s,n])=>{nl[n]=s});const kb=nl;function Gh(s){const n=new hi(s),t=_h(hi.prototype.request,n);return ze.extend(t,hi.prototype,n,{allOwnKeys:!0}),ze.extend(t,n,null,{allOwnKeys:!0}),t.create=function(u){return Gh(Zo(s,u))},t}const hr=Gh(Vl);hr.Axios=hi;hr.CanceledError=Bs;hr.CancelToken=Rb;hr.isCancel=Nh;hr.VERSION=Uh;hr.toFormData=Hi;hr.AxiosError=kt;hr.Cancel=hr.CanceledError;hr.all=function(n){return Promise.all(n)};hr.spread=Ob;hr.isAxiosError=Pb;hr.mergeConfig=Zo;hr.AxiosHeaders=kn;hr.formToJSON=s=>Bh(ze.isHTMLForm(s)?new FormData(s):s);hr.HttpStatusCode=kb;hr.default=hr;const Lb=hr;Lb.create({baseURL:"http://localhost:3000/",withCredentials:!0,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}});const Db=(s,n)=>{const t=s.__vccOpts||s;for(const[e,u]of n)t[e]=u;return t},Ib={components:{MainMenu:w1}};function Bb(s,n,t,e,u,d){const h=Dp("main-menu");return Mr(),Li(h)}const Nb=Db(Ib,[["render",Bb]]);F0(Nb).mount("#app");
